[{"tags": ["angular", "typescript", "scope", "settimeout", "angular2-directives"], "answers": [{"tags": [], "owner": {"reputation": 47160, "user_id": 573032, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/1nGGV.jpg?s=128&g=1", "display_name": "Roman C", "link": "https://stackoverflow.com/users/573032/roman-c"}, "is_accepted": true, "score": 1, "last_activity_date": 1478735757, "last_edit_date": 1478735757, "creation_date": 1478734769, "answer_id": 40517824, "question_id": 40517662, "link": "https://stackoverflow.com/questions/40517662/issue-with-setinterval-not-accessing-directive-function-in-angular2/40517824#40517824", "title": "Issue with setInterval() not accessing directive function in Angular2", "body": "<p>Use <code>setInterval()</code> inside the method you call </p>\n\n<pre><code>moveLeft() { // slide the elements to the left\n    setInterval(() =&gt; {\n            this.currMargin -= 1;\n            this.newMargin = this.currMargin + 'px';\n            this.renderer.setElementStyle(this.node1, 'margin-left', this.newMargin);\n    }, 100);    \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2491, "user_id": 405180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77656f0b1ea7e1a6ed0057e15fb72d1c?s=128&d=identicon&r=PG", "display_name": "Fiddles", "link": "https://stackoverflow.com/users/405180/fiddles"}, "is_accepted": false, "score": 3, "last_activity_date": 1478737932, "creation_date": 1478737932, "answer_id": 40518234, "question_id": 40517662, "link": "https://stackoverflow.com/questions/40517662/issue-with-setinterval-not-accessing-directive-function-in-angular2/40518234#40518234", "title": "Issue with setInterval() not accessing directive function in Angular2", "body": "<p>First, in your original, you are executing moveleft during your interval setup, instead of providing the function. So it will get executed when you set it up, but never again.</p>\n\n<p>ie. <code>setInterval( this.moveLeft, 100)</code> instead of <code>setInterval( this.moveLeft(), 100)</code></p>\n\n<p>But the real issue is to provide an arrow function to the setInterval, instead of the function directly, as simply giving it the function will change the context of <code>this</code> (see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions</a>) </p>\n\n<p>eg. <code>setInterval( () =&gt; { this.moveLeft(); }, 100)</code></p>\n"}], "owner": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 1, "accepted_answer_id": 40517824, "answer_count": 2, "score": 3, "last_activity_date": 1478737932, "creation_date": 1478733713, "last_edit_date": 1478735829, "question_id": 40517662, "link": "https://stackoverflow.com/questions/40517662/issue-with-setinterval-not-accessing-directive-function-in-angular2", "title": "Issue with setInterval() not accessing directive function in Angular2", "body": "<p>I'm trying to make a news ticker directive that slides the element across its parent so that you can read the string if it's too long. I'm stuck because I can't get the <code>setInterval()</code> function to call the <code>moveLeft()</code> function in its current scope, and thereby move the target element (<code>this.node1</code>) over by <code>1px</code>. If I pass the element, function, and parameters into the <code>setInterval()</code> then the the DOM isn't adjusted, because I think the element is out of scope. <strong>How can I call the <code>moveLeft()</code> function in its current scope from a <code>setInterval()</code> function?</strong> The function works fine when called outside of the <code>setInterval()</code> function.</p>\n\n<pre><code>import { Directive, ElementRef, HostListener, Input, Renderer, OnInit } from '@angular/core';\n\n@Directive({ selector: '[ticker]' })\nexport class TickerDirective implements OnInit {\n\n    currMargin: number;             // i.e.: 4\n    newMargin: string;              // i.e.: '4px'\n    currInterval: any;              // timeout function variable used to kill the timeout\n\n    container: any;                 // container element\n    node1: any;\n    node2: any;\n    tickerNodes: any[];\n\n    textValue: string;\n    @Input('text') text: string;    // display string passed in on an attribute\n\n    constructor(private el: ElementRef, private renderer: Renderer) {  }\n\n    @HostListener('mouseenter') onMouseEnter() {\n        // this is where the script is failing\n        this.currInterval = setInterval( this.moveLeft(), 100);\n    }\n\n    @HostListener('mouseleave') onMouseLeave() {\n        clearInterval(this.currInterval);\n        this.currMargin = 0;\n    }\n\n    moveLeft() { // slide the elements to the left\n        this.currMargin -= 1;\n        this.newMargin = this.currMargin + 'px';\n        this.renderer.setElementStyle(this.node1, 'margin-left', this.newMargin);\n    }\n\n    ngOnInit() { // instantiate the elements\n        this.currMargin = 0;\n        this.textValue = this.el.nativeElement.attributes[2].nodeValue; // sets the text value passed from the component to the directive through an attribute\n\n        // build the container\n        this.container = this.renderer.createElement(this.el.nativeElement, 'div');\n        this.renderer.setElementClass(this.container, 'ticker-container', true);\n\n        // create the left most element\n        this.node1 = this.renderer.createElement(this.container, 'div');\n        this.renderer.setElementClass(this.node1, 'ticker-node', true);\n        this.renderer.setText(this.node1, this.el.nativeElement.attributes[2].nodeValue);\n\n        // create the right most element\n        this.node2 = this.renderer.createElement(this.container, 'div');\n        this.renderer.setElementClass(this.node2, 'ticker-node', true);\n        this.renderer.setText(this.node2, this.el.nativeElement.attributes[2].nodeValue);\n\n        // render the elementss\n        this.tickerNodes = [this.node1, this.node2];\n        this.renderer.attachViewAfter(this.container, this.tickerNodes);\n    }\n}\n</code></pre>\n"}, {"tags": ["jquery", "angular", "typescript", "bootstrap-switch"], "comments": [{"owner": {"reputation": 47160, "user_id": 573032, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/1nGGV.jpg?s=128&g=1", "display_name": "Roman C", "link": "https://stackoverflow.com/users/573032/roman-c"}, "edited": false, "score": 0, "creation_date": 1478733631, "post_id": 40517580, "comment_id": 68276945, "body": "the value will be changed by two-way binding of the element"}, {"owner": {"reputation": 2659, "user_id": 1044858, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/72632ab377a3840f05e4f6b06ed1d6d6?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1044858/bryan"}, "reply_to_user": {"reputation": 47160, "user_id": 573032, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/1nGGV.jpg?s=128&g=1", "display_name": "Roman C", "link": "https://stackoverflow.com/users/573032/roman-c"}, "edited": false, "score": 0, "creation_date": 1478733981, "post_id": 40517580, "comment_id": 68277056, "body": "It should be, yes, but it isn&#39;t. It worked when they were simple checkboxes, but as soon as I implemented the bootstrap switch the two-way binding broke."}, {"owner": {"reputation": 2491, "user_id": 405180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77656f0b1ea7e1a6ed0057e15fb72d1c?s=128&d=identicon&r=PG", "display_name": "Fiddles", "link": "https://stackoverflow.com/users/405180/fiddles"}, "edited": false, "score": 0, "creation_date": 1478736552, "post_id": 40517580, "comment_id": 68277806, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/33791128/typescript-and-this-context-detection\">TypeScript and this context detection</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2491, "user_id": 405180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77656f0b1ea7e1a6ed0057e15fb72d1c?s=128&d=identicon&r=PG", "display_name": "Fiddles", "link": "https://stackoverflow.com/users/405180/fiddles"}, "is_accepted": true, "score": 2, "last_activity_date": 1478736247, "creation_date": 1478736247, "answer_id": 40518032, "question_id": 40517580, "link": "https://stackoverflow.com/questions/40517580/angular-2-bootstrap-switch-not-changing-value-of-variable/40518032#40518032", "title": "Angular 2: Bootstrap Switch not changing value of variable", "body": "<p>Your event handler function changes the context of <code>this</code>. Instead, you should use an arrow function, which does not change context/binding. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions</a></p>\n\n<p>Example:</p>\n\n<pre><code>$('.light-needed').on('switchChange.bootstrapSwitch', (event:any, state:any) =&gt; {\n        if (state) {  \n            console.log('true');\n            this.LightNeeded= true;\n        } else {  \n            console.log('false');\n            this.LightNeeded= false;\n        };\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 360, "user_id": 7624011, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-v98SVmFoJsc/AAAAAAAAAAI/AAAAAAAACUg/4vz5ssBXgYY/photo.jpg?sz=128", "display_name": "Julio Guerra", "link": "https://stackoverflow.com/users/7624011/julio-guerra"}, "is_accepted": false, "score": 0, "last_activity_date": 1499783935, "creation_date": 1499783935, "answer_id": 45037687, "question_id": 40517580, "link": "https://stackoverflow.com/questions/40517580/angular-2-bootstrap-switch-not-changing-value-of-variable/45037687#45037687", "title": "Angular 2: Bootstrap Switch not changing value of variable", "body": "<p>Maybe is to late but I made a component for angular2+ called  <a href=\"https://www.npmjs.com/package/jw-bootstrap-switch-ng2\" rel=\"nofollow noreferrer\">jw-boostrap-switch-ng2</a> if anyone want to check it out.</p>\n\n<p>Is better solution to implement a component because you don't have to worry about JQUERY.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9159324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820d3b7332b7e4081a2689d39e9f0082?s=128&d=identicon&r=PG", "display_name": "Ramazan Ayvaz", "link": "https://stackoverflow.com/users/9159324/ramazan-ayvaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1514757054, "creation_date": 1514757054, "answer_id": 48045885, "question_id": 40517580, "link": "https://stackoverflow.com/questions/40517580/angular-2-bootstrap-switch-not-changing-value-of-variable/48045885#48045885", "title": "Angular 2: Bootstrap Switch not changing value of variable", "body": "<p>It's all about function scoping. <code>this</code> keyword inside your <code>changeBootstrapSwitchValues()</code> function refers to JQuery object. You can fix this using following technique;</p>\n\n<pre><code>changeBootstrapSwitchValues() {\nlet self = this;\n    $('.light-needed').on('switchChange.bootstrapSwitch', function (event:any, state:any) {\n        if (state) {  \n            console.log('true');\n            //this.LightNeeded= true;\n            self.LightNeeded= true;\n        } else {  \n            console.log('false');\n            //this.LightNeeded= false;\n            self.LightNeeded= false;\n        };\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 2659, "user_id": 1044858, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/72632ab377a3840f05e4f6b06ed1d6d6?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1044858/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1598, "favorite_count": 1, "accepted_answer_id": 40518032, "answer_count": 3, "score": 0, "last_activity_date": 1514757054, "creation_date": 1478733223, "last_edit_date": 1478734202, "question_id": 40517580, "link": "https://stackoverflow.com/questions/40517580/angular-2-bootstrap-switch-not-changing-value-of-variable", "title": "Angular 2: Bootstrap Switch not changing value of variable", "body": "<p>I'm using bootstap switches for checkboxes in my Angular 2 application. When you click on the switch, I want the value of my <code>LightNeeded</code> variable in my class to change along with it. I have the following code:    </p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;input class=\"bootstrap-switch light-needed\" name=\"LightNeeded\" type=\"checkbox\" [(ngModel)]=\"LightNeeded\"&gt;\n</code></pre>\n\n<p>TypeScript file:</p>\n\n<pre><code>LightNeeded: boolean;\n\n ngOnInit(): void {        \n    // Invoke bootstrap switches\n    $('.bootstrap-switch').bootstrapSwitch({\n        onText: \"Yes\",\n        offText: \"No\"\n    });\n    this.changeBootstrapSwitchValues();\n}\n\nchangeBootstrapSwitchValues() {\n    $('.light-needed').on('switchChange.bootstrapSwitch', function (event:any, state:any) {\n        if (state) {  \n            console.log('true');\n            this.LightNeeded= true;\n        } else {  \n            console.log('false');\n            this.LightNeeded= false;\n        };\n    });\n}\n</code></pre>\n\n<p>When switch is true, it successfully logs true to the console. When it is false, it successfully logs false to the console. However, it never changes the value of my <code>LightNeeded</code> variable.</p>\n\n<p>When I hover over <code>this</code> of <code>this.LightNeeded</code>, I get the following warning:</p>\n\n<blockquote>\n  <p>suspicious 'this' usage: in current context 'this' refers to a local\n  function, not to a containing class.</p>\n</blockquote>\n\n<p>How can I get <code>this</code> to work the way I am intending and change the value of my <code>LightNeeded</code> variable? I'm open to taking other approaches that make sense too. I tried adding <code>[attr.checked]=\"LightNeeded? true : null\"</code> to my input, but it didn't work.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The two-way binding from adding <code>[(ngModel)]=\"LightNeeded\"</code> worked when it was a simple checkbox, but for some reason the bootstrap switch plugin breaks that two-way binding. Other plugins such as JQuery Inputmask and JQuery UI Datepicker also break two-way binding.</p>\n"}, {"tags": ["serialization", "typescript", "processing-efficiency", "memory-efficient", "int32"], "comments": [{"owner": {"reputation": 2905, "user_id": 2229538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dLCR9.png?s=128&g=1", "display_name": "Misaz", "link": "https://stackoverflow.com/users/2229538/misaz"}, "edited": false, "score": 0, "creation_date": 1478757949, "post_id": 40517146, "comment_id": 68282757, "body": "It is not good idea. For example: Javascript don&#39;t support operator overloading, that means every operation with numbers must be done by methods...."}, {"owner": {"reputation": 589, "user_id": 1541961, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/82c9e5fdabadf528794ea33c44624b61?s=128&d=identicon&r=PG", "display_name": "gabomgp", "link": "https://stackoverflow.com/users/1541961/gabomgp"}, "reply_to_user": {"reputation": 2905, "user_id": 2229538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dLCR9.png?s=128&g=1", "display_name": "Misaz", "link": "https://stackoverflow.com/users/2229538/misaz"}, "edited": false, "score": 0, "creation_date": 1478780684, "post_id": 40517146, "comment_id": 68295233, "body": "the probem with operator overloading is&#39;nt too important. If i can use the native data types, maybe with webassembly integration or something..."}], "owner": {"reputation": 589, "user_id": 1541961, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/82c9e5fdabadf528794ea33c44624b61?s=128&d=identicon&r=PG", "display_name": "gabomgp", "link": "https://stackoverflow.com/users/1541961/gabomgp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478732171, "creation_date": 1478730934, "last_edit_date": 1478732171, "question_id": 40517146, "link": "https://stackoverflow.com/questions/40517146/most-efficent-way-of-represent-and-use-fields-of-native-numeric-types-in-typescr", "title": "Most efficent way of represent and use fields of native numeric types in typescript for browser and nodejs", "body": "<p>I want to write a library in typescript that serialize/deserialize native numeric types, among others data types. The idea is to have a class as it:</p>\n\n<pre><code>class Rectangle\n{\n    x: i32\n    y: i32\n    width: u32\n    height: u32\n}\n</code></pre>\n\n<p>And serialize it to binary, then deserialize it. I want  the value deserialized dont lose precision, and  (if posible) to be efficent in memory and processor usage. I want the fields to be type-safe.</p>\n\n<p>Currently, my i32 and u32 types are:</p>\n\n<pre><code>interface u32\n{\n    value: number;\n}\n\ninterface i32\n{\n    value: number;\n}\n</code></pre>\n\n<p>That is type safe, but not perfomant (the operations over value are using doubles not native integer of 32 bits) or precise (doubles not integers).</p>\n\n<p>Then, is there any type-safe, efficent and both server/browser compatible manner of use numeric native data types?</p>\n\n<p>P.D. Sorry my english.</p>\n"}, {"tags": ["angular", "typescript", "twitter-bootstrap-3"], "answers": [{"tags": [], "owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "is_accepted": true, "score": 1, "last_activity_date": 1478733252, "last_edit_date": 1478733252, "creation_date": 1478732612, "answer_id": 40517472, "question_id": 40516903, "link": "https://stackoverflow.com/questions/40516903/angular2-modal-confirmation-dialog-via-di-not-shown/40517472#40517472", "title": "Angular2 modal confirmation dialog via DI not shown", "body": "<p>So, the actual issue here, from what I can tell with the plunker you provided, is that you aren't changing the display value of the element's style from <code>none</code> to one where it will display.</p>\n\n<p>To do so, add this line to the end of your <code>show</code> function:</p>\n\n<pre><code>    this._confirmElement.style.display = 'block';\n</code></pre>\n\n<p>Plunker forked from yours:\n<a href=\"http://plnkr.co/edit/b3inbVhKK5PzV6NdQngq?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/b3inbVhKK5PzV6NdQngq?p=preview</a></p>\n\n<p>As a suggestion, you can use ViewChild and ElementRef along with template variable naming to make things a little more strongly typed and ditch your ngOnInit assignments.</p>\n\n<pre><code>&lt;div #myModal&gt;\n@ViewChild('myModal') _confirmElement: ElementRef;\n</code></pre>\n"}], "owner": {"reputation": 4109, "user_id": 632116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f212eab3236d816ea152f326b9280ca2?s=128&d=identicon&r=PG", "display_name": "Naftis", "link": "https://stackoverflow.com/users/632116/naftis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3344, "favorite_count": 0, "accepted_answer_id": 40517472, "answer_count": 1, "score": 0, "last_activity_date": 1478733252, "creation_date": 1478729612, "question_id": 40516903, "link": "https://stackoverflow.com/questions/40516903/angular2-modal-confirmation-dialog-via-di-not-shown", "title": "Angular2 modal confirmation dialog via DI not shown", "body": "<p><strong>Repro</strong>: <a href=\"http://plnkr.co/edit/YLOf2BLMi93Jg5yOgA96\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/YLOf2BLMi93Jg5yOgA96</a></p>\n\n<p>I'm trying to use a simple confirmation modal for my angular2 app by adapting the code found at <a href=\"http://koscielniak.me/post/2016/03/angular2-confirm-dialog-component/\" rel=\"nofollow noreferrer\">http://koscielniak.me/post/2016/03/angular2-confirm-dialog-component/</a> to use Bootstrap styles rather than material design.</p>\n\n<p>I like the idea behind this confirmation dialog, because it is simple and Angular2-oriented: you just inject a service in your component to be able to invoke the confirmation dialog, and get the result back via a promise. The service is just:</p>\n\n<pre><code>export class ConfirmService {\n    public activate: (message?: string, title?: string) =&gt; Promise&lt;boolean&gt;;\n}\n</code></pre>\n\n<p>The confirmation dialog is used through this service. When injected in the confirm component, the <code>activate</code> function of this service is bound to the corresponding function in that component. The component is in charge of manipulating the DOM to show the dialog and get the result back (via a Promise). </p>\n\n<p>Here is the component's constructor:</p>\n\n<pre><code>constructor(confirmService: ConfirmService) {\n    confirmService.activate = this.activate.bind(this);\n}\n</code></pre>\n\n<p>This way, we must only:</p>\n\n<ol>\n<li>add the component to the root app component's template, so that it can be used throughout the components tree.</li>\n<li>inject this service to use it anywhere.</li>\n</ol>\n\n<p>Now this seems to work and debugging I can see that the bound component's function is invoked, and the DOM elements references (got via <code>document.getElementById</code>, as in the original code as I tried to minimize my changes; I suppose using a bound <code>@ViewChild</code> property would be preferable) are not null. Yet, the dialog is not shown when its <code>opacity</code> is set to 1, nor any error appears in the console. You can easily see it in the Plunker quoted at the top of this post. Any suggestion?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "inheritance"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1478754506, "post_id": 40516837, "comment_id": 68281821, "body": "Check this question <a href=\"http://stackoverflow.com/questions/38153962/issue-with-binding-and-viewchild\" title=\"issue with binding and viewchild\">stackoverflow.com/questions/38153962/&hellip;</a>"}, {"owner": {"reputation": 61, "user_id": 5273968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caae7a05a2a627476eb2916a63f9ab2c?s=128&d=identicon&r=PG&f=1", "display_name": "Nebojsa Kurjakov", "link": "https://stackoverflow.com/users/5273968/nebojsa-kurjakov"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1478884523, "post_id": 40516837, "comment_id": 68344307, "body": "Thanks yurzui! I&#39;ve seen the post from Thierry Templier, but it seems that I haven&#39;t read it carefully at the time. It&#39;s a shame that in order to use inheritance for ang2 components you have to use reflection and some &quot;tricks&quot;..."}], "answers": [{"tags": [], "owner": {"reputation": 688, "user_id": 1683040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb6c21cb3816cc16dac2735c87c9eb2?s=128&d=identicon&r=PG", "display_name": "LeonardoX", "link": "https://stackoverflow.com/users/1683040/leonardox"}, "is_accepted": false, "score": 0, "last_activity_date": 1572868283, "creation_date": 1572868283, "answer_id": 58692890, "question_id": 40516837, "link": "https://stackoverflow.com/questions/40516837/input-properties-in-inherited-angular-2-components/58692890#58692890", "title": "Input properties in inherited angular 2 components", "body": "<p>Maybe in old Angular versions this was a p.i.a., but now it's very easy. See <a href=\"https://coryrylan.com/blog/angular-component-inheritance-and-template-swapping\" rel=\"nofollow noreferrer\">this post</a></p>\n"}], "owner": {"reputation": 61, "user_id": 5273968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caae7a05a2a627476eb2916a63f9ab2c?s=128&d=identicon&r=PG&f=1", "display_name": "Nebojsa Kurjakov", "link": "https://stackoverflow.com/users/5273968/nebojsa-kurjakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1352, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1572868283, "creation_date": 1478729307, "last_edit_date": 1537727302, "question_id": 40516837, "link": "https://stackoverflow.com/questions/40516837/input-properties-in-inherited-angular-2-components", "title": "Input properties in inherited angular 2 components", "body": "<p>I'm trying to implement components in angular 2 by inheriting some base class which has some Input properties (I've used <a href=\"https://stackoverflow.com/questions/36063627/angular2-and-class-inheritance-support\">this example</a> as a guide for implementing inheritance for angular 2 components).</p>\n\n<p><strong>Simplified Example</strong></p>\n\n<pre><code>export class ComponentBase {\n  @Input() text: string = \"base\";\n}\n\n@Component({\n  selector: \"derived-comp\",\n  templateUrl: \"derived-comp.template.html\",\n  providers: [\n    { provide: ComponentBase, useExisting: forwardRef(() =&gt; DerivedComponent) }\n  ]\n})\nexport class DerivedComponent extends ComponentBase {\n  @Input() dummy: number;\n}\n</code></pre>\n\n<p>It all works as expected, until I add a new Input property in derived component (dummy, in the provided sample). When I do that, all of the Input properties defined in base class become invisible in runtime (although everything is ok at compile-time), and there's an error in browser console saying that those inputs don't exist: </p>\n\n<blockquote>\n  <p>Can't bind to 'text' since it isn't a known property of\n  'derived-comp.'</p>\n</blockquote>\n\n<p>Has anyone had a similar problem with component inheritance in angular 2? Does anyone have a suggestion on how to overcome it (other than copy-paste of the code)?</p>\n"}, {"tags": ["javascript", "angularjs", "angular", "typescript"], "comments": [{"owner": {"reputation": 5865, "user_id": 5298696, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Lk3Kq_mN2c/AAAAAAAAAAI/AAAAAAAAAEQ/4UXPTXc6z6U/photo.jpg?sz=128", "display_name": "CollinD", "link": "https://stackoverflow.com/users/5298696/collind"}, "edited": false, "score": 1, "creation_date": 1478728693, "post_id": 40516686, "comment_id": 68275089, "body": "To clarify, <code>fillStyle</code> is not undefined, <code>ctx</code> is."}, {"owner": {"reputation": 2079, "user_id": 3896921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZqVMl.png?s=128&g=1", "display_name": "Polochon", "link": "https://stackoverflow.com/users/3896921/polochon"}, "edited": false, "score": 0, "creation_date": 1478728770, "post_id": 40516686, "comment_id": 68275109, "body": "Are you sure that the init method is called before the fadeOut one?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5762337"}, "is_accepted": false, "score": 0, "last_activity_date": 1478728893, "creation_date": 1478728893, "answer_id": 40516747, "question_id": 40516686, "link": "https://stackoverflow.com/questions/40516686/why-is-fillstyle-undefined/40516747#40516747", "title": "Why is fillStyle undefined?", "body": "<p>With the code I can see here your init() won't be called. </p>\n\n<ol>\n<li><p>Name the method: ngOnInit()</p></li>\n<li><p>add implements OnInit to: export class CanvasService implements OnInit</p></li>\n<li>Add import Statement for OnInit: import{Injectable, OnInit}</li>\n<li>Check if your service is listed in the providers list in app.module.ts</li>\n</ol>\n"}], "owner": {"reputation": 1987, "user_id": 2453687, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5e29b26628de252b46e08307345a55b6?s=128&d=identicon&r=PG", "display_name": "Justin Young", "link": "https://stackoverflow.com/users/2453687/justin-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 959, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478728893, "creation_date": 1478728581, "question_id": 40516686, "link": "https://stackoverflow.com/questions/40516686/why-is-fillstyle-undefined", "title": "Why is fillStyle undefined?", "body": "<p>Working on an angular 2 project that draws into an html 5 canvas.  The main functionality is that the users mouse position is drawn onto the screen and slowly disappears (gets covered over by semi transparent rectangles)</p>\n\n<p>Right now when I run the script I get this error:</p>\n\n<blockquote>\n  <p>Cannot set property 'fillStyle' of undefined</p>\n</blockquote>\n\n<p><strong>What am I doing wrong?</strong></p>\n\n<pre><code>interface mouseInterface {\n  previousX: number;\n  previousY: number;\n}\n\nimport {Injectable} from '@angular/core';\n\n@Injectable()\nexport class CanvasService {\n\n  context: CanvasRenderingContext2D;\n  canvas: any = null;\n\n  init(canvas) {\n    this.canvas = canvas;\n    this.canvas.width = window.innerWidth;\n    this.canvas.height = window.innerHeight;\n    this.canvas.style = 'border:solid 1px red;'\n    this.context = canvas.getContext(\"2d\");\n    this.fadeOut();\n\n  }\n\n  fadeOut() {\n    let ctx  = this.context;\n    ctx.fillStyle = \"rgba(255,255,255,.2)\";\n    ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    setTimeout(this.fadeOut, 100);\n  }\n\n  draw(data) {\n    //does drawing behavior based on mouse position\n  }\n\n}\n</code></pre>\n"}, {"tags": ["url", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 5250209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df0f5892fc83e8adafb51a44edb397a5?s=128&d=identicon&r=PG&f=1", "display_name": "Kashyap", "link": "https://stackoverflow.com/users/5250209/kashyap"}, "edited": false, "score": 0, "creation_date": 1478791420, "post_id": 40520485, "comment_id": 68302228, "body": "Thanks for your reply, but I don&#39;t want to redirect to login or some page. I want to clear cache when user navigates from page1 to this page 2 and I want to retain cache when navigated from other pages to this page."}, {"owner": {"reputation": 133, "user_id": 5250209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df0f5892fc83e8adafb51a44edb397a5?s=128&d=identicon&r=PG&f=1", "display_name": "Kashyap", "link": "https://stackoverflow.com/users/5250209/kashyap"}, "edited": false, "score": 0, "creation_date": 1478791572, "post_id": 40520485, "comment_id": 68302321, "body": "When canActivate gets executed, the page url is still the previous page. so I was able to get the url by window.location.href. But want to see if there is Angular way of doing this."}, {"owner": {"reputation": 2691, "user_id": 2036977, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2181a4e3e9e26e568bc73c0496a109fe?s=128&d=identicon&r=PG", "display_name": "Vinay Pandya", "link": "https://stackoverflow.com/users/2036977/vinay-pandya"}, "reply_to_user": {"reputation": 133, "user_id": 5250209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df0f5892fc83e8adafb51a44edb397a5?s=128&d=identicon&r=PG&f=1", "display_name": "Kashyap", "link": "https://stackoverflow.com/users/5250209/kashyap"}, "edited": false, "score": 0, "creation_date": 1478791847, "post_id": 40520485, "comment_id": 68302537, "body": "state.url will give pervious url.u want current url user ActivatedrouteSnapshot &quot;snapshot&quot; property."}], "tags": [], "owner": {"reputation": 2691, "user_id": 2036977, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2181a4e3e9e26e568bc73c0496a109fe?s=128&d=identicon&r=PG", "display_name": "Vinay Pandya", "link": "https://stackoverflow.com/users/2036977/vinay-pandya"}, "is_accepted": false, "score": 9, "last_activity_date": 1478755498, "creation_date": 1478755498, "answer_id": 40520485, "question_id": 40516583, "link": "https://stackoverflow.com/questions/40516583/angular-2-how-do-i-get-navigated-from-url-in-canactivate-gaurd/40520485#40520485", "title": "Angular 2 - How do I get navigated from url in canactivate gaurd", "body": "<p>First doit like this: it will give you a URL:</p>\n\n<pre><code>canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n      console.log(state.url);\n} \n</code></pre>\n\n<p>if you want to redirect user to from which url he/she came from you can do it like this: for information read <a href=\"https://angular.io/docs/ts/latest/guide/router.html\" rel=\"noreferrer\">official tutorial docs</a> under <strong>TEACH AUTHGUARD TO AUTHENTICATE</strong> section.</p>\n\n<pre><code>canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n        let url: string = state.url;\n\n        return this.checkLogin(url);\n      }\n\n      checkLogin(url: string): boolean {\n        if (this.authService.isLoggedIn) { return true; }\n\n        // Store the attempted URL for redirecting\n        this.authService.redirectUrl = url;\n\n        // Navigate to the login page with extras\n        this.router.navigate(['/login']);\n        return false;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4750, "user_id": 4367683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee4128897e5b55ba4c43cb5ac1c3206e?s=128&d=identicon&r=PG", "display_name": "Machado", "link": "https://stackoverflow.com/users/4367683/machado"}, "edited": false, "score": 1, "creation_date": 1568729587, "post_id": 54693623, "comment_id": 102362029, "body": "Its important to be aware that <code>route.url</code> is a <code>UrlSegment[]</code> type with the next path and the <code>state.url</code> is a string with query params and everything."}], "tags": [], "owner": {"reputation": 61, "user_id": 5440792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aef3713e024e07eff11ce669c6bb236?s=128&d=identicon&r=PG&f=1", "display_name": "Maniac", "link": "https://stackoverflow.com/users/5440792/maniac"}, "is_accepted": false, "score": 6, "last_activity_date": 1550166048, "last_edit_date": 1550166048, "creation_date": 1550157383, "answer_id": 54693623, "question_id": 40516583, "link": "https://stackoverflow.com/questions/40516583/angular-2-how-do-i-get-navigated-from-url-in-canactivate-gaurd/54693623#54693623", "title": "Angular 2 - How do I get navigated from url in canactivate gaurd", "body": "<p>I was trying to find the answer to this question as well, and finally found it. In the constructor for your guard class, you need (private router: Router); then in your canActivate guard, you can use this.router.url to check the URL you are coming from:</p>\n\n<pre><code>export class StatusGuard implements CanActivate {\n    constructor(private router: Router) { }\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n        console.log(`route ${route.url}`); // the url you are going to\n        console.log(`state ${state.url}`); // the url you are going to\n        console.log(`router ${this.router.url}`); // the url you are coming from\n        return true;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 5250209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df0f5892fc83e8adafb51a44edb397a5?s=128&d=identicon&r=PG&f=1", "display_name": "Kashyap", "link": "https://stackoverflow.com/users/5250209/kashyap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5230, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1550166048, "creation_date": 1478728126, "question_id": 40516583, "link": "https://stackoverflow.com/questions/40516583/angular-2-how-do-i-get-navigated-from-url-in-canactivate-gaurd", "title": "Angular 2 - How do I get navigated from url in canactivate gaurd", "body": "<p>I have page1 and page2. I added canActivate gaurd on page2 route and want to know in the if I came from page1? How do I do that? </p>\n\n<pre><code>canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    //If from Page 1 { clearCache() }\n    return true;\n    }\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 47160, "user_id": 573032, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/1nGGV.jpg?s=128&g=1", "display_name": "Roman C", "link": "https://stackoverflow.com/users/573032/roman-c"}, "edited": false, "score": 0, "creation_date": 1478727895, "post_id": 40516500, "comment_id": 68274756, "body": "What do you mean by parent?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1478728021, "post_id": 40516500, "comment_id": 68274816, "body": "Using an output. See <a href=\"https://angular.io/docs/js/latest/guide/template-syntax.html#!#inputs-outputs\" rel=\"nofollow noreferrer\">angular.io/docs/js/latest/guide/&hellip;</a>. <code>&lt;child (contentHasChanged)=&quot;doSomething()&quot;&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1210, "user_id": 1071439, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7bd9c238a038fe01c2a965db60e2b607?s=128&d=identicon&r=PG", "display_name": "bokkie", "link": "https://stackoverflow.com/users/1071439/bokkie"}, "edited": false, "score": 2, "creation_date": 1602266024, "post_id": 40516734, "comment_id": 113676648, "body": "just a small remark regarding the naming. The convention in the <a href=\"https://angular.io/guide/styleguide#dont-prefix-output-properties\" rel=\"nofollow noreferrer\">Angular coding style guide - Don&#39;t prefix output properties</a> is that the output is named without &#39;on&#39;, so in this case it&#39;s gonna be &quot;statusChanged&quot; and the handler &quot;onStatusChanged()&quot;."}, {"owner": {"reputation": 476, "user_id": 3972886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8641009de9f2188eaf4e8ddbfa770c52?s=128&d=identicon&r=PG&f=1", "display_name": "jirig", "link": "https://stackoverflow.com/users/3972886/jirig"}, "reply_to_user": {"reputation": 1210, "user_id": 1071439, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7bd9c238a038fe01c2a965db60e2b607?s=128&d=identicon&r=PG", "display_name": "bokkie", "link": "https://stackoverflow.com/users/1071439/bokkie"}, "edited": false, "score": 0, "creation_date": 1616145368, "post_id": 40516734, "comment_id": 117916241, "body": "@bokkie I updated the answer, good catch."}], "tags": [], "owner": {"reputation": 476, "user_id": 3972886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8641009de9f2188eaf4e8ddbfa770c52?s=128&d=identicon&r=PG&f=1", "display_name": "jirig", "link": "https://stackoverflow.com/users/3972886/jirig"}, "is_accepted": true, "score": 26, "last_activity_date": 1616145278, "last_edit_date": 1616145278, "creation_date": 1478728848, "answer_id": 40516734, "question_id": 40516500, "link": "https://stackoverflow.com/questions/40516500/how-to-notify-parent-about-change-in-child-component/40516734#40516734", "title": "How to notify parent about change in child component?", "body": "<p>Simply by using <code>EventEmitter</code> in child component (this example works with click event, you can emit the event whenever you want to).</p>\n<pre><code>@Component({\n  selector: 'child-component',\n  template: `\n    &lt;button (click)=&quot;changeState(State.FINISHED)&quot;&gt;Finish&lt;/button&gt;\n  `\n})\nexport class ChildComponent {\n  @Output() stateChanged = new EventEmitter&lt;State&gt;();\n\n  changeState(state: State) {\n    this.stateChanged.emit(state);\n    ...\n  }\n}\n\n@Component({\n  selector: 'parent-component',\n  template: `\n    &lt;child-component\n      (stateChanged)=&quot;onStateChange($event)&quot;&gt;\n    &lt;/child-component&gt;\n  `\n})\nexport class ParentComponent {\n  onStateChange(state: State) {\n    ...\n  }\n}\n</code></pre>\n<p>When you click on the <code>Finish</code> button, it calls the <code>changeState</code> method, where the <code>stateChange</code> event is emited. It can be listened to as seen in parent component's template. This will call the <code>onStateChange</code> method where you react to the event however you want to.</p>\n<p>See\n<a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#child-to-parent\" rel=\"nofollow noreferrer\">Component Interaction</a>\narticle in <a href=\"https://angular.io/docs/ts/latest/\" rel=\"nofollow noreferrer\">Angular.io docs</a> for more info</p>\n"}], "owner": {"reputation": 143, "user_id": 6333794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06850e9acb56f5df2ab76d07f34eba5b?s=128&d=identicon&r=PG&f=1", "display_name": "andrew554", "link": "https://stackoverflow.com/users/6333794/andrew554"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8271, "favorite_count": 0, "accepted_answer_id": 40516734, "answer_count": 1, "score": 13, "last_activity_date": 1616145278, "creation_date": 1478727699, "last_edit_date": 1478727971, "question_id": 40516500, "link": "https://stackoverflow.com/questions/40516500/how-to-notify-parent-about-change-in-child-component", "title": "How to notify parent about change in child component?", "body": "<p>I have a child component with this template:</p>\n\n<pre><code>&lt;p *ngIf=\"user != null\" &gt;\n    Id: {{user.id}}&lt;br&gt;\n    Name: {{user.firstName}} {{user.lastName}}&lt;br&gt;\n    Nick: {{user.nickname}}&lt;br&gt;\n    Gender: {{user.gender}}&lt;br&gt;\n    Birthday: {{user.birthday}}&lt;br&gt;\n    Last login: {{user.lastUpdateDate}}&lt;br&gt;\n    Registered: {{user.registrationDate}}&lt;br&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>I get user from server using http request, so when data is loaded, user is shown.</p>\n\n<p>How can I notify parent component that data was loaded and shown?</p>\n"}, {"tags": ["javascript", "typescript", "overloading", "optional-parameters"], "answers": [{"comments": [{"owner": {"reputation": 1959, "user_id": 2520530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUfpY.jpg?s=128&g=1", "display_name": "Erik Cupal", "link": "https://stackoverflow.com/users/2520530/erik-cupal"}, "edited": false, "score": 0, "creation_date": 1478811338, "post_id": 40517945, "comment_id": 68313187, "body": "Ahh, thanks a lot! My bad, I was too lazy to read everything in the Typescript Handbook, therefore I skipped the user defined type guards.."}, {"owner": {"reputation": 1959, "user_id": 2520530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUfpY.jpg?s=128&g=1", "display_name": "Erik Cupal", "link": "https://stackoverflow.com/users/2520530/erik-cupal"}, "edited": false, "score": 0, "creation_date": 1478812565, "post_id": 40517945, "comment_id": 68313788, "body": "Just one more question. It looks that unless the type is an interface, I can use <code>instanceof</code> to check the type, right? I don&#39;t have to create own type guards"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 1959, "user_id": 2520530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUfpY.jpg?s=128&g=1", "display_name": "Erik Cupal", "link": "https://stackoverflow.com/users/2520530/erik-cupal"}, "edited": false, "score": 0, "creation_date": 1478813508, "post_id": 40517945, "comment_id": 68314220, "body": "Yes, <code>instanceof</code> and <code>typeof</code> are &quot;type guards&quot;, while having your own functions is &quot;user defined type guards&quot;. I assumed that you have interfaces, my bad."}, {"owner": {"reputation": 1959, "user_id": 2520530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUfpY.jpg?s=128&g=1", "display_name": "Erik Cupal", "link": "https://stackoverflow.com/users/2520530/erik-cupal"}, "edited": false, "score": 0, "creation_date": 1478815233, "post_id": 40517945, "comment_id": 68314954, "body": "No problem, you helped me a lot :)."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1478735531, "creation_date": 1478735531, "answer_id": 40517945, "question_id": 40515656, "link": "https://stackoverflow.com/questions/40515656/typescript-method-overloading-with-one-parameter-of-different-type-non-primitiv/40517945#40517945", "title": "Typescript method overloading with one parameter of different type (non-primitive)", "body": "<p>You can have functions that check whether a value is of a certain type, and typescript has the notion of <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">user defined type guards</a>:</p>\n\n<pre><code>interface TypeA {\n    x: string;\n}\nfunction isTypeA(value: any): value is TypeA {\n    return Object.keys(value).length === 1 &amp;&amp; typeof value.x === \"string\";\n}\n\ninterface TypeB {\n    y: number;\n}\nfunction isTypeB(value: any): value is TypeB {\n    return Object.keys(value).length === 1 &amp;&amp; typeof value.y === \"number\";\n}\n\nfunction doSomething(typeA: TypeA);\nfunction doSomething(typeB: TypeB);\nfunction doSomething(type: TypeA | TypeB) {\n    if (isTypeA(type)) {\n        console.log(type.x);\n    } else {\n        console.log(type.y);\n    }\n}\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20TypeA%20%7B%0A%20%20%20%20x%3A%20string%3B%0A%7D%0Afunction%20isTypeA(value%3A%20any)%3A%20value%20is%20TypeA%20%7B%0A%20%20%20%20return%20Object.keys(value).length%20%3D%3D%3D%201%20%26%26%20typeof%20value.x%20%3D%3D%3D%20%22string%22%3B%0A%7D%0A%0Ainterface%20TypeB%20%7B%0A%20%20%20%20y%3A%20number%3B%0A%7D%0Afunction%20isTypeB(value%3A%20any)%3A%20value%20is%20TypeB%20%7B%0A%20%20%20%20return%20Object.keys(value).length%20%3D%3D%3D%201%20%26%26%20typeof%20value.y%20%3D%3D%3D%20%22number%22%3B%0A%7D%0A%0Afunction%20doSomething(typeA%3A%20TypeA)%3B%0Afunction%20doSomething(typeB%3A%20TypeB)%3B%0Afunction%20doSomething(type%3A%20TypeA%20%7C%20TypeB)%20%7B%0A%20%20%20%20if%20(isTypeA(type))%20%7B%0A%20%20%20%20%20%20%20%20console.log(type.x)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20console.log(type.y)%3B%0A%20%20%20%20%7D%0A%7D\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n\n<p>In your example, as the passed value can be only of <code>TypeA</code> and <code>TypeB</code> then there's no need for the extra if/else.<br>\nBut you can also use the <code>isTypeB</code>.</p>\n\n<p>This method is good if you need this check in a few places in your code, but if you need it for just that one function, then I think that I would go with two different functions, depending on the amount of duplicated code.</p>\n"}], "owner": {"reputation": 1959, "user_id": 2520530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUfpY.jpg?s=128&g=1", "display_name": "Erik Cupal", "link": "https://stackoverflow.com/users/2520530/erik-cupal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 1, "accepted_answer_id": 40517945, "answer_count": 1, "score": 0, "last_activity_date": 1478735531, "creation_date": 1478724054, "last_edit_date": 1478729334, "question_id": 40515656, "link": "https://stackoverflow.com/questions/40515656/typescript-method-overloading-with-one-parameter-of-different-type-non-primitiv", "title": "Typescript method overloading with one parameter of different type (non-primitive)", "body": "<p>Ok, what I would like to do is simple. I want to overload a method so that it can take one parameter, which is of non-primitive type.</p>\n\n<p>I understand I can't do it like this because TypeScript losts all types when compiled to JavaScript. If one of the parameters was primitive (e.g. string), I could do it (typeof myString == \"string\").</p>\n\n<pre><code>public doSomething(typeA: TypeA);\npublic doSomething(typeB: TypeB);\npublic doSomething(type: TypeA | TypeB) {\n    if (typeof type == \"TypeA\") {\n        ... // obviously I can't do that, Javascript got no types\n        ... // typeof type === \"object\"\n    }\n    else if (typeof type == \"TypeB\") { //the same }\n    else { //undefined }\n}\n</code></pre>\n\n<p>What I thought up is this:</p>\n\n<pre><code>public doSomething(typeA?: TypeA, typeB?: TypeB) {\n    if (typeA) { ... }\n    else if (typeB) { ... }\n    else { //undefined }\n}\n</code></pre>\n\n<p>Then I have to call this way:</p>\n\n<pre><code>doSomething(typeA, undefined); //to call TypeA version\ndoSomething(undefined, typeB); //to call TypeB version\n</code></pre>\n\n<p>Is such a design acceptable or is it better to rather create two separate methods?</p>\n\n<h2><strong>EDIT:</strong></h2>\n\n<p>This notation is probably better. You are forced (by IDE) to add the undefined when you're calling the method.</p>\n\n<pre><code>public doSomething(typeA: TypeA | undefined, typeB: TypeB | undefined) {\n    if (typeA) { ... }\n    else if (typeB) { ... }\n    else { //undefined }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "webpack", "webpack-dev-server", "angular-cli"], "comments": [{"owner": {"reputation": 406, "user_id": 3493753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb5275eef63df1e6998d0c0c1080a85?s=128&d=identicon&r=PG&f=1", "display_name": "osechet", "link": "https://stackoverflow.com/users/3493753/osechet"}, "edited": false, "score": 2, "creation_date": 1480756976, "post_id": 40513798, "comment_id": 69102767, "body": "You should probably start by cleaning up your project. There are two <code>tsconfig.json</code> files: one in the root directory and one in the <code>src</code> directory. It&#39;s difficult to know which one you expect to be used. Then your <code>package.json</code> defines several times the same dependencies. Try to properly separate the dev dependencies (such as <code>style-loader</code>, <code>css-loader</code>...) from the runtime dependencies."}, {"owner": {"reputation": 1440, "user_id": 1941430, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/8adb97005c3f93431122dd8a333c84bc?s=128&d=identicon&r=PG", "display_name": "Dan Cancro", "link": "https://stackoverflow.com/users/1941430/dan-cancro"}, "reply_to_user": {"reputation": 406, "user_id": 3493753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb5275eef63df1e6998d0c0c1080a85?s=128&d=identicon&r=PG&f=1", "display_name": "osechet", "link": "https://stackoverflow.com/users/3493753/osechet"}, "edited": false, "score": 0, "creation_date": 1480964219, "post_id": 40513798, "comment_id": 69172065, "body": "@osechet Thank you. As you could probably tell, I&#39;ve mashed together partial, simplified examples into one project in a hopeful attempt to synthesize what employed developers work on in real life. Naturally each example does things its own way without much explanation why. One of them had all the front-end deps in devDependencies. <code>tsconfig.json</code> appeared in different places. And so on. I merged the two <code>tsconfig.json</code>s into one and am getting new errors but will keep working on it. I didn&#39;t want you to think I ignored your help, which I appreciate."}, {"owner": {"reputation": 1440, "user_id": 1941430, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/8adb97005c3f93431122dd8a333c84bc?s=128&d=identicon&r=PG", "display_name": "Dan Cancro", "link": "https://stackoverflow.com/users/1941430/dan-cancro"}, "reply_to_user": {"reputation": 406, "user_id": 3493753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb5275eef63df1e6998d0c0c1080a85?s=128&d=identicon&r=PG&f=1", "display_name": "osechet", "link": "https://stackoverflow.com/users/3493753/osechet"}, "edited": false, "score": 0, "creation_date": 1480967942, "post_id": 40513798, "comment_id": 69174151, "body": "That did it! I made one more tweak to <code>tsconfig.json</code> and the warnings are gone."}], "answers": [{"comments": [{"owner": {"reputation": 1440, "user_id": 1941430, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/8adb97005c3f93431122dd8a333c84bc?s=128&d=identicon&r=PG", "display_name": "Dan Cancro", "link": "https://stackoverflow.com/users/1941430/dan-cancro"}, "edited": false, "score": 1, "creation_date": 1480968090, "post_id": 40966460, "comment_id": 69174249, "body": "Thanks for the links. I guess I lucked out and fixed the problem with @ocechet&#39;s advice by removing an extra <code>tsconfig.json</code> file instead of the solution you proposed. I&#39;ll remember this for next time. Hopefully the bug is gone before I encounter it."}], "tags": [], "owner": {"reputation": 1129, "user_id": 2130322, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Z0bq5.jpg?s=128&g=1", "display_name": "Celso Agra", "link": "https://stackoverflow.com/users/2130322/celso-agra"}, "is_accepted": false, "score": 5, "last_activity_date": 1480906625, "last_edit_date": 1495535466, "creation_date": 1480906625, "answer_id": 40966460, "question_id": 40513798, "link": "https://stackoverflow.com/questions/40513798/untrue-not-found-warnings-in-angular-cli-webpack-project/40966460#40966460", "title": "Untrue &#39;not found&#39; warnings in Angular-CLI/Webpack project", "body": "<p>Maybe these links can solve your problem: <a href=\"https://stackoverflow.com/a/39890963/2130322\">[1]</a> and <a href=\"https://github.com/angular/angular-cli/issues/2034\" rel=\"nofollow noreferrer\">[2]</a></p>\n\n<p>So I tried to add a new file to export only in the interface, and the warnings are gone:</p>\n\n<p>I created the interfaces file for claim, claim-rebuttal and rebuttal:</p>\n\n<pre><code>/** /src/app/core/store/claim/claim.interface.ts */\nexport { Claim } from './claim.model'\n\n\n/** /src/app/core/store/claim-rebuttal/claim-rebuttal.interface.ts */\nexport { ClaimRebuttal } from './claim-rebuttal.model'\n\n\n/** /src/app/core/store/rebuttal/rebuttal.interface.ts */\nexport { Rebuttal } from './rebuttal.model'\n</code></pre>\n\n<p>Then I exported this in the index.ts</p>\n\n<pre><code>export { Claim } from './claim/claim.interface'\nexport { Rebuttal } from './rebuttal/rebuttal.interface'\nexport { ClaimRebuttal } from './claim-rebuttal/claim-rebuttal.interface'\n</code></pre>\n\n<p>Finally, it just to change it in the claim.component and others files:</p>\n\n<pre><code>import { Claim, Rebuttal, ClaimRebuttal }  from '../../core/store';\n// ...\n\n@Component({ ...})\nexport class ClaimComponent {\n</code></pre>\n\n<p>and also in rebuttal component:</p>\n\n<pre><code>import { Rebuttal, Claim }  from '../../core/store';\n\n@Component({...})\nexport class RebuttalComponent implements OnInit {\n...\n</code></pre>\n"}], "owner": {"reputation": 1440, "user_id": 1941430, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/8adb97005c3f93431122dd8a333c84bc?s=128&d=identicon&r=PG", "display_name": "Dan Cancro", "link": "https://stackoverflow.com/users/1941430/dan-cancro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2333, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1480906625, "creation_date": 1478716663, "last_edit_date": 1479489519, "question_id": 40513798, "link": "https://stackoverflow.com/questions/40513798/untrue-not-found-warnings-in-angular-cli-webpack-project", "title": "Untrue &#39;not found&#39; warnings in Angular-CLI/Webpack project", "body": "<p>I'm getting a bunch of warnings like the following that things cannot be found but they are in the right places and my app runs so the warnings must be wrong. I'm using webpack version 2.1.0-beta.22 and webpack-dev-server              2.1.0-beta.10. My project is on GitHub <a href=\"https://github.com/dancancro/great-big-angular2-example/blob/master/src/app/core/store/claim/claim.model.ts#L3\" rel=\"noreferrer\">here</a> </p>\n\n<p>Do you know how I can fix this? Thanks!</p>\n\n<pre><code>[WDS] Warnings while compiling.\nclient:73 ./src/app/debate/claim/claim.component.ts\n38:55 export 'Claim' was not found in '../../core/store/claim/claim.model'\nError: export 'Claim' was not found in '../../core/store/claim/claim.model'\n    at HarmonyImportSpecifierDependency.getWarnings (/Users/Dan/work/bernierebuttals/gba/node_modules/angular-cli/node_modules/webpack/lib/dependencies/HarmonyImportSpecifierDependency.js:34:14)\n    at /Users/Dan/work/bernierebuttals/gba/node_modules/angular-cli/node_modules/webpack/lib/Compilation.js:645:21\n    at Array.forEach (native)\n    at /Users/Dan/work/bernierebuttals/gba/node_modules/angular-cli/node_modules/webpack/lib/Compilation.js:644:22\n    at Array.forEach (native)\n    at Compilation.reportDependencyWarnings (/Users/Dan/work/bernierebuttals/gba/node_modules/angular-cli/node_modules/webpack/lib/Compilation.js:643:9)\n    at Compilation.&lt;anonymous&gt; (/Users/Dan/work/bernierebuttals/gba/node_modules/angular-cli/node_modules/webpack/lib/Compilation.js:505:8)\n    at Array.forEach (native)\n    at Compilation.finish \n</code></pre>\n\n<p><a href=\"https://gist.github.com/dancancro/f3eeb5fec85958eeb18887950b61cab8\" rel=\"noreferrer\">Full stack trace</a></p>\n\n<p>The file structure looks like this:</p>\n\n<pre><code>app\n\u251c\u2500\u2500 core\n\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 store\n\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 claim\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 README.md\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 claim.actions.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 claim.effects.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 claim.model.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 claim.reducer.ts\n\n\u251c\u2500\u2500 debate\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 README.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 claim\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 claim.component.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 claim.component.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 claim.component.spec.ts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 claim.component.ts\n</code></pre>\n\n<p>and from <code>./src/app/core/store/claim/claim.model.ts</code></p>\n\n<pre><code>import { Rebuttal } from '../rebuttal/rebuttal.model';\n\nexport interface Claim {\n...\n</code></pre>\n"}, {"tags": ["angular", "typescript", "promise", "ionic2"], "comments": [{"owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 1, "creation_date": 1478716779, "post_id": 40513703, "comment_id": 68269358, "body": "<a href=\"http://stackoverflow.com/questions/40510795/cannot-call-a-function-on-an-element-inside-ngfor-angular2/40511035#40511035\" title=\"cannot call a function on an element inside ngfor angular2\">stackoverflow.com/questions/40510795/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1088, "user_id": 6999857, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-DROhR7dGwdU/AAAAAAAAAAI/AAAAAAAAAQU/vbf309CRiQQ/photo.jpg?sz=128", "display_name": "Avram Virgil", "link": "https://stackoverflow.com/users/6999857/avram-virgil"}, "is_accepted": false, "score": 10, "last_activity_date": 1478721461, "creation_date": 1478721461, "answer_id": 40514974, "question_id": 40513703, "link": "https://stackoverflow.com/questions/40513703/property-does-not-exist-on-type-object-in-typescript/40514974#40514974", "title": "Property does not exist on type Object in Typescript", "body": "<p>Try to bypass the error with:</p>\n\n<pre><code>this._notifications = data['notifications'];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 4452160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3bc3f47f8fd274ee9c3c4949f969ad3?s=128&d=identicon&r=PG&f=1", "display_name": "bignewyork", "link": "https://stackoverflow.com/users/4452160/bignewyork"}, "is_accepted": false, "score": 0, "last_activity_date": 1498118113, "last_edit_date": 1498118113, "creation_date": 1498097818, "answer_id": 44689039, "question_id": 40513703, "link": "https://stackoverflow.com/questions/40513703/property-does-not-exist-on-type-object-in-typescript/44689039#44689039", "title": "Property does not exist on type Object in Typescript", "body": "<p>Try another way to bypass the error with:</p>\n\n<pre><code>return new Promise().then(()=&gt;{\n     return data;\n})\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 7137770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4422567a9acaceb9242e739a69a9880e?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Walker", "link": "https://stackoverflow.com/users/7137770/josh-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3582, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1589373940, "creation_date": 1478716315, "last_edit_date": 1589373940, "question_id": 40513703, "link": "https://stackoverflow.com/questions/40513703/property-does-not-exist-on-type-object-in-typescript", "title": "Property does not exist on type Object in Typescript", "body": "<p>I'm using Ionic and Angular2 Typescript. When View is rendered I call the function <code>retrieveNotifications</code> in the file <em>dashboard.ts</em> but I get an error:</p>\n\n<blockquote>\n<pre><code>Error: Error at /home/invicta/Desktop/newauth/.tmp/pages/dashboard/dashboard.ts:36:34 \nProperty 'notifications' does not exist on type '{}'\n</code></pre>\n</blockquote>\n\n<hr>\n\n<pre><code>//dashboard.ts\nionViewDidEnter() {\n    this.retrieveNotifications();\n}\n\n\nretrieveNotifications() {\n    this.user.retrieveNotifications().then(data = &gt; {\n        // when do console.log here and typeof(), data is object and it has notifications array\n        this._notifications = data.notifications;\n    })\n}\n</code></pre>\n\n<p>Then in file <em>user-data.ts</em> which is declare like <code>public user: UserData</code> is function:</p>\n\n<pre><code>//user-data.ts -&gt; provider\nretrieveNotifications() {\n    var token = this.authservice.getUserToken();\n    return new Promise(resolve = &gt; {\n        var headers = new Headers();\n        headers.append('Authorization', 'Bearer ' + token);\n        this.http.get(this.mainUrl + '/api/v1/notification', {\n            headers: headers\n        }).subscribe(data = &gt; {\n            if (data.status === 200)\n                resolve(data.json());\n            else\n                resolve(false);\n        });\n    });\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "edited": false, "score": 0, "creation_date": 1478715545, "post_id": 40513495, "comment_id": 68268780, "body": "Why are you trying to prevent this? Bear in mind that it would make your testing more difficult, as you won&#39;t be able to inherit and mock methods as easily."}, {"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "reply_to_user": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "edited": false, "score": 0, "creation_date": 1478715627, "post_id": 40513495, "comment_id": 68268824, "body": "because I&#39;m creating a set of libraries for npm and accidentally have overwritten a crucial property... :-("}, {"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "reply_to_user": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "edited": false, "score": 0, "creation_date": 1478715645, "post_id": 40513495, "comment_id": 68268832, "body": "Ops, forgot to quote. @ssube"}, {"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "reply_to_user": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "edited": false, "score": 0, "creation_date": 1478715752, "post_id": 40513495, "comment_id": 68268887, "body": "That&#39;s why I&#39;m asking. Maybe there&#39;s something that I don&#39;t know, like being able to override but adding a tag before overriding or you get a warning or something like that. It will be still able to override, but knowing that is actually overriding something, not by accident."}], "answers": [{"comments": [{"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1478715836, "post_id": 40513574, "comment_id": 68268926, "body": "Yes, I know that, but, what if I actually override with the same type?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1478716621, "post_id": 40513574, "comment_id": 68269290, "body": "Check my revised answer"}, {"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1478720968, "post_id": 40513574, "comment_id": 68271380, "body": "Hm, nice edit. The closest thing I can get right now. EDIT: Just noticed the other answer. More appropriate. Btw, good answer. Going to upvote it as right now is the closest thing to what I want achieve."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 1, "last_activity_date": 1478716603, "last_edit_date": 1478716603, "creation_date": 1478715745, "answer_id": 40513574, "question_id": 40513495, "link": "https://stackoverflow.com/questions/40513495/is-possible-to-avoid-or-warn-overriding-a-method-or-property-of-an-inherited-cla/40513574#40513574", "title": "Is possible to avoid or warn overriding a method or property of an inherited class on TypeScript?", "body": "<p>That's the idea behind object oriented programming...</p>\n\n<p>Notice that if you change the types then you get compilation errors:</p>\n\n<pre><code>class A {\n    p: string;\n}\n\nclass B extends A {\n    p: number;\n}\n</code></pre>\n\n<p>You get:</p>\n\n<blockquote>\n  <p>Class 'b' incorrectly extends base class 'a'.<br>\n  Types of property 'p' are incompatible.<br>\n  Type 'number' is not assignable to type 'string'  </p>\n</blockquote>\n\n<p>And the same with methods:</p>\n\n<pre><code>class A {\n    m(): string {\n        return null;\n    }\n}\n\nclass B extends a {\n    m(): number {\n        return null;\n    }\n}\n</code></pre>\n\n<p>Produces:</p>\n\n<blockquote>\n  <p>Class 'b' incorrectly extends base class 'a'.<br>\n  Types of property 'm' are incompatible.<br>\n  Type '() => number' is not assignable to type '() => string'.<br>\n  Type 'number' is not assignable to type 'string'</p>\n</blockquote>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>You can't really override properties.<br>\nTake this code for example:</p>\n\n<pre><code>class A {\n    a: string;\n\n    constructor() {\n        this.a = \"default\";\n    }\n}\n\nclass B extends A {\n    a: string;\n\n    setA(value: string) {\n        this.a = value;\n    }\n}\n</code></pre>\n\n<p>It seems that you're overriding the property when you declare it on <code>B</code>, but if you look at the compiled js:</p>\n\n<pre><code>var A = (function () {\n    function A() {\n        this.a = \"default\";\n    }\n    return A;\n}());\nvar B = (function (_super) {\n    __extends(B, _super);\n    function B() {\n        _super.apply(this, arguments);\n    }\n    B.prototype.setA = function (value) {\n        this.a = value;\n    };\n    return B;\n}(A));\n</code></pre>\n\n<p>The property <code>a</code> isn't defined before it's assigned.  </p>\n\n<p>You can argue that the compiler should warn you for redefining an existing property, but then you won't be able to do this:</p>\n\n<pre><code>interface X {\n    str: string;\n}\n\ninterface Y extends X {\n    num: number;\n}\n\nclass A {\n    a: X;\n}\n\nclass B extends A {\n    a: Y;\n}\n</code></pre>\n\n<p>Also, when it comes to methods, IDEs should show you when you are overriding a method, at least webstorm shows an icon in the left tray.</p>\n"}, {"comments": [{"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1478721295, "post_id": 40514029, "comment_id": 68271541, "body": "Great. Checked the issues page just in case but found nothing. Thank you."}], "tags": [], "owner": {"reputation": 5831, "user_id": 5257399, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OlV7L.png?s=128&g=1", "display_name": "Birchlabs", "link": "https://stackoverflow.com/users/5257399/birchlabs"}, "is_accepted": true, "score": 2, "last_activity_date": 1478717559, "creation_date": 1478717559, "answer_id": 40514029, "question_id": 40513495, "link": "https://stackoverflow.com/questions/40513495/is-possible-to-avoid-or-warn-overriding-a-method-or-property-of-an-inherited-cla/40514029#40514029", "title": "Is possible to avoid or warn overriding a method or property of an inherited class on TypeScript?", "body": "<p>It sounds like you would like to have <code>final</code> methods (methods that subclasses are forbidden from overriding). This feature has <a href=\"https://github.com/Microsoft/TypeScript/issues/9264\" rel=\"nofollow noreferrer\">been</a> <a href=\"https://github.com/Microsoft/TypeScript/issues/8306\" rel=\"nofollow noreferrer\">requested</a> of TypeScript, but as of the time of writing: it's not being accepted.</p>\n"}], "owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 40514029, "answer_count": 2, "score": 0, "last_activity_date": 1478717559, "creation_date": 1478715459, "question_id": 40513495, "link": "https://stackoverflow.com/questions/40513495/is-possible-to-avoid-or-warn-overriding-a-method-or-property-of-an-inherited-cla", "title": "Is possible to avoid or warn overriding a method or property of an inherited class on TypeScript?", "body": "<p>Is there any way to avoid this:</p>\n\n<pre><code>class a {\n    p:any;\n    constructor() {\n    }\n    m() {\n    }\n}\nclass b extends a {\n    p:any;\n    constructor() {\n        super();\n    }\n    m() {\n    }\n}\n</code></pre>\n\n<p>I know that I can create private properties, but to access them externally I need to create a public method, so the problem is still there, as methods are \"overridable\" without any warning, but I don't find any options to avoid that.</p>\n\n<p>I can also create setters and getters, but the same applies.</p>\n"}, {"tags": ["javascript", "typescript", "plugins", "abstract-syntax-tree", "transpiler"], "comments": [{"owner": {"reputation": 2905, "user_id": 2229538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dLCR9.png?s=128&g=1", "display_name": "Misaz", "link": "https://stackoverflow.com/users/2229538/misaz"}, "edited": false, "score": 1, "creation_date": 1478758165, "post_id": 40513148, "comment_id": 68282821, "body": "You can download <a href=\"https://github.com/microsoft/typescript\" rel=\"nofollow noreferrer\">github.com/microsoft/typescript</a>, include it into your project and via Compiler API or TypeScript Language Service work with TypeScripts codes. You can write your own compiler if you need. Basics are described in wiki <a href=\"https://github.com/Microsoft/TypeScript/wiki/Using-the-Compiler-API\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/Using-the-Compiler-API</a> and <a href=\"https://github.com/Microsoft/TypeScript/wiki/Using-the-Language-Service-API\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/&hellip;</a>"}, {"owner": {"reputation": 1830, "user_id": 4958421, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/21e87ca8f689a428a8b16d6d4ab766b3?s=128&d=identicon&r=PG&f=1", "display_name": "James Akwuh", "link": "https://stackoverflow.com/users/4958421/james-akwuh"}, "reply_to_user": {"reputation": 2905, "user_id": 2229538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dLCR9.png?s=128&g=1", "display_name": "Misaz", "link": "https://stackoverflow.com/users/2229538/misaz"}, "edited": false, "score": 0, "creation_date": 1478788742, "post_id": 40513148, "comment_id": 68300316, "body": "@Misaz yes, that&#39;s what I was looking for! Thanks a lot! Could you please post your comment as the answer so I will accept it and help other developers to find these useful links?"}], "answers": [{"tags": [], "owner": {"reputation": 2905, "user_id": 2229538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dLCR9.png?s=128&g=1", "display_name": "Misaz", "link": "https://stackoverflow.com/users/2229538/misaz"}, "is_accepted": true, "score": 7, "last_activity_date": 1478884112, "creation_date": 1478884112, "answer_id": 40552920, "question_id": 40513148, "link": "https://stackoverflow.com/questions/40513148/how-to-write-a-typescript-plugin/40552920#40552920", "title": "How to write a Typescript plugin?", "body": "<p>You can download <a href=\"https://github.com/microsoft/typescript\" rel=\"noreferrer\">https://github.com/microsoft/typescript</a> or via npm.</p>\n\n<pre><code>npm install typescript\n</code></pre>\n\n<p>Then include it into your project and via <code>Compiler API</code> or <code>TypeScript Language Service</code> work with TypeScripts codes. You can write your own compiler if you need. Basics are described on the wiki.</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/wiki/Using-the-Compiler-API\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/wiki/Using-the-Compiler-API</a>\n<a href=\"https://github.com/Microsoft/TypeScript/wiki/Using-the-Language-Service-API\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/wiki/Using-the-Language-Service-API</a></p>\n"}, {"tags": [], "owner": {"reputation": 9025, "user_id": 514483, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/c5f03a016b45c4d9620352993700e2d0?s=128&d=identicon&r=PG", "display_name": "robd", "link": "https://stackoverflow.com/users/514483/robd"}, "is_accepted": false, "score": 1, "last_activity_date": 1609437493, "last_edit_date": 1609437493, "creation_date": 1609417484, "answer_id": 65520890, "question_id": 40513148, "link": "https://stackoverflow.com/questions/40513148/how-to-write-a-typescript-plugin/65520890#65520890", "title": "How to write a Typescript plugin?", "body": "<p>There are now some docs available for language service plugins at:</p>\n<p><a href=\"https://github.com/microsoft/TypeScript/wiki/Writing-a-Language-Service-Plugin\" rel=\"nofollow noreferrer\">https://github.com/microsoft/TypeScript/wiki/Writing-a-Language-Service-Plugin</a></p>\n<p>But note that the <a href=\"https://github.com/microsoft/TypeScript/wiki/Architectural-Overview#layer-overview\" rel=\"nofollow noreferrer\">language service is not called by the <code>tsc</code> command</a>, but only from apps (typically IDEs / editors I believe).</p>\n<p>The <a href=\"https://github.com/cevek/ttypescript\" rel=\"nofollow noreferrer\">https://github.com/cevek/ttypescript</a> project patches <code>tsc</code> to support transformers which may be a route for people who require support in the <code>tsc</code> command too.</p>\n"}], "owner": {"reputation": 1830, "user_id": 4958421, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/21e87ca8f689a428a8b16d6d4ab766b3?s=128&d=identicon&r=PG&f=1", "display_name": "James Akwuh", "link": "https://stackoverflow.com/users/4958421/james-akwuh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2470, "favorite_count": 1, "accepted_answer_id": 40552920, "answer_count": 2, "score": 9, "last_activity_date": 1609437493, "creation_date": 1478714002, "question_id": 40513148, "link": "https://stackoverflow.com/questions/40513148/how-to-write-a-typescript-plugin", "title": "How to write a Typescript plugin?", "body": "<p>Are there any docs / examples of writing a Typescript plugin?</p>\n\n<hr>\n\n<p>For the last time I am very inspired with the idea of bringing Typescript into my projects. However, currently I see this is not possible because of my <strong>failed</strong> attempts to <strong>find any docs about writing a Typescript plugin</strong>. I need this plugin for combining classes metadata during compilation and then generating an asset. It was not that easy but I've <a href=\"https://github.com/jakwuh/babel-plugin-extract-dependency-definitions\" rel=\"noreferrer\">already written</a> such for <a href=\"https://babeljs.io\" rel=\"noreferrer\">babel</a> and now I am interested if it is possible to do the same with Typescript.</p>\n"}, {"tags": ["node.js", "audio", "angular", "typescript", "wav"], "comments": [{"owner": {"reputation": 7992, "user_id": 1483981, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e985c085033d58082edcda227f439a88?s=128&d=identicon&r=PG", "display_name": "AWolf", "link": "https://stackoverflow.com/users/1483981/awolf"}, "edited": false, "score": 0, "creation_date": 1478722544, "post_id": 40512693, "comment_id": 68272119, "body": "Looks like <code>this.recorder</code> is undefined. Nothing assigned to it. Maybe changing <code>let recorder = context.createScriptProcessor(2048, 1, 1);</code> to <code>this.recorder = context.createScriptProcessor(2048, 1, 1);</code> could help. Don&#39;t know what <code>context.createScriptProcessor(...)</code> is doing but with <code>let</code> you&#39;re only creating an unused variable."}, {"owner": {"reputation": 655, "user_id": 6942889, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dmRkk.jpg?s=128&g=1", "display_name": "Linx", "link": "https://stackoverflow.com/users/6942889/linx"}, "reply_to_user": {"reputation": 7992, "user_id": 1483981, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e985c085033d58082edcda227f439a88?s=128&d=identicon&r=PG", "display_name": "AWolf", "link": "https://stackoverflow.com/users/1483981/awolf"}, "edited": false, "score": 0, "creation_date": 1478729076, "post_id": 40512693, "comment_id": 68275223, "body": "Thanks for the suggestion, @AWolf but I tried changing let recorder to this.recorder and it still gives the same errors"}, {"owner": {"reputation": 7992, "user_id": 1483981, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e985c085033d58082edcda227f439a88?s=128&d=identicon&r=PG", "display_name": "AWolf", "link": "https://stackoverflow.com/users/1483981/awolf"}, "edited": false, "score": 0, "creation_date": 1478733095, "post_id": 40512693, "comment_id": 68276744, "body": "Another problem could be that <code>AudioContext</code> is not available. Try to inject window object like described <a href=\"http://stackoverflow.com/questions/34177221/angular2-how-to-inject-window-into-an-angular2-service\">here</a> and access it with <code>window.AudioContext</code>."}], "owner": {"reputation": 655, "user_id": 6942889, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dmRkk.jpg?s=128&g=1", "display_name": "Linx", "link": "https://stackoverflow.com/users/6942889/linx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1579, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1478712329, "creation_date": 1478712329, "question_id": 40512693, "link": "https://stackoverflow.com/questions/40512693/record-audio-and-save-to-file-with-node-and-angular2", "title": "Record audio and save to file with Node and Angular2", "body": "<p>I'm trying to record audio via the microphone in the browser and then save it to file server side using Node and a binary server. I am using this <a href=\"https://subvisual.co/blog/posts/39-tutorial-html-audio-capture-streaming-to-node-js-no-browser-extensions\" rel=\"nofollow noreferrer\">tutorial</a> as a guide but am having trouble getting it to work with Angular2. Currently it appears to be saving some type of file to the server but it's not any type of playable audio. Here's all my code:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { ContributorService } from './contributor.service';\nimport { CardDetailService } from './card-detail.service';\nimport { CardDetailComponent } from './card-detail.component';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { Location } from '@angular/common';\ndeclare let navigator: any;\ndeclare let MediaRecorder: any;\ndeclare let BinaryClient: any;\n\n\n\n@Component({\nselector: 'contributor',\ntemplate: `\n    &lt;h1&gt;Record Message&lt;/h1&gt;\n\n    &lt;button (click)='start()'&gt;Start&lt;/button&gt;\n    &lt;button (click)='stop()'&gt;Stop&lt;/button&gt;\n    &lt;button (click)='play()'&gt;Play&lt;/button&gt;\n\n    &lt;a&gt;{{hf}}&lt;/a&gt;\n\n    &lt;button class=\"go-back\" (click)=\"goBack()\"&gt;Done&lt;/button&gt;\n\n`\n})\nexport class ContributorComponent {\nprivate chunks: any[] = [];\nprivate recorder;\nprivate audio;\nprivate counter = 1;\nprivate Stream;\nprivate recording = false;\n\nconstructor(\n    private contributorService: ContributorService,\n    private cardDetailService: CardDetailService,\n    private location: Location,\n    private route: ActivatedRoute,\n    private router: Router,\n) {}\n\nngOnInit() {\n    let client = new BinaryClient('ws://localhost:9001');\n\n    client.on('open', function() {\n        let Stream = client.createStream();\n\n    });\n\n    let audio = {\n        tag: 'audio',\n        type: 'audio/ogg',\n        ext: '.ogg',\n        gUM: {audio: true}\n    };\n    let context = new AudioContext();\n\n    if (!navigator.getUserMedia) {\n        navigator.getUserMedia = navigator.getUserMedia ||     navigator.webkitGetUserMedia ||\n        navigator.mozGetUserMedia || navigator.msGetUserMedia;\n    }\n\n    if (navigator.getUserMedia) {\n        navigator.getUserMedia({audio: true }, this.success,     function(e) {\n            alert('Error capturing audio.');\n        });\n        } else {\n            alert('getUserMedia not supported in this browser.');\n        }\n}\n\nstart() {\n    this.recording = true;\n}\n\nstop() {\n    this.recording = false;\n    this.Stream.end();\n}\n\nrecorderProcess(e) {\n    let left = e.inputBuffer.getChannelData(0);\n    this.Stream.write(this.convertFloat32ToInt16(left));\n}\n\nsuccess(e) {\n    let context = new AudioContext();\n\n  // the sample rate is in context.sampleRate\n    let audioInput = context.createMediaStreamSource(e);\n\n    let recorder = context.createScriptProcessor(2048, 1, 1);\n\n    this.recorder.onaudioprocess = function(e){\n        if (!this.recording) { return; };\n        console.log ('recording');\n        var left = e.inputBuffer.getChannelData(0);\n        this.Stream.write(this.convertoFloat32ToInt16(left));\n    };\n\n    audioInput.connect(this.recorder);\n    this.recorder.connect(context.destination); \n}\n\nconvertFloat32ToInt16(buffer) {\n    let l = buffer.length;\n    let buf = new Int16Array(l);\n    while (l--) {\n        buf[l] = Math.min(1, buffer[l]) * 0x7FFF;\n    }\n    return buf.buffer;\n}\n\n\ngoBack() {\n    this.location.back();\n}\n}\n</code></pre>\n\n<p>and here are the errors it throws:</p>\n\n<p>contributor.component.ts:96Uncaught TypeError: Cannot read property 'recorder' of undefined(\u2026)ContributorComponent.success @ contributor.component.ts:96\ncore.umd.js:3004 EXCEPTION: Error in ./ContributorComponent class ContributorComponent - inline template:4:10 caused by: Cannot read property 'end' of undefinedErrorHandler.handleError</p>\n"}, {"tags": ["typescript", "dom", "input", "ionic2", "refresh"], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 7068748, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/908dd34e8e399f109768b09eed8d4770?s=128&d=identicon&r=PG&f=1", "display_name": "Luca Trembon", "link": "https://stackoverflow.com/users/7068748/luca-trembon"}, "edited": false, "score": 0, "creation_date": 1478734956, "post_id": 40513942, "comment_id": 68277338, "body": "Thank you, it works perfectly fine. But somehow it adds the ng-valid class if its filled. Can i avoid this?"}, {"owner": {"reputation": 5664, "user_id": 4790610, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-Y-O9RmPGhkE/AAAAAAAAAAI/AAAAAAAAADg/k97LiSbLzhA/photo.jpg?sz=128", "display_name": "Andreas Gassmann", "link": "https://stackoverflow.com/users/4790610/andreas-gassmann"}, "reply_to_user": {"reputation": 195, "user_id": 7068748, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/908dd34e8e399f109768b09eed8d4770?s=128&d=identicon&r=PG&f=1", "display_name": "Luca Trembon", "link": "https://stackoverflow.com/users/7068748/luca-trembon"}, "edited": false, "score": 0, "creation_date": 1478735716, "post_id": 40513942, "comment_id": 68277587, "body": "I don&#39;t know how you can avoid this. They added it to help with input validation: <a href=\"https://angular.io/docs/ts/latest/guide/forms.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/forms.html</a>"}, {"owner": {"reputation": 2123, "user_id": 5544859, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/LAszk.jpg?s=128&g=1", "display_name": "Red M", "link": "https://stackoverflow.com/users/5544859/red-m"}, "edited": false, "score": 0, "creation_date": 1614741690, "post_id": 40513942, "comment_id": 117475436, "body": "Spent half a day searching for this answer! Thank you."}], "tags": [], "owner": {"reputation": 5664, "user_id": 4790610, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-Y-O9RmPGhkE/AAAAAAAAAAI/AAAAAAAAADg/k97LiSbLzhA/photo.jpg?sz=128", "display_name": "Andreas Gassmann", "link": "https://stackoverflow.com/users/4790610/andreas-gassmann"}, "is_accepted": false, "score": 27, "last_activity_date": 1478717213, "creation_date": 1478717213, "answer_id": 40513942, "question_id": 40512390, "link": "https://stackoverflow.com/questions/40512390/how-to-set-value-input-field-ionic-2/40513942#40513942", "title": "How to set Value Input field Ionic 2", "body": "<p>You can do it like that:</p>\n\n<p>page.html</p>\n\n<pre><code>&lt;ion-input id=\"amount\" type=\"number\" [(ngModel)]=\"value\"&gt;&lt;/ion-input&gt;\n&lt;button (click)=\"setInput()\"&gt;Set Value&lt;/button&gt;\n</code></pre>\n\n<p>page.ts</p>\n\n<pre><code>export class Page {\n  value: number = 0; // Default is 0\n\n  constructor() {}\n\n  setInput() {\n    this.value = 42;\n  }\n}\n</code></pre>\n\n<p>By using <code>[(ngModel)]=\"value\"</code> you bind the <code>value</code> variable to that input field. That way it is always updated. If you change it in the UI, it is immediately updated \"in the code\". And when you update it in your code, it automatically updates in the UI.</p>\n\n<p>You should probably read an Angular 2 tutorial before you continue working on your app. Angular provides many tools to make that sort of thing a lot easier.</p>\n"}], "owner": {"reputation": 195, "user_id": 7068748, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/908dd34e8e399f109768b09eed8d4770?s=128&d=identicon&r=PG&f=1", "display_name": "Luca Trembon", "link": "https://stackoverflow.com/users/7068748/luca-trembon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35033, "favorite_count": 2, "answer_count": 1, "score": 9, "last_activity_date": 1535073591, "creation_date": 1478711203, "last_edit_date": 1535073591, "question_id": 40512390, "link": "https://stackoverflow.com/questions/40512390/how-to-set-value-input-field-ionic-2", "title": "How to set Value Input field Ionic 2", "body": "<p>I have a tiny question.</p>\n\n<p>I'm using this HTML code:</p>\n\n<pre><code>&lt;ion-input id=\"amount\" type=\"number\" &gt;&lt;/ion-input&gt;\n</code></pre>\n\n<p><code>&lt;button (click)=\"setinput()\"&gt;Set Value&lt;/button&gt;</code></p>\n\n<p>And this TS code:</p>\n\n<pre><code>setinput(){\nvar input= document.getElementById(\"amount\") as HTMLInputElement;\ninput.value=42;\nconsole.log(\"amount\");\nconsole.log(input.value);\n}\n</code></pre>\n\n<p>My console tells me, that the number got changed. But the updated value wont be displayed in my input field. Do you have any suggestions?</p>\n\n<p>Thanks in Advance!</p>\n\n<p>L. Trembon</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1478711701, "post_id": 40511978, "comment_id": 68266878, "body": "When you set <code>this.originalOrder = this.rulesetOrder;</code> that means <code>originalOrder</code> points to the exact same array as <code>rulesetOrder</code>. You should make a copy of <code>rulesetOrder</code> and set <code>originalOrder</code> to that."}, {"owner": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1478711903, "post_id": 40511978, "comment_id": 68266971, "body": "Ha... I feel like such a noob. Javascript passes arrays by reference so typescript then does too since it&#39;s transpiled to javascript..."}], "answers": [{"tags": [], "owner": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "is_accepted": false, "score": 0, "last_activity_date": 1478712725, "creation_date": 1478712725, "answer_id": 40512807, "question_id": 40511978, "link": "https://stackoverflow.com/questions/40511978/tracking-state-of-array-order/40512807#40512807", "title": "Tracking State of Array Order", "body": "<p>Arrays are passed by reference, therefore that's how this will work, as pointed out by Mike above, a copy of the array needs to be set to the originalOrder array. </p>\n"}], "owner": {"reputation": 357, "user_id": 2236655, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5ded7583099787f42a94ddf8acfe26d8?s=128&d=identicon&r=PG", "display_name": "Bohms27", "link": "https://stackoverflow.com/users/2236655/bohms27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478712725, "creation_date": 1478709829, "last_edit_date": 1592644375, "question_id": 40511978, "link": "https://stackoverflow.com/questions/40511978/tracking-state-of-array-order", "title": "Tracking State of Array Order", "body": "<p>I need to track changes between an array before it is reordered and after it is reordered. I have two variables <code>originalOrder</code> and <code>rulesetOrder</code>. My component is bound to <code>rulesetOrder</code> so that when I move an item, it updates that array to reflect its index in the array. Each time I reorder, an event fires and I compare the <code>originalOrder</code> to the <code>rulesetOrder</code>. At the end of all the comparisons, I set the <code>originalOrder</code> equal to the new <code>rulesetOrder</code> which was updated.</p>\n<p>First time I reorder, it's fine, the <code>originalOrder</code> is different that the new one (<code>rulesetOrder</code>). If I go to reorder a second time, <code>originalOrder</code> seemed to have automatically changed with <code>rulesetOrder</code>, therefore is showing no differences between the two arrays.</p>\n<p>Here's my code, could anyone please help me out with what I am doing wrong, so that <code>originalOrder</code> always equals the previous state of the array when the event gets fired again?</p>\n<pre><code>OnReorder()\n{     \n    console.log(&quot;Start: &quot; + JSON.stringify(this.originalOrder));\n    console.log(&quot;New Order:&quot; + JSON.stringify(this.rulesetOrder));        \n    this.originalOrder = this.rulesetOrder; \n}\n</code></pre>\n<p>When I set the original order equal to <code>rulesetOrder</code>, does that bind them together, so that when one changes the other one will as well? Is there a way around this?</p>\n<p>First time:</p>\n<blockquote>\n<p>Start: [&quot;ae74e7fd-a772-4fa2-b2cb-19c7c0bc611f&quot;, &quot;1caf3416-9853-49eb-8bda-c3b9017a204a&quot;, &quot;9e5fe94d-6c0e-4b85-85f4-38a074badfeb&quot;]</p>\n<p>New Order:[&quot;1caf3416-9853-49eb-8bda-c3b9017a204a&quot;, &quot;ae74e7fd-a772-4fa2-b2cb-19c7c0bc611f&quot;,&quot;9e5fe94d-6c0e-4b85-85f4-38a074badfeb&quot;]</p>\n</blockquote>\n<p>2nd time:</p>\n<blockquote>\n<p>Start: [&quot;ae74e7fd-a772-4fa2-b2cb-19c7c0bc611f&quot;,&quot;1caf3416-9853-49eb-8bda-c3b9017a204a&quot;,&quot;9e5fe94d-6c0e-4b85-85f4-38a074badfeb&quot;]</p>\n<p>New Order:[&quot;ae74e7fd-a772-4fa2-b2cb-19c7c0bc611f&quot;,&quot;1caf3416-9853-49eb-8bda-c3b9017a204a&quot;,&quot;9e5fe94d-6c0e-4b85-85f4-38a074badfeb&quot;]</p>\n</blockquote>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 6667, "user_id": 5409081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AcieU.jpg?s=128&g=1", "display_name": "Jorawar Singh", "link": "https://stackoverflow.com/users/5409081/jorawar-singh"}, "edited": false, "score": 0, "creation_date": 1478710702, "post_id": 40511948, "comment_id": 68266306, "body": "what is the status code you are getting, i mean it can be else then 0?"}, {"owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "reply_to_user": {"reputation": 6667, "user_id": 5409081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AcieU.jpg?s=128&g=1", "display_name": "Jorawar Singh", "link": "https://stackoverflow.com/users/5409081/jorawar-singh"}, "edited": false, "score": 0, "creation_date": 1478710933, "post_id": 40511948, "comment_id": 68266438, "body": "@MrJSingh the guy who designed the API only returned success as 0 or 1 to validate the response.so I my operation was successfull,it will return success =1 or it will return success=0 .now I want to throw error if success is 0.is that possible?"}, {"owner": {"reputation": 6667, "user_id": 5409081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AcieU.jpg?s=128&g=1", "display_name": "Jorawar Singh", "link": "https://stackoverflow.com/users/5409081/jorawar-singh"}, "edited": false, "score": 0, "creation_date": 1478711038, "post_id": 40511948, "comment_id": 68266494, "body": "Let me try on my app, technically it should be possible."}, {"owner": {"reputation": 6667, "user_id": 5409081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AcieU.jpg?s=128&g=1", "display_name": "Jorawar Singh", "link": "https://stackoverflow.com/users/5409081/jorawar-singh"}, "edited": false, "score": 0, "creation_date": 1478711554, "post_id": 40511948, "comment_id": 68266791, "body": "try this return Observable.throw(response);"}, {"owner": {"reputation": 221, "user_id": 8342681, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--4Gq8iadnCk/AAAAAAAAAAI/AAAAAAAAABo/CrdIWChLUbw/photo.jpg?sz=128", "display_name": "Javier Solis Guzman", "link": "https://stackoverflow.com/users/8342681/javier-solis-guzman"}, "edited": false, "score": 0, "creation_date": 1553191071, "post_id": 40511948, "comment_id": 97302907, "body": "You can try doing this: it&#180;s a similar case <a href=\"https://stackoverflow.com/a/55286461/8342681\">stackoverflow.com/a/55286461/8342681</a>"}], "answers": [{"comments": [{"owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 0, "creation_date": 1478710660, "post_id": 40512150, "comment_id": 68266282, "body": "my api never calls catch block. thats the issue I am having. In my response I want to check for certain condition and then  throw the error or call the catch block."}, {"owner": {"reputation": 119, "user_id": 5027340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xXv5S.jpg?s=128&g=1", "display_name": "Nam Le", "link": "https://stackoverflow.com/users/5027340/nam-le"}, "edited": false, "score": 0, "creation_date": 1515403780, "post_id": 40512150, "comment_id": 83272916, "body": "I&#39;ve gotten this error with private handleError(error: Response)  <b>WEBPACK_IMPORTED_MODULE_2_rxjs_Observable</b>.a.throw is not a function     at CatchSubscriber.selector"}, {"owner": {"reputation": 309, "user_id": 6440091, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lRXbj.png?s=128&g=1", "display_name": "SovietPanda", "link": "https://stackoverflow.com/users/6440091/sovietpanda"}, "reply_to_user": {"reputation": 119, "user_id": 5027340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xXv5S.jpg?s=128&g=1", "display_name": "Nam Le", "link": "https://stackoverflow.com/users/5027340/nam-le"}, "edited": false, "score": 0, "creation_date": 1520864005, "post_id": 40512150, "comment_id": 85477891, "body": "@NamLe you have to import throw in order to use it. <code>import &#39;rxjs&#47;add&#47;observable&#47;throw&#39;;</code>"}], "tags": [], "owner": {"reputation": 2395, "user_id": 5306333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206236442642876/picture?type=large", "display_name": "John Baird", "link": "https://stackoverflow.com/users/5306333/john-baird"}, "is_accepted": false, "score": 0, "last_activity_date": 1478710392, "creation_date": 1478710392, "answer_id": 40512150, "question_id": 40511948, "link": "https://stackoverflow.com/questions/40511948/how-to-throw-an-observable-error-manually/40512150#40512150", "title": "How to throw an observable error manually?", "body": "<p>Use the catch operator</p>\n\n<pre><code>this.calcSub = this.http.post(this.constants.userUrl + \"UpdateCalculation\", body, { headers: headers })\n   .map((response: Response) =&gt; {\n      var result = &lt;DataResponseObject&gt;response.json();\n         return result;\n   })\n   .catch(this.handleError)\n   .subscribe(\n      dro =&gt; this.dro = dro,\n      () =&gt; this.completeAddCalculation()\n   );\n</code></pre>\n\n<p>And handle the error like this:</p>\n\n<pre><code>private handleError(error: Response) {\n    console.error(error); // log to console instead\n    return Observable.throw(error.json().error || 'Server Error');\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 1, "creation_date": 1478711870, "post_id": 40512534, "comment_id": 68266948, "body": "I am getting  it in success callback even after not using this"}, {"owner": {"reputation": 6667, "user_id": 5409081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AcieU.jpg?s=128&g=1", "display_name": "Jorawar Singh", "link": "https://stackoverflow.com/users/5409081/jorawar-singh"}, "reply_to_user": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 1, "creation_date": 1478712271, "post_id": 40512534, "comment_id": 68267158, "body": "i don&#39;t understand, what do you mean even when not using it? could you explain it to me? i tested it as you have the case and Observable will throw error only if success is 0."}, {"owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 0, "creation_date": 1478712383, "post_id": 40512534, "comment_id": 68267207, "body": "I mean if my response is returning anything , be it error or success, it will always return it into success callback.I want error to be thrown in error callback.."}, {"owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 0, "creation_date": 1478712467, "post_id": 40512534, "comment_id": 68267256, "body": "i.e. even if I dont use Observable.throw , I can access error in success callback"}, {"owner": {"reputation": 6667, "user_id": 5409081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AcieU.jpg?s=128&g=1", "display_name": "Jorawar Singh", "link": "https://stackoverflow.com/users/5409081/jorawar-singh"}, "reply_to_user": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 0, "creation_date": 1478712506, "post_id": 40512534, "comment_id": 68267281, "body": "ok then we need to change code a little bit. i will come back to you in short!"}, {"owner": {"reputation": 6667, "user_id": 5409081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AcieU.jpg?s=128&g=1", "display_name": "Jorawar Singh", "link": "https://stackoverflow.com/users/5409081/jorawar-singh"}, "reply_to_user": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "edited": false, "score": 0, "creation_date": 1478713001, "post_id": 40512534, "comment_id": 68267523, "body": "here it is the trick throw Observable.throw(response) now your response will be injected into error object. you can log and see it."}, {"owner": {"reputation": 20779, "user_id": 1056679, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bb906e4ebc05732cd74ff47671e6667c?s=128&d=identicon&r=PG", "display_name": "Slava Fomin II", "link": "https://stackoverflow.com/users/1056679/slava-fomin-ii"}, "edited": false, "score": 20, "creation_date": 1529515697, "post_id": 40512534, "comment_id": 88905549, "body": "This answer is outdated."}, {"owner": {"reputation": 1023, "user_id": 2140397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4ad2bef15c407d0330a50fe0595aa6a0?s=128&d=identicon&r=PG", "display_name": "tanou", "link": "https://stackoverflow.com/users/2140397/tanou"}, "edited": false, "score": 0, "creation_date": 1559143373, "post_id": 40512534, "comment_id": 99330935, "body": "This method is deprecated, see answer below (using throwError from &#39;rxjs&#39;)"}, {"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 4, "creation_date": 1563272747, "post_id": 40512534, "comment_id": 100636184, "body": "This will return an Observable in the error callback which isn&#39;t good code design. Instead just throw your own error object <code>throw { message: &#39;Bad response&#39;, value: response}</code>"}], "tags": [], "owner": {"reputation": 6667, "user_id": 5409081, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AcieU.jpg?s=128&g=1", "display_name": "Jorawar Singh", "link": "https://stackoverflow.com/users/5409081/jorawar-singh"}, "is_accepted": true, "score": 94, "last_activity_date": 1563272952, "last_edit_date": 1563272952, "creation_date": 1478711733, "answer_id": 40512534, "question_id": 40511948, "link": "https://stackoverflow.com/questions/40511948/how-to-throw-an-observable-error-manually/40512534#40512534", "title": "How to throw an observable error manually?", "body": "<pre><code>if (response.success == 0) {\n   throw Observable.throw(response);  \n } \n</code></pre>\n\n<p><strong>Edit for <em>rxjs 6</em>:</strong></p>\n\n<pre><code>if (response.success == 0) {\n   throw throwError(response);  \n } \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 450, "user_id": 465235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0084d3a4cf57573cf14a8486b4b6da98?s=128&d=identicon&r=PG", "display_name": "Yassine ElBadaoui", "link": "https://stackoverflow.com/users/465235/yassine-elbadaoui"}, "edited": false, "score": 3, "creation_date": 1519877942, "post_id": 40513781, "comment_id": 85090195, "body": "for the second one it will be: <code>throw Observable.throw(response)</code>"}, {"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 1, "creation_date": 1563273541, "post_id": 40513781, "comment_id": 100636573, "body": "+1 for the simple <code>throw response</code>. Everything else, e.g. returning an ErrorObservable or throwing an ErrorObservable inside <code>map</code> isn&#39;t ideal as you will end up with a nested Observable."}, {"owner": {"reputation": 342, "user_id": 9614342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u6tD3.jpg?s=128&g=1", "display_name": "Farhad", "link": "https://stackoverflow.com/users/9614342/farhad"}, "edited": false, "score": 0, "creation_date": 1616456263, "post_id": 40513781, "comment_id": 118003545, "body": "is the second one deprecated?"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 11, "last_activity_date": 1567076535, "last_edit_date": 1567076535, "creation_date": 1478716592, "answer_id": 40513781, "question_id": 40511948, "link": "https://stackoverflow.com/questions/40511948/how-to-throw-an-observable-error-manually/40513781#40513781", "title": "How to throw an observable error manually?", "body": "<p><strong>rxjs 5</strong></p>\n\n<p>Either </p>\n\n<pre><code>throw response;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>throw Observable.throw(response);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1713, "user_id": 2313004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bce553345a6440ab9cc143fd8af074?s=128&d=identicon&r=PG", "display_name": "grreeenn", "link": "https://stackoverflow.com/users/2313004/grreeenn"}, "edited": false, "score": 9, "creation_date": 1532357000, "post_id": 49130411, "comment_id": 89931725, "body": "The accepted answer solution is deprecated in rxjs6. Thank you, your one works :)"}, {"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 1, "creation_date": 1563273278, "post_id": 49130411, "comment_id": 100636459, "body": "This is the way to go when used within an operator that is expected to return an Observable like <code>switchMap</code> or <code>mergeMap</code>. When used within <code>map</code> you will end up with a nested Observable (you will get an Observable in the success callback of your Observable) which probably isn&#39;t what you want."}], "tags": [], "owner": {"reputation": 6991, "user_id": 2487876, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1d68f7d82d1aa7d4eabe6bcd6985eee6?s=128&d=identicon&r=PG", "display_name": "Kristjan Liiva", "link": "https://stackoverflow.com/users/2487876/kristjan-liiva"}, "is_accepted": false, "score": 96, "last_activity_date": 1525711243, "last_edit_date": 1525711243, "creation_date": 1520337902, "answer_id": 49130411, "question_id": 40511948, "link": "https://stackoverflow.com/questions/40511948/how-to-throw-an-observable-error-manually/49130411#49130411", "title": "How to throw an observable error manually?", "body": "<p><strong>rxjs 6</strong></p>\n\n<pre><code>import { throwError } from 'rxjs';\n\nif (response.success == 0) {\n  return throwError(response);  \n}\n</code></pre>\n\n<p><strong>rxjs 5</strong></p>\n\n<pre><code>import { ErrorObservable } from 'rxjs/observable/ErrorObservable';\n\nif (response.success == 0) {\n  return new ErrorObservable(response);  \n}\n</code></pre>\n\n<p>What you return with <code>ErrorObservable</code> is up to you</p>\n"}, {"tags": [], "owner": {"reputation": 58, "user_id": 1660558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74cf2ed38fc8735f7c6618956bac9eec?s=128&d=identicon&r=PG", "display_name": "Ajay", "link": "https://stackoverflow.com/users/1660558/ajay"}, "is_accepted": false, "score": 0, "last_activity_date": 1530717936, "creation_date": 1530717936, "answer_id": 51176948, "question_id": 40511948, "link": "https://stackoverflow.com/questions/40511948/how-to-throw-an-observable-error-manually/51176948#51176948", "title": "How to throw an observable error manually?", "body": "<p>Most of my issues were related to the imports, so here's the code that worked for me...</p>\n\n<pre><code>import {_throw} from 'rxjs/observable/throw';\nlogin(email, password) {\n...\n    return this.http.post(`${this._configService.getBaseUrl()}/login`, body, options)\n    .map((res: any) =&gt; {\n...\n        if (response.success == 0) {\n           _throw(response);  \n        } else if (response.success == 1) {\n...\n        }\n    });\n}\n</code></pre>\n\n<p>This will be the solution if you are facing errors like...</p>\n\n<blockquote>\n  <p>ERROR TypeError:\n  <strong>WEBPACK_IMPORTED_MODULE_2_rxjs_Observable</strong>.Observable.throw is not a function</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2163, "user_id": 986161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41d89772540f08f9a1ff27a38c65b48c?s=128&d=identicon&r=PG", "display_name": "Endrju", "link": "https://stackoverflow.com/users/986161/endrju"}, "edited": false, "score": 0, "creation_date": 1541557518, "post_id": 52291846, "comment_id": 93255688, "body": "Care to explain why is that better than the native part of the language i.e. the <code>throw</code> keyword?"}, {"owner": {"reputation": 2520, "user_id": 593702, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/250ad93ef7182f69c510d1515f643d4f?s=128&d=identicon&r=PG", "display_name": "pajics", "link": "https://stackoverflow.com/users/593702/pajics"}, "reply_to_user": {"reputation": 2163, "user_id": 986161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41d89772540f08f9a1ff27a38c65b48c?s=128&d=identicon&r=PG", "display_name": "Endrju", "link": "https://stackoverflow.com/users/986161/endrju"}, "edited": false, "score": 1, "creation_date": 1552692746, "post_id": 52291846, "comment_id": 97122218, "body": "@Endrju it&#39;s completely different. return throwError will return observable that you can then handle with catchError or inside subsribe. if you throw new Error(&#39;&#39;) this will bubble up and won&#39;t be handled inside observables..."}, {"owner": {"reputation": 4300, "user_id": 113701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e1a4e780c91cb2701b0bda2e8a1a64e6?s=128&d=identicon&r=PG", "display_name": "Doug Domeny", "link": "https://stackoverflow.com/users/113701/doug-domeny"}, "edited": false, "score": 0, "creation_date": 1612994440, "post_id": 52291846, "comment_id": 116943292, "body": "Just calling <code>throwError</code> didn&#39;t work for me."}], "tags": [], "owner": {"reputation": 271, "user_id": 3726249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AaqkE.png?s=128&g=1", "display_name": "hajaniain", "link": "https://stackoverflow.com/users/3726249/hajaniain"}, "is_accepted": false, "score": 11, "last_activity_date": 1536744460, "creation_date": 1536744460, "answer_id": 52291846, "question_id": 40511948, "link": "https://stackoverflow.com/questions/40511948/how-to-throw-an-observable-error-manually/52291846#52291846", "title": "How to throw an observable error manually?", "body": "<p>with rxjs 6</p>\n\n<pre><code>import { throwError } from 'rxjs';\nthrowError('hello');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "is_accepted": false, "score": 0, "last_activity_date": 1548461914, "creation_date": 1548461914, "answer_id": 54374493, "question_id": 40511948, "link": "https://stackoverflow.com/questions/40511948/how-to-throw-an-observable-error-manually/54374493#54374493", "title": "How to throw an observable error manually?", "body": "<p>Usually when you're throwing an error you'll be doing so at the exact moment the problem occurred and you want to raise it immediately, but this may not always be the case. </p>\n\n<p>For instance there is the <code>timeoutWith()</code> operator, which is perhaps one of the most likely reasons you'll need to do this.</p>\n\n<pre><code>results$ = server.getResults().pipe(timeoutWith(10000, ....) )\n</code></pre>\n\n<p>This takes an 'error factory', which is a function.</p>\n\n<pre><code> errorFactory = () =&gt; 'Your error occurred at exactly ' + new Date()\n</code></pre>\n\n<p>eg.</p>\n\n<pre><code>results$ = server.searchCustomers(searchCriteria).pipe(timeoutWith(10000, \n              () =&gt; 'Sorry took too long for search ' + JSON.stringify(searchCriteria)) )\n</code></pre>\n\n<p>Note that when using <code>timeoutWith</code> you'll never get the actual server response back - so if the server gave a specific error you'd never see it. This above example can be very useful in debugging, but be sure not to display the error to the end user if you use the above example.</p>\n\n<p>AN error factory is helpful because it doesn't evaluate the code until the actual error occurs. So you can put 'expensive' or debugging operations inside that will get executed when the error is actually finally needed.</p>\n\n<p>If you need to use a 'factory' to create your error somewhere other than in timeout you can use the following.</p>\n\n<pre><code> EMPTY.pipe(throwIfEmpty(errorFactory)) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 4742336, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z6jSp-f7Oes/AAAAAAAAAAI/AAAAAAAAAJU/SaUl03nTPVs/photo.jpg?sz=128", "display_name": "Sinisa Rudan", "link": "https://stackoverflow.com/users/4742336/sinisa-rudan"}, "is_accepted": false, "score": 1, "last_activity_date": 1571505032, "last_edit_date": 1571505032, "creation_date": 1571503409, "answer_id": 58465846, "question_id": 40511948, "link": "https://stackoverflow.com/questions/40511948/how-to-throw-an-observable-error-manually/58465846#58465846", "title": "How to throw an observable error manually?", "body": "<p>Here is the official example (that emits number 7 and then error 'oops!'):</p>\n\n<pre><code>import { throwError, concat, of } from 'rxjs';\n\nconst result = concat(of(7), throwError(new Error('oops!')));\nresult.subscribe(x =&gt; console.log(x), e =&gt; console.error(e));\n</code></pre>\n\n<p>From:\n<a href=\"https://rxjs-dev.firebaseapp.com/api/index/function/throwError\" rel=\"nofollow noreferrer\">https://rxjs-dev.firebaseapp.com/api/index/function/throwError</a></p>\n"}], "owner": {"reputation": 12179, "user_id": 4460894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KNeGL.jpg?s=128&g=1", "display_name": "Bhushan Gadekar", "link": "https://stackoverflow.com/users/4460894/bhushan-gadekar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94370, "favorite_count": 14, "accepted_answer_id": 40512534, "answer_count": 8, "score": 75, "last_activity_date": 1601452618, "creation_date": 1478709706, "last_edit_date": 1601452618, "question_id": 40511948, "link": "https://stackoverflow.com/questions/40511948/how-to-throw-an-observable-error-manually", "title": "How to throw an observable error manually?", "body": "<p>I am working on an Angular app in which I am making a rest call through HTTP as below:</p>\n<pre><code>login(email, password) {\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\n    let options = new RequestOptions({ headers: headers });\n    let body = `identity=${email}&amp;password=${password}`;\n    return this.http.post(`${this._configService.getBaseUrl()}/login`, body, options)\n    .map((res: any) =&gt; {\n        let response: any = JSON.parse(res._body);\n        if (response.success == 0) {\n          Observable.throw(response);  // not working\n        } else if (response.success == 1) {\n          console.log('success');\n          localStorage.setItem('auth_token', 'authenticated');\n          this.loggedIn = true;\n          return response;\n        }\n    });\n}\n</code></pre>\n<p>Basically I want my component to get response &amp; error in my subscribe call, i.e.</p>\n<pre><code>this._authenticateService.login(this.loginObj['identity'],this.loginObj['password']).subscribe(\n  (success)=&gt;{      \n    this.credentialsError=null;  \n    this.loginObj={};  \n    this._router.navigate(['dashboard']);    \n  },\n  (error)=&gt;{\n    console.log(error);        \n    this.credentialsError=error;     \n  }\n);\n</code></pre>\n<p>but my API always returns success as it is defined that way.</p>\n<p>How can I throw an error message if <code>response.success == 0</code>,  so that it will be accessed inside error argument of my subscribe callback?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1478708718, "creation_date": 1478708718, "answer_id": 40511652, "question_id": 40511415, "link": "https://stackoverflow.com/questions/40511415/typescript-const-reusing-property-values-to-define-new-properties/40511652#40511652", "title": "Typescript const reusing property values to define new properties", "body": "<p>No, because <code>TEST</code> isn't defined yet then.<br>\nFor example, if you try this:</p>\n\n<pre><code>const TEST = {\n  \"a1\": \"world\",\n  \"a2\": \"hello\",\n  \"a3\": TEST[\"a3\"]\n};\n</code></pre>\n\n<p>You'll get:</p>\n\n<blockquote>\n  <p>Error: Block-scoped variable 'TEST' used before its declaration</p>\n</blockquote>\n\n<p>You can do this:</p>\n\n<pre><code>const TEST = {\n  \"a1\": \"world\",\n  \"a2\": \"hello\"\n} as { a1: string, a2: string, a3: string };\n\nTEST.a3 = TEST.a1;\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/index.html#src=const%20TEST%20%3D%20%7B%0A%20%20%22a1%22%3A%20%22world%22%2C%0A%20%20%22a2%22%3A%20%22hello%22%0A%7D%20as%20%7B%20a1%3A%20string%2C%20a2%3A%20string%2C%20a3%3A%20string%20%7D%3B%0A%0ATEST.a3%20%3D%20TEST.a1%3B\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n"}], "owner": {"reputation": 2981, "user_id": 3538394, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5171401d1f5ff338735084044b190a89?s=128&d=identicon&r=PG&f=1", "display_name": "takeradi", "link": "https://stackoverflow.com/users/3538394/takeradi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 40511652, "answer_count": 1, "score": 0, "last_activity_date": 1478708718, "creation_date": 1478707984, "question_id": 40511415, "link": "https://stackoverflow.com/questions/40511415/typescript-const-reusing-property-values-to-define-new-properties", "title": "Typescript const reusing property values to define new properties", "body": "<p>Is there a way I can reuse the property value defined in an const object in Typescript to define other new properties in the same object?</p>\n\n<p>Something like this:</p>\n\n<pre><code>const TEST = {\n  \"a1\": \"world\",\n  \"a2\": \"hello\",\n  \"a3\": this.a1\n};\n</code></pre>\n\n<p>console.log(TEST.a3); logs undefined right now.</p>\n"}, {"tags": ["javascript", "typescript", "tsc"], "answers": [{"tags": [], "owner": {"reputation": 7993, "user_id": 1713076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UpkXs.jpg?s=128&g=1", "display_name": "mohamed hegazy", "link": "https://stackoverflow.com/users/1713076/mohamed-hegazy"}, "is_accepted": false, "score": 4, "last_activity_date": 1478743055, "creation_date": 1478743055, "answer_id": 40518882, "question_id": 40511098, "link": "https://stackoverflow.com/questions/40511098/typescript-tsc-is-not-excluding-types-corejs/40518882#40518882", "title": "typescript tsc is not excluding @types/corejs", "body": "<p>Your <code>tsconfig.json</code> file lists <code>core-js</code> in the <code>\"types\"</code> property. This instructs the compiler to include <code>node_module\\@types\\core-js</code>. if you do not need it remove that entry.</p>\n\n<p>See <a href=\"http://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types</a> for more details about <code>@types</code>, and <code>types</code> in <code>tsconfig.json</code>.</p>\n"}], "owner": {"reputation": 1121, "user_id": 6534957, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/b22a14c11731ad5fe040cf9acbc7e40b?s=128&d=identicon&r=PG&f=1", "display_name": "Jerzy Gruszka", "link": "https://stackoverflow.com/users/6534957/jerzy-gruszka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2286, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1478743055, "creation_date": 1478707065, "question_id": 40511098, "link": "https://stackoverflow.com/questions/40511098/typescript-tsc-is-not-excluding-types-corejs", "title": "typescript tsc is not excluding @types/corejs", "body": "<p>Tsconfig:</p>\n\n<pre><code>{\n\"compilerOptions\": {\n\"target\": \"es5\",\n\"module\": \"commonjs\",\n\"emitDecoratorMetadata\": true,\n\"experimentalDecorators\": true,\n\"sourceMap\": true,\n\"noEmitHelpers\": true,\n\"lib\": [\n  \"es6\",\n  \"dom\"\n],\n\"types\": [\n  \"hammerjs\",\n  \"jasmine\",\n  \"node\",\n  \"selenium-webdriver\",\n  \"webpack\",\n  \"core-js\",\n  \"google-maps\"\n]\n},\n\"exclude\": [\n\"node_modules\"\n\"e2e\"\n],\n\"include\": [\n\"src/**/*\"\n],\n\"filesGlob\": [\n\"./src/**/*.ts\",\n\"./test/**/*.ts\",\n\"!./node_modules/**/*.ts\",\n\"./src/custom-typings.d.ts\"\n],\n\n}\n</code></pre>\n\n<p>When executing tsc I get following errors:</p>\n\n<blockquote>\n  <p>node_modules/@types/core-js/index.d.ts(262,5): error TS2687: All declarations of 'flags' must have identical modifiers.\n  node_modules/@types/core-js/index.d.ts(276,5): error TS2687: All declarations of 'EPSILON' must have identical modifiers.\n  node_modules/@types/core-js/index.d.ts(311,5): error TS2687: All declarations of 'MAX_SAFE_INTEGER' must have identical modifiers.\n  node_modules/@types/core-js/index.d.ts(318,5): error TS2687: All declarations of 'MIN_SAFE_INTEGER' must have identical modifiers.\n  node_modules/@types/core-js/index.d.ts(457,5): error TS2403: Subsequent variable declarations must have the same type.  Variable '[Symbol.toStringTag]' must be of type '\"Symbol\"', but here has type 'string'.\n  node_modules/@types/core-js/index.d.ts(457,5): error TS2687: All declarations of '[Symbol.toStringTag]' must have identical modifiers.\n  node_modules/@types/core-js/index.d.ts(464,5): error TS2687: All declarations of 'prototype' must have identical modifiers.\n  node_modules/@types/core-js/index.d.ts(492,5): error TS2687: All declarations of 'hasInstance' must have identical modifiers.\n  node_modules/@types/core-js/index.d.ts(498,5): error TS2687: All declarations of 'isConcatSpreadable' must have identical modifiers.\n  node_modules/@types/core-js/index.d.ts(504,5): error TS2687: All declarations of 'iterator' must have identical modifiers.\n  node_modules/@types/core-js/index.d.ts(510,5): error TS2687: All declarations of </p>\n</blockquote>\n\n<p>Why node_modules are not ignored when executing tsc command.\nI am using typescript in 2.0.3 version</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1932, "user_id": 1847202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fed60c995f300a5346974a941692c24e?s=128&d=identicon&r=PG&f=1", "display_name": "chimmi", "link": "https://stackoverflow.com/users/1847202/chimmi"}, "edited": false, "score": 0, "creation_date": 1478707409, "post_id": 40511093, "comment_id": 68264378, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/22875636/how-do-i-cast-a-json-object-to-a-typescript-class\">How do I cast a JSON object to a typescript class</a>"}, {"owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 0, "creation_date": 1478707445, "post_id": 40511093, "comment_id": 68264407, "body": "Either you&#39;re going to have to write your own constructor or you&#39;ll have to take your returned obejcts and append the function (technically legal JS) with <code>for(let obj of responseObjects) { obj[&#39;toFullString&#39;] = function ... }</code>.  One you don&#39;t want, and the other is a little sketchy."}, {"owner": {"reputation": 20373, "user_id": 1671558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cNgN2.png?s=128&g=1", "display_name": "Ilya Chernomordik", "link": "https://stackoverflow.com/users/1671558/ilya-chernomordik"}, "reply_to_user": {"reputation": 1932, "user_id": 1847202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fed60c995f300a5346974a941692c24e?s=128&d=identicon&r=PG&f=1", "display_name": "chimmi", "link": "https://stackoverflow.com/users/1847202/chimmi"}, "edited": false, "score": 0, "creation_date": 1478717712, "post_id": 40511093, "comment_id": 68269795, "body": "@chimmi this does not seem to be a duplicate. I already can cast, that&#39;s not the problem. The problem is that ordinary casting is not enough to get the &quot;real&quot; class..."}], "answers": [{"comments": [{"owner": {"reputation": 20373, "user_id": 1671558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cNgN2.png?s=128&g=1", "display_name": "Ilya Chernomordik", "link": "https://stackoverflow.com/users/1671558/ilya-chernomordik"}, "edited": false, "score": 0, "creation_date": 1478717774, "post_id": 40511269, "comment_id": 68269824, "body": "Well, I wanted to avoid it, to do things automatically somehow. It&#39;s a lot of tedious work..."}], "tags": [], "owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "is_accepted": false, "score": 1, "last_activity_date": 1478707560, "creation_date": 1478707560, "answer_id": 40511269, "question_id": 40511093, "link": "https://stackoverflow.com/questions/40511093/how-to-get-the-proper-class-during-a-cast-from-json-in-typescript/40511269#40511269", "title": "How to get the proper class during a cast from JSON in typescript?", "body": "<p>You could create the Object and give it the JSON values.</p>\n\n<pre><code>.map(res =&gt; this.onResponse(res))\n</code></pre>\n\n<p>-</p>\n\n<pre><code>function onResponse(res:any){\n    this.foo = new Foo();\n    this.foo.name = res['name'];\n    ...\n}\n</code></pre>\n\n<p>Or give the JSON values to the constructor of Foo</p>\n\n<pre><code>this.foo = new Foo(res['name'], ...);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20373, "user_id": 1671558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cNgN2.png?s=128&g=1", "display_name": "Ilya Chernomordik", "link": "https://stackoverflow.com/users/1671558/ilya-chernomordik"}, "edited": false, "score": 0, "creation_date": 1478717896, "post_id": 40511410, "comment_id": 68269883, "body": "That looks like quite hacky unfortunately, so I guess I&#39;ll stick with constructor or ordinary mapping if nothing better exists... Though I suppose there are some sort of AutoMapper for TypeScript."}], "tags": [], "owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "is_accepted": true, "score": 1, "last_activity_date": 1478710293, "last_edit_date": 1478710293, "creation_date": 1478707974, "answer_id": 40511410, "question_id": 40511093, "link": "https://stackoverflow.com/questions/40511093/how-to-get-the-proper-class-during-a-cast-from-json-in-typescript/40511410#40511410", "title": "How to get the proper class during a cast from JSON in typescript?", "body": "<p>Either you're going to have to write your own constructor or you'll have to take your returned obejcts and append the function (technically legal JS) with <code>for(let obj of responseObjects) { obj['toFullString'] = function ... }</code>. One you don't want, and the other is a little sketchy.</p>\n\n<p>The constructor method you have already seen but I'll repeat here:</p>\n\n<pre><code>constructor(public name, public index) {\n    this.name = name;\n    this.index = index;\n}\n</code></pre>\n\n<p>You could also do it in the map which is the same thing.</p>\n\n<pre><code>masterFoo: Foo = new Foo();\n\nmapFoo(responseObject: any) {\n    &lt;...&gt;\n    responseObject['toFullString'] = masterFoo.toFullString;\n    &lt;...&gt;\n  }\n</code></pre>\n\n<p>The auto mapping works for data objects only, and it's a limitation due to JS being the underlying language of it all.</p>\n\n<p>Here's a plunker demonstrating appending the function to a Plain Old JavaScript Object:\n<a href=\"http://plnkr.co/edit/BBOthl0rzjfEq3UjD68I?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/BBOthl0rzjfEq3UjD68I?p=preview</a></p>\n"}], "owner": {"reputation": 20373, "user_id": 1671558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cNgN2.png?s=128&g=1", "display_name": "Ilya Chernomordik", "link": "https://stackoverflow.com/users/1671558/ilya-chernomordik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "accepted_answer_id": 40511410, "answer_count": 2, "score": 1, "last_activity_date": 1478710293, "creation_date": 1478707053, "question_id": 40511093, "link": "https://stackoverflow.com/questions/40511093/how-to-get-the-proper-class-during-a-cast-from-json-in-typescript", "title": "How to get the proper class during a cast from JSON in typescript?", "body": "<p>I have a very simple class</p>\n\n<pre><code>export class Foo {\n\n    name: string;\n\n    index: number;\n\n    toFullString(): string {\n        return `${this.name} | ${this.index}`;\n    }\n}\n</code></pre>\n\n<p>I get elements of this class from a server and cast json to this class:</p>\n\n<pre><code>.map(response =&gt; response.json() as Foo)\n</code></pre>\n\n<p>Now what happens is that after I call <code>toFullString()</code> method it fails since this is not the \"real\" <code>Foo</code> object as it would be in say C#.</p>\n\n<p>So what is the proper way of achieving real <code>Foo</code> object, preferably without the need of writing your own constructors and so on.</p>\n\n<p>The type safety in TypeScript is a joke sometimes really.</p>\n"}, {"tags": ["angular", "typescript", "promise"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1478708932, "post_id": 40510889, "comment_id": 68265336, "body": "If nothing is printed, it&#39;s probably that the callback passed to this.FB.getLoginStatus() is never executed. Probably because the getLoginStatus() call failed. It probably expects a second callback in case of error. Where is the documentation for this <code>FB.getLoginStatus()</code> method?"}, {"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1478708974, "post_id": 40510889, "comment_id": 68265363, "body": "@JBNizet, getLoginStatus is successful and returning &quot;connected&quot;"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1478709074, "post_id": 40510889, "comment_id": 68265422, "body": "What do you mean by &quot;returning&quot;. You&#39;re not using the value returned by <code>this.FB.getLoginStatus()</code>. You&#39;re passing a callback instead. And how do you know what it returns (or passes to your callback), since nothing is printed? Again, what is the documentation for FB.getLoginStatus()? What you pointed to just allows loading the facebook library. It doesn&#39;t document the method  FB.getLoginStatus()."}, {"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1478709257, "post_id": 40510889, "comment_id": 68265513, "body": "Posted the documentation. I know what it returns b/c I logged the response to console (see edited code). The fact is, <code>getLoginStatus</code> contains a string in the response, signifying successful authentication, which I am trying to return to the parent service."}, {"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1478709567, "post_id": 40510889, "comment_id": 68265685, "body": "This is the FB documentation: <a href=\"https://developers.facebook.com/docs/reference/javascript/FB.getLoginStatus\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/reference/javascript/&hellip;</a>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1478710598, "post_id": 40510889, "comment_id": 68266245, "body": "Ah, so the problem is not that nothing is printed. The problem is that you&#39;re getting an error. this.FB is undefined, as the error clearly shows. Post the code initializing this.FB, because that&#39;s (also) where the problem is."}, {"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1478710916, "post_id": 40510889, "comment_id": 68266425, "body": "updated the code."}], "answers": [{"comments": [{"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1478707659, "post_id": 40511236, "comment_id": 68264550, "body": "Thanks for the reply Piotr. Although this answer looks promising, this did not work for me... still no errors."}, {"owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "reply_to_user": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1478707779, "post_id": 40511236, "comment_id": 68264625, "body": "This will def work - i am using it. Not with facebook but as a general principle to return values."}, {"owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "reply_to_user": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1478707813, "post_id": 40511236, "comment_id": 68264645, "body": "Try add a reject(value) and see if there are any errors, maybe checkLoginstatus throws an error when there is an error that is why resolve response is not working."}, {"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1478707996, "post_id": 40511236, "comment_id": 68264765, "body": "Please see updated code, now getting a new error <code>Uncaught (in promise): TypeError: Cannot read property &#39;getLoginStatus&#39; of undefined</code> that I was not getting before wrapping with my own promise"}, {"owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "reply_to_user": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1478708306, "post_id": 40511236, "comment_id": 68264945, "body": "try change response =&gt; to (response) =&gt; otherwise maybe its the way you are injecting it i am not familiar with that @injection syntax."}, {"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1478708532, "post_id": 40511236, "comment_id": 68265071, "body": "Adding the parens made no difference. The injection syntax is valid. Updated the code once again. Still getting the same error."}, {"owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "reply_to_user": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1478708631, "post_id": 40511236, "comment_id": 68265141, "body": "this.FB should not be able to work because capital FB is not declared anywhere it should be little fb?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1478708799, "post_id": 40511236, "comment_id": 68265253, "body": "This is an anti-pattern. Chaining should be used: <code>return this.fb.checkLoginStatus().then( response =&gt; {                 console.log(response);                  return response;             });</code>"}, {"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1478708827, "post_id": 40511236, "comment_id": 68265272, "body": "FB <i>is</i> declared / initialized in the construct, if it wasnt, it would never return &quot;connected&quot;... the facebook service is returning &quot;connected&quot;, but I am not able to access this value in the parent service..."}, {"owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "edited": false, "score": 0, "creation_date": 1478708910, "post_id": 40511236, "comment_id": 68265319, "body": "Will response be a promise? I am not sure."}], "tags": [], "owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "is_accepted": false, "score": -2, "last_activity_date": 1478707477, "creation_date": 1478707477, "answer_id": 40511236, "question_id": 40510889, "link": "https://stackoverflow.com/questions/40510889/returning-a-value-from-within-a-promise/40511236#40511236", "title": "Returning a value from within a promise", "body": "<p>Just wrap it in your own promise which you can return and in the resolve value you can specify a return value.</p>\n\n<pre><code>public authenticateFacebook(): Promise&lt;any&gt; {\n\n        return new Promise((resolve, reject) =&gt; {\n           this.fb.checkLoginStatus().then( response =&gt; {\n                console.log(response); //should output connected\n                resolve(response);\n            });\n        });\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1478716601, "post_id": 40512514, "comment_id": 68269282, "body": "Thanks for the reply. However, you&#39;re completely ignoring the fact the two functions are in different files and not really addressing the actual problem. The goal is to output the login status in <code>home.service.ts</code>. Basically,  <code>checkLoginStatus()</code> is in a separate file and I am trying to prevent the  need for <code>this.fbPromise</code> within the <code>home.service.ts</code> file... read the original from start to finish, it should make sense."}, {"owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "edited": false, "score": 0, "creation_date": 1478716700, "post_id": 40512514, "comment_id": 68269322, "body": "Anchovy I am not sure what you are asking anymore."}, {"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "reply_to_user": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "edited": false, "score": 0, "creation_date": 1478716836, "post_id": 40512514, "comment_id": 68269386, "body": "@Piotr, its really quite simple, read the original post. In the topmost, <code>facebook.service.ts</code> code snippet, &quot;connected&quot; is being logged to console. Therefore, all communication with the Facebook API is successful. Now, instead of logging this string to console, the goal is simply to return the &quot;connected&quot; string to the parent service within <code>home.service.ts</code>. The above implementation doesn&#39;t help accomplish this in any way."}, {"owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "edited": false, "score": 0, "creation_date": 1478717189, "post_id": 40512514, "comment_id": 68269569, "body": "The only way you can do what you are trying to achieve is to pass a reference to the service you want to call into the facebook service so when it is initd you can execute a function on it (or interface) or you can use observable instead of promises, and then you can listen to the observable for changes when facebook is &quot;connected&quot; to fire something in your second service."}, {"owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1478717607, "post_id": 40512514, "comment_id": 68269750, "body": "A snippet of what you mean would be appreciated."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "edited": false, "score": 0, "creation_date": 1478720308, "post_id": 40512514, "comment_id": 68271034, "body": "@AnchovyLegend Inject the service where this checkLoginStatus function (in my answer) is defined wherever you want, and do <code>myService.checkLoginStatus().then(status =&gt; console.log(status))</code>. I&#39;m not ignoring anything. I just know how promises work, but you don&#39;t seem to understand them. The fact that the code is in two files is completely irrelevant. A promise is a promise is a promise, wherever it comes from."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": -1, "last_activity_date": 1478711651, "creation_date": 1478711651, "answer_id": 40512514, "question_id": 40510889, "link": "https://stackoverflow.com/questions/40510889/returning-a-value-from-within-a-promise/40512514#40512514", "title": "Returning a value from within a promise", "body": "<p>At the time where you're calling your service, <code>this.FB</code> is still undefined, as the error shows. That's because the initialization itself is asynchronous: facebook() loads the library, and only when it's loaded, <code>this.FB</code> is initialized. You just need to wait for this initialization to be done before using <code>this.FB</code>. The fix is relatively simple though:</p>\n\n<pre><code>private fbPromise: Promise&lt;any&gt;;\n\nconstructor() {\n    this.fbPromise = facebook().then((FB) =&gt; {\n        // Initialize SDK\n        FB.init({\n            appId      : '1111111111111111',\n            cookie     : true,  // enable cookies to allow the server to access\n                                // the session\n            xfbml      : true,  // parse social plugins on this page\n            version    : 'v2.8' // use graph api version 2.5\n        });\n\n        return FB;\n    });\n}\n\nprivate authenticateFacebook(FB): Promise&lt;any&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        FB.getLoginStatus(response =&gt; resolve(response));\n    });\n}\n\ncheckLoginStatus(): Promise&lt;string&gt; {\n    return this.fbPromise\n               .then(FB =&gt; this.authenticateFacebook(FB))\n               .then(response =&gt; response.status);\n}\n</code></pre>\n"}], "owner": {"reputation": 10783, "user_id": 1316524, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7qHj7.jpg?s=128&g=1", "display_name": "AnchovyLegend", "link": "https://stackoverflow.com/users/1316524/anchovylegend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2023, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1478711651, "creation_date": 1478706408, "last_edit_date": 1478710857, "question_id": 40510889, "link": "https://stackoverflow.com/questions/40510889/returning-a-value-from-within-a-promise", "title": "Returning a value from within a promise", "body": "<p>I have a service that injects a service. The child service connects to the facebook api and is suppose to return the login status of the user to the parent service. The problem I am facing is this fb api call uses a promise and I am trying to execute some logic in the parent service based on the value of the child service function call. What would be the correct way of doing this?</p>\n\n<p>This is what I tried:</p>\n\n<p>facebook.service.ts </p>\n\n<p>Note, the below code successfully connects to the facebook api and outputs \"connected\" as it should**</p>\n\n<pre><code>checkLoginStatus() {\n        this.FB.getLoginStatus( (response) =&gt; {\n            console.log(response.status); //outputs \"connected\"\n        });\n\n}\n</code></pre>\n\n<p>However, I am trying to return the value contained within the promise's response to the parent service, so I modified the code as follows... and getting the error: </p>\n\n<pre><code>Uncaught (in promise): TypeError: Cannot read property 'getLoginStatus' of undefined\n</code></pre>\n\n<p>facebook.service.ts</p>\n\n<pre><code> FB:any;\n\n    constructor() {\n        facebook().then((FB) =&gt; {\n            // Initialize SDK\n            FB.init({\n                appId      : '1111111111111111',\n                cookie     : true,  // enable cookies to allow the server to access\n                                    // the session\n                xfbml      : true,  // parse social plugins on this page\n                version    : 'v2.8' // use graph api version 2.5\n            });\n\n            this.FB = FB;\n\n        });\n    }\n\n    checkLoginStatus() {\n        this.FB.getLoginStatus( (response) =&gt; {\n           return response.status; //\"connected\"\n        });\n    }\n</code></pre>\n\n<p>home.service.ts</p>\n\n<pre><code>constructor(@Inject(FacebookService) private fb:FacebookService) {\n    this.authenticateFacebook();\n}\n\nauthenticateFacebook() {\n    this.fb.checkLoginStatus().then( (response) =&gt; {\n        console.log(response); //should output connected\n    });\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ngfor"], "comments": [{"owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "edited": false, "score": 0, "creation_date": 1478706411, "post_id": 40510795, "comment_id": 68263697, "body": "What do you iterate? Where are your &#39;foos&#39; (plural) defined?"}, {"owner": {"reputation": 20373, "user_id": 1671558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cNgN2.png?s=128&g=1", "display_name": "Ilya Chernomordik", "link": "https://stackoverflow.com/users/1671558/ilya-chernomordik"}, "reply_to_user": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "edited": false, "score": 0, "creation_date": 1478706651, "post_id": 40510795, "comment_id": 68263842, "body": "Now that you&#39;ve asked I got what the problem was I think. I do create this object as a cast from the web server. Then they obviously fine for typescript, but this is not the real &quot;class&quot;. This thing got me many times already :( The type safety for Typescript is a joke sometimes."}], "answers": [{"comments": [{"owner": {"reputation": 20373, "user_id": 1671558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cNgN2.png?s=128&g=1", "display_name": "Ilya Chernomordik", "link": "https://stackoverflow.com/users/1671558/ilya-chernomordik"}, "edited": false, "score": 0, "creation_date": 1478707059, "post_id": 40511035, "comment_id": 68264140, "body": "Yeah, I already got that :) Aking a new question if it can be made better in here: <a href=\"http://stackoverflow.com/questions/40511093/how-to-get-the-proper-class-during-a-cast-from-json-in-typescript\" title=\"how to get the proper class during a cast from json in typescript\">stackoverflow.com/questions/40511093/&hellip;</a>"}, {"owner": {"reputation": 20373, "user_id": 1671558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cNgN2.png?s=128&g=1", "display_name": "Ilya Chernomordik", "link": "https://stackoverflow.com/users/1671558/ilya-chernomordik"}, "edited": false, "score": 0, "creation_date": 1478707095, "post_id": 40511035, "comment_id": 68264172, "body": "I guess I won&#39;t delete the question just for the sake of someone else having troubles with typescript type safety and accept your answer."}, {"owner": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "edited": false, "score": 1, "creation_date": 1478707305, "post_id": 40511035, "comment_id": 68264316, "body": "This has nothing to do with TypeScript&#39;s &quot;type safety&quot;, this is the sole problem of JavaScript not having a type system."}], "tags": [], "owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "is_accepted": true, "score": 4, "last_activity_date": 1478706842, "creation_date": 1478706842, "answer_id": 40511035, "question_id": 40510795, "link": "https://stackoverflow.com/questions/40510795/cannot-call-a-function-on-an-element-inside-ngfor-angular2/40511035#40511035", "title": "Cannot call a function on an element inside ngFor Angular2", "body": "<p>My guess is that you are not newing up the class, but doing a cast or conversion.</p>\n\n<p>You need to do a <code>new Foo(nameParam, indexParam)</code> with an associated constructor taking the name and index <code>constructor(public name, public index) { this.name = name; this.index = index; }</code></p>\n"}], "owner": {"reputation": 20373, "user_id": 1671558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cNgN2.png?s=128&g=1", "display_name": "Ilya Chernomordik", "link": "https://stackoverflow.com/users/1671558/ilya-chernomordik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1435, "favorite_count": 0, "accepted_answer_id": 40511035, "answer_count": 1, "score": 1, "last_activity_date": 1478706842, "creation_date": 1478706124, "question_id": 40510795, "link": "https://stackoverflow.com/questions/40510795/cannot-call-a-function-on-an-element-inside-ngfor-angular2", "title": "Cannot call a function on an element inside ngFor Angular2", "body": "<p>I have a very simple class</p>\n\n<pre><code>export class Foo {\n\n    name: string;\n\n    index: number;\n\n    toFullString(): string {\n        return `${this.name} | ${this.index}`;\n    }\n}\n</code></pre>\n\n<p>And this is my ngFor:</p>\n\n<pre><code>&lt;div *ngFor=\"let foo of foos\"&gt;\n    {{foo.toFullString()}};\n&lt;/div&gt;\n</code></pre>\n\n<p>And what I get is that method does not exist in the console:</p>\n\n<blockquote>\n  <p>self.context.$implicit.toFullString is not a function</p>\n</blockquote>\n\n<p>I cannot figure out what's wrong in here. <code>foo.name</code> works fine and outputs all the elements. I suppose that the way typescript adds methods to an object messed up this for angular 2, but cannot figure out what to do.</p>\n"}, {"tags": ["javascript", "typescript", "windows-store-apps"], "comments": [{"owner": {"reputation": 1331, "user_id": 2429136, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a6adec9be250cfe94db4895103e24172?s=128&d=identicon&r=PG", "display_name": "Bomin", "link": "https://stackoverflow.com/users/2429136/bomin"}, "edited": false, "score": 0, "creation_date": 1480586512, "post_id": 40510770, "comment_id": 69027595, "body": "I&#39;m having the same problem.  Do you have a solution?"}, {"owner": {"reputation": 726, "user_id": 6603828, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a82b0e67b3b7216f6837f36d1c0b9a6b?s=128&d=identicon&r=PG&f=1", "display_name": "krabcore", "link": "https://stackoverflow.com/users/6603828/krabcore"}, "reply_to_user": {"reputation": 1331, "user_id": 2429136, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a6adec9be250cfe94db4895103e24172?s=128&d=identicon&r=PG", "display_name": "Bomin", "link": "https://stackoverflow.com/users/2429136/bomin"}, "edited": false, "score": 0, "creation_date": 1480587663, "post_id": 40510770, "comment_id": 69028455, "body": "Unfortunately, there is no simple solution to this problem. WinRT - Its a native functionality Windows system and it is not available in the browser. You have to find analogue of your WinRT functionality for browser."}], "owner": {"reputation": 726, "user_id": 6603828, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a82b0e67b3b7216f6837f36d1c0b9a6b?s=128&d=identicon&r=PG&f=1", "display_name": "krabcore", "link": "https://stackoverflow.com/users/6603828/krabcore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478706894, "creation_date": 1478706039, "last_edit_date": 1478706894, "question_id": 40510770, "link": "https://stackoverflow.com/questions/40510770/windows-is-not-defined-winrt-d-ts", "title": "Windows is not defined (WinRT.d.ts)", "body": "<p>I am trying to convert my win store js app into website. Using <a href=\"http://csharperimage.jeremylikness.com/2014/05/convert-windows-store-app-to-web-in.html\" rel=\"nofollow noreferrer\">this</a> manual I was able to convert a sample app, but when I tried to convert my application I had problems. The main problem associated with the fact that in a manual author simply cuts out everything related with the variable <strong>Windows</strong>, but I can not do because it is associated with a some functional. I have error:\n<strong>Windows is not defined</strong> (<a href=\"https://gyazo.com/bde66f64b67e1dbed7f951c25ea8f1bc\" rel=\"nofollow noreferrer\">https://gyazo.com/bde66f64b67e1dbed7f951c25ea8f1bc</a>). In the application variable \"Windows\" is taken from the <strong>WinRT.d.ts</strong> file (<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/winrt/winrt.d.ts\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/winrt/winrt.d.ts</a>)</p>\n\n<p>How do I include WinRT.d.ts file to my site? Or maybe there are some analogues?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 269539, "user_id": 155423, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/419218774d04a581476ea1887a0921e0?s=128&d=identicon&r=PG", "display_name": "Shepmaster", "link": "https://stackoverflow.com/users/155423/shepmaster"}, "edited": false, "score": 0, "creation_date": 1566056832, "post_id": 40510611, "comment_id": 101539910, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37688318/typescript-interface-possible-to-make-one-or-the-other-properties-required\">Typescript Interface - Possible to make &quot;one or the other&quot; properties required?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7502, "user_id": 163799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3946e4b95db2f8b2da6d5bfcd2bf00e4?s=128&d=identicon&r=PG", "display_name": "Loolooii", "link": "https://stackoverflow.com/users/163799/loolooii"}, "edited": false, "score": 1, "creation_date": 1551279401, "post_id": 40510679, "comment_id": 96583512, "body": "Actually Microsoft suggests it should be: <code>&lt;MenuItemComponent|MenuItemClick&gt;[]</code>"}], "tags": [], "owner": {"reputation": 52062, "user_id": 256793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f3066138ea3d8e6b0c7a3764b5021e78?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/256793/nix"}, "is_accepted": false, "score": 6, "last_activity_date": 1550169811, "last_edit_date": 1550169811, "creation_date": 1478705753, "answer_id": 40510679, "question_id": 40510611, "link": "https://stackoverflow.com/questions/40510611/typescript-interface-require-one-of-two-properties-to-exist/40510679#40510679", "title": "typescript interface require one of two properties to exist", "body": "<p>I ended up doing:</p>\n\n<pre><code>export interface MenuItem {\n  title: string;\n  icon: string;\n}\n\nexport interface MenuItemComponent extends MenuItem{\n  component: any;\n}\n\nexport interface MenuItemClick extends MenuItem{\n  click: any;\n}\n</code></pre>\n\n<p>Then I used:</p>\n\n<pre><code> appMenuItems: Array&lt;MenuItemComponent|MenuItemClick&gt;;\n</code></pre>\n\n<p>But was hoping there was a way to model it with a single interface. </p>\n"}, {"comments": [{"owner": {"reputation": 52062, "user_id": 256793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f3066138ea3d8e6b0c7a3764b5021e78?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/256793/nix"}, "edited": false, "score": 0, "creation_date": 1478705927, "post_id": 40510700, "comment_id": 68263384, "body": "Interesting.  I have never exported a &quot;type&quot; before.  So it simply means MenuItem can be one or the other ?"}, {"owner": {"reputation": 52062, "user_id": 256793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f3066138ea3d8e6b0c7a3764b5021e78?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/256793/nix"}, "edited": false, "score": 0, "creation_date": 1478706096, "post_id": 40510700, "comment_id": 68263499, "body": "I like this better than the one I did below.  Link that helped me understand &quot;type&quot; <a href=\"http://stackoverflow.com/a/36783051/256793\">stackoverflow.com/a/36783051/256793</a>"}, {"owner": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "reply_to_user": {"reputation": 52062, "user_id": 256793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f3066138ea3d8e6b0c7a3764b5021e78?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/256793/nix"}, "edited": false, "score": 0, "creation_date": 1478706122, "post_id": 40510700, "comment_id": 68263517, "body": "Yes: TS has <code>AND</code> and <code>OR</code> operators for its types. If you&#39;re doing something like this, the OR can be nice to give you a single collected name after declaring a bunch of individual types."}, {"owner": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "reply_to_user": {"reputation": 52062, "user_id": 256793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f3066138ea3d8e6b0c7a3764b5021e78?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/256793/nix"}, "edited": false, "score": 0, "creation_date": 1478706176, "post_id": 40510700, "comment_id": 68263556, "body": "and if you do it <i>just</i> right, the compiler may be able to infer which of the types you mean and narrow things correctly. Even if not, the compiler <i>will</i> verify the type you&#39;re passing meets at least one of the requirements."}, {"owner": {"reputation": 1379, "user_id": 4660706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10203622681675852/picture?type=large", "display_name": "Daniel Ramos", "link": "https://stackoverflow.com/users/4660706/daniel-ramos"}, "edited": false, "score": 8, "creation_date": 1510653474, "post_id": 40510700, "comment_id": 81515507, "body": "Hi guys, how do you force to choose between one of the interfaces, but not both? With that type, an object with both <code>component</code> and <code>click</code>  wont make an error..."}, {"owner": {"reputation": 2019, "user_id": 849027, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c809ce9c02c8dd01e51d7bc1a8b4d3fe?s=128&d=identicon&r=PG", "display_name": "ethan.roday", "link": "https://stackoverflow.com/users/849027/ethan-roday"}, "reply_to_user": {"reputation": 1379, "user_id": 4660706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10203622681675852/picture?type=large", "display_name": "Daniel Ramos", "link": "https://stackoverflow.com/users/4660706/daniel-ramos"}, "edited": false, "score": 6, "creation_date": 1525294516, "post_id": 40510700, "comment_id": 87305017, "body": "@DanielRamos you can add <code>click?: never</code> on <code>ComponentMenuItem</code> and <code>component?: never</code> on <code>ClickMenuItem</code>."}, {"owner": {"reputation": 11243, "user_id": 354018, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad1a2ff594f5afe3e3f8819a9cd9f8c7?s=128&d=identicon&r=PG", "display_name": "fabb", "link": "https://stackoverflow.com/users/354018/fabb"}, "reply_to_user": {"reputation": 1379, "user_id": 4660706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10203622681675852/picture?type=large", "display_name": "Daniel Ramos", "link": "https://stackoverflow.com/users/4660706/daniel-ramos"}, "edited": false, "score": 0, "creation_date": 1548312462, "post_id": 40510700, "comment_id": 95497623, "body": "@daniel i think that\u2018s because of this bug in typescript: <a href=\"https://github.com/Microsoft/TypeScript/issues/20863\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/20863</a>"}, {"owner": {"reputation": 1022, "user_id": 5862455, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/351a626af86085930bfb40098c38897c?s=128&d=identicon&r=PG&f=1", "display_name": "Albert", "link": "https://stackoverflow.com/users/5862455/albert"}, "edited": false, "score": 0, "creation_date": 1590066386, "post_id": 40510700, "comment_id": 109543131, "body": "mmmmm and how am I supposed to implement a type? The point of making an interface is to make sure that the class will have certain methods and properties. In brief, I want my class to have whether one property or another, but there must be at least one of them. How do I do that?"}, {"owner": {"reputation": 3004, "user_id": 2306481, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QX99z.jpg?s=128&g=1", "display_name": "Sheraff", "link": "https://stackoverflow.com/users/2306481/sheraff"}, "edited": false, "score": 0, "creation_date": 1603005672, "post_id": 40510700, "comment_id": 113894969, "body": "Is there a way to do the same thing w/ just PropTypes for a project that doesn&#39;t have typescript?"}, {"owner": {"reputation": 165, "user_id": 6458250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95492236fa99f41777bed0ba44b6ab9?s=128&d=identicon&r=PG&f=1", "display_name": "Mohak Londhe", "link": "https://stackoverflow.com/users/6458250/mohak-londhe"}, "edited": false, "score": 0, "creation_date": 1604637753, "post_id": 40510700, "comment_id": 114413875, "body": "I am getting only title and icon when i am using type MenuItem"}, {"owner": {"reputation": 3382, "user_id": 1431146, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fb3b09f895e6453c0619b5769ef7ebd3?s=128&d=identicon&r=PG", "display_name": "CletusW", "link": "https://stackoverflow.com/users/1431146/cletusw"}, "edited": false, "score": 4, "creation_date": 1605830239, "post_id": 40510700, "comment_id": 114780181, "body": "Any way to make this compatible with parameter destructuring? I get TS errors if I try <code>function myFunc({ title, icon, component, click }: MenuItem)</code>  Property &#39;component&#39; does not exist on type &#39;MenuItem&#39;. Property &#39;click&#39; does not exist on type &#39;MenuItem&#39;."}], "tags": [], "owner": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "is_accepted": true, "score": 118, "last_activity_date": 1478706134, "last_edit_date": 1478706134, "creation_date": 1478705808, "answer_id": 40510700, "question_id": 40510611, "link": "https://stackoverflow.com/questions/40510611/typescript-interface-require-one-of-two-properties-to-exist/40510700#40510700", "title": "typescript interface require one of two properties to exist", "body": "<p>Not with a single interface, since types have no conditional logic and can't depend on each other, but you can by splitting the interfaces:</p>\n\n<pre><code>export interface BaseMenuItem {\n  title: string;\n  icon: string;\n}\n\nexport interface ComponentMenuItem extends BaseMenuItem {\n  component: any;\n}\n\nexport interface ClickMenuItem extends BaseMenuItem {\n    click: any;\n}\n\nexport type MenuItem = ComponentMenuItem | ClickMenuItem;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 97140, "user_id": 75642, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb12cd42a3508351122a02dbc0c4f186?s=128&d=identicon&r=PG", "display_name": "Robert Koritnik", "link": "https://stackoverflow.com/users/75642/robert-koritnik"}, "edited": false, "score": 1, "creation_date": 1543570059, "post_id": 48233159, "comment_id": 93974696, "body": "You could use <code>&amp;</code> to and extract <code>title</code> and <code>icon</code> to a separate type. :)"}], "tags": [], "owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "is_accepted": false, "score": 15, "last_activity_date": 1543593923, "last_edit_date": 1543593923, "creation_date": 1515786766, "answer_id": 48233159, "question_id": 40510611, "link": "https://stackoverflow.com/questions/40510611/typescript-interface-require-one-of-two-properties-to-exist/48233159#48233159", "title": "typescript interface require one of two properties to exist", "body": "<p>An alternative without multiple interfaces is</p>\n\n<pre><code>export type MenuItem = {\n  title: string;\n  component: any;\n  icon: string;\n} | {\n  title: string;\n  click: any;\n  icon: string;\n};\n\nconst item: MenuItem[] = [\n  { title: \"\", icon: \"\", component: {} },\n  { title: \"\", icon: \"\", click: \"\" },\n  // Shouldn't this error out because it's passing a property that is not defined\n  { title: \"\", icon: \"\", click: \"\", component: {} },\n  // Does error out :)\n  { title: \"\", icon: \"\" }\n];\n</code></pre>\n\n<p>I've asked a similar question at <a href=\"https://stackoverflow.com/questions/48230773/how-to-create-a-partial-like-that-requires-a-single-property-to-be-set\">How to create a Partial-like that requires a single property to be set</a></p>\n\n<p>The above could be simplified, but it may or may not be easier to read</p>\n\n<pre><code>export type MenuItem = {\n  title: string;\n  icon: string;\n} &amp; (\n {component: any} | {click: string}\n)\n</code></pre>\n\n<p>Note that none of these prevent you from adding both because TypeScript does allow extra properties on objects that use AND/OR See <a href=\"https://github.com/Microsoft/TypeScript/issues/15447\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/15447</a></p>\n"}, {"comments": [{"owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "edited": false, "score": 6, "creation_date": 1532458052, "post_id": 49725198, "comment_id": 89980227, "body": "Thank you very much for descriptive examples. Really informative."}, {"owner": {"reputation": 387, "user_id": 234863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba3a4cda5a9f827593fe1bc3e16cb606?s=128&d=identicon&r=PG", "display_name": "Sam R", "link": "https://stackoverflow.com/users/234863/sam-r"}, "edited": false, "score": 1, "creation_date": 1548705115, "post_id": 49725198, "comment_id": 95629407, "body": "Thanks for an extremely informative and well formed response. I&#39;ve been playing with this example so I can better understand it. It appears that if you give <code>component</code> and <code>click</code> a type other then <code>any</code> an object with both at least one set of valid properties will pass. I assume that is because of the way the type reduces to <code>{ title: string, icon: string, component: any} | { title: string, icon: string, click: any}</code> Which states the type is 3 properties instead of 4 with one being optional.   I&#39;m trying to find documentation on the use of the array in the map notation but can&#39;t."}, {"owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "edited": false, "score": 0, "creation_date": 1553681693, "post_id": 49725198, "comment_id": 97471475, "body": "This. is. pure. genius. You should definitely submit them here <a href=\"https://github.com/sindresorhus/type-fest\" rel=\"nofollow noreferrer\">github.com/sindresorhus/type-fest</a>"}, {"owner": {"reputation": 2806, "user_id": 2077574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kdit8.png?s=128&g=1", "display_name": "KPD", "link": "https://stackoverflow.com/users/2077574/kpd"}, "reply_to_user": {"reputation": 387, "user_id": 234863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba3a4cda5a9f827593fe1bc3e16cb606?s=128&d=identicon&r=PG", "display_name": "Sam R", "link": "https://stackoverflow.com/users/234863/sam-r"}, "edited": false, "score": 0, "creation_date": 1557193655, "post_id": 49725198, "comment_id": 98673313, "body": "@SamR That is a really good point. I updated the answer to add <code>&amp; Partial&lt;Pick&lt;T, Exclude&lt;Keys, K&gt;&gt;&gt;</code> to <code>RequireAtLeastOne</code>. I also updated the playground link so <code>component</code> and <code>click</code> are <code>number</code> types instead of <code>any</code> to show an example of it now correctly declaring an object invalid in the case you brought up. Thanks!"}, {"owner": {"reputation": 3671, "user_id": 1751792, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HIRsS.jpg?s=128&g=1", "display_name": "Lopsided", "link": "https://stackoverflow.com/users/1751792/lopsided"}, "edited": false, "score": 5, "creation_date": 1571189403, "post_id": 49725198, "comment_id": 103153960, "body": "Can anyone explain what the hyphen (minus sign) in the expression <code>[K in keys]-</code> does?"}, {"owner": {"reputation": 2806, "user_id": 2077574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kdit8.png?s=128&g=1", "display_name": "KPD", "link": "https://stackoverflow.com/users/2077574/kpd"}, "reply_to_user": {"reputation": 3671, "user_id": 1751792, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HIRsS.jpg?s=128&g=1", "display_name": "Lopsided", "link": "https://stackoverflow.com/users/1751792/lopsided"}, "edited": false, "score": 3, "creation_date": 1571680172, "post_id": 49725198, "comment_id": 103313316, "body": "@Lopsided It removes any optional modifiers that might have existed for <code>K</code> in the original object <code>T</code>. See <a href=\"https://stackoverflow.com/questions/49655419/mapped-types-removing-optional-modifier\" title=\"mapped types removing optional modifier\">stackoverflow.com/questions/49655419/&hellip;</a>   As for its purpose in <code>[K in Keys]-?:</code> specifically: I just did some testing and it looks like it actually doesn&#39;t make a difference in the final result, but I put it in just to be certain that <code>RequireAtLeastOne</code> behaves the same way regardless of whether the properties specified for <code>Keys</code> were originally optional or not."}, {"owner": {"reputation": 182, "user_id": 4926048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-WomhkoRpd34/AAAAAAAAAAI/AAAAAAAACRk/OtVwXmA9FLc/photo.jpg?sz=128", "display_name": "Eduardo Dallmann", "link": "https://stackoverflow.com/users/4926048/eduardo-dallmann"}, "edited": false, "score": 0, "creation_date": 1590252143, "post_id": 49725198, "comment_id": 109613521, "body": "A little more complex scenarios, how would it be to <code>RequireOnlyOneOrNoneOfThem</code>? And also how to request a combination? Example: <code>type OnlyOne = RequireOnlyOne&lt;MenuItem, &#39;click&#39; | &#39;component&#39; | (&#39;label&#39; &amp; &#39;options&#39;)&gt;</code> Or click, or component, or label with options"}, {"owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "edited": false, "score": 2, "creation_date": 1595615283, "post_id": 49725198, "comment_id": 111546732, "body": "Note: This is part of the official Microsoft Azure Typescript SDK <a href=\"https://docs.microsoft.com/en-us/javascript/api/@azure/keyvault-certificates/requireatleastone?view=azure-node-latest\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/javascript/api/@azure/&hellip;</a>"}, {"owner": {"reputation": 5563, "user_id": 11407695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e780ea997ca2280a7e2db311220a563?s=128&d=identicon&r=PG", "display_name": "Oleg Valter", "link": "https://stackoverflow.com/users/11407695/oleg-valter"}, "edited": false, "score": 1, "creation_date": 1610743366, "post_id": 49725198, "comment_id": 116238286, "body": "Since TS 3.5 we can make the &quot;at least one of&quot; even shorter by using the <code>Omit</code> helper (a shortcut for <code>Pick</code> + <code>Exclude</code>): <code>type RequireAtLeastOne&lt;T, R extends keyof T = keyof T&gt; = Omit&lt;T, R&gt; &amp; {   [ P in R ] : Required&lt;Pick&lt;T, P&gt;&gt; &amp; Partial&lt;Omit&lt;T, P&gt;&gt; }[R];</code>. The base frame is the same, so only warrants a comment (quick note: in <code>[K in keys]-?:</code>, the <code>-?</code> modifier can be safely omitted: optionality is preserved in both versions)"}], "tags": [], "owner": {"reputation": 2806, "user_id": 2077574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kdit8.png?s=128&g=1", "display_name": "KPD", "link": "https://stackoverflow.com/users/2077574/kpd"}, "is_accepted": false, "score": 172, "last_activity_date": 1557192637, "last_edit_date": 1557192637, "creation_date": 1523245324, "answer_id": 49725198, "question_id": 40510611, "link": "https://stackoverflow.com/questions/40510611/typescript-interface-require-one-of-two-properties-to-exist/49725198#49725198", "title": "typescript interface require one of two properties to exist", "body": "<p>With the help of the <code>Exclude</code> type which was added in TypeScript 2.8, a generalizable way to require at least one of a set of properties is provided is:</p>\n\n<pre><code>type RequireAtLeastOne&lt;T, Keys extends keyof T = keyof T&gt; =\n    Pick&lt;T, Exclude&lt;keyof T, Keys&gt;&gt; \n    &amp; {\n        [K in Keys]-?: Required&lt;Pick&lt;T, K&gt;&gt; &amp; Partial&lt;Pick&lt;T, Exclude&lt;Keys, K&gt;&gt;&gt;\n    }[Keys]\n</code></pre>\n\n<p>And a partial but not absolute way to require that one and only one is provided is:</p>\n\n<pre><code>type RequireOnlyOne&lt;T, Keys extends keyof T = keyof T&gt; =\n    Pick&lt;T, Exclude&lt;keyof T, Keys&gt;&gt;\n    &amp; {\n        [K in Keys]-?:\n            Required&lt;Pick&lt;T, K&gt;&gt;\n            &amp; Partial&lt;Record&lt;Exclude&lt;Keys, K&gt;, undefined&gt;&gt;\n    }[Keys]\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=type%20RequireAtLeastOne%3CT%2C%20Keys%20extends%20keyof%20T%20%3D%20keyof%20T%3E%20%3D%0D%0A%20%20%20%20Pick%3CT%2C%20Exclude%3Ckeyof%20T%2C%20Keys%3E%3E%0D%0A%20%20%20%20%26%20%7B%0D%0A%20%20%20%20%20%20%20%20%5BK%20in%20Keys%5D-%3F%3A%20Required%3CPick%3CT%2C%20K%3E%3E%20%26%20Partial%3CPick%3CT%2C%20Exclude%3CKeys%2C%20K%3E%3E%3E%0D%0A%20%20%20%20%7D%5BKeys%5D%0D%0A%0D%0Ainterface%20MenuItem%20%7B%0D%0A%20%20title%3A%20string%3B%0D%0A%20%20component%3F%3A%20number%3B%0D%0A%20%20click%3F%3A%20number%3B%0D%0A%20%20icon%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Atype%20ClickOrComponent%20%3D%20RequireAtLeastOne%3CMenuItem%2C%20&#39;click&#39;%20%7C%20&#39;component&#39;%3E%0D%0A%0D%0Aconst%20withComponent%3A%20ClickOrComponent%20%3D%20%7B%0D%0A%20%20%20%20title%3A%20%22test%22%2C%0D%0A%20%20%20%20component%3A%2052%2C%0D%0A%20%20%20%20icon%3A%20%22icon%22%0D%0A%7D%0D%0A%0D%0Aconst%20withClick%3A%20ClickOrComponent%20%3D%20%7B%0D%0A%20%20%20%20title%3A%20%22test%22%2C%0D%0A%20%20%20%20click%3A%2054%2C%0D%0A%20%20%20%20icon%3A%20%22icon%22%0D%0A%7D%0D%0A%0D%0Aconst%20errorWithNeither%3A%20ClickOrComponent%20%3D%20%7B%0D%0A%20%20%20%20title%3A%20%22test%22%2C%0D%0A%20%20%20%20icon%3A%20%22icon%22%0D%0A%7D%0D%0A%0D%0Aconst%20noErrorWithBoth%3A%20ClickOrComponent%20%3D%20%7B%0D%0A%20%20%20%20title%3A%20%22test%22%2C%0D%0A%20%20%20%20click%3A%2054%2C%0D%0A%20%20%20%20component%3A%2024%2C%0D%0A%20%20%20%20icon%3A%20%22icon%22%0D%0A%7D%0D%0A%0D%0Aconst%20errorWithBothWhenOneHasWrongType%3A%20ClickOrComponent%20%3D%20%7B%0D%0A%20%20%20%20title%3A%20%22test%22%2C%0D%0A%20%20%20%20click%3A%2054%2C%0D%0A%20%20%20%20component%3A%20%22should%20be%20number%20here%22%2C%0D%0A%20%20%20%20icon%3A%20%22icon%22%0D%0A%7D%0D%0A%0D%0A%0D%0Atype%20RequireOnlyOne%3CT%2C%20Keys%20extends%20keyof%20T%20%3D%20keyof%20T%3E%20%3D%0D%0A%20%20%20%20Pick%3CT%2C%20Exclude%3Ckeyof%20T%2C%20Keys%3E%3E%0D%0A%20%20%20%20%26%20%7B%20%5BK%20in%20Keys%5D-%3F%3A%0D%0A%20%20%20%20%20%20%20%20Required%3CPick%3CT%2C%20K%3E%3E%0D%0A%20%20%20%20%20%20%20%20%26%20Partial%3CRecord%3CExclude%3CKeys%2C%20K%3E%2C%20undefined%3E%3E%0D%0A%20%20%20%20%7D%5BKeys%5D%0D%0A%0D%0Atype%20OnlyOneClickOrComponent%20%3D%20RequireOnlyOne%3CMenuItem%2C%20&#39;click&#39;%20%7C%20&#39;component&#39;%3E%0D%0A%0D%0Aconst%20noErrorWithOnlyOne%3A%20OnlyOneClickOrComponent%20%3D%20%7B%0D%0A%20%20%20%20title%3A%20%22test%22%2C%0D%0A%20%20%20%20click%3A%20534%2C%0D%0A%20%20%20%20icon%3A%20%22icon%22%0D%0A%7D%0D%0A%0D%0Aconst%20errorWithBoth%3A%20OnlyOneClickOrComponent%20%3D%20%7B%0D%0A%20%20%20%20title%3A%20%22test%22%2C%0D%0A%20%20%20%20click%3A%20534%2C%0D%0A%20%20%20%20component%3A%2053%2C%0D%0A%20%20%20%20icon%3A%20%22icon%22%0D%0A%7D%0D%0A%0D%0A%0D%0A%2F%2F%20This%20interface%20will%20be%20used%20to%20trick%20OnlyOneClickAtComponent%20into%20allowing%20an%20object%20with%20both%20%20%0D%0Ainterface%20ClickMenuItem%20%7B%0D%0A%20%20title%3A%20string%3B%0D%0A%20%20click%3A%20number%3B%0D%0A%20%20icon%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Aconst%20hasBoth%20%3D%20%7B%0D%0A%20%20%20%20title%3A%20%22test%22%2C%0D%0A%20%20%20%20click%3A%2054%2C%0D%0A%20%20%20%20component%3A%2024%2C%0D%0A%20%20%20%20icon%3A%20%22icon%22%0D%0A%7D%0D%0A%0D%0A%2F%2F%20No%20error%20because%20excess%20properties%20are%20only%20disallowed%20when%20directly%20assigning%20an%20object%20literal%20%0D%0Aconst%20temp%3A%20ClickMenuItem%20%3D%20hasBoth%0D%0A%0D%0A%2F%2F%20No%20error%20despite%20temp%20actually%20having%20both%20because%20TS%20only%20knows%20that%20temp%20is%20a%20ClickMenuItem%20%0D%0Aconst%20trickIntoAllowingBoth%3A%20OnlyOneClickOrComponent%20%3D%20temp%0D%0A\" rel=\"noreferrer\">Here is a TypeScript playground link showing both in action.</a></p>\n\n<p>The caveat with <code>RequireOnlyOne</code> is that TypeScript doesn't always know at compile time every property that will exist at runtime. So obviously <code>RequireOnlyOne</code> can't do anything to prevent extra properties it doesn't know about. I provided an example of how <code>RequireOnlyOne</code> can miss things at the end of the playground link.</p>\n\n<p>A quick overview of how it works using the following example:</p>\n\n<pre><code>interface MenuItem {\n  title: string;\n  component?: number;\n  click?: number;\n  icon: string;\n}\n\ntype ClickOrComponent = RequireAtLeastOne&lt;MenuItem, 'click' | 'component'&gt;\n</code></pre>\n\n<ol>\n<li><p><code>Pick&lt;T, Exclude&lt;keyof T, Keys&gt;&gt;</code> from <code>RequireAtLeastOne</code> becomes <code>{ title: string, icon: string}</code>, which are the unchanged properties of the keys not included in <code>'click' | 'component'</code></p></li>\n<li><p><code>{ [K in Keys]-?: Required&lt;Pick&lt;T, K&gt;&gt; &amp; Partial&lt;Pick&lt;T, Exclude&lt;Keys, K&gt;&gt;&gt; }[Keys]</code> from <code>RequireAtLeastOne</code> becomes</p>\n\n<pre><code>{ \n    component: Required&lt;{ component?: number }&gt; &amp; { click?: number }, \n    click: Required&lt;{ click?: number }&gt; &amp; { component?: number } \n}[Keys]\n</code></pre>\n\n<p>Which becomes</p>\n\n<pre><code>{\n    component: { component: number, click?: number },\n    click: { click: number, component?: number }\n}['component' | 'click']\n</code></pre>\n\n<p>Which finally becomes </p>\n\n<pre><code>{component: number, click?: number} | {click: number, component?: number}\n</code></pre></li>\n<li><p>The intersection of steps 1 and 2 above </p>\n\n<pre><code>{ title: string, icon: string} \n&amp; \n({component: number, click?: number} | {click: number, component?: number})\n</code></pre>\n\n<p>simplifies to</p>\n\n<pre><code>{ title: string, icon: string, component: number, click?: number} \n| { title: string, icon: string, click: number, component?: number}\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 1388, "user_id": 2601293, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/43WA3.jpg?s=128&g=1", "display_name": "J&#39;e", "link": "https://stackoverflow.com/users/2601293/je"}, "edited": false, "score": 1, "creation_date": 1582903250, "post_id": 53971591, "comment_id": 106948335, "body": "interfaces cannot &quot;=&quot; a type.  If this was <code>export interface MenuItem = ...</code> it would be valid."}], "tags": [], "owner": {"reputation": 796, "user_id": 238751, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76664c91c2bce7bc89a1e4525ca63024?s=128&d=identicon&r=PG", "display_name": "Dane", "link": "https://stackoverflow.com/users/238751/dane"}, "is_accepted": false, "score": 4, "last_activity_date": 1546103495, "last_edit_date": 1546103495, "creation_date": 1546103105, "answer_id": 53971591, "question_id": 40510611, "link": "https://stackoverflow.com/questions/40510611/typescript-interface-require-one-of-two-properties-to-exist/53971591#53971591", "title": "typescript interface require one of two properties to exist", "body": "<p>I like using <code>Pick</code> along with a base type that includes all properties to establish these kinds of conditional requirements.</p>\n\n<pre><code>interface MenuItemProps {\n  title: string;\n  component: any;\n  click: any;\n  icon: string;\n}\n\nexport interface MenuItem =\n  Pick&lt;MenuItemProps, \"title\" | \"icon\" | \"component\"&gt; |\n  Pick&lt;MenuItemProps, \"title\" | \"icon\" | \"click\"&gt;\n</code></pre>\n\n<p>This is clean and also flexible. You can get arbitrarily complex with your requirements, asserting things like \"require either all the properties, just these two properties, or just this one property\" and so on while keeping your declaration simple and readable.</p>\n"}, {"tags": [], "owner": {"reputation": 9577, "user_id": 7668448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZykHD.jpg?s=128&g=1", "display_name": "Mohamed Allal", "link": "https://stackoverflow.com/users/7668448/mohamed-allal"}, "is_accepted": false, "score": 0, "last_activity_date": 1581348301, "last_edit_date": 1581348301, "creation_date": 1580610627, "answer_id": 60022805, "question_id": 40510611, "link": "https://stackoverflow.com/questions/40510611/typescript-interface-require-one-of-two-properties-to-exist/60022805#60022805", "title": "typescript interface require one of two properties to exist", "body": "<p>To just extends upon the cool answers above! And for the people that land here while searching for a <strong>Partial</strong> version with requiring capability! Here a snippet i made to take!</p>\n\n<h1>PartialReq</h1>\n\n<p>You want to have a Partial of an interface, but in mean time require some of the fields! Here how it's done</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export type PartialReq&lt;T, Keys extends keyof T = keyof T&gt; =\n    Pick&lt;Partial&lt;T&gt;, Exclude&lt;keyof T, Keys&gt;&gt;\n    &amp; {\n        [K in Keys]: T[K]\n    };\n</code></pre>\n\n<h1>Use example</h1>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface CacheObj&lt;SigType = any, ValType = any&gt; {\n    cache: Map&lt;SigType, ValType&gt;,\n    insertionCallback: InsertionCallback&lt;SigType, ValType&gt; // I want this to be required\n}\n\n// ...\n\nexport class OneFlexibleCache&lt;SigType = any, ValType = any&gt; {\n    private _cacheObj: CacheObj&lt;SigType, ValType&gt;;\n\n    constructor(\n        cacheObj: PartialReq&lt;CacheObj&lt;SigType, ValType&gt;, 'insertionCallback'&gt; // &lt;-- here\n                                                                           //  i used it\n    ) {\n        cacheObj = cacheObj || {};\n\n        this._cacheObj = {\n\n// ...\n\n// _______________ usage\nthis._caches.set(\n    cacheSignature,\n    new OneFlexibleCache&lt;InsertionSigType, InsertionValType&gt;({\n        insertionCallback // required need to be provided\n    })\n);\n</code></pre>\n\n<p>Here you can see that it work perfectly</p>\n\n<p><a href=\"https://i.stack.imgur.com/nrpB0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nrpB0.png\" alt=\"enter image description here\"></a></p>\n\n<p>If the required not provided</p>\n\n<p><a href=\"https://i.stack.imgur.com/NbAu7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NbAu7.png\" alt=\"enter image description here\"></a></p>\n\n<h1>UPDATE: For the usage that i implied above here a better answer</h1>\n\n<p>I just went by the doc and found <strong>Omit</strong>.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#omittk\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/utility-types.html#omittk</a></p>\n\n<p>I came to add it. But before i do, I just seen this cool answer. It cover all:</p>\n\n<p><a href=\"https://stackoverflow.com/a/48216010/7668448\">https://stackoverflow.com/a/48216010/7668448</a></p>\n\n<p>Just check it out! It show how to do it for all the different version of Typescript! And for the sake of not repeating ! Go and check!</p>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 2246194, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfe5ad1b816c5838a6d5248082e7514c?s=128&d=identicon&r=PG", "display_name": "Ivan Caceres", "link": "https://stackoverflow.com/users/2246194/ivan-caceres"}, "edited": false, "score": 2, "creation_date": 1586232854, "post_id": 60617060, "comment_id": 108045913, "body": "really smooth answer"}, {"owner": {"reputation": 182, "user_id": 4926048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-WomhkoRpd34/AAAAAAAAAAI/AAAAAAAACRk/OtVwXmA9FLc/photo.jpg?sz=128", "display_name": "Eduardo Dallmann", "link": "https://stackoverflow.com/users/4926048/eduardo-dallmann"}, "edited": false, "score": 3, "creation_date": 1589941827, "post_id": 60617060, "comment_id": 109490389, "body": "How to deal with <code>testOr.click;</code> that returns the error <code>Property &#39;click&#39; does not exist on type &#39;MenuItemOr&#39;.</code> ?"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 182, "user_id": 4926048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-WomhkoRpd34/AAAAAAAAAAI/AAAAAAAACRk/OtVwXmA9FLc/photo.jpg?sz=128", "display_name": "Eduardo Dallmann", "link": "https://stackoverflow.com/users/4926048/eduardo-dallmann"}, "edited": false, "score": 2, "creation_date": 1589962072, "post_id": 60617060, "comment_id": 109497225, "body": "@EduardoDallmann you can use the <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#using-the-in-operator\" rel=\"nofollow noreferrer\"><code>in</code> operator</a> to check, if either properties exist on the object (<a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAshB2BXAksCBbA8gJygXigG8BYAKCgqmAEtgAbCALigGdhtr4BzAbjMqjUAxgHt4zNh259SAXygAyKAApCUUejBiEwZknQAjCLnkAfIurrCA1swMiRDAIbwosgJRkyAEwhC6TtjQDMBUEGw4zHBIqBg4PFAA9IlQXNQAbgisIujQaBG46YHUTgYMUADutAAWsAgoaFi4oJBepNQAZioARP423YKu+cA47kT8lMM4AHR9QtZJKRUi2NYsExTJYQWzOVrwOotQxtgrZPJknT0a+zoDnNsj2GMk5JPhT7ua2vChW8urdZvTYpKbYWZWeZHE5nORAA\" rel=\"nofollow noreferrer\">Playground</a>)"}, {"owner": {"reputation": 606, "user_id": 2492508, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f8092fc0ba36d26cd325db3f11856cb3?s=128&d=identicon&r=PG", "display_name": "NorTicUs", "link": "https://stackoverflow.com/users/2492508/norticus"}, "edited": false, "score": 0, "creation_date": 1596532493, "post_id": 60617060, "comment_id": 111833922, "body": "Nice answer! But can you explain how it works? I have a hard time understanding the union (<code>|</code>) with only a right operand. Thank you"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 606, "user_id": 2492508, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f8092fc0ba36d26cd325db3f11856cb3?s=128&d=identicon&r=PG", "display_name": "NorTicUs", "link": "https://stackoverflow.com/users/2492508/norticus"}, "edited": false, "score": 0, "creation_date": 1596532949, "post_id": 60617060, "comment_id": 111834119, "body": "@NorTicUs If you mean the leading <code>|</code> inside <code>&amp; ( ... )</code> of <code>MenuItemXor</code>: this is just a shortcut for the union operator for better type formatting / separating over lines. Like <a href=\"https://www.typescriptlang.org/play/#code/PTAECMHsBcAtQIYCcCmoDOCC2KCwAoaATwAc0AxSSUAXlANEdAB8NokBLAOwHMGnWXAK5ZwKJP0YFiZUJUgAmWm068WoYaPFA\" rel=\"nofollow noreferrer\">here</a> - no magic involved :)"}, {"owner": {"reputation": 606, "user_id": 2492508, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f8092fc0ba36d26cd325db3f11856cb3?s=128&d=identicon&r=PG", "display_name": "NorTicUs", "link": "https://stackoverflow.com/users/2492508/norticus"}, "edited": false, "score": 0, "creation_date": 1596661615, "post_id": 60617060, "comment_id": 111886624, "body": "Thank you @ford04, didn&#39;t know you could &quot;start&quot; with the union sign."}, {"owner": {"reputation": 3004, "user_id": 2306481, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QX99z.jpg?s=128&g=1", "display_name": "Sheraff", "link": "https://stackoverflow.com/users/2306481/sheraff"}, "edited": false, "score": 0, "creation_date": 1603005929, "post_id": 60617060, "comment_id": 113895033, "body": "It&#39;s slick but a slight loss in readability IMO compared to this answer: <a href=\"https://stackoverflow.com/a/61281828/2306481\">stackoverflow.com/a/61281828/2306481</a>"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 3004, "user_id": 2306481, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QX99z.jpg?s=128&g=1", "display_name": "Sheraff", "link": "https://stackoverflow.com/users/2306481/sheraff"}, "edited": false, "score": 0, "creation_date": 1603007742, "post_id": 60617060, "comment_id": 113895493, "body": "@Sheraff I guess, it boils down to usage of <a href=\"https://stackoverflow.com/questions/37233735/typescript-interfaces-vs-types\">interfaces vs type aliases</a>. Personally, I prefer type aliases in most cases, as they can be used more flexibly than interfaces. It certainly is also a matter of taste/style."}, {"owner": {"reputation": 3382, "user_id": 1431146, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fb3b09f895e6453c0619b5769ef7ebd3?s=128&d=identicon&r=PG", "display_name": "CletusW", "link": "https://stackoverflow.com/users/1431146/cletusw"}, "edited": false, "score": 0, "creation_date": 1605829118, "post_id": 60617060, "comment_id": 114779922, "body": "Any way to make this compatible with parameter destructuring? I get TS errors if I try <code>function myFunc({ title, icon, component }: MenuItemOr) {}</code>"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 3382, "user_id": 1431146, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fb3b09f895e6453c0619b5769ef7ebd3?s=128&d=identicon&r=PG", "display_name": "CletusW", "link": "https://stackoverflow.com/users/1431146/cletusw"}, "edited": false, "score": 0, "creation_date": 1605832146, "post_id": 60617060, "comment_id": 114780609, "body": "@CletusW You might define <code>component</code> additionally as weak property - either in the <code>MenuItemOr</code> type or if it&#39;s just for one case as parameter intersection <code>MenuItemOr &amp; { component?: object }</code>, see <a href=\"https://tsplay.dev/QmbebN\" rel=\"nofollow noreferrer\">Playground</a>. In this case, the destructured <code>component</code> property gets type <code>object | undefined</code>."}, {"owner": {"reputation": 502, "user_id": 1011988, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e87998c253930bbad72ba213a224be21?s=128&d=identicon&r=PG", "display_name": "Jeremy Thomerson", "link": "https://stackoverflow.com/users/1011988/jeremy-thomerson"}, "edited": false, "score": 0, "creation_date": 1605837216, "post_id": 60617060, "comment_id": 114781654, "body": "Thanks for the helpful answer @ford04. I&#39;m curious if you can look at my similar <a href=\"https://codesandbox.io/s/t0e1i?file=/index.ts:22-27\" rel=\"nofollow noreferrer\">playground</a> (lines 22-27) and see why the type checking doesn&#39;t work as I&#39;d expect. What am I missing?"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 502, "user_id": 1011988, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e87998c253930bbad72ba213a224be21?s=128&d=identicon&r=PG", "display_name": "Jeremy Thomerson", "link": "https://stackoverflow.com/users/1011988/jeremy-thomerson"}, "edited": false, "score": 0, "creation_date": 1605856844, "post_id": 60617060, "comment_id": 114785897, "body": "@JeremyThomerson use <code>loc.url !== undefined</code> instead. A truthy check is not sufficient, as in the false case, <code>loc.url</code> might still be an empty string <code>&quot;&quot;</code>, which does not fit the <code>LocalLocation</code> type constituent expecting <code>undefined</code>."}, {"owner": {"reputation": 502, "user_id": 1011988, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e87998c253930bbad72ba213a224be21?s=128&d=identicon&r=PG", "display_name": "Jeremy Thomerson", "link": "https://stackoverflow.com/users/1011988/jeremy-thomerson"}, "edited": false, "score": 0, "creation_date": 1605884979, "post_id": 60617060, "comment_id": 114797544, "body": "Thanks @ford04! I got so focused on the truthy case, I totally forgot that <code>Boolean(&quot;&quot;)</code> is falsy \ud83e\udd26"}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": false, "score": 39, "last_activity_date": 1583854793, "last_edit_date": 1583854793, "creation_date": 1583841065, "answer_id": 60617060, "question_id": 40510611, "link": "https://stackoverflow.com/questions/40510611/typescript-interface-require-one-of-two-properties-to-exist/60617060#60617060", "title": "typescript interface require one of two properties to exist", "body": "<p>There is no need to use <a href=\"https://stackoverflow.com/a/49725198/5669456\">complex conditional types</a>. We can make it simpler:</p>\n\n<blockquote>\n  <ol>\n  <li>Is there a way to require component or click to be set? (inclusive <code>OR</code>)</li>\n  </ol>\n</blockquote>\n\n<pre><code>type MenuItemOr = {\n    title: string;\n    icon: string;\n} &amp; ({ component: object } | { click: boolean }) \n// brackets are important here: \"&amp;\" has precedence over \"|\"\n\nlet testOr: MenuItemOr;\ntestOr = { title: \"t\", icon: \"i\" } // error, none are set\ntestOr = { title: \"t\", icon: \"i\", component: {} } // \u2714\ntestOr = { title: \"t\", icon: \"i\", click: true } // \u2714\ntestOr = { title: \"t\", icon: \"i\", click: true, component: {} } // \u2714\n</code></pre>\n\n<p>A <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"noreferrer\">union type</a> (<code>|</code>) corresponds to inclusive <code>OR</code>. It is <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types\" rel=\"noreferrer\">intersected</a> with the non-conditional properties.</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>Is there a way to require that both properties can't be set? (Exclusive <code>OR</code> / <code>XOR</code>)</li>\n  </ol>\n</blockquote>\n\n<pre><code>type MenuItemXor = {\n    title: string;\n    icon: string;\n} &amp; (\n        | { component: object; click?: never }\n        | { component?: never; click: boolean }\n    )\n\nlet testXor: MenuItemXor;\ntestXor = { title: \"t\", icon: \"i\" } // error, none are set\ntestXor = { title: \"t\", icon: \"i\", component: {} } // \u2714\ntestXor = { title: \"t\", icon: \"i\", click: true } // \u2714\ntestXor = { title: \"t\", icon: \"i\", click: true, component: {} } // error, both are set\n</code></pre>\n\n<p>Basically <em>either</em> <code>component</code> <em>or</em> <code>click</code> can be set, the other should <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#never\" rel=\"noreferrer\">never</a> be added at the same time. TS can make a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"noreferrer\">discriminated union type</a> out of <code>MenuItemXor</code>, which corresponds to <code>XOR</code>. </p>\n\n<p><em>Note</em>: This <code>XOR</code> condition for <code>MenuItemXor</code> is not possible with <a href=\"https://stackoverflow.com/a/40510700/5669456\">accepted answer</a>.</p>\n\n<hr>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=32&amp;ssc=87&amp;pln=20&amp;pc=1#code/PTCwCgQAgSQOQMIBkCqBlGA1AolA8gEoQgQQAuAngA4CmUAsjQHYCuMZNAtngE5QC8UAN4QoYqGQCWZADY0AXFADOZHpKYBzANyjxkgMYB7JopVrNO8AF8oAMigAKIVCOcqx5mUWGARgCsafTIoGwAfYRcZAwBrRR9DQzkAQyYQgEooaB8eJP1omjIlKCSeOkk3Qx4yFK87KAALJKKqUv0aABNmNqhDADcaPlDScDlgjhVeRUZWdi5eS3GyXgEIqVkFKAAiMk2AGigDY0VNyU2QzOAoAZ5K-aYPYtLlAvIaCb5BZzW5Y539w5MW1O%201c7iYnkUQhsNmggBRyV7vFZfaQ-LZ-A5GQEnPaRGKKVQsOgwy7w8CLZafCQojbbHEA47A3F5fE8QkgwwVcFMWpQ85w4YkSCXbAADWQ6CwuEIxDA4HI1Do0zYHE4IsqSN0Ym%20GzM6m0moxR2Uqj1lhs9gcBvEUHCzlBHm53n8gTIWiZ0QA-Ipwf0%20FYreJbS4OWDPF6oD6Bm79FFmVB4okaCkQga0sNRhI3mQ1TwpsxlVwcwsszmkVT1r86ZiGWdiVceDceHcHiU6EoXmSS%20rKdrK-9q0CcfauTzoRcoKTFqWe9S%204asYyY3iJKyiePJ12PqtZ2iq0bsSDY7EV2zg5yIcIx9Brrd44YyPVHm2CkA\" rel=\"noreferrer\">Code sample to play around with</a></p>\n"}, {"comments": [{"owner": {"reputation": 5563, "user_id": 11407695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e780ea997ca2280a7e2db311220a563?s=128&d=identicon&r=PG", "display_name": "Oleg Valter", "link": "https://stackoverflow.com/users/11407695/oleg-valter"}, "edited": false, "score": 0, "creation_date": 1610739522, "post_id": 63664560, "comment_id": 116236931, "body": "For other readers: please note that this type will not make <i>one of</i> ( OR context ) the properties to be required, but rather both of them ( that said, in an AND context it will do just fine )."}], "tags": [], "owner": {"reputation": 148, "user_id": 6109151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5bd270c905f1e4c69f5e5b39a599d7d?s=128&d=identicon&r=PG&f=1", "display_name": "LingSamuel", "link": "https://stackoverflow.com/users/6109151/lingsamuel"}, "is_accepted": false, "score": 4, "last_activity_date": 1598845937, "creation_date": 1598845937, "answer_id": 63664560, "question_id": 40510611, "link": "https://stackoverflow.com/questions/40510611/typescript-interface-require-one-of-two-properties-to-exist/63664560#63664560", "title": "typescript interface require one of two properties to exist", "body": "<p>I use this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>type RequireField&lt;T, K extends keyof T&gt; = T &amp; Required&lt;Pick&lt;T, K&gt;&gt;\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-js prettyprint-override\"><code>let a : RequireField&lt;TypeA, &quot;fieldA&quot; | &quot;fieldB&quot;&gt;;\n</code></pre>\n<p>This makes <code>fieldA</code> and <code>fieldB</code> <em>required</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8142657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe6fa9791050f225e265bc82a4f888d3?s=128&d=identicon&r=PG&f=1", "display_name": "Mathias Piletti", "link": "https://stackoverflow.com/users/8142657/mathias-piletti"}, "is_accepted": false, "score": 0, "last_activity_date": 1612042075, "creation_date": 1612042075, "answer_id": 65973298, "question_id": 40510611, "link": "https://stackoverflow.com/questions/40510611/typescript-interface-require-one-of-two-properties-to-exist/65973298#65973298", "title": "typescript interface require one of two properties to exist", "body": "<p>Yet another solution:</p>\n<pre><code>type RequiredKeys&lt;T, K extends keyof T&gt; = Required&lt;Pick&lt;T, K&gt;&gt; &amp; Omit&lt;T, K&gt;;\n\n</code></pre>\n<pre><code>type MenuItem2 = RequiredKeys&lt;MenuItem, &quot;component&quot; | &quot;click&quot;&gt;;\n\n</code></pre>\n"}], "owner": {"reputation": 52062, "user_id": 256793, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f3066138ea3d8e6b0c7a3764b5021e78?s=128&d=identicon&r=PG", "display_name": "Nix", "link": "https://stackoverflow.com/users/256793/nix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66473, "favorite_count": 34, "accepted_answer_id": 40510700, "answer_count": 9, "score": 123, "last_activity_date": 1612042075, "creation_date": 1478705541, "question_id": 40510611, "link": "https://stackoverflow.com/questions/40510611/typescript-interface-require-one-of-two-properties-to-exist", "title": "typescript interface require one of two properties to exist", "body": "<p>I'm trying to create an interface that could have </p>\n\n<pre><code>export interface MenuItem {\n  title: string;\n  component?: any;\n  click?: any;\n  icon: string;\n}\n</code></pre>\n\n<ol>\n<li>Is there a way to require <code>component</code> or <code>click</code> to be set</li>\n<li>Is there a way to require that both properties can't be set? </li>\n</ol>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "edited": false, "score": 0, "creation_date": 1478703700, "post_id": 40509915, "comment_id": 68261872, "body": "This is what happens when you <code>JSON.parse</code>. Typing has nothing to do with runtime behavior. Just delete if it&#39;s a problem. Or just ignore it"}, {"owner": {"reputation": 159, "user_id": 7069057, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/10a80defbcd438cc72b60a0368514ca9?s=128&d=identicon&r=PG&f=1", "display_name": "Oudstand", "link": "https://stackoverflow.com/users/7069057/oudstand"}, "reply_to_user": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "edited": false, "score": 0, "creation_date": 1478704190, "post_id": 40509915, "comment_id": 68262191, "body": "I don&#39;t use <code>JSON.parse</code>. I use: <code>this.guideService.getGuide().subscribe(guide =&gt; {             this.guide = guide;         });</code>"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "edited": false, "score": 0, "creation_date": 1478704325, "post_id": 40509915, "comment_id": 68262281, "body": "Somewhere, it is being used. Probably by Angular <code>res.json()</code>."}, {"owner": {"reputation": 159, "user_id": 7069057, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/10a80defbcd438cc72b60a0368514ca9?s=128&d=identicon&r=PG&f=1", "display_name": "Oudstand", "link": "https://stackoverflow.com/users/7069057/oudstand"}, "reply_to_user": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "edited": false, "score": 0, "creation_date": 1478704676, "post_id": 40509915, "comment_id": 68262496, "body": "Yes, that&#39;s true, but how can I set the guide without using <code>res.json()</code>?"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "edited": false, "score": 0, "creation_date": 1478705028, "post_id": 40509915, "comment_id": 68262724, "body": "Forget about that. Just delete the properties if it&#39;s really a problem. This doesn&#39;t work like other typed languages where you can parse JSON  with a library, and whatever the properties the class has, that&#39;s all it will get from the JSON. Javascript is dynamic, so when parsing JSON, properties just get added dynamically. There&#39;s no way around that. The type <code>Guide</code> is only good at compile-time. At runtime, There&#39;s no such thing as typing. So JS just parses to a normal JS object"}, {"owner": {"reputation": 8073, "user_id": 2852624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682806d261e4f00f77aa8633689a9558?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias247", "link": "https://stackoverflow.com/users/2852624/matthias247"}, "edited": false, "score": 0, "creation_date": 1478708776, "post_id": 40509915, "comment_id": 68265237, "body": "Not an answer to the question. But nevertheless: Consider using <code>interface</code> instead of <code>class</code> for plain objects like <code>Guide</code> and others that contain no real state and don&#39;t user inheritance. This enables you to use object literals for instances of this type. And it&#39;s actually more what <code>JSON.parse()</code> returns you, since this won&#39;t set a constructor and prototype chain."}], "answers": [{"comments": [{"owner": {"reputation": 8073, "user_id": 2852624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682806d261e4f00f77aa8633689a9558?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias247", "link": "https://stackoverflow.com/users/2852624/matthias247"}, "edited": false, "score": 0, "creation_date": 1478708519, "post_id": 40511323, "comment_id": 68265064, "body": "<code>this.guide = &lt;Guide&gt;guide;</code> will not remove any properties, since it&#39;s the same at runtime than the version without the type cast. Your other version would work. Or simply copy all known properties of the object instead of creating a new one for each event. Like <code>this.guide.id = guide.id; this.guide.number = guide.number;</code> This could also be encapsulates inside a function."}, {"owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "reply_to_user": {"reputation": 8073, "user_id": 2852624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682806d261e4f00f77aa8633689a9558?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias247", "link": "https://stackoverflow.com/users/2852624/matthias247"}, "edited": false, "score": 0, "creation_date": 1478708691, "post_id": 40511323, "comment_id": 68265190, "body": "yeah thats what i thought. constructor is nicer because you do it once and you can put your parse logic in there once."}], "tags": [], "owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "is_accepted": true, "score": 1, "last_activity_date": 1478708074, "last_edit_date": 1478708074, "creation_date": 1478707720, "answer_id": 40511323, "question_id": 40509915, "link": "https://stackoverflow.com/questions/40509915/additional-information-stored-in-object/40511323#40511323", "title": "Additional information stored in object", "body": "<pre><code>this.guide = guide;\n</code></pre>\n\n<p>Is overwriting your object with a new object guide it is not casting it that is why you are getting additional values. Objects work by reference and you are overwriting the reference.</p>\n\n<p>If you are using typescript try something like:</p>\n\n<pre><code>this.guide = &lt;Guide&gt;guide;\n</code></pre>\n\n<p>Although i am not sure this will eliminate the other values.</p>\n\n<p>The other alternative is that you need to build a constructor onto Guide object</p>\n\n<pre><code>export class Guide{\n  constructor(object:any)\n  {\n    this.id = object.id;\n    this.number = object.number;\n  }\n\n   id: number;\n   name: string;\n}\n</code></pre>\n\n<p>then you call it like this</p>\n\n<pre><code>this.guide = new Guide(guide);\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 7069057, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/10a80defbcd438cc72b60a0368514ca9?s=128&d=identicon&r=PG&f=1", "display_name": "Oudstand", "link": "https://stackoverflow.com/users/7069057/oudstand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 40511323, "answer_count": 1, "score": 0, "last_activity_date": 1478708611, "creation_date": 1478703456, "last_edit_date": 1478708611, "question_id": 40509915, "link": "https://stackoverflow.com/questions/40509915/additional-information-stored-in-object", "title": "Additional information stored in object", "body": "<p>In my Angular 2 application I've got a class <strong>Guide</strong> :</p>\n\n<pre><code>export class Guide{\n    id: number;\n    name: string;\n}\n</code></pre>\n\n<p>When I store data in an object of this class, Angular creates more variables, depending of the response.\nIf I get a response like: </p>\n\n<pre><code>{\n    \"id\": 1,\n    \"name\": \"Guide\",\n    \"created_at\": \"2016-11-04T08:50:39+0000\"\n}\n</code></pre>\n\n<p>then my object of type <code>Guide</code> has also the variable \"created_at\" with the value of \"created_at\".</p>\n\n<p>How can I just store the two variables <code>id</code> and <code>name</code> in my object?</p>\n"}, {"tags": ["typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1478698299, "post_id": 40508205, "comment_id": 68258558, "body": "This code, when copied to playground and then runs in the console, works well."}, {"owner": {"reputation": 30533, "user_id": 651188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f08ef5baf6cd8f807d0baf2323904f61?s=128&d=identicon&r=PG", "display_name": "Roy Dictus", "link": "https://stackoverflow.com/users/651188/roy-dictus"}, "edited": false, "score": 0, "creation_date": 1478698691, "post_id": 40508205, "comment_id": 68258785, "body": "Property &#39;trim&#39; is defined above on type &#39;String&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1478701414, "post_id": 40508928, "comment_id": 68260418, "body": "This seems like an overkill. Why take this approach when there&#39;s a simpler one like the one the OP is trying?"}, {"owner": {"reputation": 3246, "user_id": 7126139, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tRZYM.jpg?s=128&g=1", "display_name": "yuval.bl", "link": "https://stackoverflow.com/users/7126139/yuval-bl"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1479031466, "post_id": 40508928, "comment_id": 68380857, "body": "I couldn&#39;t make this approach work with my Typescript 2 compiler. Would love to see working examples of this approach :) For example - <a href=\"http://stackoverflow.com/a/18853267/7126139\">this</a>  supposed to be a working example, yet did not pass my compiler."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1479062665, "post_id": 40508928, "comment_id": 68390448, "body": "The code in the answer you linked to work great in playground, just like the code the OP posted."}, {"owner": {"reputation": 3246, "user_id": 7126139, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tRZYM.jpg?s=128&g=1", "display_name": "yuval.bl", "link": "https://stackoverflow.com/users/7126139/yuval-bl"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1479204126, "post_id": 40508928, "comment_id": 68448478, "body": "I&#39;ve saw that before. I&#39;m not sure which typescript compiler/version playground uses. I&#39;ve checked it locally using ver 2.0.6 &amp; 2.0.8 and got the same errors as @Hossein.  In other words, although you&#39;re right, I don&#39;t see how it help solving the problem."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1479219442, "post_id": 40508928, "comment_id": 68458274, "body": "Have you tried putting it in <code>declare global { ... }</code>?"}, {"owner": {"reputation": 3246, "user_id": 7126139, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tRZYM.jpg?s=128&g=1", "display_name": "yuval.bl", "link": "https://stackoverflow.com/users/7126139/yuval-bl"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1479296483, "post_id": 40508928, "comment_id": 68494982, "body": "No, Can you add an example of it?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1479306785, "post_id": 40508928, "comment_id": 68501769, "body": "<code>declare global { interface StringConstructor { ... } }</code> and then <code>String.trim = ...</code>.  There&#39;s not much documentation on that, but you can see a bit in <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html#global-augmentation\" rel=\"nofollow noreferrer\">Global augmentation</a>."}, {"owner": {"reputation": 3246, "user_id": 7126139, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tRZYM.jpg?s=128&g=1", "display_name": "yuval.bl", "link": "https://stackoverflow.com/users/7126139/yuval-bl"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1479886669, "post_id": 40508928, "comment_id": 68741931, "body": "Great, I&#39;ll look into it. Thanx!"}], "tags": [], "owner": {"reputation": 3246, "user_id": 7126139, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tRZYM.jpg?s=128&g=1", "display_name": "yuval.bl", "link": "https://stackoverflow.com/users/7126139/yuval-bl"}, "is_accepted": false, "score": 0, "last_activity_date": 1478700454, "last_edit_date": 1495535580, "creation_date": 1478700454, "answer_id": 40508928, "question_id": 40508205, "link": "https://stackoverflow.com/questions/40508205/how-to-use-the-string-constructor-in-typescript-2/40508928#40508928", "title": "How to use the string Constructor in typescript 2", "body": "<p>Try this: </p>\n\n<pre><code> module String {\n  export function trim(msg: string): string {\n    if (msg)\n      return msg.trim();\n    return msg;\n  }\n}\nString.trim(\"Url\")\n</code></pre>\n\n<p>(Note that you missed the string closing quotation mark)</p>\n\n<p>Explanation In short:\nTypeScript does something called declaration merging, which is explained in <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">the docs</a>.</p>\n\n<p>For more info see Jeffery's <a href=\"https://stackoverflow.com/a/17845907/7126139\">answer</a></p>\n"}], "owner": {"reputation": 119, "user_id": 2629273, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/7e6a0afe56fca3e231c976293f7605b6?s=128&d=identicon&r=PG", "display_name": "Hossein Hagh", "link": "https://stackoverflow.com/users/2629273/hossein-hagh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1157, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557311437, "creation_date": 1478698199, "last_edit_date": 1557311437, "question_id": 40508205, "link": "https://stackoverflow.com/questions/40508205/how-to-use-the-string-constructor-in-typescript-2", "title": "How to use the string Constructor in typescript 2", "body": "<p><code>StringConstructor</code> is working in Typescript 1.8:</p>\n\n<pre><code>interface StringConstructor {\n    trim(msg: string): string;\n}\nString.trim = function (msg: string) {\n                if (msg)\n                    return msg.trim();\n                return msg;\n            }\n String.trim(\"Url)\n</code></pre>\n\n<p>but not working in Typescript 2 and I get the error:</p>\n\n<blockquote>\n  <p>Property 'trim' does not exist on type 'StringConstructor'.</p>\n</blockquote>\n"}, {"tags": ["typescript", "environment-variables"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1478697929, "post_id": 40507986, "comment_id": 68258318, "body": "So why you can use just <code>env.variable</code>?"}, {"owner": {"reputation": 452, "user_id": 6042891, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TXZ34.jpg?s=128&g=1", "display_name": "Jithu Rajan", "link": "https://stackoverflow.com/users/6042891/jithu-rajan"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1478698138, "post_id": 40507986, "comment_id": 68258456, "body": "during compilation typescript will show  - error TS2304: Cannot find name &#39;env_variable&#39;."}], "answers": [{"tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 2, "last_activity_date": 1478698163, "last_edit_date": 1495541218, "creation_date": 1478698163, "answer_id": 40508194, "question_id": 40507986, "link": "https://stackoverflow.com/questions/40507986/environment-variables-in-typescript/40508194#40508194", "title": "Environment variables in TypeScript", "body": "<p>You can tell TypeScript about a variable created by globals (coming directly from JavaScript runtime environment or any external source) with:</p>\n\n<pre><code>declare var env_variable;\n</code></pre>\n\n<p>Typescript won't throw an error for undeclared <code>env_variable</code> variable.</p>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/18171967/declare-global-namespace-variable-from-typescript\">declare global namespace variable from TypeScript</a></p>\n"}], "owner": {"reputation": 452, "user_id": 6042891, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TXZ34.jpg?s=128&g=1", "display_name": "Jithu Rajan", "link": "https://stackoverflow.com/users/6042891/jithu-rajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3890, "favorite_count": 0, "accepted_answer_id": 40508194, "answer_count": 1, "score": 1, "last_activity_date": 1478698163, "creation_date": 1478697539, "last_edit_date": 1478698087, "question_id": 40507986, "link": "https://stackoverflow.com/questions/40507986/environment-variables-in-typescript", "title": "Environment variables in TypeScript", "body": "<p>If we have some environment variables which are present in the environment in  which the compiled JavaScript is going to run, how we can mention those variables in Typescript code ?</p>\n\n<p>In TypeScript varaibles cannot be used without being declared. If it is declared like <code>let env_varaible;</code>, it become <code>var env_variable;</code> which eventually overridethe actual varaible. What is the solution for this?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1478697666, "post_id": 40507975, "comment_id": 68258139, "body": "I don&#39;t see a directive (&quot;this directive&quot;) in your question. I have no idea at all what the question is about."}, {"owner": {"reputation": 598, "user_id": 4812272, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh5.googleusercontent.com/-hMM17B5DCPc/AAAAAAAAAAI/AAAAAAAABM8/q4c1zKGkif4/photo.jpg?sz=128", "display_name": "Eduard Arevshatyan", "link": "https://stackoverflow.com/users/4812272/eduard-arevshatyan"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1478698818, "post_id": 40507975, "comment_id": 68258851, "body": "@G&#252;nter Z&#246;chbauer i change my question"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1478698970, "post_id": 40507975, "comment_id": 68258929, "body": "What&#39;s the current behavior? What&#39;s the expected behavior? Actually I still don&#39;t understand the question."}, {"owner": {"reputation": 598, "user_id": 4812272, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh5.googleusercontent.com/-hMM17B5DCPc/AAAAAAAAAAI/AAAAAAAABM8/q4c1zKGkif4/photo.jpg?sz=128", "display_name": "Eduard Arevshatyan", "link": "https://stackoverflow.com/users/4812272/eduard-arevshatyan"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1478700269, "post_id": 40507975, "comment_id": 68259734, "body": "@G&#252;nter Z&#246;chbauer i&#39;ve update one more time"}], "answers": [{"comments": [{"owner": {"reputation": 598, "user_id": 4812272, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh5.googleusercontent.com/-hMM17B5DCPc/AAAAAAAAAAI/AAAAAAAABM8/q4c1zKGkif4/photo.jpg?sz=128", "display_name": "Eduard Arevshatyan", "link": "https://stackoverflow.com/users/4812272/eduard-arevshatyan"}, "edited": false, "score": 0, "creation_date": 1478700943, "post_id": 40508989, "comment_id": 68260134, "body": "Thanks for quick answer. But my <code>list.createdat</code> is data from server."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 598, "user_id": 4812272, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh5.googleusercontent.com/-hMM17B5DCPc/AAAAAAAAAAI/AAAAAAAABM8/q4c1zKGkif4/photo.jpg?sz=128", "display_name": "Eduard Arevshatyan", "link": "https://stackoverflow.com/users/4812272/eduard-arevshatyan"}, "edited": false, "score": 0, "creation_date": 1478700996, "post_id": 40508989, "comment_id": 68260162, "body": "Why do you think this makes a difference?"}, {"owner": {"reputation": 598, "user_id": 4812272, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh5.googleusercontent.com/-hMM17B5DCPc/AAAAAAAAAAI/AAAAAAAABM8/q4c1zKGkif4/photo.jpg?sz=128", "display_name": "Eduard Arevshatyan", "link": "https://stackoverflow.com/users/4812272/eduard-arevshatyan"}, "edited": false, "score": 0, "creation_date": 1478701157, "post_id": 40508989, "comment_id": 68260274, "body": "<code>creatdate</code> is a dynamic data from server, but not <code>2016-01-01</code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 598, "user_id": 4812272, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh5.googleusercontent.com/-hMM17B5DCPc/AAAAAAAAAAI/AAAAAAAABM8/q4c1zKGkif4/photo.jpg?sz=128", "display_name": "Eduard Arevshatyan", "link": "https://stackoverflow.com/users/4812272/eduard-arevshatyan"}, "edited": false, "score": 0, "creation_date": 1478701371, "post_id": 40508989, "comment_id": 68260402, "body": "You can use <code>[value]=&quot;list.createdat.toLocaleDateString(...)</code> where <code>...</code> is explained in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleDateString\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> (&quot;using options&quot;)"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1478700698, "creation_date": 1478700698, "answer_id": 40508989, "question_id": 40507975, "link": "https://stackoverflow.com/questions/40507975/datepicker-with-input-tag/40508989#40508989", "title": "Datepicker with input tag", "body": "<p><code>&lt;input type=\"date\"&gt;</code> requires a string and doesn't work with a <code>Date</code> instance.</p>\n\n<pre><code>&lt;input type=\"date\" [value]=\"list.createdat\"&gt;\n</code></pre>\n\n<p><a href=\"https://plnkr.co/edit/MnfpwDIGhRXTR9fpPWuA?p=preview\" rel=\"nofollow noreferrer\"><strong>Plunker example</strong></a></p>\n"}], "owner": {"reputation": 598, "user_id": 4812272, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh5.googleusercontent.com/-hMM17B5DCPc/AAAAAAAAAAI/AAAAAAAABM8/q4c1zKGkif4/photo.jpg?sz=128", "display_name": "Eduard Arevshatyan", "link": "https://stackoverflow.com/users/4812272/eduard-arevshatyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 40508989, "answer_count": 1, "score": 0, "last_activity_date": 1478784693, "creation_date": 1478697508, "last_edit_date": 1478784693, "question_id": 40507975, "link": "https://stackoverflow.com/questions/40507975/datepicker-with-input-tag", "title": "Datepicker with input tag", "body": "<p>I would change this lable tag <code>&lt;label&gt;{{list.createdat | date: 'dd.MM.yyyy'}}&lt;/label&gt;</code> on input tag, to create a simple datapicker: </p>\n\n<p><code>&lt;input type=\"date\"/&gt;</code></p>\n\n<p>But in <code>&lt;label&gt;</code> tag i have parse data from server, and i dont know how bind <code>&lt;input&gt;</code> tag with this <code>list.createdat</code></p>\n\n<p>How to write a correct syntax? Like this? : </p>\n\n<pre><code>&lt;input type=\"date\"/ {list.createdat | date: 'dd.MM.yyyy'}&gt;\n</code></pre>\n\n<p>At finally, i would something like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/uugli.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uugli.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1169, "user_id": 988322, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d4aadf79097dd198c6e04c1d675124ce?s=128&d=identicon&r=PG", "display_name": "John Lee", "link": "https://stackoverflow.com/users/988322/john-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1491929161, "creation_date": 1491929161, "answer_id": 43351811, "question_id": 40507106, "link": "https://stackoverflow.com/questions/40507106/how-to-add-a-button-to-a-column-in-ng2table-in-angular2/43351811#43351811", "title": "How to add a button to a column in ng2table in angular2", "body": "<p>There were a couple solutions posted at the end of this issue log. There was also word of updating the ng2-table at some point to have more flexibility with things like this, but not sure if that's still happening. Take a look here:\n<a href=\"https://github.com/valor-software/ng2-table/issues/51\" rel=\"nofollow noreferrer\">https://github.com/valor-software/ng2-table/issues/51</a></p>\n"}], "owner": {"reputation": 2219, "user_id": 6459548, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/bda2f6854046297a57707813fc170cc6?s=128&d=identicon&r=PG&f=1", "display_name": "MMR", "link": "https://stackoverflow.com/users/6459548/mmr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 686, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1491929161, "creation_date": 1478694696, "question_id": 40507106, "link": "https://stackoverflow.com/questions/40507106/how-to-add-a-button-to-a-column-in-ng2table-in-angular2", "title": "How to add a button to a column in ng2table in angular2", "body": "<p>I am using ng2table but here all the columns are getting appended from ts but i want to add a button to this columns and how can i do that?Can anyone help please.Thanks.</p>\n\n<pre><code>      columns: Array&lt;any&gt; = [\n    {title: 'Name', name: 'name'},\n    {title: 'Position', name: 'position', sort: false},\n    {title: 'Office', name: 'office', sort: 'asc'},\n    {title: 'Extn.', name: 'ext', sort: ''},\n    {title: 'Start date', name: 'startDate'},\n    {title: 'Salary ($)', name: 'salary'}\n  ];\n</code></pre>\n\n<p>I want to add button \nDelete</p>\n"}, {"tags": ["typescript", "callback"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1478694595, "post_id": 40506939, "comment_id": 68256290, "body": "Your code seems fine. Is this the exact code you have or a simplified version? Add <code>console.log(DoOnComplete)</code> lines in the start of the <code>syncItemsWithServer</code> method, and then another one in the first line of the callback function you pass to <code>getItemsToSync</code>. What do you get?"}, {"owner": {"reputation": 79, "user_id": 6175639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1e349d8d2f01a8facbd189588f7948eb?s=128&d=identicon&r=PG&f=1", "display_name": "S&#233;bastien", "link": "https://stackoverflow.com/users/6175639/s%c3%a9bastien"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1478696872, "post_id": 40506939, "comment_id": 68257648, "body": "Thank you for your response. You helped me by saying that my code was fine :) I checked the code in &quot;index.html&quot; and I found an silent error in another function. That caused the problem."}], "owner": {"reputation": 79, "user_id": 6175639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1e349d8d2f01a8facbd189588f7948eb?s=128&d=identicon&r=PG&f=1", "display_name": "S&#233;bastien", "link": "https://stackoverflow.com/users/6175639/s%c3%a9bastien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478694124, "creation_date": 1478694124, "question_id": 40506939, "link": "https://stackoverflow.com/questions/40506939/typescript-callback-is-null", "title": "Typescript callback is null", "body": "<p>I have a Typescript class with a \"public\" method (syncItemsWithServer). This method call another \"private\" method from this class asynchronously (self.getItemsToSync). </p>\n\n<p><strong>class.ts</strong></p>\n\n<pre><code>        public syncItemsWithServer(DoOnComplete: Function) {\n            let self = this;\n            let strDBName = \"dbname\";\n\n            self.getItemsToSync(strDBName, function (obj: any) {\n                if (!obj || obj.length == 0) {\n                    DoOnComplete(0); //Is null\n                    return;\n                }\n\n                //... Code\n            }\n        }\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;script&gt;    \n    var c = new class();\n    c.syncItemsWithServer(function (response) {\n        console.log(response);\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>I get a javascript error when \"DoOnComplete(0)\" is called because DoOnComplete is null. The error is \"object expected\".</p>\n\n<p>I guess the reason is that the code in \"syncItemsWithServer\" is called synchronously?</p>\n\n<p>How can I correct this?</p>\n"}, {"tags": ["angular", "typescript", "payment-gateway", "payment", "worldpay"], "answers": [{"comments": [{"owner": {"reputation": 833, "user_id": 2451434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cea20f2795215053481fb875296b30d?s=128&d=identicon&r=PG", "display_name": "Kamalpreet", "link": "https://stackoverflow.com/users/2451434/kamalpreet"}, "edited": false, "score": 0, "creation_date": 1495101957, "post_id": 41138755, "comment_id": 75114912, "body": "Yeah. That&#39;s great if you are PCI compliant and are happy to process the credit card details otherwise you will have to resort to using worldpay in an iframe or send the user over to the worldpay site."}, {"owner": {"reputation": 2458, "user_id": 896258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pqgS2.jpg?s=128&g=1", "display_name": "mihai", "link": "https://stackoverflow.com/users/896258/mihai"}, "edited": false, "score": 0, "creation_date": 1495117327, "post_id": 41138755, "comment_id": 75126182, "body": "...boring... they didn&#39;t implement a wrapper for angular2 yet ? (I didn&#39;t check after I implemented the solution as I wrote above)"}, {"owner": {"reputation": 2458, "user_id": 896258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pqgS2.jpg?s=128&g=1", "display_name": "mihai", "link": "https://stackoverflow.com/users/896258/mihai"}, "edited": false, "score": 0, "creation_date": 1495120367, "post_id": 41138755, "comment_id": 75128596, "body": "&quot;they&quot; I mean worldpay :)"}], "tags": [], "owner": {"reputation": 2458, "user_id": 896258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pqgS2.jpg?s=128&g=1", "display_name": "mihai", "link": "https://stackoverflow.com/users/896258/mihai"}, "is_accepted": true, "score": 3, "last_activity_date": 1481706930, "creation_date": 1481706930, "answer_id": 41138755, "question_id": 40506912, "link": "https://stackoverflow.com/questions/40506912/how-to-integrate-worldpay-with-angular2/41138755#41138755", "title": "How to integrate worldpay with angular2", "body": "<p>I have resolved that considering another approach :) </p>\n\n<p>I have used Worldpay API to get the token.<br>\nAPI url: <code>https://api.worldpay.com/v1/tokens</code> </p>\n\n<p>The endpoint waits a <strong><code>POST</code></strong> request in the form: </p>\n\n<pre><code>'{\n    \"reusable\": true/false,\n    \"paymentMethod\": {\n        \"name\": \"name\",\n        \"expiryMonth\": 2,\n        \"expiryYear\": 2015,\n        \"issueNumber\": 1,\n        \"startMonth\": 2,\n        \"startYear\": 2013,\n        \"cardNumber\": \"4444 3333 2222 1111\",\n        \"type\": \"Card\",\n        \"cvc\": \"123\"\n    },\n    \"clientKey\": \"T_C_client_key\"\n}'\n</code></pre>\n\n<p>where the <code>Header</code> should contain these options:  <code>\"Content-type: application/json\"</code> </p>\n\n<p>Having that, no more need to include <code>worldpay.js</code> in page.<br>\nAlso, no more need to include in payment form worldpay specific attributes (like <code>data-worldpay=\"\"</code>)</p>\n\n<p>Simply should invoke the API, wait for the response, which will have the form: </p>\n\n<pre><code>{\n    \"token\": \"UUID of token\",\n    \"reusable\": true/false,\n    \"paymentMethod\": {\n        \"type\" : \"ObfuscatedCard\",     \n        \"name\": \"name\",\n        \"expiryMonth\": 2,\n        \"expiryYear\": 2015,\n        \"issueNumber\": 1,\n        \"startMonth\": 2,\n        \"startYear\": 2013,\n        \"cardType\": \"VISA_CREDIT\",\n        \"maskedCardNumber\": \"xxxx xxxx xxxx 1111\",\n        \"cardSchemeType\": \"consumer\",\n        \"cardSchemeName\": \"VISA CREDIT\",\n        \"cardProductTypeDescNonContactless\": \"Visa Credit Personal\",\n        \"cardProductTypeDescContactless\": \"CL Visa Credit Pers\",\n        \"cardIssuer\": \"LLOYDS BANK PLC\",\n        \"countryCode\": \"GBR\",\n        \"cardClass\": \"credit\",\n        \"prepaid\": \"false\"\n    }\n}\n</code></pre>\n\n<p>From response you are ready to use the <code>response.token</code> in order to proceed to next step: <strong>payment</strong>.</p>\n\n<p>You should make sure that specific WorldPay attributes will be sent (CreditCardToken, Enrolled)</p>\n\n<p>How I invoked the worldpay API in angular2? </p>\n\n<pre><code>public getWorldpayToken(request: any): Observable&lt;any&gt;{\n    let worldPayApiUrl = `https://api.worldpay.com/v1/tokens`;\n    let body = JSON.stringify(request);\n    let headers = new Headers({ 'Content-Type':'application/json;charset=UTF-8'});\n    let options = new RequestOptions({ headers: headers });\n\n    return this.http.post(worldPayApiUrl, body, options)\n      .map(response =&gt; response.json())\n      .catch(this.handleError);\n}\n</code></pre>\n\n<p>Documentation: <a href=\"https://developer.worldpay.com/jsonapi/api#tokens\" rel=\"nofollow noreferrer\">https://developer.worldpay.com/jsonapi/api#tokens</a></p>\n\n<p>For any other details, do not hesitate to comment/ask :) </p>\n"}, {"tags": [], "owner": {"reputation": 3305, "user_id": 392130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43eefac5b30a69cbdca3ebf43bf1947?s=128&d=identicon&r=PG", "display_name": "Brian Smith", "link": "https://stackoverflow.com/users/392130/brian-smith"}, "is_accepted": false, "score": 3, "last_activity_date": 1505562015, "last_edit_date": 1505562015, "creation_date": 1505561678, "answer_id": 46253449, "question_id": 40506912, "link": "https://stackoverflow.com/questions/40506912/how-to-integrate-worldpay-with-angular2/46253449#46253449", "title": "How to integrate worldpay with angular2", "body": "<p>\nThe accepted answer is great if you can use the API but if you are not PCI-DSS compliant you should not use the API.</p>\n\n<p>For using the template form or your own form in Angular 2+ the steps I've used are as follows:</p>\n\n<ol>\n<li><p>Include <code>Worldpay.js</code> somehow, either:</p>\n\n<ul>\n<li>A local copy as a script in <code>.angular-cli.json</code></li>\n<li>A local copy via import in your component e.g. <code>import '../../libs/worldpay';</code></li>\n<li>Include a script tag in the main <code>index.html</code> loading it from the cdn:<br>\n<code>&lt;script src=\"https://cdn.worldpay.com/v1/worldpay.js\"&gt;&lt;/script&gt;</code>   </li>\n</ul></li>\n<li><p>Satisfy Typescript that it is available in your component:  </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare var Worldpay: any;   \n</code></pre></li>\n<li><p>Use a ViewChild to get a reference to the form:   </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@ViewChild('paymentForm') form;\n</code></pre>\n\n<p>and in the html:   </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;form #paymentForm&gt;\n</code></pre></li>\n<li><p>Implement a callback, for example:    </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>worldpayCallback(status, response) {        \n  if (response.error) {\n    this.handleError(response.error.object);\n  } else {\n    this.token = response.token;\n  }\n}\n</code></pre></li>\n<li><p>Initialise Worldpay in a suitable hook like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>ngOnInit(): void {\n  Worldpay.useTemplateForm({\n    'clientKey': this.worldpayKey,\n    'form': this.form.nativeElement,\n    'callback': (status, response) =&gt; this.worldpayCallback(status, response)\n  });\n}    \n</code></pre></li>\n</ol>\n\n<p>You should now have the token available to you after the form is submitted.</p>\n\n<p>Note that if you are using your own form you need to become PCI SAQ A-EP compliant which involves a self assessment process (lengthy paperwork).</p>\n"}, {"comments": [{"owner": {"reputation": 2458, "user_id": 896258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pqgS2.jpg?s=128&g=1", "display_name": "mihai", "link": "https://stackoverflow.com/users/896258/mihai"}, "edited": false, "score": 1, "creation_date": 1510004158, "post_id": 47075980, "comment_id": 81242739, "body": "nice contribution! Thanks @Zymotik"}], "tags": [], "owner": {"reputation": 3368, "user_id": 314472, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7993e2dbc09e2751bf9e4b8bc46dfb49?s=128&d=identicon&r=PG", "display_name": "Zymotik", "link": "https://stackoverflow.com/users/314472/zymotik"}, "is_accepted": false, "score": 1, "last_activity_date": 1509627560, "creation_date": 1509627560, "answer_id": 47075980, "question_id": 40506912, "link": "https://stackoverflow.com/questions/40506912/how-to-integrate-worldpay-with-angular2/47075980#47075980", "title": "How to integrate worldpay with angular2", "body": "<p>This is a working example in Angular 4/5. Please add your client api key to Worldpay.component.ts</p>\n\n<p><a href=\"https://plnkr.co/edit/vz6YX68ykyBuHGiwGBVx\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/vz6YX68ykyBuHGiwGBVx</a></p>\n\n<p>Template:</p>\n\n<pre><code>&lt;form #paymentForm *ngIf=\"!token\"&gt;\n    &lt;div id=\"paymentSection\"&gt;&lt;/div&gt;\n&lt;/form&gt;\n&lt;h2 *ngIf=\"token\"&gt;Token from WorldPay {{ token }}&lt;/h2&gt;\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>import { Component, OnInit, ViewChild } from '@angular/core';\ndeclare var Worldpay: any;\n\n@Component({\n  selector: 'app-worldpay',\n  templateUrl: './worldpay.component.html'\n})\n\nexport class WorldpayComponent implements OnInit {\n\n  @ViewChild('paymentForm') form;\n  readonly worldpayClientKey = 'ADD_YOUR_KEY_HERE';\n  token: string = null;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.loadScript('https://cdn.worldpay.com/v1/worldpay.js', this.init);\n  }\n\n  init = (): void =&gt; {\n    Worldpay.useTemplateForm({\n      'clientKey': this.worldpayClientKey,\n      'form': this.form.nativeElement,\n      'paymentSection': 'paymentSection',\n      'display': 'inline',\n      'type': 'card',\n      'callback': this.worldpayCallback\n    });\n  }\n\n  worldpayCallback = (status): void =&gt; {\n    this.token = status.token;\n  }\n\n  private loadScript(url: string, callbackFunction: (any) = undefined) {\n    const node = document.createElement('script');\n    node.src = url;\n    node.type = 'text/javascript';\n    node.onload = callbackFunction;\n    document.getElementsByTagName('body')[0].appendChild(node);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2458, "user_id": 896258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pqgS2.jpg?s=128&g=1", "display_name": "mihai", "link": "https://stackoverflow.com/users/896258/mihai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2397, "favorite_count": 1, "accepted_answer_id": 41138755, "answer_count": 3, "score": 4, "last_activity_date": 1509627560, "creation_date": 1478694036, "question_id": 40506912, "link": "https://stackoverflow.com/questions/40506912/how-to-integrate-worldpay-with-angular2", "title": "How to integrate worldpay with angular2", "body": "<p>I am trying to integrate Worldpay in an angular2 app. </p>\n\n<p>I am using <strong>own form</strong> (<a href=\"https://developer.worldpay.com/jsonapi/docs/own-form\" rel=\"nofollow noreferrer\">own-form</a>) approach where it is necessary to include their script in page: \n<code>&lt;script src=\"https://cdn.worldpay.com/v1/worldpay.js\"&gt;&lt;/script&gt;</code>\nAdd specific attibutes for some inputs: <code>data-worldpay</code> and attach the <strong>Worldpay.js</strong> logic to the form... </p>\n\n<p>I managed to make the steps:<br>\n1. Include Worldpay.js in your page<br>\n2. Create a payment form with the relevant attributes</p>\n\n<p>How can I continue to make next steps... \nI am stuck on that problem: </p>\n\n<p><strong>5. Attach Worldpay.js to your form:</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar form = document.getElementById('paymentForm');\n\nWorldpay.useOwnForm({\n  'clientKey': 'your-test-client-key',\n  'form': form,\n  'reusable': false,\n  'callback': function(status, response) {\n    document.getElementById('paymentErrors').innerHTML = '';\n    if (response.error) {             \n      Worldpay.handleError(form, document.getElementById('paymentErrors'), response.error); \n    } else {\n      var token = response.token;\n      Worldpay.formBuilder(form, 'input', 'hidden', 'token', token);\n      form.submit();\n    }\n  }\n});\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Why?</strong><br>\nangular2 removes all tags <code>&lt;script</code> from templates.<br>\nSupposing with a workaround it would be possible to inject some scripts in page in <code>ngAfterViewInit()</code> method (like i did for 1st step) </p>\n\n<pre><code>ngAfterViewInit(): void {        \n  let s = document.createElement(\"script\");\n  s.type = \"text/javascript\";\n  s.src = \"https://cdn.worldpay.com/v1/worldpay.js\";\n  this.worldPayScriptElement.nativeElement.appendChild(s);        \n}\n</code></pre>\n\n<p>where <code>this.worldPayScriptElement</code> is a ViewChild of the div from template: <code>&lt;div #worldPayScriptElement hidden&gt;&lt;/div&gt;</code></p>\n\n<p>But,\nAs result of their processing rules, worldpay will replace sensitive data from my form with a field called <strong>CreditCardToken</strong></p>\n\n<p>From source: <em>Finally, in Worldpay.formBuilder() all sensitive card data is removed from the form, replaced with the token and only then is the form submitted back to your server.</em>\nsource: <a href=\"https://developer.worldpay.com/jsonapi/docs/own-form\" rel=\"nofollow noreferrer\">https://developer.worldpay.com/jsonapi/docs/own-form</a></p>\n\n<p>How to continue integrating this ... Cannot understand.<br>\nIf they would have an API returning the CreditCardToken based on a <code>GET/POST</code> request it would be perfect, but from documentation I didn't found yet the right method for that...</p>\n\n<p>I will really appreciate any kind of suggestions.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1478694076, "post_id": 40506655, "comment_id": 68256002, "body": "Have your tried to add property <code>Intl = Intl</code> in your component?"}, {"owner": {"reputation": 1472, "user_id": 2562935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/673e46b7eb0b485c2a6f994206fd3a07?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/2562935/michael"}, "edited": false, "score": 0, "creation_date": 1478694232, "post_id": 40506655, "comment_id": 68256081, "body": "I do not think it is possible, see this <a href=\"http://stackoverflow.com/a/35599657/2562935\">post</a> if that might help you"}], "answers": [{"tags": [], "owner": {"reputation": 1200, "user_id": 2838044, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b628609aeb50d70aa69813e8f7bb3516?s=128&d=identicon&r=PG&f=1", "display_name": "alpham8", "link": "https://stackoverflow.com/users/2838044/alpham8"}, "is_accepted": false, "score": 8, "last_activity_date": 1478694832, "last_edit_date": 1495540008, "creation_date": 1478694289, "answer_id": 40506975, "question_id": 40506655, "link": "https://stackoverflow.com/questions/40506655/currency-number-format/40506975#40506975", "title": "Currency number Format", "body": "<p>Just use the currency pipe to keep things simple. Assuming your variable in your template is called <code>myamount</code>. Then just access it with</p>\n\n<pre><code>@Component({\n  selector: 'currency-pipe',\n  template: `&lt;div&gt;\n    &lt;p&gt;Amount: {{myamount | currency:'USD':true}}&lt;/p&gt;\n  &lt;/div&gt;`\n})\nexport class CurrencyPipeComponent {\n  myamount: number = 0.259;\n}\n</code></pre>\n\n<p>Source and more information about the currency pipe: <a href=\"https://angular.io/docs/ts/latest/api/common/index/CurrencyPipe-pipe.html\" rel=\"noreferrer\">https://angular.io/docs/ts/latest/api/common/index/CurrencyPipe-pipe.html</a></p>\n\n<p>You might want also to set the default culture: <a href=\"https://stackoverflow.com/questions/34904683/how-to-set-locale-in-datepipe-in-angular2\">How to set locale in DatePipe in Angular2?</a></p>\n\n<p>In the cookbook you may find more information about i18n and how to change it at runtime:</p>\n\n<pre><code>&lt;script&gt;\n  // Get the locale id somehow\n  document.locale = 'fr';\n\n  // Map to the text plugin\n  System.config({\n    map: {\n      text: 'systemjs-text-plugin.js'\n    }\n  });\n\n  // Launch the app\n  System.import('app').catch(function(err){ console.error(err); });\n&lt;/script&gt;\n</code></pre>\n\n<p>Source: <a href=\"https://angular.io/docs/ts/latest/cookbook/i18n.html#!#merge-with-the-jit-compiler\" rel=\"noreferrer\">https://angular.io/docs/ts/latest/cookbook/i18n.html#!#merge-with-the-jit-compiler</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11338450, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d6f70330afc28c6f016d9029d98c4fb5?s=128&d=identicon&r=PG", "display_name": "deepak", "link": "https://stackoverflow.com/users/11338450/deepak"}, "is_accepted": false, "score": 0, "last_activity_date": 1554877111, "last_edit_date": 1554877111, "creation_date": 1554876923, "answer_id": 55605842, "question_id": 40506655, "link": "https://stackoverflow.com/questions/40506655/currency-number-format/55605842#55605842", "title": "Currency number Format", "body": "<p>Amount Separted by Common:</p>\n\n<p>Use this code in your html template</p>\n\n<pre><code>{{ separteAmount(450000)}}\n</code></pre>\n\n<p>and </p>\n\n<p>Make a function in your <code>.ts</code> file</p>\n\n<pre><code>separteAmount(Number){\n   return Intl.NumberFormat('en-IN').format(Number)\n}\n</code></pre>\n"}], "owner": {"reputation": 1906, "user_id": 3862535, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/mqKJy.jpg?s=128&g=1", "display_name": "Karma", "link": "https://stackoverflow.com/users/3862535/karma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8002, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1578592933, "creation_date": 1478693230, "last_edit_date": 1578592933, "question_id": 40506655, "link": "https://stackoverflow.com/questions/40506655/currency-number-format", "title": "Currency number Format", "body": "<p>I am trying to format the amount I get from my API into the locale-specific format.</p>\n\n<p>In console:</p>\n\n<pre><code>Intl.NumberFormat('en-IN').format(450000) // \"4,50,000\"\n</code></pre>\n\n<p>In an Angular 2 component template:</p>\n\n<pre><code>{{ Intl.NumberFormat('en-IN').format(450000) }} // Cannot read property 'NumberFormat' of undefined\n\n{{ 450000 | currency:'INR':true }} // \u20b9450,000.00\n</code></pre>\n\n<p>Is there a way I can get <code>\u20b94,50,000.00</code> without specifying the delimiters explicitly (and be able to change the locale string <code>'en-IN'</code> to <code>'en-US'</code> to update).</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1472, "user_id": 2562935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/673e46b7eb0b485c2a6f994206fd3a07?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/2562935/michael"}, "edited": false, "score": 0, "creation_date": 1478694694, "post_id": 40505988, "comment_id": 68256353, "body": "what is <code>utilite</code> ?"}, {"owner": {"reputation": 3630, "user_id": 3114659, "user_type": "registered", "profile_image": "https://graph.facebook.com/1004571799/picture?type=large", "display_name": "Amit", "link": "https://stackoverflow.com/users/3114659/amit"}, "edited": false, "score": 0, "creation_date": 1478695376, "post_id": 40505988, "comment_id": 68256745, "body": "Do you use webpack? SystemJS?"}, {"owner": {"reputation": 598, "user_id": 4812272, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh5.googleusercontent.com/-hMM17B5DCPc/AAAAAAAAAAI/AAAAAAAABM8/q4c1zKGkif4/photo.jpg?sz=128", "display_name": "Eduard Arevshatyan", "link": "https://stackoverflow.com/users/4812272/eduard-arevshatyan"}, "reply_to_user": {"reputation": 1472, "user_id": 2562935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/673e46b7eb0b485c2a6f994206fd3a07?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/2562935/michael"}, "edited": false, "score": 0, "creation_date": 1478696757, "post_id": 40505988, "comment_id": 68257592, "body": "@Michael it is example."}], "answers": [{"tags": [], "owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "is_accepted": true, "score": 1, "last_activity_date": 1478708538, "creation_date": 1478708538, "answer_id": 40511596, "question_id": 40505988, "link": "https://stackoverflow.com/questions/40505988/import-of-any-files-in-angular-2/40511596#40511596", "title": "Import of any files in angular 2", "body": "<p>Try the following:</p>\n\n<pre><code>import utilite from 'utilite';\n</code></pre>\n\n<p>The syntax </p>\n\n<pre><code>import { Utilite } from \"utilite/utilite\";\n</code></pre>\n\n<p>Will only work if that module explicitly export \"Utilite\"</p>\n\n<p>Examples of this with moment library:</p>\n\n<p>import moment from 'moment';</p>\n"}], "owner": {"reputation": 598, "user_id": 4812272, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh5.googleusercontent.com/-hMM17B5DCPc/AAAAAAAAAAI/AAAAAAAABM8/q4c1zKGkif4/photo.jpg?sz=128", "display_name": "Eduard Arevshatyan", "link": "https://stackoverflow.com/users/4812272/eduard-arevshatyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 40511596, "answer_count": 1, "score": 0, "last_activity_date": 1478708538, "creation_date": 1478691111, "question_id": 40505988, "link": "https://stackoverflow.com/questions/40505988/import-of-any-files-in-angular-2", "title": "Import of any files in angular 2", "body": "<p>I install some utilite with command <code>npm install utilite</code> in my angular 2 application. And when i import this utilite in my <code>app.module.ts</code>, like this:</p>\n\n<pre><code>import { Utilite } from \"utilite/utilite\";\n</code></pre>\n\n<p>i've got error of not found module. Tell me please, how to write a right import of any modules from node_modules. </p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1478690697, "post_id": 40505691, "comment_id": 68254159, "body": "&quot;<code>result</code> beneath subscribe is <code>undefined</code>&quot; it is not? <a href=\"http://plnkr.co/edit/EOkO81iMWQzeLcRiuZbr?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/EOkO81iMWQzeLcRiuZbr?p=preview</a>"}, {"owner": {"reputation": 3235, "user_id": 3811726, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6a81a7950ace9d2540323569cb048f64?s=128&d=identicon&r=PG&f=1", "display_name": "nyluje", "link": "https://stackoverflow.com/users/3811726/nyluje"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1478691132, "post_id": 40505691, "comment_id": 68254392, "body": "I understand my mistake, at first, I had written <code>.map(response =&gt;{console.log(&quot;map&quot;);console.info(response);response.json()&zwnj;&#8203;})</code> instead of <code>.map(response =&gt;{console.log(&quot;map&quot;);console.info(response);**return** response.json()})</code> Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 4, "last_activity_date": 1478690834, "creation_date": 1478690834, "answer_id": 40505895, "question_id": 40505691, "link": "https://stackoverflow.com/questions/40505691/observable-why-result-not-in-subscribe-success-function-if-preceded-by-map/40505895#40505895", "title": "Observable: Why result not in subscribe() success function if preceded by map()?", "body": "<p><code>subscribe()</code> gets passed as <code>result</code> what the previous operator <code>.map()</code> returns - <code>return response.json()</code>. </p>\n\n<p>It is quite possible that <code>response != undefined</code> but <code>response.json() == null</code></p>\n"}], "owner": {"reputation": 3235, "user_id": 3811726, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6a81a7950ace9d2540323569cb048f64?s=128&d=identicon&r=PG&f=1", "display_name": "nyluje", "link": "https://stackoverflow.com/users/3811726/nyluje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1622, "favorite_count": 0, "accepted_answer_id": 40505895, "answer_count": 1, "score": 4, "last_activity_date": 1522740077, "creation_date": 1478690223, "last_edit_date": 1522740077, "question_id": 40505691, "link": "https://stackoverflow.com/questions/40505691/observable-why-result-not-in-subscribe-success-function-if-preceded-by-map", "title": "Observable: Why result not in subscribe() success function if preceded by map()?", "body": "<p>I refer to this <a href=\"https://stackoverflow.com/questions/34671715/angular2-http-get-map-subscribe-and-observable-pattern-basic-understan/34672550\">post</a> which was really helpful to understand Observables, but there is still something I don't get.</p>\n\n<p>In the plunker it <a href=\"http://plnkr.co/edit/oYFhsMEJFMi7NzGPpvT1?p=preview\" rel=\"nofollow noreferrer\">refers to</a>, I changed the \"src/myfreinds.ts\" to see a bit what happen and added some console log:</p>\n\n<p>First I left it as the same:</p>\n\n<pre><code>  export class FriendsList{\n\n    result:Array&lt;Object&gt;; \n    constructor(http: Http) { \n      console.log(\"Friends are being called\");\n      http.get('friends.json')\n        .map(response =&gt; {\n            console.log(\"map\");\n            console.info(response);\n            response.json(); //MISTAKE WAS HERE SHOULD HAVE HAD \"return response.json()\" INSTEAD AS EXPLAINED IN THE ANSWER GIVEN\n          })\n        .subscribe(result =&gt; {\n          console.log(\"subscribe\");\n          console.info(result);\n          this.result =result;\n        }\n      );\n    }\n  }\n</code></pre>\n\n<p>In that case I can see in the log that <code>result</code> beneath <code>subscribe</code> is <code>undefined</code>. But <code>response</code> beneath <code>map</code> contains the response indeed.</p>\n\n<p>If I take away the <code>map</code> part and keep the <code>subscribe</code> part like this:</p>\n\n<pre><code>export class FriendsList{\n\n  result:Array&lt;Object&gt;; \n  constructor(http: Http) { \n    console.log(\"Friends are being called\");\n    http.get('friends.json')\n      .subscribe(\n        result =&gt; {\n          console.log(\"subscribe\");\n          console.info(result);\n          this.result =result;\n        }\n      );\n   }\n}\n</code></pre>\n\n<p>This time, in the console I can see beneath subscribe the details of the <code>result</code> and not <code>undefined</code> like I had in previous case.</p>\n\n<p><strong>I'd like to understand why subscribe, success function does not contain everytime the result whether <code>map</code> function is applied or not?</strong></p>\n"}, {"tags": ["typescript", "nativescript"], "answers": [{"comments": [{"owner": {"reputation": 2043, "user_id": 2348614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/vq7Gw.jpg?s=128&g=1", "display_name": "Starwave", "link": "https://stackoverflow.com/users/2348614/starwave"}, "edited": false, "score": 0, "creation_date": 1478693575, "post_id": 40506090, "comment_id": 68255735, "body": "Omg, how could I forget about declaring it first... :D lol, yes, quick and nice fix, now I&#39;m getting access to the classes/objects/functions. Kudos!"}, {"owner": {"reputation": 2043, "user_id": 2348614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/vq7Gw.jpg?s=128&g=1", "display_name": "Starwave", "link": "https://stackoverflow.com/users/2348614/starwave"}, "edited": false, "score": 0, "creation_date": 1478693590, "post_id": 40506090, "comment_id": 68255749, "body": "The weird thing though is that when I included <code>dependencies { compile &#39;com.google.android.gms:play-services-maps:9.8.0&#39; }</code>, my app did compile and build just fine, but when I opened it on Android phone it instantly crashed. So I removed that dependency, now it doesn&#39;t crash, however, where am I getting that sdk class from then?"}, {"owner": {"reputation": 2043, "user_id": 2348614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/vq7Gw.jpg?s=128&g=1", "display_name": "Starwave", "link": "https://stackoverflow.com/users/2348614/starwave"}, "edited": false, "score": 0, "creation_date": 1478693597, "post_id": 40506090, "comment_id": 68255756, "body": "My guess - my app uses <code>nativescript-google-maps-sdk</code> plugin and it uses google maps from android sdk. Therefore, if I include this plugin in my project, it builds a global refference to this in-app google object, that&#39;s why when I access it within AppComponent with console.log, I doesn&#39;t throw an error."}, {"owner": {"reputation": 2043, "user_id": 2348614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/vq7Gw.jpg?s=128&g=1", "display_name": "Starwave", "link": "https://stackoverflow.com/users/2348614/starwave"}, "edited": false, "score": 0, "creation_date": 1478695285, "post_id": 40506090, "comment_id": 68256699, "body": "Btw, how can I extend the class which I now have a refference to? When I do <code>class FBMessagingService extends com.google.firebase.messaging.FirebaseMessagingService {}</code> I get an error saying <code>Type any is not a constructor function type</code>"}, {"owner": {"reputation": 1446, "user_id": 6408287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271b077ccd622f330cc4f1faa522172?s=128&d=identicon&r=PG&f=1", "display_name": "pkanev", "link": "https://stackoverflow.com/users/6408287/pkanev"}, "reply_to_user": {"reputation": 2043, "user_id": 2348614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/vq7Gw.jpg?s=128&g=1", "display_name": "Starwave", "link": "https://stackoverflow.com/users/2348614/starwave"}, "edited": false, "score": 0, "creation_date": 1478710851, "post_id": 40506090, "comment_id": 68266400, "body": "@Starwave you can do it as I have explained below -&gt; describe the whole structure in TypeScript if one isn&#39;t readily available. It&#39;s a lot of boilerplate, but it&#39;s one of the trade-offs vs JavaScript."}], "tags": [], "owner": {"reputation": 1656, "user_id": 4146943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54e34c794b157fdb8097d92c236aa8fb?s=128&d=identicon&r=PG", "display_name": "Habib Kazemi", "link": "https://stackoverflow.com/users/4146943/habib-kazemi"}, "is_accepted": true, "score": 3, "last_activity_date": 1478691454, "last_edit_date": 1495541620, "creation_date": 1478691454, "answer_id": 40506090, "question_id": 40505450, "link": "https://stackoverflow.com/questions/40505450/nativescript-is-it-possible-to-access-android-sdk-function-class-through-typesc/40506090#40506090", "title": "Nativescript: is it possible to access android sdk function/class through typescript?", "body": "<p>add this to you file \n<code>declare var com:any;</code>\nand also read this \n<a href=\"https://stackoverflow.com/questions/37523071/how-can-i-access-native-api-in-nativescript-when-i-use-typescript\">How can I access Native api in NativeScript when I use Typescript</a></p>\n"}, {"comments": [{"owner": {"reputation": 381, "user_id": 4476654, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/w077G.jpg?s=128&g=1", "display_name": "Mudlabs", "link": "https://stackoverflow.com/users/4476654/mudlabs"}, "edited": false, "score": 0, "creation_date": 1567730319, "post_id": 40506338, "comment_id": 102059939, "body": "Or just comment <code>&#47;&#47;@ts-ignore</code> above the line with the unrecognised property."}], "tags": [], "owner": {"reputation": 1446, "user_id": 6408287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271b077ccd622f330cc4f1faa522172?s=128&d=identicon&r=PG&f=1", "display_name": "pkanev", "link": "https://stackoverflow.com/users/6408287/pkanev"}, "is_accepted": false, "score": 4, "last_activity_date": 1478692285, "creation_date": 1478692285, "answer_id": 40506338, "question_id": 40505450, "link": "https://stackoverflow.com/questions/40505450/nativescript-is-it-possible-to-access-android-sdk-function-class-through-typesc/40506338#40506338", "title": "Nativescript: is it possible to access android sdk function/class through typescript?", "body": "<p>You need to first understand why the error is occurring - missing TypeScript definitions for whatever <code>com</code> and what comes afterwards is. <code>com</code> is not a valid recognized object in TypeScript nor JavaScript, so you need to either </p>\n\n<p>A) (BAD) instruct the TypeScript compiler to not complain about missing definitions, because you know better, you know that <code>com.google.android.gms.maps.CameraUpdateFactory</code> is a valid object. You disable <code>noEmitOnErrors</code> in <code>tsconfig.json</code></p>\n\n<p>B) (GOOD) provide typings (they normally come in the form of .d.ts) to \"acquaint\" TSC with the alien class. </p>\n\n<pre><code>declare module com {\n    export module google {\n        export module android {\n            export module gms {\n                export module maps {\n                    export class CameraUpdateFactory {\n                        public static newCameraPosition(param0: any): any\n                    }\n                }\n            }\n        }\n    }\n}\n\nlet cameraUpdate: any = com.google.android.gms.maps.CameraUpdateFactory.newCameraPosition;\n</code></pre>\n\n<p>Or use <code>let com: any</code> if you cannot bother describing the whole namespace. Typings can be generated automatically for android/java libraries, but there is a certain limitation in TypeScript/JavaScript that currently prevents us from exporting google android library typings alongside the android.sdk and support library typings.</p>\n"}], "owner": {"reputation": 2043, "user_id": 2348614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/vq7Gw.jpg?s=128&g=1", "display_name": "Starwave", "link": "https://stackoverflow.com/users/2348614/starwave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "accepted_answer_id": 40506090, "answer_count": 2, "score": 0, "last_activity_date": 1478692285, "creation_date": 1478689509, "question_id": 40505450, "link": "https://stackoverflow.com/questions/40505450/nativescript-is-it-possible-to-access-android-sdk-function-class-through-typesc", "title": "Nativescript: is it possible to access android sdk function/class through typescript?", "body": "<p>Let's say I have this main component:</p>\n\n<pre><code>import { Component } from \"@angular/core\";\n\n@Component({\n    selector: \"my-app\",\n    templateUrl: \"./layouts/main-layout.html\"\n})\nexport class AppComponent {\n\n    constructor(\n\n    ){}\n\n    ngAfterViewInit() {\n        //console.log( com.google.android.gms.maps.CameraUpdateFactory );\n    }\n\n}\n</code></pre>\n\n<p>How can I call the commented-out function, right there in app.component.ts? </p>\n\n<p>Because it gives me <code>\"com\" not found</code> error. </p>\n\n<p>I have added <code>dependencies { compile 'com.google.android.gms:play-services-maps:9.8.0' }</code> in <code>App_Resources/Android/app.gradle</code> file.</p>\n\n<p>I have also checked how <code>nativescript-google-maps-sdk</code> plugin does it. It seems it does it the same way - it has its' own <code>nativescript-google-maps-sdk/platforms/android/include.gradle</code> file, where it also defines the google play service maps from local android sdk, and in <code>nativescript-google-maps-sdk/map-view.android.js</code> I see it is using such a command without problem: </p>\n\n<p><code>var cameraUpdate = com.google.android.gms.maps.CameraUpdateFactory.newCameraPosition( cameraPosition );</code></p>\n\n<p>Any insights much appreciated.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "edited": false, "score": 1, "creation_date": 1478689369, "post_id": 40505368, "comment_id": 68253444, "body": "instead of using <code>$(&#39;#phone&#39;).hide();</code> you can use variable to manage show-hide  and use it in <code>*ngIf</code> on input"}], "answers": [{"tags": [], "owner": {"reputation": 187, "user_id": 6700018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ffbddff3782fff4077bcdc87b1cf6c0?s=128&d=identicon&r=PG", "display_name": "Dmitri", "link": "https://stackoverflow.com/users/6700018/dmitri"}, "is_accepted": false, "score": 0, "last_activity_date": 1478689757, "creation_date": 1478689757, "answer_id": 40505528, "question_id": 40505368, "link": "https://stackoverflow.com/questions/40505368/how-to-hide-a-input-tag-on-click-out-side-in-angular2/40505528#40505528", "title": "How to hide a input tag on click out side in angular2", "body": "<p>Use Angular directives ng-if or ng-hide</p>\n\n<pre><code> &lt;input ng-if='student.showinput' type=\"text\" class=\"\"&gt;\n</code></pre>\n\n<p>For example for click event:</p>\n\n<p>hide</p>\n\n<pre><code>&lt;button type=\"button\" ng-click=\"student.showinput = false\"&gt;click&lt;/button&gt;\n</code></pre>\n\n<p>toggle</p>\n\n<pre><code>&lt;button type=\"button\" ng-click=\"student.showinput = !student.showinput\"&gt;click&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 2219, "user_id": 6459548, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/bda2f6854046297a57707813fc170cc6?s=128&d=identicon&r=PG&f=1", "display_name": "MMR", "link": "https://stackoverflow.com/users/6459548/mmr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478689757, "creation_date": 1478689235, "question_id": 40505368, "link": "https://stackoverflow.com/questions/40505368/how-to-hide-a-input-tag-on-click-out-side-in-angular2", "title": "How to hide a input tag on click out side in angular2", "body": "<p>I have a template in which i want to hide this input tag on clicking out side,\nI am opening this input tag onclick of a button and this tag is closing when i click on outside</p>\n\n<pre><code>   &lt;input id=\"phone\" *ngIf='student.showinput' type=\"text\" (blur)=\"showsavephonemodel(student._id,phone.value,student.phone)\" #phone [(ngModel)]='student.phone'\n      class=\"phone form-control required email \" style=\"height:38px;\"&gt;\n\n onClick(event) {\n   if (!this._eref.nativeElement.contains(event.target)) // or some similar check\n      $('#phone').hide();\n  }\n</code></pre>\n\n<p>Here the problem is its closing for first time and when i do it for second time i.e clicking outside again,its not closing.Can anyone suggest help please.Thanks.</p>\n"}, {"tags": ["javascript", "angularjs", "cordova", "typescript"], "comments": [{"owner": {"reputation": 5815, "user_id": 5730444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7b67ca53ae017f1cf679d4ab99df6ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Phonolog", "link": "https://stackoverflow.com/users/5730444/phonolog"}, "edited": false, "score": 2, "creation_date": 1478710273, "post_id": 40505274, "comment_id": 68266061, "body": "<a href=\"https://stackoverflow.com/questions/23339740/getting-plugin-functions-on-typescript\" title=\"getting plugin functions on typescript\">stackoverflow.com/questions/23339740/&hellip;</a> might be of interest for you"}, {"owner": {"reputation": 85, "user_id": 2048637, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/031078bd34d7daa5e38ae4ebeb5831eb?s=128&d=identicon&r=PG", "display_name": "uf4b", "link": "https://stackoverflow.com/users/2048637/uf4b"}, "reply_to_user": {"reputation": 5815, "user_id": 5730444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7b67ca53ae017f1cf679d4ab99df6ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Phonolog", "link": "https://stackoverflow.com/users/5730444/phonolog"}, "edited": false, "score": 0, "creation_date": 1478860143, "post_id": 40505274, "comment_id": 68330373, "body": "Thank you , this was what I needed!"}, {"owner": {"reputation": 5815, "user_id": 5730444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7b67ca53ae017f1cf679d4ab99df6ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Phonolog", "link": "https://stackoverflow.com/users/5730444/phonolog"}, "edited": false, "score": 0, "creation_date": 1478865115, "post_id": 40505274, "comment_id": 68333184, "body": "Glad it helped! Make sure to upvote the answer if it helped ;)"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 2048637, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/031078bd34d7daa5e38ae4ebeb5831eb?s=128&d=identicon&r=PG", "display_name": "uf4b", "link": "https://stackoverflow.com/users/2048637/uf4b"}, "edited": false, "score": 0, "creation_date": 1478690495, "post_id": 40505555, "comment_id": 68254053, "body": "I don&#39;t use Ionic, that&#39;s the problem.. :/ I build my UI manually with Bootstrap and other few libs!"}, {"owner": {"reputation": 85, "user_id": 2048637, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/031078bd34d7daa5e38ae4ebeb5831eb?s=128&d=identicon&r=PG", "display_name": "uf4b", "link": "https://stackoverflow.com/users/2048637/uf4b"}, "edited": false, "score": 1, "creation_date": 1478860112, "post_id": 40505555, "comment_id": 68330357, "body": "Thanks anyway but what @Phonolog suggested was what I was looking for!"}], "tags": [], "owner": {"reputation": 1406, "user_id": 3139153, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/5stFS.jpg?s=128&g=1", "display_name": "Naitik", "link": "https://stackoverflow.com/users/3139153/naitik"}, "is_accepted": false, "score": 0, "last_activity_date": 1478689826, "creation_date": 1478689826, "answer_id": 40505555, "question_id": 40505274, "link": "https://stackoverflow.com/questions/40505274/typescript-compiler-cordova-api-check-for-undefined-global-variables/40505555#40505555", "title": "Typescript compiler/Cordova API: Check for undefined global variables", "body": "<p>It looks like this is in the <a href=\"http://ionicframework.com/docs/v2/native/device/\" rel=\"nofollow noreferrer\">Ionic 2 docs for device plugin</a>. What you need to do is import the Device class from ionic-native and call the uuid property of the device object.</p>\n\n<p>For example</p>\n\n<pre><code>import {Device} from 'ionic-native';\n\nplatform.ready().then(() =&gt; {\n   console.log(Device.device.uuid);\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 2048637, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/031078bd34d7daa5e38ae4ebeb5831eb?s=128&d=identicon&r=PG", "display_name": "uf4b", "link": "https://stackoverflow.com/users/2048637/uf4b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478689826, "creation_date": 1478688990, "question_id": 40505274, "link": "https://stackoverflow.com/questions/40505274/typescript-compiler-cordova-api-check-for-undefined-global-variables", "title": "Typescript compiler/Cordova API: Check for undefined global variables", "body": "<p>I'm new to Typescript, or better in Angular 2 with Typescript.</p>\n\n<p>The problem is that I cannot compile my code due to undefined Cordova API  global variables in my local dev environment.\nThese variables will be obviously defined once the app will be compiled and packed for production, so with Cordova libraries.</p>\n\n<p>For example, with Angular 1 and Javascript I could have this:</p>\n\n<pre><code>if (typeof(device) != 'undefined') {\n    return device.platform;\n}\n</code></pre>\n\n<p>Now with Angular 2 and TypeScript compiler tells me that it cannot find name device.</p>\n\n<p>How to work so with these unavailable variables in dev environment?\n(I just build and test my app on the browser first)</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ngfor"], "answers": [{"comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1478689324, "post_id": 40505074, "comment_id": 68253414, "body": "You could simplify the template further by moving <code>city[selected]</code> into the class using e.g. a property <code>get listOfThings() { return this.city[this.selected]; }</code>"}], "tags": [], "owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "is_accepted": true, "score": 4, "last_activity_date": 1478688293, "creation_date": 1478688293, "answer_id": 40505074, "question_id": 40504954, "link": "https://stackoverflow.com/questions/40504954/ngfor-dynamic-string-interpolation-with-array/40505074#40505074", "title": "*ngFor dynamic string interpolation with array", "body": "<p>You can use component function to handle it:</p>\n\n<pre><code>//Component\nexport interface City { \n street: Street[];\n country: Country[];\n}\n\nexport class MyComponent {\n  public selected : string = 'street';\n  public city: City;\n\n  OnClick(select: string) {\n    this.selected = select;\n  }\n\n}\n\n// You HTML\n\n&lt;div&gt;\n  &lt;div (click)=\"OnClick('street')\"&gt;Street&lt;/div&gt;\n  &lt;div (click)=\"OnClick('country')\"&gt;Country&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"clicked\"&gt;       \n  &lt;div *ngFor=\"let c of city[selected]\"&gt;  \n    &lt;div&gt;{{c.name}}&lt;/div&gt;\n  &lt;/div&gt;  \n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 5231302, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/984858296cafe1a7b4507e282d2cc49e?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammed Misir", "link": "https://stackoverflow.com/users/5231302/muhammed-misir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2382, "favorite_count": 0, "accepted_answer_id": 40505074, "answer_count": 1, "score": 0, "last_activity_date": 1478688293, "creation_date": 1478687939, "question_id": 40504954, "link": "https://stackoverflow.com/questions/40504954/ngfor-dynamic-string-interpolation-with-array", "title": "*ngFor dynamic string interpolation with array", "body": "<p>Actually i have the situation that i want to change the array looping dynamically.</p>\n\n<pre><code>export interface City { \n   street: Street[];\n   country: Country[];\n}\n\n&lt;div&gt;\n    &lt;div (click)=\"OnClick()\"&gt;Street&lt;/div&gt;\n    &lt;div (click)=\"OnClick()\"&gt;Country&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"clicked\"&gt;       \n         &lt;div *ngFor=\"let c of city.street\"&gt;    \n              &lt;div&gt;\n                {{c.name}}          \n              &lt;/div&gt;        \n         &lt;/div&gt;  \n&lt;/div&gt;\n</code></pre>\n\n<p>If the User click on Street, the Values of the street should loop. </p>\n\n<blockquote>\n  <p>expected: *ngFor=\"let c of city.street\"</p>\n</blockquote>\n\n<p>If the user click on country, the values of the country should loop. </p>\n\n<blockquote>\n  <p>expected: *ngFor=\"let c of city.country\"</p>\n</blockquote>\n\n<p>I have tried the following:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;div (click)=\"OnClick('street')\"&gt;Street&lt;/div&gt;\n    &lt;div (click)=\"OnClick('country')\"&gt;Country&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"clicked\"&gt;       \n         //Porperty Binding\n         &lt;div *ngFor=\"let c of city.{{onClickParameter}}\"&gt;  \n              &lt;div&gt;\n                {{c.name}}          \n              &lt;/div&gt;        \n         &lt;/div&gt;  \n&lt;/div&gt;\n</code></pre>\n\n<p>It doenst work ( Template Parse Error because city.{{}} )\nIs thereother solutions ?</p>\n"}, {"tags": ["inheritance", "angular", "typescript", "components", "composition"], "comments": [{"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1507813671, "post_id": 40504229, "comment_id": 80367303, "body": "so what exactly do you want to share? template? component class?"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4878466, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-45tC-i9c1v8/AAAAAAAAAAI/AAAAAAAAAT8/ORcEMYw_hUY/photo.jpg?sz=128", "display_name": "Naren Kannan", "link": "https://stackoverflow.com/users/4878466/naren-kannan"}, "is_accepted": false, "score": 0, "last_activity_date": 1478697056, "creation_date": 1478697056, "answer_id": 40507837, "question_id": 40504229, "link": "https://stackoverflow.com/questions/40504229/sharing-behaviour-between-components-in-angular-2-with-typescript/40507837#40507837", "title": "Sharing behaviour between components in Angular 2 with Typescript", "body": "<p>Create a ParentComponent which holds a router-outlet to hold the unique behaviour as (ChildComponents) and share the data model via a shared service. </p>\n\n<p>Also incorporate lazyloading(route using loadchildren) to get module specific sharedservice.</p>\n"}], "owner": {"reputation": 111, "user_id": 7076505, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZKlbs78yDrI/AAAAAAAAAAI/AAAAAAAAACQ/Wb4rcotgCT0/photo.jpg?sz=128", "display_name": "Emilie Paillous", "link": "https://stackoverflow.com/users/7076505/emilie-paillous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 472, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1478697056, "creation_date": 1478685695, "question_id": 40504229, "link": "https://stackoverflow.com/questions/40504229/sharing-behaviour-between-components-in-angular-2-with-typescript", "title": "Sharing behaviour between components in Angular 2 with Typescript", "body": "<p>I am currently working on an Angular 2 project with Typescript. </p>\n\n<p>I have several components which share the same behaviour : they are all able to show a loader (depending on if they are fetching some data), an error screen (if the fetch failed), and they are all subscribing to the same service (the one that fetch the data). This service is refreshing the data every 30 seconds, and components subscribers are doing <strong>almost</strong> the same thing with the new data.</p>\n\n<p>I could not find a good way to share this behaviour.</p>\n\n<p>I tried to use mixins from typescript, but first, I can not override method I declared in mixin in my component, and second, I still have to declare methods in my components with nothing inside, so my compiler does not complain.</p>\n\n<p>I also tried to use decorator, but my compiler complains because it does not find the method declared in the decorator.</p>\n\n<p>I finally try to use typescript inheritance with a parent component, that do not have any template, it is just a parent class, I use it with \"extends ParentComponent\", and put all my logic in the ParentComponent. This last method was the easiest one, but I have the strong feeling that this is definitively not the good way (composition over inheritance, etc.)</p>\n\n<p>Is there a way to do it properly ? I come from ruby on rails, something like the \"concerns\" in ruby would be great.</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1478685974, "post_id": 40504101, "comment_id": 68251428, "body": "I would suggest updating to <code>v2.1</code> first. By the looks of it, you are still using an alpha version"}, {"owner": {"reputation": 4695, "user_id": 3378621, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/bpsb3.jpg?s=128&g=1", "display_name": "Mike Bovenlander", "link": "https://stackoverflow.com/users/3378621/mike-bovenlander"}, "reply_to_user": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1478686361, "post_id": 40504101, "comment_id": 68251636, "body": "Thanks, just did that. Sadly it does not fix the issue.."}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1478688057, "post_id": 40504101, "comment_id": 68252734, "body": "That&#39;s a fast update. I would expect updating an app all the way from alpha to release would take a lot longer. But guess your app isn&#39;t that big yet :)"}, {"owner": {"reputation": 4695, "user_id": 3378621, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/bpsb3.jpg?s=128&g=1", "display_name": "Mike Bovenlander", "link": "https://stackoverflow.com/users/3378621/mike-bovenlander"}, "reply_to_user": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1478690659, "post_id": 40504101, "comment_id": 68254138, "body": "I have the issue in a bigger app. But before asking on stack I tested it in a other empty ng2 project. (didn&#39;t notice that the empty project was the wrong version) So I cheated a little.. and created a new project (with the right version)"}, {"owner": {"reputation": 10319, "user_id": 1951524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CvHQh.png?s=128&g=1", "display_name": "Martin Schneider", "link": "https://stackoverflow.com/users/1951524/martin-schneider"}, "edited": false, "score": 0, "creation_date": 1478697242, "post_id": 40504101, "comment_id": 68257877, "body": "seems like a bug in view, since the model is not affected by this issue: <a href=\"http://plnkr.co/edit/tu8AqTRJEBhJFHMpBAvM?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/tu8AqTRJEBhJFHMpBAvM?p=preview</a> maybe we can find a workaround..."}, {"owner": {"reputation": 4695, "user_id": 3378621, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/bpsb3.jpg?s=128&g=1", "display_name": "Mike Bovenlander", "link": "https://stackoverflow.com/users/3378621/mike-bovenlander"}, "edited": false, "score": 0, "creation_date": 1478697617, "post_id": 40504101, "comment_id": 68258106, "body": "Thanks! I would like that, been struggling for 2 days now.."}, {"owner": {"reputation": 4695, "user_id": 3378621, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/bpsb3.jpg?s=128&g=1", "display_name": "Mike Bovenlander", "link": "https://stackoverflow.com/users/3378621/mike-bovenlander"}, "edited": false, "score": 0, "creation_date": 1478699064, "post_id": 40504101, "comment_id": 68258991, "body": "I found a solution, it&#39;s not as pretty as I would like but it works. I used the package &quot;typescript-collections&quot; (<a href=\"https://github.com/basarat/typescript-collections\" rel=\"nofollow noreferrer\">github.com/basarat/typescript-collections</a>) to create a key value dictionary. If you, or someone else in the future comes up with something better I would be very interested!!"}], "answers": [{"comments": [{"owner": {"reputation": 4695, "user_id": 3378621, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/bpsb3.jpg?s=128&g=1", "display_name": "Mike Bovenlander", "link": "https://stackoverflow.com/users/3378621/mike-bovenlander"}, "edited": false, "score": 0, "creation_date": 1478686301, "post_id": 40504273, "comment_id": 68251597, "body": "Thanks for your answer. It did not help though :("}, {"owner": {"reputation": 4695, "user_id": 3378621, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/bpsb3.jpg?s=128&g=1", "display_name": "Mike Bovenlander", "link": "https://stackoverflow.com/users/3378621/mike-bovenlander"}, "edited": false, "score": 0, "creation_date": 1478686873, "post_id": 40504273, "comment_id": 68251973, "body": "Still the same behaviour. Thinking out loud here: could it be possible that <code>this.selectedPeople[index] = person;</code> changes the order of the array or something?"}, {"owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "reply_to_user": {"reputation": 4695, "user_id": 3378621, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/bpsb3.jpg?s=128&g=1", "display_name": "Mike Bovenlander", "link": "https://stackoverflow.com/users/3378621/mike-bovenlander"}, "edited": false, "score": 0, "creation_date": 1478687209, "post_id": 40504273, "comment_id": 68252210, "body": "May be, you can check it by printing its value in view like <code>&lt;pre&gt;{{ selectedPeople | json }}&lt;&#47;pre&gt;</code> as you have done for person."}], "tags": [], "owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "is_accepted": false, "score": 0, "last_activity_date": 1478686648, "last_edit_date": 1478686648, "creation_date": 1478685845, "answer_id": 40504273, "question_id": 40504101, "link": "https://stackoverflow.com/questions/40504101/angular2-ngfor-for-multiple-selectboxes-next-select-gets-the-value/40504273#40504273", "title": "Angular2 ngFor for multiple selectboxes. Next select gets the value", "body": "<p>Change your HTML as below and check :</p>\n\n<pre><code>&lt;select *ngFor=\"let selectedPerson of selectedPeople;let i = index;\" (change)=\"selectChanged(i, $event.target.value)\"&gt;\n  &lt;option&gt;&lt;/option&gt;\n  &lt;option *ngFor=\"let person of people\" [attr.selected]=\"selectedPerson === person.id\" [value]=\"person.id\"&gt;{{ person.name }}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4695, "user_id": 3378621, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/bpsb3.jpg?s=128&g=1", "display_name": "Mike Bovenlander", "link": "https://stackoverflow.com/users/3378621/mike-bovenlander"}, "edited": false, "score": 0, "creation_date": 1478690782, "post_id": 40504966, "comment_id": 68254199, "body": "Tried it but doesn&#39;t work. but the behaviour is a bit different. When chaning selectbox 1 the value is set correct. But the value of the second select is changed to.."}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 1, "last_activity_date": 1478687980, "creation_date": 1478687980, "answer_id": 40504966, "question_id": 40504101, "link": "https://stackoverflow.com/questions/40504101/angular2-ngfor-for-multiple-selectboxes-next-select-gets-the-value/40504966#40504966", "title": "Angular2 ngFor for multiple selectboxes. Next select gets the value", "body": "<p>Using <code>*ngFor</code> on a select apparently causes strange issues. You should wrap your <code>select</code> inside a <code>div</code>. </p>\n\n<pre><code>&lt;div *ngFor=\"let selectedPerson of selectedPeople; let i = index;\"&gt;\n    &lt;select (change)=\"selectChanged(i, $event.target.value)\" [value]=\"selectedPerson.id\"&gt;\n       &lt;option&gt;&lt;/option&gt;\n       &lt;option *ngFor=\"let person of people\" [value]=\"person.id\"&gt;{{ person.name }}&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n&lt;pre&gt;{{ people | json }}&lt;/pre&gt;\n</code></pre>\n\n<p>I am not sure this is can be considered a bug in angular2 or it's because of the templating done when using <code>*</code> expressions.</p>\n"}], "owner": {"reputation": 4695, "user_id": 3378621, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/bpsb3.jpg?s=128&g=1", "display_name": "Mike Bovenlander", "link": "https://stackoverflow.com/users/3378621/mike-bovenlander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1478687980, "creation_date": 1478685324, "last_edit_date": 1478686210, "question_id": 40504101, "link": "https://stackoverflow.com/questions/40504101/angular2-ngfor-for-multiple-selectboxes-next-select-gets-the-value", "title": "Angular2 ngFor for multiple selectboxes. Next select gets the value", "body": "<p>I created a view in which it should be possible to select multiple persons. From the same list of persons. (I don't want to use a multiselect)</p>\n\n<p>What I don't seem to get is: when selecting a value in selectbox 1 the value of next selectbox is being set. Why does this happen?</p>\n\n<pre><code>import {Component} from 'angular2/core';\n\n@Component({\n    selector: 'my-app',\n    template: `\n        &lt;select *ngFor=\"let selectedPerson of selectedPeople; let i = index;\" (change)=\"selectChanged(i, $event.target.value)\"&gt;\n            &lt;option&gt;&lt;/option&gt;\n            &lt;option *ngFor=\"let person of people\" [value]=\"person.id\"&gt;{{ person.name }}&lt;/option&gt;\n        &lt;/select&gt;\n\n        &lt;pre&gt;{{ people | json }}&lt;/pre&gt;\n    `\n})\nexport class AppComponent { \n    public people = &lt;IPerson[]&gt;[\n        {id: 1, name: \"Mike\"},\n        {id: 2, name: \"Jacob\"},\n        {id: 3, name: \"Ralph\"},\n        {id: 4, name: \"name4\"},\n        {id: 5, name: \"name5\"},\n        {id: 6, name: \"name6\"},\n        {id: 7, name: \"name7\"},\n    ];\n    public selectedPeople[];\n\n    constructor(){\n        this.selectedPeople = Array(6).fill(&lt;IPerson&gt;{ });\n    }\n\n    selectChanged(index, value){\n        let person = this.people.find((person: IPerson) =&gt; person.id == value);\n\n        this.selectedPeople[index] = person;\n    }\n}\n\nexport interface IPerson{\n    id: number,\n    name: string\n}\n</code></pre>\n\n<p>Edit: </p>\n\n<p>The line <code>this.selectedPeople[index] = person;</code> causes this issue..</p>\n"}, {"tags": ["angular", "typescript", "typescript-typings"], "owner": {"reputation": 5859, "user_id": 776686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ccf60b805c4c84f8377908435b14b05?s=128&d=identicon&r=PG", "display_name": "user776686", "link": "https://stackoverflow.com/users/776686/user776686"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478685523, "creation_date": 1478684903, "last_edit_date": 1478685523, "question_id": 40503941, "link": "https://stackoverflow.com/questions/40503941/typing-a-codemirror-instance-living-at-an-inline-template-variable", "title": "Typing a CodeMirror instance living at an inline template variable", "body": "<p>Playing with CodeMirror in an Angular2 app (TS).</p>\n\n<p>I have this code <code>&lt;codemirror #editor /&gt;</code>, which gives me the following easy access to the ElementRef:</p>\n\n<p><code>@ViewChild('editor') editor: any;</code></p>\n\n<p>However, the CodeMirror instance itself lives deeper at <code>this.editor.instance</code>, so I use:</p>\n\n<p><code>this.cmirror = this.editor.instance;</code></p>\n\n<p>to configure editor options from the UI using CodeMirror API (<code>this.cmirror.setOption('...')</code>);</p>\n\n<p>Everything works just fine as long as I use type <code>any</code> on the ViewChild reference. I have downloaded the <a href=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/codemirror/codemirror.d.ts\" rel=\"nofollow noreferrer\">typings file</a> though:</p>\n\n<p><code>/// &lt;reference path=\"../../typings/codemirror.d.ts\" /&gt;</code></p>\n\n<p>and now any attempt to use an explicit type fails.</p>\n\n<p>I tried: <code>@ViewChild('editor') editor: ElementRef</code> - but <code>.instance</code> does not exist there, so I am getting errors in IDE.</p>\n\n<p>What would be then the correct way of strongly typing the ViewChild reference for such a inline template reference pattern? </p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1478695912, "post_id": 40507386, "comment_id": 68257052, "body": "Can be fixed with <code>mergeMap</code> or similar operators"}, {"owner": {"reputation": 592, "user_id": 2917454, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b2250c334698a066fe7cfeb3c2dfc8c9?s=128&d=identicon&r=PG", "display_name": "Danny Hoeve", "link": "https://stackoverflow.com/users/2917454/danny-hoeve"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1479310908, "post_id": 40507386, "comment_id": 68504736, "body": "@G&#252;nterZ&#246;chbauer, Your answer made me look for the correct operation and the answer. While the provided is &#39;fine&#39;, I guess, I believe it&#39;s not very good practice to not use the correct tools available and use another third party library. Yet another dependency."}], "tags": [], "owner": {"reputation": 1, "user_id": 3305391, "user_type": "registered", "profile_image": "https://graph.facebook.com/1778183414/picture?type=large", "display_name": "user3305391", "link": "https://stackoverflow.com/users/3305391/user3305391"}, "is_accepted": false, "score": 0, "last_activity_date": 1478695600, "creation_date": 1478695600, "answer_id": 40507386, "question_id": 40503864, "link": "https://stackoverflow.com/questions/40503864/need-help-in-understanding-how-i-can-implement-subscribe-properly/40507386#40507386", "title": "Need help in understanding how I can implement subscribe properly", "body": "<p>The for loop will not wait for a subscribe to be finished. Because the observable function is ran async. Might want to use something like the <code>async</code> library add a callback to the for loop.</p>\n"}], "owner": {"reputation": 592, "user_id": 2917454, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b2250c334698a066fe7cfeb3c2dfc8c9?s=128&d=identicon&r=PG", "display_name": "Danny Hoeve", "link": "https://stackoverflow.com/users/2917454/danny-hoeve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1478695600, "creation_date": 1478684655, "last_edit_date": 1478685372, "question_id": 40503864, "link": "https://stackoverflow.com/questions/40503864/need-help-in-understanding-how-i-can-implement-subscribe-properly", "title": "Need help in understanding how I can implement subscribe properly", "body": "<h2>Scenario</h2>\n\n<p>For my project I need to make two calls to a http service, I call both in one function: <code>getData()</code>. I need information of both Arrays to parse it into another object.</p>\n\n<p>One service call is called </p>\n\n<ul>\n<li><code>getObjectData()</code></li>\n</ul>\n\n<p>In this function I'll call the service corresponding to a ID. I'll get an array back with Objects. I need Object Id and the Name of this object.</p>\n\n<ul>\n<li><code>getSensorData()</code></li>\n</ul>\n\n<p>Each ObjectId also has a DeviceID with SensorData so, logically I do a for loop for each ID in order to get the corresponding data. The data is an array so I'll need information of each sensorData in <code>sensorData[]</code>.</p>\n\n<pre><code>objects: TableData[];\notamObjects: OtamObject[];\nsensorData: SensorData[];\n</code></pre>\n\n<p>So in conclusion I want to have a <code>TableData[]</code> filled with data that I can then use for filling a table.</p>\n\n<h2>Code:</h2>\n\n<p>I have the following code for this in a component.ts</p>\n\n<pre><code>getData(): void {\n    this.objects = new Array&lt;TableData&gt;();\n    this.service.getObjectData(1)\n        .subscribe(otamObject =&gt; {\n            this.otamObjects = otamObject;\n            console.log(JSON.stringify(this.otamObjects));\n            for (let item of this.otamObjects) {\n                console.log(JSON.stringify(item));\n                var object = new TableData();\n                object.Name = item.Name;\n                object.ObjectId = item.OtamObjectId;\n                (console.log('Create a new object' + JSON.stringify(object)));\n                this.service.getSensorData(item.DeviceId)\n                    .subscribe(response =&gt; {\n                        for (let item of response) { // Forgive me for the following hard coded strings.                            \n                            if (item.Key === 'Latitude') {\n                                object.Latitude = item.Value;\n                            }\n                            if (item.Key === 'Longitude') {\n                                object.Longitude = item.Value;\n                            }\n                            if (item.Key === 'Battery') {\n                                object.Latitude = item.Value;\n                            }\n                            if (item.Key === 'Charging') {\n                                object.Charging = item.Value;\n                            }\n                            if (item.Key === 'LocationType'){\n                                if (item.Value === '1'){\n                                    object.LocationType = \"GPS\";\n                                } else {\n                                    object.LocationType = \"GSM\";\n                                }\n                            }\n                            object.LastActvity = item.CreatedDate;\n                            console.log('Second for loop has finished: ' \n                            + JSON.stringify(object));                              \n                        }\n                        this.objects.push(object);\n                        console.log(\"Second For loop has finished, pushing this object: \" + JSON.stringify(object) + \n                        \" to the array of objects: \" + JSON.stringify(this.objects))\n                    }, error =&gt; { console.log(&lt;any&gt;error); })\n            }\n            console.log('End of the first for loop, with data in Objects: ' + JSON.stringify(this.objects));\n        },\n        error =&gt; {\n            console.log(&lt;any&gt;error);\n        }\n        );\n};\n</code></pre>\n\n<p>In the services I 'll make the calls:</p>\n\n<pre><code>getObjectData(companyId: number): Observable&lt;OtamObject[]&gt; {\n    return this.http.get(this.actionUrl + \"otamObject/\" + companyId, this.headers)\n        .map((response: Response) =&gt; &lt;OtamObject[]&gt;response.json())\n        .catch(this.handleError);\n}\n\ngetSensorData(deviceId: number): Observable&lt;SensorData[]&gt; {\n    return this.http.get(this.actionUrl + \"sensorData/deviceId/\" + deviceId, this.headers)\n        .map((response: Response) =&gt; &lt;SensorData[]&gt;response.json())\n        .catch(this.handleError);\n}\n</code></pre>\n\n<h2>Problem</h2>\n\n<p>The reason why I made this question is that now, as you can see in the output<a href=\"https://i.stack.imgur.com/KXuA8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXuA8.png\" alt=\"enter image description here\"></a>, the first for loop is finished before everything else, but this is not what I want. I want to have three objects and then he needs to do the second for loop for each object. </p>\n\n<p>I don't fully understand how I can fix this, in any other programming language the first for loop should wait before the last so it would just do it but because I got the subcribe it just finish the loop. I understand it has to do with the second subscribe. Anyway, what is the correct way to handle this problem.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2109, "user_id": 6449750, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mA3zd.jpg?s=128&g=1", "display_name": "Hardik Vaghani", "link": "https://stackoverflow.com/users/6449750/hardik-vaghani"}, "edited": false, "score": 0, "creation_date": 1478685173, "post_id": 40503667, "comment_id": 68250948, "body": "You should use timeout instead of interval."}], "answers": [{"comments": [{"owner": {"reputation": 2219, "user_id": 6459548, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/bda2f6854046297a57707813fc170cc6?s=128&d=identicon&r=PG&f=1", "display_name": "MMR", "link": "https://stackoverflow.com/users/6459548/mmr"}, "edited": false, "score": 0, "creation_date": 1478684410, "post_id": 40503744, "comment_id": 68250477, "body": "Hi vakho,I put in this way,its not wrkng,        setTimeout(() =&gt; {     this.showloader = true; }, 5000);"}, {"owner": {"reputation": 427, "user_id": 6805223, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-CZD_0D8wYwM/AAAAAAAAAAI/AAAAAAAAAG0/uJE2VLshKOk/photo.jpg?sz=128", "display_name": "vakho papidze", "link": "https://stackoverflow.com/users/6805223/vakho-papidze"}, "reply_to_user": {"reputation": 2219, "user_id": 6459548, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/bda2f6854046297a57707813fc170cc6?s=128&d=identicon&r=PG&f=1", "display_name": "MMR", "link": "https://stackoverflow.com/users/6459548/mmr"}, "edited": false, "score": 1, "creation_date": 1478684534, "post_id": 40503744, "comment_id": 68250557, "body": "try like this: <code>var self=this; setTimeout(() =&gt; { self.showloader = true; }, 5000);</code>"}, {"owner": {"reputation": 427, "user_id": 6805223, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-CZD_0D8wYwM/AAAAAAAAAAI/AAAAAAAAAG0/uJE2VLshKOk/photo.jpg?sz=128", "display_name": "vakho papidze", "link": "https://stackoverflow.com/users/6805223/vakho-papidze"}, "reply_to_user": {"reputation": 2219, "user_id": 6459548, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/bda2f6854046297a57707813fc170cc6?s=128&d=identicon&r=PG&f=1", "display_name": "MMR", "link": "https://stackoverflow.com/users/6459548/mmr"}, "edited": false, "score": 0, "creation_date": 1478684872, "post_id": 40503744, "comment_id": 68250768, "body": "this.showloader = true;  will show that loader, this.showloader = false will hide; so at start showloader = true; and by timer make it  false"}], "tags": [], "owner": {"reputation": 427, "user_id": 6805223, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-CZD_0D8wYwM/AAAAAAAAAAI/AAAAAAAAAG0/uJE2VLshKOk/photo.jpg?sz=128", "display_name": "vakho papidze", "link": "https://stackoverflow.com/users/6805223/vakho-papidze"}, "is_accepted": false, "score": 0, "last_activity_date": 1478684242, "creation_date": 1478684242, "answer_id": 40503744, "question_id": 40503667, "link": "https://stackoverflow.com/questions/40503667/how-to-show-a-loader-for-3-sec-and-hide-in-angular-2/40503744#40503744", "title": "How to show a loader for 3 sec and hide in angular 2", "body": "<p>2000 is 2 sec. try 5000\nand instead of setInterval use setTimeout, it will happen only once</p>\n"}, {"tags": [], "owner": {"reputation": 108, "user_id": 2427829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194e51943e7b890370c38edf390f0779?s=128&d=identicon&r=PG", "display_name": "user2427829", "link": "https://stackoverflow.com/users/2427829/user2427829"}, "is_accepted": false, "score": 1, "last_activity_date": 1478684459, "creation_date": 1478684459, "answer_id": 40503804, "question_id": 40503667, "link": "https://stackoverflow.com/questions/40503667/how-to-show-a-loader-for-3-sec-and-hide-in-angular-2/40503804#40503804", "title": "How to show a loader for 3 sec and hide in angular 2", "body": "<p>If you want to show the loader for 5 sec and hide it, you should set the condition in ng-if to false in setTimeout. Right now you are doing the other way i.e setting to true after 2 sec interval. Thats why it is showing after 2 sec.</p>\n"}, {"comments": [{"owner": {"reputation": 2219, "user_id": 6459548, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/bda2f6854046297a57707813fc170cc6?s=128&d=identicon&r=PG&f=1", "display_name": "MMR", "link": "https://stackoverflow.com/users/6459548/mmr"}, "edited": false, "score": 0, "creation_date": 1478685199, "post_id": 40503917, "comment_id": 68250965, "body": "Hi rana,in your code i want to removeclass in this but it shows type error,can you see it"}, {"owner": {"reputation": 2219, "user_id": 6459548, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/bda2f6854046297a57707813fc170cc6?s=128&d=identicon&r=PG&f=1", "display_name": "MMR", "link": "https://stackoverflow.com/users/6459548/mmr"}, "edited": false, "score": 0, "creation_date": 1478685204, "post_id": 40503917, "comment_id": 68250968, "body": "this.subscription = this.timer.subscribe(() =&gt; {         this.showloader = false;$(&#39;#tablebody&#39;).addClass(&#39;fade&#39;);     });"}, {"owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "reply_to_user": {"reputation": 2219, "user_id": 6459548, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/bda2f6854046297a57707813fc170cc6?s=128&d=identicon&r=PG&f=1", "display_name": "MMR", "link": "https://stackoverflow.com/users/6459548/mmr"}, "edited": false, "score": 1, "creation_date": 1478685372, "post_id": 40503917, "comment_id": 68251071, "body": "you can try to use <code>ngClass</code> like <code>[ngClass]=&quot;{&#39;fade&#39;: !showloader}&quot;</code> as html attribute in view"}, {"owner": {"reputation": 2219, "user_id": 6459548, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/bda2f6854046297a57707813fc170cc6?s=128&d=identicon&r=PG&f=1", "display_name": "MMR", "link": "https://stackoverflow.com/users/6459548/mmr"}, "edited": false, "score": 0, "creation_date": 1478685621, "post_id": 40503917, "comment_id": 68251224, "body": "so i should keep ngclass in the div where i want to use fadding?"}, {"owner": {"reputation": 351, "user_id": 5702263, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7bef07210a8fd48ff2af19cf6a07615a?s=128&d=identicon&r=PG&f=1", "display_name": "AngularDoubts", "link": "https://stackoverflow.com/users/5702263/angulardoubts"}, "edited": false, "score": 0, "creation_date": 1576153859, "post_id": 40503917, "comment_id": 104811676, "body": "In angular 6, instead of:  import { Subscription } from &#39;rxjs/Subscription&#39;; import { Observable } from &#39;rxjs/Observable&#39;; import &#39;rxjs/add/observable/timer&#39;;  please use : import { Subscription, Observable, timer } from &#39;rxjs&#39;;   And   instead of : this.timer        = Observable.timer(5000); pls use :  this.timer = timer(5000); // 5000 millisecond means 5 seconds."}], "tags": [], "owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "is_accepted": true, "score": 13, "last_activity_date": 1478685263, "last_edit_date": 1478685263, "creation_date": 1478684804, "answer_id": 40503917, "question_id": 40503667, "link": "https://stackoverflow.com/questions/40503667/how-to-show-a-loader-for-3-sec-and-hide-in-angular-2/40503917#40503917", "title": "How to show a loader for 3 sec and hide in angular 2", "body": "<p>Using <code>setTimeout</code> is not advisable with angular 2. you can use <code>Observable</code> and <code>timer</code> for it :</p>\n\n<pre><code>import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/timer';\n\n@Component({\n  selector   : 'my-component'\n})\nexport class MyComponent implements OnInit, OnDestroy {\n  public showloader: boolean = false;      \n  private subscription: Subscription;\n  private timer: Observable&lt;any&gt;;\n\n  public ngOnInit() {\n    // call this setTimer method when you want to set timer\n    this.setTimer();\n  }\n  public ngOnDestroy() {\n    if ( this.subscription &amp;&amp; this.subscription instanceof Subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n\n  public setTimer(){\n\n    // set showloader to true to show loading div on view\n    this.showloader   = true;\n\n    this.timer        = Observable.timer(5000); // 5000 millisecond means 5 seconds\n    this.subscription = this.timer.subscribe(() =&gt; {\n        // set showloader to false to hide loading div from view after 5 seconds\n        this.showloader = false;\n    });\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2219, "user_id": 6459548, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/bda2f6854046297a57707813fc170cc6?s=128&d=identicon&r=PG&f=1", "display_name": "MMR", "link": "https://stackoverflow.com/users/6459548/mmr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17090, "favorite_count": 1, "accepted_answer_id": 40503917, "answer_count": 3, "score": 4, "last_activity_date": 1519246594, "creation_date": 1478684005, "last_edit_date": 1519246594, "question_id": 40503667, "link": "https://stackoverflow.com/questions/40503667/how-to-show-a-loader-for-3-sec-and-hide-in-angular-2", "title": "How to show a loader for 3 sec and hide in angular 2", "body": "<p>I want a loader show for 5 sec and hide when i click on a button,\nso far i tried</p>\n\n<pre><code>&lt;div *ngIf='showloader'  class=\"form-group loaderformgroup maindivdisplaynone\" id=\"waitresponce\" &gt;\n    &lt;div class=\"waitresponce\"&gt;\n         &lt;img src=\"assets/img/loader.gif\" img-from=\"assets\" alt=\"loader\" class=\"waitresponceloader\"/&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n resetform() {\n        this.student = {};\n          Observable.timer(500).subscribe(() =&gt; {\n                        $('#tablebody').addClass('fadding');\n                        this.showloader = true;\n                        Observable.timer(500).subscribe(() =&gt;  \n                        $('#tablebody').removeClass('fadding'); \n                        this.showloader = false \n                        );   \n                        });\n    }\n</code></pre>\n\n<p>my ts,</p>\n\n<pre><code>       setInterval(() =&gt; {  \n  this.showloader = true;\n}, 2000);\n</code></pre>\n\n<p>But it is showing loader after 2000.Can someone please help.Thanks.</p>\n"}, {"tags": ["typescript", "socket.io", "webpack-2"], "answers": [{"comments": [{"owner": {"reputation": 2929, "user_id": 3092194, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/580072142/picture?type=large", "display_name": "Patrick", "link": "https://stackoverflow.com/users/3092194/patrick"}, "edited": false, "score": 0, "creation_date": 1500305341, "post_id": 41298917, "comment_id": 77265394, "body": "Life saver! Works as advertised"}], "tags": [], "owner": {"reputation": 41, "user_id": 7110810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebf25954e1d7568da3805dcde02c4fa?s=128&d=identicon&r=PG&f=1", "display_name": "Valery Losik", "link": "https://stackoverflow.com/users/7110810/valery-losik"}, "is_accepted": false, "score": 4, "last_activity_date": 1482493911, "last_edit_date": 1482493911, "creation_date": 1482486245, "answer_id": 41298917, "question_id": 40500964, "link": "https://stackoverflow.com/questions/40500964/socket-io-client0-9-7-with-typescript-and-webpack2-import-error/41298917#41298917", "title": "socket.io-client@0.9.7 with typescript and webpack2 import error", "body": "<p>I faced the same issue and have found the next solution-replacing requiring socket-io.client for bundled version of it.</p>\n\n<p>ES5 version</p>\n\n<pre><code>//var io = require('socket.io-client');\nvar io = require('socket.io-client/dist/socket.io.js'); //worked solution\n</code></pre>\n\n<p>ES6 version</p>\n\n<pre><code>//import io from 'socket.io-client';\nimport io from 'socket.io-client/dist/socket.io.js'; //worked solution\n</code></pre>\n"}], "owner": {"reputation": 410, "user_id": 2530403, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e105af5e7f8e86e928283af46c62a46b?s=128&d=identicon&r=PG", "display_name": "xsong", "link": "https://stackoverflow.com/users/2530403/xsong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1482493911, "creation_date": 1478671843, "last_edit_date": 1478672163, "question_id": 40500964, "link": "https://stackoverflow.com/questions/40500964/socket-io-client0-9-7-with-typescript-and-webpack2-import-error", "title": "socket.io-client@0.9.7 with typescript and webpack2 import error", "body": "<pre><code>ERROR in ./~/socket.io-client/bin/builder.js\nModule not found: Error: Can't resolve 'fs' in 'E:\\work\\brickman2\\node_modules\\socket.io-client\\bin'\n@ ./~/socket.io-client/bin/builder.js 11:9-22\n@ ./~/socket.io-client/lib/io.js\n@ ./src/services/pusher.ts\n@ multi main\n\nERROR in ./~/xmlhttprequest/lib/XMLHttpRequest.js\nModule not found: Error: Can't resolve 'fs' in 'E:\\work\\brickman2\\node_modules\\xmlhttprequest\\lib'\n@ ./~/xmlhttprequest/lib/XMLHttpRequest.js 16:9-22\n@ ./~/socket.io-client/lib/util.js\n@ ./~/socket.io-client/lib/io.js\n@ ./src/services/pusher.ts\n@ multi main\n\nERROR in ./~/xmlhttprequest/lib/XMLHttpRequest.js\nModule not found: Error: Can't resolve 'child_process' in 'E:\\work\\brickman2\\node_modules\\xmlhttprequest\\lib'\n@ ./~/xmlhttprequest/lib/XMLHttpRequest.js 15:12-36\n@ ./~/socket.io-client/lib/util.js\n@ ./~/socket.io-client/lib/io.js\n@ ./src/services/pusher.ts\n@ multi main\n</code></pre>\n\n<p>I'm searched with google and github issus, but no one work for me. </p>\n\n<p>socket.io-client@0.9.7 is a old version, But can not to update it. because the socket.io version in server is 0.9.7 and can not change. if I update the client will not connet the server.</p>\n"}, {"tags": ["node.js", "angular", "typescript", "rxjs5"], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 1894879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f3bd516c86292311ed02911761cc038?s=128&d=identicon&r=PG", "display_name": "Baskoro Indrayana", "link": "https://stackoverflow.com/users/1894879/baskoro-indrayana"}, "is_accepted": false, "score": 0, "last_activity_date": 1478675373, "creation_date": 1478675373, "answer_id": 40501654, "question_id": 40500241, "link": "https://stackoverflow.com/questions/40500241/node-angular-2-update-navbar-and-show-sidebar-after-user-login/40501654#40501654", "title": "Node / Angular 2: Update navbar and show sidebar after user login", "body": "<p>Finally, I found the problem.</p>\n\n<p>The authentication guard was just delivering the <code>Observable</code> from <code>this.authService.isLoggedInObservable()</code> method. It doesn't deliver the proper value for the routes to know whether the user is actually logged in or not.</p>\n\n<p>If you see in the repo, I use <code>Observable&lt;boolean&gt;</code> to tell the other components/routes whether I've logged in or not.</p>\n\n<p>A workaround I did was to actually store a private variable inside the guard. I did this so that the <code>canActivate()</code> method inside the guard only returns that private variable: <code>true</code> means I'm logged in, <code>false</code> otherwise.</p>\n\n<p>How to let that private variable know that I'm now logged in, and its value needs to change?</p>\n\n<p>Within the constructor I made sure that the guard was subscribing for the Observable with that boolean value, and update that variable accordingly.</p>\n\n<p>I just changed the code from <code>AuthenticationGuard</code>. Nothing less, nothing more.</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { Router, CanActivate } from \"@angular/router\";\n\nimport { Observable } from \"rxjs\";\n\nimport { AuthenticationService } from \"./authentication.service\";\n\n@Injectable()\nexport class AuthenticationGuard implements CanActivate {\n\n    private isLoggedIn: boolean; // to store the \"logged in\" state\n\n    constructor(\n        private router: Router,\n        private authService: AuthenticationService) {\n\n        this.authService.isLoggedInObservable().subscribe((val) =&gt; {\n            this.isLoggedIn = val; // update as subscribed\n            // redirect to login page if not logged in yet\n            if (!val) this.router.navigate([\"/login\"]);\n        });\n    }\n\n    canActivate() { // only returns that private variable\n        return this.isLoggedIn;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 1894879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f3bd516c86292311ed02911761cc038?s=128&d=identicon&r=PG", "display_name": "Baskoro Indrayana", "link": "https://stackoverflow.com/users/1894879/baskoro-indrayana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1039, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1478675373, "creation_date": 1478666207, "question_id": 40500241, "link": "https://stackoverflow.com/questions/40500241/node-angular-2-update-navbar-and-show-sidebar-after-user-login", "title": "Node / Angular 2: Update navbar and show sidebar after user login", "body": "<p>This is my first project/application using Angular 2. And I am currently stuck in the login problem of the application. So, in my web app:</p>\n\n<p><strong>Expectations:</strong></p>\n\n<ol>\n<li><p>I load a login component for the first time. In this case, the navbar shows a \"Sign In\" button.</p></li>\n<li><p>After correct login, I can go to a dashboard component. In the dashboard component, I can see a sidebar on the left side, and my navbar is updated to show the \"Sign Out\" button.</p></li>\n<li><p>When I click \"Sign Out\", it should sign me out gracefully.</p></li>\n</ol>\n\n<p>For a clearer picture, I've uploaded <a href=\"http://imgur.com/a/ZDrhQ\" rel=\"nofollow noreferrer\">an album</a> showing how the login and dashboard should look like, and the actual happening after login.</p>\n\n<p><strong>Reality:</strong></p>\n\n<ol>\n<li>I use <code>localStorage</code> from Angular 2 to store the current user in key <code>currentUser</code> and detect whether user is logged in. As long as it deoesn't value in the <code>currentUser</code> key, the login component works fine. Otherwise, it shows an empty dashboard with no title in it.</li>\n<li>After the login, the sidebar and updated navbar is jumbled up with the login screen, while the dashboard is not showing up.</li>\n</ol>\n\n<p>I've made <a href=\"https://github.com/baskoroi/back-temp\" rel=\"nofollow noreferrer\">a temporary Git repo</a> to show you my code for now. </p>\n\n<p>If you notice, the Angular frontend is connected to a Node.js backend. The Node.js backend works just fine.</p>\n\n<p>I think the main problem points are in my usage of Observables (to tell every subscribing component that user is logged in), the authentication guard on the routes, and maybe the authentication service itself. </p>\n\n<p>To meet the expectations above, I've tried to use Observables and emit the values to the subscribing components. However, the 'reality' points I've mentioned above happened, and I haven't known a way yet to fix it again.</p>\n\n<p>So, can you help show me where the problem is, and what I can do to fix it? I would appreciate your input, thank you.</p>\n"}, {"tags": ["typescript", "typescript2.0", "typescript2.1"], "answers": [{"comments": [{"owner": {"reputation": 3795, "user_id": 264022, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05d66a001de1c03c6d081dc25c2271f6?s=128&d=identicon&r=PG", "display_name": "Cine", "link": "https://stackoverflow.com/users/264022/cine"}, "edited": false, "score": 0, "creation_date": 1478678642, "post_id": 40501636, "comment_id": 68247862, "body": "No that wont work, since i would call convert with <code>{ &#39;c&#39;:23, &#39;d&#39;: 45}</code> and then not get the right type back"}], "tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1478675281, "creation_date": 1478675281, "answer_id": 40501636, "question_id": 40500203, "link": "https://stackoverflow.com/questions/40500203/typescript-object-conversion/40501636#40501636", "title": "Typescript object conversion", "body": "<p>You could use generics for this:</p>\n\n<pre><code>let a = { 'a': 1, 'b': 1 };\n\ninterface A&lt;T extends string|number&gt; {\n    [key: string]: T;\n    a: T,\n    b: T\n}\n\nfunction convert(f: A&lt;number&gt;) {\n    return Object.keys(f)\n        .reduce((p, v) =&gt; {\n                p[v] = `${f[v]}`;\n                return p;\n            },\n        {} as A&lt;string&gt;);\n}\n\nlet b = convert(a);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3795, "user_id": 264022, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05d66a001de1c03c6d081dc25c2271f6?s=128&d=identicon&r=PG", "display_name": "Cine", "link": "https://stackoverflow.com/users/264022/cine"}, "is_accepted": true, "score": 2, "last_activity_date": 1481601375, "creation_date": 1481601375, "answer_id": 41113492, "question_id": 40500203, "link": "https://stackoverflow.com/questions/40500203/typescript-object-conversion/41113492#41113492", "title": "Typescript object conversion", "body": "<p>This is now possible in TypeScript 2.1:</p>\n\n<pre><code>//a has type { a: number;b: number }\nlet a = { 'a': 1, 'b': 1 };\ntype Convert&lt;T,K&gt; = {\n   [P in keyof T]: K;\n};\nfunction convertToString&lt;T&gt;(f: T) {\n   let a  = &lt;(keyof T)[]&gt;Object.keys(f);\n   return a.reduce((p, v) =&gt; {\n            p[v] = `${f[v]}`;\n            return p;\n         },\n      {} as Convert&lt;T, string&gt;);\n}\nlet b = convertToString(a);\n</code></pre>\n"}], "owner": {"reputation": 3795, "user_id": 264022, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05d66a001de1c03c6d081dc25c2271f6?s=128&d=identicon&r=PG", "display_name": "Cine", "link": "https://stackoverflow.com/users/264022/cine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 41113492, "answer_count": 2, "score": 0, "last_activity_date": 1481610943, "creation_date": 1478665905, "last_edit_date": 1481610943, "question_id": 40500203, "link": "https://stackoverflow.com/questions/40500203/typescript-object-conversion", "title": "Typescript object conversion", "body": "<p>How do I type a function, so that the input object is the same as the output object, but with different values?</p>\n\n<pre><code>//a has type { a: number;b: number }\nlet a = { 'a': 1, 'b': 1 };\ninterface IDictNumber {\n   [key: string]: number;\n}\ninterface IDictString {\n   [key: string]: string;\n}\nfunction convert(f: IDictNumber) {\n   return Object.keys(f)\n      .reduce((p, v) =&gt; {\n            p[v] = `${f[v]}`;\n            return p;\n         },\n      {} as IDictString);\n}\n//b has type IDictString, but I wanted it to have { a: string;b: string }\nlet b= convert(a);\n</code></pre>\n"}, {"tags": ["angular", "typescript", "webpack", "visualization", "vega"], "comments": [{"owner": {"reputation": 7956, "user_id": 65670, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/db310e277b6540f0a6ac4e5a9eff132c?s=128&d=identicon&r=PG", "display_name": "Naga Kiran", "link": "https://stackoverflow.com/users/65670/naga-kiran"}, "edited": false, "score": 0, "creation_date": 1514644824, "post_id": 40499949, "comment_id": 83039790, "body": "Have you tried this directive &quot;<a href=\"https://github.com/limalimacharlie/ng-vega3\" rel=\"nofollow noreferrer\">github.com/limalimacharlie/ng-vega3</a>&quot; ?"}, {"owner": {"reputation": 130, "user_id": 1509460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4388fab57ad67789b058f57db50cae7a?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/1509460/david"}, "reply_to_user": {"reputation": 7956, "user_id": 65670, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/db310e277b6540f0a6ac4e5a9eff132c?s=128&d=identicon&r=PG", "display_name": "Naga Kiran", "link": "https://stackoverflow.com/users/65670/naga-kiran"}, "edited": false, "score": 1, "creation_date": 1515018504, "post_id": 40499949, "comment_id": 83147105, "body": "That suggestion is based on AngularJS (aka angular 1), and I wanted to use angular 2+."}, {"owner": {"reputation": 66, "user_id": 1448326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90dbb98b91d479f990b9da81f00ec54e?s=128&d=identicon&r=PG", "display_name": "Ravinder8198", "link": "https://stackoverflow.com/users/1448326/ravinder8198"}, "edited": false, "score": 0, "creation_date": 1544510410, "post_id": 40499949, "comment_id": 94290878, "body": "<a href=\"https://github.com/kristina-albrecht/angular5-vega-examples\" rel=\"nofollow noreferrer\">github.com/kristina-albrecht/angular5-vega-examples</a>"}], "answers": [{"tags": [], "owner": {"reputation": 130, "user_id": 1509460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4388fab57ad67789b058f57db50cae7a?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/1509460/david"}, "is_accepted": true, "score": 0, "last_activity_date": 1515018422, "creation_date": 1515018422, "answer_id": 48086086, "question_id": 40499949, "link": "https://stackoverflow.com/questions/40499949/why-vega-3-is-not-working-with-angular2/48086086#48086086", "title": "Why Vega 3 is not working with Angular2?", "body": "<p>I created <a href=\"https://github.com/vega/vega/issues/656\" rel=\"nofollow noreferrer\">an issue at the official github repo</a> same week I posted this question here, but they closed it like six months ago because major changes have been developed since I asked about.</p>\n\n<p>Currently there are many libraries that can do that.</p>\n"}], "owner": {"reputation": 130, "user_id": 1509460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4388fab57ad67789b058f57db50cae7a?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/1509460/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1005, "favorite_count": 0, "accepted_answer_id": 48086086, "answer_count": 1, "score": 1, "last_activity_date": 1544511986, "creation_date": 1478663307, "last_edit_date": 1478711857, "question_id": 40499949, "link": "https://stackoverflow.com/questions/40499949/why-vega-3-is-not-working-with-angular2", "title": "Why Vega 3 is not working with Angular2?", "body": "<p>I am trying to use <a href=\"https://github.com/vega/vega\" rel=\"nofollow noreferrer\"><strong>Vega v3</strong></a> into a very basic <strong>Angular v2</strong> skeleton (using <strong>typescript v2</strong> and <strong>webpack v2</strong>), but obtaining unexpected behavior, which I will try to explain below (from here I will omit versions, but the reference will be <a href=\"https://github.com/dbautistav/ng2-vega/blob/27bb1d85efa83b3f3e4cbdd08b5ac7dcdfa6dd3d/package.json#L25-L81\" rel=\"nofollow noreferrer\">those specified here</a>).</p>\n\n<p><a href=\"https://github.com/dbautistav/ng2-vega\" rel=\"nofollow noreferrer\">Full demo repo here.</a> </p>\n\n<ul>\n<li><p>First, the bundled version wasn't working for me so I decided to include every dependency listed in <a href=\"https://github.com/vega/vega/blob/6ab84d83a23e66f38e9fcd3586dc8a57cf9349c7/package.json#L55-L74\" rel=\"nofollow noreferrer\">a provided example</a> and <a href=\"https://github.com/dbautistav/ng2-vega/blob/27bb1d85efa83b3f3e4cbdd08b5ac7dcdfa6dd3d/src/vega/vega.component.ts#L5-L7\" rel=\"nofollow noreferrer\">using Vega modules directly</a>.</p></li>\n<li><p>Second, there were three official example specifications (<a href=\"https://github.com/vega/vega/blob/6ab84d83a23e66f38e9fcd3586dc8a57cf9349c7/spec/bar.vg.json\" rel=\"nofollow noreferrer\">first spec</a>, <a href=\"https://github.com/vega/vega/blob/6ab84d83a23e66f38e9fcd3586dc8a57cf9349c7/web/prefacet.html#L27-L110\" rel=\"nofollow noreferrer\">second spec</a>, <a href=\"https://github.com/vega/vega/blob/6ab84d83a23e66f38e9fcd3586dc8a57cf9349c7/web/group.html#L33-L116\" rel=\"nofollow noreferrer\">third spec</a>) used to test the described setup.</p></li>\n<li><p>Third, after running <a href=\"https://github.com/dbautistav/ng2-vega/blob/27bb1d85efa83b3f3e4cbdd08b5ac7dcdfa6dd3d/src/vega/vega.component.ts#L74-L86\" rel=\"nofollow noreferrer\">the base Vega drawing methods chain</a> for each specification, the results were of two types:</p>\n\n<ul>\n<li><a href=\"https://github.com/vega/vega/blob/6ab84d83a23e66f38e9fcd3586dc8a57cf9349c7/spec/bar.vg.json\" rel=\"nofollow noreferrer\">first spec</a>, throws the following error: <code>EXCEPTION: Error in ./VegaPlotComponent class VegaPlotComponent_Host - inline template:0:0 caused by: Cannot read property 'orient' of undefined</code> which breaks entire Angular app. <a href=\"https://github.com/dbautistav/ng2-vega/issues/1\" rel=\"nofollow noreferrer\">Full stack trace here</a>.</li>\n<li><a href=\"https://github.com/vega/vega/blob/6ab84d83a23e66f38e9fcd3586dc8a57cf9349c7/web/prefacet.html#L27-L110\" rel=\"nofollow noreferrer\">second spec</a> &amp; <a href=\"https://github.com/vega/vega/blob/6ab84d83a23e66f38e9fcd3586dc8a57cf9349c7/web/group.html#L33-L116\" rel=\"nofollow noreferrer\">third spec</a> create a <code>width=\"9\", height=\"9\"</code> svg square without apparent reason (<a href=\"https://github.com/dbautistav/ng2-vega/blob/27bb1d85efa83b3f3e4cbdd08b5ac7dcdfa6dd3d/src/vega/vega.component.ts#L183-L184\" rel=\"nofollow noreferrer\">2nd spec plot size</a>, <a href=\"https://github.com/dbautistav/ng2-vega/blob/27bb1d85efa83b3f3e4cbdd08b5ac7dcdfa6dd3d/src/vega/vega.component.ts#L290-L291\" rel=\"nofollow noreferrer\">3rd spec plot size</a>) as shown in fig-1 and fig-2.</li>\n</ul></li>\n</ul>\n\n<p><img src=\"https://cloud.githubusercontent.com/assets/8743976/20126376/43864e50-a5fa-11e6-9548-535625663e1c.png\" alt=\"screenshot from 2016-11-08 21-26-44\"></p>\n\n<p><em>Figure 1. Vega plot-Angular component DOM fragment inspected (dev-tools).</em></p>\n\n<p><img src=\"https://cloud.githubusercontent.com/assets/8743976/20126483/364cfb02-a5fb-11e6-8521-9ada9c7f1b17.png\" alt=\"screenshot from 2016-11-08 21-34-25\"></p>\n\n<p><em>Figure 2. Vega plot-Angular component DOM fragment selected (rendered view).</em></p>\n\n<p><strong>So, why Vega 3 is not working with Angular2?</strong></p>\n"}, {"tags": ["typescript", "this"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1478699864, "post_id": 40499057, "comment_id": 68259481, "body": "Anyway, if this would work this would cause endless recursion"}, {"owner": {"reputation": 1702, "user_id": 4543913, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0cf2d71c24d9a929c249b8087550fae2?s=128&d=identicon&r=PG&f=1", "display_name": "ChadF", "link": "https://stackoverflow.com/users/4543913/chadf"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1478716108, "post_id": 40499057, "comment_id": 68269057, "body": "Good point, I was simplifying an actual code example and did so poorly.  Actual case doesn&#39;t cause endless recursion."}], "answers": [{"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1478679069, "last_edit_date": 1478679069, "creation_date": 1478678372, "answer_id": 40502259, "question_id": 40499057, "link": "https://stackoverflow.com/questions/40499057/typescript-this-typing-confusion/40502259#40502259", "title": "Typescript &quot;this-typing&quot; confusion", "body": "<p>Let's define derived class:  </p>\n\n<pre><code>class TestDerived extends Test {\n    someMethod():void { }\n}\n</code></pre>\n\n<p>As you've already pointed out - <code>this</code> as type refers to current class, so <code>children</code> member of <code>TestDerived</code> is of type <code>TestDerived[]</code>. So we can do something like this:</p>\n\n<pre><code>let b = new TestDerived ();\nb.children[0].someMethod();\n</code></pre>\n\n<p>If typescript will allow us to populate this array (in constructor of super) with instances of <code>Test</code>, we will loose type safety (<code>someMethod</code> is not defined in <code>Test</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 3, "last_activity_date": 1478688218, "last_edit_date": 1478688218, "creation_date": 1478684117, "answer_id": 40503707, "question_id": 40499057, "link": "https://stackoverflow.com/questions/40499057/typescript-this-typing-confusion/40503707#40503707", "title": "Typescript &quot;this-typing&quot; confusion", "body": "<p>No, when using <code>this</code> as a type you are referring to the instance and not the class.<br>\nIt's called <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#polymorphic-this-types\" rel=\"nofollow noreferrer\">Polymorphic this types</a> and is meant to be used like this:</p>\n\n<pre><code>class Point {}\n\nclass Point2D extends Point {\n    constructor(public x: number, public y: number) {\n        super();\n    }\n}\n\nclass Point3D extends Point2D {\n    constructor(x: number, y: number, public z: number) {\n        super(x, y);\n    }\n}\n\nclass Builder2D {\n    protected _x: number;\n    protected _y: number;\n\n    x(x: number): this {\n        this._x = x;\n        return this;\n    }\n\n    y(y: number): this {\n        this._y = y;\n        return this;\n    }\n\n    build(): Point {\n        return new Point2D(this._x, this._y);\n    }\n}\n\nclass Builder3D extends Builder2D {\n    private _z: number;\n\n    z(z: number): this {\n        this._z = z;\n        return this;\n    }\n\n    build(): Point3D {\n        return new Point3D(this._x, this._y, this._z);\n    }\n}\n\nlet p1 = new Builder3D().x(0).y(0).z(0).build();\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/index.html#src=class%20Point%20%7B%7D%0A%0Aclass%20Point2D%20extends%20Point%20%7B%0A%20%20%20%20constructor(public%20x%3A%20number%2C%20public%20y%3A%20number)%20%7B%0A%20%20%20%20%20%20%20%20super()%3B%0A%20%20%20%20%7D%0A%7D%0A%0Aclass%20Point3D%20extends%20Point2D%20%7B%0A%20%20%20%20constructor(x%3A%20number%2C%20y%3A%20number%2C%20public%20z%3A%20number)%20%7B%0A%20%20%20%20%20%20%20%20super(x%2C%20y)%3B%0A%20%20%20%20%7D%0A%7D%0A%0Aclass%20Builder2D%20%7B%0A%20%20%20%20protected%20_x%3A%20number%3B%0A%20%20%20%20protected%20_y%3A%20number%3B%0A%0A%20%20%20%20x(x%3A%20number)%3A%20this%20%7B%0A%20%20%20%20%20%20%20%20this._x%20%3D%20x%3B%0A%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20y(y%3A%20number)%3A%20this%20%7B%0A%20%20%20%20%20%20%20%20this._y%20%3D%20y%3B%0A%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20build()%3A%20Point%20%7B%0A%20%20%20%20%20%20%20%20return%20new%20Point2D(this._x%2C%20this._y)%3B%0A%20%20%20%20%7D%0A%7D%0A%0Aclass%20Builder3D%20extends%20Builder2D%20%7B%0A%20%20%20%20private%20_z%3A%20number%3B%0A%0A%20%20%20%20z(z%3A%20number)%3A%20this%20%7B%0A%20%20%20%20%20%20%20%20this._z%20%3D%20z%3B%0A%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20build()%3A%20Point3D%20%7B%0A%20%20%20%20%20%20%20%20return%20new%20Point3D(this._x%2C%20this._y%2C%20this._z)%3B%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20p1%20%3D%20new%20Builder3D().x(0).y(0).z(0).build()%3B\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n\n<p>If <code>Builder2D.x()</code> and <code>Builder2D.y()</code> would have returned <code>Builder2D</code>:</p>\n\n<pre><code>x(x: number): Builder2D {\n    this._x = x;\n    return this;\n}\n\ny(y: number): Builder2D {\n    this._y = y;\n    return this;\n}\n</code></pre>\n\n<p>Then this would fail:</p>\n\n<pre><code>let p1 = new Builder3D().x(0).y(0).z(0).build();\n</code></pre>\n\n<p>With:</p>\n\n<blockquote>\n  <p>Property 'z' does not exist on type 'Builder2D'</p>\n</blockquote>\n\n<p>In your scenario this isn't the case, you don't want to return <code>this</code>.<br>\nAs far as I'm aware there's no type for the class of <code>this</code>, but you can do:</p>\n\n<pre><code>class Test {\n    public children: Array&lt;Test&gt;;\n\n    constructor() {\n        this.children = [new Test()];\n    }\n}\n\ninterface OtherTest {\n    children: Array&lt;OtherTest&gt;;\n}\nclass OtherTest extends Test {\n    constructor() {\n        super();\n        this.children.push(new Test(), new OtherTest());\n    }\n}\n\nlet t1 = new Test();\nlet c1 = t1.children[0]; // typeof c1 is Test\n\nlet t2 = new OtherTest();\nlet c2 = t2.children[0]; // typeof c2 is OtherTest\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/index.html#src=class%20Test%20%7B%0A%20%20%20%20public%20children%3A%20Array%3CTest%3E%3B%0A%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20%20%20this.children%20%3D%20%5Bnew%20Test()%5D%3B%0A%20%20%20%20%7D%0A%7D%0A%0Ainterface%20OtherTest%20%7B%0A%20%20%20%20children%3A%20Array%3COtherTest%3E%3B%0A%7D%0Aclass%20OtherTest%20extends%20Test%20%7B%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20%20%20super()%3B%0A%20%20%20%20%20%20%20%20this.children.push(new%20Test()%2C%20new%20OtherTest())%3B%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20t1%20%3D%20new%20Test()%3B%0Alet%20c1%20%3D%20t1.children%5B0%5D%3B%20%2F%2F%20typeof%20c1%20is%20Test%0A%0Alet%20t2%20%3D%20new%20OtherTest()%3B%0Alet%20c2%20%3D%20t2.children%5B0%5D%3B%20%2F%2F%20typeof%20c2%20is%20OtherTest%0A%0A\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>Seems like there's an issue for that: <a href=\"https://github.com/Microsoft/TypeScript/issues/5863\" rel=\"nofollow noreferrer\">Polymorphic \"this\" for static members</a>.</p>\n"}], "owner": {"reputation": 1702, "user_id": 4543913, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0cf2d71c24d9a929c249b8087550fae2?s=128&d=identicon&r=PG&f=1", "display_name": "ChadF", "link": "https://stackoverflow.com/users/4543913/chadf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 40503707, "answer_count": 2, "score": 3, "last_activity_date": 1478688218, "creation_date": 1478654814, "question_id": 40499057, "link": "https://stackoverflow.com/questions/40499057/typescript-this-typing-confusion", "title": "Typescript &quot;this-typing&quot; confusion", "body": "<p>I am referring to \"this-typing\" referenced <a href=\"https://www.typescriptlang.org/docs/release-notes/typescript-1.7.html\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"https://github.com/Microsoft/TypeScript/issues/3694\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>It is my understanding that using <code>this</code> as a type refers to the current class, or whatever is left of the dot (thereby allowing inherited methods to refer to their own class instead of their parent's class).</p>\n\n<p>So can someone explain why this doesn't work:</p>\n\n<pre><code>class Test {\n    children: Array&lt;this&gt;;\n\n    constructor() {\n        this.children = [new Test()];\n    }\n}\n</code></pre>\n\n<p>(My goal is to do that with an inherited class, but it doesn't work with a base class.  Since <code>this</code> is of type <code>Test</code> why can't <code>children</code> be an array of <code>Test</code>?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 5876, "user_id": 4443457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebba8dda528baa8273aa12dba8118e6?s=128&d=identicon&r=PG&f=1", "display_name": "Don", "link": "https://stackoverflow.com/users/4443457/don"}, "edited": false, "score": 0, "creation_date": 1478865413, "post_id": 40498509, "comment_id": 68333348, "body": "What&#39;s the error message that&#39;s being displayed."}, {"owner": {"reputation": 1, "user_id": 7134269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78d0a1eacc33918ef65665d2d8a1aec3?s=128&d=identicon&r=PG&f=1", "display_name": "Manan Parikh", "link": "https://stackoverflow.com/users/7134269/manan-parikh"}, "reply_to_user": {"reputation": 5876, "user_id": 4443457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebba8dda528baa8273aa12dba8118e6?s=128&d=identicon&r=PG&f=1", "display_name": "Don", "link": "https://stackoverflow.com/users/4443457/don"}, "edited": false, "score": 0, "creation_date": 1479927159, "post_id": 40498509, "comment_id": 68768205, "body": "Thanks for you&#39;re response:  <code>-p: build: command not found</code>  This is the error, which is basically the second taskName."}], "owner": {"reputation": 1, "user_id": 7134269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78d0a1eacc33918ef65665d2d8a1aec3?s=128&d=identicon&r=PG&f=1", "display_name": "Manan Parikh", "link": "https://stackoverflow.com/users/7134269/manan-parikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478650091, "creation_date": 1478650091, "question_id": 40498509, "link": "https://stackoverflow.com/questions/40498509/vscode-tsc-and-python-tasks", "title": "VSCode (TSC and Python) tasks", "body": "<p>I am trying to set up two different tasks (a python script which essentially copies source to destination) and then the actual build task which concat the TSC files to a single JS file, in Visual Studio Code's Configure Task Runner:</p>\n\n<p>My code looks as below:</p>\n\n<pre><code> {\n        // See https://go.microsoft.com/fwlink/?LinkId=733558\n        // for the documentation about the tasks.json format\n        \"version\": \"0.1.0\",\n        \"command\": \"bash\",\n        \"isShellCommand\": true,\n        \"showOutput\": \"always\",\n        \"args\": [\n            \"-c\"\n        ],\n        \"tasks\": [\n            {\n                \"taskName\": \"python\",\n                \"isBuildCommand\": false,\n                \"args\": [\"/usr/bin/python includeAsset.py\"]\n            },\n            {\n                \"taskName\": \"build\",\n                \"isBuildCommand\": true,\n                \"args\": [\"-p\", \".\", \"--outFile\", \"bin/js/main.js\"],\n                \"problemMatcher\": \"$tsc\"\n            }\n        ]\n    }\n</code></pre>\n\n<p>I am unable to figure out what the problem is. This is my first attempt at VSCode and am completely clueless as to what I'm doing wrong. Any help is highly appreciated!</p>\n"}, {"tags": ["typescript", "webpack", "async-await", "typescript2.1"], "comments": [{"owner": {"reputation": 16646, "user_id": 1139099, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/AWxKH.png?s=128&g=1", "display_name": "harishr", "link": "https://stackoverflow.com/users/1139099/harishr"}, "edited": false, "score": 0, "creation_date": 1478682100, "post_id": 40498112, "comment_id": 68249271, "body": "you can use common chunks plugin + deddupe plugin, which will reduce this duplication"}], "answers": [{"tags": [], "owner": {"reputation": 3795, "user_id": 264022, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05d66a001de1c03c6d081dc25c2271f6?s=128&d=identicon&r=PG", "display_name": "Cine", "link": "https://stackoverflow.com/users/264022/cine"}, "is_accepted": false, "score": 4, "last_activity_date": 1481613131, "creation_date": 1481613131, "answer_id": 41115438, "question_id": 40498112, "link": "https://stackoverflow.com/questions/40498112/typescript-2-1-async-await-es5-awaiter-and-generator-is-generated-for-every/41115438#41115438", "title": "TypeScript 2.1 async/await ES5 __awaiter and __generator is generated for every ts file", "body": "<p>Use the new <code>--importHelpers</code> compile flag.\n<a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#support-for-external-helpers-library-tslib\" rel=\"nofollow noreferrer\">Docs</a></p>\n"}, {"tags": [], "owner": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "is_accepted": false, "score": 3, "last_activity_date": 1485956221, "creation_date": 1485956221, "answer_id": 41981184, "question_id": 40498112, "link": "https://stackoverflow.com/questions/40498112/typescript-2-1-async-await-es5-awaiter-and-generator-is-generated-for-every/41981184#41981184", "title": "TypeScript 2.1 async/await ES5 __awaiter and __generator is generated for every ts file", "body": "<ul>\n<li><p>In <em>tsconfig.json</em>, under <code>\"compilerOptions\"</code> add: </p>\n\n<pre><code>`\"importHelpers\": true`\n</code></pre></li>\n<li><p>install the typescript helper library as a dependency: </p>\n\n<pre><code>npm install tslib --save\n</code></pre></li>\n</ul>\n\n<p>Typescript will attempt to import the helpers when needed and Webpack will automatically bundle tslib once. If you are publishing a library you can tell webpack to consider <code>tslib</code> an external with <a href=\"https://webpack.js.org/configuration/externals/#externals\" rel=\"nofollow noreferrer\">the <code>externals</code> option</a>. </p>\n"}], "owner": {"reputation": 9853, "user_id": 21566, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e0c312c39c86d4e311ecb1b3e2c4fd73?s=128&d=identicon&r=PG", "display_name": "Fionn", "link": "https://stackoverflow.com/users/21566/fionn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1199, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1485956221, "creation_date": 1478647353, "question_id": 40498112, "link": "https://stackoverflow.com/questions/40498112/typescript-2-1-async-await-es5-awaiter-and-generator-is-generated-for-every", "title": "TypeScript 2.1 async/await ES5 __awaiter and __generator is generated for every ts file", "body": "<p>I'm experimenting with the new rc-release of TypeScript to get the asnc/await support for ES5.</p>\n\n<p>But I experience a strange behavior with the generated __awaiter and __generator methods, it seems they are generated for every single ts file if the outFile compiler option is not used.</p>\n\n<p>Is there a way to generate only a single instance of the __awaiter and __generator methods while still not using outFile?\nThe reason why I don't want to use the outFile flag is that I currently use webpack for bundling as I need to support importing of HTML template files.</p>\n"}, {"tags": ["typescript", "enums", "typescript2.0"], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 2, "last_activity_date": 1478647818, "creation_date": 1478647818, "answer_id": 40498181, "question_id": 40497421, "link": "https://stackoverflow.com/questions/40497421/enum-type-as-decorator-parameter/40498181#40498181", "title": "Enum type as decorator parameter", "body": "<p>The problem is the order of your code.<br>\nIf you'll do:</p>\n\n<pre><code>console.log(\"the enum: \", SomeEnum);\nexport enum SomeEnum { A, B, C}\n</code></pre>\n\n<p>You'll get:</p>\n\n<blockquote>\n  <p>the enum: undefined</p>\n</blockquote>\n\n<p>You need to place the declaration of <code>SomeEnum</code> before using it when calling the decorator:</p>\n\n<pre><code>function AsEnum(type): any {\n    return (target, propert) =&gt; {\n      return {\n            get: function(): Object {\n                return type; // type is undefined\n            },\n        }\n    };\n}\n\nenum SomeEnum { A, B, C}\n\nclass A {\n    @AsEnum(SomeEnum)\n    name: string;\n}\n</code></pre>\n\n<p>The interpreter hasn't evaluated the enum yet when you try to use it for the decorator.</p>\n"}], "owner": {"reputation": 83, "user_id": 4662007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/466c41d59bbf092f64b93d6e7e784583?s=128&d=identicon&r=PG", "display_name": "Sergey Stepanov", "link": "https://stackoverflow.com/users/4662007/sergey-stepanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 733, "favorite_count": 0, "accepted_answer_id": 40498181, "answer_count": 1, "score": 1, "last_activity_date": 1536295862, "creation_date": 1478643624, "last_edit_date": 1536295862, "question_id": 40497421, "link": "https://stackoverflow.com/questions/40497421/enum-type-as-decorator-parameter", "title": "Enum type as decorator parameter", "body": "<p>Is it possible to pass enum type as parameter to a decorator function?</p>\n\n<pre><code>export class A {\n    @AsEnum(SomeEnum)\n    name: string;\n}\n\nexport enum SomeEnum { A, B, C}\n\nexport function AsEnum(type): any {\n    return (target, propert) =&gt; {\n      return {\n            get: function(): Object {\n                return type; // type is undefined\n            },\n        }\n    };\n}\n</code></pre>\n\n<p>Here type is always undefined. </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-providers"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 4713946, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f1ca0bd968da9bb9ef158bc6fe8a890?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Davis", "link": "https://stackoverflow.com/users/4713946/anthony-davis"}, "edited": false, "score": 0, "creation_date": 1478641268, "post_id": 40496603, "comment_id": 68237913, "body": "Interesting, so if I leave it blank, it defaults to public, but does not create a property, but the fact that you declare it as private or public will tell the class to create the property.  Good to know. I can&#39;t wrap my head around <i>why</i> this syntax should have anything to do with creating a property. Is it because by defining it as private or public, means that you are implying it will be reused?  Sorry if this question doesn&#39;t make sense, I am fairly novice.  But either way, thank you for the answer. Very good to know ;)"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 129, "user_id": 4713946, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f1ca0bd968da9bb9ef158bc6fe8a890?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Davis", "link": "https://stackoverflow.com/users/4713946/anthony-davis"}, "edited": false, "score": 1, "creation_date": 1478641454, "post_id": 40496603, "comment_id": 68237984, "body": "It&#39;s very common to assign constructor parameters to properties, therefore they created this syntactic shugar. If you omit <code>private</code> and <code>public</code> no property is created and the <code>heroService</code> exists only within the constructor."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1478640002, "creation_date": 1478640002, "answer_id": 40496603, "question_id": 40496578, "link": "https://stackoverflow.com/questions/40496578/angular-providers/40496603#40496603", "title": "Angular Providers", "body": "<p>The <code>private</code> (could also be <code>public</code>) in</p>\n\n<pre><code>constructor(private heroService: HeroService) {}\n</code></pre>\n\n<p>also creates a property <code>heroService</code> and assigns the value passed to the constructor. That's a TypeScript feature and is not Angular2 or DI dependent.</p>\n"}], "owner": {"reputation": 129, "user_id": 4713946, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5f1ca0bd968da9bb9ef158bc6fe8a890?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Davis", "link": "https://stackoverflow.com/users/4713946/anthony-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 40496603, "answer_count": 1, "score": 1, "last_activity_date": 1478640500, "creation_date": 1478639891, "last_edit_date": 1478640500, "question_id": 40496578, "link": "https://stackoverflow.com/questions/40496578/angular-providers", "title": "Angular Providers", "body": "<p>Following the angular 2 tutorial @ <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt4.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/tutorial/toh-pt4.html</a></p>\n\n<p>In the </p>\n\n<pre><code>@Component({\n})\n</code></pre>\n\n<p>I inserted \"<code>providers: [HeroService]</code>\" which contains the <code>getHeroes()</code> method.</p>\n\n<p>Created a constructor:</p>\n\n<pre><code>constructor(private heroService: HeroService) {}\n</code></pre>\n\n<p><strong>Now the part I don't understand is how I am able to use</strong></p>\n\n<p><code>this.heroService.getHeroes()</code></p>\n\n<p>The only propertes defined in this class are: </p>\n\n<pre><code>title = 'Tour of Heroes';\nheroes: Hero[];\nselectedHero: Hero;\n</code></pre>\n\n<p><strong>Does the providers in the <code>@Component</code> decorator automatically create a property to access it through <code>this.</code>?</strong></p>\n\n<p>The App is working, just don't know how we magically were able to access heroService through <code>this.</code></p>\n"}, {"tags": ["javascript", "jquery", "angular", "typescript"], "comments": [{"owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 0, "creation_date": 1478639876, "post_id": 40496191, "comment_id": 68237323, "body": "Is the <code>modal</code> component your own creation?"}, {"owner": {"reputation": 615, "user_id": 5434968, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/10a14443b4d7c052d7e77169897ac3f5?s=128&d=identicon&r=PG&f=1", "display_name": "user316114", "link": "https://stackoverflow.com/users/5434968/user316114"}, "reply_to_user": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 0, "creation_date": 1478640441, "post_id": 40496191, "comment_id": 68237540, "body": "No I&#39;m using ng2-modal"}, {"owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 0, "creation_date": 1478640986, "post_id": 40496191, "comment_id": 68237783, "body": "Anything wrong with using (onOpen)? I don&#39;t know the details of the implementation but if it&#39;s called in ngAfterViewInit then you would be good to go."}], "answers": [{"tags": [], "owner": {"reputation": 615, "user_id": 5434968, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/10a14443b4d7c052d7e77169897ac3f5?s=128&d=identicon&r=PG&f=1", "display_name": "user316114", "link": "https://stackoverflow.com/users/5434968/user316114"}, "is_accepted": false, "score": 0, "last_activity_date": 1478660074, "creation_date": 1478660074, "answer_id": 40499622, "question_id": 40496191, "link": "https://stackoverflow.com/questions/40496191/angular2-dialog-callback/40499622#40499622", "title": "Angular2 Dialog Callback", "body": "<p>I solved it by using setTimeout to wait for the element and a carefully placed callback</p>\n\n<pre><code>// HTML\n&lt;p (click)=\"openTheDialog(openDialog)\"&gt;Click here to open me, fool&lt;/p&gt;\n&lt;modal #openDialog (onOpen)=\"openIt(openDialog, 'thisDivRightHere')\" &gt;\n    &lt;div id=\"thisDivRightHere\"&gt;&lt;/div&gt;\n&lt;/modal&gt;\n\ntester(someDiv, dialog, callback): void {\n    var checkExist = setInterval(function() {\n        if ($('#'+someDiv).length) {\n            console.log(\"Exists!\");\n            clearInterval(checkExist);\n            callback(dialog);\n        }\n    }, 100); // check every 100ms\n}    \n\n// Component\nopenTheDialog(dlg) {\n   dlg.open();\n}\n\nopenIt(dlg, someDiv) void: {\n    this.tester(someDiv, this.myService, function(dlg) {\n        dialog.preformTheAction(someDiv);\n    });\n}\n\n// Service\npreformTheAction = function(someDiv) {\n    $('#' + someDiv).html(new Date());\n}\n</code></pre>\n"}], "owner": {"reputation": 615, "user_id": 5434968, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/10a14443b4d7c052d7e77169897ac3f5?s=128&d=identicon&r=PG&f=1", "display_name": "user316114", "link": "https://stackoverflow.com/users/5434968/user316114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478660074, "creation_date": 1478638290, "question_id": 40496191, "link": "https://stackoverflow.com/questions/40496191/angular2-dialog-callback", "title": "Angular2 Dialog Callback", "body": "<p>All,\n  I have an Angular2 application.  In this application I have a button that opens a dialog.  In this dialog is a single div which I need to act on.  Is there any way to execute code in a callback after the dialog and all it's children have been created?</p>\n\n<p>The closest I've got is </p>\n\n<pre><code>&lt;modal #openDialog (focusin)=\"openExplorer('someData')\"&gt;\n...\n&lt;/modal&gt;\n</code></pre>\n\n<p>If I go with that approach then my code get's rexecuted if a user clicks on the form fields inside of this div.</p>\n\n<pre><code>// HTML\n&lt;p (click)=\"openTheDialog(openDialog, 'thisDivRightHere')\"&gt;Click here to open me, fool&lt;/p&gt;\n&lt;modal #openDialog (focusin)=\"openExplorer('someData')\"&gt;\n    &lt;div id=\"thisDivRightHere\"&gt;&lt;/div&gt;\n&lt;/modal&gt;\n\n// Component\nopenTheDialog(dlg, someDiv) void: {\n    this.fooBarService.preformTheAction(someDiv);\n}\n\n// Service\npreformTheAction = function(someDiv) {\n    $('#' + someDiv).html(new Date());\n}\n</code></pre>\n\n<p>In the above example, without (focusin) then I can't get a handle on \"thisDivRightHere\"</p>\n\n<p>But if I use (focusin) I can but the date changes every time somethings interacted with.</p>\n"}, {"tags": ["angularjs", "angular", "typescript", "angular-routing", "angular-services"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1478638423, "post_id": 40496151, "comment_id": 68236622, "body": "DI is not supposed to be used in decorators. There might be hacks but I&#39;m pretty sure they can&#39;t work for example with AoT."}, {"owner": {"reputation": 1981, "user_id": 3393520, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d38d36d0144bb8606b1a9f0bbb112d5c?s=128&d=identicon&r=PG", "display_name": "Methodician", "link": "https://stackoverflow.com/users/3393520/methodician"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1478640547, "post_id": 40496151, "comment_id": 68237584, "body": "Yeah I figure it shouldn&#39;t work that way but can&#39;t I somehow import a function from another file that I CAN use in the @Component declaration? I just don&#39;t like what I&#39;m doing now which is duplicating code in 10 different components so I can inject the right path prefix."}], "answers": [{"comments": [{"owner": {"reputation": 1981, "user_id": 3393520, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d38d36d0144bb8606b1a9f0bbb112d5c?s=128&d=identicon&r=PG", "display_name": "Methodician", "link": "https://stackoverflow.com/users/3393520/methodician"}, "edited": false, "score": 0, "creation_date": 1478716716, "post_id": 40498758, "comment_id": 68269331, "body": "Thank you for an in depth explanation. I haven&#39;t tested it but this looks like it really thoroughly answers the meat of my query and you&#39;ve given me a number of approaches to experiment with and tools and knowledge I can use in other scenarios. Also, while I like the process of writing my templates with all the intellisense, zen coding, and autofill of an html file but it does make sense to just slap it in a string for production."}], "tags": [], "owner": {"reputation": 2079, "user_id": 3896921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZqVMl.png?s=128&g=1", "display_name": "Polochon", "link": "https://stackoverflow.com/users/3896921/polochon"}, "is_accepted": true, "score": 1, "last_activity_date": 1478652179, "creation_date": 1478652179, "answer_id": 40498758, "question_id": 40496151, "link": "https://stackoverflow.com/questions/40496151/how-can-i-use-a-service-or-global-function-in-the-component-declaration/40498758#40498758", "title": "How can I use a service or global function in the @Component declaration?", "body": "<p>if i correctly understood, you want to create a service that can act as an helper out of the angular's DI process.</p>\n\n<p>Like @G\u00fcnter_Z\u00f6chbauer said, an Injectable can't be used outward of an instance of an Ng2 object (Component, Injectable...) but in your case, create an injectable is irrelevant. <strong>Create an angular app doesn't mean that all your files must contain angular objects, you can also create basic classes/constants..</strong></p>\n\n<p>For example, if you want an helper that build an url for you, you can create a class and use it in a component declaration simply by importing it.</p>\n\n<pre><code>//urlbuilder.ts\nconst host:string = 'http://foo.bar.com';\nexport class UrlBuilder {\n    static generate(file:string = '') {\n        return host + file;\n    }\n}\n\n// component.ts\nimport {UrlBuilder} from './urlbuilder';\n\n@Component({\n    templateUrl: UrlBuilder.generate('/foo.html')\n})\nexport class FooComponent {}\n</code></pre>\n\n<p>You can even export a function instead of the class, it will work too.\nThe following code show the same code as above but with a function and an es6 tag.</p>\n\n<pre><code>//urlbuilder.ts\nconst host:string = 'http://foo.bar.com';\nexport const UrlBuilder = urlBuilderFn;\n\n//basic tag function that build a template string with potential variables\nfunction urlBuilderFn(strs, ...raws) {\n    let builtStr = '', length = strs.length;\n\n    for(let i = 0; i &lt; length; i++)\n        builtStr = strs[i] + (raws[i] !== undefined &amp;&amp; raws[i] !== null ? raws[i] : '');\n\n    return host + builtStr;\n}\n\n\n// component.ts\nimport {UrlBuilder as url} from './urlbuilder';\n\n@Component({\n    templateUrl: url`/foo.html`\n})\nexport class FooComponent {}\n</code></pre>\n\n<p>However, if wanna use your helper with the DI too (for whatever reasons, need for angular deps..) you can make an injectable class with a static method.</p>\n\n<pre><code>//urlbuilder.ts\nconst host:string = 'http://foo.bar.com';\n\n@Injectable()\nexport class UrlBuilder {\n\n    constructor(private http:Http) {}\n\n    static generate(file:string = '') {\n        return host + file;\n    }\n\n    doSomething() {\n        return this.http.get(UrlBuilder.generate('/foo/bar'))\n    }\n}\n\n// component.ts\nimport {UrlBuilder} from './urlbuilder';\n\n@Component({\n    templateUrl: UrlBuilder.generate('/foo.html')\n})\nexport class FooComponent {\n\n    constructor(private builder:UrlBuilder) {}\n\n    ngOnInit() {\n        this.builder.doSomething()\n    }\n\n}\n</code></pre>\n\n<p>On the other hand, if your only issues are with the templates why don't you write them directly as template string or just import them with your task manager (webpack..). Generally, if you don't have dynamic view and so, have to generete them from your server, prefer to avoid http calls to retrieve them and load them directly in the javascript files.</p>\n"}, {"comments": [{"owner": {"reputation": 1981, "user_id": 3393520, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d38d36d0144bb8606b1a9f0bbb112d5c?s=128&d=identicon&r=PG", "display_name": "Methodician", "link": "https://stackoverflow.com/users/3393520/methodician"}, "edited": false, "score": 0, "creation_date": 1478716182, "post_id": 40498905, "comment_id": 68269087, "body": "Interesting approach that might do the trick except that I&#39;m using a more contemporary setup with Razor and stuff (no aspx) so I&#39;ll have to try and figure out how to translate this. I&#39;m not too good with web.config though..."}], "tags": [], "owner": {"reputation": 3163, "user_id": 1778866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR1pY.jpg?s=128&g=1", "display_name": "Ben Richards", "link": "https://stackoverflow.com/users/1778866/ben-richards"}, "is_accepted": false, "score": 1, "last_activity_date": 1478653434, "creation_date": 1478653434, "answer_id": 40498905, "question_id": 40496151, "link": "https://stackoverflow.com/questions/40496151/how-can-i-use-a-service-or-global-function-in-the-component-declaration/40498905#40498905", "title": "How can I use a service or global function in the @Component declaration?", "body": "<p>I've dealt with this issue and I solved it by making the baseHref a setting inside my configuration/appSettings. Make the Angular page container an .ASPX page, on page loads, set the baseHref from the configuration. Here is the snippets from my Web.config:</p>\n\n<pre><code>&lt;appSettings&gt;\n  &lt;add key=\"AppBaseUrl\" value=\"/MyAngularApp/\" /&gt;\n&lt;/appSettings&gt;\n</code></pre>\n\n<p>And here are the re-write rules to make your Angular app function properly while being hosted in IIS:</p>\n\n<pre><code>&lt;rewrite&gt;\n  &lt;rules&gt;\n    &lt;rule name=\"Rewrite Index to Root\" stopProcessing=\"true\" enabled=\"true\"&gt;\n      &lt;match url=\".*\" /&gt;\n      &lt;conditions&gt;\n          &lt;add input=\"{URL}\" pattern=\"^(.*)(/index.aspx)$\" /&gt;\n      &lt;/conditions&gt;\n      &lt;action type=\"Redirect\" url=\"{C:1}\" /&gt;\n    &lt;/rule&gt;\n    &lt;rule name=\"Angular\" stopProcessing=\"true\" enabled=\"true\"&gt;\n      &lt;match url=\"^(.*)$\" ignoreCase=\"false\" /&gt;\n      &lt;conditions logicalGrouping=\"MatchAll\"&gt;\n        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" negate=\"true\" /&gt;\n        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" negate=\"true\" /&gt;\n      &lt;/conditions&gt;\n      &lt;action type=\"Rewrite\" url=\"index.aspx/{R:0}\" appendQueryString=\"true\" /&gt;\n    &lt;/rule&gt;\n  &lt;/rules&gt;\n&lt;/rewrite&gt;\n</code></pre>\n"}], "owner": {"reputation": 1981, "user_id": 3393520, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d38d36d0144bb8606b1a9f0bbb112d5c?s=128&d=identicon&r=PG", "display_name": "Methodician", "link": "https://stackoverflow.com/users/3393520/methodician"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 752, "favorite_count": 0, "accepted_answer_id": 40498758, "answer_count": 2, "score": 1, "last_activity_date": 1478653434, "creation_date": 1478638157, "question_id": 40496151, "link": "https://stackoverflow.com/questions/40496151/how-can-i-use-a-service-or-global-function-in-the-component-declaration", "title": "How can I use a service or global function in the @Component declaration?", "body": "<p>I have a service that helps with some routing issues related to my environment and now I need to cope with template routing issues</p>\n\n<p>Ideally I would be able to do something like this:</p>\n\n<pre><code>import { PathSvc } from './globals/path.svc';\n@Component({\n    templateUrl: this.pathSvc.alias + '/app/my.comp.html'\n})\nexport class MyComp {\n    constructor(private pathSvc: PathSvc) { }           \n}\n</code></pre>\n\n<p>Of course that doesn't work because the service isn't made to be used in the component declaration so I get a runtime console error:</p>\n\n<blockquote>\n  <p>requests:38 Error: TypeError: Cannot read property 'pathSvc' of\n  undefined(\u2026)</p>\n</blockquote>\n\n<p>Typescript and modular JS in genaral is a new thing to me. Maybe there's a more direct way to import my function to a bunch of modules and use it anywhere I want?</p>\n\n<p>I realize this isn't an optimal approach and I should be getting these results using the</p>\n\n<pre><code>&lt;base href=\"/{alias}\" /&gt;\n</code></pre>\n\n<p>methodology but that's not happening right now.</p>\n\n<p>The short of it is that somehow all that stopped working while I tried to make my ASP.Net MVC + Angular 2 app more dynamically aware of its hosting environment and handle back end and front end routing conflicts. I'd like to get this working in more of a \"right way\" but at the moment, I just need it to work so my boss is happy and a global routing script seems like the way.</p>\n"}, {"tags": ["http", "angular", "logging", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7133645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xnqLn1kiiTI/AAAAAAAAAAI/AAAAAAAAAdM/0o_Q9BxXDTs/photo.jpg?sz=128", "display_name": "SrirajM", "link": "https://stackoverflow.com/users/7133645/srirajm"}, "edited": false, "score": 0, "creation_date": 1478637980, "post_id": 40496058, "comment_id": 68236353, "body": "Tried that before and ran into this error: Cannot instantiate cyclic dependency! Http: in NgModule AppModule"}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 33, "user_id": 7133645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xnqLn1kiiTI/AAAAAAAAAAI/AAAAAAAAAdM/0o_Q9BxXDTs/photo.jpg?sz=128", "display_name": "SrirajM", "link": "https://stackoverflow.com/users/7133645/srirajm"}, "edited": false, "score": 0, "creation_date": 1478638061, "post_id": 40496058, "comment_id": 68236400, "body": "@SrirajM Remove <code>ErrorLogService</code> from <code>AppModule</code>&#39;s providers, just leave it  in <code>deps</code>."}, {"owner": {"reputation": 33, "user_id": 7133645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xnqLn1kiiTI/AAAAAAAAAAI/AAAAAAAAAdM/0o_Q9BxXDTs/photo.jpg?sz=128", "display_name": "SrirajM", "link": "https://stackoverflow.com/users/7133645/srirajm"}, "edited": false, "score": 1, "creation_date": 1478641009, "post_id": 40496058, "comment_id": 68237795, "body": "Found the issue why its coming up even after i leave it dep. In my ErrorLogService there is a way to log the error on server using http. So the moment i add a constructor :  constructor(private _http: Http) { }, this cyclic dependency  comes back."}, {"owner": {"reputation": 33, "user_id": 7133645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xnqLn1kiiTI/AAAAAAAAAAI/AAAAAAAAAdM/0o_Q9BxXDTs/photo.jpg?sz=128", "display_name": "SrirajM", "link": "https://stackoverflow.com/users/7133645/srirajm"}, "edited": false, "score": 0, "creation_date": 1478641427, "post_id": 40496058, "comment_id": 68237977, "body": "Thanks for the help -  anyway I could send this error to server? and handle it globally?"}], "tags": [], "owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "is_accepted": true, "score": 3, "last_activity_date": 1478637792, "creation_date": 1478637792, "answer_id": 40496058, "question_id": 40496039, "link": "https://stackoverflow.com/questions/40496039/injected-logger-is-undefined-in-custom-http-in-angular2/40496058#40496058", "title": "Injected Logger is undefined in Custom Http in angular2", "body": "<p>You need to add <code>ErrorLogService</code> to <code>CustomHttp</code>'s provider <code>deps</code>:</p>\n\n<pre><code>providers: [\n    ConfigService,\n    AuthService,    \n    ErrorLogService,\n    {\n    provide: Http,\n    useFactory: (backend: XHRBackend, defaultOptions: RequestOptions, _errorLogService: ErrorLogService) =&gt; {\n        return new CustomHttp(backend, defaultOptions, _errorLogService);\n    },\n    deps: [XHRBackend, RequestOptions, ErrorLogService] &lt;-- this\n    }\n],\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7133645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xnqLn1kiiTI/AAAAAAAAAAI/AAAAAAAAAdM/0o_Q9BxXDTs/photo.jpg?sz=128", "display_name": "SrirajM", "link": "https://stackoverflow.com/users/7133645/srirajm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 40496058, "answer_count": 1, "score": 2, "last_activity_date": 1478637792, "creation_date": 1478637691, "question_id": 40496039, "link": "https://stackoverflow.com/questions/40496039/injected-logger-is-undefined-in-custom-http-in-angular2", "title": "Injected Logger is undefined in Custom Http in angular2", "body": "<p>I am trying to implement a global handler to manage HTTP errors in Angular2. Going through few reference: <a href=\"http://restlet.com/blog/2016/04/18/interacting-efficiently-with-a-restful-service-with-angular2-and-rxjs-part-3/\" rel=\"nofollow noreferrer\">http://restlet.com/blog/2016/04/18/interacting-efficiently-with-a-restful-service-with-angular2-and-rxjs-part-3/</a> and <a href=\"https://blog.tomasandtomas.com/angular-2-http-interceptors-7e2d74b7f14e#.nxgxijnqu\" rel=\"nofollow noreferrer\">https://blog.tomasandtomas.com/angular-2-http-interceptors-7e2d74b7f14e#.nxgxijnqu</a> , I made the following:</p>\n\n<pre><code>--------------------------------------------------------------------\n// Logger service - which will be able to send the error to server or log to console\nimport { Http } from '@angular/http';\nimport { Injectable } from '@angular/core';\nimport { Response } from '@angular/http';\n\n@Injectable()\nexport class ErrorLogService {\n    public logError(error: any): void {\n       // custom error handling here\n       console.log(error);\n    }\n}\n--------------------------------------------------------------------\n// This is the Custom HTTP that extends Http module\nimport { Injectable } from '@angular/core';\nimport { Http, ConnectionBackend, Request, RequestOptions, RequestOptionsArgs } from '@angular/http';\nimport { ErrorLogService } from '../ErrorHandling/error.log.service';\nimport { Observable } from 'rxjs/Rx';\n\n@Injectable()\nexport class CustomHttp extends Http {    \n\n    constructor(_backEnd: ConnectionBackend,\n        defaultOptions: RequestOptions, private errorLogService: ErrorLogService) {\n        super(_backEnd, defaultOptions);        \n    }    \n    get(url: string, options?: RequestOptionsArgs): Observable&lt;any&gt; {\n        return super.request(url, options)\n        .catch((error: any): any =&gt; {\n            this.errorLogService.logError(error);\n            return Observable.empty();\n        })            \n        .finally(() =&gt; {\n            console.log('Done');\n        });\n    }    \n}\n\n--------------------------------------------------------------------\n// This is the service that call the api to get data.\nimport { Http, Response } from '@angular/http';\nimport { Injectable } from '@angular/core';\nimport { IAsset } from './asset';\nimport { AppSettings } from '../app.settings';\n\n\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class AssetService {\n    private _cid = 1234;\n    private _total = 774;\n    private _pageIndex = 1;\n\n    constructor(private _http: Http) { }\n\n    getAssets(pageIndex: number): Promise&lt;IAsset[]&gt; {\n        this._pageIndex = pageIndex;\n        let _assetApi = `${AppSettings.GET_CONFIG('assets')}?1cid=${this._cid}&amp;count=${this._total}&amp;index=${this._pageIndex}`;\n\n\n        return this._http.get(_assetApi)\n            .toPromise()\n            .then(response =&gt; response.json() as IAsset[]);\n\n    }    \n}\n\n--------------------------------------------------------------------\n//This is how custom Http is injected in the app module\n    import { NgModule, APP_INITIALIZER, ErrorHandler } from '@angular/core';\n    import { BrowserModule } from '@angular/platform-browser';\n    import { HttpModule } from '@angular/http';\n    import { Http, XHRBackend, RequestOptions } from '@angular/http';\n\n    import { AppComponent } from './app.component';\n    import { WelcomeComponent } from './home/welcome.component';\n    import { ProductModule } from './products/product.module';\n\n    import { AppRoutingModule } from './app.routing.module';\n    import { ErrorLogService } from './shared/ErrorHandling/error.log.service';\n    import { CustomHttp } from './shared/Http/custom.http.service';\n\n    @NgModule({\n    imports: [\n        BrowserModule,\n        HttpModule,\n        AppRoutingModule,\n        ProductModule\n    ],\n    declarations: [\n        AppComponent,\n        WelcomeComponent\n    ],\n    providers: [\n        ConfigService,\n        AuthService,    \n        ErrorLogService,\n        {\n        provide: Http,\n        useFactory: (backend: XHRBackend, defaultOptions: RequestOptions, _errorLogService: ErrorLogService) =&gt; {\n            return new CustomHttp(backend, defaultOptions, _errorLogService);\n        },\n        deps: [XHRBackend, RequestOptions]\n        }\n    ],\n    bootstrap: [AppComponent],\n\n    })\n    export class AppModule { }\n</code></pre>\n\n<p>Now the problem is that I anytime there is a 500 internal server error on my data service, it is caught by by the CustomHttp, but the  this.errorLogService.logError(error); >> errorLogService is undefined and does not invoke the logError on it.</p>\n\n<p>I am using the Angular 2.0.0.0.</p>\n\n<p>Any pointers on this issue? - Thanks.</p>\n"}, {"tags": ["typescript", "karma-jasmine", "istanbul", "karma-webpack"], "answers": [{"tags": [], "owner": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "is_accepted": false, "score": 0, "last_activity_date": 1478637803, "creation_date": 1478637803, "answer_id": 40496064, "question_id": 40495913, "link": "https://stackoverflow.com/questions/40495913/how-do-i-add-code-coverage-to-typescript-webpack-karma-w-istanbul-instrumen/40496064#40496064", "title": "How do I add code coverage to Typescript + Webpack + Karma w/ Istanbul-Instrumenter", "body": "<p>Seems fixed on this branch <a href=\"https://github.com/jrgleason/webpack-karma-coverage-demo/tree/fixed\" rel=\"nofollow noreferrer\">https://github.com/jrgleason/webpack-karma-coverage-demo/tree/fixed</a> . Not exactly sure what fixed it though.</p>\n"}], "owner": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1302, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478637803, "creation_date": 1478637248, "last_edit_date": 1495535272, "question_id": 40495913, "link": "https://stackoverflow.com/questions/40495913/how-do-i-add-code-coverage-to-typescript-webpack-karma-w-istanbul-instrumen", "title": "How do I add code coverage to Typescript + Webpack + Karma w/ Istanbul-Instrumenter", "body": "<p>I have created a simple <a href=\"https://github.com/jrgleason/webpack-karma-coverage-demo\" rel=\"nofollow noreferrer\">Webpack + Typescript + Karma</a> app but I am having trouble getting the code coverage to work properly. Per projects like <a href=\"https://github.com/AngularClass/angular2-webpack-starter\" rel=\"nofollow noreferrer\">this</a> and the other info provided <a href=\"https://stackoverflow.com/questions/39570980/karma-coverage-report-combined-with-webpack\">here</a> you can see I tried...</p>\n\n<pre><code>// In test bundle\nconst componentsContext = require.context('../src/', true, /\\.js$/);\ncomponentsContext.keys().forEach(componentsContext);\n\n// In webpack config\nconst helpers = require('./helpers.js')\nconst webpackMerge = require('webpack-merge'); // used to merge webpack configs\nconst commonConfig = require('./webpack.common.js'); // the settings that are common to prod and dev\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nmodule.exports = function () {\n  return webpackMerge(commonConfig(), {\n    devtool: 'inline-source-map',\n    output: {\n        path: helpers.root(\"dist\"),\n        filename: '[name].bundle.js',\n    },\n    module: {\n      postLoaders: [\n        {\n          test: /^((?!\\.spec\\.ts).)*.ts$/,\n          exclude: /(node_modules|bower_components)/,\n          loader: 'istanbul-instrumenter'\n        }\n      ]\n    }\n  })\n};\n</code></pre>\n\n<p>but when I run <code>karma start test/karma.conf.js</code> I see 100% and no files listed. What am I missing?</p>\n"}, {"tags": ["javascript", "loops", "typescript", "hex", "decimal"], "comments": [{"owner": {"reputation": 171, "user_id": 7033594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41e176761f130a0e3b8518a97c7683ce?s=128&d=identicon&r=PG&f=1", "display_name": "danchik", "link": "https://stackoverflow.com/users/7033594/danchik"}, "edited": false, "score": 1, "creation_date": 1478637796, "post_id": 40495841, "comment_id": 68236259, "body": "too many answers here, what are some restrictions?  Can you use parseInt? because it just gives the answer and you can put it into loop :) for(;;) {return parseInt(hex,16);}"}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 7033594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41e176761f130a0e3b8518a97c7683ce?s=128&d=identicon&r=PG&f=1", "display_name": "danchik", "link": "https://stackoverflow.com/users/7033594/danchik"}, "edited": false, "score": 0, "creation_date": 1478638395, "post_id": 40496196, "comment_id": 68236607, "body": "This also assumes hex is given as a string, if not then first do <code>hex = hex.toString(16)</code>"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1478638639, "post_id": 40496196, "comment_id": 68236749, "body": "what would be the use of calling a function with a decimal number, have the function convert it to a hex string internally, and let it decode it again into the same decimal number that was passed to the function in the first place?"}, {"owner": {"reputation": 171, "user_id": 7033594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41e176761f130a0e3b8518a97c7683ce?s=128&d=identicon&r=PG&f=1", "display_name": "danchik", "link": "https://stackoverflow.com/users/7033594/danchik"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1478638915, "post_id": 40496196, "comment_id": 68236888, "body": "right :) just wanted make sure passed in type wouldn&#39;t cause an exception"}], "tags": [], "owner": {"reputation": 171, "user_id": 7033594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41e176761f130a0e3b8518a97c7683ce?s=128&d=identicon&r=PG&f=1", "display_name": "danchik", "link": "https://stackoverflow.com/users/7033594/danchik"}, "is_accepted": false, "score": 0, "last_activity_date": 1478638804, "last_edit_date": 1478638804, "creation_date": 1478638316, "answer_id": 40496196, "question_id": 40495841, "link": "https://stackoverflow.com/questions/40495841/how-to-convert-hex-to-decimal-with-a-loop-in-javascript/40496196#40496196", "title": "How to convert hex to decimal WITH A LOOP in JavaScript", "body": "<p>If you want to loop over every hex digit, then just loop from end to beginning, shifting each digit 4 bits to the left as you add them (each hex digit is four bits long): </p>\n\n<pre><code>function doit(hex) {\n    var num = 0;\n    for(var x=0;x&lt;hex.length;x++) {\n        var hexdigit = parseInt(hex[x],16);\n        num = (num &lt;&lt; 4) | hexdigit;\n    }\n    return num;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3008, "user_id": 213050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738dce7fbadb6707dace69482d966320?s=128&d=identicon&r=PG", "display_name": "H Dog", "link": "https://stackoverflow.com/users/213050/h-dog"}, "edited": false, "score": 0, "creation_date": 1608432111, "post_id": 40496205, "comment_id": 115581842, "body": "Cool technique but why your Hex goes up to letter &quot;h&quot; ? (grin)"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "reply_to_user": {"reputation": 3008, "user_id": 213050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738dce7fbadb6707dace69482d966320?s=128&d=identicon&r=PG", "display_name": "H Dog", "link": "https://stackoverflow.com/users/213050/h-dog"}, "edited": false, "score": 0, "creation_date": 1608459313, "post_id": 40496205, "comment_id": 115585787, "body": "@HDog, oh you gave it away :) I had hoped to leave a signature on this code... No kidding: removed."}], "tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": true, "score": 6, "last_activity_date": 1608459298, "last_edit_date": 1608459298, "creation_date": 1478638357, "answer_id": 40496205, "question_id": 40495841, "link": "https://stackoverflow.com/questions/40495841/how-to-convert-hex-to-decimal-with-a-loop-in-javascript/40496205#40496205", "title": "How to convert hex to decimal WITH A LOOP in JavaScript", "body": "<p>Maybe you are looking for something like this, knowing that it can be done with a oneliner (with <code>parseInt</code>)?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function hexToDec(hex) {\n    var result = 0, digitValue;\n    hex = hex.toLowerCase();\n    for (var i = 0; i &lt; hex.length; i++) {\n        digitValue = '0123456789abcdef'.indexOf(hex[i]);\n        result = result * 16 + digitValue;\n    }\n    return result;\n}\n\nconsole.log(hexToDec('FE'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h3>Alternative</h3>\n<p>Maybe you want to have a go at using <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\"><code>reduce</code></a>, and ES6 <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">arrow functions</a>:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function hexToDec(hex) {\n    return hex.toLowerCase().split('').reduce( (result, ch) =&gt;\n        result * 16 + '0123456789abcdefgh'.indexOf(ch), 0);\n}\n\nconsole.log(hexToDec('FE'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1478639255, "post_id": 40496275, "comment_id": 68237053, "body": "There is an <a href=\"http://stackoverflow.com/posts/40496196/edit\">edit</a> link below your answer."}, {"owner": {"reputation": 171, "user_id": 7033594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41e176761f130a0e3b8518a97c7683ce?s=128&d=identicon&r=PG&f=1", "display_name": "danchik", "link": "https://stackoverflow.com/users/7033594/danchik"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1478639421, "post_id": 40496275, "comment_id": 68237140, "body": "yep, but once I added the comment, the Edit of the answer was no longer there, only for comment, until I left and reloaded the page, strange"}], "tags": [], "owner": {"reputation": 171, "user_id": 7033594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41e176761f130a0e3b8518a97c7683ce?s=128&d=identicon&r=PG&f=1", "display_name": "danchik", "link": "https://stackoverflow.com/users/7033594/danchik"}, "is_accepted": false, "score": 0, "last_activity_date": 1478638660, "creation_date": 1478638660, "answer_id": 40496275, "question_id": 40495841, "link": "https://stackoverflow.com/questions/40495841/how-to-convert-hex-to-decimal-with-a-loop-in-javascript/40496275#40496275", "title": "How to convert hex to decimal WITH A LOOP in JavaScript", "body": "<p>Sorry that was backwards, and I can't find where to edit answer, so here is corrected answer:</p>\n\n<pre><code>function doit(hex) {\n    var num = 0;\n    for(var x=0;x&lt;hex.length;x++) {\n        var hexdigit = parseInt(hex[x],16);\n        num = (num &lt;&lt; 4) | hexdigit;\n    }\n    return num;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6804120"}, "edited": false, "score": 0, "creation_date": 1478641884, "post_id": 40496507, "comment_id": 68238171, "body": "Can you explain why we reverse and what exactly does the loop do? Thank you!"}, {"owner": {"reputation": 1430, "user_id": 2101076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GtIKR.jpg?s=128&g=1", "display_name": "Robert Lee", "link": "https://stackoverflow.com/users/2101076/robert-lee"}, "edited": false, "score": 0, "creation_date": 1478644393, "post_id": 40496507, "comment_id": 68239280, "body": "Added comments to the snippet"}], "tags": [], "owner": {"reputation": 1430, "user_id": 2101076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GtIKR.jpg?s=128&g=1", "display_name": "Robert Lee", "link": "https://stackoverflow.com/users/2101076/robert-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1478645465, "last_edit_date": 1478645465, "creation_date": 1478639580, "answer_id": 40496507, "question_id": 40495841, "link": "https://stackoverflow.com/questions/40495841/how-to-convert-hex-to-decimal-with-a-loop-in-javascript/40496507#40496507", "title": "How to convert hex to decimal WITH A LOOP in JavaScript", "body": "<p>Just another way to do it...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// The purpose of the function is to convert Hex to Decimal.  \r\n// This is done by adding each of the converted values.\r\nfunction hextoDec(val) {\r\n  \r\n    // Reversed the order because the added values need to 16^i for each value since 'F' is position 1 and 'E' is position 0\r\n    var hex = val.split('').reverse().join('');\r\n  \r\n    // Set the Decimal variable as a integer\r\n    var dec = 0;\r\n  \r\n    // Loop through the length of the hex to iterate through each character\r\n    for (i = 0; i &lt; hex.length; i++) {\r\n      \r\n        // Obtain the numeric value of the character A=10 B=11 and so on..\r\n        // you could also change this to var conv = parseInt(hex[i], 16) instead\r\n        var conv = '0123456789ABCDEF'.indexOf(hex[i]);\r\n      \r\n        // Calculation performed is the converted value * (16^i) based on the position of the character\r\n        // This is then added to the original dec variable.  'FE' for example\r\n        // in Reverse order [E] = (14 * (16 ^ 0)) + [F] = (15 * (16 ^ 1)) \r\n        dec += conv * Math.pow(16, i);\r\n      \r\n    }\r\n  \r\n    // Returns the added decimal value\r\n    return dec;\r\n}\r\n\r\nconsole.log(hextoDec('FE'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 375, "user_id": 2762457, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/4803082/picture?type=large", "display_name": "Eleanor Zimmermann", "link": "https://stackoverflow.com/users/2762457/eleanor-zimmermann"}, "is_accepted": false, "score": 0, "last_activity_date": 1553643984, "creation_date": 1553643984, "answer_id": 55367764, "question_id": 40495841, "link": "https://stackoverflow.com/questions/40495841/how-to-convert-hex-to-decimal-with-a-loop-in-javascript/55367764#55367764", "title": "How to convert hex to decimal WITH A LOOP in JavaScript", "body": "<p>JavaScript can natively count in hex.  I'm finding out the hard way that, in a loop, it converts hex to decimal, so for your purposes, this is great.</p>\n\n<p>prepend your hex with <code>0x</code> , and you can directly write a for loop.</p>\n\n<p>For example, I wanted get an array of hex values for these unicode characters, but I am by default getting an array of decimal values.</p>\n\n<p>Here's sample code that is converting unicode hex to dec</p>\n\n<pre><code>    var arrayOfEmojis = [];\n\n    // my range here is in hex format\n    for (var i=0x1F600; i &lt; 0x1F64F; i++) {\n        arrayOfEmojis.push('\\\\u{' + i + '}');\n    }\n\n    console.log(arrayOfEmojis.toString()); // this outputs an array of decimals\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6804120"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8356, "favorite_count": 1, "accepted_answer_id": 40496205, "answer_count": 5, "score": 2, "last_activity_date": 1608459298, "creation_date": 1478636972, "last_edit_date": 1495535272, "question_id": 40495841, "link": "https://stackoverflow.com/questions/40495841/how-to-convert-hex-to-decimal-with-a-loop-in-javascript", "title": "How to convert hex to decimal WITH A LOOP in JavaScript", "body": "<p>Is it possible to convert a hex number to a decimal number with a loop?</p>\n\n<p><em>Example:</em> input \"FE\" output \"254\"</p>\n\n<p>I looked at those questions :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/57803/how-to-convert-decimal-to-hex-in-javascript?rq=1\">How to convert decimal to hex in JavaScript?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/19605408/writing-a-function-to-convert-hex-to-decimal\">Writing a function to convert hex to decimal</a>\n<a href=\"https://stackoverflow.com/questions/19605408/writing-a-function-to-convert-hex-to-decimal\">Writing a function to convert hex to decimal</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/19605408/writing-a-function-to-convert-hex-to-decimal\">Writing a function to convert hex to decimal</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/19502092/how-to-convert-hex-to-decimal-in-r\">How to convert hex to decimal in R</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/28321924/how-to-convert-hex-to-decimal-in-c-net\">How to convert hex to decimal in c#.net?</a></p>\n\n<p>And a few more that were not related to JS or loops. I searched for a solution in other languages too in case that I find a way to do it,but I didn't. The first one was the most useful one. Maybe I can devide by 16,compare the result to preset values and print the result, but I want to try with loops. How can I do it? </p>\n"}, {"tags": ["angular", "typescript", "lodash"], "comments": [{"owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "edited": false, "score": 0, "creation_date": 1478637327, "post_id": 40495742, "comment_id": 68236024, "body": "It might be that your instance is still a string, i.e. not mapped to the right type from the http response json, try: getAppointments((app: Appointment) =&gt; parseInt(app.distance));"}, {"owner": {"reputation": 2079, "user_id": 3896921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZqVMl.png?s=128&g=1", "display_name": "Polochon", "link": "https://stackoverflow.com/users/3896921/polochon"}, "edited": false, "score": 0, "creation_date": 1478637522, "post_id": 40495742, "comment_id": 68236139, "body": "Please share us a dump of one of your Appointment. I suspect that the distance is a string. You can try to parse the value by adding a + to the statement: <code>getAppointments((app: Appointment) =&gt; +app.appointmentDate);</code>"}, {"owner": {"reputation": 20573, "user_id": 1280587, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/j4XVS.png?s=128&g=1", "display_name": "paul", "link": "https://stackoverflow.com/users/1280587/paul"}, "reply_to_user": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "edited": false, "score": 0, "creation_date": 1478638276, "post_id": 40495742, "comment_id": 68236525, "body": "@meir typescript won&#39;t allow <code>parseInt(app.distance)</code> as <code>parseInt</code> is only for strings. I could <code>parseInt(app.distance.toString())</code> but then I think I&#39;d be back where I started."}, {"owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "edited": false, "score": 0, "creation_date": 1478638880, "post_id": 40495742, "comment_id": 68236873, "body": "Not sure, did you try it? You said that you get alphabetical instead of numeric sorting. My guess is that it is because though you think you hold numbers, you hold strings, I had similar cases and it took me a while to figure out. Give the parseInt(app.distance.toString()) a chance :-)"}, {"owner": {"reputation": 20573, "user_id": 1280587, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/j4XVS.png?s=128&g=1", "display_name": "paul", "link": "https://stackoverflow.com/users/1280587/paul"}, "edited": false, "score": 0, "creation_date": 1478639348, "post_id": 40495742, "comment_id": 68237100, "body": "Thanks Polochon, Meir, you were both right - guess I need to investigate a bit more about what typescript does, and what it does not!"}], "answers": [{"tags": [], "owner": {"reputation": 20573, "user_id": 1280587, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/j4XVS.png?s=128&g=1", "display_name": "paul", "link": "https://stackoverflow.com/users/1280587/paul"}, "is_accepted": false, "score": 1, "last_activity_date": 1478639633, "creation_date": 1478639633, "answer_id": 40496515, "question_id": 40495742, "link": "https://stackoverflow.com/questions/40495742/sorting-numbers-using-lodash-and-typescript/40496515#40496515", "title": "Sorting Numbers using Lodash and Typescript", "body": "<p>In my service I had this:</p>\n\n<pre><code>    let appointments = this\n        .http\n        .get(\"app/appointments.json\")\n        .map((r: Response) =&gt; r.json().appointments as Appointment[]);\n</code></pre>\n\n<p>Although each json object is cast as <code>Appointment[]</code>, it appears this is perhaps just for the linters benefit?, and no actual conversion takes place. The properties get set as strings without regard to the class property types.</p>\n\n<p>Making the following changes solved the problem.</p>\n\n<pre><code>let appointments = this\n    .http\n    .get(\"app/appointments.json\")\n    .map(this.mapAppointments);\n\nprivate mapAppointments(response: Response): Appointment[] {\n    return response.json().appointments.map((r) =&gt; {\n        let g = new Appointment();\n        g.id = r.id;\n        g.appointmentDate = r.appointmentDate;\n        g.distance = parseInt(r.distance);\n        return g;\n    });\n}\n</code></pre>\n\n<p>Thanks to @Polochon and @Meir for leading me to this.</p>\n"}], "owner": {"reputation": 20573, "user_id": 1280587, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/j4XVS.png?s=128&g=1", "display_name": "paul", "link": "https://stackoverflow.com/users/1280587/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1108, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1478639633, "creation_date": 1478636593, "question_id": 40495742, "link": "https://stackoverflow.com/questions/40495742/sorting-numbers-using-lodash-and-typescript", "title": "Sorting Numbers using Lodash and Typescript", "body": "<p>I have an angular 2 service <code>apptService</code> that returns <code>Observable&lt;Appointment[]&gt;</code> which I then order using the lodash <code>sortBy</code> function:</p>\n\n<pre><code>class Appointment {\n    id: string;\n    distance: number;\n    appointmentDate: date;\n}\n\ngetAppointments(sortOrder) {\n   this.appointments = this\n     .apptService\n     .getAppointments()\n     .map(v =&gt; _.sortBy(v, sortOrder));\n}\n</code></pre>\n\n<p>I call <code>getAppointments</code> passing a sort function like so:</p>\n\n<pre><code>getAppointments((app: Appointment) =&gt; app.id);\ngetAppointments((app: Appointment) =&gt; app.distance);\ngetAppointments((app: Appointment) =&gt; app.appointmentDate);\n</code></pre>\n\n<p>The <code>appointmentDate</code> and <code>id</code> sorts are as expected, but when sorting by <code>distance</code>, the values are ordered alphanumerically ie: 12, 123, 15, 3</p>\n\n<p>For now, I have bodged an unsightly solution using:</p>\n\n<pre><code> getAppointments((app: Appointment) =&gt; {\n   // this will only work for appointments up to 100000 miles away\n   var s = \"00000\" + app.distance.toString();\n   return s.substr(s.length - 5);\n });\n</code></pre>\n\n<p>but this breaks my pattern, so I am looking for a better solution, or hoping at least to understand why this is happening.</p>\n\n<p>lodash was used for the sort because I liked the syntax and the ease of passing in the sorting arrow function, but am not attached to using it if there is a better solution.</p>\n\n<p>And sorry but no plunker, I could not get lodash and typescript working together at all there.</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1478637459, "post_id": 40495483, "comment_id": 68236099, "body": "<i>Property &#39;find&#39; does not exist on type &#39;Movie[]</i> is type error, because TS configuration is wrong. It should have <code>lib: [&#39;es6&#39;]</code> option."}, {"owner": {"reputation": 589, "user_id": 6355666, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e631b156b8ea6ae2af82a8022a35d3e4?s=128&d=identicon&r=PG&f=1", "display_name": "GaborH", "link": "https://stackoverflow.com/users/6355666/gaborh"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478637924, "post_id": 40495483, "comment_id": 68236319, "body": "You are right. I changed that and it works with the find now. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 589, "user_id": 6355666, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e631b156b8ea6ae2af82a8022a35d3e4?s=128&d=identicon&r=PG&f=1", "display_name": "GaborH", "link": "https://stackoverflow.com/users/6355666/gaborh"}, "edited": false, "score": 0, "creation_date": 1478636513, "post_id": 40495672, "comment_id": 68235590, "body": "I also thought of that, because I have to subscribe, when I call that function from an other component. However it gives the same error with the map."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "reply_to_user": {"reputation": 589, "user_id": 6355666, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e631b156b8ea6ae2af82a8022a35d3e4?s=128&d=identicon&r=PG&f=1", "display_name": "GaborH", "link": "https://stackoverflow.com/users/6355666/gaborh"}, "edited": false, "score": 0, "creation_date": 1478636639, "post_id": 40495672, "comment_id": 68235647, "body": "How do you use it?"}, {"owner": {"reputation": 588, "user_id": 3455196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d51db26184a59e4224dd92af6635864?s=128&d=identicon&r=PG&f=1", "display_name": "Siri0S", "link": "https://stackoverflow.com/users/3455196/siri0s"}, "edited": false, "score": 0, "creation_date": 1478636971, "post_id": 40495672, "comment_id": 68235832, "body": "It would be helpful if you could post the error and/or a stacktrace."}, {"owner": {"reputation": 589, "user_id": 6355666, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e631b156b8ea6ae2af82a8022a35d3e4?s=128&d=identicon&r=PG&f=1", "display_name": "GaborH", "link": "https://stackoverflow.com/users/6355666/gaborh"}, "edited": false, "score": 0, "creation_date": 1478636999, "post_id": 40495672, "comment_id": 68235855, "body": "Basically, I tried what you posted above, and the &#39;find&#39; still gives the same error."}, {"owner": {"reputation": 589, "user_id": 6355666, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e631b156b8ea6ae2af82a8022a35d3e4?s=128&d=identicon&r=PG&f=1", "display_name": "GaborH", "link": "https://stackoverflow.com/users/6355666/gaborh"}, "reply_to_user": {"reputation": 588, "user_id": 3455196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d51db26184a59e4224dd92af6635864?s=128&d=identicon&r=PG&f=1", "display_name": "Siri0S", "link": "https://stackoverflow.com/users/3455196/siri0s"}, "edited": false, "score": 1, "creation_date": 1478637145, "post_id": 40495672, "comment_id": 68235940, "body": "@Siri0S there is no stacktrace, I am just not able to call the find method on the movies.  When I hover on find, it says: Property &#39;find&#39; does not exist on type &#39;Movie[]&#39;."}, {"owner": {"reputation": 589, "user_id": 6355666, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e631b156b8ea6ae2af82a8022a35d3e4?s=128&d=identicon&r=PG&f=1", "display_name": "GaborH", "link": "https://stackoverflow.com/users/6355666/gaborh"}, "edited": false, "score": 0, "creation_date": 1478638037, "post_id": 40495672, "comment_id": 68236380, "body": "@yurzui Thanks for the plunker. Everything works as expected. There was a Ts configuration problem as well, as you can see above in the comment section of my question."}, {"owner": {"reputation": 2999, "user_id": 3193748, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/fd86bcbfef66aee8ab33ed1c39e8cdb5?s=128&d=identicon&r=PG&f=1", "display_name": "lukassz", "link": "https://stackoverflow.com/users/3193748/lukassz"}, "edited": false, "score": 0, "creation_date": 1487945600, "post_id": 40495672, "comment_id": 72025382, "body": "Why we are using <code>?</code> in <code>{{movie?.title}}</code>"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "reply_to_user": {"reputation": 2999, "user_id": 3193748, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/fd86bcbfef66aee8ab33ed1c39e8cdb5?s=128&d=identicon&r=PG&f=1", "display_name": "lukassz", "link": "https://stackoverflow.com/users/3193748/lukassz"}, "edited": false, "score": 0, "creation_date": 1487945904, "post_id": 40495672, "comment_id": 72025603, "body": "@lukassz We are using it to avoid exception <code>cannot read value of undefined</code> because we are getting data asynchronously"}, {"owner": {"reputation": 760, "user_id": 4841821, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d022b85f4280d2b3e240f33dfe2f35d0?s=128&d=identicon&r=PG&f=1", "display_name": "codejunkie", "link": "https://stackoverflow.com/users/4841821/codejunkie"}, "edited": false, "score": 0, "creation_date": 1510133938, "post_id": 40495672, "comment_id": 81301417, "body": "How can I avoid sending an http.get request every time? Is it good practice to store the result of the http.get in a local variable of type observable&lt;Type[]&gt;. Subsequent searches can be made using the &#39;id&#39; field in the local variable This local variable can then be synced periodically with the server."}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 28, "last_activity_date": 1478637087, "last_edit_date": 1478637087, "creation_date": 1478636344, "answer_id": 40495672, "question_id": 40495483, "link": "https://stackoverflow.com/questions/40495483/how-to-find-an-element-of-an-array-by-id-with-observable-in-angular2/40495672#40495672", "title": "How to find an element of an array by id with Observable in Angular2", "body": "<p>I suppose you should use <code>map</code> method instead of <code>subscribe</code> which returns <code>Subscription</code> object</p>\n\n<pre><code>export class MovieService {\n  movies: Movie[];\n  movie: Movie;\n\n  constructor(private http: Http) {}\n\n  getMovies(): Observable&lt;Movie[]&gt; {\n    return this.http.get('http://api.request.com')\n      .map((res: Response) =&gt; res.json()['results']);\n  }\n\n  getMovie(id: number): Observable&lt;Movie&gt; {\n    return this.getMovies()\n      .map(movies =&gt; movies.find(movie =&gt; movie.id == id));\n  }\n}\n</code></pre>\n\n<p><strong><a href=\"https://plnkr.co/edit/gxDrjC8pv4VIu49pOeH1?p=preview\" rel=\"noreferrer\">Plunker Example</a></strong></p>\n"}], "owner": {"reputation": 589, "user_id": 6355666, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e631b156b8ea6ae2af82a8022a35d3e4?s=128&d=identicon&r=PG&f=1", "display_name": "GaborH", "link": "https://stackoverflow.com/users/6355666/gaborh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32202, "favorite_count": 2, "accepted_answer_id": 40495672, "answer_count": 1, "score": 21, "last_activity_date": 1478637565, "creation_date": 1478635542, "last_edit_date": 1478637565, "question_id": 40495483, "link": "https://stackoverflow.com/questions/40495483/how-to-find-an-element-of-an-array-by-id-with-observable-in-angular2", "title": "How to find an element of an array by id with Observable in Angular2", "body": "<p>I decided to use Observable instead of Http promises.</p>\n\n<p>That is how my Promise service looked:</p>\n\n<pre><code>export class MovieService {\n\n    movies: Movie[]\n    movie: Movie;\n    constructor(private http:Http) { }\n\n   getMovies(): Promise&lt;Movie[]&gt;{\n\n        return this.http.get('http://api.request.com')\n            .toPromise()\n            .then((res:Response) =&gt; res.json()['results'])\n\n    }\n    getMovie(id: number): Promise&lt;Movie&gt; {\n        return this.getMovies()\n            .then(movies =&gt; movies.find(movie =&gt; movie.id == id));\n\n    }\n\n}\n</code></pre>\n\n<p>First I fetch an array of movies, and than I find a certain movie of the array by id. However when I try to do the same with Observable, I get an error notification on find: Property 'find' does not exist on type 'Movie[]'.</p>\n\n<p>Here is what I tried with the Observable service:</p>\n\n<pre><code>export class MovieService {\n\n    movies: Movie[];\n    movie: Movie;\n\n    constructor(private http: Http) {\n    }\n\n    getMovies(): Observable&lt;Movie[]&gt; {\n\n        return this.http.get('http://api.request.com)\n            .map((res: Response) =&gt; res.json()['results']);\n    }\n\n    getMovie(id: number): Observable&lt;Movie&gt; {\n        return this.getMovies()\n            .subscribe(movies =&gt; movies.find(movie =&gt; movie.id == id));\n    }\n}\n</code></pre>\n\n<p>How can I achieve the same functionality in my Observable service just like in my Promise service?</p>\n"}, {"tags": ["angular", "typescript", "components", "embed"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478647704, "post_id": 40495457, "comment_id": 68240381, "body": "It looks like the server is configured improperly, and non-existing &#39;public/pdf/null.pdf&#39; url returns index page. Obviously, this will cause iframe to contain a copy of the app."}, {"owner": {"reputation": 340, "user_id": 5469163, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-JF2Ncgd2ufw/AAAAAAAAAAI/AAAAAAAAAwI/yK7fWl5bJYQ/photo.jpg?sz=128", "display_name": "CanKer DiAlike", "link": "https://stackoverflow.com/users/5469163/canker-dialike"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478648000, "post_id": 40495457, "comment_id": 68240479, "body": "I have no problems with the server... actually Im getting the data from the object without problems but I cannot use outside the <code>searchDoc()</code> if I call the data from the view using for example <code>&lt;h3&gt;{{doc.file}}&lt;&#47;h3&gt;</code> I see the data without problem but if I try to use it in the <code>&lt;ember&gt;&lt;&#47;ember&gt;</code> label it will send me the <code>null</code> data"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478651334, "post_id": 40495457, "comment_id": 68241284, "body": "The explanation above is the most reasonable explanation why <i>Cannot match any routes. URL Segment: &#39;public/pdf/null.pdf&#39;</i> error may appear. Considering this, it is hard to believe that <code>&#47;public&#47;pdf&#47;null.pdf</code> url returns pdf and not html file. Please, post what <code>&#47;public&#47;pdf&#47;null.pdf</code> reqyest returns if you believe if it&#39;s not the issue."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478651378, "post_id": 40495457, "comment_id": 68241297, "body": "It doesn&#39;t really matter what <code>searchDoc</code> does because it sets <code>this.doc</code> later. At the moment when <code>ngOnInit</code> runs, <code>url</code> and <code>pdfUrl</code> are equal to <code>&#47;public&#47;pdf&#47;null.pdf</code>, iframe requests this src, and the server spoils the things because it returns html file and not 404 for non-existing file."}, {"owner": {"reputation": 340, "user_id": 5469163, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-JF2Ncgd2ufw/AAAAAAAAAAI/AAAAAAAAAwI/yK7fWl5bJYQ/photo.jpg?sz=128", "display_name": "CanKer DiAlike", "link": "https://stackoverflow.com/users/5469163/canker-dialike"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478676300, "post_id": 40495457, "comment_id": 68247006, "body": "hello @estus, I just found my problem and just posted the answer. Thank you for your time, I appreciate. :)"}, {"owner": {"reputation": 822, "user_id": 1775210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VysBT.jpg?s=128&g=1", "display_name": "Tucker", "link": "https://stackoverflow.com/users/1775210/tucker"}, "edited": false, "score": 1, "creation_date": 1483671026, "post_id": 40495457, "comment_id": 70202316, "body": "@CanKerDiAlike can you tell me what the issue is? I have the same problem!"}], "owner": {"reputation": 340, "user_id": 5469163, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh6.googleusercontent.com/-JF2Ncgd2ufw/AAAAAAAAAAI/AAAAAAAAAwI/yK7fWl5bJYQ/photo.jpg?sz=128", "display_name": "CanKer DiAlike", "link": "https://stackoverflow.com/users/5469163/canker-dialike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 943, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1478676251, "creation_date": 1478635439, "last_edit_date": 1478643884, "question_id": 40495457, "link": "https://stackoverflow.com/questions/40495457/angular2-exception-uncaught-in-promise-error-cannot-match-any-routes", "title": "Angular2: EXCEPTION: Uncaught (in promise): Error: Cannot match any routes", "body": "<p>I'm starting developing in Angular 2 and cannot understand what's happening and how to solve my problem. Im getting next error:</p>\n\n<pre><code>error_handler.js:47 EXCEPTION: Uncaught (in promise): Error: Cannot match any routes. URL Segment: 'public/pdf/null.pdf'\nError: Cannot match any routes. URL Segment: 'public/pdf/null.pdf'\n    at ApplyRedirects.noMatchError (http://localhost:4200/main.bundle.js:59583:16)\n    at CatchSubscriber.selector (http://localhost:4200/main.bundle.js:59561:29)\n    at CatchSubscriber.error (http://localhost:4200/main.bundle.js:47079:31)\n    at MapSubscriber.Subscriber._error (http://localhost:4200/main.bundle.js:4544:26)\n    at MapSubscriber.Subscriber.error (http://localhost:4200/main.bundle.js:4518:18)\n    at MapSubscriber.Subscriber._error (http://localhost:4200/main.bundle.js:4544:26)\n    at MapSubscriber.Subscriber.error (http://localhost:4200/main.bundle.js:4518:18)\n    at MapSubscriber.Subscriber._error (http://localhost:4200/main.bundle.js:4544:26)\n    at MapSubscriber.Subscriber.error (http://localhost:4200/main.bundle.js:4518:18)\n    at LastSubscriber.Subscriber._error (http://localhost:4200/main.bundle.js:4544:26)\n</code></pre>\n\n<p>My scenario consist in I have a list of documents, some documents are images and others PDFs, when I click in a PDF document it must show the PDF viewer with the file in their component. Im sending the ID of the document thought the url by the router so Im catching in the component and getting the entire object by http get service. I got the data without problems but when I try to embed in the PDF viewer I get the <code>EXEPTION</code> with a <code>null</code> data.  </p>\n\n<p>This is my PDF component: </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute} from \"@angular/router\";\nimport {DomSanitizer} from '@angular/platform-browser';\n\nimport { Doc } from \"../../../interfaces/docs\";\nimport { DocService } from \"../../../services/documento.service\";\n\n\n@Component({\n  selector: 'app-pdf',\n  templateUrl: './pdf.component.html',\n  styleUrls: ['./pdf.component.css'],\n  providers:  [DocService]\n})\nexport class PdfComponent implements OnInit {\n\npublic id  : any;\npublic doc : Doc;\npublic url : string;\npublic pdfUrl: any;\nconstructor(private route: ActivatedRoute, private _httpService: DocService, private sanitizer: DomSanitizer)  {\n  this.id = route.snapshot.params['id']\n}\nngOnInit()  {\n  this.doc  = {\n    reg: null,\n    key:    null,\n    name:   null,\n    date:    null,\n    file:  null,\n    type:     null\n  };\n\n\n  this._httpService.searchDoc(this.id)\n    .subscribe(\n      data  =&gt;  {this.doc= data, console.log(JSON.stringify(data))},\n      error =&gt;  alert(error + ' Error GET')\n    )\n\n    this.url = '/public/pdf/'+this.doc.file+'.pdf',\n    console.log(\"url \"+ this.url),\n    this.pdfUrl = this.sanitizer.bypassSecurityTrustResourceUrl(this.url);\n\n    console.log(\"url \" +this.url)\n\n}\n\n}\n</code></pre>\n\n<p>this is my HTML from the PDF Component</p>\n\n<pre><code>&lt;section&gt;\n  &lt;embed  class=\"center-block\" [src]=\"pdfUrl\" width=\"80%\" type='application/pdf'&gt;\n  &lt;iframe [src]=\"pdfUrl\" width=\"500\" height=\"600\" type='application/pdf'&gt;&lt;/iframe&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p>Note: I have <code>embed</code> and <code>iframe</code> just to test if it was the label I was trying to test</p>\n\n<p>I'll appreciate any help</p>\n\n<p>Thank you in advance</p>\n\n<p>George</p>\n"}, {"tags": ["typescript", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "edited": false, "score": 0, "creation_date": 1478636222, "post_id": 40495173, "comment_id": 68235432, "body": "I was wondering about that I am using webpack 1.x if I do npm install -g webpack2 will it upgrade?"}, {"owner": {"reputation": 32522, "user_id": 419075, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/90b33a04a2ccc63534d1d9f4aac1fb7a?s=128&d=identicon&r=PG", "display_name": "Amir Raminfar", "link": "https://stackoverflow.com/users/419075/amir-raminfar"}, "reply_to_user": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "edited": false, "score": 1, "creation_date": 1478642791, "post_id": 40495173, "comment_id": 68238616, "body": "You should be able to do <code>npm install webpack@2.1.0-beta.25</code>"}], "tags": [], "owner": {"reputation": 32522, "user_id": 419075, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/90b33a04a2ccc63534d1d9f4aac1fb7a?s=128&d=identicon&r=PG", "display_name": "Amir Raminfar", "link": "https://stackoverflow.com/users/419075/amir-raminfar"}, "is_accepted": true, "score": 2, "last_activity_date": 1478634256, "creation_date": 1478634256, "answer_id": 40495173, "question_id": 40495074, "link": "https://stackoverflow.com/questions/40495074/how-do-i-use-rules-in-webpack/40495173#40495173", "title": "How do I use rules in webpack", "body": "<p><code>rules</code> was added for webpack2 only. It depends what version of webpack you are using. The starter repo <a href=\"https://github.com/AngularClass/angular2-webpack-starter/blob/master/package.json#L127\" rel=\"nofollow noreferrer\">uses</a> webpack2. </p>\n"}], "owner": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 40495173, "answer_count": 1, "score": 1, "last_activity_date": 1478634256, "creation_date": 1478633924, "question_id": 40495074, "link": "https://stackoverflow.com/questions/40495074/how-do-i-use-rules-in-webpack", "title": "How do I use rules in webpack", "body": "<p>In <a href=\"https://github.com/AngularClass/angular2-webpack-starter/blob/master/config/webpack.common.js\" rel=\"nofollow noreferrer\">this Angular starter project</a> we see...</p>\n\n<pre><code>module: {\n  rules: [\n    ...\n  ]\n}\n</code></pre>\n\n<p>so I try to follow suit and change </p>\n\n<pre><code>module: {\n  loaders:[\n    ...\n  ]\n}\n</code></pre>\n\n<p>To the one above, however, now it fails to transpile Typescript using the ts-loader. If I change it back to loaders it works great.</p>\n\n<p><a href=\"https://webpack.js.org/configuration/module/\" rel=\"nofollow noreferrer\">https://webpack.js.org/configuration/module/</a></p>\n"}, {"tags": ["typescript", "webpack", "browser-sync", "webpack-dev-middleware"], "answers": [{"comments": [{"owner": {"reputation": 7141, "user_id": 164142, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MHvXN.png?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/164142/neil"}, "edited": false, "score": 0, "creation_date": 1482245558, "post_id": 40707220, "comment_id": 69689985, "body": "Can you share the actual change from your config file"}, {"owner": {"reputation": 801, "user_id": 587706, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/97e29cd73676a1cae064280179cc2987?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/587706/bob"}, "reply_to_user": {"reputation": 7141, "user_id": 164142, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MHvXN.png?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/164142/neil"}, "edited": false, "score": 1, "creation_date": 1482707328, "post_id": 40707220, "comment_id": 69853959, "body": "@Neil there you go :)"}], "tags": [], "owner": {"reputation": 801, "user_id": 587706, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/97e29cd73676a1cae064280179cc2987?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/587706/bob"}, "is_accepted": true, "score": 4, "last_activity_date": 1482707313, "last_edit_date": 1482707313, "creation_date": 1479663695, "answer_id": 40707220, "question_id": 40495014, "link": "https://stackoverflow.com/questions/40495014/webpack-not-rebuilding-on-change/40707220#40707220", "title": "Webpack Not Rebuilding on Change", "body": "<p>Fixed it by explicitly adding watch section to webpack dev middleware configuration.</p>\n\n<p>As requested here is the config change:</p>\n\n<pre><code>browserSync.init({\n  ...\n  middleware: [\n    webpackDevMiddleware(bundler, {\n      // Explicitly set watch options:\n      watchOptions: {\n        aggregateTimeout: 300,\n        poll: true\n      }\n    })\n  ]\n});\n</code></pre>\n"}], "owner": {"reputation": 801, "user_id": 587706, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/97e29cd73676a1cae064280179cc2987?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/587706/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2189, "favorite_count": 0, "accepted_answer_id": 40707220, "answer_count": 1, "score": 2, "last_activity_date": 1482707313, "creation_date": 1478633684, "last_edit_date": 1478745311, "question_id": 40495014, "link": "https://stackoverflow.com/questions/40495014/webpack-not-rebuilding-on-change", "title": "Webpack Not Rebuilding on Change", "body": "<p>For some reason I can't get webpack to rebuild my files on change. I basically followed the <a href=\"https://github.com/BrowserSync/recipes/tree/master/recipes/webpack.typescript\" rel=\"nofollow noreferrer\">Browsersync - Webpack + TypeScript Recipe</a>.</p>\n\n<p>My <code>webpack.config.js</code>:</p>\n\n<pre><code>let path = require('path');\nlet webpack = require('webpack');\n\nlet config = {\n  debug: true,\n  devtool: 'eval',\n  entry: './app/index.ts',\n  output: {\n    publicPath: '/',\n    path: path.join(__dirname, 'wwwroot'),\n    filename: 'bundle.js'\n  },\n  plugins: [],\n  resolve: {\n    extensions: ['', '.ts', '.js']\n  },\n  module: {\n    loaders: [\n      { test: /\\.ts$/, loader: 'ts', include: path.join(__dirname, 'app') }\n    ]\n  }\n};\nmodule.exports = config;\n</code></pre>\n\n<p>My browser-sync configuration (<code>server.js</code>) which I literally copied from the recipe:</p>\n\n<pre><code>var browserSync          = require('browser-sync').create();\nvar webpack              = require('webpack');\nvar webpackDevMiddleware = require('webpack-dev-middleware');\nvar stripAnsi            = require('strip-ansi');\nvar webpackConfig = require('./webpack.config');\nvar bundler       = webpack(webpackConfig);\n\nbundler.plugin('done', function (stats) {\n    if (stats.hasErrors() || stats.hasWarnings()) {\n        return browserSync.sockets.emit('fullscreen:message', {\n            title: \"Webpack Error:\",\n            body:  stripAnsi(stats.toString()),\n            timeout: 100000\n        });\n    }\n    browserSync.reload();\n});\n\nbrowserSync.init({\n    server: 'wwwroot',\n    open: false,\n    logFileChanges: false,\n    middleware: [\n        webpackDevMiddleware(bundler, {\n            publicPath: webpackConfig.output.publicPath,\n            stats: {colors: true}\n        })\n    ],\n    plugins: ['bs-fullscreen-message'],\n    files: [\n    ]\n});\n</code></pre>\n\n<p>And to start it all i simply use the npm scripts section:</p>\n\n<pre><code>\"scripts\": {\n  \"build\": \"node server\"\n},\n</code></pre>\n\n<p>Whenever I change a typescript file in <code>app/</code> nothing happens.\nWhat am I doing wrong here?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 1, "creation_date": 1478634069, "post_id": 40494968, "comment_id": 68234337, "body": "This seems to work just fine with the current version of Angular 2: <a href=\"http://plnkr.co/edit/CQQtkYC9D5EoH0sAlNCV?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/CQQtkYC9D5EoH0sAlNCV?p=preview</a>"}, {"owner": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "reply_to_user": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 0, "creation_date": 1478634254, "post_id": 40494968, "comment_id": 68234446, "body": "I am using the lastest angular cli project for testing"}, {"owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 2, "creation_date": 1478634634, "post_id": 40494968, "comment_id": 68234644, "body": "You&#39;re using @angular/material, so, per their github issues: <a href=\"https://github.com/angular/material2/issues/1171\" rel=\"nofollow noreferrer\">github.com/angular/material2/issues/1171</a>  It&#39;s not yet supported and they&#39;re in alpha so you can&#39;t expect it to be feature complete."}, {"owner": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "reply_to_user": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 0, "creation_date": 1478634777, "post_id": 40494968, "comment_id": 68234708, "body": "Yes, it was the problem"}, {"owner": {"reputation": 791, "user_id": 4774651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fLLyV.jpg?s=128&g=1", "display_name": "mat3e", "link": "https://stackoverflow.com/users/4774651/mat3e"}, "edited": false, "score": 7, "creation_date": 1479129701, "post_id": 40494968, "comment_id": 68414771, "body": "You can try putting <code>this.myForm.controls[&#39;id&#39;].disable()</code> somewhere in the constructor. I did a library which makes it easier to work with dynamic forms: <a href=\"https://github.com/mat3e/dorf\" rel=\"nofollow noreferrer\">github.com/mat3e/dorf</a>"}, {"owner": {"reputation": 441, "user_id": 6573027, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1749905625289064/picture?type=large", "display_name": "Nambi N Rajan", "link": "https://stackoverflow.com/users/6573027/nambi-n-rajan"}, "edited": false, "score": 0, "creation_date": 1560938686, "post_id": 40494968, "comment_id": 99898336, "body": "Whole point of using reactive form is minimalized code in template and functionalities to component.(including disable switching values validations etc...) If you want to make use of disable, validation in template  way then we all should consider using template driven form approach"}], "answers": [{"tags": [], "owner": {"reputation": 984, "user_id": 5221527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IzTiG.png?s=128&g=1", "display_name": "Taha Zgued", "link": "https://stackoverflow.com/users/5221527/taha-zgued"}, "is_accepted": false, "score": -1, "last_activity_date": 1498652457, "creation_date": 1498652457, "answer_id": 44802261, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/44802261#44802261", "title": "Reactive forms - disabled attribute", "body": "<p>add name attribute to your md-input. if it doesn't solve the problem, please post your template</p>\n"}, {"comments": [{"owner": {"reputation": 1215, "user_id": 8427699, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Cqi1s.jpg?s=128&g=1", "display_name": "Sergey Andreev", "link": "https://stackoverflow.com/users/8427699/sergey-andreev"}, "edited": false, "score": 3, "creation_date": 1510143155, "post_id": 46957035, "comment_id": 81307611, "body": "It works, thanks! But i don&#39;t understand why i should use &quot;attr.disabled&quot; (not only &quot;disabled&quot;) ?"}, {"owner": {"reputation": 4054, "user_id": 522322, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vYK8K.jpg?s=128&g=1", "display_name": "Skorunka Franti\u0161ek", "link": "https://stackoverflow.com/users/522322/skorunka-franti%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1518340992, "post_id": 46957035, "comment_id": 84459072, "body": "This also works for Telerik Kendo for Angular components. Some of them have <code>[disabled]</code> property and when using it I got the same compile warning. I have changed <code>[disabled]</code> to <code>[attr.disabled]</code> and it gets propagated into the component <code>.disabled</code> property."}, {"owner": {"reputation": 4525, "user_id": 3354228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wCPxL.jpg?s=128&g=1", "display_name": "The.Bear", "link": "https://stackoverflow.com/users/3354228/the-bear"}, "edited": false, "score": 7, "creation_date": 1519134378, "post_id": 46957035, "comment_id": 84778180, "body": "Just to note, with [attr.disabled] you can&#39;t use bind it in two way. It only works once. With <code>[disabled]</code> and the warning in console is working. I&#39;m using Angular 4.1.3"}, {"owner": {"reputation": 350, "user_id": 6901545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46758a78c383f768d5dfb9b262158842?s=128&d=identicon&r=PG&f=1", "display_name": "K1ngjulien", "link": "https://stackoverflow.com/users/6901545/k1ngjulien"}, "edited": false, "score": 2, "creation_date": 1531817472, "post_id": 46957035, "comment_id": 89725616, "body": "I think that <code>[attr.disabled]</code> just does not trigger the warning that <code>[disabled]</code> shows"}, {"owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 4, "creation_date": 1538376293, "post_id": 46957035, "comment_id": 92106423, "body": "Can you elaborate on why do you think it&#39;s &quot;superior&quot;?"}, {"owner": {"reputation": 8360, "user_id": 2103767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d0b20ba537ec3d705cf87f48cd190d7?s=128&d=identicon&r=PG&f=1", "display_name": "bhantol", "link": "https://stackoverflow.com/users/2103767/bhantol"}, "edited": false, "score": 2, "creation_date": 1538397438, "post_id": 46957035, "comment_id": 92117212, "body": "Properties of form field are readable from the HTML template. Say one fine day you decide to look what disables a given field the instinct is to walk from HTML template towards the typescript code than the other ways."}, {"owner": {"reputation": 2285, "user_id": 1774291, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d12ab8ca1db6b59199e9074a39724dd3?s=128&d=identicon&r=PG", "display_name": "PeterS", "link": "https://stackoverflow.com/users/1774291/peters"}, "edited": false, "score": 0, "creation_date": 1542037107, "post_id": 46957035, "comment_id": 93414963, "body": "For mat-checkbox this is still not working in v7 of angular. The only way is to set [disabled]=true and accept the console warning. The issue will only be a problem if the checkbox values changes during the state of the page, you will then have to handle this yourself."}, {"owner": {"reputation": 1535, "user_id": 6167785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9af8ee43159a4b0174d7260163623b58?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna Ganeriwal", "link": "https://stackoverflow.com/users/6167785/krishna-ganeriwal"}, "edited": false, "score": 0, "creation_date": 1550832577, "post_id": 46957035, "comment_id": 96425593, "body": "This won&#39;t be updated with every dynamic change in the value used for the disabled attribute. Angular&#39;s change detection doesn&#39;t trigger with every update, will have to be manually done, if this has to work."}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 2, "creation_date": 1559267445, "post_id": 46957035, "comment_id": 99375142, "body": "I don&#39;t think this work-around is valid anymore. It may work on the older Angular versions, but it emits a warning on mine (Angular 7.2.12)."}, {"owner": {"reputation": 6079, "user_id": 6694645, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/RWjiK.jpg?s=128&g=1", "display_name": "Dino", "link": "https://stackoverflow.com/users/6694645/dino"}, "edited": false, "score": 2, "creation_date": 1571146393, "post_id": 46957035, "comment_id": 103137420, "body": "This does not work on newer Angular versions. The <code>disabled</code> will be ignored"}, {"owner": {"reputation": 1006, "user_id": 12273054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAEpZuIoNtL7OuiTZ99mI5XkHXSvHDC7c8xgjLvfw=k-s128", "display_name": "Aymen TAGHLISSIA", "link": "https://stackoverflow.com/users/12273054/aymen-taghlissia"}, "edited": false, "score": 0, "creation_date": 1588683515, "post_id": 46957035, "comment_id": 108987441, "body": "then it will be no more considered as a &quot;reactive  form&quot;"}], "tags": [], "owner": {"reputation": 8360, "user_id": 2103767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d0b20ba537ec3d705cf87f48cd190d7?s=128&d=identicon&r=PG&f=1", "display_name": "bhantol", "link": "https://stackoverflow.com/users/2103767/bhantol"}, "is_accepted": true, "score": 146, "last_activity_date": 1539352104, "last_edit_date": 1539352104, "creation_date": 1509028185, "answer_id": 46957035, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/46957035#46957035", "title": "Reactive forms - disabled attribute", "body": "<p>I have been using <code>[attr.disabled]</code> because I still like this template driven than programmatic enable()/disable() as it is superior IMO.</p>\n\n<p>Change </p>\n\n<pre><code>&lt;md-input formControlName=\"id\" placeholder=\"ID\" [disabled]=\"true\"&gt;&lt;/md-input&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;md-input formControlName=\"id\" placeholder=\"ID\" [attr.disabled]=\"true\"&gt;&lt;/md-input&gt;\n</code></pre>\n\n<p>If you are on newer material change <code>md-input</code> to <code>mat-input</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 547, "user_id": 3492940, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000347934042/picture?type=large", "display_name": "enf0rcer", "link": "https://stackoverflow.com/users/3492940/enf0rcer"}, "edited": false, "score": 3, "creation_date": 1548193196, "post_id": 47487526, "comment_id": 95453573, "body": "While this might be possible, you should not use a template driven solution when working with reactive forms. The problem with mixing those two is that the reactive form state can no longer be trusted."}, {"owner": {"reputation": 942, "user_id": 9764000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyRRv.jpg?s=128&g=1", "display_name": "kumaresan_sd", "link": "https://stackoverflow.com/users/9764000/kumaresan-sd"}, "edited": false, "score": 0, "creation_date": 1550222329, "post_id": 47487526, "comment_id": 96197697, "body": "it uses to disable but if i set this as false also control get disable"}], "tags": [], "owner": {"reputation": 162, "user_id": 5720356, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/9TA0w.jpg?s=128&g=1", "display_name": "Exari  Constantin", "link": "https://stackoverflow.com/users/5720356/exari-constantin"}, "is_accepted": false, "score": 1, "last_activity_date": 1511623373, "creation_date": 1511623373, "answer_id": 47487526, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/47487526#47487526", "title": "Reactive forms - disabled attribute", "body": "<p>Use [attr.disabled] instead [disabled], in my case it works ok</p>\n"}, {"comments": [{"owner": {"reputation": 942, "user_id": 9764000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyRRv.jpg?s=128&g=1", "display_name": "kumaresan_sd", "link": "https://stackoverflow.com/users/9764000/kumaresan-sd"}, "edited": false, "score": 0, "creation_date": 1550222116, "post_id": 50741632, "comment_id": 96197572, "body": "can you please show some js code snippet how to do this"}, {"owner": {"reputation": 942, "user_id": 9764000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyRRv.jpg?s=128&g=1", "display_name": "kumaresan_sd", "link": "https://stackoverflow.com/users/9764000/kumaresan-sd"}, "edited": false, "score": 0, "creation_date": 1550223394, "post_id": 50741632, "comment_id": 96198341, "body": "please provide any stackb samples"}, {"owner": {"reputation": 355, "user_id": 6097430, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a7cbbf4adc82cfd103899f0095250ab3?s=128&d=identicon&r=PG", "display_name": "Janatbek Orozaly", "link": "https://stackoverflow.com/users/6097430/janatbek-orozaly"}, "edited": false, "score": 0, "creation_date": 1580244386, "post_id": 50741632, "comment_id": 106032491, "body": "here is example:  <a href=\"https://netbasal.com/disabling-form-controls-when-working-with-reactive-forms-in-angular-549dd7b42110\" rel=\"nofollow noreferrer\">netbasal.com/&hellip;</a>"}, {"owner": {"reputation": 3381, "user_id": 1173307, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/661da69d4d513e5b58a94d670a136f5f?s=128&d=identicon&r=PG", "display_name": "pantonis", "link": "https://stackoverflow.com/users/1173307/pantonis"}, "edited": false, "score": 0, "creation_date": 1585648098, "post_id": 50741632, "comment_id": 107828037, "body": "That doesn&#39;t work with Angular 8. It gives <code>NgControl (`No provider for NgControl`)</code>"}, {"owner": {"reputation": 595, "user_id": 4614579, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh3.googleusercontent.com/-IHz8hhv7Hzs/AAAAAAAAAAI/AAAAAAAAAJM/ghjh4cYVPi8/photo.jpg?sz=128", "display_name": "Martijn Hiemstra", "link": "https://stackoverflow.com/users/4614579/martijn-hiemstra"}, "edited": false, "score": 2, "creation_date": 1595237703, "post_id": 50741632, "comment_id": 111394496, "body": "I can confirm that this solution doesn&#39;t work anymore as of Angular 8!!"}, {"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1597338782, "post_id": 50741632, "comment_id": 112107510, "body": "To make this work you&#39;ll have to import the <code>ReactiveFormsModule</code> in your <code>@NgModule</code> which is used for view. As FormControl is exposed as a part of <code>ReactiveFormsModule</code> and NOT the <code>FormsModule</code>."}, {"owner": {"reputation": 423, "user_id": 8903052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QGIHy.png?s=128&g=1", "display_name": "veroneseComS", "link": "https://stackoverflow.com/users/8903052/veronesecoms"}, "edited": false, "score": 0, "creation_date": 1607019370, "post_id": 50741632, "comment_id": 115147869, "body": "this should be the accepted answer. This is working in angular 8+, don&#39;t forget to import the directive in your module :)"}], "tags": [], "owner": {"reputation": 3499, "user_id": 1841289, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/pQRLs.jpg?s=128&g=1", "display_name": "Kaloyan Stamatov", "link": "https://stackoverflow.com/users/1841289/kaloyan-stamatov"}, "is_accepted": false, "score": 20, "last_activity_date": 1528377845, "last_edit_date": 1528377845, "creation_date": 1528375698, "answer_id": 50741632, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/50741632#50741632", "title": "Reactive forms - disabled attribute", "body": "<p>You can enable/disable a form control by using the following methods:</p>\n\n<p>control.disable() or control.enable()</p>\n\n<p>If that did not work for you can use a directive</p>\n\n<pre><code>import { NgControl } from '@angular/forms';\n\n@Directive({\n  selector: '[disableControl]'\n})\nexport class DisableControlDirective {\n\n  @Input() set disableControl( condition : boolean ) {\n    const action = condition ? 'disable' : 'enable';\n    this.ngControl.control[action]();\n  }\n\n  constructor( private ngControl : NgControl ) {\n  }\n\n}\n</code></pre>\n\n<p>Then you could use it like this</p>\n\n<pre><code>&lt;input [formControl]=\"formControl\" [disableControl]=\"disable\"&gt;\n&lt;button (click)=\"disable = true\"&gt;Disable&lt;/button&gt;\n&lt;button (click)=\"disable = false\"&gt;Enable&lt;/button&gt;\n</code></pre>\n\n<p>This technique is described here:</p>\n\n<p><a href=\"https://netbasal.com/disabling-form-controls-when-working-with-reactive-forms-in-angular-549dd7b42110\" rel=\"noreferrer\">https://netbasal.com/disabling-form-controls-when-working-with-reactive-forms-in-angular-549dd7b42110</a></p>\n\n<p>Hope it helps</p>\n"}, {"comments": [{"owner": {"reputation": 942, "user_id": 9764000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyRRv.jpg?s=128&g=1", "display_name": "kumaresan_sd", "link": "https://stackoverflow.com/users/9764000/kumaresan-sd"}, "edited": false, "score": 0, "creation_date": 1550222273, "post_id": 53627002, "comment_id": 96197668, "body": "Not working . sample link - <a href=\"https://stackblitz.com/edit/angular-zdpavf?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-zdpavf?file=src/app/&hellip;</a>"}, {"owner": {"reputation": 441, "user_id": 6573027, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1749905625289064/picture?type=large", "display_name": "Nambi N Rajan", "link": "https://stackoverflow.com/users/6573027/nambi-n-rajan"}, "edited": false, "score": 0, "creation_date": 1558612128, "post_id": 53627002, "comment_id": 99163571, "body": "This answer will not work in reavtive form.this is related to template driven form"}], "tags": [], "owner": {"reputation": 971, "user_id": 8123203, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FIqYynRY-E0/AAAAAAAAAAI/AAAAAAAAAiY/sQlEWaTs7Qc/photo.jpg?sz=128", "display_name": "Sagar Jadhav", "link": "https://stackoverflow.com/users/8123203/sagar-jadhav"}, "is_accepted": false, "score": 1, "last_activity_date": 1543994443, "last_edit_date": 1543994443, "creation_date": 1543993953, "answer_id": 53627002, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/53627002#53627002", "title": "Reactive forms - disabled attribute", "body": "<p>add disable=\"true\" to html field \nExample :disable</p>\n\n<pre><code>&lt;amexio-text-input formControlName=\"LastName\" disable=\"true\" [(ngModel)]=\"emplpoyeeRegistration.lastName\" [field-label]=\"'Last Name'\" [place-holder]=\"'Please enter last name'\" [allow-blank]=\"true\" [error-msg]=\"'errorMsg'\" [enable-popover]=\"true\" [min-length]=\"2\"\n[min-error-msg]=\"'Minimum 2 char allowed'\" [max-error-msg]=\"'Maximum 20 char allowed'\" name=\"xyz\" [max-length]=\"20\"&gt;\n[icon-feedback]=\"true\"&gt;\n&lt;/amexio-text-input&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 605, "user_id": 1833375, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-fDVU1oE52OQ/AAAAAAAAAAI/AAAAAAAAAB0/vttX9bxzSiM/photo.jpg?sz=128", "display_name": "John White", "link": "https://stackoverflow.com/users/1833375/john-white"}, "edited": false, "score": 1, "creation_date": 1597033849, "post_id": 53925718, "comment_id": 111991849, "body": "I suggest you post the code here as well, or at least a snippet. I found this solution useful, so subscribing to the value change and triggering enable/disable seems a good option."}], "tags": [], "owner": {"reputation": 1199, "user_id": 2039845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zrjHv.jpg?s=128&g=1", "display_name": "Kedar9444", "link": "https://stackoverflow.com/users/2039845/kedar9444"}, "is_accepted": false, "score": 1, "last_activity_date": 1545773106, "creation_date": 1545773106, "answer_id": 53925718, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/53925718#53925718", "title": "Reactive forms - disabled attribute", "body": "<p>The beauty of reactive forms is you can catch values changes event of any input element very easily and at the same time you can change their values/ status. So here is the another way to tackle your problem by using <code>enable</code> <code>disable</code>.</p>\n\n<p>Here is the complete solution on <a href=\"https://stackblitz.com/edit/so-53925391?embed=1&amp;file=app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2061, "user_id": 6692092, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1rbzDRLhrk0/AAAAAAAAAAI/AAAAAAAACiA/ta8as2voMb0/photo.jpg?sz=128", "display_name": "Ignacio Ara", "link": "https://stackoverflow.com/users/6692092/ignacio-ara"}, "is_accepted": false, "score": 4, "last_activity_date": 1547541886, "creation_date": 1547541886, "answer_id": 54195344, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/54195344#54195344", "title": "Reactive forms - disabled attribute", "body": "<p>Initialization (component) using:</p>\n\n<pre><code>public selector = new FormControl({value: '', disabled: true});\n</code></pre>\n\n<p>Then instead of using (template): </p>\n\n<pre><code>&lt;ngx-select\n[multiple]=\"true\"\n[disabled]=\"errorSelector\"\n[(ngModel)]=\"ngxval_selector\"\n[items]=\"items\"\n&lt;/ngx-select&gt;\n</code></pre>\n\n<p>Just remove the attribute disabled:</p>\n\n<pre><code>&lt;ngx-select\n[multiple]=\"true\"\n[(ngModel)]=\"ngxval_selector\"\n[items]=\"items\"\n&lt;/ngx-select&gt;\n</code></pre>\n\n<p>And when you have items to show, launch (in component): <code>this.selector.enable();</code></p>\n"}, {"tags": [], "owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "is_accepted": false, "score": 16, "last_activity_date": 1547572213, "creation_date": 1547572213, "answer_id": 54203723, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/54203723#54203723", "title": "Reactive forms - disabled attribute", "body": "<p>I found that I needed to have a default value, even if it was an empty string for it to work. So this:</p>\n\n<pre><code>this.registerForm('someName', {\n  firstName: new FormControl({disabled: true}),\n});\n</code></pre>\n\n<p>...had to become this:</p>\n\n<pre><code>this.registerForm('someName', {\n  firstName: new FormControl({value: '', disabled: true}),\n});\n</code></pre>\n\n<p>See my question (which I don't believe is a duplicate): <a href=\"https://stackoverflow.com/questions/49200258/passing-disabled-in-form-state-object-to-formcontrol-constructor-doesnt-work\">Passing &#39;disabled&#39; in form state object to FormControl constructor doesn&#39;t work</a></p>\n"}, {"tags": [], "owner": {"reputation": 14, "user_id": 3345544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94e5dd2c17bc70d5573b0471bd35e811?s=128&d=identicon&r=PG&f=1", "display_name": "user3345544", "link": "https://stackoverflow.com/users/3345544/user3345544"}, "is_accepted": false, "score": -4, "last_activity_date": 1550132187, "last_edit_date": 1550132187, "creation_date": 1550131969, "answer_id": 54685788, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/54685788#54685788", "title": "Reactive forms - disabled attribute", "body": "<p>Ultimate way to do this.</p>\n\n<pre><code>ngOnInit() {\n  this.interPretationForm.controls.InterpretationType.valueChanges.takeWhile(()=&gt; this.alive).subscribe(val =&gt;{\n    console.log(val); // You check code. it will be executed every time value change.\n  })\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 11404529, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--ELNb5oZ-B8/AAAAAAAAAAI/AAAAAAAACcs/5ybpMASKaRM/photo.jpg?sz=128", "display_name": "Somesh T", "link": "https://stackoverflow.com/users/11404529/somesh-t"}, "is_accepted": false, "score": 1, "last_activity_date": 1568288509, "creation_date": 1568288509, "answer_id": 57905964, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/57905964#57905964", "title": "Reactive forms - disabled attribute", "body": "<p>disabling of mat form fields is exempted if you are using form validation,so do make sure that your form field does not have any validations like(validators.required),this worked for me.\nfor ex:</p>\n\n<p>editUserPhone: new FormControl({value:'  ',disabled:true})</p>\n\n<p>this makes the phone numbers of user to be non editable.</p>\n"}, {"comments": [{"owner": {"reputation": 4919, "user_id": 3399890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/171944b3f88fd2fa4bc824b4b298de4e?s=128&d=identicon&r=PG&f=1", "display_name": "robsiemb", "link": "https://stackoverflow.com/users/3399890/robsiemb"}, "edited": false, "score": 1, "creation_date": 1570549654, "post_id": 58289503, "comment_id": 102944120, "body": "Hi Frank, welcome to StackOverflow, and thanks for your answer!  While it is certainly great to provide a working soluition in code, it can help others now and in the future understand your answer better if you add a bit of explanation beyond the code."}, {"owner": {"reputation": 53, "user_id": 3432444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qa9yY.jpg?s=128&g=1", "display_name": "Hyde", "link": "https://stackoverflow.com/users/3432444/hyde"}, "edited": false, "score": 0, "creation_date": 1606275021, "post_id": 58289503, "comment_id": 114912798, "body": "My solution lik yours, but &quot;input&quot; element not need &#39;disabled&#39;.It just like <code>this.myForm = this._formBuilder.group({     socDate: [[{ value: &#39;&#39;, disabled: true }], Validators.required],     ... )}</code> and it work well."}], "tags": [], "owner": {"reputation": 71, "user_id": 3724184, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GmNmU.jpg?s=128&g=1", "display_name": "Frank Corona", "link": "https://stackoverflow.com/users/3724184/frank-corona"}, "is_accepted": false, "score": 3, "last_activity_date": 1570548456, "creation_date": 1570548456, "answer_id": 58289503, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/58289503#58289503", "title": "Reactive forms - disabled attribute", "body": "<p>This was my solution:</p>\n\n<pre><code>this.myForm = this._formBuilder.group({\n    socDate: [[{ value: '', disabled: true }], Validators.required],\n    ...\n)}\n\n&lt;input fxFlex [matDatepicker]=\"picker\" placeholder=\"Select Date\" formControlName=\"socDate\" [attr.disabled]=\"true\" /&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 805, "user_id": 2766545, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/YlUKI.png?s=128&g=1", "display_name": "Janaka Bandara", "link": "https://stackoverflow.com/users/2766545/janaka-bandara"}, "edited": false, "score": 0, "creation_date": 1614145230, "post_id": 58831653, "comment_id": 117292693, "body": "It&#39;s disappointing to have to write code for this (which you could just do with one expression in template-driven) - but looks that&#39;s mostly what reactive forms is about.."}, {"owner": {"reputation": 299, "user_id": 6602638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JaJlL.jpg?s=128&g=1", "display_name": "jet_choong", "link": "https://stackoverflow.com/users/6602638/jet-choong"}, "edited": false, "score": 0, "creation_date": 1616056474, "post_id": 58831653, "comment_id": 117884799, "body": "This is my final way to go as <code>[attr.disabled]</code> does not work for me too"}], "tags": [], "owner": {"reputation": 6188, "user_id": 3719167, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/iL5FE.jpg?s=128&g=1", "display_name": "Anuj TBE", "link": "https://stackoverflow.com/users/3719167/anuj-tbe"}, "is_accepted": false, "score": 28, "last_activity_date": 1596174663, "last_edit_date": 1596174663, "creation_date": 1573627538, "answer_id": 58831653, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/58831653#58831653", "title": "Reactive forms - disabled attribute", "body": "<p>In my case with <strong>Angular 8</strong>. I wanted to toggle enable/disable of the input depending on the condition.</p>\n<p><code>[attr.disabled]</code> didn't work for me so here is my solution.</p>\n<p>I removed <code>[attr.disabled]</code> from HTML and in the component function performed this check:</p>\n<pre><code>if (condition) {\n    this.form.controls.myField.disable();\n} else {\n    this.form.controls.myField.enable();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 4401950, "user_type": "registered", "profile_image": "https://graph.facebook.com/1677682940/picture?type=large", "display_name": "Tilak Bhandari", "link": "https://stackoverflow.com/users/4401950/tilak-bhandari"}, "is_accepted": false, "score": 3, "last_activity_date": 1576152275, "creation_date": 1576152275, "answer_id": 59304173, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/59304173#59304173", "title": "Reactive forms - disabled attribute", "body": "<p><strong>Only who are using reactive forms :</strong> \nFor native HTML elements [attr.disabled] will work but for  material elements we need to dynamically disable the element.</p>\n\n<pre><code>this.form.get('controlname').disable();\n</code></pre>\n\n<p>Otherwise it will show in console warning message.</p>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 4350289, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Q9029fjBR9M/AAAAAAAAAAI/AAAAAAAAAGA/lOBB5EAoXW4/photo.jpg?sz=128", "display_name": "Recep Duman", "link": "https://stackoverflow.com/users/4350289/recep-duman"}, "is_accepted": false, "score": 3, "last_activity_date": 1581499201, "creation_date": 1581499201, "answer_id": 60184881, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/60184881#60184881", "title": "Reactive forms - disabled attribute", "body": "<p>I tried these in angular 7. It worked successfully.</p>\n\n<pre><code>this.form.controls['fromField'].reset();\nif(condition){\n      this.form.controls['fromField'].enable();\n}\nelse{\n      this.form.controls['fromField'].disable();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 241, "user_id": 12661499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ei8w7.jpg?s=128&g=1", "display_name": "Yaser", "link": "https://stackoverflow.com/users/12661499/yaser"}, "is_accepted": false, "score": 7, "last_activity_date": 1585840948, "creation_date": 1585840948, "answer_id": 60995079, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/60995079#60995079", "title": "Reactive forms - disabled attribute", "body": "<pre><code>this.form.disable()\nthis.form.enable()\n</code></pre>\n\n<p>For one formcontrol makes disable</p>\n\n<pre><code>this.form.get('first').disable()\nthis.form.get('first').enable()\n</code></pre>\n\n<p>Or initial set method.</p>\n\n<pre><code>first: new FormControl({disabled: true}, Validators.required)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 366, "user_id": 11812564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvuxX.jpg?s=128&g=1", "display_name": "Saad Abbasi", "link": "https://stackoverflow.com/users/11812564/saad-abbasi"}, "is_accepted": false, "score": 2, "last_activity_date": 1596899933, "creation_date": 1596899933, "answer_id": 63317020, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/63317020#63317020", "title": "Reactive forms - disabled attribute", "body": "<p>in <strong>Angular-9</strong> if you want to disable/enable on button click here is a simple solution if you are using reactive forms.</p>\n<p>define a function in component.ts file</p>\n<pre><code>//enable example you can use the same approach for disable with .disable()\n\ntoggleEnable() {\n  this.yourFormName.controls.formFieldName.enable();\n  console.log(&quot;Clicked&quot;)\n} \n</code></pre>\n<p>Call it from your component.html</p>\n<p><em>e.g</em></p>\n<pre><code>&lt;button type=&quot;button&quot; data-toggle=&quot;form-control&quot; class=&quot;bg-primary text-white btn- \n                reset&quot; style=&quot;width:100%&quot;(click)=&quot;toggleEnable()&quot;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 14054345, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gieb2kKYvqWpqiahVcq5NqpkQxscVADLOTjw6z8Eg=k-s128", "display_name": "Aleksandr Zelenskiy", "link": "https://stackoverflow.com/users/14054345/aleksandr-zelenskiy"}, "is_accepted": false, "score": 4, "last_activity_date": 1597075574, "last_edit_date": 1597075574, "creation_date": 1597071471, "answer_id": 63342711, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute/63342711#63342711", "title": "Reactive forms - disabled attribute", "body": "<p>When you create new Form control, use next:</p>\n<pre><code>variable: FormControl = new FormControl({value: '', disabled: true});\n</code></pre>\n<p>If you want change activity, use next:</p>\n<pre><code>this.variable.enable() \n</code></pre>\n<p>or</p>\n<pre><code>this.variable.disable()\n</code></pre>\n"}], "owner": {"reputation": 6408, "user_id": 1596786, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b214ed5d19621e478b64851098f7dc80?s=128&d=identicon&r=PG", "display_name": "FacundoGFlores", "link": "https://stackoverflow.com/users/1596786/facundogflores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146982, "favorite_count": 15, "accepted_answer_id": 46957035, "answer_count": 17, "score": 124, "last_activity_date": 1597075574, "creation_date": 1478633459, "last_edit_date": 1535493136, "question_id": 40494968, "link": "https://stackoverflow.com/questions/40494968/reactive-forms-disabled-attribute", "title": "Reactive forms - disabled attribute", "body": "<p>I am trying to use the <code>disabled</code> attribute from a <code>formControl</code>. When I put it in the template, it works:</p>\n\n<pre><code>&lt;md-input formControlName=\"id\" placeholder=\"ID\" [disabled]=\"true\"&gt;&lt;/md-input&gt;\n</code></pre>\n\n<p>But the browser alerts me:</p>\n\n<blockquote>\n  <p>It looks like you're using the disabled attribute with a reactive form\n  directive. If you set disabled to true\n        when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n        you. We recommend using this approach to avoid 'changed after checked' errors.</p>\n\n<pre><code>  Example: \n  form = new FormGroup({\n    first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n    last: new FormControl('Drew', Validators.required)\n  });\n</code></pre>\n</blockquote>\n\n<p>So I put it in the <code>FormControl</code>, and deleted from the template:</p>\n\n<pre><code>constructor(private itemsService: ItemsService) {\n    this._items = [];\n    this.myForm = new FormGroup({\n        id: new FormControl({value: '', disabled: true}, Validators.required),\n        title: new FormControl(),\n        description: new FormControl()\n    });\n    this.id = this.myForm.controls['id'];\n    this.title = this.myForm.controls['title'];\n    this.description = this.myForm.controls['description'];\n    this.id.patchValue(this._items.length);\n}\n</code></pre>\n\n<p>But it does not work (it is not disabling the <code>input</code>). What is the problem?</p>\n"}, {"tags": ["angular", "typescript", "error-handling", "integration-testing"], "owner": {"reputation": 1871, "user_id": 515578, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/214a40754aef5913bb5d52cc690a54e1?s=128&d=identicon&r=PG", "display_name": "Zak Henry", "link": "https://stackoverflow.com/users/515578/zak-henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1049, "favorite_count": 4, "answer_count": 0, "score": 4, "last_activity_date": 1484586721, "creation_date": 1478633005, "last_edit_date": 1484586721, "question_id": 40494865, "link": "https://stackoverflow.com/questions/40494865/how-can-i-view-test-an-angular-2-errorhandler-override-class", "title": "How can I view test an Angular 2 ErrorHandler override class", "body": "<p>I have successfully overridden the <code>@angular/core</code> <code>ErrorHandler</code>, however I am trying to create a view test to assert it's behaviour and I'm getting uncaught exceptions. The overriding handler appears not to be running despite working at runtime and setting it in the TestBed providers.</p>\n\n<p>ng2-error-handler.ts:</p>\n\n<pre><code>import { ErrorHandler } from '@angular/core';\nimport { logger } from './logger';\n\nexport class Ng2ErrorHandler extends ErrorHandler {\n\n  constructor(){\n    super(false); // don't rethrow error\n  }\n\n  /* tslint:disable:no-any */\n  public handleError(error: any) {\n    super.handleError(error);\n    logger.handleLoggedError(error, error.message);\n  }\n  /* tslint:enable:no-any */\n\n}\n\nexport const NG2_ERROR_HANDLER_PROVIDER = {\n  provide: ErrorHandler,\n  useClass: Ng2ErrorHandler,\n};\n</code></pre>\n\n<p>ng2-error-handler.view.spec.ts:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NG2_ERROR_HANDLER_PROVIDER } from './ng2-error-handler';\nimport { TestBed, ComponentFixture } from '@angular/core/testing';\nimport { logger, Level } from './logger';\n\nconst ERROR_MESSAGE = 'Dummy Error';\n\n@Component({\n  moduleId: module.id,\n  selector: 'dummy-component',\n  template: `&lt;button (click)=\"throwError()\"&gt;Throw an error&lt;/button&gt;`\n})\nexport class MockComponent {\n\n  public throwError(): never {\n    throw Error(ERROR_MESSAGE);\n  }\n\n}\n\nexport function main(): void {\n  fdescribe('Global Error Handler', () =&gt; {\n\n    let fixture: ComponentFixture&lt;MockComponent&gt;;\n\n    beforeEach(() =&gt; {\n      TestBed.configureTestingModule({\n        declarations: [MockComponent],\n        providers: [NG2_ERROR_HANDLER_PROVIDER],\n      });\n\n      fixture = TestBed.createComponent(MockComponent);\n    });\n\n    describe('Error Handler logging', () =&gt; {\n\n      let loggerSpy: jasmine.Spy;\n      let consoleSpy: jasmine.Spy;\n      let errorObservableSpy: jasmine.Spy;\n\n      beforeEach(() =&gt; {\n\n        loggerSpy  = spyOn(logger, 'handleLoggedError').and.callThrough();\n        consoleSpy = spyOn(console, 'error');\n\n        errorObservableSpy = jasmine.createSpy('log event observable subscription');\n        logger.getLogEventObserver().subscribe(errorObservableSpy);\n\n        // trigger the error\n        fixture.nativeElement.querySelector('button').click();\n      });\n\n      it('should log error to the logger util', () =&gt; {\n        expect(loggerSpy).toHaveBeenCalledWith(jasmine.any(Error), ERROR_MESSAGE, Level.ERROR);\n      });\n\n      it('should log error to console', () =&gt; {\n        expect(consoleSpy).toHaveBeenCalled();\n      });\n\n      it('should have ticked the error stream which will pop error to user', () =&gt; {\n        expect(errorObservableSpy).toHaveBeenCalled();\n      });\n\n    });\n\n  });\n}\n</code></pre>\n\n<p>All tests fail with</p>\n\n<pre><code>Uncaught Error: Error in dist/dev/app/shared/util/ng2-error-handler.spec.js class MockComponent - inline template:0:8 caused by: Dummy Error\n  at node_modules/zone.js/dist/zone.js:129\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "es6-modules"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478633141, "post_id": 40494648, "comment_id": 68233849, "body": "What purpose should this check serve? <code>__esModule</code> is the way how ES6 import can be detected."}, {"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 1, "creation_date": 1478634477, "post_id": 40494648, "comment_id": 68234564, "body": "What do you want if a module does <code>import * as Foo from &#39;.&#47;Foo&#39;; export {Foo};</code>? Then if you <code>import {Foo} from &#39;.&#47;index&#39;;</code>, the <code>Foo</code> object would be a starred import, but not from the current file. Knowing more about the usecase you&#39;re actually trying to solve would likely help."}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "reply_to_user": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1478636196, "post_id": 40494648, "comment_id": 68235418, "body": "@loganfsmyth, that would be fine. That&#39;s actually what I expected and looking for."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478638757, "post_id": 40494648, "comment_id": 68236799, "body": "Considering the context of the question, I don&#39;t see a reason why it should be forced to ES6 modules. The problem is there are no native ES6 modules (which are special in some way). Transpiled modules are plain objects. If you want to assert an argument for <code>configure</code>, it can be done by type checking, instance checking or duck-typing (<code>*</code> import isn&#39;t the best choice for the first two)."}, {"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478641395, "post_id": 40494648, "comment_id": 68237966, "body": "I&#39;ll second @estus&#39; point, I think personally I&#39;d be really annoyed to have to use an API like this."}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1478648790, "post_id": 40494648, "comment_id": 68240690, "body": "Thanks for the input. This is a stop gap I implement in TypeScript before function decorator is available. The normal use case is for class, and there is a decorator to indicate so: <code>@configurator() class Foo { configure() {...} }</code>. This is just adding support for <code>aurelia</code> style usage. I might drop it due to the extra complexity."}], "answers": [{"comments": [{"owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 2, "creation_date": 1478641502, "post_id": 40496881, "comment_id": 68238012, "body": "Alternatively in ES6 <code>Object.prototype.toString.call(obj) === &quot;[object Module]&quot;</code> if you don&#39;t mind <code>toStringTag</code> being overridable on misc objects."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1478647471, "post_id": 40496881, "comment_id": 68240322, "body": "@loganfsmyth Oh, right, how could I miss <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-module-namespace-objects\" rel=\"nofollow noreferrer\">that</a>! I wonder whether <code>o[Symbol.iterator]</code> has the same identity on all module namespace objects\u2026"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "reply_to_user": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "edited": false, "score": 0, "creation_date": 1478648925, "post_id": 40496881, "comment_id": 68240732, "body": "Thanks. Like @loganfsmyth answer also. I&#39;ll be keeping it simple and see how it turns out. Thanks."}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 0, "last_activity_date": 1478647362, "last_edit_date": 1478647362, "creation_date": 1478641158, "answer_id": 40496881, "question_id": 40494648, "link": "https://stackoverflow.com/questions/40494648/detecting-import-as-name-token/40496881#40496881", "title": "Detecting `import * as name` token", "body": "<p>There is nothing that really distinguishes <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-module-namespace-exotic-objects\" rel=\"nofollow noreferrer\">module namespace objects</a> from others, anyone could create an object like that. You can test for</p>\n\n<pre><code>function isModuleNamespaceLike(o) {\n    return o === Object(o)\n    &amp;&amp; o[Symbol.toStringTag] === \"Module\"\n    &amp;&amp; Object.getPrototypeOf(o) === null\n    &amp;&amp; !Object.isExtensible(o)\n    &amp;&amp; Object.getOwnPropertyNames(o).every(function(p) {\n        var d = Object.getOwnPropertyDescriptor(o, p);\n        return d.enumerable &amp;&amp; !d.configurable;\n    });\n}\n</code></pre>\n\n<p>or try to look for <code>__esModule</code>, but that depends on your transpiler.</p>\n"}], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 40496881, "answer_count": 1, "score": 0, "last_activity_date": 1478647362, "creation_date": 1478632154, "last_edit_date": 1478636156, "question_id": 40494648, "link": "https://stackoverflow.com/questions/40494648/detecting-import-as-name-token", "title": "Detecting `import * as name` token", "body": "<p>I'm writing some code that I want to apply only to the token from <code>import * as name from 'module-name'</code> syntax.</p>\n\n<p>Is there a way to do that? I recall there is a <code>__ESModule</code> flag or something similar but that is not in the official spec, so I'm not sure if that is the right approach (and I can't find the exact article talking about it, a reference would be of great help).</p>\n\n<p>i.e. this is what I want (using TypeScript in the example):</p>\n\n<pre><code>import * as someModule from 'module-name'\nimport someDefault from 'module-name'\nimport { someNamed } from 'module-name'\nimport otherImport = require('cjs-module')\n\nlet somethingElse = {} // anything\ncheckIsStarModule(someModule) // true\ncheckIsStarModule(someDefault) // false\ncheckIsStarModule(someNamed) // false\ncheckIsStarModule(otherImport) // false\ncheckIsStarModule(somethingElse) // false\n</code></pre>\n\n<p>And what's the proper name to describe <code>import * as name ...</code> syntax? :)</p>\n\n<p>EDIT: adding some context to the question.</p>\n\n<p>I'm doing something similar to <code>aurelia</code>'s <code>FrameworkConfiguration</code>.</p>\n\n<p>And I want to apply it only to <code>someModule</code> as described above. This is because I don't want to accidentally execute <code>configure()</code> method on something that is not a module.</p>\n\n<p>My API is <code>get(key: Newable&lt;T&gt; | T): Promise&lt;T&gt;</code> and I do allow consumers to throw in anything as <code>key</code> (<code>Newable&lt;T&gt;</code> is simply any class).</p>\n\n<p>Thanks @estus on <code>__esModule</code>, and I realize that it is only for interop thus not useful in this context.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "error-handling"], "answers": [{"tags": [], "owner": {"reputation": 2395, "user_id": 5306333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206236442642876/picture?type=large", "display_name": "John Baird", "link": "https://stackoverflow.com/users/5306333/john-baird"}, "is_accepted": true, "score": 1, "last_activity_date": 1478637238, "creation_date": 1478637238, "answer_id": 40495911, "question_id": 40494411, "link": "https://stackoverflow.com/questions/40494411/how-do-i-display-errors-in-an-component-view-with-angular-2/40495911#40495911", "title": "How do I display errors in an component view with Angular 2?", "body": "<p>Cory Rylan has a great implementation of this in his blog post:\n<a href=\"https://coryrylan.com/blog/angular-2-form-builder-and-validation-management\" rel=\"nofollow noreferrer\">https://coryrylan.com/blog/angular-2-form-builder-and-validation-management</a></p>\n\n<p>I am using his method in my app:</p>\n\n<p>Here is the error component:</p>\n\n<pre><code>import { Component, Input } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ValidationService } from '../services/validation.service';\n\n@Component({\n  selector: 'kg-errorMessages',\n  template: `&lt;div *ngIf=\"errorMessage !== null\"&gt;{{errorMessage}}&lt;/div&gt;`\n})\nexport class ErrorMessagesComponent {\n  @Input() control: FormControl;\n  @Input() name: string;\n\n  constructor() { }\n\n  get errorMessage() {\n    for (let propertyName in this.control.errors) {\n      if (this.control.errors.hasOwnProperty(propertyName) &amp;&amp; this.control.touched) {\n        return ValidationService.getValidatorErrorMessage(propertyName, this.control.errors[propertyName]);\n      }\n    }\n\n    return null;\n  }\n}\n</code></pre>\n\n<p>Here is the validation service:</p>\n\n<pre><code>//Original version created by Cory Rylan: https://coryrylan.com/blog/angular-2-form-builder-and-validation-management\nimport { IsValidDate } from '../helpers/date.helper'\n\n\nexport class ValidationService {\n    static getValidatorErrorMessage(validatorName: string, validatorValue?: any) {\n        let config = {\n            'required': 'Required',\n            'invalidNumberField': 'Only numbers allowed',\n            'invalidDateField': 'Not a valid date',\n            'invalidCreditCard': 'Is invalid credit card number',\n            'invalidEmailAddress': 'Invalid email address',\n            'invalidPassword': 'Invalid password. Password must be at least 6 characters long, and contain a number.',\n            'invalidPasswords': 'Invalid passwords. Passwords must match.',\n            'minlength': `Minimum length ${validatorValue.requiredLength}`\n        };\n\n        // console.log(\" config = \" + JSON.stringify(config));\n        // console.log(\" validator name: \" + validatorName);\n        // console.log(\" config = req \" + JSON.stringify(config[\"required\"]));\n        // console.log(\" config = nan \" + JSON.stringify(config[\"invalidNumberField\"]));\n        return config[validatorName];\n    }\n\n    static numberFieldValidator(control) {\n        // if (control.value.match(/^([0-9]|[0-9][0-9]|[1-9][0-9][0-9])$/)) {\n        //     return null;\n        // } else {\n        //     return { 'invalidNumberField': true };\n        // }\n\n        return null;\n    }\n\n    static dateFieldValidator(control) {\n        var e: boolean;\n\n        if (IsValidDate(control.value)) {\n            return null;\n        } else {\n            return { 'invalidDateField': true };\n        }\n    }\n\n    static creditCardValidator(control) {\n        // Visa, MasterCard, American Express, Diners Club, Discover, JCB\n        if (control.value.match(/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/)) {\n            return null;\n        } else {\n            return { 'invalidCreditCard': true };\n        }\n    }\n\n    static emailValidator(control) {\n        // RFC 2822 compliant regex\n        if (control.value.match(/[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)) {\n            return null;\n        } else {\n            return { 'invalidEmailAddress': true };\n        }\n    }\n\n    static passwordValidator(control) {\n        // {6,100}           - Assert password is between 6 and 100 characters\n        // (?=.*[0-9])       - Assert a string has at least one number\n        if (control.value.match(/^(?=.*[0-9])[a-zA-Z0-9!@#$%^&amp;*]{6,100}$/)) {\n            return null;\n        } else {\n            return { 'invalidPassword': true };\n        }\n    }\n\n    static passwordCompareValidator(fg) {\n        if (fg.value.password === fg.value.confirmPassword) {\n            return null;\n        } else {\n            return { 'invalidPasswords': true };\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 3103926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eaa372c169c05cc244d19e2c8794a0f?s=128&d=identicon&r=PG&f=1", "display_name": "sqlsolver", "link": "https://stackoverflow.com/users/3103926/sqlsolver"}, "is_accepted": false, "score": 0, "last_activity_date": 1479153649, "creation_date": 1479153649, "answer_id": 40596866, "question_id": 40494411, "link": "https://stackoverflow.com/questions/40494411/how-do-i-display-errors-in-an-component-view-with-angular-2/40596866#40596866", "title": "How do I display errors in an component view with Angular 2?", "body": "<p>This <a href=\"https://github.com/angular/angular/issues/11722\" rel=\"nofollow noreferrer\">issue</a> may also be of interest.</p>\n"}], "owner": {"reputation": 150, "user_id": 7111126, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S0PlNtHdTk8/AAAAAAAAAAI/AAAAAAAALGE/UnBPqEM_iZc/photo.jpg?sz=128", "display_name": "PaNic175", "link": "https://stackoverflow.com/users/7111126/panic175"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5603, "favorite_count": 3, "accepted_answer_id": 40495911, "answer_count": 2, "score": 2, "last_activity_date": 1479153649, "creation_date": 1478631233, "question_id": 40494411, "link": "https://stackoverflow.com/questions/40494411/how-do-i-display-errors-in-an-component-view-with-angular-2", "title": "How do I display errors in an component view with Angular 2?", "body": "<p>In my recent Angular 2 project, I try to add a component which displays all sorts of errors. I can manipulate and display the errors in the Chrome developer console, but I fail when it comes to actually generate output from them.</p>\n\n<p>To achieve this, I added a service-class which extends the <code>ErrorHandler</code> of the Angular Core. It contains a Subject which you can subscribe to, to get new messages.</p>\n\n<pre><code>import { Injectable, ErrorHandler } from '@angular/core';\nimport { Subject } from 'rxjs/Rx';\n\nexport interface IMiaErrorMessage {\n    exception: string,\n    stackTrace?: any,\n    reason?: string\n}\n\n\n@Injectable()\nexport class MiaErrorHandlingService extends ErrorHandler {\n\n    public errors: Subject&lt;IMiaErrorMessage&gt; = new Subject&lt;IMiaErrorMessage&gt;();\n\n    handleError(exception: any): void {\n        console.groupCollapsed('Fehler');\n        console.error(exception);\n        console.groupEnd();\n        let error: IMiaErrorMessage = {\n            \"exception\": \"\"+exception\n        }\n        console.log('error', error);\n        this.errors.next(error);\n\n    }\n}\n</code></pre>\n\n<p>Afterwards I added a component which should actually display the error messages. There is a <code>subscribe</code>-call which adds new error-messages the <code>errors</code>-Array. The two functions <code>throwError</code> and <code>addError</code> are for testing. When I simply add the exception text using the <code>addError</code> function everything works just fine, but not when i actually throw an error using <code>throwError</code>. The console output for both is the same.</p>\n\n<pre><code>import { Component, Input } from '@angular/core';\nimport { MiaErrorHandlingService, IMiaErrorMessage } from './../services/mia-error-handling.service';\nimport { Subject } from 'rxjs/Rx';\n\n@Component({\n    selector: 'mia-errors',\n    templateUrl: 'errors.component.html',\n    styleUrls: ['errors.component.scss'],\n    providers: [MiaErrorHandlingService]\n\n})\nexport class ErrorsComponent {\n    title = 'Es ist ein Fehler aufgetreten';\n\n    private errors: Array&lt;IMiaErrorMessage&gt; = [];\n\n    constructor(private miaErrorHandlingService: MiaErrorHandlingService) {\n\n        // Observer of the connection status\n        this.miaErrorHandlingService.errors.subscribe(\n            value =&gt; this.errors.push(value),\n            error =&gt; console.info('ERROR', error),\n            () =&gt; console.info('COMPLETE')\n        );\n\n    }\n\n    private throwError() {\n        console.log('throwError');\n        throw Error('Hello again');\n    }\n\n    private addError() {\n        console.log('addError');\n        this.miaErrorHandlingService.handleError('Foo');\n    }\n\n}\n</code></pre>\n\n<p>The console output is</p>\n\n<pre><code>errors.component.ts:35 addError\nmia-error-handling.service.ts:18 Fehler\nmia-error-handling.service.ts:19 FooMiaErrorHandlingService.handleError @ mia-error-handling.service.ts:19 ErrorsComponent.addError @ errors.component.ts:36_View_ErrorsComponent0._handle_click_13_0 @ ErrorsComponent.ngfactory.js:164(anonymous function) @ view.js:404(anonymous function) @ dom_renderer.js:249(anonymous function) @ dom_events.js:26ZoneDelegate.invoke @ zone.js:203onInvoke @ ng_zone_impl.js:43ZoneDelegate.invoke @ zone.js:202Zone.runGuarded @ zone.js:110NgZoneImpl.runInnerGuarded @ ng_zone_impl.js:72NgZone.runGuarded @ ng_zone.js:236outsideHandler @ dom_events.js:26ZoneDelegate.invokeTask @ zone.js:236Zone.runTask @ zone.js:136ZoneTask.invoke @ zone.js:304\nmia-error-handling.service.ts:24 error Objectexception: \"Foo\"__proto__: Object\nerrors.component.ts:30 throwError\nmia-error-handling.service.ts:18 Fehler\nmia-error-handling.service.ts:19 ViewWrappedError {_nativeError: Error: Error in ./ErrorsComponent class ErrorsComponent - inline template:10:8 caused by: Hello agai\u2026, originalError: Error: Hello again\n    at ErrorsComponent.throwError (http://localhost:4200/main.bundle.js:67888:15)\u2026, context: DebugContext}MiaErrorHandlingService.handleError @ mia-error-handling.service.ts:19next @ application_ref.js:273schedulerFn @ async.js:82SafeSubscriber.__tryOrUnsub @ Subscriber.js:223SafeSubscriber.next @ Subscriber.js:172Subscriber._next @ Subscriber.js:125Subscriber.next @ Subscriber.js:89Subject.next @ Subject.js:55EventEmitter.emit @ async.js:74onError @ ng_zone.js:120onHandleError @ ng_zone_impl.js:64ZoneDelegate.handleError @ zone.js:207Zone.runGuarded @ zone.js:113NgZoneImpl.runInnerGuarded @ ng_zone_impl.js:72NgZone.runGuarded @ ng_zone.js:236outsideHandler @ dom_events.js:26ZoneDelegate.invokeTask @ zone.js:236Zone.runTask @ zone.js:136ZoneTask.invoke @ zone.js:304\nmia-error-handling.service.ts:24 error Objectexception: \"Error: Error in ./ErrorsComponent class ErrorsComponent - inline template:10:8 caused by: Hello again\"__proto__: Object__defineGetter__: __defineGetter__()__defineSetter__: __defineSetter__()__lookupGetter__: __lookupGetter__()__lookupSetter__: __lookupSetter__()constructor: Object()hasOwnProperty: hasOwnProperty()isPrototypeOf: isPrototypeOf()propertyIsEnumerable: propertyIsEnumerable()toLocaleString: toLocaleString()toString: toString()valueOf: valueOf()get __proto__: __proto__()set __proto__: __proto__()\n</code></pre>\n\n<p>For the sake of completeness here is my view</p>\n\n<pre><code>    &lt;dl *ngFor=\"let error of errors\"&gt;\n        &lt;dt&gt;\n            &lt;app-icon&gt;warning&lt;/app-icon&gt;\n        &lt;/dt&gt;\n        &lt;dd&gt;{{error.exception}}&lt;/dd&gt;\n    &lt;/dl&gt;\n&lt;button (click)=\"throwError()\"&gt;Do something wrong!&lt;/button&gt;\n&lt;button (click)=\"addError()\"&gt;addError&lt;/button&gt;\n</code></pre>\n\n<p>I'm thankful for every input I can get.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 0, "creation_date": 1478631575, "post_id": 40494418, "comment_id": 68233035, "body": "Can I type this more strongly as string? or is that done automatically by defining values as strings?"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 1, "creation_date": 1478632376, "post_id": 40494418, "comment_id": 68233462, "body": "It&#39;s actually stronger than string - it&#39;s implied that it&#39;s a string as long as there are only string literals in the union, and the value is limited to these listed."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 1, "last_activity_date": 1478631268, "creation_date": 1478631268, "answer_id": 40494418, "question_id": 40494384, "link": "https://stackoverflow.com/questions/40494384/creating-value-restrictions-on-class-values/40494418#40494418", "title": "Creating value restrictions on class values", "body": "<p>The syntax is </p>\n\n<pre><code>export class customClass {\n\n    username: \"bob\" | \"sam\" | \"george\";\n\n}\n</code></pre>\n\n<p>It's a combination of <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#string-literal-types\" rel=\"nofollow noreferrer\">string literal</a> types with <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">union type</a>.</p>\n"}], "owner": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 40494418, "answer_count": 1, "score": 0, "last_activity_date": 1478631268, "creation_date": 1478631138, "question_id": 40494384, "link": "https://stackoverflow.com/questions/40494384/creating-value-restrictions-on-class-values", "title": "Creating value restrictions on class values", "body": "<p>So in typescript we can declare a custom class like so:</p>\n\n<pre><code>export class customClass {\n    username: string;\n}\n</code></pre>\n\n<p>What I am looking to do is implement on a restriction on the values that username can hold.  Sort of like a white list so that it can only be set to specific values like:</p>\n\n<pre><code>export class customClass {\n    username: string[\"bob\",\"sam\",\"george\"];\n}\n</code></pre>\n\n<p>would mean the username could only be set to \"bob\" \"sam\" or \"george\".  Which is clearly not what this syntax does (and in fact is broken), but this is the functionality I am looking for.</p>\n\n<p>I cannot find documentation anywhere as to whether or not this is possible.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-template", "angular2-directives"], "comments": [{"owner": {"reputation": 811, "user_id": 1957036, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/45iaC.jpg?s=128&g=1", "display_name": "sam", "link": "https://stackoverflow.com/users/1957036/sam"}, "edited": false, "score": 0, "creation_date": 1478630611, "post_id": 40493998, "comment_id": 68232509, "body": "Change <code>[ngClass]</code> to <code>ng-class</code>."}, {"owner": {"reputation": 811, "user_id": 1957036, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/45iaC.jpg?s=128&g=1", "display_name": "sam", "link": "https://stackoverflow.com/users/1957036/sam"}, "edited": false, "score": 0, "creation_date": 1478630725, "post_id": 40493998, "comment_id": 68232564, "body": "<code>&lt;button ng-class=&quot;{&#39;active&#39;: shown == EQUIFAX}&quot;; (click)=&quot;shown = &#39;EQUIFAX&#39;&quot; type=&quot;button&quot; id=&quot;equifax&quot; class=&quot;btn btn-secondary&quot;&gt;Equifax Report &lt;&#47;button&gt;</code> Believing that <code>shown</code> and <code>EQUIFAX</code> are variables"}], "answers": [{"comments": [{"owner": {"reputation": 8318, "user_id": 2218253, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fyeY9.png?s=128&g=1", "display_name": "wuno", "link": "https://stackoverflow.com/users/2218253/wuno"}, "edited": false, "score": 0, "creation_date": 1478630100, "post_id": 40494033, "comment_id": 68232241, "body": "This gives me a parse error, Parser Error: Unexpected token &#39;:&#39;"}, {"owner": {"reputation": 8318, "user_id": 2218253, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fyeY9.png?s=128&g=1", "display_name": "wuno", "link": "https://stackoverflow.com/users/2218253/wuno"}, "edited": false, "score": 0, "creation_date": 1478630144, "post_id": 40494033, "comment_id": 68232262, "body": "Please see my question, I updated the question with your answer at the bottom. I get that parse error."}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 8318, "user_id": 2218253, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fyeY9.png?s=128&g=1", "display_name": "wuno", "link": "https://stackoverflow.com/users/2218253/wuno"}, "edited": false, "score": 0, "creation_date": 1478630221, "post_id": 40494033, "comment_id": 68232293, "body": "@wuno In your case, it has to be <code>[ngClass]=&quot;&#39;active&#39;: shown == &#39;EQUIFAX&#39;&quot;</code> because you want to compare variable <code>shown</code> with string EQUIFAX, not variable <code>EQUIFAX</code>."}, {"owner": {"reputation": 811, "user_id": 1957036, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/45iaC.jpg?s=128&g=1", "display_name": "sam", "link": "https://stackoverflow.com/users/1957036/sam"}, "edited": false, "score": 0, "creation_date": 1478630447, "post_id": 40494033, "comment_id": 68232418, "body": "You can check like <code>[ngClass]=&quot;{&#39;active&#39;: myString == ThisIsActiveString}&quot;;</code> Make it an object by enclosing it in <code>{}</code>"}, {"owner": {"reputation": 8318, "user_id": 2218253, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fyeY9.png?s=128&g=1", "display_name": "wuno", "link": "https://stackoverflow.com/users/2218253/wuno"}, "edited": false, "score": 0, "creation_date": 1478630497, "post_id": 40494033, "comment_id": 68232441, "body": "I still get the same parse error. I updated my question with the button at the bottom again. Do you see anything that could be causing this problem."}, {"owner": {"reputation": 811, "user_id": 1957036, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/45iaC.jpg?s=128&g=1", "display_name": "sam", "link": "https://stackoverflow.com/users/1957036/sam"}, "edited": false, "score": 0, "creation_date": 1478630527, "post_id": 40494033, "comment_id": 68232455, "body": "@StefanSvrkota above <code>NgClass</code> should be <code>ngClass</code>"}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 8318, "user_id": 2218253, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fyeY9.png?s=128&g=1", "display_name": "wuno", "link": "https://stackoverflow.com/users/2218253/wuno"}, "edited": false, "score": 0, "creation_date": 1478630813, "post_id": 40494033, "comment_id": 68232616, "body": "@wuno, @sam is right, you need to add <code>{}</code>, sorry about confusion, I edited answer."}], "tags": [], "owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "is_accepted": true, "score": 20, "last_activity_date": 1478630577, "last_edit_date": 1478630577, "creation_date": 1478629819, "answer_id": 40494033, "question_id": 40493998, "link": "https://stackoverflow.com/questions/40493998/angular-2-change-class-on-condition/40494033#40494033", "title": "Angular 2 Change Class On Condition", "body": "<p>You can add css class based on condition in <code>NgClass</code> directive itself:</p>\n\n<pre><code>[ngClass]=\"{ 'active': myString == ThisIsActiveString }\";\n</code></pre>\n\n<p>You can read more about <code>NgClass</code> directive and find examples <a href=\"https://angular.io/docs/ts/latest/api/common/index/NgClass-directive.html\" rel=\"noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "is_accepted": false, "score": 3, "last_activity_date": 1478630584, "creation_date": 1478630584, "answer_id": 40494232, "question_id": 40493998, "link": "https://stackoverflow.com/questions/40493998/angular-2-change-class-on-condition/40494232#40494232", "title": "Angular 2 Change Class On Condition", "body": "<p>Your equivalence statement of <code>[class.active]=\"shown == EQUIFAX\"</code> is comparing shown to a variable named <code>EQUIFAX</code>.</p>\n\n<p>You should, instead, change the equivalency to compare to the string <code>[class.active]=\"shown == 'EQUIFAX'\"</code></p>\n\n<p>Using [ngClass] would get you <code>[ngClass]=\"{'active': shown == 'EQUIFAX'}</code></p>\n\n<p>Here's a playground with this implemented: <a href=\"http://plnkr.co/edit/j2w8aiQPghl0bPZznoF2?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/j2w8aiQPghl0bPZznoF2?p=preview</a></p>\n"}, {"tags": [], "owner": {"reputation": 196, "user_id": 5841996, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wKKxy6KqVbk/AAAAAAAAAAI/AAAAAAAARSE/jVUT9Zj9Rp8/photo.jpg?sz=128", "display_name": "yanai edri", "link": "https://stackoverflow.com/users/5841996/yanai-edri"}, "is_accepted": false, "score": 2, "last_activity_date": 1505206303, "creation_date": 1505206303, "answer_id": 46171979, "question_id": 40493998, "link": "https://stackoverflow.com/questions/40493998/angular-2-change-class-on-condition/46171979#46171979", "title": "Angular 2 Change Class On Condition", "body": "<p>you can do that:</p>\n\n<pre><code>[class.nameForYourClss]=\"myString == ThisIsActiveString \";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5981, "user_id": 7003620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a9caf46ce1c06de4a3307511b57c5d2?s=128&d=identicon&r=PG", "display_name": "Druta Ruslan", "link": "https://stackoverflow.com/users/7003620/druta-ruslan"}, "is_accepted": false, "score": 2, "last_activity_date": 1546593242, "creation_date": 1546593242, "answer_id": 54035945, "question_id": 40493998, "link": "https://stackoverflow.com/questions/40493998/angular-2-change-class-on-condition/54035945#54035945", "title": "Angular 2 Change Class On Condition", "body": "<p>If you want for example to add many classes and have two or more conditions, each class and condition you can add after <code>,</code> comma.</p>\n\n<p>For example</p>\n\n<pre><code>[ngClass]=\"{'first-class': condition,\n            'second-class': !condition}\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7763684, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gubMdxOSprs/AAAAAAAAAAI/AAAAAAAADxk/zIcAG1Lm5do/photo.jpg?sz=128", "display_name": "Divyesh Govardhanan", "link": "https://stackoverflow.com/users/7763684/divyesh-govardhanan"}, "is_accepted": false, "score": -1, "last_activity_date": 1566927793, "creation_date": 1566927793, "answer_id": 57679796, "question_id": 40493998, "link": "https://stackoverflow.com/questions/40493998/angular-2-change-class-on-condition/57679796#57679796", "title": "Angular 2 Change Class On Condition", "body": "<p><b>IN HTML:</b></p>\n\n<pre><code>&lt;div [style.color]=\"navColor\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><b>IN TS:</b></p>\n\n<p><b>declaration:</b></p>\n\n<pre><code>navColor: \"white\";\n</code></pre>\n\n<p><b>Change based on condition:</b></p>\n\n<pre><code>this.navColor = \"black\";\n</code></pre>\n"}], "owner": {"reputation": 8318, "user_id": 2218253, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fyeY9.png?s=128&g=1", "display_name": "wuno", "link": "https://stackoverflow.com/users/2218253/wuno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39387, "favorite_count": 1, "accepted_answer_id": 40494033, "answer_count": 5, "score": 15, "last_activity_date": 1566927793, "creation_date": 1478629655, "last_edit_date": 1478638156, "question_id": 40493998, "link": "https://stackoverflow.com/questions/40493998/angular-2-change-class-on-condition", "title": "Angular 2 Change Class On Condition", "body": "<p>I have three buttons in a view and on page load I am displaying the first buttons content. Once a button is clicked the button becomes active but on page load the initial button is not set to active. In order to show the first button active I added this to the div:</p>\n\n<pre><code>[ngClass]=\"'active'\" \n</code></pre>\n\n<p>The problem with this is now when another button is clicked the first button keeps the active class. I am evaluating the data being show based on a string. On click of each button the string changes. </p>\n\n<p>How can I add a condition to check for the current string? So if the string matches the current data being show then add the active class to this button?</p>\n\n<p>So something like this is what I am looking for:</p>\n\n<pre><code>[ngClass]=\"'active'\" if \"myString == ThisIsActiveString;\n</code></pre>\n\n<p>This is my current button, but the class is not added when I add it in this syntax:</p>\n\n<pre><code> &lt;button  [class.active]=\"shown == EQUIFAX\" (click)=\"shown = 'EQUIFAX'\" type=\"button\" id=\"equifax\" class=\"btn btn-secondary\"&gt;Equifax Report &lt;/button&gt;\n</code></pre>\n\n<p>To be clear the string is defaulted to \"EQUIFAX\" on page load.</p>\n\n<p>This is based on answer:</p>\n\n<pre><code> &lt;button [ngClass]=\"'active' : shown == 'EQUIFAX'\" (click)=\"shown = 'EQUIFAX'\" type=\"button\" id=\"equifax\" class=\"btn btn-secondary\"&gt;Equifax Report &lt;/button&gt;\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "electron", "pouchdb"], "answers": [{"comments": [{"owner": {"reputation": 4181, "user_id": 881643, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/47e19463b573cf7059ba934c9d8ed47c?s=128&d=identicon&r=PG", "display_name": "Ash Blue", "link": "https://stackoverflow.com/users/881643/ash-blue"}, "edited": false, "score": 0, "creation_date": 1518754107, "post_id": 40515087, "comment_id": 84643568, "body": "Wow that was hard to find! This still hasn&#39;t been fixed in the @typings lib."}], "tags": [], "owner": {"reputation": 227, "user_id": 3670051, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/EScu6.jpg?s=128&g=1", "display_name": "cnotes", "link": "https://stackoverflow.com/users/3670051/cnotes"}, "is_accepted": false, "score": 1, "last_activity_date": 1478721893, "creation_date": 1478721893, "answer_id": 40515087, "question_id": 40493550, "link": "https://stackoverflow.com/questions/40493550/custompoucherror-409-conflict-document-update-conflict/40515087#40515087", "title": "CustomPouchError 409 Conflict Document Update Conflict", "body": "<p>The solution to this ended up being very simple and silly.  The PouchDB typings in the project was wrong...it had the rev and filename parameters for putAttachment() reversed...filename should have been first then rev.  Changing this corrected the issue.</p>\n"}], "owner": {"reputation": 227, "user_id": 3670051, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/EScu6.jpg?s=128&g=1", "display_name": "cnotes", "link": "https://stackoverflow.com/users/3670051/cnotes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1478721893, "creation_date": 1478627944, "last_edit_date": 1478631267, "question_id": 40493550, "link": "https://stackoverflow.com/questions/40493550/custompoucherror-409-conflict-document-update-conflict", "title": "CustomPouchError 409 Conflict Document Update Conflict", "body": "<p>I'm not too good with Promises (first time working with them).  With some other help, I've modified the code some, but I'm still getting a 409 conflict error on the putAttachment() method in the readFileThenAttach() method.  So, I need another set of eyes to look at this for me.  I had been consistently getting this error, then I come in this morning and tried it again.  It worked twice (I didn't get the error).  I stopped the program then when I ran it again, I got the error again.  I'm not sure what's wrong.  The revisions seem to be okay, so I'm not sure if its some timing issue or what with how the Promises are in my code.  The execution path of this code begins in the importProject() method and from there importInspectionPhotos() is called.  Can someone take a look to see if they can see anything that stands out?  Thanks.</p>\n\n<pre><code>function buildReinspectionLinks(db: InspectionDb) {\n    return db.allObservations()\n        .then(([points, lines]) =&gt; {\n            let observations = new Map([...points, ...lines]\n                .filter(obs =&gt; (&lt;any&gt;obs).access_original)\n                .map&lt;[string, Observation]&gt;(obs =&gt; [(&lt;any&gt;obs).access_id, obs]))\n            let changed = new Set()\n            for (let obs of observations.values()) {\n                let doc = (&lt;any&gt;obs).access_original\n                if (doc.Inspect_ID != doc.Original_ID) {\n                    let reinspected = observations.get(doc.Original_ID)\n                    doc.reinspected_id = reinspected._id\n                    reinspected.reinspected = true\n                    if (!reinspected.reinspection_ids) {\n                        reinspected.reinspection_ids = []\n                    }\n                    reinspected.reinspection_ids.push(obs._id)\n                    changed.add(obs)\n                    changed.add(reinspected)\n                }\n            }\n            // TODO: Recurse the relationships?\n            return Promise.all([...changed].map(obs =&gt; db.post(obs)))\n        })\n}\n\nfunction importInspectionPhotos(db: InspectionDb, directoryBase: string) {\n\nconst observations = db.allObservations().then(([points, lines]) =&gt; new Map([...points, ...lines].filter(obs =&gt; (&lt;any&gt;obs).access_original).map&lt;[string, Observation]&gt;(obs =&gt; [(&lt;any&gt;obs).access_id, obs])))\nconst filenames = globP(\"**/*.{jpg, jpeg, gif, png}\", { cwd: directoryBase })\n\nreturn Promise.all([observations, filenames]).then(([obs, names]: [Map&lt;string, Observation&gt;, string[]]) =&gt; {\n\n    const fileObservations: FileObservation[] = names.map(file =&gt; {\n        const filename = basename(file)\n        const accessID = getAccessObservationId(filename)\n        return {\n            file,\n            path: `${directoryBase}/${file}`,\n            observation: obs.get(accessID)\n        } as FileObservation\n    }).filter((fileOb: FileObservation) =&gt; !!fileOb.observation)\n\n    return fileObservations.reduce((lastPromise, fileOb) =&gt; lastPromise.then(() =&gt; readFileThenAttach(db, fileOb)), Promise.resolve())\n  })\n}\n\nfunction getAccessObservationId(filename: string): string {\n\nreturn filename.substr(0, filename.lastIndexOf('_'))\n}\n\nfunction readFileThenAttach(db: InspectionDb, fileOb: FileObservation): Promise&lt;any&gt; {\n\nreturn readFileP(fileOb.path)\n    .then((data: Buffer) =&gt; blobUtil.arrayBufferToBlob(data.buffer, contentType(extname(fileOb.path))))\n    .then(blob =&gt; ({ content_type: blob.type, data: blob }) as PouchAttachment)\n    .then(pa =&gt; db.putAttachment(fileOb.observation._id, (fileOb.observation as any)._rev, fileOb.filename, pa.data, pa.content_type))\n    .then(update =&gt; ((fileOb.observation as any)._rev = update.rev))\n}\n\nfunction importData(filename: string, db: InspectionDb, table: string, importer: (db: InspectionDb, doc: any) =&gt; Promise&lt;any&gt;) {\nreturn new Promise((resolve, reject) =&gt; {\n    let trader = spawn(TraderPath, ['select', `-f=\"${filename}\"`, `-t=${table}`])\n\n    trader.stderr.on('data', reject)\n    trader.on('error', reject)\n\n    let outstream = []\n    trader.stdout.on('data', data =&gt; outstream.push(data))\n\n    var imports = []\n    trader.on('close', code =&gt; {\n        if (code &gt; 0) reject('Trader returned non-zero exit code')\n        safeLoadAll(''.concat(...outstream), (doc: any) =&gt; imports.push(importer(db, doc))) // safeLoadAll is synchronous\n        Promise.all(imports).then(resolve)\n    })\n})\n}\n\nexport function importProject(filename: string, project_id: string) {\nlet db: InspectionDb\n\nreturn Promise.resolve()\n    .then(() =&gt; {        \n        db = new InspectionDb(project_id)\n\n        return Promise.all([\n            importData(filename, db, 'Project_Inspections', importInspection),\n            importData(filename, db, 'Inspection', importObservation),\n        ])\n    })\n    .then(() =&gt; buildReinspectionLinks(db))\n    .then(() =&gt; importInspectionPhotos(db, join(dirname(filename), '../Inspection_Projects')))\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "rxjs5"], "answers": [{"tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 2, "last_activity_date": 1478629162, "last_edit_date": 1495540455, "creation_date": 1478629162, "answer_id": 40493854, "question_id": 40493391, "link": "https://stackoverflow.com/questions/40493391/observable-is-null-when-unsubscribe-is-called/40493854#40493854", "title": "Observable is null when unsubscribe is called", "body": "<p>It's true the variable isn't assigned inside the callback. I think there're two ways to handle this:</p>\n\n<ol>\n<li><p>Wrap unsubscription with <code>setTimeout()</code>:</p>\n\n<pre><code>setTimeout(() =&gt; _loadGroupsSubscription.unsubscribe());\n</code></pre></li>\n<li><p>Add <code>.delay(0)</code> operator, which is basically the same trick:</p>\n\n<pre><code>var _loadGroupsSubscription = getRootGroupNodes()\n  .retry(3)\n  .delay(0)\n  .subscribe(\n    groups =&gt; {\n      console.log(groups);\n    },\n    err =&gt; { this._log.logMessage(\"failed to retrieve groups\"); },\n    () =&gt; {\n      _loadGroupsSubscription.unsubscribe();\n    }\n);\n</code></pre></li>\n</ol>\n\n<p>See live demo: <a href=\"https://jsbin.com/sunicoq/2/edit?js,console\" rel=\"nofollow noreferrer\">https://jsbin.com/sunicoq/2/edit?js,console</a></p>\n\n<p>See a slightly similar question with explanation how this works: <a href=\"https://stackoverflow.com/questions/40455579/other-operator-in-calculation-chain-than-combinelatest-to-avoid-redundant-calcul/40460900#40460900\">Other operator in calculation chain than combineLatest to avoid redundant calculations</a></p>\n"}], "owner": {"reputation": 147, "user_id": 2022345, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f259d46e507686b489597f5c6a6be740?s=128&d=identicon&r=PG", "display_name": "Evan", "link": "https://stackoverflow.com/users/2022345/evan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 749, "favorite_count": 0, "accepted_answer_id": 40493854, "answer_count": 1, "score": 1, "last_activity_date": 1478631811, "creation_date": 1478627419, "last_edit_date": 1478631811, "question_id": 40493391, "link": "https://stackoverflow.com/questions/40493391/observable-is-null-when-unsubscribe-is-called", "title": "Observable is null when unsubscribe is called", "body": "<p>I'm trying to return an observable that will return data as follows. </p>\n\n<pre><code>getRootGroupNodes(): Observable&lt;Group[]&gt; {\n\n\n    return Observable.create(function(observer) {\n\n        var groups = [\n            { groupName: \"Group1\" },\n            { groupName: \"Group2\" }\n        ]\n        observer.next(groups);\n\n        observer.complete();\n\n    });\n}\n</code></pre>\n\n<p>When I try to consume it </p>\n\n<pre><code>   this._loadGroupsSubscription = this._apiGroupService.getRootGroupNodes()\n        .retry(3)\n        .subscribe(\n        groups =&gt; {\n            // do somethign with groups\n        },\n        err =&gt; { this._log.logMessage(\"failed to retrieve groups\"); },\n        () =&gt; {\n\n            this._loadGroupsSubscription.unsubscribe();\n        }\n        );\n</code></pre>\n\n<p>I get <code>this._loadGroupsSubscription</code> is <code>null</code>. Hence an exception is thrown trying to call unsubscribe on undefined. Any ideas what I'm doing wrong ? This should be basic..</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 3335, "user_id": 1017211, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7vlEI.png?s=128&g=1", "display_name": "monnef", "link": "https://stackoverflow.com/users/1017211/monnef"}, "is_accepted": false, "score": 0, "last_activity_date": 1478624752, "creation_date": 1478624752, "answer_id": 40492612, "question_id": 40492580, "link": "https://stackoverflow.com/questions/40492580/generics-in-an-interface-in-a-nested-function/40492612#40492612", "title": "Generics in an interface in a nested function", "body": "<p>Oh, I forgot to name an argument. Working version (notice the <code>fn</code>):</p>\n\n<pre><code>  chain: &lt;B&gt;(fn: (a: A) =&gt; Maybe&lt;B&gt;) =&gt; Maybe&lt;B&gt;;\n</code></pre>\n"}], "owner": {"reputation": 3335, "user_id": 1017211, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/7vlEI.png?s=128&g=1", "display_name": "monnef", "link": "https://stackoverflow.com/users/1017211/monnef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478624752, "creation_date": 1478624669, "question_id": 40492580, "link": "https://stackoverflow.com/questions/40492580/generics-in-an-interface-in-a-nested-function", "title": "Generics in an interface in a nested function", "body": "<pre><code>interface Maybe&lt;A&gt; {\n  // this works as expected\n  a: &lt;B&gt;(a: A, b: Maybe&lt;B&gt;) =&gt; Maybe&lt;B&gt;;\n\n//# Maybe#chain :: Maybe a ~&gt; (a -&gt; Maybe b) -&gt; Maybe b\n  // this does not\n  chain: &lt;B&gt;((a: A) =&gt; Maybe&lt;B&gt;) =&gt; Maybe&lt;B&gt;;\n}\n</code></pre>\n\n<p>How can I express function expecting a function and sharing type variable on both \"levels\" as shown in snippet? Or is TypeScript's type system too weak to express it?</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 1, "creation_date": 1478624594, "post_id": 40492464, "comment_id": 68229190, "body": "Would something like local storage work? <a href=\"https://developer.mozilla.org/tr/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\">developer.mozilla.org/tr/docs/Web/API/Window/localStorage</a>"}, {"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1478625202, "post_id": 40492464, "comment_id": 68229566, "body": "Seems to be solution. Working on @NitzanTomer &#39;s answer"}], "answers": [{"comments": [{"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1478625129, "post_id": 40492614, "comment_id": 68229515, "body": "where do I put the second block of code? The <code>submitForm</code> function is in a Typescript file in a component for the form which is separate from the Typescript for the main page in which the table is located."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1478625545, "post_id": 40492614, "comment_id": 68229803, "body": "You&#39;ll need to register to the page load event, and do it there."}, {"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1478627152, "post_id": 40492614, "comment_id": 68230740, "body": "I&#39;m sorry I&#39;m just not familiar with anything like that. Not sure where or how that is done"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1478627619, "post_id": 40492614, "comment_id": 68231007, "body": "I&#39;m not sure about that, I&#39;m not an angular developer, but maybe do it in the <code>ngOnInit</code>?"}, {"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1478627844, "post_id": 40492614, "comment_id": 68231123, "body": "Regardless, it&#39;s throwing errors <code>Supplied parameters do not match any signature of call target</code> and <code>Block-scoped variable &quot;DPS&quot; used before its declaration</code> on line <code>let DPS = localStorage.getItem(&quot;DPS&quot;, DPS);</code>"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1478627908, "post_id": 40492614, "comment_id": 68231151, "body": "Oh, my bad!  It should be: <code>let DPS = localStorage.getItem(&quot;DPS&quot;);</code>. I fixed it in my answer as well"}, {"owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1478628328, "post_id": 40492614, "comment_id": 68231359, "body": "That at least got rid of the errors. Page still gets rid of the changes when refreshing though. Might modify my question to help with that"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 0, "creation_date": 1478629303, "post_id": 40492614, "comment_id": 68231828, "body": "I don&#39;t think that putting <code>onload</code> on a div works. It should be the load event of the document (<code>document.addEventListener(&quot;load&quot;, ...);</code>) or probably the angular way using <code>ngOnInit</code>"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "edited": false, "score": 1, "creation_date": 1478634123, "post_id": 40492614, "comment_id": 68234367, "body": "Oh hey, look what I found: <a href=\"https://github.com/marcj/angular2-localstorage\" rel=\"nofollow noreferrer\">github.com/marcj/angular2-localstorage</a>"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 2, "last_activity_date": 1478634201, "last_edit_date": 1478634201, "creation_date": 1478624758, "answer_id": 40492614, "question_id": 40492464, "link": "https://stackoverflow.com/questions/40492464/permanently-change-array-even-with-page-refresh/40492614#40492614", "title": "Permanently change array even with page refresh", "body": "<p>You can save it in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Storage/LocalStorage\" rel=\"nofollow noreferrer\">localStorage</a>:</p>\n\n<pre><code>...\nDPS.push(blah);\nlocalStorage.setItem(\"DPS\", JSON.stringfy(DPS));\n</code></pre>\n\n<p>And on page load you can check if you already have it:</p>\n\n<pre><code>let DPS = localStorage.getItem(\"DPS\");\nif (DPS) {\n    localStorage.removeItem(\"DPS\");\n    DPS = JSON.parse(DPS);\n    // you have an intance\n}\n</code></pre>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>Seems that there's a library for local storage in angular2: <a href=\"https://github.com/marcj/angular2-localstorage\" rel=\"nofollow noreferrer\">angular2-localstorage</a>.</p>\n"}], "owner": {"reputation": 1061, "user_id": 4639027, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8c6c1bf87f20bd9d8b7acb61656d808d?s=128&d=identicon&r=PG&f=1", "display_name": "Drew13", "link": "https://stackoverflow.com/users/4639027/drew13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478634201, "creation_date": 1478624320, "last_edit_date": 1478628801, "question_id": 40492464, "link": "https://stackoverflow.com/questions/40492464/permanently-change-array-even-with-page-refresh", "title": "Permanently change array even with page refresh", "body": "<p>I'm coding using Angular 2 (Typescript) and on my webpage I have different forms with inputs and when I submit those forms they trigger their own function that adds a new instance of an object based on the inputs to an array, which is then reflected in a table on the page that is generated from said array. How can I permanently save those changes in the array after the page is refreshed. The array <code>DPS</code> is imported from another directory. The <code>submitForm</code> function is in a Typescript file of a component that's separate from the Typescript and component of the main page (the HTML and rest of the Typescript). Below, you'll see my use of <code>onload=\"myFunction()\"</code> for my overall <code>container</code> on the main page and the <code>myFunction()</code> function as well.</p>\n\n<p>Here's the function that adds to the array:</p>\n\n<pre><code>submitForm(value: any){\n  var val1 = String((&lt;HTMLInputElement&gt;document.getElementById(\"dataPoint\")).value);\n  var val2 = String((&lt;HTMLInputElement&gt;document.getElementById(\"ICCP\")).value);\n  var val3 = String((&lt;HTMLInputElement&gt;document.getElementById(\"startDate\")).value);\n  var val4 = String((&lt;HTMLInputElement&gt;document.getElementById(\"endDate\")).value);\n  let blah = new DataTable(val1,val2,val3,val4);\n  DPS.push(blah);\n  localStorage.setItem(\"DPS\", JSON.stringify(DPS));\n}\n</code></pre>\n\n<p>div for my main page:</p>\n\n<pre><code>&lt;div class=\"container-fluid page\" onload=\"myFunction()\"&gt;\n</code></pre>\n\n<p>myFunction():</p>\n\n<pre><code> myFunction(){\n   let DPS = localStorage.getItem(\"DPS\");\n   if (DPS) {\n     localStorage.removeItem(\"DPS\");\n     DPS = JSON.parse(DPS);\n    }\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1472, "user_id": 2562935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/673e46b7eb0b485c2a6f994206fd3a07?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/2562935/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1478695597, "creation_date": 1478695597, "answer_id": 40507384, "question_id": 40492385, "link": "https://stackoverflow.com/questions/40492385/typescript-encode-the-arithmetic-operation/40507384#40507384", "title": "Typescript: encode the arithmetic operation", "body": "<p>You should be able to use <code>encodeURIComponent</code> javaScript function.</p>\n\n<pre><code>return this.http.get('http://localhost:8080/?question='+ encodeURIComponent(query)).map((res)=&gt;res.text());\n</code></pre>\n\n<p>Then on your back-end, you need to decode the query string to get the decoded value.</p>\n"}], "owner": {"reputation": 5884, "user_id": 2380115, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4c3738d2921eb6ffb979522d333e541e?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/2380115/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 431, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1478695597, "creation_date": 1478624106, "question_id": 40492385, "link": "https://stackoverflow.com/questions/40492385/typescript-encode-the-arithmetic-operation", "title": "Typescript: encode the arithmetic operation", "body": "<p>In my angular2 with typescript, I am trying to send an arithmetic operation like <code>2+4</code> with http get, and the back-end must answer <code>6</code>. </p>\n\n<p>Currently, the <code>+</code> is considered as <code>space</code> so in back end i recieve <code>2 4</code> so the operator is missed.</p>\n\n<p>How can i encode my query to deliver it precisely in back-end?</p>\n\n<p>Here is my http get sender service:</p>\n\n<pre><code>@Injectable()\nexport class HttpService {\n\n  constructor(private http:Http) { }\n  getAnswer(par:string){\n    const query=par;\n    console.log(\"value is:\"+par);\n   return  this.http.get('http://localhost:8080/?question='+query).map((res)=&gt;res.text());\n  }\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "coffeescript", "karma-runner", "karma-systemjs"], "comments": [{"owner": {"reputation": 22783, "user_id": 1113772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLSIj.png?s=128&g=1", "display_name": "Paul Sweatte", "link": "https://stackoverflow.com/users/1113772/paul-sweatte"}, "edited": false, "score": 0, "creation_date": 1486413815, "post_id": 40492349, "comment_id": 71325190, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/17548141/karma-unknown-provider-error\">Karma unknown provider error</a>"}], "owner": {"reputation": 3850, "user_id": 205640, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Es3JK.jpg?s=128&g=1", "display_name": "jkndrkn", "link": "https://stackoverflow.com/users/205640/jkndrkn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478623985, "creation_date": 1478623985, "question_id": 40492349, "link": "https://stackoverflow.com/questions/40492349/how-do-i-run-karma-jasmine-tests-for-an-angular-1-5-8-project-that-uses-javasc", "title": "How do I run karma / jasmine tests for an Angular 1.5.8 project that uses javascript, coffeescript, and typescript source?", "body": "<p>I am working on a production system that currently uses CoffeeScript and JavaScript. We are looking to progressively migrate the source code to TypeScript in anticipation of an eventual migration to Angular 2.</p>\n\n<p>I am using karma with the below karma.conf.js configuration file. As I started to add TypeScript support, I started to rapidly go down a rabbit hole of potential fixes and dead-ends. Do I need to use <code>karma-systemjs</code>? Can <code>karma-systemjs</code> handle CoffeeScript? Can <code>karma-systemjs</code> and browserify work together? Should I be switching to Webpack? Should I be using <code>karma-typescript</code> instead? If so, can it handle CoffeeScript?</p>\n\n<p>The myriad options are way confusing. Any guidance would be much appreciated.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/*global module */\r\n\r\n\"use strict\";\r\n\r\nmodule.exports = function(config){\r\n  config.set({\r\n\r\n    basePath: '../',\r\n\r\n    files : [\r\n      'node_modules/angular/angular.js',\r\n      'node_modules/angular-mocks/angular-mocks.js',\r\n      'node_modules/angular-ui-bootstrap/dist/ui-bootstrap.js',\r\n      'node_modules/angular-ui-calendar/src/calendar.js',\r\n      'node_modules/angular-ui-grid/ui-grid.js',\r\n      'node_modules/angular-ui-router/release/angular-ui-router.js',\r\n      'node_modules/ui-select/dist/select.js',\r\n      'node_modules/angular-aria/angular-aria.js',\r\n      'node_modules/angular-animate/angular-animate.js',\r\n      'node_modules/angular-material/angular-material.js',\r\n      'node_modules/angular-sanitize/angular-sanitize.js',\r\n      'node_modules/pouchdb/dist/pouchdb.js',\r\n      'app/config/**/*.js',\r\n      'app/source/**/*.js',\r\n      'test/unit/**/*.js'\r\n    ],\r\n\r\n    autoWatch: true,\r\n\r\n    frameworks: ['browserify', 'jasmine'],\r\n\r\n    browsers: ['PhantomJS'],\r\n    //browsers: ['Chrome'], // Use \"Chrome\" for debugging since phantomjs can swallow some errors\r\n\r\n    plugins: [\r\n      'karma-browserify',\r\n      'karma-jasmine',\r\n      'karma-phantomjs-launcher',\r\n      'karma-chrome-launcher'\r\n    ],\r\n\r\n    preprocessors: {\r\n      'app/config/**/*.js': ['browserify'],\r\n      'app/source/**/*.js': ['browserify'],\r\n      'test/unit/**/*.js': [ 'browserify']\r\n    },\r\n\r\n    browserify: {\r\n      debug: true,\r\n      transform: ['coffeeify', 'babelify'],\r\n      extensions: [ \".coffee\"]\r\n    },\r\n\r\n    // web server port\r\n    port: 9876,\r\n\r\n    // enable / disable colors in the output (reporters and logs)\r\n    colors: true,\r\n    \r\n    // level of logging\r\n    // possible values: config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG\r\n    logLevel: config.LOG_INFO,\r\n\r\n    // Continuous Integration mode\r\n    // if true, Karma captures browsers, runs the tests and exits\r\n    singleRun: false,\r\n\r\n    // Concurrency level\r\n    // how many browser should be started simultaneous\r\n    concurrency: Infinity\r\n  });\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 8318, "user_id": 2218253, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fyeY9.png?s=128&g=1", "display_name": "wuno", "link": "https://stackoverflow.com/users/2218253/wuno"}, "edited": false, "score": 0, "creation_date": 1478622116, "post_id": 40491670, "comment_id": 68227604, "body": "This is great man. Thanks for making that so simple. Would you mind telling me also how to do something like this on a button like I am using? routerLinkActive=&quot;active&quot; which only works for router links I assume. Basically how to show the button as active on page load?"}, {"owner": {"reputation": 2854, "user_id": 6923555, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-N8FUb3l8l44/AAAAAAAAAAI/AAAAAAAAAio/1HlhcKxsTPo/photo.jpg?sz=128", "display_name": "rodrigocfd", "link": "https://stackoverflow.com/users/6923555/rodrigocfd"}, "reply_to_user": {"reputation": 8318, "user_id": 2218253, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fyeY9.png?s=128&g=1", "display_name": "wuno", "link": "https://stackoverflow.com/users/2218253/wuno"}, "edited": false, "score": 0, "creation_date": 1478622481, "post_id": 40491670, "comment_id": 68227832, "body": "Just add a CSS class conditionally, like: <code>&lt;button [class]=&quot;shown === &#39;EQUIFAX&#39; ? &#39;activeClass&#39; : &#39;&#39;&quot;&gt;</code>, with <code>activeClass</code> being a CSS class with the style to the active button, like <code>.activeClass { background:red; }</code>."}, {"owner": {"reputation": 8318, "user_id": 2218253, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fyeY9.png?s=128&g=1", "display_name": "wuno", "link": "https://stackoverflow.com/users/2218253/wuno"}, "edited": false, "score": 0, "creation_date": 1478622633, "post_id": 40491670, "comment_id": 68227953, "body": "Thanks a ton for all your help!"}], "tags": [], "owner": {"reputation": 2854, "user_id": 6923555, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-N8FUb3l8l44/AAAAAAAAAAI/AAAAAAAAAio/1HlhcKxsTPo/photo.jpg?sz=128", "display_name": "rodrigocfd", "link": "https://stackoverflow.com/users/6923555/rodrigocfd"}, "is_accepted": true, "score": 3, "last_activity_date": 1478621746, "creation_date": 1478621746, "answer_id": 40491670, "question_id": 40491447, "link": "https://stackoverflow.com/questions/40491447/angular-2-toggle-views-on-click/40491670#40491670", "title": "Angular 2 Toggle Views On Click", "body": "<p>What you want is: when one is shown, the other two are hidden, right? What about change your logic to something like this:</p>\n\n<pre><code>// On the class, instead of 3 booleans\nprivate shown: string = 'EQUIFAX';\n</code></pre>\n\n<p>Then, the buttons would act like this:</p>\n\n<pre><code>&lt;button (click)=\"shown = 'EQUIFAX'\" type==\"button\" ...\n&lt;button (click)=\"shown = 'EXPERIAN'\" type=\"button\" ...\n&lt;button (click)=\"shown = 'TRANSUNION'\" type=\"button\" ...\n</code></pre>\n\n<p>Then you could show your components like this:</p>\n\n<pre><code>&lt;div *ngIf=\"shown === 'EQUIFAX'\"&gt;\n    content here\n&lt;/div&gt;\n\n&lt;div *ngIf=\"shown === 'EXPERIAN'\"&gt; ... &lt;/div&gt;\n&lt;div *ngIf=\"shown === 'TRANSUNION'\"&gt; ... &lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 8318, "user_id": 2218253, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fyeY9.png?s=128&g=1", "display_name": "wuno", "link": "https://stackoverflow.com/users/2218253/wuno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13605, "favorite_count": 5, "accepted_answer_id": 40491670, "answer_count": 1, "score": 2, "last_activity_date": 1478621849, "creation_date": 1478621084, "question_id": 40491447, "link": "https://stackoverflow.com/questions/40491447/angular-2-toggle-views-on-click", "title": "Angular 2 Toggle Views On Click", "body": "<p>I have a bootstrap card which has three different content views inside it. I am controlling the view of each of the separate data sets onclick of a link for each one. The problem is when I click a link it does not hide the previous one. I am having trouble getting the function right with typescript. </p>\n\n<p>in my component.ts file </p>\n\n<pre><code>  public showEquifax:boolean = true;\n  public showExperian:boolean = false;\n  public showTransunion:boolean = false;\n</code></pre>\n\n<p>Then in my html file </p>\n\n<pre><code> &lt;div class=\"btn-group\" role=\"group\" aria-label=\"Credit Report Navigation\"&gt;\n                    &lt;button (click)=\"showEquifax = !showEquifax\" type=\"button\" class=\"btn btn-secondary\"&gt;Equifax Report &lt;/button&gt;\n                    &lt;button (click)=\"showExperian = !showExperian\" type=\"button\" class=\"btn btn-secondary\"&gt;Experian Report &lt;/button&gt;\n                    &lt;button (click)=\"showTransunion = !showTransunion\" type=\"button\" class=\"btn btn-secondary\"&gt;Transunion Report &lt;/button&gt;\n                &lt;/div&gt;\n</code></pre>\n\n<p>Based on this logic how can I change the <code>boolean</code> value of the functions to <code>false</code> when the link clicked value gets changed to <code>true</code></p>\n\n<p>I tried to do something like this,</p>\n\n<pre><code>public showEquifax() {\n    showExperian() = false;\n    showTransunion() = false;\n    return true;\n}\n</code></pre>\n\n<p>But I get an error for left-hand side assignment expression. </p>\n\n<p>How can I write each of these boolean functions to change the others to false when the current function is set to true?</p>\n"}, {"tags": ["angular", "typescript", "yield-keyword"], "answers": [{"tags": [], "owner": {"reputation": 1472, "user_id": 2562935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/673e46b7eb0b485c2a6f994206fd3a07?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/2562935/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1478696367, "creation_date": 1478696367, "answer_id": 40507617, "question_id": 40491230, "link": "https://stackoverflow.com/questions/40491230/angular-2-yield-reserved-word/40507617#40507617", "title": "Angular 2 yield reserved word", "body": "<p>Starting with TypeScript 1.8, emitted modules are always in strict mode.</p>\n\n<p>If you want to use non-strict mode, then you need to add <code>noImplicitUseStrict : true</code> to your typescript compiler option. </p>\n\n<p>Link to <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">doc</a></p>\n"}], "owner": {"reputation": 3773, "user_id": 5232122, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/87ae151f27d7e84ac4f08d35f12a9d67?s=128&d=identicon&r=PG&f=1", "display_name": "Velidan", "link": "https://stackoverflow.com/users/5232122/velidan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478696367, "creation_date": 1478620511, "last_edit_date": 1478624085, "question_id": 40491230, "link": "https://stackoverflow.com/questions/40491230/angular-2-yield-reserved-word", "title": "Angular 2 yield reserved word", "body": "<p>I want to use some generator in my A2 methods but it throws to me an error about: <strong>reserved word in strict mode</strong>. (the issue is in the <strong>yield</strong> statement).</p>\n\n<p>How can I use generators in ng2? Thanks for any help!</p>\n\n<p>My code looks like that:</p>\n\n<pre><code>  private sendSeries(socketInst) {\n\n    function* generateSequenceMsg() {\n      yield 1;\n      yield 2;\n      yield 3;\n      yield 4;\n    }\n\n    let gen = generateSequenceMsg();\n\n    setTimeout(() =&gt; {socketInst.send(`Message ${gen.next().value}`)}, 1000);\n\n  }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "google-chrome-devtools"], "comments": [{"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1478618378, "post_id": 40490282, "comment_id": 68224807, "body": "Apparently the underlying js has three low-level function calls that check for something, etc. On the other hand, devtools could be better at collapsing the callstack for source-mapped code. Report it on <a href=\"https://crbug.com\" rel=\"nofollow noreferrer\">crbug.com</a> if it&#39;s not reported already,"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "reply_to_user": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1478620487, "post_id": 40490282, "comment_id": 68226337, "body": "@wOxxOm, thanks, it&#39;s <a href=\"http://stackoverflow.com/a/40491193/2545680\">indeed so</a>. I just expected devtools to workaround this. I&#39;ll consider reporting the issue"}], "answers": [{"tags": [], "owner": {"reputation": 1626, "user_id": 2495789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fad162588013dd74ab2ce20126301cd6?s=128&d=identicon&r=PG", "display_name": "sagie", "link": "https://stackoverflow.com/users/2495789/sagie"}, "is_accepted": false, "score": 2, "last_activity_date": 1478618495, "creation_date": 1478618495, "answer_id": 40490543, "question_id": 40490282, "link": "https://stackoverflow.com/questions/40490282/why-stack-trace-shows-3-calls-on-one-line-inside-ts-file/40490543#40490543", "title": "Why stack trace shows 3 calls on one line inside .ts file", "body": "<p>chrome doesn't run typescript, it runs javascript.\nIn order to run typescript there are tools that convert it to javascript (either as part of build or in runtime in your browser).\nThose tools also create a source map to map the typescript lines to javascript lines so you can see the original code that caused an issue instead of seeing the new auto generated javascript.\nSo your 1 line in typescript was in fact multiple lines in the generated javascript.</p>\n\n<p>if you see in their repo, you can see they explain it as well:\n<strong>TypeScript compiles to readable, standards-based JavaScript</strong></p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript</a></p>\n"}, {"tags": [], "owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "is_accepted": true, "score": 6, "last_activity_date": 1478620422, "creation_date": 1478620422, "answer_id": 40491193, "question_id": 40490282, "link": "https://stackoverflow.com/questions/40490282/why-stack-trace-shows-3-calls-on-one-line-inside-ts-file/40491193#40491193", "title": "Why stack trace shows 3 calls on one line inside .ts file", "body": "<p>Yes, indeed, here is the JS code</p>\n\n<pre><code>(function (System, SystemJS) {\n    (function (require, exports, module, __filename, __dirname, global, GLOBAL) {\n        \"use strict\";\n        var platform_browser_dynamic_1 = require(\"@angular/platform-browser-dynamic\");\n        var app_module_1 = require(\"./app.module\");\n        var platform = platform_browser_dynamic_1.platformBrowserDynamic();\n        platform.bootstrapModule(app_module_1.AppModule);\n        //# sourceMappingURL=main.js.map\n    }).apply(__cjsWrapper.exports, __cjsWrapper.args);\n})(System, System);\n</code></pre>\n\n<p>that is mapped to </p>\n\n<pre><code>platform.bootstrapModule(AppModule);\n</code></pre>\n\n<p>and indeed there are 3 function calls before <code>bootstrapModule</code> is called:</p>\n\n<p><code>outer IIFE</code>, <code>inner IIFE</code>, and <code>platform.bootstrapModule(app_module_1.AppModule);</code>.</p>\n"}], "owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2176, "favorite_count": 1, "accepted_answer_id": 40491193, "answer_count": 2, "score": 3, "last_activity_date": 1478620422, "creation_date": 1478617629, "question_id": 40490282, "link": "https://stackoverflow.com/questions/40490282/why-stack-trace-shows-3-calls-on-one-line-inside-ts-file", "title": "Why stack trace shows 3 calls on one line inside .ts file", "body": "<p>I have the following line of code inside <code>main.ts</code>:</p>\n\n<pre><code>platform.bootstrapModule(AppModule);\n</code></pre>\n\n<p>And in call stack it's shown as 3 calls like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cKTiH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cKTiH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why?</p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6773361, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aK4Sm0CcFbM/AAAAAAAAAAI/AAAAAAAAAc8/zYZx-8HlhTU/photo.jpg?sz=128", "display_name": "NIKHIL Gosavi", "link": "https://stackoverflow.com/users/6773361/nikhil-gosavi"}, "edited": false, "score": 0, "creation_date": 1478617510, "post_id": 40489778, "comment_id": 68224202, "body": "It is giving me the same error again, yeah i will have to brush up my concepts first.Thanks for the link"}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 0, "last_activity_date": 1478619588, "last_edit_date": 1478619588, "creation_date": 1478616252, "answer_id": 40489778, "question_id": 40489548, "link": "https://stackoverflow.com/questions/40489548/unexpected-token-a-constructor-method-accessor-or-property-expected/40489778#40489778", "title": "Unexpected token. A constructor, method,accessor or property expected", "body": "<p>That's not how you define a class properties. This is more like it. Not sure if that will solve your problem, but it does seem a lot neater:</p>\n\n<pre><code>export class HomePage {\n\n    public parameter1: string;\n    public parameter2: string;\n\n    constructor(public navCtrl: NavController, private navParams: NavParams) {\n       this.parameter1 = this.navParams.get('param1'); \n       this.parameter2 = this.navParams.get('param2');\n       alert(this.parameter1);\n    }     \n}\n</code></pre>\n\n<p>Same deal concerning your <code>AboutPage</code> component. Perhaps it's a good idea to first look at the <a href=\"https://angular.io\" rel=\"nofollow noreferrer\">angular.io</a> page and see how they construct components/classes. And while you are at it, taking a look at basic OO <code>TypeScript</code> will also help you </p>\n\n<p><strong>update</strong></p>\n\n<p>One of the errors comes from your <code>AboutPage</code> component, besides the issue with the wrong class definition, you also talk about a <code>SecondPage</code> even though it's not imported.</p>\n\n<p>The other error is like I said, coming from your <code>HomePage</code> component.</p>\n"}], "owner": {"reputation": 47, "user_id": 6773361, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aK4Sm0CcFbM/AAAAAAAAAAI/AAAAAAAAAc8/zYZx-8HlhTU/photo.jpg?sz=128", "display_name": "NIKHIL Gosavi", "link": "https://stackoverflow.com/users/6773361/nikhil-gosavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3438, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1503386267, "creation_date": 1478615573, "last_edit_date": 1503386267, "question_id": 40489548, "link": "https://stackoverflow.com/questions/40489548/unexpected-token-a-constructor-method-accessor-or-property-expected", "title": "Unexpected token. A constructor, method,accessor or property expected", "body": "<p>I was following a tutorial and wanted to get data across pages, but I dont understand why it is showing this error.\nmy code:</p>\n\n<p>about.ts(page1, sending data from here)</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\nselector: 'page-about',\ntemplateUrl: 'about.html'\n})\nexport class AboutPage {\n\nparam1:string; param2:string;\n\nconstructor(public navCtrl: NavController) {\nparam1 = \"\"; param2 = \"\";\n}\n\n\nthis.navCtrl.push(SecondPage, {\nparam1: 'John', param2: 'Johnson'\n});\n\n}\n</code></pre>\n\n<p>home.ts(page1, sending data on this page)</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n\nimport { NavController, NavParams } from 'ionic-angular';\n\n@Component({\nselector: 'page-home',\ntemplateUrl: 'home.html'\n})\nexport class HomePage {\n\nconstructor(public navCtrl: NavController, private navParams: NavParams) {\n\n}\n\nthis.parameter1 = navParams.get('param1'); \nthis.parameter2 = navParams.get('param2');\nalert(this.parameter1);\n\n}\n</code></pre>\n\n<p>heres the error screenshot\n<a href=\"https://i.stack.imgur.com/2eVMv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2eVMv.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>screenshot continued\n<a href=\"https://i.stack.imgur.com/J6gTk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J6gTk.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "lambda"], "comments": [{"owner": {"reputation": 6204, "user_id": 396119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9d0b74d8e51d461235893edd4ab5785?s=128&d=identicon&r=PG", "display_name": "goenning", "link": "https://stackoverflow.com/users/396119/goenning"}, "edited": false, "score": 1, "creation_date": 1478615413, "post_id": 40489399, "comment_id": 68222602, "body": "Seems litke that <code>this._popupTemplate.content</code> is a string and not a <code>String | Object[] | Function</code>. Can you double check its typings definitions? Remember that typings definitions <b>may not be</b> equal to the API description, it could be outdated."}], "answers": [{"tags": [], "owner": {"reputation": 1959, "user_id": 2520530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUfpY.jpg?s=128&g=1", "display_name": "Erik Cupal", "link": "https://stackoverflow.com/users/2520530/erik-cupal"}, "is_accepted": true, "score": 6, "last_activity_date": 1478625919, "creation_date": 1478625919, "answer_id": 40492949, "question_id": 40489399, "link": "https://stackoverflow.com/questions/40489399/type-of-lambda-expressions-in-typescript/40492949#40492949", "title": "Type of lambda expressions in typescript", "body": "<p>Labmda expression</p>\n\n<pre><code>(feature) =&gt; {\n    var template: string; \n    //....\n    return template;    \n}\n</code></pre>\n\n<p>is just easier way to write normal function like this</p>\n\n<pre><code>function(feature) { \n    var template: string; \n    //....\n    return template;\n}\n</code></pre>\n\n<p>The problem is you're trying to assign the function itself, not it's value. You got to execute it first. Add parentheses around the function (or lambda) and then execute it by adding parentheses with arguments after it. Like this:</p>\n\n<pre><code>this._popupTemplate.content = ((feature) =&gt; {\n        var template: string; \n        //....\n        return template;    \n    })(feature);\n</code></pre>\n"}], "owner": {"reputation": 1487, "user_id": 2755279, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2cb83d1ea49b73b69a918141938876d5?s=128&d=identicon&r=PG&f=1", "display_name": "netik", "link": "https://stackoverflow.com/users/2755279/netik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9492, "favorite_count": 0, "accepted_answer_id": 40492949, "answer_count": 1, "score": 5, "last_activity_date": 1478625919, "creation_date": 1478615155, "question_id": 40489399, "link": "https://stackoverflow.com/questions/40489399/type-of-lambda-expressions-in-typescript", "title": "Type of lambda expressions in typescript", "body": "<p>I'm trying to assign a lambda expression which returns a string, to a property, which, according to the API description, accepts the types (String | Object[] | Function).</p>\n\n<pre><code> this._popupTemplate.content = (feature) =&gt; {\n            var template: string; \n            //....\n            return template;    \n      }\n</code></pre>\n\n<p>It seems to be working, however, webstorm says \"</p>\n\n<blockquote>\n  <p>assigned expression of type (feature:any) => string is not assignable\n  to type string</p>\n</blockquote>\n\n<p>\"</p>\n\n<p>So I tried using a type assertion: <code>&lt;string&gt;(feature) =&gt; {...}</code> which seems to have no effect. How can I satisfy webstorm (without suppression the information)?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 14668, "user_id": 671639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e18bd7cb9429c61f8618189305278a90?s=128&d=identicon&r=PG", "display_name": "BetaRide", "link": "https://stackoverflow.com/users/671639/betaride"}, "edited": false, "score": 1, "creation_date": 1478614927, "post_id": 40489269, "comment_id": 68222244, "body": "Your image shows a number of files ending in *.ts. ts=type script."}, {"owner": {"reputation": 862, "user_id": 4045532, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-quxW2QpVnZw/AAAAAAAAAAI/AAAAAAAAAFA/eYJ_i6nMBlg/photo.jpg?sz=128", "display_name": "Corporalis", "link": "https://stackoverflow.com/users/4045532/corporalis"}, "edited": false, "score": 3, "creation_date": 1478614937, "post_id": 40489269, "comment_id": 68222254, "body": "It&#39;s worthwhile reading <a href=\"http://stackoverflow.com/a/38515955/4045532\">this</a>"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "reply_to_user": {"reputation": 862, "user_id": 4045532, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-quxW2QpVnZw/AAAAAAAAAAI/AAAAAAAAAFA/eYJ_i6nMBlg/photo.jpg?sz=128", "display_name": "Corporalis", "link": "https://stackoverflow.com/users/4045532/corporalis"}, "edited": false, "score": 0, "creation_date": 1478614983, "post_id": 40489269, "comment_id": 68222282, "body": "@Corporalis, thanks, that&#39;s helpful"}, {"owner": {"reputation": 3630, "user_id": 3114659, "user_type": "registered", "profile_image": "https://graph.facebook.com/1004571799/picture?type=large", "display_name": "Amit", "link": "https://stackoverflow.com/users/3114659/amit"}, "reply_to_user": {"reputation": 14668, "user_id": 671639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e18bd7cb9429c61f8618189305278a90?s=128&d=identicon&r=PG", "display_name": "BetaRide", "link": "https://stackoverflow.com/users/671639/betaride"}, "edited": false, "score": 0, "creation_date": 1478615020, "post_id": 40489269, "comment_id": 68222310, "body": "@BetaRide those are .d.ts, those are only type definitions."}, {"owner": {"reputation": 14668, "user_id": 671639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e18bd7cb9429c61f8618189305278a90?s=128&d=identicon&r=PG", "display_name": "BetaRide", "link": "https://stackoverflow.com/users/671639/betaride"}, "edited": false, "score": 1, "creation_date": 1478615152, "post_id": 40489269, "comment_id": 68222389, "body": "And guess what language is used to write this defintions?"}], "owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1478615728, "answer_count": 0, "score": 0, "last_activity_date": 1478614843, "creation_date": 1478614766, "last_edit_date": 1478614843, "question_id": 40489269, "link": "https://stackoverflow.com/questions/40489269/why-angular2-sources-dont-have-typescript-files-in-sources", "closed_reason": "Duplicate", "title": "Why angular2 sources don&#39;t have typescript files in sources", "body": "<p>I've just downloaded angular2 files through npm and I'm looking at sources and there's no <code>ts</code> files there:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aJhET.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aJhET.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why is it so? I've read that angular2 is written in typescript.</p>\n"}, {"tags": ["jquery", "typescript", "signalr", "definitelytyped"], "answers": [{"tags": [], "owner": {"reputation": 1160, "user_id": 540756, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/lEv2y.jpg?s=128&g=1", "display_name": "Jesse Johnson", "link": "https://stackoverflow.com/users/540756/jesse-johnson"}, "is_accepted": false, "score": 1, "last_activity_date": 1478647005, "creation_date": 1478647005, "answer_id": 40498049, "question_id": 40489258, "link": "https://stackoverflow.com/questions/40489258/how-to-augment-jquerystatic-with-signalr-methods/40498049#40498049", "title": "How to augment JQueryStatic with SignalR methods", "body": "<p>Here are a couple ways:</p>\n\n<ol>\n<li>Make sure you are using the latest version of the <a href=\"https://www.npmjs.com/package/@types/signalr\" rel=\"nofollow noreferrer\">SignalR type\ndefinition</a>. It looks as if the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/signalr/signalr.d.ts#L361-L365\" rel=\"nofollow noreferrer\">SignalR definition is already augmenting jQueryStatic</a>.</li>\n</ol>\n\n<hr>\n\n<ol start=\"2\">\n<li><p>Use <a href=\"http://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">TypeScript's declaration merging</a> to augment jQueryStatic by adding the snippet below to the top of your TypeScript file.</p>\n\n<p><code>declare global {\n    interface JQueryStatic {\n      signalR: SignalR;\n      connection: SignalR;\n      hubConnection: SignalR.Hub.HubCreator;\n    }\n}</code></p></li>\n</ol>\n"}], "owner": {"reputation": 111, "user_id": 5276018, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b04486abd15f5fc1c986cc80167db6fe?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik Dahl", "link": "https://stackoverflow.com/users/5276018/henrik-dahl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478647005, "creation_date": 1478614723, "question_id": 40489258, "link": "https://stackoverflow.com/questions/40489258/how-to-augment-jquerystatic-with-signalr-methods", "title": "How to augment JQueryStatic with SignalR methods", "body": "<p>I am using TypeScript 2.0 and the definitely typed declaration file for jQuery. I am also using SignalR. SignalR depends on jQuery and adds some properties to it. As an example you can write \"$.connection.hub.logging = true;\" where SignalR has added \"connection\" to jQuery.</p>\n\n<p>The definitely typed declaration file for jQuery defines the interface JQueryStatic but does not export JQueryStatic because only $ is being exported. $ is of type JQueryStatic.</p>\n\n<p>My question is, how do I write code using TypeScript 2.0 which augments the interface JQueryStatic  with a definition for a new property p1, which \"connection\" is an example of?</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478616854, "post_id": 40489050, "comment_id": 68223718, "body": "The question doesn&#39;t mention what exactly should happen on error."}, {"owner": {"reputation": 10694, "user_id": 1288449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RG7S5.png?s=128&g=1", "display_name": "Steven Liekens", "link": "https://stackoverflow.com/users/1288449/steven-liekens"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478617089, "post_id": 40489050, "comment_id": 68223900, "body": "A simple <code>console.log</code> is fine. I just need to know where to put it and what to return (if anything)."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478617283, "post_id": 40489050, "comment_id": 68224039, "body": "Then the question is about observables, not resolvers. It&#39;s <code>return this.backend.getValues().catch(...)</code>."}, {"owner": {"reputation": 10694, "user_id": 1288449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RG7S5.png?s=128&g=1", "display_name": "Steven Liekens", "link": "https://stackoverflow.com/users/1288449/steven-liekens"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478617494, "post_id": 40489050, "comment_id": 68224198, "body": "@estus see updated question. Also, I know how to work with observables and <code>catch()</code>, but I can&#39;t return <code>void</code> from <code>catch()</code> and I don&#39;t know what I should return instead to satisfy the router."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478618966, "post_id": 40489050, "comment_id": 68225191, "body": "If you need to log, use <code>.catch((err) =&gt; { console.log(err); throw err })</code>. If you need a redirect, use <code>.catch((err) =&gt; router.navigate([&#39;&#47;error&#39;]))</code> ."}, {"owner": {"reputation": 10694, "user_id": 1288449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RG7S5.png?s=128&g=1", "display_name": "Steven Liekens", "link": "https://stackoverflow.com/users/1288449/steven-liekens"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478619819, "post_id": 40489050, "comment_id": 68225796, "body": "Why <code>throw err</code>? That shows up as an uncaught exception."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478620745, "post_id": 40489050, "comment_id": 68226555, "body": "Because <code>catch</code> catches an error. It should rethrow it if you don&#39;t want to proceed with route with bad result."}, {"owner": {"reputation": 10694, "user_id": 1288449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RG7S5.png?s=128&g=1", "display_name": "Steven Liekens", "link": "https://stackoverflow.com/users/1288449/steven-liekens"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478621475, "post_id": 40489050, "comment_id": 68227137, "body": "Throwing an exception in <code>resolve</code> to stop navigation is undocumented behavior. It seems to be an unintended side effect."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478622447, "post_id": 40489050, "comment_id": 68227805, "body": "It doesn&#39;t &#39;stop&#39; navigation. It prevents <code>catch</code> from resuming navigation. Sure, it will output an uncaught exception, as well as the absence of <code>catch</code>, because it is uncaught exception. Do you have problems with <code>.catch((err) =&gt; router.navigate([&#39;&#47;error&#39;]))</code>?"}, {"owner": {"reputation": 10694, "user_id": 1288449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RG7S5.png?s=128&g=1", "display_name": "Steven Liekens", "link": "https://stackoverflow.com/users/1288449/steven-liekens"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478622715, "post_id": 40489050, "comment_id": 68228015, "body": "No, using <code>navigate</code> works fine. Just now wondering if there is also a way to cancel navigation without using <code>navigate</code> or throwing an exception in <code>resolve</code>."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478631340, "post_id": 40489050, "comment_id": 68232889, "body": "Errors from resolvers can be caught with <code>router.navigate([&#39;&#47;values&#39;]).catch(...)</code>. For navigation cancelling CanActivate may be used, but I&#39;m not sure how to get a resolver instance from there."}, {"owner": {"reputation": 10694, "user_id": 1288449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RG7S5.png?s=128&g=1", "display_name": "Steven Liekens", "link": "https://stackoverflow.com/users/1288449/steven-liekens"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478680936, "post_id": 40489050, "comment_id": 68248711, "body": "I think that <code>CanActivate</code> is evaluated <i>before</i> the resolver is invoked, so that&#39;s a dead end. And I think that manually invoking the resolver inside <code>CanActivate</code> is an ugly hack that will result in the same data being resolved twice for the happy path. (once manually, then again by the router)"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1478689972, "post_id": 40489050, "comment_id": 68253754, "body": "CanActivate not just runs before resolvers, but more important, resolvers shouldn&#39;t run before it completes, to my knowledge. However, it is possible to use this recipe if both resolver and CanActivate wrap caching http service like <a href=\"http://stackoverflow.com/a/40250950/3731501\">this one</a> (this won&#39;t be a hack)."}, {"owner": {"reputation": 732, "user_id": 3496709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb13fc29c586b3e98d187f0044d95212?s=128&d=identicon&r=PG", "display_name": "JuanGG", "link": "https://stackoverflow.com/users/3496709/juangg"}, "edited": false, "score": 0, "creation_date": 1484149210, "post_id": 40489050, "comment_id": 70396213, "body": "I&#39;ve the same problem so i created a new Angular2 ticket <a href=\"https://github.com/angular/angular/issues/13873\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/13873</a>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1486906991, "post_id": 40489050, "comment_id": 71538481, "body": "Obviously, you have probably thought of this but you probably need to return a <code>Promise</code>, an <code>Observable</code> or some other monadic abstraction from the resolver instead of the array of values itself. That way you can attach error handling inside the resolver and, by injecting the router into it as well, you can trigger navigation in <code>.catch</code>. Actually, it looks like you are returning an <code>Observable&lt;Value[]&gt;</code> so you can attach error handling in the call to <code>ValuesService</code> and then redirect in the catch block. I think this will work."}, {"owner": {"reputation": 10694, "user_id": 1288449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RG7S5.png?s=128&g=1", "display_name": "Steven Liekens", "link": "https://stackoverflow.com/users/1288449/steven-liekens"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 2, "creation_date": 1486970458, "post_id": 40489050, "comment_id": 71558769, "body": "@AluanHaddad I did not think about that. You should convert your comment to an answer."}], "answers": [{"comments": [{"owner": {"reputation": 10694, "user_id": 1288449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RG7S5.png?s=128&g=1", "display_name": "Steven Liekens", "link": "https://stackoverflow.com/users/1288449/steven-liekens"}, "edited": false, "score": 4, "creation_date": 1487757087, "post_id": 42379411, "comment_id": 71924327, "body": "I disagree with letting the service handle navigation in general, but especially with navigation as a side effect of a failing getter. I prefer my getters to be free of side effects."}, {"owner": {"reputation": 3075, "user_id": 6666508, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oHtRw.jpg?s=128&g=1", "display_name": "JeanPaul A.", "link": "https://stackoverflow.com/users/6666508/jeanpaul-a"}, "reply_to_user": {"reputation": 10694, "user_id": 1288449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RG7S5.png?s=128&g=1", "display_name": "Steven Liekens", "link": "https://stackoverflow.com/users/1288449/steven-liekens"}, "edited": false, "score": 0, "creation_date": 1487773086, "post_id": 42379411, "comment_id": 71935377, "body": "I think it all boils down to how the service is used. A service should be a point of common functionality. If it is expected that on error, the route should  always be updated, then I do think it is the right place to do.  In the case that the service is called multiple times, from different execution points, and require the same behavior, not placing the same routing within the service would result your code in not being DRY.  You should ask the question, what should be the purpose of this service?  That would help you identify the functionality that is required even better."}, {"owner": {"reputation": 10694, "user_id": 1288449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RG7S5.png?s=128&g=1", "display_name": "Steven Liekens", "link": "https://stackoverflow.com/users/1288449/steven-liekens"}, "edited": false, "score": 0, "creation_date": 1487777146, "post_id": 42379411, "comment_id": 71938316, "body": "You could extract the <code>catch</code> function and put it in a separate file. Then it is easy to reuse anywhere: <code>.getValues().catch(navigateToErrorPage)</code>. That&#39;s dry enough for my taste."}, {"owner": {"reputation": 3723, "user_id": 63202, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/758a46ff6118d93bd67ce22c0ef1e01a?s=128&d=identicon&r=PG", "display_name": "Ayyash", "link": "https://stackoverflow.com/users/63202/ayyash"}, "edited": false, "score": 0, "creation_date": 1492240902, "post_id": 42379411, "comment_id": 73905291, "body": "As much as I hate to admit it, this seems like the only way, so what you can do is create a general logger class that has a property observable, which is observed in an error UI component sitting somewhere and call the logger inside the catch block... I personally still use Javascript to inject UI messages, simpler, cleaner, more robust."}, {"owner": {"reputation": 160, "user_id": 292701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8c5a504dda5b9195857c9bb33bdccc?s=128&d=identicon&r=PG", "display_name": "user292701", "link": "https://stackoverflow.com/users/292701/user292701"}, "edited": false, "score": 0, "creation_date": 1504729957, "post_id": 42379411, "comment_id": 79129723, "body": "hmmm...doesnt resolve() need to return something? That return statement is async."}], "tags": [], "owner": {"reputation": 3075, "user_id": 6666508, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oHtRw.jpg?s=128&g=1", "display_name": "JeanPaul A.", "link": "https://stackoverflow.com/users/6666508/jeanpaul-a"}, "is_accepted": false, "score": 3, "last_activity_date": 1487717006, "creation_date": 1487717006, "answer_id": 42379411, "question_id": 40489050, "link": "https://stackoverflow.com/questions/40489050/handle-errors-in-a-resolve-service/42379411#42379411", "title": "Handle errors in a Resolve service", "body": "<p>In such a situation, the Service should handle the error, and redirect to the wanted route. The catch method should then return an empty Observable (for the resolve guard to resolve), while handling empty cases during within the resolve.</p>\n\n<p>Something like this</p>\n\n<pre><code>export class ValuesService {\n    constructor(private http:Http, private router:Router) {}\n\n    getValue() {\n       this.http.get('/some/url').map((response:Response) =&gt; {\n           // Map your response to a model here\n       }).catch((response:Response) =&gt; {\n           // Handler case for different status\n           this.router.navigate(['/error']);\n           return Observable.empty();\n       })\n    }\n}\n</code></pre>\n\n<p>And the guard to be like the following</p>\n\n<pre><code>export class ValueResolveGuard implements Resolve&lt;Value[]&gt; {\n\n    constructor(private valueService:ValueService) {}\n\n    resolve() { // You don't need the route &amp; state if you're not gonna use them\n        this.valueService.getValue().toPromise().then((values:Values[]) =&gt; {\n            if (!values) { // For the Observable.empty() case\n                // return some default stuff\n            }\n            return values;\n        })\n    }\n}\n</code></pre>\n\n<p>Alternatively, if you want to specifically return an observable (shouldn't make any difference in this case, since the resolve guard, accepts both an observable and a promise), you can do something like this.</p>\n\n<pre><code> this.valueService.getValue().first().catch({} =&gt; { \n      // return some default value.\n });\n</code></pre>\n\n<p>Notice that first() is required, so that the observable returned would be a terminated observable, otherwise the resolve guard wouldn't resolve. The catch is needed because a first() call on an empty observable would throw an error.</p>\n"}], "owner": {"reputation": 10694, "user_id": 1288449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RG7S5.png?s=128&g=1", "display_name": "Steven Liekens", "link": "https://stackoverflow.com/users/1288449/steven-liekens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6420, "favorite_count": 6, "answer_count": 1, "score": 18, "last_activity_date": 1587474193, "creation_date": 1478614210, "last_edit_date": 1478617631, "question_id": 40489050, "link": "https://stackoverflow.com/questions/40489050/handle-errors-in-a-resolve-service", "title": "Handle errors in a Resolve service", "body": "<p>Say I have a <code>ValuesComponent</code> that displays an array of <code>Value</code> in an HTML table.\n</p>\n\n<pre><code>// in value.ts\nexport class Value { ... }\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// in values.component.ts\n@Component(...)\nexport class ValuesComponent { ... }\n</code></pre>\n\n<p>Being a good programmer and all, I've created a different class that is responsible for providing values. Let's call it the <code>ValuesService</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// in values.service.ts\n@Injectable()\nexport class ValuesService\n{\n    public getValues(): Observable&lt;Value[]&gt;\n    {\n       ...\n    }\n}\n</code></pre>\n\n<p>Suppose that the service gets its values from a web service: <code>/api/values</code></p>\n\n<p>Now instead of injecting the service directly into my component, I want to let the Angular router pre-fetch the values before navigating to the component.</p>\n\n<p>For that, I created a <code>Resolve</code> service class and plugged it into the router module.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// in values-resolver.service.ts\nexport class ValuesResolverService implements Resolve&lt;Value[]&gt; {\n    constructor(private backend: ValuesService) {\n    }\n\n    public resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable&lt;Value[]&gt; {\n        return this.backend.getValues();\n    }\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// In app.module.ts (in @NgModule())\nimports: [\n  RouterModule.forRoot([{\n    path: 'values',\n    component: ValuesComponent,\n    resolve: { values: ValuesResolverService }\n  }])\n]\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// In values.component.ts\npublic values: Value[];\n\nconstructor(private route: ActivatedRoute) {\n}\n\nngOnInit() {\n    this.values = route.data.values as Value[];\n}\n</code></pre>\n\n<p>How am I doing so far? Good? Then where do I put my error handling for when <code>ValuesService.getValues()</code> fails? (connection error, internal server error, ...)</p>\n\n<p>When a user tries to navigate to the <code>/#/values</code> route and an error occurs, I want to log the error to the console and stop navigation. Ideally, I'd like to redirect the user to the <code>/#/error</code> route (not shown in the example code).</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1478677082, "post_id": 40488972, "comment_id": 68247312, "body": "What&#39;s the problem?"}, {"owner": {"reputation": 1857, "user_id": 3215427, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xND3y.jpg?s=128&g=1", "display_name": "sridharan", "link": "https://stackoverflow.com/users/3215427/sridharan"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1478680055, "post_id": 40488972, "comment_id": 68248401, "body": "MDL framework not working"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1478680468, "post_id": 40488972, "comment_id": 68248534, "body": "&quot;Not working&quot; is quite some useless term. What is the expected behavior? What is the actual behavior?"}, {"owner": {"reputation": 1857, "user_id": 3215427, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xND3y.jpg?s=128&g=1", "display_name": "sridharan", "link": "https://stackoverflow.com/users/3215427/sridharan"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1478681137, "post_id": 40488972, "comment_id": 68248804, "body": "created a special directive that will be registering elements at run time. MaterialDesignLiteUpgradeElement.ts , And i used app.component.ts layout, dropdown menu button show but dropdown not working"}, {"owner": {"reputation": 1857, "user_id": 3215427, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xND3y.jpg?s=128&g=1", "display_name": "sridharan", "link": "https://stackoverflow.com/users/3215427/sridharan"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1478688846, "post_id": 40488972, "comment_id": 68253178, "body": "problem due to version"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 7012619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1haQO.jpg?s=128&g=1", "display_name": "timzok", "link": "https://stackoverflow.com/users/7012619/timzok"}, "is_accepted": true, "score": 1, "last_activity_date": 1481219589, "last_edit_date": 1481219589, "creation_date": 1481201590, "answer_id": 41040007, "question_id": 40488972, "link": "https://stackoverflow.com/questions/40488972/how-to-integrating-material-design-lite-in-angular2/41040007#41040007", "title": "how to Integrating Material Design Lite in Angular2", "body": "<p>If you use Angular cli, add this in angular-cli.json</p>\n\n<pre><code>   \"styles\": [\n      \"../node_modules/material-design-lite/material.css\",\n      \"../node_modules/material-design-icons/iconfont/material-icons.css\"\n  ],\n  \"scripts\": [\n      \"../node_modules/material-design-lite/material.min.js\"\n  ],\n</code></pre>\n\n<p><a href=\"https://github.com/timzok/quickies/tree/master/anguar2-mdl\" rel=\"nofollow noreferrer\">Code here</a></p>\n"}], "owner": {"reputation": 1857, "user_id": 3215427, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xND3y.jpg?s=128&g=1", "display_name": "sridharan", "link": "https://stackoverflow.com/users/3215427/sridharan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 41040007, "answer_count": 1, "score": 0, "last_activity_date": 1587884493, "creation_date": 1478613975, "last_edit_date": 1587884493, "question_id": 40488972, "link": "https://stackoverflow.com/questions/40488972/how-to-integrating-material-design-lite-in-angular2", "title": "how to Integrating Material Design Lite in Angular2", "body": "<p>I have a small problem in integrating a <a href=\"http://www.getmdl.io/\" rel=\"nofollow noreferrer\">meterial design</a> in <code>Angular2</code> Can you please help me I will put it in points what I have done\ni'am using latest version angular2, MDL framework not work </p>\n\n<p>How to Integrating Material Design Lite in Angular2?\nProblem Due to code is old version lib is new version.</p>\n\n<pre><code>npm install material-design-lite --save\n\n&lt;link rel=\"stylesheet\" href=\"/node_modules/material-design-lite/material.min.css\"&gt;\n&lt;link rel=\"stylesheet\" href=\"/app/themes/material.deep_purple-purple.min.css\"&gt;\n&lt;script src=\"/node_modules/material-design-lite/material.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>And in the MaterialDesignLiteUpgradeElement.ts file :</p>\n\n<pre><code>import {Directive, AfterViewInit} from '@angular/core';\ndeclare var componentHandler: any;\n@Directive({\n    selector: '[mdl]'\n})    \nexport class MdlUpgradeDirective implements AfterViewInit {\n    ngAfterViewInit() {\n    if (componentHandler) {\n        componentHandler.upgradeAllRegistered();\n    }\n }\n}\n</code></pre>\n\n<p>And in the app.component.ts file :</p>\n\n<pre><code>import { Component, NgModule} from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { MdlUpgradeDirective } from '../app/directives/MaterialDesignLiteUpgradeElement';\n@NgModule({\n  imports:      [ BrowserModule ],\n  declarations: [ MdlUpgradeDirective ],\n  bootstrap:    [ AppComponent ]\n})\n@Component ({\n  selector: 'my-app',\n  templateUrl: '../app/app.component.html'\n})\n    export class AppComponent {\n     }\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>\"dependencies\": {\n    \"@angular/common\": \"~2.1.1\",\n    \"@angular/compiler\": \"~2.1.1\",\n    \"@angular/core\": \"~2.1.1\",\n    \"@angular/forms\": \"~2.1.1\",\n    \"@angular/http\": \"~2.1.1\",\n    \"@angular/platform-browser\": \"~2.1.1\",\n    \"@angular/platform-browser-dynamic\": \"~2.1.1\",\n    \"@angular/router\": \"~3.1.1\",\n    \"@angular/upgrade\": \"~2.1.1\",\n    \"angular-in-memory-web-api\": \"~0.1.13\",\n    \"core-js\": \"^2.4.1\",\n    \"reflect-metadata\": \"^0.1.8\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"systemjs\": \"0.19.39\",\n    \"zone.js\": \"^0.6.25\"\n  },\n  \"devDependencies\": {\n    \"@types/core-js\": \"^0.9.34\",\n    \"@types/node\": \"^6.0.45\",\n    \"concurrently\": \"^3.0.0\",\n    \"lite-server\": \"^2.2.2\",\n    \"typescript\": \"^2.0.3\"\n  }\n</code></pre>\n\n<p>material-design-lite -version v1.2.1</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "rxjs", "rxjs5"], "answers": [{"comments": [{"owner": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "edited": false, "score": 2, "creation_date": 1478614211, "post_id": 40488963, "comment_id": 68221737, "body": "Note that they also changed some of the API in RxJS 5, so code written for RxJS 4 won&#39;t work with RxJS 5 without a migration effort."}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 16, "last_activity_date": 1520245906, "last_edit_date": 1520245906, "creation_date": 1478613943, "answer_id": 40488963, "question_id": 40488881, "link": "https://stackoverflow.com/questions/40488881/what-is-the-difference-between-reactive-extensions-rxjs-and-reactivex-rxjs/40488963#40488963", "title": "What is the difference between Reactive-Extensions/RxJS and ReactiveX/rxjs", "body": "<p>RxJS 4 is hosted on: <a href=\"https://github.com/Reactive-Extensions/RxJS\" rel=\"noreferrer\">https://github.com/Reactive-Extensions/RxJS</a></p>\n\n<p>RxJS 5 (<a href=\"https://github.com/ReactiveX/rxjs\" rel=\"noreferrer\">https://github.com/ReactiveX/rxjs</a>) replaces RxJS 4 and is relatively compatible with RxJS 4. <a href=\"https://github.com/ReactiveX/rxjs#rxjs-5-release-candidate\" rel=\"noreferrer\">README.md on gtihub says</a>:</p>\n\n<blockquote>\n  <p>Reactive Extensions Library for JavaScript. This is a rewrite of Reactive-Extensions/RxJS and is intended to supersede it once this is ready.</p>\n</blockquote>\n\n<p>RxJS 5 is completely written in TypeScript and compiled to both as ES6 and ES5 (as a bundle in UMD format).</p>\n\n<p>There's also RxJS 6 currently in development.</p>\n\n<p>Also, RxJS 4 is now called <code>rx</code> and npm while RxJS 5 is <code>rxjs</code> now. The scoped one <code>@reactivex/rxjs</code> is probably just an older npm package (they both come from the same repo).</p>\n\n<p><a href=\"https://github.com/ReactiveX/rxjs/blob/master/MIGRATION.md\" rel=\"noreferrer\">https://github.com/ReactiveX/rxjs/blob/master/MIGRATION.md</a></p>\n"}], "owner": {"reputation": 582, "user_id": 655440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/78b63059811a56241183f2eb421cabdb?s=128&d=identicon&r=PG", "display_name": "Arin", "link": "https://stackoverflow.com/users/655440/arin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2696, "favorite_count": 2, "accepted_answer_id": 40488963, "answer_count": 1, "score": 17, "last_activity_date": 1520245906, "creation_date": 1478613725, "last_edit_date": 1478614189, "question_id": 40488881, "link": "https://stackoverflow.com/questions/40488881/what-is-the-difference-between-reactive-extensions-rxjs-and-reactivex-rxjs", "title": "What is the difference between Reactive-Extensions/RxJS and ReactiveX/rxjs", "body": "<p>I am a bit confused. What is the difference between these libraries?\n<br/>\n<br/>\n<a href=\"https://github.com/ReactiveX/rxjs\" rel=\"noreferrer\">https://github.com/ReactiveX/rxjs</a><br/>\n<a href=\"https://github.com/Reactive-Extensions/RxJS\" rel=\"noreferrer\">https://github.com/Reactive-Extensions/RxJS</a><br/>\n<br/>\nWhat is the differance between <a href=\"https://www.npmjs.com/package/rx\" rel=\"noreferrer\">rx</a>, <a href=\"https://www.npmjs.com/package/@reactivex/rxjs\" rel=\"noreferrer\">@reactivex/rxjs</a> <a href=\"https://www.npmjs.com/package/rxjs\" rel=\"noreferrer\">rxjs</a> on npm.<br/>\n<br/>\nIf you search npm there are multiple libraries for rxjs which one is the official?<br/>\n<br/>\n<a href=\"https://www.npmjs.com/search?q=rx\" rel=\"noreferrer\">https://www.npmjs.com/search?q=rx</a></p>\n"}, {"tags": ["string", "typescript", "enums"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1478613466, "post_id": 40488738, "comment_id": 68221201, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/17380845/how-to-convert-string-to-enum-in-typescript\">How to convert string to enum in TypeScript?</a>"}, {"owner": {"reputation": 323, "user_id": 4053519, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4c416bce7a855787d7a10068a2a10907?s=128&d=identicon&r=PG", "display_name": "Emilia Tyl", "link": "https://stackoverflow.com/users/4053519/emilia-tyl"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1478613737, "post_id": 40488738, "comment_id": 68221397, "body": "@martin I&#39;m using this method - creating a string from the env var, however I still get undefined when I try to retrieve an enum"}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 4053519, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4c416bce7a855787d7a10068a2a10907?s=128&d=identicon&r=PG", "display_name": "Emilia Tyl", "link": "https://stackoverflow.com/users/4053519/emilia-tyl"}, "edited": false, "score": 0, "creation_date": 1478614271, "post_id": 40489038, "comment_id": 68221781, "body": "Yes, when I change  <code>let str: string = String(process.env.NODE_ENV);</code> to <code>let str: string = String(&quot;Development&quot;);</code>  It works fine."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 0, "last_activity_date": 1478614176, "creation_date": 1478614176, "answer_id": 40489038, "question_id": 40488738, "link": "https://stackoverflow.com/questions/40488738/typescript-enums-and-string/40489038#40489038", "title": "Typescript, enums and string", "body": "<p>Your code seems to work fine:</p>\n\n<pre><code>enum Environment {\n    Test = 1,\n    Development,\n    Production\n}\n\nconsole.log(Environment[2]) // \"Development\"\nlet str = String(Environment[2]);\nconsole.log(str); // \"Development\"\nconsole.log(Environment[str]) // 2\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/index.html#src=enum%20Environment%20%7B%0A%20%20%20%20Test%20%3D%201%2C%0A%20%20%20%20Development%2C%0A%20%20%20%20Production%0A%7D%0A%0Aconsole.log(Environment%5B2%5D)%20%2F%2F%20%22Development%22%0Alet%20str%20%3D%20String(Environment%5B2%5D)%3B%0Aconsole.log(str)%3B%20%2F%2F%20%22Development%22%0Aconsole.log(Environment%5Bstr%5D)%20%2F%2F%202\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 323, "user_id": 4053519, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4c416bce7a855787d7a10068a2a10907?s=128&d=identicon&r=PG", "display_name": "Emilia Tyl", "link": "https://stackoverflow.com/users/4053519/emilia-tyl"}, "is_accepted": false, "score": 0, "last_activity_date": 1478614638, "creation_date": 1478614638, "answer_id": 40489220, "question_id": 40488738, "link": "https://stackoverflow.com/questions/40488738/typescript-enums-and-string/40489220#40489220", "title": "Typescript, enums and string", "body": "<p>Nevermind, when I was defining the environment variable in the command line it must have added some whitespace characters, because when I changed retrieving string to</p>\n\n<pre><code>let str: string = String(process.env.NODE_ENV).replace(\" \", \"\");\n</code></pre>\n\n<p>It works fine.</p>\n"}], "owner": {"reputation": 323, "user_id": 4053519, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4c416bce7a855787d7a10068a2a10907?s=128&d=identicon&r=PG", "display_name": "Emilia Tyl", "link": "https://stackoverflow.com/users/4053519/emilia-tyl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 732, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1478614638, "creation_date": 1478613353, "last_edit_date": 1478614005, "question_id": 40488738, "link": "https://stackoverflow.com/questions/40488738/typescript-enums-and-string", "title": "Typescript, enums and string", "body": "<p>I have a hard time converting a string coming from the env variable to enum. </p>\n\n<p>Here's the enum: </p>\n\n<pre><code>enum Environment {\n    Test = 1,\n    Development,\n    Production\n}\n\nexport default Environment;\n</code></pre>\n\n<p>And here's what I've been trying:</p>\n\n<pre><code>export default class GlobalParameters {\n    public static Env: Environment = Environment[&lt;string&gt;process.env.NODE_ENV];\n}\nconsole.log(process.env.NODE_ENV) // Gives \"Development\"\nlet str = String(process.env.NODE_ENV); // Gives \"Development\"\nconsole.log(Environment[str])  //Gives undefined\nObject.seal(GlobalParameters);\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "web-worker"], "answers": [{"tags": [], "owner": {"reputation": 718, "user_id": 4261077, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-hsOoEEq0D4g/AAAAAAAAAAI/AAAAAAAAAFQ/3anLcgljNKY/photo.jpg?sz=128", "display_name": "Bhupinder kumar", "link": "https://stackoverflow.com/users/4261077/bhupinder-kumar"}, "is_accepted": false, "score": 4, "last_activity_date": 1478750783, "creation_date": 1478750783, "answer_id": 40519807, "question_id": 40488724, "link": "https://stackoverflow.com/questions/40488724/angular2-work-in-background-thread-with-custom-serializable-objects/40519807#40519807", "title": "angular2 work in background thread with custom serializable objects", "body": "<p>JavaScript is single threaded and asynchronous as long as your code is asynchronous. This means that if your code is blocking (long running loop) then you're blocking other code to be executed.</p>\n\n<p>RxJS doesn't use WebWorkers so everything you do is blocking the execution thread.</p>\n\n<p>I think if you want to process data in a non blocking way there's currently no other way than implementing it by yourself with WebWorkers.</p>\n\n<p>Also, note that asynchronous doesn't mean parallel.</p>\n"}], "owner": {"reputation": 1301, "user_id": 1380304, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/82de23a74d431e9d3489545133acf5be?s=128&d=identicon&r=PG", "display_name": "Petr Marek", "link": "https://stackoverflow.com/users/1380304/petr-marek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3697, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1478750783, "creation_date": 1478613308, "question_id": 40488724, "link": "https://stackoverflow.com/questions/40488724/angular2-work-in-background-thread-with-custom-serializable-objects", "title": "angular2 work in background thread with custom serializable objects", "body": "<p>How could I achieve this: I have some potentially long computation (eg. huge JSON to parse as http resp.) and want to do it in a non-blocking way. </p>\n\n<p>I tried to adopt <a href=\"http://keithwhor.github.io/multithread.js/\" rel=\"nofollow noreferrer\">multithread.js</a> lib to do the background work using web worker. This lib requires JSON serializable objects to pass to the execution function which is not aware of closures, DOM or any other globals.\neg. <code>MT.process(longRunningJob, doneCallback)(jsonSerializableArgForBGJob)</code>. \nBut this lib is rather old (3 years ago last commit). Are there any better alternatives more suitable for angular2? I need to target widest range of browsers including older ones (except IE/Edge) so service worker or lib using it probably is not an option.</p>\n\n<p>For serialization I found this <a href=\"https://github.com/weichx/cerialize\" rel=\"nofollow noreferrer\">cerialize</a> lib to serialize custom objects by decorating their props. That could actually work but it adds quite a lot of code and seems error prone. My other concern is that I use inheritance and polymorphism and not sure if the lib is ready for such UC. One would expect mechanism known from Java: Serializable interface and overriden serialize/deserialize methods. Is there a way to accomplish this in typescript/angular2?</p>\n"}, {"tags": ["javascript", "json", "node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 3148392, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c26ca8fdf15ff18ee1b13130099ffbc8?s=128&d=identicon&r=PG&f=1", "display_name": "tiya", "link": "https://stackoverflow.com/users/3148392/tiya"}, "edited": false, "score": 0, "creation_date": 1479117847, "post_id": 40488491, "comment_id": 68407405, "body": "Thanks , it is working. but what if JSON is like below"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 55, "user_id": 3148392, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c26ca8fdf15ff18ee1b13130099ffbc8?s=128&d=identicon&r=PG&f=1", "display_name": "tiya", "link": "https://stackoverflow.com/users/3148392/tiya"}, "edited": false, "score": 0, "creation_date": 1479133615, "post_id": 40488491, "comment_id": 68417396, "body": "Like below? Below what? I don&#39;t understand"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 0, "last_activity_date": 1478612650, "creation_date": 1478612650, "answer_id": 40488491, "question_id": 40487806, "link": "https://stackoverflow.com/questions/40487806/masking-sensitive-information-in-node/40488491#40488491", "title": "Masking sensitive information in node", "body": "<p>How about:</p>\n\n<pre><code>let myObject = { \"Name\": \"value1\", \"Phoneno\": \"545454545445\" };\nlet output = {};\n\nfunction mask(value: string) {\n    let maskedValue = \"\";\n    for (let i = 0; i &lt; value.length; i++) {\n        maskedValue += \"*\";\n    }\n\n    return maskedValue;\n}\n\nObject.keys(myObject).forEach(key =&gt; {\n    output[key] = mask(myObject[key]);\n});\n\nconsole.log(output); // Object {Name: \"******\", Phoneno: \"************\"}\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/index.html#src=let%20myObject%20%3D%20%7B%20%22Name%22%3A%20%22value1%22%2C%20%22Phoneno%22%3A%20%22545454545445%22%20%7D%3B%0Alet%20output%20%3D%20%7B%7D%3B%0A%0Afunction%20mask(value%3A%20string)%20%7B%0A%20%20%20%20let%20maskedValue%20%3D%20%22%22%3B%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20value.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20maskedValue%20%2B%3D%20%22*%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20maskedValue%3B%0A%7D%0A%0AObject.keys(myObject).forEach(key%20%3D%3E%20%7B%0A%20%20%20%20output%5Bkey%5D%20%3D%20mask(myObject%5Bkey%5D)%3B%0A%7D)%3B%0A%0Aconsole.log(output)%3B%20%2F%2F%20Object%20%7BName%3A%20%22******%22%2C%20Phoneno%3A%20%22************%22%7D\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 453, "user_id": 2296797, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/dbe68433e0b0f885ee8616118b6ba035?s=128&d=identicon&r=PG", "display_name": "Vernon", "link": "https://stackoverflow.com/users/2296797/vernon"}, "edited": false, "score": 0, "creation_date": 1478618724, "post_id": 40490503, "comment_id": 68225027, "body": "I&#39;m not sure if it&#39;s a good idea to use a placeholder which has exactly the object&#39;s value length. Using a static placeholder would be better, in my opinion. Since it&#39;s masked, it doesn&#39;t matter how long the value is anyway."}, {"owner": {"reputation": 9650, "user_id": 5218951, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d6e779359515d3dc72ff22838811ac26?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Willems", "link": "https://stackoverflow.com/users/5218951/andrew-willems"}, "reply_to_user": {"reputation": 453, "user_id": 2296797, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/dbe68433e0b0f885ee8616118b6ba035?s=128&d=identicon&r=PG", "display_name": "Vernon", "link": "https://stackoverflow.com/users/2296797/vernon"}, "edited": false, "score": 1, "creation_date": 1478618800, "post_id": 40490503, "comment_id": 68225074, "body": "@Vernon, Fair enough. Change the code to <code>for (let key in obj) masked[key] = &quot;*****&quot;;</code>. Makes it even simpler. ...Incorporated your suggestion into my answer."}, {"owner": {"reputation": 55, "user_id": 3148392, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c26ca8fdf15ff18ee1b13130099ffbc8?s=128&d=identicon&r=PG&f=1", "display_name": "tiya", "link": "https://stackoverflow.com/users/3148392/tiya"}, "edited": false, "score": 0, "creation_date": 1479122899, "post_id": 40490503, "comment_id": 68410451, "body": "Thank you all but what if obect is like below:     let myObject ={                 Header: {                     ID: &quot;1234&quot;,                   Name: &quot;XYZ&quot;,                     Username: &quot;abc&quot;,                     domain: &quot;R&quot;,                     Source: &quot;abc&quot;,                     MessageVersion: &quot;1.0&quot;,                     SendDateTime: date                 },                 Customer: {                     Event: &quot;1234&quot;                 }         };"}, {"owner": {"reputation": 9650, "user_id": 5218951, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d6e779359515d3dc72ff22838811ac26?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Willems", "link": "https://stackoverflow.com/users/5218951/andrew-willems"}, "edited": false, "score": 0, "creation_date": 1479129928, "post_id": 40490503, "comment_id": 68414909, "body": "You will probably need recursion. See the update to my answer."}], "tags": [], "owner": {"reputation": 9650, "user_id": 5218951, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d6e779359515d3dc72ff22838811ac26?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Willems", "link": "https://stackoverflow.com/users/5218951/andrew-willems"}, "is_accepted": false, "score": 0, "last_activity_date": 1479129912, "last_edit_date": 1479129912, "creation_date": 1478618311, "answer_id": 40490503, "question_id": 40487806, "link": "https://stackoverflow.com/questions/40487806/masking-sensitive-information-in-node/40490503#40490503", "title": "Masking sensitive information in node", "body": "<p>The following strategy uses a <code>for...in</code> loop to traverse the object, replacing all property values with a chain of asterisks.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const myObject = {\"Name\": \"value1\", \"Phoneno\": \"545454545445\"};\r\n\r\nconst mask = obj =&gt; {\r\n  const masked = {};\r\n  for (let key in obj) masked[key] = \"*****\";\r\n  return masked;\r\n};\r\n\r\nconsole.log(\"original:\",    myObject );\r\nconsole.log(\"masked:\", mask(myObject));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you want the masked values to be asterisks, but the same length as the original (instead of a constant length), change the <code>for...in</code> loop to the following: <code>for (let key in obj) masked[key] = \"*\".repeat(obj[key].length);</code>.</p>\n\n<p><strong>UPDATE: masking nested objects (and even arrays)</strong></p>\n\n<p>In your comments, you asked about masking values in nested objects.</p>\n\n<p>In order to process a nested object, or even a combinations of objects and/or arrays in any kind of nested arrangement, you will probably need recursion. In short, if the current value is a primitive value (e.g. a string, a number, a boolean, etc.) then replace it with the dummy string, but if the current value is an object itself (or an array), then re-send that value back into the masking process from the beginning.</p>\n\n<p>The following example shows one way that that might be done. I have used jQuery to detect whether or not a value is a plain object or an array. In this example, object property names end with \"A\", \"B\", \"C\", etc. Arrays are converted to objects, e.g. <code>[\"foo\", \"bar\"]</code> would be converted to <code>{\"0\": \"*****\", \"1\": \"*****\"}</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const myObject = {propA: \"a\", propB: {propBA: \"ba\", propBB: \"bb\"}, propC: [\"c0\", \"c1\"], propD: {propDA: \"da\", propDB: {propDBA: \"dba\", propDBB: \"dbb\"}, propDC: [\"dc0\", \"dc1\"]}, propE: [\"e0\", {propE1A: \"e1a\", propE1B: \"e1b\"}, [\"e20\", \"e21\"]]};\r\n\r\nconst mask = objOrArr =&gt; {\r\n  const masked = {};\r\n  for (let key in objOrArr) {\r\n    const val = objOrArr[key];\r\n    if ($.isPlainObject(val) || $.isArray(val)) {\r\n      masked[key] = mask(val);\r\n    } else {\r\n      masked[key] = \"*****\";\r\n    }\r\n  }\r\n  return masked;\r\n};\r\n\r\nconsole.log(\"original... \",    myObject );\r\nconsole.log(\"masked... \", mask(myObject));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8193926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25428ec50dc5eb9938e2e40ce5a63447?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Shumsky", "link": "https://stackoverflow.com/users/8193926/anton-shumsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1498045458, "creation_date": 1498045458, "answer_id": 44675141, "question_id": 40487806, "link": "https://stackoverflow.com/questions/40487806/masking-sensitive-information-in-node/44675141#44675141", "title": "Masking sensitive information in node", "body": "<p>Maybe you would find useful the library <a href=\"https://github.com/tcdl/json-masker\" rel=\"nofollow noreferrer\">https://github.com/tcdl/json-masker</a> which allows you to do this: </p>\n\n<pre><code>const mask = require('json-masker');\nconst myObject = {\"Name\": \"value1\", \"Phoneno\": \"545454545445\"};\nconst masked = mask(myObject); // will produce: \n                               // {\"Name\": \"xxxxx*\", \"Phoneno\": \"************\"}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 451, "user_id": 4266445, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/Kew1b.jpg?s=128&g=1", "display_name": "Arindam", "link": "https://stackoverflow.com/users/4266445/arindam"}, "edited": false, "score": 0, "creation_date": 1602853903, "post_id": 55127021, "comment_id": 113859038, "body": "It will not work for the nested fields like ARRAY[*].FIELD1.FIELD2 Any solution for this ?"}], "tags": [], "owner": {"reputation": 101, "user_id": 8829377, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pMaU5egTJnM/AAAAAAAAAAI/AAAAAAAAABk/NLoVJ6x1HR8/photo.jpg?sz=128", "display_name": "Sumukha H S", "link": "https://stackoverflow.com/users/8829377/sumukha-h-s"}, "is_accepted": false, "score": 3, "last_activity_date": 1576814254, "last_edit_date": 1576814254, "creation_date": 1552410228, "answer_id": 55127021, "question_id": 40487806, "link": "https://stackoverflow.com/questions/40487806/masking-sensitive-information-in-node/55127021#55127021", "title": "Masking sensitive information in node", "body": "<p>Use maskdata npm module : <a href=\"https://www.npmjs.com/package/maskdata\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/maskdata</a> </p>\n\n<p>It provides features to,</p>\n\n<ol>\n<li>Mask Phone Number</li>\n<li>Mask Password</li>\n<li>Mask Email</li>\n<li>Mask JSON fields</li>\n<li>Mask Card number</li>\n<li>Mask a value from the string</li>\n</ol>\n\n<p>In your case, you want to mask JSON fields. Use, </p>\n\n<pre><code>\nconst maskJSONOptions = {\n  // Character to mask the data. Default value is '*'\n  maskWith : \"*\",\n  // Field names to mask. Can give multiple fields.\n  fields : ['password', 'firstName'] // It should be an array\n};\n\nconst obj = {\n  password : \"IKnowNothing\",\n  firstName : \"Jon\",\n  lastName : \"Snoww\"\n};\nconst maskedObj = MaskData.maskJSONFields(obj, maskJSONOptions);\n\n//Output : { password: '************', firstName: '***', lastName: 'Snoww' }\n</code></pre>\n\n<p>I was also facing trouble with masking the data. So I published this npm module.</p>\n\n<p><strong>You can also mask the nested objects with maskdata module.</strong></p>\n\n<p>eg: </p>\n\n<pre><code>const MaskData = require('./maskdata');\n\nconst maskJSONOptions = {\n // Character to mask the data. Default value is '*'\n maskWith : \"*\",\n\n // It should be an array\n // Field names to mask. Can give multiple fields.\n fields : ['level1.level2.level3.field3', 'level1.level2.field2', 'level1.field1', 'value1'] \n};\n\nconst nestedObject = {\n level1: {\n   field1: \"field1\",\n   level2: {\n     field2: \"field2\",\n     level3: {\n       field3: \"field3\",\n     }\n   }\n },\n value1: \"value\"\n};\nconst maskedObj = MaskData.maskJSONFields(nestedObject, defaultJSONMaskOptions2);\n\n//Output : {\"level1\":{\"field1\":\"******\",\"level2\":{\"field2\":\"******\",\"level3\":{\"field3\":\"******\"}}},\"value1\":\"*****\"}\n\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 3148392, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c26ca8fdf15ff18ee1b13130099ffbc8?s=128&d=identicon&r=PG&f=1", "display_name": "tiya", "link": "https://stackoverflow.com/users/3148392/tiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5564, "favorite_count": 0, "accepted_answer_id": 40488491, "answer_count": 4, "score": 0, "last_activity_date": 1576814254, "creation_date": 1478610648, "last_edit_date": 1478612664, "question_id": 40487806, "link": "https://stackoverflow.com/questions/40487806/masking-sensitive-information-in-node", "title": "Masking sensitive information in node", "body": "<p>I want to mask/hide only json values not keys.\nFor Ex:-</p>\n\n<pre><code>myObject = {\"Name\":\"value1\",\"Phoneno\":\"545454545445\"}\nOutput should be like below:\nmyObject = {\"key1\":*****\n\n***,\"key2\":*****}\n</code></pre>\n\n<p>Can you please tell me, how we can do this in nodejs?\nThanks.</p>\n"}, {"tags": ["javascript", "unit-testing", "typescript", "mocking", "jasmine"], "owner": {"reputation": 731, "user_id": 5596894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FEqOH.jpg?s=128&g=1", "display_name": "Chris White", "link": "https://stackoverflow.com/users/5596894/chris-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478610429, "creation_date": 1478610429, "question_id": 40487733, "link": "https://stackoverflow.com/questions/40487733/promise-not-being-resolved-when-run-inside-jasmine-unit-tests", "title": "Promise not being resolved when run inside Jasmine unit tests", "body": "<p>Facing a strange issue when testing a method that returns a promise in Jasmine unit tests. I have the following class:</p>\n\n<pre><code>import http = require('http');\nimport https = require('https');\nimport fs = require('fs');\n\nexport default class ImageDownloader {\n    constructor(protected downloadPath:string) {}\n\n    async download(url: string): Promise&lt;string&gt; {\n        return new Promise&lt;string&gt;((resolve, reject) =&gt; {\n            let file = fs.createWriteStream(this.downloadPath, { autoClose: true });\n            let schema:any = url.startsWith('https') ? https : http;\n\n            schema.get(url, (response:fs.ReadStream) =&gt; {\n                response.pipe(file).on('finish', () =&gt; resolve(this.downloadPath));\n            }).on('error', (error) =&gt; reject(error));\n        });\n    }\n}\n</code></pre>\n\n<p>It downloads an image to the download path given in the constructor, and then resolves the promise with that download path once the file has been written to disk.</p>\n\n<p>I've written a Jasmine unit test:</p>\n\n<pre><code>import fs = require('fs');\nimport http = require('http');\nimport ImageDownloader from '../../src/Image/ImageDownloader';\n\ndescribe('Image Downloader', () =&gt; {\n    describe('download()', () =&gt; {\n        it('returns the path to the downloaded image', done =&gt; {\n            spyOn(http, 'get').and.callFake((url, cb) =&gt; {\n                cb(fs.createReadStream(__dirname+'/../assets/elephpant.png'));\n            });\n\n            let imageDownloader = new ImageDownloader('/tmp/image');\n\n            imageDownloader.download('http://foo.bar/bazz.jpg').then((path) =&gt; {\n                expect(path).toEqual('/tmp/image');\n                done();\n            });\n        });\n    });\n});\n</code></pre>\n\n<p>In this test, I mock the Node <code>http</code> module in order to return my own faked \"HTTP response\". Remember that Node's <code>IncomingMessage</code> class (what would normally be returned as the response from <code>http.get()</code>) implements the readable stream interface, so I'm just returning my own readable stream with <code>fs.createReadStream()</code>.</p>\n\n<p>When running this test, it just times out because the promise is never getting resolved:</p>\n\n<pre><code>F\nFailures: \n1) Image Downloader download() returns the path to the downloaded image\n1.1) Error: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.\n</code></pre>\n\n<p>However, the weird part is that if I change the part of the <code>download()</code> method that resolves the promise to this:</p>\n\n<pre><code>response.pipe(file).on('finish', () =&gt; console.log('the promise would normally be resolved here'));\n</code></pre>\n\n<p>I see this output:</p>\n\n<pre><code>the promise would normally be resolved here\nF\nFailures: \n1) Image Downloader download() returns the path to the downloaded image\n1.1) Error: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.\n</code></pre>\n\n<p>So we're obviously getting to the part when the promise is called. It's like I'm calling <code>resolve()</code> but the promise is not resolving for some reason.</p>\n"}, {"tags": ["asynchronous", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 602474, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/24d731473e4f32f7b5b1242237a6fe53?s=128&d=identicon&r=PG", "display_name": "Ethan", "link": "https://stackoverflow.com/users/602474/ethan"}, "edited": false, "score": 1, "creation_date": 1538056425, "post_id": 40487237, "comment_id": 92016726, "body": "Hey @Stefan Svrkota, I tried your solution and it looks like, in the most recent version of angular, you are passing in an error method for the <code>()</code> section, not a <code>complete</code> method. you need to add something like this: <code>this._sdiService.getDirectoriesAtPath(&quot;Desktop&quot;)         .subscribe(res =&gt; {             this.nodeChildren = res;             this.getChildren(); &lt;-- here         }, null, &#47;&#47; doesn&#39;t have to be null, just another parameter         () =&gt; {             this.getChildren(); &lt;-- or here         });</code>"}, {"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "reply_to_user": {"reputation": 221, "user_id": 602474, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/24d731473e4f32f7b5b1242237a6fe53?s=128&d=identicon&r=PG", "display_name": "Ethan", "link": "https://stackoverflow.com/users/602474/ethan"}, "edited": false, "score": 1, "creation_date": 1538058918, "post_id": 40487237, "comment_id": 92018483, "body": "@Ethan That&#39;s true, I edited my answer so it doesn&#39;t create any confusion for the further readers. Thank you so much for letting me know!"}, {"owner": {"reputation": 221, "user_id": 602474, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/24d731473e4f32f7b5b1242237a6fe53?s=128&d=identicon&r=PG", "display_name": "Ethan", "link": "https://stackoverflow.com/users/602474/ethan"}, "edited": false, "score": 1, "creation_date": 1538061037, "post_id": 40487237, "comment_id": 92019928, "body": "you are so welcome! Happy to help, this post helped me make a step in the right direction :D"}], "tags": [], "owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "is_accepted": true, "score": 9, "last_activity_date": 1538058885, "last_edit_date": 1538058885, "creation_date": 1478608829, "answer_id": 40487237, "question_id": 40486765, "link": "https://stackoverflow.com/questions/40486765/typescript-angular-2-call-a-function-after-another-completes/40487237#40487237", "title": "TypeScript/Angular 2 - call a function after another completes", "body": "<p>There are two simple ways to call your second function after first one is finished - you can do it under <code>this.nodeChildren = res;</code> or use finish parameter <code>()</code>:</p>\n\n<pre><code>getDirectorySubfolders(node: any) {\n    console.log('Home:getDirectorySubfolders() entered...');\n\n    this._sdiService.getDirectoriesAtPath(\"Desktop\")\n        .subscribe(\n         res =&gt; {\n             this.nodeChildren = res;\n             this.getChildren(); &lt;-- here\n         },\n         err =&gt; {\n             console.log(err);\n         },\n         () =&gt; {\n             this.getChildren(); &lt;-- or here\n         });\n}\n</code></pre>\n\n<p>When you call <code>getDirectorySubfolders()</code> function, <code>getChildren()</code> will be called after completion of  <code>getDirectorySubfolders()</code>. Keep in mind that if you use finish parameter, the function will get called even if error occurs.</p>\n"}], "owner": {"reputation": 2566, "user_id": 5874702, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/IPSB7.png?s=128&g=1", "display_name": "Roka545", "link": "https://stackoverflow.com/users/5874702/roka545"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14237, "favorite_count": 2, "accepted_answer_id": 40487237, "answer_count": 1, "score": 5, "last_activity_date": 1538058885, "creation_date": 1478607435, "last_edit_date": 1478609127, "question_id": 40486765, "link": "https://stackoverflow.com/questions/40486765/typescript-angular-2-call-a-function-after-another-completes", "title": "TypeScript/Angular 2 - call a function after another completes", "body": "<p>I have two functions that I would like to call, but I only want to call the second one after the first one completes. How do I go about doing that?</p>\n\n<p><strong>First</strong> function:</p>\n\n<pre><code>getDirectorySubfolders(node: any) {\n    console.log('Home:getDirectorySubfolders() entered...');\n\n    this._sdiService.getDirectoriesAtPath(\"Desktop\")\n        .subscribe(res =&gt; {\n            this.nodeChildren = res;\n        });\n}\n</code></pre>\n\n<p><strong>Second</strong> function:</p>\n\n<pre><code>getChildren(node: any) {\n   console.log('Home:getChildren entered..');\n   return new Promise((resolve, reject) =&gt;\n   {\n       setTimeout(() =&gt; resolve(this.nodeChildren.map((c) =&gt;\n       {\n           return Object.assign({}, c, {});\n       })), 1000);\n   });\n}\n</code></pre>\n"}, {"tags": ["angularjs", "angular", "typescript"], "owner": {"reputation": 127, "user_id": 3481842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1529be4318d05cdf6464bfe6a67f1220?s=128&d=identicon&r=PG&f=1", "display_name": "kalifa17", "link": "https://stackoverflow.com/users/3481842/kalifa17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478607367, "creation_date": 1478607367, "question_id": 40486734, "link": "https://stackoverflow.com/questions/40486734/singleton-shared-service-in-hybrid-angular1-and-angular2-app", "title": "Singleton shared service in hybrid angular1 and angular2 app", "body": "<p>Is it possible to have a singleton Angular2 service in a hybrid angular app? </p>\n\n<p>It creates a different instance once my service is <code>upgradeAdapter.downgradeNg2Provider(Ng2Service )</code> even when I have <code>providers: [ Ng2Service ]</code> in the top <code>NgModule</code>:</p>\n\n<p><strong>Angular2 Service:</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class Ng2Service {\n\n    private value: any;\n\n    constructor() {\n        console.log('constructor Ng2Service!');\n    }\n\n    setValue(value: any): void {\n        this.value= value;\n    }\n\n    getValue(): any {\n        return this.value;\n    }\n}\n</code></pre>\n\n<p>The service is injected to Angular1 and it works, however the <strong>'constructor Ng2Service!'</strong> its called two times, and when using the dummy method <code>setValue</code> from Angular1 and then try to <code>getValue</code> from Angular2 the value is <strong>null</strong>, however calling <code>getValue</code> from Angular1 returns the correct value.</p>\n"}, {"tags": ["generics", "typescript", "interface", "tsc"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1478606018, "post_id": 40485767, "comment_id": 68216008, "body": "This code, when copied to playground, produces no errors"}, {"owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1478607140, "post_id": 40485767, "comment_id": 68216730, "body": "Sorry @NitzanTomer, I have updated my question - it compiles correctly in <code>2.0.3</code> but not in <code>1.8.10</code>"}], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1478607915, "creation_date": 1478607915, "answer_id": 40486919, "question_id": 40485767, "link": "https://stackoverflow.com/questions/40485767/typescript-compiler-confused-with-large-inheritance-extension-chain/40486919#40486919", "title": "TypeScript compiler confused with large inheritance/extension chain", "body": "<p>This compiles fine in both <code>1.8.x</code> and <code>2.x</code>:</p>\n\n<pre><code>type TypedGridView = { new (...args: any[]): IGridView&lt;ItemView&lt;BaseModel&gt;, BaseModel&gt; };\n\nfunction bind&lt;TInterface&gt;(key: string, implementation: new (...args: any[]) =&gt; TInterface) {\n    // do some bindings here\n}\n\nbind(\"IGridView\", GridView as TypedGridView);\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/index.html#src=export%20class%20BaseModel%20%7B%0A%20%20%20%20public%20someBaseModelMethod()%3A%20void%20%7B%20%7D%0A%7D%0A%0Aexport%20class%20BaseView%20%7B%0A%20%20%20%20public%20someBaseViewMethod()%3A%20void%20%7B%20%7D%0A%7D%0A%0Aexport%20class%20CollectionView%3CTChildView%20extends%20BaseView%2C%20TModel%20extends%20BaseModel%3E%20extends%20BaseView%20%7B%0A%20%20%20%20public%20someCollectionViewMethod()%3A%20void%20%7B%20%7D%0A%7D%0A%0Aexport%20class%20ItemView%3CTModel%20extends%20BaseModel%3E%20extends%20BaseView%20%7B%0A%20%20%20%20public%20setItem(model%3A%20TModel)%3A%20void%20%7B%20%7D%0A%7D%0A%0Aexport%20interface%20IGridView%3CTChildView%20extends%20ItemView%3CTModel%3E%2C%20TModel%20extends%20BaseModel%3E%0A%20%20%20%20extends%20CollectionView%3CTChildView%2C%20TModel%3E%0A%7B%0A%20%20%20%20someGridViewMethod()%3A%20void%3B%0A%7D%0A%0Aexport%20class%20GridView%3CTChildView%20extends%20ItemView%3CTModel%3E%2C%20TModel%20extends%20BaseModel%3E%0A%20%20%20%20extends%20CollectionView%3CTChildView%2C%20TModel%3E%0A%20%20%20%20implements%20IGridView%3CTChildView%2C%20TModel%3E%0A%7B%0A%20%20%20%20public%20someGridViewMethod()%3A%20void%20%7B%20%7D%0A%7D%0A%0Atype%20TypedGridView%20%3D%20%7B%20new%20(...args%3A%20any%5B%5D)%3A%20IGridView%3CItemView%3CBaseModel%3E%2C%20BaseModel%3E%20%7D%3B%0A%0Afunction%20bind%3CTInterface%3E(key%3A%20string%2C%20implementation%3A%20new%20(...args%3A%20any%5B%5D)%20%3D%3E%20TInterface)%20%7B%0A%20%20%20%20%2F%2F%20do%20some%20bindings%20here%0A%7D%0A%0Abind(%22IGridView%22%2C%20GridView%20as%20TypedGridView)%3B\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n\n<p>It seems that the <code>1.8.x</code> compiler fails to recognize <code>GridView</code> as a constructor to:</p>\n\n<pre><code>IGridView&lt;ItemView&lt;BaseModel&gt;, BaseModel&gt;\n</code></pre>\n"}], "owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 40486919, "answer_count": 1, "score": 0, "last_activity_date": 1478607915, "creation_date": 1478604568, "last_edit_date": 1478607116, "question_id": 40485767, "link": "https://stackoverflow.com/questions/40485767/typescript-compiler-confused-with-large-inheritance-extension-chain", "title": "TypeScript compiler confused with large inheritance/extension chain", "body": "<p>I have the following (reasonably complex) extension chain. It is a minimal reproducible example of my problem (obviously the classes will have behavioural implementations in my application).</p>\n\n<pre><code>export class BaseModel\n{\n    public someBaseModelMethod(): void { }\n}\n\nexport class BaseView\n{\n    public someBaseViewMethod(): void { }\n}\n\nexport class CollectionView&lt;TChildView extends BaseView, TModel extends BaseModel&gt;\n    extends BaseView\n{\n    public someCollectionViewMethod(): void { }\n}\n\nexport class ItemView&lt;TModel extends BaseModel&gt;\n    extends BaseView\n{\n    public setItem(model: TModel): void { }\n}\n\nexport interface IGridView&lt;TChildView extends ItemView&lt;TModel&gt;, TModel extends BaseModel&gt;\n    extends CollectionView&lt;TChildView, TModel&gt;\n{\n    someGridViewMethod(): void;\n}\n\nexport class GridView&lt;TChildView extends ItemView&lt;TModel&gt;, TModel extends BaseModel&gt;\n    extends CollectionView&lt;TChildView, TModel&gt;\n    implements IGridView&lt;TChildView, TModel&gt;\n{\n    public someGridViewMethod(): void { }\n}\n\nfunction bind&lt;TInterface&gt;(key: string, implementation: new (...args: any[]) =&gt; TInterface) {\n    // do some bindings here\n}\n\nbind&lt;IGridView&lt;ItemView&lt;BaseModel&gt;, BaseModel&gt;&gt;(\"IGridView\", GridView);\n</code></pre>\n\n<p>When I compile, I get an error on the <code>GridView</code> part of the final line (the <code>bind</code> statement). The error is as follows:</p>\n\n<pre><code>TS2345 Argument of type 'typeof GridView' is not assignable to parameter of type 'new (...args: any[]) =&gt; IGridView&lt;ItemView&lt;BaseModel&gt;, BaseModel&gt;'.\n    Type 'CollectionView&lt;any, any&gt;' is not assignable to type 'IGridView&lt;ItemView&lt;BaseModel&gt;, BaseModel&gt;'.\n        Property 'someGridViewMethod' is missing in type 'CollectionView&lt;any, any&gt;'.\n</code></pre>\n\n<p>As you can see, it is expecting <code>someGridViewMethod</code> to be on <code>CollectionView</code>. However, <code>GridView</code> <strong>extends</strong> <code>CollectionView</code>, so why is it expecting to find <code>GridView</code> methods on the <code>CollectionView</code> class?</p>\n\n<hr>\n\n<p>The code compiles correctly in <code>2.0.3</code>, but not in <code>1.8.10</code>.</p>\n"}, {"tags": ["angular", "typescript", "kendo-ui"], "comments": [{"owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1478602446, "post_id": 40485012, "comment_id": 68213769, "body": "<a href=\"http://dojo.telerik.com/UKUPo\" rel=\"nofollow noreferrer\">Tried this?</a> They are not greyed out because the widget simply doesn&#39;t renders disabled days."}, {"owner": {"reputation": 103, "user_id": 6863489, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2FFIo.jpg?s=128&g=1", "display_name": "Mitchell Y", "link": "https://stackoverflow.com/users/6863489/mitchell-y"}, "reply_to_user": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1478602554, "post_id": 40485012, "comment_id": 68213838, "body": "Yeap. However I do not want to hide future dates but only grey them out, meaning they cannot be selected by the dates is still displayed. Any idea how that is done? @DontVoteMeDown"}, {"owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 1, "creation_date": 1478602785, "post_id": 40485012, "comment_id": 68213985, "body": "I suspected. but the days are not rendered, check it out by yourself: inspect the blank area which the future days suposed to be displayed, you&#39;ll see that there is only <code>&amp;nbsp; </code> chars and not the days. It&#39;s a shame but its a widget limitation. If the days were hidden with css, the theme could handle it."}, {"owner": {"reputation": 103, "user_id": 6863489, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2FFIo.jpg?s=128&g=1", "display_name": "Mitchell Y", "link": "https://stackoverflow.com/users/6863489/mitchell-y"}, "reply_to_user": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1478603192, "post_id": 40485012, "comment_id": 68214228, "body": "Well, that actually makes sense now. I have been trying for a day now just to grey it out but it doesn&#39;t. Maybe only css is the only way to work around it, Appreciate it @DontVoteMeDown"}, {"owner": {"reputation": 103, "user_id": 6863489, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2FFIo.jpg?s=128&g=1", "display_name": "Mitchell Y", "link": "https://stackoverflow.com/users/6863489/mitchell-y"}, "reply_to_user": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 1, "creation_date": 1478608048, "post_id": 40485012, "comment_id": 68217324, "body": "I just tried using <a href=\"http://docs.telerik.com/kendo-ui/api/javascript/ui/calendar#configuration-disableDates\" rel=\"nofollow noreferrer\">disableDates</a> using a function to disable future dates. But however, when I select a date from the previous month, the disabled dates are once again active. Is there a way to prevent this?"}, {"owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 1, "creation_date": 1478608367, "post_id": 40485012, "comment_id": 68217536, "body": "Maybe you&#39;re doing the wrong verification. It should return <code>true</code> to disable and not the otherwise. Check <a href=\"http://dojo.telerik.com/IkOHu\" rel=\"nofollow noreferrer\">this out</a>. Indeed it works."}, {"owner": {"reputation": 103, "user_id": 6863489, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2FFIo.jpg?s=128&g=1", "display_name": "Mitchell Y", "link": "https://stackoverflow.com/users/6863489/mitchell-y"}, "reply_to_user": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1478610176, "post_id": 40485012, "comment_id": 68218753, "body": "@DontVoteMeDown Brillaint! This works!"}, {"owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1478611137, "post_id": 40485012, "comment_id": 68219488, "body": "Want an answer of that ?"}, {"owner": {"reputation": 103, "user_id": 6863489, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2FFIo.jpg?s=128&g=1", "display_name": "Mitchell Y", "link": "https://stackoverflow.com/users/6863489/mitchell-y"}, "reply_to_user": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1478618476, "post_id": 40485012, "comment_id": 68224870, "body": "Sure @DontVoteMeDown"}], "answers": [{"tags": [], "owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "is_accepted": true, "score": 1, "last_activity_date": 1478620944, "creation_date": 1478620944, "answer_id": 40491401, "question_id": 40485012, "link": "https://stackoverflow.com/questions/40485012/disable-future-date-in-kendo-ui-calendar-widget/40491401#40491401", "title": "Disable future date in Kendo UI Calendar Widget", "body": "<p>The <a href=\"http://docs.telerik.com/kendo-ui/api/javascript/ui/calendar#configuration-disableDates\" rel=\"nofollow noreferrer\"><code>disableDates</code></a> options(that you have find out by yourself) function expects to be told whenever it should display the day. So you have to return true if it is a valid date, e.g.:</p>\n\n<pre><code>disableDates: function (date) {\n    return (date &amp;&amp; date.getTime() &gt; (new Date()).getTime());\n}\n</code></pre>\n\n<p><a href=\"http://dojo.telerik.com/IkOHu\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 103, "user_id": 6863489, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2FFIo.jpg?s=128&g=1", "display_name": "Mitchell Y", "link": "https://stackoverflow.com/users/6863489/mitchell-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1295, "favorite_count": 0, "accepted_answer_id": 40491401, "answer_count": 1, "score": 1, "last_activity_date": 1478620944, "creation_date": 1478602258, "question_id": 40485012, "link": "https://stackoverflow.com/questions/40485012/disable-future-date-in-kendo-ui-calendar-widget", "title": "Disable future date in Kendo UI Calendar Widget", "body": "<p>How is it possible to disable (basically i mean just greying out) future dates in Kendo UI Calendar widget? I have only tried to hide future dates but it does not seem to look good and I have tried various way to grey it out but not finding the proper method? Any ideas will be really appreciated.</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": 1, "last_activity_date": 1478601038, "last_edit_date": 1495535271, "creation_date": 1478600580, "answer_id": 40484447, "question_id": 40484371, "link": "https://stackoverflow.com/questions/40484371/why-do-i-lose-context-in-this-code/40484447#40484447", "title": "Why do I lose context in this code?", "body": "<p>That's because you set:</p>\n\n<pre><code>let originDesc = desc.value; // This is where you loose context\n</code></pre>\n\n<p>and then call <code>originDesc</code>. This is exactly the same case as described here: <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-context-inside-a-callback\">How to access the correct `this` context inside a callback?</a>.</p>\n\n<p>Also, <code>originDesc(...args)</code> compiles into <code>originDesc.apply(void 0, args)</code>. (<code>void</code> because it has not context binded, you can test it on <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/play/</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 1, "last_activity_date": 1478600612, "creation_date": 1478600612, "answer_id": 40484461, "question_id": 40484371, "link": "https://stackoverflow.com/questions/40484371/why-do-i-lose-context-in-this-code/40484461#40484461", "title": "Why do I lose context in this code?", "body": "<blockquote>\n  <p>As far as I understand originDesc(...args); equals originDesc.apply(this, arguments); so why context is lost?</p>\n</blockquote>\n\n<p>No, it doesn't. It's equivalent to <code>originDesc(args[0], args[1], /*etc.*/)</code>, which uses the default <code>this</code> (the global object in loose mode, <code>undefined</code> in strict mode).</p>\n\n<p>In that code, you'll need to use <code>.apply</code>:</p>\n\n<pre><code>originDesc.apply(appropriateThisValueHere, args);\n</code></pre>\n\n<p>or <code>.call</code>:</p>\n\n<pre><code>originDesc.call(appropriateThisValueHere, ...args);\n</code></pre>\n\n<p>According to this comment in the code:</p>\n\n<blockquote>\n<pre><code> //return originDesc.apply(this, arguments); // ==&gt; all OK\n</code></pre>\n</blockquote>\n\n<p><code>appropriateThisValue</code> would be <code>this</code>, so either:</p>\n\n<pre><code>originDesc.apply(this, args);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>originDesc.call(this, ...args);\n</code></pre>\n"}], "owner": {"reputation": 1027, "user_id": 3970831, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BM5Xl.jpg?s=128&g=1", "display_name": "Zurab-D", "link": "https://stackoverflow.com/users/3970831/zurab-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 1, "accepted_answer_id": 40484461, "answer_count": 2, "score": 1, "last_activity_date": 1478605515, "creation_date": 1478600359, "last_edit_date": 1478605515, "question_id": 40484371, "link": "https://stackoverflow.com/questions/40484371/why-do-i-lose-context-in-this-code", "title": "Why do I lose context in this code?", "body": "<p>Here is the code where I lose the context when using the spread operator.</p>\n\n<p>Look at function \"decorator\". Line when I lose context is marked with \"ERROR\"</p>\n\n<pre><code>/** MethodDecorator example */\nclass Account {\n    public firstName: string;\n    public lastName: string;\n\n    public constructor(firstName: string, lastName: string) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    @decorator\n    public sayMessage(msg: string): string {\n        return `${this.firstName} ${this.lastName}: ${msg}`\n    }\n}\n\nfunction decorator(target: any, key: string, desc: any): any {\n    let originDesc = desc.value;\n\n    desc.value = function(...args: any[]): any {\n        return originDesc(...args); // ==&gt; ERROR: context lost\n        //return originDesc.apply(this, arguments); // ==&gt; all OK\n    };\n    return desc;\n}\n\nlet persone = new Account('John', 'Smith');\nlet message = persone.sayMessage('Hello world!');\nconsole.log(message); // ==&gt; undefined undefined: Hello world!\n</code></pre>\n\n<p>As far as I understand <code>originDesc(...args);</code> equals <code>originDesc.apply(this, arguments);</code> so why is my context lost?</p>\n"}, {"tags": ["javascript", "typescript", "systemjs"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 1, "creation_date": 1478600076, "post_id": 40484160, "comment_id": 68212194, "body": "See the last sentence in this paragraph on CommonJS: <a href=\"https://github.com/systemjs/systemjs/blob/master/docs/module-formats.md#commonjs\" rel=\"nofollow noreferrer\">github.com/systemjs/systemjs/blob/master/docs/&hellip;</a>. SystemJS doesn&#39;t load CommonJS modules exactly the same way as NodeJS does. There&#39;s <code>@node</code> however I have no personal experience with this kind of black magic."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1478601578, "post_id": 40484160, "comment_id": 68213211, "body": "@martin well, isn&#39;t that dandy.  I especially like: &quot;this should only be used when absolutely necessary as it stops code from being universal, and makes it only compatible with NodeJS&quot;. So now I&#39;m forced to use <code>jspm</code> as well?"}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1478601697, "post_id": 40484160, "comment_id": 68213297, "body": "I&#39;ve never used that option myself, I just remember is saw it mentioned there..."}], "answers": [{"comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1478612460, "post_id": 40487967, "comment_id": 68220477, "body": "Thanks! I ended up using the <code>validate.default</code> option. It would have been great to import it like the last option you gave, but unfortunately the same code needs to run in both the browser and node."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 3, "last_activity_date": 1478611902, "last_edit_date": 1478611902, "creation_date": 1478611108, "answer_id": 40487967, "question_id": 40484160, "link": "https://stackoverflow.com/questions/40484160/importing-goes-wrong-with-systemjs/40487967#40487967", "title": "importing goes wrong with systemjs", "body": "<p>When you compile with <code>\"module\": \"system\"</code>, node-compatible import</p>\n\n<pre><code>import validate = require(\"validate.js\");\n</code></pre>\n\n<p>no longer works - the value you are getting for <code>validate</code> is a module, not a function. This may be a bug in typescript, or it could be by design - I don't know. (update: from github comment addressed to JsonFreeman <a href=\"https://github.com/Microsoft/TypeScript/issues/2242#issuecomment-78154149\" rel=\"nofollow noreferrer\">here</a>, it looks like it's by design: <code>you get the module object with a set of properties including one named default</code>).</p>\n\n<p>There are several ways around this.</p>\n\n<p>First, you can do easy conversion yourself - the function that you need is provided as <code>default</code> property of the module, so this line will fix it:</p>\n\n<pre><code>validate = validate.default ? validate.default : validate;\n</code></pre>\n\n<p>Or, you can compile with <code>\"module\": \"commonjs\"</code> even for the browser, so typescript will generate working code, and systemjs will detect format for your modules automatically.</p>\n\n<p>Or finally, you could still compile with <code>\"module\": \"system\"</code>, but import <code>validate.js</code> as it's intended in its typings:</p>\n\n<pre><code>import validate from 'validate.js';\n</code></pre>\n\n<p>That way you don't have to do any casts to <code>any</code>, and typescript will generate necessary access for <code>default</code> property, but the drawback is that   it will not work at all in node when imported that way.</p>\n"}], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 40487967, "answer_count": 1, "score": 3, "last_activity_date": 1478611902, "creation_date": 1478599860, "question_id": 40484160, "link": "https://stackoverflow.com/questions/40484160/importing-goes-wrong-with-systemjs", "title": "importing goes wrong with systemjs", "body": "<p>I'm trying to use an existing js library (<a href=\"https://validatejs.org\" rel=\"nofollow noreferrer\">validate.js</a>) in both the client and server.</p>\n\n<p>I installed it using npm, and everything compiles for both server and client.<br>\nWhen using it in the server it works great, but when I execute it in the browser it throws an error.</p>\n\n<p>The same file is used in both cases:</p>\n\n<pre><code>import validate = require(\"validate.js\");\n\nexport function RequestValidator(data: any): any {\n    return (validate as any)(data, constraints, { allowEmpty: true });\n}\n</code></pre>\n\n<p><code>validate</code> is asserted to <code>any</code> becuase otherwise I get:</p>\n\n<blockquote>\n  <p>TS2349: Cannot invoke an expression whose type lacks a call signature.</p>\n</blockquote>\n\n<p>The <code>.d.ts</code> I'm using is:</p>\n\n<pre><code>declare module \"validate.js\" {\n    export interface ValidateJS {\n        (attributes: any, constraints: any, options?: any): any;\n        async(attributes: any, constraints: any, options?: any): Promise&lt;any&gt;;\n        single(value: any, constraints: any, options?: any): any;\n    }\n\n    export const validate: ValidateJS;\n    export default validate;\n}\n</code></pre>\n\n<p>The module only exports a function, and that works well in the server, but in the client when invoking this function I get:</p>\n\n<pre><code>Uncaught TypeError: validate is not a function(\u2026)\n</code></pre>\n\n<p>The code is compiled using target <code>commonjs</code> for the server:</p>\n\n<pre><code>\"use strict\";\nconst validate = require(\"validate.js\");\n...\n</code></pre>\n\n<p>And <code>system</code> for the client:</p>\n\n<pre><code>System.register([\"validate.js\"], function(exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 &amp;&amp; context_1.id;\n    var validate;\n    ...\n\n    return {\n        setters:[\n            function (validate_1) {\n                validate = validate_1;\n            }],\n    ...\n</code></pre>\n\n<p>When debugging it, <code>validate</code> indeed isn't a function it's:</p>\n\n<pre><code>validate: r\n    EMPTY_STRING_REGEXP: (...)\n    get EMPTY_STRING_REGEXP: function()\n    set EMPTY_STRING_REGEXP: function()\n    Promise: (...)\n    get Promise: function()\n    set Promise: function()\n    __useDefault: (...)\n    get __useDefault: function()\n    set __useDefault: function()\n    async: (...)\n    get async: function()\n    set async: function()\n    capitalize: (...)\n    get capitalize: function()\n    set capitalize: function()\n    cleanAttributes: (...)\n    get cleanAttributes: function()\n    set cleanAttributes: function()\n    ...\n</code></pre>\n\n<p>Any idea what's going on and why it behaves this way in the browser?</p>\n"}, {"tags": ["angular", "typescript", "sass", "webpack", "webpack-style-loader"], "answers": [{"tags": [], "owner": {"reputation": 3190, "user_id": 6370870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8f0380bd81cd044ae850954181a41d4?s=128&d=identicon&r=PG&f=1", "display_name": "Max K", "link": "https://stackoverflow.com/users/6370870/max-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1484646206, "creation_date": 1484646206, "answer_id": 41693722, "question_id": 40483045, "link": "https://stackoverflow.com/questions/40483045/how-to-add-sass-support-to-webpack-angular2-starter-kit/41693722#41693722", "title": "How to add Sass support to webpack-angular2 starter kit?", "body": "<p>After some research I implemented Sass support.</p>\n\n<p>This is my solution:</p>\n\n<p>Command line inside project folder where your existing package.json is: </p>\n\n<pre><code>npm install node-sass sass-loader raw-loader --save-dev\n</code></pre>\n\n<p>In webpack.common.js, search for \"loaders:\" and add this object to the end of the loaders array (don't forget to add a comma to the end of the previous object):</p>\n\n<pre><code>{\n  test: /\\.scss$/,\n  exclude: /node_modules/,\n  loaders: ['raw-loader', 'sass-loader'] // sass-loader not scss-loader\n}\n</code></pre>\n\n<p>Then in your component:</p>\n\n<pre><code>@Component({\n  styleUrls: ['./filename.scss'],\n})\n</code></pre>\n\n<p>If you want global CSS support then on the top level component (likely app.component.ts) remove encapsulation and include the SCSS:</p>\n\n<pre><code>import {ViewEncapsulation} from '@angular/core';\n\n@Component({\n  selector: 'app',\n  styleUrls: ['./bootstrap.scss'],\n  encapsulation: ViewEncapsulation.None,\n  template: ``\n})\nclass App {}\n</code></pre>\n"}], "owner": {"reputation": 3190, "user_id": 6370870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8f0380bd81cd044ae850954181a41d4?s=128&d=identicon&r=PG&f=1", "display_name": "Max K", "link": "https://stackoverflow.com/users/6370870/max-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 41693722, "answer_count": 1, "score": 1, "last_activity_date": 1484646206, "creation_date": 1478596673, "question_id": 40483045, "link": "https://stackoverflow.com/questions/40483045/how-to-add-sass-support-to-webpack-angular2-starter-kit", "title": "How to add Sass support to webpack-angular2 starter kit?", "body": "<p>I am using webpack-angular2 starter kit (<a href=\"https://github.com/AngularClass/angular2-webpack-starter\" rel=\"nofollow noreferrer\">https://github.com/AngularClass/angular2-webpack-starter</a>)</p>\n\n<p>How I can implement Sass support? </p>\n"}, {"tags": ["angular", "typescript", "ngrx"], "answers": [{"comments": [{"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1478594834, "post_id": 40482256, "comment_id": 68208793, "body": "Removing dispatch was also needed since I got a weird error in other reducers when using it. Thanks!"}], "tags": [], "owner": {"reputation": 6245, "user_id": 4911384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-pRKkwUEJZws/AAAAAAAAAAI/AAAAAAAAA-A/VAn5zKHtzzQ/photo.jpg?sz=128", "display_name": "Vlado Tesanovic", "link": "https://stackoverflow.com/users/4911384/vlado-tesanovic"}, "is_accepted": true, "score": 2, "last_activity_date": 1478593944, "creation_date": 1478593944, "answer_id": 40482256, "question_id": 40481929, "link": "https://stackoverflow.com/questions/40481929/angular-2-effect-is-not-working/40482256#40482256", "title": "Angular 2 effect is not working", "body": "<p>use it with:</p>\n\n<pre><code>.map(brands =&gt; ({type: SET_BRANDS, payload: brands}))\n</code></pre>\n\n<p>You don't need to use store.dispatch.</p>\n\n<p>Did you imported SET_BRANDS from actions in your <strong>BrandsEffects</strong>? It seams not.</p>\n"}, {"tags": [], "owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "is_accepted": false, "score": 0, "last_activity_date": 1478594176, "creation_date": 1478594176, "answer_id": 40482317, "question_id": 40481929, "link": "https://stackoverflow.com/questions/40481929/angular-2-effect-is-not-working/40482317#40482317", "title": "Angular 2 effect is not working", "body": "<p>Turns out that it was the <code>brandsApi</code> which was at fault, as it didn't return an <code>Observable</code>, but rather some test data I had as normal JSON. When I changed it to an actual request it got past the <code>switchMap</code> without any problems.</p>\n"}], "owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1124, "favorite_count": 0, "accepted_answer_id": 40482256, "answer_count": 2, "score": 0, "last_activity_date": 1478594176, "creation_date": 1478592699, "last_edit_date": 1495540455, "question_id": 40481929, "link": "https://stackoverflow.com/questions/40481929/angular-2-effect-is-not-working", "title": "Angular 2 effect is not working", "body": "<p>Reducer:</p>\n\n<pre><code>import {ActionReducer, Action} from '@ngrx/store';\n\nimport {SET_BRANDS, SET_BRAND} from './brands.actions';\nimport {IBrandsStorage} from './brands-storage.interface';\n\nexport const BrandsReducer: ActionReducer&lt;any&gt; = (state: IBrandsStorage = {list: [], single: {}}, action: Action) =&gt; {\n\n  switch(action.type) {\n\n    case SET_BRANDS: return Object.assign({}, state, {\n      list: [...action.payload.data]\n    });\n\n    case SET_BRAND: return Object.assign({}, state, {\n      single: action.payload.data\n    });\n  }\n}\n</code></pre>\n\n<p>Effect:</p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport {Action, Store} from '@ngrx/store';\nimport {Actions, Effect} from '@ngrx/effects';\nimport {Observable} from 'rxjs/Observable';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/switchMap';\n\nimport {GET_BRANDS, GET_BRAND} from './brands.actions';\nimport {BrandsApi} from 'app/shared/apis';\n\n@Injectable()\n\nexport class BrandsEffects {\n\n  constructor(private brandsApi: BrandsApi, private store: Store, private actions$: Actions) {}\n\n  @Effect() brands$: Observable&lt;Action&gt; = this.actions$\n    .ofType(GET_BRANDS)\n    .switchMap(() =&gt; this.brandsApi.getBrands())\n    .map(brands =&gt; this.store.dispatch({type: SET_BRANDS, payload: brands}))\n    // TODO: Add a catch\n\n  @Effect() brand$: Observable&lt;Action&gt; = this.actions$\n    .ofType(GET_BRAND)\n    .switchMap(() =&gt; this.brandsApi.getBrand())\n    .map(brand =&gt; this.store.dispatch({type: SET_BRAND, payload: brand}))\n    // TODO: Add a catch\n}\n</code></pre>\n\n<p>And in component in <code>ngOnInit</code> I call this: </p>\n\n<pre><code>this.store.dispatch({type: GET_BRANDS});\n</code></pre>\n\n<p>And the error that is thrown is <code>Uncaught (in promise): TypeError: unknown type returned</code>, I'm guessing that this is because I haven't defined it in the reducer. But I don't want to define <code>GET_BRANDS</code> in the reducer as it won't do anything to my state, I just want to have <code>SET</code> methods in my reducer to set the data I get from the api.</p>\n\n<p>I'm not sure if this is the correct way of doing it though, can someone shed some light on this?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I tried to add a <code>GET_BRANDS</code> action to the reducer which just set some <code>isBusy</code> state to <code>true</code> but it gives me the same error so I'm not sure what is the issue.. </p>\n\n<p>I also looked at <a href=\"https://stackoverflow.com/questions/38035214/typeerror-unknown-type-returned\">this question</a> which suggests switching <code>switchMapTo</code> to <code>switchMap</code> but I'm already using <code>switchMap</code>..</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "is_accepted": false, "score": 0, "last_activity_date": 1478594258, "creation_date": 1478594258, "answer_id": 40482334, "question_id": 40481895, "link": "https://stackoverflow.com/questions/40481895/javascript-promise-all-confusion/40482334#40482334", "title": "Javascript Promise.all confusion", "body": "<p>You're trying to <code>push</code> the following into your <code>promises</code> array:</p>\n\n<pre><code>this.decrypt(ciphertext).then((password: string) =&gt; {  // &lt;== line 357\n    persons[i].password = password;\n    decryptedPersons.push(persons[i]);\n})\n</code></pre>\n\n<p>but your function here doesn't return anything, so this is going to evaluate to a <code>Promise&lt;void&gt;</code>.</p>\n\n<p>You're also abusing the \"explicit promise construction antipattern\" in several places here.</p>\n\n<p>Give this a try:</p>\n\n<pre><code>private decryptPersons(persons: PersonModel[]): Promise&lt;PersonModel[]&gt; {\n    return Promise.all(persons.map(person =&gt;\n        this.decrypt(person.password)\n            .then(password =&gt; {\n                person.password = password;\n                return person;\n            });\n    ));\n}\n\nprivate decrypt(value: string): Promise&lt;string&gt; {\n    return this.encrypter.decrypt(value);\n}\n</code></pre>\n"}], "owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 335, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1478594258, "creation_date": 1478592573, "question_id": 40481895, "link": "https://stackoverflow.com/questions/40481895/javascript-promise-all-confusion", "title": "Javascript Promise.all confusion", "body": "<p>I am using Javascript/Typescript in order to format a <code>password</code> value on a collection of <code>PersonModel</code> objects. I am executing a <code>Promise</code> on each element in the Collection.</p>\n\n<p>I am using <code>Promise.all</code> to allow all Promises to complete, and then want to return the formatted collection.</p>\n\n<p>However, I get an error at build time.</p>\n\n<p><strong>PersonService.ts</strong></p>\n\n<pre><code>private decryptPersons(persons: PersonModel[]): Promise&lt;PersonModel[]&gt; {\n    return new Promise&lt;PersonModel[]&gt;(resolve =&gt; {\n        let promises: Array&lt;Promise&lt;string&gt;&gt; = [];\n        let decryptedPersons: PersonModel[] = [];\n        for (let i: number = 0; i &lt; persons.length; i++) {\n            let ciphertext: string = persons[i].password;\n            promises.push(this.decrypt(ciphertext).then((password: string) =&gt; {  // &lt;== line 357\n                persons[i].password = password;\n                decryptedPersons.push(persons[i]);\n            }));\n        }\n        Promise.all(promises).then(() =&gt; {\n            resolve(decryptedPersons);\n        });\n    });\n}\n\nprivate decrypt(value: string): Promise&lt;string&gt; {\n    return new Promise&lt;string&gt;(resolve =&gt; {\n        this.encrypter.decrypt(value).then((result: string) =&gt; {\n            resolve(result);\n        });\n    });\n}\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n<pre><code>ERROR in ./app/pages/service/personService.ts\n(357,31): error TS2345: Argument of type 'Promise&lt;void&gt;' is not assignable to parameter of type 'Promise&lt;string&gt;'.\n  Type 'void' is not assignable to type 'string'.\n</code></pre>\n</blockquote>\n\n<p>I am no expert with Javascript, so my structure may me incorrect. If anyone can advise, I would appreciate it.</p>\n"}, {"tags": ["typescript", "typescript-typings", "typescript2.0"], "answers": [{"comments": [{"owner": {"reputation": 6319, "user_id": 647380, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/07709965ee03bbc0a25288dc62102114?s=128&d=identicon&r=PG&f=1", "display_name": "pocesar", "link": "https://stackoverflow.com/users/647380/pocesar"}, "edited": false, "score": 0, "creation_date": 1479671587, "post_id": 40696463, "comment_id": 68645237, "body": "I don&#39;t want a generic <code>PromiseLike</code> in the <code>asPromise()</code>, I want <code>bluebird</code> functions (as I stated in my question) available in the <code>asPromise()</code> method, like <code>catch</code>, <code>map</code>, <code>each</code>, <code>bind</code>, <code>spread</code>, etc using <code>PromiseLike</code> there defeats the purpose of using a <code>PromiseConstructorLike</code> in createClient"}, {"owner": {"reputation": 6319, "user_id": 647380, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/07709965ee03bbc0a25288dc62102114?s=128&d=identicon&r=PG&f=1", "display_name": "pocesar", "link": "https://stackoverflow.com/users/647380/pocesar"}, "edited": false, "score": 0, "creation_date": 1479671816, "post_id": 40696463, "comment_id": 68645310, "body": "I stripped down the <code>U</code>, it actually extends one object for each method, the same with <code>query</code> parameter, so people would focus on the constructor/instance problem instead"}, {"owner": {"reputation": 369, "user_id": 175602, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5910ba549ddbcb991650e7148b67116?s=128&d=identicon&r=PG", "display_name": "The Slicer", "link": "https://stackoverflow.com/users/175602/the-slicer"}, "reply_to_user": {"reputation": 6319, "user_id": 647380, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/07709965ee03bbc0a25288dc62102114?s=128&d=identicon&r=PG&f=1", "display_name": "pocesar", "link": "https://stackoverflow.com/users/647380/pocesar"}, "edited": false, "score": 0, "creation_date": 1479673970, "post_id": 40696463, "comment_id": 68646026, "body": "As far as I can tell, it is not possible to create completely type-safe declarations that achieve what you want, due to the type parameter of the result type of a Promise. Note that &#39;new&#39; in PromiseConstructorLike is also generic in the Promise result type, which means that PromiseConstructorLike cannot be made generic in the Promise type it returns, something that is required for solving this problem."}, {"owner": {"reputation": 369, "user_id": 175602, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5910ba549ddbcb991650e7148b67116?s=128&d=identicon&r=PG", "display_name": "The Slicer", "link": "https://stackoverflow.com/users/175602/the-slicer"}, "reply_to_user": {"reputation": 6319, "user_id": 647380, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/07709965ee03bbc0a25288dc62102114?s=128&d=identicon&r=PG&f=1", "display_name": "pocesar", "link": "https://stackoverflow.com/users/647380/pocesar"}, "edited": false, "score": 0, "creation_date": 1479674390, "post_id": 40696463, "comment_id": 68646177, "body": "One thing you could do to get the right methods after calling &#39;asPromise&#39; is making that method itself generic in the Promise instance type: &#39;asPromise&lt;T extends PromiseLike&lt;U&gt;&gt;(): T&#39;. This does require specifying the correct Promise type whenever you call this method, and it is also not type-safe as you basically have to cast the result. Note that this trick could also be applied to the &#39;directions&#39; method, which could then pass the Promise type to RequestHandle like you do now."}, {"owner": {"reputation": 6319, "user_id": 647380, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/07709965ee03bbc0a25288dc62102114?s=128&d=identicon&r=PG&f=1", "display_name": "pocesar", "link": "https://stackoverflow.com/users/647380/pocesar"}, "edited": false, "score": 0, "creation_date": 1479687357, "post_id": 40696463, "comment_id": 68650034, "body": "there is, there is <code>{ new(): T }</code> but it can&#39;t be used in this context"}], "tags": [], "owner": {"reputation": 369, "user_id": 175602, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5910ba549ddbcb991650e7148b67116?s=128&d=identicon&r=PG", "display_name": "The Slicer", "link": "https://stackoverflow.com/users/175602/the-slicer"}, "is_accepted": false, "score": 1, "last_activity_date": 1479580070, "creation_date": 1479580070, "answer_id": 40696463, "question_id": 40481641, "link": "https://stackoverflow.com/questions/40481641/how-to-use-the-prototype-of-promiseconstructorlike-instance-in-interface-declara/40696463#40696463", "title": "how to use the prototype of PromiseConstructorLike instance in interface declaration?", "body": "<p>Your declarations contain a compile error, which stems from confusing the <code>Promise</code> <em>instance</em> type and the <code>Promise</code> <em>constructor</em> type. Type parameter <code>T</code> in <code>GoogleMapsClient</code> is used to fill <code>T</code> in <code>RequestHandle</code>, however in <code>GoogleMapsClient</code> this represents the <code>Promise</code> constructor type, while in <code>RequestHandle</code> it represents the <code>Promise</code> instance type.</p>\n\n<p>It appears to be your intention to make everything properly typed in terms of the <code>Promise</code> <em>instance</em> type, <code>PromiseLike&lt;Response&lt;U&gt;&gt;</code>, where <code>U</code> is the response type. However, since <code>U</code> is not known in advance (i.e. before calling <code>GoogleMapsClient.directions</code>), this is unfortunately not possible.</p>\n\n<p>If you want to call <code>then()</code> after <code>asPromise()</code>, you can simply change the return type of <code>RequestHandle.asPromise</code> to <code>PromiseLike&lt;Response&lt;U&gt;&gt;</code> and remove the type parameter <code>T</code>:</p>\n\n<pre><code>export interface RequestHandle&lt;U&gt; {\n    asPromise(): PromiseLike&lt;U&gt;;\n    cancel(): void;\n    finally(callback: ResponseCallback&lt;U&gt;): void;\n}\n</code></pre>\n\n<p>I would personally also add the constraint <code>extends PromiseConstructorLike</code> to type parameter <code>T</code> in both <code>CreateClientOptions</code> and <code>GoogleMapsClient</code>, so that the type-safety of the passed <code>Promise</code> constructor does not solely depend on the constraint specified in <code>createClient</code>.</p>\n\n<p>To summarize, the declarations now look like this:</p>\n\n<pre><code>declare namespace GoogleMaps {\n  export interface CreateClientOptions&lt;T extends PromiseConstructorLike&gt; {\n    /** Promise constructor (optional). */\n    Promise?: T; \n  }\n\n  export interface GoogleMapsClient&lt;T extends PromiseConstructorLike&gt; {\n    directions&lt;U&gt;(query, callback?: ResponseCallback&lt;U&gt;): RequestHandle&lt;U&gt;;\n  }\n\n  export interface Response&lt;U extends any&gt; {\n      headers: any;\n      json: U;\n      status: number;\n  }\n\n  export interface RequestHandle&lt;U&gt; {\n      asPromise(): PromiseLike&lt;Response&lt;U&gt;&gt;;\n      cancel(): void;\n      finally(callback: ResponseCallback&lt;U&gt;): void;\n  }\n\n  export type ResponseCallback&lt;U&gt; = (err: Error, result: Response&lt;U&gt;) =&gt; void; \n  export function createClient&lt;T extends PromiseConstructorLike&gt;(options: CreateClientOptions&lt;T&gt;): GoogleMapsClient&lt;T&gt;;\n}\n\ndeclare module '@google/maps' {\n  export = GoogleMaps\n}\n</code></pre>\n\n<p>With these declarations, your <code>bluebird</code> example works and you can call <code>then()</code> after <code>asPromise()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 6319, "user_id": 647380, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/07709965ee03bbc0a25288dc62102114?s=128&d=identicon&r=PG&f=1", "display_name": "pocesar", "link": "https://stackoverflow.com/users/647380/pocesar"}, "is_accepted": true, "score": 0, "last_activity_date": 1557646487, "last_edit_date": 1557646487, "creation_date": 1557646060, "answer_id": 56097069, "question_id": 40481641, "link": "https://stackoverflow.com/questions/40481641/how-to-use-the-prototype-of-promiseconstructorlike-instance-in-interface-declara/56097069#56097069", "title": "how to use the prototype of PromiseConstructorLike instance in interface declaration?", "body": "<p>with the release of Typescript 2.8, the new \"infer\" keyword makes this possible! it can infer (and pass on) intricate and nested declarations that the interpreter will try to fetch the information out for you, giving a really good strong typed experience.</p>\n\n<p>so, if you want to get the type of the constructor</p>\n\n<pre><code>class MyPromise extends Promise&lt;any&gt; implements PromiseLike&lt;any&gt; {\n    add(s: number) {\n        s++\n        return this\n    }\n    dummy() {\n        return this\n    }\n}\n\nfunction typedFactory&lt;\n    U extends PromiseConstructorLike,\n&gt;(u: U): InstanceType&lt;U&gt; {\n    return new u&lt;void&gt;(() =&gt; { }) as any \n    // this isn't needed since we are just trying to show the functionality, \n    // would be interfacing another library through types only, so that \n    // the compiler doesn't b*tch about it\n}\n\ntypedFactory(Promise).then(() =&gt; { })\ntypedFactory(MyPromise).add(1).dummy().then(() =&gt; {})\n</code></pre>\n\n<p>the new <code>InstanceType</code> is actually available in <code>lib.es5.d.ts</code> and is defined as:</p>\n\n<pre><code>type InstanceType&lt;T extends new (...args: any) =&gt; any&gt; = T extends new (...args: any) =&gt; infer R ? R : any;\n</code></pre>\n\n<p>it shows the real power of the <code>infer</code> keyword, and you can try it in <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/play/</a></p>\n"}], "owner": {"reputation": 6319, "user_id": 647380, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/07709965ee03bbc0a25288dc62102114?s=128&d=identicon&r=PG&f=1", "display_name": "pocesar", "link": "https://stackoverflow.com/users/647380/pocesar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 686, "favorite_count": 1, "accepted_answer_id": 56097069, "answer_count": 2, "score": 12, "last_activity_date": 1557646487, "creation_date": 1478591719, "last_edit_date": 1480085724, "question_id": 40481641, "link": "https://stackoverflow.com/questions/40481641/how-to-use-the-prototype-of-promiseconstructorlike-instance-in-interface-declara", "title": "how to use the prototype of PromiseConstructorLike instance in interface declaration?", "body": "<p>I'm trying to write declarations for Google Maps helper module for node, but I'm having problems with the PromiseConstructorLike that the library expects, and return it's \"PromiseLike\" instance methods properly (according to <a href=\"https://googlemaps.github.io/google-maps-services-js/docs/module-@google_maps.html\" rel=\"nofollow noreferrer\">https://googlemaps.github.io/google-maps-services-js/docs/module-@google_maps.html</a>):</p>\n\n<pre><code>Promise     function    &lt;optional&gt;  Promise constructor (optional).\n</code></pre>\n\n<p>so I did (stripped down to the interesting bits):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare namespace GoogleMaps {\n  export interface CreateClientOptions&lt;T&gt; {\n    /** Promise constructor (optional). */\n    Promise?: T; \n  }\n\n  export interface GoogleMapsClient&lt;T&gt; {\n    directions&lt;U&gt;(query, callback?: ResponseCallback&lt;U&gt;): RequestHandle&lt;U, T&gt;;\n  }\n\n  export interface Response&lt;U extends any&gt; {\n      headers: any;\n      json: U;\n      status: number;\n  }\n\n  export interface RequestHandle&lt;U, T extends PromiseLike&lt;Response&lt;U&gt;&gt;&gt; {\n      asPromise(): T;\n      cancel(): void;\n      finally(callback: ResponseCallback&lt;U&gt;): void;\n  }\n\n  export type ResponseCallback&lt;U&gt; = (err: Error, result: Response&lt;U&gt;) =&gt; void; \n  export function createClient&lt;T extends PromiseConstructorLike&gt;(options: CreateClientOptions&lt;T&gt;): GoogleMapsClient&lt;T&gt;;\n}\n\ndeclare module '@google/maps' {\n  export = GoogleMaps\n}\n</code></pre>\n\n<p>of course it doesn't work, if I use for example, Bluebird in the <code>createClient</code> as </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as bluebird from 'bluebird'\nimport { createClient } from '@google/maps'\n\ncreateClient({ Promise: bluebird }).directions({}).asPromise()/** no \"then\" here, just the static methods from Bluebird, like Bluebird.all */\n</code></pre>\n\n<p>The question is then:</p>\n\n<p><strong>Is there anyway I can hint the <code>asPromise</code> method to return the instance methods (then, catch, finally, reduce, timeout, etc) from bluebird without having to extend the <code>RequestHandle</code> interface manually?</strong></p>\n\n<p>More info (<code>lib.d.ts</code> declarations):</p>\n\n<p><code>PromiseConstructorLike</code> is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> declare type PromiseConstructorLike = new &lt;T&gt;(executor: (resolve: (value?: T | PromiseLike&lt;T&gt;) =&gt; void, reject: (reason?: any) =&gt; void) =&gt; void) =&gt; PromiseLike&lt;T&gt;;\n</code></pre>\n\n<p><code>PromiseLike</code> is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface PromiseLike&lt;T&gt; {\n    /**\n     * Attaches callbacks for the resolution and/or rejection of the Promise.\n     * @param onfulfilled The callback to execute when the Promise is resolved.\n     * @param onrejected The callback to execute when the Promise is rejected.\n     * @returns A Promise for the completion of which ever callback is executed.\n     */\n    then(\n        onfulfilled?: ((value: T) =&gt; T | PromiseLike&lt;T&gt;) | undefined | null,\n        onrejected?: ((reason: any) =&gt; T | PromiseLike&lt;T&gt;) | undefined | null): PromiseLike&lt;T&gt;;\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 34040, "user_id": 1346234, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/2y3FX.png?s=128&g=1", "display_name": "Justinas", "link": "https://stackoverflow.com/users/1346234/justinas"}, "edited": false, "score": 1, "creation_date": 1478591010, "post_id": 40481430, "comment_id": 68206825, "body": "You are messing with parameters passed to call target. Specify line that this error occurred on"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 34040, "user_id": 1346234, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/2y3FX.png?s=128&g=1", "display_name": "Justinas", "link": "https://stackoverflow.com/users/1346234/justinas"}, "edited": false, "score": 0, "creation_date": 1478591093, "post_id": 40481430, "comment_id": 68206868, "body": "@Justinas: It&#39;s a bit hidden, but they&#39;ve indicated which line is line 332 in a code comment."}, {"owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "reply_to_user": {"reputation": 34040, "user_id": 1346234, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/2y3FX.png?s=128&g=1", "display_name": "Justinas", "link": "https://stackoverflow.com/users/1346234/justinas"}, "edited": false, "score": 0, "creation_date": 1478591119, "post_id": 40481430, "comment_id": 68206883, "body": "@Justina, please see the following:  <code>&#47;&#47; &lt;== line 332</code>"}], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 2, "last_activity_date": 1478591248, "creation_date": 1478591248, "answer_id": 40481525, "question_id": 40481430, "link": "https://stackoverflow.com/questions/40481430/javascript-promise-calling-a-promise-confusion/40481525#40481525", "title": "Javascript Promise calling a Promise confusion", "body": "<p>You're calling the <code>Promise</code> constructor with <em>two</em> arguments:</p>\n\n<pre><code>private encryptPerson(person: PersonModel): Promise&lt;PersonModel&gt; {\n    return new Promise&lt;PersonModel&gt;(resolve =&gt; { // &lt;== line 332\n            let password: string = person.password;\n            this.encrypt(password).then((ciphertext: string) =&gt; {\n                person.password = ciphertext;\n                resolve(person);\n            });\n        },\n        error =&gt; {                  // ** This is the\n            console.error(error)    // ** second argument\n        });                         // ** to the constructor\n}\n</code></pre>\n\n<p>It only takes one argument. I suspect that second arrow function was meant to be attached to the <code>then</code> inside the first one.</p>\n\n<p>Separately, if I'm correct about where you meant that second function to go, beware that it converts a rejection into a resolution using <code>undefined</code> as the resolution value. Since <code>undefined</code> isn't a <code>PersonModel</code>, I'm guessing that's going to be a problem as well.</p>\n"}], "owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 40481525, "answer_count": 1, "score": 1, "last_activity_date": 1478592139, "creation_date": 1478590862, "last_edit_date": 1478592139, "question_id": 40481430, "link": "https://stackoverflow.com/questions/40481430/javascript-promise-calling-a-promise-confusion", "title": "Javascript Promise calling a Promise confusion", "body": "<p>I am using Javascript/Typescript to create a <code>Promise</code> that returns and <code>PersonModel</code> object that is formatted. However I am getting build errors:</p>\n\n<p><strong>PersonService.ts</strong></p>\n\n<pre><code>private encryptPerson(person: PersonModel): Promise&lt;PersonModel&gt; {\n    return new Promise&lt;PersonModel&gt;(resolve =&gt; {  // &lt;== line 332\n        let password: string = person.password;\n        this.encrypt(password).then((ciphertext: string) =&gt; {\n            person.password = ciphertext;\n            resolve(person);\n        });\n    },\n        error =&gt; {\n            console.error(error)\n        });\n}\n\nprivate encrypt(value: string): Promise&lt;string&gt; {\n    return new Promise&lt;string&gt;(resolve =&gt; {\n        this.encrypter.encrypt(value).then((result) =&gt; {\n            resolve(result);\n        },\n            error =&gt; {\n                console.error(error)\n            });\n    });\n}\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n<pre><code>ERROR in ./app/pages/service/personService.ts\n(332,16): error TS2346: Supplied parameters do not match any signature of call target.\n</code></pre>\n</blockquote>\n\n<p>Any help of how I should structure this appreciated.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>After advise from T.J. Crowder below, I have got the following:</p>\n\n<pre><code>private encryptPerson(person: PersonModel): Promise&lt;PersonModel&gt; {\n    return new Promise&lt;PersonModel&gt;(resolve =&gt; {\n        let password: string = person.password;\n        this.encrypt(password).then((ciphertext: string) =&gt; {\n            person.password = ciphertext;\n            resolve(person);\n        });\n    });\n}\n\nprivate encrypt(value: string): Promise&lt;string&gt; {\n    return new Promise&lt;string&gt;(resolve =&gt; {\n        this.encrypter.encrypt(value).then((result: string) =&gt; {\n            resolve(result);\n        });\n    });\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1456, "user_id": 5091529, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh3.googleusercontent.com/-MDIofgWA4r8/AAAAAAAAAAI/AAAAAAAAAjM/TA6e0YmT8LQ/photo.jpg?sz=128", "display_name": "Alexey Markov", "link": "https://stackoverflow.com/users/5091529/alexey-markov"}, "is_accepted": true, "score": 6, "last_activity_date": 1478588933, "creation_date": 1478588933, "answer_id": 40480930, "question_id": 40480929, "link": "https://stackoverflow.com/questions/40480929/404-not-found-while-loading-angular2-datatable/40480930#40480930", "title": "404 not found while loading angular2-datatable", "body": "<p>The correct <code>system.config.js</code> is like this:</p>\n\n<pre><code>map: {\n  ...\n  'lodash': 'npm:lodash/lodash.js',\n  'angular2-datatable':'npm:angular2-datatable'\n},\npackages: {\n   ...\n  'lodash': {\n    defaultExtension: 'js'\n  },\n  'angular2-datatable': {\n    main: './index.js',\n    defaultExtension: 'js'\n  }\n}\n</code></pre>\n\n<ul>\n<li><code>'angular2-datatable':'npm:angular2-datatable/index.js'</code> - <strong>not works</strong> for mine</li>\n<li><code>'angular2-datatable':'npm:angular2-datatable'</code> and <code>main: ./index.js</code> - <strong>works</strong></li>\n</ul>\n"}], "owner": {"reputation": 1456, "user_id": 5091529, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh3.googleusercontent.com/-MDIofgWA4r8/AAAAAAAAAAI/AAAAAAAAAjM/TA6e0YmT8LQ/photo.jpg?sz=128", "display_name": "Alexey Markov", "link": "https://stackoverflow.com/users/5091529/alexey-markov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1083, "favorite_count": 0, "accepted_answer_id": 40480930, "answer_count": 1, "score": 2, "last_activity_date": 1478588933, "creation_date": 1478588933, "question_id": 40480929, "link": "https://stackoverflow.com/questions/40480929/404-not-found-while-loading-angular2-datatable", "title": "404 not found while loading angular2-datatable", "body": "<p>I add <code>angular2-datable</code> library, but I get 404 Not Found while loading library files such as:</p>\n\n<ul>\n<li>node_modules\\angular2-datatable\\lib\\BootstrapPaginator</li>\n<li>node_modules\\angular2-datatable\\lib\\DataTable</li>\n<li>node_modules\\angular2-datatable\\lib\\DataTableModule</li>\n<li>node_modules\\angular2-datatable\\lib\\DefaultSorter</li>\n<li>node_modules\\angular2-datatable\\lib\\Paginator</li>\n</ul>\n\n<p>I fix my <code>systemjs.config.js</code> like <a href=\"https://stackoverflow.com/questions/39318683/404-not-found-loading-http-localhost4200-angular2-datatable-datatable\">this answer</a>, but it still not works:</p>\n\n<pre><code>map: {\n   ...\n  'lodash': 'npm:lodash/lodash.js',\n  'angular2-datatable':'npm:angular2-datatable/index.js'\n},\npackages: {\n   ...\n'lodash': {\n        defaultExtension: 'js'\n},\n 'angular2-datatable': {\n        defaultExtension: 'js'\n}\n</code></pre>\n"}]