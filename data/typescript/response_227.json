[{"tags": ["typescript", "sublimetext3"], "comments": [{"owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1557968205, "post_id": 56159016, "comment_id": 98947255, "body": "If I recall correctly the Microsoft TypeScript package does code analysis on its own to know where symbols are but it only does it for TypeScript files; JavaScript files would then use the built in functionality for that which isn&#39;t as focused. If there&#39;s not a setting in the TypeScript package, there may not be a way to get it to apply."}, {"owner": {"reputation": 4399, "user_id": 7385798, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/bc11dd8b186448da419102d83c48a138?s=128&d=identicon&r=PG&f=1", "display_name": "tmp dev", "link": "https://stackoverflow.com/users/7385798/tmp-dev"}, "reply_to_user": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1557968655, "post_id": 56159016, "comment_id": 98947328, "body": "Thats what I also thought, there might be some setting, but could not find any."}], "owner": {"reputation": 4399, "user_id": 7385798, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/bc11dd8b186448da419102d83c48a138?s=128&d=identicon&r=PG&f=1", "display_name": "tmp dev", "link": "https://stackoverflow.com/users/7385798/tmp-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557964978, "creation_date": 1557963979, "last_edit_date": 1557964978, "question_id": 56159016, "link": "https://stackoverflow.com/questions/56159016/sublimetext-typescript-package-does-not-work-on-js-files", "title": "sublimetext typescript package does not work on .js files", "body": "<p>I'm using the <a href=\"https://packagecontrol.io/packages/TypeScript\" rel=\"nofollow noreferrer\">https://packagecontrol.io/packages/TypeScript</a> package with sublimetext.  I noticed that go to definition and all does not work if the file extension is .js.  However if I change the file extension to .ts then the same command works and navigates into the .d.ts file for any npm modules. Is there some way I can fix this?</p>\n"}, {"tags": ["typescript", "rxjs"], "answers": [{"tags": [], "owner": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "is_accepted": true, "score": 0, "last_activity_date": 1557963638, "creation_date": 1557963638, "answer_id": 56158971, "question_id": 56158734, "link": "https://stackoverflow.com/questions/56158734/how-to-keep-the-stream-after-a-forkjoin-or-a-concatall-toarray/56158971#56158971", "title": "How to keep the stream after a forkJoin or a concatAll(), toArray()", "body": "<p>I am responding to my own question, after searching more. </p>\n\n<p>(By the way I am using RXJS6.5)</p>\n\n<p>for test1, after a forkjoin, I basically piped a concatMap, and, inside, did a from(result), to emmit each value from the array. Afterwards, mapping each individual result, to just test the change of that returned object and log the result (probably a tap() would have achieved the same if no modification was necessary on the object.</p>\n\n<p>After that, a simple toArray(), will just give me back 1 single array. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    test1() {\n\n        const operations = [];\n        operations.push(this.mock_post('/api/test/'));\n        operations.push(this.mock_post('/api/test/2'));\n        operations.push(this.mock_post('/api/test/3'));\n\n        forkJoin(operations).pipe(\n            concatMap((result) =&gt; {\n                return from(result);\n            }),\n            map((result: any) =&gt; {\n                console.log(`resulting-&gt; `, result);\n                result.name = 'changed';\n                return result;\n            }),\n            toArray()\n        ).subscribe(\n            (next) =&gt; {\n                console.log(next);\n            }\n        );\n    }\n</code></pre>\n\n<p>That said. If anyone has a better way, or an alternative way. </p>\n\n<p>I am all ears. </p>\n\n<p>I am marking this question as answered by myself, because it works (for now) how I want it. </p>\n\n<p>I am still grasping all the concepts of RXJS and trying to keep the stream in an elegant way. </p>\n\n<p>Cheers.</p>\n"}, {"tags": [], "owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "is_accepted": false, "score": 1, "last_activity_date": 1557977375, "creation_date": 1557977375, "answer_id": 56160389, "question_id": 56158734, "link": "https://stackoverflow.com/questions/56158734/how-to-keep-the-stream-after-a-forkjoin-or-a-concatall-toarray/56160389#56160389", "title": "How to keep the stream after a forkJoin or a concatAll(), toArray()", "body": "<p>there is really no need to do array operation with operators. You can just do it in map</p>\n\n<pre><code> forkJoin(operations).pipe(            \n            map((results: any) =&gt; \n               results.map(result=&gt;({...result,name:'changed}))\n),\n</code></pre>\n"}], "owner": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 816, "favorite_count": 0, "accepted_answer_id": 56158971, "answer_count": 2, "score": 0, "last_activity_date": 1557993006, "creation_date": 1557961579, "question_id": 56158734, "link": "https://stackoverflow.com/questions/56158734/how-to-keep-the-stream-after-a-forkjoin-or-a-concatall-toarray", "title": "How to keep the stream after a forkJoin or a concatAll(), toArray()", "body": "<p>I am trying, for the sake of learning, to keep the stream after, for instance, a forkjoin. But I would like to do it with pipe (in an elegant way). Not just recover the array, and then rewrite a from(array).subscribe, again.</p>\n\n<p>I tried to do a from, inside the pipe, but that doesn't work. Also I would like to know (as bonus questions) what would be the ideal way, in the pipe (first pipe in this case, because I suposse there will be 2 pipes), to modify each mock_post call result BEFORE the array of the forkJoin is returned. </p>\n\n<p>Just a little mock function that I created to simulate a dummy api return value after 2s.</p>\n\n<pre><code>    private mock_post(url: string): Observable&lt;object&gt; {\n        return from(timer(2000)).pipe(\n            map(result =&gt; {\n                return {id: 2, name: 'mock', source: url};\n            })\n        );\n    }\n\n</code></pre>\n\n<p>First test case with ForkJoin (using above function)</p>\n\n<pre><code>\n\n        const operations = [];\n        operations.push(this.mock_post('/api/test/'));\n        operations.push(this.mock_post('/api/test/2'));\n        operations.push(this.mock_post('/api/test/3'));\n\n        forkJoin(operations).pipe(\n\n        )\n            .subscribe(\n                (next) =&gt; {\n                    console.log(next);\n                }\n            );\n\n</code></pre>\n\n<p>Second test case with concatAll() + toArray().</p>\n\n<pre><code>    const obs: Observable&lt;any&gt; = from(operations);\n        obs.pipe(\n            map(result =&gt; {\n                // I want to modify the result here, and add something to the object or modify a property (for example)\n                console.log(`result-&gt; `, result); // This is(obviously, returning an observable, but how do I get the final value here?)\n\n                result.name = 'mock_modified';\n\n                return result;\n            }),\n            concatAll(),\n            toArray()\n        ).subscribe(\n            (next) =&gt; {\n                console.log(`-&gt; NEXT`, next);\n            },\n            (error) =&gt; {\n                console.log(`* ERROR`, error);\n            },\n            () =&gt; {\n                console.log('=) COMPLETE');\n            }\n        );\n</code></pre>\n\n<p>If anyone can shed some ligth here, it would be great. I hope I explained  myself correctly.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "edited": false, "score": 0, "creation_date": 1557961161, "post_id": 56158662, "comment_id": 98946044, "body": "Hi, interesting, perhaps have them return the base type <code>Animal</code>?"}, {"owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "reply_to_user": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "edited": false, "score": 0, "creation_date": 1557961274, "post_id": 56158662, "comment_id": 98946061, "body": "i thought about that and as you suspect the error is resolved, but then I am not sure whether that actually allows me to use the specific types from the results, which is important to me."}, {"owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "reply_to_user": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "edited": false, "score": 0, "creation_date": 1557961355, "post_id": 56158662, "comment_id": 98946076, "body": "I&#39;m looking at the type signature of <code>all</code> and it seems like the problem is that it expects one particular type T and all values passed into the function are of the same type T and thus it returns a T[]"}, {"owner": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "edited": false, "score": 0, "creation_date": 1557961528, "post_id": 56158662, "comment_id": 98946119, "body": "Hmm another option would be to define a class with one property for each output."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1557969304, "post_id": 56158662, "comment_id": 98947411, "body": "The easiest way out of this is probably to assert that <code>runningTasks</code> is the tuple type you expect:  <code>const runningTasks = tasks.map(task =&gt; task()) as [Promise&lt;Cat[]&gt;, Promise&lt;Dog[]&gt;, Promise&lt;Iguana[]&gt;];</code>"}], "answers": [{"comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1558016656, "post_id": 56160190, "comment_id": 98968127, "body": "Here is a follow up question/answer that creates a <code>MapToReturnType</code>, which can take the place of the manual type creation of <code>TaskResults</code> wiith <code>MapToReturnType&lt;typeof tasks&gt;</code>. <a href=\"https://stackoverflow.com/q/56160793/1108891\">stackoverflow.com/q/56160793/1108891</a>"}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 1, "last_activity_date": 1557978045, "last_edit_date": 1557978045, "creation_date": 1557975502, "answer_id": 56160190, "question_id": 56158662, "link": "https://stackoverflow.com/questions/56158662/promise-all-throwing-type-error-when-calling-multiple-async-functions-with-diffe/56160190#56160190", "title": "Promise.all throwing type error when calling multiple async functions with different return types", "body": "<blockquote>\n  <p>What I am trying to do is simply call these 3 functions asyncronously and save their results.</p>\n</blockquote>\n\n<p>You have this kind of set up: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface Animal {\n    name: string;\n}\n\nexport interface Cat extends Animal {\n    attitude: string;\n}\n\nexport interface Dog extends Animal {\n    sleepDuration: number;\n}\n\nexport interface Iguana extends Animal {\n    skinToughness: number;\n}\n\nconst task1 = async (): Promise&lt;Cat[]&gt; =&gt; {\n    return await Promise.resolve([]);\n}\n\nconst task2 = async (): Promise&lt;Dog[]&gt; =&gt; {\n    return await Promise.resolve([]);\n}\n\nconst task3 = async (): Promise&lt;Iguana[]&gt; =&gt; {\n    return await Promise.resolve([]);\n}\n</code></pre>\n\n<p>One approach is to use the parent type in the <code>Promise</code> like this:</p>\n\n<pre><code>const demo = async () =&gt; {\n    const tasks = [task1, task2, task3];\n    const runningTasks: Promise&lt;Animal[]&gt;[] = tasks.map(task =&gt; task());\n    const results: Animal[][] = await Promise.all(runningTasks);\n}\n</code></pre>\n\n<p>If it is important to use the specific types from the results, the tuple that jcalz suggested would work:</p>\n\n<pre><code>const demo = async () =&gt; {\n    const tasks = [task1, task2, task3] as const;\n\n    type TaskResults = [\n        ReturnType&lt;typeof task1&gt;,\n        ReturnType&lt;typeof task2&gt;,\n        ReturnType&lt;typeof task3&gt;,\n    ];\n\n    const runningTasks = tasks.map(task =&gt; task()) as TaskResults;\n    const results = await Promise.all(runningTasks);\n\n    results[0][0].attitude;\n    results[1][0].sleepDuration;\n    results[2][0].skinToughness;\n}\n</code></pre>\n\n<p>Surprisingly, if you do not need to start the tasks ahead of time then you can maintain type information with this approach:</p>\n\n<pre><code>const demo = async () =&gt; {\n\n    const results = await Promise.all([\n        task1(),\n        task2(),\n        task3()\n    ])\n\n    results[0][0].attitude;\n    results[1][0].sleepDuration;\n    results[2][0].skinToughness;\n}\n</code></pre>\n"}], "owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 56160190, "answer_count": 1, "score": 2, "last_activity_date": 1557978045, "creation_date": 1557960989, "question_id": 56158662, "link": "https://stackoverflow.com/questions/56158662/promise-all-throwing-type-error-when-calling-multiple-async-functions-with-diffe", "title": "Promise.all throwing type error when calling multiple async functions with different return types", "body": "<p>I have 3 types:</p>\n\n<pre><code>export interface Animal {\n...\n}\n\nexport interface Cat extends Animal{\n...\n}\n\nexport interface Dog extends Animal{\n...\n}\n\nexport interface Iguana extends Animal {\n...\n}\n</code></pre>\n\n<p>In a separate file I have defined 3 async functions with the following syntax:</p>\n\n<pre><code>const task1 = (() =&gt; Promise&lt;Cat[]&gt;) = async () =&gt; {\n...\n}\n\nconst task2 = (() =&gt; Promise&lt;Dog[]&gt;) = async () =&gt; {\n...\n}\n\nconst task3 = (() =&gt; Promise&lt;Iguana[]&gt;) = async () =&gt; {\n...\n}\n\nconst tasks = [task1, task2, task3];\nconst runningTasks = tasks.map(task =&gt; task());\n// below line throws an error\nconst results = await Promise.all(runningTasks);\n</code></pre>\n\n<p>The last line throws an error because of type incompatibility, and it's extremely long and basically says \"Dog is missing properties from Cat\". </p>\n\n<p>What I am trying to do is simply call these 3 functions asyncronously and save their results.</p>\n"}, {"tags": ["node.js", "json", "angular", "typescript", "post"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 5057436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcba4228e6f1c49b5261ff2af187e46?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/5057436/lucas"}, "edited": false, "score": 0, "creation_date": 1557963497, "post_id": 56158801, "comment_id": 98946468, "body": "With header &#39;multipart/form-data&#39; it works!, thank you."}], "tags": [], "owner": {"reputation": 2826, "user_id": 1021714, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/20c881547bd75073cbf61987251b7625?s=128&d=identicon&r=PG", "display_name": "braza", "link": "https://stackoverflow.com/users/1021714/braza"}, "is_accepted": true, "score": 1, "last_activity_date": 1557962186, "creation_date": 1557962186, "answer_id": 56158801, "question_id": 56158656, "link": "https://stackoverflow.com/questions/56158656/posting-json-data-from-angular-to-nodejs/56158801#56158801", "title": "Posting json data from angular to nodejs", "body": "<p>I don't think you want to use <code>qs.parse</code> here, as that is trying to parse a query string. What you are posting is a JSON request.</p>\n\n<p>Try changing <code>qs.parse</code> to <code>JSON.parse</code> (no import necessary)</p>\n\n<pre><code>request.on('end', function () {\n    // `JSON` instead of `qs`\n    var data = JSON.parse(body);\n    console.log(data);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 5057436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcba4228e6f1c49b5261ff2af187e46?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/5057436/lucas"}, "is_accepted": false, "score": 0, "last_activity_date": 1557963420, "creation_date": 1557963420, "answer_id": 56158941, "question_id": 56158656, "link": "https://stackoverflow.com/questions/56158656/posting-json-data-from-angular-to-nodejs/56158941#56158941", "title": "Posting json data from angular to nodejs", "body": "<p>With header 'multipart/form-data' and as the braza's answer says, using JSON.parse() instead of qs.parse() on nodejs server the expected result is reached.</p>\n"}], "owner": {"reputation": 57, "user_id": 5057436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcba4228e6f1c49b5261ff2af187e46?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/5057436/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 56158801, "answer_count": 2, "score": 0, "last_activity_date": 1557963420, "creation_date": 1557960895, "question_id": 56158656, "link": "https://stackoverflow.com/questions/56158656/posting-json-data-from-angular-to-nodejs", "title": "Posting json data from angular to nodejs", "body": "<p>How to post json data from angular to nodejs server.</p>\n\n<p>Tried to change the header to multipart/form-data but received data with the entire object as key of received data and the 'plus' characters were replaced by space.</p>\n\n<pre><code>//Service\nconst httpOptions = {\n   headers: new HttpHeaders({\n  'Content-Type': 'application/json'\n   })\n};\n\n\npublic post(data){\n  return this.http.post('http://localhost:3000/', data, httpOptions);\n}\n\n//Component\n.post({'ok++':'++'}).subscribe(\n        (data:any) =&gt; { }\n\n//nodejs server\nvar http = require('http');\nvar qs = require('querystring');\n\nhttp.createServer(function (request, response) {\n    response.setHeader('Access-Control-Allow-Origin', '*');\n    response.setHeader('Access-Control-Allow-Methods', '*');\n    response.setHeader('Access-Control-Allow-Headers', '*');\n    var body = '';\n\n    request.on('data', function (data) {        \n        body += data;\n    });\n\n    request.on('end', function () {\n        var data = qs.parse(body);\n        console.log(data);\n    });\n}).listen(3000, function () { });\n</code></pre>\n\n<p>with header 'Content-Type': 'application/json' expected:\n{'ok++':'++'}</p>\n\n<p>received:\n[Object: null prototype] {}</p>\n\n<p>with header 'multipart/form-data' expected:\n{'ok++':'++'}</p>\n\n<p>received:\n[Object: null prototype] { '{\"ok  \":\"  \"}': '' }</p>\n"}, {"tags": ["typescript", "types"], "owner": {"reputation": 31, "user_id": 11506707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6c01a82c66c8b99081425c415fe1063?s=128&d=identicon&r=PG&f=1", "display_name": "Joejoe64", "link": "https://stackoverflow.com/users/11506707/joejoe64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1557959408, "creation_date": 1557959408, "question_id": 56158471, "link": "https://stackoverflow.com/questions/56158471/avoiding-interface-duplication-parsing-json-in-typescript", "title": "Avoiding interface duplication parsing JSON in typescript", "body": "<p>I have a design question regarding the cleanest way to define some interfaces/types for objects being deserialised from JSON from an API.</p>\n\n<p>For example, if I had some API returning a JSON object below and a, c and d are different types but share the same property names.</p>\n\n<pre><code>{\n  a: {\n    id: \"value\",\n    name: \"value\"\n  },\n  b: \"sample\",\n  c: {\n   id: \"value\",\n   name: \"value\"\n  },\n  d: {\n   id: \"value\",\n   name: \"value\",\n   other: \"value\"\n  }\n}\n</code></pre>\n\n<p>From a design point of view, I could define interfaces in several ways:</p>\n\n<ol>\n<li>Simply define a single interface e.g. <code>IName</code> which contains two string properties: <code>id</code> and <code>name</code> which for the above example could be applied to <code>a</code> and <code>c</code>. Then define another interface for <code>d</code> which extends IName and adds a property for <code>other</code>.</li>\n<li>Have three separate interfaces since <code>a</code>, <code>c</code> and <code>d</code> are different objects and so could have additional, different properties in future. The downside is that three interfaces would be duplicating the <code>id</code> and <code>name</code> properties.</li>\n<li>Define an interface with index property e.g. <code>[index:string]:string</code> and apply this to <code>a</code>, <code>c</code> and <code>d</code>. This would remove duplication however we could have extra unwanted properties which would not be caught by compiler.</li>\n</ol>\n\n<p>Might be a simple/silly question but thought i'd ask for opinions on this.</p>\n"}, {"tags": ["regex", "typescript", "str-replace", "ionic4"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": false, "score": 0, "last_activity_date": 1557959217, "last_edit_date": 1592644375, "creation_date": 1557959217, "answer_id": 56158446, "question_id": 56158218, "link": "https://stackoverflow.com/questions/56158218/how-to-remove-%c2%a3-symbol-from-nested-array-and-convert-string-to-integer/56158446#56158446", "title": "How to remove &#163; symbol from nested array and convert string to integer", "body": "<p>This expression might help you to replace that:</p>\n<pre><code>\u00a3([0-9.]+,?)\n</code></pre>\n<p>The key is to add everything you like to keep in the capturing group <code>()</code> and the pound symbol outside of the group, then simply replace it with <code>$1</code>.</p>\n<h3>RegEx</h3>\n<p>If this wasn't your desired expression, you can modify/change your expressions in <a href=\"https://regex101.com/r/1dLGad/1/\" rel=\"nofollow noreferrer\">regex101.com</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/YKDBV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YKDBV.png\" alt=\"enter image description here\" /></a></p>\n<h3>RegEx Circuit</h3>\n<p>You can also visualize your expressions in <a href=\"https://jex.im/regulex/#!flags=&amp;re=%5E(a%7Cb)*%3F%24\" rel=\"nofollow noreferrer\">jex.im</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/14zvI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/14zvI.png\" alt=\"enter image description here\" /></a></p>\n<h3>JavaScript Demo</h3>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const regex = /\u00a3([0-9.]+,?)/gm;\nconst str = `\u00a314.99,\u00a314.99,\u00a314.99\n\u00a334.99,\u00a334.99,\u00a334.99`;\nconst subst = `$1`;\n\n// The substituted value will be contained in the result variable\nconst result = str.replace(regex, subst);\n\nconsole.log('Substitution result: ', result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "is_accepted": false, "score": 0, "last_activity_date": 1557991858, "last_edit_date": 1557991858, "creation_date": 1557991513, "answer_id": 56163004, "question_id": 56158218, "link": "https://stackoverflow.com/questions/56158218/how-to-remove-%c2%a3-symbol-from-nested-array-and-convert-string-to-integer/56163004#56163004", "title": "How to remove &#163; symbol from nested array and convert string to integer", "body": "<p>You could capture in a group matching a digit with an optional decimal part after matching the <code>\u00a3</code></p>\n\n<pre><code>\u00a3(\\d+(?:\\.\\d+)?)\n</code></pre>\n\n<ul>\n<li><code>\u00a3</code> Match literally</li>\n<li><code>(</code> Capturing group\n\n<ul>\n<li><code>\\d+(?:\\.\\d+)?</code> Match 1+ digits with an optional part to match a dot and 1+ digits</li>\n</ul></li>\n<li><code>)</code> Close group</li>\n</ul>\n\n<p><a href=\"https://regex101.com/r/lbBbjI/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n\n<p>You should use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\" rel=\"nofollow noreferrer\">replace</a> on a string instead of an array.</p>\n\n<p>To turn the nested array with the strings into arrays of numbers, you could use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">map</a> and in the replacement refer to the capturing group using <code>$1</code> which contains your value.</p>\n\n<p>For example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var linedata = [\r\n  [\"\u00a314.99,\u00a314.99,\u00a314.99\"],\r\n  [\"\u00a334.99,\u00a334.99,\u00a334.99\"]\r\n].map(ary =&gt;\r\n  ary[0].split(',')\r\n  .map(v =&gt; Number(v.replace(/\u00a3(\\d+(?:\\.\\d+)?)/g, \"$1\")))\r\n);\r\n\r\nconsole.log(linedata);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or if you want to keep multiple nested arrays, you could use another map.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var linedata = [\r\n  [\"\u00a314.99,\u00a314.99,\u00a314.99\"],\r\n  [\"\u00a334.99,\u00a334.99,\u00a334.99\", \"\u00a334.99,\u00a334.99,\u00a334.99\"]\r\n].map(ary =&gt; ary\r\n  .map(s =&gt; s.split(',')\r\n    .map(v =&gt; Number(v.replace(/\u00a3(\\d+(?:\\.\\d+)?)/g, \"$1\")))\r\n  )\r\n);\r\n\r\nconsole.log(linedata);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 55, "user_id": 2759676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/786a7f1dbe22d255e49f266f7e21d900?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2759676/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1557991858, "creation_date": 1557957686, "last_edit_date": 1557959223, "question_id": 56158218, "link": "https://stackoverflow.com/questions/56158218/how-to-remove-%c2%a3-symbol-from-nested-array-and-convert-string-to-integer", "title": "How to remove &#163; symbol from nested array and convert string to integer", "body": "<p>I've got a nested array of prices that are a string and I want to remove the <code>\u00a3</code> symbols and convert the string into an integer. I need to strip the <code>\u00a3</code> signs and also convert to a integer so I can use the values in a <code>chart.js</code> line graph.</p>\n\n<p>I've been trying to use regex replace to remove the <code>\u00a3</code> sign but I don't think I can get it working because the strings are in a nested array. I can't seem to find anything on the net about replacing characters in a nested array. I haven't even tried converting the string to an integer yet, but wondering if it could all be handled in one go in someway?</p>\n\n<p>this is my nested array called linedata</p>\n\n<pre><code>var linedata = [[\"\u00a314.99,\u00a314.99,\u00a314.99\"],[\"\u00a334.99,\u00a334.99,\u00a334.99\"]]\n</code></pre>\n\n<p>this is the code I've been playing around with</p>\n\n<pre><code>var re = /\u00a3/g; \nvar newlinedata = linedata.replace(re, \"\");\n</code></pre>\n\n<p>Its not returning anything in chrome console and the ionic CLI is kicking out this error</p>\n\n<blockquote>\n  <p>ERROR in src/app/home/home.page.ts(66,26): error TS2339: Property\n  'replace' does not exist on type 'any[]'.</p>\n</blockquote>\n\n<p>Thoughts?</p>\n"}, {"tags": ["json", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 11396632, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AW4oHgrhOxk/AAAAAAAAAAI/AAAAAAAAACA/4DNH81sBQVk/photo.jpg?sz=128", "display_name": "Gustavo Branco", "link": "https://stackoverflow.com/users/11396632/gustavo-branco"}, "edited": false, "score": 1, "creation_date": 1557957672, "post_id": 56158136, "comment_id": 98945256, "body": "Thank you so much! I&#39;ve changed the post tags to JSON and Typescript to correct the post too."}], "tags": [], "owner": {"reputation": 4360, "user_id": 1194694, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/s1CUK.jpg?s=128&g=1", "display_name": "silicakes", "link": "https://stackoverflow.com/users/1194694/silicakes"}, "is_accepted": true, "score": 0, "last_activity_date": 1557957196, "creation_date": 1557957196, "answer_id": 56158136, "question_id": 56158074, "link": "https://stackoverflow.com/questions/56158074/how-to-use-angular-models-to-parse-json-objects-with-generic-names/56158136#56158136", "title": "How to use Angular models to parse JSON objects with generic names?", "body": "<p>That's actually a typescript question where the answer is using index signatures:</p>\n\n<pre><code>interface Checklist {\n  [key: string]: ChecklistItems[];\n} \n</code></pre>\n\n<p>Im this way - you can have any key as string, with the values you've specified.</p>\n"}], "owner": {"reputation": 17, "user_id": 11396632, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AW4oHgrhOxk/AAAAAAAAAAI/AAAAAAAAACA/4DNH81sBQVk/photo.jpg?sz=128", "display_name": "Gustavo Branco", "link": "https://stackoverflow.com/users/11396632/gustavo-branco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 56158136, "answer_count": 1, "score": -1, "last_activity_date": 1557957572, "creation_date": 1557956876, "last_edit_date": 1557957572, "question_id": 56158074, "link": "https://stackoverflow.com/questions/56158074/how-to-use-angular-models-to-parse-json-objects-with-generic-names", "title": "How to use Angular models to parse JSON objects with generic names?", "body": "<p>I'm creating a model into an Angular project to parse some JSON data for a service.</p>\n\n<p>the JSON file returns information like this:</p>\n\n<pre><code>[\n    {\n        \"bronze\": [\n            {\n                \"name\": \"Pontua\\u00e7\\u00e3o\",\n                \"now\": \"7.000\",\n                \"enabling\": \"1.800\",\n                \"icon\": \"score\",\n                \"status\": 1\n            },\n            {\n                \"name\": \"Cancelamento\",\n                \"now\": \"2.5%\",\n                \"enabling\": \"5.0%\",\n                \"icon\": \"cancellation\",\n                \"status\": 1\n            }\n        ]\n    },\n    {\n        \"silver\": [\n            {\n                \"name\": \"Pontua\\u00e7\\u00e3o\",\n                \"now\": \"7.000\",\n                \"enabling\": \"4.000\",\n                \"icon\": \"score\",\n                \"status\": 1\n            },\n            {\n                \"name\": \"Cancelamento\",\n                \"now\": \"2.5%\",\n                \"enabling\": \"5.0%\",\n                \"icon\": \"cancellation\",\n                \"status\": 1\n            },\n            {\n                \"name\": \"Assinatura Digital\",\n                \"now\": \"79.5%\",\n                \"enabling\": \"5.0%\",\n                \"icon\": \"cancellation\",\n                \"status\": 1\n            }\n        ]\n    }\n]\n</code></pre>\n\n<p>I would like to tell Angular that the object's name doesn't matter, like so:</p>\n\n<pre><code>export interface Checklist {\n   anyObject: ChecklistItems[];\n}\n\nexport interface ChecklistItems {\n    name:     string;\n    now:      string;\n    enabling: string;\n    icon:     string;\n    status:   number;\n}\n</code></pre>\n\n<p>Would that be possible?</p>\n"}, {"tags": ["c#", "angular", "visual-studio", "typescript", "visual-studio-2017"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557958619, "post_id": 56158041, "comment_id": 98945498, "body": "<a href=\"https://docs.microsoft.com/en-us/visualstudio/javascript/debug-nodejs?view=vs-2017#debug-client-side-script\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/visualstudio/javascript/&hellip;</a> might be useful"}, {"owner": {"reputation": 680, "user_id": 5753579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/387135aac6dadd8b9f88471eba3ec316?s=128&d=identicon&r=PG&f=1", "display_name": "For Comment", "link": "https://stackoverflow.com/users/5753579/for-comment"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557981579, "post_id": 56158041, "comment_id": 98949698, "body": "@ADyson that link looks really promising, I will give it a thorough read through"}], "owner": {"reputation": 680, "user_id": 5753579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/387135aac6dadd8b9f88471eba3ec316?s=128&d=identicon&r=PG&f=1", "display_name": "For Comment", "link": "https://stackoverflow.com/users/5753579/for-comment"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557958533, "creation_date": 1557956676, "last_edit_date": 1557958533, "question_id": 56158041, "link": "https://stackoverflow.com/questions/56158041/debug-net-framework-4-6-angular-web-project-couldnt-set-breakpoint-in-angular", "title": "Debug .Net Framework 4.6 Angular Web project couldn&#39;t set breakpoint in angular typescript code", "body": "<p>I am working on this web project, it is a C# Web project in .Net Framework 4.6 with Angular 6 as the web front end. So, in short, the project entry point is Program.cs -> Startup.cs, where a bunch of services get added into the project through dependency injection. Then the front end angular code will launch to display in the browser. I am currently using visual studio 2017 to run this whole code base and it works well, except that I couldn't set breakpoint inside any of the typescript files as I saw in many tutorials out there, it simply says that breakpoints can't be set. I suppose the running thread is in C# and angular is in a separate thread? </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 635, "user_id": 6364060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036f4d1c8a6300e46f8cc49d9a51c736?s=128&d=identicon&r=PG&f=1", "display_name": "Biplab Malakar", "link": "https://stackoverflow.com/users/6364060/biplab-malakar"}, "edited": false, "score": 0, "creation_date": 1557955037, "post_id": 56157677, "comment_id": 98944461, "body": "Your ProductHeader is array of object, not a simple object. So you need find one object from a index then you can do this like, you can do this ProductHeader[0].name"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1557955843, "post_id": 56157677, "comment_id": 98944732, "body": "^^ or if its optional then do [(ngModel)]=&quot;ProductHeader?.name&quot; this will supress the error"}, {"owner": {"reputation": 36, "user_id": 10836748, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y4LNEFAZiik/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbgHMVavXmz8tg1xrj3T850Tvfzwg/mo/photo.jpg?sz=128", "display_name": "Joe Barrett", "link": "https://stackoverflow.com/users/10836748/joe-barrett"}, "edited": false, "score": 0, "creation_date": 1557962908, "post_id": 56157677, "comment_id": 98946348, "body": "Adding the &quot;?&quot; created an error on the data being called in the table."}], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 10836748, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y4LNEFAZiik/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbgHMVavXmz8tg1xrj3T850Tvfzwg/mo/photo.jpg?sz=128", "display_name": "Joe Barrett", "link": "https://stackoverflow.com/users/10836748/joe-barrett"}, "edited": false, "score": 0, "creation_date": 1557962770, "post_id": 56158197, "comment_id": 98946323, "body": "Would this mean i would have to change how the array content is displayed in the table in the HTML code?"}, {"owner": {"reputation": 506, "user_id": 6881890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80c86d02bcf30b91e64eb59323e1b102?s=128&d=identicon&r=PG&f=1", "display_name": "dukeluke", "link": "https://stackoverflow.com/users/6881890/dukeluke"}, "reply_to_user": {"reputation": 36, "user_id": 10836748, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y4LNEFAZiik/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbgHMVavXmz8tg1xrj3T850Tvfzwg/mo/photo.jpg?sz=128", "display_name": "Joe Barrett", "link": "https://stackoverflow.com/users/10836748/joe-barrett"}, "edited": false, "score": 0, "creation_date": 1557980821, "post_id": 56158197, "comment_id": 98949502, "body": "Yes, I didn&#39;t notice that... the <code>&lt;div *ngIf=&quot;ProductHeader.name&quot;&gt; </code> line also contains the same error."}], "tags": [], "owner": {"reputation": 506, "user_id": 6881890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80c86d02bcf30b91e64eb59323e1b102?s=128&d=identicon&r=PG&f=1", "display_name": "dukeluke", "link": "https://stackoverflow.com/users/6881890/dukeluke"}, "is_accepted": false, "score": 0, "last_activity_date": 1557958072, "last_edit_date": 1557958072, "creation_date": 1557957580, "answer_id": 56158197, "question_id": 56157677, "link": "https://stackoverflow.com/questions/56157677/error-when-trying-to-build-project-in-angular/56158197#56158197", "title": "Error when trying to build project in angular", "body": "<p>The error is being caused by the line</p>\n\n<p><code>[(ngModel)]=\"ProductHeader.name\" (ngModelChange)=\"SearchProduct(ProductHeader.name)\"</code> </p>\n\n<p>in your HTML, because the <code>name</code> value is inside each member of the array <code>ProductHeader</code>. You can access the value with <code>ProductHeader[i].name</code> where <code>i</code> is a number representing the index of the value you want.</p>\n\n<p>In this case, it looks like you don't want the <code>name</code> values to be updated, you just want one to be selected. So I believe you could use a different variable for your ngModel, which would be defined in your component class, for example:</p>\n\n<p><code>[(ngModel)]=\"selectedProductName\" (ngModelChange)=\"SearchProduct()\"</code></p>\n\n<p>You also need to update the following line's <code>&lt;option&gt;</code> tag and add <code>[ngValue]=\"prod.name\"</code>.</p>\n\n<p><em>Note: this would require updating your <code>SearchProduct()</code> function take no inputs and use the value <code>this.selectedProductName</code> instead.</em></p>\n"}, {"comments": [{"owner": {"reputation": 36, "user_id": 10836748, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y4LNEFAZiik/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbgHMVavXmz8tg1xrj3T850Tvfzwg/mo/photo.jpg?sz=128", "display_name": "Joe Barrett", "link": "https://stackoverflow.com/users/10836748/joe-barrett"}, "edited": false, "score": 0, "creation_date": 1557962699, "post_id": 56158233, "comment_id": 98946311, "body": "This is Giving an error cannot identify ProductHeader. Am i missing a step?"}], "tags": [], "owner": {"reputation": 869, "user_id": 6322587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fedcaa357fc398f933b21e1f93c214ea?s=128&d=identicon&r=PG", "display_name": "Katherine R", "link": "https://stackoverflow.com/users/6322587/katherine-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1557957755, "creation_date": 1557957755, "answer_id": 56158233, "question_id": 56157677, "link": "https://stackoverflow.com/questions/56157677/error-when-trying-to-build-project-in-angular/56158233#56158233", "title": "Error when trying to build project in angular", "body": "<p>The issue is with binding to an array for ngModel in the select. Try this:</p>\n\n<p>Template:</p>\n\n<pre><code>\n  &lt;select  [(ngModel)]=\"selectedProduct?.name\"  (ngModelChange)=\"SearchProduct(ProductHeader.name)\"&gt;  \n       &lt;option *ngFor=\"let prod of ProductHeader\"&gt;{{prod.name}}&lt;/option&gt;  \n   &lt;/select&gt; \n\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>\nexport class DropdownComponent  {\n  ...\n  public ProductHeader = [ ... ]\n  public selectedProd = ProductHeader[0];\n  ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 10836748, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y4LNEFAZiik/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbgHMVavXmz8tg1xrj3T850Tvfzwg/mo/photo.jpg?sz=128", "display_name": "Joe Barrett", "link": "https://stackoverflow.com/users/10836748/joe-barrett"}, "is_accepted": true, "score": 0, "last_activity_date": 1558012861, "creation_date": 1558012861, "answer_id": 56169625, "question_id": 56157677, "link": "https://stackoverflow.com/questions/56157677/error-when-trying-to-build-project-in-angular/56169625#56169625", "title": "Error when trying to build project in angular", "body": "<p>I found a solution. Instead of adding --prod, just running build ran smoothly and the program is functioning without issue. Thanks everyone!</p>\n"}], "owner": {"reputation": 36, "user_id": 10836748, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y4LNEFAZiik/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbgHMVavXmz8tg1xrj3T850Tvfzwg/mo/photo.jpg?sz=128", "display_name": "Joe Barrett", "link": "https://stackoverflow.com/users/10836748/joe-barrett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 56169625, "answer_count": 3, "score": 0, "last_activity_date": 1558012861, "creation_date": 1557954653, "last_edit_date": 1557958014, "question_id": 56157677, "link": "https://stackoverflow.com/questions/56157677/error-when-trying-to-build-project-in-angular", "title": "Error when trying to build project in angular", "body": "<p>When trying to build my project in the angular CLI, i am given this error. I've read around a tried a few things but nothing has worked. The error is:</p>\n\n<blockquote>\n  <p>ERROR in src\\app\\dropdown\\dropdown.component.html(8,12): : Property\n  'name' does not exist on type '{ name: string; }[]'.\n  src\\app\\dropdown\\dropdown.component.html(34,6): : Property 'name' does\n  not exist on type '{ name: string; }[]'.\n  src\\app\\dropdown\\dropdown.component.html(8,12): : Property 'name' does\n  not exist on type '{ name: string; }[]'.\n  src\\app\\dropdown\\dropdown.component.html(8,45): : Property 'name' does\n  not exist on type '{ name: string; }[]'.</p>\n</blockquote>\n\n<p>HTML for component: </p>\n\n<pre><code>&lt;div id=\"Header\"&gt;\n&lt;h1&gt;Welcome to  the BOV Solicitor info app!&lt;/h1&gt;\n&lt;/div&gt;\n&lt;h3&gt;Select a Municipality from the drop down box to display the information.&lt;/h3&gt;\n&lt;hr&gt;\n&lt;div id=\"Dropdown\"&gt;  \n  Select Municipality :  \n  &lt;select  [(ngModel)]=\"ProductHeader.name\" (ngModelChange)=\"SearchProduct(ProductHeader.name)\"&gt;  \n       &lt;option *ngFor=\"let prod of ProductHeader\"&gt;{{prod.name}}&lt;/option&gt;  \n   &lt;/select&gt; \n   &lt;br&gt;\n   &lt;br&gt;\n   &lt;!--\n       Code for future feature\n\n\n&lt;h3 style=\"color: red;\"&gt;If you wish to view all records, click the button instead of making a selection in the drop down box.&lt;/h3&gt;\n   &lt;div class=\"allrecords\"&gt;\n    &lt;button class=\"btn btn-primary\"  (click)=\"toggleChild()\"&gt;Click to display all records&lt;/button&gt;\n    &lt;div&gt;\n        &lt;app-allrecords [showMePartially]=\"showVar\"&gt;&lt;/app-allrecords&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n--&gt;\n\n\n\n\n\n\n\n&lt;/div&gt;  \n&lt;div&gt;  \n&lt;div *ngIf=\"ProductHeader.name\"&gt;   \n&lt;h4&gt;{{ProductHeader.name}} Details:&lt;/h4&gt;  \n&lt;div&gt;\n&lt;table class=\"table  table-dark table-hover table-bordered table-responsive-lg\"&gt;  \n    &lt;tr &gt;   \n        &lt;th&gt;Attorney:&lt;/th&gt; &lt;th&gt;Solicitor For:&lt;/th&gt;  &lt;th&gt;Phone:&lt;/th&gt; &lt;th&gt;Fax:&lt;/th&gt;   &lt;th&gt;Address:&lt;/th&gt;\n    &lt;/tr&gt;  \n\n     &lt;tr  *ngFor=\"let Prod of ProductDetails\"&gt;  \n        &lt;td&gt;{{Prod.Atty1}}&lt;/td&gt;  \n        &lt;td&gt;{{Prod.Affil1}}&lt;/td&gt;  \n        &lt;td&gt;{{Prod.Phone}}&lt;/td&gt;  \n        &lt;td&gt;{{Prod.Fax}}&lt;/td&gt;  \n        &lt;td&gt;{{Prod.Add}}&lt;/td&gt;\n    &lt;/tr&gt;  \n  &lt;tr  *ngFor=\"let Prod of ProductDetails\"&gt;  \n     &lt;td&gt;{{Prod.Atty2}}&lt;/td&gt;  \n     &lt;td&gt;{{Prod.Affil2}}&lt;/td&gt;  \n     &lt;td&gt;{{Prod.Phone2}}&lt;/td&gt;  \n     &lt;td&gt;{{Prod.Fax2}}&lt;/td&gt;  \n     &lt;td&gt;{{Prod.Add2}}&lt;/td&gt;\n &lt;/tr&gt;\n\n\n&lt;/table&gt;\n&lt;h3&gt;Please report any errors or outdated information &lt;a href=\"mailto:joebarrett29@gmail.com?subject=Report&amp;body=The following information needs changed:\"&gt;here&lt;/a&gt;.&lt;/h3&gt;  \n&lt;/div&gt; \n</code></pre>\n\n<p>Code for the TS component:\nHad to cut some data to meet the input limit for stack overflow</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-dropdown',\n  templateUrl: './dropdown.component.html',\n  styleUrls: ['./dropdown.component.css']\n})\nexport class DropdownComponent  {\n  showVar: boolean = true;\n\n\n\n    toggleChild(){\n        this.showVar = !this.showVar;\n    }\n\n   //Create a object for storing filter data and bind to html table.\n   public ProductDetails: object = [];  \n\n   //filter product details on name and return productDetails object.\n   public ProductHeader = [{ name: 'Alepo Twp' }, { name: 'Aspinwall Borough'}, { name: 'Avalon Borough' }, { name: 'Baldwin' },\n   { name: 'Baldwin Twp' }, { name: 'Bell Acres Borough' }, { name: 'Bellevue Borough' }, { name: 'Ben Avon' }, \n   { name: 'Ben Avon Heights' }, { name: 'Bethel Park Borough' }, { name: 'Blawnox' }, { name: 'Brackenridge' },\n   { name: 'Braddock Borough' }, { name: 'Braddock Hills' }, { name: 'Bradford Woods' }, { name: 'Brentwood Borough' },\n   { name: 'Bridgeville' }, { name: 'Carnegie' }, { name: 'Castle Shannon' }, { name: 'Chalfant' }, { name: 'Cheswick' },\n   { name: 'Churchill' }, { name: 'City of Duquesne' }, { name: 'City of McKeesport' }, { name: 'City of Pittsburgh' },\n   { name: 'Clairton' }, { name: 'Collier Twp' }, { name: 'Coraopolis' }, { name: 'Crafton Borough' }, { name: 'Crescent' },\n   { name: 'Dormont Borough' }, { name: 'Dravosburg' }, { name: 'East Deer Twp' }, { name: 'East Pittsburgh' }, { name: 'Edgewood' },\n   { name: 'Edgeworth Borough' }, { name: 'Elizabeth' }, { name: 'Elizabeth Twp' }, { name: 'Emsworth Borough' },\n   { name: 'Etna' }, { name: 'Fawn Twp' }, { name: 'Findlay Twp' }, { name: 'Forest Hills Borough' }, { name: 'Forward Twp' }, { name: 'Fox Chapel Borough'},\n   { name: 'Frazer Twp' }, { name: 'Glassport' }, { name: 'Glenfield' }, { name: 'Greentree Borough' }, { name: 'Hampton Twp' },\n   { name: 'Harmar Twp' }, { name: 'Harrison Twp' }, { name: 'Haysville' }, { name: 'Heidelberg' }, { name: 'Homestead Borough' },\n   { name: 'Imperial Twp' }, { name: 'Indiana Twp' }, { name: 'Ingram' }, { name: 'Jefferson' }, { name: 'Kennedy Twp' },\n   { name: 'Kilbuck Twp' }, { name: 'Leet Twp' }, { name: 'Leetsdale' }, { name: 'Liberty' }, { name: 'Lincoln' }, { name: 'Marshall Twp' },\n   { name: 'McCandless Twp' }, { name: 'McDonald' }, { name: 'McKees Rocks' }, { name: 'Millvale' }, { name: 'Monroeville Borough' },\n   { name: 'Moon Twp' }, { name: 'Mount Oliver' }, { name: 'Mt. Lebanon Twp' }, { name: 'Munhall Borough' }, { name: 'Neville Twp' },\n   { name: 'North Braddock Borough' }, { name: 'North Fayette' }, { name: 'North Fayette Twp' }, { name: 'North Versailles' }, \n   { name: 'Oakdale' }, { name: 'Oakmont Borough' }, { name: \"O'Hara Twp\" }, { name: 'Ohio Twp' }, { name: 'Osborne' },\n   { name: 'Penn Hills Twp' }, { name: 'Pennsbury' }, { name: 'Pine Twp' }, { name: 'Pitcarin Borough' }, { name: 'Pleasant Hills Borough' },\n   { name: 'Plum' }, { name: 'Port Vue Borough' }, { name: 'Rankin' }, { name: 'Reserve Twp' }, { name: 'Richland Twp' }, { name: 'Robinson Twp' },\n   { name: 'Ross Twp' }, { name: 'Rosslyn Farms' }, { name: 'Scott' }, { name: 'Sewickley Borough' }, { name: 'Sewickley Heights Borough' },\n   { name: 'Sewickley Hills' }, { name: 'Shaler Twp' }, { name: 'Sharpsburg' }, { name: 'South Fayette' }, { name: 'South Park Twp' },\n   { name: 'South Versailles' }, { name: 'Springdale' }, { name: 'Springdale Twp' }, { name: 'Stowe Twp' }, { name: 'Swissvale' },\n   { name: 'Tarentum' }, { name: 'Thornburg' }, { name: 'Trafford' }, { name: 'Turtle Creek' }, { name: 'Upper St. Clair Twp' },\n   { name: 'Verona' }, { name: 'Versailles' }, { name: 'Wall' }, { name: 'West Deer Twp' }, { name: 'West Elizabeth Twp' },\n   { name: 'West Elizabeth Twp' }, { name: 'West Homestead' }, { name: 'West Mifflin Borough' }, { name: 'West View' },\n   { name: 'Whitaker' }, { name: 'White Oak' }, { name: 'Whitehall' }, { name: 'Wilkins Twp' }, { name: 'Wilkinsburg Borough' },\n   { name: 'Wilmerding Borough' }];  \n   public Products = [  \n    {Name:'Alepo Twp', Atty1: 'Harlan S. Stone, Esq.' , Atty2: 'John T. Vogel, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Quaker Valley)', Phone: '412-392-5295', Phone2: '412-594-5622',\n    Fax: '412-392-5367', Fax2: '412-594-5619', Add: '2 PPG Place Ste 400, Pittsburgh, PA 15222', Add2: '1500 One PPG Place, Pittsburgh, PA 15222'},\n\n    {Name:'Aspinwall Borough', Atty1: 'Stephen L. Korbel, Esq.' , Atty2: 'Paul Giuffre, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Fox Chapel)', Phone: '412-394-5627', Phone2: '412-781-7900',\n     Fax: '412-586-1042', Fax2: '412-781-7901', Add: '603 Stanwix Street, 6th Floor, Pittsburgh, PA 15222', Add2: '221 Commercial Avenue, Suite 220, Pittsburgh, PA 15215'}, \n\n    {Name:'Avalon Borough', Atty1: 'Megan M. Turnbull, Esq.' , Atty2: 'Anthony Giglio, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Northgate)', Phone: '412-391-9890', Phone2: '412-243-9700',\n     Fax: '412-391-9685', Fax2: '412-243-9660', Add: '445 Fort Pitt Blvd., Suite 503, Pittsburgh, PA 15219', Add2: '1500 Ardmore Blvd., Ste 506, Pittsburgh, PA 15221'},\n\n    {Name:'Baldwin', Atty1: 'Stanley Lederman, Esq.' , Atty2: 'Ira Weiss, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Baldwin-Whitehall)', Phone: '412-261-5400', Phone2: '412-391-9890', \n    Fax: '412-281-0313', Fax2: '412-392-9685', Add: '428 Forbes Ave, Ste 302, Pittsburgh, PA 15219', Add2: '445 Fort Pitt Blvd., Suite 503, Pittsburgh, PA 15219'},\n\n    {Name:'Baldwin Twp', Atty1: 'Romel L. Nicholas, Esq.' , Atty2: 'Ira Weiss, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Baldwin-Whitehall)', Phone: '412-391-6920', Phone2: '412-391-9890', \n    Fax: '412-391-1189', Fax2: '412-391-9685', Add: '519 Court Place, Pittsburgh, PA 15219', Add2: '445 Fort Pitt Blvd., Suite 503, Pittsburgh, PA 15219'},\n\n    {Name:'Bell Acres Borough', Atty1: 'Robert Max Junker, Esq.' , Atty2: 'Patrick Clair, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Quaker Valley)', Phone: '412-394-5400', Phone2: '412-935-4777',\n    Fax: '412-773-7862', Fax2: '412-935-4123', Add: '810 3rd Street, Beaver, PA 15009', Add2: '2100 Georgetown Dr, Suite 300, Sewickley, PA 15143'},\n\n    {Name:'Bellevue Borough', Atty1: 'Thomas P. McDermott, Esq.' , Atty2: 'Anthony Giglio, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Northgate)', Phone: '412-391-6920', Phone2: '412-243-9700', \n    Fax: '412-391-1189', Fax2: '412-243-9660', Add: '519 Court Place, Pittsburgh, PA 15219', Add2: '1500 Ardmore Blvd., Suite 506, Pittsburgh, PA 15221'},\n\n  {Name:'Ben Avon', Atty1: 'Anne Sweeney, Esq.' , Atty2: 'Anthony Giglio, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Avonworth)', Phone: '412-366-3533', Phone2: '412-243-9700', \n    Fax: '412-366-3334', Fax2: '412-243-9660', Add: '1004 McKnight Park Drive, Pittsburgh, PA 15237', Add2: '1500 Ardmore Blvd., Suite 506, Pittsburgh, PA 15221'},\n\n  {Name:'Ben Avon Heights', Atty1: 'John T. Vogel, Esq.' , Atty2: 'Anthony Giglio, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Avonworth)', Phone: '412-594-5622', Phone2: '412-243-9700', \n    Fax: '412-594-5619', Fax2: '412-243-9660', Add: '1500 One PPG Place, Pittsburgh, PA 15222', Add2: '1500 Ardmore Blvd., Suite 506, Pittsburgh, PA 15221'},\n\n  {Name:'Bethel Park Borough', Atty1: 'John T. Vogel, Esq.' , Atty2: 'Anthony Giglio, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Bethel Park)', Phone: '412-594-5622', Phone2: '412-243-9700', \n    Fax: '412-594-5619', Fax2: '412-243-9660', Add: '1500 One PPG Place, Pittsburgh, PA 15222', Add2: '1500 Ardmore Blvd., Suite 506, Pittsburgh, PA 15221'},\n\n  {Name:'Blawnox', Atty1: 'John F. Cambest, Esq.' , Atty2: 'Paul Guiffre, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Fox Chapel)', Phone: '412-243-1600', Phone2: '412-781-7900', \n    Fax: '412-243-1643', Fax2: '412-781-7901', Add: '1900 Main Street, Suite 207, Canonsburg, PA 15317', Add2: '221 Commercial Ave, Suite 200, Pittsburgh, PA 15215'},\n\n  {Name:'Brackenridge', Atty1: 'David P. Hivzdos, Esq.' , Atty2: 'Ira Weiss, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Highland)', Phone: '724-941-5400', Phone2: '412-391-9890', \n    Fax: '724-941-8455', Fax2: '412-391-9685', Add: '505 Valleybrook Road, McMurray, PA 15317', Add2: '445 Fort Pitt Blvd., Suite 503, Pittsburgh, PA 15219'},\n\n    {Name:'Braddock Borough', Atty1: 'Falco Muscante, Esq.' , Atty2: 'John T. Vogel, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Woodland Hills)', Phone: '412-242-4400', Phone2: '412-594-5622', \n    Fax: '412-242-4377', Fax2: '412-594-5619', Add: '424 South 27th Street, Suite 210, Pittsburgh, PA 15203', Add2: '1500 One PPG Place, Pittsburgh, PA 15222'},\n\n    {Name:'Braddock Hills', Atty1: 'Samuel P. Kamin, Esq.' , Atty2: 'John T. Vogel, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Woodland Hills)', Phone: '412-281-1119', Phone2: '412-594-5622', \n    Fax: '412-281-1121', Fax2: '412-594-5619', Add: '437 Grant Street, Suite 1806, Pittsburgh, PA 15219', Add2: '1500 One PPG Place, Pittsburgh, PA 15222'},\n\n    {Name:'Bradford Woods', Atty1: 'Kate M. Diersen, Esq.' , Atty2: 'Alfred C. Maiello, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (North Allegheny)', Phone: '412-281-0587', Phone2: '412-242-4400', \n    Fax: '412-281-2971', Fax2: '412-242-4377', Add: '437 Grant Street, 14th Floor, Pittsburgh, PA 15219', Add2: '424 South 27th Street, Suite 210, Pittsburgh, PA 15203'},\n\n    {Name:'Brentwood Borough', Atty1: 'Gavin A. Robb, Esq.' , Atty2: 'John T. Vogel, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Brentwood)', Phone: '412-594-5654', Phone2: '412-594-5622', \n    Fax: '412-594-5619', Fax2: '412-594-5619', Add: 'One PPG Place, Suite 1500, Pittsburgh, PA 15222', Add2: '1500 One PPG Place, Pittsburgh, PA 15222'},\n\n    {Name:'Bridgeville', Atty1: 'Thomas P. McDermott, Esq.' , Atty2: 'Patrick Clair, Esq.', \n    Affil1: 'Municipality', Affil2: 'School District (Chartiers Valley)', Phone: '412-391-6920', Phone2: '412-935-4777', \n    Fax: '412-391-1189', Fax2: '412-935-4123', Add: '519 Court Place, Pittsburgh, PA 15219', Add2: '2100 Georgetown Dr, Suite 300, Sewickley, PA 15143'},\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    ]; \n\n\n   getProducts() {  \n    console.log(\"getProducts\");  \n    return this.ProductHeader;  \n}  \n\n\nSearchProduct(name: string) {  \n\n    let obj = this.Products.filter(m =&gt; m.Name == name);  \n    this.ProductDetails = obj;  \n    return this.ProductDetails;  \n}  \n\n\n\n\n\n  constructor() { \n    this.getProducts();  \n  }\n\n  ngOnInit() {\n\n\n\n\n\n}\n\n\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "apollo", "react-apollo", "apollo-client"], "answers": [{"tags": [], "owner": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "is_accepted": true, "score": 1, "last_activity_date": 1557959658, "creation_date": 1557959658, "answer_id": 56158505, "question_id": 56157259, "link": "https://stackoverflow.com/questions/56157259/why-does-apollo-cache-writequery-re-render-a-query-component/56158505#56158505", "title": "Why does Apollo cache (?) writeQuery() re render a query component", "body": "<p><code>cache.writeData()</code> usage for updating single item (by type) is described <a href=\"https://www.apollographql.com/docs/react/essentials/local-state#local-resolvers\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>But ... I'm affraid it will force rerender query component, too. This behaviour is from <code>&lt;Query/&gt;</code> component internals - creating an observable/subscription:</p>\n\n<blockquote>\n  <p>Apollo Client creates an observable for our query. Our component subscribes to the result of the query via the Apollo Client cache.</p>\n</blockquote>\n\n<p><strong>SUGGESTION</strong>:\nYou can use <em>old</em> <code>graphql()</code> HOC to avoid rerendering with <code>cache.writeQuery()</code>. I personally prefer HOCs using more flexible/powerfull <a href=\"https://www.apollographql.com/docs/react/recipes/recompose\" rel=\"nofollow noreferrer\">recompose pattern</a> (f.e. for composing multiple queries, mutations, local state, redux <code>connect()</code> ).</p>\n"}], "owner": {"reputation": 83, "user_id": 11506347, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QSpaydGP--c/AAAAAAAAAAI/AAAAAAAAAAc/JYwjEB_s6gc/photo.jpg?sz=128", "display_name": "Eric Smith", "link": "https://stackoverflow.com/users/11506347/eric-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 887, "favorite_count": 0, "accepted_answer_id": 56158505, "answer_count": 1, "score": 0, "last_activity_date": 1557959658, "creation_date": 1557952610, "last_edit_date": 1557952995, "question_id": 56157259, "link": "https://stackoverflow.com/questions/56157259/why-does-apollo-cache-writequery-re-render-a-query-component", "title": "Why does Apollo cache (?) writeQuery() re render a query component", "body": "<p>I'm working on a React project using Apollo Client and there is a <code>cache.writeQuery()</code> call being made that is causing a re render of a related query component. </p>\n\n<p>See code for details:  </p>\n\n<blockquote>\n  <p>cache.writeQuery():</p>\n</blockquote>\n\n<pre><code>cache.writeQuery( {\n    query : serverQueries.searchMessages,\n    variables : {\n        labelId : labelId,\n        searchTerms : searchTermsString ? searchTermsString : null,\n        )\n    },\n\n    data : { Messages : updatedData }\n} );\n</code></pre>\n\n<blockquote>\n  <p>Related query component that is re rendering:</p>\n</blockquote>\n\n<pre><code>&lt;SearchMessagesQuery\n            query={serverQueries.searchMessages}\n            variables={{\n                labelId: searchMailLabelId,\n                searchTerms: searchTerms.asJSON,\n            }}&gt;\n</code></pre>\n\n<p>I do not want this query component to re render and from what I've read it seems as though <code>cache.writeData()</code> allows that behaviour. However, <code>cache.writeData()</code> apparently does not allow the <code>variable</code> key which I would need to update unique/individual <code>searchMessages</code>. How can I use <code>cache.writeData()</code> in order to execute the same query?</p>\n"}, {"tags": ["typescript", "typedoc"], "answers": [{"tags": [], "owner": {"reputation": 7051, "user_id": 4252741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/L3CRt.jpg?s=128&g=1", "display_name": "Chic", "link": "https://stackoverflow.com/users/4252741/chic"}, "is_accepted": true, "score": 2, "last_activity_date": 1558039253, "creation_date": 1558039253, "answer_id": 56176302, "question_id": 56156942, "link": "https://stackoverflow.com/questions/56156942/why-sometimes-the-top-most-comment-in-tsdoc-doesnt-show-in-the-generated-docume/56176302#56176302", "title": "Why sometimes the top-most comment in TSDoc doesn&#39;t show in the generated documentation?", "body": "<p>This depends on whether there is another comment between the top comment and any other expressions. The fix is to follow your top level comments with another doc comment.</p>\n\n<pre><code>/**\n * This file provides functions for interacting with CNPJ data.\n * You might want to use some more complex functions from the **cpf_cnpj** library.\n */\n/** End file docs */\n</code></pre>\n\n<p>More context is found in <a href=\"https://github.com/TypeStrong/typedoc/issues/603\" rel=\"nofollow noreferrer\">this issue</a>.</p>\n"}], "owner": {"reputation": 3197, "user_id": 2203828, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/05Z1b.png?s=128&g=1", "display_name": "Telmo Trooper", "link": "https://stackoverflow.com/users/2203828/telmo-trooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 56176302, "answer_count": 1, "score": 3, "last_activity_date": 1558039253, "creation_date": 1557951124, "question_id": 56156942, "link": "https://stackoverflow.com/questions/56156942/why-sometimes-the-top-most-comment-in-tsdoc-doesnt-show-in-the-generated-docume", "title": "Why sometimes the top-most comment in TSDoc doesn&#39;t show in the generated documentation?", "body": "<p>I'm using TSDoc to document my TypeScript project and using TypeDoc to generate HTML documentation.</p>\n\n<p>I can't seem to find the answer as to why sometimes the top comment in the file shows up in the generated documentation (which is useful to explain the purpose of a whole file) and sometimes it doesn't.</p>\n\n<p>I tried pasting a top comment that works in a file into another file but it didn't show up. The comment is properly formatted. This is the comment, in case it's relevant:</p>\n\n<pre><code>/**\n * This file provides functions for interacting with CNPJ data.\n * You might want to use some more complex functions from the **cpf_cnpj** library.\n */\n</code></pre>\n\n<p>Does anyone know why it happens and how can I work around this issue?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1557958800, "post_id": 56158230, "comment_id": 98945536, "body": "It is still giving me the same error. The object.assign gives me the correct type of (EditableText | Null)[], but the problem still remains where the compiler tells me that newRefs is missing valueElement, refHandlers, render etc. Thank you for your reply though"}, {"owner": {"reputation": 546, "user_id": 9291783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lS6WzyHR4KE/AAAAAAAAAAI/AAAAAAAAE1k/o76CyegSbqE/photo.jpg?sz=128", "display_name": "Alexandre Rodrigues", "link": "https://stackoverflow.com/users/9291783/alexandre-rodrigues"}, "reply_to_user": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1557959094, "post_id": 56158230, "comment_id": 98945624, "body": "@C.Programming when creating the newRefs try to replace the <code>ObjectSpread</code> by <code>Object.assign</code>"}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1557961033, "post_id": 56158230, "comment_id": 98946021, "body": "Object.assign seems to be giving me the union of Editable text and state: {...} which equates to ref.state. I want to replace the Ref.state with this state: {...} instead."}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1557961135, "post_id": 56158230, "comment_id": 98946043, "body": "I changed my spread operator for newRef assignment to const newRef = Object.assign({}, ref, {state: newState});"}, {"owner": {"reputation": 546, "user_id": 9291783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lS6WzyHR4KE/AAAAAAAAAAI/AAAAAAAAE1k/o76CyegSbqE/photo.jpg?sz=128", "display_name": "Alexandre Rodrigues", "link": "https://stackoverflow.com/users/9291783/alexandre-rodrigues"}, "reply_to_user": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1557997251, "post_id": 56158230, "comment_id": 98956486, "body": "@C.Programming any progress? what if you copy the original object and then go to the property and set the new value? I have edited my answer."}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1558014609, "post_id": 56158230, "comment_id": 98966862, "body": "You can&#39;t assign newRef.state.value like that since it is a constant. That is why I was trying to create a new object with that value and reassign the ref"}, {"owner": {"reputation": 546, "user_id": 9291783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lS6WzyHR4KE/AAAAAAAAAAI/AAAAAAAAE1k/o76CyegSbqE/photo.jpg?sz=128", "display_name": "Alexandre Rodrigues", "link": "https://stackoverflow.com/users/9291783/alexandre-rodrigues"}, "reply_to_user": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1558023519, "post_id": 56158230, "comment_id": 98972067, "body": "@C.Programming sorry I didn&#39;t know value was a constant. I understand what you mean. do you have any progress?"}], "tags": [], "owner": {"reputation": 546, "user_id": 9291783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lS6WzyHR4KE/AAAAAAAAAAI/AAAAAAAAE1k/o76CyegSbqE/photo.jpg?sz=128", "display_name": "Alexandre Rodrigues", "link": "https://stackoverflow.com/users/9291783/alexandre-rodrigues"}, "is_accepted": false, "score": 0, "last_activity_date": 1557997311, "last_edit_date": 1557997311, "creation_date": 1557957728, "answer_id": 56158230, "question_id": 56156626, "link": "https://stackoverflow.com/questions/56156626/how-to-reassign-ref-objects-in-react/56158230#56158230", "title": "How to reassign Ref objects in React", "body": "<p>Can you try using <code>Object.assign()</code> method copies enumerable and own properties from a source object to a target object.\nGive a look to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">Object.assign documentation</a> and <a href=\"https://thecodebarbarian.com/object-assign-vs-object-spread.html\" rel=\"nofollow noreferrer\">Object.assign vs Object Spread</a></p>\n\n<p><strong>edited</strong></p>\n\n<pre><code>public handleCancelBtn = () =&gt; {\n    const newRefs = this.state.refs.map(ref =&gt; {\n      if (ref != null) {\n        let newRef = Object.assign({}, ref);\n        newRef.state.value = ref.props.defaultValue;\n        return newRef;\n      }\n      return null;\n    });\n\n    this.setState({\n      editingDesc: false,\n      refs: newRefs\n    });\n  };\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 929, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557997311, "creation_date": 1557949669, "last_edit_date": 1557949992, "question_id": 56156626, "link": "https://stackoverflow.com/questions/56156626/how-to-reassign-ref-objects-in-react", "title": "How to reassign Ref objects in React", "body": "<p>I am trying to fix part of a project where I do not have control over how they are using refs. Currently there are Editable text elements that are being controlled by using refs and a state varible in the component holding all of these refs. I am trying to implement a cancel button which resets the edited fields to their orginal default value.</p>\n\n<p>I have tried using the blow code to accomplish this by replacing, the edited value which seems to be stored in ref.state.value with the original value, stored in ref.props.defaultValue</p>\n\n<p>this.state.refs is defined as</p>\n\n<pre><code>refs: Array&lt;EditableText | null&gt;;\n</code></pre>\n\n<p>editable text: <a href=\"https://blueprintjs.com/docs/#core/components/editable-text\" rel=\"nofollow noreferrer\">https://blueprintjs.com/docs/#core/components/editable-text</a></p>\n\n<p>Editable Text components with refs:</p>\n\n<pre><code>&lt;EditableText\n   disabled={!this.state.editingDesc}\n   multiline={true}\n   maxLines={10}\n   defaultValue={description}\n   ref={input =&gt;\n     (this.state.refs[index + 1] = input)\n   }\n/&gt;\n</code></pre>\n\n<p>Function with error</p>\n\n<pre><code>public handleCancelBtn = () =&gt; {\n    const newRefs = this.state.refs.map(ref =&gt; {\n      if (ref != null) {\n        const originalValue = ref.props.defaultValue;\n        const newState = { ...ref.state, value: originalValue };\n        const newRef = { ...ref, state: newState };\n        return newRef;\n      }\n      return null;\n    });\n    this.setState({\n      editingDesc: false,\n      refs: newRefs\n    });\n  };\n</code></pre>\n\n<p>The problem is that the compilier is saying that I can't assign newRefs to ref since I am missing properties to make them an edited text element, such as render, componentDidMount etc. I am not understanding why the spread operator is not taking care of copying everything from the original ref. I do not know much about refs though and cannot find much relevant documentation for this use case. I do wish I could refactor this whole component to use state instead, sadly I will have to wait on that. If anyone could give me some help, I will be very appreciative. Thank you.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 3705, "user_id": 459950, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41a6b438156185e1c71cc419dc2f714c?s=128&d=identicon&r=PG", "display_name": "gregghz", "link": "https://stackoverflow.com/users/459950/gregghz"}, "edited": false, "score": 0, "creation_date": 1557953515, "post_id": 56157159, "comment_id": 98943895, "body": "The problem I&#39;m having with this is that the module i&#39;m pulling in comes from package.json and lives in node modules. If I follow this more or less exactly, it doesn&#39;t seem to make the connection between somemodule and the import. (Cannot find module &#39;somemodule&#39;.)"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 3705, "user_id": 459950, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41a6b438156185e1c71cc419dc2f714c?s=128&d=identicon&r=PG", "display_name": "gregghz", "link": "https://stackoverflow.com/users/459950/gregghz"}, "edited": false, "score": 1, "creation_date": 1557954066, "post_id": 56157159, "comment_id": 98944107, "body": "I updated the answer to target <code>node_modules&#47;somemodel&#47;</code>."}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 1, "last_activity_date": 1557954028, "last_edit_date": 1557954028, "creation_date": 1557952109, "answer_id": 56157159, "question_id": 56156557, "link": "https://stackoverflow.com/questions/56156557/declaration-works-when-compiling-but-not-when-running-mocha-tests/56157159#56157159", "title": "Declaration works when compiling but not when running mocha tests", "body": "<p>You have this directory structure:</p>\n\n<pre><code>src/\n  node_modules/\n    somemodule/\n      index.js\n      thing.js\n      package.json\n  index.ts\n  somemodule.d.ts\n  package.json\n</code></pre>\n\n<h3>Declaration File</h3>\n\n<p>The <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/templates/module-class-d-ts.html\" rel=\"nofollow noreferrer\"><code>module-class.d.ts</code></a> template will work for you. </p>\n\n<pre><code>// somemodule.d.ts\ndeclare module 'somemodule' {\n    class Thing {\n        constructor(config: any);\n    }\n\n    export = Thing;\n}\n</code></pre>\n\n<p>It is an appropriate declaration template because your <code>somemodule/index.js</code> module exports something that can be constructed with <code>new</code> and uses a CommonJS export style. There are <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/library-structures.html\" rel=\"nofollow noreferrer\">more details here</a> on the declaration templates that are appropriate for different module/library structures. </p>\n\n<h3>Import Style</h3>\n\n<p>Now that you have the declaration file, you need to import the module. Here are two ways to do that.</p>\n\n<pre><code>// index.ts\nimport Thing = require('somemodule');\nconst thing = new Thing({ name: 'hi' });\n</code></pre>\n\n<p>This second example requires your <code>tsconfig.json</code> file to have <code>\"esModuleInterop\": true</code>. </p>\n\n<pre><code>// index.ts\nimport Thing from 'somemodule';\nconst thing = new Thing({ name: 'hi' });\n</code></pre>\n"}], "owner": {"reputation": 3705, "user_id": 459950, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41a6b438156185e1c71cc419dc2f714c?s=128&d=identicon&r=PG", "display_name": "gregghz", "link": "https://stackoverflow.com/users/459950/gregghz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 56157159, "answer_count": 1, "score": 2, "last_activity_date": 1557954028, "creation_date": 1557949335, "question_id": 56156557, "link": "https://stackoverflow.com/questions/56156557/declaration-works-when-compiling-but-not-when-running-mocha-tests", "title": "Declaration works when compiling but not when running mocha tests", "body": "<p>I have a simple declaration file that declares a module and puts a single class in that module:</p>\n\n<pre><code>declare module 'somemodule' {\n  export class Thing {\n    constructor(config: any);\n  }\n}\n</code></pre>\n\n<p>The original module is an internal project that lacks its own declaration file. It looks roughly like this:</p>\n\n<pre><code>// index.js\nmodule.exports = require('./src/Thing');\n\n// src/Thing.js\nclass Thing {\n  constructor(config) {\n    // stuff\n  }\n}\n\nmodule.exports = Thing;\n</code></pre>\n\n<p>I have a file in my project that uses the module:</p>\n\n<pre><code>// src/usething.ts\nimport { Thing } from 'somemodule';\n\nconst thing = new Thing({name:'hi'});\n</code></pre>\n\n<p>When I run <code>tsc -p .</code> everything compiles fine.</p>\n\n<p>However when I try to run tests with:</p>\n\n<pre><code>mocha -r ts-node/register 'test/**/*-spec.ts'\n</code></pre>\n\n<p>it fails with:</p>\n\n<pre><code>src/usething.ts:8\nconst thing = new Thing({name:'hi'});\n                ^\nTypeError: somemodule_1.Thing is not a constructor\n</code></pre>\n"}, {"tags": ["angular", "typescript", "intervals"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1557954319, "post_id": 56156431, "comment_id": 98944199, "body": "Does the timer run for a long time? Is there some activity that may delay the interval ticks? Using time difference is more reliable than counting interval ticks, as shown in <a href=\"https://stackblitz.com/edit/angular-hp2hjy?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">this stackblitz</a> (perform heavy calculation while the timers are running to see the difference)."}], "answers": [{"comments": [{"owner": {"reputation": 1254, "user_id": 9500453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Y2PoDK0My9o/AAAAAAAAAAI/AAAAAAAAAqQ/yld7pwS0oPc/photo.jpg?sz=128", "display_name": "Luiz Ricardo Cardoso", "link": "https://stackoverflow.com/users/9500453/luiz-ricardo-cardoso"}, "edited": false, "score": 0, "creation_date": 1557950660, "post_id": 56156702, "comment_id": 98942754, "body": "I do not want to work with date, I just want to get the time elapsed after the user clicks on start."}], "tags": [], "owner": {"reputation": 599, "user_id": 6613743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f19186515922ca6449b38af7d9e1dc3b?s=128&d=identicon&r=PG&f=1", "display_name": "upinder kumar", "link": "https://stackoverflow.com/users/6613743/upinder-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1557949994, "creation_date": 1557949994, "answer_id": 56156702, "question_id": 56156431, "link": "https://stackoverflow.com/questions/56156431/create-runtime-with-two-decimal-places/56156702#56156702", "title": "create runtime with two decimal places", "body": "<p>Hi You Achieve this by using <strong><a href=\"https://angular.io/api/common/DatePipe\" rel=\"nofollow noreferrer\">Angular pipe</a></strong></p>\n\n<pre><code>&lt;div&gt;{{time| date:'HH:mm:ss'}}&lt;/div&gt; 12:01:59\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 479, "user_id": 7386330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uU6Q.jpg?s=128&g=1", "display_name": "Ben Hulan", "link": "https://stackoverflow.com/users/7386330/ben-hulan"}, "is_accepted": false, "score": 0, "last_activity_date": 1557950786, "creation_date": 1557950786, "answer_id": 56156867, "question_id": 56156431, "link": "https://stackoverflow.com/questions/56156431/create-runtime-with-two-decimal-places/56156867#56156867", "title": "create runtime with two decimal places", "body": "<p>You can write your own pipe, like so:</p>\n\n<pre><code>import _ from 'lodash';\nimport { Pipe, PipeTransform } from '@angular/core';\n\n// ...\n\n@Pipe({name: 'doubleDigits'})\nexport class DoubleDigitsPipe implements PipeTransform {\n  transform(value: any) {\n    return _.isNumber(value) &amp;&amp; value &lt;= 9 ? \"0\"+value : value;\n  }\n}\n\n// HTML\n\n{{ duration.hours | doubleDigits }}:{{ duration.minutes | doubleDigits }}:{{ duration.seconds | doubleDigits }}\n</code></pre>\n\n<p>This will convert your number to a string in the template, but I don't think that should cause problems.</p>\n"}, {"comments": [{"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1557951525, "post_id": 56156924, "comment_id": 98943101, "body": "his numbers wont exceed 99 he has `  if (this.duration.seconds === 60) {`"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 1, "creation_date": 1557951636, "post_id": 56156924, "comment_id": 98943140, "body": "@dota2pro I was talking about <code>hours</code>, there is no check for hours in the code. it will increment infinitely"}], "tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": true, "score": 1, "last_activity_date": 1557951329, "last_edit_date": 1557951329, "creation_date": 1557951067, "answer_id": 56156924, "question_id": 56156431, "link": "https://stackoverflow.com/questions/56156431/create-runtime-with-two-decimal-places/56156924#56156924", "title": "create runtime with two decimal places", "body": "<p>you can use existing angular number pipe for each part</p>\n\n<pre><code>{{ duration.hours | number:'2.0-0'}}:{{ duration.minutes | number:'2.0-0'}}:{{ duration.seconds | number:'2.0-0'}}\n</code></pre>\n\n<p>this way if number of your hours exceeds 99 also it will display correctly</p>\n\n<hr>\n\n<pre><code>{minIntegerDigits}.{minFractionDigits}-{maxFractionDigits}.\n\nminIntegerDigits: The minimum number of integer digits before the decimal point. Default is 1.\nminFractionDigits: The minimum number of digits after the decimal point. Default is 0.\nmaxFractionDigits: The maximum number of digits after the decimal point. Default is 3.\n</code></pre>\n\n<p>Working <a href=\"https://stackblitz.com/edit/angular-date-format-pipe-psqfad?file=app/hello.component.ts\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 1254, "user_id": 9500453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Y2PoDK0My9o/AAAAAAAAAAI/AAAAAAAAAqQ/yld7pwS0oPc/photo.jpg?sz=128", "display_name": "Luiz Ricardo Cardoso", "link": "https://stackoverflow.com/users/9500453/luiz-ricardo-cardoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 56156924, "answer_count": 3, "score": -1, "last_activity_date": 1557951329, "creation_date": 1557948616, "last_edit_date": 1557949192, "question_id": 56156431, "link": "https://stackoverflow.com/questions/56156431/create-runtime-with-two-decimal-places", "title": "create runtime with two decimal places", "body": "<p>I need to create an elapsed time and display on the screen for the user as follows: <strong>00:00:00</strong>.</p>\n\n<p>At the moment I'm doing the way it is below, but it's getting in the <strong>0:0:0</strong> format and I need it in the format <strong>01:03:59</strong>.</p>\n\n<p>The user clicks start and starts calculating elapsed time.</p>\n\n<p><strong>How can I do this?</strong></p>\n\n<p><strong>in typescript:</strong></p>\n\n<pre><code>this.duration = {\n  hours: 0,\n  minutes: 0,\n  seconds: 0\n};\n\n\n\nstart(): void {\n  const counter = setInterval(() =&gt; {\n\n  this.duration.seconds += 1;\n\n  if (this.duration.minutes === 60) {\n    this.duration.hour += 1;\n  }\n\n  if (this.duration.seconds === 60) {\n    this.duration.minutes += 1;\n  }\n\n  if (this.duration.seconds === 60) {\n    this.duration.seconds = 0;\n  }\n\n}, 1000)\n</code></pre>\n\n<p>}</p>\n\n<p><strong>in html:</strong></p>\n\n<pre><code>{{ duration.hours }}:{{ duration.minutes }}:{{ duration.seconds }}\n</code></pre>\n"}, {"tags": ["typescript", "google-chrome", "google-chrome-devtools", "angular7"], "answers": [{"tags": [], "owner": {"reputation": 1657, "user_id": 10053793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5OGGl.jpg?s=128&g=1", "display_name": "Ira Watt", "link": "https://stackoverflow.com/users/10053793/ira-watt"}, "is_accepted": false, "score": -1, "last_activity_date": 1557955288, "last_edit_date": 1557955288, "creation_date": 1557954671, "answer_id": 56157679, "question_id": 56156282, "link": "https://stackoverflow.com/questions/56156282/how-do-i-debug-my-typescript-pages-with-chrome-devtools-for-a-net-core-web-appl/56157679#56157679", "title": "How do I debug my typescript pages with Chrome DevTools for a .NET Core web application?", "body": "<p>You'll have to debug the transpiled JavaScript as its all converted in the build process. You can see that in the 'sources' section of the debug tab where you'll be able to add breakpoints and all the stuff there. If you want to find a section easily just log it and the console should give you the JavaScript line  eg.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yqISw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yqISw.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 17029, "user_id": 1669860, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/i3rVM.png?s=128&g=1", "display_name": "Kayce Basques", "link": "https://stackoverflow.com/users/1669860/kayce-basques"}, "is_accepted": false, "score": 0, "last_activity_date": 1557960653, "last_edit_date": 1557960653, "creation_date": 1557959819, "answer_id": 56158522, "question_id": 56156282, "link": "https://stackoverflow.com/questions/56156282/how-do-i-debug-my-typescript-pages-with-chrome-devtools-for-a-net-core-web-appl/56158522#56158522", "title": "How do I debug my typescript pages with Chrome DevTools for a .NET Core web application?", "body": "<blockquote>\n  <p>However I need to be able to debug the typescript to check the values from an object or array. How do I enable Chrome Dev tools to be able to debug my ts files?</p>\n</blockquote>\n\n<p>I'm not sure there's anything you need to enable. I'm tinkering on an Angular 7 app right now. Here are some workflows that you might find helpful. </p>\n\n<p>Adding <code>debugger</code> statements into your code is probably the most straightforward approach. As Chrome executes the page, if it encounters a <code>debugger</code> statement while DevTools is open, it'll pause on that line of code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/kFrlA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kFrlA.jpg\" alt=\"debugger\"></a></p>\n\n<p>In the screenshot above I added the <code>debugger</code> statement to a <code>click</code> listener, so the page only paused after I clicked the button. The <strong>Call Stack</strong> pane shows the calls leading up to the moment in time where I paused. The <strong>Scope</strong> pane shows what variables are in scope.</p>\n\n<p>While paused you can press <kbd>Escape</kbd> to run JS in the Console. The context also matches the point in time where you are paused. For example in the screenshot below you can see that <code>this</code> resolves to the component that I'm paused in.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XaSJD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XaSJD.jpg\" alt=\"Console\"></a></p>\n\n<p>Setting breakpoints from the DevTools UI, seems to work, too. To open my source file I navigated to <code>webpack://</code> > <code>.</code> > <code>src</code> > <code>app</code></p>\n\n<p>I haven't worked extensively with Angular so these workflows may not work if you're using a different development environment than the default <code>ng serve --open</code>.</p>\n\n<p>Let me know if any of these help or don't work.</p>\n"}], "owner": {"reputation": 31, "user_id": 2191963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b6916873cfc6190c64693b33d35171?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2191963/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1305, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1557960653, "creation_date": 1557947953, "question_id": 56156282, "link": "https://stackoverflow.com/questions/56156282/how-do-i-debug-my-typescript-pages-with-chrome-devtools-for-a-net-core-web-appl", "title": "How do I debug my typescript pages with Chrome DevTools for a .NET Core web application?", "body": "<p>I am adding functionality to an existing Angular 7 application.  However I need to be able to debug the typescript to check the values from an object or array. How do I enable Chrome Dev tools to be able to debug my ts files?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1557949090, "creation_date": 1557949090, "answer_id": 56156515, "question_id": 56155406, "link": "https://stackoverflow.com/questions/56155406/i-get-id-of-undefined-error-at-the-end-when-all-the-files-are-processed/56156515#56156515", "title": "I get id of undefined error at the end when all the files are processed", "body": "<p>Maybe after:</p>\n\n<pre><code>if(numberOfFiles === 0) {\n   clearInterval(repeat);\n   return; // &lt;-- stop further processing\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 11318342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebb9e0f56c0366c8f6b5a96dc4bd9824?s=128&d=identicon&r=PG&f=1", "display_name": "venabeo", "link": "https://stackoverflow.com/users/11318342/venabeo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557949090, "creation_date": 1557944189, "last_edit_date": 1557945059, "question_id": 56155406, "link": "https://stackoverflow.com/questions/56155406/i-get-id-of-undefined-error-at-the-end-when-all-the-files-are-processed", "title": "I get id of undefined error at the end when all the files are processed", "body": "<p>In simple words the beow code is supposed to fetched the progress of currently running file which gets processed in the backend. It does everything which it is supposed to do. But at the end when all the files are processed which means when the length of this.currentlyRunning.length is 0 after then i get an error in the console \"index of undefined\" in this line</p>\n\n<pre><code>let file_id = {\n      userFileId: this.currentlyRunning[index].id\n    }\n</code></pre>\n\n<p>The code calls the api get progress again and again for all the files that is in the currentlyRunning array till 100% progress is reached. Thats why I have used setInterval.\n Lets say there are two files in the list of Currently Running, The get progress method will be called after every 4000 miliseconds and the progress for each file is updated in the view. After both the files are processed then the error is thrown on the console \"index of undefined\"</p>\n\n<pre><code>checkProgress() {\n            let index = 0;\n            let repeat = setInterval(() =&gt; {\n              let numberOfFiles = this.currentlyRunning.length;\n              if(numberOfFiles === 0) {\n                clearInterval(repeat);\n              }\n            let file_id = {\n              userFileId: this.currentlyRunning[index].id\n            }\n              this.auth.getProgress(file_id).subscribe((res: any)=&gt;{\n                    this.currentlyRunning[index]['progress'] = Math.round(res.percent);\n                    let indexOfFileHistory =  this.uploadedFileHistory.findIndex((file: any)=&gt; file.id === this.currentlyRunning[index].id);\n                    this.uploadedFileHistory[indexOfFileHistory] = this.currentlyRunning[index];\n                    if(this.currentlyRunning[index].progress === 100 || res.status == \"badBounceRate\") {\n                      //the origial array which contains all the files we are just updating its status on 100% individual file object is returned with updated status\n                      this.uploadedFileHistory[indexOfFileHistory] = res.data;\n                      //removing the file from currently running\n                      this.currentlyRunning.splice(index, 1);\n\n                    }\n                    //incrementing so that next time it runs for the other file\n                    index  = index + 1;\n                      if(index &gt;= numberOfFiles) {\n                        index = 0;\n                      }\n                      let running =  this.uploadedFileHistory.find((file: any)=&gt;file.status === \"Running\");\n                      if(!running) {\n                        clearInterval(repeat);\n                    }\n                 },(err)=&gt;{ \n                 //want to run it regardless of the error\n                  index  = index + 1;\n                    if(index &gt;= numberOfFiles) {\n                      index = 0;\n                    }\n                    let running =  this.uploadedFileHistory.find((file: any)=&gt;file.status === \"Running\");\n                    if(!running) {\n                      clearInterval(repeat);\n                   }\n                });\n            }, 4000);\n\n\n    }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular-components", "controlvalueaccessor"], "comments": [{"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1557944907, "post_id": 56155354, "comment_id": 98940291, "body": "The code looks fine, can you try <code>console.log(control.validator)</code> and make sure required is there?"}, {"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1557945150, "post_id": 56155354, "comment_id": 98940399, "body": "Why is <code>onChange()</code> doing nothing in your custom control?"}, {"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1557945393, "post_id": 56155354, "comment_id": 98940524, "body": "Also in your case you may even have to go for <code>requiredTrue</code> validator, not sure if <code>required</code> works when you have the value as <code>false</code>"}, {"owner": {"reputation": 643, "user_id": 3197487, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gk3iS.jpg?s=128&g=1", "display_name": "Boldizsar", "link": "https://stackoverflow.com/users/3197487/boldizsar"}, "reply_to_user": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1557946084, "post_id": 56155354, "comment_id": 98940824, "body": "Thanks sabithpocker, the requiredTrue validator worked when I set it on the formControl. Is there also directive I can set with ngModel?"}, {"owner": {"reputation": 643, "user_id": 3197487, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gk3iS.jpg?s=128&g=1", "display_name": "Boldizsar", "link": "https://stackoverflow.com/users/3197487/boldizsar"}, "reply_to_user": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1557946194, "post_id": 56155354, "comment_id": 98940862, "body": "<code>onChange()</code> was originally set on the change event of my checkbox. I just played around with the valueChanged function."}, {"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1557964156, "post_id": 56155354, "comment_id": 98946604, "body": "You can look for <code>required</code> validator in <code>control.validator</code> and replace it with <code>requiredTrue</code> in your custom component. Make sure you add sufficient comments to avoid confusion. Also check how material is doing in their code for <code>mat-checkbox</code> in github."}], "answers": [{"tags": [], "owner": {"reputation": 643, "user_id": 3197487, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gk3iS.jpg?s=128&g=1", "display_name": "Boldizsar", "link": "https://stackoverflow.com/users/3197487/boldizsar"}, "is_accepted": false, "score": 0, "last_activity_date": 1558044988, "last_edit_date": 1558044988, "creation_date": 1557997990, "answer_id": 56164952, "question_id": 56155354, "link": "https://stackoverflow.com/questions/56155354/angular-7-custom-mat-checkbox-doesnt-update-form-validity-with-controlvalueacce/56164952#56164952", "title": "Angular 7 Custom mat-checkbox doesn&#39;t update form validity with ControlValueAccessor", "body": "<p>I managed to make it work by calling a function checking whether if the control has <code>Validators.required</code> attached and setting <code>Validators.requiredTrue</code> in the <code>writeValue</code> CVA interface method of the component. Here's my code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class CheckboxComponent implements DoCheck, ControlValueAccessor {\n\n...\n\n    writeValue(value: boolean): void {\n        this._isChecked = !!value;\n        this._autoSelected = !!value;\n\n        const control = this._controlDir.control;\n        // Adding Validators.requiredTrue if Validators.required is set on control in order to make it work with template-driven required directive\n        if (this.hasRequiredValidator(control)) {\n            control.setValidators([control.validator, Validators.requiredTrue]);\n        } else {\n            control.setValidators(control.validator);\n        }\n    }\n\n...\n\n    /**\n     * Returns whether checkbox is required\n     * @param abstractControl control assigned to component\n     */\n    hasRequiredValidator(abstractControl: AbstractControl): boolean {\n        if (abstractControl.validator) {\n            const validator = abstractControl.validator({} as AbstractControl);\n            if (validator &amp;&amp; validator.required) {\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n"}], "owner": {"reputation": 643, "user_id": 3197487, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gk3iS.jpg?s=128&g=1", "display_name": "Boldizsar", "link": "https://stackoverflow.com/users/3197487/boldizsar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 692, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558044988, "creation_date": 1557943937, "question_id": 56155354, "link": "https://stackoverflow.com/questions/56155354/angular-7-custom-mat-checkbox-doesnt-update-form-validity-with-controlvalueacce", "title": "Angular 7 Custom mat-checkbox doesn&#39;t update form validity with ControlValueAccessor", "body": "<p>I've created a custom mat-checkbox component and implemented the ControlValueAccessor interface in order to communicate with the passed formControl or ngModel.</p>\n\n<p>The checkbox updates the assigned formControl on change, however my problem is that  it doesn't seem to register validator functions either template-driven or the reactive way.</p>\n\n<p>This is my component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Component, Input, OnInit, Self, ViewEncapsulation} from '@angular/core';\nimport {ControlValueAccessor, NgControl} from '@angular/forms';\n\n@Component({\n    selector: 'app-checkbox',\n    templateUrl: './checkbox.component.html',\n    styleUrls: ['./checkbox.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class CheckboxComponent implements OnInit, ControlValueAccessor {\n\n    @Input() id: string;\n    @Input('aria-label') ariaLabel: string;\n    @Input() label: string;\n\n    private isChecked = false;\n    private isDisabled = false;\n\n    onChange = (isChecked: boolean) =&gt; {};\n    onTouched = () =&gt; {};\n\n    constructor(@Self() public controlDir: NgControl) {\n        // providing component as ControlValueAccessor\n        controlDir.valueAccessor = this;\n    }\n\n    ngOnInit() {\n        // Initializing assigned FormControl and providing it's Validator\n        const control = this.controlDir.control;\n        control.setValidators(control.validator);\n        control.updateValueAndValidity();\n    }\n\n    /**\n     * ControlValueAccessor interface (https://angular.io/api/forms/ControlValueAccessor)\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn callback function\n     */\n    registerOnChange(fn: (value: boolean) =&gt; void): void {\n        this.onChange = fn;\n    }\n\n    /**\n     * Input change callback that passes the changed string to this.onChange method\n     */\n    valueChanged(value: boolean) {\n        this.onChange(value);\n    }\n\n    /**\n     * ControlValueAccessor interface\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn callback function\n     */\n    registerOnTouched(fn: () =&gt; void): void {\n        this.onTouched = fn;\n    }\n\n    /**\n     * (optional) - ControlValueAccessor interface\n     * Function that is called by the forms API when the control status changes to or from 'DISABLED'. Depending on the status, it enables or disables the appropriate DOM element.\n     * @param isDisabled control state\n     */\n    setDisabledState(isDisabled: boolean): void {\n        this.isDisabled = isDisabled;\n    }\n\n    /**\n     * ControlValueAccessor interface\n     * Writes a new value to the element.\n     * @param value new control value\n     */\n    writeValue(value: boolean): void {\n        if (value) {\n            this.isChecked = value;\n        }\n    }\n}\n</code></pre>\n\n<p>And this my template:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;mat-checkbox color=\"primary\" [checked]=\"isChecked\" [disabled]=\"isDisabled\" [id]=\"id\" [attr.aria-label]=\"ariaLabel\" (change)=\"valueChanged($event.checked)\" (blur)=\"onTouched()\"&gt;\n    {{label}}\n&lt;/mat-checkbox&gt;\n</code></pre>\n\n<p>This is how I call my component the template-driven way:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form class=\"row border-bottom\" #checkboxForm2=\"ngForm\"&gt;\n    &lt;div class=\"col-12 col-md-4 my-1\"&gt;\n        checkboxForm2.value: &lt;br&gt;\n        {{checkboxForm2.value | json}} &lt;br&gt;\n        checkboxForm2.valid: {{checkboxForm2.valid}}\n    &lt;/div&gt;\n    &lt;div class=\"col-12 col-md-8 my-3\"&gt;\n        &lt;app-checkbox [ngModel]=\"false\" name=\"checkbox3\" label=\"REQUIRED\" required&gt;&lt;/app-checkbox&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><code>checkboxForm2.valid</code> always stays true. How can I make the required validator work?</p>\n"}, {"tags": ["typescript", "webpack", "visual-studio-code", "yarnpkg", "jupyter-lab"], "owner": {"reputation": 11, "user_id": 11505652, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a7g0Q0WYNxQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfzmPTFxsiFKoskJSFCa2HY4xWdfw/mo/photo.jpg?sz=128", "display_name": "Russell", "link": "https://stackoverflow.com/users/11505652/russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 339, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560518289, "creation_date": 1557943614, "last_edit_date": 1560518289, "question_id": 56155277, "link": "https://stackoverflow.com/questions/56155277/webpack-does-not-find-module-vscode-when-building-jupyterlab-with-custom-extensi", "title": "Webpack does not find module vscode when building jupyterlab with custom extension", "body": "<p>I'm trying to build a LSP (Language Server Protocol) extension for jupyter lab, using the vscode-languageclient library for typescript. The vscode-languageclient module seems to be recognized correctly, however it is dependent on the vscode module, which webpack does not find when building jupyter lab.</p>\n\n<p>I have added the vscode module to my extension using    </p>\n\n<p><code>jlpm add vscode</code></p>\n\n<p>To get <code>jlpm build</code> to work, i had to add the following to my package.json file:</p>\n\n<pre><code>\"scripts\": {\n  ...\n  \"postinstall\": \"node ./node_modules/vscode/bin/install\"\n}\n\"engines\": {\n    \"vscode\": \"^1.33.x\"\n}\n</code></pre>\n\n<p>This made it possible for jlpm to build the extension, however when running <code>jupyter lab build</code> I get a webpack error about it not being able to locate the module vscode (see terminal output).</p>\n\n<p>I have tried adding this to my webpack.config.js file in the staging directory of jupyter lab before running <code>jupyter lab build</code>:</p>\n\n<pre><code>module.exports {\n...\n  resolve: {\n      alias: {\n          vscode$: path.resolve(__dirname, \"./node_modules/vscode\")\n      }\n  }\n}\n</code></pre>\n\n<p>However, it did not change the error.</p>\n\n<p>These are the import statements I use in my index.ts file:</p>\n\n<pre><code>import { workspace} from 'vscode';\n\nimport {\n  LanguageClient,\n  LanguageClientOptions,\n  ServerOptions,\n  TransportKind\n} from 'vscode-languageclient';\n</code></pre>\n\n<p>This is the output of running <code>jupyter lab build</code>:</p>\n\n<pre><code>~$ sudo jupyter lab build\n[LabBuildApp] JupyterLab 0.35.5\n[LabBuildApp] Cleaning /usr/local/share/jupyter/lab\nCleaning /usr/local/share/jupyter/lab...\nSuccess!\n[LabBuildApp] Building in /usr/local/share/jupyter/lab\n[LabBuildApp] Node v8.10.0\n\n[LabBuildApp] &gt; /usr/bin/npm pack /home/russell/Uni/FP/Jupy.LSP\nJupy-LSP-0.1.0.tgz\n[LabBuildApp] &gt; node /usr/local/lib/python3.6/dist-packages/jupyterlab/staging/yarn.js install\nyarn install v1.9.4\ninfo No lockfile found.\n[1/5] Validating package.json...\n[2/5] Resolving packages...\nwarning @jupyterlab/application &gt; @jupyterlab/apputils &gt; react &gt; fbjs &gt; core-js@1.2.7: core-js@&lt;2.6.5 is no longer maintained. Please, upgrade to core-js@3 or at least to actual version of core-js@2.\nwarning css-loader &gt; cssnano &gt; autoprefixer &gt; browserslist@1.7.7: Browserslist 2 could fail on reading Browserslist &gt;3.0 config used in other tools.\nwarning css-loader &gt; cssnano &gt; postcss-merge-rules &gt; browserslist@1.7.7: Browserslist 2 could fail on reading Browserslist &gt;3.0 config used in other tools.\nwarning css-loader &gt; cssnano &gt; postcss-merge-rules &gt; caniuse-api &gt; browserslist@1.7.7: Browserslist 2 could fail on reading Browserslist &gt;3.0 config used in other tools.\nwarning css-loader &gt; cssnano &gt; postcss-merge-rules &gt; postcss-selector-parser &gt; flatten@1.0.2: I wrote this module a very long time ago; you should use something else.\n[3/5] Fetching packages...\nwarning Jupy-LSP@0.1.0: The engine \"vscode\" appears to be invalid.\nwarning vscode-languageclient@5.2.1: The engine \"vscode\" appears to be invalid.\ninfo fsevents@1.2.9: The platform \"linux\" is incompatible with this module.\ninfo \"fsevents@1.2.9\" is an optional dependency and failed compatibility check. Excluding it from installation.\n[4/5] Linking dependencies...\nwarning \"@jupyterlab/vdom-extension &gt; @nteract/transform-vdom@1.1.1\" has incorrect peer dependency \"react@^15.6.1\".\nwarning \"@jupyterlab/vega4-extension &gt; vega-embed &gt; vega-themes@2.3.0\" has unmet peer dependency \"vega@*\".\n[5/5] Building fresh packages...\n[3/3] \u2840 Jupy-LSP\n[-/3] \u2840 waiting...\nerror /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP: Command failed.\nExit code: 1\nCommand: node ./node_modules/vscode/bin/install\nArguments: \nDirectory: /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP\nOutput:\nmodule.js:549\n    throw err;\n    ^\n\nError: Cannot find module '/usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/node_modules/vscode/bin/install'\n    at Function.Module._resolveFilename (module.js:547:15)\n    at Function.Module._load (module.js:474:25)\n    at Function.Module.runMain (module.js:693:10)\n    at startup (bootstrap_node.js:188:16)\n\n\n[LabBuildApp] &gt; node /usr/local/lib/python3.6/dist-packages/jupyterlab/staging/yarn.js run build\nyarn run v1.9.4\n$ webpack\nModuleNotFoundError: Module not found: Error: Can't resolve 'vscode' in '/usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/lib'\n    at factory.create (/usr/local/share/jupyter/lab/staging/node_modules/webpack/lib/Compilation.js:535:10)\n    at factory (/usr/local/share/jupyter/lab/staging/node_modules/webpack/lib/NormalModuleFactory.js:397:22)\n    at resolver (/usr/local/share/jupyter/lab/staging/node_modules/webpack/lib/NormalModuleFactory.js:130:21)\n    at asyncLib.parallel (/usr/local/share/jupyter/lab/staging/node_modules/webpack/lib/NormalModuleFactory.js:224:22)\n    at /usr/local/share/jupyter/lab/staging/node_modules/neo-async/async.js:2830:7\n    at /usr/local/share/jupyter/lab/staging/node_modules/neo-async/async.js:6877:13\n    at normalResolver.resolve (/usr/local/share/jupyter/lab/staging/node_modules/webpack/lib/NormalModuleFactory.js:214:25)\n    at doResolve (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/Resolver.js:184:12)\n    at hook.callAsync (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/Resolver.js:238:5)\n    at _fn0 (eval at create (/usr/local/share/jupyter/lab/staging/node_modules/tapable/lib/HookCodeFactory.js:33:10), &lt;anonymous&gt;:15:1)\n    at resolver.doResolve (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/UnsafeCachePlugin.js:37:5)\n    at hook.callAsync (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/Resolver.js:238:5)\n    at _fn0 (eval at create (/usr/local/share/jupyter/lab/staging/node_modules/tapable/lib/HookCodeFactory.js:33:10), &lt;anonymous&gt;:15:1)\n    at hook.callAsync (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/Resolver.js:238:5)\n    at _fn0 (eval at create (/usr/local/share/jupyter/lab/staging/node_modules/tapable/lib/HookCodeFactory.js:33:10), &lt;anonymous&gt;:27:1)\n    at resolver.doResolve (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/DescriptionFilePlugin.js:42:38)\n    at hook.callAsync (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/Resolver.js:238:5)\n    at _fn41 (eval at create (/usr/local/share/jupyter/lab/staging/node_modules/tapable/lib/HookCodeFactory.js:33:10), &lt;anonymous&gt;:28:1)\n    at resolver.doResolve (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/ModuleKindPlugin.js:23:37)\n    at hook.callAsync (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/Resolver.js:238:5)\n    at _fn0 (eval at create (/usr/local/share/jupyter/lab/staging/node_modules/tapable/lib/HookCodeFactory.js:33:10), &lt;anonymous&gt;:15:1)\n    at hook.callAsync (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/Resolver.js:238:5)\n    at _fn0 (eval at create (/usr/local/share/jupyter/lab/staging/node_modules/tapable/lib/HookCodeFactory.js:33:10), &lt;anonymous&gt;:15:1)\n    at args (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/forEachBail.js:30:14)\n    at hook.callAsync (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/Resolver.js:238:5)\n    at _fn0 (eval at create (/usr/local/share/jupyter/lab/staging/node_modules/tapable/lib/HookCodeFactory.js:33:10), &lt;anonymous&gt;:15:1)\n    at resolver.doResolve (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/UnsafeCachePlugin.js:37:5)\n    at hook.callAsync (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/Resolver.js:238:5)\n    at _fn0 (eval at create (/usr/local/share/jupyter/lab/staging/node_modules/tapable/lib/HookCodeFactory.js:33:10), &lt;anonymous&gt;:15:1)\n    at hook.callAsync (/usr/local/share/jupyter/lab/staging/node_modules/enhanced-resolve/lib/Resolver.js:238:5)\nresolve 'vscode' in '/usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/lib'\n  Parsed request is a module\n  using description file: /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/package.json (relative path: ./lib)\n    Field 'browser' doesn't contain a valid alias configuration\n    resolve as module\n      /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/lib/node_modules doesn't exist or is not a directory\n      /usr/local/share/jupyter/lab/staging/node_modules/node_modules doesn't exist or is not a directory\n      /usr/local/share/jupyter/lab/node_modules doesn't exist or is not a directory\n      /usr/local/share/jupyter/node_modules doesn't exist or is not a directory\n      /usr/local/share/node_modules doesn't exist or is not a directory\n      /usr/local/node_modules doesn't exist or is not a directory\n      /usr/node_modules doesn't exist or is not a directory\n      /node_modules doesn't exist or is not a directory\n      looking for modules in /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/node_modules\n        using description file: /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/package.json (relative path: ./node_modules)\n          Field 'browser' doesn't contain a valid alias configuration\n      looking for modules in /usr/local/share/jupyter/lab/staging/node_modules\n        using description file: /usr/local/share/jupyter/lab/staging/package.json (relative path: ./node_modules)\n          Field 'browser' doesn't contain a valid alias configuration\n          using description file: /usr/local/share/jupyter/lab/staging/node_modules/vscode/package.json (relative path: .)\n            no extension\n              Field 'browser' doesn't contain a valid alias configuration\n          using description file: /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/package.json (relative path: ./node_modules/vscode)\n            no extension\n              Field 'browser' doesn't contain a valid alias configuration\n              /usr/local/share/jupyter/lab/staging/node_modules/vscode is not a file\n            .wasm\n              Field 'browser' doesn't contain a valid alias configuration\n              /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/node_modules/vscode doesn't exist\n            .wasm\n              Field 'browser' doesn't contain a valid alias configuration\n              /usr/local/share/jupyter/lab/staging/node_modules/vscode.wasm doesn't exist\n            .mjs\n              Field 'browser' doesn't contain a valid alias configuration\n              /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/node_modules/vscode.wasm doesn't exist\n            .mjs\n              Field 'browser' doesn't contain a valid alias configuration\n              /usr/local/share/jupyter/lab/staging/node_modules/vscode.mjs doesn't exist\n            .js\n              Field 'browser' doesn't contain a valid alias configuration\n              /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/node_modules/vscode.mjs doesn't exist\n            .js\n              Field 'browser' doesn't contain a valid alias configuration\n              /usr/local/share/jupyter/lab/staging/node_modules/vscode.js doesn't exist\n            .json\n              Field 'browser' doesn't contain a valid alias configuration\n              /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/node_modules/vscode.js doesn't exist\n            .json\n              Field 'browser' doesn't contain a valid alias configuration\n              /usr/local/share/jupyter/lab/staging/node_modules/vscode.json doesn't exist\n              /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/node_modules/vscode.json doesn't exist\n            as directory\n              /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/node_modules/vscode doesn't exist\n            as directory\n              existing directory\n                using path: /usr/local/share/jupyter/lab/staging/node_modules/vscode/index\n                  using description file: /usr/local/share/jupyter/lab/staging/node_modules/vscode/package.json (relative path: ./index)\n                    no extension\n                      Field 'browser' doesn't contain a valid alias configuration\n                      /usr/local/share/jupyter/lab/staging/node_modules/vscode/index doesn't exist\n                    .wasm\n                      Field 'browser' doesn't contain a valid alias configuration\n                      /usr/local/share/jupyter/lab/staging/node_modules/vscode/index.wasm doesn't exist\n                    .mjs\n                      Field 'browser' doesn't contain a valid alias configuration\n                      /usr/local/share/jupyter/lab/staging/node_modules/vscode/index.mjs doesn't exist\n                    .js\n                      Field 'browser' doesn't contain a valid alias configuration\n                      /usr/local/share/jupyter/lab/staging/node_modules/vscode/index.js doesn't exist\n                    .json\n                      Field 'browser' doesn't contain a valid alias configuration\n                      /usr/local/share/jupyter/lab/staging/node_modules/vscode/index.json doesn't exist\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\n</code></pre>\n\n<p>Note that this error disappears when removing the postinstall call from my package.json:</p>\n\n<pre><code>error /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP: Command failed.\nExit code: 1\nCommand: node ./node_modules/vscode/bin/install\nArguments: \nDirectory: /usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP\nOutput:\nmodule.js:549\n    throw err;\n    ^\n\nError: Cannot find module '/usr/local/share/jupyter/lab/staging/node_modules/Jupy-LSP/node_modules/vscode/bin/install'\n    at Function.Module._resolveFilename (module.js:547:15)\n    at Function.Module._load (module.js:474:25)\n    at Function.Module.runMain (module.js:693:10)\n    at startup (bootstrap_node.js:188:16)\n</code></pre>\n\n<p>Unfortunately, this does not remove/change the subsequent error message.</p>\n\n<p>UPDATE: Solutions I have tried (but didn't work):  </p>\n\n<ul>\n<li>Changing the postinstall call to<br>\n<code>\"postinstall\": \"node /usr/local/lib/share/jupyter/lab/staging/node_modules/vscode/bin/install\"</code>\nThe first error when building jupyter disappears again, but webpack still doesn't find vscode</li>\n<li>Cloning the <a href=\"https://github.com/microsoft/vscode\" rel=\"nofollow noreferrer\">official vscode repository</a> into node modules and using that instead<br>\nThe Typescript compiler doesn't find the module, even after renaming it to vscode in its package.json. This doesn't seem like it would be an intended (or stable) solution anyway.</li>\n<li>Using the <a href=\"https://github.com/TypeFox/monaco-languageclient\" rel=\"nofollow noreferrer\">monaco-languageclient</a><br>\nThe monaco-languageclient is dependent on the vscode-languageclient and therefore doesn't work either  </li>\n<li>Running the vscode Compile binary in the node module<br>\nThis gives the following output</li>\n</ul>\n\n<pre><code>$ node bin/compile \nThe vscode extension module got updated to TypeScript 2.0.x.\nPlease see https://code.visualstudio.com/updates/v1_6#_extension-authoring for instruction on how to migrate your extension.\n</code></pre>\n\n<p>However, the link doesn't actually adress how to upgrade vscode but rather which new modules to include.  </p>\n\n<p>On another note, I've searched the whole vscode folder for acutal code contents and could only find these three files:<br>\n<code>shared.js  testrunner.d.ts  testrunner.js</code>, which contain 42, 44 and 125 LoC. I am not sure why the vscode module provides no functionality, but this seems to be the core of the problem.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1557942236, "post_id": 56154954, "comment_id": 98939121, "body": "I would start by reading the error messages. What is not clear about them? How you have tried to resolve them?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1557942306, "post_id": 56154954, "comment_id": 98939160, "body": "Also is this <a href=\"https://stackoverflow.com/questions/tagged/angular\">angular</a> or <a href=\"https://stackoverflow.com/questions/tagged/angularjs\">angularjs</a>? They are 2 very different frameworks."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1557943358, "post_id": 56154954, "comment_id": 98939645, "body": "Can&#39;t say for sure without seeing the rest of your code, but I suspect those are just typos."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11338631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9E71U.jpg?s=128&g=1", "display_name": "mehran khan", "link": "https://stackoverflow.com/users/11338631/mehran-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1557942484, "creation_date": 1557942484, "answer_id": 56155046, "question_id": 56154954, "link": "https://stackoverflow.com/questions/56154954/iam-trying-program-it-shows-errors/56155046#56155046", "title": "iam trying program it shows errors", "body": "<p>It may be directory issue or you havent imported your component in app.module.ts.</p>\n\n<p>And Use @ViewChild() if you want to use a component withing another component</p>\n"}, {"tags": [], "owner": {"reputation": 585, "user_id": 9801558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hoL84.png?s=128&g=1", "display_name": "nullchimp", "link": "https://stackoverflow.com/users/9801558/nullchimp"}, "is_accepted": false, "score": 0, "last_activity_date": 1557943483, "last_edit_date": 1557943483, "creation_date": 1557942888, "answer_id": 56155129, "question_id": 56154954, "link": "https://stackoverflow.com/questions/56154954/iam-trying-program-it-shows-errors/56155129#56155129", "title": "iam trying program it shows errors", "body": "<p>I assume, that this has to do with spelling errors. But since I don't know about your project structure, this is a shot in the dark:</p>\n\n<pre><code>import {SecondcomponentComponent} from './secondcomponent/secondcomponent.Component';\nimport {ThirdcomponentComponent} from './thirdcomponent/thirdcomponent.Component';\nlet variable = new SecondcomponentComponent();\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11505547, "user_type": "registered", "profile_image": "https://graph.facebook.com/1336724989810456/picture?type=large", "display_name": "Kanakasri Kambhampati", "link": "https://stackoverflow.com/users/11505547/kanakasri-kambhampati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557943483, "creation_date": 1557942068, "last_edit_date": 1557942241, "question_id": 56154954, "link": "https://stackoverflow.com/questions/56154954/iam-trying-program-it-shows-errors", "title": "iam trying program it shows errors", "body": "<p>it is hierarical inheritance in angularjs</p>\n\n<p>iam trying but shows errors</p>\n\n<pre><code>import {SecondcomponentComponent} from './secondcomponent/secondcomponent.Component';\nimport {thirdcomponentcomponent} from './thirdcomponent/thirdcomponentcomponent';\nthis.newSecondcomponentComponent();\n</code></pre>\n\n<blockquote>\n  <p>ERROR in C:/myangpro/hieraricalinheritance/myproj30/src/app/app.component.ts (3,39): Cannot find module './thirdcomponent/thirdcomponentcomponent'.</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p>ERROR in C:/myangpro/hieraricalinheritance/myproj30/src/app/app.component.ts (16,9): Property 'newSecondcomponentComponent' does not exist on type 'AppComponent'.</p>\n</blockquote>\n"}, {"tags": ["typescript", "ionic3", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11484924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e9f136bcbd50da8cf3b462e4a22268?s=128&d=identicon&r=PG&f=1", "display_name": "Developer&#39;sMind", "link": "https://stackoverflow.com/users/11484924/developersmind"}, "edited": false, "score": 0, "creation_date": 1557944444, "post_id": 56155290, "comment_id": 98940092, "body": "1- it&#39;s the time in seconds  2- No, it&#39;s not bigger. As i told you the output coming is as desired output, the thing left is to show now."}], "tags": [], "owner": {"reputation": 1659, "user_id": 5043190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-1rQi8EU6mk4/AAAAAAAAAAI/AAAAAAAAAAw/LhRBahmCaak/photo.jpg?sz=128", "display_name": "Shadab Faiz", "link": "https://stackoverflow.com/users/5043190/shadab-faiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1557943684, "creation_date": 1557943684, "answer_id": 56155290, "question_id": 56154952, "link": "https://stackoverflow.com/questions/56154952/show-minutes-and-seconds-changing-every-second-in-ionic-html-page/56155290#56155290", "title": "Show minutes and seconds changing every second in ionic html page", "body": "<p>There are a lot of issues with your code.</p>\n\n<ol>\n<li>what is value.fajar_iqamah?</li>\n<li>You are doing <strong>countDownDate - now</strong>. <strong>now</strong> will always be bigger than countDown, so your interval will run only once.</li>\n<li>Even if you switch <strong>countDownDate - now</strong> with <strong>now - countDownDate</strong>, then distance will always be greater than 0, in fact it will keep increase rather than decreasing.</li>\n</ol>\n"}], "owner": {"reputation": 23, "user_id": 11484924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e9f136bcbd50da8cf3b462e4a22268?s=128&d=identicon&r=PG&f=1", "display_name": "Developer&#39;sMind", "link": "https://stackoverflow.com/users/11484924/developersmind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557943684, "creation_date": 1557942056, "question_id": 56154952, "link": "https://stackoverflow.com/questions/56154952/show-minutes-and-seconds-changing-every-second-in-ionic-html-page", "title": "Show minutes and seconds changing every second in ionic html page", "body": "<p>I have made a java-script countdown counter and displaying minutes and seconds using this line</p>\n\n<pre><code>document.getElementById(\"demo\").innerHTML = Number(this.minutes) + 'm' + Number(this.seconds) + 's ';\n</code></pre>\n\n<p>but in ios it showing me NANm NANs due to this line. So i want to use other way to show minutes and seconds. </p>\n\n<p>Here is my typescript code.</p>\n\n<pre><code> if ((this.Fajardistance &lt;= '59') &amp;&amp; (this.Fajardistance &gt;= '0')) {\n\n    let current_datetime = new Date()\n    let formatted_date = current_datetime.getFullYear() + \"-\" + (current_datetime.getMonth() + 1) + \"-\" + current_datetime.getDate()\n    console.log(\"formatted_date\", formatted_date);\n\n    // Set the date we're counting down to\n    var countDownDate = new Date(`${formatted_date.toString()} ${value.fajar_iqamah}`).getTime();        \n    console.log(\"countDownDate\", countDownDate);\n\n    // Update the count down every 1 second\n    this.interavalTime = setInterval(function () {\n\n      // Get todays date and time\n      var now = new Date().getTime();\n\n      // Find the distance between now and the count down date\n      var distance = countDownDate - now;\n\n      this.testing = false;\n      // Time calculations for days, hours, minutes and seconds\n      this.minutes = Math.floor((Number(distance) % (1000 * 60 * 60)) / (1000 * 60));\n      this.seconds = Math.floor((Number(distance) % (1000 * 60)) / 1000);\n\n      //In these consoles minutes and seconds are as desired output just want to show them \n      console.log(\"Minutes:\", this.minutes);\n      console.log(\"Seconds:\", this.seconds);\n\n      //I was using this line to display minutes and seconds but it's incorrect way to display in ios devices.\n\n      //document.getElementById(\"demo\").innerHTML = Number(this.minutes) + 'm' + Number(this.seconds) + 's ';\n\n\n      //  // If the count down is over, write some text \n      if (distance &lt; 0) {\n        clearInterval(this.interavalTime);\n\n        document.getElementById(\"demo\").style.display = \"none\";\n      }\n      //console.log(\"Inside notification function outside if\");\n\n\n    }, 1000);\n\n  }\n</code></pre>\n\n<p>Home.Html</p>\n\n<pre><code>&lt;!--&lt;span mode=\"md\" id=\"demo\" style=\"text-align:right;font-size: 16px; display:inline-block;margin-left: 16px;  margin-top: 0px; color:red;\"&gt;&lt;/span&gt;--&gt;\n</code></pre>\n\n<p>I was using above commented method earlier to display but it was not correct way for ios.</p>\n"}, {"tags": ["typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1557943999, "post_id": 56155142, "comment_id": 98939922, "body": "Relevant <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-3.html#generic-parameter-defaults\" rel=\"nofollow noreferrer\">documentation</a>"}, {"owner": {"reputation": 39443, "user_id": 129164, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ec326c009186734854c600265b69a6ce?s=128&d=identicon&r=PG", "display_name": "devuxer", "link": "https://stackoverflow.com/users/129164/devuxer"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1557944172, "post_id": 56155142, "comment_id": 98939985, "body": "@jcalz, thx, also just found it at <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#generic-parameter-defaults\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/&hellip;</a>."}], "tags": [], "owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "is_accepted": true, "score": 2, "last_activity_date": 1557998239, "last_edit_date": 1557998239, "creation_date": 1557942983, "answer_id": 56155142, "question_id": 56154927, "link": "https://stackoverflow.com/questions/56154927/what-does-t-mytype-mean/56155142#56155142", "title": "What does &lt;T = MyType&gt; mean?", "body": "<p><code>T = Whatever</code> is a relatively new feature of generics, allowing you to specify a default type (absolving the consumer from passing one, if they want to go with the default). </p>\n\n<p>Read more <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-3.html#generic-parameter-defaults\" rel=\"nofollow noreferrer\">Here</a> and <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#generic-parameter-defaults\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Example:</p>\n\n<pre><code>abstract class Component&lt;Props = {}, State = {}&gt; {\n  // ...\n}\n\n// Pass only the first generic for Props, State will be {}\nclass MyComponent extends Component&lt;{foo: string}&gt; {\n  // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 39443, "user_id": 129164, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ec326c009186734854c600265b69a6ce?s=128&d=identicon&r=PG", "display_name": "devuxer", "link": "https://stackoverflow.com/users/129164/devuxer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 56155142, "answer_count": 1, "score": 0, "last_activity_date": 1557998239, "creation_date": 1557941985, "question_id": 56154927, "link": "https://stackoverflow.com/questions/56154927/what-does-t-mytype-mean", "title": "What does &lt;T = MyType&gt; mean?", "body": "<p>I came across this interface decleration in a <a href=\"https://github.com/ant-design/ant-design/blob/88364399e336cd5fdc494e7a18fbf7e6e0965d87/components/select/index.tsx#L53\" rel=\"nofollow noreferrer\">d.ts file</a>:</p>\n\n<pre><code>interface SelectProps&lt;T = SelectValue&gt; extends AbstractSelectProps { /* ... */ }\n</code></pre>\n\n<p>I haven't been able to find <code>&lt;T =</code> in the TypeScript handbook (under <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">Generics</a> or <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">Advanced Types</a>) nor on the <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript\" rel=\"nofollow noreferrer\">what's new in TypeScript</a> page.</p>\n\n<p>I'm familiar with <code>&lt;T extends ...&gt;</code>, which comes up repeatedly in the documentation, but this is the first time I've come across <code>&lt;T = ...&gt;</code>.</p>\n\n<p>Is there a name for this construct? What does it mean? What is the difference between <code>=</code> and <code>extends</code>?</p>\n"}, {"tags": ["arrays", "typescript", "sorting"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1557942036, "post_id": 56154748, "comment_id": 98939022, "body": "Are we assuming that the <code>allRecords</code> is already &quot;sorted&quot; by the <code>type</code>?"}, {"owner": {"reputation": 227, "user_id": 6317143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4b72b46efe93e379f065dea4b40ed479?s=128&d=identicon&r=PG&f=1", "display_name": "rDev", "link": "https://stackoverflow.com/users/6317143/rdev"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1557942581, "post_id": 56154748, "comment_id": 98939300, "body": "Assume that it isn&#39;t. In my code, I actually start with an empty array that gets populated with the splicing code at the end of the question."}, {"owner": {"reputation": 1999, "user_id": 1491720, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Kmszq.jpg?s=128&g=1", "display_name": "Tony Stark", "link": "https://stackoverflow.com/users/1491720/tony-stark"}, "edited": false, "score": 0, "creation_date": 1557943455, "post_id": 56154748, "comment_id": 98939698, "body": "Why not use map of arrays of objects? Type would be key of the map."}, {"owner": {"reputation": 227, "user_id": 6317143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4b72b46efe93e379f065dea4b40ed479?s=128&d=identicon&r=PG&f=1", "display_name": "rDev", "link": "https://stackoverflow.com/users/6317143/rdev"}, "reply_to_user": {"reputation": 1999, "user_id": 1491720, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Kmszq.jpg?s=128&g=1", "display_name": "Tony Stark", "link": "https://stackoverflow.com/users/1491720/tony-stark"}, "edited": false, "score": 0, "creation_date": 1557943556, "post_id": 56154748, "comment_id": 98939750, "body": "@TonyStark That sounds like a good idea. I&#39;m trying to wrap my head around how that should be written. If you know, feel free to leave an answer."}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1557949129, "post_id": 56154748, "comment_id": 98942126, "body": "if <code>allRecords</code> and <code>newRecords</code> are not guaranteed to be sorted, I would simply <code>concat</code> the two arrays and <code>sort</code> thereafter. Either way, it sounds like you need a custom sort comparator to group things in an arbitrary order - ie, &quot;fruit first, then vegetables, then meats, then dairy, then carbohydrates ...&quot;. So you&#39;re either using the comparator to sort <code>allRecords</code> and <code>newRecords</code> before the merge, or you merge first and sort after. You have two distinct needs, and mashing them into one function is a mistake."}, {"owner": {"reputation": 227, "user_id": 6317143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4b72b46efe93e379f065dea4b40ed479?s=128&d=identicon&r=PG&f=1", "display_name": "rDev", "link": "https://stackoverflow.com/users/6317143/rdev"}, "reply_to_user": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1557950378, "post_id": 56154748, "comment_id": 98942645, "body": "@user633183 I get what you&#39;re saying. My hope would be to have a function that inserts any records given to the proper spot, rather than add and then sort. In that case, if the empty array is considered sorted, adding any new records to it will result in it being sorted. I probably should&#39;ve worded my question more as such."}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1557959822, "post_id": 56154748, "comment_id": 98945786, "body": "@Roug your question sets the stage to learn about some very essential basics of functional programming. These basics will go long way in improving your control of Typescript. It&#39;s all about working with small pieces and making ways to combine them. Please see my answer for guidance."}], "answers": [{"tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": false, "score": 1, "last_activity_date": 1557947312, "last_edit_date": 1557947312, "creation_date": 1557943187, "answer_id": 56155194, "question_id": 56154748, "link": "https://stackoverflow.com/questions/56154748/how-to-insert-objects-in-array-next-to-objects-with-the-same-property-value/56155194#56155194", "title": "How to insert objects in array next to objects with the same property value", "body": "<p>Assuming that <code>allRecords</code> is already ordered by <code>type</code> such that the values with any particular <code>type</code> are located in one contiguous segment of the array (or that <code>type</code> doesn't yet exist at all in the array), then the following will work very similarly to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object.assign()</code></a>:</p>\n\n<pre><code>function spliceBy&lt;T, K extends keyof T&gt; (key: K, target: T[], ...sources: Iterable&lt;T&gt;[]) {\n  const groups: Map&lt;T[K], T[]&gt; = new Map()\n\n  for (const source of sources) {\n    for (const entry of source) {\n      const value = entry[key]\n      const oldEntries = groups.get(value)\n      const entries = oldEntries || []\n\n      if (!oldEntries) groups.set(value, entries)\n\n      entries.push(entry)\n    }\n  }\n\n  for (const [value, entries] of groups) {\n    // find the end of a group of entries\n    let found = false\n    const index = target.findIndex(\n      entry =&gt; entry[key] === value ? (found = true, false) : found\n    )\n\n    if (found) target.splice(index, 0, ...entries)\n    else target.push(...entries)\n  }\n\n  return target\n}\n\nconst allRecords = [{type:'fruit',name:'apple'},{type:'vegetable',name:'celery'},{type:'meat',name:'chicken'}]\nconst newRecords = [{type:'fruit',name:'pear'},{type:'vegetable',name:'spinach'},{type:'meat',name:'pork'}]\n\nconsole.log(spliceBy('type', allRecords, newRecords))\n</code></pre>\n\n<p><sup><a href=\"https://tio.run/##hVLNbqMwEL7zFLMnjETpnvYQhay0Ug9V1MsqN8TBhSFBcWxkm7SozasvO7YhCVK1e0CyZ76/GWyHDk2l286OlZLGAhfiN1ZK1wZyKD4s9Vdxo/vWxqnkJ7rwrhMYX9Kpd8Y9Wv5KpalfoUA93AAn5FdudWirI8r4UkbBTuLbf@w65PofbqZrJa8OX9t1Sh@dlzdTAjOh9sx0oq3w18BiR4jTu5HTuzxJMja9rGyrJMyU9S6FLeC7RUmBjzioBnYbYHRawTYFyzXFW8GuKFPIssyoXldoVvBsUbvU692mKBP4iADC/Hut@o4AL7xb74ot0Yi7oV1QEFdkSUTYRmlggRAkgYwn8aC2wKC0erhBZsTseeaiR7LwsIKyl4u2EvUTdVp0vyTky2gq5mnJAopX3B3p8xOKMppwbQPs262ZzIJmFkxnkWSmTPes682B@YzB9BK5b7mNYqlRuqGDwzz04yM0razBHpBQtQPwAHHHieeRAi1J94TJoeHCYHQblBTwnerhB2dO8dmV2F3mAfLN3U4hz/Np1T@BzcJWu7hePoFV8PMa0/huX76YzF7h7TGfIIXv/l1dV@a9SWsG@50tAX5lGm2v5YSKLuP4p2oE35vx4UG0ryOaH2mtTnSr1ZsUeEbhX6x7/H8B\" rel=\"nofollow noreferrer\" title=\"TypeScript \u2013 Try It Online\">Try it online!</a></sup></p>\n\n<p>If you don't want to modify <code>allRecords</code>, you can call it like this instead:</p>\n\n<pre><code>console.log(spliceBy('type', [], allRecords, newRecords))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 178, "user_id": 1449896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILGue.jpg?s=128&g=1", "display_name": "Gonzalo Muro", "link": "https://stackoverflow.com/users/1449896/gonzalo-muro"}, "is_accepted": false, "score": 0, "last_activity_date": 1557944224, "creation_date": 1557944224, "answer_id": 56155414, "question_id": 56154748, "link": "https://stackoverflow.com/questions/56154748/how-to-insert-objects-in-array-next-to-objects-with-the-same-property-value/56155414#56155414", "title": "How to insert objects in array next to objects with the same property value", "body": "<p>This should do the job:</p>\n\n<pre><code>interface Record {\n   type: string;\n   name: string;\n}\n\ninterface TypedRecords {\n   [type: string]: records[];\n}\n\nprivate _recordsByType: TypedRecords = {};\n\nsortAndInsert(allRecords: Record[], newRecords: Record[]): Record[] {\n   const records: Record[] = [];\n   this.insert(allRecords);\n   this.insert(newRecords);\n   Object.keys(this._recordsByType).forEach(type =&gt; {\n      this._recordsByType[type].forEach(name =&gt; {\n         records.push({type, name});\n      });\n   });\n\n   return records;\n}\n\nprivate insert(records: Record[]) {\n   records.forEach(record =&gt; {\n      if (!this._recordsByType[record.type]) {\n         this._recordsByType[record.type] = [];\n      }\n      this._recordsByType[record.type].push(record.value);\n   });\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 8937904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc2b3655146199519ed840c8f21b0fa?s=128&d=identicon&r=PG&f=1", "display_name": "Arpit Bhadauria", "link": "https://stackoverflow.com/users/8937904/arpit-bhadauria"}, "is_accepted": false, "score": 0, "last_activity_date": 1557944900, "creation_date": 1557944900, "answer_id": 56155602, "question_id": 56154748, "link": "https://stackoverflow.com/questions/56154748/how-to-insert-objects-in-array-next-to-objects-with-the-same-property-value/56155602#56155602", "title": "How to insert objects in array next to objects with the same property value", "body": "<p>Not sure if it's the best solution performance-wise but here it is:</p>\n\n<pre><code>const allRecords = [\n  {\n    type: 'fruit',\n    name: 'apple'\n  },\n  {\n    type: 'vegetable',\n    name: 'celery'\n  },\n  {\n    type: 'meat',\n    name: 'chicken'\n  }\n]\n\nconst  newRecords = [\n  {\n    type: 'fruit',\n    name: 'pear'\n  },\n  {\n    type: 'vegetable',\n    name: 'spinach'\n  },\n  {\n    type: 'meat',\n    name: 'pork'\n  }\n]\n\nfunction sortAndInsert(...records){\n    let totalRecords = [];\n    for(let record of records){\n        totalRecords = totalRecords.concat(record);\n    }\n    totalRecords.sort((rec1, rec2)=&gt;{\n        if(rec1.type == rec2.type)\n            return 0;\n        else if(rec1.type &gt; rec2.type)\n            return 1;\n        else\n            return -1;\n    })\n    return totalRecords;\n}\n\nlet completeRecords = sortAndInsert(newRecords, allRecords);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1557946546, "post_id": 56155746, "comment_id": 98940999, "body": "that&#39;s not a real <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\">Map</a> object though."}, {"owner": {"reputation": 1999, "user_id": 1491720, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Kmszq.jpg?s=128&g=1", "display_name": "Tony Stark", "link": "https://stackoverflow.com/users/1491720/tony-stark"}, "reply_to_user": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1557947022, "post_id": 56155746, "comment_id": 98941222, "body": "@user633183 Should be one now."}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 1, "creation_date": 1557947227, "post_id": 56155746, "comment_id": 98941306, "body": "<code>myMap[&#39;fruit&#39;] = fruitObject</code> defines a property <code>fruit</code> on the <code>myMap</code> object, however this is not how <code>Map</code> is intended to be used. The <code>add</code> method should be used, ie <code>myMap.add(&#39;fruit&#39;, fruitObject)</code>, to add a key/value pair to <code>myMap</code>."}, {"owner": {"reputation": 1999, "user_id": 1491720, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Kmszq.jpg?s=128&g=1", "display_name": "Tony Stark", "link": "https://stackoverflow.com/users/1491720/tony-stark"}, "reply_to_user": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1557947749, "post_id": 56155746, "comment_id": 98941547, "body": "@user633183 Could you link the docs of the <code>add</code> method? Is this an alias for <code>set</code>?"}, {"owner": {"reputation": 312, "user_id": 10725504, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wrgm2r5SjCk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iLAkuXYcxRatwtrk78r1tpOAk4OQ/mo/photo.jpg?sz=128", "display_name": "Shawn Pacarar", "link": "https://stackoverflow.com/users/10725504/shawn-pacarar"}, "edited": false, "score": 0, "creation_date": 1557948024, "post_id": 56155746, "comment_id": 98941676, "body": "This should be the number one answer. An object would be far more performant than sorting an array every time to keep the types nearby. If you need to list them I believe you could even do Object.values(myMap).flat() to get them all in grouped order."}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1557948149, "post_id": 56155746, "comment_id": 98941724, "body": "@TonyStark, my mistake. It is <code>Map.prototype.set</code>, not <code>Map.prototype.add</code>. I got my lines crossed with <code>Set</code> which has <code>Set.prototype.add</code>."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1557948825, "post_id": 56155746, "comment_id": 98942012, "body": "This is not how you use a map, and no, <code>map[foo] = bar</code> is not an alias for <code>map.set(foo, bar)</code>, nor is <code>map[foo]</code> an alias for <code>map.get(foo)</code>."}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 1, "creation_date": 1557950555, "post_id": 56155746, "comment_id": 98942714, "body": "@TonyStark great work on the updated version. The program output is easy on the eyes too."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1557956518, "post_id": 56155746, "comment_id": 98944944, "body": "By the way, <code>Array.from(myMap.values()).flat()</code> gets you the originally requested output. Your answer is already good, but just leaving this in case it&#39;s helpful. <code>[].concat(...Array.from(myMap.values()))</code> is ES2015 compatible."}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1557960488, "post_id": 56155746, "comment_id": 98945909, "body": "@PatrickRoberts <code>...Array.from(_)</code> is a bit wasteful. <code>[].concat(...myMap.values())</code> skips the intermediate array. <code>myMap.values()</code> is already iterable, so we can spread it directly."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1557961047, "post_id": 56155746, "comment_id": 98946025, "body": "@user633183 good point, I wasn&#39;t really looking closely when I copied the snippet to the example that used <code>concat()</code>."}], "tags": [], "owner": {"reputation": 1999, "user_id": 1491720, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Kmszq.jpg?s=128&g=1", "display_name": "Tony Stark", "link": "https://stackoverflow.com/users/1491720/tony-stark"}, "is_accepted": false, "score": 2, "last_activity_date": 1557950488, "last_edit_date": 1557950488, "creation_date": 1557945505, "answer_id": 56155746, "question_id": 56154748, "link": "https://stackoverflow.com/questions/56154748/how-to-insert-objects-in-array-next-to-objects-with-the-same-property-value/56155746#56155746", "title": "How to insert objects in array next to objects with the same property value", "body": "<p>I'd totally use maps for that. An example would be as follows.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let myMap = new Map();\r\n\r\nmyMap.set('fruit', [{\r\n  name: 'apple',\r\n  type: 'fruit'\r\n}]);\r\nmyMap.set('vegetable', [{\r\n  name: 'celery',\r\n  type: 'vegetable'\r\n}]);\r\nmyMap.set('meat', [{\r\n  name: 'chicken',\r\n  type: 'meat'\r\n}]);\r\n\r\nconst newRecords = [{\r\n  type: 'fruit',\r\n  name: 'pear'\r\n}, {\r\n  type: 'vegetable',\r\n  name: 'spinach'\r\n}, {\r\n  type: 'meat',\r\n  name: 'pork'\r\n}]\r\n\r\nnewRecords.forEach(function(el) {\r\n  let arr = myMap.get(el.type);\r\n  arr.push(el);\r\n  myMap.set(el.type, arr);\r\n});\r\n\r\nfor (let [k, v] of myMap) {\r\n  console.log(k);\r\n  console.log(v);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "is_accepted": false, "score": 2, "last_activity_date": 1557960255, "last_edit_date": 1557960255, "creation_date": 1557958870, "answer_id": 56158401, "question_id": 56154748, "link": "https://stackoverflow.com/questions/56154748/how-to-insert-objects-in-array-next-to-objects-with-the-same-property-value/56158401#56158401", "title": "How to insert objects in array next to objects with the same property value", "body": "<p><strong>Grouping</strong></p>\n\n<p>There's a lot to cover here, so I'm going to move somewhat quickly. If you get stuck at any part, please leave a comment and I'll do my best to expand on any problematic areas.</p>\n\n<p>First, there's no guarantee that <code>allRecords</code> or <code>newRecords</code> will be sorted before they are combined. Grouping like items efficiently can be handled easily using a <code>Map</code>. When we want to print out the items in a desired order however, the Map's values will need to be sorted. We'll handle that as the second part of this answer. We start by grouping <code>allRecords</code> by the <code>type</code> property -</p>\n\n<pre><code>const allRecords =\n  [ { type: 'fruit', name: 'apple' }\n  , { type: 'vegetable', name: 'spinach' }\n  , { type: 'meat', name: 'chicken' }\n  , { type: 'fruit', name: 'raspberry' } // added this item\n  ]\n\nconst m1 =\n  groupBy(x =&gt; x.type, allRecords)\n\nconsole.log(m1)\n\n// Map\n//   { 'fruit' =&gt;\n//       [ { type: 'fruit', name: 'apple' }\n//       , { type: 'fruit', name: 'raspberry' }\n//       ]\n//   , 'vegetable' =&gt;\n//       [ { type: 'vegetable', name: 'spinach' }\n//       ]\n//   , 'meat' =&gt;\n//       [ { type: 'meat', name: 'chicken' }\n//       ]\n//   }\n</code></pre>\n\n<p>Next, we group <code>newRecords</code> the same way -</p>\n\n<pre><code>const newRecords =\n  [ { type: 'meat', name: 'pork' }\n  , { type: 'fruit', name: 'pear' }\n  , { type: 'vegetable', name: 'celery' }\n  , { type: 'dairy', name: 'milk' } // added this item\n  ]\n\nconst m2 =\n  groupBy(x =&gt; x.type, newRecords)\n\nconsole.log(m2)\n\n// Map\n//   { 'meat' =&gt;\n//       [ { type: 'meat', name: 'pork' }\n//       ]\n//   , 'fruit' =&gt;\n//       [ { type: 'fruit', name: 'pear' } \n//       ]\n//   , 'vegetable' =&gt;\n//       [ { type: 'vegetable', name: 'celery' }\n//       ]\n//   , 'dairy' =&gt;\n//       [ { type: 'dairy', name: 'milk' }\n//       ]\n//   }\n</code></pre>\n\n<p>Before we go on, let's define generic function <code>groupBy</code> -</p>\n\n<pre><code>const groupBy = (f, a = []) =&gt;\n  a.reduce\n    ( (map, v) =&gt; upsert(map, [ f (v), v ])\n    , new Map\n    )\n\n// helper\nconst upsert = (map, [ k, v ]) =&gt;\n  map.has(k)\n    ? map.set(k, map.get(k).concat(v))\n    : map.set(k, [].concat(v))\n</code></pre>\n\n<p>Next we need a way to combine the two maps <code>m1</code> and <code>m2</code> -</p>\n\n<pre><code>const m3 =\n  mergeMap(m1, m2)\n\nconsole.log(m3)\n// Map\n//   { 'fruit' =&gt;\n//       [ { type: 'fruit', name: 'apple' }\n//       , { type: 'fruit', name: 'raspberry' }\n//       , { type: 'fruit', name: 'pear' } \n//       ]\n//   , 'vegetable' =&gt;\n//       [ { type: 'vegetable', name: 'spinach' }\n//       , { type: 'vegetable', name: 'celery' }\n//       ]\n//   , 'meat' =&gt;\n//       [ { type: 'meat', name: 'chicken' }\n//       , { type: 'meat', name: 'pork' }\n//       ]\n//   , 'dairy' =&gt;\n//       [ { type: 'dairy', name: 'milk' }\n//       ]\n//   }\n</code></pre>\n\n<p>We can define <code>mergeMap</code> easily to support merging any number of maps together -</p>\n\n<pre><code>const mergeMap = (...maps) =&gt;\n  maps.reduce(mergeMap1, new Map)\n\n// helper\nconst mergeMap1 = (m1, m2) =&gt;\n  Array.from(m2.entries()).reduce(upsert, m1)\n</code></pre>\n\n<p>As we can see, the Map has nicely grouped the items together. Let's collect all the values now -</p>\n\n<pre><code>const unsorted =\n  [].concat(...m3.values())\n\nconsole.log(unsorted)\n\n// [ { type: 'fruit', name: 'apple' }\n// , { type: 'fruit', name: 'raspberry' }\n// , { type: 'fruit', name: 'pear' }\n// , { type: 'vegetable', name: 'spinach' }\n// , { type: 'vegetable', name: 'celery' }\n// , { type: 'meat', name: 'chicken' }\n// , { type: 'meat', name: 'pork' }\n// , { type: 'dairy', name: 'milk' }\n// ]\n</code></pre>\n\n<hr>\n\n<p><strong>Sorting</strong></p>\n\n<p>This section of the answer is not for the feint of heart, but I strongly encourage you to stick with it. We take a functional approach to writing comparison functions, but there are trade-offs with the techniques used. Here, we use many simple functions that are easy to write, test, and maintain. As a result, the functions are more flexible and can be reused in other areas of your program. For more reasoning behind this approach as well as what happens when these techniques are <em>not</em> used, see <a href=\"https://stackoverflow.com/a/56116761/633183\">this recent answer</a> on the topic.</p>\n\n<p>Ok, so we see the list is currently ordered by <em>fruit</em>, <em>vegetable</em>, <em>meat</em>, and then <em>dairy</em>. This is due to the order in which they were grouped in the original Maps. What if you wanted them ordered in a different way?</p>\n\n<pre><code>unsorted.sort(orderByTypes(\"vegetable\", \"meat\", \"fruit\"))\n\n// [ { type: 'vegetable', name: 'spinach' }\n// , { type: 'vegetable', name: 'celery' }\n// , { type: 'meat', name: 'chicken' }\n// , { type: 'meat', name: 'pork' }\n// , { type: 'fruit', name: 'apple' }\n// , { type: 'fruit', name: 'raspberry' }\n// , { type: 'fruit', name: 'pear' }\n// , { type: 'dairy', name: 'milk' } \n// ]\n</code></pre>\n\n<p>Ok, and what if we wanted them ordered by <code>name</code> instead?</p>\n\n<pre><code>unsorted.sort(orderByName)\n\n// [ { type: 'fruit', name: 'apple' }\n// , { type: 'vegetable', name: 'celery' }\n// , { type: 'meat', name: 'chicken' }\n// , { type: 'dairy', name: 'milk' }\n// , { type: 'fruit', name: 'pear' }\n// , { type: 'meat', name: 'pork' }\n// , { type: 'fruit', name: 'raspberry' }\n// , { type: 'vegetable', name: 'spinach' }\n// ]\n</code></pre>\n\n<p>Would it be possible to <code>orderByTypes</code> first and then do a secondary sorting using <code>orderByName</code>?</p>\n\n<pre><code>unsorted.sort\n  ( mergeComparator\n      ( orderByTypes(\"meat\", \"fruit\", \"dairy\") // primary sort\n      , orderByName                            // secondary sort (tie breaker)\n      )\n  )\n\n// [ { type: 'meat', name: 'chicken' }\n// , { type: 'meat', name: 'pork' }\n// , { type: 'fruit', name: 'apple' }\n// , { type: 'fruit', name: 'pear' }\n// , { type: 'fruit', name: 'raspberry' }\n// , { type: 'dairy', name: 'milk' }\n// , { type: 'vegetable', name: 'celery' }\n// , { type: 'vegetable', name: 'spinach' }\n// ]\n</code></pre>\n\n<p>We see the result is first order by types, <em>meat</em>, <em>fruit</em>, and <em>dairy</em> first. And we also see secondary sorting by <code>name</code>. Meats <em>chicken</em> and <em>pork</em> are in ascending order as are fruits <em>apple</em>, <em>pear</em> and <em>raspberry</em>. Note, even though <code>\"vegetables\"</code> wasn't used in <code>orderByTypes</code>, the secondary sort still applies so <em>celery</em> and <em>spinach</em> are in order.</p>\n\n<p>As you can see, we can define flexible comparator functions like <code>orderByTypes</code> and <code>orderByName</code> and the combine them using <code>mergeComparator</code> to achieve a more intricate and complex behavior. We'll start with the simpler of the two, <code>orderByName</code> -</p>\n\n<pre><code>const orderByName =\n  contramap\n    ( ascending     // transform base comparator\n    , x =&gt; x.name   // by first getting object's name property\n    )\n\n// base comparator\nconst ascending = (a, b) =&gt;\n  a &gt; b\n    ? 1\n    : a &lt; b\n      ? -1\n      : 0\n\n// functional utility\nconst contramap = (f, g) =&gt;\n  (a, b) =&gt;\n    f(g(a), g(b))\n</code></pre>\n\n<p>The <code>orderByTypes</code> comparator is a little more involved -</p>\n\n<pre><code>const orderByTypes = (...types) =&gt;\n  contramap\n    ( ascending                         // transform base comparator\n    , pipe                              // using a function sequence\n        ( x =&gt; x.type                   // first get the item's type property\n        , x =&gt; matchIndex(types, x)     // then get the index of the matched type\n        , x =&gt; x === -1 ? Infinity : x  // then if it doesn't match, put it at the end\n        )\n    )\n\n// helper\nconst matchIndex = (values = [], query) =&gt;\n  values.findIndex(v =&gt; v === query)\n\n// functional utility\nconst identity = x =&gt;\n  x\n\n// functional utility\nconst pipe = (f = identity, ...more) =&gt;\n  more.reduce(pipe1, f)\n\n// pipe helper\nconst pipe1 = (f, g) =&gt;\n  x =&gt; g(f(x))\n</code></pre>\n\n<p>We've defined two (2) separate comparators <code>orderByName</code> and <code>orderByTypes</code> and the last thing we have to do is determine how to combine them -</p>\n\n<pre><code>const mergeComparator = (c = ascending, ...more) =&gt;\n  more.reduce(mergeComparator1, c)\n\n// helper 1\nconst mergeComparator1 = (c1, c2) =&gt;\n  (a, b) =&gt;\n    mergeComparator2(c1(a, b), c2(a, b))\n\n// helper 2\nconst mergeComparator2 = (a, b) =&gt;\n  a === 0 ? b : a\n</code></pre>\n\n<hr>\n\n<p><strong>Putting it all together</strong></p>\n\n<p>Okay, let's see if we can put a bow on it -</p>\n\n<pre><code>const allRecords =\n  [ { type: 'fruit', name: 'apple' }\n  , { type: 'vegetable', name: 'spinach' }\n  , { type: 'meat', name: 'chicken' }\n  , { type: 'fruit', name: 'raspberry' }\n  ]\n\nconst newRecords =\n  [ { type: 'meat', name: 'pork' }\n  , { type: 'fruit', name: 'pear' }\n  , { type: 'vegetable', name: 'celery' }\n  , { type: 'dairy', name: 'milk' }\n  ]\n\n// efficient grouping, can support any number of maps\nconst grouped = \n  mergeMap\n    ( groupBy(x =&gt; x.type, allRecords)\n    , groupBy(x =&gt; x.type, newRecords)\n    )\n\nconst unsorted =\n  [].concat(...grouped.values())\n\n// efficient sorting; can support any number of comparators\nconst sorted =\n  unsorted.sort\n    ( mergeComparator\n        ( orderByTypes(\"meat\", \"fruit\", \"dairy\")\n        , orderByName\n        )\n    )\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>console.log(sorted)\n\n// [ { type: 'meat', name: 'chicken' }\n// , { type: 'meat', name: 'pork' }\n// , { type: 'fruit', name: 'apple' }\n// , { type: 'fruit', name: 'pear' }\n// , { type: 'fruit', name: 'raspberry' }\n// , { type: 'dairy', name: 'milk' }\n// , { type: 'vegetable', name: 'celery' }\n// , { type: 'vegetable', name: 'spinach' }\n// ]\n</code></pre>\n\n<p>Expand the snippet below to verify the results in your own browser -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// ---------------------------------------------------\r\n// STEP 1\r\nconst upsert = (map, [ k, v ]) =&gt;\r\n  map.has(k)\r\n    ? map.set(k, map.get(k).concat(v))\r\n    : map.set(k, [].concat(v))\r\n\r\nconst groupBy = (f, a = []) =&gt;\r\n  a.reduce\r\n    ( (map, v) =&gt;\r\n        upsert(map, [ f (v), v ])\r\n    , new Map\r\n    )\r\n\r\nconst allRecords =\r\n  [ { type: 'fruit', name: 'apple' }\r\n  , { type: 'vegetable', name: 'spinach' }\r\n  , { type: 'meat', name: 'chicken' }\r\n  , { type: 'fruit', name: 'raspberry' }\r\n  ]\r\n\r\nconst newRecords =\r\n  [ { type: 'meat', name: 'pork' }\r\n  , { type: 'fruit', name: 'pear' }\r\n  , { type: 'vegetable', name: 'celery' }\r\n  , { type: 'dairy', name: 'milk' }\r\n  ]\r\n\r\nconst m1 =\r\n  groupBy(x =&gt; x.type, allRecords)\r\n\r\nconsole.log(\"first grouping\\n\", m1)\r\n// Map\r\n//   { 'fruit' =&gt;\r\n//       [ { type: 'fruit', name: 'apple' }\r\n//       , { type: 'fruit', name: 'raspberry' }\r\n//       ]\r\n//   , 'vegetable' =&gt;\r\n//       [ { type: 'vegetable', name: 'spinach' }\r\n//       ]\r\n//   , 'meat' =&gt;\r\n//       [ { type: 'meat', name: 'chicken' }\r\n//       ]\r\n//   }\r\n\r\nconst m2 =\r\n  groupBy(x =&gt; x.type, newRecords)\r\n\r\nconsole.log(\"second grouping\\n\", m2)\r\n// Map\r\n//   { 'meat' =&gt;\r\n//       [ { type: 'meat', name: 'pork' }\r\n//       ]\r\n//   , 'fruit' =&gt;\r\n//       [ { type: 'fruit', name: 'pear' } \r\n//       ]\r\n//   , 'vegetable' =&gt;\r\n//       [ { type: 'vegetable', name: 'celery' }\r\n//       ]\r\n//   , 'dairy' =&gt;\r\n//       [ { type: 'dairy', name: 'milk' }\r\n//       ]\r\n//   }\r\n\r\n// ---------------------------------------------------\r\n// STEP 2\r\nconst mergeMap1 = (m1, m2) =&gt;\r\n  Array.from(m2.entries()).reduce(upsert, m1)\r\n\r\nconst mergeMap = (...maps) =&gt;\r\n  maps.reduce(mergeMap1, new Map)\r\n\r\nconst m3 =\r\n  mergeMap(m1, m2)\r\n\r\nconsole.log(\"merged grouping\\n\", m3)\r\n// Map\r\n//   { 'fruit' =&gt;\r\n//       [ { type: 'fruit', name: 'apple' }\r\n//       , { type: 'fruit', name: 'raspberry' }\r\n//       , { type: 'fruit', name: 'pear' } \r\n//       ]\r\n//   , 'vegetable' =&gt;\r\n//       [ { type: 'vegetable', name: 'spinach' }\r\n//       , { type: 'vegetable', name: 'celery' }\r\n//       ]\r\n//   , 'meat' =&gt;\r\n//       [ { type: 'meat', name: 'chicken' }\r\n//       , { type: 'meat', name: 'pork' }\r\n//       ]\r\n//   , 'dairy' =&gt;\r\n//       [ { type: 'dairy', name: 'milk' }\r\n//       ]\r\n//   }\r\n\r\nconst unsorted =\r\n  [].concat(...m3.values())\r\n\r\nconsole.log(\"unsorted\\n\", unsorted)\r\n// [ { type: 'fruit', name: 'apple' }\r\n// , { type: 'fruit', name: 'raspberry' }\r\n// , { type: 'fruit', name: 'pear' }\r\n// , { type: 'vegetable', name: 'spinach' }\r\n// , { type: 'vegetable', name: 'celery' }\r\n// , { type: 'meat', name: 'chicken' }\r\n// , { type: 'meat', name: 'pork' }\r\n// , { type: 'dairy', name: 'milk' }\r\n// ]\r\n\r\n// ---------------------------------------------------\r\n// STEP 3\r\nconst ascending = (a, b) =&gt;\r\n  a &gt; b\r\n    ? 1\r\n: a &lt; b\r\n    ? -1\r\n: 0\r\n\r\nconst contramap = (f, g) =&gt;\r\n  (a, b) =&gt;\r\n    f(g(a), g(b))\r\n\r\nconst orderByName =\r\n  contramap(ascending, x =&gt; x.name)\r\n\r\nconst sorted1 =\r\n  unsorted.sort(orderByName)\r\n\r\nconsole.log(\"sorted by name only\\n\", sorted1)\r\n// [ { type: 'fruit', name: 'apple' }\r\n// , { type: 'vegetable', name: 'celery' }\r\n// , { type: 'meat', name: 'chicken' }\r\n// , { type: 'dairy', name: 'milk' }\r\n// , { type: 'fruit', name: 'pear' }\r\n// , { type: 'meat', name: 'pork' }\r\n// , { type: 'fruit', name: 'raspberry' }\r\n// , { type: 'vegetable', name: 'spinach' }\r\n// ]\r\n\r\n\r\n// ---------------------------------------------------\r\n// STEP 4\r\nconst identity = x =&gt;\r\n  x\r\n\r\nconst pipe1 = (f, g) =&gt;\r\n  x =&gt; g(f(x))\r\n\r\nconst pipe = (f = identity, ...more) =&gt;\r\n  more.reduce(pipe1, f)\r\n\r\nconst matchIndex = (values = [], query) =&gt;\r\n  values.findIndex(v =&gt; v === query)\r\n\r\nconst orderByTypes = (...types) =&gt;\r\n  contramap\r\n    ( ascending\r\n    , pipe\r\n        ( x =&gt; x.type \r\n        , x =&gt; matchIndex(types, x)\r\n        , x =&gt; x === -1 ? Infinity : x\r\n        )\r\n    )\r\n\r\nconst sorted2 =\r\n  unsorted.sort(orderByTypes(\"vegetable\", \"meat\", \"fruit\"))\r\n\r\nconsole.log(\"sorted by types\\n\", sorted2)\r\n// [ { type: 'vegetable', name: 'spinach' }\r\n// , { type: 'vegetable', name: 'celery' }\r\n// , { type: 'meat', name: 'chicken' }\r\n// , { type: 'meat', name: 'pork' }\r\n// , { type: 'fruit', name: 'apple' }\r\n// , { type: 'fruit', name: 'raspberry' }\r\n// , { type: 'fruit', name: 'pear' }\r\n// , { type: 'dairy', name: 'milk' } \r\n// ]\r\n\r\n// ---------------------------------------------------\r\n// STEP 5\r\nconst mergeComparator = (c = ascending, ...more) =&gt;\r\n  more.reduce(mergeComparator1, c)\r\n\r\nconst mergeComparator1 = (c1, c2) =&gt;\r\n  (a, b) =&gt;\r\n    mergeComparator2(c1(a, b), c2(a, b))\r\n\r\nconst mergeComparator2 = (a, b) =&gt;\r\n  a === 0 ? b : a\r\n\r\nconst sorted3 =\r\n  unsorted.sort\r\n    ( mergeComparator\r\n        ( orderByTypes(\"meat\", \"fruit\", \"dairy\")\r\n        , orderByName\r\n        )\r\n    )\r\n\r\nconsole.log(\"sorted by types, then name\\n\", sorted3)\r\n// [ { type: 'meat', name: 'chicken' }\r\n// , { type: 'meat', name: 'pork' }\r\n// , { type: 'fruit', name: 'apple' }\r\n// , { type: 'fruit', name: 'pear' }\r\n// , { type: 'fruit', name: 'raspberry' }\r\n// , { type: 'dairy', name: 'milk' }\r\n// , { type: 'vegetable', name: 'celery' }\r\n// , { type: 'vegetable', name: 'spinach' }\r\n// ]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note, you will need to open your browser's developer console if you wish to view the Map contents</p>\n"}], "owner": {"reputation": 227, "user_id": 6317143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4b72b46efe93e379f065dea4b40ed479?s=128&d=identicon&r=PG&f=1", "display_name": "rDev", "link": "https://stackoverflow.com/users/6317143/rdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1557960255, "creation_date": 1557941339, "question_id": 56154748, "link": "https://stackoverflow.com/questions/56154748/how-to-insert-objects-in-array-next-to-objects-with-the-same-property-value", "title": "How to insert objects in array next to objects with the same property value", "body": "<p>I have an array of objects</p>\n\n<pre><code>const allRecords = [\n  {\n    type: 'fruit',\n    name: 'apple'\n  },\n  {\n    type: 'vegetable',\n    name: 'celery'\n  },\n  {\n    type: 'meat',\n    name: 'chicken'\n  }\n]\n</code></pre>\n\n<p>I want to insert objects from another array such that the elements are placed next to elements of the same type.</p>\n\n<pre><code>const  newRecords = [\n  {\n    type: 'fruit',\n    name: 'pear'\n  },\n  {\n    type: 'vegetable',\n    name: 'spinach'\n  },\n  {\n    type: 'meat',\n    name: 'pork'\n  }\n]\n</code></pre>\n\n<p>So that a call like this:</p>\n\n<pre><code>allRecords.sortAndInsert(newRecords)\n</code></pre>\n\n<p>returns something like this:</p>\n\n<pre><code>[\n  {\n    type: 'fruit',\n    name: 'apple'\n  },\n  {\n    type: 'fruit',\n    name: 'pear'\n  },\n  {\n    type: 'vegetable',\n    name: 'celery'\n  },\n  {\n    type: 'vegetable',\n    name: 'spinach'\n  },\n  {\n    type: 'meat',\n    name: 'chicken'\n  },\n  {\n    type: 'meat',\n    name: 'pork'\n  },\n</code></pre>\n\n<p>In my case, I can't compare \"types\" to determine where it should go in the array alphabetically or by length ((vegetables come before meat, but after fruit) . In addition, there's no ID attribute that could numerically position things. I just want to group things by the same type.</p>\n\n<p>I've found that I can insert into the correct index by getting the index using the length of the arrays:</p>\n\n<pre><code>// This gives the amount of records for each group. \n//In our example, this would be 2 for 'apple' and 'pear', etc\nconst multiplier = (allRecords.length + newRecords.length) / \n   (newRecords.length);\nfor (let i = 0; i &lt; newRecords.length; i++){\n    // Insert the record at 1 + i + multiplier. 'pear' will go to 1 + 0 * 2 = 1\n    allRecords.splice(1 + i * multiplier, 0, newRecords[i]);\n  }\nreturn allRecords;\n</code></pre>\n\n<p>However, it is not very readable or obvious what the function is doing. In addition, it assumes that the new records have one of each type.</p>\n\n<p>I would like a function that, instead, looks at the properties and groups them together. Ideally, it should also be able to sort the groups in some order (such as, specifying that the 'fruit' group goes first, the 'vegetable' group goes next, then the 'meat' group.</p>\n"}, {"tags": ["typescript", "d3.js"], "comments": [{"owner": {"reputation": 846, "user_id": 2042303, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/Tjn47.jpg?s=128&g=1", "display_name": "Dmitrii G.", "link": "https://stackoverflow.com/users/2042303/dmitrii-g"}, "edited": false, "score": 0, "creation_date": 1557998623, "post_id": 56154738, "comment_id": 98957292, "body": "Why are you trying to merge two libraries?"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 10683856, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/90afca9ef983f40da5aa3693090865d3?s=128&d=identicon&r=PG", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/10683856/rupesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1558067904, "creation_date": 1558067904, "answer_id": 56179694, "question_id": 56154738, "link": "https://stackoverflow.com/questions/56154738/cant-use-tip-on-d3-v5-on-typescript/56179694#56179694", "title": "can&#39;t use tip on d3 v5 on typescript?", "body": "<p>This should work.</p>\n\n<pre><code>import * as d3Tip from \"d3-tip\";\n\nvar tip = d3Tip.tip()\n      .attr('class', 'd3-tip')\n      .attr('id', 'tooltip')\n      .html(function(d) {\n        return d;\n      })\n      .direction('n')\n      .offset([-10, 0]);\n</code></pre>\n"}], "owner": {"reputation": 3549, "user_id": 5288560, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OJfXd.jpg?s=128&g=1", "display_name": "gpbaculio", "link": "https://stackoverflow.com/users/5288560/gpbaculio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558067904, "creation_date": 1557941300, "question_id": 56154738, "link": "https://stackoverflow.com/questions/56154738/cant-use-tip-on-d3-v5-on-typescript", "title": "can&#39;t use tip on d3 v5 on typescript?", "body": "<p>i have this code:</p>\n\n<pre><code> var tip = d3.tip()\n      .attr('class', 'd3-tip')\n      .attr('id', 'tooltip')\n      .html(function(d) {\n        return d;\n      })\n      .direction('n')\n      .offset([-10, 0]);\n</code></pre>\n\n<p>i am getting this error: </p>\n\n<blockquote>\n  <p>property tip does not exist on type @types/d3/index</p>\n</blockquote>\n\n<p>I tried this without success:</p>\n\n<pre><code>import * as d3 from 'd3';\nimport * as d3Tip from \"d3-tip\";\n(d3 as any).tip = d3Tip;\n</code></pre>\n\n<p>how do i make this work?</p>\n"}, {"tags": ["typescript", "dependencies", "lerna", "monorepo"], "comments": [{"owner": {"reputation": 3123, "user_id": 8910547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fEm51.png?s=128&g=1", "display_name": "Inigo", "link": "https://stackoverflow.com/users/8910547/inigo"}, "edited": false, "score": 0, "creation_date": 1588122902, "post_id": 56154701, "comment_id": 108777529, "body": "See the second half of <a href=\"https://stackoverflow.com/a/61467483/8910547\">this answer, under &quot;this is great for monorepos&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 7600742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47b08468dd6c5be1d044df114d4842e?s=128&d=identicon&r=PG", "display_name": "Zolt&#225;n Bedi", "link": "https://stackoverflow.com/users/7600742/zolt%c3%a1n-bedi"}, "is_accepted": false, "score": 0, "last_activity_date": 1559644815, "creation_date": 1559644815, "answer_id": 56442246, "question_id": 56154701, "link": "https://stackoverflow.com/questions/56154701/how-to-structure-monorepo-dependencies/56442246#56442246", "title": "How to structure monorepo dependencies?", "body": "<p>We went with a practice that if you can run it from package then it should be under the package.\nAn example: We do testing with jest and enzyme and have a specified config in the monorepo's root package.json. Because of this you can not run jest in the package itself. The same goes for typescript. We have a base tsconfig.json in the root. It wouldn't make sense to try to run tsc in an individual package without the monorepo structure. So we moved all those devDependecies to the root.</p>\n"}], "owner": {"reputation": 141, "user_id": 7600742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47b08468dd6c5be1d044df114d4842e?s=128&d=identicon&r=PG", "display_name": "Zolt&#225;n Bedi", "link": "https://stackoverflow.com/users/7600742/zolt%c3%a1n-bedi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559644815, "creation_date": 1557941124, "question_id": 56154701, "link": "https://stackoverflow.com/questions/56154701/how-to-structure-monorepo-dependencies", "title": "How to structure monorepo dependencies?", "body": "<p>We have migrated our packages to a monorepo. see <a href=\"https://github.com/SenseNet/sn-client\" rel=\"nofollow noreferrer\">sn-client</a></p>\n\n<p>What we are not sure is that where should we put our dev dependencies.\nI've seen in monorepos that they put the common dev deps to the root package.json.</p>\n\n<p>But if you put it there then why would you put in the packages package.json?</p>\n\n<p>My question is that what is the best practice for that?</p>\n"}, {"tags": ["typescript", "type-inference"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 10728469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7167d1e03e480bc72dfc805af0d8803a?s=128&d=identicon&r=PG&f=1", "display_name": "maxpower90", "link": "https://stackoverflow.com/users/10728469/maxpower90"}, "edited": false, "score": 0, "creation_date": 1557999743, "post_id": 56155526, "comment_id": 98958049, "body": "Great answer! That helped for sure."}, {"owner": {"reputation": 65, "user_id": 10728469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7167d1e03e480bc72dfc805af0d8803a?s=128&d=identicon&r=PG&f=1", "display_name": "maxpower90", "link": "https://stackoverflow.com/users/10728469/maxpower90"}, "edited": false, "score": 0, "creation_date": 1558000594, "post_id": 56155526, "comment_id": 98958565, "body": "I was wondering..what if I want to currify myValue so that I can call it like myValue(&#39;a&#39;)(test)?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 65, "user_id": 10728469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7167d1e03e480bc72dfc805af0d8803a?s=128&d=identicon&r=PG&f=1", "display_name": "maxpower90", "link": "https://stackoverflow.com/users/10728469/maxpower90"}, "edited": false, "score": 0, "creation_date": 1558011207, "post_id": 56155526, "comment_id": 98964595, "body": "This seems like a different question, but the short answer is <code>const myValue = &lt;K extends keyof any&gt;(prop: K) =&gt; &lt;T extends Record&lt;K, any&gt;&gt;(obj: T): T[K] =&gt; obj[prop];</code>"}, {"owner": {"reputation": 65, "user_id": 10728469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7167d1e03e480bc72dfc805af0d8803a?s=128&d=identicon&r=PG&f=1", "display_name": "maxpower90", "link": "https://stackoverflow.com/users/10728469/maxpower90"}, "edited": false, "score": 0, "creation_date": 1558015872, "post_id": 56155526, "comment_id": 98967635, "body": "Awesome thanks, I didn&#39;t expect this to rely on <code>any</code>. I guess I still have a lot to learn on typescript type inference."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 4, "last_activity_date": 1557944598, "creation_date": 1557944598, "answer_id": 56155526, "question_id": 56154686, "link": "https://stackoverflow.com/questions/56154686/how-to-infer-the-type-of-an-objects-property/56155526#56155526", "title": "How to infer the type of an object&#39;s property", "body": "<p>Type parameter inference works best when you have an actual value of the type you're trying to infer.  Having <code>T2</code> be the type of the return value of the function is likely to be a problem.  Unless you call <code>myValue()</code> in a context that <em>expects</em> the return value to be of type <code>C</code>, there is little hope that the compiler will infer <code>C</code> for it... inference of a type parameter from a return value is called <a href=\"https://www.typescriptlang.org/docs/handbook/type-inference.html#contextual-typing\" rel=\"nofollow noreferrer\">contextual typing</a>, and unfortunately in <code>const v = myValue(...)</code>, there is no contextual type for <code>v</code>.  It can be anything.  </p>\n\n<p>So what types do you actually have values of?  Since you call <code>myValue()</code> with <code>prop</code> and <code>obj</code> parameters, the first thing to try is to give <code>obj</code> a generic type like <code>T</code> and to give <code>prop</code> another generic type like <code>K</code>.... and infer <code>T</code> and <code>K</code> from <code>obj</code> and <code>prop</code> respectively. </p>\n\n<p>Note that you intend that <code>prop</code> should be one of the keys of <code>obj</code>, so you have a natural <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html#generic-constraints\" rel=\"nofollow noreferrer\">constraint</a> on the type of <code>K</code>, namely that it should extend <code>keyof T</code>.  </p>\n\n<p>Finally, the return type of your function can be derived from the other types.  It is meant to be the type of the property of <code>T</code> whose key is <code>K</code>.  That can be represented as <code>T[K]</code> (a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup type</a>).</p>\n\n<p>Here's the final version of the function:</p>\n\n<pre><code>const myValue = &lt;T, K extends keyof T&gt;(prop: K, obj: T): T[K] =&gt; {\n    return obj[prop];\n}\n</code></pre>\n\n<p>Note the similarity between that function and the <code>getProperty()</code> function mentioned in the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">documentation for <code>keyof</code> and lookup types</a>.  The only difference is the order of parameters (well, and the fact that the return type is inferred instead of annotated.... and the function name, I guess).</p>\n\n<p>When we use that defintion of <code>myValue()</code>, we get:</p>\n\n<pre><code>interface C {\n    readonly c: string\n}\n\ninterface TestInt {\n    readonly a: string\n    readonly b: number\n    readonly c: C\n}\n\nconst test: TestInt = {\n    a: 'a',\n    b: 1,\n    c: {\n        c: 'c',\n    },\n}\n\nconst v = myValue('c', test) // const v: C\n</code></pre>\n\n<p>as you wanted.</p>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 65, "user_id": 10728469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7167d1e03e480bc72dfc805af0d8803a?s=128&d=identicon&r=PG&f=1", "display_name": "maxpower90", "link": "https://stackoverflow.com/users/10728469/maxpower90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 56155526, "answer_count": 1, "score": 1, "last_activity_date": 1557944598, "creation_date": 1557941088, "question_id": 56154686, "link": "https://stackoverflow.com/questions/56154686/how-to-infer-the-type-of-an-objects-property", "title": "How to infer the type of an object&#39;s property", "body": "<p>I have the following piece of code and I'd like to infer the type of an object's property. As you can see, the inferred type of <code>v</code> in my example is <code>{}</code>. \nHow can I write <code>myValue</code> so that <code>C</code> is inferred at compile time by Typescript?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nconst myValue = &lt;T1, T2&gt;(prop: string, obj: T1): T2 =&gt; {\n  return obj[prop]\n}\n\ninterface C {\n  readonly c: string\n}\n\ninterface TestInt {\n  readonly a: string\n  readonly b: number\n  readonly c: C\n}\n\nconst test: TestInt = {\n  a: 'a',\n  b: 1,\n  c: {\n    c: 'c',\n  },\n}\n\nconst v = myValue('c', test) // const v: {}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1557940500, "post_id": 56154511, "comment_id": 98938373, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/684672/how-do-i-loop-through-or-enumerate-a-javascript-object\">How do I loop through or enumerate a JavaScript object?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 3, "last_activity_date": 1557941035, "last_edit_date": 1557941035, "creation_date": 1557940476, "answer_id": 56154538, "question_id": 56154511, "link": "https://stackoverflow.com/questions/56154511/get-keys-and-values-of-object/56154538#56154538", "title": "Get keys and values of object", "body": "<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries\" rel=\"nofollow noreferrer\"><code>Object.entries</code></a>, perhaps with a <code>for-of</code> loop and destructuring:</p>\n\n<pre><code>for (const [key, value] of Object.entries(parameters)) {\n    if (value !== undefined) {\n        // ...use `key` and `value` here\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 661, "user_id": 8896332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25a7cb454d24afa6b5cd0345a694ceaa?s=128&d=identicon&r=PG&f=1", "display_name": "Ashok", "link": "https://stackoverflow.com/users/8896332/ashok"}, "is_accepted": false, "score": 0, "last_activity_date": 1557940571, "creation_date": 1557940571, "answer_id": 56154566, "question_id": 56154511, "link": "https://stackoverflow.com/questions/56154511/get-keys-and-values-of-object/56154566#56154566", "title": "Get keys and values of object", "body": "<p>Use Object.keys</p>\n\n<pre><code> Object.keys(parameters).forEach(key =&gt; {\n\n    });\n</code></pre>\n"}], "owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 56154538, "answer_count": 2, "score": -2, "last_activity_date": 1557941035, "creation_date": 1557940394, "last_edit_date": 1557940489, "question_id": 56154511, "link": "https://stackoverflow.com/questions/56154511/get-keys-and-values-of-object", "title": "Get keys and values of object", "body": "<p>I have the following object in typescript:</p>\n\n<pre><code>let parameters = { include: 'tags', limit: 20, published: true };\n</code></pre>\n\n<p>How can I loop through each parameter and get its key and value?</p>\n\n<p>I need to do something with the key and value when value is not undefined.</p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1557940397, "post_id": 56154434, "comment_id": 98938322, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8224459/how-to-create-a-date-object-from-string-in-javascript\">How to create a date object from string in javascript</a>"}, {"owner": {"reputation": 141, "user_id": 11482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cttb7.png?s=128&g=1", "display_name": "TheScripterX", "link": "https://stackoverflow.com/users/11482517/thescripterx"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1557940815, "post_id": 56154434, "comment_id": 98938512, "body": "@Igor I tried, Not Working."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1557940957, "post_id": 56154434, "comment_id": 98938584, "body": "If you want more help you will have to include what you &quot;tried&quot;. <a href=\"https://stackoverflow.com/posts/56154434/edit\">edit</a> your question and add <b>exactly</b> what you tried and the result. &quot;tried&quot; and &quot;not working&quot; could both mean anything."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11338631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9E71U.jpg?s=128&g=1", "display_name": "mehran khan", "link": "https://stackoverflow.com/users/11338631/mehran-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1557941187, "creation_date": 1557941187, "answer_id": 56154716, "question_id": 56154434, "link": "https://stackoverflow.com/questions/56154434/angular-put-a-custom-date-in-an-array/56154716#56154716", "title": "Angular -- Put a custom Date in an Array", "body": "<p>You can do this by initialing your date by like \nnew Date('Year,Month,Day)\n<code>date = new Date('2019','05','19')</code>\nwill return Wed Jun 19 2019 00:00:00 GMT+0500</p>\n"}, {"comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1557941724, "post_id": 56154788, "comment_id": 98938897, "body": "If you want an actual date use: <code>dateCreation: new Date(2018,10,25)</code>. If you want to store/communicate a date as a string use ISO8601 notation so the value can&#39;t be misconstrued: <code>dateCreation: &quot;2018-10-25&quot;</code>"}], "tags": [], "owner": {"reputation": 141, "user_id": 11482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cttb7.png?s=128&g=1", "display_name": "TheScripterX", "link": "https://stackoverflow.com/users/11482517/thescripterx"}, "is_accepted": true, "score": 0, "last_activity_date": 1557941481, "creation_date": 1557941481, "answer_id": 56154788, "question_id": 56154434, "link": "https://stackoverflow.com/questions/56154434/angular-put-a-custom-date-in-an-array/56154788#56154788", "title": "Angular -- Put a custom Date in an Array", "body": "<p>It's Working now ! </p>\n\n<p>I just needed to change it in the array and remove \"Date ()\" and put the value I wanted instead and it's done with the Date type. </p>\n\n<p>Like this : </p>\n\n<pre><code>articles = [\n    {\n      titre: \"Mon premier Article\",\n      contenu:\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      **dateCreation: \"2018 / 10 / 25\"**\n</code></pre>\n\n<p><strong>Thank you all for your help !</strong></p>\n"}], "owner": {"reputation": 141, "user_id": 11482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cttb7.png?s=128&g=1", "display_name": "TheScripterX", "link": "https://stackoverflow.com/users/11482517/thescripterx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 56154788, "answer_count": 2, "score": 1, "last_activity_date": 1557941481, "creation_date": 1557940061, "question_id": 56154434, "link": "https://stackoverflow.com/questions/56154434/angular-put-a-custom-date-in-an-array", "title": "Angular -- Put a custom Date in an Array", "body": "<p>I did an array with some properties incl Date.\nBut the problem is that I have a \" Now \" Date, and I want to specify a date in Date() like : 20/10/2018 ... Not Today.</p>\n\n<p>Here's the code : </p>\n\n<pre><code>articles = [\n    {\n      titre: \"Mon premier Article\",\n      contenu:\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      dateCreation: Date()\n    },\n    {\n      titre: \"Mon second Article\",\n      contenu:\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      dateCreation: Date()\n    },\n    {\n      titre: \"Mon troisi\u00e8me Article\",\n      contenu:\n        \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\",\n      dateCreation: Date()\n    }\n  ]; \n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["node.js", "typescript", "express", "node-modules", "require"], "answers": [{"comments": [{"owner": {"reputation": 33439, "user_id": 3977061, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dcec319057f1824502fbf3ecece46e26?s=128&d=identicon&r=PG&f=1", "display_name": "BeetleJuice", "link": "https://stackoverflow.com/users/3977061/beetlejuice"}, "edited": false, "score": 0, "creation_date": 1557947496, "post_id": 56155558, "comment_id": 98941433, "body": "Thanks Peter!  your first excerpt doesn&#39;t work; <code>express.application()</code> is not the same function as <code>express()</code> in your 2nd excerpt because the first one fails with &quot;expected 2-3 arguments&quot;.  However you hit the nail on the head with the second excerpt: <code>import express from &#39;express&#39;</code> is exactly what I wanted.  Please fix or remove the error code so I can accept your answer!"}], "tags": [], "owner": {"reputation": 658, "user_id": 8498150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bd70e7837dc9147c50ddbfaa4e89810?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Cheng", "link": "https://stackoverflow.com/users/8498150/peter-cheng"}, "is_accepted": true, "score": 1, "last_activity_date": 1557948028, "last_edit_date": 1557948028, "creation_date": 1557944735, "answer_id": 56155558, "question_id": 56153780, "link": "https://stackoverflow.com/questions/56153780/why-do-these-2-nodejs-typescript-imports-give-different-results/56155558#56155558", "title": "Why do these 2 NodeJS / Typescript imports give different results?", "body": "<p>As of <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#support-for-import-d-from-cjs-from-commonjs-modules-with---esmoduleinterop\" rel=\"nofollow noreferrer\">TypeScript@2.7</a> the following syntax for importing default module is supported:</p>\n\n<pre><code>import b from \"bar\";\n</code></pre>\n\n<p>Your example with * will import all of a module's exports <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#Syntax\" rel=\"nofollow noreferrer\">as a module object</a> \nbut you probabaly want</p>\n\n<pre><code>import express from \"express\";\nconst app = express();\n</code></pre>\n"}], "owner": {"reputation": 33439, "user_id": 3977061, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dcec319057f1824502fbf3ecece46e26?s=128&d=identicon&r=PG&f=1", "display_name": "BeetleJuice", "link": "https://stackoverflow.com/users/3977061/beetlejuice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 56155558, "answer_count": 1, "score": 0, "last_activity_date": 1557968795, "creation_date": 1557937386, "last_edit_date": 1557968795, "question_id": 56153780, "link": "https://stackoverflow.com/questions/56153780/why-do-these-2-nodejs-typescript-imports-give-different-results", "title": "Why do these 2 NodeJS / Typescript imports give different results?", "body": "<p>In a NodeJS project, I have installed <code>typescript</code> 3.2, <code>express</code> 4.16 and <code>@types/express</code> 4.16</p>\n\n<p>I am writing my application in Typescript to be later transpiled. The documentation for <code>@types/express</code> say to import and use this way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as express from \"express\";\nconst app = express();\n</code></pre>\n\n<p>However when I do this, the 2nd line throws an error because <code>express</code> is not a function (does not have a call signature).  When I console log <code>express</code> I get an object with an <code>application</code> property</p>\n\n<p>On the other hand, if I import and use this way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import express = require('express');\nconst app = express();\n</code></pre>\n\n<p>Then everything works and console-logging <code>express</code> shows a function called <code>createApplication</code> or something similar.  The function itself seems to have the same <code>application</code> property from the 1st method.</p>\n\n<p>What is the difference?</p>\n"}, {"tags": ["javascript", "typescript", "twitter-bootstrap-3"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1557937159, "post_id": 56153677, "comment_id": 98936830, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14608681/can-i-use-twitter-bootstrap-without-jquery\">Can I use twitter bootstrap without jquery?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 2, "creation_date": 1557948654, "post_id": 56154685, "comment_id": 98941943, "body": "I thought the requirement of the OP was to not use any jQuery whatsoever."}, {"owner": {"reputation": 3477, "user_id": 7232, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d22d8454d54ce0e8e04840b6eeb1b79f?s=128&d=identicon&r=PG", "display_name": "camainc", "link": "https://stackoverflow.com/users/7232/camainc"}, "reply_to_user": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 0, "creation_date": 1562086653, "post_id": 56154685, "comment_id": 100264256, "body": "Good point, @grooveplex, but since using Bootstrap interactions requires the use of jQuery, my answer shows how to do what he wants using only data attributes.  If Zoop wants to avoid jQuery altogether he/she will have to use some other CSS framework than Bootstrap."}], "tags": [], "owner": {"reputation": 3477, "user_id": 7232, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d22d8454d54ce0e8e04840b6eeb1b79f?s=128&d=identicon&r=PG", "display_name": "camainc", "link": "https://stackoverflow.com/users/7232/camainc"}, "is_accepted": false, "score": -2, "last_activity_date": 1574106586, "last_edit_date": 1574106586, "creation_date": 1557941085, "answer_id": 56154685, "question_id": 56153677, "link": "https://stackoverflow.com/questions/56153677/how-to-call-bootstraps-collapse-method-without-jquery/56154685#56154685", "title": "How to call Bootstrap&#39;s collapse method without JQuery", "body": "<p>Short answer: you cannot. Bootstrap relies on jQuery (at least as of v.4) for the various interactions. </p>\n\n<blockquote>\n  <p>Many of our components require the use of JavaScript to function. Specifically, they require jQuery, Popper.js, and our own JavaScript plugins.</p>\n</blockquote>\n\n<p><a href=\"https://getbootstrap.com/docs/4.0/getting-started/introduction/#js\" rel=\"nofollow noreferrer\">https://getbootstrap.com/docs/4.0/getting-started/introduction/#js</a></p>\n\n<p>If you don't want jQuery included in your project, you'll need to use a different framework.</p>\n\n<p>With all that said, you can use the collapse interaction without calling jQuery directly by using data attributes.</p>\n\n<p>You can use the data attributes, as shown in the Bootstrap documentation. </p>\n\n<p><a href=\"https://getbootstrap.com/docs/4.0/components/collapse/#via-data-attributes\" rel=\"nofollow noreferrer\">https://getbootstrap.com/docs/4.0/components/collapse/#via-data-attributes</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\"&gt;\r\n&lt;script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\" integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;p&gt;\r\n  &lt;a class=\"btn btn-primary\" data-toggle=\"collapse\" href=\"#collapseExample\" role=\"button\" aria-expanded=\"false\" aria-controls=\"collapseExample\"&gt;\r\n    Link with href\r\n  &lt;/a&gt;\r\n  &lt;button class=\"btn btn-primary\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseExample\" aria-expanded=\"false\" aria-controls=\"collapseExample\"&gt;\r\n    Button with data-target\r\n  &lt;/button&gt;\r\n&lt;/p&gt;\r\n&lt;div class=\"collapse\" id=\"collapseExample\"&gt;\r\n  &lt;div class=\"card card-body\"&gt;\r\n    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 646, "user_id": 2589506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f6f834af2ea3662a1a3277d33c98843?s=128&d=identicon&r=PG", "display_name": "Zoop", "link": "https://stackoverflow.com/users/2589506/zoop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2080, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1574106586, "creation_date": 1557937029, "last_edit_date": 1557938211, "question_id": 56153677, "link": "https://stackoverflow.com/questions/56153677/how-to-call-bootstraps-collapse-method-without-jquery", "title": "How to call Bootstrap&#39;s collapse method without JQuery", "body": "<p>We have a few TypeScript files, but no way to access jQuery from them. We want to call Bootstrap's collapse method...</p>\n\n<pre><code>$(object).collapse(method)\n</code></pre>\n\n<p>without using jQuery.</p>\n\n<p><strong>Desired Result</strong></p>\n\n<pre><code>//Mimics the functionality of Bootstrap's jQuery collapse.\nfunction Collapse(object, method)\n{\n    /* Magic jQuery avoidance here */.collapse(method);\n}\n</code></pre>\n\n<p>However, with Googling and some skim reading of Bootstrap's code, I don't see anything obvious and straightforward to try. How can I call Bootstrap's collapse method without jQuery?</p>\n"}, {"tags": ["angular", "typescript", "angular-directive"], "comments": [{"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1557937119, "post_id": 56153652, "comment_id": 98936811, "body": "maybe <a href=\"https://github.com/angular/angular/issues/8277#issuecomment-418478132\" rel=\"nofollow noreferrer\">this</a> ?"}, {"owner": {"reputation": 1617, "user_id": 303257, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dced19547fe267d72f3b56bac0848bd2?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/303257/martin"}, "reply_to_user": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1557938887, "post_id": 56153652, "comment_id": 98937646, "body": "That doesn&#39;t work for structural directives. In this case <code>this.vcRef[&#39;_view&#39;].component</code> contains parent component, not host"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11500583, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dGki1-E4Z-0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rduv385VKKTPkId0Zp-FHF8t3Qv0A/mo/photo.jpg?sz=128", "display_name": "Chris Burd", "link": "https://stackoverflow.com/users/11500583/chris-burd"}, "is_accepted": false, "score": 0, "last_activity_date": 1557939293, "last_edit_date": 1557939293, "creation_date": 1557938405, "answer_id": 56154038, "question_id": 56153652, "link": "https://stackoverflow.com/questions/56153652/access-component-instance-in-structural-directive/56154038#56154038", "title": "Access component instance in structural directive", "body": "<p>You cannot add a component to another like that - however you can call them dynamically. </p>\n\n<p>Attached is an actual example of building a dynamic component via directive.   Which is ultimately what I think you want.  However you cannot cascade components - that doesn't work.  I made some comments so you know what is going on, the other thing is when you go this route you will have to go to your local module and add a line for entry components.  </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { footerComponent } from './../../uicomponents/footer/footer.component';\nimport { headerComponent } from './../../uicomponents/header/header.component';\nimport { cssloaderComponent } from './../../uicomponents/cssloader/cssloader.component';\n\n// tslint:disable-next-line:max-line-length\nimport { Directive, Input, OnInit, ViewContainerRef, AfterViewInit, OnDestroy, ComponentFactoryResolver, OnChanges } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Subject, Observable, from } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { viewsdataservice } from 'src/app/services/viewsdata.service';\nimport { contentoutletComponent } from 'src/app/uicomponents/contentoutlet/contentoutlet.component';\n\n@Directive({\n  selector: '[pagebuilderdirective]'\n})\nexport class pagebuilderDirective implements OnInit, OnDestroy, AfterViewInit, OnChanges {\n  @Input() pagebuilderdirective: Observable&lt;any&gt;;\n  private onDestroy$ = new Subject&lt;boolean&gt;();\n  components;\n  route0$;\n\n  private elRef: any;\n\n  readonly templateMapper = {\n    css: cssloaderComponent,\n    contentoutlet: contentoutletComponent,\n    header: headerComponent,\n    footer: footerComponent\n  };\n\n  constructor(\n    public viewContainerRef: ViewContainerRef,\n    private factory: ComponentFactoryResolver,\n    private router: Router,\n    private vds: viewsdataservice\n*********we created a view data service to connect to google firebase/firestore to get our particular data - we subscribe to the data and use it. ********\n  ) {\n    this.elRef = viewContainerRef;\n    router.events.subscribe((event) =&gt; {\n      if (event instanceof NavigationEnd) {\n        this.pagebuilderdirective.subscribe(data =&gt; {\n          if (data) {\n            this.loadComponent(data);\n          }\n        });\n      }\n    });\n  }\n\n  ngOnInit(): void {\n\n\n  }\n\n  ngOnChanges() {\n  }\n\n  ngOnDestroy() {\n    this.elRef.clear();\n  }\n\n  ngAfterViewInit() {\n\n    this.pagebuilderdirective.subscribe(data =&gt; {\n      if (data) {\n        this.loadComponent(data)\n      }\n    });\n  }\n\n  checker() {\n    return this.pagebuilderdirective;\n  }\n\n  loadComponent(data: any) {\n    this.elRef.clear();\n\n    const route0 = this.vds.route_arr;\n    const components: Array&lt;any&gt; = data[0].components;\n\n    const componentmanifest=this.vds.flatten(data[0].componentsmanifest);\n     ***** we found that it was easier to write a service that flattens our array, you probably won't need this. *******\n    const orgdata = data[0];\n    if (components) {\n      const filtered = from(components).pipe(\n        filter(component =&gt; {\n          if (\n            component.published === true &amp;&amp; componentmanifest.pagespublished === route0 || component.da === \"pb\") {\n              return component;\n*****we set a boolean on our components and create a manifest (array of actual components and where they go to, the final indicator was if it was a parent component or child, we did this speficially so we could segment components down to page and subcomponent(child components) and assign that data to them. If you don't do this, any components listed (assuming one has multiple directives, will generate or kick an error)******\n          } \n        })\n      );\n\n      filtered.subscribe(\n        (component) =&gt; {\n        const componentFactory = \n******component factory is your friend here, we call the components via name to match the entry components ********\nthis.factory.resolveComponentFactory(this.getComponentByAlias(component.name));\n        // this.elRef.clear();\n        const componentRef = this.elRef.createComponent(componentFactory);\n        (&lt;any&gt;componentRef.instance).data = orgdata;\n      });\n    }\n    // this.elRef.clear();\n  }\n\n  private getComponentByAlias(alias: string) {\n    return this.templateMapper[alias];\n  }\n</code></pre>\n"}], "owner": {"reputation": 1617, "user_id": 303257, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dced19547fe267d72f3b56bac0848bd2?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/303257/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557939293, "creation_date": 1557936893, "question_id": 56153652, "link": "https://stackoverflow.com/questions/56153652/access-component-instance-in-structural-directive", "title": "Access component instance in structural directive", "body": "<p>I have a structural directive and I need to access instance of a component to which it has been applied to.</p>\n\n<p>There is an open issue with few options / hacks that work for plain directives, but not structural.</p>\n\n<p><a href=\"https://github.com/angular/angular/issues/8277\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/8277</a></p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 2177, "user_id": 8562140, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsWbLV_Gz8E/AAAAAAAAAAI/AAAAAAAACME/jXIvOjjbmM0/photo.jpg?sz=128", "display_name": "Shridhar Sharma", "link": "https://stackoverflow.com/users/8562140/shridhar-sharma"}, "edited": false, "score": 0, "creation_date": 1557935675, "post_id": 56153196, "comment_id": 98936069, "body": "What error you&#39;re getting in compilation?"}, {"owner": {"reputation": 406, "user_id": 2825210, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nZk9C.jpg?s=128&g=1", "display_name": "Fernando Salas", "link": "https://stackoverflow.com/users/2825210/fernando-salas"}, "edited": false, "score": 0, "creation_date": 1557938291, "post_id": 56153196, "comment_id": 98937351, "body": "Are you returning an array of ReactNodes maybe? I&#39;d need to look at the ts error"}, {"owner": {"reputation": 2845, "user_id": 5411503, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207929833312847/picture?type=large", "display_name": "mxmtsk", "link": "https://stackoverflow.com/users/5411503/mxmtsk"}, "reply_to_user": {"reputation": 2177, "user_id": 8562140, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsWbLV_Gz8E/AAAAAAAAAAI/AAAAAAAACME/jXIvOjjbmM0/photo.jpg?sz=128", "display_name": "Shridhar Sharma", "link": "https://stackoverflow.com/users/8562140/shridhar-sharma"}, "edited": false, "score": 0, "creation_date": 1558019013, "post_id": 56153196, "comment_id": 98969636, "body": "@ShridharSharma I&#39;ve edited my post - sorry"}, {"owner": {"reputation": 2845, "user_id": 5411503, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207929833312847/picture?type=large", "display_name": "mxmtsk", "link": "https://stackoverflow.com/users/5411503/mxmtsk"}, "reply_to_user": {"reputation": 406, "user_id": 2825210, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nZk9C.jpg?s=128&g=1", "display_name": "Fernando Salas", "link": "https://stackoverflow.com/users/2825210/fernando-salas"}, "edited": false, "score": 0, "creation_date": 1558019027, "post_id": 56153196, "comment_id": 98969644, "body": "@FerSalas  I&#39;ve edited my post - sorry"}, {"owner": {"reputation": 2177, "user_id": 8562140, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xsWbLV_Gz8E/AAAAAAAAAAI/AAAAAAAACME/jXIvOjjbmM0/photo.jpg?sz=128", "display_name": "Shridhar Sharma", "link": "https://stackoverflow.com/users/8562140/shridhar-sharma"}, "edited": false, "score": 0, "creation_date": 1558086965, "post_id": 56153196, "comment_id": 98993334, "body": "try to change <code>React.PureComponent</code> to <code>React.Component</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1824, "user_id": 258651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4c3d04944ef9e409e1cecd9019251a5a?s=128&d=identicon&r=PG", "display_name": "jaws", "link": "https://stackoverflow.com/users/258651/jaws"}, "is_accepted": false, "score": 0, "last_activity_date": 1558290253, "creation_date": 1558290253, "answer_id": 56210772, "question_id": 56153196, "link": "https://stackoverflow.com/questions/56153196/react-children-is-a-function-how-to-define-typescript-type-correctly/56210772#56210772", "title": "React children is a function: How to define TypeScript type correctly?", "body": "<p>You need to define the type of <code>setElementRef</code> in the de-structured object parameter of the <code>children</code> prop:</p>\n\n<pre><code>type Props = {\n children(options: { setElementRef(el: HTMLElement): any } ): React.ReactNode;\n};\n</code></pre>\n\n<p>Remember that when de-structuring an object, the <code>:</code> symbol performs its JavaScript duties and reassigns a property name, whereas in this example you're expecting it to designate a type.</p>\n"}], "owner": {"reputation": 2845, "user_id": 5411503, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207929833312847/picture?type=large", "display_name": "mxmtsk", "link": "https://stackoverflow.com/users/5411503/mxmtsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558290253, "creation_date": 1557935085, "last_edit_date": 1558018981, "question_id": 56153196, "link": "https://stackoverflow.com/questions/56153196/react-children-is-a-function-how-to-define-typescript-type-correctly", "title": "React children is a function: How to define TypeScript type correctly?", "body": "<p>I have a small React Component where the child is a function. I can't seem to figure out how to define the <code>children</code> prop in TypeScript.</p>\n\n<pre><code>class ClickOutside extends React.PureComponent&lt;Props, {}&gt; {\n  render() {\n    const { children } = this.props;\n\n    return children({ setElementRef: this.setElementRef });\n  }\n}\n</code></pre>\n\n<p>I'm calling it this way:</p>\n\n<pre><code>&lt;ClickOutside onOutsideClick={() =&gt; this.setState({ isOpen: false })}&gt;\n  {({ setElementRef }) =&gt; (\n    &lt;div ref={setElementRef}&gt;\n      {trigger}\n      {children}\n    &lt;/div&gt;\n  )}\n&lt;/ClickOutside&gt;\n</code></pre>\n\n<p>And this is what I tried to define the prop but it does not work at all. I have tried several other things but failed and I'm kinda lost here.</p>\n\n<pre><code>type Props = {\n  children: ({ setElementRef: (el: HTMLElement) =&gt; any }) =&gt; React.ReactNode,\n  onOutsideClick: Function,\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>This produces <code>';' expected.</code> on <code>=&gt;</code></p>\n\n<p>When I change the type definition this way:</p>\n\n<pre><code>type Props = {\n  children: ({ setElementRef: (el: HTMLElement) =&gt; any }),\n  onOutsideClick: Function,\n}\n</code></pre>\n\n<p>It produces this error:</p>\n\n<blockquote>\n  <p>Cannot invoke an expression whose type lacks a call signature. Type '{ setElementRef: (el: HTMLElement) => any; } | ({ setElementRef: (el: HTMLElement) => any; } &amp; string) | ({ setElementRef: (el: HTMLElement) => any; } &amp; number) | ({ setElementRef: (el: HTMLElement) => any; } &amp; false) | ({ ...; } &amp; true) | ({ ...; } &amp; ReactElement&lt;...>) | ({ ...; } &amp; ReactNodeArray) | ({ ...; } &amp; Re...' has no compatible call signatures.</p>\n</blockquote>\n"}, {"tags": ["python", "typescript", "hmac"], "answers": [{"tags": [], "owner": {"reputation": 1608, "user_id": 4186830, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XzkSz.png?s=128&g=1", "display_name": "CSharper", "link": "https://stackoverflow.com/users/4186830/csharper"}, "is_accepted": false, "score": 1, "last_activity_date": 1557936174, "creation_date": 1557936174, "answer_id": 56153493, "question_id": 56153113, "link": "https://stackoverflow.com/questions/56153113/sha256-hash-the-body-and-base64-encode-in-python-vs-typescript/56153493#56153493", "title": "SHA256 hash the body and base64 encode in Python Vs TypeScript", "body": "<p>I can achieve this using <code>createHash</code>.</p>\n\n<p><strong>TypeScript Code:</strong> </p>\n\n<pre><code>var crypto = require('crypto');\n\nvar body = \"johnDoe\";\n\nvar hash = crypto.createHash(\"sha256\");\nvar hash_result = hash.update(body, 'utf8').digest('base64');\nconsole.log(hash_result);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>RnuqbBqTNwQ7v3g3tKsVAi+NUALBCUeoRBEq6Yil6RA=\n</code></pre>\n\n<p>This can be verified <a href=\"https://repl.it/repls/ImpartialNeglectedClasslibrary\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1608, "user_id": 4186830, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XzkSz.png?s=128&g=1", "display_name": "CSharper", "link": "https://stackoverflow.com/users/4186830/csharper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3172, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1557936246, "creation_date": 1557934781, "last_edit_date": 1557936246, "question_id": 56153113, "link": "https://stackoverflow.com/questions/56153113/sha256-hash-the-body-and-base64-encode-in-python-vs-typescript", "title": "SHA256 hash the body and base64 encode in Python Vs TypeScript", "body": "<p>My goal is to hash the body in <code>SHA256</code> and then encode it with <code>base64</code>. I am converting <code>python</code> code to <code>TypeScript</code>. </p>\n\n<p>Based on google search, what I understood that, <code>crypto</code> can be used against <code>hashlib</code> and <code>base64</code>. Here challenge is, when I use <code>.createHmac</code> then it requires the <code>secret</code> when in python I can directly work with body. Is it another way to achieve <code>python</code> result in <code>typeScript</code>?</p>\n\n<p>NOTE: This is the first time I am seeing python code so please correct me if I am missing something here.</p>\n\n<p><strong>Python Code:</strong></p>\n\n<pre><code>import hashlib\nimport base64\n\nbody = \"johnDoe\"\nabc =  base64.b64encode(hashlib.sha256(body.encode('utf-8')).digest())\nprint(abc)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>b'RnuqbBqTNwQ7v3g3tKsVAi+NUALBCUeoRBEq6Yil6RA='\n</code></pre>\n\n<p>This can be verified <a href=\"https://repl.it/repls/FrigidPlumObjects\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><strong>TypeScript Code:</strong> Using <code>createHmac</code></p>\n\n<pre><code>var crypto = require('crypto');\n\nvar secret = \"PYPd1Hv4J6\";\nvar body = \"johnDoe\";\n\nvar hmac = crypto.createHmac(\"sha256\",secret);\nvar hmac_result = hmac.update(body).digest('base64');\nconsole.log(hmac_result);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>DLZdA1/ULIIECiJ4t+HYDLE+FRPIfcFQNo7Uw/csopU=\n</code></pre>\n\n<p>This can be verified <a href=\"https://repl.it/repls/SpiffyQueasyGlitch\" rel=\"nofollow noreferrer\">here</a>. </p>\n"}, {"tags": ["angular", "typescript", "interpolation"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1557933557, "post_id": 56152626, "comment_id": 98934843, "body": "Try <code>fileReader.onload = this.onFileLoad.bind(this);</code> or define the callback as an arrow function: <code>onFileLoad = (fileLoadedEvent) =&gt; { ... }</code>."}, {"owner": {"reputation": 1, "user_id": 9801661, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Evan Starr", "link": "https://stackoverflow.com/users/9801661/evan-starr"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1558033544, "post_id": 56152626, "comment_id": 98976785, "body": "The first suggestion worked. Thank you!"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1558033595, "post_id": 56152626, "comment_id": 98976808, "body": "You are welcome. :-)"}], "owner": {"reputation": 1, "user_id": 9801661, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Evan Starr", "link": "https://stackoverflow.com/users/9801661/evan-starr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1557933548, "answer_count": 0, "score": 0, "last_activity_date": 1557933201, "creation_date": 1557933201, "question_id": 56152626, "link": "https://stackoverflow.com/questions/56152626/angular-interpolation-not-updating-after-pulling-data-from-file-upload", "closed_reason": "Duplicate", "title": "Angular interpolation not updating after pulling data from file upload", "body": "<p>I am trying convert a CSV file into something that I can display on a page. Printing the content to the console.log works, as does displaying it in an alert box. But using Angular's interpolation in the HTML DOM, nothing is displayed.</p>\n\n<p>I've found that by using declaring the inner HTML of the element to be equal to the content variable to work (line 26 in this <a href=\"https://stackblitz.com/edit/angular-vreeba\" rel=\"nofollow noreferrer\">StackBlitz</a>). But I would like to be able to use *ngFor and other Angular features by working with the variable natively.</p>\n"}, {"tags": ["typescript", "asynchronous"], "answers": [{"comments": [{"owner": {"reputation": 1032, "user_id": 3236180, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/100000189749511/picture?type=large", "display_name": "farahm", "link": "https://stackoverflow.com/users/3236180/farahm"}, "edited": false, "score": 0, "creation_date": 1557933850, "post_id": 56152705, "comment_id": 98935028, "body": "what if the above function is on a page component and the below one is in a service?"}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "reply_to_user": {"reputation": 1032, "user_id": 3236180, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/100000189749511/picture?type=large", "display_name": "farahm", "link": "https://stackoverflow.com/users/3236180/farahm"}, "edited": false, "score": 0, "creation_date": 1557934000, "post_id": 56152705, "comment_id": 98935115, "body": "Simple call the Service method then. Doesn\u2019t really matter where it is as long as it\u2019s accessible"}, {"owner": {"reputation": 1032, "user_id": 3236180, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/100000189749511/picture?type=large", "display_name": "farahm", "link": "https://stackoverflow.com/users/3236180/farahm"}, "edited": false, "score": 0, "creation_date": 1557934189, "post_id": 56152705, "comment_id": 98935233, "body": "Yes, but <code>.pipe(map(myfunc))</code> requires me to import the page-module into the service, which is not a good programming style. See on my <code>profile.page.ts</code> (angular) I have <code>this.firebaseServie.loadUserData().then(() =&gt; { &#47;&#47; here html field values are set</code> and then I have my <code>firebase.service.ts</code>: <code>async loadUserData() { .... this.x = this.userDoc.valueChanges().pipe().subscribe(((item: User) =&gt; { &#47;&#47; here I load the data from firebase</code> so only once the firebase data is loaded, the values of the html fields should be set. thats what i want"}, {"owner": {"reputation": 1032, "user_id": 3236180, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/100000189749511/picture?type=large", "display_name": "farahm", "link": "https://stackoverflow.com/users/3236180/farahm"}, "edited": false, "score": 0, "creation_date": 1557934500, "post_id": 56152705, "comment_id": 98935410, "body": "i have edited my question for a better understanding"}], "tags": [], "owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "is_accepted": false, "score": 1, "last_activity_date": 1557933420, "creation_date": 1557933420, "answer_id": 56152705, "question_id": 56152623, "link": "https://stackoverflow.com/questions/56152623/typescript-nested-asynchron-functions/56152705#56152705", "title": "TypeScript nested asynchron functions", "body": "<p>Since subscribe indicates you're dealing with an observable, better don't start mixing with a promise, but simply use the observable and <code>pipe</code></p>\n\n<pre><code>otherfunc()\n    .pipe(map(myfunc))\n    .subscribe((item:User) =&gt; {\n\n});\n</code></pre>\n\n<p>If you really want the promise, you can convert the observable to a promise. </p>\n\n<pre><code>otherfunc().toPromise().then(myfunc).then(e =&gt; {\n    // runs after\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 585, "user_id": 9801558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hoL84.png?s=128&g=1", "display_name": "nullchimp", "link": "https://stackoverflow.com/users/9801558/nullchimp"}, "is_accepted": true, "score": 1, "last_activity_date": 1557935962, "creation_date": 1557935962, "answer_id": 56153433, "question_id": 56152623, "link": "https://stackoverflow.com/questions/56152623/typescript-nested-asynchron-functions/56153433#56153433", "title": "TypeScript nested asynchron functions", "body": "<p>You could simply return a new Promise in your <code>firebase.service.ts</code>:</p>\n\n<pre><code>loadUserData() {\n    return new Promise((resolve, reject) =&gt; {\n        ...\n        this.x = this.userDoc.valueChanges().subscribe(((item: User) =&gt; {\n            ...\n            resolve(); // If everything worked!\n        }));\n        ...\n    });\n}\n</code></pre>\n\n<p>I hope that helps!</p>\n"}], "owner": {"reputation": 1032, "user_id": 3236180, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/100000189749511/picture?type=large", "display_name": "farahm", "link": "https://stackoverflow.com/users/3236180/farahm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 56153433, "answer_count": 2, "score": 2, "last_activity_date": 1557935962, "creation_date": 1557933167, "last_edit_date": 1557934489, "question_id": 56152623, "link": "https://stackoverflow.com/questions/56152623/typescript-nested-asynchron-functions", "title": "TypeScript nested asynchron functions", "body": "<p><code>profile.page.ts:</code></p>\n\n<pre><code>  username: string;\n  totalScore: number;\n  ...\n\n\n  loadUserData() {\n    this.spinnerDialog.show();\n    this.firebaseServie.loadUserData().then(() =&gt; {\n      this.username = this.sessionData.getUser().getUsername();\n      this.totalScore = this.sessionData.getUser().getTotalScore();\n       ....\n    });\n</code></pre>\n\n<p><code>firebase.service.ts</code>:</p>\n\n<pre><code>async loadUserData() {\n    console.log(this.sessionData.getUser().getEmail());\n    this.userCollection = this.afs.collection('users', ref =&gt; ref.where('email', '==', this.sessionData.getUser().getEmail().toLowerCase()));\n\n    this.userDoc = this.afs.collection(\"users\").doc(this.sessionData.getUser().getEmail().toLowerCase());\n\n    this.x = this.userDoc.valueChanges().subscribe(((item: User) =&gt; {\n      this.userLoadedUser = item;\n      console.log(\"Found user by email id \" + this.sessionData.getUser().getEmail() + \":\" + this.userLoadedUser.username);\n      this.sessionData.getUser().setUsername(this.userLoadedUser.username);\n      this.sessionData.getUser().setTotalScore(this.userLoadedUser.totalScore);\n      ....\n\n    }));\n  }\n</code></pre>\n\n<p>So how can I be sure that the part in the <code>then()</code> clause is only executed after we have the data from firebase?</p>\n\n<p>I have edited my question for a better understanding.</p>\n"}, {"tags": ["typescript", "typescript-typings", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 1157, "user_id": 9497508, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Istvan Orban", "link": "https://stackoverflow.com/users/9497508/istvan-orban"}, "edited": false, "score": 1, "creation_date": 1557934035, "post_id": 56152762, "comment_id": 98935139, "body": "Cool stuff, thanks! At first I received ok with the value: T[U], but after put the declaring U at the right side the compiler thrown an error!"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 1157, "user_id": 9497508, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Istvan Orban", "link": "https://stackoverflow.com/users/9497508/istvan-orban"}, "edited": false, "score": 0, "creation_date": 1557934379, "post_id": 56152762, "comment_id": 98935339, "body": "Are you saying you still have an error?  Or is everything okay?"}, {"owner": {"reputation": 1157, "user_id": 9497508, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Istvan Orban", "link": "https://stackoverflow.com/users/9497508/istvan-orban"}, "edited": false, "score": 0, "creation_date": 1557934430, "post_id": 56152762, "comment_id": 98935378, "body": "I mean, its a good thing I have an error with the wrong type :D. So your solution solved my problem. :)"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1557934391, "last_edit_date": 1557934391, "creation_date": 1557933573, "answer_id": 56152762, "question_id": 56152609, "link": "https://stackoverflow.com/questions/56152609/how-could-i-have-the-right-type/56152762#56152762", "title": "How could I have the right type?", "body": "<p>Turn on <code>--strict</code> compiler mode so that <code>value</code> gives you an \"implicit <code>any</code>\" warning.  The type of <code>value</code> should be <code>T[U]</code>, a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup type</a>.  </p>\n\n<p>Note that if you want a curried generic function to work properly, you need to put your type parameters in the right place:</p>\n\n<pre><code>const setItem = &lt;T&gt;(obj: T) =&gt; &lt;U extends keyof T&gt;(key: U, value: T[U]): void =&gt; {\n    obj[key] = value;\n}\n</code></pre>\n\n<p>You want <code>setItem(obj)</code> to return a generic function that can accept any <code>U extends keyof T</code> for <code>key</code>, so the <code>U</code> parameter should be on that returned function.  If you put <code>&lt;T, U&gt;</code> on the first function, then the compiler will try to infer <code>U</code> from the values passed to <code>setIem()</code>, and it won't be able to.  It will end up widening <code>U</code> all the way to <code>keyof T</code>, and that will fail to prevent errors.</p>\n\n<p>Let's make sure the version here works:</p>\n\n<pre><code>const person = {\n    name: 'James',\n    age: 13,\n}\nconst setPerson = setItem(person)\nsetPerson('name', 10); // error\nsetPerson('name', 'Jill'); // okay\nsetPerson('age', 10); // okay\nsetPerson('age', 'Jill'); // error\n</code></pre>\n\n<p><a href=\"https://typescript-play.js.org/#code/MYewdgzgLgBBCmUCSV4FsYF4YB4AqAfABQgBGAVgFwx4CUWBuAqjPAB6pgAmEMA1vACeIAGY1iAKBj8h1JgBopMAG4BDADYBXeNTwBtJgF0JtaspABLLgxgBvJWXJ6Bgw1hUbtAbgkBfHxKgkLAADvAAThDg7vbSYKpoOjAARABSCfAQyYrSqgDmSQCMAMx+PkHQcIgAChFRYO4IyKhoRGGR4LQ+TbUdYETJ8YnZMIUADF0wAPRTrOHhIOESPXXgA0PwI2kW6urJkzMwIHyqgss1q-3J+ZvyoxNe07PHp+dQvfUDN1upO3sHswiCyWQA\" rel=\"nofollow noreferrer\">Playground link to code</a></p>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 1157, "user_id": 9497508, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Istvan Orban", "link": "https://stackoverflow.com/users/9497508/istvan-orban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 1, "accepted_answer_id": 56152762, "answer_count": 1, "score": 1, "last_activity_date": 1557934391, "creation_date": 1557933136, "last_edit_date": 1557933461, "question_id": 56152609, "link": "https://stackoverflow.com/questions/56152609/how-could-i-have-the-right-type", "title": "How could I have the right type?", "body": "<p>Sorry for the Title, really don't know what name would suite this question.</p>\n\n<p>I want to create a setItem function what gonna set a key in an object to a value:</p>\n\n<pre><code>const setItem = &lt;T, U extends keyof T&gt;(obj: T) =&gt; (key: U, value): void =&gt; {\n    obj[key] = value\n}\n\nconst person = {\n    name: 'James',\n    age: 13,\n}\n\nconst setPerson = setItem(person)\nsetPerson('name', 125)\n</code></pre>\n\n<p>No compile time errors even thought we set the name property to a number. (because the value right now is typeof any).</p>\n\n<p>So how could I say to TS to have obj[key] as the typeof value?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "node-modules"], "comments": [{"owner": {"reputation": 1141, "user_id": 2023218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09f8323c3df64e6649c9ba9c98287dd?s=128&d=identicon&r=PG", "display_name": "idream1nC0de", "link": "https://stackoverflow.com/users/2023218/idream1nc0de"}, "edited": false, "score": 0, "creation_date": 1557933232, "post_id": 56152592, "comment_id": 98934644, "body": "You have not imported <code>.&#47;lib&#47;proxy&#47;Proxy.ts</code> in <code>.&#47;routes&#47;workspaceRoute.ts</code>. You must import the <code>Proxy</code> class in <code>WorkspaceRoute</code>."}, {"owner": {"reputation": 913, "user_id": 3971290, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/24a35f9347cb0c7c4b2461a16c48dc04?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/3971290/nicolas"}, "reply_to_user": {"reputation": 1141, "user_id": 2023218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09f8323c3df64e6649c9ba9c98287dd?s=128&d=identicon&r=PG", "display_name": "idream1nC0de", "link": "https://stackoverflow.com/users/2023218/idream1nc0de"}, "edited": false, "score": 0, "creation_date": 1557933556, "post_id": 56152592, "comment_id": 98934840, "body": "Sorry, I forgot to add it to the question, I just did it."}, {"owner": {"reputation": 913, "user_id": 3971290, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/24a35f9347cb0c7c4b2461a16c48dc04?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/3971290/nicolas"}, "edited": false, "score": 0, "creation_date": 1557947742, "post_id": 56152592, "comment_id": 98941543, "body": "It seems that when you run the compiler for a specific file (for example <code>tsc .&#47;app.ts</code>) the tsconfig file is not take into account. I am executing now just <code>tsc</code> and seems to work!"}], "owner": {"reputation": 913, "user_id": 3971290, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/24a35f9347cb0c7c4b2461a16c48dc04?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/3971290/nicolas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 742, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557933508, "creation_date": 1557933051, "last_edit_date": 1557933508, "question_id": 56152592, "link": "https://stackoverflow.com/questions/56152592/class-is-not-a-constructor-in-typescript", "title": "{Class} is not a constructor in Typescript", "body": "<p>I am new to Typescript and I am not to get imports to work correctly. I have these two files:</p>\n\n<p><strong>./lib/proxy/Proxy.ts</strong></p>\n\n<pre><code>import proxy from 'http-proxy-middleware';\n\nexport default class Proxy {\n    private readonly target: string;\n\n    private readonly context: string;\n\n    private readonly options: object;\n\n    public constructor({ context, target, ...options }: {context: string; target: string; options?: object}) {\n        this.target = target;\n        this.context = context;\n        this.options = options;\n    }\n\n    public createDefaultProxy(): proxy.Proxy {\n        return proxy({\n            target: this.target,\n            logLevel: process.env.NODE_ENV ? 'info' : 'debug',\n            pathRewrite: {\n                [`^/api/v1${this.context}`]: '/',\n            },\n            ...this.options,\n        });\n    }\n}\n</code></pre>\n\n<p><strong>./routes/workspaceRoute.ts</strong></p>\n\n<pre><code>import Proxy from '../lib/proxy/Proxy'\n\nclass WorkspaceRoute {\n    public readonly router: Router;\n\n    public readonly context: string;\n\n    public readonly service: string;\n\n    public constructor(router, context, service) {\n        this.router = router;\n        this.context = context;\n        this.service = service;\n    }\n\n    public registerProxy(proxyParams?: object) {\n        console.log('11111', Proxy)\n        this.router.use(\n            this.context,\n            new Proxy({ context: this.context, target: this.service, ...proxyParams }).createDefaultProxy(),\n        );\n    }\n}\n</code></pre>\n\n<p>And when I try to run a dev compilation using <code>ts-node-dev --respawn --transpileOnly ./app</code> I get te following error <code>Proxy is not a constructor\n</code>.</p>\n\n<p>It seems that the imports/exports are not working well, but as far as I understand they are ok. </p>\n\n<p>For more information, here is my tsconfig:</p>\n\n<pre><code>{\n  \"exclude\": [\n    \"node_modules\"\n  ],\n  \"compilerOptions\": {\n    /* Basic Options */\n    \"target\": \"ES5\",                       /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019' or 'ESNEXT'. */\n    \"module\": \"es2015\",                       /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */\n    // \"lib\": [],                             /* Specify library files to be included in the compilation. */\n    // \"allowJs\": true,                       /* Allow javascript files to be compiled. */\n    // \"checkJs\": true,                       /* Report errors in .js files. */\n    // \"jsx\": \"preserve\",                     /* Specify JSX code generation: 'preserve', 'react-native', or 'react'. */\n    // \"declaration\": true,                   /* Generates corresponding '.d.ts' file. */\n    // \"declarationMap\": true,                /* Generates a sourcemap for each corresponding '.d.ts' file. */\n    // \"sourceMap\": true,                     /* Generates corresponding '.map' file. */\n    // \"outFile\": \"./\",                       /* Concatenate and emit output to single file. */\n    \"outDir\": \"./dist\",                       /* Redirect output structure to the directory. */\n    // \"rootDir\": \"./\",                       /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */\n    // \"composite\": true,                     /* Enable project compilation */\n    // \"incremental\": true,                   /* Enable incremental compilation */\n    // \"tsBuildInfoFile\": \"./\",               /* Specify file to store incremental compilation information */\n    // \"removeComments\": true,                /* Do not emit comments to output. */\n    // \"noEmit\": true,                        /* Do not emit outputs. */\n    // \"importHelpers\": true,                 /* Import emit helpers from 'tslib'. */\n    // \"downlevelIteration\": true,            /* Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'. */\n    // \"isolatedModules\": true,               /* Transpile each file as a separate module (similar to 'ts.transpileModule'). */\n\n    /* Strict Type-Checking Options */\n//    \"strict\": true,                      /* Enable all strict type-checking options. */\n    \"noImplicitAny\": false,                   /* Raise error on expressions and declarations with an implied 'any' type. */\n    // \"strictNullChecks\": true,              /* Enable strict null checks. */\n    // \"strictFunctionTypes\": true,           /* Enable strict checking of function types. */\n    // \"strictBindCallApply\": true,           /* Enable strict 'bind', 'call', and 'apply' methods on functions. */\n    // \"strictPropertyInitialization\": true,  /* Enable strict checking of property initialization in classes. */\n    // \"noImplicitThis\": true,                /* Raise error on 'this' expressions with an implied 'any' type. */\n    // \"alwaysStrict\": true,                  /* Parse in strict mode and emit \"use strict\" for each source file. */\n\n    /* Additional Checks */\n    // \"noUnusedLocals\": true,                /* Report errors on unused locals. */\n    // \"noUnusedParameters\": true,            /* Report errors on unused parameters. */\n    // \"noImplicitReturns\": true,             /* Report error when not all code paths in function return a value. */\n    // \"noFallthroughCasesInSwitch\": true,    /* Report errors for fallthrough cases in switch statement. */\n\n    /* Module Resolution Options */\n     \"moduleResolution\": \"node\",            /* Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6). */\n    // \"baseUrl\": \"./\",                       /* Base directory to resolve non-absolute module names. */\n    // \"paths\": {},                           /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */\n    // \"rootDirs\": [],                        /* List of root folders whose combined content represents the structure of the project at runtime. */\n    // \"typeRoots\": [],                       /* List of folders to include type definitions from. */\n    // \"types\": [],                           /* Type declaration files to be included in compilation. */\n    // \"allowSyntheticDefaultImports\": true,  /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */\n    \"esModuleInterop\": true                   /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */\n    // \"preserveSymlinks\": true,              /* Do not resolve the real path of symlinks. */\n\n    /* Source Map Options */\n    // \"sourceRoot\": \"\",                      /* Specify the location where debugger should locate TypeScript files instead of source locations. */\n    // \"mapRoot\": \"\",                         /* Specify the location where debugger should locate map files instead of generated locations. */\n    // \"inlineSourceMap\": true,               /* Emit a single file with source maps instead of having a separate file. */\n    // \"inlineSources\": true,                 /* Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set. */\n\n    /* Experimental Options */\n    // \"experimentalDecorators\": true,        /* Enables experimental support for ES7 decorators. */\n    // \"emitDecoratorMetadata\": true,         /* Enables experimental support for emitting type metadata for decorators. */\n  }\n}\n</code></pre>\n\n<p>Thanks!!</p>\n"}, {"tags": ["angular", "typescript", "google-cloud-firestore", "observable"], "comments": [{"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1557932920, "post_id": 56152259, "comment_id": 98934440, "body": "you can use combineLatest or forkJoin observable operators, depends on your use case"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4470482"}, "is_accepted": false, "score": 0, "last_activity_date": 1557939338, "creation_date": 1557939338, "answer_id": 56154251, "question_id": 56152259, "link": "https://stackoverflow.com/questions/56152259/filling-the-screen-with-data-from-several-observables/56154251#56154251", "title": "Filling the screen with data from several observables", "body": "<p>When using DataSources it is recommended to set a new DataSource when changing data. So basically something like:</p>\n\n<pre><code>this.dataSource = new DataSource(res)\n</code></pre>\n\n<p>could fix your problem.</p>\n"}], "owner": {"reputation": 3, "user_id": 7239236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8GGgeVXddG4/AAAAAAAAAAI/AAAAAAAAAXY/gUxCsCiFDEM/photo.jpg?sz=128", "display_name": "Kai", "link": "https://stackoverflow.com/users/7239236/kai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557939338, "creation_date": 1557932013, "last_edit_date": 1557936871, "question_id": 56152259, "link": "https://stackoverflow.com/questions/56152259/filling-the-screen-with-data-from-several-observables", "title": "Filling the screen with data from several observables", "body": "<p>I have a screen that is populated by an object returned from firestore, but I can not return the data of two queries on the same onInit</p>\n\n<p>Service: </p>\n\n<pre><code>      export class TcpService implements MPersist{\n      tcpsO: Observable&lt;TcpID[]&gt;;\n      private tcpCollection: AngularFirestoreCollection&lt;Tcp&gt;;\n      constructor(private db: AngularFirestore) { }\n\n      addDoc(data: Tcp) {\n        this.tcpCollection.add({ nome: data.nome, nivel: data.nivel, registro: data.registro })\n      }\n      editDoc(data:TcpID){\n        this.tcpCollection.doc(data.id).set({ nome: data.nome, nivel: data.nivel, registro: data.registro })\n      }\n\n      removeDoc(id){\n        this.tcpCollection.doc(id).delete();\n      }\n\n      getDocs() {\n        this.tcpCollection = this.db.collection&lt;Tcp&gt;('tcps');\n        return this.tcpsO = this.tcpCollection.snapshotChanges().pipe(\n          map(actions =&gt; actions.map(a =&gt; {\n            const data = a.payload.doc.data() as Tcp;\n            const id = a.payload.doc.id;\n            return { id, ...data }\n          }))\n        );\n\n      }\n    }\n    export interface TcpID extends Tcp { id: string }\n</code></pre>\n\n<p>And for component:</p>\n\n<pre><code>    ngOnInit() {\n        return this.service.getDocs().subscribe(\n          res =&gt; {\n            this.dataSource.sort = this.sort;\n            this.dataSource.data = res;\n          }\n        );\n      }\n</code></pre>\n\n<p>So I can manipulate the data, but when I try to return 2 different queries does not work, I need to fill the component with information from 2 different queries</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 2485, "user_id": 3812888, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/blosZ.jpg?s=128&g=1", "display_name": "The Head Rush", "link": "https://stackoverflow.com/users/3812888/the-head-rush"}, "edited": false, "score": 0, "creation_date": 1557934484, "post_id": 56152108, "comment_id": 98935403, "body": "I&#39;m guessing you got an error message that was something like <code>length$ is not a property of undefined</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 5529, "user_id": 1939697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5af836fe4c7401f77e1f58f0d5cce819?s=128&d=identicon&r=PG", "display_name": "UncleDave", "link": "https://stackoverflow.com/users/1939697/uncledave"}, "is_accepted": false, "score": 1, "last_activity_date": 1557934493, "creation_date": 1557934493, "answer_id": 56153033, "question_id": 56152108, "link": "https://stackoverflow.com/questions/56152108/how-to-check-length-of-an-observable-rendered-in-view-using-async-pipe/56153033#56153033", "title": "How to check length of an Observable rendered in view using async pipe", "body": "<p>You could do the following:</p>\n\n<pre><code>&lt;div *ngIf=\"!(employees | async)?.length\"&gt;\n  &lt;p&gt; No records found &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><code>0</code> is a falsy value, so you don't need to do an explicit comparison.</p>\n\n<p>The <a href=\"https://angular.io/guide/template-syntax#the-safe-navigation-operator----and-null-property-paths\" rel=\"nofollow noreferrer\">question mark</a> will catch any issues caused by <code>(employees | async)</code> being undefined/null rather than an empty array.</p>\n"}], "owner": {"reputation": 51, "user_id": 7343407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed2465424746b30a60e266cb0ae3616a?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/7343407/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1557934493, "creation_date": 1557931524, "last_edit_date": 1557934014, "question_id": 56152108, "link": "https://stackoverflow.com/questions/56152108/how-to-check-length-of-an-observable-rendered-in-view-using-async-pipe", "title": "How to check length of an Observable rendered in view using async pipe", "body": "<p>I have created a rest endpoint using spring boot rest to get a list of all employees(GET) and register an employee(POST).\nSo I decided to create a component where I have a form to register employees at the top and I render all employees below.</p>\n\n<pre><code>import { BrowserModule } from \"@angular/platform-browser\";\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\nimport {\n  Component,\n  NgModule,\n  Injectable,\n  OnInit\n} from \"@angular/core\";\nimport { HttpClientModule, HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport {Observable} from 'rxjs/Observable';\nimport {\n  map, switchMap, tap\n} from \"rxjs/operators\";\n\n@Component({\n  selector: \"recap-app\",\n  template: `\n&lt;employee-details-form&gt;&lt;/employee-details-form&gt;\n&lt;employee-list-view&gt;&lt;/employee-list-view&gt;\n  `\n})\nclass RecapAppComponent{\n\n}\n\n\n@NgModule({\n  imports: [BrowserModule, HttpClientModule],\n  declarations: [RecapAppComponent, EmployeeDetailsFormComponent, EmployeeListViewComponent, LoadingViewComponent],\n  bootstrap: [RecapAppComponent],\n  providers: [EmployeeService]\n})\nexport class MainModule {\n\n}\n\nplatformBrowserDynamic().bootstrapModule(MainModule);\n\n\n</code></pre>\n\n<p>Then to just start, I started creating my service to handle get and post requests with domain models as below </p>\n\n<pre><code>//Use this for the employee array (2)\nclass Employee{\n  constructor(public id : number,\n    public firstName : string,\n    public lastName : String,\n    public email : string){}\n}\n\n//I get this from the endpoint (1)\nclass Response{\n  constructor(public status: number,\n    public message : string,\n    public data : any){};//I get an Employee[]\n}\n\n@Injectable()\nexport class EmployeeService{\n\n  apiRoot: string = \"http://localhost:8080\";\n  apiURL: string = `${this.apiRoot}/employees/`\n  constructor(private restHttpClient: HttpClient) {}\n\n  //So I created a GET service which returns an observable (3)\n\n  getAllEmployees() : Observable&lt;Employee[]&gt; {\n    console.log(\"In get service \" + this.apiURL);\n\n    //I had to set CORS as its not disabled in my browser (4)\n\n    let headers = new HttpHeaders({'Access-Control-Allow-Origin':'*',\n    'Access-Control-Allow-Methods' :  'POST, GET, OPTIONS, DELETE, PUT',\n    'Access-Control-Max-Age' : '1000',\n    'Access-Control-Allow-Headers' : 'x-requested-with, Content-Type, origin, authorization, accept, client-security-token'});\n\n    //I make the get request, and with that observable   (5)\n\n    let check = this.restHttpClient.get&lt;Response&gt;(this.apiURL,{headers});\n\n    //I pass it through this operator which extracts the employees array from \n    // the response object and returns an employee array (6)\n\n    let doubleCheck = check.pipe(\n      map(response =&gt; {\n        if(response.data.length === 0){\n          console.log(response.data.length);\n          return response.data;\n        }else{\n          return response.data.map(employeeJsonOb =&gt; {\n            return new Employee(employeeJsonOb.id,\n              employeeJsonOb.firstName,\n            employeeJsonOb.lastName,\n          employeeJsonOb.email)\n          });\n        }\n    }));\n    return doubleCheck;\n  }\n  //yet to be implemented\n  registerNewEmployee(employee : Employee){}\n}\n\n@Component({\n  selector: \"employee-list-view\",\n  template: `\n\n  &lt;!--But when I got no records I wanted to display this div\n   but I couldn't --&gt; (9)\n\n  &lt;div *ngIf = \"employees.length$ === 0\"&gt;\n    &lt;p&gt; No records found &lt;/p&gt;\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;ul class=\"list-group\"&gt;\n      &lt;!--Then when I iterated by adding some employees\n          I was able to see the names--&gt; (8)\n      &lt;li class=\"list-group-item\" *ngFor = \"let employee of employees | async\"&gt;\n        {{employee.firstName}}\n      &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n  `\n})\nclass EmployeeListViewComponent implements OnInit{\n\n  employees : Observable&lt;Employee[]&gt;;\n  private loading: boolean = false;\n  constructor(private employeeService: EmployeeService) {}\n\n  //Then I used the onInit hook to try to fetch all employees \n  //on startup if there were any. (7)\n  ngOnInit() {\n    console.log(\"Entered onInit\");\n    this.employees = this.employeeService.getAllEmployees();\n  }\n}\n\n@Component({\n  selector: \"employee-details-form\",\n  template: `\n  &lt;div&gt;\n  &lt;p&gt;Form goes here&lt;/p&gt;\n  &lt;/div&gt;\n  `\n})\nclass EmployeeDetailsFormComponent{\n//Yet to be implemented\n}\n\n\n</code></pre>\n\n<p>I have been unable to resolve the (9) point.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["typescript", "vue.js", "vuex"], "answers": [{"tags": [], "owner": {"reputation": 376, "user_id": 3164071, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mLkJC.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/3164071/jake"}, "is_accepted": false, "score": 1, "last_activity_date": 1566597230, "creation_date": 1566597230, "answer_id": 57633411, "question_id": 56152076, "link": "https://stackoverflow.com/questions/56152076/what-is-the-type-of-vuex-vuex-class-decorator/57633411#57633411", "title": "What is the type of vuex &#39;vuex-class&#39; decorator", "body": "<p>You set it to the signature of the store method:</p>\n\n<p>Given the store:</p>\n\n<pre><code>bar ({ commit }: SomeActionContext, newValue: string) {\n    commit('setValue', { value: newValue})\n}\n</code></pre>\n\n<p>In your component:</p>\n\n<pre><code>@(namespace('foo').Action('bar'))\nprivate bar!: (newValue: string) =&gt; void\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 6621163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4771b484cd86c49227a6885ca5abcd2a?s=128&d=identicon&r=PG", "display_name": "Cauliflower", "link": "https://stackoverflow.com/users/6621163/cauliflower"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566597230, "creation_date": 1557931430, "question_id": 56152076, "link": "https://stackoverflow.com/questions/56152076/what-is-the-type-of-vuex-vuex-class-decorator", "title": "What is the type of vuex &#39;vuex-class&#39; decorator", "body": "<p>I have the 'no-implicit-any' rule turned on for our typescript project, but I am having trouble defining the type for all of the 'vuex-class' decorators. </p>\n\n<p>For example, if importing the namespaced action\n<code>@(namespace('foo').Action('bar')) foobar: any;</code></p>\n\n<p>...what would the type be for this module?</p>\n\n<p>I would prefer not to turn off the 'no-implicit-any' rule and want to define and remove all the 'any's in my project.</p>\n"}, {"tags": ["angular", "typescript", "mapbox-gl"], "answers": [{"comments": [{"owner": {"reputation": 470, "user_id": 9161521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46bc636e9abc89ed23efeb4871b01427?s=128&d=identicon&r=PG&f=1", "display_name": "JJuice", "link": "https://stackoverflow.com/users/9161521/jjuice"}, "edited": false, "score": 0, "creation_date": 1558169761, "post_id": 56154528, "comment_id": 99018424, "body": "Thanks Chris Burd for the suggestion, unfortunately it did not solve the issue. Tried something else which did, see below for the code."}], "tags": [], "owner": {"reputation": 1, "user_id": 11500583, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dGki1-E4Z-0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rduv385VKKTPkId0Zp-FHF8t3Qv0A/mo/photo.jpg?sz=128", "display_name": "Chris Burd", "link": "https://stackoverflow.com/users/11500583/chris-burd"}, "is_accepted": false, "score": 0, "last_activity_date": 1557940435, "creation_date": 1557940435, "answer_id": 56154528, "question_id": 56152019, "link": "https://stackoverflow.com/questions/56152019/how-to-fix-type-error-when-drawing-a-line-with-mapbox/56154528#56154528", "title": "How to fix type error when drawing a line with Mapbox", "body": "<p>I believe its because you are calling a string instead of an array try using [] like so.</p>\n\n<p>source: {\n    type: 'geojson',\n    data: {\n      type: 'Feature',\n      properties: {},\n      geometry: [{\n        type: 'LineString',\n        coordinates: this.directionsResult.routes[0].geometry.coordinates\n      }]\n    }\n  },</p>\n"}, {"tags": [], "owner": {"reputation": 470, "user_id": 9161521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46bc636e9abc89ed23efeb4871b01427?s=128&d=identicon&r=PG&f=1", "display_name": "JJuice", "link": "https://stackoverflow.com/users/9161521/jjuice"}, "is_accepted": false, "score": 0, "last_activity_date": 1558207254, "last_edit_date": 1558207254, "creation_date": 1558169970, "answer_id": 56197455, "question_id": 56152019, "link": "https://stackoverflow.com/questions/56152019/how-to-fix-type-error-when-drawing-a-line-with-mapbox/56197455#56197455", "title": "How to fix type error when drawing a line with Mapbox", "body": "<p>I don't know why, but when I add the waypoints to an empty array object and use that one it works:</p>\n\n<pre><code>let coordsArray = new Array(0);\n\nfor (let item of this.directionsResult.routes[0].geometry.coordinates) {\n  coordsArray.push(item);\n}\n</code></pre>\n\n<p>And then when adding the route Layer to the map:</p>\n\n<pre><code>this.map.addLayer({\n      id: 'geojson',\n      type: 'line',\n      source: {\n        type: 'geojson',\n        data: {\n          type: 'Feature',\n          properties: {},\n          geometry: {\n            type: 'LineString',\n            coordinates: coordsArray\n          }\n        }\n      },\n      layout: {\n        'line-join': 'round',\n        'line-cap': 'round'\n      },\n      paint: {\n        'line-color': '#198e46',\n        'line-width': 3\n      }\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 7474730, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-K9T9w9WSEvM/AAAAAAAAAAI/AAAAAAAAAEw/uvucYOKrauM/photo.jpg?sz=128", "display_name": "Ayush Chauhan", "link": "https://stackoverflow.com/users/7474730/ayush-chauhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1603296747, "last_edit_date": 1603296747, "creation_date": 1603296025, "answer_id": 64467482, "question_id": 56152019, "link": "https://stackoverflow.com/questions/56152019/how-to-fix-type-error-when-drawing-a-line-with-mapbox/64467482#64467482", "title": "How to fix type error when drawing a line with Mapbox", "body": "<p>Try installing <code>@types/mapbox-gl</code> and <code>@geojson</code>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>npm install @types/mapbox-gl --save\n\nnpm install @types/geojson --save\n\nnpm install geojson --save\n</code></pre>\n<p>All your issues will be resolved.</p>\n"}], "owner": {"reputation": 470, "user_id": 9161521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46bc636e9abc89ed23efeb4871b01427?s=128&d=identicon&r=PG&f=1", "display_name": "JJuice", "link": "https://stackoverflow.com/users/9161521/jjuice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 988, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1603296747, "creation_date": 1557931272, "question_id": 56152019, "link": "https://stackoverflow.com/questions/56152019/how-to-fix-type-error-when-drawing-a-line-with-mapbox", "title": "How to fix type error when drawing a line with Mapbox", "body": "<p>I'm working on a project in which I use the Mapbox API to show cycling routes. </p>\n\n<p>I followed Mapbox's own example on the API, which can be found here: </p>\n\n<p><a href=\"https://docs.mapbox.com/mapbox-gl-js/example/geojson-line/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/mapbox-gl-js/example/geojson-line/</a></p>\n\n<p>Somehow I am having an error which seems to be caused by incorrect type but I really dont understand it, let alone solve it.</p>\n\n<p>This code works, just like in the example.</p>\n\n<pre><code>this.map.addLayer({\n      id: 'geojson',\n      type: 'line',\n      source: {\n        type: 'geojson',\n        data: {\n          type: 'Feature',\n          properties: {},\n          geometry: {\n            type: 'LineString',\n            coordinates: [\n              [-122.48369693756104, 37.83381888486939],\n              [-122.48348236083984, 37.83317489144141],\n              [-122.48339653015138, 37.83270036637107],\n              [-122.48356819152832, 37.832056363179625],\n              [-122.48404026031496, 37.83114119107971],\n              [-122.48404026031496, 37.83049717427869],\n            ]\n          }\n        }\n      },\n      layout: {\n        'line-join': 'round',\n        'line-cap': 'round'\n      },\n      paint: {\n        'line-color': '#888',\n        'line-width': 8\n      }\n</code></pre>\n\n<p>But when I remove the hardcoded geopoints and change it with an array of LatLong values, based on the earlier API call I made to Mapbox to get a cycling route, I am getting an error:</p>\n\n<pre><code>this.map.addLayer({\n      id: 'geojson',\n      type: 'line',\n      source: {\n        type: 'geojson',\n        data: {\n          type: 'Feature',\n          properties: {},\n          geometry: {\n            type: 'LineString',\n            coordinates: this.directionsResult.routes[0].geometry.coordinates\n          }\n        }\n      },\n      layout: {\n        'line-join': 'round',\n        'line-cap': 'round'\n      },\n      paint: {\n        'line-color': '#888',\n        'line-width': 8\n      }\n    });\n</code></pre>\n\n<p>The error message is:</p>\n\n<pre><code>(property) mapboxgl.Layer.source?: string | mapboxgl.GeoJSONSourceRaw | mapboxgl.VideoSourceRaw | mapboxgl.ImageSourceRaw | mapboxgl.CanvasSourceRaw | mapboxgl.VectorSource | mapboxgl.RasterSource | mapboxgl.RasterDemSource\nType '{ type: string; data: { type: string; properties: {}; geometry: { type: string; coordinates: LatLong[]; }; }; }' is not assignable to type 'string | GeoJSONSourceRaw | VideoSourceRaw | ImageSourceRaw | CanvasSourceRaw | VectorSource | RasterSource | RasterDemSource'.\n  Type '{ type: string; data: { type: string; properties: {}; geometry: { type: string; coordinates: LatLong[]; }; }; }' is not assignable to type 'GeoJSONSourceRaw'.\n    Types of property 'type' are incompatible.\n      Type 'string' is not assignable to type '\"geojson\"'.ts(2322)\nindex.d.ts(1298, 9): The expected type comes from property 'source' which is declared here on type 'Layer'.\n</code></pre>\n\n<p>When I compare the notation of the hardcoded geopoints with my result I get back from the Directions API, they appear to have the exact same type and notation: </p>\n\n<pre><code>let coords = this.directionsResult.routes[0].geometry.coordinates;\nlet geometry = [\n      [-122.48369693756104, 37.83381888486939],\n      [-122.48348236083984, 37.83317489144141],\n      [-122.48339653015138, 37.83270036637107],\n      [-122.48356819152832, 37.832056363179625],\n      [-122.48404026031496, 37.83114119107971],\n      [-122.48404026031496, 37.83049717427869]\n    ];\n\nconsole.log(coords);\nconsole.log(geometry);\n</code></pre>\n\n<p>Which gives me the following console output:</p>\n\n<pre><code>(17)\u00a0[Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2), Array(2)]\nmap-box.component.ts:94 \n\n(6)\u00a0[Array(2), Array(2), Array(2), Array(2), Array(2), Array(2)]\n</code></pre>\n\n<p>Anybody with some help suggestions on what I am doing wrong here? Thanks!</p>\n"}, {"tags": ["typescript", "angular7", "ionic4"], "answers": [{"tags": [], "owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "is_accepted": true, "score": 0, "last_activity_date": 1557941564, "last_edit_date": 1557941564, "creation_date": 1557940765, "answer_id": 56154613, "question_id": 56151950, "link": "https://stackoverflow.com/questions/56151950/how-to-set-conditioned-default-value-in-ion-select-using-data-from-api/56154613#56154613", "title": "How to set conditioned default value in ion select using data from API", "body": "<p>Since you're binding the <code>ion-select</code> to the <code>assignedUserId</code> control and the <code>[value]</code> property from the <code>ion-select-option</code> points to the <code>user.Id</code>, seems like the only thing you'd need to do to initialize the <code>ion-select</code> is to set the value of the <code>assignedUserId</code> control as soon as you get the details of that task. It'd be something like this: </p>\n\n<pre><code>// ...\n\nasync getTaskInfo() {\n\n  this.taskId = this.navParams.get('taskId');\n\n  // If you want to use await, getTaskById() should return a promise\n  this.task = await this.api.getTaskById(this.taskId).toPromise();\n\n  // I'm assuming the task has an userId property\n  if(this.task &amp;&amp; this.task.userId) {\n\n    // Update the value of the control\n    this.taskForm.get('assignedUserId').setValue(this.task.userId);    \n\n  }\n\n}\n\n// ...\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11390691, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mrJqVsY9ZUo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rce-4Gdx1w3FMc0E13N5jKLjD_HPw/mo/photo.jpg?sz=128", "display_name": "Ander", "link": "https://stackoverflow.com/users/11390691/ander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 56154613, "answer_count": 1, "score": 1, "last_activity_date": 1557941564, "creation_date": 1557931077, "last_edit_date": 1557941439, "question_id": 56151950, "link": "https://stackoverflow.com/questions/56151950/how-to-set-conditioned-default-value-in-ion-select-using-data-from-api", "title": "How to set conditioned default value in ion select using data from API", "body": "<p>I am new with angular 7 and Ionic 4.</p>\n\n<p>I am developing a mobile app, I am working with an API, I have a list of tasks and when I click on a task, a modal opens, showing the task info, in this modal there are some fields that are  elements, for example assigned user, I want to set the ion-select default value depending in which assigned user was selected when the task was created.</p>\n\n<p>Summarizing, I want that if a user was assigned, it will be set as default in the ion-select when the modal appears.</p>\n\n<p>HTML file:</p>\n\n<pre><code>&lt;ion-row&gt;\n  &lt;ion-col&gt;\n    &lt;ion-label&gt;Asigned User:&lt;/ion-label&gt;\n    &lt;ion-select placeholder=\"Asigned User\" formControlName=\"assignedUserId\" &gt; \n      &lt;ion-select-option *ngFor=\"let user of simpleUsers|async;\" [value]=\"user.id\" (ionChange)=\"setUser(user.id)\"&gt;\n        {{user.lastName}} {{user.firstName}}\n      &lt;/ion-select-option&gt;\n    &lt;/ion-select&gt;\n  &lt;/ion-col&gt;\n&lt;/ion-row&gt;\n</code></pre>\n\n<p>TS file:</p>\n\n<pre><code>this.taskForm = this.formBuilder.group({\n  'title':[null],\n  'description' : [null],\n  'descriptionHtml':[null],\n  'assignedUserId': [null],\n  'deadline':[null],\n  'deadlineType':[null],\n  'fromDate':[null],\n  'clientId':[null]\n});\n\n// ...\n\nasync getTaskInfo() {\n  this.taskId = this.navParams.get('taskId');\n\n  await this.api.getTaskById(this.taskId).subscribe(result =&gt; {\n    this.task = result;\n  });\n}\n\nasync getCompanies() {\n  this.clients = this.api.getCompanies();\n}\n\nasync getSimpleUsers() {\n  this.simpleUsers = this.api.getSimpleUsers();\n}\n\nasync setUser(userId) {\n  this.assignedUserId = userId;\n}\n\nasync setClient(clientId) {\n  this.clientId = clientId;\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "promise", "es6-promise", "ts-node"], "comments": [{"owner": {"reputation": 926, "user_id": 2383574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3b300941d192a65c2438f38db44b3b8?s=128&d=identicon&r=PG&f=1", "display_name": "adambene", "link": "https://stackoverflow.com/users/2383574/adambene"}, "edited": false, "score": 1, "creation_date": 1557931385, "post_id": 56151792, "comment_id": 98933454, "body": "Using plain node it&#39;s seem to be working."}, {"owner": {"reputation": 6586, "user_id": 881032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/39c20ce29b213acf91e9339ed3ebc5a7?s=128&d=identicon&r=PG", "display_name": "lumio", "link": "https://stackoverflow.com/users/881032/lumio"}, "edited": false, "score": 0, "creation_date": 1557931599, "post_id": 56151792, "comment_id": 98933622, "body": "Also works with ts-node without any problems. Do you get any other errors? Can you also try to drop the <code>.ts</code> at the end of your <code>&quot;.&#47;src&#47;tests.ts&quot;</code>.. Additionally you might not need to escape the quotes here (which also could cause errors)"}, {"owner": {"reputation": 27, "user_id": 11359272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1ce1acfac939a619f3d1747f40c866?s=128&d=identicon&r=PG&f=1", "display_name": "ZAM", "link": "https://stackoverflow.com/users/11359272/zam"}, "edited": false, "score": 1, "creation_date": 1557932186, "post_id": 56151792, "comment_id": 98933999, "body": "Tried did not work. Agree with you it work plain node.  <code>public async test(event: any) {     console.log(&#39;Before&#39;);     await new Promise(async (resolve: any) =&gt; {       setTimeout(resolve, 5000);     });  console.log(&#39;After&#39;);</code>"}, {"owner": {"reputation": 27, "user_id": 11359272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1ce1acfac939a619f3d1747f40c866?s=128&d=identicon&r=PG&f=1", "display_name": "ZAM", "link": "https://stackoverflow.com/users/11359272/zam"}, "edited": false, "score": 0, "creation_date": 1557932333, "post_id": 56151792, "comment_id": 98934091, "body": "That&#39;s why I am clueless why it is not working in above case ? Promise always find a way to make you feel stupid."}, {"owner": {"reputation": 27, "user_id": 11359272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1ce1acfac939a619f3d1747f40c866?s=128&d=identicon&r=PG&f=1", "display_name": "ZAM", "link": "https://stackoverflow.com/users/11359272/zam"}, "reply_to_user": {"reputation": 1, "user_id": 1114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FFE8V.gif?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1114/jeremy"}, "edited": false, "score": 0, "creation_date": 1557932444, "post_id": 56151792, "comment_id": 98934145, "body": "@Jeremy, No error. It seems all normal printing first statement and exist function."}, {"owner": {"reputation": 1, "user_id": 1114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FFE8V.gif?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1114/jeremy"}, "edited": false, "score": 0, "creation_date": 1557932578, "post_id": 56151792, "comment_id": 98934224, "body": "Hmm. <a href=\"https://i.stack.imgur.com/XptQF.png\" rel=\"nofollow noreferrer\">It works on my machine</a>."}], "answers": [{"comments": [{"owner": {"reputation": 6586, "user_id": 881032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/39c20ce29b213acf91e9339ed3ebc5a7?s=128&d=identicon&r=PG", "display_name": "lumio", "link": "https://stackoverflow.com/users/881032/lumio"}, "edited": false, "score": 0, "creation_date": 1557931630, "post_id": 56151964, "comment_id": 98933639, "body": "This is not an answer for what OP was asking."}, {"owner": {"reputation": 27, "user_id": 11359272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1ce1acfac939a619f3d1747f40c866?s=128&d=identicon&r=PG&f=1", "display_name": "ZAM", "link": "https://stackoverflow.com/users/11359272/zam"}, "edited": false, "score": 0, "creation_date": 1557931807, "post_id": 56151964, "comment_id": 98933762, "body": "Yes this is not answer I am looking for. Without await it will work but I need to wait for certain time before doing actual work."}], "tags": [], "owner": {"reputation": 2014, "user_id": 6397798, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/645e8642225ab706cb9b7ef8ff31364e?s=128&d=identicon&r=PG&f=1", "display_name": "bracco23", "link": "https://stackoverflow.com/users/6397798/bracco23"}, "is_accepted": false, "score": -2, "last_activity_date": 1557932232, "last_edit_date": 1557932232, "creation_date": 1557931118, "answer_id": 56151964, "question_id": 56151792, "link": "https://stackoverflow.com/questions/56151792/why-wait-new-promise-is-causeing-immediate-exit/56151964#56151964", "title": "Why wait new Promise is causeing immediate exit?", "body": "<p>The <code>await</code> is what block you.</p>\n\n<p><code>await/async</code> are used to more easily handle promises.</p>\n\n<p>What you are telling the language is:</p>\n\n<pre><code>- print \"inside test function\"\n- wait for this promise to resolve and return me the value it returns\n- print \"Starting actual work\"\n</code></pre>\n\n<p>but since your promise resolves in 5 seconds, it won't print the second string if not after 5 seconds.</p>\n\n<p>The example would work are expected if your write this:</p>\n\n<pre><code>module.exports.tests = async () =&gt; {\n    console.log(\"inside test function\")\n    (new Promise((resolve: any) =&gt; {\n        setTimeout(resolve, 5000);\n     })).then(() =&gt; console.log(\"printed after 5 seconds\"));\n    // Do actual work\n    console.log(\"Starting actual work\");\n}\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/je5chp8m/\" rel=\"nofollow noreferrer\">Here a fiddle</a> to see how it works.</p>\n"}], "owner": {"reputation": 27, "user_id": 11359272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1ce1acfac939a619f3d1747f40c866?s=128&d=identicon&r=PG&f=1", "display_name": "ZAM", "link": "https://stackoverflow.com/users/11359272/zam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1557932232, "creation_date": 1557930548, "last_edit_date": 1557930719, "question_id": 56151792, "link": "https://stackoverflow.com/questions/56151792/why-wait-new-promise-is-causeing-immediate-exit", "title": "Why wait new Promise is causeing immediate exit?", "body": "<p>I have very simple case scenarios, where I need to wait for few seconds before doing further execution.  </p>\n\n<p>I tried to  set timeout function separately, exporting module or function only. nothing seems to work.</p>\n\n<pre><code>module.exports.tests = async () =&gt; {\nconsole.log(\"inside test function\")\nawait new Promise(async (resolve: any) =&gt; {\n    setTimeout(resolve, 5000);\n  });\n\n// Do actual work\nconsole.log(\"Starting actual work\");\n\n}\n</code></pre>\n\n<p>When I call this function</p>\n\n<pre><code>./node_modules/.bin/ts-node -e 'require(\\\"./src/tests.ts\\\").tests()\n</code></pre>\n\n<p>I would expect this to print \"Starting actual work\", But it never reaches there. It is printing \"inside test function\" and returning before calling actual work. What possibly I'm doing wrong here?</p>\n"}, {"tags": ["angular", "typescript", "rich-text-editor", "angular-dynamic-components"], "comments": [{"owner": {"reputation": 5898, "user_id": 3933927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Td4UR.png?s=128&g=1", "display_name": "Stavm", "link": "https://stackoverflow.com/users/3933927/stavm"}, "edited": false, "score": 0, "creation_date": 1557930200, "post_id": 56151516, "comment_id": 98932629, "body": "a good place to start would be angular&#39;s docs for <a href=\"https://angular.io/guide/dynamic-component-loader\" rel=\"nofollow noreferrer\">dynamic component loading</a>"}, {"owner": {"reputation": 3521, "user_id": 4300608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/YSsa5.png?s=128&g=1", "display_name": "ViqMontana", "link": "https://stackoverflow.com/users/4300608/viqmontana"}, "edited": false, "score": 0, "creation_date": 1557931268, "post_id": 56151516, "comment_id": 98933394, "body": "Take a look at <a href=\"https://yaireo.github.io/tagify/#section-extra-properties\" rel=\"nofollow noreferrer\">Tagify</a>. I think it is what you are looking for."}], "owner": {"reputation": 18794, "user_id": 475727, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/014426d2ac16e019b76c9a9048df1e5d?s=128&d=identicon&r=PG", "display_name": "Liero", "link": "https://stackoverflow.com/users/475727/liero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1557929780, "creation_date": 1557929780, "question_id": 56151516, "link": "https://stackoverflow.com/questions/56151516/how-to-create-rich-text-box-that-can-replace-text-with-angular-components", "title": "How to create rich text box, that can replace text with Angular Components", "body": "<p>I want to create content editor, similar to facebook \"create post\" textbox, that is able to replace some tokens (e.g words starting with @ or #) with some angular components.</p>\n\n<p>E.g. </p>\n\n<p><code>Hello, @John</code>, would be replaced by <code>Hello, &lt;app-username user=\"John\"&gt;&lt;/app-username&gt;</code></p>\n"}, {"tags": ["angular", "typescript", "angular-ngmodel"], "comments": [{"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1557929292, "post_id": 56151161, "comment_id": 98932014, "body": "Hi, just to check, is <code>gaa</code> the object that is supplied to the <code>[rows]</code> input binding? Meaning it is something like this?  <code>&lt;ngx-datatable [rows]=&quot;gaa&quot; .....&gt;</code> I might know the reason why it isnt working"}, {"owner": {"reputation": 2230, "user_id": 1107591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb9e43f93237d779fb3f4bdb45d7524d?s=128&d=identicon&r=PG", "display_name": "Sanyifej\u0171", "link": "https://stackoverflow.com/users/1107591/sanyifej%c5%b1"}, "reply_to_user": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1557929493, "post_id": 56151161, "comment_id": 98932159, "body": "yes. &#39;Gaa&#39; is JSON object bound to both the rows in the Datatable and also to the fields of the modal."}], "answers": [{"comments": [{"owner": {"reputation": 2230, "user_id": 1107591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb9e43f93237d779fb3f4bdb45d7524d?s=128&d=identicon&r=PG", "display_name": "Sanyifej\u0171", "link": "https://stackoverflow.com/users/1107591/sanyifej%c5%b1"}, "edited": false, "score": 0, "creation_date": 1557931876, "post_id": 56151633, "comment_id": 98933793, "body": "No, it does not work unfortunately. Maybe I have mistaken something but the shallow copy &#39;temp&#39; doesn&#39;t even contain the original values. So in case the assignemnt in &#39;abort&#39; is not necessary since this.gaa and this.temp refer to the same object thus they  and all of their fields are identical."}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 2230, "user_id": 1107591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb9e43f93237d779fb3f4bdb45d7524d?s=128&d=identicon&r=PG", "display_name": "Sanyifej\u0171", "link": "https://stackoverflow.com/users/1107591/sanyifej%c5%b1"}, "edited": false, "score": 0, "creation_date": 1557973476, "post_id": 56151633, "comment_id": 98948087, "body": "@Sanyifej\u0171 I guess that is because on that modal, when you make any changes, the references points to <code>temp</code>? I guess that same theory applies to your initial code for <code>gaa</code>/<code>oldgaa</code> as well?"}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": false, "score": 0, "last_activity_date": 1557930140, "creation_date": 1557930140, "answer_id": 56151633, "question_id": 56151161, "link": "https://stackoverflow.com/questions/56151161/angular-not-to-update-values-in-ngx-datatable-column-if-modal-popup-aborted/56151633#56151633", "title": "Angular: not-to-update values in ngx-datatable-column if modal (popup) aborted", "body": "<p>Instead of creating a 'deep copy' of <code>gaa</code>, I would recommend you to create a <a href=\"https://we-are.bookmyshow.com/understanding-deep-and-shallow-copy-in-javascript-13438bad941c\" rel=\"nofollow noreferrer\">shallow copy</a> of it, such that the memory address/reference is copied. This is because ngx-datatable is <a href=\"https://swimlane.gitbook.io/ngx-datatable/change-detection\" rel=\"nofollow noreferrer\">built with onPush change detection</a>, thus this will allow Angular's change detection to be triggered accordingly.</p>\n\n<p>We use ES6's spread syntax to craete a shallow copy of <code>gaa</code>.</p>\n\n<pre><code>this.temp = [...this.gaa]; \n</code></pre>\n\n<p>Now, when you abort your abort changes, we reassign <code>gaa</code> with the previously created shallow clone, <code>temp</code>.</p>\n\n<pre><code>abort() {\n  this.gaa = this.temp;\n  this.activeModal.close();\n}\n</code></pre>\n"}], "owner": {"reputation": 2230, "user_id": 1107591, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb9e43f93237d779fb3f4bdb45d7524d?s=128&d=identicon&r=PG", "display_name": "Sanyifej\u0171", "link": "https://stackoverflow.com/users/1107591/sanyifej%c5%b1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557930140, "creation_date": 1557928705, "question_id": 56151161, "link": "https://stackoverflow.com/questions/56151161/angular-not-to-update-values-in-ngx-datatable-column-if-modal-popup-aborted", "title": "Angular: not-to-update values in ngx-datatable-column if modal (popup) aborted", "body": "<p>I have a ngx-datatable with several columns like this:</p>\n\n<pre><code>  &lt;ngx-datatable-column name=\"PLZ/Ort\" prop=\"plzCity\" [flexGrow]=\"1\" &gt;\n    &lt;ng-template let-column=\"column\" let-sort=\"sortFn\" let-sortDir=\"sortDir\" ngx-datatable-header-template&gt;\n      &lt;span (click)=\"sort($event, sortDir, sortFn)\"&gt;PLZ/Ort&lt;/span&gt;\n    &lt;/ng-template&gt;\n   &lt;/ngx-datatable-column&gt;\n</code></pre>\n\n<p>If I click on the line a modal (popup) appears with pre-filled values from the row of this datatable. If I change anything and save the modal disappears and the new values appear in the row. (Intended)</p>\n\n<p>If I change the values in the modal and click on 'abort' the modal also disappears and the new values also appear in the row. (Unintended). To get back the original values I need to reload the page again. (Doable, but painful)</p>\n\n<p>So I tried to implement a workaround: in <code>ngOnInit()</code> I made a deep copy of the JSON Object which contains the values both of the <code>ngx-datatable</code> and the modal. Let's call this object gaa. Since it happens prior to any user interaction it contains the original values.</p>\n\n<p>In <code>abort()</code> function I just reassign the original values to gaa object. </p>\n\n<pre><code>` abort() {\n    console.log('close');\n    console.log(this.changes)\n    this.gaa = this.oldGaa; //it is proven that oldGaa contains the unchanged values.\n    this.activeModal.close();\n  }`\n</code></pre>\n\n<p>It does not work however. The cloned object contains the right (unchanged) values, but row's value in the datatable will still be updated with the changed values. (Strangely, I can get the right values displayed if I stop the whole thing with the debugger for a short time. But without the debugger- no chance. The values get updated despite the assigment. )</p>\n\n<p>Maybe the whole approach is wrong. How can I not-to-update the values of the row if the user click on 'Abort'?</p>\n"}, {"tags": ["visual-studio", "typescript", "npm-install", "typescript-typings"], "owner": {"reputation": 23981, "user_id": 1157814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Nk7LK.png?s=128&g=1", "display_name": "g.pickardou", "link": "https://stackoverflow.com/users/1157814/g-pickardou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557927605, "creation_date": 1557927292, "last_edit_date": 1557927605, "question_id": 56150711, "link": "https://stackoverflow.com/questions/56150711/which-is-the-correct-way-to-add-typescript-typings-to-a-net-core-project", "title": "Which is the correct way to add Typescript typings to a .NET Core project?", "body": "<p>I've read Q/As but still confused the whys and hows. I would like to have a managable correct method to add typescript typings to my ASP NET Core 3 (preview 5) web application when adding a javascript library</p>\n\n<p>I've installed npm, followed the github readme of DefinitelyTyped: </p>\n\n<pre><code>npm install --save-dev @types/jquery\n</code></pre>\n\n<p>but this created a ./node_modules/@types/jquery/ folder relative to the current folder. (I would be a liar stating I understood how this knew I wanted the typings and not jQuery itself)</p>\n\n<p><strong>Question</strong></p>\n\n<p>What are the simple instructions to add/remove typings with a package manager <strong>and</strong> where is the correct place of them <strong>and</strong> how to configure the IDE build and intellisense to find them...</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 494, "user_id": 2928827, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c21540b0e989a0ec466a8fdc6b779dc?s=128&d=identicon&r=PG&f=1", "display_name": "m.akbari", "link": "https://stackoverflow.com/users/2928827/m-akbari"}, "edited": false, "score": 0, "creation_date": 1557930788, "post_id": 56150100, "comment_id": 98933066, "body": "Can you share how you generated the parser.js? Or maybe package.json regarding ts files?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7854398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2owEa.jpg?s=128&g=1", "display_name": "makmav", "link": "https://stackoverflow.com/users/7854398/makmav"}, "edited": false, "score": 0, "creation_date": 1557934986, "post_id": 56152117, "comment_id": 98935691, "body": "Thank you for your answer\uff0cI want to import javascript file in the typescript project with type system. What should I do?"}, {"owner": {"reputation": 33, "user_id": 7854398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2owEa.jpg?s=128&g=1", "display_name": "makmav", "link": "https://stackoverflow.com/users/7854398/makmav"}, "edited": false, "score": 0, "creation_date": 1557935304, "post_id": 56152117, "comment_id": 98935873, "body": "I referenced <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces-and-modules.html\" rel=\"nofollow noreferrer\">doc</a>,Did I understand wrong?"}, {"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "reply_to_user": {"reputation": 33, "user_id": 7854398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2owEa.jpg?s=128&g=1", "display_name": "makmav", "link": "https://stackoverflow.com/users/7854398/makmav"}, "edited": false, "score": 0, "creation_date": 1557935598, "post_id": 56152117, "comment_id": 98936023, "body": "It&#39;s impossible for me to say whether or not you understood wrong, I&#39;d have to see how your entire project is structured and what your tsconfig looks like. You shouldn&#39;t import declaration files, you should import real modules. Change <code>import * as Parser from &#39;parser&#39;</code> to <code>import Parser from &#39;.&#47;path&#47;to&#47;parser&#39;;</code> and the import won&#39;t fail."}], "tags": [], "owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "is_accepted": true, "score": 1, "last_activity_date": 1557931551, "creation_date": 1557931551, "answer_id": 56152117, "question_id": 56150100, "link": "https://stackoverflow.com/questions/56150100/typescript-compiled-file-cannot-find-module/56152117#56152117", "title": "Typescript compiled file cannot find module", "body": "<p>You should use a relative path (e.g. <code>'./dest/lib/parser'</code>) in that import statement since by default <code>require</code> is going to look in <code>node_modules</code> if a path is not passed (where as TypeScript can be told where <code>'parser'</code> is).</p>\n\n<p>You could also add a <code>package.json</code> file to the same folder as <code>parser.js</code> with the contents <code>{ name: 'parser' }</code> which would allow it to be found via <code>require('parser')</code></p>\n"}], "owner": {"reputation": 33, "user_id": 7854398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2owEa.jpg?s=128&g=1", "display_name": "makmav", "link": "https://stackoverflow.com/users/7854398/makmav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 0, "accepted_answer_id": 56152117, "answer_count": 1, "score": 3, "last_activity_date": 1557931551, "creation_date": 1557925461, "question_id": 56150100, "link": "https://stackoverflow.com/questions/56150100/typescript-compiled-file-cannot-find-module", "title": "Typescript compiled file cannot find module", "body": "<p>I have an exported module in one file(parser.js) in Typescript project and I did not generate any error during the compilation phase ,but the Compiled file can't work, This makes me feel confused</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// parser.d.ts\ndeclare module 'parser' {\n    interface Parser {\n        parser(url: string):string\n    }\n\n    export class UrlParser implements Parser {\n        parser(url: string): string  {\n            return  url.includes('https') ? url.replace('https', 'http') : '';\n        }\n    }\n}\n</code></pre>\n\n<pre><code>// parser.js\nexport default class UrlParser {\n    parser(url)  {\n        return  url.includes('https') ? url.replace('https', 'http') : '';\n    }\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>/// &lt;reference path=\"../lib/parser.d.ts\" /&gt;\nimport * as Parser  from 'parser';\n\nlet urlParser = new Parser.UrlParser()\nconsole.log(urlParser.parser('https://www.baidu.com'))\n</code></pre>\n\n<pre><code>// compiled file I got\n\"use strict\";\nvar __importStar = (this &amp;&amp; this.__importStar) || function (mod) {\n    if (mod &amp;&amp; mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/// &lt;reference path=\"../lib/parser.d.ts\" /&gt;\nvar Parser = __importStar(require(\"parser\"));\nvar urlParser = new Parser.UrlParser();\nconsole.log(urlParser.parser('https://www.baidu.com'));\n\n</code></pre>\n\n<p>I got an error when I executed the node ./dest/main/js command.</p>\n\n<pre><code>Error: Cannot find module 'parser'\n</code></pre>\n"}, {"tags": ["typescript", "mocha.js", "jestjs", "cypress"], "comments": [{"owner": {"reputation": 1027, "user_id": 2830633, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/vWZ3n.jpg?s=128&g=1", "display_name": "soosap", "link": "https://stackoverflow.com/users/2830633/soosap"}, "edited": false, "score": 0, "creation_date": 1558334472, "post_id": 56149741, "comment_id": 99051676, "body": "It seems like <code>import &#39;jest&#39;</code> on top of a test file is a feasible workaround. Still looking for a proper solution. So if anyone knows how to deal with this, please share :)"}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1558336097, "post_id": 56149741, "comment_id": 99052329, "body": "If you put your integration tests and unit tests in separate folders you can give each a tsconfig file that extends the base and then use this path mapping to null trick to erase the type definitions for the library you don&#39;t want (<a href=\"https://github.com/Microsoft/TypeScript/issues/17042\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/17042</a>)."}, {"owner": {"reputation": 1027, "user_id": 2830633, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/vWZ3n.jpg?s=128&g=1", "display_name": "soosap", "link": "https://stackoverflow.com/users/2830633/soosap"}, "reply_to_user": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1558346451, "post_id": 56149741, "comment_id": 99057594, "body": "Hi @Pace, thanks for the pointer. I have all my integration tests in a separate folder, namely <code>cypress&#47;integration&#47;**&#47;*.spec.tsx</code>. The integration tests should resolve to mocha/chai. On the other hand, the unit tests are all located under <code>src&#47;**&#47;*.test.tsx</code> and should resolve to jest. Following your approach I now created a separate <code>tsconfig.json</code> under <code>cypress&#47;tsconfig.json</code>. That config extends from the root level tsconfig and on top of it has <b>paths mapping</b> set to <code>&quot;paths&quot;: { &quot;jest&quot;: [&quot;.&#47;types&#47;jest&quot;] }</code>. It still only resovles to <b>mocha</b> for both unit and integration tests."}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1558413562, "post_id": 56149741, "comment_id": 99081764, "body": "Hmm, my suggestion wasn&#39;t to add the jest types to the jest tests but to remove the mocha types from the jest tests.  Typescript will automatically load all types from <code>node_modules&#47;@types</code> so unless you want to blacklist that entire folder (which would mean painfully whitelisting each library) you have to use this trick to blacklist <code>mocha</code> by redirecting <code>mocha</code> to an empty <code>.d.ts</code> file that has no content.  You could also do this with multiple <code>package.json</code> but NPM doesn&#39;t support that case well.  Or you could wait for <a href=\"https://github.com/microsoft/TypeScript/issues/18588\" rel=\"nofollow noreferrer\">this feature</a>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1558465074, "post_id": 56149741, "comment_id": 99108020, "body": "<code>paths</code> should be an option"}, {"owner": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "edited": false, "score": 0, "creation_date": 1562750306, "post_id": 56149741, "comment_id": 100471699, "body": "@soosap do you have compilation errors like &quot;Definitions of the following identifiers conflict with those in another file: describe&quot; ?"}, {"owner": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "edited": false, "score": 0, "creation_date": 1562753252, "post_id": 56149741, "comment_id": 100473476, "body": "Type resoving inside IDE can be different from type resolving of launched compiler."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1563195034, "post_id": 56149741, "comment_id": 100607987, "body": "This isn&#39;t really module resolution. Also, paths will definitely not help."}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 7562815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37052bc262bc2b2387cdac7065e224c?s=128&d=identicon&r=PG&f=1", "display_name": "Abbas Cyclewala", "link": "https://stackoverflow.com/users/7562815/abbas-cyclewala"}, "is_accepted": false, "score": 1, "last_activity_date": 1563939993, "creation_date": 1563939993, "answer_id": 57174947, "question_id": 56149741, "link": "https://stackoverflow.com/questions/56149741/how-does-module-resolution-in-typescript-work-for-global-values-i-e-describe/57174947#57174947", "title": "How does module resolution in TypeScript work for global values (i.e. describe)?", "body": "<p>CompilerOptions.types allow you to restrict the typings you want to be available in the scope(folder) </p>\n\n<p>You can try the following:\nCreate a top level tsconfig.json with\nCompilerOptions.types = []</p>\n\n<p>Inside test folder create tsconfig.json and choose jest typings\nCompilerOptions.types = ['jest'] </p>\n\n<p>Similarly inside integration folder, create tsconfig.json and choose mocha typings\nCompilerOptions.types = ['mocha'] </p>\n"}], "owner": {"reputation": 1027, "user_id": 2830633, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/vWZ3n.jpg?s=128&g=1", "display_name": "soosap", "link": "https://stackoverflow.com/users/2830633/soosap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1037, "favorite_count": 1, "answer_count": 1, "score": 14, "last_activity_date": 1563939993, "creation_date": 1557924496, "last_edit_date": 1558333989, "question_id": 56149741, "link": "https://stackoverflow.com/questions/56149741/how-does-module-resolution-in-typescript-work-for-global-values-i-e-describe", "title": "How does module resolution in TypeScript work for global values (i.e. describe)?", "body": "<p>While using jest on its own the corresponding typescript definitions got detected right after installing <code>@types/jest</code>.</p>\n\n<p>I then started to implement integration tests with cypress. Since cypress is using mocha, I now incorrectly see references of mocha type definitions inside my jest tests. In fact, a number of overlapping type definitions are detected. For instance, <code>describe</code> seems to be defined in a number of files. I even tried to implement my own typing for <code>describe</code> pointing to jest. Unfortunately, every single time <strong>mocha</strong> \"wins\".</p>\n\n<p>How can I specify the order of precedence when multiple definitions are detected by the typescript compiler? </p>\n\n<p><a href=\"https://i.stack.imgur.com/27HYn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/27HYn.png\" alt=\"multiple typescript definitions for describe\"></a></p>\n\n<p>My <code>tsconfig.json</code> looks like this:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"lib\": [ \"dom\", \"dom.iterable\", \"esnext\" ],\n        \"types\": [ \"jest\", \"mocha\" ],\n        \"allowJs\": true,\n        \"skipLibCheck\": true,\n        \"esModuleInterop\": true,\n        \"allowSyntheticDefaultImports\": true,\n        \"strict\": true,\n        \"strictNullChecks\": true,\n        \"forceConsistentCasingInFileNames\": true,\n        \"module\": \"esnext\",\n        \"moduleResolution\": \"node\",\n        \"resolveJsonModule\": true,\n        \"isolatedModules\": false,\n        \"noEmit\": true,\n        \"jsx\": \"preserve\"\n    },\n    \"include\": [ \"src/**/*\" ]\n}\n</code></pre>\n\n<p>However, I also tried the following:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"lib\": [ \"dom\", \"dom.iterable\", \"esnext\" ],\n        \"typeRoots\": [ \"./node_modules/@types\", \"./src/types\" ],\n        \"allowJs\": true,\n        \"skipLibCheck\": true,\n        \"esModuleInterop\": true,\n        \"allowSyntheticDefaultImports\": true,\n        \"strict\": true,\n        \"strictNullChecks\": true,\n        \"forceConsistentCasingInFileNames\": true,\n        \"module\": \"esnext\",\n        \"moduleResolution\": \"node\",\n        \"resolveJsonModule\": true,\n        \"isolatedModules\": false,\n        \"noEmit\": true,\n        \"jsx\": \"preserve\"\n    },\n    \"include\": [ \"src/**/*\" ]\n}\n</code></pre>\n\n<p>In both cases <strong>mocha</strong> is being chosen. How can I switch the type for \"describe &amp; co.\" to <strong>jest</strong>?</p>\n"}, {"tags": ["javascript", "typescript", "import", "electron", "export"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 9955295, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v-v5zIV-AqQ/AAAAAAAAAAI/AAAAAAAAAAo/Nju22dAJbQw/photo.jpg?sz=128", "display_name": "Thall", "link": "https://stackoverflow.com/users/9955295/thall"}, "is_accepted": true, "score": 0, "last_activity_date": 1557943815, "creation_date": 1557943815, "answer_id": 56155319, "question_id": 56148977, "link": "https://stackoverflow.com/questions/56148977/saving-dom-references-outside-of-renderer-class/56155319#56155319", "title": "Saving DOM references outside of renderer class", "body": "<p>It turns out to be a reference 'error' (more of a quirk) caused by Javascript itself.</p>\n\n<p>The reference of <code>this</code> changes when a function is invoked by an Eventlistener, causing <code>this</code> to point to the HTML element instead of the script. Therefore, obviously, it cannot find the reference to the previously saved variable, causing all of these calls to be <code>undefined</code> as there simply IS no variable like that on the HTML-Element.</p>\n\n<p>Two Solutions: </p>\n\n<p>1) And my preferred one: use arrow functions on the Eventlistener, that sets a strict context for <code>this</code>, solving the issue</p>\n\n<pre><code> toAddTo.addEventListener('click', () =&gt; { this.showTheText(); });\n</code></pre>\n\n<p>2) Bind the context to the function. Not sure how that works, but there it is if you wanna google it</p>\n"}], "owner": {"reputation": 41, "user_id": 9955295, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v-v5zIV-AqQ/AAAAAAAAAAI/AAAAAAAAAAo/Nju22dAJbQw/photo.jpg?sz=128", "display_name": "Thall", "link": "https://stackoverflow.com/users/9955295/thall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 56155319, "answer_count": 1, "score": 0, "last_activity_date": 1557943815, "creation_date": 1557921951, "last_edit_date": 1557922767, "question_id": 56148977, "link": "https://stackoverflow.com/questions/56148977/saving-dom-references-outside-of-renderer-class", "title": "Saving DOM references outside of renderer class", "body": "<p>I am new to Electron + Typescript so bear with me please.</p>\n\n<p>Currently, I am simply testing what I can do inside of Electron</p>\n\n<p>Issue: I want to manipulate DOM elements outside the renderer. \nI pass the button I add an Eventlistener to as parameter to a function in test.js. This Evenlistener listens to a 'click' event, which will console.log that the button has been pressed. That works perfectly.</p>\n\n<p>Now I add a Textarea. I pass it as parameter as well and save a reference to it in the test. On Click, a function is called that uses this reference to the textArea to console.log the text of the textArea. </p>\n\n<p>Problem: The textArea reference is defined in the function I add the eventlistener in, but outside this function it is undefined. Why, and what can I do to fix it?</p>\n\n<p>renderer.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { test } from \"./test\";\n\n// This file is required by the index.html file and will\n// be executed in the renderer process for that window.\n// All of the Node.js APIs are available in this process.\n\nlet testInstance = new test();\nlet testButton = document.getElementById(\"test\");\nlet testArea = document.getElementById(\"texttest\");\n\nconsole.log(testArea);\n\ntestInstance.addEventListenerToButton(testButton, testArea);\n</code></pre>\n\n<p>test.ts</p>\n\n<pre><code>export class test{\n\n    textArea;\n\n    addEventListenerToButton(toAddTo, textArea)\n    {\n        // Defined\n        console.log(textArea);\n        this.textArea = textArea;\n        // Defined\n        console.log(this.textArea);\n        toAddTo.addEventListener('click', this.showTheText);\n        // Defined\n        console.log(this.textArea)\n    }\n\n    showTheText()\n    {\n        // Undefined\n        console.log(this.textArea);\n        console.log(this.textArea.value);\n    }\n}\n</code></pre>\n\n<p><code>Expected: showTheText()</code> either works, or throws an error about </p>\n\n<pre><code>textArea.value\n</code></pre>\n\n<blockquote>\n  <p>Unexpected: The error is textArea undefined:</p>\n  \n  <p>Uncaught TypeError: Cannot read property 'value' of undefined\n      at HTMLButtonElement.test.showTheText</p>\n</blockquote>\n"}, {"tags": ["typescript", "alpha-vantage"], "answers": [{"tags": [], "owner": {"reputation": 7807, "user_id": 1019307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0dbc9574f3382f14a5f4c38a0aec4286?s=128&d=identicon&r=PG", "display_name": "HankCa", "link": "https://stackoverflow.com/users/1019307/hankca"}, "is_accepted": true, "score": 0, "last_activity_date": 1558256750, "last_edit_date": 1558256750, "creation_date": 1558230598, "answer_id": 56204157, "question_id": 56148945, "link": "https://stackoverflow.com/questions/56148945/implicit-cast-cant-deal-with-spaces-illegal-characters-in-object-keys/56204157#56204157", "title": "Implicit cast can&#39;t deal with spaces &amp; illegal characters in Object keys", "body": "<p>I wrote a solution with a simple object key mapping function.</p>\n\n<p>I tried to also use AutoMapper-ts - <a href=\"https://www.npmjs.com/package/automapper-ts\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/automapper-ts</a> - so as to make it more clearer about the changes being made.  However it became too difficult to map all cases.  I couldn't get the tests (that act as doco) working in the time I allocated to it.  I've just seen that there is <a href=\"https://github.com/gonza-lito/AutoMapper\" rel=\"nofollow noreferrer\">https://github.com/gonza-lito/AutoMapper</a>, which is a more recently modified fork.  However it is not <code>npm install</code>ing out of the box.  </p>\n\n<p>This is the class I came up with to solve my problem:</p>\n\n<pre><code>export class ObjectUtils {\n\n  static fixKey(key) {\n    const upperCaseReplacer = (match: string, g1: string) =&gt; {\n      return g1.toUpperCase()\n    }\n    const wordsReplacer = (match: string, g1: string, g2: string) =&gt; {\n      return g1 + g2.toUpperCase()\n    }\n    const m1 = key.replace(/^\\d+ *\\. *([a-zA-Z])/, upperCaseReplacer)\n    const m2 = m1.replace(/([a-zA-Z]) +([a-zA-Z])/g, wordsReplacer)\n    const out = m2.replace(/^([a-zA-Z])/, upperCaseReplacer)\n    return out\n  }\n\n  static fixObj(obj: any) {\n    let newObj = null\n    if (Array.isArray(obj)) {\n      newObj = []\n      for (const i of obj) {\n        newObj.push(ObjectUtils.fixObj(i))\n      }\n      return newObj\n    } else if (typeof obj === 'object') {\n      newObj = {}\n      for (const key of Object.keys(obj)) {\n        newObj[ObjectUtils.fixKey(key)] = ObjectUtils.fixObj(obj[key])\n      }\n      return newObj\n    } else {\n      return obj\n    }\n  }\n}\n</code></pre>\n\n<p>This creates the following:</p>\n\n<pre><code>export class Metadata {\n  Information: string\n  Symbol: string\n  LastRefreshed: string\n  OutputSize: string\n  TimeZone: string\n}\n\nexport interface TimeSeries {\n  [date: string]: {\n    Open: string;\n    High: string;\n    Low: string;\n    Close: string;\n    Volume: string;\n  }\n}\n\nexport interface AlphaVantage {\n  Metadata: Metadata\n  DailyTimeSeries?: TimeSeries\n  WeeklyTimeSeries?: TimeSeries\n}\n</code></pre>\n"}], "owner": {"reputation": 7807, "user_id": 1019307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0dbc9574f3382f14a5f4c38a0aec4286?s=128&d=identicon&r=PG", "display_name": "HankCa", "link": "https://stackoverflow.com/users/1019307/hankca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56204157, "answer_count": 1, "score": 0, "last_activity_date": 1558256750, "creation_date": 1557921825, "last_edit_date": 1557978066, "question_id": 56148945, "link": "https://stackoverflow.com/questions/56148945/implicit-cast-cant-deal-with-spaces-illegal-characters-in-object-keys", "title": "Implicit cast can&#39;t deal with spaces &amp; illegal characters in Object keys", "body": "<p>The AlphaVantage API has spaces and periods in the keys.  There is no formal doco for the API, though you can see it in their demo url</p>\n\n<p><a href=\"https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&amp;symbol=MSFT&amp;interval=5min&amp;apikey=demo\" rel=\"nofollow noreferrer\">https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&amp;symbol=MSFT&amp;interval=5min&amp;apikey=demo</a></p>\n\n<p>In my Typescript app I created data structs for this (I'm happy for anyone to copy and use these - perhaps after the solution to my question is found):</p>\n\n<pre><code>export class MetaData {\n  '1. Information': string\n  '2. Symbol': string\n  '3. Last Refreshed': string\n  '4. Output Size': string\n  '5. Time Zone': string\n\n  constructor(one, two, three, four, five) {\n    this['1. Information'] = one\n    this['2. Symbol'] = two\n    this['3. Last Refreshed'] = three\n    this['4. Output Size'] = four\n    this['5. Time Zone'] = five\n  }\n}\n\nexport interface TimeSeries {\n  [date: string]: {\n    '1. open': string;\n    '2. high': string;\n    '3. low': string;\n    '4. close': string;\n    '5. volume': string;\n  }\n}\n\nexport interface AlphaVantage {\n  'Meta Data': MetaData;\n  'Time Series (Daily)'?: TimeSeries;\n  'Time Series (Weekly)'?: TimeSeries;\n}\n</code></pre>\n\n<p>I call the API using <code>alphavantage</code> from NPM and implicitly cast it to my <code>AlphaVantage</code>:</p>\n\n<pre><code>const av: AlphaVantage = await alpha.data.weekly(options.stocks, 'compact', 'json')\n</code></pre>\n\n<p>And then (potentially after some massaging etc) I persist it in a MongoDB collection:</p>\n\n<pre><code>const doc = await this.model.findByIdAndUpdate(proxyModel._id, proxyModel)\n</code></pre>\n\n<p>(The ProxyModel is a DTO used to define database keys such as date, stock symbol etc...  One of the fields is the AlphaVantage data).</p>\n\n<p>This must serialize the data and it errors with:</p>\n\n<pre><code>key 1. Information must not contain '.'\n</code></pre>\n\n<p>Is there an easy way to handle this.  My choice would be to create equivalent objects without spaces:</p>\n\n<pre><code>export interface TimeSeries {\n  [date: string]: {\n    '1_open': string;\n    '2_high': string;\n    '3_low': string;\n    '4_close': string;\n    '5_volume': string;\n  }\n}\n</code></pre>\n\n<p>And then cast to this.  In which case provide a mapping ...</p>\n\n<p>I can see my self creating an implementation.  However before I get in to this I'd like to hear of any ideas how best to handle this data structure.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1557928460, "creation_date": 1557928460, "answer_id": 56151080, "question_id": 56148777, "link": "https://stackoverflow.com/questions/56148777/filtering-array-from-undefined-values/56151080#56151080", "title": "Filtering array from undefined values", "body": "<p>It's because the typings for the method <code>Array&lt;T&gt;.filter()</code> in the standard TypeScript lirbary have an <a href=\"https://github.com/Microsoft/TypeScript/blob/v3.4.5/lib/lib.es5.d.ts#L1320\" rel=\"nofollow noreferrer\">overload signature</a> that specifically narrows the returned array element type if the callback function is known to be a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">user-defined type guard</a> function:</p>\n\n<pre><code> interface Array&lt;T&gt; {\n   filter&lt;S extends T&gt;(\n     callbackfn: (value: T, index: number, array: T[]) =&gt; value is S, \n     thisArg?: any\n   ): S[];\n }\n</code></pre>\n\n<p>Since the type of <code>sheetDataGuard</code> is assignable to <code>(value: SheetData | undefined, index: number, array: Array&lt;SheetData | undefined&gt;) =&gt; value is SheetData</code>, then calling <code>filter</code> on an <code>Array&lt;SheetData | undefined&gt;</code> with <code>sheetDataGuard</code> as the <code>callbackfn</code> parameter will cause the compiler to select that overload with <code>SheetData</code> inferred for <code>S</code>.</p>\n\n<p>But when you call it with <code>(sheetData: SheetData | undefined) =&gt; sheetDataGuard(sheetData)</code> instead, the type of that function is inferred to return just <code>boolean</code>.  That's because user-defined type guard functions <a href=\"https://github.com/microsoft/TypeScript/issues/10734\" rel=\"nofollow noreferrer\">do not propagate and are not inferred for you</a>.  A type like <code>x is Y</code> generally gets widened to <code>boolean</code> by the compiler as soon as you start doing things with it.</p>\n\n<p>You could tell the compiler that your arrow function callback is also a type guard by using an arrow-function return type annotation, like this:</p>\n\n<pre><code>const sheetData: Array&lt;SheetData&gt; = formattedValues.filter(\n    (sheetData: SheetData | undefined): sheetData is SheetData =&gt;\n        sheetDataGuard(sheetData)\n);\n</code></pre>\n\n<p>And the compiler should be happy.  Of course if you're going to do this, you might as well forget about defining <code>sheetDataGuard</code> as a separate function:</p>\n\n<pre><code>const sheetData: Array&lt;SheetData&gt; = formattedValues.filter(\n(sheetData: SheetData | undefined): sheetData is SheetData =&gt;\n    !!sheetData\n);\n</code></pre>\n\n<p>Anyway, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 392, "user_id": 10159768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V3LdT.jpg?s=128&g=1", "display_name": "Arin", "link": "https://stackoverflow.com/users/10159768/arin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 56151080, "answer_count": 1, "score": 0, "last_activity_date": 1557928460, "creation_date": 1557921243, "question_id": 56148777, "link": "https://stackoverflow.com/questions/56148777/filtering-array-from-undefined-values", "title": "Filtering array from undefined values", "body": "<p>Can someone explain to me why in this case:</p>\n\n<pre><code>const dataValues: ValueRange[] = res.data.valueRanges.filter((range: ValueRange) =&gt; range.values);\n\nconst formattedValues: Array&lt;SheetData | undefined&gt; = dataValues.map(this.formatSheetRanges);\n\nconst sheetData: Array&lt;SheetData&gt; = formattedValues.filter((sheetData: SheetData | undefined) =&gt; sheetDataGuard(sheetData));\n\nfunction sheetDataGuard(data: SheetData | undefined): data is SheetData {\n  return !!(&lt;SheetData&gt;data).user;\n}\n</code></pre>\n\n<p>The sheetData array will still complain that the type of it is </p>\n\n<pre><code>Array&lt;SheetData | undefined&gt;\n</code></pre>\n\n<p>but if i change the last filtering to:</p>\n\n<pre><code>const sheetData: Array&lt;SheetData&gt; = formattedValues.filter(sheetDataGuard);\n\n</code></pre>\n\n<p>the typescript doesn't complain anymore?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 465, "user_id": 9960764, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-suynjFtoUqw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2RbGHhNyfjDojbXCu_p8-7TdA36w/mo/photo.jpg?sz=128", "display_name": "Scieur Arnaud", "link": "https://stackoverflow.com/users/9960764/scieur-arnaud"}, "edited": false, "score": 0, "creation_date": 1557997215, "post_id": 56148746, "comment_id": 98956467, "body": "I suppose It&#39;s also possible to store it in the Storage (Local or Session),  But You don&#39;t want to do this for any type of data and it seems more a &quot;I don&#39;t have any better choice&quot; option than anything."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 465, "user_id": 9960764, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-suynjFtoUqw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2RbGHhNyfjDojbXCu_p8-7TdA36w/mo/photo.jpg?sz=128", "display_name": "Scieur Arnaud", "link": "https://stackoverflow.com/users/9960764/scieur-arnaud"}, "edited": false, "score": 0, "creation_date": 1557997338, "post_id": 56148746, "comment_id": 98956529, "body": "No it&#39;s not possible to store it in the storage, since the storage is for primitive types. But you could store it in the window, except that since it&#39;s minified, it wouldn&#39;t be of great help."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1557921162, "creation_date": 1557921162, "answer_id": 56148746, "question_id": 56148646, "link": "https://stackoverflow.com/questions/56148646/is-it-possible-to-access-angular-app-data-from-an-external-javascript-code-in-th/56148746#56148746", "title": "Is it possible to access angular app data from an external Javascript Code in the same project", "body": "<p>It's totally possible, <strong>given certain conditions</strong>. </p>\n\n<p>In case you haven't played with it yet, know that you have a <code>ng</code> global variable in your Angular projects, that is bound to your window. </p>\n\n<p>You can use it with something like this </p>\n\n<pre><code>ng.probe(document.querySelector('app-root')).componentInstance\n</code></pre>\n\n<p>And that should return your app component instance (assuming you use the correct selector). </p>\n\n<p>But this can be done <strong>only if the code isn't minified</strong>, and maybe even <em>when you serve your application</em> (not checked this one). </p>\n\n<p>Other than that, I am not aware of any other technique to access angular features through another script. </p>\n"}], "owner": {"reputation": 465, "user_id": 9960764, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-suynjFtoUqw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2RbGHhNyfjDojbXCu_p8-7TdA36w/mo/photo.jpg?sz=128", "display_name": "Scieur Arnaud", "link": "https://stackoverflow.com/users/9960764/scieur-arnaud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557923127, "creation_date": 1557920902, "last_edit_date": 1557923127, "question_id": 56148646, "link": "https://stackoverflow.com/questions/56148646/is-it-possible-to-access-angular-app-data-from-an-external-javascript-code-in-th", "title": "Is it possible to access angular app data from an external Javascript Code in the same project", "body": "<p>So, this is a theoretical question because I don't have to encounter this problem. But I'm just wondering.</p>\n\n<p>Let say I have an Angular Project Compilated in My PROJECT FOLDER.</p>\n\n<pre><code> &lt;br/&gt;  In this PROJECT FOLDER, I have the other JAVASCRIPT FILE, EXTERNAL to my Angular Project.\n  &lt;br/&gt; \n</code></pre>\n\n<p>In this EXTERNAL Javascript Files, I Would like to access a data or a variable from a file in my Angular Project.</p>\n\n<p>Could it be Possible?</p>\n\n<p>Like an import/export from a file in my Angular Project to a Javascript file Outside of my Compilated Angular.</p>\n\n<p>The part where I'm concerned about is the fact that Angular is compiled in production.</p>\n\n<p>In development, I could easily write a path to an angular file. But Once it's compilated, what would happen?</p>\n\n<p>So is it possible? If yes, how?  When using tools like Webpack? </p>\n"}, {"tags": ["node.js", "angular", "typescript"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1557922770, "post_id": 56148490, "comment_id": 98927690, "body": "But how decorator would decide if cached version should be used? You&#39;ll need to mark somehow which members affect the getter"}, {"owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1557923123, "post_id": 56148490, "comment_id": 98927935, "body": "yes, I understand, thanks for comment - however, this was only an optional requirement to this question - see my comment to @estus answer below"}], "answers": [{"comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1557922886, "post_id": 56149214, "comment_id": 98927770, "body": "But in this case cache will be never invalidated, right?"}, {"owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "edited": false, "score": 0, "creation_date": 1557922962, "post_id": 56149214, "comment_id": 98927822, "body": "brilliant answer - will try it out when I get a chance and accept if it works - this doesn&#39;t help when using memoize since the decorated function must be pure and getters often aren&#39;t pure - but generally this is a wonderful approach (if it works which I am sure it will) - many thanks :)"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1557922969, "post_id": 56149214, "comment_id": 98927829, "body": "@AlekseyL. Yes. If you need to memoize it depending on <code>memoizeEyeSrc</code> arguments, of course you need a separate function. But you can still can make <code>descriptor.get = </code> a wrapper around <code>memoizee</code> to decide whether it needs to be invalidated based on <code>this</code> properties."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1557923934, "post_id": 56149214, "comment_id": 98928456, "body": "Another thing - it seems that decorated getter won&#39;t be able to access other instance members (<code>this.*</code>)"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1557924040, "post_id": 56149214, "comment_id": 98928522, "body": "@AlekseyL. It can be accessed, it&#39;s a common case , <code>descriptor.get = function () { &#47;* this is class instance here *&#47; }</code>."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1557924294, "post_id": 56149214, "comment_id": 98928664, "body": "Right, makes sense. Thanks!"}, {"owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "edited": false, "score": 0, "creation_date": 1557943167, "post_id": 56149214, "comment_id": 98939570, "body": "thanks @estus I have added my own answer based on yours and would appreciate your feedback on my code. Regardless I am accepting your answer as it set me on the right path :)"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 5, "last_activity_date": 1557922746, "creation_date": 1557922746, "answer_id": 56149214, "question_id": 56148490, "link": "https://stackoverflow.com/questions/56148490/how-to-memoize-a-typescript-getter/56149214#56149214", "title": "how to memoize a TypeScript getter", "body": "<p>The decorator can be extended to support both prototype methods and getters:</p>\n\n<pre><code>export const memoize = (): MethodDecorator =&gt; {\n  return (target: any, propertyKey: string, descriptor: PropertyDescriptor) =&gt; {\n    if ('value' in descriptor) {\n      const func = descriptor.value;\n      descriptor.value = memoizee(func);\n    } else if ('get' in descriptor) {\n      const func = descriptor.get;\n      descriptor.get = memoizee(func);\n    }\n    return descriptor;\n  }\n}\n</code></pre>\n\n<p>And be used directly on a getter:</p>\n\n<pre><code>  @memoize()\n  get leftEyeSrc() {\n    ...\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 2, "creation_date": 1557986096, "post_id": 56155178, "comment_id": 98950984, "body": "IMO path navigation with Lodash is overkill, that it disables type checking is a big disadvantage for TS. In case you need this behaviour, original approach is much more straightforward. The use of memoizeEyeSrc is justified. It shouldn&#39;t necessarily be a part of the class, could be just a helper function."}], "tags": [], "owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "is_accepted": false, "score": 0, "last_activity_date": 1557966977, "last_edit_date": 1557966977, "creation_date": 1557943107, "answer_id": 56155178, "question_id": 56148490, "link": "https://stackoverflow.com/questions/56148490/how-to-memoize-a-typescript-getter/56155178#56155178", "title": "how to memoize a TypeScript getter", "body": "<p>Based on @estus answer, this is what I finally came up with:</p>\n\n<pre><code>@memoize(['this.eyes.left.clickCount'])\nget leftEyeSrc() {\n  return this.eyes.left.clickCount &lt; this.maxEyeClickCount ? this.botEyesDir + '/bot-eye-tiny.png' : this.botEyesDir + '/bot-eye-black-tiny.png'\n}\n</code></pre>\n\n<p>And the memoize decorator is:</p>\n\n<pre><code>// decorated method must be pure when not applied to a getter\n\nimport { get } from 'lodash'\nimport * as memoizee from 'memoizee'\n\n// noinspection JSUnusedGlobalSymbols\nconst options = {\n  normalizer(args) {\n    return args[0]\n  }\n}\n\nconst memoizedFuncs = {}\n\nexport const memoize = (props: string[] = []): MethodDecorator =&gt; {\n  return (target: any, propertyKey: string, descriptor: PropertyDescriptor) =&gt; {\n    props = props.map(prop =&gt; prop.replace(/^this\\./, ''))\n    if ('value' in descriptor) {\n      const valueFunc = descriptor.value\n      descriptor.value = memoizee(valueFunc)\n    } else if ('get' in descriptor) {\n      const getFunc = descriptor.get\n      // args is used here solely for determining the memoize cache - see the options object\n      memoizedFuncs[propertyKey] = memoizee((args: string[], that) =&gt; {\n        const func = getFunc.bind(that)\n        return func()\n      }, options)\n      descriptor.get = function() {\n        const args: string[] = props.map(prop =&gt; get(this, prop))\n        return memoizedFuncs[propertyKey](args, this)\n      }\n    }\n    return descriptor\n  }\n}\n</code></pre>\n\n<p>This allows for an array of strings to be passed in which determine which properties will be used for the memoize cache (in this case only 1 prop - clickCount - is variable, the other 2 are constant).</p>\n\n<p>The memoizee options state that only the first array arg to <code>memoizee((args: string[], that) =&gt; {...})</code> is to be used for memoization purposes.</p>\n\n<p>Still trying to get my head around how beautiful this code is! Must have been having a good day. Thanks to Yeshua my friend and Saviour :)</p>\n"}], "owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3662, "favorite_count": 0, "accepted_answer_id": 56149214, "answer_count": 2, "score": 3, "last_activity_date": 1557966977, "creation_date": 1557920394, "question_id": 56148490, "link": "https://stackoverflow.com/questions/56148490/how-to-memoize-a-typescript-getter", "title": "how to memoize a TypeScript getter", "body": "<p>I am using the following approach to memoize a TypeScript getter using a decorator but wanted to know if there is a better way. I am using the popular <a href=\"https://www.npmjs.com/package/memoizee\" rel=\"nofollow noreferrer\">memoizee</a> package from npm as follows:</p>\n\n<pre><code>import { memoize } from '@app/decorators/memoize'\n\nexport class MyComponent {\n\n  @memoize()\n  private static memoizeEyeSrc(clickCount, maxEyeClickCount, botEyesDir) {\n    return clickCount &lt; maxEyeClickCount ? botEyesDir + '/bot-eye-tiny.png' : botEyesDir + '/bot-eye-black-tiny.png'\n  }\n\n  get leftEyeSrc() {\n    return MyComponent.memoizeEyeSrc(this.eyes.left.clickCount, this.maxEyeClickCount, this.botEyesDir)\n  }\n}\n</code></pre>\n\n<p>AND the memoize decorator is:</p>\n\n<pre><code>// decorated method must be pure\nimport * as memoizee from 'memoizee'\n\nexport const memoize = (): MethodDecorator =&gt; {\n  return (target: any, propertyKey: string, descriptor: PropertyDescriptor) =&gt; {\n    const func = descriptor.value\n    descriptor.value = memoizee(func)\n    return descriptor\n  }\n}\n</code></pre>\n\n<p>Is there a way to do this without using two separate functions in MyComponent and to add the decorator directly to the TypeScript getter instead?</p>\n\n<p>One consideration here is that the decorated function must be pure (in this scenario) but feel free to ignore that if you have an answer that doesn't satisfy this as I have a general interest in how to approach this problem.</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 5518, "user_id": 923340, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/NZPwv.jpg?s=128&g=1", "display_name": "Lukasz &#39;Severiaan&#39; Grela", "link": "https://stackoverflow.com/users/923340/lukasz-severiaan-grela"}, "edited": false, "score": 0, "creation_date": 1557920456, "post_id": 56148430, "comment_id": 98926251, "body": "You did good, can&#39;t see <code>PropTypes.arrayOfLength(3)</code> type:)"}, {"owner": {"reputation": 5518, "user_id": 923340, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/NZPwv.jpg?s=128&g=1", "display_name": "Lukasz &#39;Severiaan&#39; Grela", "link": "https://stackoverflow.com/users/923340/lukasz-severiaan-grela"}, "edited": false, "score": 0, "creation_date": 1557920488, "post_id": 56148430, "comment_id": 98926267, "body": "onthe other hand, you can search for a custom type:) which can implement a count."}, {"owner": {"reputation": 522, "user_id": 262459, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ade08f9d431f75a0180b0ce2a7745d15?s=128&d=identicon&r=PG&f=1", "display_name": "vhflat", "link": "https://stackoverflow.com/users/262459/vhflat"}, "reply_to_user": {"reputation": 5518, "user_id": 923340, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/NZPwv.jpg?s=128&g=1", "display_name": "Lukasz &#39;Severiaan&#39; Grela", "link": "https://stackoverflow.com/users/923340/lukasz-severiaan-grela"}, "edited": false, "score": 0, "creation_date": 1557920590, "post_id": 56148430, "comment_id": 98926330, "body": "I&#39;m looking for something like <code>children: React.ReactChild[](3)</code>, but that doesn&#39;t work. I hate writing the same thing three times."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1557920840, "post_id": 56148430, "comment_id": 98926488, "body": "@vhflat the type itself to do this probably as wordy as writing the same thing 3 times but at least it can be reused :)"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1557920738, "creation_date": 1557920738, "answer_id": 56148600, "question_id": 56148430, "link": "https://stackoverflow.com/questions/56148430/how-can-i-specify-length-of-children-when-type-checking-props/56148600#56148600", "title": "How can I specify length of children when type checking props?", "body": "<p>The important property is <code>length</code> in a tuple. We can use an intersection between an array and a <code>{ length: 3 }</code> type to simulate a tuple of a specific length. This is not exactly a tuple but it will do the job as far as length is concerned. </p>\n\n<pre><code>type ReactChildrenOfLength&lt;T extends number&gt; = [] | (React.ReactChild[] &amp; { length: T })\ninterface Props {\n    children: ReactChildrenOfLength&lt;3&gt;\n}\n\nfunction TopBox({ children }: Props) {\n    return (\n    &lt;div&gt;\n        {children}\n    &lt;/div&gt;\n    );\n}\n\nlet d = &lt;TopBox&gt;\n    &lt;div&gt;&lt;/div&gt;\n    &lt;div&gt;&lt;/div&gt;\n    &lt;div&gt;&lt;/div&gt;\n&lt;/TopBox&gt;\n</code></pre>\n\n<p>One piece of the code above that might cause a bit of confusion is the <code>[] |</code>. If <code>children</code> is not a tuple then Typescript will not bother with tuples for children and our <code>length</code> will have no impact. The <code>[] |</code> forces the compiler to use tuples when building the jsx children.</p>\n"}], "owner": {"reputation": 522, "user_id": 262459, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ade08f9d431f75a0180b0ce2a7745d15?s=128&d=identicon&r=PG&f=1", "display_name": "vhflat", "link": "https://stackoverflow.com/users/262459/vhflat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 56148600, "answer_count": 1, "score": 0, "last_activity_date": 1557920738, "creation_date": 1557920169, "question_id": 56148430, "link": "https://stackoverflow.com/questions/56148430/how-can-i-specify-length-of-children-when-type-checking-props", "title": "How can I specify length of children when type checking props?", "body": "<p>I want my component to only accept 3 children of type <code>React.ReactChild</code>. Tho I'm not sure if <code>ReactChild</code> is the best type to check for. It's basically three <code>sections</code>.</p>\n\n<pre><code>function TopBox({ children }: Props) {\n  return (\n    &lt;Container&gt;\n      {children}\n    &lt;/Container&gt;\n  );\n}\n</code></pre>\n\n<p>Right now I've got something that works. But I'm looking for a shorter expression for this.</p>\n\n<pre><code>interface Props {\n  children: [\n    React.ReactChild,\n    React.ReactChild,\n    React.ReactChild\n  ]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "ionic-framework", "rxjs"], "comments": [{"owner": {"reputation": 701, "user_id": 5934686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7a63bf3a88ad6163953dd5b042f30a6?s=128&d=identicon&r=PG&f=1", "display_name": "matthiasunt", "link": "https://stackoverflow.com/users/5934686/matthiasunt"}, "edited": false, "score": 1, "creation_date": 1557919985, "post_id": 56148342, "comment_id": 98925961, "body": "Please add the full error stack trace."}, {"owner": {"reputation": 59, "user_id": 8512071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e9152088aa2769bbced84295acb397?s=128&d=identicon&r=PG&f=1", "display_name": "Axel_vdbl", "link": "https://stackoverflow.com/users/8512071/axel-vdbl"}, "reply_to_user": {"reputation": 701, "user_id": 5934686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7a63bf3a88ad6163953dd5b042f30a6?s=128&d=identicon&r=PG&f=1", "display_name": "matthiasunt", "link": "https://stackoverflow.com/users/5934686/matthiasunt"}, "edited": false, "score": 0, "creation_date": 1557921458, "post_id": 56148342, "comment_id": 98926850, "body": "I&#39;ve edited my post to show you the full stack trace"}], "owner": {"reputation": 59, "user_id": 8512071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e9152088aa2769bbced84295acb397?s=128&d=identicon&r=PG&f=1", "display_name": "Axel_vdbl", "link": "https://stackoverflow.com/users/8512071/axel-vdbl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1558002970, "answer_count": 0, "score": 1, "last_activity_date": 1557923489, "creation_date": 1557919872, "last_edit_date": 1557923489, "question_id": 56148342, "link": "https://stackoverflow.com/questions/56148342/i-have-some-errors-when-i-try-to-use-ngx-ionic-packages", "closed_reason": "Duplicate", "title": "I have some errors when I try to use /ngx ionic packages", "body": "<p>I want to use firebase or fcm getToken of device but <code>Object (...) is not a function</code> error appear.</p>\n\n<p>I tried to install rxjs@6.0.0 and rxjs-compat@6.2.2 but it still doesn't work.</p>\n\n<p>Ionic 4.12.0\nAngular 5.2.11\nTypescript 2.7.2</p>\n\n<p><a href=\"https://i.stack.imgur.com/IVLzo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IVLzo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["json", "angular", "typescript"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 2, "last_activity_date": 1557919763, "creation_date": 1557919763, "answer_id": 56148306, "question_id": 56148222, "link": "https://stackoverflow.com/questions/56148222/convert-subscription-to-string/56148306#56148306", "title": "Convert subscription to string", "body": "<pre><code>this.usersService\n  .getOneUser()\n  .subscribe(data =&gt; this.users = [data]);\n</code></pre>\n\n<p>Should do it. </p>\n"}, {"tags": [], "owner": {"reputation": 4268, "user_id": 8057071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fcd83e2355a947ce3a6d3969fc21594?s=128&d=identicon&r=PG", "display_name": "Sathiraumesh", "link": "https://stackoverflow.com/users/8057071/sathiraumesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1557919797, "creation_date": 1557919797, "answer_id": 56148321, "question_id": 56148222, "link": "https://stackoverflow.com/questions/56148222/convert-subscription-to-string/56148321#56148321", "title": "Convert subscription to string", "body": "<pre><code>this.users = new Array(1).fill({}).map((_, index) =&gt; {\n      return &lt;User&gt;{\n\n        userName: this.usersService.getOneUser().subscribe(data =&gt; {JSON.stringify(data.userName)})\n\n      };\n    });\n</code></pre>\n\n<p>what may happen is that the call to the <code>getOneUser()</code> may not have been finished because it's an asynchronous call so the <code>Array.fill(..</code> may be finished executing  before actually getting the user</p>\n"}], "owner": {"reputation": 121, "user_id": 7342887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b69022724026dccbad4469c083664b53?s=128&d=identicon&r=PG&f=1", "display_name": "kr_v", "link": "https://stackoverflow.com/users/7342887/kr-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 56148306, "answer_count": 2, "score": 1, "last_activity_date": 1557919797, "creation_date": 1557919501, "question_id": 56148222, "link": "https://stackoverflow.com/questions/56148222/convert-subscription-to-string", "title": "Convert subscription to string", "body": "<p>I have http method that returns one user, this is how it looks when console logged this.usersService.getOneUser().subscribe(data => { console.log(data) });:</p>\n\n<pre><code>email: \"user2@gmail.com\"\nid: \"1\"\nphoneNumber: \"23421234\"\nuserName: \"user2\"\n</code></pre>\n\n<p>Now I have to assign received values to a new array object. I try this code:</p>\n\n<pre><code>    this.users = new Array(1).fill({}).map((_, index) =&gt; {\n      return &lt;User&gt;{\n\n        userName: this.usersService.getOneUser().subscribe(data =&gt; {JSON.stringify(data.userName)})\n\n      };\n    });\n</code></pre>\n\n<p>Tried converting to JSON format, not working. I can add an user if I type values manually, the question is how can I fill it from the data in http request</p>\n\n<pre><code>      return &lt;User&gt;{\n\n        email: 'test@mail.com',\n        id: '1',\n        phoneNumber: '12345',\n        userName: 'user'\n      };\n    });\n</code></pre>\n\n<p>Compiler says userName: Subcription neither type sufficiently overlaps with the other</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 3705, "user_id": 8551976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oxgdN.jpg?s=128&g=1", "display_name": "asimhashmi", "link": "https://stackoverflow.com/users/8551976/asimhashmi"}, "edited": false, "score": 0, "creation_date": 1557919683, "post_id": 56148168, "comment_id": 98925794, "body": "Have you injected your service inside the component?"}, {"owner": {"reputation": 551, "user_id": 4687451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IbZuC.jpg?s=128&g=1", "display_name": "Ikenna Anthony Okafor", "link": "https://stackoverflow.com/users/4687451/ikenna-anthony-okafor"}, "edited": false, "score": 0, "creation_date": 1557919906, "post_id": 56148168, "comment_id": 98925917, "body": "Where do you call <code>PlannerService.getData(id)</code>??"}, {"owner": {"reputation": 9, "user_id": 5837073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACpYg.png?s=128&g=1", "display_name": "d&#228;rko", "link": "https://stackoverflow.com/users/5837073/d%c3%a4rko"}, "reply_to_user": {"reputation": 3705, "user_id": 8551976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oxgdN.jpg?s=128&g=1", "display_name": "asimhashmi", "link": "https://stackoverflow.com/users/8551976/asimhashmi"}, "edited": false, "score": 0, "creation_date": 1557920125, "post_id": 56148168, "comment_id": 98926054, "body": "@AsimHashmi Yes i have injected it and try to use it in the openDialog method."}, {"owner": {"reputation": 9, "user_id": 5837073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACpYg.png?s=128&g=1", "display_name": "d&#228;rko", "link": "https://stackoverflow.com/users/5837073/d%c3%a4rko"}, "reply_to_user": {"reputation": 551, "user_id": 4687451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IbZuC.jpg?s=128&g=1", "display_name": "Ikenna Anthony Okafor", "link": "https://stackoverflow.com/users/4687451/ikenna-anthony-okafor"}, "edited": false, "score": 1, "creation_date": 1557920376, "post_id": 56148168, "comment_id": 98926192, "body": "@IkennaAnthonyOkafor I&#39;m calling it in my openDialog method under the console.log"}, {"owner": {"reputation": 551, "user_id": 4687451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IbZuC.jpg?s=128&g=1", "display_name": "Ikenna Anthony Okafor", "link": "https://stackoverflow.com/users/4687451/ikenna-anthony-okafor"}, "edited": false, "score": 0, "creation_date": 1557920587, "post_id": 56148168, "comment_id": 98926326, "body": "@d&#228;rko You should be doing <code>this.plannerService.getData(id);</code> or set <code>this.id = id;</code> before <code>this.plannerService.getData(this.id);</code>"}, {"owner": {"reputation": 9, "user_id": 5837073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACpYg.png?s=128&g=1", "display_name": "d&#228;rko", "link": "https://stackoverflow.com/users/5837073/d%c3%a4rko"}, "reply_to_user": {"reputation": 551, "user_id": 4687451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IbZuC.jpg?s=128&g=1", "display_name": "Ikenna Anthony Okafor", "link": "https://stackoverflow.com/users/4687451/ikenna-anthony-okafor"}, "edited": false, "score": 0, "creation_date": 1557921547, "post_id": 56148168, "comment_id": 98926911, "body": "@IkennaAnthonyOkafor setting this.id = id before did the trick!"}, {"owner": {"reputation": 551, "user_id": 4687451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IbZuC.jpg?s=128&g=1", "display_name": "Ikenna Anthony Okafor", "link": "https://stackoverflow.com/users/4687451/ikenna-anthony-okafor"}, "edited": false, "score": 0, "creation_date": 1557922796, "post_id": 56148168, "comment_id": 98927707, "body": "Great work!!!!!"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5837073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACpYg.png?s=128&g=1", "display_name": "d&#228;rko", "link": "https://stackoverflow.com/users/5837073/d%c3%a4rko"}, "edited": false, "score": 0, "creation_date": 1557921205, "post_id": 56148448, "comment_id": 98926690, "body": "Thanks for your answer i got it to work with this answer and setting  this.id = id before as Ikenna commented!"}, {"owner": {"reputation": 3705, "user_id": 8551976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oxgdN.jpg?s=128&g=1", "display_name": "asimhashmi", "link": "https://stackoverflow.com/users/8551976/asimhashmi"}, "reply_to_user": {"reputation": 9, "user_id": 5837073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACpYg.png?s=128&g=1", "display_name": "d&#228;rko", "link": "https://stackoverflow.com/users/5837073/d%c3%a4rko"}, "edited": false, "score": 0, "creation_date": 1557921474, "post_id": 56148448, "comment_id": 98926861, "body": "Try logging the <code>id</code> parameter in your <code>getData()</code> method before the listener and then in the listener function"}, {"owner": {"reputation": 3705, "user_id": 8551976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oxgdN.jpg?s=128&g=1", "display_name": "asimhashmi", "link": "https://stackoverflow.com/users/8551976/asimhashmi"}, "reply_to_user": {"reputation": 9, "user_id": 5837073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACpYg.png?s=128&g=1", "display_name": "d&#228;rko", "link": "https://stackoverflow.com/users/5837073/d%c3%a4rko"}, "edited": false, "score": 0, "creation_date": 1557921758, "post_id": 56148448, "comment_id": 98927062, "body": "I don&#39;t think that you need to set <code>this.id</code> if you just pass <code>id</code> param instead of <code>this.id</code> to <code>getData</code> like <code>this.plannerService.getData(id)</code> as I did in my answer :)"}], "tags": [], "owner": {"reputation": 3705, "user_id": 8551976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oxgdN.jpg?s=128&g=1", "display_name": "asimhashmi", "link": "https://stackoverflow.com/users/8551976/asimhashmi"}, "is_accepted": true, "score": 0, "last_activity_date": 1557920235, "creation_date": 1557920235, "answer_id": 56148448, "question_id": 56148168, "link": "https://stackoverflow.com/questions/56148168/pass-value-from-element-inside-ngfor-to-service/56148448#56148448", "title": "pass value from element inside ngFor to Service", "body": "<p>In your component, you can inject your <code>planner</code> service and call its method</p>\n\n<p>Assuming your service name is <code>PlannerService</code></p>\n\n<p>You component contructor would be like this:</p>\n\n<pre><code>constructor(private plannerService: PlannerService) {\n\n}\n</code></pre>\n\n<p>And then in your method you can do this:</p>\n\n<pre><code>openDialog(id: number) {\n    let dialogref = this.dialog.open(IframeComponent, {\n      width: '120vh'\n    });\n    console.log({areaId:id}) // like this {areaId: 20}\n    this.plannerService.getData(id) &lt;-- here id is the parameter you want to send\n    dialogref.afterClosed().subscribe(result =&gt; {\n      console.log(`Dialog closed: ${result}`);\n      this.dialogresult = result;\n    })\n  }\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5837073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACpYg.png?s=128&g=1", "display_name": "d&#228;rko", "link": "https://stackoverflow.com/users/5837073/d%c3%a4rko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56148448, "answer_count": 1, "score": 0, "last_activity_date": 1557920277, "creation_date": 1557919319, "last_edit_date": 1557920277, "question_id": 56148168, "link": "https://stackoverflow.com/questions/56148168/pass-value-from-element-inside-ngfor-to-service", "title": "pass value from element inside ngFor to Service", "body": "<p>I have a component which iterates through an array of areas which all have unique id's. When you click the button it opens a dialog which contains a iframe which listens to an eventlistener and retrieves data as JSON and sends it via post to a INSERT method in my ASP.NET CORE API.</p>\n\n<p>I'm now also trying to send the id of the area and right now I only pass it as a paramter on the openDialog function.</p>\n\n<p>planner.component.html</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;div *ngFor=\"let area of areas\"&gt;\n &lt;div class=\"area-container\"&gt;\n  {{area.areaId}}\n  &lt;button (click)=\"openDialog(area.areaId)\" type=\"button\" class=\"btn btn-primary btn-rounded\"&gt;+&lt;/button&gt;\n &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>planner.component.ts</p>\n\n<p>The dialog opens with the iframe and right now only logs the id of the area. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code> openDialog(id: number) {\n    let dialogref = this.dialog.open(IframeComponent, {\n      width: '120vh'\n    });\n    console.log({areaId:id}) // like this {areaId: 20}\n    this.plannerService.getData(this.id);\n    dialogref.afterClosed().subscribe(result =&gt; {\n      console.log(`Dialog closed: ${result}`);\n      this.dialogresult = result;\n    })\n  }\n\n</code></pre>\n\n<p>in the service i have a eventListener which stores data from the iframe and sends it to my ASP.NET Core API as JSON</p>\n\n<p>You can see here that I'm trying to send in an id but i don't know how to get the value from the planner.component which makes it undefined.</p>\n\n<p>.planner.service.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getData(id: number) {\n    window.addEventListener(\"message\", (e) =&gt; {\n      let data = JSON.parse(e.data)\n      console.log(data);\n      console.log({areaId: id})\n      this.createResource(data, id).subscribe(data =&gt; this.resources.push(data));\n      }, false);\n  }\n</code></pre>\n\n<p>data from iframe as JSON</p>\n\n<pre><code>{id: 282970, title: \"page 1\", description: \"\", thumbnail: \"https://site/image/resourc\u2026umbnail?guid=a0b67c13-ead4-49e0-a576-b4c8be1491b2\", url: \"https://site/l/show.html#PZWQz\", \u2026}\ndescription: \"\"\nguid: \"a0b67c13-ead4-49e0-a576-b4c8be1491b2\"\nid: 282970\nthumbnail: \"https://site/image/resourcethumbnail?guid=a0b67c13-ead4-49e0-a576-b4c8be1491b2\"\ntitle: \"page 1\"\nurl: \"https://site/l/show.html#PZWQz\"\n\n{areaId: undefined}\n</code></pre>\n\n<p>the question is how can a pass the value of the areaId inside the planner.component (which now only gets logged) to my service method so that i can pass it to my API?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 94, "user_id": 10944134, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3d8HYHpCMzc/AAAAAAAAAAI/AAAAAAAAALo/bOlM7qSpdSY/photo.jpg?sz=128", "display_name": "Pravin Pokharkar", "link": "https://stackoverflow.com/users/10944134/pravin-pokharkar"}, "is_accepted": false, "score": 3, "last_activity_date": 1557919501, "creation_date": 1557919501, "answer_id": 56148221, "question_id": 56148143, "link": "https://stackoverflow.com/questions/56148143/foreach-not-working-but-for-is-working-fine/56148221#56148221", "title": "ForEach not working but For is working fine", "body": "<p>in your for loop- your initial 'i' is set to 1 not from 0. so loop starts from index 1.\nIn .forEach(), loop starts from 0. hence loop starts from 0.hence you get additional loop and additional 'A'</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11503721"}, "edited": false, "score": 0, "creation_date": 1557919645, "post_id": 56148236, "comment_id": 98925778, "body": "So How can i start the forEach at index 1 ?"}, {"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1557919743, "post_id": 56148236, "comment_id": 98925827, "body": "That is an X/Y problem. The question is: Why does you array start at 1 instead of 0"}, {"owner": {"reputation": 11031, "user_id": 3083093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a793d3552f6f3864cd024a6c1d92f356?s=128&d=identicon&r=PG", "display_name": "R3tep", "link": "https://stackoverflow.com/users/3083093/r3tep"}, "edited": false, "score": 0, "creation_date": 1557919744, "post_id": 56148236, "comment_id": 98925829, "body": "@stacks I posted an update. You can ignore the index zero"}, {"owner": {"reputation": 94, "user_id": 10944134, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3d8HYHpCMzc/AAAAAAAAAAI/AAAAAAAAALo/bOlM7qSpdSY/photo.jpg?sz=128", "display_name": "Pravin Pokharkar", "link": "https://stackoverflow.com/users/10944134/pravin-pokharkar"}, "edited": false, "score": 0, "creation_date": 1557919924, "post_id": 56148236, "comment_id": 98925930, "body": "@stacks use array.slice(1).forEach();"}], "tags": [], "owner": {"reputation": 11031, "user_id": 3083093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a793d3552f6f3864cd024a6c1d92f356?s=128&d=identicon&r=PG", "display_name": "R3tep", "link": "https://stackoverflow.com/users/3083093/r3tep"}, "is_accepted": false, "score": 2, "last_activity_date": 1557920085, "last_edit_date": 1557920085, "creation_date": 1557919546, "answer_id": 56148236, "question_id": 56148143, "link": "https://stackoverflow.com/questions/56148143/foreach-not-working-but-for-is-working-fine/56148236#56148236", "title": "ForEach not working but For is working fine", "body": "<p>Your are starting the <code>for</code> loop at the index 1 instead zero</p>\n\n<pre><code>for (let i = 1; i &lt; flatItems.length; i++)\n-------------^\n</code></pre>\n\n<p><code>foreach</code> start at the index zero by default </p>\n\n<p>You can check into your loop if the index is zero and use <code>return</code> to get the same result</p>\n\n<p>Like :</p>\n\n<pre><code>flatItems.forEach((flatItem, index) =&gt; {\n    if (index === 0) return;\n\n})\n</code></pre>\n\n<p>Or by using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\" rel=\"nofollow noreferrer\"><code>slice</code></a> :</p>\n\n<pre><code>flatItems.slice(1).forEach(flatItem =&gt; {})\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11503721"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1558436113, "creation_date": 1557919235, "last_edit_date": 1558436113, "question_id": 56148143, "link": "https://stackoverflow.com/questions/56148143/foreach-not-working-but-for-is-working-fine", "title": "ForEach not working but For is working fine", "body": "<p>My logic works fine with for loop, But It dosen't work with foreach.</p>\n\n<p>Not sure why ? </p>\n\n<p>Below is my code.</p>\n\n<pre><code>  for (let i = 1; i &lt; flatItems.length; i++) {\n    const flatItem = flatItems[i]\n    const depthDiff = flatItem.depth - (stack.length - 1)\n    if (depthDiff &lt;= 0) {\n      removeFromEnd(stack, -depthDiff + 1)\n    }\n    const stackTop = stack[stack.length - 1]\n    const newEl = {\n      text: flatItem.text,\n      children: [],\n    }\n    stackTop.children.push(newEl)\n    stack.push(newEl)\n  }\n</code></pre>\n\n<p>Output is ,</p>\n\n<blockquote>\n  <p>root\n  -A\n  -B\n  ---C</p>\n</blockquote>\n\n<p>And I tried with, <code>forEach</code></p>\n\n<pre><code>flatItems.forEach(flatItem =&gt; {})\n</code></pre>\n\n<p>But my output differs,</p>\n\n<blockquote>\n  <p>root\n  -A\n  -A\n  -B\n  ---C</p>\n</blockquote>\n\n<p>So Issue is an additional <code>-A</code>  getting added.</p>\n\n<p>How do I make it working using <code>forEach</code>. Please help.</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1557918629, "post_id": 56147924, "comment_id": 98925231, "body": "please add the wanted result. how should it look like?"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1557918965, "post_id": 56147924, "comment_id": 98925426, "body": "Well, how would you detect that? You&#39;d think just going through and checking if the date is invalid - but look at <code>invoiceId</code>: <code>new Date(20100392077) == Sat Aug 22 1970 01:26:32 GMT+1000 (AEST)</code> (an actual date, not an error / invalid date)."}, {"owner": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1557919125, "post_id": 56147924, "comment_id": 98925504, "body": "@NinaScholz: just added the wished result."}, {"owner": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1557919298, "post_id": 56147924, "comment_id": 98925589, "body": "@JackBashford I know which are the target properties for each array (I commented them in code im my question). Therefore invoiceId would not be in focus for the sorting (even though relevant to fetch eventually the relative object)."}, {"owner": {"reputation": 650, "user_id": 5550687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/prxhW.jpg?s=128&g=1", "display_name": "noox", "link": "https://stackoverflow.com/users/5550687/noox"}, "edited": false, "score": 1, "creation_date": 1557920177, "post_id": 56147924, "comment_id": 98926087, "body": "If the objects are under your control you could probably make classes with a common ancestor class out of them and add a property like <code>sortByDate</code>. If you later have to display these last 4 items in a list it could also help if you have properties (like <code>displayName</code>)."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1557920342, "post_id": 56147924, "comment_id": 98926172, "body": "is the time relevant?"}, {"owner": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1557920398, "post_id": 56147924, "comment_id": 98926217, "body": "@NinaScholz: yes, we should consider the time as well."}, {"owner": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "reply_to_user": {"reputation": 650, "user_id": 5550687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/prxhW.jpg?s=128&g=1", "display_name": "noox", "link": "https://stackoverflow.com/users/5550687/noox"}, "edited": false, "score": 0, "creation_date": 1557920464, "post_id": 56147924, "comment_id": 98926254, "body": "@noox nice hint. we get the DTO from the backend, but I would have the possibility to &quot;enrich&quot; the model with a further property used only for sorting. This would make the overall sorting easier."}], "answers": [{"comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1557918986, "post_id": 56148061, "comment_id": 98925433, "body": "That&#39;s the problem - the OP may not know the name of the date property."}, {"owner": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "edited": false, "score": 0, "creation_date": 1557919363, "post_id": 56148061, "comment_id": 98925620, "body": "I just commented about this. The names of the properties I want to sort are known to me (please see the comments &quot;Field to sort by&quot; in the question)"}, {"owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "reply_to_user": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "edited": false, "score": 0, "creation_date": 1557920456, "post_id": 56148061, "comment_id": 98926250, "body": "@Francesco I have updated the answer. Check to see if it works."}, {"owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "reply_to_user": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "edited": false, "score": 0, "creation_date": 1557921108, "post_id": 56148061, "comment_id": 98926634, "body": "@Francesco I am waiting from your response"}, {"owner": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "edited": false, "score": 0, "creation_date": 1557921327, "post_id": 56148061, "comment_id": 98926763, "body": "@MaheerAli I was in a meeting sorry. I did not test your code yet. However after discussing the suggestion of noox (in comments above), we decided to try using an interface for the 3 DTOs in order to have a unified sorting field. I will though still test your and Nina solution as well!"}], "tags": [], "owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "is_accepted": false, "score": 1, "last_activity_date": 1557921080, "last_edit_date": 1557921080, "creation_date": 1557918962, "answer_id": 56148061, "question_id": 56147924, "link": "https://stackoverflow.com/questions/56147924/sort-three-distinct-arrays-of-objects-by-property/56148061#56148061", "title": "Sort three distinct arrays of objects by property", "body": "<p>You can do that in following steps:</p>\n\n<ul>\n<li>First use nested <code>map()</code> to add another property with a name <code>key</code> whose value will be that value on which the object is needed to be sorted.</li>\n<li>Then use <code>flat()</code> to make a 1D array</li>\n<li>Then apply <code>sort()</code> and then <code>sort()</code> on the basis of value of that key which we added in map.</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const documents = [ { documentId: 'ADB0125A', fileName: 'test_2018.pdf', date: '2017-12-02T19:08:52+01:00' }, { documentId: '123456', fileName: 'test2_2018.pdf', date: '2017-12-12T22:08:52+01:00' }, { documentId: '121212', fileName: 'test3_2018.pdf', date: '2018-05-22T23:08:52+01:00' }]; const conversations = [ { conversationId: '1102', lastUpdate: '2015-10-10T18:19:12+01:00' }, { conversationId: '5622', lastUpdate: '2019-08-16T18:19:12+01:00' }, { conversationId: '112', lastUpdate: '2015-10-26T18:19:12+01:00' }]; const invoices = [ { invoiceId: \"20100392077\", rechnungsDatum: \"2019-02-10\" }, { invoiceId: \"5550392077\", rechnungsDatum: \"2018-02-05\" }, { invoiceId: \"3336392077\", rechnungsDatum: \"2018-12-11\" }];\r\n\r\n\r\nlet keys = ['date','lastUpdate','rechnungsDatum'];\r\n\r\n\r\nconst res = [documents,conversations,invoices]\r\n                         .map((x,i) =&gt; x.map(a =&gt; (\r\n                               {...a,key:a[keys[i]]}))\r\n                        ).flat()\r\n                         .sort((a,b) =&gt; a.key.localeCompare(b.key))\r\n                         .slice(-4)\r\n                         .reverse()\r\n                         .map(({key,...rest}) =&gt; rest)\r\n                          \r\nconsole.log(res)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 384, "user_id": 6613550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ykWChhVw07k/AAAAAAAAAAI/AAAAAAAAACc/9DVtEKC3oiI/photo.jpg?sz=128", "display_name": "Manish Khedekar", "link": "https://stackoverflow.com/users/6613550/manish-khedekar"}, "edited": false, "score": 0, "creation_date": 1557920999, "post_id": 56148215, "comment_id": 98926571, "body": "@Francesco please check out the answer, please let me know if it worked."}], "tags": [], "owner": {"reputation": 384, "user_id": 6613550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ykWChhVw07k/AAAAAAAAAAI/AAAAAAAAACc/9DVtEKC3oiI/photo.jpg?sz=128", "display_name": "Manish Khedekar", "link": "https://stackoverflow.com/users/6613550/manish-khedekar"}, "is_accepted": false, "score": 0, "last_activity_date": 1557921259, "last_edit_date": 1557921259, "creation_date": 1557919478, "answer_id": 56148215, "question_id": 56147924, "link": "https://stackoverflow.com/questions/56147924/sort-three-distinct-arrays-of-objects-by-property/56148215#56148215", "title": "Sort three distinct arrays of objects by property", "body": "<p>You may write something as below,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const result = [\r\n    {\r\n        conversationId: '5622',\r\n        lastUpdate: '2019-08-16T18:19:12+01:00'\r\n    },\r\n    {\r\n        invoiceId: \"20100392077\",\r\n        rechnungsDatum: \"2019-02-10\"\r\n    },\r\n    {\r\n        invoiceId: \"3336392077\",\r\n        rechnungsDatum: \"2018-12-11\"\r\n    },\r\n    {\r\n        documentId: '121212',\r\n        fileName: 'test3_2018.pdf',\r\n        date: '2018-05-22T23:08:52+01:00'\r\n    }\r\n]\r\n\r\nlet fields = [\"date\",\"rechnungsDatum\",\"lastUpdate\"];\r\n         \r\nresult.sort( (a,b)=&gt; {\r\n                let dateA, dateB;\r\n                \r\n                fields.forEach( field =&gt;{\r\n                  if(a.hasOwnProperty(field))\r\n                    dateA = new Date(a[field]);\r\n                    \r\n                  if(b.hasOwnProperty(field))\r\n                    dateB = new Date(b[field]);\r\n                });\r\n                \r\n                return dateA - dateB;});\r\n                \r\nconsole.log(result.reverse());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Let me know if it worked.</p>\n"}, {"comments": [{"owner": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "edited": false, "score": 0, "creation_date": 1557921449, "post_id": 56148286, "comment_id": 98926842, "body": "I would have to change the .entries() as it is not supported by IE (probably doable with polyfills)"}, {"owner": {"reputation": 7992, "user_id": 1487756, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1b0a7537f823b23cf0bfb095673226e2?s=128&d=identicon&r=PG&f=1", "display_name": "Moritz Roessler", "link": "https://stackoverflow.com/users/1487756/moritz-roessler"}, "reply_to_user": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "edited": false, "score": 0, "creation_date": 1557923300, "post_id": 56148286, "comment_id": 98928060, "body": "@Francesco Wish I had read that an hour before, I guess WeakMap is not supported either."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 3, "last_activity_date": 1557920596, "last_edit_date": 1557920596, "creation_date": 1557919690, "answer_id": 56148286, "question_id": 56147924, "link": "https://stackoverflow.com/questions/56147924/sort-three-distinct-arrays-of-objects-by-property/56148286#56148286", "title": "Sort three distinct arrays of objects by property", "body": "<p>You could take an object with the replacemnt keys for the wanted date property and a flat array which keeps the source and a normalized date propery, sort the array and get the top four elements back.</p>\n\n<p>At the end remove unnecessary information and retrieve the original object structure.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\r\n    documents = [{ documentId: 'ADB0125A', fileName: 'test_2018.pdf', date: '2017-12-02T19:08:52+01:00' }, { documentId: '123456', fileName: 'test2_2018.pdf', date: '2017-12-12T22:08:52+01:00' }, { documentId: '121212', fileName: 'test3_2018.pdf', date: '2018-05-22T23:08:52+01:00' }],\r\n    conversations = [{ conversationId: '1102', lastUpdate: '2015-10-10T18:19:12+01:00' }, { conversationId: '5622', lastUpdate: '2019-08-16T18:19:12+01:00' }, { conversationId: '112', lastUpdate: '2015-10-26T18:19:12+01:00' }],\r\n    invoices = [{ invoiceId: \"20100392077\", rechnungsDatum: \"2019-02-10\" }, { invoiceId: \"5550392077\", rechnungsDatum: \"2018-02-05\" }, { invoiceId: \"3336392077\", rechnungsDatum: \"2018-12-11\" }]\r\n    keys = { documents: 'date', conversations: 'lastUpdate', invoices: 'rechnungsDatum' },\r\n    result = Object\r\n        .entries({ documents, conversations, invoices })\r\n        .reduce((r, [k, v]) =&gt; [...r, ...v.map(payload =&gt; ({ payload, date: payload[keys[k]] }))], [])\r\n        .sort((a, b) =&gt; b.date.localeCompare(a.date))\r\n        .slice(0, 4)\r\n        .map(({ payload }) =&gt; payload);\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "edited": false, "score": 0, "creation_date": 1557920112, "post_id": 56148296, "comment_id": 98926048, "body": "This approach would not cover my case. I need the &quot;newest&quot; 4 elements from the three arrays. Therefore it could be that all 4 elements belong to the same array or any other possible permutation."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "reply_to_user": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "edited": false, "score": 0, "creation_date": 1557920354, "post_id": 56148296, "comment_id": 98926179, "body": "@Francesco So, why does the <code>invoices</code> return 2 latest items? Is this fixed always?"}, {"owner": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "edited": false, "score": 0, "creation_date": 1557920589, "post_id": 56148296, "comment_id": 98926329, "body": "invoices return 2 results as it has 2 among the (4) newest results. It is just a mater of returning the latest &quot;date type&quot; field."}, {"owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "edited": false, "score": 1, "creation_date": 1557921287, "post_id": 56148296, "comment_id": 98926746, "body": "@adiga I think you misunderstood. He want to convert all three array into 1D array. And then <code>sort()</code> object from different arrays to be sorted based on their different keys. And then he want last four elements out of those."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "reply_to_user": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "edited": false, "score": 0, "creation_date": 1557921599, "post_id": 56148296, "comment_id": 98926949, "body": "@MaheerAli there was not mention of 4 in the original question, so I got confused. Updated now"}], "tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": false, "score": 0, "last_activity_date": 1557922036, "last_edit_date": 1557922036, "creation_date": 1557919730, "answer_id": 56148296, "question_id": 56147924, "link": "https://stackoverflow.com/questions/56147924/sort-three-distinct-arrays-of-objects-by-property/56148296#56148296", "title": "Sort three distinct arrays of objects by property", "body": "<p>You could add a <code>sortBy</code> filed to each object in all arrays. Then merge the array of objects and sort based on the custom field. Get the top 4 results. Then remove the <code>sortBy</code> column:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const documents=[{documentId:'ADB0125A',fileName:'test_2018.pdf',date:'2017-12-02T19:08:52+01:00'},{documentId:'123456',fileName:'test2_2018.pdf',date:'2017-12-12T22:08:52+01:00'},{documentId:'121212',fileName:'test3_2018.pdf',date:'2018-05-22T23:08:52+01:00'}],\r\n    conversations=[{conversationId:'1102',lastUpdate:'2015-10-10T18:19:12+01:00'},{conversationId:'5622',lastUpdate:'2019-08-16T18:19:12+01:00'},{conversationId:'112',lastUpdate:'2015-10-26T18:19:12+01:00'}],\r\n    invoices=[{invoiceId:\"20100392077\",rechnungsDatum:\"2019-02-10\"},{invoiceId:\"5550392077\",rechnungsDatum:\"2018-02-05\"},{invoiceId:\"3336392077\",rechnungsDatum:\"2018-12-11\"}];\r\n    \r\nconst addSortBy = (arr, sortBy) =&gt; arr.map(a =&gt; ({ ...a, sortBy: new Date(a[sortBy]) })),\r\n      takeCount = 4; // number of items needed in the output\r\n\r\n// has all objects with an extra key which field to sortby\r\nconst merged = [...addSortBy(documents, \"date\"),\r\n                ...addSortBy(conversations, \"lastUpdate\"),\r\n                ...addSortBy(invoices, \"rechnungsDatum\")]\r\n\r\n// sort based on the date property in sortBy\r\nconst output = merged.sort((a, b) =&gt; b.sortBy - a.sortBy)\r\n                      .slice(0, takeCount)\r\n                      .map(({ sortBy, ...rest }) =&gt; rest); // remove the sortBy field from objects\r\n                      \r\nconsole.log(output)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 7992, "user_id": 1487756, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1b0a7537f823b23cf0bfb095673226e2?s=128&d=identicon&r=PG&f=1", "display_name": "Moritz Roessler", "link": "https://stackoverflow.com/users/1487756/moritz-roessler"}, "is_accepted": false, "score": 1, "last_activity_date": 1557925836, "last_edit_date": 1557925836, "creation_date": 1557922849, "answer_id": 56149246, "question_id": 56147924, "link": "https://stackoverflow.com/questions/56147924/sort-three-distinct-arrays-of-objects-by-property/56149246#56149246", "title": "Sort three distinct arrays of objects by property", "body": "<p>You can use a <em>WeakMap</em> to store a reference to the object property the array should be sorted by and simply look up the value using the stored property. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const flatten = (flat, arr) =&gt; [...flat, ...arr];\r\nconst PropMap = (props, arrs) =&gt; {\r\n\tlet map = new WeakMap();\r\n\tfor (let i=-1, arr; arr = arrs [++i];)\r\n        for (let j=0, obj; obj = arr [j++];)     \r\n             map.set (obj, props [i])\r\n    return map;\r\n}\r\nPropMap.SortBy = map =&gt; (a,b) =&gt; {\r\n   let [l, r] = [a,b].map (obj =&gt; obj [map.get (obj)])\r\n   return l&gt;r?-1:l&lt;r?1:0\r\n}\r\n\r\nconst data = [documents, conversations, invoices];\r\nconst props = [\"date\", \"lastUpdate\", \"rechnungsDatum\"]\r\nconst map = PropMap (props,data);\r\n\r\nconsole.log (\r\n  data.reduce (flatten, []).sort (PropMap.SortBy (map)).slice (0,4)\r\n)\r\n    \r\n    \r\n    </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script&gt;\r\nconst\r\n    documents = [{ documentId: 'ADB0125A', fileName: 'test_2018.pdf', date: '2017-12-02T19:08:52+01:00' }, { documentId: '123456', fileName: 'test2_2018.pdf', date: '2017-12-12T22:08:52+01:00' }, { documentId: '121212', fileName: 'test3_2018.pdf', date: '2018-05-22T23:08:52+01:00' }],\r\n    conversations = [{ conversationId: '1102', lastUpdate: '2015-10-10T18:19:12+01:00' }, { conversationId: '5622', lastUpdate: '2019-08-16T18:19:12+01:00' }, { conversationId: '112', lastUpdate: '2015-10-26T18:19:12+01:00' }],\r\n    invoices = [{ invoiceId: \"20100392077\", rechnungsDatum: \"2019-02-10\" }, { invoiceId: \"5550392077\", rechnungsDatum: \"2018-02-05\" }, { invoiceId: \"3336392077\", rechnungsDatum: \"2018-12-11\" }]\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 1, "last_activity_date": 1557924708, "last_edit_date": 1557924708, "creation_date": 1557924376, "answer_id": 56149702, "question_id": 56147924, "link": "https://stackoverflow.com/questions/56147924/sort-three-distinct-arrays-of-objects-by-property/56149702#56149702", "title": "Sort three distinct arrays of objects by property", "body": "<p>Here is another approach that I think improves readability:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const by = (name) =&gt; (data) =&gt; data.map(d =&gt; [d[name], d])\r\n\r\nconst topFourNewest = (...types) =&gt; types\r\n  .reduce ( (a, b) =&gt; a.concat(b) )\r\n  .sort ( (a, b, aa = a[0], bb = b[0]) =&gt; aa &lt; bb ? 1 : aa &gt; bb ? -1 : 0 )\r\n  .map ( ([name, value]) =&gt; value )\r\n  .slice (0, 4)\r\n\r\nconst documents = [{documentId:\"ADB0125A\",fileName:\"test_2018.pdf\",date:\"2017-12-02T19:08:52+01:00\"},{documentId:\"123456\",fileName:\"test2_2018.pdf\",date:\"2017-12-12T22:08:52+01:00\"},{documentId:\"121212\",fileName:\"test3_2018.pdf\",date:\"2018-05-22T23:08:52+01:00\"}]\r\nconst conversations = [{conversationId:\"1102\",lastUpdate:\"2015-10-10T18:19:12+01:00\"},{conversationId:\"5622\",lastUpdate:\"2019-08-16T18:19:12+01:00\"},{conversationId:\"112\",lastUpdate:\"2015-10-26T18:19:12+01:00\"}]\r\nconst invoices=[{invoiceId:\"20100392077\",rechnungsDatum:\"2019-02-10\"},{invoiceId:\"5550392077\",rechnungsDatum:\"2018-02-05\"},{invoiceId:\"3336392077\",rechnungsDatum:\"2018-12-11\"}]\r\n\r\nconsole .log (\r\n  topFourNewest (\r\n    by ('date') (documents),\r\n    by ('lastUpdate') (conversations),\r\n    by ('rechnungsDatum') (invoices)\r\n  )\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Our little helper function <code>by</code> wraps each value of an array inside a two-element array, with the key field first and the whole object second.  (An equally good alternative would be to wrap them in <code>{key, value}</code> objects.)</p>\n\n<p>There are four steps in the main function: <code>reduce</code> combines these lists generated in <code>by</code> into a single one.  <code>sort</code>, obviously, sorts them.  (It sorts them descending, for this problem, but if I were to make this more generic, I would probably do a natural sort and reverse them in a separate function.  That would only involve swapping <code>-1</code> and <code>1</code>.)  <code>map</code> simply extracts back out the original objects.  And <code>slice</code> chooses the top four elements.</p>\n\n<hr>\n\n<p>There are several variants we could imagine that skip the helper function, and none would be hard to write.  They might have APIs like these:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>topFourNewest (\n  'date', documents,\n  'lastUpdate', conversations,\n  'rechnungsDatum', invoices\n)\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>topFourNewest (\n  {key: 'date', data: documents},\n  {key: 'lastUpdate', data: conversations},\n  {key: 'rechnungsDatum', data: invoices}\n)\n</code></pre>\n\n<p>or, with a helper function (<code>const prop = (name) =&gt; (obj) =&gt; obj[name]</code>), we could have additional flexibility:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>topFourNewest (\n  ( prop ('date'), documents ),\n  ( prop ('lastUpdate'), conversations ),\n  ( prop ('rechnungsDatum'), invoices )\n)\n</code></pre>\n\n<p>or even</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>topFourNewest (\n  {date: documents},\n  {lastUpdate: conversations},\n  {rechnungsDatum: invoices}\n)\n</code></pre>\n\n<p>But I like the way this initial version reads.</p>\n\n<hr>\n\n<p>There are several variants I could see being useful.  We could parameterize the number <code>4</code>; it makes sense that we might want the top three or the top ten.  And we could separate out the combining and sorting, using a second function to extract the number of values we want to choose.  These would be very easy to do.</p>\n"}], "owner": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 2, "accepted_answer_id": 56148286, "answer_count": 6, "score": 4, "last_activity_date": 1557925836, "creation_date": 1557918550, "last_edit_date": 1557919098, "question_id": 56147924, "link": "https://stackoverflow.com/questions/56147924/sort-three-distinct-arrays-of-objects-by-property", "title": "Sort three distinct arrays of objects by property", "body": "<p>I have three different array of objects that I need to sort over a <code>Date</code> field, where the field has a different name in each group. </p>\n\n<p>Below an example of my data:</p>\n\n<pre><code>const documents = [\n{\n    documentId: 'ADB0125A',\n    fileName: 'test_2018.pdf',\n    date': '2017-12-02T19:08:52+01:00'  // Field to sort by\n},\n{\n    documentId: '123456',\n    fileName: 'test2_2018.pdf',\n    date': '2017-12-12T22:08:52+01:00'  // Field to sort by\n},\n{\n    documentId: '121212',\n    fileName: 'test3_2018.pdf',\n    date': '2018-05-22T23:08:52+01:00'  // Field to sort by\n}];\n\nconst conversations = [\n{\n    conversationId: '1102',\n    lastUpdate: '2015-10-10T18:19:12+01:00'  // Field to sort by\n},\n{\n    conversationId: '5622',\n    lastUpdate: '2019-08-16T18:19:12+01:00'  // Field to sort by\n},\n{\n    conversationId: '112',\n    lastUpdate: '2015-10-26T18:19:12+01:00'  // Field to sort by\n}];\n\nconst invoices = [\n{\n    invoiceId: \"20100392077\",\n    rechnungsDatum: \"2019-02-10\"  // Field to sort by\n},\n{\n    invoiceId: \"5550392077\",\n    rechnungsDatum: \"2018-02-05\"  // Field to sort by\n},\n{\n    invoiceId: \"3336392077\",\n    rechnungsDatum: \"2018-12-11\"  // Field to sort by\n}];\n</code></pre>\n\n<p><strong>GOAL:</strong> return the lastest 4 results (this I can get with a <code>.reverse()</code> once I have a final set listed <code>ASC</code>), independently from which source they come from. I would expect to get:</p>\n\n<pre><code>const result = [\n    {\n        conversationId: '5622',\n        lastUpdate: '2019-08-16T18:19:12+01:00'\n    },\n    {\n        invoiceId: \"20100392077\",\n        rechnungsDatum: \"2019-02-10\"\n    },\n    {\n        invoiceId: \"3336392077\",\n        rechnungsDatum: \"2018-12-11\"\n    },\n    {\n        documentId: '121212',\n        fileName: 'test3_2018.pdf',\n        date': '2018-05-22T23:08:52+01:00'\n    }\n]\n</code></pre>\n\n<p>Is it possible to use a unique <code>Array.sort</code> method for all the three objects or the only way is to compare them in couples and build the result from partial results?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "edited": false, "score": 0, "creation_date": 1557918671, "post_id": 56147934, "comment_id": 98925256, "body": "When fetching data it is from @ionic/storage so there isn&#39;t any http request being made"}, {"owner": {"reputation": 104, "user_id": 9358873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chestas", "link": "https://stackoverflow.com/users/9358873/chestas"}, "reply_to_user": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "edited": false, "score": 0, "creation_date": 1557919410, "post_id": 56147934, "comment_id": 98925655, "body": "it doesn&#39;t matter. or i don&#39;t understand your question( . see example in my answer"}, {"owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "edited": false, "score": 0, "creation_date": 1557919520, "post_id": 56147934, "comment_id": 98925716, "body": "Alright, sorry, when you posted it there wasn&#39;t code sorry about that."}, {"owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "edited": false, "score": 0, "creation_date": 1557920265, "post_id": 56147934, "comment_id": 98926132, "body": "Alright, looks like that solved the initial problem, looks like I need to edit my code so that it will update the state and delete the state accordingly, because when I add to the state it is not adding to the array the item. Anyways, thank you for your help with this one!"}, {"owner": {"reputation": 104, "user_id": 9358873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chestas", "link": "https://stackoverflow.com/users/9358873/chestas"}, "reply_to_user": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "edited": false, "score": 0, "creation_date": 1557921548, "post_id": 56147934, "comment_id": 98926912, "body": "don&#39;t understand about adding the item to array. maybe you should add different stateKey to different data? ex: <code>makeStateKey(`chat_${id}`)</code>. and update state for specific key means to reset full data for this key."}, {"owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "edited": false, "score": 0, "creation_date": 1557927010, "post_id": 56147934, "comment_id": 98930512, "body": "with the fast coding you did above it works with loading the chats only once, essentially just reading from state. However, when adding a new item to the conversation object, or when adding a new object to the listOfChats, they are not being shown on screen"}, {"owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "edited": false, "score": 0, "creation_date": 1557927399, "post_id": 56147934, "comment_id": 98930754, "body": "so it looks like I got it to update. The issue was that I was opening a modal, and when opening the modal it would send to the data service the info of the chat, which would be saved to the conversations obj. Now, I modified the code, so that there is a function responsible for updating (or setting) the TransferState, sending the Event to observers, and saving to the SQLite instance on the device"}], "tags": [], "owner": {"reputation": 104, "user_id": 9358873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chestas", "link": "https://stackoverflow.com/users/9358873/chestas"}, "is_accepted": true, "score": 1, "last_activity_date": 1557919372, "last_edit_date": 1557919372, "creation_date": 1557918567, "answer_id": 56147934, "question_id": 56147740, "link": "https://stackoverflow.com/questions/56147740/angular-how-to-make-sure-that-data-is-loaded-only-once/56147934#56147934", "title": "Angular - How to make sure that data is loaded only once", "body": "<p>look at <a href=\"https://angular.io/api/platform-browser/TransferState\" rel=\"nofollow noreferrer\">TransferState</a> it is used for transfer data between server side (angular universal) and client side, but I think it is ok to use it only for client side</p>\n\n<pre><code>import {makeStateKey, TransferState} from '@angular/platform-browser';\n\nexport class DataService {\n\n//the object where it is all stored\nprivate conversations: any = {\n    peerToPeer: {},\n    groups: {},\n};\n\nconstructor(\n    private state: TransferState,\n) {\n\n}\n\nprivate listOfChats: Array&lt;any&gt; = new Array&lt;any&gt;();\nprivate bsListOfChats$: BehaviorSubject&lt;any&gt; = new BehaviorSubject&lt;any&gt;(this.listOfChats);\n\npublic loadConversations() {\n    const stateKey = makeStateKey('conversations'); // 1 create stateKey\n    const data = this.state.get(stateKey, null as any); // 2 get data from state\n    if (data) { // 3 if data in state use it\n        this.conversations = data;\n    } else {\n        this.storage.get('conversations').then(chat=&gt; {\n            this.conversations = chat;\n            this.formatChats(this.conversations);//converts the Object to an Array so *ngFor directive can be used\n            this.state.set(stateKey, {...this.conversations}); // 4 set data to storage\n        });\n    }\n}\n\npublic hasChats() {\n    return this.listOfChats;\n}\n\npublic getChatList$() {\n    return this.bsListOfChats$;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>fast edit your code, could be rewritten in better way</p>\n"}, {"comments": [{"owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "edited": false, "score": 0, "creation_date": 1557919388, "post_id": 56148059, "comment_id": 98925641, "body": "tried that, it doesn&#39;t do an initial load and upon re entering it continues to load."}, {"owner": {"reputation": 282, "user_id": 9301293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/476e1284f6710238a2ef02c523ddc027?s=128&d=identicon&r=PG&f=1", "display_name": "Y_Moshe", "link": "https://stackoverflow.com/users/9301293/y-moshe"}, "reply_to_user": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "edited": false, "score": 0, "creation_date": 1557920276, "post_id": 56148059, "comment_id": 98926135, "body": "wait wait wait, why it is async on ngOnInit? is it fine? because I never show use like this. ngOnInit should be a normal function, there u can put any async code, try to fix that and fix _chatInit so it will return something just test it. and btw why u make _chatInit async if u are not using the await keyword over there? u could use a simple promise"}, {"owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "edited": false, "score": 0, "creation_date": 1557920340, "post_id": 56148059, "comment_id": 98926171, "body": "It was there because in the init there was an async call to storage, but since I moved the call I have since taken it off, sorry, typo on my side :^)"}], "tags": [], "owner": {"reputation": 282, "user_id": 9301293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/476e1284f6710238a2ef02c523ddc027?s=128&d=identicon&r=PG&f=1", "display_name": "Y_Moshe", "link": "https://stackoverflow.com/users/9301293/y-moshe"}, "is_accepted": false, "score": 0, "last_activity_date": 1557918949, "creation_date": 1557918949, "answer_id": 56148059, "question_id": 56147740, "link": "https://stackoverflow.com/questions/56147740/angular-how-to-make-sure-that-data-is-loaded-only-once/56148059#56148059", "title": "Angular - How to make sure that data is loaded only once", "body": "<p>do this:</p>\n\n<pre><code>@Component({\n  //...\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n</code></pre>\n\n<p>check out: <a href=\"https://blog.angular-university.io/how-does-angular-2-change-detection-really-work/\" rel=\"nofollow noreferrer\">https://blog.angular-university.io/how-does-angular-2-change-detection-really-work/</a></p>\n"}], "owner": {"reputation": 591, "user_id": 8635165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbea5b39c84b0233d3f4b383461ad08f?s=128&d=identicon&r=PG", "display_name": "Ctfrancia", "link": "https://stackoverflow.com/users/8635165/ctfrancia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 56147934, "answer_count": 2, "score": 0, "last_activity_date": 1557919372, "creation_date": 1557917993, "last_edit_date": 1557919179, "question_id": 56147740, "link": "https://stackoverflow.com/questions/56147740/angular-how-to-make-sure-that-data-is-loaded-only-once", "title": "Angular - How to make sure that data is loaded only once", "body": "<p>When the page is loaded, the data is correctly fetched, and shown, then when leaving the page the data is fetched again and doubled onto the current array. If I have Item: <code>A,B,C</code> then I will have <code>A,B,CA,B,C</code>.</p>\n\n<p>Right now I have the component putting a simple if to check if I need to fetch the data again or not. However, it appears that it is bypassed. I have looked at <a href=\"https://stackoverflow.com/questions/44406583/how-do-i-run-a-function-on-ngoninit-only-once-and-not-again-upon-returning-bac\">this</a> <a href=\"https://stackoverflow.com/questions/38787795/why-ngoninit-called-twice\">and this</a> <a href=\"https://stackoverflow.com/questions/48088517/why-ngoninit-is-getting-called-every-time-repeatedly\">as well as this</a>.</p>\n\n<pre><code>//home.ts\n\nexport class Home implements OnInit, OnDestroy{\n  conversations: Array&lt;any&gt;; \n\nasync ngOnInit() {\n  this._chatInit();\n}\n\nprivate async _chatInit() {\n  this.dataService.loadConversations(); //getter for local storage\n\n  const data = this.messageStorage.hasChats();\n\n  if (data.length) {\n    //there is data already loaded\n    this.conversations = data;\n  } else {\n    //there is an empty array, subscribe to it.\n    this.messageStorage\n    .getChatList$()\n    .subscribe(conversation =&gt; {\n      console.log('Conversation', conversation)\n      this.conversations = conversation;\n    });\n  }\n}\n\n</code></pre>\n\n<pre><code>//dataService\nexport class DataService {\n\n  //the object where it is all stored\n  private conversations: any = {\n    peerToPeer: {},\n    groups: {},\n  };\n\n  private listOfChats: Array&lt;any&gt; = new Array&lt;any&gt;();\n  private bsListOfChats$: BehaviorSubject&lt;any&gt; = new BehaviorSubject&lt;any&gt;(this.listOfChats); \n\n  public loadConversations() {\n    this.storage.get('conversations').then(chat=&gt; {\n      this.conversations = chat;\n      this.formatChats(this.conversations);//converts the Object to an Array so *ngFor directive can be used\n   });\n  }\n\n  public hasChats() {\n    return this.listOfChats;\n  }\n\n  public getChatList$() {\n    return this.bsListOfChats$;\n  }\n\n}\n</code></pre>\n\n<p>To clarify, what I want to happen is to load <code>n</code> chats once. When I leave the page and return I want the same <code>n</code> to load, no more, no less.</p>\n\n<p>thanks guys for any help!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "pouchdb"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10810109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7e1bc8510591ec23bcd7d972622892?s=128&d=identicon&r=PG&f=1", "display_name": "Frank33", "link": "https://stackoverflow.com/users/10810109/frank33"}, "edited": false, "score": 0, "creation_date": 1557921800, "post_id": 56147773, "comment_id": 98927085, "body": "It gives this error : error TS1308: &#39;await&#39; expression is only allowed within an async function"}, {"owner": {"reputation": 9, "user_id": 10810109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7e1bc8510591ec23bcd7d972622892?s=128&d=identicon&r=PG&f=1", "display_name": "Frank33", "link": "https://stackoverflow.com/users/10810109/frank33"}, "edited": false, "score": 0, "creation_date": 1557929064, "post_id": 56147773, "comment_id": 98931850, "body": "I did this : this.observateur = this.observateurlocal.get(&#39;observateurlocal&#39;).then( res =&gt; res.id_observateur); console.log(this.observateur); but i have the result in an array as ZoneAwarePromise object! It seems like a promise"}], "tags": [], "owner": {"reputation": 701, "user_id": 5934686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7a63bf3a88ad6163953dd5b042f30a6?s=128&d=identicon&r=PG&f=1", "display_name": "matthiasunt", "link": "https://stackoverflow.com/users/5934686/matthiasunt"}, "is_accepted": false, "score": 0, "last_activity_date": 1557918090, "creation_date": 1557918090, "answer_id": 56147773, "question_id": 56147384, "link": "https://stackoverflow.com/questions/56147384/how-to-return-and-store-a-document-in-a-value-with-pouchdb/56147773#56147773", "title": "How to return and store a document in a value with pouchdb?", "body": "<p>This should work:</p>\n\n<pre><code>let get_observateur = async () =&gt; {\n  PouchDB.plugin(PouchDBFind);\n  PouchDB.plugin(require('pouchdb-adapter-cordova-sqlite'));\n  this.observateurlocal = new PouchDB('observateurlocal', {\n    adapter: 'cordova-sqlite'\n  });\n return await this.observateurlocal.get('observateurlocal');\n};\n\nconsole.log(await get_observateur);\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 10810109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7e1bc8510591ec23bcd7d972622892?s=128&d=identicon&r=PG&f=1", "display_name": "Frank33", "link": "https://stackoverflow.com/users/10810109/frank33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557933601, "creation_date": 1557916830, "last_edit_date": 1557923153, "question_id": 56147384, "link": "https://stackoverflow.com/questions/56147384/how-to-return-and-store-a-document-in-a-value-with-pouchdb", "title": "How to return and store a document in a value with pouchdb?", "body": "<p>I use ionic 4 with pouchdb.\nI would like to get value from a document.</p>\n\n<p>I wish to get the id_observateur value from a pouchdb document.\nI tried to use arrows functions but it does not work</p>\n\n<pre><code>let get_observateur = () =&gt; {\n     PouchDB.plugin(PouchDBFind);\n     PouchDB.plugin(require('pouchdb-adapter-cordova-sqlite'));\n     this.observateurlocal= new PouchDB('observateurlocal', {adapter: \n      'cordova-sqlite'});\n\n       this.observateurlocal.get('observateurlocal').then((doc) =&gt;{\n            return doc.id_observateur;\n\n             });\n            }; \n         // Call the function \n         console.log(get_observateur);\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 182, "user_id": 367713, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3bdf089329550549bebc54a4610011af?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/367713/paul"}, "is_accepted": true, "score": 1, "last_activity_date": 1557921683, "creation_date": 1557921683, "answer_id": 56148909, "question_id": 56147222, "link": "https://stackoverflow.com/questions/56147222/automatically-export-all-components-in-same-folder-with-ts/56148909#56148909", "title": "automatically export all components in same folder with TS", "body": "<p>I think the problem here is that because you are dynamically importing and re-exporting, it is not possible for TypeScript to guess the type of the components you are exporting, because it is unknown at compile time: your imports are just files in the eyes of the compiler.</p>\n\n<p>How about using a script to generate your <code>index.ts</code> file to <code>export { IconA } from './IconA';</code> from each of your icon files, quite similarly to what you are doing here? You could then include this script in your build process and run it everytime you compile before the typescript compiler runs</p>\n"}], "owner": {"reputation": 7380, "user_id": 8437099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/108936759794462/picture?type=large", "display_name": "kyun", "link": "https://stackoverflow.com/users/8437099/kyun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 1, "accepted_answer_id": 56148909, "answer_count": 1, "score": 1, "last_activity_date": 1557921683, "creation_date": 1557916353, "question_id": 56147222, "link": "https://stackoverflow.com/questions/56147222/automatically-export-all-components-in-same-folder-with-ts", "title": "automatically export all components in same folder with TS", "body": "<p>I have an <code>Icons</code> folder and it has so many <code>Icons</code>.</p>\n\n<p>I am trying to export them automatically, but I can't achieve it.</p>\n\n<p>It is my directory map</p>\n\n<pre><code>components\n \u314f ...\n \u314fIcons\n    \u314f index.ts\n    \u314f IconA.tsx\n    \u314f IconB.tsx\n    \u314f ...\n    \u314f IconZ.tsx\n \u314f ...\n</code></pre>\n\n<p><strong>Icons/index.ts</strong></p>\n\n<pre><code>// I wanna avoid exporting components like this.\n// export { IconA } from './IconA';\n\n//below code doesn't work in Typescript.\nconst req = require.context('.', true, /\\.\\/.\\.tsx$/)\n\nreq.keys().forEach((key: any) =&gt; {\n  const componentName = key.replace(/\\.\\/.\\.tsx$/, '$1')\n  module.exports[componentName] = req(key).default\n});\n</code></pre>\n\n<p><strong>Icons/IconA.tsx</strong></p>\n\n<pre><code>import React from 'react';\n\nexport const IconA = () =&gt; (&lt;svg&gt;...&lt;/svg&gt;);\n</code></pre>\n\n<p>I wanna use it in another component </p>\n\n<pre><code>import { IconA, IconB, IconZ } from 'components/Icons'\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "is_accepted": false, "score": -1, "last_activity_date": 1557915343, "creation_date": 1557915343, "answer_id": 56146893, "question_id": 56146819, "link": "https://stackoverflow.com/questions/56146819/typescript-how-to-transfrom-undefined-property-to-optional-property/56146893#56146893", "title": "typescript how to transfrom undefined property to optional property", "body": "<p>You can use mapped types <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"nofollow noreferrer\">Partial</a> to do that.</p>\n\n<pre><code>interface Test {\n  prop: number | undefined;\n}\n\ntype ToOptional&lt;T&gt; = Partial&lt;T&gt;;\n\nconst optional: ToOptional&lt;Test&gt; = {};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1557915488, "creation_date": 1557915488, "answer_id": 56146934, "question_id": 56146819, "link": "https://stackoverflow.com/questions/56146819/typescript-how-to-transfrom-undefined-property-to-optional-property/56146934#56146934", "title": "typescript how to transfrom undefined property to optional property", "body": "<p>You can use mapped types and conditional types to extract the properties that have <code>undefined</code> in them and then pick the <code>undefined</code> properties from the type. Simlarly we need to pick the properties that not undefined in order to get back all the original properties</p>\n\n<pre><code>interface Test {\n    prop: number | undefined\n    prop2: number\n    prop3?: number\n}\n\ntype UndefinedProperties&lt;T&gt; = {\n    [P in keyof T]-?: undefined extends T[P] ? P : never\n}[keyof T]\n\ntype ToOptional&lt;T&gt; = Partial&lt;Pick&lt;T, UndefinedProperties&lt;T&gt;&gt;&gt; &amp; Pick&lt;T, Exclude&lt;keyof T, UndefinedProperties&lt;T&gt;&gt;&gt;\n\ntype t = ToOptional&lt;Test&gt;\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 6945484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3217b6709ab8b0cc941a04694b2593bb?s=128&d=identicon&r=PG", "display_name": "s97712", "link": "https://stackoverflow.com/users/6945484/s97712"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 56146934, "answer_count": 2, "score": 2, "last_activity_date": 1557915533, "creation_date": 1557915093, "last_edit_date": 1557915533, "question_id": 56146819, "link": "https://stackoverflow.com/questions/56146819/typescript-how-to-transfrom-undefined-property-to-optional-property", "title": "typescript how to transfrom undefined property to optional property", "body": "<p>I have code like </p>\n\n<pre><code>interface Test {\n  prop: number | undefined\n}\n</code></pre>\n\n<p>and I want to transform the undefined property to optional property, such as</p>\n\n<pre><code>type ToOptional = ???\nToOptional&lt;Test&gt;\n/** transform result\n{\n  prop?: number\n}\n*/\n</code></pre>\n\n<p>How should I define the ToOptional?</p>\n\n<p>EDIT:</p>\n\n<pre><code>interface Test {\n  prop1: number | undefined;\n  prop2: number;\n}\n\ntype ToOptional = ???\nToOptional&lt;Test&gt;\n/** transform result\n{\n  prop1?: number\n  prop2: number\n}\n*/\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "behaviorsubject"], "answers": [{"tags": [], "owner": {"reputation": 4698, "user_id": 10270798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u5FUH.png?s=128&g=1", "display_name": "Dince12", "link": "https://stackoverflow.com/users/10270798/dince12"}, "is_accepted": true, "score": 1, "last_activity_date": 1557914800, "creation_date": 1557914800, "answer_id": 56146727, "question_id": 56146574, "link": "https://stackoverflow.com/questions/56146574/rxjs-behaviorsubject-oncomplete-not-called/56146727#56146727", "title": "RxJS - BehaviorSubject, onComplete not called", "body": "<p>I think you can trigger complete like this when you are ready for the complete section of the subscription to be called.</p>\n\n<pre><code>authenticationState.complete();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 523, "user_id": 4413841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/812b1bfc12d31ee16759a409058c1645?s=128&d=identicon&r=PG", "display_name": "Nitsan Avni", "link": "https://stackoverflow.com/users/4413841/nitsan-avni"}, "is_accepted": false, "score": 2, "last_activity_date": 1557942374, "creation_date": 1557942374, "answer_id": 56155022, "question_id": 56146574, "link": "https://stackoverflow.com/questions/56146574/rxjs-behaviorsubject-oncomplete-not-called/56155022#56155022", "title": "RxJS - BehaviorSubject, onComplete not called", "body": "<p><code>complete</code> is only called when an Observable is done emitting items. IOW it's the last event from a non-erroneous Observable.</p>\n\n<p>If you're only interested in a single item from this Observable you could:</p>\n\n<pre><code>authenticationState.first().subscribe();\n</code></pre>\n\n<p>This way the <code>complete</code> will be called after the single emitted item.</p>\n"}], "owner": {"reputation": 2129, "user_id": 7857994, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V4TAM.jpg?s=128&g=1", "display_name": "Azoulay Jason", "link": "https://stackoverflow.com/users/7857994/azoulay-jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "accepted_answer_id": 56146727, "answer_count": 2, "score": 1, "last_activity_date": 1557942374, "creation_date": 1557914311, "last_edit_date": 1557918402, "question_id": 56146574, "link": "https://stackoverflow.com/questions/56146574/rxjs-behaviorsubject-oncomplete-not-called", "title": "RxJS - BehaviorSubject, onComplete not called", "body": "<p>I'm building an Angular 7 app and using BehaviorSubject to keep the user authentication state as it's recommended on every source on the internet.</p>\n\n<p>Since BehaviorSubject is an Observable, why can't I fire the onComplete() method ?</p>\n\n<p>Here's the code (wich seems pretty classic to me) :</p>\n\n<pre><code>this.authService.authenticationState.subscribe(state =&gt; {\n      this.isLoggedIn = state;\n    },\n    err =&gt; console.log(err),\n    () =&gt; console.log('complete')\n    );\n</code></pre>\n\n<p>authService</p>\n\n<pre><code>authenticationState = new BehaviorSubject(false);\n</code></pre>\n\n<p>'complete' is not logged. Is there something I'm doing wrong ?</p>\n\n<p><strong>SOLUTION</strong></p>\n\n<pre><code>this.authService.authenticationState.subscribe(state =&gt; {\n      this.isLoggedIn = state;\n      this.authService.authenticationState.complete();\n    },\n    err =&gt; console.log(err),\n    () =&gt; console.log('complete')\n    );\n</code></pre>\n\n<p>then the complete() method is fired</p>\n"}, {"tags": ["reactjs", "typescript", "setstate"], "comments": [{"owner": {"reputation": 705, "user_id": 5770601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7fcff4e00f6308d83beb849e557a2820?s=128&d=identicon&r=PG&f=1", "display_name": "Orionss", "link": "https://stackoverflow.com/users/5770601/orionss"}, "edited": false, "score": 0, "creation_date": 1557916459, "post_id": 56146477, "comment_id": 98924002, "body": "I think this thread will help you : <a href=\"https://stackoverflow.com/questions/29537299/react-how-do-i-update-state-item1-on-setstate-with-jsfiddle\" title=\"react how do i update state item1 on setstate with jsfiddle\">stackoverflow.com/questions/29537299/&hellip;</a>  In any case, you&#39;re forced to setState the entire array just to modify a single case of your array."}], "answers": [{"comments": [{"owner": {"reputation": 705, "user_id": 5770601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7fcff4e00f6308d83beb849e557a2820?s=128&d=identicon&r=PG&f=1", "display_name": "Orionss", "link": "https://stackoverflow.com/users/5770601/orionss"}, "reply_to_user": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 0, "creation_date": 1557917857, "post_id": 56147543, "comment_id": 98924811, "body": "Each time you&#39;ll want to update a user, you&#39;ll have to extract the array, modify the user you want and setState the entire array. Did it help ?"}, {"owner": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "edited": false, "score": 2, "creation_date": 1557918187, "post_id": 56147543, "comment_id": 98924980, "body": "<code>users.push( newEmptyObject )</code> before <code>setState()</code>"}, {"owner": {"reputation": 705, "user_id": 5770601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7fcff4e00f6308d83beb849e557a2820?s=128&d=identicon&r=PG&f=1", "display_name": "Orionss", "link": "https://stackoverflow.com/users/5770601/orionss"}, "edited": false, "score": 0, "creation_date": 1557918317, "post_id": 56147543, "comment_id": 98925044, "body": "Why would you do this ?"}, {"owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 0, "creation_date": 1557918377, "post_id": 56147543, "comment_id": 98925087, "body": "@Orionss, Is there a way where I can combine both of these and do both the actions in a single setState?"}, {"owner": {"reputation": 705, "user_id": 5770601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7fcff4e00f6308d83beb849e557a2820?s=128&d=identicon&r=PG&f=1", "display_name": "Orionss", "link": "https://stackoverflow.com/users/5770601/orionss"}, "reply_to_user": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 1, "creation_date": 1557918420, "post_id": 56147543, "comment_id": 98925116, "body": "@velsonjr Yes, by pushing into the array before the setState"}, {"owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "reply_to_user": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "edited": false, "score": 0, "creation_date": 1557918450, "post_id": 56147543, "comment_id": 98925136, "body": "@xadm  Could you please edit the snippet? It will be helpful"}, {"owner": {"reputation": 705, "user_id": 5770601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7fcff4e00f6308d83beb849e557a2820?s=128&d=identicon&r=PG&f=1", "display_name": "Orionss", "link": "https://stackoverflow.com/users/5770601/orionss"}, "reply_to_user": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 0, "creation_date": 1557918794, "post_id": 56147543, "comment_id": 98925334, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/193390/discussion-between-orionss-and-velsonjr\">continue this discussion in chat</a>."}, {"owner": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "edited": false, "score": 0, "creation_date": 1557919141, "post_id": 56147543, "comment_id": 98925510, "body": "updated, of course you could use sth like ` <code>this.setState({ users: [...users, {firstname:&#39;&#39;,lastname:&#39;&#39;,phone:&#39;&#39;updateButtonFlag:false} ] });</code> - a bit safer (new array)"}], "tags": [], "owner": {"reputation": 705, "user_id": 5770601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7fcff4e00f6308d83beb849e557a2820?s=128&d=identicon&r=PG&f=1", "display_name": "Orionss", "link": "https://stackoverflow.com/users/5770601/orionss"}, "is_accepted": true, "score": 1, "last_activity_date": 1557918882, "last_edit_date": 1557918882, "creation_date": 1557917307, "answer_id": 56147543, "question_id": 56146477, "link": "https://stackoverflow.com/questions/56146477/updating-a-nested-array-element-in-react-setstate/56147543#56147543", "title": "Updating a nested array element in React setState", "body": "<p>Following what I saw on <a href=\"https://stackoverflow.com/questions/29537299/react-how-do-i-update-state-item1-on-setstate-with-jsfiddle\">this thread</a>, you cannot use setState to update nested objects. So, in your case, you'll have to update the entire array.</p>\n\n<pre><code>onAddAccount = (index:number) =&gt; {\n      let { users } =  this.state;\n      let account : IAccount = {firstname: users[index].firstname, lastname: users[index].lastname , phone: users[index].phone, updateButtonFlag:false}\n      this.submit(account);\n      users[index].updateButtonFlag = true;\n      users.push({firstname:'',lastname:'',phone:'',updateButtonFlag:false}); // Add an empty account\n      this.setState({\n             users: users,\n       }));\n}\n</code></pre>\n"}], "owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1194, "favorite_count": 0, "accepted_answer_id": 56147543, "answer_count": 1, "score": 0, "last_activity_date": 1557918882, "creation_date": 1557913995, "last_edit_date": 1557916866, "question_id": 56146477, "link": "https://stackoverflow.com/questions/56146477/updating-a-nested-array-element-in-react-setstate", "title": "Updating a nested array element in React setState", "body": "<p>I am maintaining an array of objects which is stored in a state object. Basically I am pushing each object to this array whenever I click on Add button .This stores this object in array.</p>\n\n<p>I am maintaining a flag updateButtonFlag to show the update button for that particular account. </p>\n\n<p>I want to update this flag of an account that just got submitted(that is in onAddAccount() function).</p>\n\n<p>After addition , a new card gets displayed with input fields, so that next user details can be entered</p>\n\n<p>Help would be appreciated</p>\n\n<pre><code>\n//Have included only onAddAccount function ,where the logic needs to go.\n//There is a fetch call as well, which basically displays accounts info if there are any accounts w.r.t to that user\n\nimport * as React from 'react';\n\ninterface IState{\n    users : Account[];\n    user: Account\n}\ninterface Account{\n  name: string;\n  email: string;\n  phone: string;\n  updateButtonFlag: boolean \n}\n\nexport default class App extends React.Component&lt;{},IState&gt; {\n\n    constructor(props:any){\n       super(props);\n       this.state= { \n                         users: [],\n                         user: null\n                   }\n    }\n\n    async componentDidMount(){\n\n      let useraccounts =  await this.fetchAccounts(); // call that returns  accounts, if present\n      let id:any, account: IAccount ;      \n      if(useraccounts.length === 0) // if no account, display an empty card\n      {\n         this.setState({ accounts: [...this.state.accounts, {firstname:'',lastname:'',phone:'',updateButtonFlag: false}]},()=&gt;{});\n      }\n\n      if(useraccounts.length &gt; 0) // if there are accounts existing, display themand add update button to them\n      { \n        let accountArray = [];\n\n        for(let i=0;i&lt;useraccounts.length;i++)\n        {\n             account = {\n                       firstsname: useraccounts[i].firstsname,\n                       lastname: useraccounts[i].lastname,\n                       phone: useraccounts[i].phone,\n                       updateButtonFlag: true\n                     }\n            accountArray.push(account);\n          }\n           this.setState(({accounts}) =&gt; ({accounts: [...accounts, ...accountArray]}),()=&gt;{});\n       }    \n      }\n\n    onAddAccount = (index:number) =&gt; { // this adds one more card with input fields after submission of current user info\n\n      let { users } =  this.state;\n      let account : IAccount = {firstname: users[index].firstname, lastname: users[index].lastname , phone: users[index].phone, updateButtonFlag:false}  // maintaining a updateflag to show update button for the corresponding account\n      this.submit(account);  // submit call  to submit the account details\n      //here i need to update the flag of currently submitted account to true, so that update button gets shown , how to do it?\n\n      this.setState((prevState) =&gt; ({\n             users: [ ...prevState.users, {firstname:'',lastname:'',phone:''updateButtonFlag:false} ],\n       }));\n      } // in this line,next card gets added here\n\n    }\n  renderAccounts = (users: Account[]) =&gt; {\n    return accounts.map((value, index) =&gt; {\n      return (\n        &lt;div key={index}&gt;\n          &lt;div&gt;\n            &lt;form&gt;\n              &lt;label&gt;First Name:&lt;/label&gt;\n              &lt;input\n                type=\"text\"\n                name=\"firstname\"\n                value={value.firstname}\n                onChange={e =&gt; this.handleChange(e, index)}\n                required\n              /&gt;\n              &lt;label&gt;Last Name:&lt;/label&gt;\n              &lt;input\n                type=\"text\"\n                name=\"lastname\"\n                value={value.lastname}\n                onChange={e =&gt; this.handleChange(e, index)}\n              /&gt;\n              &lt;label&gt;Age:&lt;/label&gt;\n              &lt;input\n                type=\"text\"\n                name=\"age\"\n                value={value.age}\n                onChange={e =&gt; this.handleChange(e, index)}\n                required\n              /&gt;\n              &lt;div&gt;\n                  &lt;button onClick={() =&gt; this.onAddAccount(index)}&gt;\n                    Save &amp; Add Another Account\n                  &lt;/button&gt;\n                  {users[index].updatedButtonFlag?&lt;button onClick={() =&gt; this.onUpdateAccount(index)}&gt;\n                     Update Account\n                  &lt;/button&gt; :null}\n                  &lt;button onClick={() =&gt; this.onRemoveAccount(index)}&gt;\n                    Remove Account\n                  &lt;/button&gt;\n                )}\n              &lt;/div&gt;\n            &lt;/form&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      );\n    });\n  };\n\n  render() {\n    return &lt;div&gt;{this.renderAccounts(accounts)}&lt;/div&gt;;\n  }\n}\n\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 1355, "user_id": 10315665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZVE8.jpg?s=128&g=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/10315665/elias"}, "is_accepted": false, "score": 0, "last_activity_date": 1557916690, "creation_date": 1557916690, "answer_id": 56147336, "question_id": 56146415, "link": "https://stackoverflow.com/questions/56146415/cant-store-a-boolean-returned-by-a-function-in-a-variable-in-typescript/56147336#56147336", "title": "Can&#39;t store a boolean returned by a function in a variable in typescript", "body": "<p>You are using a Service which I assume is calling RXJS so your <code>IsLogin</code> Function looks something like this?</p>\n\n<pre><code>IsLogin(start: string, end: string): Observable&lt;Object&gt; {\n    return this.http.get(URL)\n}\n</code></pre>\n\n<p>If yes you are returning an Observable which is asynchron as it's a request to a server and thus has latency (Not just that, this is just a really quick n'dirty explanation).</p>\n\n<p>So How do you solve that problem? <code>subscribe</code> accept a callback and passes the retrieved value as argument. This is how I would go about it:</p>\n\n<pre><code>this.loginService.IsLogin(Username, Password).subscribe((resp: any) =&gt; {\n  // This assumes that your API directly returns a boolean\n  if(output) {\n    this.router.navigate(['/incidentSupport']);\n  }\n  else if(userName.trim() == \"\" &amp;&amp; password.trim() == \"\") {\n    this.msg = \"Please enter the username or Password\"\n  }\n  else {\n    this.msg = \"Invalid username or password\"\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11445501, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i_yWSofiTVk/AAAAAAAAAAI/AAAAAAAAAYg/ttJ-5GC-Eqo/photo.jpg?sz=128", "display_name": "Vishal Oulkar", "link": "https://stackoverflow.com/users/11445501/vishal-oulkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557916690, "creation_date": 1557913851, "last_edit_date": 1557916531, "question_id": 56146415, "link": "https://stackoverflow.com/questions/56146415/cant-store-a-boolean-returned-by-a-function-in-a-variable-in-typescript", "title": "Can&#39;t store a boolean returned by a function in a variable in typescript", "body": "<p>Please anyone tell me how to  store a boolean returned by a function in a variable.</p>\n\n<pre><code>var output=this.loginService.IsLogin(Username, Password).subscribe();\n\nvar output=this.loginService.IsLogin(Username, Password).subscribe();\n\nif (output == true) {\n  this.router.navigate(['/incidentSupport'])\n}\nelse if (userName.trim() == \"\" &amp;&amp; password.trim() == \"\")\n{\n  this.msg = \"Please enter the username or Password\"\n}\nelse\n{\n  this.msg = \"Invalid username or password\"\n}\n</code></pre>\n\n<p>I am expecting value should store bolean value either true or false in variable</p>\n"}, {"tags": ["reactjs", "typescript", "react-bootstrap"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1557913931, "post_id": 56146257, "comment_id": 98922421, "body": "You want <code>variant</code> to be <code>string</code>? Why not type it the same as <code>varainat</code> in <code>ReactButton</code>: <code>variant: ReactButton[&#39;props&#39;][&#39;variant&#39;];</code>"}, {"owner": {"reputation": 730, "user_id": 8853596, "user_type": "registered", "profile_image": "https://graph.facebook.com/529636140762283/picture?type=large", "display_name": "Nikita Shchypyplov", "link": "https://stackoverflow.com/users/8853596/nikita-shchypyplov"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1557917445, "post_id": 56146257, "comment_id": 98924552, "body": "@TitianCernicova-Dragomir It works, thanks! But what are we actually doing here? We are getting types from bootstrap directly?  Also, if you want put this to the &quot;answers&quot; section and I will mark it as &quot;solution&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1557917564, "creation_date": 1557917564, "answer_id": 56147614, "question_id": 56146257, "link": "https://stackoverflow.com/questions/56146257/how-to-extend-ts-annotations-from-external-d-ts-file/56147614#56147614", "title": "How to extend TS annotations from external .d.ts file?", "body": "<p>You can define the type of your <code>variant</code> in relation to the <code>variant</code> in <code>ReactButton</code>:</p>\n\n<pre><code>interface ButtonProps {\n    title: string;\n    icon: JSX.Element;\n    variant: ReactButton['props']['variant'];\n}\n</code></pre>\n"}], "owner": {"reputation": 730, "user_id": 8853596, "user_type": "registered", "profile_image": "https://graph.facebook.com/529636140762283/picture?type=large", "display_name": "Nikita Shchypyplov", "link": "https://stackoverflow.com/users/8853596/nikita-shchypyplov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 56147614, "answer_count": 1, "score": 0, "last_activity_date": 1557917564, "creation_date": 1557913393, "question_id": 56146257, "link": "https://stackoverflow.com/questions/56146257/how-to-extend-ts-annotations-from-external-d-ts-file", "title": "How to extend TS annotations from external .d.ts file?", "body": "<p>I am using React with react-bootstrap framework and I don't know how to use types from react-bootstrap in my component.</p>\n\n<p>Example of my Button component:</p>\n\n<pre><code>import React, {Component} from 'react';\nimport {Button as ReactButton} from 'react-bootstrap';\n\ninterface ButtonProps {\n    title: string;\n    icon: JSX.Element;\n    variant: string;\n}\n\nclass Button extends Component&lt;ButtonProps&gt; {\n    render() {\n        const {variant, title, icon} = this.props;\n\n        return &lt;ReactButton variant={variant}&gt;\n            {icon}\n            {title}\n        &lt;/ReactButton&gt;;\n    }\n}\n\nexport default Button;\n</code></pre>\n\n<p>Using this code I get this issue: </p>\n\n<p><strong>Error:(14, 29) TS2322: Type 'string' is not assignable to type '\"link\" | \"primary\" | \"secondary\" | \"success\" | \"danger\" | \"warning\" | \"info\" | \"dark\" | \"light\" | \"outline-primary\" | \"outline-secondary\" | \"outline-success\" | \"outline-danger\" | ... 4 more ... | undefined'.</strong></p>\n\n<p>So, how may I annotate <strong>variant</strong> attribute in my component without breaking external .d.ts? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript", "generics", "angular7"], "owner": {"reputation": 91, "user_id": 6835260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/421d2205a5fea6427ea3a24b339e92f5?s=128&d=identicon&r=PG&f=1", "display_name": "Tucaen", "link": "https://stackoverflow.com/users/6835260/tucaen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557997364, "creation_date": 1557913248, "last_edit_date": 1557997364, "question_id": 56146208, "link": "https://stackoverflow.com/questions/56146208/use-constructor-name-as-index-signature-for-return-type", "title": "use constructor name as index signature for return type", "body": "<p>Is it possible to use the <code>name</code> property of a constructor function as index signature, respectivly as property name?</p>\n\n<h3>Example</h3>\n\n<p>I want to have a generic mapping function for server reponses. Those could include multiple entities.\nE.g </p>\n\n<pre><code>const serverResponse = {\n    User: {...},\n    UserGroup: {...},\n    ...someServerResponseStuff...\n}\n</code></pre>\n\n<p>wished result:</p>\n\n<pre><code>const mappedResponse: {User: User, UserGroup: UserGroup} = mapToEntity(serverResponse, User, UserGroup);\n</code></pre>\n\n<p>achieved result:</p>\n\n<pre><code>const mappedResponse: {[key: string]: User | UserGroup} = mapToEntity(serverResponse, User, UserGroup);\n</code></pre>\n\n<h3>current mapToEntity Implementation</h3>\n\n<pre><code>type ConstructorFunction&lt;T&gt; = new(...args: any[]) =&gt; T;\n</code></pre>\n\n<p>For better readability there are only two specified constructor function parameters. Threre would be more in the real implementation.</p>\n\n<pre><code>export function mapToEntity&lt;A&gt;(serverResponse: IServerResponse, cFn1: ConstructorFunction&lt;A&gt;): A[];\nexport function mapToEntity&lt;A, B&gt;(serverResponse: IServerResponse, cFn1: ConstructorFunction&lt;A&gt;, cFn2: ConstructorFunction&lt;B&gt;): {[key: string]: A[] | B[]}; // specify index signatures here\nexport function mapToEntity&lt;A, B&gt;(serverResponse: IServerResponse, cFn1: ConstructorFunction&lt;A&gt;, cFn2?: ConstructorFunction&lt;B&gt;, ...constructorFunctions: ConstructorFunction&lt;any&gt;[]): A[] | {[key: string]: any[]} {\n\n  let cArray: ConstructorFunction&lt;any&gt;[] = [cFn1];\n\n  if(cFn2) {\n    cArray.push(cFn2);\n  }\n\n  cArray = [...cArray, ...constructorFunctions];\n\n  if (cArray.length &gt; 1) {\n    const result: {[key: string]: any[]} = {};\n    for (const constructorFunction of cArray) {\n      const modelName: string = constructorFunction.name;\n      result[modelName] = new constructorFunction(serverResponse[modelName]);\n    }\n    return result;\n  } \n\n  const x = new cFn1(serverResponse[modelName]);\n  return x; \n}\n</code></pre>\n\n<h3>wished definition of second overload</h3>\n\n<pre><code>export function mapToEntity&lt;A, B&gt;(serverResponse: IServerResponse, cFn1: ConstructorFunction&lt;A&gt;, cFn2: ConstructorFunction&lt;B&gt;): {cFn1.name: A[], cFn2.name: B[]}; // specify index signatures here\n</code></pre>\n\n<p>or more likely</p>\n\n<pre><code>export function mapToEntity&lt;A, B&gt;(serverResponse: IServerResponse, cFn1: ConstructorFunction&lt;A&gt;, cFn2: ConstructorFunction&lt;B&gt;): {ConstructorName&lt;cFn1&lt;A&gt;&gt;: A[], ConstructorName&lt;cFn2&lt;B&gt;&gt;: B[]}; // specify index signatures here\n</code></pre>\n\n<h2>Edit</h2>\n\n<p>Best thing I got until now is to rename the result with object destructoring.\nBut this is still far from ideal</p>\n\n<pre><code>export function mapToEntity&lt;A, B&gt;(serverResponse: IServerResponse, cFn1: ConstructorFunction&lt;A&gt;, cFn2: ConstructorFunction&lt;B&gt;): {entity1: A[], entity2: B[]};\n</code></pre>\n\n<pre><code>const { 'entity1': user, 'entity2': userGroup } = mapToEntity(fakeResponse, User, UserGroup);\n</code></pre>\n\n<h2>Edit2</h2>\n\n<p>I found a solution, I could live with</p>\n\n<pre><code>export function mapToEntity&lt;A, B&gt;(serverResponse: IServerResponse, cFn1: ConstructorFunction&lt;A&gt;, cFn2: ConstructorFunction&lt;B&gt;): [A[], B[]];\n</code></pre>\n\n<pre><code>const [user, userGroup] = mapToEntity(fakeResponse, User, UserGroup);\n</code></pre>\n\n<p>You could also save it in one variable and get type safe properties out of the array</p>\n\n<pre><code>    const test: [User[], UserGroup[]] = mapToEntity(fakeResponse, User, UserGroup);\n    const x = test[1]; // has type UserGroup[]\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ionic3", "angular6"], "comments": [{"owner": {"reputation": 2062, "user_id": 1182899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a928914efec3608e929fabbc8e9a25e?s=128&d=identicon&r=PG", "display_name": "Vasil Dininski", "link": "https://stackoverflow.com/users/1182899/vasil-dininski"}, "edited": false, "score": 0, "creation_date": 1557913315, "post_id": 56146190, "comment_id": 98922036, "body": "Wouldn&#39;t the standard <code>atob</code> and <code>btoa</code> methods work?"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1557913472, "post_id": 56146190, "comment_id": 98922133, "body": "You want to encode 151MiB of data as a string? That&#39;s going to sink the browser. Good luck with (a) generating a string of that size easily and (b) consuming a string of that size easily. What are you trying to solve here?"}, {"owner": {"reputation": 5, "user_id": 10979020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1e8eac4a4586331c21344308ec7755?s=128&d=identicon&r=PG&f=1", "display_name": "Hari", "link": "https://stackoverflow.com/users/10979020/hari"}, "edited": false, "score": 0, "creation_date": 1557913550, "post_id": 56146190, "comment_id": 98922182, "body": "it takes url as string."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1557913701, "post_id": 56146190, "comment_id": 98922275, "body": "Start again. &quot;it takes url as string&quot;?"}, {"owner": {"reputation": 2062, "user_id": 1182899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a928914efec3608e929fabbc8e9a25e?s=128&d=identicon&r=PG", "display_name": "Vasil Dininski", "link": "https://stackoverflow.com/users/1182899/vasil-dininski"}, "edited": false, "score": 0, "creation_date": 1557913770, "post_id": 56146190, "comment_id": 98922318, "body": "If you are trying to base64 encode the url (a string) you should be able to use the standard <code>atob()</code> and <code>btoa()</code> methods. If you are attempting to encode the entire video - please specify why you might need that, as there might be better approaches, than using base64 for video data."}, {"owner": {"reputation": 5, "user_id": 10979020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1e8eac4a4586331c21344308ec7755?s=128&d=identicon&r=PG&f=1", "display_name": "Hari", "link": "https://stackoverflow.com/users/10979020/hari"}, "edited": false, "score": 0, "creation_date": 1557913869, "post_id": 56146190, "comment_id": 98922385, "body": "actually im trying to make a app works like youtube offline download option in ionic. the video url comes from api. i get idea from a blog that ionic have sqlite to store data that works in offline also. i convert that video to base64 and insert into sqlite and set storage limit to 500M. is im doing correctly. if it is a wrong way please guide me."}, {"owner": {"reputation": 5, "user_id": 10979020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1e8eac4a4586331c21344308ec7755?s=128&d=identicon&r=PG&f=1", "display_name": "Hari", "link": "https://stackoverflow.com/users/10979020/hari"}, "reply_to_user": {"reputation": 2062, "user_id": 1182899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a928914efec3608e929fabbc8e9a25e?s=128&d=identicon&r=PG", "display_name": "Vasil Dininski", "link": "https://stackoverflow.com/users/1182899/vasil-dininski"}, "edited": false, "score": 0, "creation_date": 1557914204, "post_id": 56146190, "comment_id": 98922592, "body": "@VasilDininski help me bro.please."}, {"owner": {"reputation": 2062, "user_id": 1182899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a928914efec3608e929fabbc8e9a25e?s=128&d=identicon&r=PG", "display_name": "Vasil Dininski", "link": "https://stackoverflow.com/users/1182899/vasil-dininski"}, "edited": false, "score": 0, "creation_date": 1557914390, "post_id": 56146190, "comment_id": 98922697, "body": "You could instead save the video file as-is on the filesystem and save some meta information in sql lite - like the name and description of the video and most importantly the path to the file. Then when the app is offline it can open the video from the filesystem instead of doing any base64 conversions back and forth. For this purpose you&#39;d need file system permissions. Take a look at the file plugin (<a href=\"https://ionicframework.com/docs/native/file\" rel=\"nofollow noreferrer\">ionicframework.com/docs/native/file</a>) for saving the file on the filesystem"}, {"owner": {"reputation": 5, "user_id": 10979020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1e8eac4a4586331c21344308ec7755?s=128&d=identicon&r=PG&f=1", "display_name": "Hari", "link": "https://stackoverflow.com/users/10979020/hari"}, "edited": false, "score": 0, "creation_date": 1557914590, "post_id": 56146190, "comment_id": 98922820, "body": "but video file should not be accessable or sharable via file manger or media players."}, {"owner": {"reputation": 5, "user_id": 10979020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1e8eac4a4586331c21344308ec7755?s=128&d=identicon&r=PG&f=1", "display_name": "Hari", "link": "https://stackoverflow.com/users/10979020/hari"}, "edited": false, "score": 0, "creation_date": 1557914625, "post_id": 56146190, "comment_id": 98922838, "body": "download video only accessable via my app only. how can i achive this"}, {"owner": {"reputation": 5, "user_id": 10979020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1e8eac4a4586331c21344308ec7755?s=128&d=identicon&r=PG&f=1", "display_name": "Hari", "link": "https://stackoverflow.com/users/10979020/hari"}, "edited": false, "score": 0, "creation_date": 1557914818, "post_id": 56146190, "comment_id": 98922970, "body": "in youtube they encrypt video file as .exo file and store to file system. when offline they decrypt the .exo file to video file. no one can decrypt that file out side youtube app. i want to do like that."}, {"owner": {"reputation": 5, "user_id": 10979020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1e8eac4a4586331c21344308ec7755?s=128&d=identicon&r=PG&f=1", "display_name": "Hari", "link": "https://stackoverflow.com/users/10979020/hari"}, "reply_to_user": {"reputation": 2062, "user_id": 1182899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a928914efec3608e929fabbc8e9a25e?s=128&d=identicon&r=PG", "display_name": "Vasil Dininski", "link": "https://stackoverflow.com/users/1182899/vasil-dininski"}, "edited": false, "score": 0, "creation_date": 1557915832, "post_id": 56146190, "comment_id": 98923585, "body": "@VasilDininski please help me i have no idea."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1557949314, "post_id": 56146190, "comment_id": 98942211, "body": "Obfuscation <b><i>is not</i></b> encryption. Just because you&#39;ve done something slightly different to a normal URL, the video will be extractable. Huge amounts of time/money/thought have gone into how to protect video in the browser. Using base64 encoded URLs is not one of the solutions."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1557949438, "post_id": 56146190, "comment_id": 98942252, "body": "Plain and simple, encoding video data to string will not work nicely because there&#39;s simply too much data. Strings of the size you would need are enough to break browsers. <b>I guarantee that this is a bad idea.</b>"}, {"owner": {"reputation": 5, "user_id": 10979020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1e8eac4a4586331c21344308ec7755?s=128&d=identicon&r=PG&f=1", "display_name": "Hari", "link": "https://stackoverflow.com/users/10979020/hari"}, "edited": false, "score": 0, "creation_date": 1557976113, "post_id": 56146190, "comment_id": 98948579, "body": "What are other good ways to do this?"}, {"owner": {"reputation": 5, "user_id": 10979020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1e8eac4a4586331c21344308ec7755?s=128&d=identicon&r=PG&f=1", "display_name": "Hari", "link": "https://stackoverflow.com/users/10979020/hari"}, "reply_to_user": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1557976153, "post_id": 56146190, "comment_id": 98948586, "body": "@spender Please help me"}], "owner": {"reputation": 5, "user_id": 10979020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1e8eac4a4586331c21344308ec7755?s=128&d=identicon&r=PG&f=1", "display_name": "Hari", "link": "https://stackoverflow.com/users/10979020/hari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557913205, "creation_date": 1557913205, "question_id": 56146190, "link": "https://stackoverflow.com/questions/56146190/how-to-convert-video-file-url-to-base64-in-ionic", "title": "How to convert video file url to base64 in ionic?", "body": "<p>I need to convert video url (<a href=\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\" rel=\"nofollow noreferrer\">http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4</a>) to base64. in ionic 3.</p>\n\n<p>i tried native base64 package. But it doesn't work.\nalso tried canvas method it shows error.</p>\n\n<pre><code>var c = document.createElement('canvas');\nvar img = document.getElementById('Img1');\nc.height = img.naturalHeight;\nc.width = img.naturalWidth;\nvar ctx = c.getContext('2d');\n\nctx.drawImage(img, 0, 0, c.width, c.height);\nvar base64String = c.toDataURL();\n</code></pre>\n"}, {"tags": ["typescript", "unit-testing", "jasmine"], "owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557913026, "creation_date": 1557913026, "question_id": 56146121, "link": "https://stackoverflow.com/questions/56146121/component-variable-inside-nginit-is-expected-to-be-defined-but-it-is-undefined", "title": "component variable inside nginit is expected to be defined but it is undefined", "body": "<p>I am running test for angular app. I have mocked http get call and flushed with dummydata. I expect the variable that expects this dummydata to be defined or print this varaiable. I see this is undefined. Hope the code snippet below gives clear idea</p>\n\n<p><strong>typescript</strong></p>\n\n<pre><code>ngOnInit() {\n    this.data = [];\n    this.getData()\n    .subscribe(res =&gt; {\n        if (res['status'] == \"FAILURE\") {\n         ....\n        } else {\n          this.data = res['data'] as Array&lt;something&gt;;\n        }\n      }, (err) =&gt; {\n        console.log(err);\n      }\n    );\n  }\n\n getData(): Observable&lt;something[]&gt; {\n    return this.http.get&lt;something[]&gt;('/api/getData');\n  }\n\nexport class something {\n    id: number;\n    name: string;\n}\n</code></pre>\n\n<p><strong>spec</strong></p>\n\n<pre><code>mockheader=\n[\n      ['id', 'id'],\n      ['name', 'name'],\n]\nit('should define data', () =&gt; {\n    let spyOndata=spyOn(component,'ngOnInit').and.callThrough();\n      var dummyFinancial : Array&lt;something&gt;;\n      dummydata = [\n        {\n          id:\"gdg\"\n          name:\"xys\"  \n        }\n      ];\n      component.headers=mockheaders;\n      //fixture.detectChanges();\n      const req = httpMock.expectOne('/api/getData');\n      expect(req.request.method).toBe(\"GET\");\n      req.flush(dummydata);\n\n      console.log(component.data);//nothing prints\n      expect(component.data.length).toBe(1);//fails\n      expect(component.data).toEqual(dummydata);//fails\n\n\n  });\n\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular6"], "comments": [{"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1557913647, "post_id": 56145756, "comment_id": 98922240, "body": "can you share a minimal stackblitz of your code... it&#39;ll be easier to help"}, {"owner": {"reputation": 1, "user_id": 11502839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d2af00c43372cbfca644a278721ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Hotsockets", "link": "https://stackoverflow.com/users/11502839/hotsockets"}, "reply_to_user": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1557913764, "post_id": 56145756, "comment_id": 98922315, "body": "Heya, I&#39;ll try to make a stackblitz but many dependencies seems not available on Stackblitz, like the import { coerceBooleanProperty } from &#39;@angular/cdk/coercion&#39;;"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1557913963, "post_id": 56145756, "comment_id": 98922443, "body": "do these dependencies cause (or are part of) the issue in your question?"}, {"owner": {"reputation": 1, "user_id": 11502839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d2af00c43372cbfca644a278721ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Hotsockets", "link": "https://stackoverflow.com/users/11502839/hotsockets"}, "reply_to_user": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1557914764, "post_id": 56145756, "comment_id": 98922929, "body": "No, all dependencies are fine on my project, I can run my app without problems ^.^"}, {"owner": {"reputation": 1, "user_id": 11502839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d2af00c43372cbfca644a278721ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Hotsockets", "link": "https://stackoverflow.com/users/11502839/hotsockets"}, "reply_to_user": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1557914927, "post_id": 56145756, "comment_id": 98923034, "body": "Here is the stackblitz but with dependencies errors, at least you can see better the structure of the code <a href=\"https://stackblitz.com/edit/angular-wan84s?file=src%2Fapp%2Fshare-data.service.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "edited": false, "score": 2, "creation_date": 1557932143, "post_id": 56145756, "comment_id": 98933970, "body": "Even with your dependencies fixed (path errors - don&#39;t import from &#39;src&#39;), there are many problems with your code and it doesn&#39;t look complete. Please fix."}, {"owner": {"reputation": 1, "user_id": 11502839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d2af00c43372cbfca644a278721ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Hotsockets", "link": "https://stackoverflow.com/users/11502839/hotsockets"}, "edited": false, "score": 0, "creation_date": 1557998798, "post_id": 56145756, "comment_id": 98957401, "body": "<a href=\"https://stackblitz.com/edit/angular-upela1?file=src%2Fapp%2Fapp.module.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a> Here is a new stackblitz, with many of the features of my project, but still &quot;Cant find package : src&quot;. Src dependencie (1.1.2) is installed in stackblitz as you can see in dependencies. I&#39;ve checked many times and everything is exactly as my original code so it&#39;s supposed to work as its working for me ^.^"}, {"owner": {"reputation": 2338, "user_id": 5818622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kX4Wi.jpg?s=128&g=1", "display_name": "coreuter", "link": "https://stackoverflow.com/users/5818622/coreuter"}, "edited": false, "score": 0, "creation_date": 1558081904, "post_id": 56145756, "comment_id": 98990651, "body": "@Hotsockets src is not a dependency that you need to install. You need to fix your imports and make them relative, e.g. in share-data.service.ts change the EventModel import to <code>import { EventModel } from &#39;..&#47;models&#47;event.model&#39;;</code> Do that for all imports your custom imports which aren&#39;t relative (see <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"nofollow noreferrer\">module-resolution</a>). There is also a folder called &#39;dialogs&#39; missing."}, {"owner": {"reputation": 1, "user_id": 11502839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d2af00c43372cbfca644a278721ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Hotsockets", "link": "https://stackoverflow.com/users/11502839/hotsockets"}, "reply_to_user": {"reputation": 2338, "user_id": 5818622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kX4Wi.jpg?s=128&g=1", "display_name": "coreuter", "link": "https://stackoverflow.com/users/5818622/coreuter"}, "edited": false, "score": 0, "creation_date": 1558364903, "post_id": 56145756, "comment_id": 99067993, "body": "@coreuter thx for your help, I managed to fix many many errors that stackblitz had because of relatives path mainly. This stackblitz really starting to give me headaches because, despite the fact it doesnt reproduce my header and my left sidebar (wich u dont really need for the problem), I have an other error that I already fixed on my local machine. Here is the stackblitz <a href=\"https://stackblitz.com/edit/angular-upela1?file=src%2Fapp%2Fbody%2Fevent-process-and-display%2Fevent-edit-process%2FmatInput-components%2Finput%2Finput.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a> , I&#39;m trully sorry that i&#39;m not able to help you guys more"}, {"owner": {"reputation": 1, "user_id": 11502839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d2af00c43372cbfca644a278721ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Hotsockets", "link": "https://stackoverflow.com/users/11502839/hotsockets"}, "edited": false, "score": 0, "creation_date": 1558365176, "post_id": 56145756, "comment_id": 99068169, "body": "Oh and I fixed my initial problem on my local machine, but I&#39;m afraid that it&#39;s a bit rough as a solution, I basically added a div with formGroup like this <code>&lt;div [formGroup]=&quot;formGroup&quot;&gt;   &lt;input matInput   placeholder=&quot;{{placeholder}}&quot;   formControlName=&quot;{{formControlName}}&quot;   &#47;&gt;  &lt;&#47;div&gt;</code> and no errors, everything works fine (less the floating behaviour but Im working on this), I can recieve datas I type in my inputs... I just though it&#39;s strange to get a formGroup for every input I generate"}], "owner": {"reputation": 1, "user_id": 11502839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d2af00c43372cbfca644a278721ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Hotsockets", "link": "https://stackoverflow.com/users/11502839/hotsockets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558012164, "creation_date": 1557911974, "last_edit_date": 1558012164, "question_id": 56145756, "link": "https://stackoverflow.com/questions/56145756/angular6-getting-problems-wrong-behaviour-when-trying-to-implement-a-nested", "title": "Angular6 - Getting problems &amp; wrong behaviour when trying to implement a nested custom form field inside my form (using Angular Material)", "body": "<p>I'm using angular material to create a form where I loop with *ngFor directive to display many inputs of diferent types. What I wanna do is to nest the matInput inside an other component and reuse it inside my form. I think I'm close to making it but I'm stuck for more than 3 days on this console error : </p>\n\n<blockquote>\n  <p>formControlName must be used with a parent formGroup directive. You'll\n  want to add a formGroup directive and pass it an existing FormGroup\n  instance (you can create one in your class).</p>\n  \n  <p>Example:</p>\n\n<pre><code>&lt;div [formGroup]=\"myGroup\"&gt;\n  &lt;input formControlName=\"firstName\"&gt;\n&lt;/div&gt;\n\nIn your class:\n\nthis.myGroup = new FormGroup({\n   firstName: new FormControl()\n});\n</code></pre>\n</blockquote>\n\n<p>This error makes no sense to me because I already have a [formGroup] directive implemented in my form, as you'll see below. So I wonder how I can resolve this error. </p>\n\n<p>Basically, what I've done so far is follow the guide from material official website : <a href=\"https://material.angular.io/guide/creating-a-custom-form-field-control#trying-it-out\" rel=\"nofollow noreferrer\">https://material.angular.io/guide/creating-a-custom-form-field-control#trying-it-out</a>\nHere's some code to show you what I've been implementing : </p>\n\n<p>input.component.html</p>\n\n<pre><code>&lt;input matInput\n  placeholder=\"placeholder\"\n  formControlName=\"formControlName\"\n/&gt;\n</code></pre>\n\n<p>input.component.ts</p>\n\n<pre><code>import { Component, Input, HostBinding, Self, Optional, ElementRef, Output } from '@angular/core';\nimport { MatFormFieldControl } from '@angular/material';\nimport { FormControlName, ControlValueAccessor, NgControl, FormBuilder, FormGroup } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { FocusMonitor } from '@angular/cdk/a11y';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\n\n\nclass MyInput {\n  constructor(public ftdName: string, public ftdConformite: string, public ftdEmetteur: string,\n              public ftdNation: string, public ftdNonConformite: string, public ftdGed: string, \n              public ftdConstatExterne: string) { }\n}\n\n@Component({\n  selector: 'app-input',\n  templateUrl: './input.component.html',\n  styleUrls: ['./input.component.css'],\n  providers: [\n    {\n      provide : MatFormFieldControl, useExisting: InputComponent\n    }]\n})\n\nexport class InputComponent implements ControlValueAccessor, MatFormFieldControl&lt;MyInput&gt; {\n\n  static nextId = 0;\n  public _placeholder: string;\n  public _disabled = false;\n  public _required = false;\n  public stateChanges = new Subject&lt;void&gt; ();\n  public focused = false;\n  public errorState = false;\n  public listForm: FormGroup;\n\n  onChange: any = () =&gt; {}\n  onTouch: any = () =&gt; {}\n\n  @HostBinding('class.floating')\n  get shouldLabelFloat() {\n    return this.focused || !this.empty;\n  }\n\n  get empty() {\n    let n = this.listForm.value;\n    return !n.ftdName &amp;&amp; !n.ftdConformite &amp;&amp; !n.ftdNonConformite &amp;&amp; !n.ftdConstatExterne &amp;&amp; !n.ftdEmetteur &amp;&amp; !n.ftdGed &amp;&amp; !n.ftdNation;\n  } \n\n  @HostBinding('attr.aria-describedby') describedBy = '';\n  setDescribedByIds(ids: string[]) {\n    this.describedBy = ids.join(' ');\n  }\n\n  @HostBinding() id = `example-myinput-${InputComponent.nextId++}`\n\n  @Input() \n  formControlName: FormControlName;\n\n  @Input() \n  get placeholder() {\n    return this._placeholder\n  }\n  set placeholder(plh) {\n    this._placeholder = plh;\n    this.stateChanges.next();\n  }\n\n  @Input()\n  get required() {\n    return this._required;\n  }\n  set required(req) {\n    this._required = coerceBooleanProperty(req);\n    this.stateChanges.next();\n  }\n\n  @Input()\n  get disabled(): boolean {\n     return this._disabled;\n  }\n  set disabled(value: boolean) {\n    this._disabled = coerceBooleanProperty(value);\n    this._disabled ? this.listForm.disable() : this.listForm.enable();\n    this.stateChanges.next();\n  }\n\n  constructor(@Optional() @Self() public ngControl : NgControl,\n  fb: FormBuilder, private fm: FocusMonitor, private elRef: ElementRef&lt;HTMLElement&gt;) { \n\n    this.listForm = fb.group({\n      'ftdName' : '',\n      'ftdConformite' : '',\n      'ftdEmetteur' : '',\n      'ftdNation' : '',\n      'ftdNonConformite' : '',\n      'ftdGed' : '', \n      'ftdConstatExterne' : ''\n    })\n\n    fm.monitor(elRef.nativeElement, true)\n    .subscribe(origin =&gt; {\n      this.focused = !!origin;\n      this.stateChanges.next();\n    });\n\n    if(this.ngControl != null) {\n      this.ngControl.valueAccessor = this\n    }\n  }\n\n  onContainerClick(event: MouseEvent) {\n    if ((event.target as Element).tagName.toLowerCase() != 'input') {\n      this.elRef.nativeElement.querySelector('input').focus();\n    }\n  }\n\n  set value(input : MyInput | null) {\n    this.stateChanges.next();\n  }\n\n  // this method sets the value programmatically\n  writeValue(value:any) {\n    this.value = value\n  }\n  // upon UI element value changes, this method gets triggered\n  registerOnChange(fn: any){\n    this.onChange = fn\n  }\n\n  // upon touching the element, this method gets triggered\n  registerOnTouched(fn: any){\n    this.onTouch = fn\n  }\n\n  ngOnDestroy() {\n    this.stateChanges.complete();\n    this.fm.stopMonitoring(this.elRef.nativeElement);\n  }\n}\n\n</code></pre>\n\n<p>form.component.html (where I call my app-input, I simplify the code to show only the part that concerns my problem.)</p>\n\n<pre><code>&lt;div class=\"matContainer\"&gt;\n  &lt;form class=\"EventForm\" [formGroup]=\"listForm\" (ngSubmit)=\"onSubmitList()\"&gt;\n    &lt;ng-container *ngFor=\"let group of jsonArrays.groups; let last = last\"&gt;\n      &lt;ng-container *ngFor=\"let input of group.inputs\"&gt;\n\n        &lt;mat-form-field *ngIf=\"input.type === 'matInput'\" class=\"colonne{{ \n         input.colonne }}\"&gt;\n          &lt;app-input \n            placeholder=\"{{ input.placeholder }}\"\n            formControlName=\"{{ input.formControlName }}\"\n          &gt;&lt;/app-input&gt;\n        &lt;/mat-form-field&gt;\n\n      &lt;/ng-container&gt;\n    &lt;/ng-container&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>As a result, I am able to see my inputs that are normally being displayed only if I click on the first input (that is always displayed), or if I resize my page, I have no clue of that behaviour. \n But still, the error message in console is still display no matter what.\n If you have any questions, or things I can clarify don't hesitate, I'll be glad to.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 342, "user_id": 11066345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc1f460ad142207b39631beedf83a6b7?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/11066345/shubham"}, "is_accepted": false, "score": 0, "last_activity_date": 1557913943, "creation_date": 1557913943, "answer_id": 56146462, "question_id": 56145716, "link": "https://stackoverflow.com/questions/56145716/how-can-i-put-async-pipe-into-my-custom-pipe/56146462#56146462", "title": "How can I put async pipe into my custom pipe", "body": "<p>In case this isn't clear for everyone, it's as easy as...</p>\n\n<pre><code>&lt;div *ngFor=\"let product of (products$ | async | searchFilter: (query$ | async) )\"&gt;\n</code></pre>\n\n<p>Notice the brackets (query$ | async) already in an async pipe operation.</p>\n"}], "owner": {"reputation": 1, "user_id": 11503065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8f54e03d0ab790678151a3924ec63e9?s=128&d=identicon&r=PG&f=1", "display_name": "mostafa", "link": "https://stackoverflow.com/users/11503065/mostafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557913943, "creation_date": 1557911864, "last_edit_date": 1557912072, "question_id": 56145716, "link": "https://stackoverflow.com/questions/56145716/how-can-i-put-async-pipe-into-my-custom-pipe", "title": "How can I put async pipe into my custom pipe", "body": "<p>I want to create a pipe in angular which uses the observable method because of that I should return observable when I wanna use this pipe I have to put the <code>async</code> pipe and my pipe together</p>\n\n<p>Is there any way to put async pipe inside of my pipe?</p>\n\n<pre><code>@Pipe({\n  name: 'toEnum'\n})\nexport class ToEnumPipe implements PipeTransform {\n  constructor(private translate: TranslateService) {}\n\n    transform(value: number, model: EnumModel[]): Observable&lt;string&gt; {\n    const txt = model.filter(x =&gt; x.value === value).map(x =&gt; x.text)[0];\n    return this.translate.get(txt);\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "dictionary", "observable"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 11232045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba20d4c5f62cb95a13098022b046aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Fealo", "link": "https://stackoverflow.com/users/11232045/fealo"}, "edited": false, "score": 0, "creation_date": 1557911740, "post_id": 56145627, "comment_id": 98921070, "body": "but if I do that, it will returns only json objects from the server, what I want is to instantiate all the json into an Object <code>PriceRule</code> and to returns all of them ( PriceRule[])"}, {"owner": {"reputation": 1164, "user_id": 6729295, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10154409674010699/picture?type=large", "display_name": "Marcel Hoekstra", "link": "https://stackoverflow.com/users/6729295/marcel-hoekstra"}, "reply_to_user": {"reputation": 81, "user_id": 11232045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba20d4c5f62cb95a13098022b046aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Fealo", "link": "https://stackoverflow.com/users/11232045/fealo"}, "edited": false, "score": 0, "creation_date": 1557912179, "post_id": 56145627, "comment_id": 98921354, "body": "do you use the HttpClient from &#39;@angular/common/http&#39;; because it does return the object"}], "tags": [], "owner": {"reputation": 1164, "user_id": 6729295, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10154409674010699/picture?type=large", "display_name": "Marcel Hoekstra", "link": "https://stackoverflow.com/users/6729295/marcel-hoekstra"}, "is_accepted": false, "score": 0, "last_activity_date": 1557911631, "creation_date": 1557911631, "answer_id": 56145627, "question_id": 56145519, "link": "https://stackoverflow.com/questions/56145519/using-map-method-in-typescript-angular-returning-array-of-observable-in-a-fun/56145627#56145627", "title": "Using Map() method in TypeScript Angular, returning array of Observable in a function", "body": "<p>Remove the map</p>\n\n<pre><code>.map(response =&gt; PriceRule.fromJson(response));\n</code></pre>\n\n<p>Angular HttpClient will handle that for you</p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 11232045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba20d4c5f62cb95a13098022b046aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Fealo", "link": "https://stackoverflow.com/users/11232045/fealo"}, "edited": false, "score": 0, "creation_date": 1557912102, "post_id": 56145633, "comment_id": 98921307, "body": "someone said that angular convert the json to an object automatically, so i don&#39;t need to do this ( fromJson) ?"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 81, "user_id": 11232045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba20d4c5f62cb95a13098022b046aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Fealo", "link": "https://stackoverflow.com/users/11232045/fealo"}, "edited": false, "score": 0, "creation_date": 1557912199, "post_id": 56145633, "comment_id": 98921363, "body": "@Fealo yes, it&#39;s already an object. But your fromJson also works with an object, not with json string. If you don&#39;t want any methods on your <code>PriceRule</code>, you can also make it an interface. Even less code"}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": true, "score": 3, "last_activity_date": 1557912265, "last_edit_date": 1557912265, "creation_date": 1557911646, "answer_id": 56145633, "question_id": 56145519, "link": "https://stackoverflow.com/questions/56145519/using-map-method-in-typescript-angular-returning-array-of-observable-in-a-fun/56145633#56145633", "title": "Using Map() method in TypeScript Angular, returning array of Observable in a function", "body": "<p>You are confusing the Observable <code>map</code> with the array <code>map</code>:</p>\n\n<pre><code>.map(response =&gt; response.map((line) =&gt; PriceRule.fromJson(line));\n</code></pre>\n\n<p>The rxjs map, maps your response to another value, from there you need to take your array, and map it to the <code>PriceRule</code>.</p>\n\n<p>Another way of doing this, which does not require your <code>fromJson</code> method is:</p>\n\n<pre><code>.map(response =&gt; response.map((line) =&gt; Object.assign(new PriceRule(), line));\n</code></pre>\n\n<p>Another way, is to make the <code>PriceRule</code> an interface, if you do that, you don't need any mapping:</p>\n\n<pre><code>return this.http.get&lt;PriceRule[]&gt;(this.url);\n</code></pre>\n\n<p><sub>note: you should try to update to the latest rxjs >= 6 though. With that you have to use the <code>.pipe</code> function with operators</sub></p>\n"}, {"tags": [], "owner": {"reputation": 1616, "user_id": 11450873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcf7fa66c92fd793baae6bf0cb8f3940?s=128&d=identicon&r=PG&f=1", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/11450873/praveenkumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1557911826, "creation_date": 1557911826, "answer_id": 56145704, "question_id": 56145519, "link": "https://stackoverflow.com/questions/56145519/using-map-method-in-typescript-angular-returning-array-of-observable-in-a-fun/56145704#56145704", "title": "Using Map() method in TypeScript Angular, returning array of Observable in a function", "body": "<p>When you say <code>getPriceRules(): Observable&lt;PriceRule[]&gt;</code>, what it means is the method <code>getPriceRules</code> returns Observable that will return <code>PricesRule[]</code> (price rule array). When you call map on that Observable, it tries to apply the map function to PriceRule array (PriceRule[]) and not to each PriceRule object. Also, JSON to object conversion is done by Angular automatically. So, remove the map function.</p>\n"}], "owner": {"reputation": 81, "user_id": 11232045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba20d4c5f62cb95a13098022b046aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Fealo", "link": "https://stackoverflow.com/users/11232045/fealo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2593, "favorite_count": 1, "accepted_answer_id": 56145633, "answer_count": 3, "score": 0, "last_activity_date": 1557925618, "creation_date": 1557911297, "last_edit_date": 1557925618, "question_id": 56145519, "link": "https://stackoverflow.com/questions/56145519/using-map-method-in-typescript-angular-returning-array-of-observable-in-a-fun", "title": "Using Map() method in TypeScript Angular, returning array of Observable in a function", "body": "<p>I have this method in my service :</p>\n\n<pre><code>getPriceRules(): Observable&lt;PriceRule[]&gt; {\n   return this.http.get&lt;PriceRule[]&gt;(this.url)\n   .map(response =&gt; PriceRule.fromJson(response));\n}\n</code></pre>\n\n<p>My error : </p>\n\n<pre><code>Type 'Observable&lt;PriceRule&gt;' is not assignable to type 'Observable&lt;PriceRule[]&gt;'.\nType 'PriceRule' is missing the following properties from type 'PriceRule[]': length, pop, push, concat, and 26 more.\n</code></pre>\n\n<p>What I want in my <code>getPricesRules()</code> method is get all <code>PriceRule</code> that the <code>http.get</code> returns me and to apply my function <code>fromJson</code> in each <code>PriceRule</code></p>\n\n<pre><code>export class PriceRule {\n  public static fromJson(json: Object): PriceRule {\n    return new PriceRule(\n       json['id'],\n       json['activity'],\n       json['duration'],\n       json['is_indoor'],\n       json['surface'],\n       json['hour_start'],\n       json['hour_end'],\n       json['price'],\n       json['currency'],\n       json['weekdays']\n    );\n  } \n\n  constructor(\n        public id: string,\n        public activity: string,\n        public duration: number,\n        public is_indoor: boolean,\n        public surface: string,\n        public hour_start: string,\n        public hour_end: string,\n        public price: number,\n        public currency: string,\n        public weekdays: number[]\n    ) {}\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "unit-testing", "dependencies", "angular5"], "answers": [{"tags": [], "owner": {"reputation": 5259, "user_id": 715286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BqXXo.jpg?s=128&g=1", "display_name": "Qortex", "link": "https://stackoverflow.com/users/715286/qortex"}, "is_accepted": true, "score": 3, "last_activity_date": 1557911286, "creation_date": 1557911286, "answer_id": 56145513, "question_id": 56145278, "link": "https://stackoverflow.com/questions/56145278/angular-unit-tests-mat-nav-list-is-not-a-known-element/56145513#56145513", "title": "Angular Unit Tests : &#39;mat-nav-list&#39; is not a known element", "body": "<p>Testing requires you to import the modules by hand. It allows for example to load \"mockup services\" instead of the real ones when you need them.</p>\n\n<p>You will find the corresponding doc <a href=\"https://angular.io/guide/testing#setup-with-module-imports\" rel=\"nofollow noreferrer\">here</a>, and connected topics on the same doc page.</p>\n\n<p>So you will have to re-import the needed modules in your test file (inside your <code>describe</code> item), with something like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>beforeEach(async(() =&gt; {\n  TestBed.configureTestingModule({\n    declarations: [ /* Your component */ ],\n    imports: [\n      /* Here, import your Angular material modules */\n    ],\n    providers: [\n      /* Here, use custom or usual providers for your injected services */\n    ]\n  })\n  .compileComponents();\n}));\n</code></pre>\n"}], "owner": {"reputation": 705, "user_id": 5770601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7fcff4e00f6308d83beb849e557a2820?s=128&d=identicon&r=PG&f=1", "display_name": "Orionss", "link": "https://stackoverflow.com/users/5770601/orionss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1579, "favorite_count": 0, "accepted_answer_id": 56145513, "answer_count": 1, "score": 1, "last_activity_date": 1557911286, "creation_date": 1557910535, "question_id": 56145278, "link": "https://stackoverflow.com/questions/56145278/angular-unit-tests-mat-nav-list-is-not-a-known-element", "title": "Angular Unit Tests : &#39;mat-nav-list&#39; is not a known element", "body": "<p>I'm currently working on a legacy Angular 5 code that doesn't have any unit testing except the default ones when generating a component using the Angular CLI.</p>\n\n<p>The project is using Angular Material 5 RC0 and it seems that the unit tests doesn't take into account my module's dependencies.</p>\n\n<p><strong>app.module.ts :</strong></p>\n\n<pre><code>@NgModule({\n  declarations: [\n    AppComponent,\n    /* My module components... */\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    ReactiveFormsModule,\n    BrowserAnimationsModule,\n    routing,\n    DialogsModule,\n    SharedModule ,\n    MaterialModule,\n    MatListModule, // It's the module that should be needed\n    MatSidenavModule,\n    ToastrModule.forRoot({\n      timeOut: 5000,\n      positionClass: 'toast-bottom-right',\n      preventDuplicates: true\n    }),\n    HttpClientModule,\n    TableFactoryModule\n  ],\n  providers: [\n    /* My module services */,\n    AuthGuard\n  ],\n  bootstrap: [AppComponent]\n\n})\nexport class AppModule {\n\n}\n</code></pre>\n\n<p><strong>app.component.ts:</strong></p>\n\n<pre><code>import { Component, Input, ViewChild } from '@angular/core';\nimport { Router, RouterModule, ActivatedRoute } from '@angular/router';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport * as _ from 'lodash';\n\nimport { Subscription } from 'rxjs/Subscription';\nimport { ToastrService } from 'ngx-toastr';\n\nimport { UsersService } from 'app/services/users.service';\nimport { ComplexesService } from 'app/services/complexes.service';\nimport { ActivatedUserService } from 'app/shared/activateduser.service';\nimport { ActivatedComplexesService } from 'app/shared/activatedcomplexes.service';\n\nimport { User } from 'app/user';\nimport { Complex } from './complex/complex'\nimport { MatSidenav } from '@angular/material';\nimport { MatList } from '@angular/material/list'\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app works!';\n  isConnected = false;\n  private subscription;\n  private currentUser: User;\n  userSubscription: Subscription;\n  complexesSubscription: Subscription;\n  @ViewChild(MatSidenav) sidenav: MatSidenav;\n\n  constructor(\n    private usersService: UsersService,\n    private complexesService: ComplexesService,\n    private router: Router,\n    private toastr: ToastrService,\n    private activatedUser: ActivatedUserService,\n    private activatedComplexes: ActivatedComplexesService,\n  ){\n  }\n  ngOnInit() {\n    let getToken = this.usersService.isConnected();\n    if (getToken) {\n      this.getComplexes();\n      this.userGetById();      \n    }\n    else\n      this.router.navigate(['']);\n\n    this.userSubscription = this.activatedUser.activatedUser$\n    .subscribe(user =&gt; {\n      if(user) {\n        this.currentUser = user;\n        this.sidenav.open();\n      }\n    });\n  }\n  logout(){\n    this.usersService.logout();\n    this.isConnected = this.usersService.isConnected();\n    this.router.navigate(['']);\n  }\n  ngOnDestroy() {\n    this.userSubscription.unsubscribe();\n    this.complexesSubscription.unsubscribe();    \n  }\n\n  private userGetById(){\n    let token = JSON.parse(localStorage.getItem('futbakCurrentUser'));\n    let jwtHelperService: JwtHelperService = new JwtHelperService({});\n    let currentUser = jwtHelperService.decodeToken(token);\n    this.usersService.getByID(currentUser.id).subscribe(\n      (res) =&gt; {\n        this.currentUser = res\n      }, (err: HttpErrorResponse) =&gt; {\n        if (err.error instanceof Error) {\n          // A client-side or network error occurred. Handle it accordingly.\n          this.toastr.error(\"Une erreur est survenue : \"+err.error.message\u00a0 , '', { closeButton: true });\n        } else {\n          this.toastr.error(\"Une erreur est survenue code : \"+ err.status+\", message : \"+err.statusText, '', { closeButton: true });\n        }\n      },\n      () =&gt; {\n        if(this.currentUser.role == 'superadmin' || this.currentUser.role == 'complexmanager') {\n          this.activatedUser._activatedUser$.next(this.currentUser)\n        }\n        if(this.currentUser.role == 'superadmin') {\n          this.router.navigate(['usersList']);\n          this.getComplexes();\n        } else if (this.currentUser.role == 'complexmanager') {\n          this.router.navigate(['admins/'+this.currentUser._id])\n        } else {\n          this.toastr.error(\"Vous n'avez pas les droits pour acc\u00e8der \u00e0 l'application.\",'',{closeButton :true});\n        }\n      });\n  }\n\n  private getComplexes(){\n   return this.complexesService.get()\n    .subscribe(\n      res =&gt; {\n        if(res)\n          this.activatedComplexes._activatedComplexes$.next(res)\n    }, (err: HttpErrorResponse) =&gt; {\n        if (err.error instanceof Error) {\n          this.toastr.error(\"Une erreur est survenue : \"+err.error.message\u00a0 , '', { closeButton: true });\n        } else {\n          this.toastr.error(\"Une erreur est survenue code : \"+ err.status+\", message : \"+err.statusText, '', { closeButton: true });       \n        }\n      },\n      () =&gt; {\n      });\n  }\n\n }\n</code></pre>\n\n<p><strong>The failing test :</strong></p>\n\n<pre><code>it('should create the app', async(() =&gt; {\n    const fixture = TestBed.createComponent(AppComponent);\n    const app = fixture.debugElement.componentInstance;\n    expect(app).toBeTruthy();\n  }));\n</code></pre>\n\n<p><strong>app.component.html :</strong></p>\n\n<pre><code>&lt;mat-sidenav-container fullscreen &gt;\n\n  &lt;mat-sidenav #sidenav mode=\"side\" disableClose&gt;\n    &lt;!-- sidenav content --&gt;\n\n    &lt;div&gt;&lt;img src=\"./assets/logo.png\" class=\"logo\" &gt;&lt;/div&gt;\n    &lt;div class=\"title-app\"&gt;\n      &lt;h2&gt;Admin&lt;/h2&gt;\n    &lt;/div&gt;\n\n    &lt;mat-nav-list&gt;\n      &lt;a mat-list-item routerLinkActive=\"active\" routerLink=\"['usersList']\"&gt;\n        &lt;!-- &lt;mat-icon fontSet=\"fa\" fontIcon=\"fa-users\" &gt;&lt;/mat-icon&gt; --&gt;\n        &lt;i class=\"fa fa-users fa-fw fa-lg\"&gt;&lt;/i&gt; Joueurs\n      &lt;/a&gt;\n      &lt;a mat-list-item routerLink=\"['adminsList']\"&gt;\n        &lt;i class=\"fa fa-user fa-fw fa-lg\"&gt;&lt;/i&gt; Admins\n      &lt;/a&gt;\n      &lt;a mat-list-item routerLinkActive=\"active\" routerLink=\"['gamesList']\"&gt;\n          &lt;i class=\"fa fa-futbol-o fa-fw fa-lg\"&gt;&lt;/i&gt; Matchs\n      &lt;/a&gt;\n      &lt;a mat-list-item routerLinkActive=\"active\"  routerLink=\"['playgroundsList']\"&gt;\n        &lt;i class=\"fa fa-cubes fa-fw fa-lg\"&gt;&lt;/i&gt; Terrains\n      &lt;/a&gt;\n      &lt;a mat-list-item routerLinkActive=\"active\" routerLink=\"['complexesList']\"&gt;\n        &lt;i class=\"fa fa-cube fa-fw fa-lg\"&gt;&lt;/i&gt; Complexes\n      &lt;/a&gt;\n      &lt;a mat-list-item routerLinkActive=\"active\" routerLink=\"['devicesList']\"&gt;\n        &lt;i class=\"fa fa fa-share-alt fa-fw fa-lg\"&gt;&lt;/i&gt; Capteurs\n      &lt;/a&gt;\n      &lt;a mat-list-item routerLinkActive=\"active\" routerLink=\"['experimental', 'playgrounds']\"&gt;\n        &lt;i class=\"fa fa fa-share-alt fa-fw fa-lg\"&gt;&lt;/i&gt; Business\n      &lt;/a&gt;\n      &lt;a mat-list-item routerLinkActive=\"active\" routerLink=\"['experimental', 'devices']\"&gt;\n        &lt;i class=\"fa fa fa-share-alt fa-fw fa-lg\"&gt;&lt;/i&gt; Technique\n      &lt;/a&gt;\n    &lt;/mat-nav-list&gt;\n    &lt;mat-nav-list class=\"account\"&gt;\n        &lt;button mat-button (click)=\"logout()\"&gt;&lt;i class=\"fa fa-sign-out\"&gt;&lt;/i&gt; D\u00e9connexion&lt;/button&gt;\n    &lt;/mat-nav-list&gt;\n\n  &lt;/mat-sidenav&gt;\n  &lt;div class=\"main mat-typography\"&gt;\n    &lt;!-- primary content --&gt;\n    &lt;router-outlet &gt;&lt;/router-outlet&gt;\n  &lt;/div&gt;\n&lt;/mat-sidenav-container&gt;\n</code></pre>\n\n<p>And finally, the error :</p>\n\n<pre><code>Failed: Template parse errors:\n'mat-nav-list' is not a known element:\n1. If 'mat-nav-list' is an Angular component, then verify that it is part of this module.\n2. If 'mat-nav-list' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message. (\"\n    &lt;/div&gt;\n\n    [ERROR -&gt;]&lt;mat-nav-list&gt;\n      &lt;a mat-list-item routerLinkActive=\"active\" routerLink=\"['usersList']\"&gt;\n       \"): ng:///DynamicTestModule/AppComponent.html@10:4\n</code></pre>\n\n<p>So, as you've seen, I've already tried those kind of solution :</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52105095/angular-6-mat-button-toggle-is-not-a-known-element\">'mat-nav-item' is not a known element</a></li>\n<li><a href=\"https://stackoverflow.com/questions/52105095/angular-6-mat-button-toggle-is-not-a-known-element\">'mat-button-toggle' is not a known element</a></li>\n</ul>\n\n<p>and so on.</p>\n\n<p>I only have this problem on the unit testing, the website is running properly.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4366, "user_id": 2294428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3a0k.png?s=128&g=1", "display_name": "StephaneM", "link": "https://stackoverflow.com/users/2294428/stephanem"}, "edited": false, "score": 0, "creation_date": 1557909632, "post_id": 56144938, "comment_id": 98919869, "body": "Did you set the correct mime type when you send your generated excel file?"}, {"owner": {"reputation": 1, "user_id": 9928917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ac3e011af4747c8deff54d0e567181?s=128&d=identicon&r=PG&f=1", "display_name": "Shekhar", "link": "https://stackoverflow.com/users/9928917/shekhar"}, "reply_to_user": {"reputation": 4366, "user_id": 2294428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3a0k.png?s=128&g=1", "display_name": "StephaneM", "link": "https://stackoverflow.com/users/2294428/stephanem"}, "edited": false, "score": 0, "creation_date": 1557916089, "post_id": 56144938, "comment_id": 98923750, "body": "No, i did nothing for mime type. The generated excel is good, opening properly from excel. I am not getting any code/example on how to access this file from angular to open."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9928917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ac3e011af4747c8deff54d0e567181?s=128&d=identicon&r=PG&f=1", "display_name": "Shekhar", "link": "https://stackoverflow.com/users/9928917/shekhar"}, "edited": false, "score": 0, "creation_date": 1557920043, "post_id": 56147370, "comment_id": 98926002, "body": "Cannot find name &#39;Excel&#39;; from where will it get excel?"}], "tags": [], "owner": {"reputation": 342, "user_id": 11066345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc1f460ad142207b39631beedf83a6b7?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/11066345/shubham"}, "is_accepted": false, "score": 0, "last_activity_date": 1557916788, "creation_date": 1557916788, "answer_id": 56147370, "question_id": 56144938, "link": "https://stackoverflow.com/questions/56144938/how-do-i-open-a-newly-downloaded-excel-file-in-ms-excel-from-a-button-click-in-a/56147370#56147370", "title": "How do I open a newly downloaded excel file in MS Excel from a button click in angular?", "body": "<p>Try using Absolute Path of the file you are trying to open</p>\n\n<p>eg:</p>\n\n<p><code>Excel.Workbooks.Open(\"E:\\\\test.xlsx\");</code></p>\n"}], "owner": {"reputation": 1, "user_id": 9928917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98ac3e011af4747c8deff54d0e567181?s=128&d=identicon&r=PG&f=1", "display_name": "Shekhar", "link": "https://stackoverflow.com/users/9928917/shekhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557916788, "creation_date": 1557909463, "question_id": 56144938, "link": "https://stackoverflow.com/questions/56144938/how-do-i-open-a-newly-downloaded-excel-file-in-ms-excel-from-a-button-click-in-a", "title": "How do I open a newly downloaded excel file in MS Excel from a button click in angular?", "body": "<p>I have a scenario where I made a request, got response data, created a .xlsx file using XLSX library. This new excel document is good, means it will open and show correct data when opened from system explorer.\nBut after download I have to display a pop-up like- \"Your file is downloaded, Do you want to open it? \" and Yes/No buttons. If user clicks on yes, that excel should open in MS Excel.</p>\n\n<p>I tried windows.open, but it will not work as excel file will not open in chrome tab.</p>\n\n<p>No code, as I am not getting even a single solution to this problem.</p>\n\n<p>How to open that excel using button click?\nMore important question is, how do I make angular interact with a system explorer file?</p>\n"}, {"tags": ["angular", "typescript", "authentication", "jwt"], "answers": [{"comments": [{"owner": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "edited": false, "score": 0, "creation_date": 1557913109, "post_id": 56145055, "comment_id": 98921894, "body": "The backend send me the token expiration in a json file"}, {"owner": {"reputation": 1626, "user_id": 7991096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/534fb6e90766d7ef66446c750153bf06?s=128&d=identicon&r=PG&f=1", "display_name": "HRK44", "link": "https://stackoverflow.com/users/7991096/hrk44"}, "reply_to_user": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "edited": false, "score": 0, "creation_date": 1557914514, "post_id": 56145055, "comment_id": 98922773, "body": "Well since you have the expiration, what&#39;s the issue? Just request a new token before the expiration date"}], "tags": [], "owner": {"reputation": 1626, "user_id": 7991096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/534fb6e90766d7ef66446c750153bf06?s=128&d=identicon&r=PG&f=1", "display_name": "HRK44", "link": "https://stackoverflow.com/users/7991096/hrk44"}, "is_accepted": false, "score": 0, "last_activity_date": 1557909854, "creation_date": 1557909854, "answer_id": 56145055, "question_id": 56144924, "link": "https://stackoverflow.com/questions/56144924/handle-jwt-expiration-in-spa/56145055#56145055", "title": "Handle jwt expiration in SPA", "body": "<p>Multiple solutions for your problem :</p>\n\n<ul>\n<li>Ask the backend team to return you the token's expiration date along with the token.</li>\n<li>The token is just a base64 encode string, you can decode it and extract the expiration date stored in it.</li>\n</ul>\n"}], "owner": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557909854, "creation_date": 1557909426, "question_id": 56144924, "link": "https://stackoverflow.com/questions/56144924/handle-jwt-expiration-in-spa", "title": "Handle jwt expiration in SPA", "body": "<p>The beckend give me a JWT where even the public key is encrypted, the only thing that i have is the jwt encoded.</p>\n\n<p>I append the jwt in all my http calls, the problem is that my app have only 5 http calls, where 4 are get and only 1 is a put. My problem is that I can check the validity of the token only on the first 4 http call and after all the data is cached, so i can't control anymore the validity of the token. How can i watch the expiration date and automatically logout the user when the token is invalid? should I make a interval where I check every tot minute the token validity on a specific endpoint? Like:</p>\n\n<p>The token expires in 3 hours, so i check every 20 minute the token validity with a ping to the server</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1355, "user_id": 10315665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZVE8.jpg?s=128&g=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/10315665/elias"}, "edited": false, "score": 0, "creation_date": 1557917053, "post_id": 56144822, "comment_id": 98924325, "body": "The error states that it cannot find &quot;sequelize/types/lib/hooks&quot; so I suggest you check if you have your path correct. If yes you may try to reinstall that module."}, {"owner": {"reputation": 447, "user_id": 2160838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3d78a454db78e82a85f8d55b02297cb?s=128&d=identicon&r=PG", "display_name": "Carlos Vieira", "link": "https://stackoverflow.com/users/2160838/carlos-vieira"}, "reply_to_user": {"reputation": 1355, "user_id": 10315665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZVE8.jpg?s=128&g=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/10315665/elias"}, "edited": false, "score": 0, "creation_date": 1557928938, "post_id": 56144822, "comment_id": 98931757, "body": "I there thanks by the reply... I already made a rm -r node_modules and lock file. And install from scratch.. But the error keeps going... Thanks"}, {"owner": {"reputation": 1355, "user_id": 10315665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZVE8.jpg?s=128&g=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/10315665/elias"}, "edited": false, "score": 0, "creation_date": 1557929075, "post_id": 56144822, "comment_id": 98931856, "body": "<code>&quot;sequelize&#47;types&#47;lib&#47;hooks&quot;</code> Does this point to a directory or to a file? If it points to a file. Could you show the content of it?"}, {"owner": {"reputation": 447, "user_id": 2160838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3d78a454db78e82a85f8d55b02297cb?s=128&d=identicon&r=PG", "display_name": "Carlos Vieira", "link": "https://stackoverflow.com/users/2160838/carlos-vieira"}, "reply_to_user": {"reputation": 1355, "user_id": 10315665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TZVE8.jpg?s=128&g=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/10315665/elias"}, "edited": false, "score": 0, "creation_date": 1557932491, "post_id": 56144822, "comment_id": 98934171, "body": "its installed with sequelize ..."}], "owner": {"reputation": 447, "user_id": 2160838, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3d78a454db78e82a85f8d55b02297cb?s=128&d=identicon&r=PG", "display_name": "Carlos Vieira", "link": "https://stackoverflow.com/users/2160838/carlos-vieira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557909067, "creation_date": 1557909067, "question_id": 56144822, "link": "https://stackoverflow.com/questions/56144822/got-this-on-sequelize-hook-initialization", "title": "Got this on Sequelize hook initialization", "body": "<p>Hi there I'm using an app typescript node js</p>\n\n<p>and in deploy to heroku I got this error</p>\n\n<p>node_modules/sequelize-typescript/dist/hooks/shared/hook-meta.d.ts:2:32 - error TS2307: Cannot find module 'sequelize/types/lib/hooks'.</p>\n\n<pre><code>   2 import { SequelizeHooks } from \"sequelize/types/lib/hooks\";\n</code></pre>\n\n<p>My package.json is</p>\n\n<pre><code>    \"dependencies\": {\n        \"bcrypt\": \"^3.0.2\",\n        \"bluebird\": \"^3.5.1\",\n        \"body-parser\": \"^1.18.2\",\n        \"dotenv\": \"^6.2.0\",\n        \"express\": \"^4.16.2\",\n        \"express-statsd\": \"^0.3.0\",\n        \"express-validator\": \"^5.3.0\",\n        \"hashids\": \"^1.2.2\",\n        \"jsonwebtoken\": \"^8.4.0\",\n        \"mailgun-js\": \"^0.22.0\",\n        \"mysql2\": \"^1.5.1\",\n        \"nyc\": \"^13.1.0\",\n        \"reflect-metadata\": \"^0.1.10\",\n        \"sequelize\": \"^4.37.5\",\n        \"sequelize-typescript\": \"^1.0.0-alpha.1\",\n        \"strong-error-handler\": \"^2.3.0\",\n        \"supertest\": \"^3.3.0\",\n        \"uuid\": \"^3.3.2\"   },  \n \"devDependencies\": {\n        \"@types/express\": \"^4.0.39\",\n        \"@types/mocha\": \"2.2.41\",\n        \"@types/node\": \"^8.10.39\",\n        \"mocha\": \"^5.2.0\",\n        \"ts-node\": \"^3.3.0\",\n        \"tslint\": \"^5.8.0\",\n        \"typescript\": \"^2.8.1\"   }\n</code></pre>\n"}, {"tags": ["html", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "edited": false, "score": 1, "creation_date": 1557909295, "post_id": 56144791, "comment_id": 98919697, "body": "users structure? use <code>map</code> ?"}, {"owner": {"reputation": 513, "user_id": 7167678, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e8aa136a8cd99b7f4017726aa1526f00?s=128&d=identicon&r=PG&f=1", "display_name": "Jagjit Singh", "link": "https://stackoverflow.com/users/7167678/jagjit-singh"}, "reply_to_user": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "edited": false, "score": 0, "creation_date": 1557910562, "post_id": 56144791, "comment_id": 98920391, "body": "@xadm I have rewritten it to use <code>map</code> instead and it seems like a good solution. Please see the answer I have provided to my own question if you think this is a good solution?"}], "answers": [{"tags": [], "owner": {"reputation": 1736, "user_id": 2140633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a24d10fc25aa54101a59c9752bc5240f?s=128&d=identicon&r=PG", "display_name": "Udith Gunaratna", "link": "https://stackoverflow.com/users/2140633/udith-gunaratna"}, "is_accepted": false, "score": 1, "last_activity_date": 1557910067, "last_edit_date": 1557910067, "creation_date": 1557909504, "answer_id": 56144952, "question_id": 56144791, "link": "https://stackoverflow.com/questions/56144791/how-to-dynamically-give-html-elements-an-unique-id-in-a-for-of-looptypescript/56144952#56144952", "title": "How to dynamically give HTML elements an unique ID in a for..of loop(TypeScript)?", "body": "<p>How about this?</p>\n\n<pre><code>for (let i in this.props.users) {\n    /* Since i is a string, we need to convert it to a number before calculating \n       1-based index (to start with 'customRadio1') */\n    let index = Number(i) + 1; \n    userRows.push(\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;input type=\"radio\"\n                    id={'customRadio' + index}\n                    name=\"customRadio\" /&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1736, "user_id": 2140633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a24d10fc25aa54101a59c9752bc5240f?s=128&d=identicon&r=PG", "display_name": "Udith Gunaratna", "link": "https://stackoverflow.com/users/2140633/udith-gunaratna"}, "edited": false, "score": 0, "creation_date": 1557910895, "post_id": 56145250, "comment_id": 98920589, "body": "If you look for a way to achieve this with for...loop, please see my answer above <a href=\"https://stackoverflow.com/a/56144952/2140633\">stackoverflow.com/a/56144952/2140633</a>"}, {"owner": {"reputation": 513, "user_id": 7167678, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e8aa136a8cd99b7f4017726aa1526f00?s=128&d=identicon&r=PG&f=1", "display_name": "Jagjit Singh", "link": "https://stackoverflow.com/users/7167678/jagjit-singh"}, "reply_to_user": {"reputation": 1736, "user_id": 2140633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a24d10fc25aa54101a59c9752bc5240f?s=128&d=identicon&r=PG", "display_name": "Udith Gunaratna", "link": "https://stackoverflow.com/users/2140633/udith-gunaratna"}, "edited": false, "score": 0, "creation_date": 1557913309, "post_id": 56145250, "comment_id": 98922028, "body": "@UdithGunaratna It&#39;s a good alternative, but this is done with for..in and I was looking for for..of approach, if that is even possible. Both for..in and map can be used, but I like <code>map</code> as index decleration can be done on same line as <code>forEach</code> and it is not need for a separate index variable decleration on a new line.   I still voted up your answer as it solves the problem :)"}], "tags": [], "owner": {"reputation": 513, "user_id": 7167678, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e8aa136a8cd99b7f4017726aa1526f00?s=128&d=identicon&r=PG&f=1", "display_name": "Jagjit Singh", "link": "https://stackoverflow.com/users/7167678/jagjit-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1557910454, "creation_date": 1557910454, "answer_id": 56145250, "question_id": 56144791, "link": "https://stackoverflow.com/questions/56144791/how-to-dynamically-give-html-elements-an-unique-id-in-a-for-of-looptypescript/56145250#56145250", "title": "How to dynamically give HTML elements an unique ID in a for..of loop(TypeScript)?", "body": "<p>After the comment from xadm about maybe using map instead, I decided to rewrite the for..of loop to a map instead, and this seems convenient and works: </p>\n\n<pre><code>   this.props.users.forEach((value: User, index: number) =&gt; {\n        userRows.push(\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &lt;input type=\"radio\" id={'customRadio' + {index}} name=\"customRadio\" /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;);\n    });\n</code></pre>\n\n<p>If this is possible to solve with for..of loop, please let me anyway know for future knowledge. </p>\n"}, {"comments": [{"owner": {"reputation": 513, "user_id": 7167678, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e8aa136a8cd99b7f4017726aa1526f00?s=128&d=identicon&r=PG&f=1", "display_name": "Jagjit Singh", "link": "https://stackoverflow.com/users/7167678/jagjit-singh"}, "edited": false, "score": 0, "creation_date": 1557914230, "post_id": 56146406, "comment_id": 98922604, "body": "But defining value as type <code>User</code> help the editor know about the attributes of the object, so you get suggestions from editor(like I am using VS 2019) about which attributes to use of the object, like e.g: email, firstname, lastname etc which will make you avoid spelling mistakes."}, {"owner": {"reputation": 513, "user_id": 7167678, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e8aa136a8cd99b7f4017726aa1526f00?s=128&d=identicon&r=PG&f=1", "display_name": "Jagjit Singh", "link": "https://stackoverflow.com/users/7167678/jagjit-singh"}, "edited": false, "score": 0, "creation_date": 1557914356, "post_id": 56146406, "comment_id": 98922674, "body": "I still agree that array <code>push</code> can be avoided when using the variable <code>userRows</code>!"}, {"owner": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "reply_to_user": {"reputation": 513, "user_id": 7167678, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e8aa136a8cd99b7f4017726aa1526f00?s=128&d=identicon&r=PG&f=1", "display_name": "Jagjit Singh", "link": "https://stackoverflow.com/users/7167678/jagjit-singh"}, "edited": false, "score": 0, "creation_date": 1557914400, "post_id": 56146406, "comment_id": 98922706, "body": "sure, it was for idea, not ideal, typed solution ;)"}, {"owner": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "reply_to_user": {"reputation": 513, "user_id": 7167678, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e8aa136a8cd99b7f4017726aa1526f00?s=128&d=identicon&r=PG&f=1", "display_name": "Jagjit Singh", "link": "https://stackoverflow.com/users/7167678/jagjit-singh"}, "edited": false, "score": 0, "creation_date": 1557914722, "post_id": 56146406, "comment_id": 98922903, "body": "for brevity, there should be <code>&lt;tr key={index}&gt;</code> to avoid errors on updates"}], "tags": [], "owner": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "is_accepted": true, "score": 1, "last_activity_date": 1557913822, "creation_date": 1557913822, "answer_id": 56146406, "question_id": 56144791, "link": "https://stackoverflow.com/questions/56144791/how-to-dynamically-give-html-elements-an-unique-id-in-a-for-of-looptypescript/56146406#56146406", "title": "How to dynamically give HTML elements an unique ID in a for..of loop(TypeScript)?", "body": "<p>True <code>map</code> solution should look like this:</p>\n\n<pre><code>const userRows = this.props.users.map( (value, index) =&gt; (\n  &lt;tr&gt;\n    &lt;td&gt;\n      &lt;input type=\"radio\" id={'customRadio' + {index}} name=\"customRadio\" /&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;)\n);\n</code></pre>\n"}], "owner": {"reputation": 513, "user_id": 7167678, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e8aa136a8cd99b7f4017726aa1526f00?s=128&d=identicon&r=PG&f=1", "display_name": "Jagjit Singh", "link": "https://stackoverflow.com/users/7167678/jagjit-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 56146406, "answer_count": 3, "score": 0, "last_activity_date": 1557913822, "creation_date": 1557908959, "question_id": 56144791, "link": "https://stackoverflow.com/questions/56144791/how-to-dynamically-give-html-elements-an-unique-id-in-a-for-of-looptypescript", "title": "How to dynamically give HTML elements an unique ID in a for..of loop(TypeScript)?", "body": "<p>I have an array where I need to push identical HTML elements into. I have a <strong>for..of TypeScript loop</strong> which will dynamically add these elements into the array. I want to distinguish each element with an unique ID. Is that possible in a <strong>for..of Typescript loop</strong>?  </p>\n\n<p>Following is the code I have: </p>\n\n<pre><code>for (let row of this.props.users) {\n    userRows.push(\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &lt;input type=\"radio\"\n                        id=\"customRadio1\" \n                        name=\"customRadio\" /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n    );\n}\n</code></pre>\n\n<p>Now the <code>ID</code> is <code>customRadio1</code> and will be that for each element. I want the next HTML element to have <code>customRadio2</code> and next <code>customRadio3</code> and so on. </p>\n\n<p>NB! I know this is possible to achieve with declaring a counter variable over the for..of loop and increment that for each run, so that variable can be used with the text customerRadio, like <code>customerRadio + {counter}</code>. I want to know if this is possible with only using the <code>row</code> variable in for..of loop and how?</p>\n"}, {"tags": ["typescript", "eslint"], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 10417161, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yB_b-qh9zVA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUJ6VagmmNL-owFYP3qDf3ljaSsgw/mo/photo.jpg?sz=128", "display_name": "kunal verma", "link": "https://stackoverflow.com/users/10417161/kunal-verma"}, "is_accepted": false, "score": 0, "last_activity_date": 1557909258, "creation_date": 1557909258, "answer_id": 56144862, "question_id": 56144677, "link": "https://stackoverflow.com/questions/56144677/missing-return-type-in-array-map/56144862#56144862", "title": "Missing return type in array.map", "body": "<p>try adding types like :</p>\n\n<pre><code>private headerSelectionChanged(event: any): void {\nconst { checked } = event.syntheticEvent.target;\nconst newGridData = this.props.gridData.map((item: any) =&gt; Object.assign(item, { selected: checked }));\nthis.updateGridData(newGridData);\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 814, "user_id": 11368931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d78655a78da8849926f7d73d9ee625d9?s=128&d=identicon&r=PG&f=1", "display_name": "corschdi", "link": "https://stackoverflow.com/users/11368931/corschdi"}, "is_accepted": true, "score": 2, "last_activity_date": 1557911680, "creation_date": 1557911680, "answer_id": 56145650, "question_id": 56144677, "link": "https://stackoverflow.com/questions/56144677/missing-return-type-in-array-map/56145650#56145650", "title": "Missing return type in array.map", "body": "<p>The warning shows because your mapping function does not specify a return type. You have to specify the return type like this:</p>\n\n<pre><code>const newGridData = this.props.gridData.map((item): any =&gt; Object.assign(item, { selected: checked }));\n</code></pre>\n\n<p>Keep in mind that <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object.assign</code></a> modifies the target instead of copying it. If you do not want <code>this.props.gridData</code> to be modified, you should swap <code>item</code> and <code>{ selected: checked }</code></p>\n\n<pre><code>const newGridData = this.props.gridData.map((item): any =&gt; Object.assign({ selected: checked }, item));\n</code></pre>\n\n<p>or use the newer <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"nofollow noreferrer\">object spread operator</a>, if available:</p>\n\n<pre><code>const newGridData = this.props.gridData.map((item): any =&gt; ({ ...item, selected: checked }));\n</code></pre>\n"}], "owner": {"reputation": 19970, "user_id": 518530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/x286i.png?s=128&g=1", "display_name": "Tomas Kubes", "link": "https://stackoverflow.com/users/518530/tomas-kubes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1915, "favorite_count": 0, "accepted_answer_id": 56145650, "answer_count": 2, "score": 1, "last_activity_date": 1557911680, "creation_date": 1557908566, "question_id": 56144677, "link": "https://stackoverflow.com/questions/56144677/missing-return-type-in-array-map", "title": "Missing return type in array.map", "body": "<p>I got Eslint warning in following TypeScript code:</p>\n\n<p>\"Missing return type on function.eslint(@typescript-eslint/explicit-function-return-type)\" The warning refers the lambda in map function.</p>\n\n<pre><code>private headerSelectionChanged(event): void {\n    const { checked } = event.syntheticEvent.target;\n    const newGridData = this.props.gridData.map(item =&gt; Object.assign(item, { selected: checked }));\n    this.updateGridData(newGridData);\n}\n</code></pre>\n\n<p>What is wrong? How can I fix it?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": true, "score": 1, "last_activity_date": 1557908338, "creation_date": 1557908338, "answer_id": 56144616, "question_id": 56144582, "link": "https://stackoverflow.com/questions/56144582/ng-if-to-judge-multiple-numbers/56144616#56144616", "title": "Ng-if to judge multiple numbers", "body": "<p>Either use <code>&amp;&amp;</code> or <code>||</code> or:</p>\n\n<p><code>*ngIf= \"[00,01,02].includes(questionNo)\"</code></p>\n\n<p><code>*ngIf= \"![00,01,02].includes(questionNo)\"</code></p>\n"}, {"comments": [{"owner": {"reputation": 2485, "user_id": 8857896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A7xI3.jpg?s=128&g=1", "display_name": "Vitalii Chmovzh", "link": "https://stackoverflow.com/users/8857896/vitalii-chmovzh"}, "edited": false, "score": 0, "creation_date": 1557908749, "post_id": 56144649, "comment_id": 98919431, "body": "Valid approach, however, I would like to mention that if the component ChangeDetection strategy is Default, such an approach will cause performance hog."}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "reply_to_user": {"reputation": 2485, "user_id": 8857896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A7xI3.jpg?s=128&g=1", "display_name": "Vitalii Chmovzh", "link": "https://stackoverflow.com/users/8857896/vitalii-chmovzh"}, "edited": false, "score": 0, "creation_date": 1557909075, "post_id": 56144649, "comment_id": 98919597, "body": "What if we bind that to property instead of method? followup -&gt; will getter method be hogging as well ?"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1557917622, "post_id": 56144649, "comment_id": 98924670, "body": "Getter wouldn&#39;t be hogging, but you can&#39;t have getter with parameters. You can&#39;t bind method to a property, how would that work?"}], "tags": [], "owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "is_accepted": false, "score": 1, "last_activity_date": 1557908451, "creation_date": 1557908451, "answer_id": 56144649, "question_id": 56144582, "link": "https://stackoverflow.com/questions/56144582/ng-if-to-judge-multiple-numbers/56144649#56144649", "title": "Ng-if to judge multiple numbers", "body": "<p>I would move that condition to component code into <code>shouldShowSomething():bool</code> as it is much clearer and maintainable + can take arguments for eventual parametrization.</p>\n"}], "owner": {"reputation": 5, "user_id": 11502797, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNl6OcqNjpA/AAAAAAAAAAI/AAAAAAAAAPs/mHKntaOTV4U/photo.jpg?sz=128", "display_name": "Mark Chang", "link": "https://stackoverflow.com/users/11502797/mark-chang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 56144616, "answer_count": 2, "score": 0, "last_activity_date": 1557908451, "creation_date": 1557908199, "question_id": 56144582, "link": "https://stackoverflow.com/questions/56144582/ng-if-to-judge-multiple-numbers", "title": "Ng-if to judge multiple numbers", "body": "<p>I have lots of questionnaire, and now I want to use *ngIf to filter which not to appear in some div.</p>\n\n<p>the stupid way now I use is to sign individually</p>\n\n<pre><code>&lt;div *ngIf = \"questionNo!= '00' &amp;&amp; questionNo!= '04' &amp;&amp; questionNo != '21'\"&gt;\n...&lt;/div&gt;\n</code></pre>\n\n<p>and I think there is better way like *ngIf= \"questionNo != [00.01,02....]\"\nbut I try but in vain.</p>\n\n<p>so I need your help~ thank you!</p>\n"}, {"tags": ["reactjs", "typescript", "material-ui"], "comments": [{"owner": {"reputation": 2870, "user_id": 4769440, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Cpp5N.png?s=128&g=1", "display_name": "Daniel Lizik", "link": "https://stackoverflow.com/users/4769440/daniel-lizik"}, "edited": false, "score": 0, "creation_date": 1557913283, "post_id": 56144451, "comment_id": 98922011, "body": "<code>import { type ComponentType } from &#39;react&#39;;</code>"}, {"owner": {"reputation": 2870, "user_id": 4769440, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Cpp5N.png?s=128&g=1", "display_name": "Daniel Lizik", "link": "https://stackoverflow.com/users/4769440/daniel-lizik"}, "edited": false, "score": 0, "creation_date": 1557913310, "post_id": 56144451, "comment_id": 98922030, "body": "ah well...dunno if that works in ts but it&#39;s how you do it for flow"}, {"owner": {"reputation": 5429, "user_id": 1815058, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/86ea4373c9642bd27135ae33439bde35?s=128&d=identicon&r=PG", "display_name": "uladzimir", "link": "https://stackoverflow.com/users/1815058/uladzimir"}, "reply_to_user": {"reputation": 2870, "user_id": 4769440, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Cpp5N.png?s=128&g=1", "display_name": "Daniel Lizik", "link": "https://stackoverflow.com/users/4769440/daniel-lizik"}, "edited": false, "score": 0, "creation_date": 1557916317, "post_id": 56144451, "comment_id": 98923918, "body": "it can be a string &quot;button&quot;, a component <code>React.Component&lt;LinkProps&gt;</code> or something else"}, {"owner": {"reputation": 2096, "user_id": 3406963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ez2DT.jpg?s=128&g=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/3406963/epsilon"}, "edited": false, "score": 0, "creation_date": 1557916779, "post_id": 56144451, "comment_id": 98924175, "body": "Do you want to write your own overridable component or do you want to pass your <code>MyLink</code> into the Material-UI Link via <code>&lt;MuiLink component={MyLink} &#47;&gt;</code>?"}, {"owner": {"reputation": 5429, "user_id": 1815058, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/86ea4373c9642bd27135ae33439bde35?s=128&d=identicon&r=PG", "display_name": "uladzimir", "link": "https://stackoverflow.com/users/1815058/uladzimir"}, "reply_to_user": {"reputation": 2096, "user_id": 3406963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ez2DT.jpg?s=128&g=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/3406963/epsilon"}, "edited": false, "score": 0, "creation_date": 1557925255, "post_id": 56144451, "comment_id": 98929314, "body": "@epsilon I want to create my own component - wrapper of <code>MuiLink</code> and use my new component instead of <code>MuiLink</code>, so usage will be  for example <code>&lt;MyLink component=&#39;button&#39; &#47;&gt;</code>"}, {"owner": {"reputation": 5429, "user_id": 1815058, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/86ea4373c9642bd27135ae33439bde35?s=128&d=identicon&r=PG", "display_name": "uladzimir", "link": "https://stackoverflow.com/users/1815058/uladzimir"}, "reply_to_user": {"reputation": 2096, "user_id": 3406963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ez2DT.jpg?s=128&g=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/3406963/epsilon"}, "edited": false, "score": 0, "creation_date": 1557942738, "post_id": 56144451, "comment_id": 98939375, "body": "@epsilon any idea?"}, {"owner": {"reputation": 2096, "user_id": 3406963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ez2DT.jpg?s=128&g=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/3406963/epsilon"}, "edited": false, "score": 0, "creation_date": 1557949607, "post_id": 56144451, "comment_id": 98942319, "body": "@uladzimir We don&#39;t recommend you use this in your own components. This doesn&#39;t seem to have anything to do with Material-UI. If so please include a full example that works at runtime and you which to type."}], "answers": [{"tags": [], "owner": {"reputation": 182, "user_id": 1611414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c97a530f27222e691238a8e29ce369f?s=128&d=identicon&r=PG", "display_name": "denieler", "link": "https://stackoverflow.com/users/1611414/denieler"}, "is_accepted": true, "score": 3, "last_activity_date": 1565347387, "creation_date": 1565347387, "answer_id": 57428405, "question_id": 56144451, "link": "https://stackoverflow.com/questions/56144451/define-type-of-the-component/57428405#57428405", "title": "Define type of the component", "body": "<p>Looks like</p>\n\n<pre><code>interface Props {\n  component: React.ElementType\n}\n</code></pre>\n\n<p>does the trick for <code>Link</code> component.</p>\n"}], "owner": {"reputation": 5429, "user_id": 1815058, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/86ea4373c9642bd27135ae33439bde35?s=128&d=identicon&r=PG", "display_name": "uladzimir", "link": "https://stackoverflow.com/users/1815058/uladzimir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 57428405, "answer_count": 1, "score": 0, "last_activity_date": 1565347387, "creation_date": 1557907771, "question_id": 56144451, "link": "https://stackoverflow.com/questions/56144451/define-type-of-the-component", "title": "Define type of the component", "body": "<p>I play with a <code>Link</code> component from the <code>4.0.0-beta.2</code> - it has a field <code>component</code> - ability to override the root element.</p>\n\n<p>I want to create a wrapper around <code>Link</code> - <code>MyLink</code> and pass a component through props: </p>\n\n<pre><code>interface Props {\n  component: ???\n}\n\nconst MyLink = ({component}: Props) =&gt; {\n  &lt;MUILink component={component} ... /&gt;\n}\n</code></pre>\n\n<p>So from type definitions I didn't get how to construct the final type of the <code>component</code> prop:</p>\n\n<pre><code>declare const Link: OverridableComponent&lt;{\n  props: LinkBaseProps &amp; {\n    TypographyClasses?: TypographyProps['classes'];\n    underline?: 'none' | 'hover' | 'always';\n  };\n  defaultComponent: 'a';\n  classKey: LinkClassKey;\n}&gt;;\n</code></pre>\n\n<p>and OverridableComponent:</p>\n\n<pre><code>/**\n * a component whose root component can be controled via a `component` prop\n *\n * Adjusts valid props based on the type of `component`\n */\nexport interface OverridableComponent&lt;M extends OverridableTypeMap&gt; {\n  &lt;C extends React.ElementType&gt;(props: { component: C } &amp; OverrideProps&lt;M, C&gt;): JSX.Element;\n  (props: DefaultComponentProps&lt;M&gt;): JSX.Element;\n}\n</code></pre>\n\n<p>Can somebody help me to define the type of <code>component</code>?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 4969063, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/994230123921549/picture?type=large", "display_name": "Odin Thorsen", "link": "https://stackoverflow.com/users/4969063/odin-thorsen"}, "edited": false, "score": 0, "creation_date": 1557919924, "post_id": 56146755, "comment_id": 98925929, "body": "I already tried this and while it does make typescript shut up it also ruins any type checking :\\"}, {"owner": {"reputation": 199, "user_id": 4969063, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/994230123921549/picture?type=large", "display_name": "Odin Thorsen", "link": "https://stackoverflow.com/users/4969063/odin-thorsen"}, "edited": false, "score": 0, "creation_date": 1557921339, "post_id": 56146755, "comment_id": 98926770, "body": "Like if you write a switch case for every type it no longer recognizes that case: &#39;integer&#39; will have obj.integer as a property guaranteed. and therefore vs code doesn&#39;t offer code completion etc"}], "tags": [], "owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "is_accepted": false, "score": 0, "last_activity_date": 1557914891, "creation_date": 1557914891, "answer_id": 56146755, "question_id": 56144368, "link": "https://stackoverflow.com/questions/56144368/how-to-tell-typescript-all-possible-combinations-of-typeenum-type-stringv/56146755#56146755", "title": "How to tell typescript all possible combinations of {type:enum, [type: string]:value} are in my type?", "body": "<p>Let make your <code>type Config</code> flexible, force it accepts any type with <code>{type: string, [anything]: anything}</code> format.</p>\n\n<pre><code>type Config = text | integer | {type: string, [key: string]: any};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 4969063, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/994230123921549/picture?type=large", "display_name": "Odin Thorsen", "link": "https://stackoverflow.com/users/4969063/odin-thorsen"}, "edited": false, "score": 0, "creation_date": 1557996349, "post_id": 56152059, "comment_id": 98956021, "body": "Awesome answer! You are of course right I meant Integer to be the key. I tried playing around the playground to see what breaks where and noticed that the line.    type ConfigFor&lt;T extends Config[&#39;type&#39;]&gt; = Extract&lt;Config, { type: T }&gt;   seem a bit redundant? First you assign T to extends all Config[&#39;type&#39;] and then you assign type to be T. Wouldn&#39;t type ConfigFor&lt;T&gt; do exactly the same?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 199, "user_id": 4969063, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/994230123921549/picture?type=large", "display_name": "Odin Thorsen", "link": "https://stackoverflow.com/users/4969063/odin-thorsen"}, "edited": false, "score": 0, "creation_date": 1558011692, "post_id": 56152059, "comment_id": 98964931, "body": "I don&#39;t understand what you think is redundant.  <code>type ConfigFor&lt;T&gt; = ...</code> is a type alias definition, so I can&#39;t leave out the right hand side.  <code>T</code> <i>extends</i> <code>Config[&#39;type&#39;]</code>; it is not necessarily <i>equal to</i> <code>Config[&#39;type&#39;]</code>.  You can pass in, for example, <code>&quot;text&quot;</code> for <code>T</code>.  The idea of <code>ConfigFor&lt;T&gt;</code> is to take the union type <code>Config</code> and pull out just the constituent of the union that has <code>{type: T}</code>.  It is discriminating a discriminated union at the type level."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1557931389, "creation_date": 1557931389, "answer_id": 56152059, "question_id": 56144368, "link": "https://stackoverflow.com/questions/56144368/how-to-tell-typescript-all-possible-combinations-of-typeenum-type-stringv/56152059#56152059", "title": "How to tell typescript all possible combinations of {type:enum, [type: string]:value} are in my type?", "body": "<p>First of all, let's be clear that <code>integer</code> should have a key named <code>integer</code>, and not <code>number</code>, right?  Like this:</p>\n\n<pre><code>interface text {\n    type: \"text\";\n    text: string;\n}\ninterface integer {\n    type: \"integer\";\n    integer: number; // right?\n}\ntype Config = text | integer;\n\nfunction appendToBody(config: Config) {\n    if (!config[config.type]) return;\n    document.body.append(config[config.type]);\n}\n</code></pre>\n\n<p>Okay.</p>\n\n<hr>\n\n<p>There are two type safety issues here with <code>createConfig()</code>... one is enforcing type safety for the <em>caller</em>, and the other is enforcing type safety in the <em>implementation</em>.  Right now the compiler is warning you inside the implementation that it can't verify that <code>{ type: type, [type]: value }</code> is a valid <code>Config</code>.  And right now it's correct to warn you that, because callers can do the following with no error:</p>\n\n<pre><code>createConfig(\"text\", 5); // no error, oops!\n</code></pre>\n\n<p>There is no simple way to fix this for both the caller and the implementer.  Each side has its own issues.  </p>\n\n<hr>\n\n<p>To fix it for the caller, you could use <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">overloads</a> like the following:</p>\n\n<pre><code>function createConfig(type: \"text\", value: string): void;\nfunction createConfig(type: \"integer\", value: number): void;\nfunction createConfig(type: string, value: any): void {\n    // impl\n}\n</code></pre>\n\n<p>This is simple to understand, but requires adding an overload for each constituent of the <code>Config</code> union.  You could alternatively use <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">conditional</a> types and a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generic</a> function, as follows:</p>\n\n<pre><code>type Lookup&lt;T, K&gt; = K extends keyof T ? T[K] : never;\ntype ConfigFor&lt;T extends Config['type']&gt; = Extract&lt;Config, { type: T }&gt;;\nfunction createConfig&lt;T extends Config['type']&gt;(\n    type: T,\n    value: Lookup&lt;ConfigFor&lt;T&gt;, T&gt;\n) {\n  // impl\n}\n</code></pre>\n\n<p>That is complicated but will automatically behave correctly assuming each element <code>C</code> of the <code>Config</code> union conforms to the constraint that the <code>type</code> property names the relevant key for the value property.</p>\n\n<p>Either of those results in the following behavior for callers:</p>\n\n<pre><code>createConfig(\"text\", 5); // error\ncreateConfig(\"integer\", 5); // okay\n\ncreateConfig(\"text\", \"hello world\"); // okay\ncreateConfig(\"integer\", \"hello world\"); // error\n</code></pre>\n\n<hr>\n\n<p>To fix it for the implementation, (which was your actual question), the compiler will still not be able to figure out that <code>config</code> is a valid <code>Config</code> even with the fixed call signatures.  For overloads, it's because the implementation signature is too loose to express the constraint, and overload implementations <a href=\"https://github.com/microsoft/TypeScript/issues/22609\" rel=\"nofollow noreferrer\">do not currently do any control flow analysis based on the call signatures</a>.  For the generic conditional type, it's because conditional types that depend on unresolved generic type parameters in them also <a href=\"https://github.com/microsoft/TypeScript/issues/21879\" rel=\"nofollow noreferrer\">do not get narrowed via control flow analysis</a>.  So in both cases, the compiler is basically giving up on enforcing type safety of your correlated data types inside the implementation.  I've often <a href=\"https://github.com/Microsoft/TypeScript/issues/30581\" rel=\"nofollow noreferrer\">wished</a> for some mechanism that would allow you to prompt the compiler to walk through union types via control flow analysis, but that's just a fantasy for now.</p>\n\n<p>So, what can you do?  There are really only two ways forward here, as far as I can tell.  Either you use a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a>: leave your code as is, but just tell the compiler that you will be responsible for assuring type safety, as in:</p>\n\n<pre><code>const configAsserted = {\n    type,\n    [type]: value\n} as any as Config;\nappendToBody(configAsserted);\n</code></pre>\n\n<p>Or, you do extra manual checks at runtime which convince the compiler that what you're doing is safe, as in:</p>\n\n<pre><code>let configManual: Config;\nif (type === \"integer\" &amp;&amp; typeof value === \"number\") {\n    configManual = { type: \"integer\", integer: value };\n} else if (type === \"text\" &amp;&amp; typeof value === \"string\") {\n    configManual = { type: \"text\", text: value };\n} else {\n    throw new Error(\"YOU MESSED UP\");\n}\nappendToBody(configManual);\n</code></pre>\n\n<p>Both ways work.  Assertions are less safe but scale better when you add constituents to <code>Config</code>.  Manual checking is safe, but it is redundant and you have to add code every time you add a constituent to <code>Config</code>.</p>\n\n<hr>\n\n<p>So there are your options as I see them.  Personally I'd opt for the better-scaling solutions, like this:</p>\n\n<pre><code>type Lookup&lt;T, K&gt; = K extends keyof T ? T[K] : never;\ntype ConfigFor&lt;T extends Config['type']&gt; = Extract&lt;Config, { type: T }&gt;;\nfunction createConfig&lt;T extends Config['type']&gt;(\n    type: T,\n    value: Lookup&lt;ConfigFor&lt;T&gt;, T&gt;\n) {\n    const config = {\n        type,\n        [type]: value\n    } as any as Config;\n    appendToBody(config);\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play//#src=interface%20text%20%7B%0D%0A%20%20%20%20type%3A%20%22text%22%3B%0D%0A%20%20%20%20text%3A%20string%3B%0D%0A%7D%0D%0Ainterface%20integer%20%7B%0D%0A%20%20%20%20type%3A%20%22integer%22%3B%0D%0A%20%20%20%20integer%3A%20number%3B%0D%0A%7D%0D%0Atype%20Config%20%3D%20text%20%7C%20integer%3B%0D%0A%0D%0Afunction%20appendToBody(config%3A%20Config)%20%7B%0D%0A%20%20%20%20if%20(!config%5Bconfig.type%5D)%20return%3B%0D%0A%20%20%20%20document.body.append(config%5Bconfig.type%5D)%3B%0D%0A%7D%0D%0A%0D%0Atype%20ConfigFor%3CT%20extends%20Config%5B&#39;type&#39;%5D%3E%20%3D%20Extract%3CConfig%2C%20%7B%20type%3A%20T%20%7D%3E%3B%0D%0Atype%20Lookup%3CT%2C%20K%3E%20%3D%20K%20extends%20keyof%20T%20%3F%20T%5BK%5D%20%3A%20never%3B%0D%0A%0D%0Afunction%20createConfig%3CT%20extends%20Config%5B&#39;type&#39;%5D%3E(%0D%0A%20%20%20%20type%3A%20T%2C%0D%0A%20%20%20%20value%3A%20Lookup%3CConfigFor%3CT%3E%2C%20T%3E%0D%0A)%20%7B%0D%0A%20%20%20%20const%20config%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20type%2C%0D%0A%20%20%20%20%20%20%20%20%5Btype%5D%3A%20value%0D%0A%20%20%20%20%7D%20as%20any%20as%20Config%3B%0D%0A%20%20%20%20appendToBody(config)%3B%0D%0A%7D%0D%0A%0D%0AcreateConfig(%22text%22%2C%205)%3B%0D%0AcreateConfig(%22integer%22%2C%205)%3B%0D%0A%0D%0AcreateConfig(%22text%22%2C%20%22hello%20world%22)%3B%0D%0AcreateConfig(%22integer%22%2C%20%22hello%20world%22)%3B\" rel=\"nofollow noreferrer\">Link to code in Playground</a></p>\n\n<p>Okay, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 199, "user_id": 4969063, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/994230123921549/picture?type=large", "display_name": "Odin Thorsen", "link": "https://stackoverflow.com/users/4969063/odin-thorsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 56152059, "answer_count": 2, "score": 1, "last_activity_date": 1557991556, "creation_date": 1557907502, "last_edit_date": 1557991556, "question_id": 56144368, "link": "https://stackoverflow.com/questions/56144368/how-to-tell-typescript-all-possible-combinations-of-typeenum-type-stringv", "title": "How to tell typescript all possible combinations of {type:enum, [type: string]:value} are in my type?", "body": "<p>simplest example I could think of:</p>\n\n<pre><code>interface text {\n  type: \"text\";\n  text: string;\n}\ninterface integer {\n  type: \"integer\";\n  integer: number;\n}\ntype Config = text | integer;\n\nfunction appendToBody(config: Config) {\n  if (!config[config.type]) return;\n  document.body.append(config[config.type]);\n}\n\nfunction createConfig(type: \"text\" | \"integer\", value: string | number) {\n  // how to let TS know that type and [type] will be matching?\n  // TS naturally assumes { type: 'text', text: 5 } is possible, even though it isn't\n  const config: Config = {\n    type,\n    [type]: value\n  };\n  appendToBody(config);\n}\ncreateConfig(\"text\", \"hello world\");\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/6gtq8\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/6gtq8</a></p>\n\n<p>Basically i'm using a pattern that extracts a value by asking for obj[obj.type].\nThis is useful for my real case because I can make a generic resolver that extracts the values I need depending on the type. it also has the advantage of not having to be emptied if the type changes, because it will be saved on a different [type], and you won't lose your old value if you change back.</p>\n\n<p>I just can't figure out how to make typescript understand that all the possible combinations of type and [type] is covered by the \"Config\" type.</p>\n"}, {"tags": ["angularjs", "typescript", "toastr", "angular-toastr"], "comments": [{"owner": {"reputation": 178, "user_id": 6060429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AVwtb.png?s=128&g=1", "display_name": "Ducker", "link": "https://stackoverflow.com/users/6060429/ducker"}, "edited": false, "score": 0, "creation_date": 1557962747, "post_id": 56144336, "comment_id": 98946316, "body": "I think this <a href=\"https://stackoverflow.com/a/45878362/6060429\">stackoverflow.com/a/45878362/6060429</a> answer will help you. They suggest writing a class to allow &#39;global&#39; settings for each toast type"}], "owner": {"reputation": 51, "user_id": 3083710, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SxHT7.jpg?s=128&g=1", "display_name": "Chandrababu", "link": "https://stackoverflow.com/users/3083710/chandrababu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2280, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1557907412, "creation_date": 1557907412, "question_id": 56144336, "link": "https://stackoverflow.com/questions/56144336/ngx-toastr-globalconfig-timeout-settings", "title": "ngx-toastr GlobalConfig timeout settings", "body": "<p>Not able to achieve using the IndividualConfig and GlobalConfig classes.</p>\n\n<pre><code>imports: [ToastrModule.forRoot({timeOut: 10000, positionClass: 'toast-bottom-right', preventDuplicates: true})]\n</code></pre>\n\n<p>Setting the GlobalConfig like the above code snippet will set the timeout for all the types of messages/toastrs, I would like to take control of timeout for each type of message. For example say I want to timeout success message after 2000 milliseconds, error message after 6 seconds, warn and info after 3 seconds. I see this kind of configurations available in Growl messages but not sure about ngx-toastr messages. </p>\n\n<p>I have tried using growl messages in angular 1.x version application</p>\n\n<p><code>growlProvider.globalTimeToLive({ success: 2000, error: 5000, warning: 3000, info: 2000 });growlProvider.globalDisableCountDown(true);</code></p>\n\n<p>In Angular 6 App\n<code>imports: [ToastrModule.forRoot({timeOut: 10000})]</code></p>\n\n<p>I am able to set global timeout which is getting applied for all message notifications but i want to take control of each message type</p>\n"}, {"tags": ["angular", "typescript", "module"], "comments": [{"owner": {"reputation": 1154, "user_id": 3574176, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/id3jj.png?s=128&g=1", "display_name": "vsarunov", "link": "https://stackoverflow.com/users/3574176/vsarunov"}, "edited": false, "score": 1, "creation_date": 1557908173, "post_id": 56144236, "comment_id": 98919126, "body": "What does stop you from just testing it? Of course you can import module into a module and have one contain multiple modules. Read the basics: <a href=\"https://angular.io/guide/ngmodules\" rel=\"nofollow noreferrer\">angular.io/guide/ngmodules</a>"}, {"owner": {"reputation": 131, "user_id": 6338115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9499c944e176489760c9e5bc7791f3b4?s=128&d=identicon&r=PG&f=1", "display_name": "mrodri", "link": "https://stackoverflow.com/users/6338115/mrodri"}, "reply_to_user": {"reputation": 1154, "user_id": 3574176, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/id3jj.png?s=128&g=1", "display_name": "vsarunov", "link": "https://stackoverflow.com/users/3574176/vsarunov"}, "edited": false, "score": 0, "creation_date": 1557910670, "post_id": 56144236, "comment_id": 98920449, "body": "Maybe I haven&#39;t explained myself correctly. I want to create 3 components for custom modes and messages. Since I don&#39;t want common to have all the imports and components, I want to create a modals.module. Import it into common and import common into app.module.   I haven&#39;t stopped trying it, I just can&#39;t get it."}, {"owner": {"reputation": 1154, "user_id": 3574176, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/id3jj.png?s=128&g=1", "display_name": "vsarunov", "link": "https://stackoverflow.com/users/3574176/vsarunov"}, "edited": false, "score": 0, "creation_date": 1557917953, "post_id": 56144236, "comment_id": 98924867, "body": "So why do you not look into ngrx or ngxs? If I understood you correctly."}], "owner": {"reputation": 131, "user_id": 6338115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9499c944e176489760c9e5bc7791f3b4?s=128&d=identicon&r=PG&f=1", "display_name": "mrodri", "link": "https://stackoverflow.com/users/6338115/mrodri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557906993, "creation_date": 1557906993, "question_id": 56144236, "link": "https://stackoverflow.com/questions/56144236/can-i-import-in-app-module-a-module-that-contains-other-modules", "title": "Can I import in app.module a module that contains other modules?", "body": "<p>Good morning, I'm going to create a new angular project and I want to prevent common.module from becoming a file with a lot of imports. I would like that for example my inputs or custom modes were in an inputs.module or modals.module that I would add in common.module. Instead of adding all the components in common.</p>\n\n<p>I've been trying things but I only get circular dependencies or that my components are not detected in any module. </p>\n\n<p>Can someone please help? Thank you so much</p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jestjs"], "comments": [{"owner": {"reputation": 157, "user_id": 8947616, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hzfi66wO54Y/AAAAAAAAAAI/AAAAAAAAAuE/7CbQqDvq_3Y/photo.jpg?sz=128", "display_name": "Kushan", "link": "https://stackoverflow.com/users/8947616/kushan"}, "edited": false, "score": 0, "creation_date": 1557909061, "post_id": 56144088, "comment_id": 98919586, "body": "I have tried wrapping with <code>setTimeout</code> as mentioned <a href=\"https://blog.angular-university.io/angular-debugging/\" rel=\"nofollow noreferrer\">here</a> and it worked. But is it the best and correct solution?"}, {"owner": {"reputation": 1816, "user_id": 51880, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/628e8ba279548d9fc5e94cbb51198ed1?s=128&d=identicon&r=PG", "display_name": "CurlyFro", "link": "https://stackoverflow.com/users/51880/curlyfro"}, "edited": false, "score": 0, "creation_date": 1567776106, "post_id": 56144088, "comment_id": 102075811, "body": "i&#39;ve had this working with the setTimeout but i recently upgraded angular 8.1.2 to 9.0.0-next.4 and now i&#39;m having this issue.  did you figure it out?"}, {"owner": {"reputation": 157, "user_id": 8947616, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hzfi66wO54Y/AAAAAAAAAAI/AAAAAAAAAuE/7CbQqDvq_3Y/photo.jpg?sz=128", "display_name": "Kushan", "link": "https://stackoverflow.com/users/8947616/kushan"}, "reply_to_user": {"reputation": 1816, "user_id": 51880, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/628e8ba279548d9fc5e94cbb51198ed1?s=128&d=identicon&r=PG", "display_name": "CurlyFro", "link": "https://stackoverflow.com/users/51880/curlyfro"}, "edited": false, "score": 0, "creation_date": 1568018056, "post_id": 56144088, "comment_id": 102127492, "body": "Sorry, no. I still use Angular 6/7 for my project and <code>setTimeout</code> is the only way I managed to fix this."}, {"owner": {"reputation": 1021, "user_id": 3261501, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7d4d174b306a29976085c61f68e5c9a7?s=128&d=identicon&r=PG", "display_name": "RZ87", "link": "https://stackoverflow.com/users/3261501/rz87"}, "edited": false, "score": 0, "creation_date": 1601760862, "post_id": 56144088, "comment_id": 113507579, "body": "what did you wrapped exactly??"}, {"owner": {"reputation": 157, "user_id": 8947616, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hzfi66wO54Y/AAAAAAAAAAI/AAAAAAAAAuE/7CbQqDvq_3Y/photo.jpg?sz=128", "display_name": "Kushan", "link": "https://stackoverflow.com/users/8947616/kushan"}, "reply_to_user": {"reputation": 1021, "user_id": 3261501, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7d4d174b306a29976085c61f68e5c9a7?s=128&d=identicon&r=PG", "display_name": "RZ87", "link": "https://stackoverflow.com/users/3261501/rz87"}, "edited": false, "score": 0, "creation_date": 1603258374, "post_id": 56144088, "comment_id": 113976337, "body": "@RZ87 this was done quite long ago so I don&#39;t remember much, but afair, I wrapped the portal attachment part using <code>setTimeout</code>"}], "owner": {"reputation": 157, "user_id": 8947616, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hzfi66wO54Y/AAAAAAAAAAI/AAAAAAAAAuE/7CbQqDvq_3Y/photo.jpg?sz=128", "display_name": "Kushan", "link": "https://stackoverflow.com/users/8947616/kushan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 529, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561630233, "creation_date": 1557906461, "question_id": 56144088, "link": "https://stackoverflow.com/questions/56144088/typeerror-cannot-read-property-appendchild-of-null-when-testing-portalhost", "title": "&#39;TypeError: Cannot read property &#39;appendChild&#39; of null&#39; when testing portalHost in Angular application", "body": "<p>I am writing unit tests in our <strong><em>Angular Application</em></strong> using <strong><em>jest</em></strong>. In this scenario, the content that must be shown in the <strong>Main Tool Bar</strong> from the <strong>NavBar List</strong> is projected using <em>PortalHost</em>. It is working fine in the application, but when I test it, it produces an error.</p>\n\n<p>I have seen that there are many questions in SO that is related to this topic, but most of them are not in the same context as mine.</p>\n\n<h3>Error Stack</h3>\n\n<pre><code>    TypeError: Cannot read property 'appendChild' of null\n\n      22 | \n      23 |         // Attach portal to host\n    &gt; 24 |         this.portalHost.attach(this.portal);\n         |                         ^\n      25 |     }\n      26 | \n      27 |     ngOnDestroy(): void {\n\n      at node_modules/@angular/src/cdk/portal/dom-portal-outlet.ts:83:62\n          at Array.forEach (&lt;anonymous&gt;)\n      at DomPortalOutlet.Object.&lt;anonymous&gt;.DomPortalOutlet.attachTemplatePortal (node_modules/@angular/src/cdk/portal/dom-portal-outlet.ts:83:23)\n      at DomPortalOutlet.Object.&lt;anonymous&gt;.BasePortalOutlet.attach (node_modules/@angular/src/cdk/portal/portal.ts:215:19)\n      at NavbarListGenComponent.ngAfterViewInit (src/app/main-toolbar/navbar-list-gen.component.ts:24:25)\n      at callProviderLifecycles (../packages/core/src/view/provider.ts:569:14)\n      at callElementProvidersLifecycles (../packages/core/src/view/provider.ts:541:7)\n      at callLifecycleHooksChildrenFirst (../packages/core/src/view/provider.ts:529:21)\n      at checkAndUpdateView (../packages/core/src/view/view.ts:375:3)\n      at callViewAction (../packages/core/src/view/view.ts:615:11)\n      at execComponentViewsAction (../packages/core/src/view/view.ts:559:7)\n      at checkAndUpdateView (../packages/core/src/view/view.ts:370:3)\n      at callWithDebugContext (../packages/core/src/view/services.ts:629:23)\n      at Object.debugCheckAndUpdateView [as checkAndUpdateView] (../packages/core/src/view/services.ts:346:10)\n      at ViewRef_.detectChanges (../packages/core/src/view/refs.ts:261:16)\n      at ComponentFixture._tick (../../packages/core/testing/src/component_fixture.ts:107:28)\n      at ../../packages/core/testing/src/component_fixture.ts:120:36\n      at ZoneDelegate.Object.&lt;anonymous&gt;.ZoneDelegate.invoke (node_modules/zone.js/dist/zone.js:391:26)\n      at ProxyZoneSpec.Object.&lt;anonymous&gt;.ProxyZoneSpec.onInvoke (node_modules/zone.js/dist/proxy.js:129:39)\n      at ZoneDelegate.Object.&lt;anonymous&gt;.ZoneDelegate.invoke (node_modules/zone.js/dist/zone.js:390:52)\n      at Object.onInvoke (../packages/core/src/zone/ng_zone.ts:273:25)\n      at ZoneDelegate.Object.&lt;anonymous&gt;.ZoneDelegate.invoke (node_modules/zone.js/dist/zone.js:390:52)\n      at Zone.Object.&lt;anonymous&gt;.Zone.run (node_modules/zone.js/dist/zone.js:150:43)\n      at NgZone.run (../packages/core/src/zone/ng_zone.ts:171:50)\n      at ComponentFixture.detectChanges (../../packages/core/testing/src/component_fixture.ts:120:19)\n      at beforeEach (src/app/dashboard/dashboard.component.spec.ts:25:17)\n      at ZoneDelegate.Object.&lt;anonymous&gt;.ZoneDelegate.invoke (node_modules/zone.js/dist/zone.js:391:26)\n      at ProxyZoneSpec.Object.&lt;anonymous&gt;.ProxyZoneSpec.onInvoke (node_modules/zone.js/dist/proxy.js:129:39)\n      at ZoneDelegate.Object.&lt;anonymous&gt;.ZoneDelegate.invoke (node_modules/zone.js/dist/zone.js:390:52)\n      at Zone.Object.&lt;anonymous&gt;.Zone.run (node_modules/zone.js/dist/zone.js:150:43)\n      at Object.testBody.length (node_modules/jest-preset-angular/zone-patch/index.js:52:27)\n</code></pre>\n\n<hr>\n\n<h3>main-toolbar.component.html</h3>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"g-SiteHeader\" *ngIf=\"(isLoggedIn | async)\"&gt;\n\n  &lt;div id=\"navbarlist\"&gt;&lt;/div&gt;\n\n&lt;div&gt;\n</code></pre>\n\n<hr>\n\n<h3>navbar-list-gen.components.ts</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n    selector: 'app-navbar-list',\n    template: `\n        &lt;ng-template cdk-portal&gt;\n            &lt;ng-content&gt;&lt;/ng-content&gt;\n        &lt;/ng-template&gt;\n    `,\n})\nexport class NavbarListGenComponent implements AfterViewInit, OnDestroy {\n\n    private portalHost: PortalHost;\n    @ViewChild(CdkPortal) portal;\n\n    constructor(private componentFactoryResolver: ComponentFactoryResolver, private injector: Injector, private appRef: ApplicationRef) {}\n\n    ngAfterViewInit(): void {\n        // Create a portalHost from a DOM element\n        this.portalHost = new DomPortalHost(document.querySelector('#navbarlist'), this.componentFactoryResolver, this.appRef, this.injector);\n\n        // Attach portal to host\n        this.portalHost.attach(this.portal);\n    }\n\n    ngOnDestroy(): void {\n        this.portalHost.detach();\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>I can't use the solution <a href=\"https://stackoverflow.com/a/42217040/8947616\">here</a> as I'm not using plain JS and I'm not allowed to change the source code in order to write test cases. As mentioned <a href=\"https://stackoverflow.com/a/30014117/8947616\">here</a>, I already have an element with the <code>id=navbarlist</code> which is rendered correctly in the app. According to <a href=\"https://stackoverflow.com/a/8670572/8947616\">this</a>, I think that the <em>DOM</em> element does not exist when the test is run, but can't seem to find a way to fix this. Any help is appreciated.</p>\n"}, {"tags": ["angular", "typescript", "tslint"], "comments": [{"owner": {"reputation": 514, "user_id": 7567724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jKbCE.jpg?s=128&g=1", "display_name": "Geggi632", "link": "https://stackoverflow.com/users/7567724/geggi632"}, "edited": false, "score": 0, "creation_date": 1557906559, "post_id": 56143865, "comment_id": 98918270, "body": "Do you use VS Code? Maybe this extension can help you: <a href=\"https://marketplace.visualstudio.com/items?itemName=steoates.autoimport&amp;ssr=false#overview\" rel=\"nofollow noreferrer\">marketplace.visualstudio.com/&hellip;</a>"}, {"owner": {"reputation": 659, "user_id": 6284627, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/18fdadef16983b201039189f511fec54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.H.", "link": "https://stackoverflow.com/users/6284627/mr-h"}, "reply_to_user": {"reputation": 514, "user_id": 7567724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jKbCE.jpg?s=128&g=1", "display_name": "Geggi632", "link": "https://stackoverflow.com/users/7567724/geggi632"}, "edited": false, "score": 0, "creation_date": 1558002259, "post_id": 56143865, "comment_id": 98959426, "body": "@Geggi632 Yes I do, but the Auto-Import extension dies not allow for refactoring existing imports."}, {"owner": {"reputation": 514, "user_id": 7567724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jKbCE.jpg?s=128&g=1", "display_name": "Geggi632", "link": "https://stackoverflow.com/users/7567724/geggi632"}, "edited": false, "score": 0, "creation_date": 1558270182, "post_id": 56143865, "comment_id": 99037303, "body": "Hm, I searched and tried a lot of extensions now but no one can change an existing one. Didn&#39;t blieved it ^^. Only possible solution I found was to replace them with regex. For example: replace &quot;.\\/(..\\/)*service&quot; to &quot;@application/service&quot;"}], "owner": {"reputation": 659, "user_id": 6284627, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/18fdadef16983b201039189f511fec54?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.H.", "link": "https://stackoverflow.com/users/6284627/mr-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557905905, "creation_date": 1557905597, "last_edit_date": 1557905905, "question_id": 56143865, "link": "https://stackoverflow.com/questions/56143865/angular-refactor-relative-imports", "title": "Angular - Refactor relative Imports", "body": "<p>I startet coding in Angular 7 a while ago, learning it on the fly. Recently I recognized, that relative imports are not very desirable. That is why I added this to my <code>tsconfig.json</code> </p>\n\n<pre><code>  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"paths\": {\n      \"@application/*\": [\n        \"src/app/application/*\"\n      ]\n    }\n  }\n</code></pre>\n\n<p>Now I would like to refactor my imports form this:</p>\n\n<pre><code>import { ApplicationLogService } from './../../../service/application-log.service';\nimport { ApplicationLogTableComponent } from './../../tables/application-log-table/application-log-table.component';\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>import { ApplicationLogService } from '@application/service/application-log.service';\nimport { ApplicationLogTableComponent } from '@application/components/tables/application-log-table/application-log-table.component';\n</code></pre>\n\n<p>Due to the fact, that I have a whole lot of relative imports I am looking for a way to refactor these automatically. Do you know any way to do this? </p>\n"}, {"tags": ["node.js", "typescript", "google-cloud-functions"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1557905362, "post_id": 56143769, "comment_id": 98917611, "body": "Is <code>user.id</code> a number?"}, {"owner": {"reputation": 921, "user_id": 659532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9764614491e999d93b922da86279c535?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/659532/nik"}, "reply_to_user": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1557905484, "post_id": 56143769, "comment_id": 98917682, "body": "@H&#233;ctor its a string... GUID"}, {"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1557905595, "post_id": 56143769, "comment_id": 98917742, "body": "I think that&#39;s the problem. Array index should be a number. You could change allUsers to be an object, or use forEach index as array index instead of user&#39;s GUID"}], "answers": [{"comments": [{"owner": {"reputation": 921, "user_id": 659532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9764614491e999d93b922da86279c535?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/659532/nik"}, "edited": false, "score": 0, "creation_date": 1557906491, "post_id": 56143948, "comment_id": 98918232, "body": "great. thanks... I was using push before but removed it during fixing other type issues with allUsers..."}, {"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "reply_to_user": {"reputation": 921, "user_id": 659532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9764614491e999d93b922da86279c535?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/659532/nik"}, "edited": false, "score": 0, "creation_date": 1557906591, "post_id": 56143948, "comment_id": 98918283, "body": "great, glad to help"}], "tags": [], "owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "is_accepted": true, "score": 0, "last_activity_date": 1557905914, "creation_date": 1557905914, "answer_id": 56143948, "question_id": 56143769, "link": "https://stackoverflow.com/questions/56143769/typescript-cloud-function-not-compiling/56143948#56143948", "title": "Typescript Cloud function not compiling", "body": "<p>You can't index an array using a string. To solve it, you can:</p>\n\n<p>Use <code>forEach</code> index as array index:</p>\n\n<pre><code>users.forEach((user, i) =&gt; {\n    allUsers[i] = user.data();\n});\n</code></pre>\n\n<p>or push items to the <code>allUsers</code> array:</p>\n\n<pre><code>users.forEach(user =&gt; {\n    allUsers.push(user.data());\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 921, "user_id": 659532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9764614491e999d93b922da86279c535?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/659532/nik"}, "edited": false, "score": 0, "creation_date": 1558001809, "post_id": 56144304, "comment_id": 98959163, "body": "actually what I wanted to do was something like <code>users.forEach(user =&gt; {     allUsers.push({ id: user.id, ...user.data() }); });</code> I don&#39;t know how to do it using .map"}, {"owner": {"reputation": 814, "user_id": 11368931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d78655a78da8849926f7d73d9ee625d9?s=128&d=identicon&r=PG&f=1", "display_name": "corschdi", "link": "https://stackoverflow.com/users/11368931/corschdi"}, "reply_to_user": {"reputation": 921, "user_id": 659532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9764614491e999d93b922da86279c535?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/659532/nik"}, "edited": false, "score": 0, "creation_date": 1558003773, "post_id": 56144304, "comment_id": 98960232, "body": "Something like this: <code>allUsers = users.map(user =&gt; Object.assign({ id: user.id }, user.data()));</code>"}, {"owner": {"reputation": 921, "user_id": 659532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9764614491e999d93b922da86279c535?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/659532/nik"}, "edited": false, "score": 0, "creation_date": 1558005664, "post_id": 56144304, "comment_id": 98961291, "body": "doesn&#39;t seems to work. getting error <code>Property &#39;map&#39; does not exist on type &#39;QuerySnapshot&#39;.</code>"}], "tags": [], "owner": {"reputation": 814, "user_id": 11368931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d78655a78da8849926f7d73d9ee625d9?s=128&d=identicon&r=PG&f=1", "display_name": "corschdi", "link": "https://stackoverflow.com/users/11368931/corschdi"}, "is_accepted": false, "score": 1, "last_activity_date": 1557907263, "creation_date": 1557907263, "answer_id": 56144304, "question_id": 56143769, "link": "https://stackoverflow.com/questions/56143769/typescript-cloud-function-not-compiling/56144304#56144304", "title": "Typescript Cloud function not compiling", "body": "<p>If you want to transform your array elements into a new array, you could also use <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><code>Array.map</code></a>.</p>\n\n<pre><code>allUsers = users.map(user =&gt; user.data());\n</code></pre>\n"}], "owner": {"reputation": 921, "user_id": 659532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9764614491e999d93b922da86279c535?s=128&d=identicon&r=PG", "display_name": "Nik", "link": "https://stackoverflow.com/users/659532/nik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 56143948, "answer_count": 2, "score": 0, "last_activity_date": 1557907263, "creation_date": 1557905249, "question_id": 56143769, "link": "https://stackoverflow.com/questions/56143769/typescript-cloud-function-not-compiling", "title": "Typescript Cloud function not compiling", "body": "<p>I have following cloud function to get data from the firebase datastore but it doesn't compile and am not sure how to fix this.</p>\n\n<pre><code>import * as admin from 'firebase-admin';\nimport * as functions from 'firebase-functions';\n\nadmin.initializeApp(functions.config().firebase);\n\nconst db = admin.firestore();\nconst usersObj = db.collection('users')\n\nexport const getUsers = async () =&gt; {\n    let allUsers: Array&lt;any&gt; = [];\n    await usersObj.get().then(users =&gt; {\n        users.forEach(user =&gt; {\n            allUsers[user.id] = user.data();\n        });\n    });\n    return allUsers;\n}\n</code></pre>\n\n<blockquote>\n  <p>error: error TS7015: Element implicitly has an 'any' type because\n  index expression is not of type 'number'. allOrders[order.id] =\n  order.data();</p>\n</blockquote>\n"}, {"tags": ["c#", "angular", "typescript", "asp.net-core", "signalr"], "comments": [{"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1557903199, "post_id": 56143257, "comment_id": 98916579, "body": "Show me your code in both backend and frontend :)"}, {"owner": {"reputation": 2243, "user_id": 3180471, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8BB17.png?s=128&g=1", "display_name": "Vinit Patel", "link": "https://stackoverflow.com/users/3180471/vinit-patel"}, "reply_to_user": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 1, "creation_date": 1557903822, "post_id": 56143257, "comment_id": 98916875, "body": "@TonyNgo I had Updated a Code can you help me to get out of this,, as some times connection established and some time throw error, please note that i am using load balancer."}], "answers": [{"comments": [{"owner": {"reputation": 2243, "user_id": 3180471, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8BB17.png?s=128&g=1", "display_name": "Vinit Patel", "link": "https://stackoverflow.com/users/3180471/vinit-patel"}, "edited": false, "score": 0, "creation_date": 1557910745, "post_id": 56144076, "comment_id": 98920495, "body": "this is also not worked, as in my code connection is established but not all time, some time it&#39;s throw error"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 2243, "user_id": 3180471, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8BB17.png?s=128&g=1", "display_name": "Vinit Patel", "link": "https://stackoverflow.com/users/3180471/vinit-patel"}, "edited": false, "score": 0, "creation_date": 1557910789, "post_id": 56144076, "comment_id": 98920527, "body": "@VinitPatel can you take a screen shot of the error for me"}, {"owner": {"reputation": 2243, "user_id": 3180471, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8BB17.png?s=128&g=1", "display_name": "Vinit Patel", "link": "https://stackoverflow.com/users/3180471/vinit-patel"}, "edited": false, "score": 0, "creation_date": 1557912896, "post_id": 56144076, "comment_id": 98921767, "body": "please check in question, i had upload broswer console error screen short"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 2243, "user_id": 3180471, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8BB17.png?s=128&g=1", "display_name": "Vinit Patel", "link": "https://stackoverflow.com/users/3180471/vinit-patel"}, "edited": false, "score": 0, "creation_date": 1557913584, "post_id": 56144076, "comment_id": 98922200, "body": "Can you share me the source code some where else it&#39;s really hard to tell"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 2, "last_activity_date": 1557906419, "creation_date": 1557906419, "answer_id": 56144076, "question_id": 56143257, "link": "https://stackoverflow.com/questions/56143257/signal-r-connection-not-establish-in-net-core-application/56144076#56144076", "title": "Signal R Connection not establish in .net core application", "body": "<p>You should set up your code like this</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>services.AddSignalR();\n\napp.UseSignalR(routes =&gt;\n{\n   routes.MapHub&lt;ConnectionHub&gt;(\"/connectionHub\"); // make sure to have / here\n});\n</code></pre>\n\n<p>In your angular some thing like</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>private _hubConnection: HubConnection | undefined;\n\nthis._hubConnection = new HubConnectionBuilder()\n      .withUrl(\"/connectionHub\")\n      .configureLogging(LogLevel.Error)\n      .build();\n\nthis._hubConnection.start().catch(err =&gt; console.error(err.toString()));\n</code></pre>\n\n<p>I'm not sure about your this.signalRHubConnection what is the value of that ?</p>\n"}], "owner": {"reputation": 2243, "user_id": 3180471, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8BB17.png?s=128&g=1", "display_name": "Vinit Patel", "link": "https://stackoverflow.com/users/3180471/vinit-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 56144076, "answer_count": 1, "score": 1, "last_activity_date": 1567416533, "creation_date": 1557903042, "last_edit_date": 1567416533, "question_id": 56143257, "link": "https://stackoverflow.com/questions/56143257/signal-r-connection-not-establish-in-net-core-application", "title": "Signal R Connection not establish in .net core application", "body": "<p>In my application I had implemented signal R with .net core application. in my case I had implemented load balancer, so I have 2 app server. Now when my application try to make connection with signal R, using socket based transport, sometimes connection established and some it's throw err.</p>\n\n<p>Here is error:- </p>\n\n<blockquote>\n  <p>An error occurred: Uncaught (in promise): Error: Unable to initialize any of the available transports.<br>\n  Error: Unable to initialize any of the available transports.</p>\n</blockquote>\n\n<p>Start up file</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>services\n.AddSignalR()\n.AddRedis(Configuration.GetConnectionString(\"ConnectionRedis\"), \n    options =&gt; {\n        options.Configuration.ClientName = \"MyApp\";\n    });\n\napp.UseSignalR(routes =&gt; {\n    routes.MapHub&lt;Hub&gt;(Configuration.GetValue&lt;string&gt;(\"SignalR:HubName\"));\n});\n</code></pre>\n\n<p>Hub connection:-</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public override Task OnConnectedAsync()\n{\n\n    return base.OnConnectedAsync();\n}\n</code></pre>\n\n<p>Angular UI:-</p>\n\n<pre><code>this.hubConnection = new signalR.HubConnectionBuilder()\n  .withUrl(this.signalRHubConnection, {\n    accessTokenFactory: () =&gt; this.access_token,\n    skipNegotiation: false,\n    transport: signalR.HttpTransportType.WebSockets\n  })\n  .configureLogging(signalR.LogLevel.Debug)\n  .build();\n\nthis.hubConnection\n  .start()\n  .then(() =&gt; {\n    this.commonService.setGlobalVariables(\"conn\", \"test\");\n  })\n  .catch();\n\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/VAJPN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VAJPN.png\" alt=\"enter image description here\"></a>\nAny one have idea why this happed, my both app server using same loadbalance api to make a hub connection. any hint and idea would be helpfull\nthank you</p>\n"}, {"tags": ["typescript", "parameters", "angular6", "angular-activatedroute"], "comments": [{"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1557902542, "post_id": 56143120, "comment_id": 98916225, "body": "Do you mean, for example,  <code>&#47;</code> becomes <code>%2F</code> and your code is receiving it as %2f when you want a / ?"}, {"owner": {"reputation": 65, "user_id": 10859477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b45fb33b81c7b530b5ee34312ba4248?s=128&d=identicon&r=PG&f=1", "display_name": "daniel", "link": "https://stackoverflow.com/users/10859477/daniel"}, "reply_to_user": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1557903295, "post_id": 56143120, "comment_id": 98916626, "body": "@CaiusJard actually the opposite is happening %2f becomes / and i want it %2f"}], "owner": {"reputation": 65, "user_id": 10859477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b45fb33b81c7b530b5ee34312ba4248?s=128&d=identicon&r=PG&f=1", "display_name": "daniel", "link": "https://stackoverflow.com/users/10859477/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557902465, "creation_date": 1557902465, "question_id": 56143120, "link": "https://stackoverflow.com/questions/56143120/how-can-i-read-special-characters-from-a-url-parameter-as-characters-and-not-as", "title": "How can i read special characters from a URL parameter as characters and not as ASCII code", "body": "<p>I have these asp.net reset password generated code in the url:</p>\n\n<pre><code>Code=xC4f1pHtzHdc2NtBTHpWeNzfY%2FIoPDbPvg1AeKA7COHifBOIGcxTeboaI6BtkQsuabs6CS7TGcdUxGy1pDUMmcLMnxVfaC1Jnxjz7O7PZetsU%20XDVZWkdMD0EenBchsZR%2FTUlufM36ULD%2FdH3WVXR9tZA1lUhPPQG2M4kb4Nrg3YZUmDZVDrKbXeBaktKXIwEItmYLwGmg%2FUm8Rn4%2FULrg%3D%3D\n</code></pre>\n\n<p>i need to reed it as it is i have written this code:</p>\n\n<pre><code>  Code: string;\n  constructor(\n     private acitivatedRoute: ActivatedRoute,\n  )\n  this.Code = params ['Code'];\n</code></pre>\n\n<p>my problem is that it is reading some characters as ASCII so after loging it in my console this is what i get </p>\n\n<p>xC4f1pHtzHdc2NtBTHpWeNzfY/IoPDbPvg1AeKA7COHifBOIGcxTeboaI6BtkQsuabs6CS7TGcdUxGy1pDUMmcLMnxVfaC1Jnxjz7O7PZetsU XDVZWkdMD0EenBchsZR/TUlufM36ULD/dH3WVXR9tZA1lUhPPQG2M4kb4Nrg3YZUmDZVDrKbXeBaktKXIwEItmYLwGmg/Um8Rn4/ULrg==</p>\n\n<p>my probleme is that i want to read th special characters as they are</p>\n"}, {"tags": ["node.js", "angular", "typescript", "ecmascript-6", "single-page-application"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 9211617, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/169484487154885/picture?type=large", "display_name": "Nasserr", "link": "https://stackoverflow.com/users/9211617/nasserr"}, "edited": false, "score": 0, "creation_date": 1557902313, "post_id": 56143045, "comment_id": 98916108, "body": "Thanks for that but looking for why Renderer &quot;can safely be used&quot;."}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 5, "last_activity_date": 1557902365, "last_edit_date": 1557902365, "creation_date": 1557902137, "answer_id": 56143045, "question_id": 56143024, "link": "https://stackoverflow.com/questions/56143024/in-angular-what-are-the-advantages-of-using-renderer-over-elementref/56143045#56143045", "title": "In Angular, what are the advantages of using Renderer over ElementRef?", "body": "<p>From angular document</p>\n\n<blockquote>\n  <p>\"Permitting direct access to the DOM can make your application more\n  vulnerable to XSS attacks. Carefully review any use of ElementRef in\n  your code. For more detail, see the Security Guide.\"</p>\n  \n  <p>\"Use this API as the last resort when direct access to DOM is needed.\n  Use templating and data-binding provided by Angular instead.\n  Alternatively you take a look at Renderer which provides API that can\n  safely be used even when direct access to native elements is not\n  supported.\"</p>\n</blockquote>\n\n<p>Or another explain when we need to use renderer </p>\n\n<blockquote>\n  <p>The Renderer is a class that is a partial abstraction over the DOM.\n  Using the Renderer for manipulating the DOM doesn't break server-side\n  rendering or Web Workers (where direct access to the DOM would break).</p>\n  \n  <p>The Renderer2 class is an abstraction provided by Angular in the form\n  of a service that allows to manipulate elements of your app without\n  having to touch the DOM directly. This is the recommended approach\n  because it then makes it easier to develop apps that can be rendered\n  in environments that don\u2019t have DOM access, like on the server, in a\n  web worker or on native mobile.</p>\n</blockquote>\n\n<p>So when direct access to native elements is not supported you should use renderer </p>\n"}], "owner": {"reputation": 89, "user_id": 9211617, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/169484487154885/picture?type=large", "display_name": "Nasserr", "link": "https://stackoverflow.com/users/9211617/nasserr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1576221574, "creation_date": 1557902013, "last_edit_date": 1576221574, "question_id": 56143024, "link": "https://stackoverflow.com/questions/56143024/in-angular-what-are-the-advantages-of-using-renderer-over-elementref", "title": "In Angular, what are the advantages of using Renderer over ElementRef?", "body": "<p>I'm new in Angular and I was trying to create my own directive using two options:</p>\n\n<ul>\n<li>Option 1: Direct access to the elements using ElementRef</li>\n<li>Option 2: Using the Renderer2</li>\n</ul>\n\n<p>Option 1:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Directive, ElementRef, OnInit } from '@angular/core';\n\n@Directive({\n    selector: '[appBasicHighlight]'\n})\nexport class BasicHighlightDirective implements OnInit {\n    constructor(private elementRef: ElementRef) {}\n\n    ngOnInit() {\n        this.elementRef.nativeElement.style.backgroundColor = 'green';\n    }\n}\n</code></pre>\n\n<p>Option 2:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Directive, ElementRef, Renderer2, OnInit } from '@angular/core';\n\n@Directive({\n  selector: '[appBetterHighlight]'\n})\nexport class BetterHighlightDirective {\n\n  constructor(private elementRef: ElementRef, private renderer: Renderer2) { }\n\n  ngOnInit() {\n    this.renderer.setStyle(this.elementRef.nativeElement, 'background-color', 'blue');\n  }\n}\n</code></pre>\n\n<p>The instructor from the tutorial said that it is much safer and recommended to use the Renderer over the direct access but didn't explain explicitly the reasons. He meant direct DOM access by using ElementRef but as you can see from the code, Renderer used ElementRef too. With this, I'm confused on what makes Renderer safer and advantageous over ElementRef.</p>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 11, "user_id": 11502230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a1d0c326688b8e49c9499ad068ca25?s=128&d=identicon&r=PG&f=1", "display_name": "Chen.Xu", "link": "https://stackoverflow.com/users/11502230/chen-xu"}, "edited": false, "score": 0, "creation_date": 1557909995, "post_id": 56143012, "comment_id": 98920051, "body": "I fixed. The solution is typescript.json .   {&quot;compilerOptions&quot;:{&quot;baseUrl&quot;: &quot;.&quot;,&quot;paths&quot;:{               &quot;your module name&quot;:[&quot;your global node_module path&quot;]           }}}"}], "owner": {"reputation": 11, "user_id": 11502230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94a1d0c326688b8e49c9499ad068ca25?s=128&d=identicon&r=PG&f=1", "display_name": "Chen.Xu", "link": "https://stackoverflow.com/users/11502230/chen-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557903158, "creation_date": 1557901977, "last_edit_date": 1557903158, "question_id": 56143012, "link": "https://stackoverflow.com/questions/56143012/typescript-import-global-node-module-fail", "title": "Typescript import global node_module fail", "body": "<p>I installed a global <code>node_module</code>, import error. It said Cannot find module 'puppeteer'. But if I required it, it successfully.</p>\n\n<pre><code>npm install -g puppeteer  \n</code></pre>\n\n<p>I've set the <code>NODE_PATH</code>, I can require global node_modules</p>\n\n<p>javascript</p>\n\n<pre><code>import * as puppeteer from 'puppeteer';  //Cannot find module 'puppeteer'\nconst puppeteer = require('puppeteer');  //Success\n</code></pre>\n\n<p>I expect import success</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "single-page-application"], "comments": [{"owner": {"reputation": 1572, "user_id": 6713046, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/937a8a82943267be635fa90393bf47a9?s=128&d=identicon&r=PG&f=1", "display_name": "porgo", "link": "https://stackoverflow.com/users/6713046/porgo"}, "edited": false, "score": 0, "creation_date": 1557901613, "post_id": 56142819, "comment_id": 98915808, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/50489115/requestoptions-deprecated-symbol-error-in-angular-5\">RequestOptions deprecated symbol error in Angular 5</a>"}], "answers": [{"comments": [{"owner": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "edited": false, "score": 0, "creation_date": 1557906830, "post_id": 56142932, "comment_id": 98918415, "body": "HttpParams giving me errors  throwing options and header error"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "edited": false, "score": 0, "creation_date": 1557906937, "post_id": 56142932, "comment_id": 98918477, "body": "What are you trying to complish ?"}, {"owner": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "edited": false, "score": 0, "creation_date": 1557910964, "post_id": 56142932, "comment_id": 98920621, "body": "i want http interceptor to work like it was before but now it is giving me errors everywhere in file"}, {"owner": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "edited": false, "score": 0, "creation_date": 1557911290, "post_id": 56142932, "comment_id": 98920809, "body": "first there is an error in super () saying expected 1 arg and then every request is giving error saying Incompatible override for member from HttpClient  and super.get super.put giving error"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "edited": false, "score": 0, "creation_date": 1557911351, "post_id": 56142932, "comment_id": 98920841, "body": "I think you should upload your source code somewhere so I can take a look"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 1, "last_activity_date": 1557901627, "last_edit_date": 1592644375, "creation_date": 1557901627, "answer_id": 56142932, "question_id": 56142819, "link": "https://stackoverflow.com/questions/56142819/upgrading-from-angular-4-to-7-causing-some-problems/56142932#56142932", "title": "upgrading from angular 4 to 7 causing some problems", "body": "<p>You have to use new packge from @angular/common/http\nlike</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { HttpClientModule } from &quot;@angular/common/http&quot;;\nimport { HttpClient } from &quot;@angular/common/http&quot;;\n</code></pre>\n<p>So mostly you will use HttpHeaders to construct your ajax header like params formdata etc...</p>\n<blockquote>\n<p>Headers -&gt; HttpHeaders</p>\n<p>Response -&gt; HttpResponse</p>\n<p>RequestOptions, RequestOptionsArgs are remove and you have to use HttpParams</p>\n</blockquote>\n<p>Please read new change log <a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576220358, "creation_date": 1557901126, "last_edit_date": 1576220358, "question_id": 56142819, "link": "https://stackoverflow.com/questions/56142819/upgrading-from-angular-4-to-7-causing-some-problems", "title": "upgrading from angular 4 to 7 causing some problems", "body": "<p>hey i have upgraded my project from angular 4 to angular 7 and some of the services, modules are deprecated.\nthis is my app.module.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    SharedModule,\n    HttpClientModule,\n    AppRoutingModule,\n    NgbModule.forRoot(),\n    StoreModule.forRoot({})\n  ],\n  providers: [\n    SessionTimeoutService,\n    SpinnerService,\n    {\n      provide: HttpClient,\n      useFactory: httpFactory,\n      deps: [XHRBackend, RequestOptions, Store, SpinnerService]\n    },\n    UtilService,\n    { provide: NgbDateParserFormatter, useClass: DateParserFormatter }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n  constructor(private injector: Injector) {\n    ServiceLocatorService.injector = this.injector;\n  }\n}\n</code></pre>\n\n<p>now XHRBackend, RequestOptions are now deprecated and giving me error \ncan someone tell me how to resolve it?</p>\n\n<p>and this is my Http interceptor file</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable()\nexport class InterceptedHttp extends HttpClient {\n  constructor(\n    backend: HttpBackend,\n    defaultOptions: RequestOptions,\n    private store: Store&lt;any&gt;,\n    private spinnerService: SpinnerService\n  ) {\n    super(backend, defaultOptions);\n  }\n\n  request(\n    url: string | HttpRequest,\n    options?: RequestOptionsArgs\n  ): Observable&lt;HttpResponse&gt; {\n    this.showLoader();\n    return this.tryCatch(super.request(url, options)).finally(() =&gt; {\n      this.hideLoader();\n    });\n  }\n\n  get(url: string, options?: RequestOptionsArgs): Observable&lt;HttpResponse&gt; {\n    url = this.updateUrl(url);\n    return this.tryCatch(super.get(url, this.getRequestOptionArgs(options)));\n  }\n\n  post(\n    url: string,\n    body: string,\n    options?: RequestOptionsArgs\n  ): Observable&lt;HttpResponse&gt; {\n    url = this.updateUrl(url);\n    return this.tryCatch(\n      super.post(url, body, this.getRequestOptionArgs(options))\n    );\n  }\n\n  put(\n    url: string,\n    body: string,\n    options?: RequestOptionsArgs\n  ): Observable&lt;HttpResponse&gt; {\n    url = this.updateUrl(url);\n    return this.tryCatch(\n      super.put(url, body, this.getRequestOptionArgs(options))\n    );\n  }\n\n  delete(url: string, options?: RequestOptionsArgs): Observable&lt;HttpResponse&gt; {\n    url = this.updateUrl(url);\n    return this.tryCatch(super.delete(url, this.getRequestOptionArgs(options)));\n  }\n\n  patch(\n    url: string,\n    body: any,\n    options?: RequestOptionsArgs\n  ): Observable&lt;HttpResponse&gt; {\n    url = this.updateUrl(url);\n    return this.tryCatch(\n      super.patch(url, body, this.getRequestOptionArgs(options))\n    );\n  }\n\n  private updateUrl(req: string) {\n    return environment.origin + req;\n  }\n\n  private getRequestOptionArgs(\n    options?: RequestOptionsArgs\n  ): RequestOptionsArgs {\n    if (options == null) {\n      options = new RequestOptions();\n    }\n    if (options.headers == null) {\n      options.headers = new HttpHeaders();\n    }\n    options.headers.append(\"Content-Type\", \"application/json\");\n    options.headers.append(\n      \"Authorization\",\n      ` Bearer ${sessionStorage.AccessToken}`\n    );\n\n    return options;\n  }\n}\n</code></pre>\n\n<p>i am getting errors \n  RequestOptions,\n  RequestOptionsArgs,\nthese are deprecated now i am getting errors how to resolve it?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 1742288, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/dca349510fe942aed558895a5a3a5099?s=128&d=identicon&r=PG", "display_name": "CCNA", "link": "https://stackoverflow.com/users/1742288/ccna"}, "edited": false, "score": 0, "creation_date": 1557900354, "post_id": 56142596, "comment_id": 98915302, "body": "There is another case <code>this.params.businessLine</code>. Why does this one not have <code>.data</code>."}, {"owner": {"reputation": 362, "user_id": 10417161, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yB_b-qh9zVA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUJ6VagmmNL-owFYP3qDf3ljaSsgw/mo/photo.jpg?sz=128", "display_name": "kunal verma", "link": "https://stackoverflow.com/users/10417161/kunal-verma"}, "reply_to_user": {"reputation": 343, "user_id": 1742288, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/dca349510fe942aed558895a5a3a5099?s=128&d=identicon&r=PG", "display_name": "CCNA", "link": "https://stackoverflow.com/users/1742288/ccna"}, "edited": false, "score": 0, "creation_date": 1557900601, "post_id": 56142596, "comment_id": 98915408, "body": "4.  this.params.businessLine means you check  if you params has businessLine   like this {businessLine:&quot;examle data&quot;} or  not  like {} ,{blabla :&quot;&quot;,}"}], "tags": [], "owner": {"reputation": 362, "user_id": 10417161, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yB_b-qh9zVA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUJ6VagmmNL-owFYP3qDf3ljaSsgw/mo/photo.jpg?sz=128", "display_name": "kunal verma", "link": "https://stackoverflow.com/users/10417161/kunal-verma"}, "is_accepted": false, "score": 0, "last_activity_date": 1557900039, "creation_date": 1557900039, "answer_id": 56142596, "question_id": 56142536, "link": "https://stackoverflow.com/questions/56142536/what-does-params-do-in-angular/56142596#56142596", "title": "What does params do in angular?", "body": "<ol>\n<li><p>data is not any key word</p></li>\n<li><p>the params passed to agInit(params: any) is an object  like {data:businessLine}</p></li>\n<li><p>you could reaname params in agInit(params: any) like _params for just clearity sake</p></li>\n</ol>\n"}], "owner": {"reputation": 343, "user_id": 1742288, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/dca349510fe942aed558895a5a3a5099?s=128&d=identicon&r=PG", "display_name": "CCNA", "link": "https://stackoverflow.com/users/1742288/ccna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557900542, "creation_date": 1557899691, "last_edit_date": 1557900542, "question_id": 56142536, "link": "https://stackoverflow.com/questions/56142536/what-does-params-do-in-angular", "title": "What does params do in angular?", "body": "<pre><code>export class D {\n  public params: any;\n  ....\n  agInit(params: any): void {\n    this.params = params;\n  }\n  get businessLine(): string {\n   if (this.params.businessLine)\n    return this.params.data.businessLine;\n  }\n }\n</code></pre>\n\n<p>The caller does pass a businessLine to this class. However, it does not pass <code>data</code>. Is this <code>data</code> a keyword?</p>\n\n<p>The sample caller code is here,</p>\n\n<pre><code> cellRenderParams: {\n   businesLine: this.businessLine\n }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1557899479, "post_id": 56142435, "comment_id": 98914961, "body": "need custom pipe in this case"}, {"owner": {"reputation": 553, "user_id": 2818693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/facb64a7e8ef2c326229e21ca3575383?s=128&d=identicon&r=PG&f=1", "display_name": "JustCode", "link": "https://stackoverflow.com/users/2818693/justcode"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1557899598, "post_id": 56142435, "comment_id": 98915018, "body": "i know that is what my question is. what is that custom pipe"}, {"owner": {"reputation": 952, "user_id": 9071245, "user_type": "registered", "accept_rate": 23, "profile_image": "https://lh6.googleusercontent.com/-0172LwUQdvU/AAAAAAAAAAI/AAAAAAAAAiY/9uGVEtD5A8k/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9071245/chris"}, "edited": false, "score": 0, "creation_date": 1557902064, "post_id": 56142435, "comment_id": 98916000, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54806689/align-phone-number-with-angular-pipe\">Align Phone Number With Angular Pipe</a>"}, {"owner": {"reputation": 952, "user_id": 9071245, "user_type": "registered", "accept_rate": 23, "profile_image": "https://lh6.googleusercontent.com/-0172LwUQdvU/AAAAAAAAAAI/AAAAAAAAAiY/9uGVEtD5A8k/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9071245/chris"}, "edited": false, "score": 0, "creation_date": 1557902075, "post_id": 56142435, "comment_id": 98916007, "body": "refer <a href=\"https://stackoverflow.com/questions/54806689/align-phone-number-with-angular-pipe\" title=\"align phone number with angular pipe\">stackoverflow.com/questions/54806689/&hellip;</a>"}, {"owner": {"reputation": 553, "user_id": 2818693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/facb64a7e8ef2c326229e21ca3575383?s=128&d=identicon&r=PG&f=1", "display_name": "JustCode", "link": "https://stackoverflow.com/users/2818693/justcode"}, "edited": false, "score": 0, "creation_date": 1557902262, "post_id": 56142435, "comment_id": 98916081, "body": "i cant use slice:0-2 because it should come from config.json"}], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 2818693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/facb64a7e8ef2c326229e21ca3575383?s=128&d=identicon&r=PG&f=1", "display_name": "JustCode", "link": "https://stackoverflow.com/users/2818693/justcode"}, "edited": false, "score": 0, "creation_date": 1557989510, "post_id": 56143828, "comment_id": 98952396, "body": "var disco = this.AddDashes(value, 3, 6).join(&#39;-&#39;) In this line 3 and 6 are static. I cant use this. My regular expression can be anything, Custom pipe should be flexible to match any REGULAR EXPRESSION."}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "reply_to_user": {"reputation": 553, "user_id": 2818693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/facb64a7e8ef2c326229e21ca3575383?s=128&d=identicon&r=PG&f=1", "display_name": "JustCode", "link": "https://stackoverflow.com/users/2818693/justcode"}, "edited": false, "score": 0, "creation_date": 1557989625, "post_id": 56143828, "comment_id": 98952450, "body": "@rakesh I think you can&#39;t modify the string by using Regex!"}], "tags": [], "owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "is_accepted": false, "score": 0, "last_activity_date": 1557905484, "creation_date": 1557905484, "answer_id": 56143828, "question_id": 56142435, "link": "https://stackoverflow.com/questions/56142435/how-to-show-the-data-filter-by-regular-expression-in-angular-7/56143828#56143828", "title": "How to show the data filter by regular expression in Angular 7", "body": "<p>You can achieve that by creating Custom Pipe.</p>\n\n<p>Create Pipe and Add it in AppModule inside <code>declarations</code> array:</p>\n\n<p>So in this case AppModule.ts Code looks like:</p>\n\n<pre><code>import { CustomPipePipe } from './app/custom-pipe.pipe';\n\n@NgModule({\n  ......\n  ......\n  declarations: [CustomPipePipe],\n  ......\n})\n</code></pre>\n\n<p>Custom pipe Code:</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'customPipe'\n})\nexport class CustomPipePipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    var disco = this.AddDashes(value, 3, 6).join('-')\n    console.log(disco)\n    return disco;\n  }\n\n\n  AddDashes(str, firstGroup, SecondGroup) {\n    var response = [];\n    var isSecondValue = false;\n\n    for (var i = 0; i &lt; str.length; i += firstGroup) {\n      if (!isSecondValue) {\n        firstGroup = 3;\n        response.push(str.substr(i, firstGroup));\n        isSecondValue = true;\n      }\n      else {\n        response.push(str.substr(i, SecondGroup));\n        isSecondValue = false;\n      }\n    }\n    return response\n  };\n}\n</code></pre>\n\n<p>And use it in HTML Like:</p>\n\n<pre><code>{{ your_value | customPipe}}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-fpnv7f-qvts9d\" rel=\"nofollow noreferrer\"><code>WORKING_DEMO</code></a></p>\n"}], "owner": {"reputation": 553, "user_id": 2818693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/facb64a7e8ef2c326229e21ca3575383?s=128&d=identicon&r=PG&f=1", "display_name": "JustCode", "link": "https://stackoverflow.com/users/2818693/justcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557905484, "creation_date": 1557899042, "question_id": 56142435, "link": "https://stackoverflow.com/questions/56142435/how-to-show-the-data-filter-by-regular-expression-in-angular-7", "title": "How to show the data filter by regular expression in Angular 7", "body": "<p>I am working on Angular 7 project. I have a Config.json which has some regular expression as shown below. I have some static data which i want to filter and show to match regular expression.</p>\n\n<p>Config.json</p>\n\n<pre><code>{\n\"myregExp\" : \"[0-9],\\\\d,\\\\d,-,[0-9],\\\\d,\\\\d,\\\\d,\\\\d,\\\\d,-,[0-9],\\\\d,\\\\d\"\n}\n</code></pre>\n\n<p>samplepage.component.html</p>\n\n<pre><code>&lt;h1&gt;{{sampledata}}&lt;/h1&gt;\n</code></pre>\n\n<p>sample.component.ts</p>\n\n<pre><code>this.sampledata= \"123456789321\";\n</code></pre>\n\n<p>I want the output as \n123-456789-321</p>\n\n<p>I tried to use like this <h1>{{sampledata | filter : myregExp}}</h1> which is not working. Can someone help me please. I am new to angular/javascript.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2237, "user_id": 2610857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/5RMeX.jpg?s=128&g=1", "display_name": "Mindless", "link": "https://stackoverflow.com/users/2610857/mindless"}, "edited": false, "score": 0, "creation_date": 1557894966, "post_id": 56141800, "comment_id": 98913590, "body": "Have a look at HttpClient, import { HttpClient } from &#39;@angular/common/http&#39;;"}], "answers": [{"comments": [{"owner": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "edited": false, "score": 0, "creation_date": 1557896615, "post_id": 56141842, "comment_id": 98914025, "body": "and what about  RequestOptions,   RequestOptionsArgs,?"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "edited": false, "score": 0, "creation_date": 1557899398, "post_id": 56141842, "comment_id": 98914925, "body": "@usmansaleem you do not need them anymore. Let me include the example here"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "edited": false, "score": 0, "creation_date": 1557899457, "post_id": 56141842, "comment_id": 98914950, "body": "<code>this.http.post&lt;string&gt;(</code>${this.baseUrl}/get_data?user_id=${th&zwnj;&#8203;is.userId}<code>, requestBody, httpOptions)</code>"}, {"owner": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "edited": false, "score": 0, "creation_date": 1557901297, "post_id": 56141842, "comment_id": 98915655, "body": "<a href=\"https://stackoverflow.com/questions/56142819/upgrading-from-angular-4-to-7-causing-some-problems\" title=\"upgrading from angular 4 to 7 causing some problems\">stackoverflow.com/questions/56142819/&hellip;</a>  can you please look at this post of mine"}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": false, "score": 0, "last_activity_date": 1557894989, "creation_date": 1557894989, "answer_id": 56141842, "question_id": 56141800, "link": "https://stackoverflow.com/questions/56141800/after-upgrading-to-latest-angular-response-and-requestoptions-are-not-working/56141842#56141842", "title": "After upgrading to latest angular response and requestOptions are not working", "body": "<p>You should first check out the <a href=\"https://update.angular.io/\" rel=\"nofollow noreferrer\">Angular Migration guide</a>, and for your case, select 4.0 to 7.0. Once you have done so, scroll down and take note of this section:</p>\n\n<blockquote>\n  <p>Switch from HttpModule and the Http service to HttpClientModule and\n  the HttpClient service. HttpClient simplifies the default ergonomics\n  (You don't need to map to json anymore) and now supports typed return\n  values and interceptors</p>\n</blockquote>\n\n<p>In addtion, the <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#deprecated-code\" rel=\"nofollow noreferrer\">Changelog</a> has mentioned that too: </p>\n\n<blockquote>\n  <p>http: deprecate @angular/http in favor of @angular/common/http\n  (#18906) (72c7b6e)</p>\n</blockquote>\n\n<p>Therefore, you should be importing from <code>'@angular/common/http'</code> instead.</p>\n\n<pre><code>import { HttpClient, HttpHeaders } from '@angular/common/http';\n.\n.\nconstructor(private http: HttpClient) { }\n</code></pre>\n"}], "owner": {"reputation": 140, "user_id": 10717402, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fti4vlDwciI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-juoodBsokrFona7li5LdLdCWCg4g/mo/photo.jpg?sz=128", "display_name": "usman saleem", "link": "https://stackoverflow.com/users/10717402/usman-saleem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 874, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557895459, "creation_date": 1557894625, "question_id": 56141800, "link": "https://stackoverflow.com/questions/56141800/after-upgrading-to-latest-angular-response-and-requestoptions-are-not-working", "title": "After upgrading to latest angular response and requestOptions are not working", "body": "<p>i have upgraded angular 4 to 7 but some of the things are not working like response, requestOptions etc\nwhen i am importing them from @angular/http like when it was importing it in angular 4 it says deprecated.\nimporting from @angular/common/http is not working for me either</p>\n\n<pre><code>import {\n ConnectionBackend,\n Headers,\n Request,\n RequestOptions,\n RequestOptionsArgs,\n Response\n } from \"@angular/http\";\n</code></pre>\n\n<p>everything is deprecated.\nhow can i solve this any help?\nthanks</p>\n"}, {"tags": ["typescript", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 10054, "user_id": 2734369, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f7e946bedea673c57bb40d2a8c1e6557?s=128&d=identicon&r=PG", "display_name": "pizzarob", "link": "https://stackoverflow.com/users/2734369/pizzarob"}, "edited": false, "score": 0, "creation_date": 1557931999, "post_id": 56143982, "comment_id": 98933882, "body": "Perfect thanks. I had tried that, but it didn&#39;t work. I realized that I had webpack output a file called bundle.js - while the main export was typed in main.d.ts. After I renamed bundle to main and updated the &quot;main&quot; property in my package.json file it seems to work now."}], "tags": [], "owner": {"reputation": 19724, "user_id": 6539317, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/feded6c8f60453abde4e6bf81a877693?s=128&d=identicon&r=PG&f=1", "display_name": "felixmosh", "link": "https://stackoverflow.com/users/6539317/felixmosh"}, "is_accepted": true, "score": 1, "last_activity_date": 1557906050, "creation_date": 1557906050, "answer_id": 56143982, "question_id": 56141795, "link": "https://stackoverflow.com/questions/56141795/how-to-type-my-own-node-module-using-a-d-ts-file/56143982#56143982", "title": "How to Type My Own Node Module Using a .d.ts File", "body": "<p>You can add a <code>types.d.ts</code> file in your lib folder, and add the <code>types: \"./types.d.ts\"</code> property to its <code>package.json</code>.</p>\n\n<p>This will allow to TS access to all the types that your lib is exporting.</p>\n\n<p>But, you will need to write those types by hand.</p>\n\n<p>A better solution, is to let TS generate those <code>d.ts</code> files for you.\nYou can achieve that by enabling <code>declaration: true</code> in your <code>tsconfig.json</code> file.</p>\n"}], "owner": {"reputation": 10054, "user_id": 2734369, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f7e946bedea673c57bb40d2a8c1e6557?s=128&d=identicon&r=PG", "display_name": "pizzarob", "link": "https://stackoverflow.com/users/2734369/pizzarob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56143982, "answer_count": 1, "score": 0, "last_activity_date": 1557906050, "creation_date": 1557894586, "question_id": 56141795, "link": "https://stackoverflow.com/questions/56141795/how-to-type-my-own-node-module-using-a-d-ts-file", "title": "How to Type My Own Node Module Using a .d.ts File", "body": "<p>I am bundling my node module using webpack and awesome-typescript-loader. I am importing the bundled module into another package. Within the other package I get the error:</p>\n\n<p><code>Could not find a declaration file for module 'mymodule'</code></p>\n\n<p>My default export for the package is an initialized class:</p>\n\n<pre><code>import MyClass from './myClass';\nconst c = new MyClass();\nexport default c;\n</code></pre>\n\n<p>and from my package I import:</p>\n\n<pre><code>import c from 'mymodule';\n</code></pre>\n\n<p>MyClass is typed within its file, but how can I export a .d.ts file from the module, so my other package knows about the MyClass types?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1557894100, "post_id": 56141719, "comment_id": 98913397, "body": "Since <code>T</code> is a simple primitive <code>typeof value === &#39;number&#39;</code> should work just fine, don&#39;t think there is a need for io-ts"}, {"owner": {"reputation": 627, "user_id": 11474419, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IoglluQfvrw/AAAAAAAAAAI/AAAAAAAAAAc/bXpdUcud1yc/photo.jpg?sz=128", "display_name": "Ashwanth Kumar", "link": "https://stackoverflow.com/users/11474419/ashwanth-kumar"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1557920976, "post_id": 56141719, "comment_id": 98926563, "body": "&quot; I know I can check the value type but I am looking for the generic type solution.&quot; From the question, the asker says they know that already are looking for something else to deal with types. Hence the suggestion on io-ts."}], "tags": [], "owner": {"reputation": 627, "user_id": 11474419, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IoglluQfvrw/AAAAAAAAAAI/AAAAAAAAAAc/bXpdUcud1yc/photo.jpg?sz=128", "display_name": "Ashwanth Kumar", "link": "https://stackoverflow.com/users/11474419/ashwanth-kumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1557893984, "creation_date": 1557893984, "answer_id": 56141719, "question_id": 56141550, "link": "https://stackoverflow.com/questions/56141550/how-to-check-a-generic-types-realtime-type-in-typescript/56141719#56141719", "title": "How to check a generic type&#39;s realtime type in typescript?", "body": "<p><a href=\"https://github.com/Microsoft/TypeScript/wiki/TypeScript-Design-Goals\" rel=\"nofollow noreferrer\">Typescript Design Goals</a> list the following as one of it's non-goals</p>\n\n<blockquote>\n  <p>Add or rely on run-time type information in programs, or emit different code based on the results of the type system. Instead, encourage programming patterns that do not require run-time metadata.</p>\n</blockquote>\n\n<p>I haven't personally used it but have heard of <a href=\"https://github.com/gcanti/io-ts\" rel=\"nofollow noreferrer\">io-ts</a> library which might be worth checking out for the larger thing you're trying to do. </p>\n"}], "owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 56141719, "answer_count": 1, "score": 1, "last_activity_date": 1557893984, "creation_date": 1557892525, "question_id": 56141550, "link": "https://stackoverflow.com/questions/56141550/how-to-check-a-generic-types-realtime-type-in-typescript", "title": "How to check a generic type&#39;s realtime type in typescript?", "body": "<p>I have this code:</p>\n\n<pre><code>(&lt;T extends number | string&gt;({value}: Props&lt;T&gt;) =&gt; {\n\n}\n</code></pre>\n\n<p><code>T</code> is a generic type can be either <code>number</code> or <code>string</code>. Is there a way to check <code>T</code>'s type in realtime? Something like <code>typeof T === 'number'</code>? \nI know I can check the value type but I am looking for the generic type solution. </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 1, "creation_date": 1557895755, "post_id": 56141489, "comment_id": 98913788, "body": "Works for me without the number (adding <code>&lt;T&gt;</code> and <code>var x = getObjectFromFoos(foos); console.log(x)</code> at the bottom)."}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 0, "creation_date": 1557895834, "post_id": 56141489, "comment_id": 98913811, "body": "You have an extra <code>{</code> in the definition of <code>getObjectFromFoos</code>."}, {"owner": {"reputation": 366, "user_id": 5215844, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-g2ib5Eg3Wq8/AAAAAAAAAAI/AAAAAAAAAfM/2Z6MFYnR78M/photo.jpg?sz=128", "display_name": "Mazaher Bazari", "link": "https://stackoverflow.com/users/5215844/mazaher-bazari"}, "edited": false, "score": 1, "creation_date": 1557895907, "post_id": 56141489, "comment_id": 98913828, "body": "define <code>getObjectFromFoos</code> with type parameter <code>&lt;T&gt;</code> and call it without type parameter. typescript  use type argument inference. so you should not get any error. I checked it"}, {"owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "reply_to_user": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 0, "creation_date": 1557896275, "post_id": 56141489, "comment_id": 98913928, "body": "@kabanus - Ah, your right.   So the generic type can be inferred from an argument, it doesn&#39;t need to be explicity set on function call. You should post that as the answer."}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 0, "creation_date": 1557896309, "post_id": 56141489, "comment_id": 98913935, "body": "Since this was just a typo I suggest you delete the question. No harm done."}, {"owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "reply_to_user": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 0, "creation_date": 1557896656, "post_id": 56141489, "comment_id": 98914040, "body": "@kabanus - It&#39;s not a typo (if you&#39;re referring to the extra brace?) . It was a misunderstanding on my part of how generic definitions on functions work."}], "owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557896201, "creation_date": 1557892031, "last_edit_date": 1557896201, "question_id": 56141489, "link": "https://stackoverflow.com/questions/56141489/generic-return-type-based-on-generic-input", "title": "Generic return type based on generic input", "body": "<p>I want to create a function with this signature: </p>\n\n<pre><code>interface Foo&lt;T&gt; {\n    name: string; \n    value: T; \n}    \n\nconst foos: Foo&lt;number&gt;[] = [\n    { name: \"a\", value: 1 },\n    { name: \"b\", value: 2 }\n];     \n\nfunction getObjectFromFoos(arr: Foo&lt;T&gt;[]): { [key: string] : T} {\n        return arr.reduce((acc, cur) =&gt; {\n            return {\n                ...acc,\n                [cur.name]: cur.value\n            }\n        }, {});\n    }\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#src=%0D%0A%0D%0Ainterface%20Foo%3CT%3E%20%7B%0D%0A%20%20%20%20name%3A%20string%3B%20%0D%0A%20%20%20%20value%3A%20T%3B%20%0D%0A%7D%0D%0A%0D%0A%0D%0Aconst%20foos%3A%20Foo%3Cnumber%3E%5B%5D%20%3D%20%5B%0D%0A%20%20%20%20%7B%20name%3A%20%22a%22%2C%20value%3A%201%20%7D%2C%0D%0A%20%20%20%20%7B%20name%3A%20%22b%22%2C%20value%3A%202%20%7D%0D%0A%5D%3B%20%0D%0A%0D%0A%0D%0Afunction%20getObjectFromFoos(arr%3A%20Foo%3CT%3E%5B%5D)%3A%20%7B%20%5Bkey%3A%20string%5D%20%3A%20T%7D%20%7B%0D%0A%20%20%20%20%7B%0D%0A%0D%0A%20%20%20%20%20%20%20%20return%20arr.reduce((acc%2C%20cur)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...acc%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bcur.name%5D%3A%20cur.value%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20%7B%7D)%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">Playground link</a></p>\n\n<p>Currently this gives the error</p>\n\n<blockquote>\n  <p>Cannot find name 'T'</p>\n</blockquote>\n\n<p>Is it possible to do this in typescript, without explicitly declaring that type T in the function generic? </p>\n\n<p>ie. </p>\n\n<p>I know that I can make this error going away by declaring it in the function generic:  </p>\n\n<pre><code>function getObjectFromFoos&lt;T&gt;(arr: Foo&lt;T&gt;[]): { [key: string] : T} {\n    {    \n       //implmentation\n    }\n\n\ngetObjectFromFoos&lt;number&gt;(foos); \n</code></pre>\n\n<p>But I don't want to do that, as then each time I call the function, I need to explicitly define the generic type, which should be be able to be inferred. </p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "single-page-application"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11501744"}, "edited": false, "score": 0, "creation_date": 1557892977, "post_id": 56141415, "comment_id": 98913155, "body": "Hello Expert thanks for answering the question may i know which design pattern does angular follows is it mvc or mvvm?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1557893023, "post_id": 56141415, "comment_id": 98913173, "body": "Angular follow MVVM pattern but you can think component as Controller because it handle logic for your app"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11501744"}, "edited": false, "score": 0, "creation_date": 1557893734, "post_id": 56141415, "comment_id": 98913329, "body": "what is AppModule role here?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1557893783, "post_id": 56141415, "comment_id": 98913337, "body": "AppModule is the main module too bootstrap the application"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11501744"}, "edited": false, "score": 0, "creation_date": 1557894027, "post_id": 56141415, "comment_id": 98913385, "body": "what are the files in angular that plays a mvvm role?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1557894235, "post_id": 56141415, "comment_id": 98913429, "body": "You can read <a href=\"https://medium.com/ngx-rocket/the-missing-introduction-to-angular-and-modern-design-patterns-43e8815c2801\" rel=\"nofollow noreferrer\">this</a>"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 1, "last_activity_date": 1557891378, "creation_date": 1557891378, "answer_id": 56141415, "question_id": 56141283, "link": "https://stackoverflow.com/questions/56141283/where-is-the-controller-in-angular-7-as-it-follows-mvc-architecture/56141415#56141415", "title": "Where is the controller in Angular 7 as it follows mvc architecture", "body": "<p>There is no such thing controller in angular. </p>\n\n<p>It's only have component, view, model, services </p>\n\n<ol>\n<li><p>Component: Will play the role of the controller since it handle\nlogic for the template </p></li>\n<li><p>Template: Will handle the role view to display the data</p></li>\n<li><p>Model: Entity model will play the role model in your app</p></li>\n<li><p>Services: To handle logic for you making http request or doing some side effect in your code</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 129, "user_id": 8268086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de187ea3c5593fc6e3c180abac1f39b5?s=128&d=identicon&r=PG&f=1", "display_name": "BDB", "link": "https://stackoverflow.com/users/8268086/bdb"}, "is_accepted": false, "score": 0, "last_activity_date": 1557896379, "last_edit_date": 1557896379, "creation_date": 1557892659, "answer_id": 56141567, "question_id": 56141283, "link": "https://stackoverflow.com/questions/56141283/where-is-the-controller-in-angular-7-as-it-follows-mvc-architecture/56141567#56141567", "title": "Where is the controller in Angular 7 as it follows mvc architecture", "body": "<p>.ts is just the file extension which represents typescript file.\nmodel-name.model.ts is the the common way of naming model. Similarly, component-name.component.ts is for component, component-name.component.html for view and service-name.service.ts for service.\nFinally, as the earlier comment says, you can't directly relate MVC with angular architecture. </p>\n"}, {"tags": [], "owner": {"reputation": 552, "user_id": 7950703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2edafeaa53069b043d1be88c1d629866?s=128&d=identicon&r=PG&f=1", "display_name": "Divneet", "link": "https://stackoverflow.com/users/7950703/divneet"}, "is_accepted": true, "score": 2, "last_activity_date": 1557895639, "creation_date": 1557895639, "answer_id": 56141927, "question_id": 56141283, "link": "https://stackoverflow.com/questions/56141283/where-is-the-controller-in-angular-7-as-it-follows-mvc-architecture/56141927#56141927", "title": "Where is the controller in Angular 7 as it follows mvc architecture", "body": "<p>While using the Angular framework, it is necessary to understand a few basic terms which will constitue the application you create.</p>\n\n<p><code>Component</code>: A component is a resuable code, which is capable of performing a set of functions or providing a view based on certain inputs. These inputs are optional. The component may additionally <code>emit</code> events in order to inform its parent component of the changes which might have taken place due to a particular action such as a <code>click</code>.</p>\n\n<p>I am not too Keen on using MVC notation but if we were to strictly choose,</p>\n\n<p><strong>the template would represent the View, class is the Controller &amp; the Service (when it used to retrieve data) is the model.</strong></p>\n\n<p>Because Angular is a client side framework, the MVC pattern Angular follows may be called as MVVC (Model, View, View Controller).</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11501744"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1090, "favorite_count": 1, "accepted_answer_id": 56141927, "answer_count": 3, "score": 3, "last_activity_date": 1576221692, "creation_date": 1557890107, "last_edit_date": 1576221692, "question_id": 56141283, "link": "https://stackoverflow.com/questions/56141283/where-is-the-controller-in-angular-7-as-it-follows-mvc-architecture", "title": "Where is the controller in Angular 7 as it follows mvc architecture", "body": "<p>According to my knowledge angular follows mvc architecture as i can see in the components there is .ts file(model) and .html file(view) but where is the controller?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 979, "user_id": 7165303, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QzN9GsYrT-8/AAAAAAAAAAI/AAAAAAAAAIQ/dt-bAbLoh7E/photo.jpg?sz=128", "display_name": "Donovan Hiland", "link": "https://stackoverflow.com/users/7165303/donovan-hiland"}, "edited": false, "score": 0, "creation_date": 1557889965, "post_id": 56141044, "comment_id": 98912664, "body": "What does your typescript output look like in the <code>Output</code> tab of the built in terminal?"}, {"owner": {"reputation": 371, "user_id": 5589037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8e0afcaf170b7c13a53093cf2f5f84c?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/5589037/john-walker"}, "reply_to_user": {"reputation": 979, "user_id": 7165303, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QzN9GsYrT-8/AAAAAAAAAAI/AAAAAAAAAIQ/dt-bAbLoh7E/photo.jpg?sz=128", "display_name": "Donovan Hiland", "link": "https://stackoverflow.com/users/7165303/donovan-hiland"}, "edited": false, "score": 0, "creation_date": 1557893686, "post_id": 56141044, "comment_id": 98913323, "body": "@DonovanHiland empty when starting project and viewing <code>HelloWorld.ts</code>.  When running build task:    ``` &gt; Executing task: tsc -w -p . &lt;   [2:13:24 PM] Starting compilation in watch mode...  [2:13:26 PM] Found 0 errors. Watching for file changes. ```"}, {"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1557946155, "post_id": 56141044, "comment_id": 98940845, "body": "Did you disable the builtin <code>TypeScript and JavaScript Language Features</code> extension? Search <code>@builtin typescript</code> the extension view for this. Also, what other extensions do you have installed?"}, {"owner": {"reputation": 371, "user_id": 5589037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8e0afcaf170b7c13a53093cf2f5f84c?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/5589037/john-walker"}, "reply_to_user": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1557954504, "post_id": 56141044, "comment_id": 98944262, "body": "@MattBierner <code>TypeScript Language Basics</code> is enabled will edit question to add extension"}, {"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1557958175, "post_id": 56141044, "comment_id": 98945383, "body": "Is <code>TypeScript and JavaScript Language Features</code> enabled too?"}, {"owner": {"reputation": 371, "user_id": 5589037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8e0afcaf170b7c13a53093cf2f5f84c?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/5589037/john-walker"}, "reply_to_user": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1558005631, "post_id": 56141044, "comment_id": 98961275, "body": "@MattBierner you are right for some reason <code>TypeScript and JavaScript Language Features</code> was disabled (I missed it the first time because I only filtered on <code>@builtin</code>). Enabling this fixed the problem. If you want to copy your comment to an answer I&#39;ll accept it otherwise will answer myself in a couple of days. Looks like this was disabled due to the flow extension. Enabling <code>TypeScript and JavaScript Language Features</code>  breaks the the flow extension."}], "answers": [{"tags": [], "owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "is_accepted": true, "score": 5, "last_activity_date": 1558027780, "creation_date": 1558027780, "answer_id": 56173789, "question_id": 56141044, "link": "https://stackoverflow.com/questions/56141044/what-configuration-is-required-to-get-vscode-working-with-typescript/56173789#56173789", "title": "What configuration is required to get VSCode working with TypeScript?", "body": "<p>Check that the builtin <code>TypeScript and JavaScript Language Features</code> extension is enabled. To do this, search <code>@builtin typescript</code> the extensions view.</p>\n\n<p><a href=\"https://i.stack.imgur.com/W1QpI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/W1QpI.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 371, "user_id": 5589037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8e0afcaf170b7c13a53093cf2f5f84c?s=128&d=identicon&r=PG&f=1", "display_name": "John Walker", "link": "https://stackoverflow.com/users/5589037/john-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 56173789, "answer_count": 1, "score": 1, "last_activity_date": 1558027780, "creation_date": 1557887803, "last_edit_date": 1557954811, "question_id": 56141044, "link": "https://stackoverflow.com/questions/56141044/what-configuration-is-required-to-get-vscode-working-with-typescript", "title": "What configuration is required to get VSCode working with TypeScript?", "body": "<p>I am trying to get VSCode up and running with TypeScript and am having little success.</p>\n\n<p>I am looking at the following:</p>\n\n<p><a href=\"https://code.visualstudio.com/docs/languages/typescript\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/languages/typescript</a></p>\n\n<p>It looks like once you have installed the compiler VSCode should just work but given the following:</p>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  { \n  \"compilerOptions\": {\n    \"target\": \"es5\",                          \n    \"module\": \"commonjs\",                     \n    \"esModuleInterop\": true                  \n  }\n}\n</code></pre>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  \"name\": \"blahh\",\n  \"version\": \"1.0.0\",\n  \"description\": \"tryme\",\n  \"main\": \"index.js\",\n  \"author\": \"ghost\",\n  \"license\": \"MIT\",\n  \"devDependencies\": {\n    \"typescript\": \"^3.4.5\"\n  }\n}\n</code></pre>\n\n<p><strong>tasks.json</strong></p>\n\n<pre><code>{\n  \"version\": \"2.0.0\",\n  \"tasks\": [\n    {\n      \"label\": \"tsc-watch\",\n      \"command\": \"tsc\",\n      \"args\": [\"-w\", \"-p\", \".\"],\n      \"type\":\"shell\",\n      \"isBackground\": true,\n      \"group\":\"build\",\n      \"problemMatcher\": \"$tslint5\",\n      \"presentation\":{\n        \"reveal\": \"always\",\n      }\n    }\n  ]\n}\n</code></pre>\n\n<p><strong>Project</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/AdQ6R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AdQ6R.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>HelloWorld.ts</strong></p>\n\n<pre><code>function sayHello(name: string): void {\n    console.log(`Hello ${name}!`);\n}\n\nsayHello(1);\n</code></pre>\n\n<p>Running the build task or tsc from the terminal correctly indicates an error until I change the <code>1</code> to a string then generates HelloWorld.js. The editor, however, is not working in that there is no intelliSense, code completion or error highlighting.</p>\n\n<p>I have tried the following but this also has not worked:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40268442/vscode-typescript-intellisense-not-working\">VSCode TypeScript Intellisense not working</a></p>\n\n<p>Other observations:</p>\n\n<ol>\n<li>No TypeScript version number shown in the border of the editor (as I see on the example screenshots I see)</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/ypPTR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ypPTR.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>When adding the build task following: <a href=\"https://code.visualstudio.com/docs/editor/tasks#vscode\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/editor/tasks#vscode</a> there were no tsc:* templates shown.</li>\n</ol>\n\n<p><strong>VSCode Info</strong></p>\n\n<pre><code>Version: 1.33.1 (user setup)\nCommit: 51b0b28134d51361cf996d2f0a1c698247aeabd8\nDate: 2019-04-11T08:27:14.102Z\nElectron: 3.1.6\nChrome: 66.0.3359.181\nNode.js: 10.2.0\nV8: 6.6.346.32\nOS: Windows_NT x64 10.0.17134\n</code></pre>\n\n<p><strong>Installed Extensions</strong></p>\n\n<p><em>Built In</em></p>\n\n<pre><code>TypeScript Language Basics: Enabled\n... many others \n</code></pre>\n\n<p><em>External</em></p>\n\n<pre><code>code --install-extension alanz.vscode-hie-server\ncode --install-extension alefragnani.Bookmarks\ncode --install-extension andyyaldoo.vscode-json\ncode --install-extension christian-kohler.path-intellisense\ncode --install-extension daiyy.quick-html-previewer\ncode --install-extension eamodio.gitlens\ncode --install-extension Edka.haskutil\ncode --install-extension esbenp.prettier-vscode\ncode --install-extension fabiospampinato.vscode-todo-plus\ncode --install-extension flowtype.flow-for-vscode\ncode --install-extension gcazaciuc.vscode-flow-ide\ncode --install-extension hoovercj.haskell-linter\ncode --install-extension jcanero.hoogle-vscode\ncode --install-extension justusadam.language-haskell\ncode --install-extension karigari.chat\ncode --install-extension mrmlnc.vscode-duplicate\ncode --install-extension ms-vscode.vscode-typescript-tslint-plugin\ncode --install-extension ms-vsliveshare.vsliveshare\ncode --install-extension ms-vsliveshare.vsliveshare-audio\ncode --install-extension ms-vsliveshare.vsliveshare-pack\ncode --install-extension phoityne.phoityne-vscode\ncode --install-extension SirTobi.code-clip-ring\ncode --install-extension WakaTime.vscode-wakatime\n</code></pre>\n\n<p>So what I am I missing / should I check for in my setup to enable the interactive VSCode features for TypeScript?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "edited": false, "score": 0, "creation_date": 1557892286, "post_id": 56141104, "comment_id": 98913038, "body": "Thanks for that. I have tried your option1. There is no compilation error but the problem is the parameter type comes to <code>onChange(e.target.value as T)</code> doesn&#39;t respect the generic type which is <code>number</code>. Instead it becomes <code>string</code>."}, {"owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "edited": false, "score": 0, "creation_date": 1557961587, "post_id": 56141104, "comment_id": 98946127, "body": "In the first option, why is the last part <code>=&gt; any</code>? Can I get rid of <code>any</code> and use some real type?"}], "tags": [], "owner": {"reputation": 979, "user_id": 7165303, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QzN9GsYrT-8/AAAAAAAAAAI/AAAAAAAAAIQ/dt-bAbLoh7E/photo.jpg?sz=128", "display_name": "Donovan Hiland", "link": "https://stackoverflow.com/users/7165303/donovan-hiland"}, "is_accepted": false, "score": 0, "last_activity_date": 1557888499, "creation_date": 1557888499, "answer_id": 56141104, "question_id": 56140666, "link": "https://stackoverflow.com/questions/56140666/how-to-define-a-generic-type-when-exporting-a-component-with-generic-type/56141104#56141104", "title": "How to define a generic type when exporting a component with generic type", "body": "<p>There are 2 options that I can think of that you can do to achieve this:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/a/55539324/7165303\">Cast the export</a>:</li>\n</ol>\n\n<pre><code>export const OutlinedInputField = withStyles(styles)(\n  ({ classes, style, value, onChange, label }: Props&lt;string | number&gt;) =&gt; {\n    const type = typeof value === \"number\" ? \"number\" : \"text\";\n    return (\n      &lt;Grid className={classes.root} style={style}&gt;\n        &lt;TextField\n          value={value}\n          type={type}\n          variant=\"outlined\"\n          label={label}\n          onChange={e =&gt; onChange(e.target.value as T)}\n        /&gt;\n      &lt;/Grid&gt;\n    );\n  }\n) as &lt;T extends number | string&gt;(props: Props&lt;T&gt;) =&gt; any\n</code></pre>\n\n<p>Usage</p>\n\n<pre><code>&lt;OutlinedInputField&lt;number&gt; value={value} label=\"Item weight (kg)\" onChange={(n: number) =&gt; setValue(n)}/&gt;\n</code></pre>\n\n<ol start=\"2\">\n<li>factory</li>\n</ol>\n\n<pre><code>export const createOutlinedInputField = &lt;T extends number | string&gt;() =&gt; {\n  const OutlinedInputField: React.FC&lt;Props&lt;T&gt;&gt; = ({ classes, style, value, onChange, label }) =&gt; {\n    const type = typeof value === \"number\" ? \"number\" : \"text\";\n    return (\n      &lt;Grid className={classes.root} style={style}&gt;\n        &lt;TextField\n          value={value}\n          type={type}\n          variant=\"outlined\"\n          label={label}\n          onChange={e =&gt; onChange(e.target.value as T)}\n        /&gt;\n      &lt;/Grid&gt;\n    );\n  };\n\n  return withStyles()(OutlinedInputField);\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>const OutlinedInputField = createOutlinedInputField&lt;number&gt;();\n\n&lt;OutlinedInputField value={value} label=\"Item weight (kg)\" onChange={(n: number) =&gt; setValue(n)}/&gt;\n\n</code></pre>\n"}], "owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557888499, "creation_date": 1557883928, "last_edit_date": 1557887050, "question_id": 56140666, "link": "https://stackoverflow.com/questions/56140666/how-to-define-a-generic-type-when-exporting-a-component-with-generic-type", "title": "How to define a generic type when exporting a component with generic type", "body": "<p>I am using <code>typescript</code> for react component implementation. I am facing a problem on defining a generic type. Below is the code:</p>\n\n<pre><code>interface Props&lt;T&gt; {\n  classes: { [className in keyof typeof styles]: string };\n  style?: React.CSSProperties;\n  value?: T;\n  label: string;\n  onChange: (e: T) =&gt; void;\n}\n\nexport const OutlinedInputField = withStyles(styles)(\n  &lt;T extends string | number&gt;({ classes, style, value, onChange, label }: Props&lt;T&gt;) =&gt; {\n    const type = typeof value  === 'number' ? 'number' : 'text';\n    return (\n      &lt;Grid className={classes.root} style={style}&gt;\n        &lt;TextField\n          value={value}\n          type={type}\n          variant=\"outlined\"\n          label={label}\n          onChange={(e) =&gt; onChange(e.target.value as T)}\n        /&gt;\n      &lt;/Grid&gt;\n    );\n  }\n);\n</code></pre>\n\n<p>The above component requires a generic type on its value property. And it uses this type to decide whether it is number or text <code>Textfield</code>. What I don't understand is how I can use this component?</p>\n\n<p>If I use this component in below ways (the value property has type number), the parameter on <code>onChange</code> is either <code>number</code> or <code>string</code>. It doesn't restrict the type to number. How can I enforce to use type <code>number</code> on <code>OutlinedInputField</code> component?</p>\n\n<pre><code>&lt;OutlinedInputField value={value} label=\"Item weight (kg)\" onChange={(n: number) =&gt; setValue(n)}/&gt;\n</code></pre>\n\n<p>I tried below code but got an error <code>Expected 0 type arguments, but got 1.</code>. </p>\n\n<pre><code>&lt;OutlinedInputField&lt;number&gt; value={value} label=\"Item weight (kg)\" onChange={(n: number) =&gt; setValue(n)}/&gt;\n</code></pre>\n"}]