[{"tags": ["arrays", "angular", "typescript", "observable", "primeng"], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 7202529, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--X5bryL-i_0/AAAAAAAAAAI/AAAAAAAAB7M/48Gpy-nlTQA/photo.jpg?sz=128", "display_name": "Derek Campanile", "link": "https://stackoverflow.com/users/7202529/derek-campanile"}, "is_accepted": false, "score": 1, "last_activity_date": 1509040797, "creation_date": 1509040797, "answer_id": 46960911, "question_id": 46943405, "link": "https://stackoverflow.com/questions/46943405/how-do-i-get-data-from-json-to-use-in-primeng-line-chart/46960911#46960911", "title": "How do I get data from JSON to use in PrimeNG line Chart?", "body": "<p>Finally figured this one out. Sharing the answer in case anyone runs into this one. </p>\n\n<p>The correct way to get the data from my observable into the <code>this.data</code> is </p>\n\n<pre><code>        this.reportService.getSR('Day', lastMonth, today)\n    .subscribe(data =&gt; {\n        this.data.datasets[0].data = data.map(a =&gt;  a.sr_count);\n        this.data.labels = data.map(a =&gt;  a.day_name);\n        this.chart.refresh();\n\n    });\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 7202529, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--X5bryL-i_0/AAAAAAAAAAI/AAAAAAAAB7M/48Gpy-nlTQA/photo.jpg?sz=128", "display_name": "Derek Campanile", "link": "https://stackoverflow.com/users/7202529/derek-campanile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1494, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509040797, "creation_date": 1508973094, "last_edit_date": 1508975712, "question_id": 46943405, "link": "https://stackoverflow.com/questions/46943405/how-do-i-get-data-from-json-to-use-in-primeng-line-chart", "title": "How do I get data from JSON to use in PrimeNG line Chart?", "body": "<p>I'm trying to load data from my API into a PrimeNG chart and haven't had any luck. Currently what I've been trying to do is subscribing to my services that gets the data from my API. </p>\n\n<p>What I thought I could do is subscribe to that data from my component, reformat it and push it to a local variable array. </p>\n\n<p>The problem I'm running into is that the data seems to be nesting itself once I call the array from outside the observable.</p>\n\n<p>The Data coming from my API formatted like this: </p>\n\n<pre><code>{\n    \"data\": [\n        {\n            \"sr_count\": 117,\n            \"month_name\": \"October\",\n            \"month_num\": 10,\n            \"year\": 2017\n        },\n        {\n            \"sr_count\": 34,\n            \"month_name\": \"September\",\n            \"month_num\": 9,\n            \"year\": 2017\n        }\n    ]\n}\n</code></pre>\n\n<p>My service to gets the data </p>\n\n<pre><code>export class ReportService {\n  private reportUrl: string = environment.reportUrl;\n\n  constructor(private http: Http) {}\n\n  /**\n   * Get all SRs\n   */\n  getSR(groupBy: string, beginDate:string, endDate:string): Observable&lt;Report[]&gt; {\n\n    return this.http.get(`${this.reportUrl}/SR?group_by=\"${groupBy}\"&amp;begin_date=\"${beginDate}\"&amp;end_date=\"${endDate}\"`)\n      .map(res =&gt; res.json().data)\n      .catch(this.handleError);\n  }\n</code></pre>\n\n<p>My component </p>\n\n<pre><code>ngOnInit(){\n.\n.\n.\n\n\n        let newData = [];\n        let dataSet1= [];\n        let labels = [];\n        this.reportService.getSR('Month', lastMonth, today)\n        .subscribe(data =&gt; {\n            dataSet1.push(data.map(a =&gt; a.sr_count))\n\n            let monthName = data.map(item =&gt; {\n                return item.month_name\n            })\n            labels.push.apply(labels, monthName)\n            console.log(labels) //[\"October\", \"September\"]\n        });\n\n\n        console.log(labels) // I think its [[\"October\", \"September\"]]\n        console.log(newData) // [[109,34]]\n\n        this.data = {\n            labels: labels, //undefined\n            datasets: [\n                {\n                    label: 'First Dataset',\n                    data: dataSet1, //undefined\n                    fill: false,\n                    borderColor: '#4bc0c0'\n                }\n\n            ]\n        }\n    }\n}\n</code></pre>\n\n<p>This could also be a misunderstanding on my part. i'm assuming the array is being nested outside of the variable becuase this is what it looks like in chrome's console\n<a href=\"https://i.stack.imgur.com/l4w6I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l4w6I.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any help getting me on the right path would be so appreciated! I've tried, concatenating, push.apply, and even lodash to try and flatten the array. all three of those give me the results of <code>[]</code>. </p>\n\n<p>I've also tried placing <code>this.data</code> inside of my observable. When that happens, I can't access data from the primeNG code <code>&lt;p-chart type=\"line\" [data]=\"data\"&gt;&lt;/p-chart&gt;</code> I would also think doing it that way would get hairy if trying to use multiple API calls to load datasets. </p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable", "angular-router"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1508972260, "post_id": 46943255, "comment_id": 80833997, "body": "You&#39;ve configured ProductDetailsService as your resolver in the route definition instead of configuring ProductDetailsResolve."}, {"owner": {"reputation": 238, "user_id": 6292197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mClE1.jpg?s=128&g=1", "display_name": "binskits", "link": "https://stackoverflow.com/users/6292197/binskits"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1508972513, "post_id": 46943255, "comment_id": 80834079, "body": "So I did. Good catch! I made the change, but I&#39;m now getting ERROR Error: Uncaught (in promise): Error: No provider for ProductDetailsResolve! Will update the question"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1508972574, "post_id": 46943255, "comment_id": 80834090, "body": "Just read the error message. It tells you that you have no provider for the ProductDetailsResolve service. Have you added this service to the providers array of your NgModule?"}, {"owner": {"reputation": 238, "user_id": 6292197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mClE1.jpg?s=128&g=1", "display_name": "binskits", "link": "https://stackoverflow.com/users/6292197/binskits"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1508972791, "post_id": 46943255, "comment_id": 80834158, "body": "Made that change, too. I&#39;m new to Angular, so I&#39;m still having trouble remembering to update everything/where I have to update."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 1682919, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7XpfVPKU4vs/AAAAAAAAAAI/AAAAAAAA2hU/_NgA5rFDJDY/photo.jpg?sz=128", "display_name": "nardocesar", "link": "https://stackoverflow.com/users/1682919/nardocesar"}, "is_accepted": false, "score": 0, "last_activity_date": 1544633936, "creation_date": 1544633936, "answer_id": 53747882, "question_id": 46943255, "link": "https://stackoverflow.com/questions/46943255/angular-resolve-error-error-uncaught-in-promise-typeerror-resolver-is-not-a/53747882#53747882", "title": "Angular Resolve ERROR Error: Uncaught (in promise): TypeError: resolver is not a function", "body": "<p>You need to declare your <code>ProductDetailsResolve</code> as a provider of your <code>AppRoutingModule</code>, like this:</p>\n\n<pre><code>@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n  providers: [ProductDetailsResolve]\n})\n</code></pre>\n\n<p>Remember to import <code>ProductDetailsResolve</code> on your <code>AppRoutingModule</code></p>\n"}, {"comments": [{"owner": {"reputation": 8910, "user_id": 4977957, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55ddc749972794b1664cbb5179f397b7?s=128&d=identicon&r=PG&f=1", "display_name": "VSO", "link": "https://stackoverflow.com/users/4977957/vso"}, "edited": false, "score": 0, "creation_date": 1569606087, "post_id": 56563769, "comment_id": 102664895, "body": "This was my problem."}], "tags": [], "owner": {"reputation": 29443, "user_id": 1087131, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c31ac7189e69fc6ccef80303cc8edfa0?s=128&d=identicon&r=PG", "display_name": "Stephen Paul", "link": "https://stackoverflow.com/users/1087131/stephen-paul"}, "is_accepted": false, "score": 3, "last_activity_date": 1569606160, "last_edit_date": 1569606160, "creation_date": 1560347211, "answer_id": 56563769, "question_id": 46943255, "link": "https://stackoverflow.com/questions/46943255/angular-resolve-error-error-uncaught-in-promise-typeerror-resolver-is-not-a/56563769#56563769", "title": "Angular Resolve ERROR Error: Uncaught (in promise): TypeError: resolver is not a function", "body": "<p>I got this error when I accidentally passed a <code>Guard</code> as a resolver in my route config:</p>\n\n<pre><code>resolve: { data: MyGuardService }\n</code></pre>\n\n<p>So check that you haven't accidentally passed the wrong class. For example, if you want a <code>canActivate</code> guard, the code would look like this instead:</p>\n\n<pre><code>canActivate: [ MyGuardService ]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1416, "user_id": 3443552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3761a957bafde55f553663c9fa9ebc7?s=128&d=identicon&r=PG", "display_name": "KMJungersen", "link": "https://stackoverflow.com/users/3443552/kmjungersen"}, "is_accepted": false, "score": 2, "last_activity_date": 1578008098, "creation_date": 1578008098, "answer_id": 59571368, "question_id": 46943255, "link": "https://stackoverflow.com/questions/46943255/angular-resolve-error-error-uncaught-in-promise-typeerror-resolver-is-not-a/59571368#59571368", "title": "Angular Resolve ERROR Error: Uncaught (in promise): TypeError: resolver is not a function", "body": "<p>I received this error in Angular 8 because I forgot to implement the <code>Resolve&lt;T&gt;</code> \n interface in my resolver class.  I.e. I had to change:</p>\n\n<pre><code>@Injectable({\n    providedIn: 'root'\n}\nexport class FooResolverService {\n    // ...\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@Injectable({\n    providedIn: 'root'\n}\nexport class FooResolverService implements Resolve&lt;Foo&gt; {\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 238, "user_id": 6292197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mClE1.jpg?s=128&g=1", "display_name": "binskits", "link": "https://stackoverflow.com/users/6292197/binskits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8190, "favorite_count": 2, "answer_count": 3, "score": 6, "last_activity_date": 1578008098, "creation_date": 1508972085, "question_id": 46943255, "link": "https://stackoverflow.com/questions/46943255/angular-resolve-error-error-uncaught-in-promise-typeerror-resolver-is-not-a", "title": "Angular Resolve ERROR Error: Uncaught (in promise): TypeError: resolver is not a function", "body": "<p>I have a resolve that fetches data from an api and a service that depends on that resolve. The service depending on the resolve will be providing sections of data to multiple components and is only expected to be run once when the page loads. Here is the relevant code (imports &amp; some annotations omitted):</p>\n\n<p><em>product-details.service.ts</em></p>\n\n<pre><code>@Injectable()\nexport class ProductDetailsService {\n    private productDetails: ProductDetails;\n\n    constructor(route: ActivatedRoute) {\n        this.productDetails = route.snapshot.data['product'];\n    }\n\n    public getProductDetails(): ProductDetails {\n        return this.productDetails;\n    }\n}\n</code></pre>\n\n<p><em>product-details.resolve.ts</em></p>\n\n<pre><code>@Injectable()\nexport class ProductDetailsResolve implements Resolve&lt;ProductDetails&gt; {\n\n    constructor(private httpService: HttpService) { }\n\n    resolve(route: ActivatedRouteSnapshot): Observable&lt;ProductDetails&gt; {\n        return this.httpService.getProductDetails(route.params['id']);\n    }\n\n}\n</code></pre>\n\n<p><em>app-routing.module.ts</em></p>\n\n<pre><code>const routes: Routes = [\n    { path: 'main/:id', component: MainComponent, resolve: { product: ProductDetailsService } },\n];\n\n@NgModule({\nimports: [RouterModule.forRoot(routes)],\nexports: [RouterModule]\n})\nexport class AppRoutingModule { }\n</code></pre>\n\n<p><em>some.component.ts</em></p>\n\n<pre><code>export class SomeComponent {\n    public value: number = 0;\n\n    constructor(private productDetailsService: ProductDetailsService) {\n        this.value = productDetailsService.getProductDetails().value;\n    }\n\n}\n</code></pre>\n\n<p>When I run the app, I get this error:</p>\n\n<pre><code>core.es5.js:1020 ERROR Error: Uncaught (in promise): TypeError: resolver is not a function\nTypeError: resolver is not a function\n    at PreActivation.webpackJsonp.../../../router/@angular/router.es5.js.PreActivation.getResolver (router.es5.js:4559)\n    at PreActivation.webpackJsonp.../../../router/@angular/router.es5.js.PreActivation.resolveNode (router.es5.js:4537)\n    at PreActivation.webpackJsonp.../../../router/@angular/router.es5.js.PreActivation.runResolve (router.es5.js:4518)\n    at MergeMapSubscriber.project (router.es5.js:4285)\n    at MergeMapSubscriber.webpackJsonp.../../../../rxjs/operator/mergeMap.js.MergeMapSubscriber._tryNext (mergeMap.js:120)\n    at MergeMapSubscriber.webpackJsonp.../../../../rxjs/operator/mergeMap.js.MergeMapSubscriber._next (mergeMap.js:110)\n    at MergeMapSubscriber.webpackJsonp.../../../../rxjs/Subscriber.js.Subscriber.next (Subscriber.js:89)\n    at ArrayObservable.webpackJsonp.../../../../rxjs/observable/ArrayObservable.js.ArrayObservable._subscribe (ArrayObservable.js:114)\n    at ArrayObservable.webpackJsonp.../../../../rxjs/Observable.js.Observable._trySubscribe (Observable.js:171)\n    at ArrayObservable.webpackJsonp.../../../../rxjs/Observable.js.Observable.subscribe (Observable.js:159)\n    at PreActivation.webpackJsonp.../../../router/@angular/router.es5.js.PreActivation.getResolver (router.es5.js:4559)\n    at PreActivation.webpackJsonp.../../../router/@angular/router.es5.js.PreActivation.resolveNode (router.es5.js:4537)\n    at PreActivation.webpackJsonp.../../../router/@angular/router.es5.js.PreActivation.runResolve (router.es5.js:4518)\n    at MergeMapSubscriber.project (router.es5.js:4285)\n    at MergeMapSubscriber.webpackJsonp.../../../../rxjs/operator/mergeMap.js.MergeMapSubscriber._tryNext (mergeMap.js:120)\n    at MergeMapSubscriber.webpackJsonp.../../../../rxjs/operator/mergeMap.js.MergeMapSubscriber._next (mergeMap.js:110)\n    at MergeMapSubscriber.webpackJsonp.../../../../rxjs/Subscriber.js.Subscriber.next (Subscriber.js:89)\n    at ArrayObservable.webpackJsonp.../../../../rxjs/observable/ArrayObservable.js.ArrayObservable._subscribe (ArrayObservable.js:114)\n    at ArrayObservable.webpackJsonp.../../../../rxjs/Observable.js.Observable._trySubscribe (Observable.js:171)\n    at ArrayObservable.webpackJsonp.../../../../rxjs/Observable.js.Observable.subscribe (Observable.js:159)\n    at resolvePromise (zone.js:795)\n    at resolvePromise (zone.js:766)\n    at zone.js:844\n    at ZoneDelegate.webpackJsonp.../../../../zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:425)\n    at Object.onInvokeTask (core.es5.js:3881)\n    at ZoneDelegate.webpackJsonp.../../../../zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:424)\n    at Zone.webpackJsonp.../../../../zone.js/dist/zone.js.Zone.runTask (zone.js:192)\n    at drainMicroTaskQueue (zone.js:602)\n    at &lt;anonymous&gt;\n</code></pre>\n\n<p>Research into this error has not given me any clues, and I can't think of any reason why the resolve is not being acknowledged as a function. Is there something that I am missing here?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-animations"], "answers": [{"comments": [{"owner": {"reputation": 1559, "user_id": 4409188, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-kHW3KHyHvKY/AAAAAAAAAAI/AAAAAAAAAQQ/ccNXfiZ6Rjs/photo.jpg?sz=128", "display_name": "Rich McCluskey", "link": "https://stackoverflow.com/users/4409188/rich-mccluskey"}, "edited": false, "score": 0, "creation_date": 1509035341, "post_id": 46947070, "comment_id": 80866150, "body": "Thanks for responding! This definitely works but it feels as if the builder is missing functionality if this is what is required. I might open an issue on github"}, {"owner": {"reputation": 1203, "user_id": 4450072, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5lU0j.png?s=128&g=1", "display_name": "Anton Temchenko", "link": "https://stackoverflow.com/users/4450072/anton-temchenko"}, "reply_to_user": {"reputation": 1559, "user_id": 4409188, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-kHW3KHyHvKY/AAAAAAAAAAI/AAAAAAAAAQQ/ccNXfiZ6Rjs/photo.jpg?sz=128", "display_name": "Rich McCluskey", "link": "https://stackoverflow.com/users/4409188/rich-mccluskey"}, "edited": false, "score": 0, "creation_date": 1571821405, "post_id": 46947070, "comment_id": 103364195, "body": "@RichMcCluskey have you opened an issue on github ? couldn&#39;t find it. I think problem still exists in Angular 8, AnimationBuilder corrupts responsiveness of element."}, {"owner": {"reputation": 1559, "user_id": 4409188, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-kHW3KHyHvKY/AAAAAAAAAAI/AAAAAAAAAQQ/ccNXfiZ6Rjs/photo.jpg?sz=128", "display_name": "Rich McCluskey", "link": "https://stackoverflow.com/users/4409188/rich-mccluskey"}, "reply_to_user": {"reputation": 1203, "user_id": 4450072, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5lU0j.png?s=128&g=1", "display_name": "Anton Temchenko", "link": "https://stackoverflow.com/users/4450072/anton-temchenko"}, "edited": false, "score": 0, "creation_date": 1571940752, "post_id": 46947070, "comment_id": 103414905, "body": "@AntonTemchenko No I never got a chance to open the issue. I&#39;m working at a new company that doesn&#39;t use Angular so I&#39;m a little out of the loop now and I probably won&#39;t get to it, but feel free to open it up and reference this :)"}, {"owner": {"reputation": 1203, "user_id": 4450072, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5lU0j.png?s=128&g=1", "display_name": "Anton Temchenko", "link": "https://stackoverflow.com/users/4450072/anton-temchenko"}, "reply_to_user": {"reputation": 1559, "user_id": 4409188, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-kHW3KHyHvKY/AAAAAAAAAAI/AAAAAAAAAQQ/ccNXfiZ6Rjs/photo.jpg?sz=128", "display_name": "Rich McCluskey", "link": "https://stackoverflow.com/users/4409188/rich-mccluskey"}, "edited": false, "score": 0, "creation_date": 1571994083, "post_id": 46947070, "comment_id": 103430170, "body": "@RichMcCluskey sure :) I&#39;ve opened <a href=\"https://github.com/angular/angular/issues/33353\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/33353</a> And I am using your solution for now. Thanks"}], "tags": [], "owner": {"reputation": 96, "user_id": 2500707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a75c3a2b810650b2f3201dc43fc67d6?s=128&d=identicon&r=PG", "display_name": "Navix", "link": "https://stackoverflow.com/users/2500707/navix"}, "is_accepted": false, "score": 1, "last_activity_date": 1508999646, "last_edit_date": 1508999646, "creation_date": 1508998600, "answer_id": 46947070, "question_id": 46943225, "link": "https://stackoverflow.com/questions/46943225/using-angular-v4-animationbuilder-makes-width-unresponsive/46947070#46947070", "title": "Using Angular (v4) AnimationBuilder makes width unresponsive", "body": "<p><code>AnimationBuilder</code> uses <code>TimelineAnimationEngine</code> that does not handle element state. Full width size is fixed by the animation player that is still working.</p>\n\n<p>As you can see collapse trigger from the annotations removes animation player and adds style=\"width: 0px\".</p>\n\n<p>Here is a working solution that directly handle element state. But it looks dirty. And it does not handle change direction cases (while prev animation is still playing)</p>\n\n<pre><code>@ViewChild('withBuilder') elementRef: ElementRef;\n\nisOpen = true;\n\nprivate closeAnimation: AnimationFactory;\nprivate openAnimation: AnimationFactory;\n\nconstructor(private styler: StylerComponent,\n    private animationBuilder: AnimationBuilder,\n    private renderer: Renderer2) {\n  this.openAnimation = this.animationBuilder\n      .build([\n        style({width: 0}),\n        animate(200, style({width: '*'})),\n      ]);\n  this.closeAnimation = this.animationBuilder\n      .build([\n        style({width: '*'}),\n        animate(200, style({width: 0})),\n      ]);\n}\n\ntoggle() {\n  console.log('toggle', this.isOpen);\n  const el = this.elementRef.nativeElement;\n  let player: AnimationPlayer;\n  if (this.isOpen) {\n    player = this.closeAnimation.create(el);\n    player.onDone(() =&gt; {\n      this.renderer.setStyle(el, 'width', 0);\n    });\n  } else {\n    this.renderer.removeStyle(el, 'width');\n    player = this.openAnimation.create(el);\n  }\n  player.onDone(() =&gt; {\n    player.destroy();\n  });\n  player.play();\n  this.isOpen = !this.isOpen;\n}\n</code></pre>\n"}], "owner": {"reputation": 1559, "user_id": 4409188, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-kHW3KHyHvKY/AAAAAAAAAAI/AAAAAAAAAQQ/ccNXfiZ6Rjs/photo.jpg?sz=128", "display_name": "Rich McCluskey", "link": "https://stackoverflow.com/users/4409188/rich-mccluskey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1975, "favorite_count": 3, "answer_count": 1, "score": 1, "last_activity_date": 1508999646, "creation_date": 1508971950, "question_id": 46943225, "link": "https://stackoverflow.com/questions/46943225/using-angular-v4-animationbuilder-makes-width-unresponsive", "title": "Using Angular (v4) AnimationBuilder makes width unresponsive", "body": "<p><code>@angular/animations: v4.4.6</code></p>\n\n<p>My goal is to use <code>AnimationBuilder</code> to create a simple horizontal open and close animation. I have this mostly working except that the width of the element that is animated becomes fixed. Implementing the same animation with a trigger works as intended and the width remains responsive with different viewport sizes.</p>\n\n<p>I have a running example <a href=\"https://stackblitz.com/edit/angular-ivlzma?embed=1&amp;file=app/app.component.ts\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>As you can see, if you adjust the width of your viewport, the width of the div animated by the <code>AnimationBuilder</code> does not adjust responsively. But the width of the div that uses an animation trigger does.</p>\n\n<p>How would I use the <code>AnimationBuilder</code> so that I get the exact same result as using the trigger?</p>\n\n<p>You can see and edit the code in the above link, but I'll copy it below for reference:</p>\n\n<p>app.component.ts</p>\n\n<pre><code>import { Component, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\nimport { trigger, state, style, transition, animate, AnimationBuilder, AnimationPlayer } from '@angular/animations';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ],\n  animations: [\n    trigger('collapse', [\n      state('open', style({ width: '*' })),\n      state('close', style({ width: 0 })),\n      transition('open =&gt; close', [\n        style({ width: '*' }),\n        animate(200, style({ width: 0 }))\n      ]),\n      transition('close =&gt; open', [\n        style({ width: 0 }),\n        animate(200, style({ width: '*' }))\n      ])\n    ])\n  ]\n})\nexport class AppComponent implements AfterViewInit  {\n  isOpen = true;\n  get collapseState() {\n    return this.isOpen ? 'open' : 'close';\n  }\n  @ViewChild('withBuilder') elementRef: ElementRef;\n  private openPlayer: AnimationPlayer;\n  private closePlayer: AnimationPlayer;\n\n  constructor(private animationBuilder: AnimationBuilder) { }\n\n  ngAfterViewInit() {\n    this.openPlayer = this.animationBuilder\n      .build([\n        style({ width: 0 }),\n        animate(200, style({ width: '*' }))\n      ])\n      .create(this.elementRef.nativeElement);\n    this.closePlayer = this.animationBuilder\n      .build([\n        style({ width: '*' }),\n        animate(200, style({ width: 0 }))\n      ])\n      .create(this.elementRef.nativeElement);\n\n    if (this.isOpen) {\n      this.openPlayer.finish();\n    } else {\n      this.closePlayer.finish();\n    }\n  }\n\n  toggle() {\n    if (this.isOpen) {\n      this.closePlayer.play();\n      this.openPlayer.reset();\n    } else {\n      this.openPlayer.play();\n      this.closePlayer.reset();\n    }\n    this.isOpen = !this.isOpen;\n  }\n}\n</code></pre>\n\n<p>app.component.html</p>\n\n<pre><code>&lt;button (click)=\"toggle()\"&gt;Toggle&lt;/button&gt;\n&lt;h2&gt;Without AnimationBuilder:&lt;/h2&gt;\n&lt;div class=\"container\" [@collapse]=\"collapseState\"&gt;&lt;/div&gt;\n&lt;h2&gt;With AnimationBuilder:&lt;/h2&gt;\n&lt;div class=\"container\" #withBuilder&gt;&lt;/div&gt;\n</code></pre>\n\n<p>app.component.css</p>\n\n<pre><code>.container {\n  border: 2px solid red;\n  height: 200px;\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "algorithm", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "reply_to_user": {"reputation": 1522, "user_id": 4386014, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61fd3d23b18940e7d4be9d52f0ec1fde?s=128&d=identicon&r=PG&f=1", "display_name": "mikro098", "link": "https://stackoverflow.com/users/4386014/mikro098"}, "edited": false, "score": 1, "creation_date": 1508973285, "post_id": 46943191, "comment_id": 80834311, "body": "@codddeer123 I just added two new versions to the answer. Maybe they will be more appropriate for you."}, {"owner": {"reputation": 1522, "user_id": 4386014, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61fd3d23b18940e7d4be9d52f0ec1fde?s=128&d=identicon&r=PG&f=1", "display_name": "mikro098", "link": "https://stackoverflow.com/users/4386014/mikro098"}, "edited": false, "score": 0, "creation_date": 1509042030, "post_id": 46943191, "comment_id": 80869859, "body": "How can I check another condition? For example I would like not to add it when MAC address is the same but update the object when new value (of other field) is higher than the old one."}, {"owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "reply_to_user": {"reputation": 1522, "user_id": 4386014, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61fd3d23b18940e7d4be9d52f0ec1fde?s=128&d=identicon&r=PG&f=1", "display_name": "mikro098", "link": "https://stackoverflow.com/users/4386014/mikro098"}, "edited": false, "score": 0, "creation_date": 1509046903, "post_id": 46943191, "comment_id": 80872753, "body": "@codddeer123 <code>!s.some(j =&gt; i.mac === j.mac)</code> -- here the place for filtering condition, for example <code>!s.some(j =&gt; (i.mac === j.mac || i.newValue &gt; j.newValue))</code> will add second object with same macs but different newValue"}, {"owner": {"reputation": 1522, "user_id": 4386014, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61fd3d23b18940e7d4be9d52f0ec1fde?s=128&d=identicon&r=PG&f=1", "display_name": "mikro098", "link": "https://stackoverflow.com/users/4386014/mikro098"}, "edited": false, "score": 0, "creation_date": 1509090019, "post_id": 46943191, "comment_id": 80886908, "body": "I tried something like this yesterday but it didn&#39;t work. I will take a look again when I&#39;m back home."}, {"owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "reply_to_user": {"reputation": 1522, "user_id": 4386014, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61fd3d23b18940e7d4be9d52f0ec1fde?s=128&d=identicon&r=PG&f=1", "display_name": "mikro098", "link": "https://stackoverflow.com/users/4386014/mikro098"}, "edited": false, "score": 0, "creation_date": 1509108892, "post_id": 46943191, "comment_id": 80898485, "body": "@codddeer123 You may post a new question. If nobody replies, put here a link and I will have a look."}], "tags": [], "owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "is_accepted": true, "score": 4, "last_activity_date": 1508973810, "last_edit_date": 1508973810, "creation_date": 1508971716, "answer_id": 46943191, "question_id": 46943143, "link": "https://stackoverflow.com/questions/46943143/append-only-unique-elements-to-the-array-of-objects-in-angular2/46943191#46943191", "title": "Append only unique elements to the array of objects in Angular2", "body": "<p>I would use something like</p>\n\n<pre><code>let oldArray = [{mac: 11}, {mac: 12}, {mac: 14}];\nlet newArray = [{mac: 11}, {mac: 13}, {mac: 14}];\nlet tempSet = new Set([...oldArray, ...newArray].map(i =&gt; JSON.stringify(i)));\nlet resultArray = Array.from(tempSet).map(i =&gt; JSON.parse(i));\n\nconsole.log(resultArray); // [{mac: 11}, {mac: 12}, {mac:13}, {mac: 14}]\n</code></pre>\n\n<p>JSON parse/stringify makes this work for any type of object as an arrays item, not only for single-property object like <code>{mac: N}</code>.</p>\n\n<hr>\n\n<p>And two versions based on <code>Array.prototype.reduce</code>, without intermediate <code>Set</code>.</p>\n\n<p>Explicit (mac prop object):</p>\n\n<pre><code>let resultArray = [...oldArray, ...newArray].reduce((s, i) =&gt; \n  !s.some(j =&gt; i.mac === j.mac) ? [...s, i] : s\n, []);\n</code></pre>\n\n<p>Generic (any object):</p>\n\n<pre><code>let resultArray = [...oldArray, ...newArray].reduce((s, i) =&gt; \n  !s.some(j =&gt; JSON.stringify(i) === JSON.stringify(j)) ? [...s, i] : s\n, []);\n</code></pre>\n"}], "owner": {"reputation": 1522, "user_id": 4386014, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/61fd3d23b18940e7d4be9d52f0ec1fde?s=128&d=identicon&r=PG&f=1", "display_name": "mikro098", "link": "https://stackoverflow.com/users/4386014/mikro098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 46943191, "answer_count": 1, "score": -1, "last_activity_date": 1508973810, "creation_date": 1508971430, "last_edit_date": 1508973730, "question_id": 46943143, "link": "https://stackoverflow.com/questions/46943143/append-only-unique-elements-to-the-array-of-objects-in-angular2", "title": "Append only unique elements to the array of objects in Angular2", "body": "<p>I have got two arrays of objects - new and old one. Object must be compared by one unique field (MAC address). I want to get third array or append it to the existing old one and add only new objects.</p>\n\n<p>For example</p>\n\n<pre><code>oldArray = [{mac: 11}, {mac: 12}, {mac: 14}];\nnewArray = [{mac: 11}, {mac: 13}, {mac: 14}];\n</code></pre>\n\n<p>I want to return array like this:</p>\n\n<p><code>array = [{mac: 11}, {mac: 12}, {mac:13}, {mac: 14}]</code></p>\n\n<p>I have managed to do similar thing in Swift using contains method but could not come up with solution in typescript.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "routing"], "answers": [{"comments": [{"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1509043133, "post_id": 46959922, "comment_id": 80870514, "body": "Thanks for the feedback. Regarding your last point, I actually am doing exactly that if you look at my code. I have this within my canActivate function:  this.router.navigate([&#39;/login&#39;, {returnUrl: state.url}]);  However, while that state.url does re-load on login -- it&#39;s not the active tab. The active tab is defined the re-direct in my routing file:     path: &#39;**&#39;,      redirectTo: &#39;home&#39;   So the question is, how do I not only load components from before logout, but actually navigate to that as the active tab/component?"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1509043466, "post_id": 46959922, "comment_id": 80870704, "body": "I do think the shared service may be the best way to go here. Will try implementing that now."}, {"owner": {"reputation": 11413, "user_id": 7176268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04229512cf43b446c03e7b902ca0b890?s=128&d=identicon&r=PG&f=1", "display_name": "LLai", "link": "https://stackoverflow.com/users/7176268/llai"}, "reply_to_user": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1509046073, "post_id": 46959922, "comment_id": 80872203, "body": "@Muirik hmm I think I am confused on what you mean by the active tab/component. Can you give an example of the the routing path you are talking about in your example? (user navigates to <code>&#47;about</code>, user is not logged in so user is kicked to <code>&#47;login</code>, user logs in and is redirected to <code>&#47;home</code>? <code>&#47;about</code>?)"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1509046999, "post_id": 46959922, "comment_id": 80872808, "body": "After successful re-login the user is re-directed to Home - because of the routing file re-direct. Now, if a user had several components open before being logged out (these are represented like page tabs in our app), then, when they log BACK in, all of those tabs will load up -- because the state was captured in ActivatedRouteSnapshot. However --- and this is the key -- the active component (in the foreground) will be &quot;Home&quot; - because of the re-direct logic in the routing file. What I want instead is to make the last active component the active comp AGAIN after successfully re-logging in."}, {"owner": {"reputation": 11413, "user_id": 7176268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04229512cf43b446c03e7b902ca0b890?s=128&d=identicon&r=PG&f=1", "display_name": "LLai", "link": "https://stackoverflow.com/users/7176268/llai"}, "reply_to_user": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1509047401, "post_id": 46959922, "comment_id": 80873020, "body": "@Muirik what is the url that you are trying to navigate to after re-login? It sounds like the active tab/component state isn&#39;t stored in the url"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1509047712, "post_id": 46959922, "comment_id": 80873209, "body": "As I mentioned above, in my canActivate() function (see above) I&#39;m doing this: console.log(state.url); This logs to the console the correct url to load on re-login. So the value is available, it&#39;s just a matter of figuring out how to pass it in correctly so that it&#39;s not being overridden by the re-direct defined in the routing file."}, {"owner": {"reputation": 11413, "user_id": 7176268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04229512cf43b446c03e7b902ca0b890?s=128&d=identicon&r=PG&f=1", "display_name": "LLai", "link": "https://stackoverflow.com/users/7176268/llai"}, "reply_to_user": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1509047832, "post_id": 46959922, "comment_id": 80873276, "body": "@Muirik right. It&#39;s odd that it is hitting the <code>redirectTo</code>. That means whatever route you are navigating to does not match any of your route definitions"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1509048310, "post_id": 46959922, "comment_id": 80873531, "body": "Interesting point. Just thinking about that. Going to try removing the redirect and see what happens."}], "tags": [], "owner": {"reputation": 11413, "user_id": 7176268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04229512cf43b446c03e7b902ca0b890?s=128&d=identicon&r=PG&f=1", "display_name": "LLai", "link": "https://stackoverflow.com/users/7176268/llai"}, "is_accepted": true, "score": 1, "last_activity_date": 1509037253, "creation_date": 1509037253, "answer_id": 46959922, "question_id": 46943035, "link": "https://stackoverflow.com/questions/46943035/passing-value-from-routerstatesnapshot-to-my-root-routing-file-in-angular-2-app/46959922#46959922", "title": "Passing Value from RouterStateSnapshot to my Root Routing File in Angular 2 App", "body": "<p>I accomplish this by storing the url in a shared service from my AuthGuard</p>\n\n<pre><code>// auth-guard.ts\ncanActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n  let isLoggedIn = this.authService.isUserLoggedIn();\n\n  if(isLoggedIn){\n    return true;\n  }else{\n    this.someService.storeRedirectUrl(state.url);\n    this.router.navigateByUrl('/login');\n    return false;\n  }\n}\n</code></pre>\n\n<p>Then when the user logs in, check if that redirect url was stored and navigate to it</p>\n\n<pre><code>// login method within login page\nlogin(){\n  this.authService.login(email, password).subscribe(\n    res =&gt; {\n      // successful user login, so determine where to route user\n      if(this.someService.redirectUrl){\n        // redirect url found, navigate to that url\n        this.router.navigateByUrl(this.someService.redirectUrl);\n      }else{\n        // if no redirect url found, navigate to normal landing page\n        this.router.navigateByUrl('/home');\n      }\n  });\n}\n</code></pre>\n\n<p>Routes File</p>\n\n<pre><code>// routes\nexport const routes: Routes = [\n  {\n    path: 'login', \n    component: LoginComponent \n  },\n  { \n    path: 'home', \n    component: HomeComponent,\n    canActivate: [AuthGuard]\n  },\n  { \n    path: 'about', \n    component: AboutComponent,\n    canActivate: [AuthGuard]\n  },\n  { \n    path: '**', \n    redirectTo: 'home' \n  }\n];\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Can I simply inject RouterStateSnapshot into my app-routing file to get that desired value directly?</p>\n</blockquote>\n\n<p>app-routing is just for mapping routes to components, so there is no injecting the route snapshot into it. </p>\n\n<p>Another option you could do is to pass the redirect url as a query parameter of the login page within the auth guard. (I think this was what you were heading towards)</p>\n\n<pre><code>// auth-guard.ts\ncanActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n  let isLoggedIn = this.authService.isUserLoggedIn();\n\n  if(isLoggedIn){\n    return true;\n  }else{\n    this.router.navigate(['/login', {redirectUrl: state.url}]);\n    return false;\n  }\n}\n</code></pre>\n\n<p>Then the process is the same after a user logs in successfully, except this time you fetch the redirect url from the url parameters instead of the service.</p>\n"}], "owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1131, "favorite_count": 1, "accepted_answer_id": 46959922, "answer_count": 1, "score": 1, "last_activity_date": 1509037253, "creation_date": 1508970707, "last_edit_date": 1508971985, "question_id": 46943035, "link": "https://stackoverflow.com/questions/46943035/passing-value-from-routerstatesnapshot-to-my-root-routing-file-in-angular-2-app", "title": "Passing Value from RouterStateSnapshot to my Root Routing File in Angular 2 App", "body": "<p>I am trying to figure out how to pass the value from the RouterStateSnapshot in my auth.guard file to my routing file in my Angular 2 app. I want to do this because, rather than loading a hard-coded default component first, I want, after re-login, for the last active component/page to load up. I have this value in my canActivate() function in my AuthGuard file, because I can console out it out via RouterStateSnapshot. So now I need to figure out how to pass this value on to my root routing file so it, on login/re-login, that component gets loaded.</p>\n\n<p>This is the <code>canActivate()</code> function in my <code>AuthGuard</code> file:</p>\n\n<pre><code>canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot)\n{\n    // Get route content id\n    let contentId = Object.getPropertyValueAtPath(route, 'data.contentId');\n\n    console.log(state.url);\n\n    // If route does not have session id, don\u2019t load in tab view\n    if (!String.isNotNullOrEmpty(contentId))\n    {\n        console.error(`Route (${route.routeConfig.path}) does not have a content id.`);\n        this.router.navigateByUrl(''); // Forward to default page.\n        this.router.navigate([state.url]);\n        return false;\n    }\n\n    if (this.disabled) return true;\n\n    if (sessionStorage.getItem('currentUser'))\n    {\n        // logged in so return true\n        return true;\n    }\n\n    // not logged in so redirect to login page with the return url\n    this.router.navigate(['/login', {returnUrl: state.url}]);\n    return false;\n}\n</code></pre>\n\n<p>Notice that I am doing this within that function: <code>console.log(state.url)</code>. This gives me the correct value. Now I need to pass it to my app-routing file.</p>\n\n<p>To clarify, currently, on re-login, the last active component <em>is</em> loaded -- but it displays as a background tab, and the default 'redirect' component is what loads up as the active component (i.e, it shows as the active tab).</p>\n\n<p>A simplified version of the app-routing file looks like this:</p>\n\n<pre><code>import { HomeComponent } ...\n\nexport const routes: Routes = [\n\n{ path: 'login', component: LoginComponent },\n\n{ path: 'home', component: HomeComponent },\n\n{ path: 'about', component: AboutComponent },\n\n{ path: '**', redirectTo: 'home' }\n\n];\n</code></pre>\n\n<p>As you can see above, on initial load I currently redirect the user to the 'home component' by default. What I'd like to do is re-direct them to the value that is stored in \"state.url\" from RouterStateSnapshot. I'm not clear how to do this, however. Any ideas as to how I'd pass that value from my AuthGuard file down to my app-routing file? Can I simply inject RouterStateSnapshot into my app-routing file to get that desired value directly? Or can I use \"resolve\" here along with the path in routing? What's the recommended way to handle this kind of scenario?</p>\n"}, {"tags": ["angular", "unit-testing", "typescript"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1508968352, "post_id": 46942013, "comment_id": 80832700, "body": "The style belongs to Jasmine HTML report and not Karma. I&#39;m not sure what&#39;s would be a good way to provide additional CSS to it. I guess Ctrl+<code>+</code> should do the job, shouldn&#39;t it? Usually people don&#39;t use browser report for Karma, so it&#39;s rarely a problem."}, {"owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1509021404, "post_id": 46942013, "comment_id": 80856009, "body": "True, was mostly just curious"}], "answers": [{"comments": [{"owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "edited": false, "score": 0, "creation_date": 1509028088, "post_id": 46942543, "comment_id": 80861290, "body": "I updated my solution to reflect your comments.  Did I capture your suggestions correctly?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "edited": false, "score": 0, "creation_date": 1509029173, "post_id": 46942543, "comment_id": 80862103, "body": "I guess you did. <code>fakeAsync</code> suggestion means that the blocks are defined with it by default, <code>beforeEach(fakeAsync(...))</code> and <code>it(fakeAsync(...))</code> - not with <code>async</code>. <code>TestBed.get</code> or <code>inject</code> also test constructor DI annotation, something that won&#39;t be tested when you do <code>new ProgressService()</code> manually. However, once you&#39;ve tested the class in TestBed suite, you can test it in another suite without TestBed if you have reasons to do this. e.g. <a href=\"https://stackoverflow.com/a/44119057/3731501\">performance</a>"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 2, "last_activity_date": 1508968469, "last_edit_date": 1508968469, "creation_date": 1508967929, "answer_id": 46942543, "question_id": 46942013, "link": "https://stackoverflow.com/questions/46942013/does-this-angular-4-unit-test-meet-current-convention/46942543#46942543", "title": "Does this angular 4 unit test meet current convention?", "body": "<p>Normally a service test shouldn't have <code>declarations</code> and <code>TestBed.createComponent</code>. A component creates extra moving part and may affect test results. And <code>ProgressService</code> certainly doesn't need to be mocked in its own test. Actually, <code>ProgressService default currentState</code>, etc and <code>The component should be created</code> belong to two different test bed setups. The one has <code>providers: [ProgressService]</code>, the another has <code>declarations: [ ProgressComponent ]</code> and <code>MockProgressService</code>.</p>\n\n<hr>\n\n<p>The use of <code>providers: [MockProgressService]</code> is incorrect here, because DI token that is in use is <code>ProgressService</code>, and this provider has to be mocked. <code>providers</code> are supposed to be:</p>\n\n<pre><code>providers: [{provide: ProgressService, useClass: MockProgressService}]\n</code></pre>\n\n<p><code>expect(component).ToBeTruthy</code> assertion is not necessary but may be useful because there are some conditions in testing environment that can make <code>beforeEach</code> block silently fail, while <code>The component should be created</code> test is the one that can determine this problem unambiguously.</p>\n\n<p><code>fixture.debugElement.injector.get(ProgressService)</code> can be safely replaced with <code>TestBed.get(ProgressService)</code> <em>here</em>, and this is what <code>TestBed.get</code> and <code>inject</code> helpers are for. But those two <em>aren't interchangeable</em> because <code>TestBed.get</code> retrieves service instance from root injector, while <code>fixture.debugElement.injector</code> is component injector and can access instances that are specific to a component. Also, there won't be <code>fixture</code> if this is test bed without a component.</p>\n\n<p>As a rule of thumb, tests should use <code>fakeAsync</code> helper - just because it causes zero delay and does the job. It should work out of the box. If there is a test that is truly asynchrounous (e.g. loaded templates), <code>fakeAsync</code> will cause a meaningful error that suggests to change it to <code>async</code>.</p>\n"}], "owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 46942543, "answer_count": 1, "score": 1, "last_activity_date": 1509028057, "creation_date": 1508965343, "last_edit_date": 1509028057, "question_id": 46942013, "link": "https://stackoverflow.com/questions/46942013/does-this-angular-4-unit-test-meet-current-convention", "title": "Does this angular 4 unit test meet current convention?", "body": "<p>I'm unit testing a basic <code>@Injectable</code> service in ng 4.  Tutorials use varying conventions (for example the use of <code>TestBed</code> vs <code>debugElement.injector</code>).  While these tests pass, my setup feels cobbled together and probably uses bad conventions.</p>\n\n<p><strong>Here are my concerns:</strong></p>\n\n<ol>\n<li>The declaration of <code>providers</code> seems verbose, but <code>providers: [MockProgressServer]</code> led to a karma error.</li>\n<li>Should the first test <code>expect(component).ToBeTruthy</code> always be included when testing a component?  This seems autogenerated by ng cli in other modules.</li>\n<li>The line <code>fixture.debugElement.injector.get(ProgressService)</code> seems itnerchangible with <code>TestBed.get(ProgressService)</code>.  Which is preferrable?</li>\n<li>Should tests like this always be declared as <code>async()</code> as a rule of thumb?</li>\n</ol>\n\n<hr>\n\n<p>The class we're testing is <code>ProgressService</code> in <code>progress.service.ts</code>.  It is trivial and contains a single <code>currentState</code> field with <code>getters</code> and <code>setters</code>.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class ProgressService {\n    private currentState: string = '1';\n\n    constructor() {\n    }\n\n    setCurrentState(state: string) {\n        this.currentState = state;\n    }\n\n    getCurrentState(){\n        return this.currentState\n    }    \n}\n</code></pre>\n\n<p>Because this class is trivial, the corresponding <code>Mock</code> overrides nothing.</p>\n\n<pre><code>import {ProgressService} from \"../../../progress.service\";\n\nexport class MockProgressService extends ProgressService {\n}\n</code></pre>\n\n<p>I've cobbled together the following <code>progress.spec.ts</code> class to unit test the getters and setters.</p>\n\n<pre><code>import { async, ComponentFixture, TestBed } from '@angular/core/testing';\n\nimport { ProgressComponent } from './progress.component';\nimport {MockProgressService} from \"../shared/services/progress/progress.mock1\";\nimport {ProgressService} from \"../progress.service\";\n\ndescribe('ProgressComponent', () =&gt; {\n  let component: ProgressComponent;\n  let fixture: ComponentFixture&lt;ProgressComponent&gt;;\n  let mockService: ProgressService;\n\n  beforeEach(async() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [ ProgressComponent ],\n      providers: [{provide: ProgressService, useValue: new MockProgressService()}]\n    }).compileComponents()\n\n    fixture = TestBed.createComponent(ProgressComponent);\n    component = fixture.componentInstance;\n    mockService = fixture.debugElement.injector.get(ProgressService)\n\n    fixture.detectChanges();\n  });\n\n  fit('The component should be created', () =&gt; {\n    expect(component).toBeTruthy();\n  });\n\n  fit('ProgressService default currentState is \"1\"', () =&gt;{\n    expect(mockService.getCurrentState()).toEqual('1')\n  })\n\n  fit('ProgressService new currentState is \"5\"', () =&gt;{\n    mockService.setCurrentState('5')\n    expect(mockService.getCurrentState()).toEqual('5')\n  })\n});\n</code></pre>\n\n<p><code>npm test</code> shows that these pass</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZSCba.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZSCba.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks.  I want to get this locked down before moving on to non-trivial cases.</p>\n\n<p>PS, is there any way to change the styling of the Karma browser report?  (EG make the font bigger?)</p>\n\n<h2>Updated solution based on estus answers</h2>\n\n<p>Split test modules.  <strong>First, test the service:</strong></p>\n\n<pre><code>import {async, ComponentFixture, getTestBed, TestBed} from '@angular/core/testing';\n\nimport { ProgressComponent } from './progress.component';\nimport {ProgressService} from \"../progress.service\";\n\ndescribe('ProgressComponent', () =&gt; {\n  let injector: TestBed;\n  let service: ProgressService;\n\n  beforeEach(async() =&gt; {\n    TestBed.configureTestingModule({\n     providers: [ProgressService]\n    }).compileComponents()\n\n    injector = getTestBed()\n    service= injector.get(ProgressService)    \n\n  });    \n  fit('ProgressService default currentState is \"1\"', () =&gt;{\n    expect(service.getCurrentState()).toEqual('1')\n  })\n\n  fit('ProgressService new currentState is \"5\"', () =&gt;{\n    service.setCurrentState('5')\n    expect(service.getCurrentState()).toEqual('5')\n  })\n});\n</code></pre>\n\n<p><em>Two things:</em></p>\n\n<ol>\n<li><p>Is my use of provider/TestBed.get() correct?  Why couldn't I just instantiate an instance of ProgressService myself?  Does the TestBed ensure that a singleton is created?</p></li>\n<li><p>Not sure where your suggestion of <code>fakeAsync</code> would fit in...</p></li>\n</ol>\n\n<p>Next, <strong>test the component</strong>:</p>\n\n<pre><code>import {async, ComponentFixture, getTestBed, TestBed} from '@angular/core/testing'\n\nimport { ProgressComponent } from './progress.component'\nimport {MockProgressService} from \"../shared/services/progress/progress.mock1\"\nimport {ProgressService} from \"../progress.service\"\n\ndescribe('ProgressComponent', () =&gt; {\n  let injector: TestBed\n  let mockService: ProgressService\n  let fixture: ComponentFixture&lt;ProgressComponent&gt;\n  let component: ProgressComponent\n\n  beforeEach(async() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [ ProgressComponent ],\n      providers: [{provide: ProgressService, useClass: MockProgressService}]\n    }).compileComponents()\n\n    injector = getTestBed()\n    fixture = TestBed.createComponent(ProgressComponent)\n    component = fixture.componentInstance\n    mockService = injector.get(ProgressService)\n\n    fixture.detectChanges();\n  });\n\n   fit('The component should be created', () =&gt; {\n     expect(component).toBeTruthy();\n   });\n\n   fit('The service should be an instance of MockService', () =&gt; {\n     expect(mockService instanceof MockProgressService).toBeTruthy()\n   })\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 660, "user_id": 1951649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25729e0f83bf99edff0d31a54d4bcc41?s=128&d=identicon&r=PG", "display_name": "Jye Lewis", "link": "https://stackoverflow.com/users/1951649/jye-lewis"}, "edited": false, "score": 0, "creation_date": 1508966330, "post_id": 46942009, "comment_id": 80831817, "body": "I don&#39;t think that the let inside your class is valid.. is that meant to be public a: PermissionScope; ?"}], "answers": [{"tags": [], "owner": {"reputation": 660, "user_id": 1951649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25729e0f83bf99edff0d31a54d4bcc41?s=128&d=identicon&r=PG", "display_name": "Jye Lewis", "link": "https://stackoverflow.com/users/1951649/jye-lewis"}, "is_accepted": true, "score": 1, "last_activity_date": 1508966885, "creation_date": 1508966885, "answer_id": 46942335, "question_id": 46942009, "link": "https://stackoverflow.com/questions/46942009/typescript-enum-value-as-array-parameter/46942335#46942335", "title": "Typescript enum value as array parameter", "body": "<p>For the first question, what you're trying to do shouldn't be a problem.<br>\nThe 'let' inside your class may be causing your issues, I changed that to public and had no issues.<br>\nI also assume that your A.a example is meant to be an instance of A? your variable 'a' is an instance variable.</p>\n\n<pre><code>class A {\n    public a : PermissionScope = PermissionScope.BRAND;\n}\nconst instance = new A();\n\ninstance.a = PermissionScope.BRAND;\n</code></pre>\n\n<p>Answering your second question,\nthe enum gets converted to an object under the hood. Which looks like this in raw js</p>\n\n<pre><code>var PermissionScope;\n(function (PermissionScope) {\n    PermissionScope[\"BRAND\"] = \"brand\";\n    PermissionScope[\"IMAGE_MARKER\"] = \"image-marker\";\n    PermissionScope[\"COMPANY\"] = \"company\";\n    PermissionScope[\"PRODUCT\"] = \"product\";\n    PermissionScope[\"FINANCIALS\"] = \"financials\";\n})(PermissionScope = exports.PermissionScope || (exports.PermissionScope = {}));\n</code></pre>\n\n<p>So you can see if the static part of your enum is valid using 'in'</p>\n\n<pre><code>console.log('BRAND' in PermissionScope); //true\nconsole.log('IMAGE_MARKER' in PermissionScope); //true\nconsole.log('ASDF' in PermissionScope); //false\n</code></pre>\n\n<p>If you want to check the value part of the enum you would have to iterate through the object values and check that</p>\n\n<pre><code>function isValidEnumValue(enumType: any, value: string) {\n    //NOTE: Object.values is only available in ES7 (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Object/values)\n    return Object.values(enumType).indexOf(value) !== -1;\n}\n\nconsole.log(isValidEnumValue(PermissionScope, 'brand')); //true\nconsole.log(isValidEnumValue(PermissionScope, 'asdf')); //false\n</code></pre>\n"}], "owner": {"reputation": 3011, "user_id": 1702592, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/d2b24cf822398401396cd73ac8c975ae?s=128&d=identicon&r=PG", "display_name": "Karl Johan Vallner", "link": "https://stackoverflow.com/users/1702592/karl-johan-vallner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1742, "favorite_count": 1, "accepted_answer_id": 46942335, "answer_count": 1, "score": 3, "last_activity_date": 1509009901, "creation_date": 1508965325, "last_edit_date": 1509009901, "question_id": 46942009, "link": "https://stackoverflow.com/questions/46942009/typescript-enum-value-as-array-parameter", "title": "Typescript enum value as array parameter", "body": "<p>I will first of all state, that I am using TypeScript2.4, so I can use string ENUMs, ala</p>\n\n<pre><code>export enum PermissionScope {\nBRAND = \"brand\",\nIMAGE_MARKER = \"image-marker\",\nCOMPANY = \"company\",\nPRODUCT = \"product\",\nFINANCIALS = \"financials\"\n}\n</code></pre>\n\n<p>I don't know how to do 2 things.</p>\n\n<ol>\n<li><p>How can I type guard an enum, say</p>\n\n<pre><code>class A {\n    let a : PermissionScope;\n}\n</code></pre></li>\n</ol>\n\n<p>now when I try to instantiate this variable by</p>\n\n<pre><code>A.a = PermissionScope.BRAND\n</code></pre>\n\n<p>I get an error</p>\n\n<pre><code>Type 'string' is not assignable to type 'PermissionScope'.\n</code></pre>\n\n<p>This can kindof be fixed by </p>\n\n<pre><code>A.a = &lt;PermissionScope&gt; PermissionScope.BRAND\n</code></pre>\n\n<p>But I'm unsure if this is the right solution because as I understand, the underlying problem is that the variable is expected to be of a PermissionScope Enum Object type, not of a valid Enum value from PermissionScope.</p>\n\n<p>How can I set the variable type so that it can only be one of the types from the enum?</p>\n\n<p>The second question is.</p>\n\n<ol start=\"2\">\n<li><p>What if I want to ask if a string is a valid Enum value, aka</p>\n\n<pre><code>var a = \"brand\"; //true\nvar b = \"candy crush\" //false\n</code></pre></li>\n</ol>\n"}, {"tags": ["angular", "typescript", "angular-router-guards"], "answers": [{"comments": [{"owner": {"reputation": 2957, "user_id": 4921818, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a16de181c77eb7d275e996e2df3e5438?s=128&d=identicon&r=PG", "display_name": "tam5", "link": "https://stackoverflow.com/users/4921818/tam5"}, "edited": false, "score": 0, "creation_date": 1529698084, "post_id": 50994159, "comment_id": 88984419, "body": "Indeed, we are doing something like this in the end. But it\u2019s unfortunate this hasn\u2019t been fixed yet"}], "tags": [], "owner": {"reputation": 41, "user_id": 3370237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e39696aaa62290dcab6aa4eb0769131?s=128&d=identicon&r=PG&f=1", "display_name": "user3370237", "link": "https://stackoverflow.com/users/3370237/user3370237"}, "is_accepted": false, "score": 4, "last_activity_date": 1529693985, "creation_date": 1529693985, "answer_id": 50994159, "question_id": 46941786, "link": "https://stackoverflow.com/questions/46941786/angular-4-resolve-guard-redirect-without-changing-url/50994159#50994159", "title": "Angular 4 resolve guard redirect without changing URL?", "body": "<p>I'm facing the same problem. In the unlikely event you still want to solve this, I found this Github issue: <a href=\"https://github.com/angular/angular/issues/16981\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/16981</a></p>\n\n<p>Does't seem like there is a legit way to handle this, but there is a good workaround suggested by Karolis92</p>\n\n<pre><code>canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):     Observable&lt;boolean&gt; {\n   &lt;...&gt;\n   this.router.navigate(['404']);\n   setTimeout(() =&gt; this.location.replaceState(state.url));\n   &lt;...&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 2957, "user_id": 4921818, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a16de181c77eb7d275e996e2df3e5438?s=128&d=identicon&r=PG", "display_name": "tam5", "link": "https://stackoverflow.com/users/4921818/tam5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1635, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1529696376, "creation_date": 1508964460, "question_id": 46941786, "link": "https://stackoverflow.com/questions/46941786/angular-4-resolve-guard-redirect-without-changing-url", "title": "Angular 4 resolve guard redirect without changing URL?", "body": "<p>I want to display a 404 page/component if my resolve guard fails, but I do not want the URL of the browser to change.</p>\n\n<p>I can navigate without changing the URL in the resolve as described <a href=\"https://stackoverflow.com/questions/37054731/angular-2-routing-without-changing-url\">here</a> by doing:</p>\n\n<pre><code>this.router.navigate(['/404'], { skipLocationChange: true })\n</code></pre>\n\n<p>This works when getting to this guard from within the app. However, if I navigate directly to the page, ex: <code>/posts/1234</code> the router changes the URL to the fallback route (thought the 404 component is correctly displayed). If I do not skip location change, everything works as expected, but then I have '/404' in my url which I do not want.</p>\n\n<p>Is there a way to achieve this with the router currently, or is it a bug?</p>\n"}, {"tags": ["typescript", "parameters", "callback"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1508964494, "post_id": 46941754, "comment_id": 80830833, "body": "Can you elaborate on &#39;doesn&#39;t work&#39;? Does the code you&#39;ve posted work at runtime but compiles with errors? Or does it fail at runtime as well? If so, what is the error it produces?"}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 5467428, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_bJB8fviveU/AAAAAAAAAAI/AAAAAAAAAns/uoP6NL472w0/photo.jpg?sz=128", "display_name": "marcan2020", "link": "https://stackoverflow.com/users/5467428/marcan2020"}, "is_accepted": false, "score": 0, "last_activity_date": 1509073105, "creation_date": 1509073105, "answer_id": 46966829, "question_id": 46941754, "link": "https://stackoverflow.com/questions/46941754/how-do-callbacks-work-in-typescript-example-eventlistener/46966829#46966829", "title": "How do callbacks work in TypeScript? (example eventListener)", "body": "<p>Try to defined callback as a function instead of a variable containing a function:</p>\n\n<pre><code>element.addEventListener('click', this.callback, true);\n\nprivate callback(event) {\n    console.log(event);\n};\n</code></pre>\n\n<p>The addEventListener take a function in parameter, not a variable.</p>\n"}], "owner": {"reputation": 19, "user_id": 7382207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d88911ae5026549943ef5600a1058d9b?s=128&d=identicon&r=PG&f=1", "display_name": "John Rose", "link": "https://stackoverflow.com/users/7382207/john-rose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 461, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1509073105, "creation_date": 1508964302, "question_id": 46941754, "link": "https://stackoverflow.com/questions/46941754/how-do-callbacks-work-in-typescript-example-eventlistener", "title": "How do callbacks work in TypeScript? (example eventListener)", "body": "<p>I'm working with eventListeners and trying to set them up in TypeScript.</p>\n\n<p>The following code works:</p>\n\n<pre><code>element.addEventListener('click', (event) =&gt; {\n    console.log(event);\n}, true);\n</code></pre>\n\n<p>The following code doesn't:</p>\n\n<pre><code>element.addEventListener('click', this.callback, true);\n\nprivate callback = (event) =&gt; {\n    console.log(event);\n};\n</code></pre>\n\n<p>Why is that?</p>\n"}, {"tags": ["angular", "typescript", "frontend"], "answers": [{"comments": [{"owner": {"reputation": 1415, "user_id": 6237912, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7bbd7207299846e2f68eae5c71affb83?s=128&d=identicon&r=PG&f=1", "display_name": "Coruscate5", "link": "https://stackoverflow.com/users/6237912/coruscate5"}, "edited": false, "score": 0, "creation_date": 1508964690, "post_id": 46941732, "comment_id": 80830939, "body": "Would it be difficult to make a quick Plunker of this? The subscription doesn&#39;t appear to be firing for me, but I&#39;m still troubleshooting.."}, {"owner": {"reputation": 1415, "user_id": 6237912, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7bbd7207299846e2f68eae5c71affb83?s=128&d=identicon&r=PG&f=1", "display_name": "Coruscate5", "link": "https://stackoverflow.com/users/6237912/coruscate5"}, "edited": false, "score": 0, "creation_date": 1508964930, "post_id": 46941732, "comment_id": 80831090, "body": "OK almost there - The <code>params</code> object doesn&#39;t exist in the lambda.. is there a way to extract it from the <code>events</code>?"}, {"owner": {"reputation": 1415, "user_id": 6237912, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7bbd7207299846e2f68eae5c71affb83?s=128&d=identicon&r=PG&f=1", "display_name": "Coruscate5", "link": "https://stackoverflow.com/users/6237912/coruscate5"}, "edited": false, "score": 0, "creation_date": 1508965678, "post_id": 46941732, "comment_id": 80831500, "body": "I&#39;m still having all sorts of trouble - though this was helpful for me to start debugging thanks! For some reason, the snapshot does NOT have the parameter <code>id</code>. It seems to be contained in <code>this.activeRoute.snapshot.children.params</code> and I have no idea why"}, {"owner": {"reputation": 1415, "user_id": 6237912, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7bbd7207299846e2f68eae5c71affb83?s=128&d=identicon&r=PG&f=1", "display_name": "Coruscate5", "link": "https://stackoverflow.com/users/6237912/coruscate5"}, "edited": false, "score": 0, "creation_date": 1508965715, "post_id": 46941732, "comment_id": 80831517, "body": "Also, I will try to create a Plunker of this &amp; update answer with it - the Angular docs are surprisingly lacking when it comes to &quot;I just want to do X&quot;"}, {"owner": {"reputation": 7497, "user_id": 2033044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fnK5m.png?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/2033044/lucas"}, "reply_to_user": {"reputation": 1415, "user_id": 6237912, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7bbd7207299846e2f68eae5c71affb83?s=128&d=identicon&r=PG&f=1", "display_name": "Coruscate5", "link": "https://stackoverflow.com/users/6237912/coruscate5"}, "edited": false, "score": 0, "creation_date": 1508966753, "post_id": 46941732, "comment_id": 80832001, "body": "odd, this worked quite well for me. Since you say the &#39;id&#39; param is not present, maybe if you do the routing + param addition like so  this.router.navigate([ &#39;/your-route&#39; ], { queryParams: { &#39;id&#39;: id } } ?? Just wondering why param is not present ....."}, {"owner": {"reputation": 1415, "user_id": 6237912, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7bbd7207299846e2f68eae5c71affb83?s=128&d=identicon&r=PG&f=1", "display_name": "Coruscate5", "link": "https://stackoverflow.com/users/6237912/coruscate5"}, "edited": false, "score": 0, "creation_date": 1508967894, "post_id": 46941732, "comment_id": 80832505, "body": "In my case, it&#39;s not a queryParam - it&#39;s just a basic input parameter to the component. The navigation code is <code>this.router.navigate([&#39;route&#39;, id]);</code> , but again, for some reason the parameter never gets populated into the primary ActivatedRoute"}, {"owner": {"reputation": 1415, "user_id": 6237912, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7bbd7207299846e2f68eae5c71affb83?s=128&d=identicon&r=PG&f=1", "display_name": "Coruscate5", "link": "https://stackoverflow.com/users/6237912/coruscate5"}, "edited": false, "score": 1, "creation_date": 1508968070, "post_id": 46941732, "comment_id": 80832584, "body": "OK, so the activatedRoute parent belongs to the component that owns the navigation. So I moved it over.. almost there.."}, {"owner": {"reputation": 1415, "user_id": 6237912, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7bbd7207299846e2f68eae5c71affb83?s=128&d=identicon&r=PG&f=1", "display_name": "Coruscate5", "link": "https://stackoverflow.com/users/6237912/coruscate5"}, "edited": false, "score": 0, "creation_date": 1508986255, "post_id": 46941732, "comment_id": 80837441, "body": "I edited your answer, then someone else did an ultra-minor edit - let me know if what I wrote mostly makes sense (I think there was a disconnect between what I wanted &amp; what your answer helped with - this edit bridges the gap)"}, {"owner": {"reputation": 7497, "user_id": 2033044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fnK5m.png?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/2033044/lucas"}, "reply_to_user": {"reputation": 1415, "user_id": 6237912, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7bbd7207299846e2f68eae5c71affb83?s=128&d=identicon&r=PG&f=1", "display_name": "Coruscate5", "link": "https://stackoverflow.com/users/6237912/coruscate5"}, "edited": false, "score": 0, "creation_date": 1509019286, "post_id": 46941732, "comment_id": 80854495, "body": "Right looks good. To bad it didnt solve your case but glad it helped with &#39;something&#39; :p cheers!"}], "tags": [], "owner": {"reputation": 7497, "user_id": 2033044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fnK5m.png?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/2033044/lucas"}, "is_accepted": true, "score": 5, "last_activity_date": 1508970523, "last_edit_date": 1508970523, "creation_date": 1508964238, "answer_id": 46941732, "question_id": 46941640, "link": "https://stackoverflow.com/questions/46941640/get-current-parameter-in-route-angular-4/46941732#46941732", "title": "Get current parameter in route - Angular 4", "body": "<p>The simplest way with the new paramMap:</p>\n\n<pre><code>import { ActivatedRoute } from '@angular/router';\n...\nconstructor(private activeRoute: ActivatedRoute) { \n       this.subscription = this.activeRoute.paramMap\n        .subscribe(params =&gt; {\n            if(params.get('id') !== this.myParam) {\n                this.myParam= params.get('id');\n                //Do things with new parameter - e.g. reload data\n            }\n        });\n}\n</code></pre>\n\n<p>You can additionally use the <code>params.getAll</code> or <code>params.keys</code> to get information about what parameters are available.</p>\n\n<p>If the <code>ActivatedRoute</code> is not populating any params, you can troubleshoot by subscribing to all router events &amp; seeing where your params are going: </p>\n\n<pre><code>this.routeChangeDetection = this.router.events.subscribe((event) =&gt; {\n    console.log(this.activeRoute);\n    console.log(this.activeRoute.snapshot);\n    console.log(this.activeRoute.snapshot.params);\n    console.log(this.activeRoute.snapshot.children);\n})\n</code></pre>\n\n<p>This may be useful if your params are getting loaded into a child/related component but not the component looking for the parameter change.</p>\n"}], "owner": {"reputation": 1415, "user_id": 6237912, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7bbd7207299846e2f68eae5c71affb83?s=128&d=identicon&r=PG&f=1", "display_name": "Coruscate5", "link": "https://stackoverflow.com/users/6237912/coruscate5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4156, "favorite_count": 1, "accepted_answer_id": 46941732, "answer_count": 1, "score": 4, "last_activity_date": 1508970523, "creation_date": 1508963864, "question_id": 46941640, "link": "https://stackoverflow.com/questions/46941640/get-current-parameter-in-route-angular-4", "title": "Get current parameter in route - Angular 4", "body": "<p>I'd like to just receive the current parameter in the Angular router whenever it changes. </p>\n\n<p>Per another SO post, my component will not auto-refresh if the router navigates to another param within the same component, but I'm having trouble getting the parameter when the route is activated (so I can update the view).</p>\n\n<p>The Angular docs have something like this: </p>\n\n<pre><code>  ngOnInit() {\n    this.hero$ = this.route.paramMap\n      .switchMap((params: ParamMap) =&gt;\n        this.service.getHero(params.get('id')));\n  }\n</code></pre>\n\n<p>However, this isn't working for me, or at least, it would be nice to have something that isn't abstracted into other methods or services. </p>\n\n<p>Is there a simple straightforward way to subscribe to the current parameter? </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 651, "user_id": 5975317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IN7ga.jpg?s=128&g=1", "display_name": "Blake Connally", "link": "https://stackoverflow.com/users/5975317/blake-connally"}, "edited": false, "score": 0, "creation_date": 1508963762, "post_id": 46941581, "comment_id": 80830469, "body": "You should really put this in a JSFiddle or something to organize it better so people actually want to help you."}, {"owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "edited": false, "score": 0, "creation_date": 1508964993, "post_id": 46941581, "comment_id": 80831125, "body": "I guess you can use <code>[disabled]=&quot;captcha()&quot;</code>"}], "owner": {"reputation": 11, "user_id": 8610883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b771ff780dd2fe9d19edd1cfbbd8fa94?s=128&d=identicon&r=PG&f=1", "display_name": "IsahiM", "link": "https://stackoverflow.com/users/8610883/isahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508964240, "creation_date": 1508963619, "last_edit_date": 1508964240, "question_id": 46941581, "link": "https://stackoverflow.com/questions/46941581/getresponse-recaptcha-in-angular-4-form", "title": "getresponse recaptcha in angular 4 form", "body": "<p>I am new in angular and I want to know how to change property <code>disabled</code> in a button, with get-response recaptcha in angular 4 <code>form.component</code></p>\n\n<p>I try with this but not working:</p>\n\n<pre><code>  &lt;div class=\"login-page\"&gt;\n  &lt;div class=\"form\"&gt;\n  &lt;form class=\"login-form\"&gt;\n  &lt;input type=\"text\" placeholder=\"Usuario\" required/&gt;     \n  &lt;input type=\"password\" placeholder=\"Contrase\u00f1a\" required/&gt;\n &lt;div &gt;\n &lt;re-captcha class=\"g-recaptcha\" (resolved)=\"resolved($event)\" \n siteKey=\"6LcOuyYTAAAAAHTjFuqhA52fmfJ_j5iFk5PsfXaU\"&gt;\n &lt;/re-captcha&gt;\n  &lt;/div&gt;\n  &lt;button id=\"entrarbtn\" onclick=\"captcha;\" (click)=\"submit()\" type=\"submit\" \n  disabled&gt;Entrar&lt;/button&gt;\n  &lt;p class=\"message\"&gt;No se ha registrado? &lt;a href=\"/registrar\"&gt;Cree una \n  cuenta&lt;/a&gt;\n  &lt;/p&gt;\n\n    &lt;script&gt;\n    var captcha = function ()\n    {var response = grecaptcha.getResponse();\n    if(response.length == 0)\n    {return false;}    \n    else\n    {$(\"#entarbtn\").prop(\"disable\"), false;\n    return true;\n    }};\n    &lt;/script&gt;\n  &lt;/form&gt;\n &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>in <code>login.component.ts</code></p>\n\n<pre><code>   import { Component, OnInit } from '@angular/core';\n   import {Router} from \"@angular/router\";\n   export interface FormModel {\n   captcha?: string;} \n   @Component({\n   selector: 'app-login',\n   templateUrl: './login.component.html',\n   styleUrls: ['./login.component.css']\n    })\n    export class LoginComponent implements OnInit {\n    public submit(): void {this.router.navigate(['/pagina']);}\n    constructor(private router: Router)\n    { }\n    ngOnInit() {}\n    }\n</code></pre>\n"}, {"tags": ["oop", "typescript", "interface", "abstract-class"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1508961535, "post_id": 46941048, "comment_id": 80829387, "body": "How does the signature differ between <code>IFoo</code> and <code>BaseFoo</code> ??  Re: <i>Abstract class BaseFoo implements this interface, but declares the function with a different signature.</i>"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 3, "creation_date": 1508961710, "post_id": 46941048, "comment_id": 80829475, "body": "The TypeScript FAQ addresses this <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-functions-with-fewer-parameters-assignable-to-functions-that-take-more-parameters\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/&hellip;</a>"}, {"owner": {"reputation": 660, "user_id": 1951649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25729e0f83bf99edff0d31a54d4bcc41?s=128&d=identicon&r=PG", "display_name": "Jye Lewis", "link": "https://stackoverflow.com/users/1951649/jye-lewis"}, "edited": false, "score": 0, "creation_date": 1508967862, "post_id": 46941048, "comment_id": 80832486, "body": "&quot;Should not be able to call without an argument&quot; You can&#39;t? Well at least my tsc complains that you are passing an invalid number of arguments"}], "owner": {"reputation": 297, "user_id": 1133089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aebd6341f590a447cfeca6874551d52?s=128&d=identicon&r=PG", "display_name": "Nimai", "link": "https://stackoverflow.com/users/1133089/nimai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 532, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1508961411, "creation_date": 1508961411, "question_id": 46941048, "link": "https://stackoverflow.com/questions/46941048/typescript-function-signature-in-abstract-class-doesnt-need-to-match-interface", "title": "TypeScript function signature in abstract class doesn&#39;t need to match interface", "body": "<p>In the following example, interface IFoo declares a function signature requiring two number arguments.  Abstract class BaseFoo implements this interface, but declares the function with a different signature.  Finally, concrete class Foo extends BaseFoo and implements BaseFoo's version of the function declaration.</p>\n\n<pre><code>interface IFoo {\n    func(x: number ): number\n}\n\nabstract class BaseFoo implements IFoo {\n    abstract func(x: number): number\n}\n\nclass Foo extends BaseFoo {\n    func() { return -1 } // Does not match interface func declaration\n}\n\nlet foo: IFoo = new Foo()  // Should not be able to instantiate a Foo as an IFoo\nlet y = foo.func()  // Should not be able to call without an argument\nconsole.log(y)\n</code></pre>\n\n<p>This contrived example illustrates something that happened in real life: I had an existing interface in a codebase.  I updated one of it's function's signatures, with the expectation that the compiler would help me find all the classes who would need to be updated.  But, no errors.</p>\n\n<p>Why am I allowed to instantiate an abstract class with a function signature that doesn't match the interface?</p>\n"}, {"tags": ["angular", "typescript", "karma-jasmine", "angular2-testing", "spyon"], "answers": [{"tags": [], "owner": {"reputation": 660, "user_id": 5162622, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-PUw62ZU5RFA/AAAAAAAAAAI/AAAAAAAAC9I/AbmdemlJE2Y/photo.jpg?sz=128", "display_name": "Josf", "link": "https://stackoverflow.com/users/5162622/josf"}, "is_accepted": true, "score": 6, "last_activity_date": 1508966454, "creation_date": 1508966454, "answer_id": 46942245, "question_id": 46940985, "link": "https://stackoverflow.com/questions/46940985/how-to-get-arguments-on-an-event-emitter-in-jasmine-test/46942245#46942245", "title": "how to get arguments on an event emitter in jasmine test", "body": "<p>This should work.</p>\n\n<pre><code>it('billing information is correct', () =&gt; {\n  fixture.detectChanges();\n  spyOn(component.myEventEmitter, 'emit').and.callThrough();\n  component.form.controls['size'].setValue(12);\n  fixture.detectChanges();\n  let arg: any = (component.myEventEmitter.emit as any).calls.mostRecent().args[0];\n  expect(arg.billingSize).toEqual('30');\n});\n</code></pre>\n\n<p>note:</p>\n\n<pre><code> component.myEventEmitter.emit.calls.mostRecent() \n</code></pre>\n\n<p>- wouldn't compile (error: calls does not exist on type ..') so type it to 'any' and should work. </p>\n"}, {"comments": [{"owner": {"reputation": 660, "user_id": 5162622, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-PUw62ZU5RFA/AAAAAAAAAAI/AAAAAAAAC9I/AbmdemlJE2Y/photo.jpg?sz=128", "display_name": "Josf", "link": "https://stackoverflow.com/users/5162622/josf"}, "edited": false, "score": 0, "creation_date": 1509066986, "post_id": 46965799, "comment_id": 80879711, "body": "But looks like objectContaining  expects the entire object. ( whole json object in my case). Can you provide an example?"}, {"owner": {"reputation": 790, "user_id": 1468491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050ed7d5484e9822d72b9aac20b647c9?s=128&d=identicon&r=PG", "display_name": "Alexey Kucherenko", "link": "https://stackoverflow.com/users/1468491/alexey-kucherenko"}, "reply_to_user": {"reputation": 660, "user_id": 5162622, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-PUw62ZU5RFA/AAAAAAAAAAI/AAAAAAAAC9I/AbmdemlJE2Y/photo.jpg?sz=128", "display_name": "Josf", "link": "https://stackoverflow.com/users/5162622/josf"}, "edited": false, "score": 0, "creation_date": 1509108980, "post_id": 46965799, "comment_id": 80898549, "body": "@SoJosf You can take a look here <a href=\"https://github.com/robtweed/ewd-document-store/blob/master/spec/unit/proto/delete.spec.js#L52\" rel=\"nofollow noreferrer\">github.com/robtweed/ewd-document-store/blob/master/spec/unit&zwnj;&#8203;/&hellip;</a> I wrote these tests"}, {"owner": {"reputation": 660, "user_id": 5162622, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-PUw62ZU5RFA/AAAAAAAAAAI/AAAAAAAAC9I/AbmdemlJE2Y/photo.jpg?sz=128", "display_name": "Josf", "link": "https://stackoverflow.com/users/5162622/josf"}, "edited": false, "score": 0, "creation_date": 1509305265, "post_id": 46965799, "comment_id": 80955106, "body": "I have tried it.  <i>expect(component.taskRowData.emit).toHaveBeenCalledWith(jasm&zwnj;&#8203;ine.objectContaining&zwnj;&#8203;({             billingSize: 30         }));</i> \t\t But  think that is not quite useful in my case. The args in the eventEmitter looks like &#39;{ taskRow: {&#39;jsonobject&#39;}, formValid: true}&#39;  The field I want to look for is inside &#39;jsonobject&#39;. I got this error: <i>Expected spy emit to have been called with [ &lt;jasmine.objectContaining(Object({ billingSize: 30 }))&gt; ] but actual calls were [ Object({ taskRow: Object({ id: 1, name: &#39;Test task&#39;, billable: false, billingSize: 30, billingPrice: 26.46</i> ..."}, {"owner": {"reputation": 790, "user_id": 1468491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050ed7d5484e9822d72b9aac20b647c9?s=128&d=identicon&r=PG", "display_name": "Alexey Kucherenko", "link": "https://stackoverflow.com/users/1468491/alexey-kucherenko"}, "reply_to_user": {"reputation": 660, "user_id": 5162622, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-PUw62ZU5RFA/AAAAAAAAAAI/AAAAAAAAC9I/AbmdemlJE2Y/photo.jpg?sz=128", "display_name": "Josf", "link": "https://stackoverflow.com/users/5162622/josf"}, "edited": false, "score": 0, "creation_date": 1509376204, "post_id": 46965799, "comment_id": 80983660, "body": "expect(component.taskRowData.emit).toHaveBeenCalledWith({     taskRow:  jasmine.objectContaining({       billingSize: 30     })   }) );"}, {"owner": {"reputation": 660, "user_id": 5162622, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-PUw62ZU5RFA/AAAAAAAAAAI/AAAAAAAAC9I/AbmdemlJE2Y/photo.jpg?sz=128", "display_name": "Josf", "link": "https://stackoverflow.com/users/5162622/josf"}, "edited": false, "score": 0, "creation_date": 1509419047, "post_id": 46965799, "comment_id": 81001567, "body": "Thanks Alexey for looking at this. But I am  getting the same error with objectContaining."}], "tags": [], "owner": {"reputation": 790, "user_id": 1468491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050ed7d5484e9822d72b9aac20b647c9?s=128&d=identicon&r=PG", "display_name": "Alexey Kucherenko", "link": "https://stackoverflow.com/users/1468491/alexey-kucherenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1509109045, "last_edit_date": 1509109045, "creation_date": 1509064503, "answer_id": 46965799, "question_id": 46940985, "link": "https://stackoverflow.com/questions/46940985/how-to-get-arguments-on-an-event-emitter-in-jasmine-test/46965799#46965799", "title": "how to get arguments on an event emitter in jasmine test", "body": "<p>You can also use</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> expect(component.myEventEmitter.emit).toHaveBeenCalledWith('eventName', \r\n  jasmine.objectContaining(*dataExpected*)\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 660, "user_id": 5162622, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-PUw62ZU5RFA/AAAAAAAAAAI/AAAAAAAAC9I/AbmdemlJE2Y/photo.jpg?sz=128", "display_name": "Josf", "link": "https://stackoverflow.com/users/5162622/josf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5066, "favorite_count": 0, "accepted_answer_id": 46942245, "answer_count": 2, "score": 5, "last_activity_date": 1509109045, "creation_date": 1508961102, "last_edit_date": 1508979867, "question_id": 46940985, "link": "https://stackoverflow.com/questions/46940985/how-to-get-arguments-on-an-event-emitter-in-jasmine-test", "title": "how to get arguments on an event emitter in jasmine test", "body": "<p>I have a unit test as below</p>\n\n<pre><code>it('billing information is correct', () =&gt; {\n    fixture.detectChanges();\n    spyOn(component.myEventEmitter, 'emit').and.callThrough();\n    component.form.controls['size'].setValue(12);\n    fixture.detectChanges();\n    **let args= component.myEventEmitter.emit.mostRecentCall **\n    expect(args.billingSize).toEqual('30')\n});\n</code></pre>\n\n<p>When size changes, myEventEmitter is being emitted with a large json object which includes billingSize. And I want the test to check if this value is as expected. But looks like I can't do 'mostRecentCall/ calls' on the event emitter. any suggestions??</p>\n\n<p>Note: I don't want to do </p>\n\n<pre><code> expect(component.myEventEmitter.emit).toHaveBeenCalledWith(*dataExpected*);\n</code></pre>\n\n<p>because the dataExpected is a large json object. I just care about one field. Any help would be much appreciated.</p>\n"}, {"tags": ["reactjs", "typescript", "higher-order-components"], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 1843539, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/taD2f.png?s=128&g=1", "display_name": "curious-cat", "link": "https://stackoverflow.com/users/1843539/curious-cat"}, "edited": false, "score": 0, "creation_date": 1509285120, "post_id": 46943235, "comment_id": 80948439, "body": "Thank you for your response! I suppose I was thinking of decorators as syntactic sugar for wrapping a class with a function which would allow for the signature of the class to change. I see it&#39;s used like that by some libraries, but Typescript has a more conservative opinion of how decorators work."}], "tags": [], "owner": {"reputation": 6200, "user_id": 1980909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d05610f5fa89712dc60e7a3fc1209a74?s=128&d=identicon&r=PG", "display_name": "Adrian Leonhard", "link": "https://stackoverflow.com/users/1980909/adrian-leonhard"}, "is_accepted": true, "score": 4, "last_activity_date": 1508972007, "creation_date": 1508972007, "answer_id": 46943235, "question_id": 46940259, "link": "https://stackoverflow.com/questions/46940259/typescript-higher-order-component-as-decorator/46943235#46943235", "title": "Typescript Higher Order Component as Decorator", "body": "<p>A class decorator which returns a value is similar to doing </p>\n\n<pre><code>const Link = withDecorator(class extends Component&lt;object, object&gt; {\n    render() { \n        return &lt;a href=\"/\"&gt;Link&lt;/a&gt; \n    }\n    instanceMethod() { return 2 }\n    static classMethod() { return 2 }\n})\n</code></pre>\n\n<p><em>TypeScript expects the return value of the decorator to have the same type as the input, so the result still has the same behavior.</em> In your example, the render type signature does not match, but with the added methods the problem is more apparent: with your implementation of the decorator, the following would fail:</p>\n\n<pre><code>new Link().instanceMethod()\nLink.classMethod()\n</code></pre>\n\n<p>The correct type signature would be:</p>\n\n<pre><code>function withDecorator&lt;T extends React.ComponentClass&gt;(Wrapped: T): T\n</code></pre>\n\n<p>and the implementation should match too, most easily by extending the target class:</p>\n\n<pre><code>return class extends Wrapped { ... }\n</code></pre>\n\n<p>Note that with React HOC, you don't necessarily want to extend the class, so using a decorator is possibly not the best solution.</p>\n\n<p>See also <a href=\"https://github.com/Microsoft/TypeScript/issues/9453\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/9453</a></p>\n"}], "owner": {"reputation": 331, "user_id": 1843539, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/taD2f.png?s=128&g=1", "display_name": "curious-cat", "link": "https://stackoverflow.com/users/1843539/curious-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2500, "favorite_count": 1, "accepted_answer_id": 46943235, "answer_count": 1, "score": 4, "last_activity_date": 1508972007, "creation_date": 1508958396, "question_id": 46940259, "link": "https://stackoverflow.com/questions/46940259/typescript-higher-order-component-as-decorator", "title": "Typescript Higher Order Component as Decorator", "body": "<p>I am trying to use Typescript in my React project but am getting stuck at getting the types for my HOC's to function. Here is a minimal example to showcase what I am having trouble with:</p>\n\n<pre><code>const withDecorator =\n    (Wrapped: React.ComponentType): React.ComponentClass =&gt;\n        class withDecorator extends Component {\n            render() {\n                return &lt;Wrapped {...this.props} /&gt;\n            }\n        }\n\n@withDecorator\nclass Link extends Component&lt;object, object&gt; {\n    render() { return &lt;a href=\"/\"&gt;Link&lt;/a&gt; }\n}\n</code></pre>\n\n<p>This returns the error:</p>\n\n<pre><code>'Unable to resolve signature of class decorator when called as an expression.\nType 'ComponentClass&lt;{}&gt;' is not assignable to type 'typeof Link'.\n    Type 'Component&lt;{}, ComponentState&gt;' is not assignable to type 'Link'.\n    Types of property 'render' are incompatible.\n        Type '() =&gt; string | number | false | Element | Element[] | ReactPortal | null' is not assignable to type '() =&gt; Element'.\n        Type 'string | number | false | Element | Element[] | ReactPortal | null' is not assignable to type 'Element'.\n            Type 'null' is not assignable to type 'Element'.'\n</code></pre>\n\n<p>I really don't understand why this error occurs. I must be doing something wrong. Things get even more hairy once I introduce props.</p>\n\n<p>I would greatly appreciate the right solution, but I am also very interested in understanding why this error occurs in the first place.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "ios", "angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "edited": false, "score": 0, "creation_date": 1508958895, "post_id": 46940385, "comment_id": 80827964, "body": "I tried your demo nothing on a keyboard is working for me right now."}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "reply_to_user": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "edited": false, "score": 0, "creation_date": 1508958947, "post_id": 46940385, "comment_id": 80827988, "body": "You mean you cannot enter letters neither numbers?"}, {"owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "edited": false, "score": 0, "creation_date": 1508966839, "post_id": 46940385, "comment_id": 80832041, "body": "It works. But I need to use <code>type=number</code> to get the number pad up on an android phone."}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "reply_to_user": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "edited": false, "score": 0, "creation_date": 1509003616, "post_id": 46940385, "comment_id": 80843972, "body": "I changed to type=&quot;number&quot; and it&#39;s working. but I think type=&quot;tel&quot; would work also and on mobiles it make show the numeric keyboard"}, {"owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "edited": false, "score": 0, "creation_date": 1509030531, "post_id": 46940385, "comment_id": 80863116, "body": "The update works well. On android <code>event.preventDefault()</code> does not work for <code>.</code> and <code>-</code> which are keycodes <code>229</code>. I mean the line of code is called but  the <code>.</code> or <code>-</code> are still added to the line."}, {"owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "edited": false, "score": 0, "creation_date": 1509853307, "post_id": 46940385, "comment_id": 81185848, "body": "Yes, I saw the update, thank you for the help. But have you tried the update on an android phone? The comment I made was after I tried the update on my phone, and the results of that test."}], "tags": [], "owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "is_accepted": false, "score": 0, "last_activity_date": 1509009050, "last_edit_date": 1509009050, "creation_date": 1508958830, "answer_id": 46940385, "question_id": 46940124, "link": "https://stackoverflow.com/questions/46940124/making-a-4-digit-pin-in-angular-2-4-for-mobile-phones/46940385#46940385", "title": "Making a 4 digit pin in Angular 2/4 for mobile phones?", "body": "<p><strong>UPDATE</strong>:</p>\n\n<p>There is an easier way. Using what you originaly used, keyup event:  </p>\n\n<p><strong>HTML</strong>:</p>\n\n<pre><code>&lt;input type=\"number\" style=\"border:1px solid black\" (keydown)=\"onKeyPress($event)\" &gt;\n</code></pre>\n\n<p><strong>Typescript</strong>:</p>\n\n<pre><code>onKeyPress(event){\n  if (!(event.keyCode &gt;= 48 &amp;&amp; event.keyCode &lt;= 57)){\n        event.preventDefault()\n  }\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-fdquhi?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\"><strong>DEMO</strong></a></p>\n\n<hr>\n\n<p>The input could be processed thru (input) event where you remove anything not numeric with a regexp. But this method will need two-way binding mechanism. Example:</p>\n\n<p><strong>HTML</strong>:</p>\n\n<pre><code>   &lt;input type=\"number\" [(ngModel)]=\"input\" #myInput style=\"border:1px solid black\" (input)=\"myInput.value = format(input)\"&gt;\n</code></pre>\n\n<p><strong>Typescript</strong>:</p>\n\n<pre><code>format(valString) {\n    if (!valString) {\n        return '';\n    }\n    let val = valString.toString();\n    return val.replace(/\\D+/g, '');\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-eyvtj8?file=app%2Fapp.component.html\" rel=\"nofollow noreferrer\"><strong>DEMO</strong></a></p>\n"}, {"tags": [], "owner": {"reputation": 1093, "user_id": 8602367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e7wP.jpg?s=128&g=1", "display_name": "Dave Kalu", "link": "https://stackoverflow.com/users/8602367/dave-kalu"}, "is_accepted": false, "score": 0, "last_activity_date": 1568731664, "creation_date": 1568731664, "answer_id": 57976850, "question_id": 46940124, "link": "https://stackoverflow.com/questions/46940124/making-a-4-digit-pin-in-angular-2-4-for-mobile-phones/57976850#57976850", "title": "Making a 4 digit pin in Angular 2/4 for mobile phones?", "body": "<p>What you're trying to do is best done using a custom <a href=\"https://angular.io/guide/attribute-directives\" rel=\"nofollow noreferrer\">directive</a></p>\n\n<p>The following steps should help you solve your problem:</p>\n\n<p>Generate a new custom directive:\n<code>ng generate directive numberInput</code></p>\n\n<p>Then in the generated directive class add this:</p>\n\n<pre><code>import { Directive, ElementRef, HostListener, Input } from '@angular/core';\n\n@Directive({\n  selector: '[appnumberInput]'\n})\nexport class NumberInputDirective {\n\n  constructor(private el: ElementRef) { }\n\n  @Input() digitOnly: boolean;\n\n  @HostListener('keydown', ['$event']) onKeyDown(event) {\n    let e = &lt;KeyboardEvent&gt; event;\n    if (this.OnlyNumber) {\n      if ([46, 8, 9, 27, 13, 110, 190].indexOf(e.keyCode) !== -1 ||\n        // Allow: Ctrl+A\n        (e.keyCode === 65 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n        // Allow: Ctrl+C\n        (e.keyCode === 67 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n        // Allow: Ctrl+V\n        (e.keyCode === 86 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n        // Allow: Ctrl+X\n        (e.keyCode === 88 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n        // Allow: home, end, left, right\n        (e.keyCode &gt;= 35 &amp;&amp; e.keyCode &lt;= 39)) {\n          // let it happen, don't do anything\n          return;\n        }\n        // Ensure that it is a number and stop the keypress\n        if ((e.shiftKey || (e.keyCode &lt; 48 || e.keyCode &gt; 57)) &amp;&amp; (e.keyCode &lt; 96 || e.keyCode &gt; 105)) {\n            e.preventDefault();\n        }\n      }\n\n   @HostListener('paste', ['$event'])\n   onPaste(event: ClipboardEvent) {\n  event.preventDefault();\n  const pastedInput: string = event.clipboardData\n    .getData('text/plain')\n    .replace(/\\D/g, ''); // get a digit-only string\n  document.execCommand('insertText', false, pastedInput);\n}\n\n@HostListener('drop', ['$event'])\nonDrop(event: DragEvent) {\n  event.preventDefault();\n  const textData = event.dataTransfer\n    .getData('text').replace(/\\D/g, '');\n  this.inputElement.focus();\n  document.execCommand('insertText', false, textData);\n}\n\n}\n  }\n\n</code></pre>\n\n<p>Then within your template add:</p>\n\n<p><code>&lt;input type=\"text\" name=\"pin\" id=\"pin\" placeholder=\"000\" maxlength=\"4\" inputmode=\"numeric\" pattern=\"[0-9]*\" digitOnly&gt;</code></p>\n"}], "owner": {"reputation": 3408, "user_id": 659634, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c68127bd31a9fe0abcf48de4a96cb4d4?s=128&d=identicon&r=PG", "display_name": "Whitecat", "link": "https://stackoverflow.com/users/659634/whitecat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2854, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1568731664, "creation_date": 1508957945, "last_edit_date": 1508969279, "question_id": 46940124, "link": "https://stackoverflow.com/questions/46940124/making-a-4-digit-pin-in-angular-2-4-for-mobile-phones", "title": "Making a 4 digit pin in Angular 2/4 for mobile phones?", "body": "<p>What have others done for a 4 digit pin? \nI am looking to make a 4 digit pin in Angular 2/4 but there seems to be no easy way to do it, that I have found out yet.</p>\n\n<p>Phones do have a <code>soft keyboard</code> that can show only numbers. \nThe best way (only way) to show a number keyboard on both android and ios is with the following html tag:</p>\n\n<pre><code>&lt;input\n    type=\"number\" \n    pattern=\"[0-9]*\" \n    inputmode=\"numeric\" \n    style=\"-webkit-text-security: disc;\"&gt;&lt;/input&gt;\n</code></pre>\n\n<p>Now that gives me a keyboard that has decimals, dashes, commas, among other things.  I need to make sure only numbers are put in the box. The best way I can think of is catch key press events and remove invalid characters as they are typed. \nThere are 3 different ways I have tried and all have flaws:\nFirst is catch the keyup event:</p>\n\n<p>The Html:</p>\n\n<pre><code>&lt;input\n    (keyup)=\"checkPin($event)\" \n    type=\"number\" \n    pattern=\"[0-9]*\" \n    inputmode=\"numeric\" \n    style=\"-webkit-text-security: disc;\"&gt;&lt;/input&gt;\n</code></pre>\n\n<p>The Typescript:</p>\n\n<pre><code>checkPin($event: KeyboardEvent) {\n  console.log($event)\n  let value = (&lt;HTMLInputElement&gt;event.target).value;\n\n  if ($event.target) {\n    if (value == \"\") {\n      value = value.slice(0, 0);\n    }\n\n    if (value.length &gt; 4) {\n      value = value.slice(0, 4)\n    }\n    (&lt;HTMLInputElement&gt;event.target).value = value.replace(/\\D/g, '');\n  }\n}\n</code></pre>\n\n<p>I do not like this because code because as the key is pushed it can be seen in the box then disappears. </p>\n\n<p>The second approach is to catch the <code>keypress</code> event:</p>\n\n<p>The HTML:</p>\n\n<pre><code>&lt;input \n  (keypress)=\"keyPress($event)\"\n  type=\"number\"\n  pattern=\"[0-9]*\"\n  inputmode=\"numeric\"\n  style=\"-webkit-text-security: disc;\"&gt;&lt;/input&gt;\n</code></pre>\n\n<p>The Type Script</p>\n\n<pre><code>keyPress(event: any) {\n  const pattern = /[0-9]/;\n  const inputChar = String.fromCharCode(event.charCode);\n  let lIsTooLong: boolean = event.target.value.length &gt; 3\n  if (!pattern.test(inputChar) ||  lIsTooLong) {\n    // invalid character, prevent input\n    event.preventDefault();\n  }\n}\n</code></pre>\n\n<p>This works very well, but it does not work on android when the period or comma is pushed, the period is still put into the input box.</p>\n\n<p>I tried using <code>input</code>:</p>\n\n<p>The HTML:</p>\n\n<pre><code>&lt;input \n  #myInput\n  [(ngModel)]=\"input\"\n  (input)=\"myInput.value = format(input)\"\n  type=\"number\"\n  pattern=\"[0-9]*\"\n  inputmode=\"numeric\"\n  style=\"-webkit-text-security: disc;\"&gt;&lt;/input&gt;\n</code></pre>\n\n<p>The Type Script:</p>\n\n<pre><code>format(valString) {\n  console.log(valString);\n  if (!valString) {\n    return '';\n  }\n  let val = valString.toString();\n  if (val.length &gt; 4) {\n    val = val.slice(0, 4)\n  }\n  return val.replace(/\\D+/g, '')\n}\n</code></pre>\n\n<p>This last way seemed promising but when more than two <code>.</code> were entered the code actually broke and stopped calling the format function. I did a console log and the value <code>valString</code> was and empty string, but the text in the box was <code>123423.........</code></p>\n"}, {"tags": ["javascript", "angular", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 430, "user_id": 3351016, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/715aa12d8086f33b93c8f9490ed4b87d?s=128&d=identicon&r=PG", "display_name": "vanessa", "link": "https://stackoverflow.com/users/3351016/vanessa"}, "edited": false, "score": 0, "creation_date": 1508957718, "post_id": 46940028, "comment_id": 80827240, "body": "Hi, have you tried {{object1.some_property[object2.property]}} ?"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8117362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIj99.jpg?s=128&g=1", "display_name": "official_aV", "link": "https://stackoverflow.com/users/8117362/official-av"}, "edited": false, "score": 0, "creation_date": 1508957950, "post_id": 46940082, "comment_id": 80827380, "body": "I&#39;ll give this a try! Thanks a lot :)"}, {"owner": {"reputation": 3365, "user_id": 4000926, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7ad4c1c6e6b99d7976e29e54661a0260?s=128&d=identicon&r=PG&f=1", "display_name": "cramopy", "link": "https://stackoverflow.com/users/4000926/cramopy"}, "edited": false, "score": 0, "creation_date": 1508960308, "post_id": 46940082, "comment_id": 80828714, "body": "please add some Explanation on the changes you made (and why the changes should be made) in order to hep future readers to understand the error and the solution better. thanks!"}, {"owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1508962419, "post_id": 46940082, "comment_id": 80829841, "body": "explanation is in the code itself"}], "tags": [], "owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "is_accepted": false, "score": 0, "last_activity_date": 1508957773, "creation_date": 1508957773, "answer_id": 46940082, "question_id": 46940028, "link": "https://stackoverflow.com/questions/46940028/how-to-use-value-from-object1-property-as-a-property-for-object2/46940082#46940082", "title": "How to use value from object1.property as a property for object2?", "body": "<pre><code>&lt;div&gt; {{object1.some_property.[get.value.from.your.other.object.and.put.it.in.square.brackets.like.this.as.thats.associative.arrays.notation.which.you.can.use.for.any.object.property]}} &lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 3351016, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/715aa12d8086f33b93c8f9490ed4b87d?s=128&d=identicon&r=PG", "display_name": "vanessa", "link": "https://stackoverflow.com/users/3351016/vanessa"}, "is_accepted": true, "score": 0, "last_activity_date": 1508957803, "creation_date": 1508957803, "answer_id": 46940089, "question_id": 46940028, "link": "https://stackoverflow.com/questions/46940028/how-to-use-value-from-object1-property-as-a-property-for-object2/46940089#46940089", "title": "How to use value from object1.property as a property for object2?", "body": "<p>have you tried something like {{object1.some_property[object2.property]}} ?</p>\n"}], "owner": {"reputation": 9, "user_id": 8117362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIj99.jpg?s=128&g=1", "display_name": "official_aV", "link": "https://stackoverflow.com/users/8117362/official-av"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "closed_date": 1508958089, "accepted_answer_id": 46940089, "answer_count": 2, "score": -2, "last_activity_date": 1508957803, "creation_date": 1508957569, "question_id": 46940028, "link": "https://stackoverflow.com/questions/46940028/how-to-use-value-from-object1-property-as-a-property-for-object2", "closed_reason": "Duplicate", "title": "How to use value from object1.property as a property for object2?", "body": "<p>In my angular component's template, <strong>I'm trying to achieve something like this:</strong></p>\n\n<pre><code>&lt;div&gt; {{object1.some_property.(get value from object2.property and use it here, as it is a property of object1)}} &lt;/div&gt;\n</code></pre>\n\n<p>Is it possible in JavaScript using some ES6 format or in typescript?\nIf not, should I use some variable in the template to store the object's value and fetch it from there?\nIf yes,then how?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 4, "last_activity_date": 1508960264, "last_edit_date": 1508960264, "creation_date": 1508957742, "answer_id": 46940075, "question_id": 46939847, "link": "https://stackoverflow.com/questions/46939847/how-user-async-guard/46940075#46940075", "title": "How user async guard?", "body": "<p>You cannot return anything from <code>subscribe</code>, use <code>map</code> instead, also you need to add a <code>return</code> statement.</p>\n\n<pre><code>canActivate() {\n  // add 'return'\n  return this.globalVarsService.getAgreeState()\n   // change this!\n   // .subscribe(state =&gt; {\n   .map(state =&gt; {\n     if(!state) {\n        this.router.navigate(['/agree']);\n        return false;\n     }\n     return true;\n   }); \n }  \n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 8076933, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fef63d7e83cbb65520d33bc1622cc0cd?s=128&d=identicon&r=PG&f=1", "display_name": "super.prozandr1", "link": "https://stackoverflow.com/users/8076933/super-prozandr1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 1, "accepted_answer_id": 46940075, "answer_count": 1, "score": 2, "last_activity_date": 1508960264, "creation_date": 1508956827, "question_id": 46939847, "link": "https://stackoverflow.com/questions/46939847/how-user-async-guard", "title": "How user async guard?", "body": "<p>Please help use async route guard.</p>\n\n<p>I have service, which check authentication users:</p>\n\n<pre><code>@Injectable()\nexport class GlobalVarsService {\n\n    private isAgreeOk = new BehaviorSubject(false);\n\n  constructor() { };\n\n  getAgreeState(): Observable&lt;boolean&gt; {\n    return this.isAgreeOk;\n  };  \n\n  setAgreeState(state): void {\n    this.isAgreeOk.next(state);    \n  };   \n}\n</code></pre>\n\n<p>If getAgreeState() return true value, then user is authenticated.</p>\n\n<p>My guard service:</p>\n\n<pre><code>import { GlobalVarsService } from '../services/global-vars.service';\n\n\n@Injectable()\nexport class AgreeGuardService implements CanActivate {\n\n  constructor(private router: Router,\n                        private globalVarsService: GlobalVarsService) { };\n\n  canActivate() {\n    this.globalVarsService.getAgreeState().subscribe(\n    state =&gt; {\n      if(!state) {\n            this.router.navigate(['/agree']);\n            return false;\n      } else {\n        return true;\n      }      \n\n    }); \n  }  \n\n}\n</code></pre>\n\n<p>My routes:</p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: 'agree',\n    children: [],\n    component: AgreeComponent\n  },    \n  {\n    path: 'question',\n    children: [],\n    canActivate: [AgreeGuardService],\n    component: QuestionComponent\n  }, \n</code></pre>\n\n<p>But console display follow error message:</p>\n\n<blockquote>\n  <p>ERROR in\n  /home/kalinin/angular2/PRACTICE/feedback/src/app/services/agree-guard.service.ts\n  (8,14): Class 'AgreeGuardService' incorrectly implements interface\n  'CanActivate'.   Types of property 'canActivate' are incompatible.\n      Type '() => void' is not assignable to type '(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) => boolean |\n  Observable | Pr...'.\n        Type 'void' is not assignable to type 'boolean | Observable | Promise'.</p>\n</blockquote>\n\n<p>GlobalVarsService and his methods i use also in other components. therefore I can not change them.</p>\n"}, {"tags": ["angular", "typescript", "sanitization"], "answers": [{"tags": [], "owner": {"reputation": 937, "user_id": 2363069, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZibB7.jpg?s=128&g=1", "display_name": "Jonathan Anctil", "link": "https://stackoverflow.com/users/2363069/jonathan-anctil"}, "is_accepted": false, "score": 2, "last_activity_date": 1508958694, "creation_date": 1508958694, "answer_id": 46940354, "question_id": 46939712, "link": "https://stackoverflow.com/questions/46939712/the-using-of-bypasssecuritytrusthtml-seems-to-break-hyperlink/46940354#46940354", "title": "The using of bypassSecurityTrustHtml seems to break hyperlink", "body": "<p>Ok, I've found it!</p>\n\n<p>I've set the change detection of my component to <code>OnPush</code> strategy and it works now:</p>\n\n<pre><code>@Component( {\n    ...\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 937, "user_id": 2363069, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZibB7.jpg?s=128&g=1", "display_name": "Jonathan Anctil", "link": "https://stackoverflow.com/users/2363069/jonathan-anctil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1508958694, "creation_date": 1508956335, "question_id": 46939712, "link": "https://stackoverflow.com/questions/46939712/the-using-of-bypasssecuritytrusthtml-seems-to-break-hyperlink", "title": "The using of bypassSecurityTrustHtml seems to break hyperlink", "body": "<p>I try to detect an Url or plain text in a string value. If it's an Url, the function return a HTML hyperlink using <code>bypassSecurityTrustHtml</code>. The hyperlink is displayed, but when I click on it, nothing happen. However, Chrome recognize it as a link and when I right click, I can select \u00abOpen in a new window\u00bb and it works.</p>\n\n<p>Angular code: </p>\n\n<pre><code>public formatReservedField(value: string) {\n  let pattern = /(http|https|ftp|ftps)\\:\\/\\//gm;\n\n  if (pattern.test(value)) {\n    return this._sanitizer.bypassSecurityTrustHtml(\"&lt;a href='\" + value + \"' target='_blank'&gt;\" + value + \"&lt;/a&gt;\");\n  }\n\n  return value;\n}\n</code></pre>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;div [innerHTML]=\"formatReservedField(reservedField)\"&gt;&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "visual-studio-2017", "typescript-2.5"], "comments": [{"owner": {"reputation": 739, "user_id": 6331848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879ae8a68a61582b83224a4df126bb21?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Devries", "link": "https://stackoverflow.com/users/6331848/thomas-devries"}, "edited": false, "score": 0, "creation_date": 1508956736, "post_id": 46939702, "comment_id": 80826690, "body": "I&#39;m not sure I understand your question. What behavior were you expecting? Where are the implementations of the definition in <code>module.d.ts</code>?"}, {"owner": {"reputation": 16835, "user_id": 498609, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/229a232506c8a58b6630d9f8fe32192e?s=128&d=identicon&r=PG", "display_name": "Diego", "link": "https://stackoverflow.com/users/498609/diego"}, "reply_to_user": {"reputation": 739, "user_id": 6331848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879ae8a68a61582b83224a4df126bb21?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Devries", "link": "https://stackoverflow.com/users/6331848/thomas-devries"}, "edited": false, "score": 0, "creation_date": 1508957090, "post_id": 46939702, "comment_id": 80826901, "body": "@ThomasDevries There are no implementations. A definition file (<code>.d.ts</code>) not always needs them. It&#39;s supposed to define a bunch of interfaces to make Typescript strongly-typed, but at run time, all these objects have no type (their type is <code>any</code>), so the <code>require</code> function should not be called."}], "answers": [{"tags": [], "owner": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "is_accepted": false, "score": 1, "last_activity_date": 1508958850, "creation_date": 1508958850, "answer_id": 46940392, "question_id": 46939702, "link": "https://stackoverflow.com/questions/46939702/typescript-classes-and-interfaces-in-definition-file-getting-required-in-compil/46940392#46940392", "title": "Typescript: classes and Interfaces in definition file getting required in compiled .js", "body": "<p><code>models.d.ts</code> implies that there is a <code>models.js</code> that already exists in its place in your output directory.</p>\n\n<p>You should probably use a <code>.ts</code> file if that isn't the case. In other words, rename it from <code>models.d.ts</code> to <code>models.ts</code>.</p>\n"}], "owner": {"reputation": 16835, "user_id": 498609, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/229a232506c8a58b6630d9f8fe32192e?s=128&d=identicon&r=PG", "display_name": "Diego", "link": "https://stackoverflow.com/users/498609/diego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508958850, "creation_date": 1508956303, "question_id": 46939702, "link": "https://stackoverflow.com/questions/46939702/typescript-classes-and-interfaces-in-definition-file-getting-required-in-compil", "title": "Typescript: classes and Interfaces in definition file getting required in compiled .js", "body": "<p>I have a Typescript project with two important files:</p>\n\n<pre><code>app.ts\nmodels.d.ts\n</code></pre>\n\n<p>The first few lines of <code>app.ts</code> look like this:</p>\n\n<pre><code>///&lt;reference path=\"models.d.ts\"/&gt;\n'use strict';\n\nimport * as fs from 'async-file';\nimport { MyClass } from './models';\n</code></pre>\n\n<p>The first few lines of the <strong>compiled</strong> <code>app.js</code> are:</p>\n\n<pre><code>///&lt;reference path=\"models.d.ts\"/&gt;\n'use strict';\nvar __awaiter = (this &amp;&amp; this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"async-file\");\nconst models_1 = require(\"./models\"); //// ERROR THROWN HERE!!!!!!!!\n</code></pre>\n\n<p>However, no <code>models.js</code> is generated because it's just a <code>.d.ts</code> declaration file. So when I run this, and <code>require</code> is called to get <code>./models</code>, I get the following exception:</p>\n\n<blockquote>\n  <p>Cannot find module './models'</p>\n</blockquote>\n\n<p>This is <strong>Visual Studio Professional 2017</strong> and I don't have a <code>tsconfig.json</code> file. However, my project compilation settings look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/N3gkf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N3gkf.png\" alt=\"CompilationSettings\"></a></p>\n\n<p>What am I doing wrong? This is killing me.</p>\n"}, {"tags": ["javascript", "jquery", "typescript", "jquery-ui", "arrow-functions"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8833247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZtxR.jpg?s=128&g=1", "display_name": "glitchroy", "link": "https://stackoverflow.com/users/8833247/glitchroy"}, "edited": false, "score": 0, "creation_date": 1508956374, "post_id": 46939555, "comment_id": 80826487, "body": "<code>amount</code> is not associated with <code>Item</code>, but with <code>InventoryElement</code>. I was trying to still show it on <code>Item</code>&#39;s tooltip though, maybe that&#39;s not possible."}, {"owner": {"reputation": 7190, "user_id": 576725, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a535a378afa1bd9dd4846b87d7bc7227?s=128&d=identicon&r=PG", "display_name": "Luke", "link": "https://stackoverflow.com/users/576725/luke"}, "reply_to_user": {"reputation": 3, "user_id": 8833247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZtxR.jpg?s=128&g=1", "display_name": "glitchroy", "link": "https://stackoverflow.com/users/8833247/glitchroy"}, "edited": false, "score": 0, "creation_date": 1508956458, "post_id": 46939555, "comment_id": 80826528, "body": "I know. But you are setting amount as attribute to Item.element. So why dont you associate it with Item, when the elements reacts to it?"}, {"owner": {"reputation": 3, "user_id": 8833247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZtxR.jpg?s=128&g=1", "display_name": "glitchroy", "link": "https://stackoverflow.com/users/8833247/glitchroy"}, "edited": false, "score": 0, "creation_date": 1508956873, "post_id": 46939555, "comment_id": 80826773, "body": "Actually yes, I think that would be way easier and avoid the whole headache with the calling contexts and function binding and such. Thanks!"}], "tags": [], "owner": {"reputation": 7190, "user_id": 576725, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a535a378afa1bd9dd4846b87d7bc7227?s=128&d=identicon&r=PG", "display_name": "Luke", "link": "https://stackoverflow.com/users/576725/luke"}, "is_accepted": true, "score": 0, "last_activity_date": 1508955779, "creation_date": 1508955779, "answer_id": 46939555, "question_id": 46939234, "link": "https://stackoverflow.com/questions/46939234/typescript-overwrite-instance-function-in-unrelated-class/46939555#46939555", "title": "TypeScript: Overwrite instance function in unrelated class", "body": "<p>When using arrow function, you are binding <code>this</code> to the calling instance of type <code>InventoryElement</code>. </p>\n\n<p>If you want to call <code>this.element</code> in <code>Item</code>, you need to do</p>\n\n<pre><code>this.item._tooltipUpdate = function() {\n    // this is now bound to Item\n}.bind(this.item);\n</code></pre>\n\n<p>See <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow noreferrer\">bind</a> function definition</p>\n\n<p>Generally I do not think the way you would do this, is the best way.\nIt seems like your _tooltipUpdate is something like a handler, that enables you to react upon a change within the item. It is always better to implement some event logic and then attach listeners to it. </p>\n\n<p>Also, as I see, there is just <code>amount</code> that is changing. So why not just have a method within <code>Item</code> that says <code>setAmount</code>. That would be much cleaner and easier to implement. </p>\n"}], "owner": {"reputation": 3, "user_id": 8833247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZtxR.jpg?s=128&g=1", "display_name": "glitchroy", "link": "https://stackoverflow.com/users/8833247/glitchroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 46939555, "answer_count": 1, "score": 0, "last_activity_date": 1508955779, "creation_date": 1508954666, "question_id": 46939234, "link": "https://stackoverflow.com/questions/46939234/typescript-overwrite-instance-function-in-unrelated-class", "title": "TypeScript: Overwrite instance function in unrelated class", "body": "<p>I have an <code>Item</code> Class built like this</p>\n\n<pre><code>export class Item {\n\n    element:JQuery&lt;HTMLElement&gt;\n\n    constructor(...) {\n        this.element = $(\"&lt;div &gt;...&lt;/div&gt;\");\n        ...\n        this._tooltipUpdate();\n        this.element.tooltip({\n            items: \"div[data-tooltip]\",\n            content: this.element.attr(\"data-tooltip\"),\n            open: this._tooltipUpdate,\n            ...\n        });\n\n    }\n\n    ...\n\n    public _tooltipUpdate = ():void =&gt; {\n        this.element.attr(\n            \"data-tooltip\",\n            `...`\n        );\n    };\n\n}\n</code></pre>\n\n<p>Basically, the <code>Item</code> Class has an <code>element</code> attribute that holds its DOM element.</p>\n\n<p>I now have a different class, <code>InventoryElement</code></p>\n\n<pre><code>export class InventoryElement extends MenuElement {\n\n    amount:number;\n\n    constructor(item:Item) {\n        super(...)\n\n        this.amount = 0;\n\n        ...\n\n        this.item._tooltipUpdate = () =&gt; {\n            this.element.attr(\n                \"data-tooltip\",\n                `${this.amount}`\n            );\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>The <code>Item</code> instance of <code>InventoryElement</code> should have a different <code>_tooltipUpdate</code> function, basically.\nCurrently, it's not overwriting it correctly.\nI had <code>_tooltipUpdate</code> on <code>Item</code> implemented like this before,</p>\n\n<pre><code>_tooltipUpdate() {\n    ...\n}\n</code></pre>\n\n<p>but I read  that that would implement it as a prototype function instead of an instance function with the arrow operator above.</p>\n\n<p>Am I using the arrow function properly? How can I change the function of the <code>Item</code> instance? Thanks!</p>\n"}, {"tags": ["angular", "typescript", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 4875710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-M7WHqCrsfY8/AAAAAAAAAAI/AAAAAAAAABQ/xfuz6tXbRPo/photo.jpg?sz=128", "display_name": "Leonardo Tanoue", "link": "https://stackoverflow.com/users/4875710/leonardo-tanoue"}, "edited": false, "score": 0, "creation_date": 1509038432, "post_id": 46941599, "comment_id": 80867886, "body": "Hi thank you for the help, after messing around a little more I figured out that the extension called &quot;Prettier&quot; that comes with &quot;Angular Essentials&quot; was causing the issue. I just had to add &quot;prettier.printWidth&quot;: 160"}, {"owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "edited": false, "score": 0, "creation_date": 1510257872, "post_id": 46941599, "comment_id": 81370473, "body": "Not working for me as of the current version. By default, its set to off - and still i see the same behavior. Even after i override dafult behavior with the settings you provided - i still see the same weird new lines after formatting. If you have updated info - please, take a look at <a href=\"https://stackoverflow.com/questions/47209641/tslint-in-vs-code-formatting-new-lines-before-arguments\" title=\"tslint in vs code formatting new lines before arguments\">stackoverflow.com/questions/47209641/&hellip;</a>"}], "tags": [], "owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "is_accepted": false, "score": 1, "last_activity_date": 1510259906, "last_edit_date": 1510259906, "creation_date": 1508963694, "answer_id": 46941599, "question_id": 46939118, "link": "https://stackoverflow.com/questions/46939118/visual-studio-code-typescript-avoid-parameters-on-new-line/46941599#46941599", "title": "Visual Studio Code Typescript avoid parameters on new line", "body": "<p>According to <a href=\"https://code.visualstudio.com/updates/v1_10#_word-wrap-settings-redesign\" rel=\"nofollow noreferrer\">this</a> </p>\n\n<blockquote>\n  <p>editor.wordWrap: \"off\" - Lines will never wrap.<br>\n  editor.wordWrap: \"on\" - Lines will wrap at viewport width.<br>\n  editor.wordWrap: \"wordWrapColumn\" - Lines will wrap at the value of editor.wordWrapColumn. editor.wordWrap: \"bounded\" - Lines will wrap at the minimum of viewport width and the value of editor.wordWrapColumn.</p>\n</blockquote>\n\n<p>you should set:</p>\n\n<pre><code>\"editor.wordWrap\": \"bounded\",\n\"editor.wordWrapColumn\": 180\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "edited": false, "score": 0, "creation_date": 1510261865, "post_id": 46960288, "comment_id": 81372581, "body": "I&#39;ve end up with the same. However, placing <code>&quot;prettier.printWidth&quot;: 160</code> to the settings give no effect on the behavior."}], "tags": [], "owner": {"reputation": 89, "user_id": 4875710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-M7WHqCrsfY8/AAAAAAAAAAI/AAAAAAAAABQ/xfuz6tXbRPo/photo.jpg?sz=128", "display_name": "Leonardo Tanoue", "link": "https://stackoverflow.com/users/4875710/leonardo-tanoue"}, "is_accepted": false, "score": 0, "last_activity_date": 1509038500, "creation_date": 1509038500, "answer_id": 46960288, "question_id": 46939118, "link": "https://stackoverflow.com/questions/46939118/visual-studio-code-typescript-avoid-parameters-on-new-line/46960288#46960288", "title": "Visual Studio Code Typescript avoid parameters on new line", "body": "<p>I figured out that the extension called \"Prettier\" that comes with \"Angular Essentials\" was causing the issue. I just had to add \"prettier.printWidth\": 160 to the settings.</p>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 571344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65919edc78a8512f97858ec672f1a4a3?s=128&d=identicon&r=PG", "display_name": "inspirationCloud", "link": "https://stackoverflow.com/users/571344/inspirationcloud"}, "is_accepted": true, "score": 4, "last_activity_date": 1513108331, "creation_date": 1513108331, "answer_id": 47780517, "question_id": 46939118, "link": "https://stackoverflow.com/questions/46939118/visual-studio-code-typescript-avoid-parameters-on-new-line/47780517#47780517", "title": "Visual Studio Code Typescript avoid parameters on new line", "body": "<p>For me <code>\"prettier.printWidth\": 180</code> didn't work, but it turns out the latest version of prettier doesn't have the \"prettier\" part at the beginning of each property.</p>\n\n<p>So in <code>.prettierrc</code> I now have <code>\"printWidth\": 180</code> which fixed this issue.</p>\n"}], "owner": {"reputation": 89, "user_id": 4875710, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-M7WHqCrsfY8/AAAAAAAAAAI/AAAAAAAAABQ/xfuz6tXbRPo/photo.jpg?sz=128", "display_name": "Leonardo Tanoue", "link": "https://stackoverflow.com/users/4875710/leonardo-tanoue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2016, "favorite_count": 0, "accepted_answer_id": 47780517, "answer_count": 3, "score": 4, "last_activity_date": 1513108331, "creation_date": 1508954319, "question_id": 46939118, "link": "https://stackoverflow.com/questions/46939118/visual-studio-code-typescript-avoid-parameters-on-new-line", "title": "Visual Studio Code Typescript avoid parameters on new line", "body": "<p>I'm working on a Angular project on Visual Studio Code and I getting one annoying format document setting on Typescript files where it breaks parameters to a new line:</p>\n\n<p>Before formatting (alt+shift+f):</p>\n\n<pre><code>this.opportunityId = this.route.snapshot.paramMap.get('opportunityid');\nthis.opportunityTermVendorId = this.route.snapshot.paramMap.get('vendorid');\nthis.opportunityTermVendorAssetId = this.route.snapshot.paramMap.get('assetid');\nthis.opportunityTermCollateralId = this.route.snapshot.paramMap.get('collateralid');\n</code></pre>\n\n<p>After formatting (alt+shift+f):</p>\n\n<pre><code>this.opportunityId = this.route.snapshot.paramMap.get('opportunityid');\nthis.opportunityTermVendorId = this.route.snapshot.paramMap.get('vendorid');\nthis.opportunityTermVendorAssetId = this.route.snapshot.paramMap.get(\n  'assetid'\n);\nthis.opportunityTermCollateralId = this.route.snapshot.paramMap.get(\n  'collateralid'\n);\n</code></pre>\n\n<p>I have word wrap turned off but I still tried to set it to a bigger word wrap column value. See my current settings override</p>\n\n<pre><code>{\n   \"git.confirmSync\": false,\n   \"terminal.integrated.shell.windows\": \"C:\\\\Windows\\\\System32\\\\cmd.exe\",\n   \"workbench.iconTheme\": \"material-icon-theme\",\n   \"editor.formatOnSave\": true,\n   \"prettier.singleQuote\": true,\n   \"editor.wordWrapColumn\": 180\n }\n</code></pre>\n"}, {"tags": ["typescript", "decorator"], "answers": [{"tags": [], "owner": {"reputation": 10043, "user_id": 5770132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08d37535f8b1f2d7c5785cfd21067b9?s=128&d=identicon&r=PG", "display_name": "Oblosys", "link": "https://stackoverflow.com/users/5770132/oblosys"}, "is_accepted": true, "score": 2, "last_activity_date": 1508952907, "creation_date": 1508952907, "answer_id": 46938701, "question_id": 46938557, "link": "https://stackoverflow.com/questions/46938557/typescript-react-component-decorator/46938701#46938701", "title": "Typescript React component decorator", "body": "<p>As you're passing the class to <code>greet</code>, rather than an object of that class, add a <code>typeof</code>:</p>\n\n<pre><code>const greet = (arg: Greeter) =&gt; (Comp: typeof React.Component) =&gt; {\n  // do some stuff\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 2562438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61adad448c97aa49abafac0be9488e72?s=128&d=identicon&r=PG", "display_name": "user2562438", "link": "https://stackoverflow.com/users/2562438/user2562438"}, "is_accepted": false, "score": 0, "last_activity_date": 1534695374, "creation_date": 1534695374, "answer_id": 51919587, "question_id": 46938557, "link": "https://stackoverflow.com/questions/46938557/typescript-react-component-decorator/51919587#51919587", "title": "Typescript React component decorator", "body": "<p>I'm not sure when this was added, but in newer versions of <code>@types/react</code> you can also do <code>React.ComponentType</code> e.g.</p>\n\n<pre><code>const greet = (arg: Greeter) =&gt; (Comp: React.ComponentType) =&gt; {\n  // do some stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4107, "favorite_count": 1, "accepted_answer_id": 46938701, "answer_count": 2, "score": 0, "last_activity_date": 1534695374, "creation_date": 1508952415, "last_edit_date": 1509004624, "question_id": 46938557, "link": "https://stackoverflow.com/questions/46938557/typescript-react-component-decorator", "title": "Typescript React component decorator", "body": "<p>It might be a rookie mistake, but I'm trying to create a simple class decorator using typescript for a React component, like this:</p>\n\n<pre><code>import * as React from 'react'\n\ninterface Greeter {\n  sayHello: boolean\n}\n\nconst greet = (arg: Greeter) =&gt; (Comp: React.Component) =&gt; {\n  // do some stuff\n}\n\n@greet({ sayHello: true })\nclass MyComp extends React.Component&lt;any, any&gt; {\n  render() {\n    return &lt;div&gt;Hi&lt;/div&gt;\n  }\n}\n</code></pre>\n\n<p>But I'm getting a compile error saying</p>\n\n<blockquote>\n  <p>Argument of type 'typeof MyComp' is not assignable to parameter of\n  type 'Component&lt;{}, {}>'.</p>\n</blockquote>\n\n<p>What exactly am I doing wrong here? Am I missing something with the decorator syntax?</p>\n"}, {"tags": ["arrays", "angular", "typescript", "object", "ionic-framework"], "answers": [{"tags": [], "owner": {"reputation": 513, "user_id": 1556005, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/i5dRU.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1556005/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1508957104, "creation_date": 1508957104, "answer_id": 46939918, "question_id": 46938383, "link": "https://stackoverflow.com/questions/46938383/items-being-returned-out-of-order-after-mapping-with-a-promise-ionic-angular-t/46939918#46939918", "title": "Items being returned out of order after mapping with a promise - Ionic/Angular/Typescript", "body": "<p>Just order the items after you have them all.</p>\n\n<pre><code>store.sort((a,b) =&gt; {\n    return a.prop - b.prop;\n});\n</code></pre>\n"}], "owner": {"reputation": 2507, "user_id": 2287557, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Hdh8F.jpg?s=128&g=1", "display_name": "ewizard", "link": "https://stackoverflow.com/users/2287557/ewizard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508957104, "creation_date": 1508951724, "question_id": 46938383, "link": "https://stackoverflow.com/questions/46938383/items-being-returned-out-of-order-after-mapping-with-a-promise-ionic-angular-t", "title": "Items being returned out of order after mapping with a promise - Ionic/Angular/Typescript", "body": "<p>I am retrieving items from a database for a feed, and they need to stay in the order that I retrieve them (because it's a feed). Right now, I take the array from the query and map it. After all is said and done - it will display the feed objects out of order. Here is my code:</p>\n\n<pre><code>    let cacheKey = 'promos';\n    let promises_array:Array&lt;any&gt; = [];\n    let mapped;\n    this.cache.removeItem(cacheKey);\n\n    this.cache.getItem(cacheKey).catch(() =&gt; {\n      let store = [];\n\n      this.list2 = this.af.list('/promos', {\n      query: {\n        limitToLast: 10\n      }});\n\n      this.subscription4 = this.list2.subscribe(items =&gt; {\n        mapped = items.map((item) =&gt; {\n          return new Promise((resolve,reject) =&gt; {\n            let storageRef = firebase.storage().ref().child('/settings/' + item.customMetadata.username + '/profilepicture.png');\n\n            storageRef.getDownloadURL().then(url =&gt; {\n              console.log(url + \"in download url !!!!!!!!!!!!!!!!!!!!!!!!\");\n              item.customMetadata.picURL = url;\n              store.push(item.customMetadata);\n              resolve();\n            }).catch((e) =&gt; {\n              console.log(\"in caught url !!!!!!!$$$$$$$!!\");\n              item.customMetadata.picURL = 'assets/blankprof.png';\n              store.push(item.customMetadata);\n              resolve();\n            });\n\n\n          })\n        })\n\n        console.log(JSON.stringify(mapped) + \"    mappped things\");\n\n\n\n        this.startAtKey = items[0].$key;\n        this.lastKey = this.startAtKey;\n\n        let results = Promise.all(mapped);\n        results.then(() =&gt; {\n        //setTimeout(() =&gt; {\n\n          this.items = store.reverse();\n          //this.classesListArray.reverse();   \n          console.log(JSON.stringify(this.items) + \" value value vlaue items\");\n          return this.cache.saveItem(cacheKey, this.items);\n        //}, 3000);\n\n        })\n      })\n    }).then(data =&gt; {\n      this.items = data;\n    })\n</code></pre>\n\n<p>Im guessing that the images are being loaded at different rates each time, and are being mapped out of order somehow due to their loading time, even though map is supposed to preserve order with an array. The other thing is, I'm not sure if what is coming back from the request is actually an array. When I log <code>typeof items</code> inside the subscript, it returns <code>object</code>, but with <code>JSON.stringify</code> it shows an array structure - could this be why it is losing order? It is not actually an array?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1508949081, "post_id": 46937631, "comment_id": 80822395, "body": "<a href=\"https://github.com/salemdar/angular2-cookie/issues/37\" rel=\"nofollow noreferrer\">github.com/salemdar/angular2-cookie/issues/37</a>"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "reply_to_user": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1508950699, "post_id": 46937631, "comment_id": 80823273, "body": "@Sajeetharan: Unfortunately didn&#39;t help... none of the provided hints on  <a href=\"https://github.com/salemdar/angular2-cookie/issues/37\" rel=\"nofollow noreferrer\">https://github.com/salemdar/angular2-cookie/issues/37</a> did help. And I don&#39;t understand why it should handle with Cookies.. I&#39;am not using cookies."}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 1, "creation_date": 1508953912, "post_id": 46937631, "comment_id": 80825104, "body": "does it work well on <code>ng serve</code> locally  ?"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "reply_to_user": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1508954983, "post_id": 46937631, "comment_id": 80825712, "body": "@RahulSingh: Unfortunately not... error: <code>ERROR Error: No provider for ChildrenOutletContexts!</code> Has it to do with router module?"}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1508955164, "post_id": 46937631, "comment_id": 80825818, "body": "Yes i guess you have some spec that you test and that is failing check this <a href=\"https://stackoverflow.com/a/45180393/2708210\">stackoverflow.com/a/45180393/2708210</a>"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "reply_to_user": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1508956643, "post_id": 46937631, "comment_id": 80826625, "body": "@RahulSingh: No, not the unit test files <code>.spec</code>. It&#39;s fixed now. Was really a issue with router. But you hint with just <code>ng serve</code> did give me the idea which files could be affected."}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1508956683, "post_id": 46937631, "comment_id": 80826646, "body": "great if it works @k.vincent"}], "answers": [{"tags": [], "owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "is_accepted": true, "score": 0, "last_activity_date": 1508957016, "creation_date": 1508957016, "answer_id": 46939894, "question_id": 46937631, "link": "https://stackoverflow.com/questions/46937631/how-to-work-around-no-provider-for-t-error/46939894#46939894", "title": "How to work around &quot;No provider for t&quot; error?", "body": "<p>Fixed. It was an issue with the router which was missing in <code>imports:[...]</code>. Here is what I had to add in <code>add.module.ts</code>:</p>\n\n<pre><code>    @NgModule({\n    declarations: [\n        ...\n    ],\n    imports: [\n        RouterModule,\n        NoConflictStyleCompatibilityMode, RouterModule.forRoot(router)\n    ],\n    entryComponents:[...],\n    providers: [...],\n    bootstrap: [AppComponent]\n})\n</code></pre>\n\n<p>The point is that I already did have it before in <code>imports:[]</code> but for some reason I did remove it without paying attention.</p>\n"}], "owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "accepted_answer_id": 46939894, "answer_count": 1, "score": 0, "last_activity_date": 1509009697, "creation_date": 1508949010, "last_edit_date": 1509009697, "question_id": 46937631, "link": "https://stackoverflow.com/questions/46937631/how-to-work-around-no-provider-for-t-error", "title": "How to work around &quot;No provider for t&quot; error?", "body": "<p>After deploying my App on the production server - GitLab/Docker. I get the following error: </p>\n\n<pre><code>ERROR Error: No provider for t!\nat C (vendor.32b03a44e7dc21762830.bundle.js:1)\nat k (vendor.32b03a44e7dc21762830.bundle.js:1)\nat t._throwOrNull (vendor.32b03a44e7dc21762830.bundle.js:1)\nat t._getByKeyDefault (vendor.32b03a44e7dc21762830.bundle.js:1)\nat t._getByKey (vendor.32b03a44e7dc21762830.bundle.js:1)\nat t.get (vendor.32b03a44e7dc21762830.bundle.js:1)\nat je (vendor.32b03a44e7dc21762830.bundle.js:1)\nat t.get (vendor.32b03a44e7dc21762830.bundle.js:1)\nat dn (vendor.32b03a44e7dc21762830.bundle.js:1)\nat pn (vendor.32b03a44e7dc21762830.bundle.js:1)\n</code></pre>\n\n<p>I believe that such errors were/are posted here on the platform, but they affect totally other features. To be honest, I just can't find the solution for my issue. The strange behavior is that the app was working a fine couple of minutes ago, but suddenly when I called the page once more, I can't load the app because of the mentioned error.</p>\n\n<p>The point is that I even can't localize the affected file, component or module. I even don't know and understand the error!</p>\n\n<p>Any Hint other idea please how to fix this?</p>\n"}, {"tags": ["typescript", "ionic-framework", "checkbox", "colors", "ion-checkbox"], "answers": [{"comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1508952951, "post_id": 46937650, "comment_id": 80824553, "body": "Hmm. Well after messing with it a little, it looks like the checkbox itself is contained in the <code>&lt;ion-checkbox&gt;</code> element as a child node. But it has the class <code>checkbox-icon</code>, so we can get it by doing <code>const icon = document.getElementById(&quot;box1&quot;).querySelector(&quot;.checkbox-ico&zwnj;&#8203;n&quot;)</code>. Then, since it&#39;s the background color you need to change, do: <code>icon.style.backgroundColor = &quot;... some color&quot;</code>. Keep in mind that <code>dark</code> is not a valid color. You&#39;ll have to use either a hex string or one of the predefined html colors."}, {"owner": {"reputation": 33, "user_id": 6204744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c58d17cb17d29fbc0fef4f48153ebae8?s=128&d=identicon&r=PG&f=1", "display_name": "Ines.bsh", "link": "https://stackoverflow.com/users/6204744/ines-bsh"}, "edited": false, "score": 0, "creation_date": 1508952953, "post_id": 46937650, "comment_id": 80824556, "body": "unfortunately it does not work, if i look to the code the color has update, but not the result"}, {"owner": {"reputation": 33, "user_id": 6204744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c58d17cb17d29fbc0fef4f48153ebae8?s=128&d=identicon&r=PG&f=1", "display_name": "Ines.bsh", "link": "https://stackoverflow.com/users/6204744/ines-bsh"}, "edited": false, "score": 0, "creation_date": 1508953984, "post_id": 46937650, "comment_id": 80825146, "body": "I have this erro : cannot read property &#39;style of null, then I do this :     document.getElementById(&quot;box1&quot;).style.backgroundColor = &quot;#000000&quot;; the background of the checkbox change but the round stay blue"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "reply_to_user": {"reputation": 33, "user_id": 6204744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c58d17cb17d29fbc0fef4f48153ebae8?s=128&d=identicon&r=PG&f=1", "display_name": "Ines.bsh", "link": "https://stackoverflow.com/users/6204744/ines-bsh"}, "edited": false, "score": 0, "creation_date": 1508954090, "post_id": 46937650, "comment_id": 80825212, "body": "If the border remains blue you just have to change that color as well as the background color. So it would then be: <code>document.getElementById(&quot;box1&quot;).style.borderColor = &quot;#000000&quot;</code> in addition to the background color change."}, {"owner": {"reputation": 33, "user_id": 6204744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c58d17cb17d29fbc0fef4f48153ebae8?s=128&d=identicon&r=PG&f=1", "display_name": "Ines.bsh", "link": "https://stackoverflow.com/users/6204744/ines-bsh"}, "edited": false, "score": 0, "creation_date": 1508955163, "post_id": 46937650, "comment_id": 80825817, "body": "No the problem is not the border: inside the round of the checkbox it is blue and I have a square outside black"}, {"owner": {"reputation": 33, "user_id": 6204744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c58d17cb17d29fbc0fef4f48153ebae8?s=128&d=identicon&r=PG&f=1", "display_name": "Ines.bsh", "link": "https://stackoverflow.com/users/6204744/ines-bsh"}, "edited": false, "score": 0, "creation_date": 1508956150, "post_id": 46937650, "comment_id": 80826365, "body": "I find the solution I do this :     document.getElementById(&quot;box1&quot;).getElementsByClassName( &#39;checkbox-icon checkbox-checked&#39; )[0].style.backgroundColor = &quot;#000000&quot;;  thank for your help"}], "tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 0, "last_activity_date": 1508949052, "creation_date": 1508949052, "answer_id": 46937650, "question_id": 46937592, "link": "https://stackoverflow.com/questions/46937592/ionic-ion-checkbox-change-color-in-typescript/46937650#46937650", "title": "Ionic Ion-checkbox change color in Typescript", "body": "<p>try:</p>\n\n<pre><code>document.getElementById(\"box1\").setAttribute(\"color\", \"dark\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>document.getElementById(\"box1\").style.color = \"dark\"\n</code></pre>\n\n<p>The first will change the color attribute of the element, while the second changes the css style for color of the element.</p>\n\n<p>For typescript to be happy, you may also have to cast the result of your <code>getElementById</code> call. I.E.</p>\n\n<pre><code>(document.getElementById(\"box1\") as HTMLElement).style.color ...\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6204744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c58d17cb17d29fbc0fef4f48153ebae8?s=128&d=identicon&r=PG&f=1", "display_name": "Ines.bsh", "link": "https://stackoverflow.com/users/6204744/ines-bsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1030, "favorite_count": 0, "accepted_answer_id": 46937650, "answer_count": 1, "score": 0, "last_activity_date": 1512722359, "creation_date": 1508948895, "last_edit_date": 1512722359, "question_id": 46937592, "link": "https://stackoverflow.com/questions/46937592/ionic-ion-checkbox-change-color-in-typescript", "title": "Ionic Ion-checkbox change color in Typescript", "body": "<p>I want to change the color of the ion-checkbox in the typescript</p>\n\n<pre><code>  &lt;ion-item &gt;\n    &lt;ion-label id=\"check1\"&gt;No&lt;/ion-label&gt;\n    &lt;ion-checkbox color=\"blue\"  id=\"box1\" [(ngModel)]=\"todo.check1\"  name=\"check1\"&gt;&lt;/ion-checkbox&gt;\n  &lt;/ion-item&gt;\n</code></pre>\n\n<p>I try this:</p>\n\n<pre><code>document.getElementById(\"box1\").color = \"dark\";\n</code></pre>\n\n<p>but it doesn't work </p>\n\n<p>I also try to change the class: doesn't work</p>\n\n<p>Thanks for you help</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1508947681, "post_id": 46936874, "comment_id": 80821600, "body": "Well, probably an item in <code>displayDataChanges</code> is undefined :)"}, {"owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1508947872, "post_id": 46936874, "comment_id": 80821721, "body": "@martin I checked the items of <code>displayDataChanges</code> and they contain both well defined objects"}], "answers": [{"comments": [{"owner": {"reputation": 4071, "user_id": 83542, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/djdz6.jpg?s=128&g=1", "display_name": "Kildareflare", "link": "https://stackoverflow.com/users/83542/kildareflare"}, "edited": false, "score": 0, "creation_date": 1542972697, "post_id": 46937341, "comment_id": 93764563, "body": "Additionally I had to change <code>import { Observable } from &#39;rxjs&#47;Observable&#39;;</code> to  <code>import { Observable } from &#39;rxjs&#39;;</code>"}], "tags": [], "owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "is_accepted": true, "score": 5, "last_activity_date": 1508948078, "creation_date": 1508948078, "answer_id": 46937341, "question_id": 46936874, "link": "https://stackoverflow.com/questions/46936874/observable-merge-runs-with-typeerror-cannot-read-property-apply-of-undefined/46937341#46937341", "title": "Observable merge runs with TypeError: cannot read property &#39;apply&#39; of undefined", "body": "<p>I just found the cause of the problem: I had to import the merge!</p>\n\n<pre><code>import 'rxjs/add/observable/merge';\n</code></pre>\n\n<p>I paid attention to this by reading the answer to <a href=\"https://stackoverflow.com/questions/36585491/typescript-rxjs-observable-array-concat\">https://stackoverflow.com/questions/36585491/typescript-rxjs-observable-array-concat\n</a>.</p>\n"}], "owner": {"reputation": 2697, "user_id": 5486116, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EqRZP.png?s=128&g=1", "display_name": "Strider", "link": "https://stackoverflow.com/users/5486116/strider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2081, "favorite_count": 1, "accepted_answer_id": 46937341, "answer_count": 1, "score": 1, "last_activity_date": 1508948078, "creation_date": 1508946649, "question_id": 46936874, "link": "https://stackoverflow.com/questions/46936874/observable-merge-runs-with-typeerror-cannot-read-property-apply-of-undefined", "title": "Observable merge runs with TypeError: cannot read property &#39;apply&#39; of undefined", "body": "<p>I am trying to implement a sort DataTable in an angular application, and <a href=\"https://material.angular.io/components/table/examples\" rel=\"nofollow noreferrer\">the example</a> I am implementing runs with the following error:</p>\n\n<pre><code>ERROR TypeError: Cannot read property 'apply' of undefined\n    at TableDataSource.webpackJsonp.332.TableDataSource.connect (data-table.component.ts:83)\n</code></pre>\n\n<p>The method that causes the error is the Observable.merge():</p>\n\n<pre><code>connect(): Observable&lt;UserData[]&gt; {\n    const displayDataChanges = [\n      this._exampleDatabase.dataChange, //BehaviorSubbject\n      this._sort.sortChange, //EventEmitter\n    ];\n\n    return Observable.merge(...displayDataChanges).map(() =&gt; {\n      return this.getSortedData();\n    });\n}\n</code></pre>\n\n<p>Do you have any idea about the cause of this error? I googled for an explanation of the message that I am getting but with no success</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1508944280, "post_id": 46935881, "comment_id": 80819179, "body": "<a href=\"https://codecraft.tv/courses/angular/dependency-injection-and-providers/tokens/\" rel=\"nofollow noreferrer\">codecraft.tv/courses/angular/dependency-injection-and-provid&zwnj;&#8203;ers/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": true, "score": 2, "last_activity_date": 1508945494, "creation_date": 1508945494, "answer_id": 46936480, "question_id": 46935881, "link": "https://stackoverflow.com/questions/46935881/when-why-should-i-use-dependency-injection-tokens-in-angular4/46936480#46936480", "title": "When &amp; Why should I use Dependency Injection tokens in angular4", "body": "<p>Usually you use class/type as an injection token, it works most of the time.</p>\n\n<p>However, sometimes you don't want to expose class/type or simply want to inject raw object/array/primitive value/function/independent interface implementation. In these cases solution is to use injection token (since there are no corresponding types/classes), it is like using lookup by unique name vs lookup by class/type. </p>\n"}], "owner": {"reputation": 363, "user_id": 8832272, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qE6iP.jpg?s=128&g=1", "display_name": "TKDev", "link": "https://stackoverflow.com/users/8832272/tkdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 938, "favorite_count": 3, "accepted_answer_id": 46936480, "answer_count": 1, "score": 3, "last_activity_date": 1508945494, "creation_date": 1508943872, "question_id": 46935881, "link": "https://stackoverflow.com/questions/46935881/when-why-should-i-use-dependency-injection-tokens-in-angular4", "title": "When &amp; Why should I use Dependency Injection tokens in angular4", "body": "<p>I have come across the use of InjectionToken in injecting environment veriables (plain objects) into a service.\nI am somewhat confused as to why and how should tokens be used in Dependency Injection.\nI have search over google for phrases suck as \"When to use InjectionToken\" and \"Why should I use InjectionToken\" and I have yet to come across an article that explains the need for InjectionToken.</p>\n\n<p>My understanding is... that generally tokens are used to resolve a conflict between 2 primitives that evaluate to the same value in DI making one of them being ignored by the injector. However the subject is still very vague to me.</p>\n\n<p>Why should token be used in DI?\nor When should tokens be used in DI?\nRefrences to articles about this will also be appriciated.</p>\n"}, {"tags": ["typescript", "selenium-webdriver", "protractor"], "answers": [{"comments": [{"owner": {"reputation": 1449, "user_id": 1480488, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/10c7015da66a07368d3f52b2a6871cdb?s=128&d=identicon&r=PG", "display_name": "DarthOpto", "link": "https://stackoverflow.com/users/1480488/darthopto"}, "edited": false, "score": 0, "creation_date": 1508952853, "post_id": 46938150, "comment_id": 80824505, "body": "Thank you so much. This works splendidly. Would upvote this a million times if I could."}], "tags": [], "owner": {"reputation": 1122, "user_id": 6331748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8ddb727cbcd3c432f7328720321ae93?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper", "link": "https://stackoverflow.com/users/6331748/kacper"}, "is_accepted": true, "score": 1, "last_activity_date": 1508950914, "creation_date": 1508950914, "answer_id": 46938150, "question_id": 46935661, "link": "https://stackoverflow.com/questions/46935661/protractor-drag-and-drop-not-working/46938150#46938150", "title": "Protractor - Drag and Drop Not Working", "body": "<p>You can use external library: html-dnd: <a href=\"https://www.npmjs.com/package/html-dnd\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/html-dnd</a></p>\n\n<p>For me works as charm.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 14186672, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhTmPlXfzZ9-Y8HQPlu6-MeX7qnT4Om74WlN41O=k-s128", "display_name": "issuesolver in", "link": "https://stackoverflow.com/users/14186672/issuesolver-in"}, "is_accepted": false, "score": 0, "last_activity_date": 1607450891, "last_edit_date": 1607450891, "creation_date": 1607448347, "answer_id": 65203809, "question_id": 46935661, "link": "https://stackoverflow.com/questions/46935661/protractor-drag-and-drop-not-working/65203809#65203809", "title": "Protractor - Drag and Drop Not Working", "body": "<p>The Main reason your script does not run is <code>dragAndDrop()</code> method input parameter,\n<code>dragAndDrop</code> method takes <code>WebElement</code> as input, below is the code change you can do.</p>\n<pre><code> browser.actions()\n.dragAndDrop(leftSide.getWebElement(), rightSide.getWebElement())\n.perform()\nbrowser.sleep(2000)\n</code></pre>\n"}], "owner": {"reputation": 1449, "user_id": 1480488, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/10c7015da66a07368d3f52b2a6871cdb?s=128&d=identicon&r=PG", "display_name": "DarthOpto", "link": "https://stackoverflow.com/users/1480488/darthopto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1528, "favorite_count": 1, "accepted_answer_id": 46938150, "answer_count": 2, "score": 0, "last_activity_date": 1607450891, "creation_date": 1508943246, "question_id": 46935661, "link": "https://stackoverflow.com/questions/46935661/protractor-drag-and-drop-not-working", "title": "Protractor - Drag and Drop Not Working", "body": "<p>I am trying to drag and drop one element to another. I can see it pick up the element, and then it moves it off the screen and never drops it where it should. </p>\n\n<p><strong>Things I have tried</strong></p>\n\n<pre><code>const leftSide =  this.breakdownItems.get(0).getWebElement()\nconst rightSide = this.groupField.getWebElement()\nbrowser.actions()\n.mouseDown(leftSide)\n.mouseMove(rightSide)\n.mouseUp()\n.perform()\nbrowser.sleep(2000)\n</code></pre>\n\n<p><strong>And</strong></p>\n\n<pre><code>browser.actions()\n.dragAndDrop(leftSide, rightSide)\n.perform()\nbrowser.sleep(2000)\n</code></pre>\n\n<p>I did find an open defect for Selenium which has not been fixed yet involving drag and drop: <a href=\"https://github.com/SeleniumHQ/selenium-google-code-issue-archive/issues/3604\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium-google-code-issue-archive/issues/3604</a></p>\n\n<p>Has anyone actually gotten this working, because it seems like the standard stuff is not working at all? \nI should also mention that I am only running my tests in Chrome.</p>\n"}, {"tags": ["javascript", "typescript", "narrowing", "type-narrowing"], "answers": [{"comments": [{"owner": {"reputation": 23566, "user_id": 178757, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/487b39e86dd577c22005472b9a307b1b?s=128&d=identicon&r=PG", "display_name": "Jez", "link": "https://stackoverflow.com/users/178757/jez"}, "edited": false, "score": 0, "creation_date": 1508943338, "post_id": 46935671, "comment_id": 80818524, "body": "But I don&#39;t want to say <code>is string</code>, it&#39;s more generic than that.  I want to say &quot;it is not undefined or null&quot;."}], "tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": false, "score": 2, "last_activity_date": 1508944402, "last_edit_date": 1508944402, "creation_date": 1508943276, "answer_id": 46935671, "question_id": 46935619, "link": "https://stackoverflow.com/questions/46935619/can-i-narrow-this-down-in-typescript/46935671#46935671", "title": "Can I narrow this down in TypeScript?", "body": "<p>Yes, you've basically just written a typeguard function without adding the typeguard.</p>\n\n<p>Change:</p>\n\n<pre><code>function isSpecified(input: any): boolean\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>function isSpecified(input: any): input is string\n</code></pre>\n\n<p>More generally, you can use a generic version of the same thing, <a href=\"https://stackoverflow.com/a/46935718/2088135\">as mentioned by Ryan</a>:</p>\n\n<pre><code>function isSpecified&lt;T&gt;(input: null | undefined | T): input is T\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 5, "last_activity_date": 1508943412, "creation_date": 1508943412, "answer_id": 46935718, "question_id": 46935619, "link": "https://stackoverflow.com/questions/46935619/can-i-narrow-this-down-in-typescript/46935718#46935718", "title": "Can I narrow this down in TypeScript?", "body": "<p>You can use a generic type guard function:</p>\n\n<pre><code>public init(input?: string): void {\n    function isSpecified&lt;T&gt;(input: null | undefined | T): input is T {\n        return (typeof input !== \"undefined\") &amp;&amp; (input !== null);\n    }\n\n    if (isSpecified(input)) {\n        let copiedString: string = input; // OK\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "is_accepted": false, "score": 0, "last_activity_date": 1508946842, "creation_date": 1508946842, "answer_id": 46936944, "question_id": 46935619, "link": "https://stackoverflow.com/questions/46935619/can-i-narrow-this-down-in-typescript/46936944#46936944", "title": "Can I narrow this down in TypeScript?", "body": "<p>While the type guard function suggested in the other answers works well in many cases, in this case you have another much simpler option. Instead of checking for <code>(typeof input !== \"undefined\") &amp;&amp; (input !== null)</code> just inline a check for <code>input != null</code>.</p>\n\n<p>It's easy to forget that sometimes the type casting done by the double equal <code>==</code> and <code>!=</code> can actually be useful:</p>\n\n<pre><code>function init(input?: string): void {\n    if (input != null) {\n        let copiedString: string = input; // &lt;-- input is now 'string'\n    }\n}\n</code></pre>\n\n<p>In javascript or typescript the following are all <code>true</code>:</p>\n\n<pre><code>undefined == null\nnull == null\n'' != null\n</code></pre>\n"}], "owner": {"reputation": 23566, "user_id": 178757, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/487b39e86dd577c22005472b9a307b1b?s=128&d=identicon&r=PG", "display_name": "Jez", "link": "https://stackoverflow.com/users/178757/jez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 46935718, "answer_count": 3, "score": 2, "last_activity_date": 1508946842, "creation_date": 1508943159, "question_id": 46935619, "link": "https://stackoverflow.com/questions/46935619/can-i-narrow-this-down-in-typescript", "title": "Can I narrow this down in TypeScript?", "body": "<p>I have a utility function to check whether a variable is not null or undefined, and I want TypeScript to narrow down the input variable if it passes the check, for example:</p>\n\n<pre><code>public init(input?: string): void {\n    function isSpecified(input: any): boolean {\n        return (typeof input !== \"undefined\") &amp;&amp; (input !== null);\n    }\n\n    if (isSpecified(input)) {\n        let copiedString: string = input; // &lt;-- Error; input is still 'string | undefined'\n    }\n}\n</code></pre>\n\n<p>As you can see TS is not removing the possibility of the string being <code>undefined</code> even though the function makes that logically impossible.  Is there a way I can get this function call to narrow down <code>input</code> inside the <code>if</code> block?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1305, "user_id": 2902161, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1261558429/picture?type=large", "display_name": "Ante Jablan Adamovi\u0107", "link": "https://stackoverflow.com/users/2902161/ante-jablan-adamovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1508943742, "post_id": 46935568, "comment_id": 80818784, "body": "<code>&lt;T extends FormControl&gt;</code> is a way to display <code>generic</code> class whose type extends <code>FormControl</code>"}], "answers": [{"tags": [], "owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "is_accepted": false, "score": 2, "last_activity_date": 1508943758, "creation_date": 1508943758, "answer_id": 46935841, "question_id": 46935568, "link": "https://stackoverflow.com/questions/46935568/what-does-this-typescript-scheme-mean/46935841#46935841", "title": "What does this typescript scheme mean?", "body": "<blockquote>\n  <p>what does the <code>T extends FormControl</code> represent</p>\n</blockquote>\n\n<p>This is <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generics</a>. Basically the <code>&lt;T extends FormControl&gt;</code> introduces a new type <code>T</code> that should be the subtype of <code>FormControl</code> type.</p>\n\n<p>The <code>Validator</code> is a function that takes an object of any type that is a subtype of <code>FormControl</code>, including <code>FormControl</code> type.</p>\n\n<blockquote>\n  <p>what <code>{[error: string]:any}</code> signify?</p>\n</blockquote>\n\n<p>It specifies a new <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#indexable-types\" rel=\"nofollow noreferrer\">indexable type</a> with properties of string type.</p>\n"}], "owner": {"reputation": 11, "user_id": 4119532, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3cA3NKcsIpw/AAAAAAAAAAI/AAAAAAAAAGo/S7fOkbEufhw/photo.jpg?sz=128", "display_name": "MgenGlder", "link": "https://stackoverflow.com/users/4119532/mgenglder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1508943758, "creation_date": 1508942992, "last_edit_date": 1508943103, "question_id": 46935568, "link": "https://stackoverflow.com/questions/46935568/what-does-this-typescript-scheme-mean", "title": "What does this typescript scheme mean?", "body": "<p>What does this typescript scheme mean?  </p>\n\n<pre><code>  interface Validator&lt;T extends FormControl&gt; {\n     (c:T): {[error: string]:any};\n  }\n</code></pre>\n\n<p>I'm a bit new to Typescript and I'm trying to understand this interface function. In particular, what does the <code>&lt;T extends FormControl&gt;</code> represent? </p>\n\n<p>And what <code>{[error: string]:any}</code> signify? My guess is the return object of the function is an object with a key of type 'string' and a value of 'any' type. Can someone help clarify? </p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1151, "user_id": 2504659, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b6f0eb4bb9836fcb02428ff6beb94883?s=128&d=identicon&r=PG&f=1", "display_name": "01F0", "link": "https://stackoverflow.com/users/2504659/01f0"}, "is_accepted": true, "score": 1, "last_activity_date": 1508942571, "creation_date": 1508942571, "answer_id": 46935407, "question_id": 46935406, "link": "https://stackoverflow.com/questions/46935406/error-ts2415-in-simple-typescript-react-class/46935407#46935407", "title": "Error TS2415 in simple Typescript/React class", "body": "<p>I had to add a return statement to the render method for it to compile:</p>\n\n<pre><code>import * as React from \"react\";\n\nexport interface IMyProps {\n}\n\nexport interface IMyState {\n}\n\nexport class MyComponent extends React.Component&lt;IMyProps, IMyState&gt; {\n    constructor(props: IMyProps) { \n        super(props);\n    }\n\n    render() {\n        return &lt;div/&gt; // I had to return a valid return type here.\n    }\n}\n</code></pre>\n\n<p>I think this is because because the return type is not known until the return statement has been interpreted. \nUntil then, the render() method gets interpreted as returning 'void'.</p>\n"}], "owner": {"reputation": 1151, "user_id": 2504659, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b6f0eb4bb9836fcb02428ff6beb94883?s=128&d=identicon&r=PG&f=1", "display_name": "01F0", "link": "https://stackoverflow.com/users/2504659/01f0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1661, "favorite_count": 0, "accepted_answer_id": 46935407, "answer_count": 1, "score": 1, "last_activity_date": 1508942571, "creation_date": 1508942571, "question_id": 46935406, "link": "https://stackoverflow.com/questions/46935406/error-ts2415-in-simple-typescript-react-class", "title": "Error TS2415 in simple Typescript/React class", "body": "<p>TS2415: Class 'MyComponent' incorrectly extends base class</p>\n\n<p>I have created the following code snippet:</p>\n\n<pre><code>import * as React from \"react\";\n\nexport interface IMyProps {\n}\n\nexport interface IMyState {\n}\n\nexport class MyComponent extends React.Component&lt;IMyProps, IMyState&gt; {\n    constructor(props: IMyProps) { \n        super(props);\n    }\n\n    render() {\n\n    }\n}\n</code></pre>\n\n<p>But the TypeScript compiler gives me the following error:</p>\n\n<blockquote>\n  <p>(9,14): error TS2415: Class 'MyComponent' incorrectly extends base\n  class 'Component'.   Types of property 'render'\n  are incompatible.\n      Type '() => void' is not assignable to type '() => false | Element'.\n        Type 'void' is not assignable to type 'false | Element'.</p>\n</blockquote>\n\n<p>What's wrong here?</p>\n"}, {"tags": ["angular", "typescript", "angular4-router"], "comments": [{"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1508941439, "post_id": 46934860, "comment_id": 80817146, "body": "You can implement routing to route to your other components. See the docs here: <a href=\"https://angular.io/guide/router\" rel=\"nofollow noreferrer\">angular.io/guide/router</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6608966"}, "reply_to_user": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1508942046, "post_id": 46934860, "comment_id": 80817578, "body": "i already try that it just replace the the selector with html code what i need is to replace root selector not just child selector"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6608966"}, "edited": false, "score": 0, "creation_date": 1508943177, "post_id": 46935308, "comment_id": 80818420, "body": "i tried that too but intstead of  &lt;router-outlet&gt;&lt;div class=&quot;&quot;&gt;&lt;/div&gt;&lt;/router-outlet&gt; it just place it after it: &lt;router-outlet&gt;&lt;/router-outlet&gt;&lt;div class=&quot;&quot;&gt;&lt;/div&gt;"}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1508953724, "post_id": 46935308, "comment_id": 80825001, "body": "Maybe your routes are not configured correctly. Did you look at the github link I provided? Check out the route configurations there."}], "tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": true, "score": 0, "last_activity_date": 1508942639, "last_edit_date": 1508942639, "creation_date": 1508942323, "answer_id": 46935308, "question_id": 46934860, "link": "https://stackoverflow.com/questions/46934860/how-to-replace-the-old-selector-content-in-angular-4-or-redirect-it-to-full-new/46935308#46935308", "title": "how to replace the old selector content in angular 4 or redirect it to full new page", "body": "<p>I don't think you can \"replace\" the root selector. Rather you can change it to <em>only</em> contain a router outlet:</p>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>Then anything you route to this router outlet can use the full page and replace any menu/navigation components.</p>\n\n<p>You can then have something like a shell component that has the desired menu.</p>\n\n<p><strong>shell.component.html</strong></p>\n\n<pre><code>&lt;mh-menu&gt;&lt;/mh-menu&gt;\n\n&lt;div class='container'&gt;\n    &lt;router-outlet&gt;&lt;/router-outlet&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>You could then replace this shell component with any other component with its own menu.</p>\n\n<p>I have an example here: <a href=\"https://github.com/DeborahK/MovieHunter-routing\" rel=\"nofollow noreferrer\">https://github.com/DeborahK/MovieHunter-routing</a></p>\n\n<p>Here is a picture showing the app's router outlet and a shell component's router outlet:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pfXwE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pfXwE.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6608966"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 1, "accepted_answer_id": 46935308, "answer_count": 1, "score": 0, "last_activity_date": 1509010525, "creation_date": 1508941103, "last_edit_date": 1509010525, "question_id": 46934860, "link": "https://stackoverflow.com/questions/46934860/how-to-replace-the-old-selector-content-in-angular-4-or-redirect-it-to-full-new", "title": "how to replace the old selector content in angular 4 or redirect it to full new page", "body": "<p>I have an index page in Angular 4 and after the login, I want to replace the old page content or at least redirect it to the dashboard. On the index page there is something like about us and in the dashboard there is custom.</p>\n\n<p>I already tried I think every thing on the internet like:</p>\n\n<pre><code>{ path: '', redirect To: '/dashboard', path Match: 'full' }\ndefaulter\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-router"], "answers": [{"tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": true, "score": 1, "last_activity_date": 1508941905, "creation_date": 1508941905, "answer_id": 46935149, "question_id": 46934833, "link": "https://stackoverflow.com/questions/46934833/angular-route-dont-call-subscription-when-called-itself/46935149#46935149", "title": "Angular Route dont call subscription when called itself", "body": "<p>If you want to track when the <em>query</em> parameters change, you need to use</p>\n\n<pre><code>this.route.queryParams.subscribe(...)\n</code></pre>\n\n<p>Not <em>params</em></p>\n"}], "owner": {"reputation": 7476, "user_id": 1931605, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/vMEvq.jpg?s=128&g=1", "display_name": "Shan Khan", "link": "https://stackoverflow.com/users/1931605/shan-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 1, "accepted_answer_id": 46935149, "answer_count": 1, "score": 0, "last_activity_date": 1508942286, "creation_date": 1508941024, "last_edit_date": 1508942286, "question_id": 46934833, "link": "https://stackoverflow.com/questions/46934833/angular-route-dont-call-subscription-when-called-itself", "title": "Angular Route dont call subscription when called itself", "body": "<p>Following is my code, the subscription debugger hits first time when Page LOAD and component load first time , when button is clicked and <code>search</code> function is called. the subscription from nginit dont hit.</p>\n\n<p>Any idea why</p>\n\n<pre><code>public search(): void {\n    debugger;\n    this.router.navigate(['/logs/error'], { queryParams: { file: this.searchQuery }});\n}\n\nngOnInit() {\n    this.sub = this.route.params.subscribe(params =&gt; {\n        debugger; // (+) converts string 'id' to a number\n\n        // In a real app: dispatch action to load the details here.\n    });\n}\n</code></pre>\n"}, {"tags": ["typescript", "npm", "types", "definitelytyped", "declaration-files"], "answers": [{"tags": [], "owner": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "is_accepted": false, "score": 5, "last_activity_date": 1508940735, "creation_date": 1508940735, "answer_id": 46934739, "question_id": 46934668, "link": "https://stackoverflow.com/questions/46934668/how-can-i-install-types-compatible-with-an-older-version-of-typescript/46934739#46934739", "title": "How can I install @types compatible with an older version of TypeScript?", "body": "<p>The <code>@types</code> publisher tool actually tags releases based on compatibility.</p>\n\n<p>To be able to install declaration files that are compatible with TypeScript 2.2, you can write</p>\n\n<pre><code>npm install @types/body-parser@ts2.2\n</code></pre>\n\n<p>It's not always perfect, but it'll usually get the job done.</p>\n"}], "owner": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1508940888, "creation_date": 1508940535, "last_edit_date": 1508940805, "question_id": 46934668, "link": "https://stackoverflow.com/questions/46934668/how-can-i-install-types-compatible-with-an-older-version-of-typescript", "title": "How can I install @types compatible with an older version of TypeScript?", "body": "<p>My project uses package like <code>@types/express</code> and <code>@types/body-parser</code>. Recently these <code>.d.ts</code> files were updated to use generic defaults, but that means these declaration files now require TypeScript 2.3 or above.</p>\n\n<p>However, my project still uses an older version of TypeScript - TypeScript 2.2. How do I use npm to make sure my project can still understand these definition files without upgrading?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1246, "user_id": 3531333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywoFh.jpg?s=128&g=1", "display_name": "markoffden", "link": "https://stackoverflow.com/users/3531333/markoffden"}, "edited": false, "score": 0, "creation_date": 1508941116, "post_id": 46934666, "comment_id": 80816898, "body": "1. almost equal if I use separate <code>@Input</code> and <code>@Output</code> in toggle sorting 2. says I have no <code>_sorting</code> property in my component"}, {"owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "reply_to_user": {"reputation": 1246, "user_id": 3531333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywoFh.jpg?s=128&g=1", "display_name": "markoffden", "link": "https://stackoverflow.com/users/3531333/markoffden"}, "edited": false, "score": 0, "creation_date": 1508941212, "post_id": 46934666, "comment_id": 80816974, "body": "Obviously you should add <code>private _currSorting:string</code> field to you component."}], "tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": true, "score": 7, "last_activity_date": 1508941435, "last_edit_date": 1508941435, "creation_date": 1508940530, "answer_id": 46934666, "question_id": 46934426, "link": "https://stackoverflow.com/questions/46934426/angular-4-watch-two-way-binding-property-change/46934666#46934666", "title": "Angular 4 watch two way binding property change", "body": "<p>There are few ways to do that.</p>\n\n<p>1 . Using full <code>ngModel</code> format:</p>\n\n<pre><code>  (ngModelChange)=\"onSortChanged($event)\" [ngModel]=\"sorting\"\n\n  public onSortChanged(value:string):void\n  {\n     const changed = this._sorting !== value;\n     this._sorting = value;\n     if(changed) {\n       //... do smth\n     }\n  }\n</code></pre>\n\n<p>2 . Using <code>get</code>/<code>set</code>:</p>\n\n<pre><code>private _sorting:string;\n\npublic get sorting():string\n{\n    return this._sorting;\n}\n\npublic set sorting(value:string)\n{\n    const changed = this._sorting !== value;\n    this._sorting = value;\n    if(changed) {\n       this.onSortingChanged();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1246, "user_id": 3531333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywoFh.jpg?s=128&g=1", "display_name": "markoffden", "link": "https://stackoverflow.com/users/3531333/markoffden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2829, "favorite_count": 2, "accepted_answer_id": 46934666, "answer_count": 1, "score": 2, "last_activity_date": 1508941435, "creation_date": 1508939891, "question_id": 46934426, "link": "https://stackoverflow.com/questions/46934426/angular-4-watch-two-way-binding-property-change", "title": "Angular 4 watch two way binding property change", "body": "<p>I have created a <code>toggle-sorting</code> component which checks, if current sorting params are matching it's sorting slug, and handle clicks to output changes</p>\n\n<pre><code>// toggle-sorting.component.ts\n\n@Input() sortingSlug: string;\n@Input() currSorting: string;\n@Output() currSortingChange: EventEmitter&lt;string&gt; = new EventEmitter&lt;string&gt;();\n\n@HostBinding('class.sorting-asc') activeAsc: boolean;\n@HostBinding('class.sorting-desc') activeDesc: boolean;\n\n/**\n * Watch sorting params changes and update binding\n */\nngOnChanges() {\n    this.activeDesc = this.currSorting === this.sortingSlug;\n    this.activeAsc = this.currSorting === '-' + this.sortingSlug;\n}\n\n/**\n * Watch click event to set sorting\n */\n@HostListener('click') setSorting() {\n    if (this.activeDesc) {\n        this.currSortingChange.emit('-' + this.sortingSlug);\n    } else {\n        this.currSortingChange.emit(this.sortingSlug);\n    }\n}\n</code></pre>\n\n<p>And I use it my parent component this way</p>\n\n<pre><code>// parent.component.html\n\n// ... some layout\n&lt;th&gt;\n    &lt;span toggle-sorting [(currSorting)]=\"sorting\" sortingSlug=\"version\"&gt;Scraper&lt;/span&gt;\n&lt;/th&gt;\n&lt;th&gt;\n    &lt;span toggle-sorting [(currSorting)]=\"sorting\" sortingSlug=\"sites_count\"&gt;Sites Scraped&lt;/span&gt;\n&lt;/th&gt;\n&lt;th&gt;\n    &lt;span toggle-sorting [(currSorting)]=\"sorting\" sortingSlug=\"success_rate\"&gt;Success rate&lt;/span&gt;\n&lt;/th&gt;\n// ... some layout\n</code></pre>\n\n<p>I have global <code>sorting</code> property in my parent component, which controls actual sorting param, which is two way binded to <code>toggle-sorting</code> children</p>\n\n<pre><code>// parent.component.ts\n\nsorting: string = 'version';\n</code></pre>\n\n<p>I need to trigger api call each time global sorting param changes, but I cannot watch it with <code>ngOnChanges</code> as it's not @Input, I don't want to use <code>ngDoCheck</code> here as well (performancewise), and I do not want to use separate <code>@Input</code> and <code>@Output</code> in <code>toggle-sorting</code> (but for sure it will work for my purpose).</p>\n\n<p>What is the best option in my case?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2"], "comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1509000550, "post_id": 46934378, "comment_id": 80842239, "body": "&#191; userDataForm.controls[&#39;dateOfBirth&#39;].value=new Date(2016-04-19) ?"}, {"owner": {"reputation": 2142, "user_id": 3190306, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/88gOH.png?s=128&g=1", "display_name": "Tadija Bagari\u0107", "link": "https://stackoverflow.com/users/3190306/tadija-bagari%c4%87"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1509000870, "post_id": 46934378, "comment_id": 80842400, "body": "@Eliseo value is a read-only property. I tried with <code>this.userDataForm.get(&#39;dateOfBirth&#39;).setValue(new Date(&quot;2016-04-19T18:03:40.887&quot;));</code> but still nothing."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 2, "creation_date": 1509003411, "post_id": 46934378, "comment_id": 80843866, "body": "ion-datetime require a &quot;string&quot; or a &quot;Date&quot;? if is a string then you must write this.userDataForm.get(&#39;dateOfBirth&#39;).setValue(&quot;2016-04-19T18&zwnj;&#8203;:03:40.887&quot;)"}], "answers": [{"comments": [{"owner": {"reputation": 736, "user_id": 2011091, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/mbhqK.jpg?s=128&g=1", "display_name": "Francisco Souza", "link": "https://stackoverflow.com/users/2011091/francisco-souza"}, "edited": false, "score": 0, "creation_date": 1530819695, "post_id": 46950372, "comment_id": 89379256, "body": "Hey, how about the opposite? When you have to save this &quot;datetime&quot; to datetime type in your server side? How do you convert to date/time format?"}, {"owner": {"reputation": 323, "user_id": 9109815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14fa3d5a38f454bd211d669f3ac38e59?s=128&d=identicon&r=PG&f=1", "display_name": "SagitSri", "link": "https://stackoverflow.com/users/9109815/sagitsri"}, "edited": false, "score": 0, "creation_date": 1608023489, "post_id": 46950372, "comment_id": 115448365, "body": "This answer helps me a lot! If you use ngModel on &lt;ion-datetime&gt; for update it will give current time only so remove ngModel and then patch or set value on reactive forms!"}], "tags": [], "owner": {"reputation": 2142, "user_id": 3190306, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/88gOH.png?s=128&g=1", "display_name": "Tadija Bagari\u0107", "link": "https://stackoverflow.com/users/3190306/tadija-bagari%c4%87"}, "is_accepted": true, "score": 4, "last_activity_date": 1509009503, "creation_date": 1509009503, "answer_id": 46950372, "question_id": 46934378, "link": "https://stackoverflow.com/questions/46934378/update-ion-datetime-control-data-using-formgroup/46950372#46950372", "title": "Update &lt;ion-datetime&gt; control data using formGroup", "body": "<p>Thanks to Eliseo in the comments for leading me to the answer.</p>\n\n<p><code>&lt;ion-datetime&gt;</code> expects a date string, and not a date object so this works:</p>\n\n<pre><code>refreshForm(){\n    this.userDataForm.patchValue({\n        firstName: this.user.firstName,\n        dateOfBirth: (new Date(\"2016-04-19T18:03:40.887\")).toJSON(), \n    });\n}\n</code></pre>\n\n<p>in my case <code>user.dateOfBirth</code> is of type <code>date</code> so I use it like this:</p>\n\n<pre><code>refreshForm(){\n    this.userDataForm.patchValue({\n        firstName: this.user.firstName,\n        dateOfBirth: this.user.dateOfBirth.toJSON(), \n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 2142, "user_id": 3190306, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/88gOH.png?s=128&g=1", "display_name": "Tadija Bagari\u0107", "link": "https://stackoverflow.com/users/3190306/tadija-bagari%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3076, "favorite_count": 0, "accepted_answer_id": 46950372, "answer_count": 1, "score": 0, "last_activity_date": 1509009503, "creation_date": 1508939780, "last_edit_date": 1509001073, "question_id": 46934378, "link": "https://stackoverflow.com/questions/46934378/update-ion-datetime-control-data-using-formgroup", "title": "Update &lt;ion-datetime&gt; control data using formGroup", "body": "<p>I have a form that is built using 'FormBuilder' and it contains a date control . How can I set (update) data to that control using <code>patchValue()</code>?</p>\n\n<p>The control has <code>displayFormat=\"DD.MM.YYYY\"</code> set in the template.</p>\n\n<p>Data on all other controls ( and ) is set , but the date control remains empty.</p>\n\n<p>page/component/.ts file</p>\n\n<pre><code>userDataForm: FormGroup;\nuser: UserModel;\n\nconstructor(\n    private formBuilder: FormBuilder\n) {\n    this.userDataForm = this.buildForm();\n}\n\nbuildForm(){\n    return this.formBuilder.group({\n        firstName: ['', Validators.compose([\n          Validators.required\n        ])],\n        dateOfBirth: ['', Validators.compose([\n          Validators.required\n        ])]\n    });\n}\n\nionViewWillEnter() {\n    // load data...\n    refreshForm();\n}\n\nrefreshForm(){\n    this.userDataForm.patchValue({\n        firstName: this.user.firstName,\n        dateOfBirth: new Date(\"2016-04-19T18:03:40.887\"), // does not work\n    });\n}\n</code></pre>\n\n<p>Template:</p>\n\n<pre><code>&lt;ion-content padding&gt;\n    &lt;ion-list&gt;\n        &lt;form [formGroup]=\"userDataForm\"&gt;\n\n            &lt;ion-item&gt;\n                &lt;ion-label floating&gt;Name: *&lt;/ion-label&gt;\n                &lt;ion-input formControlName=\"firstName\" type=\"text\"&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n\n            &lt;ion-item&gt;\n                &lt;ion-label floating&gt;Date: *&lt;/ion-label&gt;\n                &lt;ion-datetime formControlName=\"dateOfBirth\" displayFormat=\"DD.MM.YYYY\"&gt;&lt;/ion-datetime&gt;\n            &lt;/ion-item&gt;\n\n        &lt;/form&gt;\n    &lt;/ion-list&gt;\n&lt;/ion-content&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "angularjs", "typescript", "ng-bind-html"], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1508944128, "post_id": 46934696, "comment_id": 80819063, "body": "I tried this but it doesn&#39;t work. I don&#39;t get an error or anything. It&#39;s acting as if i&#39;m clicking on a blank space.  I tried this :                   this.$compile(angular.element(document.querySelector(&#39;#id-of&zwnj;&#8203;-span&#39;)))(this.$scop&zwnj;&#8203;e);  after binding $compile and $scope to my controller."}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "reply_to_user": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1508957670, "post_id": 46934696, "comment_id": 80827215, "body": "you dont need document.querySelector within angular.element. but i dont think that this is the problem, thou."}, {"owner": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1509001044, "post_id": 46934696, "comment_id": 80842499, "body": "The thing is, i had the following error when i didn&#39;t use it :  &quot;Looking up elements via selectors is not supported by jqLite!&quot;"}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "reply_to_user": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1509002500, "post_id": 46934696, "comment_id": 80843288, "body": "good point, sorry about that. I always use a full jquery by default, so I forgot that."}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "reply_to_user": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1509002729, "post_id": 46934696, "comment_id": 80843431, "body": "Is it possible for you, to set a debugger statement or console.log within the TabsDomains.goTo method? Just to be sure, that it is not entered? I was looking at your screenshot <code>dynamicallyGeneratedCode</code> and I saw, that Angular rendered the classes ng-scope and ng-binding, which tells me, that this element is parsed by Angular."}, {"owner": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1509005963, "post_id": 46934696, "comment_id": 80845442, "body": "I already have &quot;console.log(&#39;its working&#39;);&quot; in the method &quot;TabsDomains.goTo&quot;, which display with the static code but not with the dynamically generated one. I commented the other stuff in the method to let only the console.log to be sure nothing&#39;s interfering. It doesn&#39;t even enter in the method. It&#39;s the same as clicking on an empty div. Since i have no errors on the Console, i think he doesn&#39;t get the right scope but that&#39;s just a hypothesis."}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "reply_to_user": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1509006868, "post_id": 46934696, "comment_id": 80846048, "body": "Just a thought: can you replace the a tag by, lets say a button?"}, {"owner": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1509007937, "post_id": 46934696, "comment_id": 80846759, "body": "Just did, we see the button, the visual effect occurs on click, but it doesn&#39;t enter the method on the ng-click. Also tried to write &quot;console.log&quot; directly in the ng-click, doesn&#39;t trigger either."}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "reply_to_user": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1509016548, "post_id": 46934696, "comment_id": 80852654, "body": "could you paste the whole component declaration in your question?"}, {"owner": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1509023524, "post_id": 46934696, "comment_id": 80857641, "body": "I updated my class code in my question. If it can help."}, {"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "reply_to_user": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1509024975, "post_id": 46934696, "comment_id": 80858836, "body": "hmm the code looks good as far as I can see. I am afraid, that I cant help you anymore. At this point, I usually would debug thing like the $compile execution, or the onclick event of the pasted element."}, {"owner": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1509025929, "post_id": 46934696, "comment_id": 80859591, "body": "Thanks a lot anyway !"}, {"owner": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1510308121, "post_id": 46934696, "comment_id": 81389700, "body": "Yes ! You were right all along but for some reason, the wrong scope was used(Still can&#39;t figure out why, even my colleagues couldn&#39;t explain). All i had to do is copy the same code into a directive that i created, everything worked fine after that. So insted of ng-bind-html i had my own directive bind-compile-hml !"}, {"owner": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "edited": false, "score": 0, "creation_date": 1510308204, "post_id": 46934696, "comment_id": 81389749, "body": "Thanks for the help anyway !"}], "tags": [], "owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "is_accepted": true, "score": 0, "last_activity_date": 1508940619, "creation_date": 1508940619, "answer_id": 46934696, "question_id": 46934365, "link": "https://stackoverflow.com/questions/46934365/typescript-angularjs-cant-interact-with-the-html-generated-by-ng-bind-html/46934696#46934696", "title": "TypeScript + AngularJS : Can&#39;t interact with the html generated by ng-bind-html", "body": "<p>You have to run <code>$compile(this.domainsLabelHtml)($scope);</code> after you inject Html code, that should be managed by Angular.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I think compiling this.domainsLabelHtml might not work. Try to add an Id to than span that should bind the Html and than do:</p>\n\n<pre><code>//Html\n &lt;span id=\"id-of-span\" ng-bind-html=\"TabsDomains.trustedHtml(TabsDomains.domainsLabelHtml)\"&gt;&lt;/span&gt;\n\n//JS\n$compile(angular.element('#id-of-span'))($scope);\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 8404489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-rbNgBZr9kDE/AAAAAAAAAAI/AAAAAAAAALA/LEvTWRMRSMU/photo.jpg?sz=128", "display_name": "Zakaria Sahmane", "link": "https://stackoverflow.com/users/8404489/zakaria-sahmane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "accepted_answer_id": 46934696, "answer_count": 1, "score": 1, "last_activity_date": 1509024350, "creation_date": 1508939740, "last_edit_date": 1509024350, "question_id": 46934365, "link": "https://stackoverflow.com/questions/46934365/typescript-angularjs-cant-interact-with-the-html-generated-by-ng-bind-html", "title": "TypeScript + AngularJS : Can&#39;t interact with the html generated by ng-bind-html", "body": "<p>I have an html string that i build dynamically in my Component's controller. This way : </p>\n\n<pre><code>    let strDl = this.domainsLabel.split('&gt;');\n            angular.forEach(strDl, (element, index) =&gt; {\n                if (index &lt; strDl.length - 1)\n                    this.domainsLabelHtml += `&lt;a position=\"${index}\" ng-click=\"TabsDomains.goTo($event.target)\"&gt;${element}&lt;/a&gt;&amp;#62;`;\n                else\n                    this.domainsLabelHtml += `${element}`;\n            });\n            if (this.domainsLabelHtml.endsWith('&amp;#62;'))\n                this.domainsLabelHtml = this.domainsLabelHtml.slice(0, -5);\n</code></pre>\n\n<p>The html code : </p>\n\n<pre><code>    &lt;span ng-bind-html=\"TabsDomains.trustedHtml(TabsDomains.domainsLabelHtml)\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>I get the following result :</p>\n\n<p><a href=\"https://i.stack.imgur.com/2bV2s.png\" rel=\"nofollow noreferrer\">dynamicallyGeneratedCode</a></p>\n\n<p>But nothing happens when I click.\nSince nothing worked, i wrote an html content manually, like this : </p>\n\n<pre><code>    &lt;span&gt;&lt;a position=\"0\" ng-click=\"TabsDomains.goTo($event.target)\"&gt;TEST&lt;/a&gt;blabla&lt;/span&gt;\n</code></pre>\n\n<p>And i get the following result generated <a href=\"https://i.stack.imgur.com/4suPJ.png\" rel=\"nofollow noreferrer\">staticCode</a>: </p>\n\n<p>Which works perfectly.</p>\n\n<p>Since the two chunks of code look exactly the same to me, I don't understand why the dynamically generated isn't working and the static one does.</p>\n\n<p>Here is the code of the trusted html : </p>\n\n<pre><code>     public trustedHtml = function (plainText) {\n        return this.$sce.trustAsHtml(plainText);\n    }\n</code></pre>\n\n<p>My class looks like this : </p>\n\n<pre><code>    /// &lt;reference path='tabs.d.ts'/&gt;\n\n    module rundeckManager.tabs {\n        'use strict';\n\nclass TabsDomainsComponentController implements ITabsDomainsComponentController {\n\n    static $inject = ['$filter', '$state','$rootScope','jobService','$sce','$compile','$scope'];\n    public test = false;\n    public domainsLabel: any;\n    public jobsLabel: any;\n    public domains: any;\n    public jobs: any;  \n    //Previous domains and jobs of the hierarchy\n    //So we always keep the data, no need to reprocess it\n    public pDomains: any;\n    public ppDomains: any;\n    public pppDomains: any;\n    public pJobs: any;\n    public ppJobs: any;\n    public pppJobs: any;\n    public pFolder: any;\n    public ppFolder: any;\n    public pppFolder: any;\n\n    public firstBack: any;\n    public jobDetails: jobs.IJobDetails;\n    public idJob: string;\n    public showJobDetails: boolean;\n    public showLoadingBar: boolean;\n    public domainsLabelHtml: any;\n\n    constructor(public $filter: any, public $state: any, public $rootScope: any, public jobService: jobs.IJobService, public $sce: any, public $compile: any, public $scope: ng.IScope) {\n        this.firstBack = $rootScope.back;\n        this.showJobDetails = false;\n        this.showLoadingBar = false;\n        this.domainsLabelHtml = ``;\n    }\n\n    public $onChanges(changes) {\n        if (changes.domains) {\n            this.domains = changes.domains.currentValue;\n        }\n        if (changes.jobs) {\n            this.jobs = changes.jobs.currentValue;\n        }\n        if (changes.domainsLabel) {\n            this.domainsLabel = changes.domainsLabel.currentValue;\n            let strDl = this.domainsLabel.split('&gt;');\n            angular.forEach(strDl, (element, index) =&gt; {\n                if (index &lt; strDl.length - 1)\n                    this.domainsLabelHtml += `&lt;a position=\"${index}\" ng-click=\"TabsDomains.goTo($event.target)\"&gt;${element}&lt;/a&gt;&amp;#62;`;\n                else\n                    this.domainsLabelHtml += `${element}`;\n            });\n            if (this.domainsLabelHtml.endsWith('&amp;#62;'))\n                this.domainsLabelHtml = this.domainsLabelHtml.slice(0, -5);\n\n\n\n\n            this.$compile(document.querySelector('#id-of-span'))(this.$scope);                \n        }\n        if (changes.jobsLabel) {\n            this.jobsLabel = changes.jobsLabel.currentValue;\n        }\n    }\n\n    public trustedHtml(plainText: string) {\n        return this.$sce.trustAsHtml(plainText);\n    }\n\n    public goToDetails(id: string) {\n        this.idJob = id;\n        //console.log(id);\n        this.showLoadingBar = true;\n        this.jobService.getJobDetails(id).then((data) =&gt; {\n            this.jobDetails = data.data.job;               \n            this.showJobDetails = true;\n            this.showLoadingBar = false;\n        });              \n\n        this.$rootScope.back = () =&gt; {\n            this.showJobDetails = false;\n            this.showLoadingBar = false;\n            this.$rootScope.back = this.firstBack;\n        };\n    }\n\n    public goTo(element:any) {\n        let position = element.attributes['position'].value;\n        let strDomains = this.domainsLabel.split('&gt;');            \n        console.log('its working');\n    }\n\n    public redirectTo(name: string) {\n        switch (this.$state.current.name) {\n            case 'root.domains':\n                var proj = this.$filter('filter')(this.domains, { id: name }, true);\n                var subDomainsParam = proj[0].subDomains;\n                var jobsParam = proj[0].jobs;\n                var obj = {\n                    subDomName: this.domainsLabel + '&gt;' + name,\n                    pDomains: this.domains,\n                    subDomains: subDomainsParam,\n                    jobs: jobsParam,\n                    pJobs: this.jobs,\n                    pFolder: this.domainsLabel\n                };\n                this.$state.go('root.subDomains', obj);\n                break;\n            case 'root.subDomains':\n                var proj = this.$filter('filter')(this.domains, { id: name }, true);\n                var subSubDomainsParam = proj[0].subSubDomains;\n                var jobsParam = proj[0].jobs;\n                var obj2 = {\n                    subSubDomName: this.domainsLabel + '&gt;' + name,\n                    pDomains: this.domains,\n                    ppDomains: this.pDomains,\n                    subSubDomains: subSubDomainsParam,\n                    jobs: jobsParam,\n                    pJobs: this.jobs,\n                    ppJobs: this.pJobs,\n                    pFolder: this.domainsLabel,\n                    ppFolder: this.pFolder\n                };\n\n                this.$state.go('root.subSubDomains', obj2);\n                break;\n            case 'root.subSubDomains':\n                var proj = this.$filter('filter')(this.domains, { id: name }, true);\n                var jobsParam = proj[0].jobs;\n                var obj1 = {\n                    lastLevelName: this.domainsLabel + '&gt;' + name,\n                    pDomains: this.domains,\n                    ppDomains: this.pDomains,\n                    pppDomains: this.ppDomains,\n                    jobs: jobsParam,\n                    pJobs: this.jobs,\n                    ppJobs: this.pJobs,\n                    pFolder: this.domainsLabel,\n                    ppFolder: this.pFolder,\n                    pppFolder: this.ppFolder\n                };\n\n                this.$state.go('root.lastLevel', obj1);\n                break;\n        }\n    }\n}\n\nclass TabsDomainsComponent implements ng.IComponentOptions {\n    public bindings: any;\n    public controller: any;\n    public controllerAs: string;\n    public templateUrl: string;\n\n    constructor() {\n        this.bindings = {\n            domains: '&lt;',\n            jobs: '&lt;',\n            jobsLabel: '&lt;',\n            domainsLabel: '&lt;',\n            pDomains: '&lt;',\n            ppDomains: '&lt;',\n            pppDomains: '&lt;',\n            pJobs: '&lt;',\n            ppJobs: '&lt;',\n            pppJobs: '&lt;',\n            pFolder: '&lt;',\n            ppFolder: '&lt;',\n            pppFolder: '&lt;'\n        };\n        this.controller = TabsDomainsComponentController;\n        this.controllerAs = 'TabsDomains';\n        this.templateUrl = 'public/app/views/components/tabsDomains/tabs.domains.html';\n    }\n\n}\n\nangular.module('rundeckManager.tabs')\n    .component('tabsDomains', new TabsDomainsComponent());\n\n    }\n</code></pre>\n\n<p>I found an answer which looked like the problem I'm having at first, but the solution didn't apply to my case : </p>\n\n<p><a href=\"https://stackoverflow.com/questions/27675055/links-not-working-in-ng-bind-html\">Links not working in ng-bind-html</a></p>\n\n<p>I'd be great if anyone can explain it to me and help me with a solution.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["angular", "typescript", "httprequest"], "comments": [{"owner": {"reputation": 305, "user_id": 3305492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e15fb97270bf2e34d0662f9abdf8d08?s=128&d=identicon&r=PG&f=1", "display_name": "jonilyn2730", "link": "https://stackoverflow.com/users/3305492/jonilyn2730"}, "edited": false, "score": 0, "creation_date": 1519571559, "post_id": 46933731, "comment_id": 84954798, "body": "I got the same error may I ask if this problem was already sorted?"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8655803, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d411ec2ba1ec1687287a515920698d73?s=128&d=identicon&r=PG&f=1", "display_name": "Kerim &#199;evik", "link": "https://stackoverflow.com/users/8655803/kerim-%c3%87evik"}, "edited": false, "score": 0, "creation_date": 1509001439, "post_id": 46934099, "comment_id": 80842667, "body": "Thanks for your response. However adding the &#39;Bearer&#39; keyword dind&#39;t resolve the issue."}], "tags": [], "owner": {"reputation": 733, "user_id": 2780456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8c47b130ff4bf46e040d2ef77c5391?s=128&d=identicon&r=PG&f=1", "display_name": "Srinivas Valekar", "link": "https://stackoverflow.com/users/2780456/srinivas-valekar"}, "is_accepted": false, "score": 0, "last_activity_date": 1508939062, "creation_date": 1508939062, "answer_id": 46934099, "question_id": 46933731, "link": "https://stackoverflow.com/questions/46933731/http-request-with-header-in-angular-4/46934099#46934099", "title": "Http request with header in Angular 4", "body": "<p>I think you missed to add word <strong>Bearer</strong> while sending the token for example try passing like this</p>\n\n<pre><code>headers: new HttpHeaders().set('token', 'Bearer 994847565472878394039283578235')\n</code></pre>\n\n<p>I had the same issue and I fixed it by passing the word.</p>\n"}], "owner": {"reputation": 57, "user_id": 8655803, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d411ec2ba1ec1687287a515920698d73?s=128&d=identicon&r=PG&f=1", "display_name": "Kerim &#199;evik", "link": "https://stackoverflow.com/users/8655803/kerim-%c3%87evik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4130, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1524762400, "creation_date": 1508938038, "last_edit_date": 1508938090, "question_id": 46933731, "link": "https://stackoverflow.com/questions/46933731/http-request-with-header-in-angular-4", "title": "Http request with header in Angular 4", "body": "<p>Im currently trying to get a JSON response back from the backend however when i execute the GET-request I get the the following errors(see first image). <em>Response for preflight has invalid HTTP status code 401</em></p>\n\n<p><img src=\"https://i.stack.imgur.com/fKk4p.png\" alt=\"error screenshot\"></p>\n\n<p>However Im certain that the backend is running fine and the url and header(token) are correct, because postman does return the wanted result(see second image).</p>\n\n<p><img src=\"https://i.stack.imgur.com/2MzPt.png\" alt=\"enter image description here\"></p>\n\n<p>this is my code I used httpclient and httpclientmodule(in appmodule.ts). I also added a chrome plugin(allow-control-allow-origin), which solved the previous <em>allow access-control-allow-origin</em> error. So I personally think there is something wrong with either my header or some conflict with the http request.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n\n\n@Component({\n  selector: 'app-process-category',\n  templateUrl: './process-category.component.html',\n  styleUrls: ['./process-category.component.css']\n})\nexport class ProcessCategoryComponent implements OnInit {\n\n  results: string[];\n\n  constructor(private http: HttpClient) {\n  }\n\n\n  ngOnInit(): void {\n\n    this.http.get('http://localhost:8084/LOGwearServer/Database/main/abstract?typeOne=PROCESSCATEGORIES&amp;typeTwo=PROCESSCATEGORIES',\n      {\n        headers: new HttpHeaders().set('token', '994847565472878394039283578235')\n      })\n      .subscribe(data =&gt; {\n        console.log(data);\n      });\n  }\n\n}\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "edited": false, "score": 0, "creation_date": 1508939498, "post_id": 46933648, "comment_id": 80815504, "body": "Try adding a <code>type</code> property to the input: <code>&lt;ion-input type=&quot;text&quot; placeholder=&quot;Text Input&quot;&gt;&lt;&#47;ion-input&gt;</code>"}, {"owner": {"reputation": 2138, "user_id": 5439782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SRjmZ.png?s=128&g=1", "display_name": "DanteTheSmith", "link": "https://stackoverflow.com/users/5439782/dantethesmith"}, "edited": false, "score": 0, "creation_date": 1508939531, "post_id": 46933648, "comment_id": 80815537, "body": "Can&#39;t see the computed style but is it possible that it somehow got shifted out of visible part of the parent element? I had this once a few years ago on iOS with ionic, some parent class made huge margin or something. It bugged me for 1 hour before I got the idea to check the style."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "edited": false, "score": 0, "creation_date": 1508939893, "post_id": 46933648, "comment_id": 80815835, "body": "No. Same horror :( @David"}, {"owner": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "reply_to_user": {"reputation": 2138, "user_id": 5439782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SRjmZ.png?s=128&g=1", "display_name": "DanteTheSmith", "link": "https://stackoverflow.com/users/5439782/dantethesmith"}, "edited": false, "score": 0, "creation_date": 1508940120, "post_id": 46933648, "comment_id": 80816057, "body": "Then probably some other style you have set is interfering with you input element as @DanteTheSmith said. Check the element with chrome dev tools and try removing/adding css selctors to figure out whats causing the trouble."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "edited": false, "score": 0, "creation_date": 1508940857, "post_id": 46933648, "comment_id": 80816702, "body": "Yep, Found the issue. I have given <code>$text-input-placeholder-color: rgba(255, 255, 255, 0.5);</code> globally. That cause the issue. I would like to close this post. Would you like to post it as an answer or? @David"}, {"owner": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "edited": false, "score": 0, "creation_date": 1508940931, "post_id": 46933648, "comment_id": 80816768, "body": "Sure, I&#39;m glad you could solve it! :)"}], "answers": [{"tags": [], "owner": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "is_accepted": true, "score": 2, "last_activity_date": 1508942746, "last_edit_date": 1508942746, "creation_date": 1508941085, "answer_id": 46934853, "question_id": 46933648, "link": "https://stackoverflow.com/questions/46933648/why-no-placeholder-text-on-my-ionic-3-project/46934853#46934853", "title": "Why no Placeholder text on my Ionic 3 project", "body": "<p><strong>OP's Feedback</strong></p>\n\n<p>I have set the <code>$text-input-placeholder-color: rgba(255, 255, 255, 0.5);</code> on <code>variables.scss</code> file. That was the issue.</p>\n\n<p><strong>David's Feeback</strong></p>\n\n<p>Most probably some other (global, higher level) style is infering with the <code>placeholder</code> property. Try inspecting the input element with chrome dev tools and remove/add css selctors one by one to find out which one is causing the trouble (check especially colors, margin, padding, opacity).</p>\n"}], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "accepted_answer_id": 46934853, "answer_count": 1, "score": 2, "last_activity_date": 1508942746, "creation_date": 1508937804, "last_edit_date": 1508938484, "question_id": 46933648, "link": "https://stackoverflow.com/questions/46933648/why-no-placeholder-text-on-my-ionic-3-project", "title": "Why no Placeholder text on my Ionic 3 project", "body": "<p>I cannot see any <code>placeholder</code> text on my project.Can you tell me why? If I create a new project then it works.This is a really strange issue. Any clue about this behavior?</p>\n\n<p><a href=\"https://i.stack.imgur.com/eCXzo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eCXzo.png\" alt=\"enter image description here\"></a> </p>\n\n<pre><code> &lt;ion-list&gt;\n    &lt;ion-item&gt;\n      &lt;ion-label color=\"primary\"&gt;Inline Label&lt;/ion-label&gt;\n      &lt;ion-input placeholder=\"Text Input\"&gt;&lt;/ion-input&gt;\n    &lt;/ion-item&gt;\n &lt;/ion-list&gt;\n</code></pre>\n\n<p>I'm using latest ionic. </p>\n\n<blockquote>\n<pre><code>@ionic/cli-utils  : 1.15.0\nionic (Ionic CLI) : 3.15.0\n</code></pre>\n  \n  <p>global packages:</p>\n\n<pre><code>cordova (Cordova CLI) : 7.0.1\n</code></pre>\n  \n  <p>local packages:</p>\n\n<pre><code>@ionic/app-scripts : 3.0.1\nCordova Platforms  : android 6.2.3\nIonic Framework    : ionic-angular 3.7.1\n</code></pre>\n  \n  <p>System:</p>\n\n<pre><code>Android SDK Tools : 25.2.5\nNode              : v6.10.0\nnpm               : 3.10.10\nOS                : Windows 8.1\n</code></pre>\n  \n  <p>Environment Variables:</p>\n\n<pre><code>ANDROID_HOME : C:\\Program Files (x86)\\Android\\android-sdk\n</code></pre>\n  \n  <p>Misc:</p>\n\n<pre><code>backend : pro\n</code></pre>\n</blockquote>\n\n<p>Here you can see that it renders correctly.Then where is the problem? I have tested this on the device too. Same horror :(</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZI12z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZI12z.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "angular2-components", "angular-google-maps"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1509692850, "post_id": 46933315, "comment_id": 81129583, "body": "How did it go with the answers, was either suitable for you? :)"}], "answers": [{"comments": [{"owner": {"reputation": 3889, "user_id": 222328, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/6ah9V.jpg?s=128&g=1", "display_name": "Wagner Danda da Silva Filho", "link": "https://stackoverflow.com/users/222328/wagner-danda-da-silva-filho"}, "reply_to_user": {"reputation": 13, "user_id": 8283539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41ff167d9235d3a43e2cce9c1d447237?s=128&d=identicon&r=PG&f=1", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/8283539/sunny-parekh"}, "edited": false, "score": 0, "creation_date": 1508938142, "post_id": 46933696, "comment_id": 80814460, "body": "Sorry but I&#39;m also not sure what you are trying to ask here :D"}, {"owner": {"reputation": 13, "user_id": 8283539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41ff167d9235d3a43e2cce9c1d447237?s=128&d=identicon&r=PG&f=1", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/8283539/sunny-parekh"}, "edited": false, "score": 0, "creation_date": 1508938231, "post_id": 46933696, "comment_id": 80814537, "body": "I am just asking that when I am selecting one address from the drop down in auto complete directive, how can I split that whole address into the text boxes below."}], "tags": [], "owner": {"reputation": 3889, "user_id": 222328, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/6ah9V.jpg?s=128&g=1", "display_name": "Wagner Danda da Silva Filho", "link": "https://stackoverflow.com/users/222328/wagner-danda-da-silva-filho"}, "is_accepted": false, "score": 0, "last_activity_date": 1508937934, "creation_date": 1508937934, "answer_id": 46933696, "question_id": 46933315, "link": "https://stackoverflow.com/questions/46933315/how-to-split-the-address-from-one-textbox-and-show-those-values-in-other-textbox/46933696#46933696", "title": "How to split the address from one textbox and show those values in other textboxes?", "body": "<p>You can create a function that parses your address one field and updates your model with what it finds out (i.e. city, state, etc). Call that function after your address one field is edited.</p>\n\n<p>PS: You might want to clarify what exactly if the problem you are having versus asking for help on implementing something for you. Just my 2 cents.</p>\n"}, {"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 0, "last_activity_date": 1509011788, "creation_date": 1509011788, "answer_id": 46951300, "question_id": 46933315, "link": "https://stackoverflow.com/questions/46933315/how-to-split-the-address-from-one-textbox-and-show-those-values-in-other-textbox/46951300#46951300", "title": "How to split the address from one textbox and show those values in other textboxes?", "body": "<p>I would have the actual search functionality as a totally separate input field, and instead then show the results from that search in other fields. As for the search result, I assume you get a string like:</p>\n\n<pre><code>stringToSplit = 'South Las Vegas Boulevard,NV,United States'\n</code></pre>\n\n<p>To this I would just use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split\" rel=\"nofollow noreferrer\"><strong><code>String.prototype.split()</code></strong></a>, which makes your data to a string array, which you can assign to your <code>model</code>. </p>\n\n<pre><code>this.model = this.stringToSplit.split(',');\n</code></pre>\n\n<p>Then you can just refer your <code>[(ngModel)]</code> to the indexes of your newly created array. So for example the following two fields of your form (with some attributes omitted):</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input [formControl]=\"searchControl\"/&gt;\n&lt;input [(ngModel)]=\"model[0]\" name=\"addressOne\" #addressOne=\"ngModel\"&gt;\n&lt;input [(ngModel)]=\"model[1]\" name=\"addressTwo\" #addressTwo=\"ngModel\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8283539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41ff167d9235d3a43e2cce9c1d447237?s=128&d=identicon&r=PG&f=1", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/8283539/sunny-parekh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 725, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1509011788, "creation_date": 1508936868, "last_edit_date": 1508939767, "question_id": 46933315, "link": "https://stackoverflow.com/questions/46933315/how-to-split-the-address-from-one-textbox-and-show-those-values-in-other-textbox", "title": "How to split the address from one textbox and show those values in other textboxes?", "body": "<p><a href=\"https://i.stack.imgur.com/Yy05c.png\" rel=\"nofollow noreferrer\">Open the image to see it</a></p>\n\n<p>I want the above address one value to be split in the below textboxes address Two, city and state. So how can I do it?</p>\n\n<p>My code for HTML is as below:</p>\n\n<pre><code>&lt;p&gt;                                  \n   &lt;label class=\"w3-text-teal\"&gt;&lt;b&gt;Address One&lt;/b&gt;&lt;/label&gt;\n   &lt;input #search [formControl]=\"searchControl\" class=\"w3-input w3-border\" type=\"text\" required [(ngModel)]=\"model.addressOne\" placeholder=\"Address\"\n     name=\"addressOne\" minlength=\"4\" maxlength=\"15\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"off\"&gt;\n &lt;/p&gt;\n &lt;div *ngIf=\"addresone.invalid &amp;&amp; (addresone.dirty || addresone.touched)\" class=\"alert alert-danger\"&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"addresone.errors.required\"&gt;\n     addresone is required.\n   &lt;/div&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"addresone.errors.minlength\"&gt;\n     addresone must be at least 4 characters long.\n   &lt;/div&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"addresone.errors.maxlength\"&gt;\n     addresone must be less than 15 characters.\n   &lt;/div&gt;\n &lt;/div&gt;\n\n &lt;p&gt;\n   &lt;label class=\"w3-text-teal\"&gt;&lt;b&gt;Address Two&lt;/b&gt;&lt;/label&gt;\n   &lt;input #addressTwo=\"ngModel\" class=\"w3-input w3-border\" type=\"text\" required [(ngModel)]=\"model.addressTwo\" placeholder=\"Address\"\n     name=\"addressTwo\" minlength=\"4\" maxlength=\"15\"&gt;\n &lt;/p&gt;\n &lt;div *ngIf=\"addressTwo.invalid &amp;&amp; (addressTwo.dirty || addressTwo.touched)\" class=\"alert alert-danger\"&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"addressTwo.errors.required\"&gt;\n     addressTwo is required.\n   &lt;/div&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"addressTwo.errors.minlength\"&gt;\n     addressTwo must be at least 4 characters long.\n   &lt;/div&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"addressTwo.errors.maxlength\"&gt;\n     addressTwo must be less than 15 characters.\n   &lt;/div&gt;\n &lt;/div&gt;\n &lt;p&gt;\n   &lt;label class=\"w3-text-teal\"&gt;&lt;b&gt;City&lt;/b&gt;&lt;/label&gt;\n   &lt;input #city=\"ngModel\" class=\"w3-input w3-border\" type=\"text\" required [(ngModel)]=\"model.city\" placeholder=\"city\" name=\"city\"\n     minlength=\"4\" maxlength=\"15\"&gt;\n &lt;/p&gt;\n &lt;div *ngIf=\"city.invalid &amp;&amp; (city.dirty || city.touched)\" class=\"alert alert-danger\"&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"city.errors.required\"&gt;\n     city is required.\n   &lt;/div&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"city.errors.minlength\"&gt;\n     city must be at least 4 characters long.\n   &lt;/div&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"city.errors.maxlength\"&gt;\n     city must be less than 15 characters.\n   &lt;/div&gt;\n &lt;/div&gt;\n &lt;p&gt;\n   &lt;label class=\"w3-text-teal\"&gt;&lt;b&gt;State&lt;/b&gt;&lt;/label&gt;\n   &lt;input #state=\"ngModel\" class=\"w3-input w3-border\" type=\"text\" required [(ngModel)]=\"model.state\" placeholder=\"state\"\n     name=\"state\"  minlength=\"4\" maxlength=\"15\"&gt;\n &lt;/p&gt;\n &lt;div *ngIf=\"state.invalid &amp;&amp; (state.dirty || state.touched)\" class=\"alert alert-danger\"&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"state.errors.required\"&gt;\n     state is required.\n   &lt;/div&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"state.errors.minlength\"&gt;\n     state must be at least 4 characters long.\n   &lt;/div&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"state.errors.maxlength\"&gt;\n     state must be less than 15 characters.\n   &lt;/div&gt;\n &lt;/div&gt;\n &lt;p&gt;\n   &lt;label class=\"w3-text-teal\"&gt;&lt;b&gt;Zip Code&lt;/b&gt;&lt;/label&gt;\n   &lt;input #zipCode=\"ngModel\" class=\"w3-input w3-border\" type=\"text\" required [(ngModel)]=\"model.zipCode\" placeholder=\"zipCode\"\n     name=\"zipCode\" minlength=\"4\" maxlength=\"15\"&gt;\n &lt;/p&gt;\n &lt;div *ngIf=\"zipCode.invalid &amp;&amp; (zipCode.dirty || zipCode.touched)\" class=\"alert alert-danger\"&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"zipCode.errors.required\"&gt;\n     zipCode is required.\n   &lt;/div&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"zipCode.errors.minlength\"&gt;\n     zipCode must be at least 4 characters long.\n   &lt;/div&gt;\n   &lt;div class=\"w3-text-red\" *ngIf=\"zipCode.errors.maxlength\"&gt;\n     zipCode must be less than 15 characters.\n   &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>And the code of the controller is as follows:-</p>\n\n<pre><code>import { Component, OnInit, ElementRef, NgModule, NgZone, ViewChild } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { Router, ActivatedRoute, Params, Data } from '@angular/router';\nimport { CanActivate } from '@angular/router';\nimport { LocalStorageService, SessionStorageService } from 'ngx-webstorage';\nimport { AgmCoreModule, MapsAPILoader } from '@agm/core';\nimport { AuthenticationUserService } from '../authentication-user.service';\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { FormControl, FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport {} from '@types/googlemaps';\ndeclare var google:any;\n\n@Component({\n  selector: 'app-add-company',\n  templateUrl: './add-company.component.html',\n  styleUrls: ['./add-company.component.css']\n})\n\nexport class AddCompanyComponent implements OnInit {\n  URL;\n  public latitude: number;\n  public longitude: number;\n  public searchControl: FormControl;\n  public zoom: number;\n\n\n  @ViewChild(\"search\")\n  public searchElementRef: ElementRef;\n\n\n\n  subscription1 = {\n    users: \"\",\n    period: \"\",\n    price: \"\"\n  };\n  model = {\n    companyLogo: \"\"\n  };\n  base64textString;\n  companyId;\n  companyName;\n\n  constructor(public http: Http, private mapsAPILoader: MapsAPILoader,\n    private ngZone: NgZone, private router: Router, public storage: LocalStorageService,private user:AuthenticationUserService) {\n    this.URL = this.storage.retrieve('url');\n    this.companyId=\"59ef5e6c4695460aafd1f8d2\";\n\n    this.http.get(this.URL + 'companies/59ef5e6c4695460aafd1f8d2').map(res =&gt; res.json()).subscribe(data =&gt; {\n      this.model = data;\n      this.base64textString = data.companyLogo;\n    });\n  }\n\n\n  ngOnInit() {\n\n\n    this.http.get(this.URL + 'subscriptions').map(res =&gt; res.json()).subscribe(data =&gt; {\n      this.subscription1 = data;\n\n    });\n    //saurabh\n\n      this.URL= this.storage.retrieve('url');\n    this.companyName = this.storage.retrieve('companyName');\n\n        this.http.get(this.URL + \"Companies?filter[where][email]=\" + this.storage.retrieve('email') + \"&amp;filter[where][password]=\" + this.storage.retrieve('password') +\"&amp;filter[where][companyName]=\" + this.companyName )\n          .map(res =&gt; res.json())\n          .subscribe(isCompany =&gt; {\n            isCompany.length == 0 ? this.router.navigate([this.companyName]) : this.user.setUserLoggedIn(), this.router.navigate([this.companyName + '/dashboard']);\n          });\n\n           //set google maps defaults\n    this.zoom = 4;\n    this.latitude = 39.8282;\n    this.longitude = -98.5795;\n\n    //create search FormControl\n    this.searchControl = new FormControl();\n\n    //set current position\n    this.setCurrentPosition();\n\n    //load Places Autocomplete\n    this.mapsAPILoader.load().then(() =&gt; {\n      let autocomplete = new google.maps.places.Autocomplete(this.searchElementRef.nativeElement, {\n        types: [\"address\"]\n      });\n      autocomplete.addListener(\"place_changed\", () =&gt; {\n        this.ngZone.run(() =&gt; {\n          //get the place result\n          let place: google.maps.places.PlaceResult = autocomplete.getPlace();\n\n          //verify result\n          if (place.geometry === undefined || place.geometry === null) {\n            return;\n          }\n\n          //set latitude, longitude and zoom\n          this.latitude = place.geometry.location.lat();\n          this.longitude = place.geometry.location.lng();\n          this.zoom = 12;\n        });\n      });\n    });\n\n  }\n\n  private setCurrentPosition() {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition((position) =&gt; {\n        this.latitude = position.coords.latitude;\n        this.longitude = position.coords.longitude;\n        this.zoom = 12;\n      });\n    }\n  }\n\n\n  onSubmit(form) {\n\n    this.http.post(this.URL + 'companies', form).subscribe(data =&gt; {\n      console.log('success');\n    });\n\n    console.log(\"on submit par\");\n\n    console.log(this.base64textString);\n\n\n\n  }\n\n  onCancel(form){\n    console.log(form);\n      this.http.patch(this.URL + 'companies/'+this.companyId, form).subscribe(data =&gt; {\n      console.log('success');\n    });\n\n  }\n\n  onClear() {\n\n  }\n\n//method done by one and only Niraj :)\n  imageUpload(evt) {\n    var files = evt.target.files;\n    var file = files[0];\n\n    if (files &amp;&amp; file) {\n      var reader = new FileReader();\n\n      reader.onload = this._imageReaderLoaded.bind(this);\n\n      reader.readAsBinaryString(file);\n    }\n  }\n\n\n\n  _imageReaderLoaded(readerEvt) {\n    var binaryString = readerEvt.target.result;\n    this.base64textString = \"data:image/png;base64,\" + btoa(binaryString);\n\n    this.model.companyLogo = this.base64textString;\n\n  }\n\n\n}\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "debugging", "angular2-changedetection"], "comments": [{"owner": {"reputation": 7869, "user_id": 7365461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3BM7b.png?s=128&g=1", "display_name": "AliF50", "link": "https://stackoverflow.com/users/7365461/alif50"}, "edited": false, "score": 0, "creation_date": 1613581900, "post_id": 46932904, "comment_id": 117121197, "body": "I know this is an old thread but I found the debugging of this to be the best <a href=\"https://blog.angular-university.io/angular-debugging/\" rel=\"nofollow noreferrer\">blog.angular-university.io/angular-debugging</a>."}], "answers": [{"tags": [], "owner": {"reputation": 2982, "user_id": 3780040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/g8J5b.png?s=128&g=1", "display_name": "Milo", "link": "https://stackoverflow.com/users/3780040/milo"}, "is_accepted": false, "score": 0, "last_activity_date": 1508936378, "creation_date": 1508936378, "answer_id": 46933156, "question_id": 46932904, "link": "https://stackoverflow.com/questions/46932904/how-to-debug-expression-changed-after-it-has-been-checked-error/46933156#46933156", "title": "How to debug &quot;Expression Changed After It Has Been Checked&quot; Error?", "body": "<p>You can run manual change detection on variable value changes that you suspect within the component until the error is resolved. Once you find it you can decide whether to re-design the implementation or just have the manual change detection run.</p>\n\n<pre><code>import { ChangeDetectorRef } from '@angular/core';\n\nconstructor(private _cdRef: ChangeDetectorRef) { }\n\nthis._cdRef.detectChanges();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2826, "user_id": 542191, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/efa7413bce361e390d0498bb49206f6b?s=128&d=identicon&r=PG", "display_name": "pop", "link": "https://stackoverflow.com/users/542191/pop"}, "edited": false, "score": 0, "creation_date": 1508937330, "post_id": 46933331, "comment_id": 80813854, "body": "Upvoted for (yet unseen) detailed article. :) I am now at line 8406 of core.es5.js right before the error is thrown and trying to go backwards from there. The most weird thing until now, that most of the booleans the component uses are getters, which should trigger ChangeDetection on their own, right?... :/"}], "tags": [], "owner": {"reputation": 3889, "user_id": 222328, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/6ah9V.jpg?s=128&g=1", "display_name": "Wagner Danda da Silva Filho", "link": "https://stackoverflow.com/users/222328/wagner-danda-da-silva-filho"}, "is_accepted": false, "score": 2, "last_activity_date": 1508936914, "creation_date": 1508936914, "answer_id": 46933331, "question_id": 46932904, "link": "https://stackoverflow.com/questions/46932904/how-to-debug-expression-changed-after-it-has-been-checked-error/46933331#46933331", "title": "How to debug &quot;Expression Changed After It Has Been Checked&quot; Error?", "body": "<p>There are a lot of posts showing how to figure out the 'ExpressionChangedAfterItHasBeenCheckedError' error, however, a good starting point is reading this to understand what this error means: <a href=\"https://blog.angularindepth.com/everything-you-need-to-know-about-the-expressionchangedafterithasbeencheckederror-error-e3fd9ce7dbb4\" rel=\"nofollow noreferrer\">https://blog.angularindepth.com/everything-you-need-to-know-about-the-expressionchangedafterithasbeencheckederror-error-e3fd9ce7dbb4</a></p>\n\n<p>But, if you just want a lazy way of figuring this out, just start commenting things out to find the culprit that's causing this error. Once you isolate the causing line, then perhaps post again with the specific error of \"when I have this line I then get this error\" etc. We might be able to help you out better then.</p>\n\n<p>If you still don't want to do that, then once you find the problematic code then just try some of the things the community usually recommends:</p>\n\n<ul>\n<li>wrap your code with setTimeout (this is just a hack)</li>\n<li>run change detection detection as explained on another answer by @Milo</li>\n<li>make sure the child element is being properly destroyed</li>\n</ul>\n\n<p>There are a lot of posts on this error and if you put a little more effort and give us a better picture of your code then we might be able to help you out better.</p>\n\n<p>Good luck! :) </p>\n"}, {"comments": [{"owner": {"reputation": 2826, "user_id": 542191, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/efa7413bce361e390d0498bb49206f6b?s=128&d=identicon&r=PG", "display_name": "pop", "link": "https://stackoverflow.com/users/542191/pop"}, "edited": false, "score": 0, "creation_date": 1508941693, "post_id": 46935040, "comment_id": 80817326, "body": "Well, this is exactly what I am doing now. I have found the method where it all happens (in the controller), however changeDetectorRef.detectChanges() doesn&#39;t help. But that&#39;s another story."}, {"owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "reply_to_user": {"reputation": 2826, "user_id": 542191, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/efa7413bce361e390d0498bb49206f6b?s=128&d=identicon&r=PG", "display_name": "pop", "link": "https://stackoverflow.com/users/542191/pop"}, "edited": false, "score": 0, "creation_date": 1508944482, "post_id": 46935040, "comment_id": 80819333, "body": "You should be able to find component name and then it might be easier to guess which binding causes error. See <a href=\"https://github.com/angular/angular/issues/10131\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/10131</a>."}], "tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1508941599, "creation_date": 1508941599, "answer_id": 46935040, "question_id": 46932904, "link": "https://stackoverflow.com/questions/46932904/how-to-debug-expression-changed-after-it-has-been-checked-error/46935040#46935040", "title": "How to debug &quot;Expression Changed After It Has Been Checked&quot; Error?", "body": "<p>You have to literally debug, because currently angular does not provide any meaningful details except value.</p>\n\n<p>If you set debugger option break on all errors you will be able to walk through stack (kinda obvious right?) and see component name where problem occurs.</p>\n"}], "owner": {"reputation": 2826, "user_id": 542191, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/efa7413bce361e390d0498bb49206f6b?s=128&d=identicon&r=PG", "display_name": "pop", "link": "https://stackoverflow.com/users/542191/pop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1574, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1508941599, "creation_date": 1508935704, "question_id": 46932904, "link": "https://stackoverflow.com/questions/46932904/how-to-debug-expression-changed-after-it-has-been-checked-error", "title": "How to debug &quot;Expression Changed After It Has Been Checked&quot; Error?", "body": "<p>This is a notorious error, which has a quite a \"following\" among developers, however it is also known to be quite tricky to debug. The log like this</p>\n\n<pre><code>PersonalSituationComponent.html:3 ERROR Error: ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: 'true'. Current value: 'false'.\nat viewDebugError (core.es5.js:8434) [angular]\nat expressionChangedAfterItHasBeenCheckedError (core.es5.js:8412) [angular]\nat checkBindingNoChanges (core.es5.js:8576) [angular]\nat checkNoChangesNodeInline (core.es5.js:12455) [angular]\nat checkNoChangesNode (core.es5.js:12429) [angular]\nat debugCheckNoChangesNode (core.es5.js:13209) [angular]\nat debugCheckRenderNodeFn (core.es5.js:13149) [angular]\nat Object.eval [as updateRenderer] (PersonalSituationComponent.html:3) [angular]\nat Object.debugUpdateRenderer [as updateRenderer] (core.es5.js:13131) [angular]\nat checkNoChangesView (core.es5.js:12251) [angular]\nat callViewAction (core.es5.js:12618) [angular]\nat execEmbeddedViewsAction (core.es5.js:12596) [angular]\nat checkNoChangesView (core.es5.js:12250) [angular]\nat callViewAction (core.es5.js:12618) [angular]\n</code></pre>\n\n<p>is not really helpful. And if one takes a lot at the line 3 of the html, the line has no booleans in it, but it <em>is</em> an opening tag for a component which does have some of them at various places (.ts and .html respectively).</p>\n\n<p>How would you debug such an error, without replacing all booleans with hardcoded values and checking each one of them separately? (And while you are typing, I am going to do just that).</p>\n"}, {"tags": ["angular", "typescript", "angular2-cli", "type-definition"], "comments": [{"owner": {"reputation": 3889, "user_id": 222328, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/6ah9V.jpg?s=128&g=1", "display_name": "Wagner Danda da Silva Filho", "link": "https://stackoverflow.com/users/222328/wagner-danda-da-silva-filho"}, "edited": false, "score": 0, "creation_date": 1508938265, "post_id": 46932864, "comment_id": 80814559, "body": "What do these functions do? Couldn&#39;t you move them to an angular service and inject them on whichever classes you need?"}, {"owner": {"reputation": 6097, "user_id": 286121, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb7efbefaa98aa762ea5aa390abd183?s=128&d=identicon&r=PG&f=1", "display_name": "gyozo kudor", "link": "https://stackoverflow.com/users/286121/gyozo-kudor"}, "reply_to_user": {"reputation": 3889, "user_id": 222328, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/6ah9V.jpg?s=128&g=1", "display_name": "Wagner Danda da Silva Filho", "link": "https://stackoverflow.com/users/222328/wagner-danda-da-silva-filho"}, "edited": false, "score": 0, "creation_date": 1508938344, "post_id": 46932864, "comment_id": 80814616, "body": "I don&#39;t know many details, it is to log some actions the user does on the page."}, {"owner": {"reputation": 6097, "user_id": 286121, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb7efbefaa98aa762ea5aa390abd183?s=128&d=identicon&r=PG&f=1", "display_name": "gyozo kudor", "link": "https://stackoverflow.com/users/286121/gyozo-kudor"}, "reply_to_user": {"reputation": 3889, "user_id": 222328, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/6ah9V.jpg?s=128&g=1", "display_name": "Wagner Danda da Silva Filho", "link": "https://stackoverflow.com/users/222328/wagner-danda-da-silva-filho"}, "edited": false, "score": 1, "creation_date": 1509003846, "post_id": 46932864, "comment_id": 80844115, "body": "Ok in the end I ended up doing what @wdanda suggested"}], "answers": [{"tags": [], "owner": {"reputation": 3889, "user_id": 222328, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/6ah9V.jpg?s=128&g=1", "display_name": "Wagner Danda da Silva Filho", "link": "https://stackoverflow.com/users/222328/wagner-danda-da-silva-filho"}, "is_accepted": true, "score": 1, "last_activity_date": 1509021188, "creation_date": 1509021188, "answer_id": 46954461, "question_id": 46932864, "link": "https://stackoverflow.com/questions/46932864/how-do-i-use-global-functions-from-a-javascript-library-inside-angular-2/46954461#46954461", "title": "How do I use global functions from a javascript library inside angular 2", "body": "<p>As suggested in my comments, I'd ask my self why not port these functions into a proper angular service that can be injected to classes that need to use them.</p>\n"}], "owner": {"reputation": 6097, "user_id": 286121, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb7efbefaa98aa762ea5aa390abd183?s=128&d=identicon&r=PG&f=1", "display_name": "gyozo kudor", "link": "https://stackoverflow.com/users/286121/gyozo-kudor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 2, "accepted_answer_id": 46954461, "answer_count": 1, "score": 0, "last_activity_date": 1509021188, "creation_date": 1508935612, "last_edit_date": 1508937371, "question_id": 46932864, "link": "https://stackoverflow.com/questions/46932864/how-do-i-use-global-functions-from-a-javascript-library-inside-angular-2", "title": "How do I use global functions from a javascript library inside angular 2", "body": "<p>I'm using angular-cli. I have an index.html that has a script (javascript) with some global functions in it. I want to use these functions in several places in my app. I'm fairly new to Angular and typescript and I know very little about type definitions. I tried writing type definitions but I have trouble writing and/or importing them. Can someone give me an example how to do this? It would be nice if I could import all the functions with just one line.</p>\n"}, {"tags": ["angular", "typescript", "primeng"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5354482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92124f82c47316d4b898d54aa9ca153d?s=128&d=identicon&r=PG&f=1", "display_name": "Amir Ben Yaala", "link": "https://stackoverflow.com/users/5354482/amir-ben-yaala"}, "is_accepted": false, "score": 0, "last_activity_date": 1508938496, "last_edit_date": 1508938496, "creation_date": 1508935011, "answer_id": 46932638, "question_id": 46932331, "link": "https://stackoverflow.com/questions/46932331/primeng-p-calender-default-date-not-working/46932638#46932638", "title": "Primeng: p-calender default date not working", "body": "<p>try this </p>\n\n<pre><code>public deadline: Date;\nngOnInit() {\n    this.deadline.setDate((new Date()).getDate() - 5);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 969, "user_id": 3494566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a733ab0f45f8223004682de017a895d?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen Pham", "link": "https://stackoverflow.com/users/3494566/stephen-pham"}, "is_accepted": false, "score": 1, "last_activity_date": 1522395151, "last_edit_date": 1522395151, "creation_date": 1522387296, "answer_id": 49568820, "question_id": 46932331, "link": "https://stackoverflow.com/questions/46932331/primeng-p-calender-default-date-not-working/49568820#49568820", "title": "Primeng: p-calender default date not working", "body": "<pre><code>//deadline: Date = new Date(0);\ndeadline: Date;\ndefaultDate: Date = new Date(\"January 31 1980 12:30\");\n\nngOnInit() {\n   //if (this.deadline == undefined)\n   //    this.deadline = new Date(\"June 30 1966 12:30\");\n}\n</code></pre>\n\n<p>According to the <a href=\"https://github.com/primefaces/primeng/issues/2799\" rel=\"nofollow noreferrer\">issue</a>, defaultDate is to display the month-year on first opening if the field is blank. </p>\n\n<p>The defaultDate property is not used to set a specific date and is only applicable if ngModel value is not set. To set the default displayed date, use ngModel instead of defaultDate.</p>\n"}, {"comments": [{"owner": {"reputation": 897, "user_id": 2545439, "user_type": "registered", "profile_image": "https://graph.facebook.com/1456930320/picture?type=large", "display_name": "Pieter De Bie", "link": "https://stackoverflow.com/users/2545439/pieter-de-bie"}, "edited": false, "score": 2, "creation_date": 1528875338, "post_id": 50487909, "comment_id": 88667207, "body": "You seem to have two [(ngModel)] attributes in your tag"}], "tags": [], "owner": {"reputation": 427, "user_id": 8036831, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh5.googleusercontent.com/-5oRByrd8SfU/AAAAAAAAAAI/AAAAAAAAAdE/UobYGPptjjU/photo.jpg?sz=128", "display_name": "Debo", "link": "https://stackoverflow.com/users/8036831/debo"}, "is_accepted": false, "score": 0, "last_activity_date": 1527076846, "creation_date": 1527076846, "answer_id": 50487909, "question_id": 46932331, "link": "https://stackoverflow.com/questions/46932331/primeng-p-calender-default-date-not-working/50487909#50487909", "title": "Primeng: p-calender default date not working", "body": "<p>You have to use ngModel for binding with your default date as described here : <a href=\"https://github.com/primefaces/primeng/issues/2799\" rel=\"nofollow noreferrer\">Open Link</a></p>\n\n<p>So, in your case, something like this should work:</p>\n\n<pre><code>&lt;p-calendar placeholder=\"mm/dd/yyyy\"\nname=\"deadline\" \nrequired \n[(ngModel)]=\"deadline\" \n#deadline=\"ngModel\" \n[showIcon]=\"true\" \nshowTime=\"showTime\" \nhourFormat=\"12\"\n[(ngModel)]=\"defaultDate\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 702, "user_id": 3201714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75314e03b467cc87e43b0a7dfb2ab508?s=128&d=identicon&r=PG&f=1", "display_name": "psms", "link": "https://stackoverflow.com/users/3201714/psms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9563, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1527076846, "creation_date": 1508934118, "question_id": 46932331, "link": "https://stackoverflow.com/questions/46932331/primeng-p-calender-default-date-not-working", "title": "Primeng: p-calender default date not working", "body": "<p>I need to set a default date in datepicker. I tried using defaultDate property of p-calender as given below:</p>\n\n<pre><code>&lt;p-calendar placeholder=\"mm/dd/yyyy\"\nname=\"deadline\" \nrequired \n[(ngModel)]=\"deadline\" \n#deadline=\"ngModel\" \n[showIcon]=\"true\" \nshowTime=\"showTime\" \nhourFormat=\"12\"\n[defaultDate]=\"defaultDate\"&gt;\n</code></pre>\n\n<p>Component.ts code:</p>\n\n<pre><code>public defaultDate: Date = new Date();\nngOnInit() {\n    this.defaultDate.setDate(this.defaultDate.getDate() - 5);\n}\n</code></pre>\n\n<p>However, the above code is not working. Please help.</p>\n"}, {"tags": ["arrays", "typescript", "declaration"], "comments": [{"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1508934822, "post_id": 46932318, "comment_id": 80811957, "body": "An even better question to close against: <a href=\"https://stackoverflow.com/questions/36741917/difference-between-type-and-type-in-typescript\" title=\"difference between type and type in typescript\">stackoverflow.com/questions/36741917/&hellip;</a>  And there&#39;s this one too: <a href=\"https://stackoverflow.com/questions/39274045/typescript-any-difference-between-number-and-number-number\" title=\"typescript any difference between number and number number\">stackoverflow.com/questions/39274045/&hellip;</a> And this one: <a href=\"https://stackoverflow.com/questions/43225857/typescript-string-vs-string\" title=\"typescript string vs string\">stackoverflow.com/questions/43225857/&hellip;</a> And this one: <a href=\"https://stackoverflow.com/questions/39613923/difference-between-string-and-string\" title=\"difference between string and string\">stackoverflow.com/questions/39613923/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 696, "user_id": 1057806, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4809ff51bb5a197f0185e5b9508df4bf?s=128&d=identicon&r=PG", "display_name": "Per Svensson", "link": "https://stackoverflow.com/users/1057806/per-svensson"}, "is_accepted": true, "score": 4, "last_activity_date": 1508934382, "creation_date": 1508934382, "answer_id": 46932418, "question_id": 46932318, "link": "https://stackoverflow.com/questions/46932318/declaration-of-array-in-typescript/46932418#46932418", "title": "Declaration of array in TypeScript", "body": "<p>TypeScript arrays can be written <code>Array&lt;T&gt;</code> or <code>T[]</code> as you suggested. </p>\n\n<p>The other type is a \"Tuple\". In TS this translated to a index typed array. \nE.g. it's a array with a fixed type at the given position.</p>\n\n<p>Example 'tuple array': <code>[Number, String]</code></p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\" rel=\"nofollow noreferrer\">Ts Docs explains this very well</a></p>\n"}], "owner": {"reputation": 4976, "user_id": 6848233, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ce4932ec84e19e8970d40e8c837346aa?s=128&d=identicon&r=PG&f=1", "display_name": "Jaroslaw K.", "link": "https://stackoverflow.com/users/6848233/jaroslaw-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1508935588, "accepted_answer_id": 46932418, "answer_count": 1, "score": 0, "last_activity_date": 1508934429, "creation_date": 1508934093, "question_id": 46932318, "link": "https://stackoverflow.com/questions/46932318/declaration-of-array-in-typescript", "closed_reason": "Duplicate", "title": "Declaration of array in TypeScript", "body": "<p>I have some experience with TypeScript, but one thing just keeps playing on my mind. I know the difference between <code>Array&lt;string&gt;</code> and <code>string[]</code>. I know that the declarations can be used interchangeably, f.e.</p>\n\n<pre><code>export class SomeClass {\n\n   someDeclaration: Array&lt;SomeObject&gt;;\n   otherDeclaration: SomeObject[];\n\n}\n</code></pre>\n\n<p>But in my work, I faced other declaration structure, namely:</p>\n\n<pre><code>export class OtherClass {\n\n   strangeDeclaration: [SomeObject];\n\n}\n</code></pre>\n\n<p><strong>My question is:</strong> Is it correct way to declaring array? Which difference is beetwen this way and other (most popoular) ways? Where does the structure come from?</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 1, "creation_date": 1508934093, "post_id": 46932248, "comment_id": 80811431, "body": "Why are you subscribing multiple times? Isn&#39;t the point of a subscription to be notified whenever something happens? Therefore you should simply subscribe once to each event, job done. Forget about <code>switch</code> inside <code>for</code>."}, {"owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 1, "creation_date": 1508934205, "post_id": 46932248, "comment_id": 80811514, "body": "Or at the very least, don&#39;t repeat yourself. <code>this[arrayOfItems[i]].subscribe</code> will cover all of your cases, instead of repeating your code 50 times if you have 50 different items."}, {"owner": {"reputation": 488, "user_id": 3125841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1313375997/picture?type=large", "display_name": "zmuci", "link": "https://stackoverflow.com/users/3125841/zmuci"}, "reply_to_user": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 0, "creation_date": 1508935511, "post_id": 46932248, "comment_id": 80812465, "body": "@JeremyThille Your comments made me think about other ways I could implement this. So now I&#39;m saving those 3 collections i need in variable on constructor load. And then when I call it later in the code, it works perfectly."}], "answers": [{"tags": [], "owner": {"reputation": 488, "user_id": 3125841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1313375997/picture?type=large", "display_name": "zmuci", "link": "https://stackoverflow.com/users/3125841/zmuci"}, "is_accepted": false, "score": 0, "last_activity_date": 1508935558, "creation_date": 1508935558, "answer_id": 46932846, "question_id": 46932248, "link": "https://stackoverflow.com/questions/46932248/angular-4-subscribe-gets-called-mutiple-times-inside-for-switch-loop/46932846#46932846", "title": "Angular 4 - Subscribe gets called mutiple times inside for/switch loop", "body": "<p>I saved all the data I need on constructor load and then used it later in the code, where I need it.</p>\n"}, {"tags": [], "owner": {"reputation": 347, "user_id": 8324702, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0b0b7558725de8b9a14a1172a2ccd5fd?s=128&d=identicon&r=PG&f=1", "display_name": "Shay", "link": "https://stackoverflow.com/users/8324702/shay"}, "is_accepted": false, "score": 0, "last_activity_date": 1508935861, "creation_date": 1508935861, "answer_id": 46932971, "question_id": 46932248, "link": "https://stackoverflow.com/questions/46932248/angular-4-subscribe-gets-called-mutiple-times-inside-for-switch-loop/46932971#46932971", "title": "Angular 4 - Subscribe gets called mutiple times inside for/switch loop", "body": "<p>You're loop probably hitting the 'spells' case multiple times which subscribes multiple times to the spells events and therefor the code inside the subscription called multiple times.</p>\n\n<p>In each case you should check if you already subscribed to that event. Something like this:</p>\n\n<pre><code>     if (!this.consumablesSubscribeSet){\n        this.consumablesSubscribeSet = true;\n        this.consumablesSubscribe = this.consumables.subscribe(data =&gt; {\n        const itemId = this.getRandom(data.length - 1);\n        this.rewardPack.push(data[itemId]);\n        });\n     }\n     break;\n</code></pre>\n"}], "owner": {"reputation": 488, "user_id": 3125841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1313375997/picture?type=large", "display_name": "zmuci", "link": "https://stackoverflow.com/users/3125841/zmuci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 314, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508935861, "creation_date": 1508933901, "question_id": 46932248, "link": "https://stackoverflow.com/questions/46932248/angular-4-subscribe-gets-called-mutiple-times-inside-for-switch-loop", "title": "Angular 4 - Subscribe gets called mutiple times inside for/switch loop", "body": "<p>I have an array of strings that looks something like this (its random every time)</p>\n\n<p><code>[\"consumables\", \"spells\", \"spells\", \"consumables\", \"spells\", \"consumables\", \"spells\", \"characters\", \"characters\", \"consumables\"]</code></p>\n\n<p>and then I loop trough this array, and depending on the index i call different <code>.subscribe</code> and push some data to new array.</p>\n\n<pre><code>for (var i = 0; i &lt; arrayOfItems.length; i++) {  \n    switch (arrayOfItems[i]) {\n        case 'spells':\n            this.spellsSubscribeSet = true;\n            this.spellsSubscribe = this.spells.subscribe(data =&gt; {\n                const itemId = this.getRandom(data.length - 1);\n                this.rewardPack.push(data[itemId]);\n            });\n            break;\n        case 'characters':\n            this.charactersSubscribeSet = true;\n            this.charactersSubscribe = this.characters.subscribe(data =&gt; {\n                const itemId = this.getRandom(data.length - 1);\n                this.rewardPack.push(data[itemId]);\n            });\n            break;\n        case 'consumables':\n            this.consumablesSubscribeSet = true;\n            this.consumablesSubscribe = this.consumables.subscribe(data =&gt; {\n                const itemId = this.getRandom(data.length - 1);\n                this.rewardPack.push(data[itemId]);\n            });\n            break;\n        default:\n            return null;\n    }\n}\n</code></pre>\n\n<p>.getRandom is a normal function that returns random number.</p>\n\n<pre><code>getRandom(x) {\n    return Math.floor(Math.random() * x);\n}\n</code></pre>\n\n<p>Strange thing that only 'spells' get called multiple times.</p>\n\n<p>I read something about .flatMap but I don't think that can help me since im looping a normal array.</p>\n\n<p>I'm using firestore database</p>\n"}, {"tags": ["typescript", "ionic-framework", "visual-studio-code", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6758035, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_7mOdZZXucA/AAAAAAAAAAI/AAAAAAAAAEQ/FS-xmvDE-v4/photo.jpg?sz=128", "display_name": "Kaji Chinzo", "link": "https://stackoverflow.com/users/6758035/kaji-chinzo"}, "edited": false, "score": 0, "creation_date": 1508975887, "post_id": 46934746, "comment_id": 80835006, "body": "The weird thing is the code works just fine. It fetches a json file from the server, its just the first time after ionic serve --lab it doesn&#39;t work. Going in and saving the app.module.ts makes it work. I will try your code once I get back to work and let you know if the error persists."}], "tags": [], "owner": {"reputation": 209, "user_id": 6291722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pS1ohGhWQIY/AAAAAAAAAAI/AAAAAAAAA7g/gXINxxPrTwQ/photo.jpg?sz=128", "display_name": "Marouan", "link": "https://stackoverflow.com/users/6291722/marouan"}, "is_accepted": true, "score": 0, "last_activity_date": 1508940745, "creation_date": 1508940745, "answer_id": 46934746, "question_id": 46932119, "link": "https://stackoverflow.com/questions/46932119/ionic-serve-lab-requiring-manually-saving-app-module-ts-before-working-properl/46934746#46934746", "title": "Ionic serve --lab requiring manually saving app.module.ts before working properly", "body": "<p>thats the right way to use custom http headers</p>\n\n<pre><code>import { Http, Headers } from '@angular/http'; // import Headers\n\nheaders: Headers = new Headers(); // init variable headers\n\nthis.headers.set('Content-Type', 'application/json'); // set header\n\nthis.http.post(url, data, {headers : this.headers}) // use it in your request\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6758035, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_7mOdZZXucA/AAAAAAAAAAI/AAAAAAAAAEQ/FS-xmvDE-v4/photo.jpg?sz=128", "display_name": "Kaji Chinzo", "link": "https://stackoverflow.com/users/6758035/kaji-chinzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 46934746, "answer_count": 1, "score": 0, "last_activity_date": 1508940745, "creation_date": 1508933499, "last_edit_date": 1508936455, "question_id": 46932119, "link": "https://stackoverflow.com/questions/46932119/ionic-serve-lab-requiring-manually-saving-app-module-ts-before-working-properl", "title": "Ionic serve --lab requiring manually saving app.module.ts before working properly", "body": "<p>We have an ionic project with few pages and a single custom provider. \nThe provider is request.ts, shown below. The problem is that every time we launch: ionic serve --lab. The compile would actually fail (error points to headers in the http.post from request.ts), then we have to manually go into the app.module.ts file and save it. Then everything starts working fine. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\n\r\nimport 'rxjs/add/operator/toPromise';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport class RequestProvider {\r\n\r\n  constructor(public http: Http) {\r\n    console.log('Hello RequestProvider Provider');\r\n  }\r\n\r\n  getSomeResponce(callBack) {\r\n    this.http.post(\r\n      \"some.domain.net/some/service\",\r\n      { \"argument1\": \"1\", \"argument2\": \"2\"},\r\n      { headers: { \"Content-Type\" : \"application/json\" } }\r\n    ).toPromise()\r\n    .then(res =&gt; callBack(res));\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>app.module imports the provider as such:</p>\n\n<pre><code>import { RequestProvider } from '../providers/request/request';\n</code></pre>\n\n<p>This is the error we get upon the first launch:</p>\n\n<blockquote>\n  <p>Typescript Error Argument of type '{ headers: { \"Content-Type\":\n  string; }; }' is not assignable to parameter of type\n  'RequestOptionsArgs'. Types of property 'headers' are incompatible.\n  Type '{ \"Content-Type\": string; }' is not assignable to type\n  'Headers'. Object literal may only specify known properties, and\n  '\"Content-Type\"' does not exist in type 'Headers'.</p>\n</blockquote>\n\n<p>Although the problem isn't big, it is an annoyance and I fear it might be indicative of larger problem down the road. </p>\n"}, {"tags": ["typescript", "prototype"], "answers": [{"comments": [{"owner": {"reputation": 1736, "user_id": 1421218, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/509761c8ec74c7c7013e1c08abe818bb?s=128&d=identicon&r=PG", "display_name": "Charles HETIER", "link": "https://stackoverflow.com/users/1421218/charles-hetier"}, "edited": false, "score": 0, "creation_date": 1519824998, "post_id": 46932804, "comment_id": 85066079, "body": "At first I wasn&#39;t really convinced, then I read somewhere that augmentation must be done on sources and not on already existing declarations. So this is definitely the right answer. Thanks"}, {"owner": {"reputation": 9082, "user_id": 491950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/iMzU9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/491950/rob"}, "edited": false, "score": 0, "creation_date": 1569671961, "post_id": 46932804, "comment_id": 102676883, "body": "This works well - don&#39;t forget to  - import &#39;./my-extension&#39;; - in your component file"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1508935454, "creation_date": 1508935454, "answer_id": 46932804, "question_id": 46932095, "link": "https://stackoverflow.com/questions/46932095/add-method-to-angular-formcontrol-class/46932804#46932804", "title": "add method to angular FormControl class", "body": "<p>The <code>FormControl</code> actually comes from another module within angular, that is the one you need to augment. I found that out by using go to definition command in Visual Studio Code. Also I took the liberty of adding a <code>this</code> parameter to your augmentation function:</p>\n\n<pre><code>import {FormControl} from '@angular/forms';\ndeclare module '@angular/forms/src/model' {\n  interface FormControl {\n    myMethod(value: string): FormControl;\n  }\n}\nFormControl.prototype.myMethod = function(this: FormControl, value: string) { \n  return this;\n};\nconst formControl = new FormControl('').myMethod('hello');\n</code></pre>\n"}], "owner": {"reputation": 1736, "user_id": 1421218, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/509761c8ec74c7c7013e1c08abe818bb?s=128&d=identicon&r=PG", "display_name": "Charles HETIER", "link": "https://stackoverflow.com/users/1421218/charles-hetier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 46932804, "answer_count": 1, "score": 2, "last_activity_date": 1508935454, "creation_date": 1508933451, "question_id": 46932095, "link": "https://stackoverflow.com/questions/46932095/add-method-to-angular-formcontrol-class", "title": "add method to angular FormControl class", "body": "<p>I am taking the example of FormControl but it could be applied to any constructor method within a module.</p>\n\n<p>Let's say I would like to add the method <code>myMethod(string): FormControl</code> to the existing FormControl class from ReactiveForm.</p>\n\n<p>I thought I could do it this way:</p>\n\n<pre><code>import {FormControl} from '@angular/forms';\n\ndeclare module '@angular/forms' {\n  interface FormControl {\n    myMethod(value: string): FormControl;\n  }\n}\n\nFormControl.prototype.myMethod = function(value) { /*TODO*/ };\n\nconst formControl = new FormControl('').myMethod('hello');\n</code></pre>\n\n<p>I would have worked with pure javacript,\nbut I have several warnings and errors during typescript compilation:</p>\n\n<ul>\n<li>ShadowedName: FormControl</li>\n<li>'FormControl' only refers to a type but is used as a value here</li>\n</ul>\n\n<p>Actualy, I think I understand both of the messages, but how can I do here?\nI have read the official type script documentation on it (<a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/declaration-merging.html</a>) and cannot find a case that matchs mine...</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["typescript", "vue.js"], "answers": [{"comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1509009887, "post_id": 46934867, "comment_id": 80848168, "body": "I did update all packages. I found a similar solution by just importing the options."}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 1, "creation_date": 1509145672, "post_id": 46934867, "comment_id": 80916454, "body": "When I update the packages using <code>npm update vue-class-component</code> or even <code>install</code> then I do not get the latest version from github: <a href=\"https://github.com/vuejs/vue-class-component/blob/master/src/declarations.ts\" rel=\"nofollow noreferrer\">github.com/vuejs/vue-class-component/blob/master/src/&hellip;</a> The github version seems to be updated already. Is there another step required?"}], "tags": [], "owner": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "is_accepted": false, "score": 2, "last_activity_date": 1508941125, "creation_date": 1508941125, "answer_id": 46934867, "question_id": 46931994, "link": "https://stackoverflow.com/questions/46931994/vue-2-5-vue-class-component-uses-vue-namespace-but-its-a-type/46934867#46934867", "title": "Vue 2.5 vue-class-component uses Vue namespace but it&#39;s a Type", "body": "<p>Vue's declaration files recently updated, so make sure both <code>vue-class-component</code> and <code>vue</code> are up-to-date. Because of the update, you may have to reference types in the following way:</p>\n\n<pre><code>import Vue, * as VueTypes from \"vue\"\n\nlet x: VueTypes.ComponentOptions&lt;any&gt;;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 684, "user_id": 463663, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e9713ac84ec5002229dc81eba8cd5c37?s=128&d=identicon&r=PG", "display_name": "lukaszb", "link": "https://stackoverflow.com/users/463663/lukaszb"}, "edited": false, "score": 0, "creation_date": 1513779945, "post_id": 46950521, "comment_id": 82783559, "body": "I&#39;m not sure I follow - where did you apply this change? At vue-class-component&#39;s declaration.d.ts? It doesn&#39;t make sense to me - i.e. it might work locally, but for PaaS deployment (like heroku or similar) I would need to run some post-deploy script (a smelly one to be honest)"}, {"owner": {"reputation": 355, "user_id": 2724509, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1d13d00144feb3796565333c6d954dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Onsokumaru", "link": "https://stackoverflow.com/users/2724509/onsokumaru"}, "edited": false, "score": 0, "creation_date": 1521196049, "post_id": 46950521, "comment_id": 85637937, "body": "As already requested by previous comment: Where did you apply this change?! I have the same problem and I don&#39;t know where to place this snippet. If I place it directly in the declaration.d.ts I&#39;ll get a new error: error TS1046: A &#39;declare&#39; modifier is required for a top level declaration in a .d.ts file"}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1521202527, "post_id": 46950521, "comment_id": 85641933, "body": "It&#39;s in my vue SFC component (for example, helloworld.vue): <code>&lt;script lang=&quot;ts&quot;&gt;import Vue, { ComponentOptions }  from &#39;vue&#39;</code>I haven&#39;t run into this error lately, maybe because I now use the <code>vue-class-component</code> or Vue has updated their typings file?"}], "tags": [], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "is_accepted": false, "score": 4, "last_activity_date": 1509009857, "creation_date": 1509009857, "answer_id": 46950521, "question_id": 46931994, "link": "https://stackoverflow.com/questions/46931994/vue-2-5-vue-class-component-uses-vue-namespace-but-its-a-type/46950521#46950521", "title": "Vue 2.5 vue-class-component uses Vue namespace but it&#39;s a Type", "body": "<p>I fixed it by importing componentoptions explicitly, this seems to work:</p>\n\n<pre><code>import Vue from 'vue';\nimport {ComponentOptions} from 'vue'\n\nlet options : ComponentOptions&lt;Vue&gt;;\n</code></pre>\n"}], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3982, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1510775624, "creation_date": 1508933146, "last_edit_date": 1508933470, "question_id": 46931994, "link": "https://stackoverflow.com/questions/46931994/vue-2-5-vue-class-component-uses-vue-namespace-but-its-a-type", "title": "Vue 2.5 vue-class-component uses Vue namespace but it&#39;s a Type", "body": "<p>After upgrading my Vue 2.0 Typescript project that uses <code>vue-class-component</code> to Vue 2.5, I get the following error in the declaration file:</p>\n\n<pre><code>ERROR in /myproject/node_modules/vue-class-component/lib/declarations.d.ts\n\n(6,33): error TS2702: 'Vue' only refers to a type, \nbut is being used as a namespace here.\n</code></pre>\n\n<p>Indeed, the <code>declaration.d.ts</code> seems to use <code>Vue</code> as a namespace:</p>\n\n<pre><code>options: Vue.ComponentOptions&lt;Vue&gt;\n</code></pre>\n\n<p>But how can I fix this? Is this an oversight/glitch in the declaration file of <code>vue-class-component</code>? </p>\n\n<p>The whole declaration file:</p>\n\n<pre><code>import Vue from 'vue';\nexport declare type VueClass = {\n    new (): Vue;\n} &amp; typeof Vue;\nexport declare type DecoratedClass = VueClass &amp; {\n    __decorators__?: ((options: Vue.ComponentOptions&lt;Vue&gt;) =&gt; void)[];\n};\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1508932416, "post_id": 46931409, "comment_id": 80810177, "body": "Please don&#39;t revert when someone formats the messy code."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 8804508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa6db4be026110a343642ba17ac0753f?s=128&d=identicon&r=PG&f=1", "display_name": "sasi", "link": "https://stackoverflow.com/users/8804508/sasi"}, "edited": false, "score": 0, "creation_date": 1508932035, "post_id": 46931491, "comment_id": 80809918, "body": "slice method is not working. i think there will change in declaration of tenants."}, {"owner": {"reputation": 125, "user_id": 8804508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa6db4be026110a343642ba17ac0753f?s=128&d=identicon&r=PG&f=1", "display_name": "sasi", "link": "https://stackoverflow.com/users/8804508/sasi"}, "edited": false, "score": 0, "creation_date": 1508932173, "post_id": 46931491, "comment_id": 80809996, "body": "No errors but not binded with  this.tenants  Is there any other way to bind??"}, {"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "reply_to_user": {"reputation": 125, "user_id": 8804508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa6db4be026110a343642ba17ac0753f?s=128&d=identicon&r=PG&f=1", "display_name": "sasi", "link": "https://stackoverflow.com/users/8804508/sasi"}, "edited": false, "score": 0, "creation_date": 1508932317, "post_id": 46931491, "comment_id": 80810115, "body": "it&#39;s working see here : <a href=\"https://plnkr.co/edit/SUHXhNYCQmgiaBSPLCMf?p=info\" rel=\"nofollow noreferrer\">plnkr.co/edit/SUHXhNYCQmgiaBSPLCMf?p=info</a> , are you doing something else in your code ?"}, {"owner": {"reputation": 125, "user_id": 8804508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa6db4be026110a343642ba17ac0753f?s=128&d=identicon&r=PG&f=1", "display_name": "sasi", "link": "https://stackoverflow.com/users/8804508/sasi"}, "edited": false, "score": 0, "creation_date": 1508932383, "post_id": 46931491, "comment_id": 80810153, "body": "I have tried with declaraing as tenants:Array&lt;Object&gt; = [];                                                  but i got error as Property &#39;id&#39; does not exist with type object"}, {"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "reply_to_user": {"reputation": 125, "user_id": 8804508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa6db4be026110a343642ba17ac0753f?s=128&d=identicon&r=PG&f=1", "display_name": "sasi", "link": "https://stackoverflow.com/users/8804508/sasi"}, "edited": false, "score": 0, "creation_date": 1508932451, "post_id": 46931491, "comment_id": 80810196, "body": "in the plunker link , there is a working code try to test it , i used your code then i added this <code>this.tenants = this.list.slice();</code> , it works perfectly"}], "tags": [], "owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "is_accepted": true, "score": 1, "last_activity_date": 1508931641, "creation_date": 1508931641, "answer_id": 46931491, "question_id": 46931409, "link": "https://stackoverflow.com/questions/46931409/how-to-bind-the-json-value-element-to-the-array-in-angular-4/46931491#46931491", "title": "How to bind the json value element to the array in angular 4", "body": "<p>use <code>slice</code> method :</p>\n\n<pre><code>this.tenants = this.list.slice();\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 8804508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa6db4be026110a343642ba17ac0753f?s=128&d=identicon&r=PG&f=1", "display_name": "sasi", "link": "https://stackoverflow.com/users/8804508/sasi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 46931491, "answer_count": 1, "score": -1, "last_activity_date": 1508932166, "creation_date": 1508931366, "last_edit_date": 1508932166, "question_id": 46931409, "link": "https://stackoverflow.com/questions/46931409/how-to-bind-the-json-value-element-to-the-array-in-angular-4", "title": "How to bind the json value element to the array in angular 4", "body": "<p>For example:</p>\n\n<pre><code>this.tenants = [];\n\nthis.list = [\n    {id: \"123\", displayname: \"john\"}, \n    {id: \"456\", displayname: \"victor\"}, \n    {id: \"789\", displayname: \"adam\"}\n];\n\nthis.tenants = this.list;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 1, "creation_date": 1508929702, "post_id": 46930770, "comment_id": 80808312, "body": "Sure it&#39;s possible. <code>.then(this.onGetHeroes.bind(this))</code>."}, {"owner": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "edited": false, "score": 0, "creation_date": 1508929704, "post_id": 46930770, "comment_id": 80808315, "body": "One line arrow function seems to be used for terseness. One line instead of multiple when adding another method."}, {"owner": {"reputation": 1852, "user_id": 4776689, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9x3Oq.jpg?s=128&g=1", "display_name": "Pavlo Morozov", "link": "https://stackoverflow.com/users/4776689/pavlo-morozov"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1508929847, "post_id": 46930770, "comment_id": 80808391, "body": "@deceze why you used bind method.? Is it not enough to put in method   body this.heroes = heroes.slice(1, 5) ?"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1508929936, "post_id": 46930770, "comment_id": 80808465, "body": "Because: <a href=\"https://stackoverflow.com/q/20279484/476\">How to access the correct <code>this</code> inside a callback?</a>"}, {"owner": {"reputation": 1852, "user_id": 4776689, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9x3Oq.jpg?s=128&g=1", "display_name": "Pavlo Morozov", "link": "https://stackoverflow.com/users/4776689/pavlo-morozov"}, "edited": false, "score": 0, "creation_date": 1508930290, "post_id": 46930770, "comment_id": 80808717, "body": "Oh thanks! I thought this is not the case when using typescript. Probably this is my mistake."}], "answers": [{"tags": [], "owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "is_accepted": true, "score": 1, "last_activity_date": 1508929813, "creation_date": 1508929813, "answer_id": 46930851, "question_id": 46930770, "link": "https://stackoverflow.com/questions/46930770/angular-function-instead-of-method-call-why/46930851#46930851", "title": "Angular function instead of method call. Why?", "body": "<p>There are several reasons why using arrow functions.\nMost of them are just a matter of style &amp; readability.</p>\n\n<p>Beside that, there is one important difference: if you would be passing components method to it then you would need to bind contrxt for <code>this</code> to that method.\nWith arrow function thats not needed as they dont create new context.</p>\n"}], "owner": {"reputation": 1852, "user_id": 4776689, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9x3Oq.jpg?s=128&g=1", "display_name": "Pavlo Morozov", "link": "https://stackoverflow.com/users/4776689/pavlo-morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 46930851, "answer_count": 1, "score": -2, "last_activity_date": 1508929813, "creation_date": 1508929574, "question_id": 46930770, "link": "https://stackoverflow.com/questions/46930770/angular-function-instead-of-method-call-why", "title": "Angular function instead of method call. Why?", "body": "<p>I work on code snippet described on <a href=\"https://angular.io/tutorial/toh-pt5\" rel=\"nofollow noreferrer\">https://angular.io/tutorial/toh-pt5</a> </p>\n\n<pre><code>export class DashboardComponent implements OnInit {\n  heroes: Hero[] = [];\n  constructor(private heroService: HeroService) { }\n  ngOnInit(): void {\n    this.heroService.getHeroes()\n      .then(heroes =&gt; this.heroes = heroes.slice(1, 5));\n  }\n}\n</code></pre>\n\n<p>And my question about this code part:</p>\n\n<pre><code>.then(heroes =&gt; this.heroes = heroes.slice(1, 5));\n</code></pre>\n\n<p>is it possible to create a method in DashboardComponent and pass it as argument instead of function? Is the functional approach here anything better than a method inside DashboardComponent class?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 5446, "user_id": 3528590, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/MURuw.jpg?s=128&g=1", "display_name": "Stretch0", "link": "https://stackoverflow.com/users/3528590/stretch0"}, "edited": false, "score": 0, "creation_date": 1508928757, "post_id": 46930450, "comment_id": 80807644, "body": "It doesn&#39;t seem to work if I use <code>.then()</code> promise syntax instead of <code>async &#47; await</code> either. I get the same error about property not existing"}], "answers": [{"comments": [{"owner": {"reputation": 5446, "user_id": 3528590, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/MURuw.jpg?s=128&g=1", "display_name": "Stretch0", "link": "https://stackoverflow.com/users/3528590/stretch0"}, "edited": false, "score": 0, "creation_date": 1508933173, "post_id": 46931090, "comment_id": 80810726, "body": "That&#39;s what I was missing. Thanks for that. All though, I am returning an instance of <code>googleAuth</code> so needed to do this: <code>new Promise&lt;googleAuth&gt;((resolve, reject) =&gt; { .. } )</code> which is slightly different."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1508930502, "creation_date": 1508930502, "answer_id": 46931090, "question_id": 46930450, "link": "https://stackoverflow.com/questions/46930450/why-does-object-property-not-exist-when-typescript-transpiles-but-it-does-at-run/46931090#46931090", "title": "Why does object property not exist when typescript transpiles but it does at run time?", "body": "<p>You need to tell Typescript what your <code>Promise</code> will return. This will allow Typescript to check what you do with the result in either syntax you use (async/await or .then): </p>\n\n<pre><code> new Promise&lt;auth.OAuth2&gt;((resolve, reject) =&gt; { .. } )\n</code></pre>\n"}], "owner": {"reputation": 5446, "user_id": 3528590, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/MURuw.jpg?s=128&g=1", "display_name": "Stretch0", "link": "https://stackoverflow.com/users/3528590/stretch0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 46931090, "answer_count": 1, "score": 0, "last_activity_date": 1508930502, "creation_date": 1508928604, "question_id": 46930450, "link": "https://stackoverflow.com/questions/46930450/why-does-object-property-not-exist-when-typescript-transpiles-but-it-does-at-run", "title": "Why does object property not exist when typescript transpiles but it does at run time?", "body": "<p>Typescript is failing to transpile my code as it believes the objects method doesn't exist. </p>\n\n<p>At run time, when the promise has resolved, the method does exists. It just doesn't exist at the time the typescript is trying to transpile because the Promise is returned.</p>\n\n<p>My function that returns the promise which resolves the oauthclient:</p>\n\n<pre><code>public generateOauthClient(){\n        return new Promise((resolve, reject) =&gt; {\n\n            // Load client secrets from a local file.\n            fs.readFile(appConfig.youtube.keyFilename, 'utf8', function processClientSecrets(err, content) {\n\n                if(err) {\n                    return reject('Error loading client secret file: ' + err);\n                }\n\n                const credentials = JSON.parse(content);\n\n                const clientSecret = credentials.installed.client_secret;\n                const clientId = credentials.installed.client_id;\n                const redirectUrl = credentials.installed.redirect_uris[0];\n                const auth = new googleAuth();\n                const oauth2Client = new auth.OAuth2(clientId, clientSecret, redirectUrl);\n\n\n                resolve(oauth2Client);\n\n            })\n        });\n    }\n</code></pre>\n\n<p>And then I try call that elsewhere in my code</p>\n\n<pre><code>const oauth2Client = await this.generateOauthClient();\n\noauth2Client.setCredentials({\n    access_token: JSON.parse(tokens).access_token,\n    refresh_token: JSON.parse(tokens).refresh_token\n});\n\noauth2Client.refreshAccessToken((err, tokens) =&gt; {\n    if(err) return reject(err)\n\n    this.storeToken(tokens).then(()=&gt;{\n        resolve('Successfully updated tokens')\n    }).catch((err2)=&gt; {\n        reject(err2)\n    })\n});\n</code></pre>\n\n<p>Then I get the typescript error: <code>Property 'setCredentials' does not exist on type '{}'</code></p>\n\n<p>If I change my <code>generateOauthClient</code> function to return a callback as opposed to returning a promise, typescript transpiles fine. </p>\n\n<p>How do I get around this so I can use promises instead of callbacks?</p>\n"}, {"tags": ["angularjs", "angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 2605, "user_id": 5387729, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/5ydk0.jpg?s=128&g=1", "display_name": "Rijo", "link": "https://stackoverflow.com/users/5387729/rijo"}, "edited": false, "score": 0, "creation_date": 1508929306, "post_id": 46930590, "comment_id": 80808056, "body": "One doubt why we want to promise. How its working in typescript"}, {"owner": {"reputation": 892, "user_id": 5983460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QitcA.jpg?s=128&g=1", "display_name": "Fabio Campinho", "link": "https://stackoverflow.com/users/5983460/fabio-campinho"}, "edited": false, "score": 0, "creation_date": 1508929375, "post_id": 46930590, "comment_id": 80808104, "body": "TypeScript is a transpile for JavaScript, and JavaScript is assincronous."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "reply_to_user": {"reputation": 2605, "user_id": 5387729, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/5ydk0.jpg?s=128&g=1", "display_name": "Rijo", "link": "https://stackoverflow.com/users/5387729/rijo"}, "edited": false, "score": 0, "creation_date": 1508929390, "post_id": 46930590, "comment_id": 80808117, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">Promises</a> are javascript feature.. It allows you to handle async operations @Rijo."}, {"owner": {"reputation": 2605, "user_id": 5387729, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/5ydk0.jpg?s=128&g=1", "display_name": "Rijo", "link": "https://stackoverflow.com/users/5387729/rijo"}, "edited": false, "score": 0, "creation_date": 1508929638, "post_id": 46930590, "comment_id": 80808273, "body": "I&#39;m getting result as [object Promise], how to split and take the values"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1508929758, "post_id": 46930590, "comment_id": 80808349, "body": "Check the second part of the answer.. you will get value within <code>then</code>. Read <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/&hellip;</a>"}, {"owner": {"reputation": 2605, "user_id": 5387729, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/5ydk0.jpg?s=128&g=1", "display_name": "Rijo", "link": "https://stackoverflow.com/users/5387729/rijo"}, "edited": false, "score": 0, "creation_date": 1508930055, "post_id": 46930590, "comment_id": 80808535, "body": "I add like this                this.weatherProvider.getGeoLocation().then(loc =&gt; {       console.log(loc.coords.latitude);    });          but coords getting error"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1508930118, "post_id": 46930590, "comment_id": 80808577, "body": "that may be something else unrelated to your question.. what is the error?"}, {"owner": {"reputation": 2605, "user_id": 5387729, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/5ydk0.jpg?s=128&g=1", "display_name": "Rijo", "link": "https://stackoverflow.com/users/5387729/rijo"}, "edited": false, "score": 0, "creation_date": 1508930449, "post_id": 46930590, "comment_id": 80808806, "body": "console.log(loc.coords.latitude); I&#39;am getting result as success. But editor showing error as [ts] Property &#39;coords&#39; does not exist on type &#39;void | Geoposition&#39;.   Property &#39;coords&#39; does not exist on type &#39;void&#39;."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1508930578, "post_id": 46930590, "comment_id": 80808893, "body": "that is a different issue I think <a href=\"https://stackoverflow.com/questions/39698851/cordova-plugin-geolocation-watchposition-method-not-working\" title=\"cordova plugin geolocation watchposition method not working\">stackoverflow.com/questions/39698851/&hellip;</a> will solve that error. You may need to debug your code further"}], "tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": false, "score": 1, "last_activity_date": 1508929014, "creation_date": 1508929014, "answer_id": 46930590, "question_id": 46930332, "link": "https://stackoverflow.com/questions/46930332/how-to-return-back-the-data-value-from-service-providers-to-components-angular/46930590#46930590", "title": "How to return back the data value from service providers to components | Angular 4 | Ionic", "body": "<p>You need to return the promise from your service and chain in your component.</p>\n\n<pre><code>getGeoLocation() {\n   //return the promise\n   return this.geolocation.getCurrentPosition().then((resp) =&gt; {\n  // console.log(resp.coords.latitude)\n  //  console.log(resp.coords.longitude)\n    return resp;\n\n   }).catch((error) =&gt; {\n     console.log('Error getting location', error);\n   });\n\n  }\n</code></pre>\n\n<p>In your component, call <code>Promise.then()</code> to access the <code>resp</code> returned from the promise,</p>\n\n<pre><code>this.weatherProvider.getGeoLocation()\n    then(loc =&gt; {\n        console.log(loc);\n     });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 892, "user_id": 5983460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QitcA.jpg?s=128&g=1", "display_name": "Fabio Campinho", "link": "https://stackoverflow.com/users/5983460/fabio-campinho"}, "is_accepted": false, "score": 0, "last_activity_date": 1508929101, "creation_date": 1508929101, "answer_id": 46930624, "question_id": 46930332, "link": "https://stackoverflow.com/questions/46930332/how-to-return-back-the-data-value-from-service-providers-to-components-angular/46930624#46930624", "title": "How to return back the data value from service providers to components | Angular 4 | Ionic", "body": "<p>You should add return before call this.geolocation.getCurrentPosition because it is a promise.</p>\n\n<pre><code>constructor(public http: Http, private geolocation: Geolocation) { }\ngetGeoLocation() {\n   return this.geolocation.getCurrentPosition().then((resp) =&gt; {\n   // console.log(resp.coords.latitude)\n   //  console.log(resp.coords.longitude)\n       return resp;\n\n   }).catch((error) =&gt; {\n     console.log('Error getting location', error);\n   });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18803, "user_id": 4939915, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NVz1D.jpg?s=128&g=1", "display_name": "AddWeb Solution Pvt Ltd", "link": "https://stackoverflow.com/users/4939915/addweb-solution-pvt-ltd"}, "is_accepted": false, "score": 0, "last_activity_date": 1508935171, "last_edit_date": 1508935171, "creation_date": 1508929243, "answer_id": 46930678, "question_id": 46930332, "link": "https://stackoverflow.com/questions/46930332/how-to-return-back-the-data-value-from-service-providers-to-components-angular/46930678#46930678", "title": "How to return back the data value from service providers to components | Angular 4 | Ionic", "body": "<p><strong>Add this code your service 'weather.ts'</strong></p>\n\n<pre><code>import { Geolocation } from '@ionic-native/geolocation';\n....\n....\nconstructor(public http: Http, private geolocation: Geolocation) { }\ngetGeoLocation() {\n  return new Promise((resolve, reject) =&gt; {\n      this.geolocation.getCurrentPosition()\n      .then((resp) =&gt; {\n           resolve(resp.json());\n      }).catch((error) =&gt; {\n            console.log('Error getting location', error);\n            reject(error);\n      });\n});\n\n  }\n</code></pre>\n\n<p><strong>And your component file:</strong></p>\n\n<pre><code>import { WeatherProvider } from '../../providers/weather/weather';\n\nconstructor(public navCtrl: NavController,private weatherProvider: WeatherProvider){\n    this.weatherProvider.getGeoLocation()\n        .then((res) =&gt; {\n            console.log(res);\n         })\n        .catch((err) =&gt; {\n            console.log(err);\n      });\n  }\n</code></pre>\n"}], "owner": {"reputation": 2605, "user_id": 5387729, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/5ydk0.jpg?s=128&g=1", "display_name": "Rijo", "link": "https://stackoverflow.com/users/5387729/rijo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 2, "answer_count": 3, "score": 1, "last_activity_date": 1508977342, "creation_date": 1508928302, "last_edit_date": 1508977342, "question_id": 46930332, "link": "https://stackoverflow.com/questions/46930332/how-to-return-back-the-data-value-from-service-providers-to-components-angular", "title": "How to return back the data value from service providers to components | Angular 4 | Ionic", "body": "<p>I want to return back the geolocation latitude, and longitude value from my service provider file.</p>\n\n<p>Code shown below. \ncomponent or pages 'home.ts'</p>\n\n<pre><code>import { WeatherProvider } from '../../providers/weather/weather';\n\nconstructor(public navCtrl: NavController,private weatherProvider: WeatherProvider) {\n    console.log(this.weatherProvider.getGeoLocation()+'kkk');\n  }\n</code></pre>\n\n<p>provider file 'weather.ts'</p>\n\n<pre><code>import { Geolocation } from '@ionic-native/geolocation';\n....\n....\nconstructor(public http: Http, private geolocation: Geolocation) { }\ngetGeoLocation() {\n   this.geolocation.getCurrentPosition().then((resp) =&gt; {\n  // console.log(resp.coords.latitude)\n  //  console.log(resp.coords.longitude)\n    return resp;\n\n   }).catch((error) =&gt; {\n     console.log('Error getting location', error);\n   });\n\n  }\n</code></pre>\n\n<p>I'am getting result as undefined. I'am newbie in typescript, sorry for the silly question. Thanks to all </p>\n"}, {"tags": ["angular", "typescript", "ngfor", "angular-template"], "answers": [{"tags": [], "owner": {"reputation": 78907, "user_id": 107660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG", "display_name": "Duncan", "link": "https://stackoverflow.com/users/107660/duncan"}, "is_accepted": true, "score": 77, "last_activity_date": 1508928323, "creation_date": 1508928323, "answer_id": 46930341, "question_id": 46930242, "link": "https://stackoverflow.com/questions/46930242/angular-io-4-ngfor-first-and-last/46930341#46930341", "title": "Angular io (4) *ngFor first and last", "body": "<p>Inside the <code>ngFor</code> you have access to several variables:</p>\n\n<ul>\n<li>index: number: The index of the current item in the iterable.</li>\n<li>first: boolean: True when the item is the first item in the iterable.</li>\n<li>last: boolean: True when the item is the last item in the iterable.</li>\n<li>even: boolean: True when the item has an even index in the iterable.</li>\n<li>odd: boolean: True when the item has an odd index in the iterable.</li>\n</ul>\n\n<p>So:</p>\n\n<pre><code>&lt;md-expansion-panel *ngFor=\"let item of items; first as isFirst\"\n    *ngClass=\"{ 'first' : isFirst }\"&gt;\n  &lt;content&gt;&lt;/content&gt;\n&lt;/md-expansion-panel&gt;\n</code></pre>\n\n<p>Documentation at <a href=\"https://angular.io/api/common/NgForOf\" rel=\"noreferrer\">https://angular.io/api/common/NgForOf</a> gives this example:</p>\n\n<pre><code>&lt;li *ngFor=\"let user of userObservable | async as users; index as i; first as isFirst\"&gt;\n   {{i}}/{{users.length}}. {{user}} &lt;span *ngIf=\"isFirst\"&gt;default&lt;/span&gt;\n&lt;/li&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5059, "user_id": 767625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5TR3G.jpg?s=128&g=1", "display_name": "Anjana Silva", "link": "https://stackoverflow.com/users/767625/anjana-silva"}, "edited": false, "score": 0, "creation_date": 1583932563, "post_id": 46930381, "comment_id": 107277824, "body": "I am glad I googled. To be honest, I didn&#39;t even know these exists, such as <code>last</code>, <code>first</code> etc. Thank you, you are star!"}], "tags": [], "owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "is_accepted": false, "score": 15, "last_activity_date": 1585751722, "last_edit_date": 1585751722, "creation_date": 1508928433, "answer_id": 46930381, "question_id": 46930242, "link": "https://stackoverflow.com/questions/46930242/angular-io-4-ngfor-first-and-last/46930381#46930381", "title": "Angular io (4) *ngFor first and last", "body": "<p>This how you can do it : </p>\n\n<pre><code>&lt;md-expansion-panel *ngFor=\"let item of items; let first = first; \n      let last = last\" [ngClass]=\"{ 'first' : first }\"&gt;\n   &lt;content&gt;&lt;/content&gt;\n &lt;/md-expansion-panel&gt;\n</code></pre>\n\n<p>NgFor provides several exported values that can be aliased to local variables:</p>\n\n<ul>\n<li><p><code>index</code> will be set to the current loop iteration for each template\ncontext so it start from 0. </p></li>\n<li><p><code>first</code> will be set to a boolean value indicating whether the item is\nthe first one in the iteration.</p></li>\n<li><p><code>last</code> will be set to a boolean value indicating whether the item is\nthe last one in the iteration.</p></li>\n<li><p><code>even</code> will be set to a boolean value indicating whether this item has\nan even index.</p></li>\n<li><p><code>odd</code> will be set to a boolean value indicating whether this item has\nan odd index.</p></li>\n</ul>\n\n<p>for more information  : <a href=\"https://angular.io/api/common/NgForOf\" rel=\"noreferrer\"><strong>NgFor-directive \ud83d\ude80\ud83d\ude80</strong></a></p>\n\n<p><em>a complete example</em></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;div\n    *ngFor=\"let n of items; let itemsCount = count;let idx = index , let isOdd = odd;let first = first ;let last = last;\"&gt;\n    {{n}} ,\n    {{itemsCount}} ,\n    {{idx}} ,\n    odd \ud83d\udc49 {{isOdd}} ,\n    first \ud83d\udc49 {{first}} ,\n    last \ud83d\udc49 {{last}}\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-ngfor-local-variables\" rel=\"noreferrer\">demo \ud83d\ude80</a></p>\n"}], "owner": {"reputation": 393, "user_id": 7574618, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oAE86.jpg?s=128&g=1", "display_name": "Nicholas Fitton", "link": "https://stackoverflow.com/users/7574618/nicholas-fitton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36969, "favorite_count": 11, "accepted_answer_id": 46930341, "answer_count": 2, "score": 37, "last_activity_date": 1609146250, "creation_date": 1508928008, "last_edit_date": 1609146250, "question_id": 46930242, "link": "https://stackoverflow.com/questions/46930242/angular-io-4-ngfor-first-and-last", "title": "Angular io (4) *ngFor first and last", "body": "<p>I am trying to tell whether an item in an <code>*ngFor</code> is the first or last element to style a container. Is there a way to do something like this?</p>\n\n<pre><code>&lt;md-expansion-panel *ngFor=\"let item of items\" *ngClass=\"{ 'first' : item.isFirst }\"&gt;\n  &lt;content&gt;&lt;/content&gt;\n&lt;/md-expansion-panel&gt;\n</code></pre>\n\n<p>Thanks for any help offered!</p>\n"}, {"tags": ["typescript", "multidimensional-array"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1508928934, "post_id": 46930306, "comment_id": 80807757, "body": "@JGFMK Glad to help :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 0, "last_activity_date": 1508928234, "creation_date": 1508928234, "answer_id": 46930306, "question_id": 46929862, "link": "https://stackoverflow.com/questions/46929862/typescript-array-of-strings-array-conundrum/46930306#46930306", "title": "Typescript array of &#39;strings array&#39; conundrum", "body": "<p>You are using <code>[]</code> on the <code>push</code> function. You need to call push using <code>()</code>: <code>counts[1].push(n);</code> </p>\n\n<p>Typescript does not catch this error because <code>push</code> is a <code>function</code> which in turn is an <code>object</code>, and any object has the index operator. There are valid uses for this (objects that have data but are also callable), it's just that in this case the indexing operation will return undefined.</p>\n\n<p>Also might I suggest using this syntax to declare and create the array:</p>\n\n<pre><code>let counts: string[][] = [[]];\ncounts[1] = [];\n</code></pre>\n"}], "owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 46930306, "answer_count": 1, "score": 0, "last_activity_date": 1508928707, "creation_date": 1508926934, "last_edit_date": 1508928707, "question_id": 46929862, "link": "https://stackoverflow.com/questions/46929862/typescript-array-of-strings-array-conundrum", "title": "Typescript array of &#39;strings array&#39; conundrum", "body": "<p>I have some Typescript</p>\n\n<pre><code>let names = {};\nlet counts: any[] = [[] as string[]];\nlet c: number;\nlet addNames: string[] = [\"a\", \"b\", \"a\", \"c\"];\nfor (let i = 0; i &lt; addNames.length; i++) {\n  let n: string = addNames[i];\n  if (!names[n]) {\n      names[n] = 1;\n      if (counts[1] === undefined) {\n          counts[1] = [] as string[];\n      }\n      counts[1].push[n];\n  } else {\n      c = names[n];\n      names[n]++;\n      counts[c].splice(counts[c].indexOf(n), 1);\n      if (counts[c + 1] === undefined) {\n          counts[c + 1] = [] as string[];\n      }\n      counts[c + 1].push[n];\n  }\n}\nlet j = {\n  names: names,\n  counts: counts\n}\nconsole.log(`j: ${JSON.stringify(j)}`);\n// expecting something like \n//{ names: { a: 2, b:1, c:1 }, counts: [null, ['b', 'c'], ['a']] }\n</code></pre>\n\n<p>You can try running it <a href=\"https://www.typescriptlang.org/play/#src=let%20names%20%3D%20%7B%7D%3B%0D%0Alet%20counts%3A%20any%5B%5D%20%3D%20%5B%5B%5D%20as%20string%5B%5D%5D%3B%0D%0Alet%20c%3A%20number%3B%0D%0Alet%20addNames%3A%20string%5B%5D%20%3D%20%5B%22a%22%2C%20%22b%22%2C%20%22a%22%2C%20%22c%22%5D%3B%0D%0Afor%20(let%20i%20%3D%200%3B%20i%20%3C%20addNames.length%3B%20i%2B%2B)%20%7B%0D%0A%20%20let%20n%3A%20string%20%3D%20addNames%5Bi%5D%3B%0D%0A%20%20if%20(!names%5Bn%5D)%20%7B%0D%0A%20%20%20%20%20%20names%5Bn%5D%20%3D%201%3B%0D%0A%20%20%20%20%20%20if%20(counts%5B1%5D%20%3D%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20counts%5B1%5D%20%3D%20%5B%5D%20as%20string%5B%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20counts%5B1%5D.push%5Bn%5D%3B%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20c%20%3D%20names%5Bn%5D%3B%0D%0A%20%20%20%20%20%20names%5Bn%5D%2B%2B%3B%0D%0A%20%20%20%20%20%20counts%5Bc%5D.splice(counts%5Bc%5D.indexOf(n)%2C%201)%3B%0D%0A%20%20%20%20%20%20if%20(counts%5Bc%20%2B%201%5D%20%3D%3D%3D%20undefined)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20counts%5Bc%20%2B%201%5D%20%3D%20%5B%5D%20as%20string%5B%5D%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20counts%5Bc%20%2B%201%5D.push%5Bn%5D%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0Alet%20j%20%3D%20%7B%0D%0A%20%20names%3A%20names%2C%0D%0A%20%20counts%3A%20counts%0D%0A%7D%0D%0Aconsole.log(%60j%3A%20%24%7BJSON.stringify(j)%7D%60)%3B%0D%0A%2F%2F%20expecting%20something%20like%20%0D%0A%2F%2F%7B%20names%3A%20%7B%20a%3A%202%2C%20b%3A1%2C%20c%3A1%20%7D%2C%20counts%3A%20%5Bnull%2C%20%5B&#39;b&#39;%2C%20&#39;c&#39;%5D%2C%20%5B&#39;a&#39;%5D%5D%20%7D\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I'm expecting the answer in my comments..</p>\n\n<p>But the <strong>push</strong> doesn't seem to be working.</p>\n\n<p>I get this as a result instead:</p>\n\n<pre><code>j: {\"names\":{\"a\":2,\"b\":1,\"c\":1},\"counts\":[[],[],[]]}\n</code></pre>\n\n<p>Perhaps part of my problem is understanding the syntax for multi-dimensional array declaration.</p>\n\n<p>I tried breaking it down by defining:</p>\n\n<pre><code>type StringArray = [string[]]\nlet counts:StringArray[] = [] as StringArray\n</code></pre>\n\n<p>or combinations of things like:</p>\n\n<pre><code>string[][] \n</code></pre>\n\n<p>or:</p>\n\n<pre><code>[]string[]\n</code></pre>\n\n<p>but it left me dumbfounded.</p>\n\n<p>I'm wondering if someone can shed some light on this for me please.\nand show me what I need to tweak to get the desired output per my comment</p>\n\n<p><strong>{ names: { a: 2, b:1, c:1 }, counts: [null, ['b', 'c'], ['a']] }</strong></p>\n"}, {"tags": ["angular", "typescript", "angular2-services"], "comments": [{"owner": {"reputation": 2791, "user_id": 36253, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b292bf510519266d50b43482c340d9fd?s=128&d=identicon&r=PG", "display_name": "balu", "link": "https://stackoverflow.com/users/36253/balu"}, "edited": false, "score": 1, "creation_date": 1508927150, "post_id": 46929754, "comment_id": 80806630, "body": "What&#39;s the error message you&#39;re getting if the variable doesn&#39;t exist? In any case, I think you should rather use the <code>typeof</code> operator to check for existence, see <a href=\"https://stackoverflow.com/questions/5113374/javascript-check-if-variable-exists-is-defined-initialized\" title=\"javascript check if variable exists is defined initialized\">stackoverflow.com/questions/5113374/&hellip;</a> ."}], "owner": {"reputation": 41, "user_id": 8091232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc6829ab3630ae3f8e4a5e2f607a23ba?s=128&d=identicon&r=PG&f=1", "display_name": "CRCameron", "link": "https://stackoverflow.com/users/8091232/crcameron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1508926613, "creation_date": 1508926613, "question_id": 46929754, "link": "https://stackoverflow.com/questions/46929754/typescript-declare-optional-global-variable", "title": "Typescript - Declare optional global variable", "body": "<p>I am creating a service to check if a user is logged in. This will just be a global variable 'userIsLoggedIn' which is passed from the backend. This service will be used across several applications and sometimes the userIsLoggedIn global variable will not exist. </p>\n\n<p>What I have is...</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\ndeclare const userIsLoggedIn: boolean;\n\n@Injectable()\nexport class UserLoggedInService{\n    isUserLoggedIn(): boolean {\n        return userIsLoggedIn || false;\n    }\n}\n</code></pre>\n\n<p>If the userIsLoggedIn global variable does not exist then I get an error and if I leave out the declaration line then I get an error.</p>\n\n<p>I had hoped to be able to do something like </p>\n\n<pre><code>declare const userIsLoggedIn?: boolean;\n</code></pre>\n\n<p>But this does not seem to work. Could anybody help me out please?</p>\n"}, {"tags": ["angularjs", "angular", "typescript"], "comments": [{"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1508926410, "post_id": 46929655, "comment_id": 80806161, "body": "can you add more context? does it say what cant find the namespace?"}, {"owner": {"reputation": 4025, "user_id": 8495123, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2vBpi.jpg?s=128&g=1", "display_name": "Aleksey Solovey", "link": "https://stackoverflow.com/users/8495123/aleksey-solovey"}, "edited": false, "score": 0, "creation_date": 1508926452, "post_id": 46929655, "comment_id": 80806193, "body": "check the order of references"}, {"owner": {"reputation": 3360, "user_id": 2165382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GfUXc.png?s=128&g=1", "display_name": "Rafique Mohammed", "link": "https://stackoverflow.com/users/2165382/rafique-mohammed"}, "edited": false, "score": 0, "creation_date": 1508927265, "post_id": 46929655, "comment_id": 80806699, "body": "are you sure you have installed Angular using npm?"}, {"owner": {"reputation": 3230, "user_id": 5465632, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N9GDt.jpg?s=128&g=1", "display_name": "Ram", "link": "https://stackoverflow.com/users/5465632/ram"}, "edited": false, "score": 0, "creation_date": 1508927525, "post_id": 46929655, "comment_id": 80806874, "body": "This is definitely Angular installation issue."}], "answers": [{"tags": [], "owner": {"reputation": 3083, "user_id": 4345934, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc3d1df1c46e998c43937e7a29efa3e6?s=128&d=identicon&r=PG&f=1", "display_name": "Nawrez", "link": "https://stackoverflow.com/users/4345934/nawrez"}, "is_accepted": true, "score": 9, "last_activity_date": 1508926526, "creation_date": 1508926526, "answer_id": 46929727, "question_id": 46929655, "link": "https://stackoverflow.com/questions/46929655/cannot-find-namespace-angular/46929727#46929727", "title": "Cannot find namespace angular", "body": "<p>Maybe you should add angular types to tsconfig.json as following:</p>\n\n<pre><code>  {\n...\n\"compilerOptions\":\n    ...\n    \"types\": [\n        \"angular\"\n    ],\n  }\n</code></pre>\n\n<p>If that won't work, since typings are deprecated, I suggest you to install @types/angular with npm:</p>\n\n<pre><code>npm install --save-dev @types/angular\n</code></pre>\n\n<p>and include it as above.</p>\n"}], "owner": {"reputation": 81, "user_id": 8547164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hIGWVeP1dtc/AAAAAAAAAAI/AAAAAAAAAGY/hPLKeRWiU8A/photo.jpg?sz=128", "display_name": "Sanjith M", "link": "https://stackoverflow.com/users/8547164/sanjith-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5297, "favorite_count": 0, "accepted_answer_id": 46929727, "answer_count": 1, "score": 5, "last_activity_date": 1508938371, "creation_date": 1508926302, "last_edit_date": 1508938371, "question_id": 46929655, "link": "https://stackoverflow.com/questions/46929655/cannot-find-namespace-angular", "title": "Cannot find namespace angular", "body": "<p>I'm developing a Application using <code>Angular</code> and <code>Typescript</code>. That time i'm facing this error. </p>\n\n<pre><code>Error   21  Cannot find namespace 'angular'.\n</code></pre>\n\n<p>How to solve this??</p>\n"}, {"tags": ["html", "angular", "typescript", "html-table"], "answers": [{"comments": [{"owner": {"reputation": 709, "user_id": 5819392, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-IyvS2-niW18/AAAAAAAAAAI/AAAAAAAAAI4/Z4klt2H0Bq8/photo.jpg?sz=128", "display_name": "Wira Xie", "link": "https://stackoverflow.com/users/5819392/wira-xie"}, "edited": false, "score": 0, "creation_date": 1508928854, "post_id": 46930290, "comment_id": 80807703, "body": "How to insert new row by user input from <code>&lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;id&quot; id=&quot;id&quot;&gt;</code> tag ? can you give an example please? Thank you"}, {"owner": {"reputation": 709, "user_id": 5819392, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-IyvS2-niW18/AAAAAAAAAAI/AAAAAAAAAI4/Z4klt2H0Bq8/photo.jpg?sz=128", "display_name": "Wira Xie", "link": "https://stackoverflow.com/users/5819392/wira-xie"}, "edited": false, "score": 1, "creation_date": 1508930450, "post_id": 46930290, "comment_id": 80808807, "body": "Thank you very much Mr Metehan Senol"}], "tags": [], "owner": {"reputation": 419, "user_id": 7857131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e8a274338767aeec7fc0e5a0c38f8b?s=128&d=identicon&r=PG", "display_name": "Metehan Senol", "link": "https://stackoverflow.com/users/7857131/metehan-senol"}, "is_accepted": true, "score": 2, "last_activity_date": 1508929463, "last_edit_date": 1508929463, "creation_date": 1508928179, "answer_id": 46930290, "question_id": 46929589, "link": "https://stackoverflow.com/questions/46929589/insert-data-to-table-row-using-angular/46930290#46930290", "title": "Insert data to table row using Angular", "body": "<p>You can declare custom object array in your app.component.ts file like this</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\n@Component({\n  selector: 'app-root',\n  template: `\n  &lt;div class=\"container\"&gt;\n  &lt;table class=\"table table-responsive table-striped\"&gt;\n    &lt;tr&gt;\n      &lt;th&gt;id&lt;/th&gt;\n      &lt;th&gt;name&lt;/th&gt;\n      &lt;th&gt;year&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;tr *ngFor=\"let row of rows\"&gt;\n      &lt;td&gt;{{row.id}}&lt;/td&gt;\n      &lt;td&gt;{{row.name}}&lt;/td&gt;\n      &lt;td&gt;{{row.year}}&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/table&gt;\n  &lt;div&gt;\n\n  &lt;hr /&gt;\n  &lt;input type=\"text\" [(ngModel)]=\"id\" placeholder=\"id\" /&gt;\n  &lt;input type=\"text\" [(ngModel)]=\"name\" placeholder=\"name\" /&gt;\n  &lt;input type=\"text\" [(ngModel)]=\"year\" placeholder=\"year\" /&gt;\n\n  &lt;button (click)=\"buttonClicked()\"&gt;Click to Insert New Row&lt;/button&gt;\n  `,\n  styles: []\n})\nexport class AppComponent {\n  title = 'app';\n\n  public id: number;\n  public name: string;\n  public year: number;\n  public rows: Array&lt;{id: number, name: string, year: number}&gt; = [];\n\n  buttonClicked() {\n    this.rows.push( {id: this.id, name: this.name, year: this.year } );\n\n    //if you want to clear input\n    this.id = null;\n    this.name = null;\n    this.year = null;\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 9394207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9wKbp.jpg?s=128&g=1", "display_name": "sukumar", "link": "https://stackoverflow.com/users/9394207/sukumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1527828744, "creation_date": 1527828744, "answer_id": 50636289, "question_id": 46929589, "link": "https://stackoverflow.com/questions/46929589/insert-data-to-table-row-using-angular/50636289#50636289", "title": "Insert data to table row using Angular", "body": "<pre><code>// html data//   \n\n &lt;table border=\"1\"&gt;\n   &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th&gt;Type&lt;/th&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;Batters&lt;/th&gt;\n        &lt;th&gt;Toppings&lt;/th&gt;\n      &lt;/tr&gt;\n   &lt;/thead&gt;\n   &lt;tbody&gt;\n      &lt;tr *ngFor=\"let data of Newjson;\"&gt;\n        &lt;td &gt;\n          {{data.type}}  \n        &lt;/td&gt;\n        &lt;td&gt;\n              {{data.name}}  \n          &lt;/td&gt;\n          &lt;td&gt;\n               &lt;ul *ngFor=\"let item of data.batters.batter;\" [ngClass]=\"{'devils-find':item.type==='Devil\\'s Food'}\"&gt;\n                 &lt;li [ngClass]=\"item.type\"&gt;\n                    {{item.type}} \n                 &lt;/li&gt;\n               &lt;/ul&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;ul *ngFor=\"let y of data.topping;\"&gt;\n                    &lt;li&gt;\n                       {{y.type}} \n                    &lt;/li&gt;\n                  &lt;/ul&gt;\n              &lt;/td&gt;\n\n     &lt;/tr&gt; \n    &lt;/tbody&gt;\n  &lt;/table&gt;\n\n//component.ts file//\n\nexport class AppComponent {\npublic newtext:any;\npublic rows:any=[];\npublic url:any=[\"../assets/images/image.jpeg\",\"../assets/images/danger.jpeg\",\"../assets/images/crab.jpeg\",\n\"../assets/images/aws.png\",\"../assets/images/error404.jpg\",\"../assets/images/night.jpg\"];\npublic displayimage:any=[\"../assets/images/image.jpeg\"];\npublic setimage:boolean=true;\npublic i:any=1;\n\n\nNewjson=[\n    {\n      \"id\": \"0001\",\n      \"type\": \"donut\",\n      \"name\": \"Cake\",\n      \"ppu\": 0.55,\n      \"batters\":\n        {\n          \"batter\":\n            [\n              { \"id\": \"1001\", \"type\": \"Regular\"},\n              { \"id\": \"1002\", \"type\": \"Chocolate\"},\n              { \"id\": \"1003\", \"type\": \"Blueberry\"},\n              { \"id\": \"1004\", \"type\": \"Devil's Food\"}\n            ]\n        },\n      \"topping\":\n        [\n          { \"id\": \"5001\", \"type\": \"None\" },\n          { \"id\": \"5002\", \"type\": \"Glazed\" },\n          { \"id\": \"5005\", \"type\": \"Sugar\" },\n          { \"id\": \"5007\", \"type\": \"Powdered Sugar\" },\n          { \"id\": \"5006\", \"type\": \"Chocolate with Sprinkles\" },\n          { \"id\": \"5003\", \"type\": \"Chocolate\"},\n          { \"id\": \"5004\", \"type\": \"Maple\" }\n        ]\n    },\n    {\n      \"id\": \"0002\",\n      \"type\": \"donut\",\n      \"name\": \"Raised\",\n      \"ppu\": 0.55,\n      \"batters\":\n        {\n          \"batter\":\n            [\n              { \"id\": \"1001\", \"type\": \"Regular\"}\n            ]\n        },\n      \"topping\":\n        [\n          { \"id\": \"5001\", \"type\": \"None\" },\n          { \"id\": \"5002\", \"type\": \"Glazed\" },\n          { \"id\": \"5005\", \"type\": \"Sugar\" },\n          { \"id\": \"5003\", \"type\": \"Chocolate\"},\n          { \"id\": \"5004\", \"type\": \"Maple\" }\n        ]\n    },\n    {\n      \"id\": \"0003\",\n      \"type\": \"donut\",\n      \"name\": \"Old Fashioned\",\n      \"ppu\": 0.55,\n      \"batters\":\n        {\n          \"batter\":\n            [\n              { \"id\": \"1001\", \"type\": \"Regular\"},\n              { \"id\": \"1002\", \"type\": \"Chocolate\"}\n            ]\n        },\n      \"topping\":\n        [\n          { \"id\": \"5001\", \"type\": \"None\" },\n          { \"id\": \"5002\", \"type\": \"Glazed\" },\n          { \"id\": \"5003\", \"type\": \"Chocolate\"},\n          { \"id\": \"5004\", \"type\": \"Maple\" }\n        ]\n    }\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 709, "user_id": 5819392, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-IyvS2-niW18/AAAAAAAAAAI/AAAAAAAAAI4/Z4klt2H0Bq8/photo.jpg?sz=128", "display_name": "Wira Xie", "link": "https://stackoverflow.com/users/5819392/wira-xie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14785, "favorite_count": 1, "accepted_answer_id": 46930290, "answer_count": 2, "score": 0, "last_activity_date": 1527828744, "creation_date": 1508926080, "last_edit_date": 1508926507, "question_id": 46929589, "link": "https://stackoverflow.com/questions/46929589/insert-data-to-table-row-using-angular", "title": "Insert data to table row using Angular", "body": "<p>I am new to angular, and currently working on my personal project.\nI have a question about how to insert new data to table row. \nCan anyone give me snippet/example how to do this?</p>\n\n<p>Here is the form and the table headers:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!--app.component.html--&gt;\r\n\r\n&lt;!--show modal--&gt;\r\n&lt;a href=\"#\" (click)=\"smModal.show()\" popover=\"Tambah Data Mhs\" placement=\"bottom\" triggers=\"mouseenter:mouseleave\"&gt;ADD&lt;/a&gt;\r\n\r\n&lt;!--Modal--&gt;\r\n&lt;div class=\"container\"&gt;\r\n    &lt;div bsModal #smModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\" id=\"myModal\"&gt;\r\n        &lt;div class=\"modal-dialog modal-sm\"&gt;\r\n          &lt;div class=\"modal-content\"&gt;\r\n            &lt;div class=\"modal-header\"&gt;\r\n              &lt;h4 class=\"modal-title pull-left\"&gt;Add&lt;/h4&gt;\r\n              &lt;button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"smModal.hide()\"&gt;\r\n                &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\r\n              &lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=\"modal-body\"&gt;\r\n              &lt;form&gt;\r\n                &lt;label&gt;ID&lt;/label&gt;\r\n                &lt;input type=\"text\" class=\"form-control\" placeholder=\"id\"&gt;\r\n\r\n                &lt;label&gt;name&lt;/label&gt;\r\n                &lt;input type=\"text\" class=\"form-control\" placeholder=\"name\"&gt;\r\n\r\n                &lt;label&gt;year&lt;/label&gt;\r\n                &lt;input type=\"text\" class=\"form-control\" placeholder=\"year\"&gt;\r\n\r\n                &lt;label&gt;major&lt;/label&gt;\r\n                &lt;input type=\"text\" class=\"form-control\" placeholder=\"major\"&gt;\r\n\r\n                &lt;label&gt;address&lt;/label&gt;\r\n                &lt;input type=\"text\" class=\"form-control\" placeholder=\"address\"&gt;\r\n\r\n                &lt;label&gt;Email&lt;/label&gt;\r\n                &lt;input type=\"text\" class=\"form-control\" placeholder=\"email\"&gt;\r\n\r\n                &lt;label&gt;phone&lt;/label&gt;\r\n                &lt;input type=\"text\" class=\"form-control\" placeholder=\"phone\"&gt;&lt;br&gt;\r\n                \r\n                &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;Simpan&lt;/button&gt;\r\n                &lt;button class=\"btn btn-danger\"&gt;Batal&lt;/button&gt;\r\n              &lt;/form&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n&lt;!--enf of modal--&gt;\r\n\r\n&lt;!--table--&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;table class=\"table table-responsive table-striped\"&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;id&lt;/th&gt;\r\n      &lt;th&gt;name&lt;/th&gt;\r\n      &lt;th&gt;year&lt;/th&gt;\r\n      &lt;th&gt;major&lt;/th&gt;\r\n      &lt;th&gt;address&lt;/th&gt;\r\n      &lt;th&gt;email&lt;/th&gt;\r\n      &lt;th&gt;phone&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n&lt;div&gt;\r\n&lt;!--end of table--&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is the typescript file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>//app.component.ts\n\nimport { Component } from '@angular/core';\nimport { TemplateRef } from '@angular/core';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { BsModalRef } from 'ngx-bootstrap/modal/modal-options.class';\nimport { NgIf } from '@angular/common';\n\n @Component({\n  selector: 'app-root',\n  styleUrls:['app.component.css'],\n  templateUrl:'app.component.html',\n  //template:`&lt;h1 align=\"center\"&gt;template&lt;/h1&gt;`\n})\n\nexport class AppComponent \n{\n  title = 'title';\n\n}\n</code></pre>\n\n<p>What I need to do is simply insert the user input from that from into a table row. \nPlease let me know if more snippets are needed.</p>\n"}, {"tags": ["angular", "typescript", "parse-server"], "comments": [{"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1508926403, "post_id": 46929329, "comment_id": 80806152, "body": "<code>ngfor=&quot;let cat of (categories | async); let i = index&quot;</code> should be <code>ngfor=&quot;let cat of categories | async; let i = index&quot;</code> also can you post your <code>categories</code> object content here"}, {"owner": {"reputation": 191, "user_id": 59689, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4169b14f30058fad3a0bd82e473ea3a9?s=128&d=identicon&r=PG", "display_name": "Kevin Busch", "link": "https://stackoverflow.com/users/59689/kevin-busch"}, "reply_to_user": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1508939950, "post_id": 46929329, "comment_id": 80815876, "body": "I tried it without the brackets, that didn&#39;t helped. The categories object is just a Parse-Server ObjectArray i don&#39;t translate it to own ObjectClasses."}], "answers": [{"tags": [], "owner": {"reputation": 191, "user_id": 59689, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4169b14f30058fad3a0bd82e473ea3a9?s=128&d=identicon&r=PG", "display_name": "Kevin Busch", "link": "https://stackoverflow.com/users/59689/kevin-busch"}, "is_accepted": true, "score": 0, "last_activity_date": 1575538147, "last_edit_date": 1575538147, "creation_date": 1508941201, "answer_id": 46934899, "question_id": 46929329, "link": "https://stackoverflow.com/questions/46929329/populate-select-options-from-parse-api-with-angular/46934899#46934899", "title": "Populate select options from Parse API with Angular", "body": "<p>Shame on me, I found the problem, WebStorm's autocomplete renamed my <code>*ngFor</code> to <code>ngFor</code>. Now I changed it back to <code>*ngFor</code> and it works.</p>\n"}], "owner": {"reputation": 191, "user_id": 59689, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4169b14f30058fad3a0bd82e473ea3a9?s=128&d=identicon&r=PG", "display_name": "Kevin Busch", "link": "https://stackoverflow.com/users/59689/kevin-busch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 909, "favorite_count": 1, "accepted_answer_id": 46934899, "answer_count": 1, "score": 1, "last_activity_date": 1575538147, "creation_date": 1508925289, "question_id": 46929329, "link": "https://stackoverflow.com/questions/46929329/populate-select-options-from-parse-api-with-angular", "title": "Populate select options from Parse API with Angular", "body": "<p>I have a ParseServer instance where i hold a list of categories and i receive them through a service.</p>\n\n<p>Those categories should be shown in a HTML form as &lt;select>-options. But the categories are fetched too late, the select dropdown already has been rendered, and my database entries are not shown there.</p>\n\n<p>When i put the output {{categories}} somewhere in the html code, i can see a object array of the correct length. And even, when i name my options \"&lt;option ...>c:{{i}} {{categories.length}}&lt;/option> the correct length is displayed.</p>\n\n<p><strong>The html</strong></p>\n\n<pre><code>&lt;select class=\"form-control\" name=\"category\" formControlName=\"category\"&gt;\n      &lt;option value=\"\"&gt;-&lt;/option&gt;\n      &lt;option ngfor=\"let cat of (categories | async); let i = index\" [ngValue]=\"cat\"&gt;c:{{i}}&amp;lt;/option&gt;\n     &lt;/select&gt;\n</code></pre>\n\n<p><strong>The component</strong></p>\n\n<pre><code>export class CreateComponent implements OnInit {\n  categories: any[];\n  ...\n  constructor(private logService:LogService, private fb: FormBuilder, private parseManager: ParseManager, private categoriesService: CategoriesService) {\n  ...\n  } \n  ngOnInit() {\n\n    this.parseManager.categoriesGet((cats) =&gt; {\n        this.categories = cats;\n      }\n    );\n  }\n\n  ...\n}\n</code></pre>\n\n<p><strong>The service</strong></p>\n\n<pre><code>var Parse = require('parse').Parse;\nParse.initialize(\"blabla123123123\");\n\nParse.serverURL = \"http://localhost:1337/parse\";\n\nexport class ParseManager {\n\n  constructor() {\n\n  }\n\ncategoriesGet(success: (categories)=&gt;void){\n    var query = new Parse.Query(\"Category\");\n    query.find({\n      success: function(categories) {\n        console.log(\"Getting categories finished: \");\n        console.log(categories);\n        success(categories);\n      }\n    })\n  }\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript", "npm", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 30440, "user_id": 311130, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e66bb815b52eb8f82eab2c06427db8ca?s=128&d=identicon&r=PG", "display_name": "Elad Benda", "link": "https://stackoverflow.com/users/311130/elad-benda"}, "edited": false, "score": 0, "creation_date": 1508937902, "post_id": 46929726, "comment_id": 80814281, "body": "I did as you suggested, I tried to run <code>ng serve</code> and got the same error. Reg my versions: \u279c  <code>Your global Angular CLI version (1.4.9) is greater than your local version (1.2.0). The local Angular CLI version is used.</code>"}, {"owner": {"reputation": 30440, "user_id": 311130, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e66bb815b52eb8f82eab2c06427db8ca?s=128&d=identicon&r=PG", "display_name": "Elad Benda", "link": "https://stackoverflow.com/users/311130/elad-benda"}, "edited": false, "score": 0, "creation_date": 1508939226, "post_id": 46929726, "comment_id": 80815273, "body": "now i get this error: <code>has no exported member &#39;node_modules&#47;ng2-bootstrap&#47;dropdown&#47;index&quot;&#39; has no exported member &#39;DropdownModule&#39;.</code>"}, {"owner": {"reputation": 361, "user_id": 8592174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9281011de24e8bce322c4dfe435af952?s=128&d=identicon&r=PG&f=1", "display_name": "merlosy", "link": "https://stackoverflow.com/users/8592174/merlosy"}, "reply_to_user": {"reputation": 30440, "user_id": 311130, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e66bb815b52eb8f82eab2c06427db8ca?s=128&d=identicon&r=PG", "display_name": "Elad Benda", "link": "https://stackoverflow.com/users/311130/elad-benda"}, "edited": false, "score": 0, "creation_date": 1509005251, "post_id": 46929726, "comment_id": 80844968, "body": "This is probably an issue with your import of <i>ng2-bootstrap</i>, which by the way has been renamed <i>ngx-bootstrap</i>. You should check the official docs: <a href=\"https://valor-software.com/ngx-bootstrap/\" rel=\"nofollow noreferrer\">valor-software.com/ngx-bootstrap</a>"}], "tags": [], "owner": {"reputation": 361, "user_id": 8592174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9281011de24e8bce322c4dfe435af952?s=128&d=identicon&r=PG&f=1", "display_name": "merlosy", "link": "https://stackoverflow.com/users/8592174/merlosy"}, "is_accepted": true, "score": 0, "last_activity_date": 1508927109, "last_edit_date": 1508927109, "creation_date": 1508926523, "answer_id": 46929726, "question_id": 46929297, "link": "https://stackoverflow.com/questions/46929297/after-re-install-angular-cli-module-build-failed-typeerror-cannot-read-proper/46929726#46929726", "title": "after re-install angular/cli: Module build failed: TypeError: Cannot read property &#39;newLine&#39; of undefined", "body": "<p>Which version of CLI are you using? This all looks outdated</p>\n\n<p>This could help :</p>\n\n<pre><code>npm uninstall -g angular-cli\nnpm install -g @angular/cli\n</code></pre>\n\n<p>Official docs: <a href=\"https://cli.angular.io/\" rel=\"nofollow noreferrer\">https://cli.angular.io/</a></p>\n\n<p>Then, generate new project: <code>ng new myapp</code></p>\n"}], "owner": {"reputation": 30440, "user_id": 311130, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e66bb815b52eb8f82eab2c06427db8ca?s=128&d=identicon&r=PG", "display_name": "Elad Benda", "link": "https://stackoverflow.com/users/311130/elad-benda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "accepted_answer_id": 46929726, "answer_count": 1, "score": 0, "last_activity_date": 1508927109, "creation_date": 1508925195, "question_id": 46929297, "link": "https://stackoverflow.com/questions/46929297/after-re-install-angular-cli-module-build-failed-typeerror-cannot-read-proper", "title": "after re-install angular/cli: Module build failed: TypeError: Cannot read property &#39;newLine&#39; of undefined", "body": "<p>I have an angular-2 app.</p>\n\n<p>I try to run <code>ng serve</code> but get this error:</p>\n\n<pre><code>ERROR in ./src/main.ts\nModule build failed: TypeError: Cannot read property 'newLine' of undefined\n    at Object.getNewLineCharacter (/Users/eladb/WorkspaceQa/Gasolina/node_modules/typescript/lib/typescript.js:8062:20)\n    at Object.createCompilerHost (/Users/eladb/WorkspaceQa/Gasolina/node_modules/typescript/lib/typescript.js:44978:26)\n    at Object.ngcLoader (/Users/eladb/WorkspaceQa/Gasolina/node_modules/@ngtools/webpack/src/loader.js:170:31)\n @ multi webpack-dev-server/client?http://localhost:4200 ./src/main.ts\n\nERROR in ./src/polyfills.ts\nModule build failed: TypeError: Cannot read property 'newLine' of undefined\n    at Object.getNewLineCharacter (/Users/eladb/WorkspaceQa/Gasolina/node_modules/typescript/lib/typescript.js:8062:20)\n    at Object.createCompilerHost (/Users/eladb/WorkspaceQa/Gasolina/node_modules/typescript/lib/typescript.js:44978:26)\n    at Object.ngcLoader (/Users/eladb/WorkspaceQa/Gasolina/node_modules/@ngtools/webpack/src/loader.js:170:31)\n @ multi ./src/polyfills.ts\nwebpack: Failed to compile.\n</code></pre>\n\n<p>I have tried to uninstall and re-install angular/cli locally and globally.</p>\n\n<p>but i still get this error.</p>\n\n<p>here is my <code>package.json</code></p>\n\n<pre><code>{\n  \"name\": \"x\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"test\": \"ng test\",\n    \"pree2e\": \"webdriver-manager update --standalone false --gecko false\",\n    \"e2e\": \"protractor\",\n    \"posttest\": \"node_modules/.bin/remap-istanbul -i coverage/coverage.json -o coverage/html-report -t html\",\n    \"coverage\": \"http-server -c-1 -o -p 9876 ./coverage\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"^2.4.7\",\n    \"@angular/compiler\": \"^2.4.7\",\n    \"@angular/core\": \"^2.4.7\",\n    \"@angular/forms\": \"^2.4.7\",\n    \"@angular/http\": \"^2.4.7\",\n    \"@angular/material\": \"^2.0.0-beta.2\",\n    \"@angular/platform-browser\": \"^2.4.7\",\n    \"@angular/platform-browser-dynamic\": \"^2.4.7\",\n    \"@angular/router\": \"^3.4.7\",\n    \"ng2-tabs\": \"^0.0.11\",\n    \"core-js\": \"^2.4.1\",\n    \"ng2-bootstrap\": \"^1.3.3\",\n    \"rxjs\": \"^5.0.1\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.7.2\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"^1.0.0-rc.1\",\n    \"@angular/compiler-cli\": \"^2.4.7\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/node\": \"^6.0.42\",\n    \"codelyzer\": \"~2.0.0-beta.1\",\n    \"jasmine-core\": \"2.5.2\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-coverage\": \"^1.1.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"remap-istanbul\": \"^0.9.5\",\n    \"karma-istanbul-threshold\": \"^1.2.2\",\n    \"protractor\": \"~4.0.13\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"^4.3.0\",\n    \"typescript\": \"~2.0.3\"\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular4-forms"], "comments": [{"owner": {"reputation": 9290, "user_id": 5362646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SZ6fo.jpg?s=128&g=1", "display_name": "Chandru", "link": "https://stackoverflow.com/users/5362646/chandru"}, "edited": false, "score": 0, "creation_date": 1508925382, "post_id": 46928927, "comment_id": 80805441, "body": "can you please explain clearly ? emit to which component ? with component name"}, {"owner": {"reputation": 11, "user_id": 8203263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0968c9c500d41388f71b913dd3ed04b9?s=128&d=identicon&r=PG&f=1", "display_name": "Rajat Gupta", "link": "https://stackoverflow.com/users/8203263/rajat-gupta"}, "reply_to_user": {"reputation": 9290, "user_id": 5362646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SZ6fo.jpg?s=128&g=1", "display_name": "Chandru", "link": "https://stackoverflow.com/users/5362646/chandru"}, "edited": false, "score": 0, "creation_date": 1508989034, "post_id": 46928927, "comment_id": 80838076, "body": "@Chandru I have automatic session expire functionality in my project so when session gets expire it must invoke this popup modal with message and on clicking ok of modal it must redirect me to login screen."}, {"owner": {"reputation": 1588, "user_id": 723334, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/Yoz09.jpg?s=128&g=1", "display_name": "prajeesh", "link": "https://stackoverflow.com/users/723334/prajeesh"}, "edited": false, "score": 0, "creation_date": 1514454628, "post_id": 46928927, "comment_id": 82978508, "body": "any updates here?"}], "owner": {"reputation": 11, "user_id": 8203263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0968c9c500d41388f71b913dd3ed04b9?s=128&d=identicon&r=PG&f=1", "display_name": "Rajat Gupta", "link": "https://stackoverflow.com/users/8203263/rajat-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1070, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508925521, "creation_date": 1508924173, "last_edit_date": 1508925521, "question_id": 46928927, "link": "https://stackoverflow.com/questions/46928927/angular-4-modal-dynamic-data-passing", "title": "Angular 4 Modal dynamic data passing", "body": "<p>I have one common component for Modal and I want any data or message which comes from other components must go dynamically in this common modal component so that I don't have to rewrite modal code multiple times in the project.</p>\n\n<p>I am new to Angular 4 and using service approach so please look into the code below and tell me how to correct it and what is the right approach to do it. Let any component below be any component and I want this modal to be popped up at the particular event so please help me in that also like how I can emit this modal on a particular event.</p>\n\n<p><strong>modalcomponent.ts</strong></p>\n\n<pre><code>import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport {NgbModal, ModalDismissReasons} from '@ng-bootstrap/ng-bootstrap';\nimport { ModalService } from '../../../_services/modal-loader.service';\n\n@Component({\n  selector: 'app-modal',\n  templateUrl: \"./modal.component.html\",\n  encapsulation: ViewEncapsulation.None,\n})\nexport class ModalComponent implements OnInit {\n\n  closeResult: string;\n\n\n  constructor( private modalService: NgbModal,\n              private ms:ModalService) {\n    }\n\n  ngOnInit() {\n  }\n\n\n\n  open(content) {\n    this.modalService.open(content).result.then((result) =&gt; {\n      this.closeResult = `Closed with: ${result}`;\n    }, (reason) =&gt; {\n      this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n    });\n    console.log();\n  }\n\n  private getDismissReason(reason: any): string {\n    if (reason === ModalDismissReasons.ESC) {\n      return 'by pressing ESC';\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n      return 'by clicking on a backdrop';\n    } else {\n      return  `with: ${reason}`;\n    }\n\n\n  }\n\n\n}\n</code></pre>\n\n<p><strong>modalcomponent.html</strong></p>\n\n<pre><code>&lt;ng-template #content let-c=\"close\" let-d=\"dismiss\"&gt;\n    &lt;div class=\"modal-header\"&gt;\n      &lt;h4 class=\"modal-title\"&gt;{{ms.modalTitle}}&lt;/h4&gt;\n      &lt;button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"d('Cross click')\"&gt;\n        &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n      &lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-body\"&gt;\n      &lt;p&gt;{{ms.modalBody}}&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-footer\"&gt;\n      &lt;button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"c('Close click')\"&gt;Close&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/ng-template&gt;\n\n\n&lt;button class=\"btn btn-lg btn-outline-primary\" (click)=\"open(content)\"&gt;Launch demo modal&lt;/button&gt;\n</code></pre>\n\n<p><strong>modalservice.service.ts</strong></p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\n//import { Http } from \"@angular/http\";\n\n\n@Injectable()\nexport class ModalService {\n\n    modalTitle:String='Default Title';\n    modalBody:String='Default Body';\n    openModal:boolean=true;\n\n    createModal(modalTitle:String, modalBody:String, openModal:boolean ){\n       this.modalTitle = modalTitle;\n       this.openModal = openModal;\n       this.openModal=openModal;\n    }\n\n}\n</code></pre>\n\n<p><strong>AnyComponent.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport {NgbModal, ModalDismissReasons} from '@ng-bootstrap/ng-bootstrap';\nimport { ModalService } from '../../../_services/modal-loader.service';\n\n@Component({\n  selector: 'app-any',\n  templateUrl: \"./any.component.html\",\n  encapsulation: ViewEncapsulation.None,\n})\nexport class AnyComponent implements OnInit {\n\n  closeResult: string;\n\n\n  constructor( private modalService: NgbModal,\n              private ms:ModalService) {\n    }\n\n  ngOnInit() {\n  }\n</code></pre>\n\n<p>Let AnyComponent below be any component and I want this modal to be popped up at the particular event so Please help me in that also like how I can emit this modal on a particular event.</p>\n"}, {"tags": ["typescript", "emacs"], "comments": [{"owner": {"reputation": 36772, "user_id": 113848, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e3d4212415bc280a21ad85d8022791fe?s=128&d=identicon&r=PG", "display_name": "legoscia", "link": "https://stackoverflow.com/users/113848/legoscia"}, "edited": false, "score": 0, "creation_date": 1508924268, "post_id": 46928731, "comment_id": 80804623, "body": "If you type <code>M-x eww</code>, starting the built-in web browser, and try to visit some web pages, what happens? Does that also get stuck? Also, are other programs in your VM able to access the internet?"}, {"owner": {"reputation": 59, "user_id": 8298732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b84e990f731695a4aea9dafa302992a?s=128&d=identicon&r=PG", "display_name": "Just Matt for now", "link": "https://stackoverflow.com/users/8298732/just-matt-for-now"}, "reply_to_user": {"reputation": 36772, "user_id": 113848, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e3d4212415bc280a21ad85d8022791fe?s=128&d=identicon&r=PG", "display_name": "legoscia", "link": "https://stackoverflow.com/users/113848/legoscia"}, "edited": false, "score": 0, "creation_date": 1509081343, "post_id": 46928731, "comment_id": 80883164, "body": "Thanks for replying.  Everything works in all other applications.  Wow!  :) never knew about M-x eww. works fine.   But still just hangs there with &quot;Contacting host: elpa.gnu.org:80&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 8298732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b84e990f731695a4aea9dafa302992a?s=128&d=identicon&r=PG", "display_name": "Just Matt for now", "link": "https://stackoverflow.com/users/8298732/just-matt-for-now"}, "edited": false, "score": 0, "creation_date": 1509084756, "post_id": 46938890, "comment_id": 80884434, "body": "HELP!! I&#39;ve looked at the link you provided. my system does not contain either of the files that are described there. init.el and package.el. I would like to do some actual programming at some stage. This is ridiculous. I don&#39;t suppose emacs would let the world know where this package.el file is located. I suppose after googling the www while doing a system wide search on my machine should come up with something. But alas can only locate /usr/share/emacs/24.5/lisp/emacs-lisp/package.el.gz and /usr/share/emacs/24.5/lisp/emacs-lisp/package.elc. Can you explain what I need to do please?"}, {"owner": {"reputation": 59, "user_id": 8298732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b84e990f731695a4aea9dafa302992a?s=128&d=identicon&r=PG", "display_name": "Just Matt for now", "link": "https://stackoverflow.com/users/8298732/just-matt-for-now"}, "edited": false, "score": 0, "creation_date": 1509085009, "post_id": 46938890, "comment_id": 80884557, "body": "The other link just tells me that there are a bunch of wonderful typescript support packages that anyone who knows how to write the emacs application code from scratch might be able configure with very little effort. (assuming they have whatever other files that they will most likely need). Any prospect of being able to let anyone know how to install them?"}, {"owner": {"reputation": 59, "user_id": 8298732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b84e990f731695a4aea9dafa302992a?s=128&d=identicon&r=PG", "display_name": "Just Matt for now", "link": "https://stackoverflow.com/users/8298732/just-matt-for-now"}, "edited": false, "score": 0, "creation_date": 1509085059, "post_id": 46938890, "comment_id": 80884577, "body": "Sorry for the failing etiquette but I am frustrated beyond belief at why this has to be so difficult?"}, {"owner": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "reply_to_user": {"reputation": 59, "user_id": 8298732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b84e990f731695a4aea9dafa302992a?s=128&d=identicon&r=PG", "display_name": "Just Matt for now", "link": "https://stackoverflow.com/users/8298732/just-matt-for-now"}, "edited": false, "score": 0, "creation_date": 1509089717, "post_id": 46938890, "comment_id": 80886753, "body": "your init file should contain call to <code>package-initialize</code> - you can execute it via M-x as well.  After that you can simply execute M-x package-install, and select package to install"}, {"owner": {"reputation": 59, "user_id": 8298732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b84e990f731695a4aea9dafa302992a?s=128&d=identicon&r=PG", "display_name": "Just Matt for now", "link": "https://stackoverflow.com/users/8298732/just-matt-for-now"}, "edited": false, "score": 0, "creation_date": 1509193973, "post_id": 46938890, "comment_id": 80925957, "body": "Thanks Alex. I executed M-x package install and now I get &quot;install package:&quot; prompting me in the minibuffer. So, what do I do now?? Thanks, please stay with me on this. Cheers"}, {"owner": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "reply_to_user": {"reputation": 59, "user_id": 8298732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b84e990f731695a4aea9dafa302992a?s=128&d=identicon&r=PG", "display_name": "Just Matt for now", "link": "https://stackoverflow.com/users/8298732/just-matt-for-now"}, "edited": false, "score": 0, "creation_date": 1509196157, "post_id": 46938890, "comment_id": 80926621, "body": "you need to type the name of the package in minibufer, like, &#39;typescript&#39;, and press ENTER.  You can use TAB to complete name based on partial match.  You can press TAB twice to show alternatives"}, {"owner": {"reputation": 59, "user_id": 8298732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b84e990f731695a4aea9dafa302992a?s=128&d=identicon&r=PG", "display_name": "Just Matt for now", "link": "https://stackoverflow.com/users/8298732/just-matt-for-now"}, "edited": false, "score": 1, "creation_date": 1509197193, "post_id": 46938890, "comment_id": 80926916, "body": "I can start building Angular apps now!"}, {"owner": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "reply_to_user": {"reputation": 59, "user_id": 8298732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b84e990f731695a4aea9dafa302992a?s=128&d=identicon&r=PG", "display_name": "Just Matt for now", "link": "https://stackoverflow.com/users/8298732/just-matt-for-now"}, "edited": false, "score": 0, "creation_date": 1509206682, "post_id": 46938890, "comment_id": 80929993, "body": "You can to upvote my answer, and accept it as answer... Right now you accepted your own answer"}], "tags": [], "owner": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "is_accepted": true, "score": 1, "last_activity_date": 1508953508, "creation_date": 1508953508, "answer_id": 46938890, "question_id": 46928731, "link": "https://stackoverflow.com/questions/46928731/emacs-support-for-typescript/46938890#46938890", "title": "Emacs Support for Typescript", "body": "<p>There are several package for work with Typescript, from simple syntax highlihting in <code>typescript.el</code> to development environment implemented in <code>tide</code>, and some other.  The emacswiki <a href=\"http://wikemacs.org/wiki/TypeScript\" rel=\"nofollow noreferrer\">lists all of them</a>. But you'll need <a href=\"http://melpa.org/#/getting-started\" rel=\"nofollow noreferrer\">to setup MELPA</a> to use them.</p>\n\n<p>P.S. Regarding the VM - check that the regular browser in VM can access internet, and recheck network settings of VM - I've seen when VirtualBox, for example, had conflict with Windows HyperV.</p>\n"}, {"tags": [], "owner": {"reputation": 36772, "user_id": 113848, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e3d4212415bc280a21ad85d8022791fe?s=128&d=identicon&r=PG", "display_name": "legoscia", "link": "https://stackoverflow.com/users/113848/legoscia"}, "is_accepted": false, "score": 1, "last_activity_date": 1509095160, "creation_date": 1509095160, "answer_id": 46971352, "question_id": 46928731, "link": "https://stackoverflow.com/questions/46928731/emacs-support-for-typescript/46971352#46971352", "title": "Emacs Support for Typescript", "body": "<p>If the main obstacle is installing the package from the package list, you can bypass that step by visting the ELPA page in a web browser, downloading the tar file for the package, and installing it with <code>M-x package-install-file</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 8298732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b84e990f731695a4aea9dafa302992a?s=128&d=identicon&r=PG", "display_name": "Just Matt for now", "link": "https://stackoverflow.com/users/8298732/just-matt-for-now"}, "is_accepted": false, "score": 0, "last_activity_date": 1509197799, "creation_date": 1509197799, "answer_id": 46990324, "question_id": 46928731, "link": "https://stackoverflow.com/questions/46928731/emacs-support-for-typescript/46990324#46990324", "title": "Emacs Support for Typescript", "body": "<p>Okay, Alex Ott takes the honors. Looks like all I had to do was type \nm-x install-packages and then when prompted with \"install-package:\" type typescr [tab] to get a list of possible completions which contained one called typescript. hit enter and Voila! .ts files highlight syntax!!!</p>\n\n<p>I don't seem to understand where this package lives or anything but, who cares? It works!!</p>\n\n<p>Thanks to all (esp. Alex)</p>\n"}], "owner": {"reputation": 59, "user_id": 8298732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b84e990f731695a4aea9dafa302992a?s=128&d=identicon&r=PG", "display_name": "Just Matt for now", "link": "https://stackoverflow.com/users/8298732/just-matt-for-now"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 0, "accepted_answer_id": 46938890, "answer_count": 3, "score": 0, "last_activity_date": 1509197799, "creation_date": 1508923659, "last_edit_date": 1509082183, "question_id": 46928731, "link": "https://stackoverflow.com/questions/46928731/emacs-support-for-typescript", "title": "Emacs Support for Typescript", "body": "<p>\"How do I get Emacs to syntax highlight Typescript?\"</p>\n\n<p>I'll start with the apology. I have tried and tried. Emacs 24 on Ubuntu Virtualbox VM.  Please help me!  package-refresh-contents just sits there with \"Contacting host: elpa.gnu.org:80\"  </p>\n\n<p>(I.e. I've never managed to package-refresh-contents to work ever.)</p>\n\n<p>I've managed to configure Emacs Neotree sidebar, all sorts of customizations but nope, this one's got me stumped.\nI know it sounds like \"hold my hand\" with this one. But please, could someone just take me through it baby step by baby step. </p>\n\n<p>\"How do I get Emacs to syntax highlight Typescript?\"</p>\n\n<p>Please excuse any etiquette shortcomings as this is my first post ever. (gives an idea how frustrated I am) aaarggghhh!!! </p>\n"}, {"tags": ["typescript", "vue.js", "vuejs2", "vue-component"], "answers": [{"comments": [{"owner": {"reputation": 984, "user_id": 2158015, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KXnFP.png?s=128&g=1", "display_name": "Didii", "link": "https://stackoverflow.com/users/2158015/didii"}, "edited": false, "score": 0, "creation_date": 1550010289, "post_id": 54659545, "comment_id": 96110668, "body": "Just now noticed that I didn&#39;t fully read your question. For nested services, you&#39;ll need some sort of dependency injection container. You can then provide your container at top-level and use it to resolve your services."}], "tags": [], "owner": {"reputation": 984, "user_id": 2158015, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KXnFP.png?s=128&g=1", "display_name": "Didii", "link": "https://stackoverflow.com/users/2158015/didii"}, "is_accepted": false, "score": 12, "last_activity_date": 1550010054, "creation_date": 1550010054, "answer_id": 54659545, "question_id": 46928713, "link": "https://stackoverflow.com/questions/46928713/how-to-use-provide-inject-in-vue-js-with-typescript/54659545#54659545", "title": "How to use Provide/Inject in Vue.js with TypeScript", "body": "<p>You provide anything you want from a higher component by using the <code>@Provide</code> decorator and then ask for it in a lower component by using <code>@Inject</code>. For example:</p>\n\n<p>In the parent component you provide the value using <code>@Provide(&lt;someKey&gt;)</code></p>\n\n<pre><code>//Parent.vue\n&lt;template&gt;\n  &lt;div&gt;The parents value: {{this.providedValue}}&lt;/div&gt;\n  &lt;child /&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\n  import { Component, Vue, Provide} from 'vue-property-decorator';\n  import Child from './Child.vue';\n\n  @Component({components: Child})\n  export default class Parent extends Vue {\n    @Provide('key') private providedValue: string = 'The value';\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>Now we've declared a value with the name <code>key</code> that can be consumed by all children, multiple levels deep:</p>\n\n<pre><code>//Child.vue\n&lt;template&gt;\n  &lt;div&gt;The childs value: {{this.injectedValue}}&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts&gt;\n  import { Component, Vue, Inject } from 'vue-property-decorator';\n\n  @Component\n  export default class Child extends Vue {\n    @Inject('key') private injectedValue!: string;\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>The property <code>injectedValue</code> will now be injected by Vue by walking up on the hierarchy until it finds a provided value with the key <code>key</code>.</p>\n\n<hr>\n\n<p>If you want something dependency injection-like, it's best to provide the value at the top, where you create your Vue instance:</p>\n\n<pre><code>//index.ts\nimport Vue from 'vue';\n//... imports and configs\nnew Vue({\n  el: '#app',\n  // Provide values by returning a key-value pair\n  provide: () =&gt; ({\n    'key1': 'value1',\n    'key2': 'value2'\n  }),\n  render: h =&gt; h(App)\n});\n</code></pre>\n\n<p>Now you can use <code>@Inject('key1')</code> in any component of this vue instance.</p>\n"}], "owner": {"reputation": 27650, "user_id": 1212017, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4jeaX.png?s=128&g=1", "display_name": "Muhammad Rehan Saeed", "link": "https://stackoverflow.com/users/1212017/muhammad-rehan-saeed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7658, "favorite_count": 2, "answer_count": 1, "score": 6, "last_activity_date": 1550010054, "creation_date": 1508923617, "question_id": 46928713, "link": "https://stackoverflow.com/questions/46928713/how-to-use-provide-inject-in-vue-js-with-typescript", "title": "How to use Provide/Inject in Vue.js with TypeScript", "body": "<p>I'm using Vue.js with TypeScript and <a href=\"https://github.com/kaorun343/vue-property-decorator\" rel=\"noreferrer\">the vue-property-decorator</a> package. In theory I can do something like this, according to the documentation:</p>\n\n<pre><code>import { Component, Inject, Provide, Vue } from 'vue-property-decorator'\n\nconst s = Symbol('baz')\n\n@Component\nexport class MyComponent extends Vue {\n  @Provide() foo = 'foo'\n  @Provide('bar') baz = 'bar'\n\n  @Inject() foo: string\n  @Inject('bar') bar: string\n  @Inject(s) baz: string\n}\n</code></pre>\n\n<p>However, what if I want to use <code>@Provide</code> and <code>@Inject</code> on a class that is not a component? For example, if I have <code>ComponentA</code> that depends on <code>ServiceA</code> that depends on <code>ServiceB</code>. How can i set this up?</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "is_accepted": false, "score": 2, "last_activity_date": 1508923764, "last_edit_date": 1508923764, "creation_date": 1508923376, "answer_id": 46928627, "question_id": 46928352, "link": "https://stackoverflow.com/questions/46928352/filter-out-properties-that-dont-belong-to-a-class/46928627#46928627", "title": "filter out properties that don&#39;t belong to a Class", "body": "<p>You could use <code>reduce()</code> on keys of new instance of <code>Car</code> class and take only properties that exists on object.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Car {\r\n  constructor() {\r\n    this.wheels = Number();\r\n    this.model = String();\r\n  }\r\n}\r\n\r\nconst obj = {\r\n  wheels: 4,\r\n  model: 'foo',\r\n  unwanted1: 'bar',\r\n  unwantedn: 'kuk'\r\n};\r\n\r\n\r\nvar goodObj = Object.keys(new Car)\r\n  .reduce(function(r, e) {\r\n    if (e in obj) r[e] = obj[e];\r\n    return r;\r\n  }, {});\r\n\r\nconsole.log(goodObj)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 12469, "user_id": 7446273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49f80d5a526d262da36c33c3b4095a83?s=128&d=identicon&r=PG&f=1", "display_name": "Faly", "link": "https://stackoverflow.com/users/7446273/faly"}, "is_accepted": false, "score": 1, "last_activity_date": 1508923598, "creation_date": 1508923598, "answer_id": 46928698, "question_id": 46928352, "link": "https://stackoverflow.com/questions/46928352/filter-out-properties-that-dont-belong-to-a-class/46928698#46928698", "title": "filter out properties that don&#39;t belong to a Class", "body": "<p>Just use contructor:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Car {\r\n  constructor(wheels, model) {\r\n    this.wheels = wheels;\r\n    this.model = model;\r\n  }\r\n}\r\n\r\nconst obj = {wheels:4, model: 'foo', unwanted1: 'bar', unwantedn: 'kuk'};\r\n\r\nconst goodCar = new Car(obj.wheels, obj.model);\r\n\r\nconsole.log(goodCar);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>OR:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Car {\r\n  constructor(obj) {\r\n    this.wheels = obj.wheels;\r\n    this.model = obj.model;\r\n  }\r\n}\r\n\r\nconst obj = {wheels:4, model: 'foo', unwanted1: 'bar', unwantedn: 'kuk'};\r\n\r\nconst goodCar = new Car(obj);\r\n\r\nconsole.log(goodCar);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4361, "user_id": 6830901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3R587.png?s=128&g=1", "display_name": "L J", "link": "https://stackoverflow.com/users/6830901/l-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1508924519, "creation_date": 1508924519, "answer_id": 46929056, "question_id": 46928352, "link": "https://stackoverflow.com/questions/46928352/filter-out-properties-that-dont-belong-to-a-class/46929056#46929056", "title": "filter out properties that don&#39;t belong to a Class", "body": "<p>Another option would be to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">object destructuring</a> and returning the object from the function: </p>\n\n<pre><code>const filterUnwantedProps = function({\n  wheels: wheels,\n  model: model\n}) {\n  return {\n    wheels: wheels,\n    model: model\n  }\n};\n</code></pre>\n\n<p>Sample code: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Car {\r\n  wheels: number;\r\n  model: string;\r\n};\r\n\r\nconst obj = {\r\n  wheels: 4,\r\n  model: 'foo',\r\n  unwanted1: 'bar',\r\n  unwantedn: 'kuk'\r\n};\r\n\r\nconst filterUnwantedProps = function({\r\n  wheels: wheels,\r\n  model: model\r\n}) {\r\n  return {\r\n    wheels: wheels,\r\n    model: model\r\n  }\r\n};\r\nconst goodCar = filterUnwantedProps(obj);\r\nconsole.log(goodCar);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 6896, "user_id": 6797267, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/bba37c069bfb5b705b7a0c98bd9b4803?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/6797267/lev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 2, "answer_count": 3, "score": 2, "last_activity_date": 1508924519, "creation_date": 1508922598, "last_edit_date": 1508922632, "question_id": 46928352, "link": "https://stackoverflow.com/questions/46928352/filter-out-properties-that-dont-belong-to-a-class", "title": "filter out properties that don&#39;t belong to a Class", "body": "<p>How can I filter out properties that don't exist on class <code>Car</code> ?</p>\n\n<pre><code>class Car {\n    wheels: number;\n    model: string;\n}\n\n\nconst obj = {wheels:4, model: 'foo', unwanted1: 'bar', unwantedn: 'kuk'};\n\nconst goodCar = filterUnwantedProps(obj); // goodCar only has fields wheels and model\n</code></pre>\n\n<p>How can I retain on <code>obj</code>, only the fields that exist on class <code>Car</code> ?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 3742039, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/0bcb9b49ac884d6652947a864701f01a?s=128&d=identicon&r=PG&f=1", "display_name": "piyugupt", "link": "https://stackoverflow.com/users/3742039/piyugupt"}, "edited": false, "score": 0, "creation_date": 1509023615, "post_id": 46928427, "comment_id": 80857707, "body": "thanks @anand, but can including my JS file on the page conflict with common js libraries and versions used in both places. So lets say my widget JS is written in one version of reactJS and some other js libraries, while the page which includes the externally hosted compiled js for the widget, is written in another version of reactJS and imports different versions of same libraries, I think it can break the overall rendition of the page. Is there a way to go around such an issue."}, {"owner": {"reputation": 495, "user_id": 8771736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a76e2af9c31d74d44e8391367107225?s=128&d=identicon&r=PG&f=1", "display_name": "anand", "link": "https://stackoverflow.com/users/8771736/anand"}, "reply_to_user": {"reputation": 175, "user_id": 3742039, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/0bcb9b49ac884d6652947a864701f01a?s=128&d=identicon&r=PG&f=1", "display_name": "piyugupt", "link": "https://stackoverflow.com/users/3742039/piyugupt"}, "edited": false, "score": 0, "creation_date": 1509024030, "post_id": 46928427, "comment_id": 80858041, "body": "My understanding is that it will typically not pollute the global namespace, as all the modules are supposed to be enclosed in closures when compiled to JS. But I am not sure if there is any way to be SURE of this."}, {"owner": {"reputation": 495, "user_id": 8771736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a76e2af9c31d74d44e8391367107225?s=128&d=identicon&r=PG&f=1", "display_name": "anand", "link": "https://stackoverflow.com/users/8771736/anand"}, "reply_to_user": {"reputation": 175, "user_id": 3742039, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/0bcb9b49ac884d6652947a864701f01a?s=128&d=identicon&r=PG&f=1", "display_name": "piyugupt", "link": "https://stackoverflow.com/users/3742039/piyugupt"}, "edited": false, "score": 0, "creation_date": 1509024399, "post_id": 46928427, "comment_id": 80858362, "body": "However, if it is any comfort, note that adding react widgets into existing pages is a recommended way to use react <a href=\"https://reactjs.org/docs/installation.html#adding-react-to-an-existing-application\" rel=\"nofollow noreferrer\">reactjs.org/docs/&hellip;</a>"}, {"owner": {"reputation": 495, "user_id": 8771736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a76e2af9c31d74d44e8391367107225?s=128&d=identicon&r=PG&f=1", "display_name": "anand", "link": "https://stackoverflow.com/users/8771736/anand"}, "reply_to_user": {"reputation": 175, "user_id": 3742039, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/0bcb9b49ac884d6652947a864701f01a?s=128&d=identicon&r=PG&f=1", "display_name": "piyugupt", "link": "https://stackoverflow.com/users/3742039/piyugupt"}, "edited": false, "score": 0, "creation_date": 1509024712, "post_id": 46928427, "comment_id": 80858634, "body": "From the official docs: <a href=\"https://reactjs.org/docs/integrating-with-other-libraries.html\" rel=\"nofollow noreferrer\">reactjs.org/docs/integrating-with-other-libraries.html</a>"}], "tags": [], "owner": {"reputation": 495, "user_id": 8771736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a76e2af9c31d74d44e8391367107225?s=128&d=identicon&r=PG&f=1", "display_name": "anand", "link": "https://stackoverflow.com/users/8771736/anand"}, "is_accepted": true, "score": 0, "last_activity_date": 1508922801, "creation_date": 1508922801, "answer_id": 46928427, "question_id": 46927945, "link": "https://stackoverflow.com/questions/46927945/external-hosted-react-js-with-plain-javascript-and-html-page/46928427#46928427", "title": "External Hosted React JS with plain Javascript and HTML page", "body": "<p>You can mount your react root node (typically <code>&lt;App/&gt;</code> ) in any html DOM node. This is what <code>react-dom</code> does by</p>\n\n<pre><code>render( &lt;App /&gt;, document.getElementById(\"root\"));\n</code></pre>\n\n<p>which would be a familiar line for you.</p>\n\n<p>Now, coming to how to actually do this. I assume you are using create-react-app.</p>\n\n<ul>\n<li>Run <code>npm run build</code> inside your project folder.</li>\n<li><p>When it finishes, you will find a bunch of files inside <code>your-project-folder/build</code>, including</p>\n\n<ul>\n<li><code>build/index.html</code></li>\n<li><code>build/static/js</code>, <code>build/static/css</code>, etc</li>\n</ul></li>\n<li><p>Open the <code>build/index.html</code> file in a text editor and study it. I think you will be able to figure out the rest.</p></li>\n</ul>\n"}], "owner": {"reputation": 175, "user_id": 3742039, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/0bcb9b49ac884d6652947a864701f01a?s=128&d=identicon&r=PG&f=1", "display_name": "piyugupt", "link": "https://stackoverflow.com/users/3742039/piyugupt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 46928427, "answer_count": 1, "score": 0, "last_activity_date": 1508922801, "creation_date": 1508921372, "question_id": 46927945, "link": "https://stackoverflow.com/questions/46927945/external-hosted-react-js-with-plain-javascript-and-html-page", "title": "External Hosted React JS with plain Javascript and HTML page", "body": "<p>We have a common widget in each of our pages across multiple services, and we want to write a common client-side rendition code in ReactJS for this widget as an external hosted js, such that each of the pages can include this externally hosted JS in their pages to render the widget. But many of these pages are written in different JS frameworks (angular/inferno/typescript/etc) or even in plain vanilla JS. Now pardon me if this is an ignorant question, but I think that ReactJS code can be compiled into javascript using babel, and the bundled js file can then be directly included in any page using any framework(angular/typescript/etc). Is my assumption correct, or will such an approach lead to problems. Any other inputs?</p>\n\n<p>PS: I am very new to any of these JS frameworks, and have only worked on small projects involving plain vanilla JS.</p>\n"}, {"tags": ["reactjs", "typescript", "testing", "react-router", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 1462, "user_id": 605669, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/de0e23d5ffc838246ee1d586d8a163bb?s=128&d=identicon&r=PG", "display_name": "Aziz", "link": "https://stackoverflow.com/users/605669/aziz"}, "is_accepted": false, "score": 5, "last_activity_date": 1510340221, "creation_date": 1510340221, "answer_id": 47229447, "question_id": 46927392, "link": "https://stackoverflow.com/questions/46927392/how-to-test-a-react-component-with-routecomponentprops/47229447#47229447", "title": "How to test a React component with RouteComponentProps?", "body": "<p>I have been looking for a good solution to this. I was hoping I could do it in the mapStateToProps function or something simular, but have not been able to do this yet.</p>\n\n<p>The best I could do was mock this out and pass in the match, location and history. I used the following:</p>\n\n<pre><code>import { RouteComponentProps } from 'react-router'\nimport { match } from 'react-router-dom';\nimport {UnregisterCallback, Href} from 'history'\n\nexport function getMockRouterProps&lt;P&gt;(data: P) {\n\n    var location: {\n            hash: \"\",\n            key: \"\",\n            pathname: \"\",\n            search: \"\",\n            state: {}\n        };\n\n    var props: RouteComponentProps&lt;P&gt; = {\n    match: {\n            isExact: true,\n            params: data,\n            path: \"\",\n            url: \"\"\n        },\n        location: location,\n        history: {\n            length:2,\n            action:\"POP\",\n            location: location,\n            push: () =&gt; {},\n            replace: () =&gt; {},\n            go: (num) =&gt; {},\n            goBack: () =&gt; {},\n            goForward: () =&gt; {},\n            block: (t) =&gt; {\n                var temp: UnregisterCallback = null;\n                return temp;\n            },\n            createHref: (t) =&gt; {\n                var temp: Href = \"\";\n                return temp;\n            },\n            listen: (t) =&gt; {\n                var temp: UnregisterCallback = null;\n                return temp;\n            }\n\n        },\n        staticContext: {\n        }\n    };\n\n\n    return props;\n}\n</code></pre>\n\n<p>Then in my test I did:</p>\n\n<pre><code>    var routerProps = getMockRouterProps&lt;ReduxTestComponentProps&gt;(null);\n\n    const wrapper = mount&lt;ReduxTestComponent, ReduxTestComponentState&gt;(\n            &lt;ReduxTestComponent\n                history={routerProps.history}\n                location={routerProps.location}\n                match={routerProps.match}\n                isLoadingTodo={false}\n                todos={todos}\n                addAsyncTodoActionDispatch={() =&gt; mockTodoAddDispatch()}\n                deleteTodoActionDispatch={() =&gt; mockTodoDeleteDispatch()}\n                /&gt;\n      );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8220, "user_id": 2771889, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c568088e59a0fe4e38016d2707f48fb4?s=128&d=identicon&r=PG&f=1", "display_name": "thisismydesign", "link": "https://stackoverflow.com/users/2771889/thisismydesign"}, "edited": false, "score": 0, "creation_date": 1597071019, "post_id": 56452779, "comment_id": 112006523, "body": "v5 of <code>history</code> no longer has <code>createLocation</code>."}], "tags": [], "owner": {"reputation": 13685, "user_id": 1010632, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ddb29ce7466fc0c1226f40e12e1ad16?s=128&d=identicon&r=PG", "display_name": "David Barker", "link": "https://stackoverflow.com/users/1010632/david-barker"}, "is_accepted": false, "score": 31, "last_activity_date": 1559730374, "last_edit_date": 1559730374, "creation_date": 1559693358, "answer_id": 56452779, "question_id": 46927392, "link": "https://stackoverflow.com/questions/46927392/how-to-test-a-react-component-with-routecomponentprops/56452779#56452779", "title": "How to test a React component with RouteComponentProps?", "body": "<p>To answer your last question, the recommended approach is to use <code>&lt;MemoryRouter&gt;&lt; *your component here* &gt;&lt;/MemoryRouter&gt;</code> in your tests. Typescript does not pick up that this component will pass the required props to your component, as such I assume it <strong>not</strong> to be a type safe approach.</p>\n\n<p><em>This is for React Router v4 and doesn't apply to previous versions.</em></p>\n\n<p>For a typesafe method to test components that are wrapped with the HOC <code>withRouter</code> you can build the location, history and match from the <code>react-router</code> and <code>history</code> packages.</p>\n\n<p>This example uses enzyme and snapshot testing but could just as easily be any other test.</p>\n\n<p>This avoided me needing to use <code>&lt;MemoryRouter&gt;</code> as a wrapper that typescript did not like anyhow.</p>\n\n<pre><code>// Other imports here\nimport { createMemoryHistory, createLocation } from 'history';\nimport { match } from 'react-router';\n\nconst history = createMemoryHistory();\nconst path = `/route/:id`;\n\nconst match: match&lt;{ id: string }&gt; = {\n    isExact: false,\n    path,\n    url: path.replace(':id', '1'),\n    params: { id: \"1\" }\n};\n\nconst location = createLocation(match.url);\n\ntest('shallow render', () =&gt; {\n    const wrapper = shallow(\n        &lt;MyComponent history={history}\n                     location={location}\n                     match={match} /&gt;\n    );\n\n    expect(wrapper).toMatchSnapshot();\n});\n</code></pre>\n\n<p><strong>CAUTION</strong> Do not use this to test implementation detail, it can be tempting but it will cause you a lot of pain should you want to refactor.</p>\n\n<p>Making a helper for this would probably be the best way to make this re-usable.</p>\n\n<pre><code>import { createLocation, createMemoryHistory } from 'history';\nimport { match as routerMatch } from 'react-router';\n\ntype MatchParameter&lt;Params&gt; = { [K in keyof Params]?: string };\n\nexport const routerTestProps = &lt;Params extends MatchParameter&lt;Params&gt; = {}&gt;\n    (path: string, params: Params, extendMatch: Partial&lt;routerMatch&lt;any&gt;&gt; = {}) =&gt; {\n        const match: routerMatch&lt;Params&gt; = Object.assign({}, {\n            isExact: false,\n            path,\n            url: generateUrl(path, params),\n            params\n        }, extendMatch);\n        const history = createMemoryHistory();\n        const location = createLocation(match.url);\n\n        return { history, location, match };\n    };\n\n\nconst generateUrl = &lt;Params extends MatchParameter&lt;Params&gt;&gt;\n    (path: string, params: Params): string =&gt; {\n        let tempPath = path;\n\n        for (const param in params) {\n            if (params.hasOwnProperty(param)) {\n                const value = params[param];\n                tempPath = tempPath.replace(\n                    `:${param}`, value as NonNullable&lt;typeof value&gt;\n                );\n            }\n        }\n\n        return tempPath;\n    };\n</code></pre>\n\n<p>Now we can just use the <code>routerTestProps</code> function in our tests</p>\n\n<pre><code>const { history, location, match } = routerTestProps('/route/:id', { id: '1' });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 665, "user_id": 4347889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d344f1dd070a8a9bf01f85663daa638?s=128&d=identicon&r=PG", "display_name": "Danoz", "link": "https://stackoverflow.com/users/4347889/danoz"}, "is_accepted": false, "score": 9, "last_activity_date": 1584656677, "creation_date": 1584656677, "answer_id": 60765926, "question_id": 46927392, "link": "https://stackoverflow.com/questions/46927392/how-to-test-a-react-component-with-routecomponentprops/60765926#60765926", "title": "How to test a React component with RouteComponentProps?", "body": "<p>A gentleman by the name of Timmy Huang provided a solution that involves a simple mock...</p>\n\n<p><a href=\"https://spectrum.chat/react/help/how-do-you-test-components-that-use-routecomponentprops~495fe95b-6925-4e7f-bfe8-65a737c5d24e?m=MTU4Mjk1MjQ4ODQ0MA==\" rel=\"noreferrer\">https://spectrum.chat/react/help/how-do-you-test-components-that-use-routecomponentprops~495fe95b-6925-4e7f-bfe8-65a737c5d24e?m=MTU4Mjk1MjQ4ODQ0MA==</a></p>\n\n<pre><code>const routeComponentPropsMock = {\n  history: {} as any,\n  location: {} as any,\n  match: {} as any,\n}\n</code></pre>\n\n<p>I tried this using Jest and it worked. My component had this signature...</p>\n\n<pre><code>export const MyComponent: React.FC&lt;RouteComponentProps&gt; = ({location}:RouteComponentProps) =&gt; {\n</code></pre>\n\n<p>My basic test to confirm the component loads then looked like this...</p>\n\n<pre><code>function renderMyComponent() {\n  return render(\n    &lt;MyComponent {...routeComponentPropsMock}/&gt;\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 42794, "user_id": 135829, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/zfWZK.jpg?s=128&g=1", "display_name": "Sergei Basharov", "link": "https://stackoverflow.com/users/135829/sergei-basharov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16255, "favorite_count": 5, "answer_count": 3, "score": 29, "last_activity_date": 1584656677, "creation_date": 1508919624, "last_edit_date": 1513369392, "question_id": 46927392, "link": "https://stackoverflow.com/questions/46927392/how-to-test-a-react-component-with-routecomponentprops", "title": "How to test a React component with RouteComponentProps?", "body": "<p>I have a component that has props which extend <code>RouteComponentProps</code> that looks like this:</p>\n\n<pre><code>export interface RouteComponentProps&lt;P&gt; {\n  match: match&lt;P&gt;;\n  location: H.Location;\n  history: H.History;\n  staticContext?: any;\n}\n</code></pre>\n\n<p>Now, when I use my component in the app, I pass these props to it:</p>\n\n<pre><code>&lt;MyComponent\n    match={this.props.match}\n    location={this.props.location}\n    history={this.props.history}\n/&gt;\n</code></pre>\n\n<p>The props are available already because it's running inside react router.</p>\n\n<p>Now, how do I test this component without <code>match</code>, <code>location</code>, <code>history</code> available?</p>\n\n<p>Do I need to mock them or is it supposed to somehow automatically load them with some helper function?</p>\n"}, {"tags": ["typescript", "environment", "tsconfig"], "answers": [{"tags": [], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "is_accepted": false, "score": 8, "last_activity_date": 1526762929, "creation_date": 1526762929, "answer_id": 50429367, "question_id": 46927323, "link": "https://stackoverflow.com/questions/46927323/environment-specific-tsconfig-json/50429367#50429367", "title": "Environment specific tsconfig.json", "body": "<p>You can use <code>extends</code> for this.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#configuration-inheritance-with-extends\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#configuration-inheritance-with-extends</a></p>\n\n<p>Example: <code>tsconfig.prod.json</code></p>\n\n<pre><code>{\n  \"extends\": \"./tsconfig\",\n  \"compilerOptions\": {\n    \"sourceMap\": \"false\"\n  }\n}\n</code></pre>\n\n<p>If you use <code>webpack</code> and <code>ts-loader</code> you can then set it like this:</p>\n\n<p><a href=\"https://github.com/TypeStrong/ts-loader#configfile-string-defaulttsconfigjson\" rel=\"noreferrer\">https://github.com/TypeStrong/ts-loader#configfile-string-defaulttsconfigjson</a></p>\n\n<pre><code>module: {\n    rules: [\n        // All files with a '.ts' or '.tsx' extension will be handled by 'ts-loader'.\n        {\n            test: /\\.tsx?$/,\n            use: [\n                {\n                    loader: 'babel-loader',\n                    options: {\n                        babelrc: false,\n                        plugins: ['react-hot-loader/babel'],\n                    },\n                },\n                {\n                    loader: 'ts-loader',// (or awesome-typescript-loader)\n                    options: {\n                        configFile: 'tsconfig.prod.json'\n                    },\n                },\n\n            ],\n         },\n</code></pre>\n"}], "owner": {"reputation": 948, "user_id": 1208684, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jgWQ9.png?s=128&g=1", "display_name": "Andree", "link": "https://stackoverflow.com/users/1208684/andree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6968, "favorite_count": 1, "answer_count": 1, "score": 8, "last_activity_date": 1576829251, "creation_date": 1508919410, "last_edit_date": 1576829251, "question_id": 46927323, "link": "https://stackoverflow.com/questions/46927323/environment-specific-tsconfig-json", "title": "Environment specific tsconfig.json", "body": "<p>Is there a way how to set <code>tsconfig.json</code> environmentally specific such as <code>tsconfig.prod.json</code> and <code>tsconfig.dev.json</code>?</p>\n\n<p>I want to have <code>sourceMap</code> and <code>comments</code> on dev environment, but I want to remove these on production.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "momentjs", "powerbi"], "comments": [{"owner": {"reputation": 158, "user_id": 7739188, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jhj64G1to1s/AAAAAAAAAAI/AAAAAAAAAD8/J531uVLLIpI/photo.jpg?sz=128", "display_name": "Rafael del Rio", "link": "https://stackoverflow.com/users/7739188/rafael-del-rio"}, "edited": false, "score": 0, "creation_date": 1508929431, "post_id": 46927274, "comment_id": 80808150, "body": "Did you require/import moment where this is being executed?"}], "owner": {"reputation": 2044, "user_id": 3222782, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b44566ff10a62fccd11c7e60b6a9c487?s=128&d=identicon&r=PG&f=1", "display_name": "Cleared", "link": "https://stackoverflow.com/users/3222782/cleared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508923245, "creation_date": 1508919237, "last_edit_date": 1508923245, "question_id": 46927274, "link": "https://stackoverflow.com/questions/46927274/unable-to-use-momentjs-in-nodejs-when-creating-a-custom-visual-for-powerbi", "title": "Unable to use MomentJS in NodeJS when creating a custom visual for PowerBI", "body": "<p>I am building a custom-visual for Power BI, but I am not sure if that is relevant to this question of if my problem is more general. </p>\n\n<p>Anyway, the custom-visual is built using Node.js and typescript and using custom libraries should be no problem (<a href=\"https://github.com/Microsoft/PowerBI-visuals/blob/master/Tutorial/ExternalLibraries.md\" rel=\"nofollow noreferrer\">link</a>). </p>\n\n<p>However when I have added momentjs, my script sort of \"hangs\" as soon as I try to use it. I don't get an error message or exception or anything else. Using the lines below</p>\n\n<pre><code>console.log('Trying moment.js');\nconsole.log(moment);\nconsole.log('Moment-testing success');\n</code></pre>\n\n<p>it \"stops\" after outputting <code>Trying moment.js</code>.</p>\n\n<p>These are the steps i have taken to install momentjs:</p>\n\n<ol>\n<li>Ran <code>npm install momentjs --save</code></li>\n<li>Added <code>\"node_modules/moment/moment.d.ts\"</code> under <code>files</code> in my <code>tsconfig.json</code>. From my understanding, the moment.d.ts is sort of a \"header\"-file which only is used for autocompelte/InteliJ in my IDE, i.e. it does only include the declaration of functions, not the definition. As soon as I add this line my IDE stops complaining about not finding <code>moment</code>.</li>\n<li>Added <code>\"node_modules/moment/moment.js\"</code> to my <code>pbiviz.json</code> under <code>externalJS</code> (<a href=\"https://github.com/Microsoft/PowerBI-visuals-sampleBarChart/blob/master/pbiviz.json\" rel=\"nofollow noreferrer\">link</a>)</li>\n<li>Added <code>\"moment\": \"^2.19.1\",</code> under <code>dependencies</code> in the <code>package.json</code>. </li>\n</ol>\n\n<p>Is there something I have missed? It feels like my application cant find the actual moment.js and resolve what <code>moment</code> is...</p>\n"}, {"tags": ["typescript", "intersection"], "comments": [{"owner": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1508939544, "post_id": 46927219, "comment_id": 80815549, "body": "@jcalz you&#39;re right; typescript calls it so. Logically (set-theory), it just seems the opposite."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "edited": false, "score": 0, "creation_date": 1508942138, "post_id": 46927219, "comment_id": 80817656, "body": "@MeirionHughes since you deleted your previous comments, I deleted mine as well so it didn&#39;t look like I was a crazy person who talks to himself (which I am, but I don&#39;t like it to look that way).   In any case the creators of TypeScript are well-versed in set theory/type theory/logic so I think you are confused about what makes a union and intersection.  Quite possibly you&#39;re thinking of property keys, which are <a href=\"https://github.com/Microsoft/TypeScript/issues/12625#issuecomment-264642613\" rel=\"nofollow noreferrer\">contravariant with their types</a>."}, {"owner": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "edited": false, "score": 0, "creation_date": 1508942768, "post_id": 46927219, "comment_id": 80818097, "body": "yeah sorry, don&#39;t want to swamp a question with unrelated comments, so I generally end up deleting them after a while. I think this &#39;confusion&#39; merits a question. I&#39;ll cc you so you can answer if you want."}, {"owner": {"reputation": 21, "user_id": 3767048, "user_type": "registered", "profile_image": "https://graph.facebook.com/889859337736916/picture?type=large", "display_name": "Ahn Heejong", "link": "https://stackoverflow.com/users/3767048/ahn-heejong"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1508981433, "post_id": 46927219, "comment_id": 80836290, "body": "@jcalz Yeah it seems like your answer is what I was looking for. I searched for quite a time, assuming someone has already asked the question, but somehow couldn&#39;t find the it. Thanks for the answer ;)"}], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1508937829, "post_id": 46927447, "comment_id": 80814230, "body": "It doesn&#39;t look like this answers the question as asked, which is something like &quot;Why is <code>any &amp; number</code> treated as <code>any</code> instead of <code>number</code>?&quot;  You&#39;ve just asserted that it is, but said nothing about why."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1508940306, "post_id": 46927447, "comment_id": 80816238, "body": "@jcalz I see what you mean! What do you think now?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1508940704, "post_id": 46927447, "comment_id": 80816569, "body": "This is better, although a subtype with more properties is considered <i>narrower</i>, not <i>wider</i>.  That is, every object of type <code>{foo: string, bar: number}</code> is a valid object of type <code>{foo: string}</code>, but not vice-versa.  So the type with more properties is more restrictive... narrower.  And <code>any</code> is intentionally unsound... it behaves as both a subtype and supertype of everything else, so <code>number | any</code> is <code>number &amp; any</code> is <code>any</code>... no other type works that way."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1508941947, "post_id": 46927447, "comment_id": 80817508, "body": "Yeah, I&#39;ve corrected to &quot;narrower&quot; but I think that the rest is valid. I guess really, the answer boils down to &quot;because that&#39;s how the language was designed&quot;."}, {"owner": {"reputation": 21, "user_id": 3767048, "user_type": "registered", "profile_image": "https://graph.facebook.com/889859337736916/picture?type=large", "display_name": "Ahn Heejong", "link": "https://stackoverflow.com/users/3767048/ahn-heejong"}, "edited": false, "score": 0, "creation_date": 1508981527, "post_id": 46927447, "comment_id": 80836313, "body": "Thanks for the answer. As you said, &quot;because that&#39;s how the language was designed&quot;, that is. Too bad in this case I&#39;m trying to override a library author&#39;s <code>any</code> so I guess there aren&#39;t much I can do about it haha"}], "tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": false, "score": 1, "last_activity_date": 1508941939, "last_edit_date": 1592644375, "creation_date": 1508919790, "answer_id": 46927447, "question_id": 46927219, "link": "https://stackoverflow.com/questions/46927219/intersection-with-any-type/46927447#46927447", "title": "Intersection with `any` type", "body": "<h3>Type intersection</h3>\n<p>When you intersect two types using <code>T1 &amp; T2</code>, the resulting type has of all the properties in <code>T1</code>, as well as all of those in <code>T2</code>.</p>\n<p>If you change your example slightly, to use <code>string</code> instead of <code>any</code>:</p>\n<pre><code>type AType = { a: string } &amp; { a: number }\n\ndeclare const a: AType\na.a // type: string &amp; number\n</code></pre>\n<p>we see that <code>a.a</code> has the combination of the properties of string and number.</p>\n<p>In your example, you might expect it to say that <code>a.a</code> was of type <code>any &amp; number</code>, but that's just the same as <code>any</code>.</p>\n<h3>Type intersection with <code>any</code></h3>\n<p>When a type (e.g. <code>number</code>) is intersected with <code>any</code>, <code>any</code> behaves as a <em>subtype</em> (a narrower type, with all the properties of <code>number</code> plus some more). You could say that <code>any</code> extends <code>number</code>. This leads us to the same behaviour as we see below:</p>\n<pre><code>type T1 = { a: number, b: number }\ntype T2 = { a: number }\n\ntype Intersection = T1 &amp; T2 // T1 is a subtype of T2, so we get T1\n</code></pre>\n<p>Admittedly, this is unintuitive from the perspective that we expect <code>any</code> to be a wider (more permissive) type, rather than a narrower one. It is a special case.</p>\n<p>You would see your expected behaviour if you used <code>{}</code> (the most permissive type) rather than <code>any</code>, because <code>{}</code> adds no properties to <code>number</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1508938823, "post_id": 46927497, "comment_id": 80814953, "body": "This answer isn&#39;t exactly right.  You say that <code>any</code> is broader than <code>number</code>, so <code>any &amp; number</code> is the same as <code>any</code>.  But <code>number | string</code> is broader than number, while <code>(number | string) &amp; number</code> is just <code>number</code>.  In fact, the issue is that <code>any</code> is intentionally unsound and treated as both a supertype <i>and</i> a subtype of every other type.  For more info see <a href=\"https://stackoverflow.com/a/46673732/2887218\">my answer</a> to a previous question on this topic."}, {"owner": {"reputation": 82784, "user_id": 5423108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WtfBG.png?s=128&g=1", "display_name": "Alireza", "link": "https://stackoverflow.com/users/5423108/alireza"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1508995742, "post_id": 46927497, "comment_id": 80839965, "body": "That&#39;s exactly what I mean in simple words, but may not convey it exactly, I&#39;ll reword it, tnx @jcalz"}], "tags": [], "owner": {"reputation": 82784, "user_id": 5423108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WtfBG.png?s=128&g=1", "display_name": "Alireza", "link": "https://stackoverflow.com/users/5423108/alireza"}, "is_accepted": false, "score": 1, "last_activity_date": 1509058594, "last_edit_date": 1509058594, "creation_date": 1508919918, "answer_id": 46927497, "question_id": 46927219, "link": "https://stackoverflow.com/questions/46927219/intersection-with-any-type/46927497#46927497", "title": "Intersection with `any` type", "body": "<p>It's because you are using <code>any</code> at first place which is supertype of number, what you using is type checking of any and number, so means it can be anything, which means it's <code>any</code>!</p>\n\n<p>So any override the number type as it's supertype of number...</p>\n\n<p>In <strong>typescript</strong>, always use specific type, if not sure about the type, use <code>any</code>...</p>\n\n<p>So putting check for <code>any</code> is exactly like not putting any type check at all...</p>\n\n<p>This is exact words from typescript team for <code>any</code>...</p>\n\n<blockquote>\n  <p><h3> Any</h3> We may need to describe the type of variables that we do\n  not know when we are writing an application. These values may come\n  from dynamic content, e.g. from the user or a 3rd party library. In\n  these cases, we want to opt-out of type-checking and let the values\n  pass through compile-time checks. To do so, we label these with the\n  any type:</p>\n</blockquote>\n\n<pre><code>let notSure: any = 4;\nnotSure = \"maybe a string instead\";\nnotSure = false; // okay, definitely a boolean\n</code></pre>\n\n<blockquote>\n  <p>The any type is a powerful way to work with existing JavaScript,\n  allowing you to gradually opt-in and opt-out of type-checking during\n  compilation. You might expect Object to play a similar role, as it\n  does in other languages. But variables of type Object only allow you\n  to assign any value to them - you can\u2019t call arbitrary methods on\n  them, even ones that actually exist:</p>\n</blockquote>\n\n<pre><code>let notSure: any = 4;\nnotSure.ifItExists(); // okay, ifItExists might exist at runtime\nnotSure.toFixed(); // okay, toFixed exists (but the compiler doesn't check)\n\nlet prettySure: Object = 4;\nprettySure.toFixed(); // Error: Property 'toFixed' doesn't exist on type 'Object'\n</code></pre>\n\n<blockquote>\n  <p>The any type is also handy if you know some part of the type, but\n  perhaps not all of it. For example, you may have an array but the\n  array has a mix of different types:</p>\n</blockquote>\n\n<pre><code>let list: any[] = [1, true, \"free\"];\n\nlist[1] = 100;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3767048, "user_type": "registered", "profile_image": "https://graph.facebook.com/889859337736916/picture?type=large", "display_name": "Ahn Heejong", "link": "https://stackoverflow.com/users/3767048/ahn-heejong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 772, "favorite_count": 0, "closed_date": 1508981310, "answer_count": 2, "score": 2, "last_activity_date": 1509058594, "creation_date": 1508919052, "last_edit_date": 1508981726, "question_id": 46927219, "link": "https://stackoverflow.com/questions/46927219/intersection-with-any-type", "closed_reason": "Duplicate", "title": "Intersection with `any` type", "body": "<p>[EDIT] This question is indeed duplicate; see @jcalz's answer on the linked post :)</p>\n\n<p>Related discussion on TS github: <a href=\"https://github.com/Microsoft/TypeScript/issues/9999\" rel=\"nofollow noreferrer\">Allowing narrow from any</a></p>\n\n<hr>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=type%20AType%20%3D%20%7B%20a%3A%20any%20%7D%20%26%20%7B%20a%3A%20number%20%7D%0D%0A%0D%0Adeclare%20const%20a%3A%20AType%0D%0Aa.a\" rel=\"nofollow noreferrer\">playground</a></p>\n\n<p>When I do <code>{ a: any } &amp; { a: number }</code>, TypeScript resolves it to <code>{ a: any }</code>. However, considering the meaning of intersection type, I think it should be <code>{ a: number }</code>, as only values in <code>number</code> type are actually in the intersection of those two types. So I'm not sure about the rationale behind this behavior - maybe it's because <code>any</code> is treated specially?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 7040, "user_id": 5218360, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rFIHY.jpg?s=128&g=1", "display_name": "Mohan Gopi", "link": "https://stackoverflow.com/users/5218360/mohan-gopi"}, "edited": false, "score": 2, "creation_date": 1508920869, "post_id": 46927055, "comment_id": 80802269, "body": "import <code>PopoverOptions</code>  and use <code>create(component, data,{enableBackdropDismiss: true, showBackdrop:true})</code>"}], "answers": [{"comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 2, "creation_date": 1508921725, "post_id": 46927989, "comment_id": 80802822, "body": "if you answered a similar question, I suggest to update that as a comment."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5405873"}, "edited": false, "score": 0, "creation_date": 1508923588, "post_id": 46927989, "comment_id": 80804105, "body": "@Westi-Tech, it is not working for me can make a demo"}, {"owner": {"reputation": 1063, "user_id": 8675131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0RKkDPUyBSE/AAAAAAAAAAI/AAAAAAAAAHM/VVqa_CK77hs/photo.jpg?sz=128", "display_name": "andrea06590", "link": "https://stackoverflow.com/users/8675131/andrea06590"}, "edited": false, "score": 0, "creation_date": 1508932157, "post_id": 46927989, "comment_id": 80809984, "body": "Saved (I had to connect with Github)  <a href=\"https://stackblitz.com/edit/ionic-uu8jkf\" rel=\"nofollow noreferrer\">stackblitz.com/edit/ionic-uu8jkf</a> I created for you the menu component where you have to manage every event related to the menu. You must separate as much as possible your component."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5405873"}, "edited": false, "score": 0, "creation_date": 1508934296, "post_id": 46927989, "comment_id": 80811559, "body": "@Westi-Tech, this <a href=\"https://stackblitz.com/edit/ionic-uu8jkf?file=pages%2Fhome%2Fhome.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/ionic-uu8jkf?file=pages%2Fhome%2Fhome.ts</a> result is accurate but i did not see any code added the please help me which code you have added"}, {"owner": {"reputation": 1063, "user_id": 8675131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0RKkDPUyBSE/AAAAAAAAAAI/AAAAAAAAAHM/VVqa_CK77hs/photo.jpg?sz=128", "display_name": "andrea06590", "link": "https://stackoverflow.com/users/8675131/andrea06590"}, "edited": false, "score": 0, "creation_date": 1508935182, "post_id": 46927989, "comment_id": 80812209, "body": "Check again, i can see now in pages/home you have a new directory called menu ;) i&#39;ve created it and added it to your app module"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5405873"}, "edited": false, "score": 0, "creation_date": 1508940207, "post_id": 46927989, "comment_id": 80816145, "body": "@Westi-Tech, it is working but <code>onclick</code> on anywhere on the <code>document</code> it is   showing ? why ? please fix that"}, {"owner": {"reputation": 1063, "user_id": 8675131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0RKkDPUyBSE/AAAAAAAAAAI/AAAAAAAAAHM/VVqa_CK77hs/photo.jpg?sz=128", "display_name": "andrea06590", "link": "https://stackoverflow.com/users/8675131/andrea06590"}, "edited": false, "score": 0, "creation_date": 1508940671, "post_id": 46927989, "comment_id": 80816550, "body": "It&#39;s very easy to fix man, you should retry the angular 2 getting started. Check your live editor <a href=\"https://stackblitz.com/edit/ionic-uu8jkf\" rel=\"nofollow noreferrer\">stackblitz.com/edit/ionic-uu8jkf</a>, i fixed it using 2 different functions close and open menu. Close menu just change the variable if true ;)"}], "tags": [], "owner": {"reputation": 1063, "user_id": 8675131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0RKkDPUyBSE/AAAAAAAAAAI/AAAAAAAAAHM/VVqa_CK77hs/photo.jpg?sz=128", "display_name": "andrea06590", "link": "https://stackoverflow.com/users/8675131/andrea06590"}, "is_accepted": false, "score": 0, "last_activity_date": 1508921754, "last_edit_date": 1508921754, "creation_date": 1508921503, "answer_id": 46927989, "question_id": 46927055, "link": "https://stackoverflow.com/questions/46927055/how-to-close-popover-on-click-of-anywhere-on-the-doccument/46927989#46927989", "title": "how to close popover on click of anywhere on the doccument", "body": "<p>I answered a similar question, you have to add a listener to your component, thanks to the host property. Inject ElementRef in your constructor called \"element\" in this example.</p>\n\n<p>constructor(private element: ElementRef)</p>\n\n<pre><code>@Component({\n     selector..., \n     host: {'(document:click)': 'onClick($event)',}\n});\n\n\nonClick(event) {\nif (!this.element.nativeElement.contains(event.target)) {\n      closeModal(); // or not\n    }\n}\n</code></pre>\n\n<p>I answered the question here : <a href=\"https://stackoverflow.com/questions/46792364/angular-resume-event-propagation/46793229#46793229\">Angular, resume event propagation</a></p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5405873"}, "edited": false, "score": 0, "creation_date": 1508925143, "post_id": 46928997, "comment_id": 80805254, "body": "i have tried it but it is not working ,<b>please try here</b> <a href=\"https://stackblitz.com/edit/ionic-3bw7da?embed=1&amp;file=pages/home/home.html&amp;view=editor\" rel=\"nofollow noreferrer\">stackblitz.com/edit/ionic-3bw7da?embed=1&amp;file=pages/home/&hellip;</a>"}, {"owner": {"reputation": 1063, "user_id": 8675131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0RKkDPUyBSE/AAAAAAAAAAI/AAAAAAAAAHM/VVqa_CK77hs/photo.jpg?sz=128", "display_name": "andrea06590", "link": "https://stackoverflow.com/users/8675131/andrea06590"}, "edited": false, "score": 0, "creation_date": 1508932389, "post_id": 46928997, "comment_id": 80810157, "body": "Are you done with it ? Let me know if you want to reduce the click to the 3 bullets icon only instead of the full top menu. If so, change the behavior of your menu (reduce the width in initial state to reduce the click area) and increase it if clicked (dropdown menu)"}], "tags": [], "owner": {"reputation": 1063, "user_id": 8675131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0RKkDPUyBSE/AAAAAAAAAAI/AAAAAAAAAHM/VVqa_CK77hs/photo.jpg?sz=128", "display_name": "andrea06590", "link": "https://stackoverflow.com/users/8675131/andrea06590"}, "is_accepted": false, "score": 0, "last_activity_date": 1508941548, "last_edit_date": 1508941548, "creation_date": 1508924340, "answer_id": 46928997, "question_id": 46927055, "link": "https://stackoverflow.com/questions/46927055/how-to-close-popover-on-click-of-anywhere-on-the-doccument/46928997#46928997", "title": "how to close popover on click of anywhere on the doccument", "body": "<p>I did not succeed to format my code in a comment :/</p>\n\n<pre><code>import { Component, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n  host:{'(document:click)': 'onClick($event)',\n}\n})\n\nexport class HomePage {\n\n    constructor(public navCtrl: NavController, private element: ElementRef) {\n\n  }\n\n  onClick(event) {\n   // display event in console if outside of menu top bar\n   if (this.element.nativeElement.contains(event.target)) {\n     console.log(event);\n     this.closeMenu();    \n   } else {\n    this.openMenu();    \n   }\n\n  openMenu() {\n    this.showMoreBarItem = !this.showMoreBarItem;      \n  }\n\n  closeMenu() {\n    if(this.showMoreBarItem) {\n      this.showMoreBarItem = !this.showMoreBarItem;      \n    }\n  }}\n</code></pre>\n\n<p><strong>IMPORTANT : You have to separate your menu component to accomplish it, and only apply my changes in your menu component => in your case create a new component in home.html  for instance !</strong> </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5405873"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 404, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1508941548, "creation_date": 1508918550, "last_edit_date": 1508919733, "question_id": 46927055, "link": "https://stackoverflow.com/questions/46927055/how-to-close-popover-on-click-of-anywhere-on-the-doccument", "title": "how to close popover on click of anywhere on the doccument", "body": "<p>i have a <code>popover</code>  which i want to close on <code>click</code> of anywhere on <code>document</code></p>\n\n<p><strong>here is my demo:</strong> <a href=\"https://stackblitz.com/edit/ionic-3bw7da?file=pages%2Fhome%2Fhome.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ionic-3bw7da?file=pages%2Fhome%2Fhome.html</a></p>\n\n<p>right now it is not closing as i don't know how to close it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WIgve.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WIgve.png\" alt=\"enter image description here\"></a></p>\n\n<p>here is my demo:<a href=\"https://stackblitz.com/edit/ionic-3bw7da?file=pages%2Fhome%2Fhome.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ionic-3bw7da?file=pages%2Fhome%2Fhome.html</a></p>\n\n<p>please help me thanks in advance!!!</p>\n"}, {"tags": ["typescript", "asp.net-core", "aurelia"], "answers": [{"tags": [], "owner": {"reputation": 257, "user_id": 6136261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEU16.jpg?s=128&g=1", "display_name": "Valentin B.", "link": "https://stackoverflow.com/users/6136261/valentin-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1508924108, "last_edit_date": 1508924108, "creation_date": 1508921868, "answer_id": 46928108, "question_id": 46926648, "link": "https://stackoverflow.com/questions/46926648/asp-net-core-aurelia-project-in-typescript-parameter-xxx-implicitly-has-any/46928108#46928108", "title": "asp.net core Aurelia project in Typescript - parameter XXX implicitly has &#39;any&#39; type error", "body": "<p>You have these errors because the type of your variables are not specified. Ideally you should add the type everywhere or explicitely specify <code>any</code>.</p>\n\n<p>But you can also add this option in your <strong>ts.config</strong> file to avoid these errors:</p>\n\n<pre><code>\"compilerOptions\": {\n     \"noImplicitAny\": false\n}\n</code></pre>\n"}], "owner": {"reputation": 2739, "user_id": 5750758, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/05d2e159c85b81c749286b16a17876c1?s=128&d=identicon&r=PG&f=1", "display_name": "si2030", "link": "https://stackoverflow.com/users/5750758/si2030"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 46928108, "answer_count": 1, "score": 0, "last_activity_date": 1508924108, "creation_date": 1508917204, "question_id": 46926648, "link": "https://stackoverflow.com/questions/46926648/asp-net-core-aurelia-project-in-typescript-parameter-xxx-implicitly-has-any", "title": "asp.net core Aurelia project in Typescript - parameter XXX implicitly has &#39;any&#39; type error", "body": "<p>This is an error I am getting in Visual Studio 2017 and it should be OK however its failing in a number of places with this and I have done nothing to the code - got it off a template.</p>\n\n<p>Here is one example:</p>\n\n<pre><code>export function configure(aurelia: Aurelia) {\naurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-api', config =&gt; {\n        config.registerEndpoint('weather', 'api/SampleData/WeatherForecasts');\n\n        if (IS_DEV_BUILD) {\n            aurelia.use.developmentLogging();\n        }\n\n        new HttpClient().configure(config =&gt; {\n            const baseUrl = document.getElementsByTagName(\"base\")[0].href;\n            config.withBaseUrl(baseUrl);\n        });\n\n        aurelia\n            .start()\n            .then(() =&gt; aurelia.setRoot(PLATFORM.moduleName(\"app/app/app\")));\n    }\n  }\n</code></pre>\n\n<p>In this case the error is on config (red squiggly line under it) with the error:</p>\n\n<blockquote>\n  <p>Error TS7006  (TS) Parameter 'config' implicitly has an 'any' type.</p>\n</blockquote>\n\n<p>Here's another:</p>\n\n<pre><code>        import { inject } from \"aurelia-framework\";\n        import {Rest} from 'aurelia-api';\n\n        @inject(Rest)\n        export class WeatherForcasts {\n          constructor (restClient) {\n            restClient.find('product', {\n                category: 5,\n                name    : {contains: 'mouse'}\n              })\n              .then(console.log)\n              .catch(console.error);\n          }\n        }\n</code></pre>\n\n<p>The same error - this time the red line is under the \"restClient\" parameter:</p>\n\n<blockquote>\n  <p>Error TS7006  (TS) Parameter 'restClient' implicitly has an 'any' type.</p>\n</blockquote>\n\n<p>Why do I get this error and how can I fix it?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "image-processing"], "comments": [{"owner": {"reputation": 1543, "user_id": 6261178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVx3i.jpg?s=128&g=1", "display_name": "Fahad Nisar", "link": "https://stackoverflow.com/users/6261178/fahad-nisar"}, "edited": false, "score": 0, "creation_date": 1508916849, "post_id": 46926345, "comment_id": 80799871, "body": "you need to create a new canvas and draw the two images on it."}], "answers": [{"tags": [], "owner": {"reputation": 62, "user_id": 3989830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UQela.jpg?s=128&g=1", "display_name": "Sandeep Saroha", "link": "https://stackoverflow.com/users/3989830/sandeep-saroha"}, "is_accepted": false, "score": 0, "last_activity_date": 1508924509, "creation_date": 1508924509, "answer_id": 46929051, "question_id": 46926345, "link": "https://stackoverflow.com/questions/46926345/combining-images-in-angular-4/46929051#46929051", "title": "combining images in angular 4", "body": "<p>you can achieve that using pack-manger grunt or gulp.</p>\n\n<p><a href=\"https://github.com/aslansky/css-sprite\" rel=\"nofollow noreferrer\">https://github.com/aslansky/css-sprite</a></p>\n"}], "owner": {"reputation": 19, "user_id": 8433774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a551d08ec8f5d605afc85e709cf15ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Rosht Shrestha", "link": "https://stackoverflow.com/users/8433774/rosht-shrestha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1508924509, "creation_date": 1508916150, "question_id": 46926345, "link": "https://stackoverflow.com/questions/46926345/combining-images-in-angular-4", "title": "combining images in angular 4", "body": "<p>What can I use in angular to combine 2 images i.e. images 1 and 2 as shown in the demo image below and make it like image 3</p>\n\n<p><a href=\"https://i.stack.imgur.com/6Ah7C.jpg\" rel=\"nofollow noreferrer\">demo image</a></p>\n"}, {"tags": ["angular", "typescript", "angular2-forms", "angular4-forms"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 3, "creation_date": 1508919857, "post_id": 46926182, "comment_id": 80801667, "body": "I think the preferred way is <code>myForm.get(&#39;addresses&#39;)</code>"}, {"owner": {"reputation": 4169, "user_id": 4590613, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/uSEj6.jpg?s=128&g=1", "display_name": "Munna Babu", "link": "https://stackoverflow.com/users/4590613/munna-babu"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1508920339, "post_id": 46926182, "comment_id": 80801944, "body": "@G&#252;nterZ&#246;chbauer do we need to use this in HTML ngFor or in the Typescript ?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1508920506, "post_id": 46926182, "comment_id": 80802052, "body": "Should work in both if <code>myForm</code> is an <code>AbstractControl</code>"}, {"owner": {"reputation": 4169, "user_id": 4590613, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/uSEj6.jpg?s=128&g=1", "display_name": "Munna Babu", "link": "https://stackoverflow.com/users/4590613/munna-babu"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1508921037, "post_id": 46926182, "comment_id": 80802375, "body": "@G&#252;nterZ&#246;chbauer updated code in the question as per ur suggestion, its working fine but AOT throw same error :( any idea ? pls chk code"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1508921095, "post_id": 46926182, "comment_id": 80802416, "body": "Then you probably changed it on the wrong place. It&#39;s quite unlikely that <code>get()</code> throws an error that <code>controls()</code> doesn&#39;t exist."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 14, "creation_date": 1508921369, "post_id": 46926182, "comment_id": 80802594, "body": "create getter like  <code>get addressesControls() {         return (&lt;FormArray&gt;this.myForm.get(&#39;addresses&#39;)).controls;     }</code>  or just use the following <code>myForm.get(&#39;addresses&#39;)[&#39;controls&#39;]</code>"}, {"owner": {"reputation": 4169, "user_id": 4590613, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/uSEj6.jpg?s=128&g=1", "display_name": "Munna Babu", "link": "https://stackoverflow.com/users/4590613/munna-babu"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1508921793, "post_id": 46926182, "comment_id": 80802872, "body": "@yurzui Thanks just update myForm.get(&#39;addresses&#39;)[&#39;controls&#39;] in HTML , its working fine now"}, {"owner": {"reputation": 1368, "user_id": 2769016, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/1c6E9.jpg?s=128&g=1", "display_name": "HD..", "link": "https://stackoverflow.com/users/2769016/hd"}, "edited": false, "score": 0, "creation_date": 1511353699, "post_id": 46926182, "comment_id": 81823546, "body": "how this thing will itterate may I know Munna rentalPricingForm.controls.pricingBundle.controls[i].control&zwnj;&#8203;s.packageName.errors"}], "answers": [{"comments": [{"owner": {"reputation": 4169, "user_id": 4590613, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/uSEj6.jpg?s=128&g=1", "display_name": "Munna Babu", "link": "https://stackoverflow.com/users/4590613/munna-babu"}, "edited": false, "score": 0, "creation_date": 1508920250, "post_id": 46927473, "comment_id": 80801897, "body": "Thanks. But It doesn&#39;t fix issue."}, {"owner": {"reputation": 4169, "user_id": 4590613, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/uSEj6.jpg?s=128&g=1", "display_name": "Munna Babu", "link": "https://stackoverflow.com/users/4590613/munna-babu"}, "edited": false, "score": 0, "creation_date": 1508921072, "post_id": 46927473, "comment_id": 80802399, "body": "Yes @mohammed,  pls chk the updated code in question"}, {"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "reply_to_user": {"reputation": 4169, "user_id": 4590613, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/uSEj6.jpg?s=128&g=1", "display_name": "Munna Babu", "link": "https://stackoverflow.com/users/4590613/munna-babu"}, "edited": false, "score": 1, "creation_date": 1508921347, "post_id": 46927473, "comment_id": 80802578, "body": "can you please try this  <code>let address of  myForm.controls.addresses.controls</code> instead of <code>let address of  myForm.get(&#39;addresses&#39;).controls</code>"}], "tags": [], "owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "is_accepted": false, "score": 0, "last_activity_date": 1508919861, "creation_date": 1508919861, "answer_id": 46927473, "question_id": 46926182, "link": "https://stackoverflow.com/questions/46926182/property-controls-does-not-exist-on-type-abstractcontrol-angular-4/46927473#46927473", "title": "Property &#39;controls&#39; does not exist on type &#39;AbstractControl&#39; Angular 4", "body": "<p>to get the length of a <code>FormArray</code> , use simply <code>length</code> :</p>\n\n<pre><code>&lt;span *ngIf=\"myForm.controls['addresses'].length &gt; 1\" (click)=\"removeAddress(i)\"&gt;Remove&lt;/span&gt;\n</code></pre>\n\n<p>Hope it helps</p>\n"}, {"comments": [{"owner": {"reputation": 436, "user_id": 6484069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lSNJ.jpg?s=128&g=1", "display_name": "Rafael L R", "link": "https://stackoverflow.com/users/6484069/rafael-l-r"}, "edited": false, "score": 3, "creation_date": 1563539595, "post_id": 46928219, "comment_id": 100743960, "body": "My case: form.get(&#39;user&#39;)[&#39;controls&#39;].profile. its ok tnks"}, {"owner": {"reputation": 107, "user_id": 6561825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YH0Hr.jpg?s=128&g=1", "display_name": "Kelvin Cayman", "link": "https://stackoverflow.com/users/6561825/kelvin-cayman"}, "edited": false, "score": 4, "creation_date": 1585978881, "post_id": 46928219, "comment_id": 107961013, "body": "This wrked for me seamlessly. Thanks Man! In the tempate <code>myForm.get(&#39;addresses&#39;)[&#39;controls&#39;]</code> In the ts  <code>const control = this.myForm.controls.addresses as FormArray</code>"}, {"owner": {"reputation": 2140, "user_id": 6089515, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/50AG2.jpg?s=128&g=1", "display_name": "Lunin Roman", "link": "https://stackoverflow.com/users/6089515/lunin-roman"}, "edited": false, "score": 0, "creation_date": 1611050722, "post_id": 46928219, "comment_id": 116318962, "body": "Kinda woodoo magic, it must be working without array notation...."}, {"owner": {"reputation": 453, "user_id": 1323473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myXAl.png?s=128&g=1", "display_name": "Anh-Thi DINH", "link": "https://stackoverflow.com/users/1323473/anh-thi-dinh"}, "edited": false, "score": 0, "creation_date": 1617798667, "post_id": 46928219, "comment_id": 118406558, "body": "It works for me, thanks!"}], "tags": [], "owner": {"reputation": 4169, "user_id": 4590613, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/uSEj6.jpg?s=128&g=1", "display_name": "Munna Babu", "link": "https://stackoverflow.com/users/4590613/munna-babu"}, "is_accepted": true, "score": 210, "last_activity_date": 1508925553, "last_edit_date": 1508925553, "creation_date": 1508922195, "answer_id": 46928219, "question_id": 46926182, "link": "https://stackoverflow.com/questions/46926182/property-controls-does-not-exist-on-type-abstractcontrol-angular-4/46928219#46928219", "title": "Property &#39;controls&#39; does not exist on type &#39;AbstractControl&#39; Angular 4", "body": "<p>Based on @G\u00fcnter Z\u00f6chbauer  comments , first i changed </p>\n\n<p><code>myForm.controls['addresses']</code> to <code>myForm.get('addresses')</code> in both html and typescript </p>\n\n<p>and then based on @yuruzi comment </p>\n\n<p>changed <code>myForm.get('addresses').controls</code> to <code>myForm.get('addresses')['controls']</code></p>\n\n<p>Its working fine now. Thanks @gunter &amp; yuruzi</p>\n"}, {"tags": [], "owner": {"reputation": 1145, "user_id": 8270711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52ec64580dd99b2cf38a7c86839959a1?s=128&d=identicon&r=PG", "display_name": "Advait Baxi", "link": "https://stackoverflow.com/users/8270711/advait-baxi"}, "is_accepted": false, "score": 4, "last_activity_date": 1538577013, "creation_date": 1538577013, "answer_id": 52629395, "question_id": 46926182, "link": "https://stackoverflow.com/questions/46926182/property-controls-does-not-exist-on-type-abstractcontrol-angular-4/52629395#52629395", "title": "Property &#39;controls&#39; does not exist on type &#39;AbstractControl&#39; Angular 4", "body": "<p>Change <code>myForm.get('addresses').controls</code> to <code>myForm.get('addresses').value</code> will also fix the issue.</p>\n"}, {"comments": [{"owner": {"reputation": 185, "user_id": 8762093, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SYWKqxaSpLw/AAAAAAAAAAI/AAAAAAAAA3Y/uHwPyb_YHE8/photo.jpg?sz=128", "display_name": "Victor Reyes", "link": "https://stackoverflow.com/users/8762093/victor-reyes"}, "edited": false, "score": 0, "creation_date": 1561826296, "post_id": 53828683, "comment_id": 100191493, "body": "Maybe on later angular versions you have to use <code>return (this.recipeForm.get(&#39;controlName&#39;) as FormArray).controls;</code>"}], "tags": [], "owner": {"reputation": 1663, "user_id": 5223220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-BAA6v4XfZt8/AAAAAAAAAAI/AAAAAAAAAA8/Ya-Az_nLTao/photo.jpg?sz=128", "display_name": "sunny kashyap", "link": "https://stackoverflow.com/users/5223220/sunny-kashyap"}, "is_accepted": false, "score": 68, "last_activity_date": 1574348923, "last_edit_date": 1574348923, "creation_date": 1545120362, "answer_id": 53828683, "question_id": 46926182, "link": "https://stackoverflow.com/questions/46926182/property-controls-does-not-exist-on-type-abstractcontrol-angular-4/53828683#53828683", "title": "Property &#39;controls&#39; does not exist on type &#39;AbstractControl&#39; Angular 4", "body": "<p>You can fix it easily though. Outsource the \"get the controls\" logic into a method of your component code (the <code>.ts</code> file):</p>\n\n<pre><code>getControls() {\n  return (this.recipeForm.get('controlName') as FormArray).controls;\n}\n</code></pre>\n\n<p>In the template, you can then use:</p>\n\n<pre><code>*ngFor=\"let ingredientCtrl of getControls(); let i = index\"\n</code></pre>\n\n<p>This adjustment is required due to the way TS works and Angular parses your templates (it doesn't understand TS there).</p>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 9794300, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fUmnqDZb8dM/AAAAAAAAAAI/AAAAAAAAAMU/dvgxKMX565w/photo.jpg?sz=128", "display_name": "Mhar Daniel", "link": "https://stackoverflow.com/users/9794300/mhar-daniel"}, "is_accepted": false, "score": 2, "last_activity_date": 1552094675, "creation_date": 1552094675, "answer_id": 55073105, "question_id": 46926182, "link": "https://stackoverflow.com/questions/46926182/property-controls-does-not-exist-on-type-abstractcontrol-angular-4/55073105#55073105", "title": "Property &#39;controls&#39; does not exist on type &#39;AbstractControl&#39; Angular 4", "body": "<p>for validation errors use...</p>\n\n<pre><code>&lt;span *ngIf=\"f.YOUR_FORM_KEY.controls.YOUR_FORM_KEY.errors?.YOUR_FORM_VALIDATION\"&gt;YOUR_FORM_KEY is YOUR_FORM_VALIDATION&lt;/span&gt;\n</code></pre>\n\n<p>eg.</p>\n\n<pre><code>&lt;span *ngIf=\"f.name.controls.name.errors?.required\"&gt;Name is required&lt;/span&gt;\n</code></pre>\n\n<p>ts file</p>\n\n<pre><code>get f(): any {\n    return this.userForm.controls;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 6455343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2541cecd998b97c94e0a230adeb25493?s=128&d=identicon&r=PG&f=1", "display_name": "Motasem Halawani", "link": "https://stackoverflow.com/users/6455343/motasem-halawani"}, "is_accepted": false, "score": 4, "last_activity_date": 1557434309, "creation_date": 1557434309, "answer_id": 56067232, "question_id": 46926182, "link": "https://stackoverflow.com/questions/46926182/property-controls-does-not-exist-on-type-abstractcontrol-angular-4/56067232#56067232", "title": "Property &#39;controls&#39; does not exist on type &#39;AbstractControl&#39; Angular 4", "body": "<p>As an update to @sunny kashyap solution, I would write it this way:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>getControls() {\r\n  return (this.recipeForm.get('controlName') as FormArray).controls;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 1669165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad9daa6601bf1de9de92c7b2c3fa120?s=128&d=identicon&r=PG", "display_name": "Uriy MerkUriy", "link": "https://stackoverflow.com/users/1669165/uriy-merkuriy"}, "is_accepted": false, "score": 0, "last_activity_date": 1572378225, "creation_date": 1572378225, "answer_id": 58614356, "question_id": 46926182, "link": "https://stackoverflow.com/questions/46926182/property-controls-does-not-exist-on-type-abstractcontrol-angular-4/58614356#58614356", "title": "Property &#39;controls&#39; does not exist on type &#39;AbstractControl&#39; Angular 4", "body": "<p>Can use a custom interface</p>\n\n<pre><code>// Define AbstractFormGroup\nexport interface AbstractFormGroup extends FormGroup {\n  controls: {\n    [key: string]: AbstractFormGroup &amp; AbstractFormGroup[] &amp; AbstractControl &amp; FormGroup &amp; FormArray,\n  }\n}\n\n// Usage example\nclass ... {\n  myForm: AbstractFormGroup\n  ...\n  this.myForm = this.fb.group({...}) as AbstractFormGroup\n}\n</code></pre>\n"}], "owner": {"reputation": 4169, "user_id": 4590613, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/uSEj6.jpg?s=128&g=1", "display_name": "Munna Babu", "link": "https://stackoverflow.com/users/4590613/munna-babu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71081, "favorite_count": 21, "closed_date": 1575199093, "accepted_answer_id": 46928219, "answer_count": 7, "score": 91, "last_activity_date": 1574348923, "creation_date": 1508915623, "last_edit_date": 1508921212, "question_id": 46926182, "link": "https://stackoverflow.com/questions/46926182/property-controls-does-not-exist-on-type-abstractcontrol-angular-4", "closed_reason": "Duplicate", "title": "Property &#39;controls&#39; does not exist on type &#39;AbstractControl&#39; Angular 4", "body": "<p>I am trying a nested reactive form in Angular 4. It is working fine but when I try to build AOT it's throwing the error </p>\n\n<blockquote>\n  <p>'controls' does not exist on type 'AbstractControl'</p>\n</blockquote>\n\n<p>I googled and tried few things but no luck. Could anyone tell me how to fix this issue? </p>\n\n<pre><code>&lt;div [formGroup]=\"myForm\"&gt;\n    &lt;div formArrayName=\"addresses\"&gt;\n        &lt;div *ngFor=\"let address of myForm.get('addresses').controls; let i=index\" \n                    class=\"panel panel-default\"&gt;\n            &lt;span *ngIf=\"myForm.get('addresses').length &gt; 1\"\n                    (click)=\"removeAddress(i)\"&gt;Remove&lt;/span&gt;\n            &lt;div [formGroupName]=\"i\"&gt;\n                &lt;mat-form-field&gt;\n                    &lt;input matInput formControlName=\"city\" placeholder=\"city\" value=\"\"&gt;\n                &lt;/mat-form-field&gt;\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;a (click)=\"addAddress()\" style=\"cursor: default\"&gt; Add +&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>typescript code below</p>\n\n<pre><code>constructor(private _fb: FormBuilder) {     \n}\n\nngOnInit() {\n    this.myForm = this._fb.group({\n        addresses: this._fb.array([\n            this.initAddress(),\n        ])\n    });\n}\ninitAddress() {\n    return this._fb.group({\n        city: ['']\n    });\n}\naddAddress() {\n    const control = &lt;FormArray&gt;this.myForm.get('addresses');\n    control.push(this.initAddress());\n}\nremoveAddress(i: number) {\n    const control = &lt;FormArray&gt;this.myForm.get('addresses');\n    control.removeAt(i);\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "npm", "camera"], "comments": [{"owner": {"reputation": 3128, "user_id": 2779307, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/QKLNe.jpg?s=128&g=1", "display_name": "Gaurav Srivastava", "link": "https://stackoverflow.com/users/2779307/gaurav-srivastava"}, "edited": false, "score": 0, "creation_date": 1508914651, "post_id": 46925608, "comment_id": 80798445, "body": "Please share some code, What have you tried till now?"}], "answers": [{"tags": [], "owner": {"reputation": 3512, "user_id": 2596974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bG01t.png?s=128&g=1", "display_name": "Eddy Verbruggen", "link": "https://stackoverflow.com/users/2596974/eddy-verbruggen"}, "is_accepted": false, "score": 0, "last_activity_date": 1508922094, "creation_date": 1508922094, "answer_id": 46928182, "question_id": 46925608, "link": "https://stackoverflow.com/questions/46925608/how-to-access-camera-in-typescript-npm/46928182#46928182", "title": "How to access Camera in Typescript npm?", "body": "<p>I think you're looking for <code>navigator.getUserMedia</code>. You can best Google that.</p>\n\n<p>If you want a readily available solution, consider checking out the browser implementation of the Cordova camera plugin: <a href=\"https://github.com/apache/cordova-plugin-camera/blob/master/src/browser/CameraProxy.js\" rel=\"nofollow noreferrer\">https://github.com/apache/cordova-plugin-camera/blob/master/src/browser/CameraProxy.js</a></p>\n"}], "owner": {"reputation": 1, "user_id": 3119145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae0910de86d87d508dd9b009bce5d4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Asim Bagwan", "link": "https://stackoverflow.com/users/3119145/asim-bagwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508926164, "creation_date": 1508913785, "last_edit_date": 1508926164, "question_id": 46925608, "link": "https://stackoverflow.com/questions/46925608/how-to-access-camera-in-typescript-npm", "title": "How to access Camera in Typescript npm?", "body": "<p>I have created an application in typescript npm with AngularJS 1. Now, I have to click photos from the camera on desktop (web-based) browser. </p>\n\n<p>What is the best way to achieve the same, which will work on all browsers?</p>\n\n<p>I tried many solutions but those are not supported on IE like NativeScript.</p>\n\n<p>Thanks in Advance.</p>\n\n<p>Thanks,\nAsim Bagwan</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 6884, "user_id": 2521893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3kWJJ.jpg?s=128&g=1", "display_name": "Fredrik Lundin", "link": "https://stackoverflow.com/users/2521893/fredrik-lundin"}, "edited": false, "score": 0, "creation_date": 1508912112, "post_id": 46925133, "comment_id": 80797116, "body": "A quick (but maybe ugly) fix would be to just cast <code>element</code> to <code>any</code> while calling <code>addEventListener</code>. <code>(&lt;any&gt;element).addEventListener(&quot;scroll&quot;, () =&gt; { }, { capture: true, passive: true });</code>. Not 100% sure, but I think that will work"}, {"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "reply_to_user": {"reputation": 6884, "user_id": 2521893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3kWJJ.jpg?s=128&g=1", "display_name": "Fredrik Lundin", "link": "https://stackoverflow.com/users/2521893/fredrik-lundin"}, "edited": false, "score": 0, "creation_date": 1508912557, "post_id": 46925133, "comment_id": 80797324, "body": "@FredrikLundin: It will remove typescript error but does it actual add options to the event? How can i test to ensure it?"}, {"owner": {"reputation": 6884, "user_id": 2521893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3kWJJ.jpg?s=128&g=1", "display_name": "Fredrik Lundin", "link": "https://stackoverflow.com/users/2521893/fredrik-lundin"}, "edited": false, "score": 0, "creation_date": 1508912786, "post_id": 46925133, "comment_id": 80797437, "body": "Typescript is just a helping out at compile time. Using the <code>any</code> type is there for wildcard situations, where you want to opt out of types. The underlaying <code>element</code> object is just the same, typed or not typed"}, {"owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1508912986, "post_id": 46925133, "comment_id": 80797519, "body": "did you check &#39;Safely detecting option support&#39; section on link: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/EventTarget/&hellip;</a>?"}, {"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "reply_to_user": {"reputation": 6884, "user_id": 2521893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3kWJJ.jpg?s=128&g=1", "display_name": "Fredrik Lundin", "link": "https://stackoverflow.com/users/2521893/fredrik-lundin"}, "edited": false, "score": 0, "creation_date": 1508914410, "post_id": 46925133, "comment_id": 80798314, "body": "@FredrikLundin: You might right. Can you post an answer please?"}, {"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "reply_to_user": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1508914653, "post_id": 46925133, "comment_id": 80798446, "body": "@deezg: I already checked it. It is necessary but it only can be writen in javascript. In typescript it will throw the error because the complier checked the type"}, {"owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1508918512, "post_id": 46925133, "comment_id": 80800859, "body": "sorry, wasn&#39;t focused completely when i was reading the question."}], "answers": [{"comments": [{"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 1, "creation_date": 1508915498, "post_id": 46925923, "comment_id": 80798937, "body": "Your answer is right. I upvoted it. But as you say, it maybe ugly. I will wait some hours for other answers. If i don&#39;t find a better one, i will accept yours. Thank you!"}], "tags": [], "owner": {"reputation": 6884, "user_id": 2521893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3kWJJ.jpg?s=128&g=1", "display_name": "Fredrik Lundin", "link": "https://stackoverflow.com/users/2521893/fredrik-lundin"}, "is_accepted": true, "score": 3, "last_activity_date": 1508915504, "last_edit_date": 1508915504, "creation_date": 1508914793, "answer_id": 46925923, "question_id": 46925133, "link": "https://stackoverflow.com/questions/46925133/how-to-add-passive-option-to-addeventlistener-in-typescript/46925923#46925923", "title": "How to add passive option to addEventListener in TypeScript?", "body": "<p>As a <em>workaround</em> for situations like this, you can always cast your object to the <code>any</code> type.</p>\n\n<pre><code>(&lt;any&gt;element).addEventListener(\"scroll\", () =&gt; { }, { capture: true, passive: true });\n</code></pre>\n\n<p>The <code>any</code> type is used to opt-out of typescripts typing system. Meaning you will work on an unknown type that you can treat any way you like, without the typescript compiler complaining.</p>\n\n<p>You can read more on the <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\" rel=\"nofollow noreferrer\"><strong>any <code>type</code> here</strong></a>!</p>\n"}, {"tags": [], "owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "is_accepted": false, "score": 2, "last_activity_date": 1508918482, "creation_date": 1508918482, "answer_id": 46927033, "question_id": 46925133, "link": "https://stackoverflow.com/questions/46925133/how-to-add-passive-option-to-addeventlistener-in-typescript/46927033#46927033", "title": "How to add passive option to addEventListener in TypeScript?", "body": "<p>I think the approach from linked github is fine. If you want, you could do inline variation. but it boils down to the same:</p>\n\n<pre><code>(element.addEventListener as (\n      type: string,\n      listener: (event: Event) =&gt; void,\n      options?: { useCapture?: boolean, passive?:boolean }\n    ) =&gt; void)(\"scroll\", () =&gt; { }, {/*here use userCapture &amp; passive*/})\n</code></pre>\n\n<p>so what you are effectively doing here is casting <code>element.addEventListener</code> method into arrow function and extending its signature so that typescript compiler can accept it.</p>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1508942857, "creation_date": 1508942857, "answer_id": 46935520, "question_id": 46925133, "link": "https://stackoverflow.com/questions/46925133/how-to-add-passive-option-to-addeventlistener-in-typescript/46935520#46935520", "title": "How to add passive option to addEventListener in TypeScript?", "body": "<p>Since interfaces in Typescript are open-ended you can add functions do the <code>Document</code> interface by re-declaring it in your application:</p>\n\n<pre><code> interface Document {\n    addEventListener(event: \"scroll\", listener: (event: Event) =&gt; void, options?: {\n        passive?: boolean;\n        once?: boolean;\n        capture?: boolean;\n      }      \n  );\n}\n</code></pre>\n\n<p>The you will be able to use the overload you defined, or any overload (or any other method) defined dor <code>Document</code> in lib.d.ts:</p>\n\n<pre><code>document.addEventListener(\"scroll\", ()=&gt; {}, {\n    capture: true,\n    once: true\n});\n\ndocument.addEventListener(\"scroll\", ()=&gt; {}, true);\n</code></pre>\n\n<p>I can't speak to why this was not included, there might be some corner cases where it will interfere method resolution for  other overloads of <code>addEventListener</code>. (Note: I did not test this extensively so you may run into this issue).</p>\n"}], "owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4080, "favorite_count": 1, "accepted_answer_id": 46925923, "answer_count": 3, "score": 1, "last_activity_date": 1508942857, "creation_date": 1508911870, "last_edit_date": 1508915147, "question_id": 46925133, "link": "https://stackoverflow.com/questions/46925133/how-to-add-passive-option-to-addeventlistener-in-typescript", "title": "How to add passive option to addEventListener in TypeScript?", "body": "<p>i want to to add <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Syntax\" rel=\"nofollow noreferrer\">options</a> to <code>scroll</code> event of an element in <strong>TypeScript</strong> like this:</p>\n\n<pre><code>element.addEventListener(\"scroll\", () =&gt; { }, { capture: true, passive: true });\n</code></pre>\n\n<p>But TypeScript throw an syntax error: <code>Argument of type '{ capture: true, passive: true }' is not assignable to parameter of type 'boolean'</code>.<br> I know the reason of error is TypeScript does not define an <code>options</code> argument for <code>addEventListener</code>. It just only have <code>useCapture</code> argument. We can see it in <em><code>lib.dom.d.ts</code></em>: </p>\n\n<pre><code>addEventListener&lt;K extends keyof ElementEventMap&gt;(type: K, listener: (this: Element, ev: ElementEventMap[K]) =&gt; any, useCapture?: boolean): void;\naddEventListener(type: string, listener: EventListenerOrEventListenerObject, useCapture?: boolean): void;\n</code></pre>\n\n<p>I found an open issue and a <a href=\"https://github.com/Microsoft/TypeScript/issues/9548#issuecomment-256793821\" rel=\"nofollow noreferrer\">walk around</a> in github but it seems complicate and i am not sure it is right. <br>\nBy the way, i also want to know why TypeScript did not define <code>options</code> argument for <code>addEventListener</code>? \n<br><br>\nAny help would be appreciated. Thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1508906813, "creation_date": 1508906813, "answer_id": 46924173, "question_id": 46923628, "link": "https://stackoverflow.com/questions/46923628/how-to-dynamically-add-scripts-into-the-head-tag-when-angular-component-has-load/46924173#46924173", "title": "How to dynamically add scripts into the head tag when angular component has loaded", "body": "<blockquote>\n  <p>script tag is called before the component I need it in has loaded, any ideas on how I can reference this script in my component</p>\n</blockquote>\n\n<p>Most script tags export a <em>global</em> variable. E.g <code>React</code> <code>$</code> <code>_</code> etc. Read the docs on the lib and use the global variable they export.</p>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 1792932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9520bffa0515e54859f849fc8b6b99e1?s=128&d=identicon&r=PG", "display_name": "Dragos Stanciu", "link": "https://stackoverflow.com/users/1792932/dragos-stanciu"}, "edited": false, "score": 0, "creation_date": 1540461279, "post_id": 46924372, "comment_id": 92878180, "body": "Can you confirm this is safe to use as we&#39;re manipulating the DOM?"}, {"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "reply_to_user": {"reputation": 320, "user_id": 1792932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9520bffa0515e54859f849fc8b6b99e1?s=128&d=identicon&r=PG", "display_name": "Dragos Stanciu", "link": "https://stackoverflow.com/users/1792932/dragos-stanciu"}, "edited": false, "score": 1, "creation_date": 1540514632, "post_id": 46924372, "comment_id": 92904350, "body": "@DragosStanciu yes this is safe to use"}, {"owner": {"reputation": 1151, "user_id": 1730846, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/11585d7f67714354b5777495401bbd9b?s=128&d=identicon&r=PG", "display_name": "Mojtaba", "link": "https://stackoverflow.com/users/1730846/mojtaba"}, "edited": false, "score": 0, "creation_date": 1579716196, "post_id": 46924372, "comment_id": 105862565, "body": "You may want to wait until the script fully loaded. See <a href=\"http://www.lukasjakob.com/how-to-dynamically-load-external-scripts-in-angular/\" rel=\"nofollow noreferrer\">this</a>"}], "tags": [], "owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "is_accepted": true, "score": 9, "last_activity_date": 1566252860, "last_edit_date": 1566252860, "creation_date": 1508908008, "answer_id": 46924372, "question_id": 46923628, "link": "https://stackoverflow.com/questions/46923628/how-to-dynamically-add-scripts-into-the-head-tag-when-angular-component-has-load/46924372#46924372", "title": "How to dynamically add scripts into the head tag when angular component has loaded", "body": "<p>I've figured it out, what you need to do is dynamically create the script tag and then append it to the head of your document:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Component {\n\n//...\n\nloadScript() {\n  let node = document.createElement('script'); // creates the script tag\n  node.src = ''; // sets the source (insert url in between quotes)\n  node.type = 'text/javascript'; // set the script type\n  node.async = true; // makes script run asynchronously\n  node.charset = 'utf-8';\n  // append to head of document\n  document.getElementsByTagName('head')[0].appendChild(node); \n}\n\nngOnInit{\n  loadScript();\n}\n</code></pre>\n"}], "owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8585, "favorite_count": 2, "accepted_answer_id": 46924372, "answer_count": 2, "score": 6, "last_activity_date": 1566252860, "creation_date": 1508903161, "last_edit_date": 1508908065, "question_id": 46923628, "link": "https://stackoverflow.com/questions/46923628/how-to-dynamically-add-scripts-into-the-head-tag-when-angular-component-has-load", "title": "How to dynamically add scripts into the head tag when angular component has loaded", "body": "<p>I have a script tag that has a skype web control cdn in it, the script tag has been inserted in the head of my index.html, now the script tag is called before the component I need it in has loaded, any ideas on how I can reference this script in my component?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "rxjs5"], "comments": [{"owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1508903571, "post_id": 46923612, "comment_id": 80794366, "body": "you are on a right track. do you use reactive forms? if so, you might want to listen to <code>valueChange</code> observable on the form, filter that ine by selected checkboxes and return that."}], "answers": [{"tags": [], "owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "is_accepted": false, "score": 0, "last_activity_date": 1508938669, "creation_date": 1508938669, "answer_id": 46933946, "question_id": 46923612, "link": "https://stackoverflow.com/questions/46923612/rxjs-list-selection-stream/46933946#46933946", "title": "RXJS list selection stream", "body": "<p>Assume you get the value from onValueChange (or you can use onchange handler) </p>\n\n<pre><code>this.form.field.onValueChange.map(id=&gt;{\n// lets say you got the id as selected value\nreturn options.filter(value=&gt;options.id==id)[0]\n}).subscribe()\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 6833286, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hcvfYixz0cg/AAAAAAAAAAI/AAAAAAAAAHw/j3tyM8N6QhY/photo.jpg?sz=128", "display_name": "Alan Dragicevich", "link": "https://stackoverflow.com/users/6833286/alan-dragicevich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508938669, "creation_date": 1508903087, "question_id": 46923612, "link": "https://stackoverflow.com/questions/46923612/rxjs-list-selection-stream", "title": "RXJS list selection stream", "body": "<p>I have a current problem I'd like to solve in an angular application. I could probably get it working without RXJS but I'd like to get better at streams.</p>\n\n<p>So I have a list of checkboxes. These are defined by an interface of options {id: number, label: string}.</p>\n\n<p>Now I want to pass in an Observable of {id: number, label: string} and then record what is selected and emit the selection every time a selection change has been made on a checkbox.</p>\n\n<p>So I already have my options stream of {id: number, label: string}. My idea was to map that to another stream of type {id: number, label: string, selected: boolean}, then I would have a selectedOptions$ stream that filters off of the transformed stream, but I am stuck and not sure this is even the right approach.</p>\n\n<pre><code>options$: {id: number, label: string};\ntransformedOptions$: {id: number, label: string, selected: false}\nselectedOptions$ = options$.map(options =&gt; options.filter((option) =&gt; option.selected));\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1508900879, "post_id": 46923293, "comment_id": 80793753, "body": "It&#39;s a non-standardised yet syntax <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator#Spread_in_object_literals\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 1, "creation_date": 1508901220, "post_id": 46923293, "comment_id": 80793840, "body": "it&#39;s the shortest way to set <code>user</code> and <code>loggedIn</code> while preserving any additional properties received in the <code>state</code> parameter (which can be anything that <code>extends interface State</code>), <b>without modifying</b> received <code>state</code> object."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1508904520, "last_edit_date": 1508904520, "creation_date": 1508904106, "answer_id": 46923780, "question_id": 46923293, "link": "https://stackoverflow.com/questions/46923293/object-destructuring-to-update-attributes/46923780#46923780", "title": "Object destructuring to update attributes", "body": "<blockquote>\n  <p>What does syntax like the below achieve?</p>\n</blockquote>\n\n<p>It spreads the props from <code>state</code> into a new object, and then sets <code>loggedIn</code> to true and <code>user</code> to <code>action.payload.user</code></p>\n\n<h1>More</h1>\n\n<p>The syntax <code>...foo</code> is Object Spread. I wrote about it too <a href=\"https://basarat.gitbooks.io/typescript/docs/spread-operator.html\" rel=\"nofollow noreferrer\">https://basarat.gitbooks.io/typescript/docs/spread-operator.html</a></p>\n"}], "owner": {"reputation": 17357, "user_id": 794242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e871d15815cfef926f21737a5ccd30c4?s=128&d=identicon&r=PG", "display_name": "Wand Maker", "link": "https://stackoverflow.com/users/794242/wand-maker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 46923780, "answer_count": 1, "score": 0, "last_activity_date": 1508904520, "creation_date": 1508900802, "question_id": 46923293, "link": "https://stackoverflow.com/questions/46923293/object-destructuring-to-update-attributes", "title": "Object destructuring to update attributes", "body": "<p>What does syntax like the below achieve?</p>\n\n<pre><code>  return {\n    ...state,\n    loggedIn: true,\n    user: action.payload.user,\n  };\n</code></pre>\n\n<p>Assume, state's type is:</p>\n\n<pre><code>export interface State {\n  loggedIn: boolean;\n  user: User | null;\n}\n</code></pre>\n\n<p>Is it way to add/update attribute values in a object?</p>\n\n<p>I found the this example here: <a href=\"https://github.com/ngrx/platform/blob/master/example-app/app/auth/reducers/auth.ts\" rel=\"nofollow noreferrer\">https://github.com/ngrx/platform/blob/master/example-app/app/auth/reducers/auth.ts</a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1508921994, "post_id": 46923290, "comment_id": 80803006, "body": "Instead of writing your own answer, you could accept the answer with the exact same piece of code that Nicholas Tower gave you :)"}], "tags": [], "owner": {"reputation": 91, "user_id": 874225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/353b94037cc10a9b327132f0a3a737ca?s=128&d=identicon&r=PG", "display_name": "Coreylh", "link": "https://stackoverflow.com/users/874225/coreylh"}, "is_accepted": false, "score": 0, "last_activity_date": 1508900761, "creation_date": 1508900761, "answer_id": 46923290, "question_id": 46923190, "link": "https://stackoverflow.com/questions/46923190/cannot-assign-object-to-observableobject/46923290#46923290", "title": "Cannot assign Object[] to Observable&lt;Object[]&gt;", "body": "<p>Nevermind, I read more about the .subscribe method. It returns a subscription object, I just needed to change it to:</p>\n\n<pre><code>ngOnInit() {\n    this.courseCards = this.coursecardService.getCourses();\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": true, "score": 4, "last_activity_date": 1508900840, "creation_date": 1508900840, "answer_id": 46923298, "question_id": 46923190, "link": "https://stackoverflow.com/questions/46923190/cannot-assign-object-to-observableobject/46923298#46923298", "title": "Cannot assign Object[] to Observable&lt;Object[]&gt;", "body": "<p>This part does return an <code>Observable&lt;CourseCard[]&gt;</code>:</p>\n\n<blockquote>\n  <p>this.coursecardService.getCourses()</p>\n</blockquote>\n\n<p>But then you are manually subscribing to it, and inside of the subscribe, courses is of type <code>CourseCard[]</code>. So when you try to assign <code>this.courseCards = courses;</code>, that's when you're getting the type mismatch.</p>\n\n<p>The async pipe will do the subscription for you, so you can change your code to: </p>\n\n<pre><code>ngOnInit() {\n  this.courseCards = this.coursecardService.getCourses();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 874225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/353b94037cc10a9b327132f0a3a737ca?s=128&d=identicon&r=PG", "display_name": "Coreylh", "link": "https://stackoverflow.com/users/874225/coreylh"}, "edited": false, "score": 0, "creation_date": 1508980506, "post_id": 46923299, "comment_id": 80836067, "body": "Haha good spot, I found that after fixing the subscription problem."}], "tags": [], "owner": {"reputation": 940, "user_id": 1651090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2e856a30ade4d96bdb97c9e25d49c47?s=128&d=identicon&r=PG", "display_name": "i3lai3la", "link": "https://stackoverflow.com/users/1651090/i3lai3la"}, "is_accepted": false, "score": 0, "last_activity_date": 1508900879, "creation_date": 1508900879, "answer_id": 46923299, "question_id": 46923190, "link": "https://stackoverflow.com/questions/46923190/cannot-assign-object-to-observableobject/46923299#46923299", "title": "Cannot assign Object[] to Observable&lt;Object[]&gt;", "body": "<p>Is your list properties name is correct? <code>let course of courses</code> or supposed to be \n<code>let course of courseCards</code>?</p>\n\n<pre><code>   &lt;ul&gt;\n      &lt;li *ngFor=\"let course of courseCards|async\"&gt;\n        &lt;app-course-card [name]='course.name' [wordcount]=0&gt;&lt;/app-course-card&gt;\n      &lt;/li&gt;\n    &lt;/ul&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9290, "user_id": 5362646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SZ6fo.jpg?s=128&g=1", "display_name": "Chandru", "link": "https://stackoverflow.com/users/5362646/chandru"}, "is_accepted": false, "score": 0, "last_activity_date": 1508901058, "creation_date": 1508901058, "answer_id": 46923320, "question_id": 46923190, "link": "https://stackoverflow.com/questions/46923190/cannot-assign-object-to-observableobject/46923320#46923320", "title": "Cannot assign Object[] to Observable&lt;Object[]&gt;", "body": "<p>Try like this :</p>\n\n<pre><code>getCourses(): Observable&lt;CourseCard[]&gt; {\n    return this.http.get(this.URL)\n        .map((response) =&gt; &lt;CourseCard[]&gt;response.json())\n        .catch((error: any) =&gt; Observable.throw(error.json().error || 'Server error'));\n}\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 874225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/353b94037cc10a9b327132f0a3a737ca?s=128&d=identicon&r=PG", "display_name": "Coreylh", "link": "https://stackoverflow.com/users/874225/coreylh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 957, "favorite_count": 1, "accepted_answer_id": 46923298, "answer_count": 4, "score": 1, "last_activity_date": 1508948198, "creation_date": 1508900066, "question_id": 46923190, "link": "https://stackoverflow.com/questions/46923190/cannot-assign-object-to-observableobject", "title": "Cannot assign Object[] to Observable&lt;Object[]&gt;", "body": "<p>I'm currently bumbling my way through an Angular 4 project. I've manageed to overcome most errors myself, so far, however I cannot figure out this one.</p>\n\n<p>I am trying to use *ngFor (async) to display a list of Observable objects.\nHowever, I get the error <strong>\"Cannot assign Course[] to Observable&lt; Course[] >\"</strong>, however I feel like my service is returning an Observable&lt; Course[] >.</p>\n\n<p>course-list.component.ts:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { CourseCardComponent } from '../course-card/course-card.component';\nimport { CourseCardService } from '../course-card/course-card.service';\nimport { CourseCard } from '../course-card/course-card.model';\nimport { Observable }     from 'rxjs/Observable';\n\n@Component({\n  selector: 'app-course-list',\n  templateUrl: './course-list.component.html',\n  styleUrls: ['./course-list.component.css']\n})\nexport class CourseListComponent implements OnInit {\n  courseCards : Observable&lt;CourseCard[]&gt;;\n  loaded = false;\n\n  constructor(private http:Http, private coursecardService:CourseCardService) { }\n\n  ngOnInit() {\n    this.coursecardService.getCourses()\n    .subscribe(\n      courses =&gt; {\n        this.courseCards = courses;\n        console.log(this.courseCards);\n        this.loaded = true;\n      },\n      err =&gt; {\n        console.log(\"Error\", err);\n      }\n    )\n  }\n}\n</code></pre>\n\n<p>course-card.service.ts</p>\n\n<pre><code>import { Injectable }     from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Observable }     from 'rxjs/Observable';\n\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/map';\n\nimport { CourseCard } from './course-card.model';\n\n@Injectable()\nexport class CourseCardService {\n    // Returns this JSON data:\n    // [{\"firstName\":\"Jane\"},{\"firstName\":\"John\"}]\n    private URL = '/api/getcourses';\n\n    constructor (private http: Http) {}\n\n    getCourses(): Observable&lt;CourseCard[]&gt; {\n        return this.http.get(this.URL)\n            .map((response) =&gt; {\n            let data = response.text() ? response.json():[{}];\n                if(data) {\n                    return data;\n                }\n            }\n        )\n        .catch((error:any) =&gt; Observable.throw(error.json().error || 'Server error'));\n    }\n}\n</code></pre>\n\n<p>And the HTML for the course-list component\nCourses</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li *ngFor=\"let course of courses|async\"&gt;\n    &lt;app-course-card [name]='course.name' [wordcount]=0&gt;&lt;/app-course-card&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"}, {"tags": ["typescript", "three.js"], "answers": [{"tags": [], "owner": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "is_accepted": true, "score": 0, "last_activity_date": 1515620750, "creation_date": 1515620750, "answer_id": 48196606, "question_id": 46923023, "link": "https://stackoverflow.com/questions/46923023/threejs-objloader-mtlloader-materials-load-but-dont-show/48196606#48196606", "title": "ThreeJs OBJLoader + MTLLoader : materials load but don&#39;t show", "body": "<p>For some reason, ThreeJS (or maybe the version of ThreeJS that I have) doesn't like multimaterials. When I split my meshes by material in Blender, everything looks normal.</p>\n"}], "owner": {"reputation": 1216, "user_id": 2252948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb6114307bc12f710bf50ed7b929aa0?s=128&d=identicon&r=PG", "display_name": "AnthonyD973", "link": "https://stackoverflow.com/users/2252948/anthonyd973"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 741, "favorite_count": 1, "accepted_answer_id": 48196606, "answer_count": 1, "score": 3, "last_activity_date": 1515620750, "creation_date": 1508898905, "question_id": 46923023, "link": "https://stackoverflow.com/questions/46923023/threejs-objloader-mtlloader-materials-load-but-dont-show", "title": "ThreeJs OBJLoader + MTLLoader : materials load but don&#39;t show", "body": "<p>Using OBJLoader and MTLLoader, I'm trying to load a low-poly car model that I downloaded from the internet into my Three.JS scene. This model doesn't even have textures. However, although I do see the model, I don't see the materials on it (right car on the screenshot). I opened the <code>.obj</code> file in Blender, and I do see the low-poly car's color there in Cycles rendering.</p>\n\n<p>The materials <em>are</em> loaded, since when I <code>console.log</code> the value returned by <code>ObjMtlLoader.load</code> (see code below), I can see the material names, and the color values correspond to what is present in the MTL file.</p>\n\n<p>To be honest, I'm not totally sure it's a problem with <code>OBJLoader</code> or <code>MTLLoader</code>, since I tried the <code>ColladaLoader</code> (left car on the screenshot), and it does not show materials either, apart from the wheels.</p>\n\n<p>I would like to know if, given this limited context, you had any clues as to what could be the cause. I would research this problem more in-depth, but I already work, say, 10 hours a day, including week-ends. I guess if nothing works, I'll just try to manually create the materials.</p>\n\n<p>Here is an excerpt of code:</p>\n\n<pre><code>// obj-mtl-loader.ts\n\nexport class ObjMtlLoader {\n\n    private objLoader: THREE.OBJLoader = new THREE.OBJLoader();\n    private mtlLoader: THREE.MTLLoader = new THREE.MTLLoader();\n\n    constructor(basePath?: string) {\n        if (basePath) {\n            this.objLoader.setPath(basePath);\n            this.mtlLoader.setPath(basePath);\n        }\n    }\n\n    public load(objFile: string, mtlFile: string): Promise&lt;THREE.Group&gt; {\n        return new Promise((resolve, reject) =&gt; {\n            this.mtlLoader.load(\n                mtlFile,\n                (materialCreator) =&gt; {\n                    materialCreator.preload();\n                    this.objLoader.setMaterials(materialCreator);\n                    this.objLoader.load(\n                        objFile,\n                        (model) =&gt; {\n                            resolve(model);\n                        },\n                        () =&gt; {},\n                        (reason) =&gt; reject(reason)\n                    );\n                },\n                () =&gt; {},\n                (reason) =&gt; reject(reason)\n            );\n        });\n    }\n\n}\n</code></pre>\n\n<p>Here is an example usage:</p>\n\n<pre><code>// renderer.ts\n    new ObjMtlLoader().load(\n        '/assets/racing/car_model/Low-Poly-Racing-Car.obj',\n        '/assets/racing/car_model/Low-Poly-Racing-Car.mtl'\n    ).then((car) =&gt; {\n        this.SCENE.add(car);\n    });\n</code></pre>\n\n<p>And here is a screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/H406s.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H406s.jpg\" alt=\"Demo\"></a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1508909223, "post_id": 46922993, "comment_id": 80795972, "body": "Union type says &quot;it can be <code>JSONObject</code>, but not guaranteed (can also be <code>boolean</code> or <code>string</code> ...)&quot;. You description is suitable for  intersection types. Anyway if you know structure of the object why just not define an interface for it?"}], "owner": {"reputation": 996, "user_id": 6820405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d50b7a658e3bdc2838fea7e8ecadd72?s=128&d=identicon&r=PG", "display_name": "Daniel P. Shannon", "link": "https://stackoverflow.com/users/6820405/daniel-p-shannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 697, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1508912730, "creation_date": 1508898718, "question_id": 46922993, "link": "https://stackoverflow.com/questions/46922993/creating-a-json-interface-in-typescript-without-any", "title": "Creating a JSON interface in TypeScript without &quot;any.&quot;", "body": "<p>I gather that this may be impossible, given that the return type of the even the native <code>JSON.parse</code> function is <code>any</code>, but I've been puzzling over how to create a generic JSON type interface in TypeScript. There's <a href=\"https://github.com/Microsoft/TypeScript/issues/3496#issuecomment-128553540\" rel=\"nofollow noreferrer\">a solution on GitHub</a> that comes extremely close:</p>\n\n<pre><code>type JSONValue = boolean | number | string | JSONObject | JSONArray\n\ninterface JSONObject {\n  [k: string]: JSONValue\n}\n\ninterface JSONArray extends Array&lt;JSONValue&gt; {}\n\nconst json: JSONObject = {}\n\nconsole.log(json.gray[9])\n</code></pre>\n\n<p>...but fails to compile in strict mode:</p>\n\n<pre><code>~ \u276f\u276f\u276f tsc --strict test.ts\ntest.ts(11,13): error TS7017: Element implicitly has an 'any' type because type 'JSONValue' has no index signature.\n</code></pre>\n\n<p>My understanding is that because <code>JSONObject</code> and <code>JSONArray</code> have index values, the union type <code>JSONValue</code> should accept one as well; clearly the compiler disagrees. I'm curious for my own edification whether there's any way around this; given that the GitHub issue was from 2015, maybe TypeScript has changed in the interim.</p>\n\n<p>Thanks for any thoughts from more seasoned script typers!</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "import", "declaration"], "comments": [{"owner": {"reputation": 1, "user_id": 6328424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2c8365fad46e92f8f280e42e0fc260?s=128&d=identicon&r=PG&f=1", "display_name": "\u9ec4\u8427\u654f", "link": "https://stackoverflow.com/users/6328424/%e9%bb%84%e8%90%a7%e6%95%8f"}, "edited": false, "score": 0, "creation_date": 1508984087, "post_id": 46922913, "comment_id": 80836929, "body": "after I declare the class at the outside of namespace and export this class, it worked. But still has some bugs and I need to debug it"}], "answers": [{"tags": [], "owner": {"reputation": 1670, "user_id": 7573514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n4PDyH3wYzc/AAAAAAAAAAI/AAAAAAAAAB8/G1QxsGvbRb8/photo.jpg?sz=128", "display_name": "Edhar Dowbak", "link": "https://stackoverflow.com/users/7573514/edhar-dowbak"}, "is_accepted": false, "score": 0, "last_activity_date": 1523459242, "last_edit_date": 1523459242, "creation_date": 1523450313, "answer_id": 49775406, "question_id": 46922913, "link": "https://stackoverflow.com/questions/46922913/typescript-import-a-react-js-component-which-d-ts-file-writed-by-myself-and-occu/49775406#49775406", "title": "Typescript import a React js component which d.ts file writed by myself and occured Module not found: Can&#39;t resolve &#39;xxx&#39; in &#39;xxx&#39;", "body": "<p>I had the same problem. To fix it install with npm this package in this format</p>\n\n<pre><code>npm install --save react-avatar-editor @types/react-avatar-editor\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6328424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2c8365fad46e92f8f280e42e0fc260?s=128&d=identicon&r=PG&f=1", "display_name": "\u9ec4\u8427\u654f", "link": "https://stackoverflow.com/users/6328424/%e9%bb%84%e8%90%a7%e6%95%8f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 774, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523459242, "creation_date": 1508898079, "last_edit_date": 1508931785, "question_id": 46922913, "link": "https://stackoverflow.com/questions/46922913/typescript-import-a-react-js-component-which-d-ts-file-writed-by-myself-and-occu", "title": "Typescript import a React js component which d.ts file writed by myself and occured Module not found: Can&#39;t resolve &#39;xxx&#39; in &#39;xxx&#39;", "body": "<p>I added a component js's d.ts file as below:</p>\n\n<pre><code>/// &lt;reference types=\"react\" /&gt;\n\ndeclare namespace __ReactAvatarEditor {\n\ninterface croppingRect {\n    x: number,\n    y: number,\n    width: number,\n    height: number\n}\n\ninterface point {\n    x: number,\n    y: number\n}\n\nexport interface AvatarEditorProps {\n    scale?: number,\n    rotate?: number,\n    image?: any,\n    border?: number | [number],\n    borderRadius?: number,\n    width?: number,\n    height?: number,\n    position?: point,\n    color?: number[],\n    style?: object,\n    crossOrigin?: string,\n    onDropFile?: any,\n    onLoadFailure?: any,\n    onLoadSuccess?: any,\n    onImageReady?: any,\n    onImageChange?: any,\n    onMouseUp?: any,\n    onMouseMove?: any,\n    onPositionChange?: any,\n    disableDrop?: boolean\n}\nexport class AvatarEditor extends React.Component&lt;AvatarEditorProps&gt; {\n}\n}\n\ndeclare module \"react-avatar-editor\"{\n    export import AvatarEditorProps = __ReactAvatarEditor.AvatarEditorProps;\n    export import AvatarEditor = __ReactAvatarEditor.AvatarEditor;\n}\ndeclare module \"react-avatar-editor/AvatarEditor\"{\n    export import AvatarEditor = __ReactAvatarEditor.AvatarEditor;\n    export default AvatarEditor;\n}\n</code></pre>\n\n<p>And use it by:</p>\n\n<pre><code>import AvatarEditor from 'react-avatar-editor/AvatarEditor';\n</code></pre>\n\n<p>The Origin Code construtor:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZN0Mg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>but while I run the project, it fail to compile and show me an error:\n./src/components/DealPic.tsx\nModule not found: Can't resolve 'react-avatar-editor/AvatarEditor' in 'C:\\Users\\xiaomin\\Desktop\\React\\inter-provincial-portrait\\src\\components'</p>\n\n<p>Typescript v2.5.3 React v16</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1364, "user_id": 4848006, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/uFXUI.jpg?s=128&g=1", "display_name": "Neji Soltani", "link": "https://stackoverflow.com/users/4848006/neji-soltani"}, "is_accepted": false, "score": 0, "last_activity_date": 1508891301, "creation_date": 1508891301, "answer_id": 46922030, "question_id": 46921776, "link": "https://stackoverflow.com/questions/46921776/how-to-dynamically-select-an-object-to-a-add-property-js/46922030#46922030", "title": "How to dynamically select an object to a add property - js", "body": "<p>I am not familiar with typescript but i got the result as like you want</p>\n\n<p>Check this <a href=\"https://jsfiddle.net/dfkb1vL8/\" rel=\"nofollow noreferrer\">fiddle</a></p>\n\n<p>Code:</p>\n\n<pre><code>let Person = {}\n\nfunction AddNewPropTo( objName , new_objProp ) {\n     return objName[new_objProp] = 1;  // logic fail 1\n}\nfunction getProps  (objName) {\n   return Object.getOwnPropertyNames(objName);\n}\n\n\n AddNewPropTo(Person,'Age'); \n console.log(getProps(Person)) ; //returns ['Age']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 145, "user_id": 8019810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh6.googleusercontent.com/-bM2tXkwLveg/AAAAAAAAAAI/AAAAAAAAAkc/Ul3d7CJSXd8/photo.jpg?sz=128", "display_name": "Marven Wilson S Donque", "link": "https://stackoverflow.com/users/8019810/marven-wilson-s-donque"}, "edited": false, "score": 0, "creation_date": 1508929786, "post_id": 46922706, "comment_id": 80808363, "body": "you are a genius sir Thank you."}], "tags": [], "owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "is_accepted": false, "score": 1, "last_activity_date": 1508896761, "last_edit_date": 1508896761, "creation_date": 1508896395, "answer_id": 46922706, "question_id": 46921776, "link": "https://stackoverflow.com/questions/46921776/how-to-dynamically-select-an-object-to-a-add-property-js/46922706#46922706", "title": "How to dynamically select an object to a add property - js", "body": "<p>The error message at logic fail 1 tells you that you're trying to add a property to the string <code>objName</code> rather than the object.<br>\nSo you need to select one of your objects, </p>\n\n<pre><code>let AddNewPropTo = ( objName , new_objProp ) =&gt; {\n  if (objName === 'Person') {\n    Person[new_objProp] = null\n    return Person\n  }\n  if (objName === 'university') {\n    university[new_objProp] = null\n    return university\n  } \n}\n</code></pre>\n\n<p>The second logic fail looks like a really basic mistake, the return value isn't captured </p>\n\n<pre><code>const Person = myFn.AddNewPropTo('Person','Age'); // logic fail 2\nconst props = myFn.getProps(Person) // Desired Output : Person = { Age : null }\nconsole.log(props)\n</code></pre>\n\n<p>If you want to get more dynamic, try this</p>\n\n<pre><code>let university = {}\nlet Person = {}\nconst map = {\n  'Person': Person,\n  'university': university\n}\n\nlet AddNewPropTo = ( objName , new_objProp ) =&gt; {\n  let obj = map[objName]\n  if (obj) {\n    obj[new_objProp] = null\n    return obj\n  }\n  return {}\n}\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 8019810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh6.googleusercontent.com/-bM2tXkwLveg/AAAAAAAAAAI/AAAAAAAAAkc/Ul3d7CJSXd8/photo.jpg?sz=128", "display_name": "Marven Wilson S Donque", "link": "https://stackoverflow.com/users/8019810/marven-wilson-s-donque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508896761, "creation_date": 1508889377, "last_edit_date": 1508891865, "question_id": 46921776, "link": "https://stackoverflow.com/questions/46921776/how-to-dynamically-select-an-object-to-a-add-property-js", "title": "How to dynamically select an object to a add property - js", "body": "<p>I have two objects. I want to add new properties to them, but I want to select first which object to use. Here's the desired logic :</p>\n\n<pre><code>let myFn = (function() {\n\n    // The Two Objects\n    let university = {}\n    let Person = {}\n\n    let AddNewPropTo = ( objName , new_objProp ) =&gt; {\n         return objName[new_objProp] = null;  // logic fail 1\n    }\n    let getProps = (objName) =&gt; {\n       return Object.getOwnPropertyNames(objName)\n    }\n\n    return {\n       AddNewPropTo,\n       getProps\n    }\n\n})();\n\n     myFn.AddNewPropTo('Person','Age'); // logic fail 2\n     myFn.getProps(Person) // Desired Output : Person = { Age : null }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic3", "provider", "cordova-nativestorage"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6736695, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/52fabf4a5c3b5b8eb4facaf4dbcbbcc4?s=128&d=identicon&r=PG&f=1", "display_name": "marilyn", "link": "https://stackoverflow.com/users/6736695/marilyn"}, "edited": false, "score": 0, "creation_date": 1508934716, "post_id": 46924444, "comment_id": 80811883, "body": "Thank you for your help, Cool it works thanks Paresh Gami. Good luck"}, {"owner": {"reputation": 59, "user_id": 6736695, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/52fabf4a5c3b5b8eb4facaf4dbcbbcc4?s=128&d=identicon&r=PG&f=1", "display_name": "marilyn", "link": "https://stackoverflow.com/users/6736695/marilyn"}, "edited": false, "score": 0, "creation_date": 1508969009, "post_id": 46924444, "comment_id": 80832920, "body": "Hi I can not not vote I still do not have enough reputation. Sorry"}], "tags": [], "owner": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "is_accepted": true, "score": 1, "last_activity_date": 1508908358, "creation_date": 1508908358, "answer_id": 46924444, "question_id": 46921618, "link": "https://stackoverflow.com/questions/46921618/ionic-3-native-storage-in-a-provider/46924444#46924444", "title": "ionic 3 native-storage in a provider", "body": "<p>You have to change your [(ngModel)] like below one</p>\n\n<pre><code>&lt;ion-item&gt;\n    &lt;ion-input type=\"text\" placeholder=\"Adresse du serveur\" [(ngModel)]=\"this.paramService.linkServer\"&gt;&lt;/ion-input&gt;\n&lt;/ion-item&gt;\n</code></pre>\n\n<p>You have add this with model <code>this.paramService.</code> You already added for button.</p>\n\n<p>Also you can remove below like from param page.ts</p>\n\n<pre><code>this.paramService.linkServer;\nthis.paramService.user;\nthis.paramService.password;\nthis.paramService.bienvenue;\nthis.paramService.notification;\nthis.paramService.vibration;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6736695, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/52fabf4a5c3b5b8eb4facaf4dbcbbcc4?s=128&d=identicon&r=PG&f=1", "display_name": "marilyn", "link": "https://stackoverflow.com/users/6736695/marilyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "accepted_answer_id": 46924444, "answer_count": 1, "score": 1, "last_activity_date": 1509059975, "creation_date": 1508888350, "last_edit_date": 1508888678, "question_id": 46921618, "link": "https://stackoverflow.com/questions/46921618/ionic-3-native-storage-in-a-provider", "title": "ionic 3 native-storage in a provider", "body": "<p>I implanted the cordova module \"native storage\" in a provider. But I can not send and retrieve the values of variables stored in native storage. Here is my code:</p>\n\n<p><strong>Page parameter.html</strong></p>\n\n<pre><code>&lt;ion-header&gt;\n\n  &lt;ion-navbar&gt;\n    &lt;ion-title&gt;Param\u00e9tres&lt;/ion-title&gt;\n  &lt;/ion-navbar&gt;\n\n&lt;/ion-header&gt;\n\n\n&lt;ion-content padding&gt;\n\n    &lt;ion-list&gt;\n    &lt;ion-list-header&gt;Connection Serveur&lt;/ion-list-header&gt;\n        &lt;ion-item-group margin-bottom&gt;\n          &lt;ion-item&gt;\n            &lt;ion-input type=\"text\" placeholder=\"Adresse du serveur\" [(ngModel)]=\"linkServer\"&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n            &lt;ion-input type=\"text\" placeholder=\"Nom d'utilisateur\" [(ngModel)]=\"user\"&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n            &lt;ion-input type=\"text\" placeholder=\"Mot de passe\" [(ngModel)]=\"password\"&gt;&lt;/ion-input&gt;\n          &lt;/ion-item&gt;\n        &lt;/ion-item-group&gt;\n\n        &lt;ion-list-header&gt;Options&lt;/ion-list-header&gt;\n        &lt;ion-item-group margin-bottom&gt;\n        &lt;ion-item&gt;\n                &lt;ion-label&gt;Message de bienvenue&lt;/ion-label&gt;\n                &lt;ion-toggle [(ngModel)]=\"bienvenue\"&gt;&lt;/ion-toggle&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n                &lt;ion-label&gt;Notification&lt;/ion-label&gt;\n                &lt;ion-toggle [(ngModel)]=\"notification\"&gt;&lt;/ion-toggle&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;s\n                &lt;ion-label&gt;Vibration&lt;/ion-label&gt;\n                &lt;ion-toggle [(ngModel)]=\"vibration\"&gt;&lt;/ion-toggle&gt;\n            &lt;/ion-item&gt;\n        &lt;/ion-item-group&gt;\n\n        &lt;button ion-button outline color=\"dark\" style=\"width: 100%\" (tap)=\"aPropos()\"&gt;A Propos&lt;/button&gt;\n    &lt;br /&gt;\n    &lt;button ion-button full color=\"dark\" (tap)=\"this.paramService.savePref()\"&gt;Enregistrer&lt;/button&gt;\n\n    &lt;button ion-button full color=\"dark\" (tap)=\"this.paramService.loadPref()\"&gt;Charger&lt;/button&gt;\n    &lt;/ion-list&gt;\n\n&lt;/ion-content&gt;\n</code></pre>\n\n<p><strong>Page Parameter.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController, NavParams, AlertController } from 'ionic-angular';\n\nimport { ParamProviders } from '../../providers/paramProviders';\n\n/**\n * Generated class for the ParameterPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-parameter',\n  templateUrl: 'parameter.html',\n})\n\nexport class ParameterPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private alertCtrl: AlertController, public paramService: ParamProviders) {\n  this.paramService.linkServer;\n  this.paramService.user;\n  this.paramService.password;\n  this.paramService.bienvenue;\n  this.paramService.notification;\n  this.paramService.vibration;\n  }\n\n\n\n  ionViewDidLoad() {\n  }\n\n  // ionViewWillEnter() {\n  //   this.paramService.loadPref()\n  // }\n\n  // ionViewWillLeave() {\n  //   this.paramService.preferences()\n  // }\n\n  aPropos() {\n    let alert = this.alertCtrl.create({\n      title: 'A Propos',\n      message: '&lt;b&gt;&lt;u&gt;Created by :&lt;/u&gt;&lt;/b&gt; Mezergues Romain et Thierry.&lt;br /&gt;&lt;b&gt;&lt;u&gt;Verson :&lt;/b&gt;&lt;/u&gt; 1.00&lt;br /&gt;&lt;b&gt;&lt;u&gt;Site web :&lt;/b&gt;&lt;/u&gt; &lt;a&gt;http://hackeet.com&lt;/a&gt;&lt;br /&gt;&lt;b&gt;&lt;u&gt;Email:&lt;/u&gt;&lt;/b&gt; &lt;email&gt;r.mezergues@protonmail.ch&lt;/email&gt;',\n      buttons: ['Ok']\n    });\n    alert.present()\n  }\n\n\n}\n</code></pre>\n\n<p><strong>paramProvider.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\n\nimport { NativeStorage } from '@ionic-native/native-storage';\n\n/*\n  Generated class for the PeopleSearch provider.\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n@Injectable()\nexport class ParamProviders {\n\n    linkServer: string ;\n    user: string;\n    password: string;\n    bienvenue: boolean;\n    notification: boolean;\n    vibration: boolean;\n\n  constructor(public http: Http, private nativeStorage: NativeStorage) {\n  }\n\npublic savePref(): void {\n    this.nativeStorage.setItem('storage_pref', {\n        linkServer: this.linkServer,\n        user: this.user,\n        password: this.password,\n        bienvenue: this.bienvenue,\n        notification: this.notification,\n        vibration: this.vibration\n    })\n    .then(\n      () =&gt; console.log(this.linkServer),\n      error =&gt; console.error('Error storing item', error)\n    );\n}\n\npublic loadPref():void {\n  this.nativeStorage.getItem('storage_pref')\n    .then(\n      data =&gt; {\n        this.linkServer = data.linkServer;\n        this.user = data.user;\n        this.password = data.password;\n        this.bienvenue = data.bienvenue;\n        this.notification = data.notification;\n        this.vibration = data.vibration;\n      },\n      error =&gt; console.error(error)\n  );\n}\n\n  // load() {\n  //   if (this.data1) {\n  //     return Promise.resolve(this.data1);\n  //   }\n  //   // Dont have the data yet\n  //   return new Promise(resolve =&gt; {\n  //     this.http.get('./assets/json/parameter.json')\n  //       .map(res =&gt; res.json())\n  //       .subscribe(data =&gt; {\n  //         this.data1 = data;\n  //         resolve(this.data1);\n  //       });\n  //   });\n  // }  \n\n}\n</code></pre>\n\n<p>I do not have an error when compiling on the browser or natively. I wish that when the form is filled, the values will be transmitted and saved in native-storage found in \"paramProviders.ts\", and then retrieve the saved values and use them on other pages.</p>\n\n<p>Cordially.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-cli", "angular-animations"], "answers": [{"tags": [], "owner": {"reputation": 1969, "user_id": 8077248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2NeIP.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/8077248/will"}, "is_accepted": true, "score": 0, "last_activity_date": 1510009379, "creation_date": 1510009379, "answer_id": 47147313, "question_id": 46921529, "link": "https://stackoverflow.com/questions/46921529/creating-a-reusable-animation-using-aot-compilation/47147313#47147313", "title": "Creating a reusable animation using AOT compilation", "body": "<p>That is a known issue tracked in the <a href=\"https://github.com/angular/angular/issues/15587\" rel=\"nofollow noreferrer\">official repo</a>. This issue occurs when using variables inside our function. A workaround is obtaining that result from another exported function:</p>\n\n<pre><code>export function flyInOut(enter: string, leave: string, duration?: number): AnimationMetadata {\n  return trigger('flyInOut', [\n    state('in', style({ transform: 'translateX(0)' })),\n    transition('void =&gt; *', [\n      style({ transform: getTranslate(enter) }),\n      animate(getDuration(duration)),\n    ]),\n    transition('* =&gt; void', [\n      animate(100, style({ transform: getTranslate(leave) })),\n    ]),\n  ]);\n}\n</code></pre>\n\n<p>In the example above, we call <code>getTranslate</code> and <code>getDuration</code> instead of using the <code>duration</code>, <code>enter</code> and <code>leave</code> variables. Then, we export those functions returning the proper value:</p>\n\n<pre><code>export function getDuration(duration: number): number {\n  return duration || 100;\n}\n\nexport function getTranslate(value: string): string {\n  return `translateX(${value}%)`;\n}\n</code></pre>\n"}], "owner": {"reputation": 1969, "user_id": 8077248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2NeIP.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/8077248/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 1, "accepted_answer_id": 47147313, "answer_count": 1, "score": 2, "last_activity_date": 1510009379, "creation_date": 1508887765, "question_id": 46921529, "link": "https://stackoverflow.com/questions/46921529/creating-a-reusable-animation-using-aot-compilation", "title": "Creating a reusable animation using AOT compilation", "body": "<p>I'm trying to create a reusable animation but I'm getting the following error when compiling my app with <a href=\"https://github.com/angular/angular-cli\" rel=\"nofollow noreferrer\">angular-cli</a>:</p>\n\n<p><code>Error encountered resolving symbol values statically. Calling function 'flyInOut', function calls are not supported. Consider replacing the function or lambda with a reference to an exported function</code></p>\n\n<p>It only happens when using AOT compilation, though. If I set the <code>aot</code> flag to <code>false</code>, then it works.</p>\n\n<p>Here's my function:</p>\n\n<pre><code>export function flyInOut(enter: string, leave: string, duration?: number): AnimationMetadata {\n  const timing: number = duration || 100;\n  return trigger('flyInOut', [\n    state('in', style({ transform: 'translateX(0)' })),\n    transition('void =&gt; *', [\n      style({ transform: `translateX(${enter})` }),\n      animate(timing),\n    ]),\n    transition('* =&gt; void', [\n      animate(timing, style({ transform: `translateX(${leave})` })),\n    ]),\n  ]);\n}\n</code></pre>\n\n<p>Any ideas on how to make it work with AOT compilation?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1685, "user_id": 1634595, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/095d02d8209268182e9d77ba3ac2d512?s=128&d=identicon&r=PG", "display_name": "Clinton J", "link": "https://stackoverflow.com/users/1634595/clinton-j"}, "edited": false, "score": 0, "creation_date": 1508888555, "post_id": 46921456, "comment_id": 80790681, "body": "There isn&#39;t though.  allObjects defined as an array of ReferenceObject, and it is mapped in the service layer directly from the REST API."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 1685, "user_id": 1634595, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/095d02d8209268182e9d77ba3ac2d512?s=128&d=identicon&r=PG", "display_name": "Clinton J", "link": "https://stackoverflow.com/users/1634595/clinton-j"}, "edited": false, "score": 0, "creation_date": 1508922592, "post_id": 46921456, "comment_id": 80803402, "body": "@ClintonJ basarat is correct here, you have not explicitly set your objects as an <b>instances</b> of your class <code>ReferenceObject</code>, therefore you don&#39;t have access to class methods. Related: <a href=\"https://stackoverflow.com/questions/43737654/observable-map-does-not-cast-to-typescript-class\" title=\"observable map does not cast to typescript class\">stackoverflow.com/questions/43737654/&hellip;</a>"}, {"owner": {"reputation": 1685, "user_id": 1634595, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/095d02d8209268182e9d77ba3ac2d512?s=128&d=identicon&r=PG", "display_name": "Clinton J", "link": "https://stackoverflow.com/users/1634595/clinton-j"}, "edited": false, "score": 0, "creation_date": 1508955362, "post_id": 46921456, "comment_id": 80825936, "body": "So even though allObjects was defined as an array of ReferenceObjects, and every member is a ReferenceObject, nextObject is not considered explicitly a ReferenceObject?  Or am I misunderstanding?"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 1685, "user_id": 1634595, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/095d02d8209268182e9d77ba3ac2d512?s=128&d=identicon&r=PG", "display_name": "Clinton J", "link": "https://stackoverflow.com/users/1634595/clinton-j"}, "edited": false, "score": 0, "creation_date": 1509012524, "post_id": 46921456, "comment_id": 80850006, "body": "@ClintonJ Well, have you assigned your response with only <code>allObjects : ReferenceObject[] = [];</code>? Like in the link I provided, that does not make them as <b>instances</b> of <code>ReferenceIbject</code>, you need to explicitly use for example <code>map</code> and map all properties separate, or like in the link I provided using <code>Object.assign</code>. Or make your constructor as such that you can just map them like <code>myResponse.map(x =&gt; new ReferenceObject(myResponse))</code>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 2, "last_activity_date": 1508887235, "creation_date": 1508887235, "answer_id": 46921456, "question_id": 46921431, "link": "https://stackoverflow.com/questions/46921431/typeerror-getposition-is-not-a-function/46921456#46921456", "title": "TypeError: getPosition is not a function", "body": "<p>You are looping <code>allObjects</code>: </p>\n\n<pre><code>this.allObjects.forEach ( nextObject =&gt; {\n</code></pre>\n\n<h1>Answer</h1>\n\n<p>Only logical reason is that there is at least one object in <code>allObjects</code> <em>that is not an instance of <code>ReferenceObject</code></em>. Hence the error.</p>\n"}, {"comments": [{"owner": {"reputation": 418, "user_id": 6922617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBTjn.jpg?s=128&g=1", "display_name": "Daniel H.J.", "link": "https://stackoverflow.com/users/6922617/daniel-h-j"}, "edited": false, "score": 0, "creation_date": 1508887386, "post_id": 46921458, "comment_id": 80790387, "body": "allObjects needs to be referenced to an array of ReferenceObject class so that each nextObject is a ReferenceObject."}, {"owner": {"reputation": 1685, "user_id": 1634595, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/095d02d8209268182e9d77ba3ac2d512?s=128&d=identicon&r=PG", "display_name": "Clinton J", "link": "https://stackoverflow.com/users/1634595/clinton-j"}, "reply_to_user": {"reputation": 418, "user_id": 6922617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBTjn.jpg?s=128&g=1", "display_name": "Daniel H.J.", "link": "https://stackoverflow.com/users/6922617/daniel-h-j"}, "edited": false, "score": 0, "creation_date": 1508888498, "post_id": 46921458, "comment_id": 80790669, "body": "@DanielH.J. It is."}], "tags": [], "owner": {"reputation": 1685, "user_id": 1634595, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/095d02d8209268182e9d77ba3ac2d512?s=128&d=identicon&r=PG", "display_name": "Clinton J", "link": "https://stackoverflow.com/users/1634595/clinton-j"}, "is_accepted": true, "score": 0, "last_activity_date": 1508887239, "creation_date": 1508887239, "answer_id": 46921458, "question_id": 46921431, "link": "https://stackoverflow.com/questions/46921431/typeerror-getposition-is-not-a-function/46921458#46921458", "title": "TypeError: getPosition is not a function", "body": "<p>I was able to get the code running by directy referencing the member variable instead of using a getter.  Specifically, I replaced all instances of nextObject.getPosition() with nextObject.position, but I'm still curious why calling the method didn't work.</p>\n"}], "owner": {"reputation": 1685, "user_id": 1634595, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/095d02d8209268182e9d77ba3ac2d512?s=128&d=identicon&r=PG", "display_name": "Clinton J", "link": "https://stackoverflow.com/users/1634595/clinton-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 46921458, "answer_count": 2, "score": 0, "last_activity_date": 1508888732, "creation_date": 1508887051, "last_edit_date": 1508888732, "question_id": 46921431, "link": "https://stackoverflow.com/questions/46921431/typeerror-getposition-is-not-a-function", "title": "TypeError: getPosition is not a function", "body": "<p>From my xx.model.ts:</p>\n\n<pre><code>export class ReferenceObject {\n  name: string;\n  position: Position;\n  public getPosition() : Member {\n    return this.position;\n  }\n}\n\nexport class Position {\n  latitude: number;\n  longitude: number;\n}\n</code></pre>\n\n<p>And from my map.component.ts:</p>\n\n<pre><code>allObjects : ReferenceObject[] = [];\n\n// allObjects is subscribed to an observable from xx.service.ts\n\nprivate renderReferenceObjects() {\n  var i = 0;\n  this.allObjects.forEach ( nextObject =&gt; {\n    this.objects[i] = this.viewer.entities.add ({\n      name : nextObject.name,\n      position : Cesium.Cartesian3.fromDegrees(nextObject.getPosition().longitude, nextObject.getPosition().latitude),\n      billboard : {\n        scale : 1.0,\n        image : 'assets/img.png'\n      }\n    });\n  }\n});\n</code></pre>\n\n<p>What is the problem?  Why can't I access this method?  It is set to public, and I can reference, for example, nextObject.name, as seen above, with no issues.  It is not until I get to the line where I try to access that member function that an error appears.</p>\n\n<p><strong>Note:</strong> I've reviewed the code and it looks right, but there might be typos; I had to make a lot of modifications when transcribing this code.  If there's some major typo that would prevent the code from transpiling or running at all, that is definitely not the cause of my problem, but please do point it out in the comments and I'll correct it.</p>\n\n<p><strong>Edit:</strong> Replacing all instances of nextObject.getPosition() with nextObject.position worked perfectly.  I'm still very curious about why that works but the method does not.</p>\n"}, {"tags": ["angular", "typescript", "caching", "ionic-framework", "promise"], "answers": [{"comments": [{"owner": {"reputation": 2507, "user_id": 2287557, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Hdh8F.jpg?s=128&g=1", "display_name": "ewizard", "link": "https://stackoverflow.com/users/2287557/ewizard"}, "edited": false, "score": 0, "creation_date": 1508888160, "post_id": 46921503, "comment_id": 80790589, "body": "great thanks...i actually have used this technique elsewhere in my app...ill try it - im pretty sure ur right, i kind of remember having this problem before"}], "tags": [], "owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "is_accepted": true, "score": 0, "last_activity_date": 1508888394, "last_edit_date": 1508888394, "creation_date": 1508887549, "answer_id": 46921503, "question_id": 46921321, "link": "https://stackoverflow.com/questions/46921321/then-function-of-promise-all-executing-before-promises-are-finished-ionic-an/46921503#46921503", "title": "then() function of Promise.all executing before promises are finished - Ionic/Angular", "body": "<p>I think the problem lies in this line</p>\n\n<pre><code>this.list.subscribe(items =&gt; {\n</code></pre>\n\n<p>Basically, list is still fetching when  </p>\n\n<pre><code>console.log(JSON.stringify(this.productListArray) + \" value...\n</code></pre>\n\n<p>is run. So I expect <code>promises_array</code> is empty (you can check that out).  </p>\n\n<p>You can sort that out by mapping <code>list</code> (either map() or flatMap(), need to check which) into an array of promises instead of pushing individual promises in.</p>\n\n<p>I think this is the map (or flatMap) code, but it needs testing. Note, lots of returns are required at every indent level.</p>\n\n<pre><code>const promises_array = this.list.map(items =&gt; {\n  return items.map(item =&gt; {\n    return new Promise((resolve, reject) =&gt; {\n      console.log(JSON.stringify(items[x].customMetadata) + \":   this is the customdata (((()()()()()\");\n      let storageRef = firebase.storage().ref().child('/settings/' + items[x].customMetadata.username + '/profilepicture.png');\n      return storageRef.getDownloadURL().then(url =&gt; {\n        console.log(url + \"in download url !!!!!!!!!!!!!!!!!!!!!!!!\");\n        items[x].customMetadata.profilepic = url;\n      }).catch((e) =&gt; {\n        console.log(\"in caught url !!!!!!!$$$$$$$!!\");\n        items[x].customMetadata.profilepic = 'assets/blankprof.png';\n      });\n      this.productListArray.push(items[x].customMetadata);\n    }));    \n  })\n}\nPromise.all(promises_array)\n  .then(() =&gt; {\n    console.log(JSON.stringify(this.productListArray) + \" value value vlaue productlistarray\");\n    this.productListArray.reverse();\n    this.cache.saveItem(cacheKey, this.productListArray);\n})\n</code></pre>\n"}], "owner": {"reputation": 2507, "user_id": 2287557, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Hdh8F.jpg?s=128&g=1", "display_name": "ewizard", "link": "https://stackoverflow.com/users/2287557/ewizard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 1, "accepted_answer_id": 46921503, "answer_count": 1, "score": 0, "last_activity_date": 1508888394, "creation_date": 1508886275, "last_edit_date": 1508886945, "question_id": 46921321, "link": "https://stackoverflow.com/questions/46921321/then-function-of-promise-all-executing-before-promises-are-finished-ionic-an", "title": "then() function of Promise.all executing before promises are finished - Ionic/Angular", "body": "<p>I am setting up caching for the first time with <code>ionic</code>. Here is the code:</p>\n\n<pre><code>listProducts(): Promise &lt; any &gt; {\n    let cacheKey = 'products';\n    this.cache.removeItem(cacheKey);\n    let promises_array:Array&lt;any&gt; = [];\n    let results;\n    return new Promise((resolve, reject) =&gt; {\n        this.cache.getItem(cacheKey).catch(() =&gt; {\n            this.list = this.af.list('/products');\n            this.subscription5 = this.list.subscribe(items =&gt; {\n                for (let x = 0; x &lt; items.length; x++) {\n                    promises_array.push(new Promise((resolve, reject) =&gt; {\n                        console.log(JSON.stringify(items[x].customMetadata) + \":   this is the customdata (((()()()()()\");\n                        let storageRef = firebase.storage().ref().child('/settings/' + items[x].customMetadata.username + '/profilepicture.png');\n                        storageRef.getDownloadURL().then(url =&gt; {\n                            console.log(url + \"in download url !!!!!!!!!!!!!!!!!!!!!!!!\");\n                            items[x].customMetadata.profilepic = url;\n                        }).catch((e) =&gt; {\n                            console.log(\"in caught url !!!!!!!$$$$$$$!!\");\n                            items[x].customMetadata.profilepic = 'assets/blankprof.png';\n                        });\n                        //this.startAtKey = item.$key;\n                        this.productListArray.push(items[x].customMetadata);\n                    }));\n                };\n            })\n            results = Promise.all(promises_array);\n            results.then(() =&gt; {\n                //setTimeout(() =&gt; {\n                console.log(JSON.stringify(this.productListArray) + \" value value vlaue productlistarray\");\n                this.productListArray.reverse();\n                return this.cache.saveItem(cacheKey, this.productListArray);\n                //}, 3000);\n            })\n        }).then(data =&gt; {\n            console.log(\"Saved data: \", data);\n            resolve();\n        })\n    })\n}\n</code></pre>\n\n<p>Basically the line <code>console.log(JSON.stringify(this.productListArray) + \" value value vlaue productlistarray\");</code> prints an empty array - <code>[]</code>. There should be data in this variable because the code shouldn't execute before all of the promises are done. You'll notice I have a <code>setTimeout</code> commented out - when I comment it in, it works - but this is obviously not an acceptable solution, I'm just showing that its a timing problem with the promises. Any help would be great.</p>\n"}, {"tags": ["typescript", "typescript-typings", "typescript-definitions"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1508894414, "post_id": 46921273, "comment_id": 80792057, "body": "There&#39;s nothing &quot;incorrect&quot; about the declared types being an interface as opposed to a class.  The entire TypeScript standard library is <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.5.3/lib/lib.d.ts#L850\" rel=\"nofollow noreferrer\">full</a> of <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.5.3/lib/lib.es2015.collection.d.ts#L31\" rel=\"nofollow noreferrer\">places</a> where class constructors are declared as interfaces."}, {"owner": {"reputation": 929, "user_id": 2928233, "user_type": "registered", "profile_image": "https://graph.facebook.com/1366214737/picture?type=large", "display_name": "Amit Beckenstein", "link": "https://stackoverflow.com/users/2928233/amit-beckenstein"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1509044857, "post_id": 46921273, "comment_id": 80871480, "body": "True, it&#39;s not incorrect, it&#39;s just not informative enough. Also, the problem with declaring <code>Duplexify</code> as an interface is that interfaces cannot have static members, which Duplexify has. Also, Duplexify shouldn&#39;t be implementable but extendable."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1509045256, "post_id": 46921273, "comment_id": 80871715, "body": "If you look at the standard library, they have pairs of interfaces: one for the instance type, which contains the instance methods and properties,  and one the constructor type, which contains the constructor methods and the static methods and properties.    But your point about using <code>extends</code> instead of <code>implements</code> is interesting.  I&#39;m not sure how to handle that."}, {"owner": {"reputation": 929, "user_id": 2928233, "user_type": "registered", "profile_image": "https://graph.facebook.com/1366214737/picture?type=large", "display_name": "Amit Beckenstein", "link": "https://stackoverflow.com/users/2928233/amit-beckenstein"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1509058316, "post_id": 46921273, "comment_id": 80877789, "body": "I&#39;m aware of the <code>interface XConstructor { new(...) }</code> and <code>interface X { }</code> definition style, but it doesn&#39;t suit my needs for this package&#39;s definitions."}, {"owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "edited": false, "score": 0, "creation_date": 1517879451, "post_id": 46921273, "comment_id": 84264967, "body": "Note that the Typescript documentation is now available <a href=\"https://www.typescriptlang.org/docs/home.html\" rel=\"nofollow noreferrer\">here</a>. Any documentation which may have been available on CodePlex is probably at least 3 years out of date."}, {"owner": {"reputation": 929, "user_id": 2928233, "user_type": "registered", "profile_image": "https://graph.facebook.com/1366214737/picture?type=large", "display_name": "Amit Beckenstein", "link": "https://stackoverflow.com/users/2928233/amit-beckenstein"}, "edited": false, "score": 0, "creation_date": 1517959093, "post_id": 46921273, "comment_id": 84305135, "body": "I know that, but it seemed useful at the time of asking the question. Some things are just not possible with TypeScript, such as declaring such class."}], "answers": [{"comments": [{"owner": {"reputation": 929, "user_id": 2928233, "user_type": "registered", "profile_image": "https://graph.facebook.com/1366214737/picture?type=large", "display_name": "Amit Beckenstein", "link": "https://stackoverflow.com/users/2928233/amit-beckenstein"}, "edited": false, "score": 0, "creation_date": 1508887944, "post_id": 46921357, "comment_id": 80790529, "body": "That seems nice but sadly it doesn&#39;t help because <code>Instance</code> and <code>F</code> are <code>interface</code>s, and I need <code>Duplexify</code> to be a class.  Also, it has a static function which cannot be contained in any type besides class, and it extends <code>stream.Duplex</code> which is a class itself, therefore there&#39;s no sense in defining <code>Duplexify</code> as an interface."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 929, "user_id": 2928233, "user_type": "registered", "profile_image": "https://graph.facebook.com/1366214737/picture?type=large", "display_name": "Amit Beckenstein", "link": "https://stackoverflow.com/users/2928233/amit-beckenstein"}, "edited": false, "score": 1, "creation_date": 1508895381, "post_id": 46921357, "comment_id": 80792314, "body": "Interfaces and classes are totally different universes of things. Every class <i>has</i> an type, i.e. TypeScript&#39;s representation of it. The class itself is a value, for which the type is described by you using type annotations (interfaces, <code>type</code> declarations), or inferred from the value expression by the TypeScript type checker. So an interface/type declaration is always used as a complement to a class (or for that matter any other JS value), not as a substitute."}, {"owner": {"reputation": 929, "user_id": 2928233, "user_type": "registered", "profile_image": "https://graph.facebook.com/1366214737/picture?type=large", "display_name": "Amit Beckenstein", "link": "https://stackoverflow.com/users/2928233/amit-beckenstein"}, "edited": false, "score": 0, "creation_date": 1509044696, "post_id": 46921357, "comment_id": 80871390, "body": "I&#39;m aware of that, which is exactly why I can&#39;t use your solution which suggests using interfaces. I need Duplexify to be defined as a class therefore <code>new</code>able <b>and</b> extendable instead of implementable, and also for it to be callable."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 929, "user_id": 2928233, "user_type": "registered", "profile_image": "https://graph.facebook.com/1366214737/picture?type=large", "display_name": "Amit Beckenstein", "link": "https://stackoverflow.com/users/2928233/amit-beckenstein"}, "edited": false, "score": 1, "creation_date": 1509045591, "post_id": 46921357, "comment_id": 80871925, "body": "@AmitB. Duplexify can be defined as a class <i>and</i> described using a type declaration. They are not mutually exclusive alternatives; they are of necessity complementary."}], "tags": [], "owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "is_accepted": false, "score": 4, "last_activity_date": 1508886466, "creation_date": 1508886466, "answer_id": 46921357, "question_id": 46921273, "link": "https://stackoverflow.com/questions/46921273/typescript-typings-for-a-class-which-is-new-able-and-callable/46921357#46921357", "title": "TypeScript typings for a class which is new-able and callable", "body": "<p>Yes, it is possible to declare a type signature for a function that can be both instantiated and invoked:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Instance = { b: number }\ntype F = { (arg: string): Instance } &amp; { new (arg: string): Instance }\n</code></pre>\n\n<p>A reference of type <code>F</code> can be both instantiated and invoked:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare const f: F\n\n// Both of the following will compile\n(new f(\"foo\")).b\nf(\"foo\").b\n</code></pre>\n"}], "owner": {"reputation": 929, "user_id": 2928233, "user_type": "registered", "profile_image": "https://graph.facebook.com/1366214737/picture?type=large", "display_name": "Amit Beckenstein", "link": "https://stackoverflow.com/users/2928233/amit-beckenstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1418, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509131434, "creation_date": 1508885937, "last_edit_date": 1509131434, "question_id": 46921273, "link": "https://stackoverflow.com/questions/46921273/typescript-typings-for-a-class-which-is-new-able-and-callable", "title": "TypeScript typings for a class which is new-able and callable", "body": "<p>I'm currently editing the typings for <a href=\"https://github.com/mafintosh/duplexify\" rel=\"nofollow noreferrer\">Duplexify</a>.</p>\n\n<p>As you can see in <a href=\"https://github.com/mafintosh/duplexify/blob/master/index.js#L33\" rel=\"nofollow noreferrer\">Duplexify's source code</a>, <code>Duplexify</code> can be either be a function which returns a new <code>Duplexify</code> instance, or a constructor.</p>\n\n<p>In <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/duplexify/index.d.ts#L11\" rel=\"nofollow noreferrer\">Duplexify's current typings</a>, <code>Duplexify</code> is considered an interface rather than a class, which is incorrect but enables defining it as either a function or a constructor.</p>\n\n<p>Is it possible to define <code>Duplexify</code> as a class with a constructor (therefore <code>new</code>-able) and as a function (therefore callable) at the same time?</p>\n\n<p><strong>EDIT</strong>: I found <a href=\"https://typescript.codeplex.com/wikipage?title=Writing%20Definition%20%28.d.ts%29%20Files\" rel=\"nofollow noreferrer\">the following article</a> in TypeScript's documentations. If you look under \"New + callable methods\" and \"Single Complex Object in External Modules\" you'd see that it pretty much answers my question, the only problem is that trying to implement that I had the following error:</p>\n\n<p>Implementation:</p>\n\n<pre><code>import * as stream from \"stream\";\n\ndeclare function Duplexify(writable?: stream.Writable, readable?: stream.Readable, streamOptions?: stream.DuplexOptions): Duplexify;\ndeclare module Duplexify {\n    var obj: (writable?: stream.Writable, readable?: stream.Readable, streamOptions?: stream.DuplexOptions) =&gt; Duplexify;\n}\ninterface Duplexify extends stream.Duplex {\n    new(writable?: stream.Writable, readable?: stream.Readable, streamOptions?: stream.DuplexOptions): Duplexify;\n\n    readonly destroyed: boolean;\n\n    setWritable(writable: stream.Writable): void;\n    setReadable(readable: stream.Readable): void;\n    destroy(): void;\n}\n\nexport = Duplexify;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>import { Duplexify } from 'duplexify';\nconst d: Duplexify = new Duplexify(); // errors\n</code></pre>\n\n<p>Errors are:</p>\n\n<blockquote>\n  <p>[ts] Only a void function can be called with the 'new' keyword.</p>\n</blockquote>\n\n<p>and:</p>\n\n<blockquote>\n  <p>[ts] 'new' expression, whose target lacks a construct signature, implicitly has an 'any' type.</p>\n</blockquote>\n\n<p>Any ideas?</p>\n"}, {"tags": ["typescript", "firebase", "angularfire"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 2503480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/844f72a275538f89fa4860dd47c43fa6?s=128&d=identicon&r=PG", "display_name": "user2503480", "link": "https://stackoverflow.com/users/2503480/user2503480"}, "is_accepted": false, "score": 0, "last_activity_date": 1508894622, "creation_date": 1508894622, "answer_id": 46922475, "question_id": 46921127, "link": "https://stackoverflow.com/questions/46921127/angularfire2-v5-not-binding-the-key-property/46922475#46922475", "title": "AngularFire2 v5 not binding the $key property", "body": "<p>They did away with the $key approach in version 5. Here are more details</p>\n\n<p><a href=\"https://github.com/angular/angularfire2/blob/master/docs/version-5-upgrade.md\" rel=\"nofollow noreferrer\">https://github.com/angular/angularfire2/blob/master/docs/version-5-upgrade.md</a></p>\n"}], "owner": {"reputation": 91, "user_id": 2503480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/844f72a275538f89fa4860dd47c43fa6?s=128&d=identicon&r=PG", "display_name": "user2503480", "link": "https://stackoverflow.com/users/2503480/user2503480"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1508894622, "creation_date": 1508885025, "question_id": 46921127, "link": "https://stackoverflow.com/questions/46921127/angularfire2-v5-not-binding-the-key-property", "title": "AngularFire2 v5 not binding the $key property", "body": "<p>I am retrieving a list of users using angular fire like this:</p>\n\n<p><code>this.db.list&lt;IUser&gt;(\"usersinteam/04f27419-f466-4c5e-9816-fbf120713c4e\").valueChanges&lt;IUser&gt;().subscribe( \n       res =&gt; console.log (res), \n       error =&gt; console.log (error), \n       () =&gt; console.log (\"complete\") );</code></p>\n\n<p>where the IUser interface in typescript looks like this:</p>\n\n<p><code>export interface IUser{\n    $key: string,\n    name: string,\n    moto: string\n}</code></p>\n\n<p>And the firebase json structure looks like this:\n<code>{\n  \"04f27419-f466-4c5e-9816-fbf120713c4e\" : {\n    \"2b395659-26f4-4c5c-a1b2-fd492d51ff5d\" : {\n      \"moto\" : \"Nah!\",\n      \"name\" : \"Maria\"\n    },\n    \"6b5c19b0-f176-4af1-ab19-ae7ec4c06a5a\" : {\n      \"moto\" : \"Yeah!\",\n      \"name\" : \"David\"\n    },\n    \"ee067245-f085-4c33-acaa-a16deb945cee\" : {\n      \"moto\" : \"wrecking ball\",\n      \"name\" : \"Ian\"\n    }\n  }\n}\n</code>\nI am getting a list of IUser objects with the name and moto properties populated correctly. But the $key property is undefined. I was expecting to see the $key property set to the key for each user. How can I achieve this?</p>\n"}, {"tags": ["typescript", "tsconfig", "transpiler"], "comments": [{"owner": {"reputation": 3095, "user_id": 4811678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r7uKZWJH11w/AAAAAAAAAAI/AAAAAAAAAHM/z23Cohreq6o/photo.jpg?sz=128", "display_name": "Will Howell", "link": "https://stackoverflow.com/users/4811678/will-howell"}, "edited": false, "score": 0, "creation_date": 1516889384, "post_id": 46920605, "comment_id": 83881201, "body": "I&#39;m having a similar issue. Were you ever able to figure it out?"}], "owner": {"reputation": 41, "user_id": 2883196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc16bf7ec2173594172ec3ec864e8c37?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-Guy", "link": "https://stackoverflow.com/users/2883196/jean-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 653, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1508884584, "creation_date": 1508881741, "last_edit_date": 1508882218, "question_id": 46920605, "link": "https://stackoverflow.com/questions/46920605/paths-property-in-tsconfig-doesnt-work", "title": "Paths property in tsconfig doesn&#39;t work", "body": "<p>I'm trying to use paths property in my tsconfig.json file.</p>\n\n<p>It makes the build work perfectly but execution of generated js is failing.</p>\n\n<p>My tsconfig.json:</p>\n\n<pre><code>{\n    \"compileOnSave\": false,\n    \"compilerOptions\": {\n        \"outDir\": \"./dist\",\n        \"baseUrl\": \"./src\",\n        \"paths\": {\n            \"core/*\": [\n                \"core/*\"\n            ]\n        },\n        \"sourceMap\": true,\n        \"declaration\": false,\n        \"moduleResolution\": \"node\",\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"target\": \"es5\",\n        \"typeRoots\": [\n            \"node_modules/@types\"\n        ]\n    },\n    \"include\": [\n        \"src/**/*\"\n    ]\n}\n</code></pre>\n\n<p>src/core/service.ts:</p>\n\n<pre><code>export class Service {\n    public static log(message: string) {\n        console.log('message', message);\n    }\n}\n</code></pre>\n\n<p>src/core/index.ts:</p>\n\n<pre><code>export * from './service';\n</code></pre>\n\n<p>src/index.ts:</p>\n\n<pre><code>import { Service } from 'core';\n\nService.log('test');\n</code></pre>\n\n<p>The build is working perfectly</p>\n\n<p>But running dist\\index.js I obtain:</p>\n\n<p><strong>Error: Cannot find module 'core'</strong></p>\n\n<p>Am I doing something wrong?</p>\n\n<p>I made a repo to illustrate this:\n<a href=\"https://github.com/BUONJG/typescript-paths.git\" rel=\"nofollow noreferrer\">https://github.com/BUONJG/typescript-paths.git</a></p>\n\n<p>Many thanks for your support,</p>\n\n<p>Jean-Guy</p>\n"}, {"tags": ["typescript", "vue.js"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1508882128, "post_id": 46920603, "comment_id": 80788831, "body": "Are you still importing <code>Vue</code>?"}, {"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1508882722, "post_id": 46920603, "comment_id": 80789043, "body": "yes, updated code..."}, {"owner": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "edited": false, "score": 0, "creation_date": 1508898810, "post_id": 46920603, "comment_id": 80793197, "body": "What is the verbatim error message?"}, {"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "reply_to_user": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "edited": false, "score": 0, "creation_date": 1508899171, "post_id": 46920603, "comment_id": 80793301, "body": "@stealththeninja screen shots of the errors...."}], "answers": [{"tags": [], "owner": {"reputation": 2814, "user_id": 3294944, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fg8tK.jpg?s=128&g=1", "display_name": "stealththeninja", "link": "https://stackoverflow.com/users/3294944/stealththeninja"}, "is_accepted": false, "score": 0, "last_activity_date": 1508899716, "creation_date": 1508899716, "answer_id": 46923146, "question_id": 46920603, "link": "https://stackoverflow.com/questions/46920603/vue-http-causes-error-when-using-typescript/46923146#46923146", "title": "Vue.http causes error when using typescript", "body": "<p>Vue.js includes type definitions in the project (<a href=\"https://github.com/vuejs/vue/blob/master/types/vue.d.ts\" rel=\"nofollow noreferrer\"><code>types/vue.d.ts</code></a>) but it would seem VueResource does not yet. To get started, I think creating a custom <code>vue-resource.d.ts</code> (or <code>vue-resource.types.ts</code> and import it) with definitions that extend Vue's types and adding it to your project could resolve the issue.</p>\n"}], "owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508899716, "creation_date": 1508881735, "last_edit_date": 1508899118, "question_id": 46920603, "link": "https://stackoverflow.com/questions/46920603/vue-http-causes-error-when-using-typescript", "title": "Vue.http causes error when using typescript", "body": "<p>so I've just changed my project from js to typescript, and I have the following code that sets up vue resouce :-</p>\n\n<pre><code>import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport VueResource from 'vue-resource'\n\nVue.use(VueResource)\nVue.http.headers.common['Content-Type'] = 'application/json'\n</code></pre>\n\n<p>however typescript throws an error on the <code>.http</code>.  Is there a standard way to fix this? Is there a way to let typescript know it exists?</p>\n\n<p>In other files they access <code>Vue.http</code> as well but only get at http by importing Vue</p>\n\n<p>The error is :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/rvHzO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rvHzO.png\" alt=\"enter image description here\"></a></p>\n\n<p>or in the compiler</p>\n\n<p><a href=\"https://i.stack.imgur.com/CbD3D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CbD3D.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "promise"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 2, "creation_date": 1508880145, "post_id": 46920146, "comment_id": 80788023, "body": "TypeScript does not have promises. So it can&#39;t be the case that &quot;TypeScript promises [are] not executing correctly&quot;. Promises are part of the standard JS library. For more help in debugging your code, please provide a minimal example, with everything non-essential stripped out. No one here has time to look over nearly a hundred lines of your code."}, {"owner": {"reputation": 107, "user_id": 782971, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f4ca2a0be74caf72a933d8a7dae7594?s=128&d=identicon&r=PG", "display_name": "sanchin", "link": "https://stackoverflow.com/users/782971/sanchin"}, "edited": false, "score": 0, "creation_date": 1508880843, "post_id": 46920146, "comment_id": 80788351, "body": "Thank you for your comment. I have pared down the code to make it a bit more concise."}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1508882094, "post_id": 46920146, "comment_id": 80788815, "body": "you aren&#39;t waiting for <code>getBookmarkList</code> to complete"}, {"owner": {"reputation": 107, "user_id": 782971, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f4ca2a0be74caf72a933d8a7dae7594?s=128&d=identicon&r=PG", "display_name": "sanchin", "link": "https://stackoverflow.com/users/782971/sanchin"}, "reply_to_user": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1508882230, "post_id": 46920146, "comment_id": 80788868, "body": "How do I wait for getBookmarkList to complete? Javascript noob :("}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 1, "creation_date": 1508882308, "post_id": 46920146, "comment_id": 80788900, "body": "I&#39;m used to await/async, but I think adding a return here: <code>return bookmarkSvc.getBookmarkList...</code> should work"}, {"owner": {"reputation": 107, "user_id": 782971, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f4ca2a0be74caf72a933d8a7dae7594?s=128&d=identicon&r=PG", "display_name": "sanchin", "link": "https://stackoverflow.com/users/782971/sanchin"}, "reply_to_user": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1508882866, "post_id": 46920146, "comment_id": 80789090, "body": "@vu1p3n0x thank you for that. That has resolved the issue. If you can add the same comment as an answer I will accept it. :) Also can you explain why that &quot;return&quot; statement had to be added?"}, {"owner": {"reputation": 107, "user_id": 782971, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f4ca2a0be74caf72a933d8a7dae7594?s=128&d=identicon&r=PG", "display_name": "sanchin", "link": "https://stackoverflow.com/users/782971/sanchin"}, "reply_to_user": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1508884058, "post_id": 46920146, "comment_id": 80789500, "body": "Also any comment on why the error that I am getting doesnt happen in all my environments? I was getting the error sporadically on my local and consistently on a server where the app was deployed."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 782971, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f4ca2a0be74caf72a933d8a7dae7594?s=128&d=identicon&r=PG", "display_name": "sanchin", "link": "https://stackoverflow.com/users/782971/sanchin"}, "edited": false, "score": 0, "creation_date": 1508940254, "post_id": 46921359, "comment_id": 80816182, "body": "Thank you for the explanation about why it is happening only in certain environments."}], "tags": [], "owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "is_accepted": true, "score": 1, "last_activity_date": 1508886480, "creation_date": 1508886480, "answer_id": 46921359, "question_id": 46920146, "link": "https://stackoverflow.com/questions/46920146/promises-not-executing-correctly/46921359#46921359", "title": "Promises not executing correctly", "body": "<p><em>upgrading comments into an answer</em></p>\n\n<p>You aren't waiting for <code>getBookmarkList</code> to complete; you are launching it in your <code>.then()</code> but it returns immediately, resolving the promise. </p>\n\n<p>You should return the promise from <code>getBookmarkList</code> to make the promise propagate. </p>\n\n<p>As to your comment about why it would happen sporadically depending on the environment: <em>you are in race-condition territory</em>. If at least one were to complete <code>getSheetList</code> and <code>getBookmarkList</code> before they all did just <code>getSheetList</code> then it'd be able to add an item to <code>qlikAppList</code> before the check. Factors like cpu speed, network speed/latency, OS threading, and precisely how the promises are resolved would all affect the timing. </p>\n"}], "owner": {"reputation": 107, "user_id": 782971, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f4ca2a0be74caf72a933d8a7dae7594?s=128&d=identicon&r=PG", "display_name": "sanchin", "link": "https://stackoverflow.com/users/782971/sanchin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 46921359, "answer_count": 1, "score": -2, "last_activity_date": 1508886480, "creation_date": 1508879828, "last_edit_date": 1508881700, "question_id": 46920146, "link": "https://stackoverflow.com/questions/46920146/promises-not-executing-correctly", "title": "Promises not executing correctly", "body": "<p>Below is the typescript code that runs on application load. The idea is to execute getSheetList method and then run getBookmarkList and then populate the qlikAppList array.</p>\n\n<p>If the qlikAppList array is empty at the end of it, the application is to return an error message \"No sheets exist in any of the apps in stream.\"</p>\n\n<p>On my local machine this works correctly most of the time, every once in a while it throws that error. This code was deployed to a server and the error message is thrown every time. </p>\n\n<p>What is wrong here?</p>\n\n<pre><code>app.runGetAppList().then((appList: IMasterItem[]) =&gt; {\n            let promiseArray: Promise&lt;void&gt;[] = [];\n            _.each(appList, (appItem) =&gt; {\n                let appInfo = { //few fields };\n                promiseArray.push(qlik.getSheetList(appItem.id).then((sheetsInfo) =&gt; {\n                    if (sheetsInfo.length &gt; 0) {//populate appInfo}\n                }).then(() =&gt; {\n                    bookmarkSvc.getBookmarkList(appItem.id).then((bookmarksInfo) =&gt; {\n                        if (bookmarksInfo.length &gt; 0) {//populate appInfo}\n                        this.qlikAppList.push(appInfo);\n                    });\n                }));\n            });\n            Promise.all(promiseArray).then(() =&gt; {\n                this.initializeScreen(this.qlikAppList.length &gt; 0 ? undefined : \n\"No sheets exist in any of the apps in stream.\");                    \n            });\n\npublic getSheetList(appId): Promise&lt;QlikSheetInfo[]&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        currentApp.qlikApp.getList(\"sheet\", (sheetList) =&gt; {\n            resolve(sheetList.qAppObjectList.qItems.map((qItem) =&gt; {\n                return {\n                    //some fields\n                };\n            }));\n        });\n    });\n}\n\npublic getBookmarkList(appId): Promise&lt;QlikBookmarkInfo[]&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        currentApp.qlikApp.getList(\"BookmarkList\", (bookmarkList) =&gt; {\n            resolve(bookmarkList.qBookmarkList.qItems.map((qItem) =&gt; {\n                return {\n                    //some fields\n                };\n            }));\n        });\n    });\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2", "cordova-plugins"], "answers": [{"comments": [{"owner": {"reputation": 1757, "user_id": 791799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c279919bca8edc5bb9556511383e7da0?s=128&d=identicon&r=PG", "display_name": "Jacob Nelson", "link": "https://stackoverflow.com/users/791799/jacob-nelson"}, "edited": false, "score": 0, "creation_date": 1521801389, "post_id": 46920421, "comment_id": 85896923, "body": "This must be the accepted answer. In many places, people are talking about window.plugins.yourplugin.method, but, that is unnecessary and results in error."}, {"owner": {"reputation": 201, "user_id": 7130002, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gAwU-s4_tfU/AAAAAAAAAAI/AAAAAAAAABU/UzExlL_F1r4/photo.jpg?sz=128", "display_name": "Vikas Krishnan", "link": "https://stackoverflow.com/users/7130002/vikas-krishnan"}, "edited": false, "score": 0, "creation_date": 1591689447, "post_id": 46920421, "comment_id": 110142934, "body": "where to add this ? Can anyone help me please"}, {"owner": {"reputation": 467, "user_id": 8888713, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6rJQwHg43B0/AAAAAAAAAAI/AAAAAAAASDA/Y0Z5Oq8RlZo/photo.jpg?sz=128", "display_name": "cyperpunk", "link": "https://stackoverflow.com/users/8888713/cyperpunk"}, "reply_to_user": {"reputation": 201, "user_id": 7130002, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gAwU-s4_tfU/AAAAAAAAAAI/AAAAAAAAABU/UzExlL_F1r4/photo.jpg?sz=128", "display_name": "Vikas Krishnan", "link": "https://stackoverflow.com/users/7130002/vikas-krishnan"}, "edited": false, "score": 0, "creation_date": 1607425643, "post_id": 46920421, "comment_id": 115262518, "body": "@VikasKrishnan Add this inside plugin.xml file of your custom cordova plugin"}], "tags": [], "owner": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "is_accepted": false, "score": 2, "last_activity_date": 1508880901, "creation_date": 1508880901, "answer_id": 46920421, "question_id": 46920107, "link": "https://stackoverflow.com/questions/46920107/add-custom-user-defined-cordova-plugin-in-ionic2-with-typescript-not-working/46920421#46920421", "title": "Add custom user defined Cordova plugin in ionic2 with typescript not working", "body": "<p>Your own plugin is not part of <code>ionic-native</code> so you cannot import it from <code>ionic-native</code>. In your <code>plugin.xml</code> you should have a <code>js-module</code> element which looks something like this:</p>\n\n<pre><code>&lt;js-module src=\"www/yourplugin.js\" name=\"yourplugin\"&gt;\n  &lt;clobbers target=\"window.plugins.yourplugin\"/&gt;\n&lt;/js-module&gt;\n</code></pre>\n\n<p>If you want to use this plugin you have to tell typescript that <code>yourplugin</code> will exist at runtime. You do this with this line of code: </p>\n\n<pre><code>declare var yourplugin;\n</code></pre>\n\n<p>You have to add this line in every typescript class where you want to use your plugin at the same level as your imports.</p>\n\n<p>The documentation for <code>js-module</code> and <code>clobbers</code> is available <a href=\"https://cordova.apache.org/docs/en/7.x/plugin_ref/spec.html#js-module\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 7805132, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/51cb3ea457569560f0a9f09f51f06d91?s=128&d=identicon&r=PG&f=1", "display_name": "deepak", "link": "https://stackoverflow.com/users/7805132/deepak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508880901, "creation_date": 1508879662, "question_id": 46920107, "link": "https://stackoverflow.com/questions/46920107/add-custom-user-defined-cordova-plugin-in-ionic2-with-typescript-not-working", "title": "Add custom user defined Cordova plugin in ionic2 with typescript not working", "body": "<p>I have created custom Cordova plugin. I want to use that plugin into ionic2 that uses typescript and angular 2. I am able to add the plugin into ionic 2 project. But call of methods defined in plugin .Java classes does't work. If class imported in following way:\nimport Hello from '@ionic-native/hello';</p>\n\n<p>It gives an error \"Cannot find module '@ionic-native/hello'\".\nPlease let me know the way to use plugin in ionic 2.</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 11354, "user_id": 1549541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed8b6f7fe07ba163a4da48c615542d71?s=128&d=identicon&r=PG", "display_name": "MinusFour", "link": "https://stackoverflow.com/users/1549541/minusfour"}, "edited": false, "score": 0, "creation_date": 1508878546, "post_id": 46919821, "comment_id": 80787214, "body": "The array is fine, there are no <code>Coin</code> in the array though"}, {"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 0, "creation_date": 1508878560, "post_id": 46919821, "comment_id": 80787227, "body": "<code>test[0]</code> is <code>null</code> or <code>undefined</code> - <code>null.Stats</code> will result in an error. You need something at the first index - such as <code>test[0] = {};</code>"}, {"owner": {"reputation": 2258, "user_id": 6168519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e37eef36247051d9b713ebd68468b12?s=128&d=identicon&r=PG&f=1", "display_name": "Sparrow", "link": "https://stackoverflow.com/users/6168519/sparrow"}, "edited": false, "score": 0, "creation_date": 1508878693, "post_id": 46919821, "comment_id": 80787305, "body": "add a new Coin to the test array before the assignment statement"}, {"owner": {"reputation": 15, "user_id": 1176311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/697709f95be8f91670d5973ed79de7b5?s=128&d=identicon&r=PG", "display_name": "James Tucker", "link": "https://stackoverflow.com/users/1176311/james-tucker"}, "edited": false, "score": 0, "creation_date": 1508878857, "post_id": 46919821, "comment_id": 80787399, "body": "It&#39;s been a long day, thank you so much for the assistance!"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 1176311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/697709f95be8f91670d5973ed79de7b5?s=128&d=identicon&r=PG", "display_name": "James Tucker", "link": "https://stackoverflow.com/users/1176311/james-tucker"}, "edited": false, "score": 1, "creation_date": 1508878993, "post_id": 46919947, "comment_id": 80787481, "body": "Thanks again, yeah I forgot the Coin assignment! Cheers"}], "tags": [], "owner": {"reputation": 6586, "user_id": 881032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/39c20ce29b213acf91e9339ed3ebc5a7?s=128&d=identicon&r=PG", "display_name": "lumio", "link": "https://stackoverflow.com/users/881032/lumio"}, "is_accepted": true, "score": 0, "last_activity_date": 1508878914, "creation_date": 1508878914, "answer_id": 46919947, "question_id": 46919821, "link": "https://stackoverflow.com/questions/46919821/cannot-read-property-undefined-typescript-assigning-class-array-issue/46919947#46919947", "title": "Cannot read property undefined, typescript assigning class array issue", "body": "<p><code>let test: Array &lt; Coin &gt; = new Array &lt; Coin &gt; ();</code> is just calling the constructor of <code>Array</code> and is not creating an instance of <code>Coin</code>.</p>\n\n<p>Try <code>const test: Array &lt; Coin &gt; = [ new Coin() ];</code></p>\n"}], "owner": {"reputation": 15, "user_id": 1176311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/697709f95be8f91670d5973ed79de7b5?s=128&d=identicon&r=PG", "display_name": "James Tucker", "link": "https://stackoverflow.com/users/1176311/james-tucker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "accepted_answer_id": 46919947, "answer_count": 1, "score": 0, "last_activity_date": 1508878914, "creation_date": 1508878390, "last_edit_date": 1508878674, "question_id": 46919821, "link": "https://stackoverflow.com/questions/46919821/cannot-read-property-undefined-typescript-assigning-class-array-issue", "title": "Cannot read property undefined, typescript assigning class array issue", "body": "<p>Here is the code: </p>\n\n<pre><code>interface Statistics {\n  id: string;\n  name: string;\n  symbol: string;\n  rank: string;\n}\nclass Coin {\n  private _stats: Array &lt; Statistics &gt; ;\n\n  constructor() {\n    this._stats = new Array &lt; Statistics &gt; ();\n  }\n\n  set Stats(val: Array &lt; Statistics &gt; ) {\n    this._stats = val;\n  }\n\n  get Stats() {\n    return this._stats;\n  }\n}\n\nlet test: Array &lt; Coin &gt; = new Array &lt; Coin &gt; ();\n\ntest[0].Stats = results; // results is an array of type stats\n\nconsole.log(test[0].Stats);\n</code></pre>\n\n<p>When I try to assign the result to test[0].Stats there is an error thrown:</p>\n\n<p>TypeError: Cannot read property 'Stats' of undefined</p>\n\n<p>What is the issue here? From the looks of it I have correctly allocated the Array of Coin class?</p>\n"}, {"tags": ["angular", "typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 8718924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lr1WE.jpg?s=128&g=1", "display_name": "thk", "link": "https://stackoverflow.com/users/8718924/thk"}, "edited": false, "score": 0, "creation_date": 1508915733, "post_id": 46922288, "comment_id": 80799085, "body": "thanks for your answer, I&#39;ll try to explain a little bit more: I have several model objects wich are deserialized from a big JSON. And I want to populate the arrays properties using this, that&#39;s why I want a baseclass to do the job, my original set code looks like this :  <code>set equipments(value: any) {     if (this._equipments == null) {       this._equipments = [];       for (let i in value) {         this._equipments.push(new ReturnableEquipment(value[i]));       }     }   }</code>"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1508893406, "creation_date": 1508893406, "answer_id": 46922288, "question_id": 46919196, "link": "https://stackoverflow.com/questions/46919196/instantiate-generic-object-from-type-of/46922288#46922288", "title": "Instantiate generic object from type of", "body": "<p>I'm not sure how the rest of your code is supposed to work, but you have to pass in a <em>constructor</em> of a type to be able to construct an instance of the type.  </p>\n\n<hr>\n\n<p>Let's examine the signature of the <code>create()</code> function:</p>\n\n<pre><code>declare function create&lt;T&gt;(type: { new(p: any): T }, val: any): T;\n</code></pre>\n\n<p>This is a generic function that works for any <em>type</em> <code>T</code> the caller wants.  The (unfortunately named) <code>type</code> parameter is a <em>constructor</em> object that you call with <code>new</code>, and which returns a value of type <code>T</code>.  It is an <em>object</em> that exists at runtime, not a <em>type</em> that exists only at design/compile time.  </p>\n\n<p>It is a confusing but useful practice to use the same name for a class constructor object and the type of an instance of the class:</p>\n\n<pre><code>class Foo {};\n</code></pre>\n\n<p>This creates both a class constructor object named <code>Foo</code> that exists at runtime, <em>and</em> an instance type named <code>Foo</code> that exists at design time:</p>\n\n<pre><code>const foo: Foo = new Foo();\n</code></pre>\n\n<p>The first <code>Foo</code> is the type, and the second <code>Foo</code> is the class constructor.  This gets transpiled into something like:</p>\n\n<pre><code>var foo = new Foo();\n</code></pre>\n\n<p>Notice that the type named <code>Foo</code> is completely gone, since it exists only at design time.  The point is: even though you often have constructor objects with the same name as types, they are not interchangeable.  A generic type parameter is a type, not a constructor object.</p>\n\n<hr>\n\n<p>Okay now let's see what you're passing into <code>create()</code>:</p>\n\n<pre><code>this.create(T, i)\n</code></pre>\n\n<p>Hmm, what's <code>T</code>?  It's the type parameter of the generic <code>init()</code> method.  So it is only the name of a design-time type, not the name of a runtime object.  This can never work.  Instead, as above, you need to pass in a constructor object of the type <code>{ new(p: any): T }</code>.  But you don't have one of those, unless you add it to the list of parameters to <code>init()</code>:</p>\n\n<pre><code>init&lt;T&gt;(ctor: { new(p: any): T }, propertyArray: T[], input: any): void {\n  // ...\n  this.create(ctor, i);\n  // ...\n}\n</code></pre>\n\n<p>Now it will compile, although you will have to pass in a constructor for <code>B</code> in your <code>prop</code> setter.  Not that I know what <code>B</code> is or if you have a constructor for it.  And not that I know why the <code>init()</code> method only does something if the <code>propertyArray</code> parameter is <code>null</code>, so that the <code>prop</code> setter can only work once.  And not that I know why you enumerate the keys of <code>input</code> and use them as arguments to whatever constructor you have for <code>B</code>.  And... well, I'm obviously confused by the rest of your code.  Suffice it to say that you need to pass in a constructor of <code>T</code> instead of <code>T</code> before you can proceed.</p>\n\n<p>Hope that helps; good luck. </p>\n"}], "owner": {"reputation": 69, "user_id": 8718924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lr1WE.jpg?s=128&g=1", "display_name": "thk", "link": "https://stackoverflow.com/users/8718924/thk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 46922288, "answer_count": 1, "score": 1, "last_activity_date": 1508893406, "creation_date": 1508875722, "last_edit_date": 1508881516, "question_id": 46919196, "link": "https://stackoverflow.com/questions/46919196/instantiate-generic-object-from-type-of", "title": "Instantiate generic object from type of", "body": "<p>I found this code to instantiate a new object T with a parameter :</p>\n\n<pre><code>create&lt;T&gt;(type: { new(p: any): T }, val: any): T {\n    return new type(val);\n  }\n</code></pre>\n\n<p>My goal is to have a base class which I can inherit to init my array properties :</p>\n\n<pre><code>export class Base {\n  create&lt;T&gt;(type: { new(p: any): T }, val: any): T {\n    return new type(val);\n  }\n\n  init&lt;T&gt;(propertyArray: T[], input: any): void {\n    if (propertyArray == null) {\n      propertyArray = [];\n      for (let i in input) {\n        let tmpObj = this.create(T, i);\n        propertyArray.push(tmpObj);\n      }\n    }\n  }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>class A extends Base {\n\n  private _prop: B[];\n\n  get prop() {\n    return this._prop;\n  }\n  set prop(value: any) {\n    this.init(this._prop, value);\n  }\n\n  constructor(obj: any) {\n    super(obj);\n    this.prop = obj &amp;&amp; obj.item || null;\n  }\n}\n</code></pre>\n\n<p>But in this sample <code>let tmpObj = this.create(T, i);</code> I get this error :</p>\n\n<blockquote>\n  <p>'T' only refers to a type, but is being used as a value here.</p>\n</blockquote>\n\n<p>How can I correct this to work ?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework", "openlayers"], "comments": [{"owner": {"reputation": 1045, "user_id": 2821420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4db73253d03ae52c63f38248c60a4a3?s=128&d=identicon&r=PG&f=1", "display_name": "pfg", "link": "https://stackoverflow.com/users/2821420/pfg"}, "edited": false, "score": 0, "creation_date": 1508875055, "post_id": 46918964, "comment_id": 80785361, "body": "You can set a border-radius in the style to 10000"}, {"owner": {"reputation": 131, "user_id": 5397054, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-KFyn3eZiJi4/AAAAAAAAAAI/AAAAAAAAApg/7Y5k0_t_njc/photo.jpg?sz=128", "display_name": "Ognjen Marceta", "link": "https://stackoverflow.com/users/5397054/ognjen-marceta"}, "reply_to_user": {"reputation": 1045, "user_id": 2821420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4db73253d03ae52c63f38248c60a4a3?s=128&d=identicon&r=PG&f=1", "display_name": "pfg", "link": "https://stackoverflow.com/users/2821420/pfg"}, "edited": false, "score": 0, "creation_date": 1508875583, "post_id": 46918964, "comment_id": 80785659, "body": "But how, check the last screenshot. Map is actually canvas where everything is drawn, there are no exposed elements like img&#39;s or some div&#39;s."}], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 5397054, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-KFyn3eZiJi4/AAAAAAAAAAI/AAAAAAAAApg/7Y5k0_t_njc/photo.jpg?sz=128", "display_name": "Ognjen Marceta", "link": "https://stackoverflow.com/users/5397054/ognjen-marceta"}, "is_accepted": true, "score": 1, "last_activity_date": 1508911692, "creation_date": 1508911692, "answer_id": 46925097, "question_id": 46918964, "link": "https://stackoverflow.com/questions/46918964/how-can-i-create-a-round-icon-image-with-openlayers/46925097#46925097", "title": "How can I create a round icon image with OpenLayers?", "body": "<p>I found workaround for <a href=\"https://gyazo.com/0803c9dff82823c47ca4c3fa37c90d34\" rel=\"nofollow noreferrer\">this</a>. \nInstead using ol.Feature for markers, i've did it with ol.Overlay. Now i can put any html <a href=\"https://gyazo.com/5a0fd6a3622e7bc344dfc58b2e7e4acb\" rel=\"nofollow noreferrer\">element</a> on map and control it however i want, since it is accessible in html. <a href=\"https://gyazo.com/25fe270c5d8228fc79987d2931011bf1\" rel=\"nofollow noreferrer\">(screen #2)</a></p>\n\n<pre><code>updateMarkers(featuresArr) {\n\nfor(var i = 0; i &lt; featuresArr.length; i++)\n{\n  var overlayelement = new ol.Overlay({\n    stopEvent: false,\n    positioning: 'center-center',\n    element: document.getElementById('slika')\n  });\n  overlayelement.setPosition(featuresArr[i].getGeometry().getCoordinates());\n\n  this.olMap.addOverlay(overlayelement);\n\n}}\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 5397054, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-KFyn3eZiJi4/AAAAAAAAAAI/AAAAAAAAApg/7Y5k0_t_njc/photo.jpg?sz=128", "display_name": "Ognjen Marceta", "link": "https://stackoverflow.com/users/5397054/ognjen-marceta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 46925097, "answer_count": 1, "score": 1, "last_activity_date": 1508911692, "creation_date": 1508874763, "last_edit_date": 1508874907, "question_id": 46918964, "link": "https://stackoverflow.com/questions/46918964/how-can-i-create-a-round-icon-image-with-openlayers", "title": "How can I create a round icon image with OpenLayers?", "body": "<p>I'm using openlayers inside my ionic app. Now i'm placing users on map. I'm stuck and i'have no idea how to add some custom css style to user element since it's not visible present in html. As you can see in screenshot below i draw circle in background and over it i add image. Now i want that image to be round too. Most simple thing is with css, but i'm not able to add it to element.</p>\n\n<p>Example map:\n<a href=\"https://gyazo.com/3fb6b2e3565572b0c0a64044c645e364\" rel=\"nofollow noreferrer\">https://gyazo.com/3fb6b2e3565572b0c0a64044c645e364</a></p>\n\n<p>Part of code where i'm defining circle and icon: <a href=\"https://gyazo.com/cc80d368dfa8874739be14ce09eadffd\" rel=\"nofollow noreferrer\">https://gyazo.com/cc80d368dfa8874739be14ce09eadffd</a></p>\n\n<p>Inspected map:\n<a href=\"https://gyazo.com/7fadd75cfd4f9e517b76300b4c1b3c9c\" rel=\"nofollow noreferrer\">https://gyazo.com/7fadd75cfd4f9e517b76300b4c1b3c9c</a></p>\n"}, {"tags": ["typescript", "typescript-typings", "typescript2.0"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1508893775, "post_id": 46918570, "comment_id": 80791931, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44323441/changing-property-name-in-typescript-mapped-type\">Changing Property Name in Typescript Mapped Type</a>"}], "owner": {"reputation": 500, "user_id": 3443137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zSAuY.png?s=128&g=1", "display_name": "pubkey", "link": "https://stackoverflow.com/users/3443137/pubkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508873299, "creation_date": 1508873299, "question_id": 46918570, "link": "https://stackoverflow.com/questions/46918570/how-to-use-keyof-while-changing-the-fieldnames", "title": "How to use keyof while changing the fieldnames?", "body": "<p>I have a object-type with some fields defined. Now I want to dynamically create another object where each fieldname has a <code>$</code>-suffix and contains an observable of the original field-type. I thought I could do this by using keyof and adding the <code>+ '$'</code> to it. But this wont transpile.</p>\n\n<pre><code>import { Observable } from 'rxjs';\n\ntype AllFields = {\n    foo: string,\n    bar: number\n};\n\ntype ObservedFields&lt;T&gt; = {\n    [P in keyof T] + '$': Observable&lt;T[P]&gt;;\n}\n</code></pre>\n\n<p>What I want to do:</p>\n\n<pre><code>const myObject: AllFields = {\nfoo: 'something',\nbar: 7\n}\n\nconst observed: ObservedFields&lt;AllFields&gt; = {\n  foo$: Observable&lt;string&gt;,\n  bar$: Observable&lt;number&gt;\n};\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 2, "creation_date": 1508876340, "post_id": 46918373, "comment_id": 80786056, "body": "You might need to specify a deeper path in your <code>declare module</code> declaration. See this answer: <a href=\"https://stackoverflow.com/a/44927628/6680611\">stackoverflow.com/a/44927628/6680611</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1822, "user_id": 3184194, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1569695241/picture?type=large", "display_name": "caseyWebb", "link": "https://stackoverflow.com/users/3184194/caseywebb"}, "edited": false, "score": 0, "creation_date": 1508877217, "post_id": 46919482, "comment_id": 80786518, "body": "Was just coming to this conclusion, but this is definitely it. Working around the nasty <code>declare module &#39;ko-component-router&#47;dist&#47;context&#39;</code>by moving any interfaces that are expected to be augmented into the index file itself."}, {"owner": {"reputation": 8594, "user_id": 2441655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e0a2ff948b6678c5e0054a4c8392b67?s=128&d=identicon&r=PG", "display_name": "Venryx", "link": "https://stackoverflow.com/users/2441655/venryx"}, "edited": false, "score": 0, "creation_date": 1574124119, "post_id": 46919482, "comment_id": 104111405, "body": "<b>Important note</b>: <code>declare module thing</code> is NOT the same as <code>declare module &quot;thing&quot;</code>. Had me puzzled for some time. (with the quotes, it tries to resolve the module to existing module matches; without, it assumes you&#39;re declaring a whole new module/namespace)"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 2, "last_activity_date": 1508876960, "creation_date": 1508876960, "answer_id": 46919482, "question_id": 46918373, "link": "https://stackoverflow.com/questions/46918373/augment-imported-typescript-interface/46919482#46919482", "title": "Augment imported typescript interface", "body": "<p>As mentioned in cartant's comment, module augmentation does not work for classes and interfaces that are exported \"indirectly\" - <a href=\"https://github.com/Microsoft/TypeScript/issues/9127\" rel=\"nofollow noreferrer\">this is a known issue</a>.</p>\n\n<p>It works if you augment the inner module where <code>IContext</code> is defined:</p>\n\n<pre><code>declare module 'ko-component-router/context' {\n    export interface IContext {\n        someProperty: string\n    }\n}\n</code></pre>\n\n<p>Unfortunately, anyone who adds augmentations in this way introduces a dependency on internal structure of your library.</p>\n\n<p>Also, with this augmentation <code>class Context</code> does not compile anymore:</p>\n\n<blockquote>\n  <p>error TS2420: Class 'Context' incorrectly implements interface\n  'IContext'.   Property 'someProperty' is missing in type 'Context'.</p>\n</blockquote>\n\n<p>So if you add properties to interfaces which are implemented by some classes, these properties must be optional:</p>\n\n<pre><code>declare module 'ko-component-router/context' {\n    export interface IContext {\n        someProperty?: string\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1822, "user_id": 3184194, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1569695241/picture?type=large", "display_name": "caseyWebb", "link": "https://stackoverflow.com/users/3184194/caseywebb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1608, "favorite_count": 0, "accepted_answer_id": 46919482, "answer_count": 1, "score": 5, "last_activity_date": 1508876960, "creation_date": 1508872595, "last_edit_date": 1508875801, "question_id": 46918373, "link": "https://stackoverflow.com/questions/46918373/augment-imported-typescript-interface", "title": "Augment imported typescript interface", "body": "<p>I am using a package \u2014 <a href=\"https://github.com/Profiscience/ko-component-router\" rel=\"noreferrer\">ko-component-router</a> \u2014\u00a0with the following (condensed) type definitions...</p>\n\n<p><em>index.d.ts</em></p>\n\n<pre><code>export { IContext, Context } from './context';\nexport { Router } from './router';\n</code></pre>\n\n<p><em>context.d.ts</em></p>\n\n<pre><code>export interface IContext {\n    $root: IContext;\n    $child: IContext;\n    $children: IContext[];\n    $parent: IContext;\n    $parents: IContext[];\n    router: Router;\n    route: Route;\n    params: {\n        [k: string]: any;\n    };\n    path: string;\n    pathname: string;\n    base: string;\n    canonicalPath: string;\n}\nexport declare class Context implements IContext {\n  // ...\n}\n</code></pre>\n\n<p><em>router.d.ts</em></p>\n\n<pre><code>import { IContext } from './context';\nexport declare type Middleware = (ctx: IContext, done?: () =&gt; any) =&gt; {\n    beforeRender?: (done?: () =&gt; void) =&gt; Promise&lt;any&gt; | void;\n    afterRender?: (done?: () =&gt; void) =&gt; Promise&lt;any&gt; | void;\n    beforeDispose?: (done?: () =&gt; void) =&gt; Promise&lt;any&gt; | void;\n    afterDispose?: (done?: () =&gt; void) =&gt; Promise&lt;any&gt; | void;\n};\nexport declare class Router {\n    static use(...fns: Middleware[]): void;\n}\n</code></pre>\n\n<p>On the consumer side, middleware is registered that can add properties to the context that is passed into the view component, as such...</p>\n\n<pre><code>import { Router } from 'ko-component-router'\n\n\nRouter.use((ctx) =&gt; ({\n    beforeRender() {\n        ctx.someProperty = 'foo'\n    }\n}))\n</code></pre>\n\n<p>As expected, a <code>Property 'someProperty' does not exist on type 'IContext'</code> error is thrown by the compiler.</p>\n\n<p>Based on the documentation on <a href=\"http://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"noreferrer\">declaration merging</a>, I attempted adding the following in order to make the compiler aware of this new property...</p>\n\n<pre><code>import { Router } from 'ko-component-router'\n\ndeclare module 'ko-component-router' {\n    interface IContext {\n        someProperty: string\n    }\n}\n\nRouter.use((ctx) =&gt; ({\n    beforeRender() {\n        ctx.someProperty = 'foo'\n    }\n}))\n</code></pre>\n\n<p>But the same error is thrown. I've tried just about everything I can think of, but I'm unable to make the compiler aware of this new property without completely re-implementing the type definitions in my project, which is obviously far from ideal.</p>\n\n<p>Is this possible, and if so, where am I going astray?</p>\n"}, {"tags": ["javascript", "arrays", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 11449, "user_id": 6525724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZEkk.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6525724/nick"}, "edited": false, "score": 3, "creation_date": 1508871902, "post_id": 46918172, "comment_id": 80783725, "body": "You need to call your <code>editeImage</code> function after the data is loaded, which means inside the <code>onloadend</code> function"}, {"owner": {"reputation": 1031, "user_id": 2860519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b3a858b58e02957c2c1dd1691583737?s=128&d=identicon&r=PG&f=1", "display_name": "JuanDM", "link": "https://stackoverflow.com/users/2860519/juandm"}, "edited": false, "score": 1, "creation_date": 1508872007, "post_id": 46918172, "comment_id": 80783781, "body": "Can you do a <code>console.log(this.imageValues)</code> and update your question with the output?"}, {"owner": {"reputation": 1294, "user_id": 693319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arlct.jpg?s=128&g=1", "display_name": "Claudio Castro", "link": "https://stackoverflow.com/users/693319/claudio-castro"}, "edited": false, "score": 0, "creation_date": 1508872068, "post_id": 46918172, "comment_id": 80783809, "body": "You are calling a position 3 in the array, but you can not guarantee that it is filled. Make an impression of the count of array elements. console.log(this.imageValues.length);"}], "answers": [{"tags": [], "owner": {"reputation": 11449, "user_id": 6525724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZEkk.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6525724/nick"}, "is_accepted": false, "score": 0, "last_activity_date": 1508873189, "creation_date": 1508873189, "answer_id": 46918528, "question_id": 46918172, "link": "https://stackoverflow.com/questions/46918172/error-to-get-values-in-array-after-push-a-new-element/46918528#46918528", "title": "Error to get values in array after push a new element", "body": "<p>You're getting tricked by asynchronicity.  Where you were previously calling the <code>editeImage</code> function, you had no guarantee that the necessary data was finished loaded.  You could call your <code>editeImage</code> function within the <code>onloadend</code> method to ensure you have data to work with.</p>\n\n<pre><code>readThis(inputValue: any): void {\n  this.contImage = inputValue.files.length;\n  for (var i = 0; i &lt; inputValue.files.length; i++) {\n    let file: File = inputValue.files[i];\n    let myReader: FileReader = new FileReader();\n    myReader.onloadend = (e) =&gt; {\n      if(file.size &lt;= 4000000){\n        this.imageValues.push(myReader.result);\n        if(this.imageValues.length === 4) this.editeImage();\n      }else{\n        swal(\n          'Ops! Imagem muito grande',\n          'Algumas imagens n\u00e3o puderam ser enviados pois excede o tamanho maximo de 5 Megas :/',\n          'error'\n        );\n      }\n    }\n    myReader.readAsDataURL(file);\n\n  }\n\n}\n\nediteImage(){ \n    console.log(this.imageValues[3]); \n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4458970, "user_type": "registered", "profile_image": "https://graph.facebook.com/1504691472/picture?type=large", "display_name": "Luk Sim&#245;es", "link": "https://stackoverflow.com/users/4458970/luk-sim%c3%b5es"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "closed_date": 1508919451, "answer_count": 1, "score": 0, "last_activity_date": 1508873189, "creation_date": 1508871792, "question_id": 46918172, "link": "https://stackoverflow.com/questions/46918172/error-to-get-values-in-array-after-push-a-new-element", "closed_reason": "Duplicate", "title": "Error to get values in array after push a new element", "body": "<p>anyone know how i solve it?\nI added an element to my array with the push function and then tried to access the array at position 3 that was added to the element but not as defined</p>\n\n<pre><code>   readThis(inputValue: any): void {\n    this.contImage = inputValue.files.length;\n    for (var i = 0; i &lt; inputValue.files.length; i++) {\n        let file: File = inputValue.files[i];\n        let myReader: FileReader = new FileReader();\n        myReader.onloadend = (e) =&gt; {\n            if(file.size &lt;= 4000000){\n                this.imageValues.push(myReader.result);\n            }else{\n                swal(\n                    'Ops! Imagem muito grande',\n                    'Algumas imagens n\u00e3o puderam ser enviados pois excede o tamanho maximo de 5 Megas :/',\n                    'error'\n                );\n            }\n\n\n        }\n        myReader.readAsDataURL(file);\n\n    }\n\n    this.editeImage();\n\n\n\n\n\n}\n\nediteImage(){\n\n    console.log(this.imageValues[3]);\n\n\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings", "typescript2.0", "typescript-definitions", "typescript-declarations"], "comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1508870565, "post_id": 46917140, "comment_id": 80782956, "body": "The top-level <code>import</code> makes the file a module. Try removing it."}, {"owner": {"reputation": 9996, "user_id": 1063392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vS0UT.jpg?s=128&g=1", "display_name": "Nathan Friend", "link": "https://stackoverflow.com/users/1063392/nathan-friend"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1508873015, "post_id": 46917140, "comment_id": 80784317, "body": "Thanks for the response, @Aaron, but I just tried removing the top-level <code>import</code> and the result is the same."}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 1, "creation_date": 1508879682, "post_id": 46917140, "comment_id": 80787803, "body": "Try putting &quot;hapi&quot; in quotes: <code>declare module &quot;hapi&quot;</code>. You might also need to <code>export</code> the <code>Server</code> interface."}, {"owner": {"reputation": 9996, "user_id": 1063392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vS0UT.jpg?s=128&g=1", "display_name": "Nathan Friend", "link": "https://stackoverflow.com/users/1063392/nathan-friend"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1508931904, "post_id": 46917140, "comment_id": 80809828, "body": "@Aaron - putting <code>&#39;hapi&#39;</code> in quotes fixed the issue!  Thanks!  Not sure I understand why though.  If you want to add your comment as an answer, I&#39;ll accept."}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1508946547, "post_id": 46917140, "comment_id": 80820839, "body": "Sure, I&#39;ll try to explain in answer..."}], "answers": [{"comments": [{"owner": {"reputation": 9996, "user_id": 1063392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vS0UT.jpg?s=128&g=1", "display_name": "Nathan Friend", "link": "https://stackoverflow.com/users/1063392/nathan-friend"}, "edited": false, "score": 0, "creation_date": 1509020359, "post_id": 46937379, "comment_id": 80855275, "body": "Thanks for the thorough explanation, @Aaron.  Although the only change I needed to make was wrapping <code>&#39;hapi&#39;</code> in quotes.  If I remove the <code>import</code> statement, my declaration seems like it is <i>overwriting</i> the <code>hapi</code> module definition instead of <i>augmenting</i> it - the only properties I can access are ones that I define myself.  So I think the <code>import</code> statement is necessary for augmentation."}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "reply_to_user": {"reputation": 9996, "user_id": 1063392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vS0UT.jpg?s=128&g=1", "display_name": "Nathan Friend", "link": "https://stackoverflow.com/users/1063392/nathan-friend"}, "edited": false, "score": 1, "creation_date": 1509039574, "post_id": 46937379, "comment_id": 80868486, "body": "@NathanFriend Hm, you&#39;re right. I think its actually a top-level <code>export</code> that makes it a module, or else being a module doesn&#39;t actually change the effect of <code>declare module &quot;hapi&quot;</code>. You can also import inside the module declaration. I&#39;ll edit my answer... don&#39;t want this answer to mislead anyone. :)"}], "tags": [], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "is_accepted": true, "score": 4, "last_activity_date": 1509039934, "last_edit_date": 1509039934, "creation_date": 1508948193, "answer_id": 46937379, "question_id": 46917140, "link": "https://stackoverflow.com/questions/46917140/adding-properties-to-existing-typescript-interface-via-module-augmentation-has-n/46937379#46937379", "title": "Adding properties to existing TypeScript interface via module augmentation has no effect", "body": "<p>This is your issue:</p>\n\n<pre><code>declare module hapi {\n</code></pre>\n\n<p>This is actually defining a <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces.html\" rel=\"nofollow noreferrer\"><code>namespace</code></a>, using older syntax that pre-dates ES6 modules which used to be called \"internal modules\". Writing <code>module hapi</code> is the same as writing <code>namespace hapi</code>, which is the preferred syntax today. <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces-and-modules.html\" rel=\"nofollow noreferrer\">More on namespaces vs modules here.</a></p>\n\n<p>To <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#working-with-other-javascript-libraries\" rel=\"nofollow noreferrer\">declare an external module</a> you just have to put the module name in quotes:</p>\n\n<blockquote>\n  <p>[...] use a construct similar to ambient namespaces, but we <strong>use the <code>module</code> keyword and the quoted name</strong> of the module which will be available to a later import.</p>\n</blockquote>\n\n<p>In other words, just put <code>hapi</code> in quotes:</p>\n\n<pre><code>declare module \"hapi\"\n</code></pre>\n\n<p>Now you have an <em>ambient</em> (<code>my-custom-hapi-typings.d.ts</code> doesn't need to be directly imported) <em>external module</em> definition (declares what <code>import \"hapi\"</code> gives you), and you can augment whats declared inside it.</p>\n\n<p>If you mouse over the <code>module hapi</code> and <code>module \"hapi\"</code> <a href=\"http://www.typescriptlang.org/play/#src=declare%20module%20hapi%20%7B%20%7D%0A%0Adeclare%20module%20%22hapi%22%20%7B%20%7D\" rel=\"nofollow noreferrer\">in the Playground</a> you'll see the difference in the tooltips:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IncS4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IncS4.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/LC3FV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LC3FV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Yes, it's subtle and confusing due the history behind it. </p>\n"}], "owner": {"reputation": 9996, "user_id": 1063392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vS0UT.jpg?s=128&g=1", "display_name": "Nathan Friend", "link": "https://stackoverflow.com/users/1063392/nathan-friend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2332, "favorite_count": 1, "accepted_answer_id": 46937379, "answer_count": 1, "score": 4, "last_activity_date": 1509039934, "creation_date": 1508868014, "question_id": 46917140, "link": "https://stackoverflow.com/questions/46917140/adding-properties-to-existing-typescript-interface-via-module-augmentation-has-n", "title": "Adding properties to existing TypeScript interface via module augmentation has no effect", "body": "<p>I have a Node application that depends on <a href=\"https://www.npmjs.com/package/@types/hapi\" rel=\"nofollow noreferrer\"><code>@types/hapi</code></a>.  I'd like to add a property to one of the classes defined in this module.  I've tried defining my new property via module augmentation:</p>\n\n<pre><code>// my-custom-hapi-typings.d.ts\nimport * as hapi from 'hapi';\n\ndeclare module hapi {\n    interface Server {\n        myProperty: string;\n    }\n}\n</code></pre>\n\n<p>This doesn't cause any compiler errors, but it also doesn't add the <code>myProperty</code> property to the <code>Server</code> class.  I still get errors elsewhere in my project when I try and reference the property like this:</p>\n\n<pre><code>// my-other-file.ts\nimport * as hapi from 'hapi';\n\nconst server = new hapi.Server({ ... });\n\n// error: Property 'myProperty' does not exist on type 'Server'.\nserver.myProperty = 'hello'; \n</code></pre>\n\n<p>Why does the TypeScript compiler seem to be ignoring my <code>.d.ts</code> file?  Do I need to \"import\" the file or somehow make the TypeScript compiler aware that this file exists?  I was under the impression that just placing a <code>.d.ts</code> file in the source directory was enough for TypeScript to pick up on these augmentations.</p>\n"}, {"tags": ["typescript", "angular2-services"], "answers": [{"comments": [{"owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "edited": false, "score": 0, "creation_date": 1508872338, "post_id": 46917686, "comment_id": 80783948, "body": "JB thank you so very much! your explanation was clear and concise and proved very helpful. I now have my search results populating in console.log successfully from my sidenav.component.ts. The piece I did not fully understand was needing to create a new Observable to &quot;wiretap&quot; the communication (your analogy was perfect BTW). But for my own understanding, since I am using a &quot;Subject&quot; am I technically creating a new &quot;dataStream&quot; to &quot;wiretap&quot; the communication... and subscribing to that? or is a Subject technically an Observable too? -Thank you again for your help on this-"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "edited": false, "score": 0, "creation_date": 1508873280, "post_id": 46917686, "comment_id": 80784450, "body": "Subject is an Observable. Not sure what you mean by &quot;creating a new dataStream&quot;."}, {"owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "edited": false, "score": 0, "creation_date": 1508873943, "post_id": 46917686, "comment_id": 80784803, "body": "on some of the explanations I have researched on Observables they refer to a &quot;datastream&quot; ie keystrokes and then feeding that &quot;stream&quot; into an observable that can be &quot;subscribed to&quot;. In the tour of Heroes this explanation uses the term stream as well.. it also clearly states a subject is an Observable also and I must have missed that completely... you helped me identify my confusion.  -A Subject is also an Observable. You can turn the stream of search terms into a stream of Hero arrays and assign the result to the heroes property.-"}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 2, "last_activity_date": 1508870061, "creation_date": 1508870061, "answer_id": 46917686, "question_id": 46916933, "link": "https://stackoverflow.com/questions/46916933/subscribe-to-tour-of-heros-search-bar-results-in-different-component/46917686#46917686", "title": "Subscribe to Tour of Hero&#39;s Search bar results in different component", "body": "<p>No, you're not understanding how that works.</p>\n\n<p>Every time you type something in your search bar, the autocomplete calls your search service <strong>with the typed value as argument</strong>, obtains a new Observable returned by the service, and subscribes to this observable to display the suggestions.</p>\n\n<p>What you're doing in your component is simply to call the service when your component is initialized, with nothing as argument (which makes little sense: you're asking for all the suggestions without even a search term), and thus obain an Observable, different from all the observables returned to the search bar when you enter something in it, and display the suggestions returned for this absence of search term.</p>\n\n<p>To do what you want to achieve (i.e. display the suggestions obtained by the search bar every time it gets some, after typing some text), you would need to expose an observable in your service, that would emit all the search results returned to the search bar. Something like that:</p>\n\n<pre><code>export class HeroSearchService {\n\n  searchResults = new Subject&lt;Hero[]&gt;();\n\n  constructor(private http: Http) {}\n\n  search(term: string **= null**): Observable&lt;Hero[]&gt; {\n    return this.http\n               .get(`api/heroes/?name=${term}`)\n               .map(response =&gt; response.json().data as Hero[])\n               .do(heroes =&gt; this.searchResults.next(heroes));\n  }\n}\n</code></pre>\n\n<p>So, to explain, you would wiretap into the communication between the search bar and the service and emit all the search results returned to the search bar.</p>\n\n<p>And to display the same results as the search bar, you would subscribe to the <code>searchResults</code> observable and display the search results it emits.</p>\n"}], "owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 46917686, "answer_count": 1, "score": 0, "last_activity_date": 1508870061, "creation_date": 1508867247, "last_edit_date": 1508869327, "question_id": 46916933, "link": "https://stackoverflow.com/questions/46916933/subscribe-to-tour-of-heros-search-bar-results-in-different-component", "title": "Subscribe to Tour of Hero&#39;s Search bar results in different component", "body": "<p>I am new to Angular 4 (I have previous experience with AngularJS) and I am attempting to wrap my brain around Observables.</p>\n\n<p>I am following the <a href=\"https://angular.io/tutorial/toh-pt6\" rel=\"nofollow noreferrer\">Tour of Heroe's HTTP</a> portion of the tutorial where they walk you through creating a search bar. </p>\n\n<p>I have completed this successfully and have results populating in a mat-autocomplete (not in the tutorial I added this part on my own) drop down of my search bar via the simulated http.get in the service.</p>\n\n<p>In an attempt to see if I understand observable's or not, I created a component called <strong>sidenav.component.ts</strong> and it is a child component of the <strong>app.component.html</strong> template.</p>\n\n<ul>\n<li><strong>sidenav.component.html</strong> is just boiler plate code from the  <a href=\"https://material.angular.io/components/sidenav/overview\" rel=\"nofollow noreferrer\">Material Sidenav Example</a></li>\n</ul>\n\n<p>I am attempting to put a simple for loop in a div in the <strong>sidenav.component.html</strong> component to see if I can pipe the output of that search bar into a different component template.</p>\n\n<pre><code>&lt;div *ngFor=\"let hero of heros | async\"&gt;&lt;/div&gt;\n</code></pre>\n\n<ul>\n<li>I have registered the <strong>HeroSearchService</strong> as a provider at the <strong>app.module.ts</strong> level</li>\n</ul>\n\n<p>and I am injecting that service into my <strong>sidenav.component.ts</strong>  as follows</p>\n\n<pre><code>constructor( private heroSearchService: HeroSearchService) {}\n</code></pre>\n\n<p><strong><em>but this is where I get confused... and my question is this.</em></strong></p>\n\n<ul>\n<li>If I wanted to register to the data that is populating my mat-autocomplete below my search bar, would I subscribe to the <strong>search()</strong> method in the <strong>HeroSearchService</strong>?</li>\n</ul>\n\n<p>so you don't have to go review the code in the tutorial the service code is as follows. (with one minor change on my part, I set term to NULL to make it optional)</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http }       from '@angular/http';\n\nimport { Observable }     from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\n\nimport { Hero }           from './hero';\n\n@Injectable()\nexport class HeroSearchService {\n\n  constructor(private http: Http) {}\n\n  search(term: string **= null**): Observable&lt;Hero[]&gt; {\n    return this.http\n               .get(`api/heroes/?name=${term}`)\n               .map(response =&gt; response.json().data as Hero[]);\n  }\n}\n</code></pre>\n\n<p>I have attempted the following in my \"sidenav\" component expecting to see the output of my mat-autocomplete also output in the console.log... but it does not seem to work.</p>\n\n<pre><code>    heroes: Observable&lt;Hero[]&gt;;\n\n    constructor( private heroSearchService: HeroSearchService) {}\n\n      ngOnInit() {\n        this.heroes = this.heroSearchService.search()\n\n        this.hospitals.subscribe(\n        value =&gt; console.log(value)\n     ) \n }\n</code></pre>\n\n<p>Hoping someone can help me understand how to update both components with the output of the <strong>search()</strong> method in the <strong>HeroSearchService</strong>.</p>\n"}]