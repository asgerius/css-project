[{"tags": ["angular", "typescript", "webpack", "autodesk-forge", "autodesk-viewer"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1576109404, "post_id": 59295840, "comment_id": 104796205, "body": "It&#39;s not my favorite method, but you can augment the webpack config as seen <a href=\"https://netbasal.com/customize-webpack-configuration-in-your-angular-application-d09683f6bd22\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 8193524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fafdf74833c84c1c514aa4ec60bec55c?s=128&d=identicon&r=PG&f=1", "display_name": "TJames", "link": "https://stackoverflow.com/users/8193524/tjames"}, "edited": false, "score": 1, "creation_date": 1576144360, "post_id": 59300769, "comment_id": 104806473, "body": "Thanks Sam, steps 2-4 didn&#39;t fix my existing app, I was already importing the forge-viewer scripts as you have mentioned. I wasn&#39;t aware types were available for so that&#39;s great. but creating a new app works as expected. Since I have an extra version of three.js in my existing app, it looks like the forge viewer version of three.js is conflicting with the version in node_modules"}, {"owner": {"reputation": 592, "user_id": 12504399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cKCR4.png?s=128&g=1", "display_name": "Samuel Middendorp", "link": "https://stackoverflow.com/users/12504399/samuel-middendorp"}, "reply_to_user": {"reputation": 95, "user_id": 8193524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fafdf74833c84c1c514aa4ec60bec55c?s=128&d=identicon&r=PG&f=1", "display_name": "TJames", "link": "https://stackoverflow.com/users/8193524/tjames"}, "edited": false, "score": 0, "creation_date": 1576144756, "post_id": 59300769, "comment_id": 104806694, "body": "Good stuff, did this fix your <a href=\"https://stackoverflow.com/questions/59271906/autodesk-forge-measurement-and-slice-not-working-not-an-instance-of-three-obj\">previous</a> question ?"}, {"owner": {"reputation": 95, "user_id": 8193524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fafdf74833c84c1c514aa4ec60bec55c?s=128&d=identicon&r=PG&f=1", "display_name": "TJames", "link": "https://stackoverflow.com/users/8193524/tjames"}, "edited": false, "score": 0, "creation_date": 1576147886, "post_id": 59300769, "comment_id": 104808566, "body": "Turns out i was being an idiot and had a link to three.js in my angular.json scripts array from testing the app without forge in the past, which was causing build errors after uninstalling three using npm. Add the answer to my previous question and i&#39;ll accept. Cheers!"}], "tags": [], "owner": {"reputation": 592, "user_id": 12504399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cKCR4.png?s=128&g=1", "display_name": "Samuel Middendorp", "link": "https://stackoverflow.com/users/12504399/samuel-middendorp"}, "is_accepted": true, "score": 2, "last_activity_date": 1576140713, "creation_date": 1576140713, "answer_id": 59300769, "question_id": 59295840, "link": "https://stackoverflow.com/questions/59295840/angular-8-webpack-three-js-loading-twice/59300769#59300769", "title": "Angular 8: Webpack - THREE.js loading twice", "body": "<p>I cant reproduce your error since im not sure how you are importing the forge-viewer script.</p>\n\n<p>By default the forge-viewer script is imported via a script tag in you head tag in index.html, this links to an autodesk cdn. This should not prompt any node modules to be installed into your angular project.\nYou however do need to install the the forge-viewer <a href=\"https://www.npmjs.com/package/@types/forge-viewer\" rel=\"nofollow noreferrer\"> typings</a>.This will give you typed definitions for the forge-viewer functions.</p>\n\n<p>I would just do a clean <code>ng new</code> and add scripts and packages accordingly:</p>\n\n<ul>\n<li><p>Initialize a new angular project.</p></li>\n<li><p>Add the viewer script and css to your index.html inside your angular project. This will prompt the scripts to be loaded as soon as possible when running the project.</p></li>\n<li><p>Install the forge-viewer <a href=\"https://www.npmjs.com/package/@types/forge-viewer\" rel=\"nofollow noreferrer\">typings</a>, these typings include the three.js typings aswell.</p></li>\n<li><p>Add <code>\"types\": [\"forge-viewer\"]</code> to your <code>tsconfig.app.json</code> under <code>compilerOptions</code> to solve initial compiler errors.</p></li>\n</ul>\n\n<p>Alternatively you could try and remove all forge-viewer related packages from your current project and do step 2 to 4 as described above.</p>\n"}], "owner": {"reputation": 95, "user_id": 8193524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fafdf74833c84c1c514aa4ec60bec55c?s=128&d=identicon&r=PG&f=1", "display_name": "TJames", "link": "https://stackoverflow.com/users/8193524/tjames"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 59300769, "answer_count": 1, "score": 1, "last_activity_date": 1576216843, "creation_date": 1576108447, "last_edit_date": 1576108830, "question_id": 59295840, "link": "https://stackoverflow.com/questions/59295840/angular-8-webpack-three-js-loading-twice", "title": "Angular 8: Webpack - THREE.js loading twice", "body": "<p>I'm creating a web app using Angular which integrates the Autodesk forge viewer javscript library.</p>\n\n<p>The forge viewer.js library is included in the forge viewer.js itself, which is a customized version of the THREE.js release r71. </p>\n\n<p>Because of this, I am seeing some unexpected results in my app:</p>\n\n<p><code>THREE.Object3D.add: object not an instance of THREE.Object3D</code></p>\n\n<p>From a bit of research, this is because THREE.js is being loaded twice into my app. I've tried uninstalling three.js from node_modules, but this causes build errors:</p>\n\n<p><code>Error: ENOENT: no such file or directory, open 'C:\\Users\\username\\source\\repos\\Testing\\appname\\appname-SPA\\node_modules\\three\\build\\three.min.js'</code></p>\n\n<p>This error is removed when i exclude THREE.js in tsconfig.json, but I'm still seeing unexpected results.</p>\n\n<p>Apparently a fix in a React app is to mention THREE.js in externals when using webpack:</p>\n\n<pre><code>const config = {\n    \u2026\n    externals: {\n        three: 'THREE'\n    },\n</code></pre>\n\n<p>But angular doesn't include webpack.config.js. How would I go about excluding THREE.js?</p>\n"}, {"tags": ["angular", "typescript", "p5.js"], "comments": [{"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1576108607, "post_id": 59295824, "comment_id": 104796028, "body": "what exactly is the error when you use the first method?"}, {"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "reply_to_user": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1576109050, "post_id": 59295824, "comment_id": 104796126, "body": "I updated the post with the error."}, {"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1576110844, "post_id": 59295824, "comment_id": 104796511, "body": "how do you import the p5 library?"}], "answers": [{"comments": [{"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1576128111, "post_id": 59296288, "comment_id": 104799995, "body": "interesting.  Importing it that way into my component causes a TS1192 error saying <code>module ........ has no default export</code> pointing to the P5 folder in the node modules."}, {"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1576131919, "post_id": 59296288, "comment_id": 104801122, "body": "ok I just noticed in your stackblitz up above the <code>@Component</code> you declare <code>WEBGL</code> as a variable.  I tried that and am still getting an error telling me WEBGL isn&#39;t a part of my component.  When I take off <code>this</code> and let it target the <code>WEBGL</code> variable decalred at the top, it throws another error saying WEBGL is undefined... which is because it doesn&#39;t <code>=</code> anything.  How does your <code>console.log(this.WEBGL)</code> return <code>webgl</code> when you&#39;re not assigning anything to it?  What is it attached to and how?"}, {"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "reply_to_user": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1576145722, "post_id": 59296288, "comment_id": 104807260, "body": "Ive updated the answer to fix the TS1192 error. You need to use <code>this.WEBGL</code> and not <code>WEBGL</code> and also for your <code>p.setup</code> function dont use the arrow notation, use the function keyword, because the context of <code>this</code> is important in this use case"}, {"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "reply_to_user": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1576145744, "post_id": 59296288, "comment_id": 104807277, "body": "I also removed the webgl declaration in the stackblitz as its not necessary"}, {"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1576369749, "post_id": 59296288, "comment_id": 104878211, "body": "I haven&#39;t accepted this as the answer yet because I&#39;ve run into another issue and have been wondering if I should update/change this question or start a new one.  For starters I made the suggested change to my <code>tsconfig.json</code> file and I still couldn&#39;t import the p5 library the way you suggested, however changing the function syntax and adding <code>this.</code> made it work.  I&#39;ll continue in another comment."}, {"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1576370163, "post_id": 59296288, "comment_id": 104878269, "body": "I ran into the same issue again with trying to set the angle mode to degrees which is done with <code>angleMode(DEGREES);</code> which again refers to a variable inside the scope of <code>p5.js</code> and seeing that it&#39;s not being scoped into a function that ultimately generates inside the <code>p5</code> scope adding <code>this.</code> still makes it look for it somewhere within the component.  I&#39;m wondering if this is due to me still importing it as <code>import * as p5 from &#39;p5&#39;</code> or if this really is a scoping issue using it with Angular regardless to which way it&#39;s imported."}, {"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1576370373, "post_id": 59296288, "comment_id": 104878298, "body": "Also I tried adding the <code>allowSyntheticDefaultImports</code> to both the TS compiler options and the Angular compiler options in my <code>tsconfig.json</code> file and neither of them allowed me to use the import syntax you suggested."}, {"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "reply_to_user": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1576478929, "post_id": 59296288, "comment_id": 104898716, "body": "could you update the question with the way the code is at now, or if you can share the actual repo?"}, {"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "reply_to_user": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 1, "creation_date": 1577440251, "post_id": 59296288, "comment_id": 105170540, "body": "Just realised that <code>esModuleInterop</code> is also required to be true"}], "tags": [], "owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "is_accepted": false, "score": 2, "last_activity_date": 1577440221, "last_edit_date": 1577440221, "creation_date": 1576112607, "answer_id": 59296288, "question_id": 59295824, "link": "https://stackoverflow.com/questions/59295824/having-a-problem-loading-setting-webgl-to-the-createcanvas-method-in-p5-js/59296288#59296288", "title": "Having a problem loading setting &#39;WEBGL&#39; to the createCanvas() method in P5.js", "body": "<p>Took me a while to setup you process, but I assume you are using <code>p5.js</code> via the <a href=\"https://github.com/processing/p5.js/wiki/Global-and-instance-mode\" rel=\"nofollow noreferrer\">instance method</a>.</p>\n\n<p>Your import needs to be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import p5 from \"p5\";\n</code></pre>\n\n<blockquote>\n  <p>For this import syntax to work and not throw an error, you need to set allowSyntheticDefaultImports (in compiler options) in tsconfig.json to true and have esModuleInterop set to true.</p>\n</blockquote>\n\n<p>And you instantiate <code>p5</code> via:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const myp5 = new p5((sketch) =&gt; {\n  sketch.setup = function() {\n    sketch.createCanvas(700, 410, this.WEBGL);\n  };\n});\n</code></pre>\n\n<p>Demo on <a href=\"https://stackblitz.com/edit/angular-zkpdzeso-having-a-problem-loading-setting-webgl-to-the\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n"}, {"tags": [], "owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "is_accepted": true, "score": 0, "last_activity_date": 1577519449, "creation_date": 1577519449, "answer_id": 59509070, "question_id": 59295824, "link": "https://stackoverflow.com/questions/59295824/having-a-problem-loading-setting-webgl-to-the-createcanvas-method-in-p5-js/59509070#59509070", "title": "Having a problem loading setting &#39;WEBGL&#39; to the createCanvas() method in P5.js", "body": "<p>Actually it turns out all I needed to do was add <code>p</code> to it to keep it in scope.</p>\n\n<pre><code>p.createCanvas(frameSize.width, frameSize.height, p.WEBGL);\n</code></pre>\n"}], "owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 59509070, "answer_count": 2, "score": 1, "last_activity_date": 1577519449, "creation_date": 1576108360, "last_edit_date": 1576127657, "question_id": 59295824, "link": "https://stackoverflow.com/questions/59295824/having-a-problem-loading-setting-webgl-to-the-createcanvas-method-in-p5-js", "title": "Having a problem loading setting &#39;WEBGL&#39; to the createCanvas() method in P5.js", "body": "<p>I'm trying to load a 3D model with P5.js in Angular 8.  the syntax for creating a 3D canvas is </p>\n\n<pre><code>createCanvas(100, 100, WEBGL);\n</code></pre>\n\n<p>in Angular <code>WEBGL</code> is regarded as if it were a variable defined somewhere and throws this error.</p>\n\n<blockquote>\n  <p>core.js:6014 ERROR Error: Uncaught (in promise): ReferenceError: WEBGL is not defined\n  ReferenceError: WEBGL is not defined</p>\n</blockquote>\n\n<p>I tried modifying it like this</p>\n\n<pre><code>createCanvas(100, 100, 'WEBGL');\n</code></pre>\n\n<p>But when doing that I get this error</p>\n\n<blockquote>\n  <p>p5.js says: createCanvas() was expecting P2D|WEBGL for parameter #2 (zero-based index), received string instead at...</p>\n</blockquote>\n\n<p>which is indicating it wants a value without parenthesis.  How am I supposed to handle this?</p>\n\n<p><strong><em>UPDATE</em></strong></p>\n\n<p>I figured I'd share more code to be clearer about how I'm going about doing this.</p>\n\n<p>I import the p5 library into the component like this</p>\n\n<pre><code>import * as p5 from 'p5';\n</code></pre>\n\n<p>inside my component I have a function that looks like this</p>\n\n<pre><code>private createGraphic(){\n    const frameSize: any = this.calcFrameSize(); //calculates a width and height\n\n    this.P5 = new p5(p =&gt;{\n\n            let importedModel: any;  //for pre loading the object\n\n            p.preload = () =&gt;{\n                importedModel = p.loadModel(this.Element, true);\n                //the this.Element variable is a string aiming to the .obj file\n            }\n\n            p.setup = () =&gt; {\n                p.createCanvas(frameSize.width, frameSize.height, WEBGL); \n            };\n\n            p.draw = () =&gt; {\n                p.background(255, 17, 180);\n                p.fill(0);\n                p.scale(0.88);\n                p.normalMaterial();\n                p.model(importedModel);\n            };\n        },\n        this.GraphicContainer.nativeElement\n        //the target for injecting the object\n        );\n    }\n</code></pre>\n\n<p>I call this function inside the <code>ngOnInit()</code> like this</p>\n\n<pre><code>ngOnInit(){ this.createGraphic(); }\n</code></pre>\n\n<p>I tried using <code>this.WEBGL</code> as suggested in the answer bellow and am getting an error in the terminal saying </p>\n\n<blockquote>\n  <p>WEBGL does not exist on type...</p>\n</blockquote>\n\n<p>because it's searching for it on my component. I'm also getting this error in the console</p>\n\n<blockquote>\n  <p>Error: normalMaterial() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL,</p>\n</blockquote>\n\n<p>I installed the <code>@types</code> library for P5.js to get it working with TypeScript.  I successfully got a 2D demo working and moved on to try 3D and am having these problems.</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576111300, "post_id": 59295657, "comment_id": 104796592, "body": "The code <code>(functionName, functionArgs) {...}</code> isn&#39;t valid syntax (should there be a <code>=&gt;</code> in there maybe?)  And what specifically doesn&#39;t work about what you tried?  Do you need multiple arguments or something like <a href=\"https://www.typescriptlang.org/play/#code/MYewdgzgLgBArhApgCRCA1jAvDAPAFRkQA8pEwATCGAQzAE8BtAXQBoYAlAPgAoAzOGABcMHgDoJNAE4BzCCPwBKbF07sJY6XIXKsqgN4AoGDCmIocKWBgCw4ybIiKA3IYC+h28CgBLcDbQeYhFoKR8wGXZ6ETA4AFsAI0QpZSMTEzMLKxhiMQAbchkoAAtsLBx6Vw9QSFhM7HgkVAx+NHYAIhp29gBGFxgAegGYBLQCuiA\" rel=\"nofollow noreferrer\">this</a>?  A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be very helpful here."}, {"owner": {"reputation": 431, "user_id": 7025135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/56QhB.jpg?s=128&g=1", "display_name": "YACINE", "link": "https://stackoverflow.com/users/7025135/yacine"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576141194, "post_id": 59295657, "comment_id": 104804768, "body": "Thank you @jcalz for your example, it works nice, but what i want is, instead of passing params seperated by comma, i want to pass an object :  i added this:  const useHook = &lt;T extends any[], R&gt;(fun: (...args: T) =&gt; R, {...args}: T) =&gt; {   return fun(...args); }  but the autocompletion detect only args types and not the names of params."}], "answers": [{"tags": [], "owner": {"reputation": 740, "user_id": 9206112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf45c7bcb3ff976244e952d69b1e73d?s=128&d=identicon&r=PG&f=1", "display_name": "JeromeBu", "link": "https://stackoverflow.com/users/9206112/jeromebu"}, "is_accepted": false, "score": 1, "last_activity_date": 1576279596, "creation_date": 1576279596, "answer_id": 59331000, "question_id": 59295657, "link": "https://stackoverflow.com/questions/59295657/how-to-infer-function-return-type-and-arguments-names-and-types/59331000#59331000", "title": "How to infer function return type and arguments names and types?", "body": "<p>Your function signature is good enough, you just forgot to return the result :</p>\n\n<pre><code>const useHook = &lt;T, R&gt;(fun: (args: T) =&gt; R, args: T) =&gt; {\n  return fun(args);\n}\n</code></pre>\n\n<p>Or shortend :</p>\n\n<pre><code>const useHook = &lt;T, R&gt;(fun: (args: T) =&gt; R, args: T) =&gt; fun(args);\n</code></pre>\n"}], "owner": {"reputation": 431, "user_id": 7025135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/56QhB.jpg?s=128&g=1", "display_name": "YACINE", "link": "https://stackoverflow.com/users/7025135/yacine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576279596, "creation_date": 1576107066, "question_id": 59295657, "link": "https://stackoverflow.com/questions/59295657/how-to-infer-function-return-type-and-arguments-names-and-types", "title": "How to infer function return type and arguments names and types?", "body": "<p>I want to create a hook in react native, and in it's params i want to pass a function and it's variables, EX:</p>\n\n<pre><code>const useHook = (functionName, functionArgs) {...}\n</code></pre>\n\n<p>and my question is: how can i infer the 'functionName' args types and it's return type too.</p>\n\n<p>so that when i write useHook and i pass a function, intelesense will automatically show me the function args names and types ?</p>\n\n<p>i tryed this but didn't work:</p>\n\n<pre><code>const useHook = &lt;T, R&gt;(fun: (args: T) =&gt; R, args: T) =&gt; {\n  fun(args);\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "promise"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1576106753, "post_id": 59295592, "comment_id": 104795554, "body": "You cannot call a promise, you can only call a function."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1576106769, "post_id": 59295592, "comment_id": 104795558, "body": "You will want to use <code>await</code> inside that <code>while</code> condition"}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1576107691, "post_id": 59295592, "comment_id": 104795811, "body": "<code>setInterval()</code> might be your friend."}, {"owner": {"reputation": 4918, "user_id": 496136, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/41d66a16c5e8fb777ebe398396e0f22f?s=128&d=identicon&r=PG", "display_name": "reza", "link": "https://stackoverflow.com/users/496136/reza"}, "edited": false, "score": 0, "creation_date": 1576107704, "post_id": 59295592, "comment_id": 104795814, "body": "but the function isBatchRequestCompleted is not a promise"}], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 1814486, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/G0mb9.png?s=128&g=1", "display_name": "nicholaswmin", "link": "https://stackoverflow.com/users/1814486/nicholaswmin"}, "is_accepted": true, "score": 1, "last_activity_date": 1578649178, "last_edit_date": 1578649178, "creation_date": 1576107944, "answer_id": 59295766, "question_id": 59295592, "link": "https://stackoverflow.com/questions/59295592/how-to-call-a-promise-on-a-set-frequency/59295766#59295766", "title": "How to call a promise on a set frequency?", "body": "<p>I'd do it using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval\" rel=\"nofollow noreferrer\"><code>setInterval</code></a>, which <em>repeatedly</em> calls a  function with a fixed time delay between calls.</p>\n\n<p>After submitting a work order, create a timer using <code>setInterval</code> which fires requests to check the status of that work order. When it's status is completed, fetch the work order, clear the check status timer and resolve the outermost Promise.</p>\n\n<p>This is a basic example of <a href=\"https://en.wikipedia.org/wiki/Polling_(computer_science)\" rel=\"nofollow noreferrer\">polling</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Mock functions, simulate HTTP calls to submit and fetch a work order.\r\nconst submitWorkOrder = () =&gt; Promise.resolve()\r\nconst getWorkOrder = () =&gt; Promise.resolve({ results: 'foo' })\r\n\r\n// - Mock function, simulates HTTP call to check work order status, \r\n//   after 5 tries it resolves status = 'completed'.\r\nlet i = 0\r\nconst checkWorkOrderStatus = () =&gt; \r\n  Promise.resolve({ status: ++i &lt;= 5 ? 'pending' : 'completed' })\r\n\r\n// Submit work order, poll and wait for completion and \r\n// resolve the work order when completed.\r\nsubmitWorkOrder().then(() =&gt; {\r\n  return new Promise((resolve, reject) =&gt; {\r\n    const timer = setInterval(() =&gt; {\r\n      checkWorkOrderStatus().then(result =&gt; {\r\n        console.log('checked status which is', result.status)\r\n\r\n        if (result.status === 'completed') {\r\n          clearInterval(timer)\r\n          getWorkOrder().then(resolve).catch(reject)\r\n        }\r\n      })\r\n      .catch(err =&gt; {\r\n        // make sure we also clear timer if \r\n        // checkOrderStatus rejects.\r\n        clearInterval(timer)\r\n        reject(err)\r\n      })\r\n    }, 400) // check status every 400ms.\r\n  })\r\n})\r\n.then(result =&gt; {\r\n  console.log('Work order is complete', result)    \r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is not TypeScript btw, but I assume it's easy to translate.</p>\n"}, {"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 2, "last_activity_date": 1576109039, "last_edit_date": 1576109039, "creation_date": 1576108410, "answer_id": 59295831, "question_id": 59295592, "link": "https://stackoverflow.com/questions/59295592/how-to-call-a-promise-on-a-set-frequency/59295831#59295831", "title": "How to call a promise on a set frequency?", "body": "<p>You can create a <code>poll</code> function that accept a <code>checkCompletion</code>, and <code>resultRequest</code> functions (both should return a promise). If <code>checkCompletion</code> is resolved with <code>false</code>, the <code>delay()</code> function is called, and then it invokes <code>poll()</code> again:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const delay = (time) =&gt; new Promise(resolve =&gt; setTimeout(resolve, time))\r\n\r\nconst poll = (checkCompletion, resultsRequest) =&gt;     \r\n  checkCompletion() // check for completion\r\n    .then(r =&gt; r ?\r\n      resultsRequest() : // if true get the results\r\n      delay(1000).then(() =&gt; poll(checkCompletion, resultsRequest)) // if false delay and call poll again\r\n    )\r\n\r\nfunction isBatchRequestCompleted() {\r\n  let i = 0 // used to mock multiple requests\r\n  return poll(\r\n    () =&gt; console.log(i) || Promise.resolve(i++ &gt; 3), // the function you use to check completion\r\n    () =&gt; Promise.resolve('result') // the function you use to get the results of the job\r\n  );\r\n}\r\n\r\nisBatchRequestCompleted().then(console.log)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And the same idea with async/await:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const delay = (time) =&gt; new Promise(resolve =&gt; setTimeout(resolve, time))\r\n\r\nconst poll = async (checkCompletion, resultsRequest) =&gt; {\r\n  let done;\r\n  \r\n  do {\r\n    done = await checkCompletion() // check for completion\r\n  \r\n    if(!done) await delay(1000) // delay if not done\r\n  } while(!done) // continue loop if not done\r\n  \r\n  return resultsRequest() // return the results of calling the request\r\n}\r\n\r\nasync function isBatchRequestCompleted() {\r\n  let i = 0 // used to mock multiple requests\r\n  return poll(\r\n    () =&gt; console.log(i) || Promise.resolve(i++ &gt; 3), // the function you use to check completion\r\n    () =&gt; Promise.resolve('result') // the function you use to get the results of the job\r\n  );\r\n}\r\n\r\nisBatchRequestCompleted().then(console.log)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4918, "user_id": 496136, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/41d66a16c5e8fb777ebe398396e0f22f?s=128&d=identicon&r=PG", "display_name": "reza", "link": "https://stackoverflow.com/users/496136/reza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 59295766, "answer_count": 2, "score": 1, "last_activity_date": 1578649178, "creation_date": 1576106569, "last_edit_date": 1576108437, "question_id": 59295592, "link": "https://stackoverflow.com/questions/59295592/how-to-call-a-promise-on-a-set-frequency", "title": "How to call a promise on a set frequency?", "body": "<p>Here is what I need to solve.</p>\n\n<ul>\n<li>I make an HTTP call to submit a work order (request) to a remote web server.</li>\n<li>As a response, I get a Guid response back.</li>\n<li>This work order will complete at some point in time may be hours.</li>\n</ul>\n\n<p>To check for work order completion, I need to periodically check for the completion status.</p>\n\n<p>So every few seconds or minutes, I need to make another HTTP call to get the work status. If completed, I am done, I will ask for the results. If incomplete, I will call again in the next time slice.</p>\n\n<p>What I currently have is not working correctly, I have hard coded the function to always return false so I can see the code working.</p>\n\n<p>The code is as follows:</p>\n\n<pre><code>function isBatchRequestCompleted(method: string = 'POST', route: string, batchId: number): boolean {\ntimerPromise.then(result =&gt; {\n    CheckESN.sendRequest('POST', 'api/batch/result', batchId)\n        .then(result =&gt; {\n            return false;\n\n        })\n        .catch(err =&gt; {\n            console.error(err);\n        });\n})\n    .catch(err =&gt; {\n        console.error(err);\n    });\nreturn false;\n</code></pre>\n\n<p>}</p>\n\n<pre><code>const timerPromise = new Promise(function(resolve, reject) {\n    setTimeout(() =&gt; resolve(() =&gt; {\n        console.log(\"timer\");\n        return 1;\n    }), 3000);\n});\n</code></pre>\n\n<p>Essentially wait 3s and check for status and the status check always return false</p>\n\n<p>the calling code looks as follows:</p>\n\n<pre><code>    do {\n             console.log('checking ...')\n    }   while  (isBatchRequestCompleted('POST', 'api/batch/submit', +BatchId)  == false);\n</code></pre>\n\n<p>what I see is one \"checking...\" and no other console.logs.</p>\n\n<p>Anyone sees how this is incorrect?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1576105541, "post_id": 59295236, "comment_id": 104795221, "body": "Do you have only two states (<code>pause</code> and <code>start</code>)?"}, {"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1576105575, "post_id": 59295236, "comment_id": 104795234, "body": "what do you mean by:  I click the button on line 0 but all buttons are enabled."}, {"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1576141030, "post_id": 59295236, "comment_id": 104804669, "body": "@ConnorsFan yes"}, {"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "reply_to_user": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1576141102, "post_id": 59295236, "comment_id": 104804713, "body": "@c_ogoo  I have the buttons in each row of the table, when I click the button in the first row only (in start) all buttons start the timer and not just what I clicked"}], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576141518, "post_id": 59295494, "comment_id": 104804932, "body": "I have to execute the startTimer function, but it should only be executed on the line where the button was clicked, hence the line number :("}, {"owner": {"reputation": 436, "user_id": 6707391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZs0S.png?s=128&g=1", "display_name": "Lykos94", "link": "https://stackoverflow.com/users/6707391/lykos94"}, "reply_to_user": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576144542, "post_id": 59295494, "comment_id": 104806565, "body": "You are passing the row parameter but you are actually not using it in your functions <code>setTimer</code> nor <code>pauseTimer</code>"}, {"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576184726, "post_id": 59295494, "comment_id": 104827254, "body": "I think you&#39;re right, but I have no idea how I can solve this :("}, {"owner": {"reputation": 436, "user_id": 6707391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZs0S.png?s=128&g=1", "display_name": "Lykos94", "link": "https://stackoverflow.com/users/6707391/lykos94"}, "reply_to_user": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576188760, "post_id": 59295494, "comment_id": 104828772, "body": "I updated my answer, please check it out, I hope it helps :)"}, {"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576230721, "post_id": 59295494, "comment_id": 104840218, "body": "I received this error: Cannot create property &#39;0&#39; on number &#39;0&#39;.   I updated in the post what I tested. I didn&#39;t realize what this.dataArray is"}, {"owner": {"reputation": 436, "user_id": 6707391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZs0S.png?s=128&g=1", "display_name": "Lykos94", "link": "https://stackoverflow.com/users/6707391/lykos94"}, "reply_to_user": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576233986, "post_id": 59295494, "comment_id": 104841866, "body": "<code>this.dataArray</code> is the array of elements you want to display. From my understanding, you are trying to display a start and pause button for each of your <code>data in &#39;cellTemplate&#39;</code>. The solution I proposed requires knowing how many rows you have in your data. Then it creates an array with length equal to the number of rows, which is indexed by the <code>rowIndex</code>. In this way you can keep a <code>time</code> counter for each row. In this way you can distinguish among the click in different rows. Am I understanding correctly the problem? Please let me know"}, {"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576235677, "post_id": 59295494, "comment_id": 104842712, "body": "Already updated the post with the remaining problem, thank you for trying to help me"}], "tags": [], "owner": {"reputation": 436, "user_id": 6707391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZs0S.png?s=128&g=1", "display_name": "Lykos94", "link": "https://stackoverflow.com/users/6707391/lykos94"}, "is_accepted": false, "score": 1, "last_activity_date": 1576239987, "last_edit_date": 1576239987, "creation_date": 1576105697, "answer_id": 59295494, "question_id": 59295236, "link": "https://stackoverflow.com/questions/59295236/angular-enable-button-only-on-line-where-clicked/59295494#59295494", "title": "Angular - Enable button only on line where clicked", "body": "<p>Based on your code, my assumption is that you are always changing the same variable <code>currentState</code>. Once you click the Start button (anchor) the first time like here </p>\n\n<pre><code>(click)=\"currentState='start'; ....//\n</code></pre>\n\n<p>you are setting the <em>shared</em> variable <code>currentState</code> to the start value. Therefore all the <code>ngIf</code> react to it. What you I believe you want to achieve is having something like a boolean value that express the current state for each row in the table.</p>\n\n<p><strong>Update:</strong> Here is an example of what I think you want to achieve</p>\n\n<pre class=\"lang-html prettyprint-override\"><code> &lt;div class=\"dropdown-menu\"&gt;\n        &lt;a class=\"dropdown-item\" *ngIf=\"currentState=='pause'\" routerLinkActive=\"active\"\n          (click)=\"startTimer(data.rowIndex)\"&gt;Start&lt;/a&gt;\n        &lt;a class=\"dropdown-item\" *ngIf=\"currentState=='start'\" routerLinkActive=\"active\"\n          (click)=\"pauseTimer()\"&gt;Pause&lt;/a&gt;\n      &lt;/div&gt;\n</code></pre>\n\n<p>And this should be your <strong>Component.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  public dataArray: Array&lt;DataItem&gt;;\n  public timeArray: Array&lt;number&gt;;\n  public interval;\n\n  constructor() {\n    this.dataArray = // constructor of your data\n\n    // We create an array to keep track of the time for each element\n    // and fill the array initially with zeroes\n    this.timeArray = new Array(this.dataArray.length).fill(0);\n  }\n\n  // We need here to know the index in order to know what timer to increment in the array\n  startTimer(rowIndex) {\n    this.interval = setInterval(() =&gt; {\n      this.timeArray[rowIndex]++;\n      // The display will always show the current ongoing timer\n      this.display=this.transform(this.timeArray[rowIndex])\n    }, 1000); \n  }\n\n  pauseTimer(rowIndex) {\n    // alert(this.timeArray[rowIndex]) &lt;-- just for test\n    clearInterval(this.interval); // Clears the interval\n  }\n</code></pre>\n\n<p><strong>Update  2</strong> From your last update, i believe you want also to show the display for each row. Here how to achieve it</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;span class=\"timer\"&gt;{{transform(timeArray[rowIndex])}}&lt;/span&gt;\n</code></pre>\n\n<p>as you can see I don't use the display variable, but apply your transform function to the value of the <code>rowIndex</code></p>\n\n<p><strong>Update 3</strong> The solution to the last problem you posted is the following</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>.. *ngIf=\"currentState=='start' &amp;&amp; currentRowIndex === data.rowIndex\" \n</code></pre>\n\n<p>the &amp;&amp; is returning true only for the current row, therefore only that one is displayed. Remove it like this</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>.. *ngIf=\"currentState=='start'\" \n</code></pre>\n\n<p>and to reset the timer for the row when you press pause</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>pauseTimer(rowIndex) {\n    this.timeArray[rowIndex] = 0; // Add this line\n    clearInterval(this.interval); // Clears the interval\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576230726, "post_id": 59313630, "comment_id": 104840222, "body": "I received this error: Cannot create property &#39;0&#39; on number &#39;0&#39;.   I updated in the post what I tested. I didn&#39;t realize what this.dataArray is"}, {"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "reply_to_user": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576232077, "post_id": 59313630, "comment_id": 104840897, "body": "@Harry ah sorry I copied answer of Lykos94 instead of your question."}, {"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "reply_to_user": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576232325, "post_id": 59313630, "comment_id": 104841024, "body": "@Harry I have updated my answer please can you try like this"}, {"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576232554, "post_id": 59313630, "comment_id": 104841131, "body": "Thanks for trying to help me! The button still runs on all lines and not just the line where it was clicked :("}, {"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "reply_to_user": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576232965, "post_id": 59313630, "comment_id": 104841364, "body": "@Harry Please can you replace your html with my, I have updated the answer."}, {"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576233744, "post_id": 59313630, "comment_id": 104841749, "body": "Still giving the same, you can see in the post image :("}, {"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576233917, "post_id": 59313630, "comment_id": 104841831, "body": "apply that  this.currentRowIndex = index.rowIndex; and the green button just appears on the right line, but the timer appears on all :("}, {"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "reply_to_user": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576234077, "post_id": 59313630, "comment_id": 104841913, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/204187/discussion-between-ashot-aleqsanyan-and-harry\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "reply_to_user": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576234172, "post_id": 59313630, "comment_id": 104841965, "body": "@Harry I think you need to do  replace <code>{{display}}</code> with <code>{{currentRowIndex === data.rowIndex ? display : &#39;00&#39;}}</code>"}, {"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "reply_to_user": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576234287, "post_id": 59313630, "comment_id": 104842029, "body": "@Harry I have updaed the answer, Please have a look at html"}, {"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576235377, "post_id": 59313630, "comment_id": 104842573, "body": "I already solved the display problem when it is paused. The only problem left is that when I click play all the other buttons disappear :("}, {"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576235671, "post_id": 59313630, "comment_id": 104842705, "body": "Already updated the post with the remaining problem, thank you for trying to help me"}, {"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "reply_to_user": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "edited": false, "score": 0, "creation_date": 1576260013, "post_id": 59313630, "comment_id": 104854663, "body": "@Harry here is the stackblitz example please have a look I tried to create the simple example <a href=\"https://stackblitz.com/edit/angular-nw1uhp?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-nw1uhp?file=src/app/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1576234258, "last_edit_date": 1576234258, "creation_date": 1576189870, "answer_id": 59313630, "question_id": 59295236, "link": "https://stackoverflow.com/questions/59295236/angular-enable-button-only-on-line-where-clicked/59313630#59313630", "title": "Angular - Enable button only on line where clicked", "body": "<p>If I understand correctly your question, \nI can offer this solution.</p>\n\n<pre><code>&lt;div *dxTemplate=\"let data of 'cellTemplate'\"&gt;\n      &lt;button type=\"button\" data-toggle=\"dropdown\" class=\"btn ClassPlay\"&gt;\n        &lt;img src=\"./assets/play.svg\" *ngIf=\"currentState=='pause'\"&gt;\n        &lt;img src=\"./assets/playV.svg\" *ngIf=\"currentState=='start' &amp;&amp; currentRowIndex === data.rowIndex\"&gt;\n      &lt;/button&gt;\n      &lt;div class=\"dropdown-menu\"&gt;\n        &lt;a class=\"dropdown-item\" *ngIf=\"currentState=='pause'\" routerLinkActive=\"active\"\n          (click)=\"currentState='start'; startTimer(data, data.rowIndex)\"&gt;Start&lt;/a&gt;\n        &lt;a class=\"dropdown-item\" *ngIf=\"currentState=='start' &amp;&amp; currentRowIndex === data.rowIndex\"routerLinkActive=\"active\"\n          (click)=\"currentState='pause'; pauseTimer()\"&gt;Pause&lt;/a&gt;\n      &lt;/div&gt;\n      &lt;span class=\"timer\"&gt;{{currentRowIndex === data.rowIndex ? display : '00'}}&lt;/span&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>and in .ts </p>\n\n<pre><code>currentRowIndex = null; // you need to define in your component\n\nstartTimer(index) {\n    this.currentRowIndex = index;\n    this.interval = setInterval(() =&gt; {\n      if (this.time === 0) {\n        this.time++;\n      } else {\n        this.time++;\n      }\n      this.display=this.transform( this.time)\n    }, 1000);\n  }\n\n      transform(value: number): string {\n      var sec_num = value; \n    var hours   = Math.floor(sec_num / 3600);\n    var minutes = Math.floor((sec_num - (hours * 3600)) / 60);\n    var seconds = sec_num - (hours * 3600) - (minutes * 60);\n\n    return hours+':'+minutes+':'+seconds;\n    }\n\n  pauseTimer() {\n    this.currentRowIndex = null;\n    clearInterval(this.interval);\n  }\n</code></pre>\n"}], "owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 59313630, "answer_count": 2, "score": 5, "last_activity_date": 1576239987, "creation_date": 1576104130, "last_edit_date": 1576236568, "question_id": 59295236, "link": "https://stackoverflow.com/questions/59295236/angular-enable-button-only-on-line-where-clicked", "title": "Angular - Enable button only on line where clicked", "body": "<p>I have a table with some details. My problem is that in one of the columns I have buttons. For example, I click the button on line 0 but all buttons are enabled. Does anyone know how I can solve this?</p>\n\n<p>Already tried to pass the line number, but so far unsuccessful :(</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code> &lt;div *dxTemplate=\"let data of 'cellTemplate'\"&gt;\n      &lt;button type=\"button\" data-toggle=\"dropdown\" class=\"btn ClassPlay\"&gt;\n        &lt;img src=\"./assets/play.svg\" *ngIf=\"currentState=='pause'\"&gt;\n        &lt;img src=\"./assets/playV.svg\" *ngIf=\"currentState=='start'\"&gt;\n      &lt;/button&gt;\n      &lt;div class=\"dropdown-menu\"&gt;\n        &lt;a class=\"dropdown-item\" *ngIf=\"currentState=='pause'\" routerLinkActive=\"active\"\n          (click)=\"currentState='start'; startTimer(data, data.rowIndex)\"&gt;Start&lt;/a&gt;\n        &lt;a class=\"dropdown-item\" *ngIf=\"currentState=='start'\" routerLinkActive=\"active\"\n          (click)=\"currentState='pause'; pauseTimer((data, data.rowIndex)\"&gt;Pause&lt;/a&gt;\n      &lt;/div&gt;\n      &lt;span class=\"timer\"&gt;{{display}}&lt;/span&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p><strong>Component.ts</strong></p>\n\n<pre><code>startTimer(data,row) {\n    this.interval = setInterval(() =&gt; {\n      if (this.time === 0) {\n        this.time++;\n      } else {\n        this.time++;\n      }\n      this.display=this.transform( this.time)\n    }, 1000);\n  }\n\n      transform(value: number): string {\n      var sec_num = value; \n    var hours   = Math.floor(sec_num / 3600);\n    var minutes = Math.floor((sec_num - (hours * 3600)) / 60);\n    var seconds = sec_num - (hours * 3600) - (minutes * 60);\n\n    return hours+':'+minutes+':'+seconds;\n    }\n\n  pauseTimer(data,row) {\n    clearInterval(this.interval);\n  }\n</code></pre>\n\n<p><strong>What I Tried</strong></p>\n\n<pre><code>&lt;button type=\"button\" data-toggle=\"dropdown\" class=\"btn ClassPlay\"&gt;\n        &lt;img src=\"./assets/play.svg\" *ngIf=\"currentState=='pause'\"&gt;\n        &lt;img src=\"./assets/playV.svg\" *ngIf=\"currentState=='start' &amp;&amp; currentRowIndex === data.rowIndex\"&gt;\n      &lt;/button&gt;\n      &lt;div class=\"dropdown-menu\"&gt;\n        &lt;a class=\"dropdown-item\" *ngIf=\"currentState=='pause'\" routerLinkActive=\"active\"\n          (click)=\"currentState='start'; startTimer(data)\"&gt;Start&lt;/a&gt;\n        &lt;a class=\"dropdown-item\" *ngIf=\"currentState=='start' &amp;&amp; currentRowIndex === data.rowIndex\" routerLinkActive=\"active\"\n          (click)=\"currentState='pause'; pauseTimer(data)\"&gt;Pause&lt;/a&gt;\n      &lt;/div&gt;\n      &lt;span class=\"timer\"&gt;{{currentRowIndex === data.rowIndex ? display : ''}}&lt;/span&gt;\n\n\n\nstartTimer(data) {\n    this.currentRowIndex = data.rowIndex;\n    this.interval = setInterval(() =&gt; {\n      if (this.time === 0) {\n        this.time++;\n      } else {\n        this.time++;\n      }\n      this.display=this.transform( this.time)\n    }, 1000);\n  }\n\n      transform(value: number): string {\n      var sec_num = value; \n    var hours   = Math.floor(sec_num / 3600);\n    var minutes = Math.floor((sec_num - (hours * 3600)) / 60);\n    var seconds = sec_num - (hours * 3600) - (minutes * 60);\n\n    return hours+':'+minutes+':'+seconds;\n    }\n\n  pauseTimer(data) {\n    this.currentRowIndex = data.rowIndex;\n    clearInterval(this.interval);\n  }\n</code></pre>\n\n<p><strong>The only problem now is that when I click the start button all buttons on the other lines disappear and only reappear on the next line.\nTime is also wrong, I start the timeline on one line and when I start on the other, the time always keeps adding up and not starting over as it should</strong></p>\n"}, {"tags": ["javascript", "typescript", "unit-testing", "jasmine", "karma-jasmine"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576103237, "post_id": 59295056, "comment_id": 104794521, "body": "Why <i>are</i> you using <code>Promise.all</code>? There&#39;s only ever a single promise in the array. Also it&#39;s not clear which part of this is actually supposed to be under test, you&#39;ve so much mocking going on."}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576103633, "post_id": 59295056, "comment_id": 104794641, "body": "there is another call in promise.all that i removed it to reduced code for understanding"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576103739, "post_id": 59295056, "comment_id": 104794666, "body": "@jonrsharpe core functions should return http mock response so basically trying to test <code>processResponse</code> that is part of <code>makeRequest</code>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576104073, "post_id": 59295056, "comment_id": 104794776, "body": "Your test so far doesn&#39;t make a lot of sense. You seem to be reimplementing the method under test and testing your new version. Think about this in three parts: 1. does <code>makeRequest</code> get called with the right configuration (you can easily create and inject a test double as the argument to <code>core</code>, you don&#39;t need to spy on <i>anything</i>); 2. does the <code>processResponse</code> function in those arguments do the right thing if you call it with a stubbed response; and 3. does <code>core</code> return the resulting promise?"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576104279, "post_id": 59295056, "comment_id": 104794837, "body": "@jonrsharpe wasted my whole day today for how to put that test together so that i get this test working , New to jasmine can you help me with example with my unit test. stubbedResponse that is <code>response</code> in the test is same what <code>processResponse</code> expect"}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576104427, "post_id": 59295056, "comment_id": 104794880, "body": "just want to invoke core function that execute <code>processResponse</code> and return the stubbed data"}], "owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576103891, "creation_date": 1576103164, "last_edit_date": 1576103891, "question_id": 59295056, "link": "https://stackoverflow.com/questions/59295056/how-to-unit-test-promise-all-using-jasmine", "title": "How to unit test promise.all using jasmine?", "body": "<p>I have a method <code>core</code> that make http call to get response i tried to mock <code>HttpRequest</code> responses so i can write unit test , In below code all the test cases are passed however its not reaching to actual code and fake the response so my coverage can be improved. \nAny idea what has implemented wrong ?</p>\n\n<p>main.ts</p>\n\n<pre><code>export class OrderStatusApi &lt;OrderStatusParam, OrderStatusResult&gt; {\n    function core(requestMethod) {\n      let request = [requestMethod.http.makeRequest({\n                url: {\n                    name: \"orderStatusApi\",\n                },\n                body: {\"request\": {\n                        \"header\": {\n                            \"CustomParams\": {}\n                        },\n                        \"memberInfo\": {}\n                    }},\n                processResponse: async (_response: any): Promise&lt;Interface.Core.ProcessResponse&gt; =&gt; {\n                    if (_response.response.header.statusList &amp;&amp; Array.isArray(_response.response.header.statusList.status)) {\n                        const emptyResponse = _response.response.header.statusList.status.filter((item: any) =&gt; {\n                            return item.source === \"LINKS\" &amp;&amp; item.statusDesc === \"Orders Not Found\";\n                        });\n                        if (emptyResponse.length &gt; 0) {\n                            throw {\n                                statusCode: \"0000\",\n                                statusDesc: emptyResponse[0].statusDesc,\n                                refId: args.refId\n                            };\n                        } else {\n                            return _response.response;\n                        }\n                    } else if (_response.response.header.statusCode === \"0000\") {\n                        return _response.response;\n                    } else {\n                        throw _response.response.header;\n                    }\n                }\n\n            })];\n            return Promise.all(request);\n        }\n    }\n}\n</code></pre>\n\n<p>main.spec.ts</p>\n\n<pre><code> import {\u00a0HttpRequest} from \"./common-utils\";\n    import\u00a0{OrderStatusApi}\u00a0from\u00a0\"./main\"\n    it(\"it should get success response and call processResponse promise\",\u00a0async (done) =&gt;\u00a0{\n            const response = {\n                \"response\": {\n                    \"header\": {\n                        \"statusList\": {\n                            \"status\": [{source: \"LINKS\", statusDesc: \"Orders Not Found\"}]\n                        }\n                    }\n                }\n            };\n            const HttpResponse = spyOn&lt;any&gt;(HttpRequest.http, \"makeRequest\").and.returnValue(Promise.resolve(response));\n            const\u00a0myPrivateSpy\u00a0=\u00a0spyOn&lt;any&gt;(Service,\u00a0'core').and.callThrough();\n            let _Response:any;\n    \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0myPrivateSpy.call(Service, HttpResponse)\n             .then(function(result: any){\n             const request = [HttpResponse.makeRequest({\n                 url: {name: \"123\", params: {}}, \n                 \"body\": {}, \n                 processResponse: jasmine.createSpy().and.returnValue(Promise.resolve(response))})\n                ]\n             _Response = Promise.all(request);\n             console.log(result);\n            //  _Response = result\n            expect(HttpResponse).toHaveBeenCalled(); \n            expect(_Response[0].response.header.statusList.status).toEqual([{source: \"LINKS\", statusDesc: \"Orders Not Found\"}]);   \n            expect(Service.core).toHaveBeenCalled();    \n            });   \n             done();        \n       \u00a0});\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "edited": false, "score": 0, "creation_date": 1576103388, "post_id": 59295051, "comment_id": 104794563, "body": "<a href=\"https://codepen.io/philsco/pen/BNwgRm\" rel=\"nofollow noreferrer\">codepen.io/philsco/pen/BNwgRm</a> This should put you on the rights track."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1576103607, "post_id": 59295051, "comment_id": 104794628, "body": "Quite simple: declare it <i>outside</i> the function. Everything else (from IIFE over static property of the function object to global undeclared variable) really is just a workaround."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1576103616, "post_id": 59295051, "comment_id": 104794633, "body": "Like a generator?"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1576103646, "post_id": 59295051, "comment_id": 104794644, "body": "In your case you don&#39;t need to keep track of it outside of the function<code>a = count(0); b = count(a); c = count(b)</code> Just pass in a parameter."}], "answers": [{"tags": [], "owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "is_accepted": false, "score": 0, "last_activity_date": 1576103355, "creation_date": 1576103355, "answer_id": 59295090, "question_id": 59295051, "link": "https://stackoverflow.com/questions/59295051/declare-a-variable-inside-a-javascript-function-that-keeps-its-value-on-multiple/59295090#59295090", "title": "Declare a variable inside a JavaScript function that keeps its value on multiple calls to that function", "body": "<blockquote>\n  <p>Declare a variable inside a JavaScript function that keeps its value on multiple calls to that function</p>\n</blockquote>\n\n<p>You can\u2019t. But you can declare a variable <em>outside</em> a function.</p>\n\n<pre><code>let count = 0;\n\nfunction counter() {\n  count++;\n  if (count == 3) {\n    count = 5;\n  }\n  return count;\n}\n\nlet a = counter(); // a = 1\nlet b = counter(); // b = 2\nlet c = counter(); // c = 5\nlet d = counter(); // d = 6\nlet e = counter(); // e = 7\n</code></pre>\n\n<p>Even if that variable is inside another function.</p>\n\n<pre><code>function makeCounter() {\n  let count = 0;\n\n  function counter() {\n    count++;\n    if (count == 3) {\n      count = 5;\n    }\n    return count;\n  }\n\n  return counter;\n}\n\nlet count = makeCounter();\nlet count2 = makeCounter();\nlet a = count(); // a = 1\nlet b = count(); // b = 2\nlet c = count(); // c = 5\nlet d = count(); // d = 6\nlet e = count(); // e = 7\n\nlet f = count2(); // f = 1\nlet g = count2(); // g = 2\n</code></pre>\n"}], "owner": {"reputation": 482, "user_id": 10541642, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bE2wN1w7IY8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAjYMHqt5abgxLfZHlWgWgBhaxAfg/mo/photo.jpg?sz=128", "display_name": "Viewsonic", "link": "https://stackoverflow.com/users/10541642/viewsonic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1576103635, "answer_count": 1, "score": 0, "last_activity_date": 1576103521, "creation_date": 1576103133, "last_edit_date": 1576103521, "question_id": 59295051, "link": "https://stackoverflow.com/questions/59295051/declare-a-variable-inside-a-javascript-function-that-keeps-its-value-on-multiple", "closed_reason": "Duplicate", "title": "Declare a variable inside a JavaScript function that keeps its value on multiple calls to that function", "body": "<p>How can I declare a variable inside a JavaScript function, so the following behavior happens?</p>\n\n<p>The initialization should happen once.</p>\n\n<pre><code>function count() {\n  let_special count = 0;\n  count++;\n  if (count == 3) {\n    count = 5;\n  }\n  return count;\n}\n\nlet a = count(); // a = 1\nlet b = count(); // a = 2\nlet c = count(); // a = 5\nlet d = count(); // a = 6\nlet e = count(); // a = 7\n</code></pre>\n\n<p>If I remember correctly, there was a way to do that but right now I can't find it on Google.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["reactjs", "typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1576103793, "post_id": 59295027, "comment_id": 104794693, "body": "What&#39;s an <code>ArrayList</code>?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1576111877, "post_id": 59295027, "comment_id": 104796688, "body": "Please consider editing the code to constitute a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as described by the guidelines for <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.  As it stands it references undefined types like <code>ArrayList</code> and seems to be incomplete (there&#39;s at least a missing closing brace).  It does seem like the main problem is likely to be that you&#39;re returning the function itself instead of <code>stateArrayList</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1048, "user_id": 9307290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zyp9i.png?s=128&g=1", "display_name": "Emmanuel Meric de Bellefon", "link": "https://stackoverflow.com/users/9307290/emmanuel-meric-de-bellefon"}, "is_accepted": false, "score": 1, "last_activity_date": 1576103223, "creation_date": 1576103223, "answer_id": 59295072, "question_id": 59295027, "link": "https://stackoverflow.com/questions/59295027/assigning-array-of-objects-from-const-to-array/59295072#59295072", "title": "Assigning Array of objects from const to array", "body": "<p>You're returning <code>arrayList</code> (the function) but I think you wanted actually to return <code>stateArrayList</code> (the array).</p>\n\n<p>Like this :</p>\n\n<pre><code>const arrayList = (): ArrayList[] =&gt; {\n  let remaining: number = 0\n  let stateArrayList: String[] = []\n  for (let i = 0; remaining &gt; i; i++) {\n      stateArrayList.push(\"Blah\")\n  }\n  return stateArrayList\n}\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 2026680, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/10ddf9cac4c9a5a3d1209c9e5fd51c1e?s=128&d=identicon&r=PG&f=1", "display_name": "OcelotcR", "link": "https://stackoverflow.com/users/2026680/ocelotcr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576103223, "creation_date": 1576103024, "question_id": 59295027, "link": "https://stackoverflow.com/questions/59295027/assigning-array-of-objects-from-const-to-array", "title": "Assigning Array of objects from const to array", "body": "<p>So im trying to populate an Array to then pass a prop to another Component.</p>\n\n<pre><code>const arrayList = (): ArrayList[] =&gt; {\nlet remaining: number = 0\nlet stateArrayList: String[] = []\nfor (let i = 0; remaining &gt; i; i++) {\n    stateArrayList.push(\"Blah\")\n}\nreturn (arrayList)\n</code></pre>\n\n<p>Results in the following error</p>\n\n<pre><code>Type '() =&gt; String[]' is missing the following properties from type 'String[]': pop, push, concat, join, and 27 more.  TS2322\n</code></pre>\n\n<p>I have looked around online using the TS2322 issue code, but cant seem to find a resolution.</p>\n\n<p>Any help would be appreciated</p>\n"}, {"tags": ["javascript", "python", "django", "angular", "typescript"], "comments": [{"owner": {"reputation": 498, "user_id": 6693443, "user_type": "registered", "profile_image": "https://graph.facebook.com/1157346497649699/picture?type=large", "display_name": "Geancarlo Murillo", "link": "https://stackoverflow.com/users/6693443/geancarlo-murillo"}, "edited": false, "score": 1, "creation_date": 1576102877, "post_id": 59294970, "comment_id": 104794397, "body": "share the view please"}, {"owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "reply_to_user": {"reputation": 498, "user_id": 6693443, "user_type": "registered", "profile_image": "https://graph.facebook.com/1157346497649699/picture?type=large", "display_name": "Geancarlo Murillo", "link": "https://stackoverflow.com/users/6693443/geancarlo-murillo"}, "edited": false, "score": 0, "creation_date": 1576104465, "post_id": 59294970, "comment_id": 104794898, "body": "@GeancarloMurillo Ive added if you need more, tell me."}, {"owner": {"reputation": 3517, "user_id": 785400, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6c07d8b5af42f5c4d21b169dcfd1bda0?s=128&d=identicon&r=PG", "display_name": "Brian Dant", "link": "https://stackoverflow.com/users/785400/brian-dant"}, "edited": false, "score": 1, "creation_date": 1576105097, "post_id": 59294970, "comment_id": 104795081, "body": "I gather that you&#39;re using Django Rest Framework? It looks like this error is being raised: <a href=\"https://github.com/encode/django-rest-framework/blob/335054a5d36b352a58286b303b608b6bf48152f8/rest_framework/exceptions.py#L208\" rel=\"nofollow noreferrer\">github.com/encode/django-rest-framework/blob/&hellip;</a>. If so, the solution is probably to use a different parser: <a href=\"https://www.django-rest-framework.org/api-guide/parsers/#multipartparser\" rel=\"nofollow noreferrer\">django-rest-framework.org/api-guide/parsers/#multipartparser</a>&zwnj;&#8203;."}, {"owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "edited": false, "score": 0, "creation_date": 1576105894, "post_id": 59294970, "comment_id": 104795330, "body": "Yes its Django rest framework. Where in my code would I have to put the different parser?"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1576114377, "post_id": 59294970, "comment_id": 104797181, "body": "@ColinRagnar&#246;k Did you read the section entitled \u201csetting the parsers\u201d in that link?"}, {"owner": {"reputation": 13, "user_id": 9640094, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Usama Haider", "link": "https://stackoverflow.com/users/9640094/usama-haider"}, "edited": false, "score": 0, "creation_date": 1602017618, "post_id": 59294970, "comment_id": 113590678, "body": "If you you are using django rest and passing through html form than try passing through raw using json it worked for me"}], "owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1346, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1602017618, "creation_date": 1576102721, "last_edit_date": 1576104424, "question_id": 59294970, "link": "https://stackoverflow.com/questions/59294970/unsupported-media-type-multipart-form-data-boundary-webkitformboundaryabc", "title": "Unsupported media type &quot;multipart/form-data; boundary=----WebKitFormBoundaryABC&quot; when requesting to Django server", "body": "<p>I'm uploading a set of data (file, string, number, bool) to an Django api. The docs says <code>Note: the schema is not json it's multipart</code> so I made use of formData which is multipart. But when I upload this form I get this error </p>\n\n<blockquote>\n  <p>\"Unsupported media type \"multipart/form-data;\n  boundary=----WebKitFormBoundaryABC\" in request\"</p>\n</blockquote>\n\n<p>so I tried to add the content type multipart httpheader but this also resulted in an error: </p>\n\n<blockquote>\n  <p>unsupported mediative \"multipart\" in request</p>\n</blockquote>\n\n<p>I actually don't know where the error lies. Either in the api or in my front end code, so I'll add the essential parts of both down here:</p>\n\n<p>Django:</p>\n\n<p>models.py</p>\n\n<pre><code>class Post(models.Model):\n    user = models.ForeignKey(settings.AUTH_USER_MODEL, related_name='posts', on_delete=models.CASCADE)\n\n    src = models.ImageField(blank=False, null=False, editable=False, upload_to=utils.get_file_path,)\n    date_posted = models.DateTimeField(auto_now_add=True, editable=False)\n    last_modified = models.DateTimeField(auto_now=True)\n    when = models.FloatField(blank=True, null=True)\n    lock = models.BooleanField(default=False)\n    des = models.CharField(\n        max_length=100,\n        validators=[\n            RegexValidator(\n                regex='^[-_a-zA-Z0-9\\.]+$',\n                message='only 1 to 20 characters and only letters, numbers, point, minus and underscore are allowed',\n            ),\n        ])\n</code></pre>\n\n<p>view.py</p>\n\n<pre><code>  @swagger_auto_schema(request_body=doc_serializer.CreatePostDummy, responses={201: PostSerializer})\n        def create(self, request, *args, **kwargs):\n            \"\"\"permission required: authenticated. Note: the schema is not json it's multipart\"\"\"\n            return super().create(request, *args, **kwargs)\n</code></pre>\n\n<p>doc_serializers.py</p>\n\n<pre><code>class CreatePostDummy(serializers.HyperlinkedModelSerializer):\n    user = serializers.HyperlinkedRelatedField(required=False, read_only=True, view_name='user-detail')\n    src = serializers.CharField(required=True, help_text='Not Char but image upload field')\n</code></pre>\n\n<p>frontend</p>\n\n<p>upload.ts</p>\n\n<pre><code>  ngOnInit() {\n\n    this.categoryForm = new FormGroup({\n\n\n      'lock': new FormControl(true),\n\n      'des': new FormControl('', Validators.compose([\n        Validators.maxLength(25),\n        Validators.minLength(1),\n        Validators.required\n      ])),\n\n      'image': new FormControl(null),\n      'when': new FormControl(null),\n    });\n\n}\n\napiSubmit() {\n  const formData = new FormData();\n  formData.append('lock', this.categoryForm.get('lock').value);\n  formData.append('des', this.categoryForm.get('des').value);\n  formData.append('image', this.categoryForm.get('image').value);\n  formData.append('when', this.categoryForm.get('when').value);\n\n\n  this.http.post&lt;any&gt;(`{this.url}`, formData).subscribe(\n    (res) =&gt; console.log(res),\n    (err) =&gt; console.log(err)\n  );\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1844, "user_id": 5662805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45a62036fef674591172e904bad55e9?s=128&d=identicon&r=PG&f=1", "display_name": "wuarmin", "link": "https://stackoverflow.com/users/5662805/wuarmin"}, "is_accepted": false, "score": 0, "last_activity_date": 1576134291, "last_edit_date": 1576134291, "creation_date": 1576100408, "answer_id": 59294521, "question_id": 59294278, "link": "https://stackoverflow.com/questions/59294278/new-react-framework/59294521#59294521", "title": "New React framework", "body": "<p>This is typescript related. You have to be explicit about your properties and state.</p>\n\n<pre><code>type AppProps = {}\n\ntype AppState = {\n  logUsername: string,\n  logPassword: string,\n  username: string,\n  password: string\n}\n\nclass App extends React.Component&lt;AppProps, AppState&gt; {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 12521025, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-l1DbjmgDMB0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdkDGYz0JeopwR9Km2_lW43m43QBw/photo.jpg?sz=128", "display_name": "Bud S.", "link": "https://stackoverflow.com/users/12521025/bud-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1576134291, "creation_date": 1576099296, "last_edit_date": 1576099457, "question_id": 59294278, "link": "https://stackoverflow.com/questions/59294278/new-react-framework", "title": "New React framework", "body": "<p>I haven't done a react app in a couple months but when I started a new one and trying to import my old function I am getting this error:</p>\n\n<pre><code>C:/Users/Hello/Documents/Dev/contacts/client/src/App.tsx\nTypeScript error in C:/Users/Hello/Documents/Dev/contacts/client/src/App.tsx(24,28):\nProperty 'logUsername' does not exist on type 'Readonly&lt;{}&gt;'.  TS2339\n\n  handleLoginSubmit = (e: any) =&gt; {\n    e.preventDefault();\n    const user = {\n      username: this.state.logUsername,\n      password: this.state.logPassword\n    };\n    this.props.login(user);\n  };\n</code></pre>\n\n<p>This is from a fresh install of create-react-app and\nnpx create-react-app client --template typescript</p>\n\n<p>Here's the only file that I changed , App.tsx:</p>\n\n<pre><code>    import React, { Component } from \"react\";\nimport \"./App.css\";\n\nexport default class App extends Component {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      logUsername: \"\",\n      logPassword: \"\"\n    };\n  }\n\n  handleChange = (e: any) =&gt; {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  handleLoginSubmit = (e: any) =&gt; {\n    e.preventDefault();\n    const user = {\n      username: this.state.logUsername,\n      password: this.state.logPassword\n    };\n    this.props.login(user);\n  };\n  render() {\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;header className=\"App-header\"&gt;\n          &lt;p&gt;enter email to unsub from this mailing list:&lt;/p&gt;\n          &lt;form onSubmit={this.handleLoginSubmit}&gt;\n            &lt;input\n              className=\"inputs\"\n              onChange={this.handleLoginChange}\n              type=\"text\"\n              name=\"email\"\n              value={this.state.logUsername}\n              placeholder=\"email\"\n            /&gt;\n            &lt;button className=\"homeButtons\" id=\"logInBttn\"&gt;\n               Submit\n            &lt;/button&gt;\n          &lt;/form&gt;\n        &lt;/header&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "esdoc"], "comments": [{"owner": {"reputation": 482, "user_id": 4429729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hqk7o.png?s=128&g=1", "display_name": "Papooch", "link": "https://stackoverflow.com/users/4429729/papooch"}, "edited": false, "score": 0, "creation_date": 1616571857, "post_id": 59294167, "comment_id": 118041021, "body": "The plugin has been abandoned for 3 years now, and it still says it&#39;s only a PoC. Have you managed to make it work or find an alternative?"}, {"owner": {"reputation": 1033, "user_id": 888393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/272404e5d8824647dcdbba2b298fc09f?s=128&d=identicon&r=PG", "display_name": "KorHosik", "link": "https://stackoverflow.com/users/888393/korhosik"}, "reply_to_user": {"reputation": 482, "user_id": 4429729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hqk7o.png?s=128&g=1", "display_name": "Papooch", "link": "https://stackoverflow.com/users/4429729/papooch"}, "edited": false, "score": 0, "creation_date": 1616685053, "post_id": 59294167, "comment_id": 118085702, "body": "@Papooch unfortunately not, I just gave up :/"}], "owner": {"reputation": 1033, "user_id": 888393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/272404e5d8824647dcdbba2b298fc09f?s=128&d=identicon&r=PG", "display_name": "KorHosik", "link": "https://stackoverflow.com/users/888393/korhosik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1576098797, "creation_date": 1576098797, "question_id": 59294167, "link": "https://stackoverflow.com/questions/59294167/esdoc-with-typescript-how-to-use-comment-blocks", "title": "ESDoc with TypeScript: how to use comment blocks?", "body": "<p>I use <a href=\"https://esdoc.org/\" rel=\"nofollow noreferrer\">ESDoc</a> to generate a documentation for a JS project. It works well!<br>\nI now want to migrate this JS project into a TS project. For the documentation, I saw <a href=\"https://www.npmjs.com/package/esdoc-typescript-plugin\" rel=\"nofollow noreferrer\">this plugin</a> to help ESDoc handle TypeScript.  </p>\n\n<p>It kinds of work. By simply using the plugin, the doc is generated like before, as seen below:</p>\n\n<pre><code>   /**\n   * @desc Stringify a number\n   * @param {number} nbr Number to stringify.\n   * @return {string} The stringified number.\n   * @example const str = stringify(42);\n   */\n  stringify(nbr: number): string {\n    return `${nbr}`;\n  }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kiToS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kiToS.png\" alt=\"The documentation is well generated\"></a></p>\n\n<p>I find it's a bit awkward to define the types with TypeScript <strong>and</strong> inside the comment block. So, like <a href=\"https://www.npmjs.com/package/esdoc-typescript-plugin#example\" rel=\"nofollow noreferrer\">the documentation says</a>, I've removed these types from the comments:</p>\n\n<pre><code>   /**\n   * @desc Stringify a number\n   * @param nbr Number to stringify.\n   * @return The stringified number.\n   * @example const str = stringify(42);\n   */\n  stringify(nbr: number): string {\n    return `${nbr}`;\n  }\n</code></pre>\n\n<p>But because of that, the generated documentation has lost the types. TypeScript's types are not taken into account:</p>\n\n<p><a href=\"https://i.stack.imgur.com/95vXL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95vXL.png\" alt=\"Types are lost\"></a></p>\n\n<p>Funny thing, if I remove the tag <code>@desc</code> (and just the tag, not the corresponding text) like below, the results are also different:</p>\n\n<pre><code>   /**\n   * Stringify a number\n   * @param nbr Number to stringify.\n   * @return The stringified number.\n   * @example const str = stringify(42);\n   */\n  stringify(nbr: number): string {\n    return `${nbr}`;\n  }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/u2YdL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u2YdL.png\" alt=\"Lot of information are missing\"></a></p>\n\n<p>This time, TypeScript's types are taken into account, but I've lost <code>@param</code> and <code>@return</code> descriptions and even the <code>@example</code>!</p>\n\n<p>I must say I'm running out of ideas...</p>\n\n<p><strong>Do you know how can I take advantages of TypesScript's types without losing the rest of the documentation?</strong> </p>\n\n<p>According to <a href=\"https://www.npmjs.com/package/esdoc-typescript-plugin#example\" rel=\"nofollow noreferrer\">the documentation of esdoc-typescript-plugin</a>, it's possible, but I can't manage to do that.<br>\nWhat am I doing wrong? :)</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["typescript", "vue.js", "websocket"], "comments": [{"owner": {"reputation": 348, "user_id": 457562, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efcb292a843bda5a86dc1ca50713ab9d?s=128&d=identicon&r=PG", "display_name": "JoeC", "link": "https://stackoverflow.com/users/457562/joec"}, "edited": false, "score": 0, "creation_date": 1585705663, "post_id": 59294129, "comment_id": 107854456, "body": "Did you ever figure out why this wasn&#39;t working? I&#39;m having the same problem."}], "answers": [{"tags": [], "owner": {"reputation": 348, "user_id": 457562, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/efcb292a843bda5a86dc1ca50713ab9d?s=128&d=identicon&r=PG", "display_name": "JoeC", "link": "https://stackoverflow.com/users/457562/joec"}, "is_accepted": false, "score": 0, "last_activity_date": 1585842229, "creation_date": 1585842229, "answer_id": 60995516, "question_id": 59294129, "link": "https://stackoverflow.com/questions/59294129/this-socket-undefined-with-vue-native-websocket-and-vue-socket-io-in-vue-typesc/60995516#60995516", "title": "this.$socket undefined with vue-native-websocket and vue-socket.io in vue typescript application", "body": "<p>I found that accessing it this way works: <code>Vue.prototype.$socket</code></p>\n"}], "owner": {"reputation": 29, "user_id": 5407635, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OQRolsqjJgU/AAAAAAAAAAI/AAAAAAAABQ8/6Lt4W2xRbAo/photo.jpg?sz=128", "display_name": "Lo&#239;c Griveau", "link": "https://stackoverflow.com/users/5407635/lo%c3%afc-griveau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1585842229, "creation_date": 1576098625, "last_edit_date": 1576101787, "question_id": 59294129, "link": "https://stackoverflow.com/questions/59294129/this-socket-undefined-with-vue-native-websocket-and-vue-socket-io-in-vue-typesc", "title": "this.$socket undefined with vue-native-websocket and vue-socket.io in vue typescript application", "body": "<p>I use Vue Typescript and I want to use WebSocket in my application. I tried <code>view-native-websocket</code> and <code>view-socket.io</code> and I am confused with the same problems with both packages.</p>\n\n<p>First, they do not seem to be compatible typescript. (The compiler displays the message: \"Could not find a declaration file for module 'vue-...\")</p>\n\n<p>But the main problem is that in the Vue components <code>this.$socket</code> is undefined, like <code>this.$connection</code> or <code>this.$options.socket</code>, although I added the Vue.use statement below in the main.ts as shown in the documentation.</p>\n\n<blockquote>\n  <p><code>import VueNativeSock from 'vue-native-websocket'\n  Vue.use(VueNativeSock,'ws://localhost:8999')</code>;</p>\n</blockquote>\n\n<p>Can someone explain to me why?</p>\n"}, {"tags": ["node.js", "typescript", "express", "multer", "nestjs"], "comments": [{"owner": {"reputation": 2865, "user_id": 8468804, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tBXMi.jpg?s=128&g=1", "display_name": "Chau Tran", "link": "https://stackoverflow.com/users/8468804/chau-tran"}, "edited": false, "score": 0, "creation_date": 1576249105, "post_id": 59294070, "comment_id": 104849419, "body": "Guards run before Interceptors. Have you tried using a custom middleware?"}], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 8518207, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5072d7142146fd8f55e4a3b86ccaa8b0?s=128&d=identicon&r=PG&f=1", "display_name": "asus", "link": "https://stackoverflow.com/users/8518207/asus"}, "edited": false, "score": 0, "creation_date": 1613975927, "post_id": 61407264, "comment_id": 117231969, "body": "could you elaborate on <code>you need to clone the request object before modifying it in your guard</code> this part? How do you cloine the req obj?&gt;"}], "tags": [], "owner": {"reputation": 11, "user_id": 3734603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17830603cd9c7794751a43d2642d9d29?s=128&d=identicon&r=PG&f=1", "display_name": "Hastou", "link": "https://stackoverflow.com/users/3734603/hastou"}, "is_accepted": false, "score": 1, "last_activity_date": 1587727524, "creation_date": 1587727524, "answer_id": 61407264, "question_id": 59294070, "link": "https://stackoverflow.com/questions/59294070/nestjs-receive-form-data-in-guards/61407264#61407264", "title": "NestJS: Receive form-data in Guards?", "body": "<p>NestJS guards are always executed before any middleware. You can use multer manually on the request object you get from the context.</p>\n\n<pre><code>import * as multer from 'multer'\n...\nasync canActivate(context: ExecutionContext): Promise&lt;boolean&gt; {\n  const request: Request = context.switchToHttp().getRequest();\n  const postMulterRequest = await new Promise((resolve, reject) =&gt; {\n    multer().any()(request, {}, function(err) {\n      if (err) reject(err);\n      resolve(request);\n    });\n  });\n  // postMulterRequest has a completed body\n  return true;\n}\n</code></pre>\n\n<p>If you want to use the @UploadedFiles decorator, you need to clone the request object before modifying it in your guard.</p>\n\n<p>Of course you need to have installed the multer module with:</p>\n\n<pre><code>npm install multer\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 11761747, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZFOOHTNwQnw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfCUUcTu-SiwHcp-rEi6LaZdz9aDQ/photo.jpg?sz=128", "display_name": "Bbbbob", "link": "https://stackoverflow.com/users/11761747/bbbbob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2484, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1587727524, "creation_date": 1576098368, "question_id": 59294070, "link": "https://stackoverflow.com/questions/59294070/nestjs-receive-form-data-in-guards", "title": "NestJS: Receive form-data in Guards?", "body": "<p>I'm looking to see form-data in my NestJS Guards. I've <a href=\"https://docs.nestjs.com/guards#authorization-guard\" rel=\"nofollow noreferrer\">followed the tutorial</a>, however, I'm not seeing the request body for my form-data input. I do see the body once I access a route within my controller, however. </p>\n\n<p>Here's some code snippets of what I'm working with:</p>\n\n<pre><code>module.ts\n\n\n...\n\n@Module({\n  imports: [\n    MulterModule.register({\n      limits: { fileSize: MULTER_UPLOAD_FILESIZE_BYTES },\n    }),\n  ],\n  controllers: [MainController],\n  providers: [\n    MainService,\n    AuthGuard,\n  ],\n})\n...\n\n</code></pre>\n\n<pre><code>AuthGuard.ts\n\n\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  canActivate(\n    context: ExecutionContext,\n  ): boolean | Promise&lt;boolean&gt; | Observable&lt;boolean&gt; {\n    const request = context.switchToHttp().getRequest(); // body is empty if form-data is used\n    return true;\n  }\n}\n</code></pre>\n\n<pre><code>MainController.ts\n\n\n...\n\n@Post(\"/upload\")\n@UseInterceptors(AnyFilesInterceptor())\n@UseGuards(AuthGuard)\n  async upload(\n    @Body() body: UploadDTO,\n    @UploadedFiles() files: any[]\n  ): Promise&lt;any&gt; {\n    console.log(body) // works as expected, whether form-data is used or not\n    ...\n  }\n...\n</code></pre>\n\n<p>Any feedback would be greatly appreciated!</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1576096849, "post_id": 59293734, "comment_id": 104792121, "body": "In the first example, you have <code>a</code> as the variant but use <code>x</code>. <code>a=&gt;{console.log(x)}</code>"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1576096956, "post_id": 59293734, "comment_id": 104792161, "body": "your first example (now fixed) has no errors in it, could you share the actual code that is raising problems? (I suspect you have mismatched parenthesis in your code)"}, {"owner": {"reputation": 290, "user_id": 4326551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5155fb5e422693c07686ee21c96358?s=128&d=identicon&r=PG&f=1", "display_name": "Legna", "link": "https://stackoverflow.com/users/4326551/legna"}, "edited": false, "score": 0, "creation_date": 1576096964, "post_id": 59293734, "comment_id": 104792165, "body": "Ouch... But the question remaining same"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1576097027, "post_id": 59293734, "comment_id": 104792185, "body": "I don&#39;t see that error if I run that code, so I&#39;m not sure what it telling you that."}, {"owner": {"reputation": 290, "user_id": 4326551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5155fb5e422693c07686ee21c96358?s=128&d=identicon&r=PG&f=1", "display_name": "Legna", "link": "https://stackoverflow.com/users/4326551/legna"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1576097287, "post_id": 59293734, "comment_id": 104792280, "body": "@TadhgMcDonald-Jensen You are rigth. Now I see. Its a Visual Code error, not in my  code."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1576097442, "post_id": 59293734, "comment_id": 104792361, "body": "@Angel no linters are pretty good at this stuff, if you are being told you are using the comma operator without meaning to you probably have something like <code>(a,b)</code> in a context that is ignoring <code>a</code> like if you used <code>()</code> parenthesis instead of <code>[]</code> brackets for your list you would get that error."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1576097454, "post_id": 59293734, "comment_id": 104792369, "body": "What is the previous line of your code? It could be one of those rare cases where you need to add a semicolon."}, {"owner": {"reputation": 290, "user_id": 4326551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5155fb5e422693c07686ee21c96358?s=128&d=identicon&r=PG&f=1", "display_name": "Legna", "link": "https://stackoverflow.com/users/4326551/legna"}, "edited": false, "score": 0, "creation_date": 1576098591, "post_id": 59293734, "comment_id": 104792826, "body": "Check my update."}], "answers": [{"comments": [{"owner": {"reputation": 290, "user_id": 4326551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5155fb5e422693c07686ee21c96358?s=128&d=identicon&r=PG&f=1", "display_name": "Legna", "link": "https://stackoverflow.com/users/4326551/legna"}, "edited": false, "score": 0, "creation_date": 1576099618, "post_id": 59294289, "comment_id": 104793247, "body": "Yep, this work but, what if I don&#39;t use semicolon in all my code?"}, {"owner": {"reputation": 17417, "user_id": 532870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IMaxz.jpg?s=128&g=1", "display_name": "Elian Ebbing", "link": "https://stackoverflow.com/users/532870/elian-ebbing"}, "edited": false, "score": 0, "creation_date": 1576099643, "post_id": 59294289, "comment_id": 104793253, "body": "Good answer! Maybe good to emphasize that <code>&#39;1&#39;, &#39;2&#39;, &#39;manyElements&#39;</code> is a valid expression on its own. The comma is also an operator in javascript that evaluates both sides of the comma, but only returns the value of the last expression."}, {"owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "edited": false, "score": 0, "creation_date": 1576100028, "post_id": 59294289, "comment_id": 104793406, "body": "There are several pages in internet about semicolon usage and how they are inportant. For example <a href=\"https://codeburst.io/why-i-prefer-to-use-semicolon-in-javascript-f00c303547\" rel=\"nofollow noreferrer\">codeburst.io/&hellip;</a>. If you didn&#39;t put semicolons in all your code you can fix it with eslint. <a href=\"https://eslint.org/docs/rules/semi\" rel=\"nofollow noreferrer\">eslint.org/docs/rules/semi</a> It will put semicolons in all places"}], "tags": [], "owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "is_accepted": true, "score": 2, "last_activity_date": 1576099344, "creation_date": 1576099344, "answer_id": 59294289, "question_id": 59293734, "link": "https://stackoverflow.com/questions/59293734/direct-array-without-use-let-const-or-any-assignment-word/59294289#59294289", "title": "Direct array without use let, const or any assignment word", "body": "<p>The problem is not with <code>['1', '2', 'manyElements'].forEach( (x)=&gt;console.log(x) )</code> but with absence of semicolon on previous line. TS (as JS) put semicolons by itself, but in some situations it cannot guess where it is correct place to put semicolon.</p>\n\n<p>So consider code</p>\n\n<pre><code>function f1() { return 'a' }\n\nf1()\n\n[1, 2, 3].forEach(x =&gt; x)  // Same error here\n</code></pre>\n\n<p>TS thinks that you want to do <code>f1()[1]</code>, access first element of returned array from <code>f1()</code>. </p>\n\n<p>You haven't put semicolon, and TS interprets lines </p>\n\n<pre><code>con.updateValueAndValidity()\n\n['1', '2', 'manyElements'].forEach( (x)=&gt;console.log(x) )\n</code></pre>\n\n<p>as one continuous line <code>con.updateValueAndValidity()['1', '2', 'manyElements'].forEach( (x)=&gt;console.log(x) )</code> And such line is erroneous.</p>\n\n<p>Putting semicolon will solve problem</p>\n\n<pre><code>con.updateValueAndValidity(); // No problem now\n\n['1', '2', 'manyElements'].forEach( (x)=&gt;console.log(x) )\n</code></pre>\n"}], "owner": {"reputation": 290, "user_id": 4326551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5155fb5e422693c07686ee21c96358?s=128&d=identicon&r=PG&f=1", "display_name": "Legna", "link": "https://stackoverflow.com/users/4326551/legna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 59294289, "answer_count": 1, "score": 0, "last_activity_date": 1576099566, "creation_date": 1576096752, "last_edit_date": 1576099566, "question_id": 59293734, "link": "https://stackoverflow.com/questions/59293734/direct-array-without-use-let-const-or-any-assignment-word", "title": "Direct array without use let, const or any assignment word", "body": "<p>I tried to do this in my code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>['ele', 'ele2' , 'manyElements...'].forEach(a=&gt;{console.log(a)})\n</code></pre>\n\n<p>But I have this error:</p>\n\n<blockquote>\n  <p>The left part of the comma operator is not used and has no side\n  effects</p>\n</blockquote>\n\n<p>Why I cant do this? Its not same like this other ting?:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>'ele,ele2,manyElements...'.split(',').forEach(x=&gt;console.log(x))\n\n</code></pre>\n\n<h1>Edit</h1>\n\n<p>Context...</p>\n\n<pre><code> conGoce(conGoce: string) {\n    const b = conGoce == 'true'\n    const con = this.f('conGoceDeSueldo')\n    const sin = this.f('sinGoceDeSueldo')\n    con.setValue(b)\n    sin.setValue(!b)\n    con.markAsTouched()\n    con.updateValueAndValidity()\n\n    ['1', '2', 'manyElements'].forEach( (x)=&gt;console.log(x) )\n  }\n\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/db6jN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/db6jN.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["node.js", "typescript", "compilation"], "answers": [{"tags": [], "owner": {"reputation": 3991, "user_id": 6299938, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af9d073d2179a984f5e6ad984a42d1d0?s=128&d=identicon&r=PG", "display_name": "Julien TASSIN", "link": "https://stackoverflow.com/users/6299938/julien-tassin"}, "is_accepted": true, "score": 0, "last_activity_date": 1576956278, "creation_date": 1576956278, "answer_id": 59439226, "question_id": 59293719, "link": "https://stackoverflow.com/questions/59293719/typescript-generates-invalid-triple-slash-directive/59439226#59439226", "title": "Typescript generates invalid triple slash directive", "body": "<p>If someone has the same problem.</p>\n\n<p>It was a problem due to an augmentation of the node http module in an inner lib.</p>\n\n<pre><code>declare module 'http' { \n...\n}\n</code></pre>\n\n<p>Dropping this augmentation solved the problem</p>\n"}], "owner": {"reputation": 3991, "user_id": 6299938, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af9d073d2179a984f5e6ad984a42d1d0?s=128&d=identicon&r=PG", "display_name": "Julien TASSIN", "link": "https://stackoverflow.com/users/6299938/julien-tassin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 59439226, "answer_count": 1, "score": 0, "last_activity_date": 1576956278, "creation_date": 1576096686, "last_edit_date": 1576097199, "question_id": 59293719, "link": "https://stackoverflow.com/questions/59293719/typescript-generates-invalid-triple-slash-directive", "title": "Typescript generates invalid triple slash directive", "body": "<p>With typescript 3.7.3, when I build my project it generates invalid triple slash directives in my main <code>index.d.ts</code>.</p>\n\n<p>this is an extract of my <code>index.d.ts</code> :</p>\n\n<pre><code>/// &lt;reference path=\"types/augmentations.d.ts\" /&gt;\n/// &lt;reference types=\"node\" /&gt;\n/// &lt;reference types=\"fastify\" /&gt;\n/// &lt;reference types=\"mongoose\" /&gt;\n/// &lt;reference types=\"@keplr/backend-types/lib/mongo\" /&gt;\n/// &lt;reference types=\"node/http\" /&gt;\n/// &lt;reference types=\"@keplr/backend-types/lib/fastify\" /&gt;\n/// &lt;reference types=\"fastify-cookie\" /&gt;\n/// &lt;reference types=\"fastify-multipart\" /&gt;\nimport * as email from './helpers/email';\nimport * as password from './helpers/password';\nimport * as token from './helpers/token';\nexport declare const models: {\n    ...\n};\nexport declare const plugins: {\n    MainPlugin: (instance: import(\"fastify\").FastifyInstance&lt;import(\"http\").Server, import(\"http\").IncomingMessage, import(\"http\").ServerResponse&gt;, options: unknown, callback: (err?: import(\"fastify\").FastifyError | undefined) =&gt; void) =&gt; void;\n    RouteLessPlugin: (instance: import(\"fastify\").FastifyInstance&lt;import(\"http\").Server, import(\"http\").IncomingMessage, import(\"http\").ServerResponse&gt;, options: unknown, callback: (err?: import(\"fastify\").FastifyError | undefined) =&gt; void) =&gt; void;\n};\n</code></pre>\n\n<p>The line <code>/// &lt;reference types=\"node/http\" /&gt;</code> is invalid and generates errors.</p>\n\n<p>How can I prevent TS to generate triple slash directives for <code>node/http</code> ?</p>\n\n<p>I tried with TS 3.6, it's still the same.</p>\n\n<p>Here is my <code>tsconfig</code> : </p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es2020\",\n    \"lib\": [\"es2020\", \"esnext.asynciterable\"],\n    \"module\": \"commonjs\",\n    \"declaration\": true,\n    \"outDir\": \"./lib\",\n    \"rootDir\": \"./src\",\n    \"strict\": true,\n    \"incremental\": true,\n    \"tsBuildInfoFile\": \"./.tsbuildinfo\",\n    \"noUnusedLocals\": true,\n    \"esModuleInterop\": false\n  },\n  \"include\": [\"./src/**/*.ts\"],\n  \"exclude\": [\"**/__tests__\"]\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "npm", "yarnpkg"], "owner": {"reputation": 21, "user_id": 12498399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b044db557bdf5345981b9e7c9060b914?s=128&d=identicon&r=PG&f=1", "display_name": "Motolynxz", "link": "https://stackoverflow.com/users/12498399/motolynxz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 535, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576094999, "creation_date": 1576094999, "question_id": 59293329, "link": "https://stackoverflow.com/questions/59293329/how-can-i-fix-typescript-error-ts2314-ts-2339-preventing-yarn-build", "title": "How can I fix Typescript Error TS2314, TS 2339 preventing Yarn Build", "body": "<p>I'm completely new to updating/managing/editing any webpack/cli tools or versions, I'm also new to using Yarn and Yarn Dist, etc.... I recently started a project that has Typescript in it and we installed a third party npm package and it didn't please TS. Additionally, Typescript is yelling about useState &amp; setState. Could someone kindly point me in the right direction? Thanks so much for any help!</p>\n\n<p>Errors:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>stdout: '$ tsc --declaration\\n' +\r\n    \"../../node_modules/react-avatar-editor/dist/index.d.ts(16,23): error TS2314: Generic type 'TouchEvent&lt;T&gt;' requires 1 type argument(s).\\n\" +\r\n    \"../../node_modules/react-avatar-editor/dist/index.d.ts(16,42): error TS2314: Generic type 'MouseEvent&lt;T&gt;' requires 1 type argument(s).\\n\" +\r\n    \"src/hooks/userProfileImage.ts(5,43): error TS2339: Property 'useState' does not exist on type 'typeof React'.\\n\" +\r\n    \"src/hooks/userProfileImage.ts(6,11): error TS2339: Property 'useEffect' does not exist on type 'typeof React'.\\n\" +\r\n    'info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\\n',\r\n  stderr: '(node:20624) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.\\n' +\r\n    'warning package.json: No license field\\n' +\r\n    'error Command failed with exit code 2.\\n',</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>package.json\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n  \"name\": \"rsv8-components\",\r\n  \"version\": \"0.3.11\",\r\n  \"main\": \"./dist/module.js\",\r\n  \"types\": \"./dist/module.d.ts\",\r\n  \"dependencies\": {\r\n    \"react-scroll-to\": \"^1.2.2\",\r\n    \"react-slick\": \"^0.23.1\",\r\n    \"slick-carousel\": \"^1.8.1\",\r\n    \"react-slick-deux\": \"https://github.com/aboorde/react-slick-deux#master\",\r\n    \"tslib\": \"^1.9.3\",\r\n    \"xcel-observer\": \"*\"\r\n  },\r\n  \"peerDependencies\": {\r\n    \"react\": \"^16.8.0\",\r\n    \"react-bootstrap\": \"0.32.1\",\r\n    \"react-dom\": \"^16.8.0\",\r\n    \"react-fontawesome\": \"^1.6.1\",\r\n    \"react-router-dom\": \"^4.2.2\",\r\n    \"react-toastify\": \"^4.1.0\",\r\n    \"styled-components\": \"^2.4.0\",\r\n    \"recompose\": \"^0.28.1\",\r\n    \"xcel-react-animations\": \"*\",\r\n    \"xcel-react-core\": \"*\",\r\n    \"xcel-redux-orm\": \"*\",\r\n    \"xcel-util\": \"*\",\r\n    \"xcel-asset-service\": \"*\"\r\n  },\r\n  \"scripts\": {\r\n    \"start\": \"react-scripts-ts start\",\r\n    \"build\": \"react-scripts-ts build\",\r\n    \"fix-me-test\": \"react-scripts-ts test --env=jsdom\",\r\n    \"eject\": \"react-scripts-ts eject\",\r\n    \"dist\": \"tsc --declaration\",\r\n    \"dist:watch\": \"tsc --declaration --watch\",\r\n    \"storybook\": \"start-storybook -p 6006 -c .storybook\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"//\": \"peerDependencies\",\r\n    \"@storybook/addon-actions\": \"^4.0.0\",\r\n    \"@storybook/addon-knobs\": \"^4.0.0\",\r\n    \"@storybook/react\": \"^4.0.0\",\r\n    \"@types/jest\": \"^22.2.3\",\r\n    \"@types/node\": \"^8.9.1\",\r\n    \"@types/react\": \"^16.3.16\",\r\n    \"@types/react-dom\": \"^16.0.4\",\r\n    \"@types/react-router-dom\": \"^4.2.3\",\r\n    \"awesome-typescript-loader\": \"^3.4.1\",\r\n    \"enzyme-adapter-react-16\": \"^1.1.0\",\r\n    \"jest\": \"^23.6.0\",\r\n    \"jest-cli\": \"^23.4.1\",\r\n    \"jest-styled-components\": \"4.9.0\",\r\n    \"react\": \"^16.8.0\",\r\n    \"react-bootstrap\": \"0.32.1\",\r\n    \"react-dom\": \"^16.8.0\",\r\n    \"react-fontawesome\": \"^1.6.1\",\r\n    \"react-router-dom\": \"^4.2.2\",\r\n    \"react-scripts-ts\": \"^3.1.0\",\r\n    \"react-toastify\": \"^4.1.0\",\r\n    \"styled-components\": \"^2.4.0\",\r\n    \"recompose\": \"^0.28.1\",\r\n    \"ts-jest\": \"^22.4.2\",\r\n    \"ts-node\": \"^5.0.1\",\r\n    \"typescript\": \"^2.9.0\",\r\n    \"xcel-react-animations\": \"*\",\r\n    \"xcel-react-core\": \"*\",\r\n    \"xcel-redux-orm\": \"*\",\r\n    \"xcel-util\": \"*\",\r\n    \"xcel-asset-service\": \"*\"\r\n  },\r\n  \"jest\": {\r\n    \"coverageReporters\": [\r\n      \"lcov\",\r\n      \"cobertura\",\r\n      \"text-summary\"\r\n    ],\r\n    \"testEnvironment\": \"jsdom\",\r\n    \"moduleFileExtensions\": [\r\n      \"ts\",\r\n      \"tsx\",\r\n      \"js\"\r\n    ],\r\n    \"testMatch\": [\r\n      \"&lt;rootDir&gt;/src/**/*.test.(ts|tsx)\"\r\n    ],\r\n    \"collectCoverageFrom\": [\r\n      \"&lt;rootDir&gt;/src/**/*.(ts|tsx)\",\r\n      \"!&lt;rootDir&gt;/src/**/*.test.(ts|tsx)\"\r\n    ],\r\n    \"transform\": {\r\n      \"\\\\.(ts|tsx)$\": \"ts-jest\"\r\n    }\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "edited": false, "score": 0, "creation_date": 1576097632, "post_id": 59293724, "comment_id": 104792436, "body": "Thanks for your explanations. I now understood that to import a module and keeping type, the module target must exist, whatever it will be. But how is it possible to import <code>ISDUMMY</code> module while the import states <code>from &#39;type-graphql&#39;</code> ? It will search for &#39;type-graphql&#39; in the <code>node_modules</code>. How to make it import from the <code>ISDUMMY</code> module ?"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "reply_to_user": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "edited": false, "score": 0, "creation_date": 1576097994, "post_id": 59293724, "comment_id": 104792595, "body": "put a file called <code>type-graphql.tsx</code> in the <code>node_modules</code> folder on the client side. Edited answer to clarify."}, {"owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "edited": false, "score": 0, "creation_date": 1576098436, "post_id": 59293724, "comment_id": 104792756, "body": "Adding a file in <code>node_modules</code> is not a stable solution. If dependencies are updated / reinstalled, the module will be deleted. Furthermore the dummy module wont be committed in git, so we have to recreate a dummy module for each dependencies git repo is cloned. Generally, one should never rely on edits made in the <code>node_module</code> folder."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "reply_to_user": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "edited": false, "score": 0, "creation_date": 1576098761, "post_id": 59293724, "comment_id": 104792880, "body": "depending on the import resolution you can put it in the top level folder (beside the <code>src</code> folder) or I&#39;ve seen some import setups that put the src on the resolution path so if that is the case putting it inside src will also work.  If your client and server are in the same git repo that would complicate things though... let me think..."}, {"owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "edited": false, "score": 0, "creation_date": 1576099300, "post_id": 59293724, "comment_id": 104793112, "body": "Don&#39;t worry. Client &amp; server have not the same repo. They share a git sub module which contains the shared classes. Thanks. But I still don&#39;t understand how to make import from <code>type-graphql</code> target a project file. To import a project file, the import target must start with a <code>&#47;</code> or a <code>.</code> like <code>.&#47;path&#47;to&#47;module</code>. Just <code>type-graphql</code> make the import look at the node_modules directly."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "reply_to_user": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "edited": false, "score": 0, "creation_date": 1576100345, "post_id": 59293724, "comment_id": 104793549, "body": "@Yairopro addition to answer might blow your mind. absolute import follows <a href=\"https://nodejs.org/api/modules.html#modules_all_together\" rel=\"nofollow noreferrer\">a well defined mechanism</a> that lets you redirect it to files in your project."}], "tags": [], "owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "is_accepted": false, "score": 4, "last_activity_date": 1576848936, "last_edit_date": 1576848936, "creation_date": 1576096701, "answer_id": 59293724, "question_id": 59293188, "link": "https://stackoverflow.com/questions/59293188/typescript-import-module-if-exist/59293724#59293724", "title": "Typescript - Import module if exist", "body": "<p>There are 2 parts to this:</p>\n\n<ol>\n<li>A formal import statement must be unconditional. <code>import</code> means the module must always exist. That doesn't mean it has to be the module you actually need.</li>\n<li>The desired type is <code>module | undefined</code> on the server side. But on the client side <code>module</code> is unknowable. So to allow for server based calls, we should allow any fields to be used, like <code>{[k:string]:any}</code>, and we need to be able to select which one is appropriate for the side we are on.</li>\n</ol>\n\n<p>So your best bet is probably to add an empty module of the same name to your client side, so a file called <code>type-graphql.ts</code> in the <code>node_modules</code> folder on the client side that only contains:</p>\n\n<pre><code>export {}\n</code></pre>\n\n<p>This way the unconditional import will always work, client will import this empty module file and server will import the actual library. Then you just need to re-assign the variable to consider possible interfaces:</p>\n\n<pre><code>import * as _TypeGraphQL from 'type-graphql';\n\n// don't check methods on the client side, if we had type definitions on both we could just use that\ntype CLIENT_SIDE_INTERFACE = {[k:string]:any};\n// on server side we can check for case that the module is not present.\ntype SERVER_SIDE_INTERFACE = typeof _TypeGraphQL | {\"ISDUMMY\":true}\n\n// if the imported module has our indicator key then we are on the client side\ntype THIS_SIDE_INTERFACE = \"ISDUMMY\" extends (keyof typeof _TypeGraphQL) ? CLIENT_SIDE_INTERFACE : SERVER_SIDE_INTERFACE\n\nconst TypeGraphQL: THIS_SIDE_INTERFACE = _TypeGraphQL;\n</code></pre>\n\n<hr>\n\n<p>After having it pointed out that putting files in the <strong>normal</strong> <code>node_modules</code> folder is <a href=\"https://stackoverflow.com/questions/59293188/typescript-import-module-if-exist/59293724#comment104792756_59293724\">problematic</a>, I can offer a possible solution to this as well.  </p>\n\n<p>Node resolves modules (that don't start with <code>./</code> or <code>/</code>) by walking up the folder tree from the current file, each level seeing if there is a folder called <code>node_modules</code>. Normally this means in the root of your project there is one folder containing all the modules. However you can add another folder in the middle of your project called <code>node_modules</code> and any imports by files there will search that folder first.</p>\n\n<p>So for a folder structure like this would let you put the dummy file in the project in a way that <code>import * as a from 'test-graphql'</code> will import from a stable folder:</p>\n\n<pre><code>root\n- node_modules\n- src\n  --- SUBFOLDERS\n        - node_modules\n          -test-graphql.tsx (dummy code)\n        - git-sub-module\n          - wrapper.tsx (containing the import code mentioned above)\n</code></pre>\n\n<p>Code in the <code>wrapper.tsx</code> in this case would try to import from the inner <code>node_modules</code> importing the empty module file.\nJust make sure you add sufficient comments in the empty module explaining what sorcery is going on :)</p>\n"}], "owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1459, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1576848936, "creation_date": 1576094393, "last_edit_date": 1576098145, "question_id": 59293188, "link": "https://stackoverflow.com/questions/59293188/typescript-import-module-if-exist", "title": "Typescript - Import module if exist", "body": "<p><strong>How to import a module if it exists ?</strong></p>\n\n<p>I have 2 projects, client &amp; server. Both import one same file.<br>\nThe file imports a node module which is only installed in the server project. The client doesn't have the module.<br>\nSo the require must return the module <strong>typed</strong> when opened from the server project.<br>\nAnd it must return <code>undefined</code> when opened from the client project.</p>\n\n<p>Below an screenshot from the client project. Typescript doesn't compile because it says it cannot find the module.\n<a href=\"https://i.stack.imgur.com/O70GA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O70GA.png\" alt=\"Typescript require cannot find module type-graphql\"></a></p>\n\n<p>A simple <code>require</code> doesn't keep the type:\n<a href=\"https://i.stack.imgur.com/TVzcm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TVzcm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "eslint"], "comments": [{"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1576101347, "post_id": 59293030, "comment_id": 104793891, "body": "What is the exact linter error message? And a reproducible sample would be helpful."}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 3074232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xlFQ0.jpg?s=128&g=1", "display_name": "SuperBob", "link": "https://stackoverflow.com/users/3074232/superbob"}, "is_accepted": false, "score": 0, "last_activity_date": 1576135363, "creation_date": 1576135363, "answer_id": 59299550, "question_id": 59293030, "link": "https://stackoverflow.com/questions/59293030/eslint-with-typescript-how-to-disable-the-strict-null-check/59299550#59299550", "title": "ESLint with TypeScript, how to disable the strict null check?", "body": "<p>Did you try this?</p>\n\n<pre><code>const user: User | null = getUser()\n\n      if (user instanceof User) { //  if (user !== null) doesn't work either\n        await user.updateProfile({\n          displayName: this.displayName\n        })\n      }\n</code></pre>\n"}], "owner": {"reputation": 2173, "user_id": 3710120, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RnaL7.png?s=128&g=1", "display_name": "Christiaan Maks", "link": "https://stackoverflow.com/users/3710120/christiaan-maks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 415, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576135589, "creation_date": 1576093721, "question_id": 59293030, "link": "https://stackoverflow.com/questions/59293030/eslint-with-typescript-how-to-disable-the-strict-null-check", "title": "ESLint with TypeScript, how to disable the strict null check?", "body": "<p>ESLint is complaining that my object might be null even though there is an if statement around it.</p>\n\n<pre><code>     const user: User | null = getUser()\n\n      if (user) { //  if (user !== null) doesn't work either\n        await user.updateProfile({\n          displayName: this.displayName\n        })\n      }\n</code></pre>\n\n<p>Sometimes it doesn't show this error and sometimes it does and it's impossible to get rid of. So I just want this rule disabled altogether but I can't find the rule name.</p>\n\n<p>What rule name in ESLint is this or how else can I turn this off?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 41, "user_id": 8901586, "user_type": "registered", "profile_image": "https://graph.facebook.com/1460379707411410/picture?type=large", "display_name": "Bernardo Sampaio", "link": "https://stackoverflow.com/users/8901586/bernardo-sampaio"}, "reply_to_user": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "edited": false, "score": 0, "creation_date": 1576096536, "post_id": 59292887, "comment_id": 104791993, "body": "@AshotAleqsanyan oh, you think?"}, {"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "edited": false, "score": 0, "creation_date": 1576098571, "post_id": 59292887, "comment_id": 104792819, "body": "Please can you check this link <a href=\"https://gist.github.com/akora/51b2933a2554776d7144#file-remove-diacritics-google-sheet\" rel=\"nofollow noreferrer\">gist.github.com/akora/&hellip;</a> I hope you will find what you want. And I&#39;m sorry I inattentively read your question"}], "answers": [{"tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 0, "last_activity_date": 1576093866, "last_edit_date": 1576093866, "creation_date": 1576093522, "answer_id": 59292986, "question_id": 59292887, "link": "https://stackoverflow.com/questions/59292887/search-as-unicode-angular/59292986#59292986", "title": "search as unicode angular", "body": "<p>If you don't care about IE support, you can use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\" rel=\"nofollow noreferrer\"><code>normalize</code></a> method:</p>\n\n<pre><code>&lt;input type=\"text\" [ngModel]=\"search\" (ngModelChange)=\"onSearchChange($event)\"&gt;\n&lt;ul&gt;\n  &lt;li *ngFor=\"let game of games | filterBy:[]:search\"&gt;{{game}}&lt;/li&gt;\n&lt;/ul&gt;\n\nonSearchChange(search: string): void {\n  this.search = search.normalize('NFKD').replace(/[\\u0300-\\u036F]/g, '');\n}\n\n</code></pre>\n\n<p>This will normalize any weird characters you might have.</p>\n\n<p>If you do care about IE, you should find another method from here: <a href=\"https://stackoverflow.com/questions/286921/efficiently-replace-all-accented-characters-in-a-string\">Efficiently replace all accented characters in a string?</a></p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 8901586, "user_type": "registered", "profile_image": "https://graph.facebook.com/1460379707411410/picture?type=large", "display_name": "Bernardo Sampaio", "link": "https://stackoverflow.com/users/8901586/bernardo-sampaio"}, "is_accepted": true, "score": 1, "last_activity_date": 1576120532, "creation_date": 1576120532, "answer_id": 59297208, "question_id": 59292887, "link": "https://stackoverflow.com/questions/59292887/search-as-unicode-angular/59297208#59297208", "title": "search as unicode angular", "body": "<p>Thanks everyone, I managed to solve by doing some tests.\nI decided to create a function that returns the value handled by regex.</p>\n\n<p>Follow the result</p>\n\n<p><strong>TS</strong></p>\n\n<pre><code>public games = ['The Legend of Zelda', 'Pok\u00e9mon', 'Chrono Trigger']\npublic gamesCopy = this.games\n\npublic search: string = ''\n\nprivate slug(val) {\n  val = val.replace(/[\u00e1\u00e0\u00e3\u00e2\u00e4]/g, 'a')\n  val = val.replace(/[\u00c1\u00c0\u00c3\u00c2\u00c4]/g, 'a')\n  val = val.replace(/[\u00e9\u00e8\u00ea\u00eb]/g, 'e')\n  val = val.replace(/[\u00c9\u00c8\u00ca\u00cb]/g, 'e')\n  val = val.replace(/[\u00ed\u00ec\u00ee\u00ef]/g, 'i')\n  val = val.replace(/[\u00cd\u00cc\u00ce\u00cf]/g, 'i')\n  val = val.replace(/[\u00f3\u00f2\u00f5\u00f4\u00f6]/g, 'o')\n  val = val.replace(/[\u00d3\u00d2\u00d5\u00d4\u00d6]/g, 'o')\n  val = val.replace(/[\u00fa\u00f9\u00fb\u00fc]/g, 'u')\n  val = val.replace(/[\u00da\u00d9\u00db\u00dc]/g, 'u')\n  val = val.replace(/[\u00e7]/g, 'c')\n  val = val.replace(/[\u00c7]/g, 'c')\n  return val.toLowerCase()\n}\n\npublic searching(search: string) {\n  this.gamesCopy = this.games.filter(res =&gt; this.slug(res).indexOf(this.slug(search)) &gt; -1)\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;input type=\"text\" [(ngModel)]=\"search\" (ngModelChange)=\"searching($event)\"&gt;\n&lt;ul&gt;\n  &lt;li *ngFor=\"let game of gamesCopy\"&gt;{{game}}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I removed <a href=\"https://github.com/a8m/ng-pipes\" rel=\"nofollow noreferrer\">ng-pipes</a></p>\n\n<p>That's it :)</p>\n"}], "owner": {"reputation": 41, "user_id": 8901586, "user_type": "registered", "profile_image": "https://graph.facebook.com/1460379707411410/picture?type=large", "display_name": "Bernardo Sampaio", "link": "https://stackoverflow.com/users/8901586/bernardo-sampaio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 59297208, "answer_count": 2, "score": 1, "last_activity_date": 1576598900, "creation_date": 1576093067, "question_id": 59292887, "link": "https://stackoverflow.com/questions/59292887/search-as-unicode-angular", "title": "search as unicode angular", "body": "<p>I want to search <code>pokemon</code> and find all Pok\u00e9mon results (with accent)</p>\n\n<p>My array:</p>\n\n<pre><code>let games = ['The Legend of Zelda', 'Pok\u00e9mon', 'Chrono Trigger']\n</code></pre>\n\n<p>How I'm doing:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;input type=\"text\" [(ngModel)]=\"search\"&gt;\n&lt;ul&gt;\n  &lt;li *ngFor=\"let game of games | filterBy:[]:search\"&gt;{{game}}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I'm using the <a href=\"https://github.com/a8m/ng-pipes\" rel=\"nofollow noreferrer\">ng-pipes</a> package to use <code>filterBy</code></p>\n\n<p><strong>TS</strong></p>\n\n<pre><code>public search: string = ''\n</code></pre>\n\n<p>But if I type <code>pokemon</code> he don't match with <code>Pok\u00e9mon</code></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1576092840, "post_id": 59292765, "comment_id": 104790336, "body": "Does this really constitute a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?  What is the use case here?  Do you expect that <code>o</code> will always have a <code>string</code>-valued property at the key <code>&quot;property&quot;</code>?  If so, then <code>function test&lt;E extends {property: string}&gt;(o: E): string { return o.property }</code> should work, but so would <code>function test(o: {property: string}) { return o.property }</code> with no generics at all.  So I&#39;m confused about what your intent is here.  Good luck!"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576093540, "post_id": 59292765, "comment_id": 104790659, "body": "This is the use case.  Implementing the search in typescript ATM : <a href=\"https://medium.com/@ole.ersoy/filtering-our-javascript-objects-ea73ded722ab\" rel=\"nofollow noreferrer\">medium.com/@ole.ersoy/&hellip;</a>"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576093651, "post_id": 59292765, "comment_id": 104790707, "body": "The object o is just an entity (Customer, Product, etc.) of generic type E ... in other words it will be Typescript class or interface or type instance which IIUC always has a string as the property key."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576094000, "post_id": 59292765, "comment_id": 104790872, "body": "I think the <code>extends</code> is elegant, but it does not look like it works in this case since the property must be accessed using []."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576094318, "post_id": 59292765, "comment_id": 104791027, "body": "Why would the string literal <code>&quot;property&quot;</code> need to be accessed using bracket notation?  It sounds like you&#39;re saying the actual property might be some random <code>string</code>, but you have not shown this in your code.  Please consider editing the code into a true <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates the relevant issue.  If <code>&quot;property&quot;</code> can change, show it changing.  Show <code>test()</code> being called on multiple inputs and what you expect to see.  Etc."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576094445, "post_id": 59292765, "comment_id": 104791094, "body": "I minimized the question to the raw parameters needed specifically to obey SO conventions and the spirit of an MVCE.  The example is exactly what I need.  The reason is that, as indicated in the medium article I wrote, each member of the generic object instance is found by first finding the keys of the object and then iterating over the keys."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576094533, "post_id": 59292765, "comment_id": 104791136, "body": "Attached the entire search function as requested."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1576095033, "post_id": 59292765, "comment_id": 104791377, "body": "That attached code has errors unrelated to the question you&#39;re asking.  I&#39;d possibly suggest that <code>keys</code> should be of type <code>Array&lt;keyof E&gt;</code> instead of <code>string[]</code>, and then go from there, since if you have a value <code>o</code> of type <code>E</code> and a value <code>k</code> of type <code>keyof E</code> then <code>o[k]</code> will compile without needing to assert <code>o</code> to be <code>any</code>.  Without agreement on what constitutes a true <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> I can&#39;t proceed further, though.  Hopefully you get the answer you seek!"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576095555, "post_id": 59292765, "comment_id": 104791597, "body": "Thanks!  I really like the keyOf idea!!"}], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1576093954, "post_id": 59292958, "comment_id": 104790851, "body": "Thanks that&#39;s a little more elegant - Unfortunately it has to be <code>(o as any)[&#39;property&#39;]</code> ... in other words the property must be accessed using <code>[]</code>"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1576094153, "post_id": 59292958, "comment_id": 104790947, "body": "@Ole it also makes it valid without casting any."}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1576095500, "post_id": 59292958, "comment_id": 104791575, "body": "@Ole added another solution."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1576095574, "post_id": 59292958, "comment_id": 104791603, "body": "Sweet!!  That looks awesome.  Much cleaner!!"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1576096146, "post_id": 59292958, "comment_id": 104791846, "body": "Hm - I think it may not work since I&#39;m using <code>Object.keys()</code> to get the keys of the object instance like this: `  const keys: string[] = Object.keys(entity);` ... This is used in the excludeKeys() function ... I included it in the example. `"}], "tags": [], "owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "is_accepted": true, "score": 4, "last_activity_date": 1576096969, "last_edit_date": 1576096969, "creation_date": 1576093393, "answer_id": 59292958, "question_id": 59292765, "link": "https://stackoverflow.com/questions/59292765/accessing-properties-of-generic-types-in-typescript/59292958#59292958", "title": "Accessing properties of generic types in typescript?", "body": "<p>If you know  the type constraint has a property named property you can define an interface which defines the property and then use a constraint that tell E extends it. Then you will have access to that property without casting it.</p>\n\n<pre><code>interface WithProperty{\n  property:string;\n}\n\nfunction test&lt;E extends WithProperty&gt;(o:E):string {\n  return o.property;  // or o[\"property\"] is valid access.\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html?ssl=1&amp;ssc=1&amp;pln=11&amp;pc=2#code/JYOwLgpgTgZghgYwgAgOrDACwApQPYAO0YAngN4BQyyB+RUpAXAM5hSgDmA3BQL4UUYAVxAIwwPCGSRWAHgCiyCAA9IIACbM0GHHWIkAfAAo8jeQEoWbTskrUoEMEKhS8AbQBEtQvo8BdLmQAeiCANzgAG2B1ZEQkZmYAOj4BYVFxSWkIVgAmBWNTCyt2EA5bKmQHJxdkdy89BhJ-QJDwqJi47KS+IA\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<p>Edit :\nSince you updated your example. There is another way of doing that which is to use keyword <code>keyof</code>. Also using this one doesn't require knowledge of the properties. I have modified your example like below :</p>\n\n<pre><code>export function search&lt;E&gt;(query:string='', entities:E[], exclude:string[]=[]) {\n  const { isArray } = Array\n  type EKey = keyof E;\n  query = query.toLowerCase();\n\n  let keys : EKey[] = []\n  if (entities.length &gt; 0) {\n    keys = excludeKeys&lt;E&gt;(entities[0], exclude)\n  }\n\n  return entities.filter(function (e:E) {\n    return keys.some((key =&gt;{\n      const value = e[key];\n      if (isArray(value)) {\n        return value.some(v =&gt; {\n          return v.toLowerCase().includes(search);\n        });\n      }\n      else if (!isArray(value)) {\n        return new String(value).toLowerCase().includes(query);\n      }\n    })\n  });\n }\n</code></pre>\n\n<p>For the excludeKeys part of the code casting becomes inevitable because of this looong going <a href=\"https://github.com/microsoft/TypeScript/pull/12253\" rel=\"nofollow noreferrer\">discussion</a>.</p>\n\n<pre><code>export function excludeKeys&lt;E&gt;(entity: E, exclude: string[]) {\n const keys: string[] = Object.keys(entity);\n  return &lt;(keyof E)[]&gt;keys.filter((key) =&gt; {\n    return exclude.indexOf(key) &lt; 0;\n   });\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html?ssl=28&amp;ssc=2&amp;pln=1&amp;pc=1#code/KYDwDg9gTgLgBAMwK4DsDGMCWEVwM7ACGUaAFgDwCiAfABQCOSwUAngFx4xSYoDmAvAHJBAGjjAUWLMDxtKAbQC6Y0GgA2SACbAOXHryX8lASjgBvAFBw4aHJ3NxMeAIJQohFnAC+cfnFfuLFZwMCxgwHCUANLAnn4A1rEQCJEA3MGMzHFwmawAdDAQADIQAO7MAMKEBLTG6cFqwPCJLHhwbJExLEq+cErBmCm0ElKYMnmNfDCkcNRwAAymltbWLW1+qhraXXhUdCOY0njy88riIOpawMbBXlbBUE1IULgHR3kImGowzLTI6FgcHBhnIlsFrI8YM9cGs8ngIABbYC0WgtXzUZYray2FD2ABuhA0EQ28hainSWOsg2BTgCHloBKJxjBlJWkOhcEZTDhiORePR5nBrLg7JenIKxTKlWqyOMeR4l20eFoBGIZDqQqxXg1rLurOAagIjiGAEJaW56VzrizhaLcChgKU4ABlPR8BmEphywolcpQKo1OUKrYyBhMVg6yl6lba24au4Wf4YbCvC4hnZ7WiENiEFAsFQdTjcPgmDqopIpSjGJSYu19ckWLxAA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1582, "favorite_count": 0, "accepted_answer_id": 59292958, "answer_count": 1, "score": -1, "last_activity_date": 1576096969, "creation_date": 1576092563, "last_edit_date": 1576095878, "question_id": 59292765, "link": "https://stackoverflow.com/questions/59292765/accessing-properties-of-generic-types-in-typescript", "title": "Accessing properties of generic types in typescript?", "body": "<p>Casting the generic type to any works (The type E will be a typescript type, class, or interface) of some entity like Product, Post, Todo, Customer, etc.:</p>\n\n<pre><code>function test&lt;E&gt;(o:E):string {\n  return (o as any)['property']\n}\n</code></pre>\n\n<p>Just wanted to see whether casting to any is generally how this should be handled?</p>\n\n<p>The full context was requested.  Here's is the entire function being implemented:</p>\n\n<pre><code>/**\n * \n * @param entities The entities to search\n * @param exclude Keys to exclude from each entity\n * \n * @return E[] Array of entities with properties containing the search term.\n */\nexport function search&lt;E extends WithProperty&gt;(query:string='', entities:E[], exclude:string[]=[]) {\n  const { isArray } = Array\n\n  query = query.toLowerCase();\n\n  let keys:string[] = []\n  if (entities.length &gt; 0) {\n    keys = excludeKeys(entities[0], exclude)\n  }\n\n  return entities.filter(function (e:E) {\n    return keys.some((key)=&gt;{\n      const value = (e as any)[key];\n      if (isArray(value)) {\n        return value.some(v =&gt; {\n          return new String(v).toLowerCase().includes(query);\n        });\n      }\n      else if (!isArray(value)) {\n        return new String(value).toLowerCase().includes(query);\n      }\n    })\n  });\n}\n\n</code></pre>\n\n<pre><code>/**\n * The method can be used to exclude keys from an instance\n * of type `E`.  \n * \n * We can use this to exclude values when searching an object.\n * \n * @param entity An instance of type E\n * @param eclude  The keys to exclude\n * \n */\nexport function excludeKeys&lt;E&gt;(entity: E, exclude: string[]) {\n  const keys: string[] = Object.keys(entity);\n  return keys.filter((key) =&gt; {\n    return exclude.indexOf(key) &lt; 0;\n  });\n}\n\n\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12520339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db9f9881000f73c67ee26fada0dc168b?s=128&d=identicon&r=PG&f=1", "display_name": "kristianB", "link": "https://stackoverflow.com/users/12520339/kristianb"}, "is_accepted": false, "score": 0, "last_activity_date": 1579868069, "creation_date": 1579868069, "answer_id": 59896221, "question_id": 59292723, "link": "https://stackoverflow.com/questions/59292723/configuring-webpack-for-my-react-typescript-project-webpack-version-4-39-2/59896221#59896221", "title": "Configuring Webpack for my React typescript project (Webpack Version 4.39.2)", "body": "<p>Solved this issue, problem here was that I pasted the wrong code for webpack.common.js. Actually pasted the content for a version of webpack.prod.js as I was trying to debug the issue. in the original webpack.common.js I had modules.export instead of module.exports. I was also missing resovle argument:</p>\n\n<pre><code>resolve: {\n        // Add '.ts' and '.tsx' as resolvable extensions.\n        extensions: [\".ts\", \".tsx\", \".js\", \".json\", \".css\"]\n    },\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12520339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db9f9881000f73c67ee26fada0dc168b?s=128&d=identicon&r=PG&f=1", "display_name": "kristianB", "link": "https://stackoverflow.com/users/12520339/kristianb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1579868069, "creation_date": 1576092411, "question_id": 59292723, "link": "https://stackoverflow.com/questions/59292723/configuring-webpack-for-my-react-typescript-project-webpack-version-4-39-2", "title": "Configuring Webpack for my React typescript project (Webpack Version 4.39.2)", "body": "<p>I have been tasked by fixing the Webpack build in a project I work on. I'm no Webpack expert and am struggling somewhat to make this work. The project has a untraditional react frontend with typescript. I have been trying to create this webpack.common.js/dev.js/prod.js setup. But nothing seems to work. \nSince I have the entry set in webpack.common.js I would assume that the entry would be set, but Webpack still tries to find it as src/index.js.\nHere is my webpack.dev.js:</p>\n\n<pre><code>const merge = require('webpack-merge');\nconst common = require('./webpack.common.js');\n\nmodule.exports = merge(common, {\n    mode: 'development',\n    devtool: 'inline-source-map',\n    devServer: {\n        contentBase: '../FrontEnd/dist/base'\n    }\n});\n</code></pre>\n\n<p>Webpack.prod.js:</p>\n\n<pre><code>const merge = require('webpack-merge');\nconst common = require('./webpack.common.js');\n\nmodule.exports = merge(common, {\n    mode: 'production'\n});\n</code></pre>\n\n<p>webpack.common.js:</p>\n\n<pre><code>const merge = require('webpack-merge');\nconst common = require('./webpack.common.js');\nconst webpack = require('webpack');\nconst path = require('path');\nconst BitBarWebpackProgressPlugin = require(\"bitbar-webpack-progress-plugin\");\nconst { CleanWebpackPlugin } = require('clean-webpack-plugin');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = merge(common, {\n    mode: 'production',\n\n    entry: {\n        app: [\"babel-polyfill\", \"./src/NordicBase/NKportal/portal.tsx\", \"core-js/fn/promise\"],\n        vendor: ['react', 'react-dom']\n    },\n\n    plugins: [\n        new CleanWebpackPlugin(),\n        new BitBarWebpackProgressPlugin(),\n        new webpack.ProvidePlugin({\n            'Promise': 'es6-promise',\n            'fetch': 'imports-loader?this=&gt;global!exports-loader?global.fetch!whatwg-fetch'\n        }),\n        new HtmlWebpackPlugin({\n            title: 'Production'\n        })\n    ],\n\n    node: {\n        fs: \"empty\"\n    },\n\n    module: {\n        rules: [\n            // All files with a '.ts' or '.tsx' extension will be handled by 'awesome-typescript-loader'.\n            {\n                test: /\\.tsx?$/,\n                loader: \"awesome-typescript-loader\"\n            },\n\n            // All output '.js' files will have any sourcemaps re-processed by 'source-map-loader'.\n            {\n                enforce: \"pre\",\n                test: /\\.js$/,\n                loader: \"source-map-loader?name=fonts/[name].[ext]\"\n            },\n            {\n                test: /\\.css$/,\n                use: [{\n                    loader: \"style-loader\"\n                },\n                {\n                    loader: \"css-loader\"\n                }\n                ]\n            },\n            {\n                test: /\\.scss$/,\n                // include: [\n                //     path.resolve(__dirname, \"src/css\")\n                // ],\n                use: [\n                    \"style-loader\", // creates style nodes from JS strings\n                    \"css-loader\", // translates CSS into CommonJS\n                    \"sass-loader\" // compiles Sass to CSS\n                ]\n            },\n            {\n                test:\u00a0/\\.(png|jp(e*)g|svg)$/,\n                use:\u00a0[{\n                    loader:\u00a0'url-loader',\n                    options:\u00a0{\n                    //limit: 8000, // Convert images &lt; 8kb to base64 strings\n                    name:\u00a0'images/[hash]-[name].[ext]'\n                }\n                }]\n            } \n        ],\n\n    },\n\n    output: {\n        filename: \"[name].bundle.js\",\n        path: path.resolve(\"../FrontEnd/dist/Base\")\n    }\n});\n\n</code></pre>\n\n<p>I have been using Webpack guide for production setup in combination with trying to use different parts of the configuration of the old setup. My scripts from package.json:</p>\n\n<pre><code>\"start\": \"webpack-dev-server --open --config webpack.dev.js\",\n\"build\": \"webpack --config webpack.prod.js\"\n</code></pre>\n\n<p>when I run the the build script i get:</p>\n\n<pre><code>Insufficient number of arguments or no entry found.\nAlternatively, run 'webpack(-cli) --help' for usage info.\n\nERROR in Entry module not found: Error: Can't resolve './src' in 'C:\\Users.......'\n</code></pre>\n\n<p>Webpack version : 4.39.2.\nIf I move common setup from Webpack.Common to Webpack.prod the entry is recognized but it crashes because none of the modules being imported in the entry files are found. I don't now why this happens since the project is building fine with the old setup.</p>\n"}, {"tags": ["html", "angular", "typescript", "bootstrap-modal"], "comments": [{"owner": {"reputation": 214, "user_id": 3282667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a91c91719060538a0c597368a4c60f0?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh", "link": "https://stackoverflow.com/users/3282667/mukesh"}, "edited": false, "score": 0, "creation_date": 1576090931, "post_id": 59292229, "comment_id": 104789503, "body": "can you try reproducing your issue in stackblitz"}, {"owner": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 0, "creation_date": 1576094013, "post_id": 59292229, "comment_id": 104790879, "body": "(click)=\u201cSignaturePad1.clear()\u201d should work?"}, {"owner": {"reputation": 57, "user_id": 11233137, "user_type": "registered", "profile_image": "https://graph.facebook.com/2209519315776486/picture?type=large", "display_name": "Shivam Singh", "link": "https://stackoverflow.com/users/11233137/shivam-singh"}, "reply_to_user": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 0, "creation_date": 1576127611, "post_id": 59292229, "comment_id": 104799874, "body": "@MikeOne no it&#39;s not working"}, {"owner": {"reputation": 472, "user_id": 9677975, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gRaIJRiPwQ8/AAAAAAAAAAI/AAAAAAAAAAA/OtROkQ__BS8/photo.jpg?sz=128", "display_name": "Sergio Cano", "link": "https://stackoverflow.com/users/9677975/sergio-cano"}, "edited": false, "score": 0, "creation_date": 1612444836, "post_id": 59292229, "comment_id": 116772564, "body": "did you find any solution?"}], "owner": {"reputation": 57, "user_id": 11233137, "user_type": "registered", "profile_image": "https://graph.facebook.com/2209519315776486/picture?type=large", "display_name": "Shivam Singh", "link": "https://stackoverflow.com/users/11233137/shivam-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 407, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576093996, "creation_date": 1576090215, "last_edit_date": 1576093996, "question_id": 59292229, "link": "https://stackoverflow.com/questions/59292229/signaturepad-clear-property-not-clearing-in-modal-bootstrap-dialog-box", "title": "Signaturepad clear property not clearing in modal-bootstrap dialog box", "body": "<p>I am working on signature pad dialogue box and for the dialogue box i am using bootstrap modal. In this activity when i click on complete activity a dialogbox should open asking yes or no on clicking yes a dialog box with signaturepad in modal body and clear button in modal footer.</p>\n\n<p>the problem is when clicking on clear button from modal footer the clear method of signaturepad module is not working Any suggestions would be of great help </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit, ViewChild, Directive } from '@angular/core';\r\nimport { NgbModalConfig, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport {SignaturePad} from 'angular2-signaturepad/signature-pad';\r\nimport { ClickOutsideModule } from 'ng-click-outside';\r\n\r\n@Component({\r\n  selector: 'app-modal',\r\n  templateUrl: './modal.component.html',\r\n  styleUrls: ['./modal.component.css']\r\n})\r\nexport class ModalComponent {\r\n\r\n  @ViewChild('SignaturePad1', { static: true })signaturepad: SignaturePad;\r\n\r\n  public signaturepadoption = {\r\n    minWidth: 2,\r\n    penColor: 'rgb(255,0,0)',\r\n    backgroundColor: 'rgb(0,0,0)',\r\n    canvasWidth: 250,\r\n    canvasHeight: 300,\r\n  };\r\n\r\n  closeResult: string;\r\n\r\n  constructor(private modalService: NgbModal) {}\r\n\r\n  openSm(content) {\r\n    this.modalService.open(content, { centered: true });\r\n  }\r\n\r\n  SignaturepadPopUp(longContent) {\r\n    this.modalService.open(longContent, { scrollable: true, centered: true });\r\n  }\r\n\r\n  onClear() {\r\n    this.signaturepad.clear();\r\n  }\r\n\r\n  saveSignature() {\r\n    const base64 = this.signaturepad.toDataURL('image\\png', 0.1);\r\n    console.log(base64);\r\n    const blob = this.base64toblob(base64);\r\n    console.log(blob);\r\n\r\n  }\r\n  base64toblob(base64) {\r\n    const bytestring = atob(base64.split(',')[1]);\r\n    const stringtype = base64.split(',')[0].split(':')[1].split(':')[0];\r\n    const size = bytestring.length;\r\n    const saveString: any[] = new Array(size);\r\n\r\n    for (let i = 0; i &lt; bytestring.length; i++) {\r\n      saveString[i] = bytestring.charAt(i);\r\n    }\r\n    const ia = new Uint8Array(saveString);\r\n    return new Blob([ia], {type: stringtype});\r\n  }\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ng-template #content let-modal&gt;\r\n  &lt;div class=\"modal-header\"&gt;\r\n    &lt;button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\"&gt;\r\n      &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\r\n    &lt;/button&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"modal-body\"&gt;\r\n    &lt;p&gt;Are you sure You want to complete Activity?&lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"modal-footer\"&gt;\r\n    &lt;button type=\"button\" class=\"btn btn-primary\" (click)=\"modal.close('Close click')\"&gt;No&lt;/button&gt;\r\n    &lt;button type=\"button\" class=\"btn btn-primary\" (click)=\"SignaturepadPopUp(longContent)\"&gt;Yes&lt;/button&gt;\r\n  &lt;/div&gt;\r\n&lt;/ng-template&gt;\r\n\r\n&lt;ng-template #longContent let-modal&gt;\r\n  &lt;div class=\"modal-header\"&gt;\r\n    &lt;button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\"&gt;\r\n      &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\r\n    &lt;/button&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"modal-body\"&gt;\r\n    &lt;div class=\"col-md-12\"&gt;\r\n      &lt;div class=\"m-signature-pad\"&gt;\r\n          &lt;div class=\"m-signature-pad-body\"&gt;\r\n              &lt;signature-pad #SignaturePad1 [options]=\"signaturepadoption\"&gt;&lt;/signature-pad&gt;\r\n          &lt;/div&gt;\r\n      &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;button type=\"button\" class=\"btn btn-primary\" (click)=\"onClear()\"&gt;clear&lt;/button&gt;\r\n&lt;/ng-template&gt;\r\n\r\n&lt;button class=\"btn btn-secondary\" (click)=\"openSm(content)\"&gt;Complete Activity&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms", "angular8"], "comments": [{"owner": {"reputation": 233, "user_id": 8134774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5997bf4b9e8a56c1be558dea1deab011?s=128&d=identicon&r=PG&f=1", "display_name": "saidutt", "link": "https://stackoverflow.com/users/8134774/saidutt"}, "edited": false, "score": 0, "creation_date": 1576092479, "post_id": 59292200, "comment_id": 104790188, "body": "Use an angular service to build the form. This method in the service takes in all the fields as parameters and constructs the form and return the form for use in various other components"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12425844"}, "reply_to_user": {"reputation": 233, "user_id": 8134774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5997bf4b9e8a56c1be558dea1deab011?s=128&d=identicon&r=PG&f=1", "display_name": "saidutt", "link": "https://stackoverflow.com/users/8134774/saidutt"}, "edited": false, "score": 0, "creation_date": 1576094739, "post_id": 59292200, "comment_id": 104791241, "body": "hi @saidutt can I use Input/Output,  or Control Value Accessor,   or Export as a class component? can you show in example, thanks"}, {"owner": {"reputation": 233, "user_id": 8134774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5997bf4b9e8a56c1be558dea1deab011?s=128&d=identicon&r=PG&f=1", "display_name": "saidutt", "link": "https://stackoverflow.com/users/8134774/saidutt"}, "edited": false, "score": 0, "creation_date": 1576096038, "post_id": 59292200, "comment_id": 104791806, "body": "Please refer the example below, feel free to post any further questions. Happy to answer"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12425844"}, "edited": false, "score": 0, "creation_date": 1576100220, "post_id": 59293560, "comment_id": 104793485, "body": "hi will this work, if I have more complicated validators, placed one above, thanks (city, state, or zip code required)"}, {"owner": {"reputation": 233, "user_id": 8134774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5997bf4b9e8a56c1be558dea1deab011?s=128&d=identicon&r=PG&f=1", "display_name": "saidutt", "link": "https://stackoverflow.com/users/8134774/saidutt"}, "edited": false, "score": 0, "creation_date": 1576100759, "post_id": 59293560, "comment_id": 104793706, "body": "It should, you can modify the above solution to accommodate more Validators. Define them when you are instantiating the formModel object."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12425844"}, "edited": false, "score": 0, "creation_date": 1576101170, "post_id": 59293560, "comment_id": 104793837, "body": "couldn&#39;t I just also break the formbuilder into a different export class? let me try that, would that work? thanks"}], "tags": [], "owner": {"reputation": 233, "user_id": 8134774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5997bf4b9e8a56c1be558dea1deab011?s=128&d=identicon&r=PG&f=1", "display_name": "saidutt", "link": "https://stackoverflow.com/users/8134774/saidutt"}, "is_accepted": true, "score": 1, "last_activity_date": 1576141239, "last_edit_date": 1576141239, "creation_date": 1576096003, "answer_id": 59293560, "question_id": 59292200, "link": "https://stackoverflow.com/questions/59292200/reuse-formbuilder-validator-in-different-angular-components/59293560#59293560", "title": "Reuse FormBuilder Validator in different Angular Components", "body": "<p>I implemented this in one of my projects.</p>\n\n<p><strong>Method #1</strong></p>\n\n<p>Create a custom generic model for form fields.\nIn your case each field has a name and maxLength property.\nSo your form field Model would look something like this.</p>\n\n<pre><code>export class FormFieldModel {\n  name: string;\n  label: string;\n  fieldConfig: CustomFieldConfig;\n}\nexport class CustomFieldConfig {\n  /** whether the property field is editable or not within the form */\n  editable: boolean;\n\n  /** optional collection of validators for the form field */\n  validators?: ValidatorFn[];\n\n  /** whether the form field is required */\n  required = true;\n\n  maxlength?: number;\n\n  /** the control type for the form field */\n  type?: 'select' | 'date' | 'number' | 'text' | 'checkbox';\n\n  patternValidationMessage?: string;\n\n  options?: any[];\n}\n</code></pre>\n\n<p>And now in each of your components where the form is necessary.\nUsing the above model build an array of all the fields.</p>\n\n<p>Example: </p>\n\n<pre><code>const fields = FormFieldModel[] = [\n     {\n      name: 'firstName',\n      label: 'First Name',\n      fieldConfig: {\n       maxLength: 32\n       // other custom props.\n    },\n   {\n      name: 'lastName',\n      label: 'Last Name',\n      fieldConfig: {\n       maxLength: 32\n       // other custom props.\n    }\n }\n</code></pre>\n\n<p>As mentioned earlier in the comments create a service to create the form or it can be also created at individual component level.</p>\n\n<pre><code>  createForm(formList: FormFieldModel []) {\n    const form = this.formBuilder.group({ });\n    formList.forEach(field =&gt; {\n      const validators = field.formConfig ? field.formConfig.validators : undefined;\n      form.addControl(field.name, this.formBuilder.control(field.value, validators));\n    });\n    this.addressForm= form; // if this method is at component level\n    or\n    return form; // if this method is at service layer. \n  }\n</code></pre>\n\n<p>This way, it will also help with your html.\nNow, in your html. You can loop over the fields.</p>\n\n<pre><code>&lt;form [formGroup]=\"addressForm\"&gt;\n &lt;div *ngFor=\"let field in fields&gt;\n  &lt;app-input-textbox  formControlName = \"field.name\"&gt; &lt;/app-input-textbox&gt; // you can have a custom component that takes in individual field object and display it accordingly.\n&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>Method #2:</strong> </p>\n\n<p>Just take the FormGroup and Formbuilder and place into an export class. You can utilize your code, and call this class in new components.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12425844"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 1, "accepted_answer_id": 59293560, "answer_count": 1, "score": 2, "last_activity_date": 1576141239, "creation_date": 1576090077, "last_edit_date": 1576100200, "question_id": 59292200, "link": "https://stackoverflow.com/questions/59292200/reuse-formbuilder-validator-in-different-angular-components", "title": "Reuse FormBuilder Validator in different Angular Components", "body": "<p>I have a component, form and business validators behind them. Additionally, have html which shows how the form is rendered.</p>\n\n<p>The thing is, what if someone wants to utilize the formbuilder with same validators, however a totally different html rendering?</p>\n\n<p>How to separate the form below, so formcontrols and validators,  are separated and not strongly coupled to the html format?</p>\n\n<p>Can we Export as a class, or Input/Output, or ControlValueAccessor?</p>\n\n<p>Currently this is one component.\nNote: will need ability to handle more complex validators (eg, City/State or Zip code required, one or the other)</p>\n\n<p><strong>CustomerInfo.component:</strong></p>\n\n<p><strong>Typescript</strong> </p>\n\n<pre><code>constructor(\n    private formBuilder: FormBuilder,\n    private cdr: ChangeDetectorRef\n  ) {\n    this.addressform = this.formBuilder.group({\n      'firstName': [null, [Validators.maxLength(32)]],\n      'lastName': [null, [Validators.maxLength(32)]],\n      'phone': [null, [Validators.maxLength(32)]],\n      'streetName': [null, [Validators.required, Validators.maxLength(64)]],\n      'streetType': [null, [Validators.maxLength(8)]],\n      'city': [null, [Validators.maxLength(32)]],\n      'state': [null, [Validators.maxLength(16)]],\n      'postalCode': [null, [Validators.maxLength(16)]],\n    },  { validator: atLeastOneLocationRequired })\n\n// City,State  or PostalCode Required\n\nexport function atLeastOneLocationRequired(group : FormGroup) : {[s:string ]: boolean} {\n      var cityCtrl = group.controls.city;\n      var stateCtrl = group.controls.state;\n      var postalCodeCtrl = group.controls.postalCode;\n\n      if (cityCtrl != undefined &amp;&amp; stateCtrl != undefined &amp;&amp; postalCodeCtrl != undefined)\n        if (!(((cityCtrl.value &amp;&amp; cityCtrl.value.length) &amp;&amp; (stateCtrl.value &amp;&amp; stateCtrl.value.length)) || (postalCodeCtrl.value &amp;&amp; postalCodeCtrl.value.length)))\n          return { invalid: true };\n}\n</code></pre>\n\n<p><strong>HTML</strong>  The formbuilder will require a different html format later.  </p>\n\n<pre><code>        &lt;div class = \"propertysitusaddress\"&gt;\n          &lt;form [formGroup]=\"addressform\"&gt;\n            &lt;div class = \"propertysiteaddresscontainer column\"&gt;\n                &lt;div class = \"row title\"&gt;\n                    Address\n                &lt;/div&gt;  \n                &lt;div class = \"row\"&gt;\n                    &lt;app-input-textboxc formControlName = \"firstName\"&gt; &lt;/app-input-textbox&gt;\n                    &lt;app-input-textbox  formControlName = \"lastName\"&gt; &lt;/app-input-textbox&gt;\n                    &lt;app-input-textbox  formControlName = \"phone\"&gt; &lt;/app-input-textbox&gt;\n                &lt;/div&gt;\n                &lt;div class = \"row\"&gt;\n                    &lt;app-input-textbox  formControlName = \"streetName\"&gt; &lt;/app-input-textbox&gt;\n                    &lt;app-input-textbox  formControlName = \"city\"&gt; &lt;/app-input-textbox&gt;\n                    &lt;app-input-textbox  formControlName = \"state\"&gt; &lt;/app-input-textbox&gt;\n                &lt;/div&gt;\n                &lt;div class = \"row\"&gt;\n                    &lt;app-input-textbox  formControlName = \"postalCode\"&gt; &lt;/app-input-textbox&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>Its often mentioned to separate smart and presentational components in Angular.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "edited": false, "score": 0, "creation_date": 1576090591, "post_id": 59292107, "comment_id": 104789387, "body": "the input value is always string do like this <code>(change)=&quot;changeEventDate(event, +dateField.value)&quot;</code>"}, {"owner": {"reputation": 266, "user_id": 2144787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d87c2ce46cadc71db5200b85bce3a8b4?s=128&d=identicon&r=PG", "display_name": "alin0509", "link": "https://stackoverflow.com/users/2144787/alin0509"}, "edited": false, "score": 0, "creation_date": 1576094324, "post_id": 59292107, "comment_id": 104791031, "body": "can you try this : <code>(change)=&quot;changeEventDate($event, $event.target.value)&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 324, "user_id": 10403022, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NAyZtv8K_wc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP3VjFy8qnUJuuENp5gGQG2gO1G_g/mo/photo.jpg?sz=128", "display_name": "Sam", "link": "https://stackoverflow.com/users/10403022/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1576090615, "creation_date": 1576090615, "answer_id": 59292318, "question_id": 59292107, "link": "https://stackoverflow.com/questions/59292107/angular-8-typescript-number-value-coming-through-as-string/59292318#59292318", "title": "Angular 8 typescript number value coming through as string", "body": "<p>Here you're getting the value from input field <code>dateField.value</code> it returns the string value. You can fix it changing to <code>changeEventDate(event, +dateField.value)</code></p>\n"}, {"tags": [], "owner": {"reputation": 3766, "user_id": 6640803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bx5JYGtjy7w/AAAAAAAAAAI/AAAAAAAAABM/np44KmT0STw/photo.jpg?sz=128", "display_name": "Nadhir Falta", "link": "https://stackoverflow.com/users/6640803/nadhir-falta"}, "is_accepted": true, "score": 2, "last_activity_date": 1576160701, "last_edit_date": 1576160701, "creation_date": 1576091289, "answer_id": 59292475, "question_id": 59292107, "link": "https://stackoverflow.com/questions/59292107/angular-8-typescript-number-value-coming-through-as-string/59292475#59292475", "title": "Angular 8 typescript number value coming through as string", "body": "<p>By using the <code>dateField.value</code> you will be getting the DOM value, which will always be a string.   </p>\n\n<p>There are couple things you can do to make things better, First thing (best thing in Angular) which is <strong>two way data binding</strong>. </p>\n\n<ul>\n<li>make your <code>date</code> variable <code>public</code> and then in your html <code>&lt;input [(ngModel)]=\"date\" ...</code>   </li>\n<li>And in your function <code>console.log(typeof this.date);</code></li>\n</ul>\n\n<p>Another thing (just a workaround), is to keep your code as is, and just convert the passed in value to a number <code>console.log(typeof Number(date));</code></p>\n"}], "owner": {"reputation": 905, "user_id": 3808425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc71f2e7e61096de94cad5bc817f06c?s=128&d=identicon&r=PG&f=1", "display_name": "alexania", "link": "https://stackoverflow.com/users/3808425/alexania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 59292475, "answer_count": 2, "score": 0, "last_activity_date": 1576160701, "creation_date": 1576089632, "question_id": 59292107, "link": "https://stackoverflow.com/questions/59292107/angular-8-typescript-number-value-coming-through-as-string", "title": "Angular 8 typescript number value coming through as string", "body": "<p>I'm sure I'm just doing something stupid but I can't see it.</p>\n\n<p>I have the following html:</p>\n\n<pre><code>&lt;input type=\"number\" (change)=\"changeEventDate(event, dateField.value)\" [value]=\"date\" #dateField /&gt;\n</code></pre>\n\n<p>And typescript:</p>\n\n<pre><code>const date: number;\n\n...\n\nchangeEventDate(event: Event, date: number) {\n  console.log(typeof date); // This logs \"string\"\n}\n</code></pre>\n\n<p>}</p>\n\n<p>So I'm passing in a number to [value],\nit's an input of type number and\nthe typescript method takes in a number parameter...\nhow is it still a string?</p>\n\n<p>(I know can just cast it to fix the issue, but I'm trying to understand why it's not working as expected.)</p>\n\n<p>And I guess, in case it's important:</p>\n\n<pre><code>\"@angular-devkit/build-angular\": \"~0.803.20\",\n\"@angular/cli\": \"~8.3.20\",\n\"@angular/compiler-cli\": \"~8.2.14\",\n\"@angular/language-service\": \"~8.2.14\",\n\"typescript\": \"~3.5.3\"\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 2427, "user_id": 4658957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/armHg.png?s=128&g=1", "display_name": "bastien", "link": "https://stackoverflow.com/users/4658957/bastien"}, "edited": false, "score": 0, "creation_date": 1576086695, "post_id": 59291409, "comment_id": 104787674, "body": "Have a look at <a href=\"https://stackoverflow.com/a/44449222/4658957\">stackoverflow.com/a/44449222/4658957</a>"}, {"owner": {"reputation": 151, "user_id": 8963690, "user_type": "registered", "profile_image": "https://graph.facebook.com/1807573279314950/picture?type=large", "display_name": "assax24", "link": "https://stackoverflow.com/users/8963690/assax24"}, "reply_to_user": {"reputation": 2427, "user_id": 4658957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/armHg.png?s=128&g=1", "display_name": "bastien", "link": "https://stackoverflow.com/users/4658957/bastien"}, "edited": false, "score": 0, "creation_date": 1576087053, "post_id": 59291409, "comment_id": 104787843, "body": "Use ngIfElse as @bastien suggested"}, {"owner": {"reputation": 162, "user_id": 4722003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb93da43d37955bf812d6895034aeb83?s=128&d=identicon&r=PG", "display_name": "ashish", "link": "https://stackoverflow.com/users/4722003/ashish"}, "edited": false, "score": 0, "creation_date": 1576087657, "post_id": 59291409, "comment_id": 104788110, "body": "I tried but its not working"}, {"owner": {"reputation": 324, "user_id": 10403022, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NAyZtv8K_wc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP3VjFy8qnUJuuENp5gGQG2gO1G_g/mo/photo.jpg?sz=128", "display_name": "Sam", "link": "https://stackoverflow.com/users/10403022/sam"}, "edited": false, "score": 0, "creation_date": 1576088969, "post_id": 59291409, "comment_id": 104788705, "body": "What error you&#39;re facing when using ifElse?"}], "answers": [{"tags": [], "owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1576088263, "last_edit_date": 1576088263, "creation_date": 1576087940, "answer_id": 59291756, "question_id": 59291409, "link": "https://stackoverflow.com/questions/59291409/conditionally-use-either-click-or-href-in-anchor-tag-in-angular/59291756#59291756", "title": "conditionally use either click or href in anchor tag in angular", "body": "<p>you can call function and check your condition into your function like this</p>\n\n<p>In component.html</p>\n\n<pre><code>&lt;a (click)=\"onClick(link)\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>in component.ts</p>\n\n<pre><code>onClick(link) {\n   if(link.linkName == 'Grills Data') {\n      // do something\n   } else {\n       // the line bellow will navigate to the link.url\n       window.location.href = link.url\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 4722003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb93da43d37955bf812d6895034aeb83?s=128&d=identicon&r=PG", "display_name": "ashish", "link": "https://stackoverflow.com/users/4722003/ashish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 726, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576088263, "creation_date": 1576086500, "question_id": 59291409, "link": "https://stackoverflow.com/questions/59291409/conditionally-use-either-click-or-href-in-anchor-tag-in-angular", "title": "conditionally use either click or href in anchor tag in angular", "body": "<p>Hi i want to use either href or (click) based on condition in anchor tab.</p>\n\n<p>I tried <code>*ngIf=\"link.linkName==Grills Data?(click)={{ link.url }}: href={{ link.url }}\"</code> but it throws error.</p>\n"}, {"tags": ["typescript", "typescript-generics", "mapped-types"], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 3821061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db5b26e2eaf048f6630218876cf094e?s=128&d=identicon&r=PG&f=1", "display_name": "spejamchr", "link": "https://stackoverflow.com/users/3821061/spejamchr"}, "is_accepted": false, "score": 0, "last_activity_date": 1580156526, "creation_date": 1580156526, "answer_id": 59938383, "question_id": 59291114, "link": "https://stackoverflow.com/questions/59291114/can-a-generic-method-assign-values-to-properties-on-an-object-with-a-mapped-type/59938383#59938383", "title": "Can a generic method assign values to properties on an object with a mapped type?", "body": "<p>Based on <a href=\"https://stackoverflow.com/a/59914740/3821061\">this answer on a different question</a>, </p>\n\n<blockquote>\n  <p>Use \"for in\" so that the compiler is able to infer that the variable \"key\" isn't just a string, but is actually a key in module's type.</p>\n</blockquote>\n\n<p>So change your two <code>forEach</code> loops to:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>for (const field in fields) {\n  response[field] = sequence.next().value;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>for (const field in fields) {\n  const sequence = this.stringSequence(field, initialValue);\n  response[field] = sequence.next().value;\n}\n</code></pre>\n"}], "owner": {"reputation": 2555, "user_id": 103075, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8d9db74f1bd8be46264b0fe72825725b?s=128&d=identicon&r=PG", "display_name": "D. Patrick", "link": "https://stackoverflow.com/users/103075/d-patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1580156526, "creation_date": 1576085249, "question_id": 59291114, "link": "https://stackoverflow.com/questions/59291114/can-a-generic-method-assign-values-to-properties-on-an-object-with-a-mapped-type", "title": "Can a generic method assign values to properties on an object with a mapped type?", "body": "<p>I threw together a quick utility to create test data quickly.  Basically, I wanted to be able to say, \"give me some data with the numeric properties populated.\"</p>\n\n<p>So, something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const testData = TestUtils.getStringFields&lt;User&gt;(['username', 'password'], 1118);\n/*\n  testData = {\n    username: 'username - 1118',\n    password: 'password - 1118',\n  }\n*/\n</code></pre>\n\n<p>It works fine, but some of the type information appears to get lost in the implementation:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type TypedFields&lt;T, TField&gt; = { [K in keyof T]: T[K] extends TField ? K : never }[keyof T];\n\ntype NumericFields&lt;T&gt; = TypedFields&lt;T, number&gt;;\ntype NumericPartial&lt;T&gt; = Partial&lt;Pick&lt;T, NumericFields&lt;T&gt;&gt;&gt;;\n\ntype StringFields&lt;T&gt; = TypedFields&lt;T, string&gt;;\ntype StringPartial&lt;T&gt; = Partial&lt;Pick&lt;T, StringFields&lt;T&gt;&gt;&gt;;\n\nexport class TestUtils {\n  public static *numberSequence(initialValue = 0): Generator&lt;number, number&gt; {\n    let i = initialValue - 1;\n    while(true) { yield ++i; }\n  }\n\n  public static getNumericFields&lt;T&gt;(fields: NumericFields&lt;T&gt;[], initialValue = -1): NumericPartial&lt;T&gt; {\n    const response: NumericPartial&lt;T&gt; = {};\n    const sequence = this.numberSequence(initialValue);\n\n    fields.forEach(field =&gt; {\n      // this works\n      response[field] = sequence.next().value as unknown as T[NumericFields&lt;T&gt;];\n\n      // this gives me a complier error Type 'number' is not assignable to type 'T[{ [K in keyof T]: T[K] extends number ? K : never; }[keyof T]] | undefined'.ts(2322)\n    });\n      // response[field] = sequence.next().value\n\n    return response;\n  }\n\n  public static *stringSequence(prefix: string, initialValue = 0): Generator&lt;string, string&gt; {\n    let i = initialValue - 1;\n    while(true) { yield `${prefix} - ${++i}` }\n  }\n\n  public static getStringFields&lt;T&gt;(fields: StringFields&lt;T&gt;[], initialValue = -1): StringPartial&lt;T&gt; {\n    const response: StringPartial&lt;T&gt; = {};\n\n    fields.forEach(field =&gt; {\n      const sequence = this.stringSequence(field as string, initialValue);\n      response[field] = sequence.next().value as unknown as T[StringFields&lt;T&gt;];\n    });\n\n    return response;\n  }\n}\n\n</code></pre>\n\n<p>How can I get rid of the type assertion <code>as unknown as T[NumericFields&lt;T&gt;]</code> since all of the fields on <code>NumericPartial&lt;T&gt;</code> should be <code>number | undefined</code>?</p>\n"}, {"tags": ["typescript", "typescript-generics"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576086442, "post_id": 59290996, "comment_id": 104787536, "body": "You can only specify the type parameter of a generic function type when you call it.  <code>_ =&gt; f&lt;T&gt;(_)</code> is probably the best you can reasonably hope for here."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576091527, "post_id": 59290996, "comment_id": 104789782, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/57142802/specialize-a-type-for-generic-function\">Specialize a type for generic function</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6967, "user_id": 5735030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8xypv.jpg?s=128&g=1", "display_name": "Alexandre Annic", "link": "https://stackoverflow.com/users/5735030/alexandre-annic"}, "edited": false, "score": 0, "creation_date": 1576142482, "post_id": 59292276, "comment_id": 104805409, "body": "I don&#39;t think. I absolutely don&#39;t understand what you&#39;re trying to do :D."}, {"owner": {"reputation": 993, "user_id": 4403376, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wysy6.png?s=128&g=1", "display_name": "Derek Lawrence", "link": "https://stackoverflow.com/users/4403376/derek-lawrence"}, "reply_to_user": {"reputation": 6967, "user_id": 5735030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8xypv.jpg?s=128&g=1", "display_name": "Alexandre Annic", "link": "https://stackoverflow.com/users/5735030/alexandre-annic"}, "edited": false, "score": 0, "creation_date": 1576175731, "post_id": 59292276, "comment_id": 104823771, "body": "if in the response you pass the value and the actual type then you can infer the type in the response by assigning the types prototype object to the value object"}], "tags": [], "owner": {"reputation": 993, "user_id": 4403376, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wysy6.png?s=128&g=1", "display_name": "Derek Lawrence", "link": "https://stackoverflow.com/users/4403376/derek-lawrence"}, "is_accepted": false, "score": 0, "last_activity_date": 1576090926, "last_edit_date": 1576090926, "creation_date": 1576090400, "answer_id": 59292276, "question_id": 59290996, "link": "https://stackoverflow.com/questions/59290996/is-it-possible-to-set-the-generic-type-of-a-function-without-calling-it-in-types/59292276#59292276", "title": "Is it possible to set the generic type of a function without calling it in Typescript?", "body": "<pre><code>        const apiResponse = Promise.resolve( { data: 1, asType: ( data as any ).__proto__} as { data: any, asType: any } );\n        const mapData = &lt;T&gt;( res: { data: any, asType: { new( ...args ): T } } ): T =&gt; {\n            if ( res.data ) {\n                res.data.__proto__ = res.asType;\n                return res.data;\n            }\n\n            return undefined;\n        }\n        const y = apiResponse.then( mapData );\n</code></pre>\n\n<p>Is this what your are after?</p>\n"}, {"comments": [{"owner": {"reputation": 6967, "user_id": 5735030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8xypv.jpg?s=128&g=1", "display_name": "Alexandre Annic", "link": "https://stackoverflow.com/users/5735030/alexandre-annic"}, "edited": false, "score": 0, "creation_date": 1576142338, "post_id": 59292797, "comment_id": 104805326, "body": "Thank you for this quality response. This is the 2nd time you save me theses 2 last days ;-)."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1576092697, "creation_date": 1576092697, "answer_id": 59292797, "question_id": 59290996, "link": "https://stackoverflow.com/questions/59290996/is-it-possible-to-set-the-generic-type-of-a-function-without-calling-it-in-types/59292797#59292797", "title": "Is it possible to set the generic type of a function without calling it in Typescript?", "body": "<p>Personally I don't see anything wrong with your \"verbose\" call</p>\n\n<pre><code>const z = apiResponse.then(_ =&gt; mapData&lt;number&gt;(_)); \n</code></pre>\n\n<p>but if you want something else, read on:</p>\n\n<hr>\n\n<p>Generic function types, where a single function can act as multiple types of function, only let you specify the generic type parameter when you call it.  Your <code>mapData</code> function has the following type:</p>\n\n<pre><code>type GenFunc = &lt;T&gt;(res: { data: T; }) =&gt; T\nconst verifyMapData: GenFunc = mapData; // okay\n</code></pre>\n\n<p>Note that <code>GenFunc</code> is not a generic type alias; it is a specific type alias which refers to a generic function type.  You can think of the type parameter <code>T</code> as \"belonging to\" the call signature and not to the name of the function or the name of any type alias of the function. Since it doesn't belong to the name of the function you can't write <code>mapData&lt;T&gt;</code> by itself and since it doesn't belong to the <code>GenFunc</code> type name you can't write <code>GenFunc&lt;T&gt;</code> either.</p>\n\n<hr>\n\n<p>Compare this to the distinct but related <em>generic</em> type alias which refers to a family of <em>specific</em> function types:</p>\n\n<pre><code>type GenAlias&lt;T&gt; = (res: {data: T; }) =&gt; T\n</code></pre>\n\n<p>In this type, the generic type parameter \"belongs to\" the name of the type alias and not to the function type it represents.  </p>\n\n<p>Now it is unfortunately true that TypeScript's type system currently lacks the expressiveness necessary to take the <code>GenFunc</code> type and generate the <code>GenAlias&lt;T&gt;</code> type automatically.  For now at least, you need to write out <code>GenAlias&lt;T&gt;</code>'s type definition yourself by hand, as I just did.</p>\n\n<hr>\n\n<p>What the compiler <em>can</em> do is recognize that a value of type <code>GenFunc</code> is assignable to a variable of type <code>GenAlias&lt;T&gt;</code> for any specific <code>T</code> you want, so the following compiles just fine:</p>\n\n<pre><code>const mapDataNumber: GenAlias&lt;number&gt; = mapData; // okay\n</code></pre>\n\n<p>And therefore you can get the following to compile without an extra function call, if it matters:</p>\n\n<pre><code>const w = apiResponse.then(mapDataNumber); // Promise&lt;number&gt;\n</code></pre>\n\n<p>Furthermore if you don't want to waste a line on a variable assignment you can use a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> for a little less type safety but with absolutely no runtime effect:</p>\n\n<pre><code>const v = apiResponse.then(mapData as GenAlias&lt;number&gt;); // Promise&lt;number&gt;\n</code></pre>\n\n<p>Either one of those should work for you.</p>\n\n<hr>\n\n<p>Okay, hope that helps.  Good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#code/MYewdgzgLgBAhgBwJYCUCmEHgmmBeGABQCcQBbJHAOmIxABsA3NACgG8YATOKOALhgBGGAF94EGB268BcMAE9RASgDcMAPTqYAQQgQArmVwBJLuADksANZgQAdxhQAFrijyEuEADMuPOAFgAKFBIWDJEABE-fBgAHgAVAD4WWggBKT8BeOUs-ESYVKppOBUgmCCQ6BgADxjEVAwsSDQqZzQwFnCEKN5YsEMAIzRiRNUNLXinShhwXC84JHoJKBAYUDJkejQK7FhFAnr0TGwWto6unrgxzRgAZX1gYDQ0TheYAf09mGnvR3dcOTyHahGAALzqyCOTWoZxYAH08jALn4+oNhsk4Uprlp7o9nq9OO9PjBmMQBiAcDAAIRBIJuDwwADi7QAYvowMAYglkql0r4ZDB4moREpEULgVVSUgvPIALKRTJM1nszkEZG8NQ3EBWOBAwJ0-5KsDaehIOAQbkxFIYPnFLLC0V4fLi-XBXZIhW8AByaOIAmZxtN5tRZCGIxi6pK4xmOr1lVgDgOkMaJ1aLnOnrgPtDw2xRFIFBwIbDiQlsEYEIax2aafanUz4iNJrNFv6OZGeZI5EoaGL6KAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 6967, "user_id": 5735030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8xypv.jpg?s=128&g=1", "display_name": "Alexandre Annic", "link": "https://stackoverflow.com/users/5735030/alexandre-annic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 1, "accepted_answer_id": 59292797, "answer_count": 2, "score": 2, "last_activity_date": 1576092697, "creation_date": 1576084861, "last_edit_date": 1576085198, "question_id": 59290996, "link": "https://stackoverflow.com/questions/59290996/is-it-possible-to-set-the-generic-type-of-a-function-without-calling-it-in-types", "title": "Is it possible to set the generic type of a function without calling it in Typescript?", "body": "<p>The question is in the title. Below an example of what I'm trying to achieve:</p>\n\n<pre><code>const apiResponse = Promise.resolve({data: 1} as {data: any}); // Assume I don't know the type of data\nconst mapData = &lt;T&gt;(res: {data: T}): T =&gt; res.data;\n\nconst x = apiResponse.then(mapData&lt;number&gt;); // This one fails to compile\nconst y = apiResponse.then(mapData); // Succeeded but y is of type any\nconst z = apiResponse.then(_ =&gt; mapData&lt;number&gt;(_)); // Succeeded but verbose !\n</code></pre>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jasmine"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1576090991, "post_id": 59290948, "comment_id": 104789539, "body": "You probably already declared the (real) child component in your AppRoutingModule."}, {"owner": {"reputation": 121, "user_id": 11794142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328638d0d4858fc57b184edc1ff439ad?s=128&d=identicon&r=PG&f=1", "display_name": "Clev_James23", "link": "https://stackoverflow.com/users/11794142/clev-james23"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1576091150, "post_id": 59290948, "comment_id": 104789614, "body": "Is it possible to import the module without that component in there just for testing?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1576091261, "post_id": 59290948, "comment_id": 104789667, "body": "You can probably do it using <a href=\"https://angular.io/api/core/testing/TestBed#overrideModule\" rel=\"nofollow noreferrer\">angular.io/api/core/testing/TestBed#overrideModule</a>. But I would just avoid importing this module in the first place. Import/declare just what you need in your testing module."}, {"owner": {"reputation": 121, "user_id": 11794142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328638d0d4858fc57b184edc1ff439ad?s=128&d=identicon&r=PG&f=1", "display_name": "Clev_James23", "link": "https://stackoverflow.com/users/11794142/clev-james23"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1576091589, "post_id": 59290948, "comment_id": 104789813, "body": "Awesome! I got it working. Thank you!!"}], "answers": [{"tags": [], "owner": {"reputation": 1528, "user_id": 12171299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B0Kus.jpg?s=128&g=1", "display_name": "German Quinteros", "link": "https://stackoverflow.com/users/12171299/german-quinteros"}, "is_accepted": true, "score": 0, "last_activity_date": 1594799646, "last_edit_date": 1594799646, "creation_date": 1576094081, "answer_id": 59293109, "question_id": 59290948, "link": "https://stackoverflow.com/questions/59290948/angular-unit-testing-mock-child-component-using-stub/59293109#59293109", "title": "Angular Unit Testing - Mock Child Component using Stub", "body": "<p>For the nested component, we can mock them like this: <a href=\"https://angular.io/guide/testing-components-scenarios#stubbing-unneeded-components\" rel=\"nofollow noreferrer\">https://angular.io/guide/testing-components-scenarios#stubbing-unneeded-components</a></p>\n<p>In conclusion, your <strong>parent.component.spec.ts</strong> should be:</p>\n<pre><code>import { HttpClientTestingModule} from '@angular/common/http/testing';\nimport { Component } from '@angular/core';\n\ndescribe('ParentComponent', () =&gt; {\n  let component: ParentComponent;\n  let fixture: ComponentFixture&lt;ParentComponent&gt;;\n  let router: Router;\n\n\n @Component({selector: 'child', template: ''})\n class ChildStubComponent {}\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [ ParentComponent, ChildStubComponent ],\n      imports: [\n        AppRoutingModule, HttpClientTestingModule, BrowserAnimationsModule,\n        RouterTestingModule.withRoutes(routes)\n      ],\n      schemas: [CUSTOM_ELEMENTS_SCHEMA]\n    })\n      .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(ParentComponent);\n    component = fixture.componentInstance;\n    router = TestBed.get(Router);\n    spyOnProperty(router, 'url', 'get').and.returnValue('/somePath');\n    fixture.detectChanges();\n  });\n\n  it('should create', () =&gt; {\n    expect(component).toBeTruthy();\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 11794142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328638d0d4858fc57b184edc1ff439ad?s=128&d=identicon&r=PG&f=1", "display_name": "Clev_James23", "link": "https://stackoverflow.com/users/11794142/clev-james23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3675, "favorite_count": 2, "accepted_answer_id": 59293109, "answer_count": 1, "score": 2, "last_activity_date": 1594799646, "creation_date": 1576084695, "last_edit_date": 1576091645, "question_id": 59290948, "link": "https://stackoverflow.com/questions/59290948/angular-unit-testing-mock-child-component-using-stub", "title": "Angular Unit Testing - Mock Child Component using Stub", "body": "<p>I am trying to unit test a component that has a child component that I want to mock. I don't want to use the NO_ERRORS_SCHEMA cause the drawbacks associated. I am trying to use a stub/dummy child component. The code is as follows: </p>\n\n<p><strong>parent.component.ts</strong></p>\n\n<pre><code>@Component({\n  selector: 'parent',\n  template: `\n    &lt;!-- Does other things --&gt;\n    &lt;child&gt;&lt;/child&gt;\n  `\n})\nexport class ParentComponent { }\n</code></pre>\n\n<p><strong>child.component.ts</strong></p>\n\n<pre><code>@Component({\n  selector: 'child',\n  template: '&lt;!-- Does something --&gt;'\n})\nexport class ChildComponent {\n  @Input() input1: string;\n  @Input() input2?: number;\n}\n</code></pre>\n\n<p><strong>parent.component.spec.ts</strong></p>\n\n<pre><code>describe('ParentComponent', () =&gt; {\n  let component: ParentComponent;\n  let fixture: ComponentFixture&lt;ParentComponent&gt;;\n  let router: Router;\n\n  @Component({\n    selector: 'child',\n    template: '&lt;div&gt;&lt;/div&gt;'\n  })\n  class ChildStubComponent {\n    @Input() input1: string;\n    @Input() input2: number;\n  }\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [ ParentComponent, ChildStubComponent ],\n      imports: [\n        AppRoutingModule, HttpClientModule, BrowserAnimationsModule,\n        RouterTestingModule.withRoutes(routes)\n      ],\n      schemas: [CUSTOM_ELEMENTS_SCHEMA]\n    })\n      .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(ParentComponent);\n    component = fixture.componentInstance;\n    router = TestBed.get(Router);\n    spyOnProperty(router, 'url', 'get').and.returnValue('/somePath');\n    fixture.detectChanges();\n  });\n\n  it('should create', () =&gt; {\n    component.ngOnInit();\n    expect(component).toBeTruthy();\n  });\n});\n</code></pre>\n\n<p>The problem I'm having is that angular is complaining with the following error: </p>\n\n<pre><code>Failed: Template parse errors:\nMore than one component matched on this element.\nMake sure that only one component's selector can match a given element.\n</code></pre>\n\n<p>I'm using Angular version 8 if that helps. Everywhere I looked so far shows that you stub a child component the same way I am doing now. Using ngMocks is not an option at the moment.</p>\n\n<p><strong>EDIT</strong>\nTried using ngMock but this only has the same problem. Any help would be very much appreciated!</p>\n\n<p><strong>Solution</strong></p>\n\n<p>Got it working. Problem was that the AppRoutingModule had the real component imported already.</p>\n"}, {"tags": ["typescript", "overloading", "typescript-generics", "either"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 349658, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d4987818e8c037073c38b87494d641c7?s=128&d=identicon&r=PG", "display_name": "Ant", "link": "https://stackoverflow.com/users/349658/ant"}, "edited": false, "score": 0, "creation_date": 1576087146, "post_id": 59291290, "comment_id": 104787891, "body": "Thank you very much! Obviously there was a lot of language design trade-offs in favor of certain design choices/goals (e.g. TS compiled code looking like more or less handwritten JS, etc). Overload obviously fell victim of such a trade-off)"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1576085964, "creation_date": 1576085964, "answer_id": 59291290, "question_id": 59290852, "link": "https://stackoverflow.com/questions/59290852/figure-out-right-types-typescript-interface-method-overload/59291290#59291290", "title": "Figure out right types - Typescript interface method overload", "body": "<p>The <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">overload</a> call signatures should be in the order from most restrictive to least restrictive, so probably I'd do it this way:</p>\n\n<pre><code>interface Either&lt;TResult, TError&gt; {\n  flatMap&lt;R, E&gt;(f: (value: TResult) =&gt; Either&lt;R, E&gt;): Either&lt;R, E | TError&gt;;\n  flatMap&lt;R&gt;(f: (value: TResult) =&gt; R): Either&lt;R, void | TError&gt;;\n}\n</code></pre>\n\n<p>Since any <code>f</code> of type <code>(value: TResult) =&gt; Either&lt;R, E&gt;</code> will <em>also</em> be a value of type <code>(value: TResult) =&gt; R</code> (for a different <code>R</code>), but the reverse is not true, we have to do it this way.  If we flipped the order then no call would ever be seen as the <code>=&gt; Either&lt;R, E&gt;</code> call signature because it always match the more general <code>=&gt; R</code> signature.</p>\n\n<hr>\n\n<p>Implementing overloads requires a single implementation signature (since at runtime there will be only one function), so you need to write runtime code to figure out what to do at runtime when handed different types of <code>f</code>.  </p>\n\n<p>Your <code>Left</code> implmentation seems to be completely independent of <code>f</code>, so that's an easy one to implement:</p>\n\n<pre><code>class Left&lt;TResult, TError extends { type: any }&gt; implements Either&lt;TResult, TError&gt; {\n\n  public constructor(private readonly error: TError) { }\n\n  public flatMap&lt;R, E&gt;(f: (value: TResult) =&gt; Either&lt;R, E&gt;): Either&lt;R, E | TError&gt;;\n  public flatMap&lt;R&gt;(f: (value: TResult) =&gt; R): Either&lt;R, void | TError&gt;;\n  public flatMap(f: (value: TResult) =&gt; any) {\n    return new Left(this.error);\n  }\n}\n</code></pre>\n\n<p>As for the <code>Right</code> implementation, we need to determine if <code>f(this.value)</code> constitutes an <code>Either</code> at runtime or not.  Assuming only <code>Left</code> and <code>Right</code> classes implement <code>Either</code>, I'd do it this way:</p>\n\n<pre><code>class Right&lt;TResult, TError&gt; implements Either&lt;TResult, TError&gt; {\n\n  public constructor(private readonly value: TResult) { }\n  public flatMap&lt;R, E&gt;(f: (value: TResult) =&gt; Either&lt;R, E&gt;): Either&lt;R, E | TError&gt;;\n  public flatMap&lt;R&gt;(f: (value: TResult) =&gt; R): Either&lt;R, void | TError&gt;;\n  public flatMap(f: (value: TResult) =&gt; any) {\n    const ret = f(this.value);\n    return ret instanceof Left || ret instanceof Right ? ret : new Right(ret);\n  }\n}\n</code></pre>\n\n<p>And this seems to behave properly on your example code:</p>\n\n<pre><code>const c = f1('345').flatMap(f2).flatMap(f5).flatMap(f3).flatMap(f6);\nconsole.log(c); // Object { value: \"3460!\" }\n</code></pre>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#code/JYOwLgpgTgZghgYwgAgKLDAC2gHgCoBKEAzgK4A2YANMnqlFAPZQB8yA3gLABQyyM5OGACycAA44CNVCwAUMAFzJZANzjlSEJYRIUwASmQBeNuiy4paFvqVnsUSdOQAfWvSasA3Dz4ChoiQI5RWU1DS1aIjJKQxNkAhs0DHtHZBVGYAATFzcGZhZvbgBfHh4EQWJiZAAZCBgwfCi9Gjo8qGQIAA9IEEyq9mQwAE8xCLgQIeQitmAAWzFyCFmIcCq7XB1o6lyPNi5uH2QxUgAjcmAEZARGEGIwKFIEMGZZMShgNUhkKAg4TJvyJNoB5tO5mIYBiUDrwjqdzpc-CJxKkZPIlKp1JptE0YsZTMkLNJrLYCQ5LKgcq1doU+Mczhd+IIkYFguiwljIrpcXEEiTzGSaOkspSwV5DnT4Yz-OI0aFMRFNnpYmxxkMIYc+D8wKQoCBkCAIAB3Gp1MCyLDAYgAOmB4JpUx4ULKFSqBGAAHNMA1FZQWqKZvNFstVkl+Y0udsqfkOKUYRKGddbvdHs8oK93p8UD8-gDJuyFTiDBwHXG4QzEQEUay5eFsRHlaGUuTiY3CWgRW0CuKywimZWgrKMbXOVsG7zWwK0hlsq4o2LS-Te9KxIP83XR3jkKr1TC+Im7t8IGBjPxzZhLVb8-p7Zqjzq9VrkKA7uMkIwYCb6i5XI-n2BXxA77xB6XrIAA-Iex5KAaxpup6ZpatehxQk63DlHAlTxCQjA6kgooxjCwyjCeABEUQ4VAeFtCRW5VPuYCxrSPZXDcdwPE8Lzxpc2b-CAgKHsQFFIAAkpk0GkLMJzQBCJaoehmEAPInAAVhATwAHKMGAABiOG9ARfBESgRjICRSmqRpWm6aQvQ0RhLFJoxsKLg5bEppxzE8bmyCzMQ7pKGxoDujQXGHjmfGTGAcwkP+8wBfcQUyShsbyVUAAiHyWsANwAEJDAAWtAjAGYMIzGaZGUqFluUFUVdl0axDHFLGMA2U82V6jAACMsjEPF7wgO6iTrA4IASVJUA0JV1UgHlhVMHshxave+pGsB8GyAA1MQSHNdCrUgO1Nz8AATLIIDiZJ0l8ikY1XZNWGCbhED+iVy26qtsEgWaeqbcgXW7ahB1HZ1ADM52XRNw2kjggWDTQ5lqWAmk6XpmSLTC716jB61eudVrPAAyglg2yPogMtW1UXHTAACsEP6uN12M-dxZLXeH16gAVP9AAMhRA1THX8AAbL1-WJRLg1vRzepVH9ADkACECsCyljVXCe3WyAroMACy0wr+hWhWMowCdxumyudOW32Zug7by7yCLu37owixWuQjDurICDXsgAD0AfIIjTzFmupn6yLvNKzRUJAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 169, "user_id": 349658, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d4987818e8c037073c38b87494d641c7?s=128&d=identicon&r=PG", "display_name": "Ant", "link": "https://stackoverflow.com/users/349658/ant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 59291290, "answer_count": 1, "score": 0, "last_activity_date": 1576104943, "creation_date": 1576084361, "last_edit_date": 1576104943, "question_id": 59290852, "link": "https://stackoverflow.com/questions/59290852/figure-out-right-types-typescript-interface-method-overload", "title": "Figure out right types - Typescript interface method overload", "body": "<p>I'm trying to figure out how to implement an auxiliary .flatMap method on Either monad. Unlike regular .flatMap it accepts a lambda that returns some regular value instead of Either instance. It's supposed to work like an adaptor to consume functions that were not designed for use with Either.</p>\n\n<p>In the example below I named this adaptor method .flatmap. Can anyone suggest how I can convert that function into a legit Typescript overload of the regular .flatMap?</p>\n\n<pre><code>interface Either&lt;TResult, TError&gt; {\n\n  flatmap&lt;R&gt;(f: (value: TResult) =&gt; R): Either&lt;R, void | TError&gt;;\n\n  flatMap&lt;R, E&gt;(f: (value: TResult) =&gt; Either&lt;R, E&gt;): Either&lt;R, E | TError&gt;;\n}\n\nclass Left&lt;TResult, TError extends { type: any }&gt; implements Either&lt;TResult, TError&gt; {\n\n  public constructor(private readonly error: TError) {}\n\n  public flatmap&lt;R&gt;(f: (value: TResult) =&gt; R): Either&lt;R, void | TError&gt; {\n    return this.flatMap(n =&gt; new Left(this.error));\n  }\n\n  public flatMap&lt;R, E&gt;(f: (value: TResult) =&gt; Either&lt;R, E&gt;): Either&lt;R, E | TError&gt; {\n    return new Left(this.error);\n  }\n}\n\nclass Right&lt;TResult, TError&gt; implements Either&lt;TResult, TError&gt; {\n\n  public constructor(private readonly value: TResult) { }\n\n  public flatmap&lt;R&gt;(f: (value: TResult) =&gt; R): Either&lt;R, void | TError&gt; {\n\n    return new Right(f(this.value));\n  }\n\n  public flatMap&lt;R, E&gt;(f: (value: TResult) =&gt; Either&lt;R, E&gt;): Either&lt;R, E | TError&gt; {\n\n      return f(this.value);\n  }\n}\n\nclass ResourceError {\n  type = \"ResourceError\" as const\n\n  public constructor(public readonly resourceId: number) {}\n}\n\nclass ObjectNotFound { \n  type = \"ObjectNotFound\" as const\n\n  public constructor(public readonly msg: string, public readonly timestamp: string) { }\n}\n\nclass DivisionByZero {\n  type = \"DivisionByZero\" as const\n}\n\nfunction f1(s: string): Either&lt;number, DivisionByZero&gt; {\n  return new Right(+s);\n}\n\nfunction f2(n: number): Either&lt;number, ResourceError&gt; {\n  return new Right(n + 1);\n}\n\nfunction f3(n: number): Either&lt;string, ObjectNotFound&gt; {\n  return new Right(n.toString());\n}\n\nfunction f5(n: number): number {\n  return n * 10;\n}\n\nfunction f6(s: string): string {\n  return s + '!';\n}\n\nconst c = f1('345')\n  .flatMap(n =&gt; f2(n))\n  .flatmap(n =&gt; f5(n))\n  .flatMap(n =&gt; f3(n))\n  .flatmap(n =&gt; f6(n));\n\nconsole.log(c);\n</code></pre>\n\n<p><strong>UPDATE:</strong> For curious, more 'encapsulated' api + statically checked pattern matching:</p>\n\n<pre><code>type UnionOfNames&lt;TUnion&gt; = TUnion extends { type: any } ? TUnion[\"type\"] : never\n\ntype UnionToMap&lt;TUnion&gt; = {\n  [NAME in UnionOfNames&lt;TUnion&gt;]: TUnion extends { type: NAME } ? TUnion : never\n}\n\ntype Pattern&lt;TResult, TMap&gt; = {\n  [NAME in keyof TMap]: (value: TMap[NAME]) =&gt; TResult\n}\n\ntype Matcher&lt;TUnion, TResult&gt; = Pattern&lt;TResult, UnionToMap&lt;TUnion&gt;&gt;;\n\ninterface Either&lt;TResult, TError&gt; {\n\n  flatMap&lt;R, E&gt;(f: (value: TResult) =&gt; Either&lt;R, E&gt;): Either&lt;R, E | TError&gt;;\n\n  flatMap&lt;R&gt;(f: (value: TResult) =&gt; R): Either&lt;R, void | TError&gt;;\n\n  match&lt;R&gt;(success: (result: TResult) =&gt; R, error: Matcher&lt;TError, R&gt;): R;\n}\n\nabstract class Either&lt;TResult, TError&gt; {\n\n  public static Right&lt;TResult&gt;(value: TResult): Either&lt;TResult, never&gt; {\n\n    return new Either.rightClass(\n      value,\n      x =&gt; x instanceof Either.leftClass || x instanceof Either.rightClass,\n      Either.Right\n    );\n  }\n\n  public static Left&lt;TError extends { type: any }&gt;(error: TError): Either&lt;never, TError&gt; {\n\n    return new Either.leftClass(error);\n  }\n\n  private static readonly leftClass =\n    class &lt;TResult, TError extends { type: any }&gt; implements Either&lt;TResult, TError&gt; {\n\n      public constructor(private readonly error: TError) { }\n\n      public flatMap&lt;R, E&gt;(f: (value: TResult) =&gt; Either&lt;R, E&gt;): Either&lt;R, E | TError&gt;;\n      public flatMap&lt;R&gt;(f: (value: TResult) =&gt; R): Either&lt;R, void | TError&gt;;\n      public flatMap(f: (value: TResult) =&gt; any) {\n\n        return this;\n      }\n\n      public match&lt;R&gt;(success: (result: TResult) =&gt; R, error: Matcher&lt;TError, R&gt;): R {\n\n        return (error as any)[this.error.type](this.error);\n      }\n    };\n\n  private static readonly rightClass =\n    class &lt;TResult, TError&gt; implements Either&lt;TResult, TError&gt; {\n\n      public constructor(\n        private readonly value: TResult,\n        private readonly isEitherInst: (x: any) =&gt; boolean,\n        private readonly rightFactory: &lt;R&gt;(result: R) =&gt; Either&lt;R, TError&gt;\n      ) { }\n\n      public flatMap&lt;R, E&gt;(f: (value: TResult) =&gt; Either&lt;R, E&gt;): Either&lt;R, E | TError&gt;;\n      public flatMap&lt;R&gt;(f: (value: TResult) =&gt; R): Either&lt;R, void | TError&gt;;\n      public flatMap(f: (value: TResult) =&gt; any) {\n\n        const result = f(this.value);\n\n        return this.isEitherInst(result) ? result : this.rightFactory(result);\n      }\n\n      public match&lt;R&gt;(success: (result: TResult) =&gt; R, error: Matcher&lt;TError, R&gt;): R {\n\n        return success(this.value);\n      }\n    }\n}\n\nclass ResourceError {\n  type = \"ResourceError\" as const\n\n  public constructor(public readonly resourceId: number) { }\n}\n\nclass ObjectNotFound {\n  type = \"ObjectNotFound\" as const\n\n  public constructor(public readonly msg: string, public readonly timestamp: string) { }\n}\n\nclass DivisionByZero {\n  type = \"DivisionByZero\" as const\n}\n\nclass NetworkError {\n  type = \"NetworkError\" as const\n\n  public constructor(public readonly address: string) {}\n}\n\nclass GenericError {\n  type = \"GenericError\" as const\n\n  public constructor(public readonly exception: Error) {}\n}\n\nfunction f1(s: string): Either&lt;number, DivisionByZero&gt; {\n  console.log('f1()');\n  return Either.Right(+s);\n}\n\nfunction f2(n: number): Either&lt;number, ResourceError&gt; {\n  console.log('f2()');\n  return Either.Right(n + 1);\n}\n\nfunction f3(n: number): Either&lt;string, ObjectNotFound&gt; {\n  console.log('f3()');\n  return Either.Right(n.toString());\n  //return Either.Left(new ObjectNotFound('not found ', Date.now().toString()));\n}\n\nfunction f4(s: string): number { \n  console.log('f4()');\n  return +s * 10;\n}\n\nfunction f5(s: number): Either&lt;string, ResourceError&gt; {\n  console.log('f5()');\n  return Either.Right(s.toString() + '!');\n}\n\nconst c = f1('345')\n  .flatMap(f2)\n  .flatMap(f3)\n  .flatMap(f4)\n  .flatMap(f5);\n\n\nconst r = c.match(\n  (result: any) =&gt; result.toString(),\n  {\n    //GenericError: (value: GenericError) =&gt; value.exception.message,\n    ObjectNotFound: (value: ObjectNotFound) =&gt; value.msg + value.timestamp,\n    ResourceError: (value: ResourceError) =&gt; 'resourceError',\n    DivisionByZero: (value: DivisionByZero) =&gt; 'divisionByZero',\n  }\n);\n\nconsole.log(r);\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html?ssl=1&amp;ssc=1&amp;pln=79&amp;pc=1#code/JYOwLgpgTgZghgYwgAgKLDAC2gHgCoBKEAzgK4A2YANMnqlFAPZQB8yA3gLABQPyyMcnDABbOAAccBFgAoYALmQyAbnHKkIiwiQpgAlMgC8bAnsXosuAjWWNgAE2QAfWvSasA3Dz4ChYALISUjSosgpKquqatERklAbGaBjYUMFoLGZJlqnWaM6uDMwsXtwAvt7cCELExMgAMhAwYPixujR0hVDIEAAekCD2tezIYACe4tFwIKPIpWzAIuLkECIQ4LUWKS06lO1uRRwV-OKkAEbkwAjICIwgxGBQpAhgzDLiUMCqkMhQEHD2t3IM2g7i0%20ygBnY5V43GOZwuV0EwjEkmkckUKjUGi0rXiRhMmU2VhsdkcLg67jYXFh-B%20EDApCgIBGmGAxAAdEiAhIZMzEiAIAB3eqNMAyLBs9kg5h6PQlfjQnwnc6XXzCQKokJhDGRbExHb6fFZLa5UKE5LEvLk8FUnz8X4MpnIAXChpNcWsjnSiHy2Y8RWVaq1AjAADmmGa2ji1AKlOQCyWKzWYA2FtSUbasYO1KV8NVNzuDyeLygbw%20XxQv3%20gJmuuiGbxwwDcJViL8KKk2oiWPruMNiVM5jTaVsDnyFOzR1pDsZzJdyBD4bFMA9krrst90OQudbau5mvS6O7URxBoSbCJOS15uyaVQ45thxhtOn9NnAlXHPXm-9FSqcBqBcSEYRkkHBJ9%20DGCYjGQAAiWIQKgMDOlg5AAOuW57inZUEQwwtHmeV4cNVKsARAIE6WIRCkAASXsRQQFIERTmgSFoQDf9AIAeVOAArCBngAOUYMAADEQIGDhtxpKCUEMOCeP4oSRPE0gBlQ9CCyw59kGIq4tKLQjSz0ulq3ImYRGIUNFHuD4QFDGgTNImsRgWEgwDgRYbIeUBQ0hP0yj-INkAAEU%20NlgFuAAhUYAC1oEYCCRnGOS4LC5QIuiuKEo02oDN-GEYDU55IuZGAAEYZGIby7L8odb0Y5joBodLMpAGL4qYW0aRnJ150XCMZAAamIOUCp4IqQBK24BAAJl5BimJYiF6q2RrlpoBDQIgR9qXtN8%20qFBcw0G5khuQcqxsCwrirAUqBAAZgW50ltY1bcFs3yaEUgSwGEsSJPsbr9sdOcjoGsUQHZF4AGUfPsmQN3G7hJumsqAFZnvWt6Xqaro9rpUHnWQAAqC6AAYSgDVG7pmmAADYqpq3zMk%20%20ykt65lanOgByABCHmqb-TCwGuGCKpkHmHoAFnRnm9B8Tk-A1XkjRgeaQFlRWuRRVXEhgTHNYVmklfVHk%20TYGAnqN7X23NtXGaNkoeC0xhlnZchGFDGQECuoA\" rel=\"nofollow noreferrer\">Link</a> to the playground. Usage of the overload - lines #74 &amp; #76</p>\n"}, {"tags": ["typescript", "vue.js", "modal-dialog", "antd"], "answers": [{"comments": [{"owner": {"reputation": 244, "user_id": 12510939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3c9f599365edbfa254d50a9372bc8c3?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/12510939/himanshu"}, "reply_to_user": {"reputation": 1032, "user_id": 3236180, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/100000189749511/picture?type=large", "display_name": "farahm", "link": "https://stackoverflow.com/users/3236180/farahm"}, "edited": false, "score": 0, "creation_date": 1576090939, "post_id": 59291002, "comment_id": 104789507, "body": "@farahm I don&#39;t have that much information as to how your table data is generated (static/dynamic). Are the rows data being generated through a v-for (objects at each index of array, similar to columns array)?"}], "tags": [], "owner": {"reputation": 244, "user_id": 12510939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3c9f599365edbfa254d50a9372bc8c3?s=128&d=identicon&r=PG&f=1", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/12510939/himanshu"}, "is_accepted": false, "score": 1, "last_activity_date": 1576084875, "creation_date": 1576084875, "answer_id": 59291002, "question_id": 59290778, "link": "https://stackoverflow.com/questions/59290778/vue-ant-design-modal-appears-twice/59291002#59291002", "title": "Vue Ant Design Modal appears twice", "body": "<p>From what I can infer, this is happening because the dialogs don't have a unique value as v-model. So, whenever visible is set to true all the dialogs are appearing simultaneously. Please check by assigning unique value in v-model for each dialog.</p>\n"}, {"tags": [], "owner": {"reputation": 1032, "user_id": 3236180, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/100000189749511/picture?type=large", "display_name": "farahm", "link": "https://stackoverflow.com/users/3236180/farahm"}, "is_accepted": false, "score": 0, "last_activity_date": 1576165315, "last_edit_date": 1576165315, "creation_date": 1576152543, "answer_id": 59304260, "question_id": 59290778, "link": "https://stackoverflow.com/questions/59290778/vue-ant-design-modal-appears-twice/59304260#59304260", "title": "Vue Ant Design Modal appears twice", "body": "<p>I solved it, by putting the <code>&lt;a-model&gt;</code> outside of the <code>&lt;span&gt;</code> attribute:</p>\n\n<pre><code>&lt;a-table :columns=\"columns\" :dataSource=\"data\" :rowSelection=\"rowSelection\" bordered rowKey=\"id\"&gt;\n  &lt;span slot=\"operation\" slot-scope=\"text, record\"&gt;\n    &lt;a @click=\"showModal(record)\"&gt;Details&lt;/a&gt;\n\n  &lt;/span&gt;\n&lt;/a-table&gt;\n\n&lt;a-modal title=\"Bestell-Details\" width=\"1000px\"  v-model=\"visible\" @ok=\"handleOk\"&gt;\n  &lt;HelloWorld v-bind:order=selectedOrder&gt;&lt;/HelloWorld&gt;\n&lt;/a-modal&gt;\n\n\nshowModal(key) {\n        this.visible = true;\n        this.selectedOrder = key;\n      },\n</code></pre>\n"}], "owner": {"reputation": 1032, "user_id": 3236180, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/100000189749511/picture?type=large", "display_name": "farahm", "link": "https://stackoverflow.com/users/3236180/farahm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576165315, "creation_date": 1576084031, "question_id": 59290778, "link": "https://stackoverflow.com/questions/59290778/vue-ant-design-modal-appears-twice", "title": "Vue Ant Design Modal appears twice", "body": "<p>Following is my vue:</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div class=\"orderstoapprove\"&gt;\n\n    &lt;a-table :columns=\"columns\" :dataSource=\"data\" :rowSelection=\"rowSelection\" bordered rowKey=\"id\"&gt;\n      &lt;span slot=\"operation\" slot-scope=\"text, record\"&gt;\n        &lt;a @click=\"showModal(record)\"&gt;Details&lt;/a&gt;\n        &lt;a-modal title=\"Bestell-Details\" width=\"1000px\" v-model=\"visible\" @ok=\"handleOk\"&gt;\n          &lt;HelloWorld v-bind:order=record&gt;&lt;/HelloWorld&gt;\n        &lt;/a-modal&gt;\n      &lt;/span&gt;\n    &lt;/a-table&gt;\n\n  &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>Which looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7O8Aw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7O8Aw.png\" alt=\"enter image description here\"></a></p>\n\n<p>So the last column is the \"Details\" column, which should open a pop up dialog (modal)</p>\n\n<p>showModal is:</p>\n\n<pre><code>  showModal(key) {\n    console.log(\"showModal \" + key);\n    this.visible = true;\n  },\n</code></pre>\n\n<p>columns are:</p>\n\n<pre><code>const columns = [\n    ...\n    {\n      title: 'Details',\n      dataIndex: 'operation',\n      scopedSlots: {customRender: 'operation'},\n    },\n  ];\n</code></pre>\n\n<p>HelloWorld vue is:</p>\n\n<pre><code>&lt;script lang=\"ts\"&gt;\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class HelloWorld extends Vue {\n  @Prop()\n  private order!: any;\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>But when I click on \"Details\" in any row, I see a \"double\" modal and always only the data from the first table row is shown:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ujSVa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ujSVa.png\" alt=\"enter image description here\"></a></p>\n\n<p>Anybody knows where the error lies?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 792, "user_id": 9464133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uxWk0MGo77I/AAAAAAAAAAI/AAAAAAAAAFk/yuV6jFZDsWA/photo.jpg?sz=128", "display_name": "thenolin", "link": "https://stackoverflow.com/users/9464133/thenolin"}, "edited": false, "score": 1, "creation_date": 1576170004, "post_id": 59292137, "comment_id": 104821163, "body": "Awesome, thank you! I ended up finding this article that aligns with your solution. For anyone else that&#39;s looking for a similar working solution, check this link out. <a href=\"https://stackblitz.com/github/melcor76/global-error-handling\" rel=\"nofollow noreferrer\">stackblitz.com/github/melcor76/global-error-handling</a>"}], "tags": [], "owner": {"reputation": 8121, "user_id": 9632621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yDxuO.jpg?s=128&g=1", "display_name": "Andrei G\u0103tej", "link": "https://stackoverflow.com/users/9632621/andrei-g%c4%83tej"}, "is_accepted": true, "score": 1, "last_activity_date": 1576089765, "creation_date": 1576089765, "answer_id": 59292137, "question_id": 59290709, "link": "https://stackoverflow.com/questions/59290709/http-error-handler-interceptor-configuration-w-rxjs-replay-subject-angular/59292137#59292137", "title": "Http Error Handler Interceptor configuration w/ rxjs Replay Subject - Angular", "body": "<p>Importing the interceptor inside a component does not look like a good pattern to me. </p>\n\n<p>A way to solve this might be to use a service that will <strong>propagate</strong> the <strong>error</strong> to its <strong>consumers</strong>.\nThis way, from my perspective, we can achieve a better <strong>separation of concerns</strong>.</p>\n\n<h3>error.service.ts</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable({\n    providedIn: 'root'\n})\nexport class ErrorService {\n    private errorStore = new BehaviorSubject(null);\n    public error$ = this.errorStore.asObservable();\n\n    emitError (err) {\n        this.errorStore.next(err);\n    }\n}\n</code></pre>\n\n<h3>foo.component.ts</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component{/* ... */}\nexport class FooComponent {\n\n    get currentError$ () {\n        return this.errorService.error$;\n    }\n\n    constructor (private errorService: ErrorService) { }\n}\n</code></pre>\n\n<h3>foo.component.html</h3>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- ... --&gt;\n\n&lt;div *ngIf=\"currentError$ | async\"&gt;\n    Error!\n&lt;/div&gt;\n\n&lt;!-- ... --&gt;\n</code></pre>\n\n<h3>error.interceptor.ts</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>constructor (private errorService: ErrorService) { }\n\nintercept (/* ... */) {\n    return next.handle(req)\n        .pipe(\n            /* ... */\n            catchError(err =&gt; {\n                /* ... */\n\n                // If error found\n                this.errorService.emitError(errorMessage);\n\n                /* ... */\n            }),\n        )\n}\n</code></pre>\n"}], "owner": {"reputation": 792, "user_id": 9464133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uxWk0MGo77I/AAAAAAAAAAI/AAAAAAAAAFk/yuV6jFZDsWA/photo.jpg?sz=128", "display_name": "thenolin", "link": "https://stackoverflow.com/users/9464133/thenolin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 59292137, "answer_count": 1, "score": 0, "last_activity_date": 1576089765, "creation_date": 1576083758, "last_edit_date": 1576089544, "question_id": 59290709, "link": "https://stackoverflow.com/questions/59290709/http-error-handler-interceptor-configuration-w-rxjs-replay-subject-angular", "title": "Http Error Handler Interceptor configuration w/ rxjs Replay Subject - Angular", "body": "<p>I'm having an issue where I'm attempting to get the value of an error and display a custom error message via a html element. I'm using a Replay Subject to store the error and manage the state of the error in my Interceptor. I'm importing the interceptor correctly into the component and providing it in my module correctly. I'm confused as to why my error doesn't show up when getting an error response from my API.</p>\n\n<p>Here's what I have so far</p>\n\n<p><strong>errorHandlerInterceptor.service.ts</strong></p>\n\n<pre><code>export class ErrorHandlerInterceptor implements HttpInterceptor {\n\n  error: ReplaySubject&lt;string&gt; = new ReplaySubject&lt;string&gt;(1);\n\n  intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    return next.handle(request)\n      .pipe(\n        retry(1),\n        catchError((error: HttpErrorResponse) =&gt; {\n          let errorMessage = '';\n          if (error.error instanceof ErrorEvent) {\n            // client-side error\n            errorMessage = `Error: ${error.error.message}`;\n          } else {\n            // server-side error\n            errorMessage = `Error Code: ${error.status}`;\n          }\n          //window.alert(errorMessage);\n\n          this.error.next(errorMessage);\n\n          return throwError(this.error);\n        })\n      )\n  }\n}\n</code></pre>\n\n<p>Then in the html, I async pipe the Replay Subject to only show the error message if the Replay Subject has a value. </p>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>&lt;div\n    *ngIf=\"errorHandlerInterceptor.error | async\"\n    class=\"app-alert--error\"\n  &gt;\n    &lt;p class=\"app-alert__title\"&gt;\n      ERROR\n    &lt;/p&gt;\n    &lt;p id=\"error-message\"&gt;\n      {{ errorHandlerInterceptor.error | async }}\n    &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Any help or suggestions are greatly appreciated!</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "material-ui"], "comments": [{"owner": {"reputation": 303, "user_id": 2280670, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7127f16bd4e5b3dd036717510cb4ea67?s=128&d=identicon&r=PG", "display_name": "Rohan Bhangui", "link": "https://stackoverflow.com/users/2280670/rohan-bhangui"}, "edited": false, "score": 0, "creation_date": 1576083122, "post_id": 59290526, "comment_id": 104785950, "body": "what value does props output?"}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "edited": false, "score": 0, "creation_date": 1576083125, "post_id": 59290526, "comment_id": 104785957, "body": "Should be<code>props.files</code>. Assuming that file is a string not an actual file representation"}, {"owner": {"reputation": 3956, "user_id": 3153799, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000987517880/picture?type=large", "display_name": "demkovych", "link": "https://stackoverflow.com/users/3153799/demkovych"}, "edited": false, "score": 0, "creation_date": 1576083149, "post_id": 59290526, "comment_id": 104785965, "body": "{ props.files }"}, {"owner": {"reputation": 303, "user_id": 2280670, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7127f16bd4e5b3dd036717510cb4ea67?s=128&d=identicon&r=PG", "display_name": "Rohan Bhangui", "link": "https://stackoverflow.com/users/2280670/rohan-bhangui"}, "edited": false, "score": 1, "creation_date": 1576083224, "post_id": 59290526, "comment_id": 104786001, "body": "probably when hes defining the component he could do: <code>const Child:React.FC = ({files}) =&gt; {....</code>"}, {"owner": {"reputation": 1686, "user_id": 5373515, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/520496e0d16bd041342ac497ce8bb6d6?s=128&d=identicon&r=PG&f=1", "display_name": "jayko03", "link": "https://stackoverflow.com/users/5373515/jayko03"}, "reply_to_user": {"reputation": 303, "user_id": 2280670, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7127f16bd4e5b3dd036717510cb4ea67?s=128&d=identicon&r=PG", "display_name": "Rohan Bhangui", "link": "https://stackoverflow.com/users/2280670/rohan-bhangui"}, "edited": false, "score": 0, "creation_date": 1576083445, "post_id": 59290526, "comment_id": 104786096, "body": "@RohanBhangui name of files."}, {"owner": {"reputation": 1686, "user_id": 5373515, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/520496e0d16bd041342ac497ce8bb6d6?s=128&d=identicon&r=PG&f=1", "display_name": "jayko03", "link": "https://stackoverflow.com/users/5373515/jayko03"}, "reply_to_user": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "edited": false, "score": 0, "creation_date": 1576083478, "post_id": 59290526, "comment_id": 104786114, "body": "@Dupocas why is it <code>{props.files}</code> ? isn&#39;t it <code>{props.file</code>} ??"}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "edited": false, "score": 2, "creation_date": 1576083546, "post_id": 59290526, "comment_id": 104786151, "body": "Because you are naming it <code>files</code> : <code>&lt;Child files={file: File}&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1686, "user_id": 5373515, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/520496e0d16bd041342ac497ce8bb6d6?s=128&d=identicon&r=PG&f=1", "display_name": "jayko03", "link": "https://stackoverflow.com/users/5373515/jayko03"}, "edited": false, "score": 0, "creation_date": 1576085440, "post_id": 59290844, "comment_id": 104787060, "body": "I edited, but it still throws error. I edited my post."}, {"owner": {"reputation": 93, "user_id": 10515646, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yYCDTQVpBr0/AAAAAAAAAAI/AAAAAAAAAvc/4BrQ3FG6Xs8/photo.jpg?sz=128", "display_name": "Earle Poole", "link": "https://stackoverflow.com/users/10515646/earle-poole"}, "reply_to_user": {"reputation": 1686, "user_id": 5373515, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/520496e0d16bd041342ac497ce8bb6d6?s=128&d=identicon&r=PG&f=1", "display_name": "jayko03", "link": "https://stackoverflow.com/users/5373515/jayko03"}, "edited": false, "score": 0, "creation_date": 1576085934, "post_id": 59290844, "comment_id": 104787317, "body": "Try changing your Child&#39;s component argument back to <code>props</code>, i.e. <code>const Child:React.FC&lt;ChildProps&gt; = props =&gt; {......</code>, and then run <code>console.log(&#39;props:&#39;, props)</code> inside of your Child component, but before the return, and come back with what your console gives you."}], "tags": [], "owner": {"reputation": 93, "user_id": 10515646, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yYCDTQVpBr0/AAAAAAAAAAI/AAAAAAAAAvc/4BrQ3FG6Xs8/photo.jpg?sz=128", "display_name": "Earle Poole", "link": "https://stackoverflow.com/users/10515646/earle-poole"}, "is_accepted": false, "score": 1, "last_activity_date": 1576084334, "creation_date": 1576084334, "answer_id": 59290844, "question_id": 59290526, "link": "https://stackoverflow.com/questions/59290526/how-to-pass-state-to-child-component-with-function-based-react/59290844#59290844", "title": "How to pass state to child component with function based React?", "body": "<p>In your child, if you put <code>{{props}}</code> in your div to be printed out, it's going to likely give you [object Object] or something, because that is what props is.</p>\n\n<p>In your parent you have this code <code>&lt;Child files={file: File}&gt;</code>. This assigns your <code>{file: File}</code> object to <code>props.files</code> in your Child component, which can then be accessed, from within your Child component, by doing <code>props.files.file</code> which will return the <code>File</code> item.</p>\n\n<p>To avoid confusion and redundancy I would recommend you change your Child props assignment in your Parent component to <code>&lt;Child file={file}&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": true, "score": 1, "last_activity_date": 1576085729, "creation_date": 1576085729, "answer_id": 59291229, "question_id": 59290526, "link": "https://stackoverflow.com/questions/59290526/how-to-pass-state-to-child-component-with-function-based-react/59291229#59291229", "title": "How to pass state to child component with function based React?", "body": "<p>While you did provide the typings for your functional component, you did not specify the <code>generic</code> type for <code>React.FC</code>.</p>\n\n<p>You should define an interface for the props of your functional component, and supply it as the generic type.</p>\n\n<pre><code>interface ChildProps {\n  files: any; // try not to use any.  \n}\n\nconst Child:React.FC&lt;ChildProps&gt; = ({files}) =&gt; {\n  return(\n    &lt;div&gt;\n      { files }\n    &lt;/div&gt;\n  )\n}\n</code></pre>\n\n<p>On my example, I used <code>any</code>, as I am unsure the exact type of <code>files</code>. You should avoid using <code>any</code>, and replace it with the respective type.</p>\n"}], "owner": {"reputation": 1686, "user_id": 5373515, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/520496e0d16bd041342ac497ce8bb6d6?s=128&d=identicon&r=PG&f=1", "display_name": "jayko03", "link": "https://stackoverflow.com/users/5373515/jayko03"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1069, "favorite_count": 0, "accepted_answer_id": 59291229, "answer_count": 2, "score": 1, "last_activity_date": 1576085823, "creation_date": 1576083068, "last_edit_date": 1576085823, "question_id": 59290526, "link": "https://stackoverflow.com/questions/59290526/how-to-pass-state-to-child-component-with-function-based-react", "title": "How to pass state to child component with function based React?", "body": "<p>I try to pass uploaded file to the child component that both parent and child components are the function based.\n<br/>\nI am using React, TypeScript and Material-UI\n<br/><br/><br/>\nParents</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React from 'react';\nimport Child from './Child';\n\nconst Parent:React.FC =() =&gt; {\n  const [file, setFile] = React.useState(null);\n  const onChangeFile = (e:any) =&gt; {\n    setFile(e!.target.files[0]);\n  }\n  return(\n    &lt;div&gt;\n    &lt;input\n      accept=\"*.*\"\n      onChange={onChangeFile}\n      id=\"uploadFile\"\n      type=\"file\" /&gt;\n    &lt;Button\n      onClick={() =&gt; document.getElementById('uploadFile')!.click()}\n      component='span'&gt;\n      Upload file\n    &lt;/Button&gt;\n    &lt;Child files={file: File}&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Child</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React from 'react';\nconst Child:React.FC = (props) =&gt; {\n  return(\n    &lt;div&gt;\n      {{ props }}\n    &lt;/div&gt;\n  )\n}\nexport default Child\n</code></pre>\n\n<p>At this point, I just want to print out the file's information that I have <code>{{ props }}</code>. I am a newbie to React and please tell me anything I did wrong. Thanks in advance!<br/>\n<strong>EDIT</strong><br/>\nI changed Child,</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const Child:React.FC = ({files}) =&gt; {\n  return(\n    &lt;div&gt;\n      { files }\n    &lt;/div&gt;\n  )\n}\n</code></pre>\n\n<p>then it throws error,</p>\n\n<pre><code>property 'files' does not exist on type '{children?:ReactNode; }'\n</code></pre>\n\n<p><br/><br/>\n<strong>EDIT2</strong>\nFollowing to @EarlePoole, I changed my code.<br/>\nParents</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const Parent:React.FC = () =&gt; {\n //...\n &lt;Child file={file} /&gt;\n</code></pre>\n\n<p>Child</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const Child:React.FC =(props) =&gt; {\n  return(\n  &lt;div&gt;\n    {props.file.file}\n  &lt;/div&gt;\n  )\n}\n</code></pre>\n\n<p>In parent component, I got this error</p>\n\n<pre><code>Type '{ file: any; } is not assignable to type 'IntrinsicAttributes &amp; {children ?:ReactNode; }'. Property 'file' does not exist on type 'IntrinsicAttributes &amp; { children?: ReactNode}'\n</code></pre>\n\n<p>In Child component, </p>\n\n<pre><code>Property 'file' does not exist on type '{children?:ReactNode; }'\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "webpack"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576082982, "post_id": 59290486, "comment_id": 104785878, "body": "If you uninstall them, does anything break?"}, {"owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576083201, "post_id": 59290486, "comment_id": 104785992, "body": "Application is quite complicated, and regressions may be not visible from the first glance. But may be in case of uninstalling all of them it could be faster ). Anyway it is still not clear for me if Angular uses installed loaders without explicit webpack config"}], "answers": [{"comments": [{"owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "edited": false, "score": 0, "creation_date": 1576083989, "post_id": 59290706, "comment_id": 104786361, "body": "So under the hood angular-cli uses the same loaders as internal dependencies, right? And installed ones are not being used at all?"}, {"owner": {"reputation": 557, "user_id": 8965298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4155f61e9d1cf82fdbdb5adc3893836?s=128&d=identicon&r=PG&f=1", "display_name": "Austaras", "link": "https://stackoverflow.com/users/8965298/austaras"}, "reply_to_user": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "edited": false, "score": 0, "creation_date": 1576088913, "post_id": 59290706, "comment_id": 104788675, "body": "@AlexVovchuk yes. unless you use something like <a href=\"https://www.npmjs.com/package/@angular-builders/custom-webpack\" rel=\"nofollow noreferrer\">npmjs.com/package/@angular-builders/custom-webpack</a>"}, {"owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "edited": false, "score": 0, "creation_date": 1576089864, "post_id": 59290706, "comment_id": 104789073, "body": "Looks reasonable, thanks. But  one more concern: I place angular-cli to dev-dependencios, but loaders are required in main dependencies. How does it work in this case?"}, {"owner": {"reputation": 557, "user_id": 8965298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4155f61e9d1cf82fdbdb5adc3893836?s=128&d=identicon&r=PG&f=1", "display_name": "Austaras", "link": "https://stackoverflow.com/users/8965298/austaras"}, "reply_to_user": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "edited": false, "score": 0, "creation_date": 1576159023, "post_id": 59290706, "comment_id": 104814563, "body": "@AlexVovchuk seems like you have no idea about dep and devDep. You should definitely read something about it. In this case, everything in both dep and devDep field are installed locally, and their deps. As its name says, devDep are only installed when you are developing that package"}, {"owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "edited": false, "score": 0, "creation_date": 1576165489, "post_id": 59290706, "comment_id": 104818622, "body": "yes, and we don&#39;t get dev-dependencies in final bundle, but dependencies go there. Don&#39;t we need loaders in final bundle?"}, {"owner": {"reputation": 557, "user_id": 8965298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4155f61e9d1cf82fdbdb5adc3893836?s=128&d=identicon&r=PG&f=1", "display_name": "Austaras", "link": "https://stackoverflow.com/users/8965298/austaras"}, "reply_to_user": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "edited": false, "score": 0, "creation_date": 1576168325, "post_id": 59290706, "comment_id": 104820340, "body": "You don&#39;t. Loaders only work in build time like a compiler plugin."}], "tags": [], "owner": {"reputation": 557, "user_id": 8965298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4155f61e9d1cf82fdbdb5adc3893836?s=128&d=identicon&r=PG&f=1", "display_name": "Austaras", "link": "https://stackoverflow.com/users/8965298/austaras"}, "is_accepted": true, "score": 1, "last_activity_date": 1576083749, "creation_date": 1576083749, "answer_id": 59290706, "question_id": 59290486, "link": "https://stackoverflow.com/questions/59290486/do-i-need-loaders-in-angular-application/59290706#59290706", "title": "Do I need loaders in Angular application?", "body": "<p>If you are using <code>angular-cli</code> then there are no need for them. <code>angular-cli</code> handles webpack configuration for you and bundled with every loader you will ever need so just remove them will be fine.</p>\n\n<p><a href=\"https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/build_angular/package.json\" rel=\"nofollow noreferrer\">source</a></p>\n"}], "owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 59290706, "answer_count": 1, "score": 0, "last_activity_date": 1576083749, "creation_date": 1576082880, "last_edit_date": 1576082972, "question_id": 59290486, "link": "https://stackoverflow.com/questions/59290486/do-i-need-loaders-in-angular-application", "title": "Do I need loaders in Angular application?", "body": "<p>Loaders can be used in Webpack configuration. It can be <code>file-loader</code>, <code>html-loader</code>, <code>css-loader</code>, <code>json-loader</code>, <code>raw-loader</code>, <code>style-loader</code>, <code>to-string-loader</code>, <code>url-loader</code>, <code>awesome-typescript-loader</code>.</p>\n\n<p>Does Angular know about loaders without explicit Webpack configuration? Maybe it uses some internal ones under the hood?</p>\n\n<p>Currently I have an Angular 6 enterprise application with all those loaders. But are they required? I mean that loaders should be attached using <code>webpack.config.json</code>. But I don't have any Webpack configuration in the project. Only short <code>tsconfig.webpack.json</code>, that configures more TS than Webpack.\nCan it be that -  in my case - loaders are just redundant dependencies left after previous migrations?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1576082789, "post_id": 59290374, "comment_id": 104785769, "body": "You need to use <code>map(...)</code> within the <code>pipe(...)</code> operator. Does that fix your issue?"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576083651, "post_id": 59290374, "comment_id": 104786192, "body": "<code>I&#39;d like to do a POST and store the result, then return it.</code>  You can&#39;t do this with an Async operation.  That&#39;s why observables exist."}, {"owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576083966, "post_id": 59290374, "comment_id": 104786352, "body": "@ErikPhilips I&#39;m perfectly clear that it needs to be async operation. My question is if it&#39;s possible to encapsulate it somehow and return a simple string (if assigned since before) or (otherwise, if the string hasn&#39;t been stored yet) return the async value after a while keeping the executing method in the component locked."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1576085006, "post_id": 59290374, "comment_id": 104786843, "body": "@KonradViltersten yes you could theoretically do that, but it would be an absolute programming nightmare."}], "answers": [{"comments": [{"owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1576087232, "post_id": 59290930, "comment_id": 104787929, "body": "What is the type of <code>token$</code>? It&#39;s <code>Observable&lt;string&gt;</code> or <code>Observable&lt;string|null&gt;</code>? I&#39;m a bit unclear why the type of the <code>BehaviorSubject</code> can&#39;t be string only since a string can assume the value of null. Isn&#39;t it simpler to have <code>Observable&lt;string&gt;</code> only? Complexity decreases then..."}, {"owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1576087351, "post_id": 59290930, "comment_id": 104787968, "body": "I also wonder (coming from C# direction), if it wouldn&#39;t be cleaner to declare the properties as you did but assign the stuff to them in the constructor. So we&#39;d have <i>private token: BehaviorSubject&lt;string&gt;</i> and in constructor <code>this.token=new BehaviorSubject&lt;string&gt;</code>."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1576092883, "post_id": 59290930, "comment_id": 104790352, "body": "No you cannot assign <a href=\"http://www.typescriptlang.org/play/#code/MYewdgzgLgBAhgLhtATgSzAcxgXhmAVwBsiBuIA\" rel=\"nofollow noreferrer\">null to a string</a>.  Typescript is not C#.  The type of <code>token$</code> is technically <code>Observable&lt;string|null&gt;</code> but because the pipe filters null from being emitted (which I believe typescript can imply) it&#39;s actually <code>Observable&lt;string&gt;</code>"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1576093226, "post_id": 59290930, "comment_id": 104790501, "body": "Cleaner?  That&#39;s a matter of opinion.  <a href=\"http://www.typescriptlang.org/play/#code/KYDwDg9gTgLgBAYwDYEMDOa4FkCeBhVDARjgG8AoOKuMKASwDcUZg4UAuOAOwFcBbAEbAoAbkrUEELmhhQeCGNAAUASjLjq1GAAs6aAHQo4AXjhExmgL4a4AMwgRV6zZsnSISYPqQQA5kp09QxULamtrclBIWERCTFwCdDQAJmdqWkZmVg5ufiEoEzMbNxk5BWU1Cisbe0dKm1cpNA8vH39AgxQQm3CgA\" rel=\"nofollow noreferrer\">Technically they&#39;re literally the same compiled</a>."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1576093431, "post_id": 59290930, "comment_id": 104790604, "body": "As for C#, it has <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-6#expression-bodied-function-members\" rel=\"nofollow noreferrer\">allowed expression-bodied function members since version 6</a> which it basically the same thing."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1576093836, "post_id": 59290930, "comment_id": 104790802, "body": "And <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-6#auto-property-initializers\" rel=\"nofollow noreferrer\">Auto-property initializers</a>..."}], "tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": true, "score": 1, "last_activity_date": 1576086253, "last_edit_date": 1576086253, "creation_date": 1576084633, "answer_id": 59290930, "question_id": 59290374, "link": "https://stackoverflow.com/questions/59290374/eliminating-subscribe-by-returning-string-instead-of-observable-in-angular/59290930#59290930", "title": "Eliminating subscribe(...) by returning string instead of Observable in Angular", "body": "<p><strong>You shouldn't want to remove the observable from the call stack</strong>.  You haven't provided any reason to do so.  Observables are by far more useful in an async call stack which you have.</p>\n\n<p>It sounds like your <em>actual problem</em> is <em>caching the result so the code doesn't make duplicate calls</em>.  That's is very easy to do.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>private token: BehaviorSubject&lt;string|null&gt; = new BehaviorSubject&lt;string|null&gt;(null);\nprivate token$ = this.token\n  .asObservable()\n  .pipe(filter((value) =&gt; value != null));\n\ngetToken(name: string, pass: string): observable&lt;string&gt; {\n\n  const url = \"https://localhost:44310/api/Security/login\";\n  const data = { name, pass };\n\n  if (this.token.value == null) {\n    this.http.post&lt;any&gt;(url, data)\n      .subscribe(\n        value =&gt; this.token.next(value),\n        _ =&gt; this.token.next(null));\n  }\n\n  return this.token$;\n}\n</code></pre>\n\n<p>Subscriber example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\n  someObject.getToken(params)\n    .subscribe(token =&gt; {\n      // when token is available it will not be null.\n      // since the source is a BehaviorSubject, we get the last value\n    }); \n</code></pre>\n\n<p><strong>note:</strong> make sure you unsubscribe if you aren't doing UI Pipe Async.</p>\n\n<p>Subject Reference:</p>\n\n<p><img src=\"https://i.stack.imgur.com/VyiFf.png\" alt=\"Subject Types\"></p>\n\n<blockquote>\n  <p>My question is if it's possible to encapsulate it somehow and return a simple string (if assigned since before) or (otherwise, if the string hasn't been stored yet) return the async value after a while keeping the executing method in the component locked. </p>\n</blockquote>\n\n<p>Yes you theoretically could, but this is an absolutely terrible idea:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>private token: string | null = null;\ngetToken(name: string, pass: string): string | observable&lt;string&gt;{\n\n  if (this.token != null) {\n    return token;\n  }\n\n  const url = \"https://localhost:44310/api/Security/login\";\n  const data = { name, pass };\n\n  return this.http.post&lt;any&gt;(url, data)\n      .tap(value =&gt; this.token = value);\n}\n</code></pre>\n\n<p>Now you've provided either a <code>string</code> or <code>observable&lt;string&gt;</code> which does exactly what you asked, however your consumers now have to jump through a ton of hoops to actually do what they need to do, and anyone who reads this is literally going to think WTF.</p>\n\n<p>subscriber:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\n   var result = someobject.getToken(params);\n   if (result typeof 'string') {\n     dosomethingwithstring(result);\n   }\n   else {\n     result.subscribe(result2 =&gt; dosomethingwithstring(result));\n   }\n</code></pre>\n\n<p>That's just a terrible pattern to leave other programmers with and even try to maintain.</p>\n"}], "owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 59290930, "answer_count": 1, "score": -1, "last_activity_date": 1576086253, "creation_date": 1576082494, "question_id": 59290374, "link": "https://stackoverflow.com/questions/59290374/eliminating-subscribe-by-returning-string-instead-of-observable-in-angular", "title": "Eliminating subscribe(...) by returning string instead of Observable in Angular", "body": "<p>I've been requested to investigate how to make a call to a service but return the final result instead of an observable. In the service, there's a method like this.</p>\n\n<pre><code>getToken(name: string, pass: string): string {\n  const url = \"https://localhost:44310/api/Security/login\";\n  const data = { name, pass };\n\n  return this.http.post&lt;any&gt;(url, data);\n}\n</code></pre>\n\n<p>In the component that will use it, we subscribe to it and consume whatever pops out from the result (or act on the error). Now, I'd like to introduce a private field that will be read when invoking <em>getToken(...)</em> and returned <strong>if it's been assigned</strong>. Otherwise, I'd like to do a POST and store the result, then return it.</p>\n\n<pre><code>private token: string;\n\ngetToken(name: string, pass: string): string {\n  if(this.token)\n    return this.token;\n\n  const url = \"https://localhost:44310/api/Security/login\";\n  const data = { name, pass };\n\n  this.http.post&lt;any&gt;(url, data)\n    .subscribe(\n      suc =&gt; this.token = suc,\n      err =&gt; this.token = null);\n\n  return this.token;\n}\n</code></pre>\n\n<p>Now, this will obviously fail, because the asynchronously assigned value to <em>this.token</em> isn't there yet at the point of leaving the method. I doubt that putting it into the success callback like this </p>\n\n<pre><code>this.http.post&lt;any&gt;(url, data)\n  .subscribe(\n    suc =&gt; { this.token = suc; return this.token; }\n    err =&gt; this.token = null);\n</code></pre>\n\n<p>will do any different. At the moment I'm stuck and start to suspect that there's no way to return a fix, realized value eliminating the subscription in the component.</p>\n\n<p>Is there a way to introduce a field as described above?</p>\n\n<p>I've tried <a href=\"https://stackoverflow.com/a/47432099/1525840\">this post</a> but it produced error: <em>Property 'map' does not exist on type 'Observable'</em>.</p>\n"}, {"tags": ["reactjs", "typescript", "types", "react-proptypes"], "comments": [{"owner": {"reputation": 3812, "user_id": 5328683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b505ebf74d43e9e0ae502ffd319f91ed?s=128&d=identicon&r=PG", "display_name": "Quoc-Anh Nguyen", "link": "https://stackoverflow.com/users/5328683/quoc-anh-nguyen"}, "edited": false, "score": 1, "creation_date": 1576080527, "post_id": 59289807, "comment_id": 104784569, "body": "I think only <code>interface</code> and <code>React.FC&lt;FooterProps&gt;</code> are enough. You don&#39;t need <code>propTypes</code> on React with Typescript"}, {"owner": {"reputation": 3282, "user_id": 449053, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6369aa7181f8080c7a5e6cda7772c817?s=128&d=identicon&r=PG", "display_name": "Danosaure", "link": "https://stackoverflow.com/users/449053/danosaure"}, "reply_to_user": {"reputation": 3812, "user_id": 5328683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b505ebf74d43e9e0ae502ffd319f91ed?s=128&d=identicon&r=PG", "display_name": "Quoc-Anh Nguyen", "link": "https://stackoverflow.com/users/5328683/quoc-anh-nguyen"}, "edited": false, "score": 0, "creation_date": 1583423255, "post_id": 59289807, "comment_id": 107119355, "body": "@AnhNguyen I would argue that if you do that, only TS-aware consumer of your component can be used. I&#39;m also looking for a solution in TS with <code>propTypes</code>. Right now, <code>tsc</code> errors out with: <code>Type &#39;undefined&#39; is not assignable to type &#39;MetaType&#39;.</code>"}], "answers": [{"tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": false, "score": 2, "last_activity_date": 1576080852, "creation_date": 1576080852, "answer_id": 59289924, "question_id": 59289807, "link": "https://stackoverflow.com/questions/59289807/how-to-use-proptypes-shape-with-typescript/59289924#59289924", "title": "How to use PropTypes.shape with Typescript", "body": "<p>Actually you don't need <code>propTypes</code> here - <code>labels</code> got just one nested field <code>body</code> that is typeof <code>FooterLabels</code>. </p>\n\n<pre><code>interface FooterProps {\n  labels: {\n     body: FooterLabels;\n  };\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 3, "creation_date": 1586440559, "post_id": 61117175, "comment_id": 108133156, "body": "Please don&#39;t post only code as an answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually of higher quality, and are more likely to attract upvotes."}], "tags": [], "owner": {"reputation": 1, "user_id": 9804734, "user_type": "registered", "profile_image": "https://graph.facebook.com/1547189288743624/picture?type=large", "display_name": "Anton  Badashov", "link": "https://stackoverflow.com/users/9804734/anton-badashov"}, "is_accepted": false, "score": 0, "last_activity_date": 1586421711, "creation_date": 1586421711, "answer_id": 61117175, "question_id": 59289807, "link": "https://stackoverflow.com/questions/59289807/how-to-use-proptypes-shape-with-typescript/61117175#61117175", "title": "How to use PropTypes.shape with Typescript", "body": "<pre><code>interface FooterProps {\n  labels: PropTypes.InferProps&lt;{ body: string }&gt;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8997270, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ctNi5LHeidY/AAAAAAAAAAI/AAAAAAAAABE/bZOBDIIgHD8/photo.jpg?sz=128", "display_name": "Nicol&#225;s Ju&#225;rez Nu&#241;o", "link": "https://stackoverflow.com/users/8997270/nicol%c3%a1s-ju%c3%a1rez-nu%c3%b1o"}, "is_accepted": false, "score": 3, "last_activity_date": 1596842065, "last_edit_date": 1596842065, "creation_date": 1596394294, "answer_id": 63219859, "question_id": 59289807, "link": "https://stackoverflow.com/questions/59289807/how-to-use-proptypes-shape-with-typescript/63219859#63219859", "title": "How to use PropTypes.shape with Typescript", "body": "<p>The PropTypes error is because you are trying to use a <code>PropType.shape</code>, the shape allows you to have optional values on your shape, and in this case, your interface is strict, which means you do not have any kind of optional value, and <code>React.Validator</code> is trying to infer your types behind with your interfaces and that makes the error appear.</p>\n<p>In simple words, if you have a strict interface with non-optional values, instead of using <code>PropType.shape</code> you should use <code>PropType.exact</code> and that should prevent the error.</p>\n<p>E.G:</p>\n<pre><code>Footer.propTypes = {\n  labels: PropTypes.exact({\n    body: PropTypes.string\n  }).isRequired\n};\n</code></pre>\n<p>For that reason on your error message appears</p>\n<blockquote>\n<p>Property 'body' is optional in type 'InferProps&lt;{ body: Validator; }&gt;' but required in type 'FooterLabels'.ts(2322)</p>\n</blockquote>\n<p><strong>EDITED</strong></p>\n<p>This happens only because you are using on the component\n<code>const Footer: React.FC&lt;FooterProps&gt; = ({ labels }) =&gt; (</code></p>\n<p>The FC ( FunctionComponent Interface ) looking into the interfaces is presented as</p>\n<pre><code>interface FunctionComponent&lt;P = {}&gt; {\n        (props: PropsWithChildren&lt;P&gt;, context?: any): ReactElement&lt;any, any&gt; | null;\n        propTypes?: WeakValidationMap&lt;P&gt;;\n        contextTypes?: ValidationMap&lt;any&gt;;\n        defaultProps?: Partial&lt;P&gt;;\n        displayName?: string;\n    }\n</code></pre>\n<p>The line that we should highlight here is the <code>propTypes?: WeakValidationMap&lt;P&gt;;</code> This is the one that infers our types based on our PropTypes.</p>\n<p>You have a second option to use types on React, but I do not recommend it, instead of using FC, you can use <code>ReactNode</code> type, but you will lose the inferences that you have on the FC interface type inferring.</p>\n<p>E.G.\n<code>function Footer = ({ labels }:FooterProps): ReactNode =&gt; (</code></p>\n"}], "owner": {"reputation": 1729, "user_id": 3280904, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/100000352659763/picture?type=large", "display_name": "Thiago Loddi", "link": "https://stackoverflow.com/users/3280904/thiago-loddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2857, "favorite_count": 2, "answer_count": 3, "score": 4, "last_activity_date": 1596842065, "creation_date": 1576080393, "last_edit_date": 1576083844, "question_id": 59289807, "link": "https://stackoverflow.com/questions/59289807/how-to-use-proptypes-shape-with-typescript", "title": "How to use PropTypes.shape with Typescript", "body": "<p>I'm refactoring a React application from Javascript to Typescript but I'm having some troubles migrating especially the <code>shape</code> PropType. My code looks like this right now:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React from 'react';\nimport PropTypes from 'prop-types';\n\ninterface FooterProps {\n  labels: FooterLabels;\n}\n\ninterface FooterLabels {\n  body: string;\n}\n\nconst Footer: React.FC&lt;FooterProps&gt; = ({ labels }) =&gt; (\n  &lt;div className=\"footer\"&gt;\n    {/* ... */}\n  &lt;/div&gt;\n);\n\nFooter.propTypes = {\n  labels: PropTypes.shape({\n    body: PropTypes.string.isRequired\n  }).isRequired\n};\n\nexport default Footer;\n</code></pre>\n\n<p>But I'm getting an error in the PropTypes:</p>\n\n<pre><code>Type 'Validator&lt;InferProps&lt;{ body: Validator&lt;string&gt;; }&gt;&gt;' is not assignable to type 'Validator&lt;FooterLabels&gt;'.\n  Type 'InferProps&lt;{ body: Validator&lt;string&gt;; }&gt;' is not assignable to type 'FooterLabels'.\n    Property 'body' is optional in type 'InferProps&lt;{ body: Validator&lt;string&gt;; }&gt;' but required in type 'FooterLabels'.ts(2322)\nFooterAppPromo.tsx(5, 3): The expected type comes from property 'labels' which is declared here on type 'WeakValidationMap&lt;FooterProps&gt;'\n</code></pre>\n\n<p>I'm new to Typescript so sometimes I don't really know what I'm doing, but I tried to do stuff like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Footer.propTypes = {\n  labels: PropTypes.shape&lt;FooterLabels&gt;({\n    body: PropTypes.string.isRequired\n  }).isRequired\n};\n</code></pre>\n\n<p>But I'm getting the errors. I tried searching for example implementations but I couldn't find any.</p>\n\n<h2>EDIT</h2>\n\n<p>Typescript types and PropTypes are <strong>not</strong> the same thing. You can easily write an example where a Typescript validation passes but you still get a PropTypes warning (e.g. an external API that returns a number where should be a string). Here's two articles explaining why:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41746028/proptypes-in-a-typescript-react-application\">PropTypes in a TypeScript React Application</a></li>\n<li><a href=\"https://fettblog.eu/typescript-react/prop-types/\" rel=\"nofollow noreferrer\">https://fettblog.eu/typescript-react/prop-types/</a></li>\n</ul>\n\n<p>So my question is how can I make nested PropTypes objects (<code>PropTypes.shape()</code> or maybe <code>PropTypes.objectOf()</code>) work with TypeScript? </p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "edited": false, "score": 0, "creation_date": 1576494820, "post_id": 59290766, "comment_id": 104905586, "body": "Nice thanks for the help! Made a small edit to your answer, if you agree please accept or change as needed. After that I can accept this as the correct answer!"}, {"owner": {"reputation": 121, "user_id": 1988080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55c2b30f83f1ccc4ed4e16f65f23870b?s=128&d=identicon&r=PG", "display_name": "tommytarheel", "link": "https://stackoverflow.com/users/1988080/tommytarheel"}, "reply_to_user": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "edited": false, "score": 0, "creation_date": 1576504743, "post_id": 59290766, "comment_id": 104910593, "body": "Hmm, looking at the official documenation (<a href=\"https://material.angular.io/components/autocomplete/api\" rel=\"nofollow noreferrer\">material.angular.io/components/autocomplete/api</a>) for Angular Material 8.2.3, the output event is @Output() optionSelected: EventEmitter&lt;MatAutocompleteSelectedEvent&gt;."}], "tags": [], "owner": {"reputation": 121, "user_id": 1988080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55c2b30f83f1ccc4ed4e16f65f23870b?s=128&d=identicon&r=PG", "display_name": "tommytarheel", "link": "https://stackoverflow.com/users/1988080/tommytarheel"}, "is_accepted": false, "score": 1, "last_activity_date": 1576084550, "last_edit_date": 1576084550, "creation_date": 1576084000, "answer_id": 59290766, "question_id": 59289592, "link": "https://stackoverflow.com/questions/59289592/angular-material-autocomplete/59290766#59290766", "title": "Angular Material autocomplete", "body": "<p>In your mat-option element, you no longer iterate through the entire array of driverData, you should now iterate through the Observable filteredOptions array, along with the async pipe:</p>\n\n<pre><code>&lt;mat-option *ngFor=\"let driver of filteredOptions | async\" [value]=\"driver\"&gt;\n</code></pre>\n\n<p>And then to capture your selection and populate, I like to use optionSelected event.  You could then pull the values from your FormControl into your this.number variable.  I wouldn't put the [(ngModel)]=\"name\" on the input though, it already has a FormControl.  Inputs should only use ngModel or FormControls, not both.</p>\n\n<pre><code>(optionSelected)=\"driverSelected()\"\n</code></pre>\n\n<p>And then in driverSelected:</p>\n\n<pre><code>public driverSelected(): void {\n    const driver = this.mycontrol.value;\n    this.number = driver.number;\n}\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576084550, "creation_date": 1576079776, "question_id": 59289592, "link": "https://stackoverflow.com/questions/59289592/angular-material-autocomplete", "title": "Angular Material autocomplete", "body": "<p>So I am trying to create an Angular Material Autocomplete. Currently I have it working so the options are showing up. When I click on them, the correct name is placed in the input.</p>\n\n<p>Now I need to extend this, when the user is typing the possible options need to be filtered. I was following the Angular Material tutorial but I keep getting errors.</p>\n\n<p>I keep getting: <code>An argument for 'callbackfn' was not provided.</code>when I try to use my filteredOptions.</p>\n\n<p>Also after I finish this, the next step would be, the name has to be put in the first input and the corresponding phoneNumber has to be placed in the next input. I am currently unsure how to start with this problem so suggestions are welcome!</p>\n\n<p>IDriverDate interface:</p>\n\n<pre><code>export interface IDriverData {\n    name: string;\n    phone: string;\n}\n</code></pre>\n\n<p>messages.component.ts:</p>\n\n<p>My driver data is inside driverData, I am honestly unsure why I need to use filteredOptions and I can't do this straight on the data.</p>\n\n<pre><code>driverData: IDriverData[];\nfilteredOptions: Observable&lt;IDriverData[]&gt;;\n\n\n\nngOnInit(): void {\n    this.getMessages();\n\n    this.filteredOptions = this.myControl.valueChanges\n      .pipe(\n        startWith(''),\n        map(driver =&gt; typeof driver === 'string' ? driver : driver.name),\n        map(name =&gt; name ? this._filter(name) : this.driverData.slice())\n      );\n   }\n\ndisplayFn(driver): string {\n    return driver ? driver.name : driver;\n  }\n\nprivate _filter(name: string): IDriverData[] {\n    const filterValue = name.toLowerCase();\n\n    return this.driverData.filter(driver =&gt; driver.name.toLowerCase().indexOf(filterValue) === 0);\n  }\n</code></pre>\n\n<p>messages.component.html:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;mat-card&gt;\n        &lt;mat-card-title&gt;Verstuur een bericht:&lt;/mat-card-title&gt;\n        &lt;mat-divider&gt;&lt;/mat-divider&gt;\n        &lt;mat-card-content&gt;\n            &lt;div class=\"input\"&gt;\n                &lt;mat-form-field&gt;\n                    &lt;input matInput placeholder=\"Naam\" [(ngModel)]=\"name\" [formControl]=\"myControl\" [matAutocomplete]=\"auto\"&gt;\n                    &lt;mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\"&gt;\n                        &lt;mat-option *ngFor=\"let driver of driverData\" [value]=\"driver\"&gt;\n                            {{driver.name}}\n                        &lt;/mat-option&gt;\n                    &lt;/mat-autocomplete&gt;\n                &lt;/mat-form-field&gt;\n\n                &lt;mat-form-field&gt;\n                    &lt;input matInput placeholder=\"Telefoonnummer\" type=\"tel\" [(ngModel)]=\"number\"&gt;\n                &lt;/mat-form-field&gt;\n            &lt;/div&gt;\n            &lt;mat-divider class=\"subdivider\"&gt;&lt;/mat-divider&gt;\n            &lt;div class=\"message\"&gt;\n                &lt;mat-form-field&gt;\n                    &lt;textarea id=\"message\" matInput placeholder=\"Bericht: \" rows=10 [(ngModel)]=\"content\"&gt;&lt;/textarea&gt;\n                &lt;/mat-form-field&gt;\n            &lt;/div&gt;\n        &lt;/mat-card-content&gt;\n        &lt;mat-card-actions&gt;\n            &lt;button mat-raised-button (click)=\"sendMessages()\"&gt;Verstuur&lt;/button&gt;\n        &lt;/mat-card-actions&gt;\n    &lt;/mat-card&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "material-table"], "comments": [{"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1576080905, "post_id": 59289484, "comment_id": 104784794, "body": "put a debugger or breakpoint in your component and see if it stops in render method"}, {"owner": {"reputation": 31, "user_id": 3204718, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006801661892/picture?type=large", "display_name": "mrcesco", "link": "https://stackoverflow.com/users/3204718/mrcesco"}, "reply_to_user": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1576081259, "post_id": 59289484, "comment_id": 104784981, "body": "No, it doesn&#39;t stop, neither outside the render function."}], "answers": [{"tags": [], "owner": {"reputation": 6380, "user_id": 11599909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63d6760778bf35138d266f24c3552c46?s=128&d=identicon&r=PG&f=1", "display_name": "Domino987", "link": "https://stackoverflow.com/users/11599909/domino987"}, "is_accepted": false, "score": 0, "last_activity_date": 1577462862, "creation_date": 1577462862, "answer_id": 59503246, "question_id": 59289484, "link": "https://stackoverflow.com/questions/59289484/typescript-react-material-table-no-errors-and-blank-page/59503246#59503246", "title": "Typescript/react/material-table - No errors and blank page", "body": "<p>You are not returning the data in the promise, that is why it is blank.\nAs seen the the example, the data is returned with the resolve, which you are not doing.</p>\n\n<p>You have to wrap in in an additional promise and resolve with the correct data:</p>\n\n<pre><code> data={query =&gt;\n      new Promise((resolve, reject) =&gt; {\n        getData()\n         .then(data =&gt; resolve(\n            {\n              data: result.data,\n              page: result.page - 1,\n              totalCount: result.total,\n            })\n      })\n    }\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3204718, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006801661892/picture?type=large", "display_name": "mrcesco", "link": "https://stackoverflow.com/users/3204718/mrcesco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 780, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577462862, "creation_date": 1576079397, "question_id": 59289484, "link": "https://stackoverflow.com/questions/59289484/typescript-react-material-table-no-errors-and-blank-page", "title": "Typescript/react/material-table - No errors and blank page", "body": "<p>i'm trying to implement the \"material-table\" library with typescript and react but the result is a blank page and no compiling errors.</p>\n\n<p><strong>Env config:</strong></p>\n\n<pre><code>npm: 6.11.3\nnodejs: 10.17.0\ntypescript: 3.7.2\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \"src\",\n    \"typeRoots\": [\"node_modules/@types\"],\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"jsx\": \"react\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\", \"esnext.intl\", \"es2017.intl\", \"es2018.intl\"],\n    \"allowJs\": false,\n    \"skipLibCheck\": true,\n    \"strictNullChecks\": false,\n    \"esModuleInterop\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"strict\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": false,\n    \"noEmit\": true,\n    \"preserveConstEnums\": true,\n    \"noImplicitAny\": true\n  },\n  \"include\": [\"src/**/*\"],\n  \"exclude\": [\"node_modules\", \"**/*.spec.ts\"]\n}\n</code></pre>\n\n<p><strong>JSX</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  return (\n    &lt;MaterialTable&lt;RowInterface&gt;\n      title={intl.formatMessage({ id: 'table-title' })}\n      columns={columns}\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      data={query =&gt;\n        getData().then(data =&gt; ({\n          data,\n          page: 1,\n          totalCount: data.length\n        }))\n      }\n    /&gt;\n  );\n</code></pre>\n\n<p>Why did i specify <code>&lt;MaterialTable&lt;RowInterface&gt;</code>?\nThe library wants to know the row interface when i try to set the 'data' attribute as a function that gets the data from remote (<a href=\"https://material-table.com/#/docs/features/remote-data\" rel=\"nofollow noreferrer\">https://material-table.com/#/docs/features/remote-data</a>):\n<code>export default class MaterialTable&lt;RowData extends object&gt; extends React.Component&lt;MaterialTableProps&lt;RowData&gt;&gt; {}</code></p>\n\n<p><strong>Current behaviour:</strong>\nNo compiling errors, blank page!</p>\n\n<p><strong>Expected behaviour</strong>\nThe app should be rendered and the table should get the data from remote properly.</p>\n\n<p>Thank you all</p>\n"}, {"tags": ["html", "angular", "typescript", "enums"], "comments": [{"owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 1, "creation_date": 1576078166, "post_id": 59289095, "comment_id": 104783182, "body": "What exactly do you mean by &quot;doesn&#39;t work&quot;?"}, {"owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "reply_to_user": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1576078244, "post_id": 59289095, "comment_id": 104783233, "body": "ERROR Error: Cannot read property &#39;someValue&#39; of undefined"}, {"owner": {"reputation": 999, "user_id": 11604382, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KAUO0_nj3yM/AAAAAAAAAAI/AAAAAAAAADE/P4b495m-AMA/photo.jpg?sz=128", "display_name": "Jorge Mussato", "link": "https://stackoverflow.com/users/11604382/jorge-mussato"}, "edited": false, "score": 0, "creation_date": 1576078437, "post_id": 59289095, "comment_id": 104783355, "body": "have you tried creating a <code>public get SomeEnum() {return SomeEnum; }</code> in the TS and then in the HTML use <code>ngIf=&quot;SomeEnum.someValue&quot;</code>"}, {"owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "edited": false, "score": 0, "creation_date": 1576145653, "post_id": 59289095, "comment_id": 104807228, "body": "For future reference, there is already an open feature request in the offical repo: <a href=\"https://github.com/angular/angular/issues/33652\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/33652</a>"}], "answers": [{"tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": false, "score": 11, "last_activity_date": 1576078342, "creation_date": 1576078342, "answer_id": 59289158, "question_id": 59289095, "link": "https://stackoverflow.com/questions/59289095/use-of-enums-in-angular-8-html-template-for-ngif/59289158#59289158", "title": "Use of Enums in Angular 8 HTML template for *ngIf", "body": "<p>You'll have to declare it as a property first:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { SomeEnum } from './global';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = SomeEnum.someValue;\n  importedSomeEnum = SomeEnum;\n}\n</code></pre>\n\n<p>And then use it in the template:</p>\n\n<pre><code>&lt;span *ngIf=\"name === importedSomeEnum.someValue\"&gt;This has some value&lt;/span&gt;\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Here's a <a href=\"https://stackblitz.com/edit/angular-zpw8pe?file=src%2Fapp%2Fapp.component.html\" rel=\"noreferrer\"><strong>Working Demo</strong></a> for your ref.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "edited": false, "score": 0, "creation_date": 1576078485, "post_id": 59289159, "comment_id": 104783382, "body": "If the enum is usable elsewhere, it would be better to have it in a separate file. And then simply importing it in the component as property."}, {"owner": {"reputation": 5341, "user_id": 8597510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I3rOM.jpg?s=128&g=1", "display_name": "Tsvetan Ganev", "link": "https://stackoverflow.com/users/8597510/tsvetan-ganev"}, "reply_to_user": {"reputation": 7631, "user_id": 706293, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/45cce6f7e7eb45177e8018bd7aa9bee7?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/706293/francesco"}, "edited": false, "score": 0, "creation_date": 1576079203, "post_id": 59289159, "comment_id": 104783800, "body": "Yes, that was what I meant. You don&#39;t have to declare the enum in the same file as the component. I&#39;ve edited my answer."}], "tags": [], "owner": {"reputation": 5341, "user_id": 8597510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I3rOM.jpg?s=128&g=1", "display_name": "Tsvetan Ganev", "link": "https://stackoverflow.com/users/8597510/tsvetan-ganev"}, "is_accepted": false, "score": 4, "last_activity_date": 1576079181, "last_edit_date": 1576079181, "creation_date": 1576078349, "answer_id": 59289159, "question_id": 59289095, "link": "https://stackoverflow.com/questions/59289095/use-of-enums-in-angular-8-html-template-for-ngif/59289159#59289159", "title": "Use of Enums in Angular 8 HTML template for *ngIf", "body": "<p>You can declare a field equal to the <code>SomeEnum</code> enum (it may be imported from another file) as a public class field in the component file. Then it will be accessible in the template.</p>\n\n<pre><code>// component \nexport class AppComponent  {\n  name = SomeEnum.someValue;\n  enum = SomeEnum;\n}\n\n// template\n&lt;span *ngIf=\"name === enum.someValue\"&gt;This has some value&lt;/value&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "edited": false, "score": 1, "creation_date": 1576078709, "post_id": 59289208, "comment_id": 104783523, "body": "Wow, this is probably the more cleaner way to do it. Like your answer."}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 2, "creation_date": 1576082741, "post_id": 59289208, "comment_id": 104785745, "body": "It&#39;s not recommended to use <code>get</code>ters though. They cost a lot of performance. So the <code>get</code>ter function runs every time Angular performs Change Detection. Now, I&#39;m not saying that just running this function will cost performance. But then this leaves room for someone to add some logic in this <code>get</code>ter which might result in performance hits. Just saying. \ud83e\udd37"}, {"owner": {"reputation": 999, "user_id": 11604382, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KAUO0_nj3yM/AAAAAAAAAAI/AAAAAAAAADE/P4b495m-AMA/photo.jpg?sz=128", "display_name": "Jorge Mussato", "link": "https://stackoverflow.com/users/11604382/jorge-mussato"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1576083017, "post_id": 59289208, "comment_id": 104785900, "body": "@SiddAjmera I don&#39;t know about this performance issue, can you please show us a source for searching about that? I use this for Enums because they look cleaner in the code. Thanks!"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1576083347, "post_id": 59289208, "comment_id": 104786047, "body": "Ummmm. Well. Just place a console.log in the <code>get</code>ter and place an input in your template with an <code>[(ngModel)]</code> Or just run <a href=\"https://stackblitz.com/edit/angular-pgjqo8?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">this StackBlitz</a> and see the console :)"}, {"owner": {"reputation": 999, "user_id": 11604382, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KAUO0_nj3yM/AAAAAAAAAAI/AAAAAAAAADE/P4b495m-AMA/photo.jpg?sz=128", "display_name": "Jorge Mussato", "link": "https://stackoverflow.com/users/11604382/jorge-mussato"}, "edited": false, "score": 0, "creation_date": 1576085034, "post_id": 59289208, "comment_id": 104786854, "body": "This is triggered by the <code>ngIf</code>, not the getter itself. <code>ngIf</code> looks in the variables aswell, but you just can&#39;t console them hahaha."}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1576086887, "post_id": 59289208, "comment_id": 104787780, "body": "Yeah but the bottom-line here is, that it&#39;s a data-binding syntax. You&#39;ll see that happening if you use it in a string-interpolation / property-binding / event-binding syntax."}, {"owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "edited": false, "score": 0, "creation_date": 1576145535, "post_id": 59289208, "comment_id": 104807152, "body": "All those solutions are not 100% clean and this is probably something that is worth to make a feature request for that as it currently does not have a real native solution for that."}, {"owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "edited": false, "score": 0, "creation_date": 1576145673, "post_id": 59289208, "comment_id": 104807233, "body": "For future reference, there is already an open feature request in the offical repo: <a href=\"https://github.com/angular/angular/issues/33652\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/33652</a>"}], "tags": [], "owner": {"reputation": 999, "user_id": 11604382, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KAUO0_nj3yM/AAAAAAAAAAI/AAAAAAAAADE/P4b495m-AMA/photo.jpg?sz=128", "display_name": "Jorge Mussato", "link": "https://stackoverflow.com/users/11604382/jorge-mussato"}, "is_accepted": true, "score": 23, "last_activity_date": 1605698724, "last_edit_date": 1605698724, "creation_date": 1576078534, "answer_id": 59289208, "question_id": 59289095, "link": "https://stackoverflow.com/questions/59289095/use-of-enums-in-angular-8-html-template-for-ngif/59289208#59289208", "title": "Use of Enums in Angular 8 HTML template for *ngIf", "body": "<p>in the TS</p>\n<pre><code>public get SomeEnum() {\n   return SomeEnum; \n}\n</code></pre>\n<p>in the HTML use</p>\n<pre><code>*ngIf=&quot;SomeEnum.someValue === 'abc'&quot;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153, "user_id": 8243332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/447e0c1fae11b769b98b280041ca543c?s=128&d=identicon&r=PG", "display_name": "Tarun1704", "link": "https://stackoverflow.com/users/8243332/tarun1704"}, "is_accepted": false, "score": 3, "last_activity_date": 1576078628, "creation_date": 1576078628, "answer_id": 59289239, "question_id": 59289095, "link": "https://stackoverflow.com/questions/59289095/use-of-enums-in-angular-8-html-template-for-ngif/59289239#59289239", "title": "Use of Enums in Angular 8 HTML template for *ngIf", "body": "<p>Yes, the template cannot refer to the enum directly.\nThere are few ways to do this.\n1. Add Enum reference to the component ts file like below</p>\n\n<pre><code>someEnum = SomeEnum;\n</code></pre>\n\n<p>then you will be able to use the reference in your template like this </p>\n\n<pre><code>&lt;span *ngIf=\"name === someEnum.someValue\"&gt;This has some value&lt;/value&gt;\n</code></pre>\n\n<ol start=\"2\">\n<li>The second way is to call a function from your template with name as parameter and compare it in the typescript file</li>\n</ol>\n\n<p><code>&lt;span *ngIf=\"checkCondition(name)\"&gt;This has some value&lt;/value&gt;</code></p>\n"}], "owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6053, "favorite_count": 1, "accepted_answer_id": 59289208, "answer_count": 4, "score": 15, "last_activity_date": 1605698724, "creation_date": 1576078096, "last_edit_date": 1576146607, "question_id": 59289095, "link": "https://stackoverflow.com/questions/59289095/use-of-enums-in-angular-8-html-template-for-ngif", "title": "Use of Enums in Angular 8 HTML template for *ngIf", "body": "<p>How can I use Enums in the Angular 8 template?</p>\n\n<p>component.ts</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { SomeEnum } from './global';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = SomeEnum.someValue;\n}\n\n</code></pre>\n\n<p>component.html </p>\n\n<pre><code>&lt;span *ngIf=\"name === SomeEnum.someValue\"&gt;This has some value&lt;/value&gt;\n</code></pre>\n\n<p>This currently doesn't work, since the template has no reference to <code>SomeEnum</code>. How can I solve it?</p>\n\n<p><code>ERROR Error: Cannot read property 'someValue' of undefined</code></p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 1, "creation_date": 1576076531, "post_id": 59288385, "comment_id": 104782177, "body": "change this <code>formGroup=&quot;documents&quot;</code> into this <code>[formGroup]=&quot;documents&quot;</code> or <code>formGroupName=&quot;documents&quot;</code>"}, {"owner": {"reputation": 5, "user_id": 11931114, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Il6nD9AliaE/AAAAAAAAAAI/AAAAAAAAAME/-rRF4-nC6z4/photo.jpg?sz=128", "display_name": "fafowora tobi", "link": "https://stackoverflow.com/users/11931114/fafowora-tobi"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1576076778, "post_id": 59288385, "comment_id": 104782301, "body": "new error AdminComponent.html:46 ERROR Error: formGroup expects a FormGroup instance. Please pass one in.         Example:              &lt;div [formGroup]=&quot;myGroup&quot;&gt;       &lt;input formControlName=&quot;firstName&quot;&gt;     &lt;/div&gt;      In your class:      this.myGroup = new FormGroup({        firstName: new FormControl()     });"}, {"owner": {"reputation": 2863, "user_id": 9395772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GKP1C.png?s=128&g=1", "display_name": "G&#233;r&#244;me Grignon", "link": "https://stackoverflow.com/users/9395772/g%c3%a9r%c3%b4me-grignon"}, "edited": false, "score": 1, "creation_date": 1576079683, "post_id": 59288385, "comment_id": 104784081, "body": "you can&#39;t declare formControlName outside a formGroup in your template. You need to wrap your whole form : <code>add [formGroup]=&#39;uploadForm&#39;</code> inside the first div"}], "owner": {"reputation": 5, "user_id": 11931114, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Il6nD9AliaE/AAAAAAAAAAI/AAAAAAAAAME/-rRF4-nC6z4/photo.jpg?sz=128", "display_name": "fafowora tobi", "link": "https://stackoverflow.com/users/11931114/fafowora-tobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576075781, "creation_date": 1576075781, "question_id": 59288385, "link": "https://stackoverflow.com/questions/59288385/cannot-create-property-validator-on-string-documents", "title": "Cannot create property &#39;validator&#39; on string &#39;documents&#39;", "body": "<p>i created a dynamic array form so i can add unlimited amount of items </p>\n\n<p>.html file\n'</p>\n\n<pre><code>&lt;div class=\"row\" style=\"margin-bottom: 10px;margin-top: 10px;\"&gt;\n            &lt;div class=\"col\"&gt;\n                &lt;label&gt;Number of videos&lt;/label&gt;\n                &lt;select formControlName=\"numberofVideo\" class=\"form-control\" (change)=\"onChangeVideo($event)\"&gt;\n                &lt;option value=\"\"&gt;&lt;/option&gt;\n                &lt;option *ngFor=\"let i of [1,2,3,4,5,6,7,8,9,10]\"&gt;{{i}}&lt;/option&gt;\n                &lt;/select&gt;\n                &lt;div *ngFor=\"let ticket of t.controls; let i = index;\"&gt;\n                    &lt;div formGroupName=\"videos\"&gt;\n                        &lt;p style=\"margin-top: 5px;\"&gt;Video {{i+1}}&lt;/p&gt;\n                        &lt;div&gt;\n                            Select Video: &lt;input (change)=\"postVideo($event)\" formControlName=\"uploadVideo\" type=\"file\" id=\"uploadVideo\" name=\"uploadVideo\"&gt;\n                            &lt;div class=\"progress \" style=\"margin-top: 5px; height: 20px; \"&gt;\n                                &lt;div class=\"progress-bar progress-bar-striped progress-bar-animated bg-success \" role=\"progressbar \" [style.width]=\"(progressVideo | async) + '%' \" [attr.aria-valuenow]=\"(progressVideo | async) \" aria-valuemin=\"0 \" aria-valuemax=\"100 \"&gt;\n                                &lt;/div&gt;\n                                {{ progressVideo | async }}% Complete\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col\"&gt;\n                &lt;label&gt;Number of Document&lt;/label&gt;\n                &lt;select formControlName=\"numberofDoc\" class=\"form-control \" (change)=\"onChangeDoc($event)\"&gt;\n                &lt;option value=\"\"&gt;&lt;/option&gt;\n                &lt;option *ngFor=\"let i of [1,2,3,4,5,6,7,8,9,10]\"&gt;{{i}}&lt;/option&gt;\n                &lt;/select&gt;\n                &lt;div *ngFor=\"let video of x.controls;let i = index;\"&gt;\n                    &lt;div formGroup=\"documents\"&gt;\n                        &lt;p style=\"margin-top: 5px;\"&gt;Document {{i+1}}&lt;/p&gt;\n                        &lt;div&gt;\n                            Select Document: &lt;input (change)=\"postDoc($event)\" formControlName=\"uploadDocument\" type=\"file\" id=\"uploadDocument\" name=\"uploadDocument\"&gt;\n                            &lt;div class=\"progress \" style=\"margin-top: 5px; height: 20px; \"&gt;\n                                &lt;div class=\"progress-bar progress-bar-striped progress-bar-animated bg-success\" role=\"progressbar \" [style.width]=\"(progressDoc | async) + '%' \" [attr.aria-valuenow]=\"(progressDoc | async) \" aria-valuemin=\"0 \" aria-valuemax=\"100 \"&gt;\n                                &lt;/div&gt;\n                                {{ progressDoc | async }}% Complete\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>'\n.ts file\n'</p>\n\n<pre><code>ngOnInit() {\n    this.uploadForm = this.formBuilder.group({\n      uploadName: ['',Validators.required],\n      uploadPrice: ['',Validators.required],\n      uploadAuthor: ['',Validators.required],\n      uploadDes: ['',Validators.required],\n      uploadImage: ['',Validators.required],\n      numberofVideo: [''],\n      videos: new FormArray([]),\n      numberofDoc: [''],\n      documents: new FormArray([])\n    })\n  }\n\n\n\nget f(){\n    return this.uploadForm.controls;\n  }\n  get t(){\n    return this.f.videos as FormArray;\n  }\n  get x(){\n    return this.f.documents as FormArray;\n  }\n\n  onChangeVideo(e){\n    const numberOfVideo = e.target.value || 0;\n    if(this.t.length &lt; numberOfVideo){\n      for(let i=this.t.length;i&lt;numberOfVideo;i++){\n        this.t.push(this.formBuilder.group({\n          uploadVideo: new FormControl('')\n        }));\n      }\n    }else{\n      for(let i = this.t.length; i &gt;= numberOfVideo;i--){\n        this.t.removeAt(i)\n      }\n    }\n  }\n\n  onChangeDoc(e){\n    const numberOfDoc = e.target.value || 0;\n    if(this.x.length &lt; numberOfDoc){\n      for(let i=this.x.length;i&lt;numberOfDoc;i++){\n        this.x.push(this.formBuilder.group({\n          uploadDocument:new FormControl('')\n        }));\n      }\n    }else{\n      for(let i = this.x.length; i &gt;= numberOfDoc;i--){\n        this.x.removeAt(i)\n      }\n    }\n  }\n</code></pre>\n\n<p>'</p>\n\n<p>error\nAdminComponent.html:46 ERROR Error: Cannot find control with path: 'videos -> uploadVideo'\nAdminComponent.html:66 ERROR TypeError: Cannot create property 'validator' on string 'documents'\nAdminComponent.html:66 ERROR TypeError: this.form.get is not a function</p>\n"}, {"tags": ["javascript", "html", "typescript", "ionic-framework", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9443797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5HpsQN6X0Oo/AAAAAAAAAAI/AAAAAAAAWvk/MaLMoj6lxgs/photo.jpg?sz=128", "display_name": "Joel Lim", "link": "https://stackoverflow.com/users/9443797/joel-lim"}, "edited": false, "score": 0, "creation_date": 1576077003, "post_id": 59288571, "comment_id": 104782429, "body": "Thanks for the reply, I&#39;ve tried but it doesn&#39;t work =3="}], "tags": [], "owner": {"reputation": 35, "user_id": 11566273, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mxp6ZI_5IiE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcjQO7ciIVigBmk-tdWDObhNmtfjg/mo/photo.jpg?sz=128", "display_name": "xFGerald", "link": "https://stackoverflow.com/users/11566273/xfgerald"}, "is_accepted": false, "score": 0, "last_activity_date": 1576079732, "last_edit_date": 1576079732, "creation_date": 1576076351, "answer_id": 59288571, "question_id": 59287945, "link": "https://stackoverflow.com/questions/59287945/ionic-4-sub-array-undefined-while-index-is-correct/59288571#59288571", "title": "Ionic 4 sub array undefined while index is correct", "body": "<p>This is because you use value inside the promise. \nYou have two ways to proceed:</p>\n\n<p>First one is to use </p>\n\n<blockquote>\n  <p>.then( <strong>function()</strong> => { [...] }</p>\n</blockquote>\n\n<p>instead of </p>\n\n<blockquote>\n  <p>.then((result) => { [...] }</p>\n</blockquote>\n\n<p>it will works.</p>\n\n<p>The Second one is to use special variable NOT inside your {}.</p>\n\n<pre><code>    var that = this;\n// ...\n.then(function() { that.variable })\n</code></pre>\n\n<p>Hope this help.</p>\n"}], "owner": {"reputation": 1, "user_id": 9443797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5HpsQN6X0Oo/AAAAAAAAAAI/AAAAAAAAWvk/MaLMoj6lxgs/photo.jpg?sz=128", "display_name": "Joel Lim", "link": "https://stackoverflow.com/users/9443797/joel-lim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576079732, "creation_date": 1576074316, "question_id": 59287945, "link": "https://stackoverflow.com/questions/59287945/ionic-4-sub-array-undefined-while-index-is-correct", "title": "Ionic 4 sub array undefined while index is correct", "body": "<p>I've try to use console.log to view the value, but noticeSet2[index] value is undefined. And when I print noticeSet, it will show all the data in the array. And I've try to print the index at console.log, and it show the index that match the array.</p>\n\n<p>I try to create a sub menu in the sub menu of a main menu which is noticeSet and the main menu work just fine. I try the similar method and it doesn't work. all I need to solve now is to show the noticeSet2[index] value. Thanks </p>\n\n<pre><code>toggleItem(index, item) {\n\n    //this.noticeSet2[index].open = !this.noticeSet2[index].open;\n\n    console.log(\"here\");\n    console.log(this.noticeSet2[0]);\n    console.log(this.noticeSet2[index]);\n    console.log(index);\n\n    let obj = {resident_id: this.resident_id,id: item.id}\n\n    this.authService.postData(obj, \"getSubCategoryList\").then((result) =&gt;{\n      this.responseData = result;\n        if(this.responseData.feedData){\n          //this.noticeSet2[item.id]\u00a0=\u00a0this.responseData.feedData;\n          this.noticeSet3[this.noticeSet2[item.id]] = this.responseData.feedData;\n          this.isDataAvailable = true;\n        //console.log(this.noticeSet);\n        }\n      }, (err) =&gt; {\n      });\n  }\n\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ion-list *ngFor=\"let item of noticeSet; let i = index;\" lines=\"none\"  class=\"accordion-list\" detail=\"false\"\r\n    no-padding &gt;\r\n\r\n    &lt;button ion-item tappble style=\"font-weight:bold;color:#424242;\" (click)=\"getSubCategoryList(i,item)\" [ngClass]=\"{'section-active':item.open,'section':!item.open}\"&gt;\r\n      &lt;ion-icon item-right slot=\"end\" name=\"arrow-forward\" *ngIf=\"!item.open\"\r\n        style=\"font-size: 16px;font-weight: bold;\"&gt;&lt;/ion-icon&gt;\r\n      &lt;ion-icon item-right slot=\"end\" name=\"arrow-down\" *ngIf=\"item.open\"\r\n        style=\"font-size: 16px;font-weight: bold;color:rgb(74, 137, 220)\"&gt;&lt;/ion-icon&gt;\r\n      {{ item.title }}\r\n    &lt;/button&gt;\r\n\r\n\r\n    &lt;div *ngIf=\"noticeSet2[item.id] &amp;&amp; item.open\"&gt;\r\n      &lt;ion-list *ngFor=\"let item of noticeSet2[item.id]; let j = index;\" lines=\"none\" class=\"child-list\"&gt;\r\n        &lt;button ion-item  (click)=\"toggleItem(j,item)\" *ngIf=\"item.title\"\r\n          [ngClass]=\"{'child-active':item.open, 'child':!item.open}\"&gt;\r\n          &lt;ion-icon item-left slot=\"start\" name=\"add\" *ngIf=\"!item.open\" style=\"font-size: 12px;font-weight: bold;\"&gt;\r\n          &lt;/ion-icon&gt;\r\n          &lt;ion-icon item-left slot=\"start\" name=\"close\" *ngIf=\"item.open\" style=\"font-size: 12px;font-weight: bold;\"&gt;\r\n          &lt;/ion-icon&gt;\r\n          &lt;ion-label&gt;\r\n            {{ item.title }}\r\n          &lt;/ion-label&gt;\r\n        &lt;/button&gt;\r\n\r\n        &lt;div *ngIf=\"noticeSet3[this.noticeSet2[item.id]] &amp;&amp; item.open\"&gt;\r\n         &lt;ion-list  *ngFor=\"let item of noticeSet3[this.noticeSet2[item.id]]\" class=\"child-list-list\" lines=\"none\"&gt;\r\n          &lt;ion-item class=\"child-item\" *ngIf=\"item.title\"&gt;\r\n            &lt;button ion-item &gt;\r\n              {{item.title}}\r\n            &lt;/button&gt;\r\n          &lt;/ion-item&gt;\r\n        &lt;/ion-list&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;/ion-list&gt;\r\n    &lt;/div&gt;\r\n  &lt;/ion-list&gt;</code></pre>\r\n</div>\r\n</div>\r\n\n\n\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "ffmpeg", "video-streaming", "mjpeg"], "owner": {"reputation": 393, "user_id": 9682963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAixx.png?s=128&g=1", "display_name": "Maoration", "link": "https://stackoverflow.com/users/9682963/maoration"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576073708, "creation_date": 1576073708, "question_id": 59287754, "link": "https://stackoverflow.com/questions/59287754/mjpeg-stream-works-in-firefox-but-not-in-chrome", "title": "MJPEG Stream works in Firefox but not in Chrome", "body": "<p>We have a system that contains cameras and we want to stream them to <strong>multiple clients.</strong>\nBehind the scenes on the server we get connections from cameras, we keep everything related to that camera in a <strong><em>CameraContainer</em></strong>, which also includes a <strong><em>mpegtsToMjpegStream</em></strong> that extends <strong><em>Duplex</em></strong> (both Readable and Writable Stream).</p>\n\n<p>after a camera connects, we open an ffmpeg process to work on the incoming mpegts stream, and output an MJPEG stream:</p>\n\n<pre><code>      '-map', '0:v', '-c:v', 'mjpeg','-f', 'mjpeg', `-`,\n</code></pre>\n\n<p>** we are doing this because we are also mapping to other outputs, like writing files.</p>\n\n<hr>\n\n<p>On the 'serving' side, we are currently testing a simple API to GET an mjpeg stream with a camera id:</p>\n\n<pre><code>  async getCameraStream(@Param('cameraId') cameraId: string, @Res() res): Promise&lt;any&gt; {\nconst cameraContainer = this.cameraBridgeService.getCameraContainer(cameraId);\nif (!cameraContainer) {\n  throw new Error(`Camera with id: ${cameraId} was not found`);\n}\n\nif (!cameraContainer.mpegtsToMjpegStream) {\n  throw new Error('ERROR: mpegtsToMjpegStream stream does not exist on this camera container');\n}\n\nconst writable = new Writable({\n  write: (chunk, encoding, callback) =&gt; {\n    res.write(`Content-Type: image/jpeg\\r\\nContent-Length: ${chunk.length}\\r\\n\\r\\n`);\n    res.write(chunk);\n    res.write('\\r\\n--ffmpeg_streamer\\r\\n');\n    callback();\n  },\n});\n\nres.set('Content-Type', 'multipart/x-mixed-replace;boundary=ffmpeg_streamer');\nres.write('--ffmpeg_streamer\\r\\n');\n\ncameraContainer.mpegtsToMjpegStream.pipe(writable, { end: false });\n\nres.once('close', () =&gt; {\n  if (cameraContainer.mpegtsToMjpegStream &amp;&amp; writable) {\n    cameraContainer.mpegtsToMjpegStream.unpipe(writable);\n  }\n  res.destroy();\n});\n</code></pre>\n\n<hr>\n\n<p>The problem is this code works very nicely when accessing the stream with Firefox- after 1-2 seconds we get a stable, high quality, low latency stream.\nWith Chrome however, the same code does not behave- the video output is corrupted, disappears into a black screen all the time, and we have to keep refreshing the page constantly just to view a few seconds of the stream until it disappears again.</p>\n\n<p>Any suggestions as to why this happens and how can I fix it?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "visual-studio-code", "typescript-eslint"], "comments": [{"owner": {"reputation": 1874, "user_id": 887930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c62ae93b6aaa6241c15cb6591ce45aa9?s=128&d=identicon&r=PG", "display_name": "John Archer", "link": "https://stackoverflow.com/users/887930/john-archer"}, "edited": false, "score": 0, "creation_date": 1576151497, "post_id": 59287268, "comment_id": 104810445, "body": "Assuming you have that plugin in you <code>package.json</code> (as it is in you github repo), did you execute <code>npm install</code> to install a the needed plugins?"}, {"owner": {"reputation": 101, "user_id": 12518585, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDDnZPgTwj9M8I7zdCQ2RreldtXjAzHIt8bxbEz=k-s128", "display_name": "Yahia El-Masry", "link": "https://stackoverflow.com/users/12518585/yahia-el-masry"}, "reply_to_user": {"reputation": 1874, "user_id": 887930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c62ae93b6aaa6241c15cb6591ce45aa9?s=128&d=identicon&r=PG", "display_name": "John Archer", "link": "https://stackoverflow.com/users/887930/john-archer"}, "edited": false, "score": 0, "creation_date": 1576261296, "post_id": 59287268, "comment_id": 104855239, "body": "Yes, I did. I only got it to somehow work after installing specific old versions of Tslint@5.18 and Eslint@5.16. It is still giving me some occasional errors here and there and it is not functioning as the latest version of Eslint on the other project, but it is working somehow. I came to believe it is a problem with creating a new Angular app through the CLI as it installs Tslint as its linter and that was creating some sort of conflict I guess. I am not honestly sure."}], "answers": [{"tags": [], "owner": {"reputation": 910, "user_id": 463064, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e4fa7acea4502acbf2f1d1e0e3127bc?s=128&d=identicon&r=PG", "display_name": "indolentdeveloper", "link": "https://stackoverflow.com/users/463064/indolentdeveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1613686160, "creation_date": 1613686160, "answer_id": 66268879, "question_id": 59287268, "link": "https://stackoverflow.com/questions/59287268/eslint-is-not-recognizing-typescript-eslint-eslint-plugin/66268879#66268879", "title": "ESLint is not recognizing &quot;@typescript-eslint/eslint-plugin&quot;", "body": "<p>I just met with this problem yesterday.\nI would suggest you reinstall &quot;@typescript-eslint/eslint-plugin&quot; locally and see that help. You can also have fresh setup of eslintrc.js file and should be easy to fix.</p>\n<p>This link was helpful.\n<a href=\"https://www.robertcooper.me/using-eslint-and-prettier-in-a-typescript-project\" rel=\"nofollow noreferrer\">https://www.robertcooper.me/using-eslint-and-prettier-in-a-typescript-project</a></p>\n"}], "owner": {"reputation": 101, "user_id": 12518585, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDDnZPgTwj9M8I7zdCQ2RreldtXjAzHIt8bxbEz=k-s128", "display_name": "Yahia El-Masry", "link": "https://stackoverflow.com/users/12518585/yahia-el-masry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1635, "favorite_count": 0, "answer_count": 1, "score": 10, "last_activity_date": 1613686160, "creation_date": 1576072217, "question_id": 59287268, "link": "https://stackoverflow.com/questions/59287268/eslint-is-not-recognizing-typescript-eslint-eslint-plugin", "title": "ESLint is not recognizing &quot;@typescript-eslint/eslint-plugin&quot;", "body": "<p>I have been trying to get ESLint to work on a new Angular project in VS Code but it is failing to load \"@typescript-eslint/eslint-plugin\". I have spent the last 3 hours trying to figure out where the problem is and looked everywhere for a solution.</p>\n\n<pre><code>Failed to load plugin '@typescript-eslint' declared in 'png-ui/.eslintrc.js': Cannot find module '@typescript-eslint/eslint-plugin'\nRequire stack:\n- /Users/Yahia/Desktop/Plugngrow-UI/__placeholder__.js\nReferenced from: /Users/Yahia/Desktop/Plugngrow-UI/png-ui/.eslintrc.js\nHappened while validating /Users/Yahia/Desktop/Plugngrow-UI/png-ui/.eslintrc.js\nThis can happen for a couple of reasons:\n1. The plugin name is spelled incorrectly in an ESLint configuration file (e.g. .eslintrc).\n2. If ESLint is installed globally, then make sure '@typescript-eslint/eslint-plugin' is installed globally as well.\n3. If ESLint is installed locally, then '@typescript-eslint/eslint-plugin' isn't installed correctly.\n\nConsider running eslint --debug /Users/Yahia/Desktop/Plugngrow-UI/png-ui/.eslintrc.js from a terminal to obtain a trace about the configuration files used.\n</code></pre>\n\n<p>Debugging steps that I have taken so far:</p>\n\n<ul>\n<li>I uninstalled the global version as well as the extension, then reinstalled the extension and installed ESLint locally in the project folder.</li>\n<li>I am using a fresh install of an Angular app that was created using Angular <code>ng new</code> command. </li>\n<li>I ran <code>eslint --debug /Users/Yahia/Desktop/Plugngrow-UI/png-ui/.eslintrc.js</code> command. It results in no warnings other than a warning for ignoring the \".eslintrc.js\" file while debugging.</li>\n</ul>\n\n<p>Please note that ESLint works fine in another project which I downloaded from Angular docs while doing the introductory tutorial. </p>\n\n<p>I have created a <a href=\"https://github.com/yahia91/eslint-vscode-angular-error-new\" rel=\"noreferrer\">Github repo</a> for the project if that helps with checking. </p>\n\n<p>Please, excuse my novelty in programming and related tools. </p>\n"}, {"tags": ["angular", "typescript", "dom-events", "angular8", "angular-event-emitter"], "answers": [{"comments": [{"owner": {"reputation": 486, "user_id": 6284819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZZSLh.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/6284819/david"}, "edited": false, "score": 0, "creation_date": 1576073615, "post_id": 59287272, "comment_id": 104780504, "body": "Its working, thanks! btw I have to say in the final subscribe the <code>response</code> parameter should be named <code>result</code> to fit the <code>result.data</code>"}], "tags": [], "owner": {"reputation": 5635, "user_id": 11078857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uxzIepvZYsk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOeV6JqyiQjDi54sRNklV1znUgZmQ/mo/photo.jpg?sz=128", "display_name": "Andrei", "link": "https://stackoverflow.com/users/11078857/andrei"}, "is_accepted": true, "score": 4, "last_activity_date": 1576073684, "last_edit_date": 1576073684, "creation_date": 1576072222, "answer_id": 59287272, "question_id": 59287164, "link": "https://stackoverflow.com/questions/59287164/how-to-interrupt-previous-emits-with-the-same-event-in-angular-8/59287272#59287272", "title": "How to interrupt previous emits with the same event in Angular 8", "body": "<p>you could use the power of rxjs to handle that</p>\n\n<pre><code>private makeCall(data) {\n  return this.http.post(...);\n}\nthis.rowSelectedEvent.pipe(\n   map(() =&gt; this.jsonData),\n   distinctUntilChanged(), // to skip the same events in a row\n   switchMap((data) =&gt; this.makeCall(data)),\n).subscribe((result) =&gt; this.resultData = result.data)\n</code></pre>\n\n<p>all the required power lies in <code>switchMap</code> operator. whenver new event comes it cancels the previous subscribtion(you will see calceled red request in a network tab if it is not complete yet) and handler inside of a subscribe will only recieve the last event</p>\n"}], "owner": {"reputation": 486, "user_id": 6284819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZZSLh.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/6284819/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 59287272, "answer_count": 1, "score": 1, "last_activity_date": 1576079614, "creation_date": 1576071817, "last_edit_date": 1576079614, "question_id": 59287164, "link": "https://stackoverflow.com/questions/59287164/how-to-interrupt-previous-emits-with-the-same-event-in-angular-8", "title": "How to interrupt previous emits with the same event in Angular 8", "body": "<p>I have an app that refreshes a datagrid table every time the user selects a row in the table. To make it simple here I have a sample code:</p>\n\n<p><strong>child-component.ts</strong></p>\n\n<pre><code>public jsonData = {...} //api request\n\nthis.rowSelectedEvent.subscribe(() =&gt; {\n  this.refreshData(this.jsonData) \n})\n\nfunction refreshData(jsonData){\n  this.httpService.post(`${environment.BASE_URL}/api`, jsonData.payload).subscribe(\n    result =&gt; {\n      this.resultData = result.data\n    }, \n    err =&gt; {\n      console.error(err)\n    }\n  )\n}\n</code></pre>\n\n<p>The <code>rowSelectedEvent</code> is triggered in the HTML when the user clicks on a row of a table. This would be an example:</p>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>&lt;table&gt;\n  &lt;row (click)=\"notifyRowSelected\"&gt;&lt;/row&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>@Output() rowSelectedEvent: EventEmitter&lt;string&gt; = new EventEmitter();\n\n[...]\n\nfunction notifyRowSelected(){\n  this.rowSelectedEvent.emit()\n}\n</code></pre>\n\n<p>This code works fine, receives the API response with the new data, it lasts around 4-5 seconds that the server side make its calculations and returns the new values. The problem appears when the user clicks on a few rows repeatedly or in a small amount of time because the app goes crazy and refreshes the data multiple times instead of one time (the last one). I tried using <code>unsubscribe()</code> but then I'm not able to subscribe again so the functionality is lost. I've also tried <code>switchMap()</code> but for some reason when I debug the code it doesn't get into it. </p>\n\n<p>The idea is to stop the pending processes when the user clicks on a new row letting just the last click being the one that make the calculations and receives the response. Any advice?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 0, "creation_date": 1576249178, "post_id": 59287378, "comment_id": 104849460, "body": "thanks it works, it is little bit tricky i have to compile the tricks in my mind :) i understand that if it is exactly string that it accepts anything, but how comes that extends string works another way. it means that it must be V a V is &#39;a&#39; | &#39;b&#39; but if V extends string it doesnt mean anything as well? you get my question."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "edited": false, "score": 1, "creation_date": 1576261047, "post_id": 59287378, "comment_id": 104855099, "body": "@luky It is just the defined compiler behavior.. before <code>as const</code> it was one of the few ways to hint to the compiler you want literal types... TS has multiple such &#39;constraints that hint&#39;"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1576072606, "creation_date": 1576072606, "answer_id": 59287378, "question_id": 59287115, "link": "https://stackoverflow.com/questions/59287115/typescript-array-to-string-union/59287378#59287378", "title": "Typescript array to string union", "body": "<p>The first issue is capturing the string literals when you call <code>make</code>. You could do this in one of several ways. You could use tuples in rest parameters (<code>make&lt;L extends string[]&gt;(...keys: L): Foo&lt;L&gt;</code> but this will require you call the <code>make</code> function as <code>Foo.make('a', 'b')</code>.</p>\n\n<p>Another option is to use the fact that the compiler will preserve literal types if they are assigned to a type parameter constrained to <code>string</code>. This will preserve the current way of calling. </p>\n\n<p>The issue of getting the union is simple, you can use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types\" rel=\"nofollow noreferrer\">type query</a>.</p>\n\n<pre><code>export class Foo&lt;K extends string[]&gt; {\n    static make&lt;L extends V[], V extends string&gt;(keys: L): Foo&lt;L&gt; {\n        return new Foo();\n    }\n    get(key: K[number]) { // index type\n\n    }\n}\n\nconst x = Foo.make(['a', 'b'])\n\nx.get(\"a\")\nx.get(\"A\") // err\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?jsx=2&amp;ssl=13&amp;ssc=18&amp;pln=1&amp;pc=1#code/KYDwDg9gTgLgBAYwDYEMDOa4DEIQDwDScoMwAdgCaZoxQCWZA5gNoC6AfHAN4CwAUHEFwaKGHQRwAtigDWwPABliIUpUwA1NgBo465aqrDaDRuwAUcgJ5oAXHAUBKOznwLOvAUK9RgMAK5QZHBkwADu2LhmDgDc-F4AvnFCjL4WwJZ2BMxkfpIARsBQrA7ccAD0ZXAMFKBwMJZgwPxJgol8bfwIEGQ0cCBwALwREAB00nJmzADkKFM6U3lTxc18ICMpMGYARChbDvxrG9sAgnvllYVQQA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n\n<p>Another option is not to use the tuple type in <code>L</code>, just capture the union directly when calling <code>make</code>:</p>\n\n<pre><code>export class Foo&lt;K extends string&gt; {\n    static make&lt;V extends string&gt;(keys: V[]): Foo&lt;V&gt; {\n        return new Foo();\n    }\n    get(key: K) { // index type\n\n    }\n}\n\nconst x = Foo.make(['a', 'b'])\n\nx.get(\"a\")\nx.get(\"A\") // err\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?jsx=2&amp;ssl=13&amp;ssc=18&amp;pln=1&amp;pc=1#code/KYDwDg9gTgLgBAYwDYEMDOa4DEIQDwDScoMwAdgCaZoxQCWZA5gHxwDeAsAFBy9w0oYdBHAC2KANbA8ANWIhSlarQYsAFFICeaAFxwZAbQC6ASj058M1px587UYDACuUMnDLAA7tlxqTAbm47AF8gvkZHDWBNPQITdjgAekS4BgpQOBhNMGBuMN5QrkLuBAgyGjgQOABeHwgAOnEpNQMAchRWgBo4VoAjVtM8rhB6iJg1ACIUCZNuEbHJgEEZpJTgKCggA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}], "owner": {"reputation": 1749, "user_id": 4870273, "user_type": "registered", "accept_rate": 51, "profile_image": "https://lh5.googleusercontent.com/-XhPnCG93Opw/AAAAAAAAAAI/AAAAAAAAAco/1mGQN4mJIQk/photo.jpg?sz=128", "display_name": "luky", "link": "https://stackoverflow.com/users/4870273/luky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "closed_date": 1576074242, "answer_count": 1, "score": 1, "last_activity_date": 1576072606, "creation_date": 1576071651, "question_id": 59287115, "link": "https://stackoverflow.com/questions/59287115/typescript-array-to-string-union", "closed_reason": "Duplicate", "title": "Typescript array to string union", "body": "<p>I need to convert array to string union. See below</p>\n\n<pre><code>export class Foo&lt;K extends string[]&gt; {\n    make&lt;L extends string[]&gt;(keys: L): Foo&lt;L&gt; {\n        return new Foo();\n    }\n    get(key: K) {\n\n    }\n}\n\nconst x = Foo.make(['a', 'b'])\n\n// need to constraint this to 'a' | 'b'\nx.get('')\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-typescript"], "comments": [{"owner": {"reputation": 385, "user_id": 6939998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a6d877d9f6fa20a049c350914268e7c?s=128&d=identicon&r=PG&f=1", "display_name": "Mathieu", "link": "https://stackoverflow.com/users/6939998/mathieu"}, "edited": false, "score": 0, "creation_date": 1576071113, "post_id": 59286815, "comment_id": 104779042, "body": "I think we are missing some context of your app, because the error mentions a<code>ProductListProps</code> type which is nowhere to be seen. <code>IntrinsicAttributes</code> refers to in-built types of React components. This error seems like you have either mistyped a component&#39;s props somewhere."}, {"owner": {"reputation": 2654, "user_id": 4229768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d0fd3819aad80e3986cb873e5a4a0ee?s=128&d=identicon&r=PG&f=1", "display_name": "Shushanth Pallegar", "link": "https://stackoverflow.com/users/4229768/shushanth-pallegar"}, "edited": false, "score": 0, "creation_date": 1576071355, "post_id": 59286815, "comment_id": 104779178, "body": "if you&#39;r not sending those values as props (i mean if those props are undefined ), just use them as optional , just use (?) in typescript as TS consider as mandatory (not optional) by default."}, {"owner": {"reputation": 11, "user_id": 12518548, "user_type": "registered", "profile_image": "https://graph.facebook.com/2857589934274319/picture?type=large", "display_name": "Vlad Bielik", "link": "https://stackoverflow.com/users/12518548/vlad-bielik"}, "edited": false, "score": 0, "creation_date": 1576076400, "post_id": 59286815, "comment_id": 104782095, "body": "Mathieu , Shushanth Pallegar, I&#39;ve edited my question with <code>ProductListProps</code>"}], "answers": [{"tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": false, "score": 3, "last_activity_date": 1576085417, "creation_date": 1576085417, "answer_id": 59291159, "question_id": 59286815, "link": "https://stackoverflow.com/questions/59286815/react-with-typescript-type-is-not-assignable-to-type-intrinsicattributes/59291159#59291159", "title": "React with TypeScript: Type is not assignable to type &#39;IntrinsicAttributes&#39;", "body": "<p>I don't see how <code>ProductListProps</code> is being used in your component, but I am thinking that the error occurs because you aren't exactly properly typing your component. The right way of doing so using typescript would be to use <code>React.FC</code> or <code>React.FunctionalComponent</code> (assuming you are one of the more recent React versions), and declare the interface as the generic type.</p>\n\n<pre><code>interface PaginProps {\n    postsPerPage: number,\n    totalPosts: number,\n    paginate: (arg: number) =&gt; void\n}\n\nconst Pagin: React.FC&lt;PaginProps&gt; = ({ postsPerPage, totalPosts, paginate }) =&gt; {\n\n    const pageNumbers = [];\n\n    for (let i = 1; i &lt;= Math.ceil (totalPosts / postsPerPage); i++) {\n        pageNumbers.push(i);\n    }\n\n    const pageNum = pageNumbers.map(number =&gt; {\n        return &lt;div className='a page-item' key={number}&gt;&lt;a className='a' onClick={() =&gt; paginate(number)} href=\"!#\"&gt;{number}&lt;/a&gt;\n            &lt;/div&gt;\n    })\n\n    return (&lt;div className='pagin'&gt;{pageNum}&lt;/div&gt;)\n} \n\nexport default Pagin;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12518548, "user_type": "registered", "profile_image": "https://graph.facebook.com/2857589934274319/picture?type=large", "display_name": "Vlad Bielik", "link": "https://stackoverflow.com/users/12518548/vlad-bielik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5991, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1595469895, "creation_date": 1576070686, "last_edit_date": 1595469895, "question_id": 59286815, "link": "https://stackoverflow.com/questions/59286815/react-with-typescript-type-is-not-assignable-to-type-intrinsicattributes", "title": "React with TypeScript: Type is not assignable to type &#39;IntrinsicAttributes&#39;", "body": "<p>I have a component in React that shows a pagination of products. I cannot figure out why I am getting this error when I'm trying to run the application:</p>\n\n<blockquote>\n<pre><code>React with TypeScript: Type '{ postsPerPage: number; totalPosts: number; paginate: (pageNumber: number) =&gt; void; }' is not assignable to type 'IntrinsicAttributes &amp; ProductListProps'.   Property 'postsPerPage' does not exist on type 'IntrinsicAttributes &amp; ProductListProps'.\n</code></pre>\n</blockquote>\n\n<p>My code:</p>\n\n<pre><code>const [currentPage, setCurrentPage] = useState(1);\nconst [postsPerPage] = useState(10);\nconst indexOfLastPost = currentPage * postsPerPage;\nconst indexOfFirstPost = indexOfLastPost - postsPerPage;\nconst currentPosts = data.slice(indexOfFirstPost, indexOfLastPost);\n\n\nconst paginate = (pageNumber: number) =&gt; setCurrentPage(pageNumber);\n\nreturn (\n      &lt;&gt;\n        &lt;h1 className=\"headline\"&gt;SHOP&lt;/h1&gt;\n        &lt;div className=\"total\"&gt;Total: ${totalPrice}&lt;/div&gt;\n\n        &lt;ProductList products={data} onProductAddRequest={onProductAdded} posts={currentPosts}/&gt;\n\n        &lt;Pagin postsPerPage={postsPerPage} totalPosts={data.length} paginate={paginate} /&gt;\n\n     &lt;/&gt;\n</code></pre>\n\n<p>My component look like this:</p>\n\n<pre><code>interface PaginProps {\n    postsPerPage: number,\n    totalPosts: number,\n    paginate: (arg: number) =&gt; void\n}\n\nconst Pagin = ( {postsPerPage, totalPosts, paginate}: PaginProps ) =&gt; {\n\n    const pageNumbers = [];\n\n    for (let i = 1; i &lt;= Math.ceil (totalPosts / postsPerPage); i++) {\n        pageNumbers.push(i);\n    }\n\n    const pageNum = pageNumbers.map(number =&gt; {\n        return &lt;div className='a page-item' key={number}&gt;&lt;a className='a' onClick={() =&gt; paginate(number)} href=\"!#\"&gt;{number}&lt;/a&gt;\n            &lt;/div&gt;\n    })\n\n    return (&lt;div className='pagin'&gt;{pageNum}&lt;/div&gt;)\n} \n\nexport default Pagin;\n</code></pre>\n\n<p>My <code>ProductListProps</code> look like this:</p>\n\n<pre><code>interface ProductListProps {\n    products: ProductType[];\n    posts: any[];\n    onProductAddRequest: (product: ProductType) =&gt; void\n}\n\ninterface ProductType {\n    id: number;\n    category: string;\n    images?: string[];\n    name: string;\n    price: number;\n    description?: string;\n}\n\n</code></pre>\n\n<p>I can't find what's the problem here</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "object"], "comments": [{"owner": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "edited": false, "score": 1, "creation_date": 1576070883, "post_id": 59286783, "comment_id": 104778918, "body": "Wouldn&#39;t that be a set?"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576071177, "post_id": 59286783, "comment_id": 104779080, "body": "Enum on the level of TS is a type and a structure, you cannot enumarate over it. But you can create a type and a data with exact fields as enum has <code>type ObjFromEnum = Record&lt;SupportedLanguages, &#39;&#39;&gt; const obj: ObjFromEnum = {     [SupportedLanguages.en]: &#39;&#39;,     [SupportedLanguages.fr]: &#39;&#39;, };</code>"}], "answers": [{"comments": [{"owner": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "edited": false, "score": 2, "creation_date": 1576070981, "post_id": 59286878, "comment_id": 104778955, "body": "Even simpler: <code>Object.keys(supportedLanguages).reduce((a,k)=&gt;Object.assign(&zwnj;&#8203;a,{[k]:&#39;&#39;}),{})</code>"}], "tags": [], "owner": {"reputation": 26888, "user_id": 973651, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dd66c6ce85ae84cb0e0c39654f5028ba?s=128&d=identicon&r=PG", "display_name": "Mathew Berg", "link": "https://stackoverflow.com/users/973651/mathew-berg"}, "is_accepted": true, "score": 2, "last_activity_date": 1576071360, "last_edit_date": 1576071360, "creation_date": 1576070888, "answer_id": 59286878, "question_id": 59286783, "link": "https://stackoverflow.com/questions/59286783/typescript-enum-to-specific-object/59286878#59286878", "title": "TypeScript enum to specific object", "body": "<p>Are you just looking to get a new object with all the data as empty strings?</p>\n\n<pre><code>var supportedLanguages = {\n  en: \"en\", \n  fr: \"fr\"\n};\n\nvar result = Object.keys(supportedLanguages)\n    .reduce((accum, key) =&gt; \n        Object.assign(accum, { [key]: \"\" })\n    , {});\n\nconsole.log(result); // { \"en\": \"\", \"fr\": \"\" }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 3, "last_activity_date": 1610893185, "last_edit_date": 1610893185, "creation_date": 1576071098, "answer_id": 59286947, "question_id": 59286783, "link": "https://stackoverflow.com/questions/59286783/typescript-enum-to-specific-object/59286947#59286947", "title": "TypeScript enum to specific object", "body": "<p>You can get the keys, and map them to a tupple of <code>[key, '']</code>, and convert back to an object with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries\" rel=\"nofollow noreferrer\"><code>Object.fromEntries()</code></a>:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const supportedLanguages = {\n  en: \"en\", \n  fr: \"fr\"\n};\n\nconst result = Object.fromEntries(\n  Object.keys(supportedLanguages)\n    .map(k =&gt; [k, ''])\n);\n\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If you receive an error like this:</p>\n<blockquote>\n<p>TS2550: Property 'fromEntries' does not exist on type 'ObjectConstructor'. Do you need to change your target library? Try changing the <code>lib</code> compiler option to 'es2019' or later.</p>\n</blockquote>\n<p>Add <code>es2019</code> to <code>compilerOptions.lib</code> in your project's <code>tsconfig.json</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;compilerOptions&quot;: {\n    &quot;lib&quot;: [\n      &quot;es2019&quot;\n    ]\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 958, "user_id": 7404189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9181c457cf193f4dc089ff4b93ed4fa2?s=128&d=identicon&r=PG&f=1", "display_name": "hrdkisback", "link": "https://stackoverflow.com/users/7404189/hrdkisback"}, "is_accepted": false, "score": 2, "last_activity_date": 1576071476, "creation_date": 1576071476, "answer_id": 59287058, "question_id": 59286783, "link": "https://stackoverflow.com/questions/59286783/typescript-enum-to-specific-object/59287058#59287058", "title": "TypeScript enum to specific object", "body": "<p>In <code>typescript</code> I am using below solution,</p>\n\n<pre><code>export declare enum SupportedLanguages {\n    en=\"\",\n    fr=\"\"\n}\n</code></pre>\n\n<p>Also you can use lib. for some default methods. <a href=\"https://www.npmjs.com/package/enum-values\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/enum-values</a></p>\n"}, {"tags": [], "owner": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "is_accepted": false, "score": 1, "last_activity_date": 1576071964, "creation_date": 1576071964, "answer_id": 59287201, "question_id": 59286783, "link": "https://stackoverflow.com/questions/59286783/typescript-enum-to-specific-object/59287201#59287201", "title": "TypeScript enum to specific object", "body": "<p>You could translate the object to a key arr \u2192 set \u2192 map.</p>\n\n<p>Here are some trivial translation functions:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const keySet   = o =&gt; new Set(Object.keys(o))\r\nconst arrToMap = a =&gt; a.reduce((a, k) =&gt; Object.assign(a, { [k]: '' }), {})\r\nconst setToMap = s =&gt; arrToMap([...s])\r\nconst keyMap   = o =&gt; setToMap(keySet(o))\r\n\r\n\r\nconst SupportedLanguages = {\r\n  en : \"en\",\r\n  fr : \"fr\"\r\n}\r\n\r\nconsole.log(Object.keys(SupportedLanguages)) // arr\r\nconsole.log([...keySet(SupportedLanguages)]) // set\r\nconsole.log(keyMap(SupportedLanguages))      // obj</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { top: 0; max-height: 100% !important; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4632, "user_id": 1716669, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/35432860778343745728e5607c393fa5?s=128&d=identicon&r=PG&f=1", "display_name": "mrks", "link": "https://stackoverflow.com/users/1716669/mrks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 59286878, "answer_count": 4, "score": 1, "last_activity_date": 1610893185, "creation_date": 1576070580, "question_id": 59286783, "link": "https://stackoverflow.com/questions/59286783/typescript-enum-to-specific-object", "title": "TypeScript enum to specific object", "body": "<p>I have the following TypeScript enum:</p>\n\n<pre><code>export declare enum SupportedLanguages {\n    en,\n    fr\n}\n</code></pre>\n\n<p>If I import it in my react application and <code>console.log</code> it, I will get the following object returned:</p>\n\n<pre><code>{\n  en: \"en\", \n  fr: \"fr\"\n}\n</code></pre>\n\n<p>How can I manipulate it, so that I get the following object returned?</p>\n\n<pre><code>{\n  en: \"\",\n  fr: \"\"\n}\n</code></pre>\n\n<p>I tried it with <code>const Lang = Object.keys(SupportedLanguages)</code> and also with <code>.map()</code> but I did not get the expected object returned.</p>\n"}, {"tags": ["reactjs", "typescript", "jenkins", "shared-libraries", "rollupjs"], "comments": [{"owner": {"reputation": 153, "user_id": 3245552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1cc505f9a5fe29280ef6885a7b5783?s=128&d=identicon&r=PG", "display_name": "Tirias", "link": "https://stackoverflow.com/users/3245552/tirias"}, "edited": false, "score": 0, "creation_date": 1584963458, "post_id": 59286455, "comment_id": 107593376, "body": "Hi! did you finally resolve the issue? im facing something similar! Thanks"}], "owner": {"reputation": 1295, "user_id": 3113377, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/74d1e80d392b85f3196d487adc38e285?s=128&d=identicon&r=PG&f=1", "display_name": "mcclosa", "link": "https://stackoverflow.com/users/3113377/mcclosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 423, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576069361, "creation_date": 1576069361, "question_id": 59286455, "link": "https://stackoverflow.com/questions/59286455/module-not-found-error-cant-resolve-pp-shared-components-react-shared-lib", "title": "Module not found: Error: Can&#39;t resolve `pp-shared-components` - React Shared Library of Components in Jenkins", "body": "<p>I have a React library called <code>pp-shared-components</code>. It lives on a github repo, so to install it I do the following in my <code>package.json</code> file.</p>\n\n<pre><code>\"dependencies\": {\n    \"pp-shared-components\": \"git+ssh://git@github.com/{org}/pp-shared-components.git#master\",\n}\n</code></pre>\n\n<p>In the <code>pp-shared-components</code> repo, I have an <code>index.js</code> file that imports React components and then exports then like so.</p>\n\n<pre><code>import ContentHeader from './components/content-header/ContentHeader.js';\nimport Wizard from './components/wizard/Wizard.js';\n\nexport {\n  ContentHeader,\n  Wizard\n}\n</code></pre>\n\n<p>I use <code>rollup</code> to build my library.</p>\n\n<p>My <code>package.json</code> in the <code>pp-shared-components</code> is as follows.</p>\n\n<pre><code>{\n  \"name\": \"pp-shared-components\",\n  \"version\": \"1.0.0\",\n  \"description\": \"PP Shared Library for Components.\",\n  \"main\": \"build/index.cjs.js\",\n  \"module\": \"build/index.esm.js\",\n  \"browser\": \"build/index.js\",\n  \"style\": \"build/index.css\",\n  \"files\": [\n    \"build\"\n  ],\n  \"scripts\": {\n    \"build\": \"rollup -c\",\n    \"watch\": \"rollup -c --watch\",\n    \"lint\": \"eslint --ext .js,.jsx .\",\n    \"prepare\": \"npm run build\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/{org}/pp-shared-components.git\"\n  },\n  \"publishConfig\": {\n    \"access\": \"public\"\n  },\n  \"devDependencies\": {\n    ...\n    \"rollup\": \"^1.17.0\",\n    \"rollup-plugin-babel\": \"^4.3.3\",\n    \"rollup-plugin-commonjs\": \"^10.0.1\",\n    \"rollup-plugin-filesize\": \"^6.1.1\",\n    \"rollup-plugin-json\": \"^4.0.0\",\n    \"rollup-plugin-local-resolve\": \"^1.0.7\",\n    \"rollup-plugin-node-builtins\": \"^2.1.2\",\n    \"rollup-plugin-node-externals\": \"^2.0.1\",\n    \"rollup-plugin-node-globals\": \"^1.4.0\",\n    \"rollup-plugin-node-resolve\": \"^5.2.0\",\n    \"rollup-plugin-peer-deps-external\": \"^2.2.0\",\n    \"rollup-plugin-postcss\": \"^2.0.3\",\n    \"rollup-plugin-scss\": \"^1.0.2\"\n  },\n  \"peerDependencies\": {\n    ...\n  },\n  \"dependencies\": {\n    ...\n  }\n}\n</code></pre>\n\n<p>I can then import the components in another project like so</p>\n\n<pre><code>import { ContentHeader, Wizard } from 'pp-shared-components';\n</code></pre>\n\n<p>This all works fine locally, however, when I run this through Jenkins, I get the following error in the console</p>\n\n<pre><code>[INFO] ERROR in ./screens/main/Main.js\n[INFO] Module not found: Error: Can't resolve 'pp-shared-components' in '/var/lib/jenkins/data/workspace/pp/src/main/client/screens/main'\n[INFO]  @ ./screens/main/Main.js 6:15-55\n[INFO]  @ ./app/App.js\n[INFO]  @ ./index.js\n</code></pre>\n\n<p>Looking at the <code>pp-shared-components</code> folder in the <code>node_modules</code> folder within Jenkins, all the folders and files are exactly the same as they are in my local version?</p>\n\n<p>I did notice that while in VSCode, there is a little tooltip that exclaims</p>\n\n<pre><code>module \"/Users/{users}/git/pp/node_modules/pp-shared-components/build/index.cjs\"\nCould not find a declaration file for module 'pp-shared-components'. \n'/Users/{users}/git/pp/node_modules/pp-shared-components/build/index.cjs.js' implicitly has an 'any' type.\n  Try `npm install @types/pp-shared-components` if it exists or add a new declaration (.d.ts) file containing `declare module 'pp-shared-components';`ts(7016)\n</code></pre>\n\n<p>Now, I don't use <code>typescript</code> anywhere in my <code>pp-shared-components</code> project.</p>\n\n<p>Will I need to add a <code>.d.ts</code> file somewhere in the project and while I need to use typescript throughout my whole project?</p>\n\n<p>Sort of lost at the moment and need some direction of what do next and if it is a case of adding a <code>.d.ts</code> file, what is involved in doing so? Is it as simple as adding <code>declare module 'pp-shared-components'</code> and that's that?</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576077192, "post_id": 59286309, "comment_id": 104782544, "body": "This code doesn&#39;t seem to be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, since <code>CourseAction</code> is not defined anywhere, and <code>(!action.success &amp;&amp; typeof action.success !== &quot;function&quot;)</code> seems like a weird test, since if <code>action.success</code> is falsy then <code>typeof action.success</code> will definitely not be <code>&quot;function&quot;</code> (there are no falsy functions in JavaScript) and you don&#39;t need to test it."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576077583, "post_id": 59286309, "comment_id": 104782777, "body": "You can&#39;t tell at runtime if a function matches a TS signature. You can check <code>fn.length</code> to get the number of arguments the function expects in JavaScript, but even this is <a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAggxnCZgEMBGAbCAxAdlAXigAoAPALigGdgAnAS1wHMBKQgPmrsaYG4oAUHAD2uGlGEBrFCErxEydFjyEopDmt5DRVYVgB0GYU2JSZhiM2AALFvwD09qAEZtY4F3oYMAeWmzYBCRUTBx8ImJ9KJRaJio2Ak4YuIBtAAYAXS0RMT0IQ2NiGi9ffwsrWwcnNLdxYu8AZWASvxk5IMVQlQiKLgZmABooEAB+SlwAVwBbNAhaBM5SWryCk3qMJpayrAq7KEcoACZBIA\" rel=\"nofollow noreferrer\">brittle</a>, so I wouldn&#39;t try. You&#39;ll need some heuristic I guess, but I need an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to properly advise."}, {"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1576080903, "post_id": 59286309, "comment_id": 104784792, "body": "Thanks @jcalz have added link to typescript playground"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576081142, "post_id": 59286309, "comment_id": 104784921, "body": "Okay, at the very least you should properly test for <code>&quot;function&quot;</code>, which you&#39;re not doing, see <code>console.log(isCourseAction({ success: &quot;oops&quot;, request: &quot;oops&quot;, failure: &quot;oops&quot; })); &#47;&#47; true</code>.  But that&#39;s really just an error in your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and not an answer to the question, so can you fix that first? (maybe change <code>&amp;&amp;</code> to <code>||</code>?)"}, {"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576081595, "post_id": 59286309, "comment_id": 104785148, "body": "Cheers @jcalz, updated...."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576082533, "post_id": 59286309, "comment_id": 104785625, "body": "Can you explain a little about why you need to test the function at runtime as opposed to just requiring the function conform at design time?  Is your emitted TS code going to be called as a pure JS library or are the library users going to use TS as well?"}], "answers": [{"comments": [{"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "edited": false, "score": 0, "creation_date": 1576069375, "post_id": 59286375, "comment_id": 104778036, "body": "Thanks @Eldar, is it possible to perform a check that the function has a specific set of arguments and return type?"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576070029, "post_id": 59286375, "comment_id": 104778420, "body": "Its not possible until u will add such properties to it, Function is an object, so you can workaround that"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "reply_to_user": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "edited": false, "score": 0, "creation_date": 1576073242, "post_id": 59286375, "comment_id": 104780305, "body": "@anon_dcs3spp You can extract return type with <code>ReturnType&lt;typeof p&gt;</code> and parameters type with <code>Parameters&lt;typeof p&gt;</code> but I&#39;m not sure you can use them as typeguards."}], "tags": [], "owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "is_accepted": false, "score": 0, "last_activity_date": 1576069092, "creation_date": 1576069092, "answer_id": 59286375, "question_id": 59286309, "link": "https://stackoverflow.com/questions/59286309/is-it-possible-to-perform-a-run-time-type-check-to-determine-if-a-property-is-a/59286375#59286375", "title": "Is it possible to perform a run-time type check to determine if a property is a function with a specific call signature and return type?", "body": "<p>You can use built in type <code>Function</code> and define a type guard like this :</p>\n\n<pre><code>function isFunction(p: any): p is Function{\n  return typeof p === \"function\"  \n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html?ssl=17&amp;ssc=2&amp;pln=1&amp;pc=1#code/G4QwTgBAjhC8EDMCuA7AxgFwJYHsUQAoBKCAbwChyBfS0SABzggCJmBuS5dbPCLAZwBiqTLhQF6ALgggUATyLTGAiMO5iy5CBDABTDEjD4Mc+rpwIIjWDZZdReZtUpZLBAWofioREhW1oePw4ADa6AHQhOADmBMxYALYgiCI8KMxEHDTkroQeqWISvpoBQaERUbHxSSnqeAD8GVlAA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}, {"tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 0, "last_activity_date": 1576073679, "last_edit_date": 1576073679, "creation_date": 1576073203, "answer_id": 59287575, "question_id": 59286309, "link": "https://stackoverflow.com/questions/59286309/is-it-possible-to-perform-a-run-time-type-check-to-determine-if-a-property-is-a/59287575#59287575", "title": "Is it possible to perform a run-time type check to determine if a property is a function with a specific call signature and return type?", "body": "<p>Functions are objects also, so as objects functions have properties and methods (apply, bind). One of these properties is - <code>name</code>, for named functions it will be a string with a function name, for anonymous it will be empty string.</p>\n\n<p>If you will pass functions which were named then this property can be used to distinguish specific function in the runtime. Consider:</p>\n\n<pre><code>// two named functions as an example\nconst f1 = (arg1: string) =&gt; {\n    // body\n}\nconst f2 = (arg1: number) =&gt; {\n    // body\n}\n\nfunction main(obj: {name: string, payload: Function | string}) {\n    if (typeof obj.payload === 'function' &amp;&amp; obj.payload.name === 'f1') {\n        // it is f1 function \n    }\n    if (typeof obj.payload === 'function' &amp;&amp; obj.payload.name === 'f2') {\n        // it is f2 function \n    }\n}\n</code></pre>\n\n<p>We can also be more safe on the type level by type guards and type specification:</p>\n\n<pre><code>const f1 = (arg1: string) =&gt; {\n    // body\n}\nconst f2 = (arg1: number) =&gt; {\n    // body\n}\n\nconst isF1 = (a: unknown): a is typeof f1 =&gt; typeof a === 'function' &amp;&amp; a.name === 'f1'; \nconst isF2 = (a: unknown): a is typeof f2 =&gt; typeof a === 'function' &amp;&amp; a.name === 'f2'; \n\nfunction main(obj: {name: string, payload: typeof f1 | typeof f2 | string}) {\n    if (isF1(obj.payload)) {\n        obj.payload // it is f1 on type level also\n    }\n    if (isF2(obj.payload)) {\n        obj.payload // it is f2 on type level also\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "edited": false, "score": 0, "creation_date": 1576083187, "post_id": 59290357, "comment_id": 104785984, "body": "Many thanks @jcalz for your help and examples, appreciated :) Ok, so it looks like the best hope is to test for typeof function and maybe call the function with test inputs...."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1576082425, "creation_date": 1576082425, "answer_id": 59290357, "question_id": 59286309, "link": "https://stackoverflow.com/questions/59286309/is-it-possible-to-perform-a-run-time-type-check-to-determine-if-a-property-is-a/59290357#59290357", "title": "Is it possible to perform a run-time type check to determine if a property is a function with a specific call signature and return type?", "body": "<p>Unfortunately, you can't tell at runtime if a function matches a TS signature.  I'll use your example function signature, which looks like this:</p>\n\n<pre><code>type ActionCallback = (arg1: string, arg2: string) =&gt; PayloadAction;\n</code></pre>\n\n<p>As you know, you can check if a value <code>fn</code> is a function at all with a simple <code>typeof</code> check.  After that you quickly run out of reasonable options.  You can <em>try</em> to check <code>fn.length</code> to get the number of arguments the function expects in JavaScript, but this is brittle:</p>\n\n<pre><code>const normal: ActionCallback = (x, y) =&gt; ({ actionType: x, actionPayload: y });\nconsole.log(normal.length); // 2\nconst fewer: ActionCallback = (x) =&gt; normal(x, x);\nconsole.log(fewer.length); // 1\nconst evenFewer: ActionCallback = (...[x, y]) =&gt; normal(x, y);\nconsole.log(evenFewer.length); // 0\nconst more: ActionCallback = (x: string, y: string, z?: string) =&gt; normal(x, z ? z : y);\nconsole.log(more.length); // 3\n</code></pre>\n\n<p>All of those functions meet the <code>ActionCallback</code> contract but they have different <code>length</code> properties at runtime.</p>\n\n<hr>\n\n<p>Obviously, as you hinted, you could go ahead and <em>call</em> the function on some test inputs and use the result as a guide toward verifying your function, like this:</p>\n\n<pre><code>function testFunc(x: any): x is (a: string, b: string) =&gt; PayloadAction {\n  if (typeof x !== \"function\") return false;\n  const ret = x(\"\", \"\"); // actually call function\n  return typeof ret.actionType === \"string\" &amp;&amp; typeof ret.actionPayload === \"string\";\n}\n\nfunction isCourseAction(action: any): action is CourseAction {\n  return ([\"success\", \"request\", \"failure\"].every(k =&gt; testFunc(action[k])));\n}\n</code></pre>\n\n<p>And this will sort of work... although even this is not perfect; a particularly bizarre function could happen to return something reasonable for the test inputs but something entirely different for other inputs:</p>\n\n<pre><code>function ohComeOn(x: string, y: string) {\n  if (!x &amp;&amp; !y) return { actionType: \"normal\", actionPayload: \"all perfectly normal\" };\n  return 12345;\n}\nconst why = { success: ohComeOn, request: ohComeOn, failure: ohComeOn }\nconsole.log(isCourseAction(why)); // true\nconsole.log(why.request(\"other\", \"input\")); // 12345, not a PayloadAction at all!\n</code></pre>\n\n<p>In practice I wouldn't worry about this exception much (I mean, someone could hand you a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\" rel=\"nofollow noreferrer\"><code>Proxy</code></a> specifically crafted to pass your tests but fail when you use it).  But if you don't want to call the function to test it, you might be out of luck.</p>\n\n<hr>\n\n<p>Anyway, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBACghiANgezgEwIIGNgEtkB2UAvFAN4BQUUcO+BAKuBAFxQDOwATrgQOYAaKjTqF4SVGjace-IQF8KFUJCgBhZAFcu7CNjyES5Ye01YsEduzYAKOFz4BGad16CaDgEwvZfAJQkAHywCCjo+vRC1ABmcLiI2qxQdg7OHK5yHnze6b4BxMHiYZiiBFFQXBAAjpqWwLb2Tj5uAlk5Mm75haGSEYQKSsrMUH0EanCIiABGtADWRilNuS1tzfxdIRLhpQDcFFiEnFAEyFwAthNso+OTM1jzpDYAHq0gGzZkIgaMzGwvX-QipI2CAoPI-HsDgR2MhEBAAHQoPg2E7nCaIiD8YAACwhUAA9PioJ59odgFBohAAO4QLhXUo3aZzBZPDaoi6IZ6tVmQw6whFImyUmlcDFY3E7AlExyk6HkiAAN0xADFqbT6d9GXcHsl4XqANr-EAAXTZpw5XKgb150P5iOQyMVKrVorh4rxhKgAAZZUczqcktcJkz7iy1u4QOHWgAvAD84bNaM5-2jUFjUFTIIhvrtgv9lTFfBxHqJAGZBtFNARSlBgHVlVWsM82HACG8-lBcOxknAo1ApgmgptiqNjNRcNFkioIMhJ08oABCYikABEler3xXAUqwG0RFiiF0e2oUKOO6MTxsK5XrWvJa+mmDoKwwYpje+wh3e9rzFnFQgwDwrQ3xMKoy6rh0-ArlAABkME-pAf47kBpRAugJDLlAK6QXwK57IoFDrjWXYaNouijHYpQtm2fgtsR3akToeg1pQ1BflwRA2Pq2FmBYVg3lhlQ1HUAlrnECSVCuxrwk6XAgDYDzBHWnANtWlHfPqsymn42YEUR3xQMg2IaGcEAAPIEM2yyZJG1n+GOnaTjYC7znBi5vP+u4ceQAKEKBSQruyEwCcBgI9OgbArq+kBcJSOCIKCQWINB8jHp536OJ4pYACwAKz4b65JUtioKkJ8pjmJY1iGcZyCmRZrRCbUnBsEZJnmWUFLiYkrW1fVRCKKeuYOjYJFaExFHFW897cLUOZwvayJTfCTV1FeyA4rSom8GAmjAFu96ZTluWtCc5JwMOvQ1nA52TAugwPUop7kmcICMeRVHqONH0GWVJi8VVthgOFUh2bRl3bL9wSsdQUBDQtgoAAYVXx3YvpMEBoFAVK4DiUAACRkMDWxoPIiPZrD6XeZ8oV+b8UAAOQAMoAKpqGoACiTNMwA+hgagMAAkmZAByDOtLTBBoaDxPFGCaXyOUsTxD1ySy8CYNsNLo4FA5J58gjI2I8rEnQOjcJYzjeOE+r6BkxTsPsUQNOlP5bAM8qGCCwAMizABKHN8wLwtixLqEg2wttY6lwiK5+1TNfUasR5rEMlFDetwwbApG6tRzm5j2O49iWTdjbIP22lbEAd+LsgfTDMBwAiizXMMEHQui+LvlSynUfy7HFCDWSxwbfz33Mb9Dkm6rNjgwQmhnFMtJDjD1deUQXoK0PT3Z4tNiI4ybj-sJRy64Tr3vZP9ArQna0M40jjdw-XgM34lfzTnyKH8Gx8o1VQ4L5vQnqMeE-8rA2Bfk4Z+jRPBvw-vDL+B8j78C6irSogCyCXxAaUeEM9KiQMfjA1+79yZ7E-vvRGY0yLX0IDYbBNDRgbEJtQiapR6HAMYaUUh2ZEGUNYT9eg5MKFIwEbQyyZ1x5cO+MwsgYiKKSKvkwj+QA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 59290357, "answer_count": 3, "score": 1, "last_activity_date": 1576082425, "creation_date": 1576068837, "last_edit_date": 1576080853, "question_id": 59286309, "link": "https://stackoverflow.com/questions/59286309/is-it-possible-to-perform-a-run-time-type-check-to-determine-if-a-property-is-a", "title": "Is it possible to perform a run-time type check to determine if a property is a function with a specific call signature and return type?", "body": "<p>I am new user learning Typescript. Is it possible, to perform a run-time type check to determine if a property is a function with a specific call signature and return type?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function isCourseAction(action: any): action is CourseAction {\n  const FunctionType = 'function';\n\n  try {\n    // check expected properties defined and of expected type\n    if (!action.success &amp;&amp; typeof action.success !== FunctionType) {\n      return false;\n    } else if (!action.request &amp;&amp; typeof action.request !== FunctionType) {\n      return false;\n    } else if (!action.failure &amp;&amp; typeof action.failure !== FunctionType) {\n      return false;\n    }\n\n    // other than try and call the request, success and failure function here\n    // and catch exception is there a quicker way to check that the function has\n    // the expected call signature?\n  } catch (err) {\n    return false;\n  }\n\n  return true;\n}\n</code></pre>\n\n<p>Created a typescript playground <a href=\"https://www.typescriptlang.org/play/?ssl=1&amp;ssc=1&amp;pln=55&amp;pc=2#code/C4TwDgpgBACghiANgezgEwIIGNgEtkB2UAvFAN4BQUUcO+BAKuBAFxQDOwATrgQOYAaKjTqF4SVGjace-IQF8KFUJCgBhZAFcu7CNjyES5Ye01YsEduzYAKOFz4BGad16CaDgEwvZfAJQkAHywCCjo+vRC1ABmcLiI2qxQdg7OHK5yHnze6b4BxMHiYZiiBFFQXBAAjpqWwLb2Tj5uAlk5Mm75haGSEYQKSliEnFAAtiAa2rp9BGyTOnqlRpTUpuaW1slgPejN-H5sRb1LBcbU1EME7MiIEAB0KHw2AAZrFlZQWHCIt2hQAO64YAACygABIyNsJOh5M8-ABuYTUSrAbREMi0AyMZhsADkAGUAKpqNQAUXx+IA+hg1AwAJIAeQAcrjWpj6EddlAocV5IjqPJyrF4olbDzJHt-IcdiUsUEzudLtdbg9kE9nsKEpVPt9fgCgaCIeKYXD+ecUWjyCIsUxIHiAGIYOkAGUJACVSdTaYyWWzSpypNyZXzhILhJUanUxTLJQcQtDZfR5StFcMbvdHi8I7URl8fhA-oCQVl2ODIcHTUiKhBUVx0db6LakriPQBFQnkhhe+nM1kNsQxoMJqAhgUURRK4BQAjIYA0rQLGbLYSa0XJOMETSjABGEC4yarFrrUAADGbFIoKEr06r1WpdW5q5GRqcIeN5tNSnds3UbLjGo4fb-l4uJ+LCCJXmmKqZs894-I+bwbPKb4TAun5YnciFWH+AFAY0nigeBiLXtBaovHBiCPqu2qvmQ75oYsGHURAOGpHhIFgZWkFXDeMG4OwH6MfQNj0VMQmEF0Zb8YJMwiahYkzJxEEkRmZHPNJDEzHC3HKqp6oaQppQ2DOc4yaUkkQgZi5GSZ86GViSmIhQ0SaAQSxWehwnsoQbBwAQIBxt5RD8eomlLCmk5QParmlE2Ri4i5blYriTnUAA9GlnzAhAWAANZQBAAAekA4AW3JcMgkBcHglhQGgEDRLwZV+X8yDRAVxU5cAZUqBAwi4O1NgAIRBZhZjvKWABkk1QL1bX9gQY3rB8Q3EKQ0VJY2zABCmyI1pasSILo54FUd0ADckI1fj+IzTbNzDzaNN1Tqt60xTa20KnttZEIdx2hqduhQBdw2jcxUB3XN7Vg3EWrQK9UXvVtkA7Ye+3Hn9EDnsIEBnV91Y-bNXC1Nj45AA\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": ["angular", "typescript", "dependency-injection", "typescript-typings", "angular-components"], "comments": [{"owner": {"reputation": 128, "user_id": 4796680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1281c949f03dc1a555f0ae5a64b2b063?s=128&d=identicon&r=PG&f=1", "display_name": "manishgdev", "link": "https://stackoverflow.com/users/4796680/manishgdev"}, "edited": false, "score": 0, "creation_date": 1576068898, "post_id": 59286265, "comment_id": 104777746, "body": "the type for injectedService is not mentioned in the constructor the way it is mentioned for httpClient, if the type for injectedService will be mentioned then angular would know what type to use for DI"}, {"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "reply_to_user": {"reputation": 128, "user_id": 4796680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1281c949f03dc1a555f0ae5a64b2b063?s=128&d=identicon&r=PG&f=1", "display_name": "manishgdev", "link": "https://stackoverflow.com/users/4796680/manishgdev"}, "edited": false, "score": 0, "creation_date": 1576068991, "post_id": 59286265, "comment_id": 104777812, "body": "@manishgdev I&#39;m sorry, I forgot it in my simplified version. Still does not work.."}, {"owner": {"reputation": 544, "user_id": 5580783, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/rg5bX.png?s=128&g=1", "display_name": "Pedro Bezanilla", "link": "https://stackoverflow.com/users/5580783/pedro-bezanilla"}, "edited": false, "score": 0, "creation_date": 1576069090, "post_id": 59286265, "comment_id": 104777870, "body": "doesn&#39;t makes sense to inject a service inside another service if you want to use it outside the service........................"}, {"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "reply_to_user": {"reputation": 544, "user_id": 5580783, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/rg5bX.png?s=128&g=1", "display_name": "Pedro Bezanilla", "link": "https://stackoverflow.com/users/5580783/pedro-bezanilla"}, "edited": false, "score": 0, "creation_date": 1576069323, "post_id": 59286265, "comment_id": 104778001, "body": "@PedroB. That&#39;s exactly my question. How could I proceed here?"}, {"owner": {"reputation": 128, "user_id": 4796680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1281c949f03dc1a555f0ae5a64b2b063?s=128&d=identicon&r=PG&f=1", "display_name": "manishgdev", "link": "https://stackoverflow.com/users/4796680/manishgdev"}, "edited": false, "score": 0, "creation_date": 1576070502, "post_id": 59286265, "comment_id": 104778696, "body": "may be this would help <a href=\"https://stackoverflow.com/questions/51131894/angular-inject-service-into-service-no-provider\" title=\"angular inject service into service no provider\">stackoverflow.com/questions/51131894/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1324, "user_id": 10623752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b2e83da82c948ea0d0236ad3cf2d0?s=128&d=identicon&r=PG&f=1", "display_name": "abd995", "link": "https://stackoverflow.com/users/10623752/abd995"}, "is_accepted": true, "score": 2, "last_activity_date": 1576069700, "creation_date": 1576069700, "answer_id": 59286550, "question_id": 59286265, "link": "https://stackoverflow.com/questions/59286265/how-to-inject-a-service-into-another-service-and-use-it-within-exported-constant/59286550#59286550", "title": "How to inject a service into another service and use it within exported constants or interfaces in Angular?", "body": "<p>You could simply create a <code>getSeries</code> method in the service that will return the values of the constant. <code>This</code> will be defined inside the <code>MyService</code> class and thus no error.</p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class MyService {\n\n  constructor(private httpClient: HttpClient, private injectedService: InjectedService) {}\n\n  // Methods..\n\n  getSeries(): Series[] {\n    return [\n      this.injectedService.translate(Series.prop_1),\n      this.injectedService.translate(Series.prop_1),\n      this.injectedService.translate(Series.prop_1),\n    ];\n  }\n}\n\nexport enum Series {\n  prop_1 = 'String_1',\n    prop_2 = 'String_2',\n    prop_3 = 'String_3',\n}\n</code></pre>\n\n<p>Instead of <code>ALL_SERIES</code> you would have to call <code>getSeries()</code> method though.</p>\n"}], "owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 59286550, "answer_count": 1, "score": 0, "last_activity_date": 1576069700, "creation_date": 1576068725, "last_edit_date": 1576068950, "question_id": 59286265, "link": "https://stackoverflow.com/questions/59286265/how-to-inject-a-service-into-another-service-and-use-it-within-exported-constant", "title": "How to inject a service into another service and use it within exported constants or interfaces in Angular?", "body": "<p>I would like to inject a service into another service with which I want to translate strings within exported constants.</p>\n\n<p>My code currently looks like this (I've simplified it here)</p>\n\n<pre><code>// Imports..\n\n@Injectable(\n  { providedIn: 'root' }\n)\nexport class MyService {\n\n  constructor(private httpClient: HttpClient, private injectedService: InjectedService) {\n  }\n\n  // Methods..\n}\n\nexport enum Series {\n  prop_1 = 'String_1',\n  prop_2 = 'String_2',\n  prop_3 = 'String_3',\n}\n\nexport const ALL_SERIES: Series[] = [\n  this.injectedService.translate(Series.prop_1),\n  this.injectedService.translate(Series.prop_1),\n  this.injectedService.translate(Series.prop_1),\n];\n</code></pre>\n\n<p>However, I get this error because the injected service is not detected outside the component:</p>\n\n<blockquote>\n  <p>ERROR Error: Uncaught (in promise): TypeError: Cannot read property 'injectedService' of undefined</p>\n</blockquote>\n\n<p>What would be the cleanest solution to this problem?</p>\n"}, {"tags": ["typescript", "typeorm"], "answers": [{"comments": [{"owner": {"reputation": 2246, "user_id": 158851, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6085cc651e0f9f422ec8bb29dcac5d4e?s=128&d=identicon&r=PG", "display_name": "geeko", "link": "https://stackoverflow.com/users/158851/geeko"}, "edited": false, "score": 0, "creation_date": 1576166770, "post_id": 59297570, "comment_id": 104819425, "body": "I was missing @ChildEntity of an abstract class in the middle of class inheritance chain"}], "tags": [], "owner": {"reputation": 1043, "user_id": 8649032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rQwt.jpg?s=128&g=1", "display_name": "Gabriel Vasile", "link": "https://stackoverflow.com/users/8649032/gabriel-vasile"}, "is_accepted": true, "score": 0, "last_activity_date": 1576123670, "creation_date": 1576123670, "answer_id": 59297570, "question_id": 59286056, "link": "https://stackoverflow.com/questions/59286056/typeorm-0-2-21-cannot-read-property-build-of-undefined/59297570#59297570", "title": "TypeORM 0.2.21: Cannot read property &#39;build&#39; of undefined", "body": "<p>The method that typeorm is trying to call is <code>build</code> from \n<code>typeorm/src/metadata-builder/EntityMetadataBuilder.ts</code> and has the next signature:</p>\n\n<p><code>build(entityClasses?: Function[]): EntityMetadata[]) {}</code></p>\n\n<p>What it does is it builds a complete entity metadatas for the given entity classes and compute parent entity metadatas for table inheritance.</p>\n\n<p>What that tells me is that there's something wrong with the way you're trying to create the relations between entities. You might need to check relations one by one by removing it temporarily until you find which one is creating the problem.</p>\n"}], "owner": {"reputation": 2246, "user_id": 158851, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6085cc651e0f9f422ec8bb29dcac5d4e?s=128&d=identicon&r=PG", "display_name": "geeko", "link": "https://stackoverflow.com/users/158851/geeko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 1, "accepted_answer_id": 59297570, "answer_count": 1, "score": 0, "last_activity_date": 1576123670, "creation_date": 1576068048, "question_id": 59286056, "link": "https://stackoverflow.com/questions/59286056/typeorm-0-2-21-cannot-read-property-build-of-undefined", "title": "TypeORM 0.2.21: Cannot read property &#39;build&#39; of undefined", "body": "<p>I am not sure why I am getting the following error every time I try to sync with the database.</p>\n\n<pre><code>Error during schema synchronization:\nTypeError: Cannot read property 'build' of undefined\n    at /Users/geekox86/Documents/GitHub/OE Scoring/src/metadata-builder/EntityMetadataBuilder.ts:594:66\n    at Array.forEach (&lt;anonymous&gt;)\n    at EntityMetadataBuilder.computeEntityMetadataStep2 (/Users/geekox86/Documents/GitHub/OE Scoring/src/metadata-builder/EntityMetadataBuilder.ts:594:37)\n    at /Users/geekox86/Documents/GitHub/OE Scoring/src/metadata-builder/EntityMetadataBuilder.ts:113:56\n    at Array.forEach (&lt;anonymous&gt;)\n    at EntityMetadataBuilder.build (/Users/geekox86/Documents/GitHub/OE Scoring/src/metadata-builder/EntityMetadataBuilder.ts:113:25)\n    at ConnectionMetadataBuilder.buildEntityMetadatas (/Users/geekox86/Documents/GitHub/OE Scoring/src/connection/ConnectionMetadataBuilder.ts:66:111)\n    at Connection.buildMetadatas (/Users/geekox86/Documents/GitHub/OE Scoring/src/connection/Connection.ts:516:59)\n    at Connection.&lt;anonymous&gt; (/Users/geekox86/Documents/GitHub/OE Scoring/src/connection/Connection.ts:191:18)\n    at step (/Users/geekox86/Documents/GitHub/OE Scoring/node_modules/tslib/tslib.js:136:27)\n</code></pre>\n\n<p><a href=\"https://github.com/geekox86/oe-scoring/tree/master\" rel=\"nofollow noreferrer\">Reproduction repo</a></p>\n"}, {"tags": ["javascript", "typescript", "tslint"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5401571"}, "edited": false, "score": 0, "creation_date": 1576069084, "post_id": 59285887, "comment_id": 104777864, "body": "Strangely assigning the string <code>&#39;base&#39;</code> to a variable made the error disappear.  var base = &#39;base&#39;; mapSet.set(base, {                  id: &#39;base&#39;,             label: &#39;label&#39;,             type: &#39;type&#39;         });   NOTE: This lint error is only related to Backbone.js. You can disable this error if you don&#39;t use Backbone.js"}], "answers": [{"comments": [{"owner": {"reputation": 3847, "user_id": 28946, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/B8cHP.jpg?s=128&g=1", "display_name": "Jen S.", "link": "https://stackoverflow.com/users/28946/jen-s"}, "edited": false, "score": 0, "creation_date": 1576077345, "post_id": 59286241, "comment_id": 104782646, "body": "You can also ignore the rule for this line:  <code>&#47;&#47; tslint:disable-next-line:no-backbone-get-set-outside-model</code> Some environments (PowerBI) asks that you submit code with no changes to tslint.json."}], "tags": [], "owner": {"reputation": 11, "user_id": 4125458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8b27a98e1a93dd4bec125e84641b21?s=128&d=identicon&r=PG&f=1", "display_name": "Moritz W.", "link": "https://stackoverflow.com/users/4125458/moritz-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1576068641, "creation_date": 1576068641, "answer_id": 59286241, "question_id": 59285887, "link": "https://stackoverflow.com/questions/59285887/tslint-no-backbone-get-set-outside-model-error-thrown-for-javascript-map-set/59286241#59286241", "title": "TSLint: no-backbone-get-set-outside-model error thrown for JavaScript map.set() function", "body": "<p>According to <a href=\"https://github.com/microsoft/tslint-microsoft-contrib/issues/708#issuecomment-450494396\" rel=\"nofollow noreferrer\">this</a> issue comment from <a href=\"https://github.com/microsoft/tslint-microsoft-contrib\" rel=\"nofollow noreferrer\"><code>tslint-microsoft-contrib</code></a> the rule you are mentioning is a rule that is specific to <a href=\"https://backbonejs.org/\" rel=\"nofollow noreferrer\">Backbone.js</a> and since your case doesn't have anything to do with Backbone, you can just disable it in your <code>tslint.json</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5401571"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576068641, "creation_date": 1576067440, "question_id": 59285887, "link": "https://stackoverflow.com/questions/59285887/tslint-no-backbone-get-set-outside-model-error-thrown-for-javascript-map-set", "title": "TSLint: no-backbone-get-set-outside-model error thrown for JavaScript map.set() function", "body": "<p>I am fixing lint errors using Microsoft's  <code>tslint-microsoft-contrib</code>. It throws the following error which I think a false alarm.</p>\n\n<p><code>Backbone set() called outside of owning model</code></p>\n\n<pre><code>var mapSet = new Map();\nmapSet.set('base', {     \n            id: 'base',\n            label: 'label',\n            type: 'type'\n        }); // Error shown here: Backbone set() called outside of owning model: mapSet.set('base'...) (no-backbone-get-set-outside-model)\n</code></pre>\n\n<p>Is there any way to fix this?</p>\n"}, {"tags": ["typescript", "types", "implicit-typing"], "answers": [{"tags": [], "owner": {"reputation": 1324, "user_id": 10623752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b2e83da82c948ea0d0236ad3cf2d0?s=128&d=identicon&r=PG&f=1", "display_name": "abd995", "link": "https://stackoverflow.com/users/10623752/abd995"}, "is_accepted": true, "score": 3, "last_activity_date": 1576096834, "last_edit_date": 1576096834, "creation_date": 1576073135, "answer_id": 59287554, "question_id": 59285759, "link": "https://stackoverflow.com/questions/59285759/typescript-implicit-types-not-implicit-any/59287554#59287554", "title": "Typescript implicit types (not implicit any)", "body": "<blockquote>\n  <p>Basically, in my mind, if I named a variable in a function after a native type, it would seem to implicitly be typed as that type, not as\u00a0<code>any</code>.</p>\n</blockquote>\n\n<p>This is entirely wrong. Typescript does not have such a feature. If you do not mention a type, Typescript will simply consider it as <code>any</code>. This is the same thing happening in the code below.</p>\n\n<pre><code>const fn = string =&gt; console.log(string)\n</code></pre>\n\n<p><code>string</code> variable is of <code>any</code> type. If you have a modern IDE it would show you the same thing if you hover over it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pYWNZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pYWNZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>To give it a type, you have to specifically mention a type, just like in the latter code you added.</p>\n\n<pre><code>const fn = (string:string) =&gt; console.log(string)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4WgOj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4WgOj.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Is this a real feature in Typescript?</p>\n  \n  <p>If it is, how do I configure Typescript to do this?</p>\n</blockquote>\n\n<p>It is not and thus you can't configure it to work that way normally.</p>\n"}, {"comments": [{"owner": {"reputation": 7326, "user_id": 1611058, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Y1VDs.jpg?s=128&g=1", "display_name": "Daniel Tonon", "link": "https://stackoverflow.com/users/1611058/daniel-tonon"}, "edited": false, "score": 0, "creation_date": 1576095344, "post_id": 59287835, "comment_id": 104791521, "body": "I wish I had access to the old project I worked on that made me think Typescript had this feature. Your answer sounds the closest to what was really going on but I want to do a bit of testing before I accept this as the answer."}, {"owner": {"reputation": 7326, "user_id": 1611058, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Y1VDs.jpg?s=128&g=1", "display_name": "Daniel Tonon", "link": "https://stackoverflow.com/users/1611058/daniel-tonon"}, "edited": false, "score": 0, "creation_date": 1576145041, "post_id": 59287835, "comment_id": 104806862, "body": "I did a bit of testing and contextual typing doesn&#39;t really seem to work when the <code>noImplicitAny</code> option is enabled. Or at least VS Code doesn&#39;t seem to accept it as a thing. I even pasted the code directly from the docs to be sure."}], "tags": [], "owner": {"reputation": 31, "user_id": 2349446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eae05407f0fa72b01632127ba3e3e2e9?s=128&d=identicon&r=PG&f=1", "display_name": "Przemek", "link": "https://stackoverflow.com/users/2349446/przemek"}, "is_accepted": false, "score": 1, "last_activity_date": 1576073961, "creation_date": 1576073961, "answer_id": 59287835, "question_id": 59285759, "link": "https://stackoverflow.com/questions/59285759/typescript-implicit-types-not-implicit-any/59287835#59287835", "title": "Typescript implicit types (not implicit any)", "body": "<p>The closest feature to what you're describing is called <strong>Contextual Typing</strong> or <strong>Type Inference</strong>. You can look it up in <a href=\"https://www.typescriptlang.org/docs/handbook/type-inference.html\" rel=\"nofollow noreferrer\">TypeScript's documentation for more details</a>.</p>\n\n<p>As for the example you have given, the standard (node) definition of <code>console.log</code> is expecting <code>message</code> param to by of <code>any</code> type. That's why in this case your <code>string</code> parameter infers to <code>any</code> type.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// src: node_modules/@types/node/globals.d.ts\n\ninterface Console {\n\n    // ...\n\n    /**\n     * Prints to `stdout` with newline\n     */\n     log(message?: any, ...optionalParams: any[]): void;\n\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 7326, "user_id": 1611058, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Y1VDs.jpg?s=128&g=1", "display_name": "Daniel Tonon", "link": "https://stackoverflow.com/users/1611058/daniel-tonon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 59287554, "answer_count": 2, "score": 0, "last_activity_date": 1576096834, "creation_date": 1576066984, "last_edit_date": 1576096106, "question_id": 59285759, "link": "https://stackoverflow.com/questions/59285759/typescript-implicit-types-not-implicit-any", "title": "Typescript implicit types (not implicit any)", "body": "<p>In a Typescript project I worked on that I don't have access to anymore, I remember seeming to be able to do the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const fn = string =&gt; console.log(string)\n</code></pre>\n\n<p>Being new to Typescript, it seemed to be the equivalent of writing this:</p>\n\n<pre><code>const fn = (string:string) =&gt; console.log(string)\n</code></pre>\n\n<p>Basically, in my mind, if I named a variable in a function after a native type, it would seem to implicitly be typed as that type, not as <code>any</code>.</p>\n\n<p>I was very new to Typescript at the time though so it's totally possible something else was really going on and I was just misinterpreting the situation.</p>\n\n<p>Now that I am trying to set up my own typescript project, I would like to configure it to allow that functionality again. I'm not sure how to though or if what I'm thinking of is even a real Typescript feature.</p>\n\n<p>Is this a real feature in Typescript?</p>\n\n<p>If it is, how do I configure Typescript to do this?</p>\n"}, {"tags": ["typescript", "firebase", "flutter", "firebase-authentication", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8615604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9223940b01dcf0dd394b91df7e5e869?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav Arora", "link": "https://stackoverflow.com/users/8615604/pranav-arora"}, "edited": false, "score": 0, "creation_date": 1576078521, "post_id": 59289154, "comment_id": 104783403, "body": "Is there any method in flutter?"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "reply_to_user": {"reputation": 3, "user_id": 8615604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9223940b01dcf0dd394b91df7e5e869?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav Arora", "link": "https://stackoverflow.com/users/8615604/pranav-arora"}, "edited": false, "score": 0, "creation_date": 1576079532, "post_id": 59289154, "comment_id": 104783982, "body": "No there isn&#39;t, as that would be a privacy concern. And you specifically asked &quot;Can we write a <b>cloud function</b> that can be used to check if a mobile number exists for the user trying to sign in in firebase?&quot; :-/"}, {"owner": {"reputation": 3, "user_id": 8615604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9223940b01dcf0dd394b91df7e5e869?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav Arora", "link": "https://stackoverflow.com/users/8615604/pranav-arora"}, "edited": false, "score": 0, "creation_date": 1576080023, "post_id": 59289154, "comment_id": 104784277, "body": "So how can I achieve the following task: When a user tries to login into the app using OTP he should land to the homepage if he is an already registered user if not then he should land at the registeration page?"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "reply_to_user": {"reputation": 3, "user_id": 8615604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9223940b01dcf0dd394b91df7e5e869?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav Arora", "link": "https://stackoverflow.com/users/8615604/pranav-arora"}, "edited": false, "score": 0, "creation_date": 1576086648, "post_id": 59289154, "comment_id": 104787647, "body": "You seem to have most of the parts for one option in your question: you can create a Cloud Function that checks Firebase Authentication with the Admin SDK. Another option would be to write the phone numbers to a database when the user registers, and then check against that database when the user enters their phone number."}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 0, "last_activity_date": 1576078309, "creation_date": 1576078309, "answer_id": 59289154, "question_id": 59285600, "link": "https://stackoverflow.com/questions/59285600/can-we-write-a-cloud-function-that-can-be-used-to-check-if-a-mobile-number-exist/59289154#59289154", "title": "Can we write a cloud function that can be used to check if a mobile number exists for the user trying to sign in in firebase?", "body": "<p>When you're interacting with the Firebase Authentication services in Cloud Functions, you're using The <a href=\"https://firebase.google.com/docs/auth/admin\" rel=\"nofollow noreferrer\">Firebase Admin SDK</a> for Node.js. This has a <a href=\"https://firebase.google.com/docs/reference/admin/node/admin.auth.Auth#get-user-byphone-number\" rel=\"nofollow noreferrer\"><code>getUserByPhoneNumber</code> method</a>, which allows you to find a user by their phone number.</p>\n"}], "owner": {"reputation": 3, "user_id": 8615604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9223940b01dcf0dd394b91df7e5e869?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav Arora", "link": "https://stackoverflow.com/users/8615604/pranav-arora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1576078309, "creation_date": 1576066412, "last_edit_date": 1576078138, "question_id": 59285600, "link": "https://stackoverflow.com/questions/59285600/can-we-write-a-cloud-function-that-can-be-used-to-check-if-a-mobile-number-exist", "title": "Can we write a cloud function that can be used to check if a mobile number exists for the user trying to sign in in firebase?", "body": "<p>When he is trying to login via OTP. If he exists then we should send him an OTP otherwise he should first register? If yes then how?</p>\n"}, {"tags": ["typescript", "firebase", "google-cloud-functions"], "comments": [{"owner": {"reputation": 5451, "user_id": 9765167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hpIB.jpg?s=128&g=1", "display_name": "Ramesh Reddy", "link": "https://stackoverflow.com/users/9765167/ramesh-reddy"}, "edited": false, "score": 0, "creation_date": 1576066580, "post_id": 59285581, "comment_id": 104776555, "body": "Shouldn&#39;t the <code>book_id_arr</code> be a const or something?"}, {"owner": {"reputation": 5, "user_id": 12518131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eccda4a5c0a07ade06c52dbdbe597a45?s=128&d=identicon&r=PG&f=1", "display_name": "yoniTBD", "link": "https://stackoverflow.com/users/12518131/yonitbd"}, "reply_to_user": {"reputation": 5451, "user_id": 9765167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hpIB.jpg?s=128&g=1", "display_name": "Ramesh Reddy", "link": "https://stackoverflow.com/users/9765167/ramesh-reddy"}, "edited": false, "score": 0, "creation_date": 1576069212, "post_id": 59285581, "comment_id": 104777928, "body": "It is, sorry I didn&#39;t notice I didn&#39;t include this line"}, {"owner": {"reputation": 5451, "user_id": 9765167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hpIB.jpg?s=128&g=1", "display_name": "Ramesh Reddy", "link": "https://stackoverflow.com/users/9765167/ramesh-reddy"}, "edited": false, "score": 0, "creation_date": 1576069481, "post_id": 59285581, "comment_id": 104778094, "body": "Okay, why are you wrapping list_book with &#39;()&#39;?"}], "answers": [{"comments": [{"owner": {"reputation": 9545, "user_id": 3068190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDAi7.jpg?s=128&g=1", "display_name": "samthecodingman", "link": "https://stackoverflow.com/users/3068190/samthecodingman"}, "edited": false, "score": 1, "creation_date": 1576076515, "post_id": 59288106, "comment_id": 104782167, "body": "Also, depending on how they&#39;ve structured their data, the map could be simplified to <code>book_id_arr = list_book.docs.map(doc =&gt; doc.id);</code> and if they care about efficiency, <code>let book_id_arr = []; list_book.forEach(doc =&gt; book_id_arr.push(doc.id)); return book_id_arr;</code>"}, {"owner": {"reputation": 5, "user_id": 12518131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eccda4a5c0a07ade06c52dbdbe597a45?s=128&d=identicon&r=PG&f=1", "display_name": "yoniTBD", "link": "https://stackoverflow.com/users/12518131/yonitbd"}, "edited": false, "score": 0, "creation_date": 1576314936, "post_id": 59288106, "comment_id": 104865892, "body": "Now it gives me &quot;Property get does not exist on type Query&quot;. Any idea why?"}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1576315552, "post_id": 59288106, "comment_id": 104865994, "body": "Can you show exactly how you call it. <code>get</code> is a method, not a property, so you should do <code>get()</code>, see the answer."}, {"owner": {"reputation": 5, "user_id": 12518131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eccda4a5c0a07ade06c52dbdbe597a45?s=128&d=identicon&r=PG&f=1", "display_name": "yoniTBD", "link": "https://stackoverflow.com/users/12518131/yonitbd"}, "edited": false, "score": 0, "creation_date": 1576421513, "post_id": 59288106, "comment_id": 104886510, "body": "@RenaudTarnec, I wrote it exactly as you did. maybe I need to import a library?"}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "edited": false, "score": 0, "creation_date": 1576423138, "post_id": 59288106, "comment_id": 104886886, "body": "How do you declare <code>db</code>? In a Cloud Function, you should use the Admin SDKand therefore you should do <code>const db = admin.firestore();</code>. If this doesn&#39;t solve your problem, please share the entire code of your Cloud Function (modify your question by adding the code)."}, {"owner": {"reputation": 5, "user_id": 12518131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eccda4a5c0a07ade06c52dbdbe597a45?s=128&d=identicon&r=PG&f=1", "display_name": "yoniTBD", "link": "https://stackoverflow.com/users/12518131/yonitbd"}, "edited": false, "score": 0, "creation_date": 1576424308, "post_id": 59288106, "comment_id": 104887150, "body": "That might be the problem. Thanks!"}], "tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": true, "score": 1, "last_activity_date": 1576075181, "last_edit_date": 1576075181, "creation_date": 1576074840, "answer_id": 59288106, "question_id": 59285581, "link": "https://stackoverflow.com/questions/59285581/typescript-and-firebase-cloud-functions-object-is-of-type-unknown/59288106#59288106", "title": "TypeScript and Firebase cloud functions: object is of type &#39;unknown&#39;", "body": "<p><code>db.child(\"Books\").orderByChild(\"avg_rating\").limitToFirst(15)</code> is <strong>not</strong> the <strong>result</strong> of a <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.Query\" rel=\"nofollow noreferrer\"><code>Query</code></a>. It is just the declaration of the Query. </p>\n\n<p>If you want to get the result, you need to either call the <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.Query#get\" rel=\"nofollow noreferrer\"><code>get()</code></a> method or <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.Query#on-snapshot\" rel=\"nofollow noreferrer\">set a listener</a>.</p>\n\n<p>In your case, you should use the <code>get()</code> method, which returns a Promise that will resolve with a <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.QuerySnapshot.html\" rel=\"nofollow noreferrer\"><code>QuerySnapshot</code></a>, so you don't need to wrap it in a new Promise.</p>\n\n<p>If you want to use <code>map()</code> on the resulting <code>QuerySnapshot</code>, you need to call its <code>docs</code> property, which returns \"an array of all the documents in the QuerySnapshot\". </p>\n\n<p>The following should do the trick:</p>\n\n<pre><code>    const pro_books_query = db.child(\"Books\").orderByChild(\"avg_rating\").limitToFirst(15);       \n    return pro_books_query.get()\n    .then((list_book) =&gt; {\n        book_id_arr = list_book.docs.map(...);\n        return ...\n    })\n    .catch(err =&gt; \n        console.log(\"Recommendations: Error loading books - \" + err);\n        return null;\n    );\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 12518131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eccda4a5c0a07ade06c52dbdbe597a45?s=128&d=identicon&r=PG&f=1", "display_name": "yoniTBD", "link": "https://stackoverflow.com/users/12518131/yonitbd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 59288106, "answer_count": 1, "score": 0, "last_activity_date": 1576075181, "creation_date": 1576066367, "last_edit_date": 1576069171, "question_id": 59285581, "link": "https://stackoverflow.com/questions/59285581/typescript-and-firebase-cloud-functions-object-is-of-type-unknown", "title": "TypeScript and Firebase cloud functions: object is of type &#39;unknown&#39;", "body": "<p>I am trying to make a Firebase cloud function using TypeScript. I have the following code using a promise:</p>\n\n<pre><code>        const pro_books = new Promise((resolve,reject)=&gt;{\n            resolve(db.child(\"Books\").orderByChild(\"avg_rating\").limitToFirst(15));       \n        })\n        pro_books\n        .catch((error) =&gt; {\n            console.log(\"Recommendations:   Error loading books\");\n\n        })\n        .then((list_book) =&gt; {\n            book_id_arr = (list_book).map((x:string)=&gt;{\n                const book:Book = JSON.parse(x);\n                return book.id;\n            })\n        }).catch(() =&gt; 'obligatory catch');\n</code></pre>\n\n<p>The problem is with the mapping function, in particular for list_book (in the first line inside the try block) and the error I get (during build) is \"Object is of type 'unknown'\".\nlist_book is supposed to be the result from the query I run, so it's probably some sort of array of JSON documents, I tried enforcing a type but I can't figure out exactly how to do it, and which type to use.</p>\n\n<p>EDIT: book_id_arr is previously defined as <code>let book_id_arr:String[] = new Array();</code></p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "npm", "cordova-plugin-fcm"], "owner": {"reputation": 308, "user_id": 11519512, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nYexeVbgx2A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpbCfYh_DiCB8AXbtiCL_D3NnRmA/mo/photo.jpg?sz=128", "display_name": "Deskcode Solution", "link": "https://stackoverflow.com/users/11519512/deskcode-solution"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 328, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576066567, "creation_date": 1576066081, "last_edit_date": 1592644375, "question_id": 59285506, "link": "https://stackoverflow.com/questions/59285506/ionic-4-push-notification-popup-is-not-showing", "title": "Ionic 4 Push notification popup is not showing", "body": "<p>I am trying to integrate FCM Push notifications in my ionic 4 project. What i did is just installed this plugin, followed instructions (<a href=\"https://ionicframework.com/docs/native/fcm#usage\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/native/fcm#usage</a>) and got FCM token. Below is my code to get token.</p>\n<pre><code>this.fcm.getToken().then(token =&gt; {\n    console.log('token', token)\n});\n</code></pre>\n<p>Above code runs completely fine and prints FCM token in console. After that i am sending test notification from firebase console using that token. I am getting notification on device but the notification popup(Like whatsapp or other apps shows when you are using phone and new notification comes in) is not showing. New notification is silently being added in notification list of my phone. A small icon of my app is also showing on statusbar of the device. The issue is notification popup is not showing.</p>\n<p>Below are the plugin versions that are being added in my package.json</p>\n<blockquote>\n<p>&quot;cordova-plugin-fcm-with-dependecy-updated&quot;: &quot;^4.1.1&quot;</p>\n<p>&quot;@ionic-native/fcm&quot;: &quot;^5.18.0&quot;</p>\n</blockquote>\n<p>I have created new project so this is the only plugin that i have installed so far in this project.</p>\n<p>Also tried by sending push using postman using below data(and by modifying those data) but popup is not showing. Just a notification being added in list and small icon showed on statusbar of device.</p>\n<pre><code>{\n    &quot;to&quot;:&quot;mydevicetoken&quot;,\n    &quot;notification&quot;: {\n        &quot;title&quot;: &quot;Tag Test 6&quot;,\n        &quot;body&quot;: &quot;test2&quot;,\n        &quot;sound&quot;:&quot;default&quot;,\n        &quot;click_action&quot;:&quot;FCM_PLUGIN_ACTIVITY&quot;\n    },\n    &quot;data&quot;:{\n        &quot;alertTitle&quot;: &quot;title1&quot;,\n        &quot;alertBody&quot;: &quot;test2&quot;,\n        &quot;leadId&quot;:&quot;5dd6328c61e8f96ea9718419&quot;,\n        &quot;leadName&quot;: &quot;Test Name&quot;\n    }\n}\n</code></pre>\n<p><strong>Notification Popup</strong></p>\n<p><a href=\"https://i.stack.imgur.com/uPJrU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uPJrU.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone knows how to fix it or what i am doing wrong here?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "edited": false, "score": 0, "creation_date": 1576066001, "post_id": 59285446, "comment_id": 104776273, "body": "It returns <b>[object] [Object]</b> Actually returns correct but shows like this"}], "tags": [], "owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "is_accepted": true, "score": 3, "last_activity_date": 1576066275, "last_edit_date": 1576066275, "creation_date": 1576065851, "answer_id": 59285446, "question_id": 59285328, "link": "https://stackoverflow.com/questions/59285328/how-to-extract-special-value-from-json-using-interceptor-in-angular-8/59285446#59285446", "title": "How to extract special value from json using interceptor in Angular 8", "body": "<p>Since your error messages resides on <code>errors</code> property and errors reside on arrays you can try the following code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> if (serverError &amp;&amp; typeof serverError === 'object') {\r\n     const errors = serverError.errors;\r\n     for (const key in errors) {\r\n         if (Array.isArray(errors[key])) {\r\n             modalStateErrors += errors[key].join('\\n');\r\n             }\r\n         }\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 59285446, "answer_count": 1, "score": 0, "last_activity_date": 1576066275, "creation_date": 1576065494, "question_id": 59285328, "link": "https://stackoverflow.com/questions/59285328/how-to-extract-special-value-from-json-using-interceptor-in-angular-8", "title": "How to extract special value from json using interceptor in Angular 8", "body": "<p>I have ErrorInterceptor which is getting error messages from .net core 2.2 backend. For single message it shows message correctly but for multiple messages it fails.I am doing something wrong in my typescript.</p>\n\n<pre><code>My ErrorInterceptor.ts :\n  @Injectable()\n  export class ErrorInterceptor implements HttpInterceptor {\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n        return next.handle(req).pipe(\n            catchError(err =&gt; {\n                if (err instanceof HttpErrorResponse) {\n                    if (err.status === 401) {\n                        return throwError(err.statusText);\n                    }\n                    const applicationError = err.headers.get('Application-Error');\n                    if (applicationError) {\n                        console.error(applicationError);\n                        return throwError(applicationError);\n                    }\n                    const serverError = err.error;\n                    let modalStateErrors = '';\n                    if (serverError &amp;&amp; typeof serverError === 'object') {\n                        for (const key in serverError) {\n                            if (serverError[key]) {\n                                modalStateErrors += serverError[key] + '\\n';\n                            }\n                        }\n                    }\n                    return throwError(modalStateErrors || serverError || 'Server Error');\n                }\n            })\n        )\n    }\n}\n\nexport const ErrorInterceptorProvide = {\n    provide: HTTP_INTERCEPTORS,\n    useClass: ErrorInterceptor,\n    multi: true\n}\n</code></pre>\n\n<p>Example of json file for single error which shows correct message:  </p>\n\n<pre><code> \"Username already exists\"\n</code></pre>\n\n<p>Example of multiple error message which I want to extract errors form that json, not title and anything else. To be precise error messages inside errors. I am using alertify for showing this messages. Json result:</p>\n\n<pre><code>{\"errors\":{\"Password\":[\"password is required\"],\"Username\":[\"username is required\"]},\"title\": \"One or \n more validation errors occurred.\",\"status\":400,\"traceId\":\"0HLRU5MDVJPEI:00000004\"}\n</code></pre>\n\n<p>How to show exact error messages?</p>\n"}, {"tags": ["typescript", "es6-class"], "answers": [{"tags": [], "owner": {"reputation": 2060, "user_id": 6851836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3d881c8af1ff5dafe72b5d2ca3f256?s=128&d=identicon&r=PG", "display_name": "Hsuan Lee", "link": "https://stackoverflow.com/users/6851836/hsuan-lee"}, "is_accepted": true, "score": 2, "last_activity_date": 1576065752, "creation_date": 1576065752, "answer_id": 59285411, "question_id": 59285216, "link": "https://stackoverflow.com/questions/59285216/how-to-get-the-static-property-in-non-static-method-typescript/59285411#59285411", "title": "How to get the static property in non static method - typescript", "body": "<pre class=\"lang-js prettyprint-override\"><code>class Base {\n  protected static link: string;\n\n  public fetch(){\n    const self = Object.getPrototypeOf(this).constructor;\n    return self.link\n  }\n}\n\nclass A extends Base {\n  static link = 'some link'\n}\n\nclass B extends Base {\n  static link = 'other link'\n}\n\nconst b = new B();\nconst a = new A();\nconsole.log(b.fetch()) // other link\nconsole.log(a.fetch()) // some link\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-kwsejh\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/typescript-kwsejh</a></p>\n"}], "owner": {"reputation": 1121, "user_id": 5498631, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kVFxJ.jpg?s=128&g=1", "display_name": "Ramesh Kithsiri HettiArachchi", "link": "https://stackoverflow.com/users/5498631/ramesh-kithsiri-hettiarachchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 59285411, "answer_count": 1, "score": 0, "last_activity_date": 1576065752, "creation_date": 1576065146, "question_id": 59285216, "link": "https://stackoverflow.com/questions/59285216/how-to-get-the-static-property-in-non-static-method-typescript", "title": "How to get the static property in non static method - typescript", "body": "<p>I have similar classes as in the following code.</p>\n\n<pre><code>class Base {\n  protected abstract static link: string;\n\n  public fetch(){\n    // Solution need\n    const link =  self.link;\n\n    // Do other things with link\n  }\n}\n\nclass A extends Base {\n  protected static link = 'some link'\n}\n\nclass B extends Base {\n protected static link = 'other link'\n}\n</code></pre>\n\n<p>And I need to define a common function to fetch data for each model based on the link value. \nI can not change the static <code>link</code> value to a property. Because of some static methods using this link value.</p>\n\n<p>I have tried with <code>Base.link</code>. But I can not access the original value of child class with this method. Thanks in advance!</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1576065214, "post_id": 59285154, "comment_id": 104775908, "body": "Doesn&#39;t make sense - you are passing a component as a prop, however you are rendering an imported one, not passed down one."}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "edited": false, "score": 0, "creation_date": 1576065280, "post_id": 59285154, "comment_id": 104775937, "body": "What exactly is your intention here? Describe what you want to achieve"}, {"owner": {"reputation": 197, "user_id": 3062123, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f22e8387fbbb53de06f097103c55c0d4?s=128&d=identicon&r=PG&f=1", "display_name": "user3062123", "link": "https://stackoverflow.com/users/3062123/user3062123"}, "edited": false, "score": 0, "creation_date": 1576066032, "post_id": 59285154, "comment_id": 104776293, "body": "Have updated, the intention was to be able to render an instance component1 with props as a parent of component 2 from inside component2."}], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 3062123, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f22e8387fbbb53de06f097103c55c0d4?s=128&d=identicon&r=PG&f=1", "display_name": "user3062123", "link": "https://stackoverflow.com/users/3062123/user3062123"}, "edited": false, "score": 0, "creation_date": 1576065779, "post_id": 59285338, "comment_id": 104776172, "body": "My example may be a little vague, it&#39;s because I need the first component to wrap the second component, but I also need to be able to pass properties to the first component while rendering the second component. Think an optional fieldset component that has some radio buttons as it&#39;s children."}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 197, "user_id": 3062123, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f22e8387fbbb53de06f097103c55c0d4?s=128&d=identicon&r=PG&f=1", "display_name": "user3062123", "link": "https://stackoverflow.com/users/3062123/user3062123"}, "edited": false, "score": 0, "creation_date": 1576065913, "post_id": 59285338, "comment_id": 104776239, "body": "@user3062123 Then use few flags that will determine if you should render some additional content inside Component2 or not, personally I would avoid passing down whole components as props."}], "tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": false, "score": 0, "last_activity_date": 1576065531, "creation_date": 1576065531, "answer_id": 59285338, "question_id": 59285154, "link": "https://stackoverflow.com/questions/59285154/rendering-a-component-as-the-parent-of-the-actual-component/59285338#59285338", "title": "Rendering a component as the parent of the actual component", "body": "<p>What is actually happening in your code sample, is that even if you are passing down a whole component (<code>Component1</code>) as a prop, you are <strong>not</strong> rendering it, but using an imported (or accessible inside the scope) <code>Component1</code>.</p>\n\n<p>Anyways - why would you want to pass down a whole component as a prop, even if you can basically just import it?</p>\n\n<p>What I would suggest - use a prop, but not a component, but a <strong>boolean flag</strong> that determines if the component should be wrapped or not.</p>\n\n<pre><code>interface Component2 {\n  shouldBeWrapped?: boolean;\n}\n\nconst Component2 = ({ shouldBeWrapped }: Component2) =&gt; {\n  if (shouldBeWrapped) {\n    return (\n       &lt;Component1 with props given in on component1 property&gt;\n          &lt;div className=\"component2\"&gt;Stuff for component 2&lt;/div&gt;\n       &lt;/Component1&gt;\n    );\n  }\n\n  return (&lt;div className=\"component2\"&gt;Stuff for component 2&lt;/div&gt;);\n}\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 3062123, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f22e8387fbbb53de06f097103c55c0d4?s=128&d=identicon&r=PG&f=1", "display_name": "user3062123", "link": "https://stackoverflow.com/users/3062123/user3062123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576068549, "creation_date": 1576064938, "last_edit_date": 1576068549, "question_id": 59285154, "link": "https://stackoverflow.com/questions/59285154/rendering-a-component-as-the-parent-of-the-actual-component", "title": "Rendering a component as the parent of the actual component", "body": "<p>I have 2 components, I would like the first component to be a render prop in the second component, which will encapsulate the content of the second component if it is defined. I don't quite understand how to write this, and the documentation I find on render props tends to be difficult to understand. Has anyone written a similar implementation?</p>\n\n<p>The general idea i'm after is that you pass in the props for <code>component1</code> in the <code>component1</code> prop for <code>component2</code>, and it renders <code>&lt;Component1&gt;</code> with it's props inside <code>component2</code>.</p>\n\n<p><strong>Rough code example of what i'm trying to do (It isn't meant to work)</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    interface Component1 {\n     id?: string;\n     children: React.ReactNode;\n    }\n\n    const Component1 = (props: Component1) =&gt; {\n      const { children } = props;\n      return (&lt;div className=\"component1\"&gt;{children}&lt;/div&gt;)\n    }\n\n    interface Component2 {\n      component1?: (propsForComponent1) =&gt; &lt;Component1 {...propsForComponent1}&gt;\n    }\n\n    const Component2 = (props: Component2) =&gt; {\n      const {component1} = props;\n      if (component1) {\n        return {component1({id: 'exampleId', children: &lt;div className=\"component2\"&gt;Stuff for component 2&lt;/div&gt;)}}\n      };\n      return (&lt;div className=\"component2\"&gt;Stuff for component 2&lt;/div&gt;);\n\n    }\n</code></pre>\n\n<p>Edit: Have changed the example because the intention is confusing people.</p>\n\n<p>Edit: Will just pass the first component as a prop into the second component for now. I think the general answer is to not try to use a component as two components, and just stick to children.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5451, "user_id": 9765167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hpIB.jpg?s=128&g=1", "display_name": "Ramesh Reddy", "link": "https://stackoverflow.com/users/9765167/ramesh-reddy"}, "edited": false, "score": 0, "creation_date": 1576064155, "post_id": 59284909, "comment_id": 104775402, "body": "the brackets are misplaced inside <code>hundredsCount</code> function"}, {"owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "edited": false, "score": 0, "creation_date": 1576064442, "post_id": 59284909, "comment_id": 104775525, "body": "Invoke your method as follows: <code>hundredsCount(person.marks)</code> or  <code>hundredsCount(person[&quot;marks&quot;])</code>"}, {"owner": {"reputation": 1, "user_id": 12129035, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8BcyNjFuKj4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfk1aV9y4wANolaZOvHC0x9lxohFQ/photo.jpg?sz=128", "display_name": "shree harsha", "link": "https://stackoverflow.com/users/12129035/shree-harsha"}, "reply_to_user": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "edited": false, "score": 0, "creation_date": 1576064612, "post_id": 59284909, "comment_id": 104775608, "body": "@uminder I tried both ways but no luck"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12129035, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8BcyNjFuKj4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfk1aV9y4wANolaZOvHC0x9lxohFQ/photo.jpg?sz=128", "display_name": "shree harsha", "link": "https://stackoverflow.com/users/12129035/shree-harsha"}, "edited": false, "score": 0, "creation_date": 1576135472, "post_id": 59285308, "comment_id": 104802382, "body": "thanks ,one more question while applying this logic (function k) in reducers then I am facing same error."}], "tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 0, "last_activity_date": 1576065824, "last_edit_date": 1576065824, "creation_date": 1576065421, "answer_id": 59285308, "question_id": 59284909, "link": "https://stackoverflow.com/questions/59284909/argument-of-type-string-number-number-is-not-assignable-to-parameter-of/59285308#59285308", "title": "Argument of type &#39;string | number | number[]&#39; is not assignable to parameter of type &#39;number[]&#39;?", "body": "<p>The problem is that you have declared type <code>Person</code> as very wide type which can have any string keys, with three different type of values. It means that when you access any of those properties of the value representing <code>Person</code> TS can't distinguish the type of it from what declaration says - <code>number | number[] | string</code>.</p>\n\n<p>The solution is to have more strict type:</p>\n\n<pre><code>interface Person {\n    name: string,\n    marks: number[],\n    'class': number,\n}\n</code></pre>\n\n<p>After that <code>person['marks']</code> is inferred as <code>number[]</code>.</p>\n\n<hr>\n\n<p>If the type cannot be so specific, lets say there are dynamic keys, but you know that such thing like <code>marks</code> key is there, then we can have such more wide type:</p>\n\n<pre><code>interface Person {\n    [ key : string] : number | number[] | string\n    marks: number[]\n}\n</code></pre>\n\n<hr>\n\n<p>Additionally if you try to access <code>person[k]</code> where <code>k</code> is just a string value, then there need to be used typeguard in order to properly specify the type:</p>\n\n<pre><code>function f(k: string) {\n    if (k === 'marks') {\n        hundredsCount(person[k]); // inside if person[k] is known as number[]\n    }\n    // outside person[k] is known as number | number[] | string\n\n}\n\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12129035, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8BcyNjFuKj4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfk1aV9y4wANolaZOvHC0x9lxohFQ/photo.jpg?sz=128", "display_name": "shree harsha", "link": "https://stackoverflow.com/users/12129035/shree-harsha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 656, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576065824, "creation_date": 1576064000, "last_edit_date": 1576064454, "question_id": 59284909, "link": "https://stackoverflow.com/questions/59284909/argument-of-type-string-number-number-is-not-assignable-to-parameter-of", "title": "Argument of type &#39;string | number | number[]&#39; is not assignable to parameter of type &#39;number[]&#39;?", "body": "<p>I'm trying to store typescript object with key as string and value as number | number [] | string.</p>\n\n<pre><code>interface Person {\n  [ key : string] : number | number[] | string\n}\n\nconst person:Person = {\n\"name\" : \"Harsha\",\n\"marks\" : [ 89, 90 , 100 , 67],\n\"class\" : 8\n}\n\nfunction hundredsCount(marks: number[]) {\n  const count:number = marks.map((each:number) =&gt; each).length\n}\n\nhundredsCount(person[marks])\n</code></pre>\n\n<p>When I call <em>hundredsCount</em> then facing an error : <strong>Argument of type 'string | number | number[]' is not assignable to parameter of type 'number[]'. Type 'string' is not assignable to type 'number[]'.</strong></p>\n"}, {"tags": ["angular", "typescript", "angular8"], "comments": [{"owner": {"reputation": 5451, "user_id": 9765167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hpIB.jpg?s=128&g=1", "display_name": "Ramesh Reddy", "link": "https://stackoverflow.com/users/9765167/ramesh-reddy"}, "edited": false, "score": 0, "creation_date": 1576062597, "post_id": 59284416, "comment_id": 104774560, "body": "why not change the value of role property to an array?"}, {"owner": {"reputation": 1190, "user_id": 6853068, "user_type": "registered", "profile_image": "https://graph.facebook.com/1234074719957575/picture?type=large", "display_name": "Akshay Rana", "link": "https://stackoverflow.com/users/6853068/akshay-rana"}, "edited": false, "score": 0, "creation_date": 1576062626, "post_id": 59284416, "comment_id": 104774573, "body": "Pass an array of string instead of a string. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 12365263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCmXqnv0GuYfXqu-K1-AzC9pumB2TdK0NBQ7tltdw=k-s128", "display_name": "gautam siva", "link": "https://stackoverflow.com/users/12365263/gautam-siva"}, "edited": false, "score": 0, "creation_date": 1576063154, "post_id": 59284560, "comment_id": 104774858, "body": "Actually I&#39;m using select where event option is used to target the values,                   role: any = [&#39;Admin&#39;, &#39;User&#39;]; This is how i have defined and these values needs to be updated to the provided API like above"}, {"owner": {"reputation": 5451, "user_id": 9765167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hpIB.jpg?s=128&g=1", "display_name": "Ramesh Reddy", "link": "https://stackoverflow.com/users/9765167/ramesh-reddy"}, "reply_to_user": {"reputation": 75, "user_id": 12365263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCmXqnv0GuYfXqu-K1-AzC9pumB2TdK0NBQ7tltdw=k-s128", "display_name": "gautam siva", "link": "https://stackoverflow.com/users/12365263/gautam-siva"}, "edited": false, "score": 0, "creation_date": 1576063248, "post_id": 59284560, "comment_id": 104774915, "body": "okay, so you get the role from select dropdown? You mean change the strings to lowercase?"}, {"owner": {"reputation": 75, "user_id": 12365263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCmXqnv0GuYfXqu-K1-AzC9pumB2TdK0NBQ7tltdw=k-s128", "display_name": "gautam siva", "link": "https://stackoverflow.com/users/12365263/gautam-siva"}, "edited": false, "score": 0, "creation_date": 1576063564, "post_id": 59284560, "comment_id": 104775082, "body": "yeah i will get the role from dropdown, But my intention is, as you can see in the second image i need to pass the role element inside square brackets"}, {"owner": {"reputation": 5451, "user_id": 9765167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hpIB.jpg?s=128&g=1", "display_name": "Ramesh Reddy", "link": "https://stackoverflow.com/users/9765167/ramesh-reddy"}, "reply_to_user": {"reputation": 75, "user_id": 12365263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCmXqnv0GuYfXqu-K1-AzC9pumB2TdK0NBQ7tltdw=k-s128", "display_name": "gautam siva", "link": "https://stackoverflow.com/users/12365263/gautam-siva"}, "edited": false, "score": 0, "creation_date": 1576063661, "post_id": 59284560, "comment_id": 104775134, "body": "is that a multi-select dropdown? after getting the value string, push that to an empty array and use that array as a value to the role property before sending."}, {"owner": {"reputation": 75, "user_id": 12365263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCmXqnv0GuYfXqu-K1-AzC9pumB2TdK0NBQ7tltdw=k-s128", "display_name": "gautam siva", "link": "https://stackoverflow.com/users/12365263/gautam-siva"}, "edited": false, "score": 0, "creation_date": 1576064705, "post_id": 59284560, "comment_id": 104775652, "body": "Yes its a multi-select dropdown, Three roles are already defined in the DB and here i need to pass the values accordingly."}, {"owner": {"reputation": 75, "user_id": 12365263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCmXqnv0GuYfXqu-K1-AzC9pumB2TdK0NBQ7tltdw=k-s128", "display_name": "gautam siva", "link": "https://stackoverflow.com/users/12365263/gautam-siva"}, "edited": false, "score": 0, "creation_date": 1576064831, "post_id": 59284560, "comment_id": 104775725, "body": "Consider this as an register page and we are allocating each user a role,Those roles are already assigned in the DB namely admin,user and HR,so here if i am clicking the role user that should define the role user.For that in DB we are accepting the values like [&quot;admin&quot;] only"}], "tags": [], "owner": {"reputation": 5451, "user_id": 9765167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hpIB.jpg?s=128&g=1", "display_name": "Ramesh Reddy", "link": "https://stackoverflow.com/users/9765167/ramesh-reddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1576065084, "last_edit_date": 1576065084, "creation_date": 1576062832, "answer_id": 59284560, "question_id": 59284416, "link": "https://stackoverflow.com/questions/59284416/how-can-i-pass-a-value-inside-to-api-in-angular/59284560#59284560", "title": "How can i pass a value inside [ ] to API in angular?", "body": "<p>Try this:</p>\n\n<pre><code>const obj = {\n  role: 'Admin'\n}\n\nnewObj = {...obj, role: [obj.role]}\n\nconsole.log(newObj)\n</code></pre>\n\n<p><strong>Update</strong> </p>\n\n<p>when the user selects a value in your dropdown you'll have a function to receive that value, should be something like this:</p>\n\n<pre><code>roleDropdownHandler(event) {\n const selectedRole = event.target.value;\n // Now to convert it into an array \n const roleArray = [selectedRole];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92, "user_id": 10268779, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oWY2KH2rI-k/AAAAAAAAAAI/AAAAAAAAALE/xysKXZ2CRCo/photo.jpg?sz=128", "display_name": "akash varshney", "link": "https://stackoverflow.com/users/10268779/akash-varshney"}, "is_accepted": false, "score": 0, "last_activity_date": 1576065470, "last_edit_date": 1576065470, "creation_date": 1576063943, "answer_id": 59284897, "question_id": 59284416, "link": "https://stackoverflow.com/questions/59284416/how-can-i-pass-a-value-inside-to-api-in-angular/59284897#59284897", "title": "How can i pass a value inside [ ] to API in angular?", "body": "<p>Just take an empty array and push selected value in that array. After that you can easily use that value in your payload.</p>\n\n<pre><code>if (event.target.value) {\n    const role = [];\n    role.push(event.target.value);\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 12365263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCmXqnv0GuYfXqu-K1-AzC9pumB2TdK0NBQ7tltdw=k-s128", "display_name": "gautam siva", "link": "https://stackoverflow.com/users/12365263/gautam-siva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576065470, "creation_date": 1576062387, "last_edit_date": 1592644375, "question_id": 59284416, "link": "https://stackoverflow.com/questions/59284416/how-can-i-pass-a-value-inside-to-api-in-angular", "title": "How can i pass a value inside [ ] to API in angular?", "body": "<p><a href=\"https://i.stack.imgur.com/dBCtZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dBCtZ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/r3aDD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3aDD.png\" alt=\"enter image description here\" /></a></p>\n<p>The First Image shows the output that i am getting and the second image is the output what i need.</p>\n<p>i need the &quot;admin&quot; or whatever role i am using inside the square brackets like in the second picture.\nHow can i do that in angular?\nNB: i am trying registration page using POST method.Thanks in Advance</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1576061797, "creation_date": 1576061797, "answer_id": 59284252, "question_id": 59284140, "link": "https://stackoverflow.com/questions/59284140/how-to-extends-3rd-party-typescript-interface-from-a-library/59284252#59284252", "title": "How to extends 3rd party typescript interface from a library?", "body": "<p>Express declares a global namespace with interfaces that are destined to be augmented.</p>\n\n<pre><code>import express from 'express'\nimport { Server } from \"http\";\n\ndeclare global {\n  namespace Express {\n    interface Application { \n      __listener: Server\n    }\n  }\n}\nconst app = express();\napp.__listener = app.listen();\n</code></pre>\n"}], "owner": {"reputation": 917, "user_id": 4728165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8EcIK.png?s=128&g=1", "display_name": "otong", "link": "https://stackoverflow.com/users/4728165/otong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 59284252, "answer_count": 1, "score": 1, "last_activity_date": 1576061797, "creation_date": 1576061444, "question_id": 59284140, "link": "https://stackoverflow.com/questions/59284140/how-to-extends-3rd-party-typescript-interface-from-a-library", "title": "How to extends 3rd party typescript interface from a library?", "body": "<p>Say I want to add new attribute to an express instance in typescript. For example, I usually do something like this in express application for testing purpose.</p>\n\n<pre><code>app = express();\napp.__listener = app.listen();\n</code></pre>\n\n<p>But in typescript I need to define an interface that is like express instance but have <code>__listener</code> field.  </p>\n\n<p>I read some article <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">here</a>. we can do something like: </p>\n\n<pre><code>interface Document {\n    createElement(tagName: any): Element;\n}\ninterface Document {\n    createElement(tagName: \"div\"): HTMLDivElement;\n    createElement(tagName: \"span\"): HTMLSpanElement;\n}\n</code></pre>\n\n<p>but I'm lost at importing express interface then merge it with my own added field.\nIs this case actually possible? </p>\n"}, {"tags": ["angular", "typescript", "ngrx", "rxjs6"], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 2968851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0a6717bf9b6c67007f693532f23c94d?s=128&d=identicon&r=PG&f=1", "display_name": "nks", "link": "https://stackoverflow.com/users/2968851/nks"}, "edited": false, "score": 0, "creation_date": 1576064608, "post_id": 59284708, "comment_id": 104775606, "body": "Hi @kaloyan, Can you please provide some 2 liner information about tap operator, where we need to use. actually tap I never used before. thanks in advance."}, {"owner": {"reputation": 498, "user_id": 5603476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a17d70dd197ff5669590a06c4eba5df?s=128&d=identicon&r=PG&f=1", "display_name": "Kaloyan Dimitrov", "link": "https://stackoverflow.com/users/5603476/kaloyan-dimitrov"}, "reply_to_user": {"reputation": 190, "user_id": 2968851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0a6717bf9b6c67007f693532f23c94d?s=128&d=identicon&r=PG&f=1", "display_name": "nks", "link": "https://stackoverflow.com/users/2968851/nks"}, "edited": false, "score": 1, "creation_date": 1576064945, "post_id": 59284708, "comment_id": 104775773, "body": "@NeerajShrimali compared to map, tap just does some operations without modifying the data that the observable produces. If you don&#39;t need to transform the data you can use tap. If you use map, do some operations and just return the input without transforming it, it is like you have used tap. Also in the pipe to the movieService it could be a tap instead of map, since the result of the map is not used."}, {"owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "edited": false, "score": 0, "creation_date": 1576075352, "post_id": 59284708, "comment_id": 104781532, "body": "I don&#39;t find this is a good answer because I find it missleading that there&#39;s a dispatch:false but, the effect does dispatch actions via the store.dispatch function. Also, it shouldn&#39;t be needed to call subscribe manually, this could lead to memory leaks."}, {"owner": {"reputation": 498, "user_id": 5603476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a17d70dd197ff5669590a06c4eba5df?s=128&d=identicon&r=PG&f=1", "display_name": "Kaloyan Dimitrov", "link": "https://stackoverflow.com/users/5603476/kaloyan-dimitrov"}, "reply_to_user": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "edited": false, "score": 0, "creation_date": 1576081174, "post_id": 59284708, "comment_id": 104784937, "body": "@timdeschryver I am assuming that the service is a wrapper for httpClient and it is doing a GET request. In that case if you don&#39;t subscribe the request won&#39;t get executed. The {dispatch: false} while actually dispatching is a bit confusing I agree. But if you are trying to dispatch multiple actions you will need to do it manually anyways."}, {"owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "edited": false, "score": 0, "creation_date": 1576081340, "post_id": 59284708, "comment_id": 104785023, "body": "I&#39;n not convinced, see <a href=\"https://stackoverflow.com/a/59288225/10112124\">stackoverflow.com/a/59288225/10112124</a>"}], "tags": [], "owner": {"reputation": 498, "user_id": 5603476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a17d70dd197ff5669590a06c4eba5df?s=128&d=identicon&r=PG&f=1", "display_name": "Kaloyan Dimitrov", "link": "https://stackoverflow.com/users/5603476/kaloyan-dimitrov"}, "is_accepted": true, "score": 1, "last_activity_date": 1576063755, "last_edit_date": 1576063755, "creation_date": 1576063351, "answer_id": 59284708, "question_id": 59284059, "link": "https://stackoverflow.com/questions/59284059/ngrx-how-to-call-same-service-multiple-time-with-different-payload-from-inside/59284708#59284708", "title": "NGRX: How to call same service multiple time with different payload from inside effect", "body": "<p>Just do a for each on your array of ids and call your service in that loop, creating and subscribing to the new observables and dispatching actions when they are done.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    loadMovies$ = createEffect(() =&gt;\n      this.actions$.pipe(\n        ofType('[Movies Page] Load Movies'),\n        tap((action) =&gt; {\n         action.payload.forEach(id =&gt; \n            this.movieService.getMovie(id).pipe(\n                map(movie =&gt; this.store.dispatch(new fromStore.GetMovieSuccess(movie)),\n                catchError(() =&gt; this.store.dispatch(new fromStore.GetMovieFail(id)))\n              .subscribe();\n        } \n       )\n     ), {dispatch: false}\n    );\n</code></pre>\n\n<p>I personally almost always use {dispatch: false} for my effects and dispatch the events manually as I don't like always having them at the end of the effect as well as often having some other issues with the syntax.</p>\n"}, {"tags": [], "owner": {"reputation": 324, "user_id": 10403022, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NAyZtv8K_wc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP3VjFy8qnUJuuENp5gGQG2gO1G_g/mo/photo.jpg?sz=128", "display_name": "Sam", "link": "https://stackoverflow.com/users/10403022/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1576069496, "last_edit_date": 1576069496, "creation_date": 1576069176, "answer_id": 59286407, "question_id": 59284059, "link": "https://stackoverflow.com/questions/59284059/ngrx-how-to-call-same-service-multiple-time-with-different-payload-from-inside/59286407#59286407", "title": "NGRX: How to call same service multiple time with different payload from inside effect", "body": "<p>Instead of doing <code>map(movies =&gt; ({ type: '[Movies API] Movies Loaded Success', payload: movies })),</code> you need to return the action through which you're going to update the store. </p>\n\n<p>Consider I want to update my store through the method update() which is in action and the reducer(where i'm updating the store data), I would do like:</p>\n\n<pre><code>loadMovies$ = this.actions$.pipe(\n    ofType('[Movies Page] Load Movies'),\n\n    switchMap((action) =&gt; this.moviesService.getAll()\n      .pipe(\n        map(movies =&gt; new Actions.update()),\n        catchError(() =&gt; of({ type: '[Movies API] Movies Loaded Error' }))\n      )\n    )\n  );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "is_accepted": false, "score": 1, "last_activity_date": 1614853884, "last_edit_date": 1614853884, "creation_date": 1576075280, "answer_id": 59288225, "question_id": 59284059, "link": "https://stackoverflow.com/questions/59284059/ngrx-how-to-call-same-service-multiple-time-with-different-payload-from-inside/59288225#59288225", "title": "NGRX: How to call same service multiple time with different payload from inside effect", "body": "<p>You can use the <a href=\"https://rxjs-dev.firebaseapp.com/api/index/function/merge\" rel=\"nofollow noreferrer\"><code>merge</code></a> for this.</p>\n<pre><code>loadMovies$ = createEffect(() =&gt;\n    this.actions$.pipe(\n    ofType('[Movies Page] Load Movies'),\n    concatMap((action) =&gt; {\n        return merge(\n            ...action.payload.map(id =&gt; this.movieService.getMovie(id).pipe(\n                map(movie =&gt; new fromStore.GetMovieSuccess(movie)),\n                catchError(() =&gt; of(new fromStore.GetMovieFail(id)))\n            ))\n        )\n    })\n);\n</code></pre>\n"}], "owner": {"reputation": 190, "user_id": 2968851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0a6717bf9b6c67007f693532f23c94d?s=128&d=identicon&r=PG&f=1", "display_name": "nks", "link": "https://stackoverflow.com/users/2968851/nks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1811, "favorite_count": 1, "accepted_answer_id": 59284708, "answer_count": 3, "score": 2, "last_activity_date": 1614853884, "creation_date": 1576061203, "last_edit_date": 1576062927, "question_id": 59284059, "link": "https://stackoverflow.com/questions/59284059/ngrx-how-to-call-same-service-multiple-time-with-different-payload-from-inside", "title": "NGRX: How to call same service multiple time with different payload from inside effect", "body": "<p><strong>I don't want to use forkJoin inside effect</strong></p>\n\n<p>In my effect, I am getting one array of id's and with the help of those ids, I want to call service multiple times. \nand every time when I get a response I want to dispatch an action to update my store</p>\n\n<pre><code>@Injectable()\nexport class MovieEffects {\n  loadMovies$ = createEffect(() =&gt;\n    this.actions$.pipe(\n      ofType('[Movies Page] Load Movies'),\n\n     //here i am getting one array object via action,  e.g. = [{id: 1},{id: 2},{id: 3},{id: 4} ]\n     //and here i want to call same service 4 time as per array length\n     // every time when get response i want to dispatch one action with response payload\n\n      mergeMap((action) =&gt; this.moviesService.getAll()\n        .pipe(\n          map(movies =&gt; ({ type: '[Movies API] Movies Loaded Success', payload: movies })),\n          catchError(() =&gt; of({ type: '[Movies API] Movies Loaded Error' }))\n        )\n      )\n    )\n  );\n\n  constructor(\n    private actions$: Actions,\n    private moviesService: MoviesService\n  ) {}\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript2.0"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1576061426, "creation_date": 1576061426, "answer_id": 59284136, "question_id": 59284035, "link": "https://stackoverflow.com/questions/59284035/typescript-require-property-2-if-property-1-is-passed/59284136#59284136", "title": "Typescript. Require property 2 if property 1 is passed", "body": "<p>You can use a discriminated union type in an intersection with the common properties of the component:</p>\n\n<pre><code>type IProps = {\n  label?: string;\n  placeholder?: string;\n} &amp; ({\n  withCounter?: false;\n  maxCounter?: undefined;\n} | {\n  withCounter: true;\n  maxCounter: number;\n})\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?jsx=2&amp;ssl=12&amp;ssc=3&amp;pln=3&amp;pc=1#code/JYWwDg9gTgLgBAJQKYEMDG8BmUIjgcilQ3wFgAoCmATzCTgEkAFHMAZzgF44BvCuOABsUAIySCA-AC44bGFGAA7AOYBufnDDC0SABYRBAEyRRps+UrUUAvnABkcABR9yAgO7AYugMIQAroowJmaYKIJsSOqucCAoAB6+AUGmMgHGmEpIhlG2AD68Gh5eiYEmMvJ+kRqxCf6lUDKKfiBiUDkAlBQUmAEYwBCKcN5+cri+4ANIgY5gMsysbO0F0UQwflCDADyGwABuAHybAPQ7BzZd5IJI8BBcTkuc+3Cbw6Mg45CKU-DCYoKcACIkHEUOArgC4EcnkcjnAAPIAaQuV3gJigd0cDyeLxGMDGuE+3yEonEgOBoK0SAhRR8dWSnB4FSQtihkNhAFEEAg4Qg4IpbmBWCYaDF4iVksjrnAIABGDFY56vPHvAmTQLEv5kkFgqlwGnikwMpm2GoGqAMmUABktLOhsMRktRUCgACZ5VxsUr8RMvurfqSgdrKRDTXTDTwrTbIXa4Jzubz+ZohbBqHrPLSkiYgA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}], "owner": {"reputation": 23, "user_id": 8543018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f1cf6db62e2dab3ab771321d9d6a7f?s=128&d=identicon&r=PG&f=1", "display_name": "Hubert Kuzdak", "link": "https://stackoverflow.com/users/8543018/hubert-kuzdak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 59284136, "answer_count": 1, "score": 0, "last_activity_date": 1576061426, "creation_date": 1576061142, "question_id": 59284035, "link": "https://stackoverflow.com/questions/59284035/typescript-require-property-2-if-property-1-is-passed", "title": "Typescript. Require property 2 if property 1 is passed", "body": "<p>I have interface like: </p>\n\n<pre><code>interface IProps {\n  label?: string;\n  placeholder?: string;\n  withCounter?: boolean;\n  maxCounter?: number;\n}\n</code></pre>\n\n<p>How to tell typescript that if someone pass <strong>withCounter</strong> needs also pass <strong>maxCounter</strong> to my React component.</p>\n\n<p>Example what I want to achieve:</p>\n\n<pre><code>&lt;CustomComponent label=\"example\" /&gt; // OK\n\n&lt;CustomComponent label=\"example\" withCounter={true} /&gt; // ERROR no property maxCounter\n\n&lt;CustomComponent label=\"example\" withCounter={true} maxCounter={100}/&gt; // OK\n\n&lt;CustomComponent label=\"example\" maxCounter={100}/&gt; // ERROR no property withCounter\n</code></pre>\n"}, {"tags": ["php", "angular", "typescript", "symfony"], "comments": [{"owner": {"reputation": 1177, "user_id": 5224479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GoZsA.jpg?s=128&g=1", "display_name": "Mcsky", "link": "https://stackoverflow.com/users/5224479/mcsky"}, "edited": false, "score": 0, "creation_date": 1576063527, "post_id": 59283938, "comment_id": 104775070, "body": "The content-type: <code>form-data</code> is <a href=\"https://stackoverflow.com/questions/14962592/whats-content-type-value-within-a-http-request-when-uploading-content\">the classic</a> and recommended header for files upload. What have you got in the <code>Request&#47;Response</code> tab of your profiler ? Do you see your request informations there?"}, {"owner": {"reputation": 11, "user_id": 12360553, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8PEKs41wCJY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reXaUd9tDzXg36LxwJxL0rwj-feqA/photo.jpg?sz=128", "display_name": "Jason Chadwick", "link": "https://stackoverflow.com/users/12360553/jason-chadwick"}, "reply_to_user": {"reputation": 1177, "user_id": 5224479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GoZsA.jpg?s=128&g=1", "display_name": "Mcsky", "link": "https://stackoverflow.com/users/5224479/mcsky"}, "edited": false, "score": 0, "creation_date": 1576063700, "post_id": 59283938, "comment_id": 104775157, "body": "i can see my data in the Request Payload, it just has this Webkitformboundary in there. the response is ` {&quot;other&quot;:[],&quot;files&quot;:null} `"}, {"owner": {"reputation": 1177, "user_id": 5224479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GoZsA.jpg?s=128&g=1", "display_name": "Mcsky", "link": "https://stackoverflow.com/users/5224479/mcsky"}, "edited": false, "score": 0, "creation_date": 1576063823, "post_id": 59283938, "comment_id": 104775220, "body": "what is the size of the file you are uploading ?"}, {"owner": {"reputation": 11, "user_id": 12360553, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8PEKs41wCJY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reXaUd9tDzXg36LxwJxL0rwj-feqA/photo.jpg?sz=128", "display_name": "Jason Chadwick", "link": "https://stackoverflow.com/users/12360553/jason-chadwick"}, "reply_to_user": {"reputation": 1177, "user_id": 5224479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GoZsA.jpg?s=128&g=1", "display_name": "Mcsky", "link": "https://stackoverflow.com/users/5224479/mcsky"}, "edited": false, "score": 0, "creation_date": 1576063928, "post_id": 59283938, "comment_id": 104775282, "body": "from 400kb to 3mb"}], "owner": {"reputation": 11, "user_id": 12360553, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8PEKs41wCJY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reXaUd9tDzXg36LxwJxL0rwj-feqA/photo.jpg?sz=128", "display_name": "Jason Chadwick", "link": "https://stackoverflow.com/users/12360553/jason-chadwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576064195, "creation_date": 1576060903, "last_edit_date": 1576064195, "question_id": 59283938, "link": "https://stackoverflow.com/questions/59283938/unable-to-retrieve-posted-form-and-file-data-from-angular-to-symfony", "title": "Unable To Retrieve Posted Form and File Data From Angular To Symfony", "body": "<p>I am trying to do a basic image upload using angular and symfony.</p>\n\n<p>we have our basic form</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"form-group\"&gt;\r\n  &lt;input type=\"file\" #fileUpload (change)=\"selectFile()\"/&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Its typescript counterpart......</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';\r\nimport {ApiService} from \"../../services/api.service\";\r\nimport {ApiResponseInterface} from \"../../interfaces/apiResponse.interface\";\r\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-tester',\r\n  templateUrl: './tester.component.html',\r\n  styleUrls: ['./tester.component.scss']\r\n})\r\nexport class TesterComponent implements OnInit {\r\n\r\n  @ViewChild(\"fileUpload\",{static: false}) fileUpload: ElementRef;\r\n\r\n  constructor(private api: ApiService, private http: HttpClient) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  selectFile(){\r\n\r\n    console.log(this.fileUpload.nativeElement.files)\r\n\r\n\r\n    const fileList: FileList = this.fileUpload.nativeElement.files;\r\n\r\n    const theFile: File = fileList[0];\r\n\r\n\r\n    let formData = new FormData();\r\n    formData.append('file',theFile,theFile.name);\r\n    formData.append('something','test');\r\n\r\n\r\n\r\n    this.http.post('http://api.admireme.vip.local:8080/tester',formData).subscribe((resp:any)=&gt;{\r\n\r\n    });\r\n\r\n\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Which sends the form data to our TestController </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;?php\r\n\r\nnamespace App\\Controller;\r\n\r\n\r\nuse Symfony\\Component\\HttpFoundation\\JsonResponse;\r\nuse Symfony\\Component\\HttpFoundation\\Request;\r\nuse Symfony\\Component\\Routing\\Annotation\\Route;\r\n\r\n\r\n/**\r\n * Class TestController\r\n * @package App\\Controller\r\n */\r\nclass TestController extends BaseController{\r\n\r\n      /**\r\n       * @Route(\"/tester\", name=\"testerRoute\")\r\n       * @param Request $request\r\n       * @return JsonResponse\r\n       */\r\n      public function tester(Request $request) : JsonResponse{\r\n\r\n\r\n            return $this-&gt;json([\r\n                'other'=&gt;$request-&gt;get('something'),\r\n                'files'=&gt;$request-&gt;files-&gt;get('file')\r\n            ]);\r\n\r\n      }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So we can select a file all well and good. but when Im trying to grab the data, like i've done a hundred times before its unable to grab the data.</p>\n\n<p>however it IS sending it in a way that im unfamiliar with.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>REQUEST PAYLOAD---&gt;\r\n\r\n------WebKitFormBoundary3i9AnjOpWTHJspwt\r\nContent-Disposition: form-data; name=\"file\"; filename=\"DSC_0359.jpg\"\r\nContent-Type: image/jpeg\r\n\r\n\r\n------WebKitFormBoundary3i9AnjOpWTHJspwt\r\nContent-Disposition: form-data; name=\"something\"\r\n\r\ntest\r\n------WebKitFormBoundary3i9AnjOpWTHJspwt--</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and the response is....</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\"other\":null,\"files\":null}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What can I do to make this data usable? I've not seen this before</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1576059119, "post_id": 59283252, "comment_id": 104772599, "body": "Declare them in separate classes?"}, {"owner": {"reputation": 1125, "user_id": 12130501, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UKDZ5pOqWow/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaXx5P-3Kgn-EBgT2_TibEvDndQA/photo.jpg?sz=128", "display_name": "Mridul", "link": "https://stackoverflow.com/users/12130501/mridul"}, "edited": false, "score": 0, "creation_date": 1576059820, "post_id": 59283252, "comment_id": 104772968, "body": "You can not under the same class. that&#39;s the basic rule :)"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9981997, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u2ZEcTWwi-g/AAAAAAAAAAI/AAAAAAAAAAo/Zh1LmHwlqoI/photo.jpg?sz=128", "display_name": "waseem isaac", "link": "https://stackoverflow.com/users/9981997/waseem-isaac"}, "edited": false, "score": 0, "creation_date": 1576060919, "post_id": 59283785, "comment_id": 104773606, "body": "I thought that there is a way to set the source of that variable then put an alias &amp; path beside it ."}], "tags": [], "owner": {"reputation": 71, "user_id": 11895129, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TSuCFTtYBz4/AAAAAAAAAAI/AAAAAAAALpI/eZG_tYcHD7I/photo.jpg?sz=128", "display_name": "Periyasamy Shanmugam", "link": "https://stackoverflow.com/users/11895129/periyasamy-shanmugam"}, "is_accepted": false, "score": 1, "last_activity_date": 1576060485, "creation_date": 1576060485, "answer_id": 59283785, "question_id": 59283252, "link": "https://stackoverflow.com/questions/59283252/how-can-i-2-global-variables-with-the-same-name-in-angular/59283785#59283785", "title": "How can I 2 global variables with the same name in angular", "body": "<p>You cannot have variables having same name in the same scope. Consider if it was possible then how would the compiler determine which one you meant. So, It's not possible.</p>\n"}], "owner": {"reputation": 31, "user_id": 9981997, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u2ZEcTWwi-g/AAAAAAAAAAI/AAAAAAAAAAo/Zh1LmHwlqoI/photo.jpg?sz=128", "display_name": "waseem isaac", "link": "https://stackoverflow.com/users/9981997/waseem-isaac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576060485, "creation_date": 1576058751, "question_id": 59283252, "link": "https://stackoverflow.com/questions/59283252/how-can-i-2-global-variables-with-the-same-name-in-angular", "title": "How can I 2 global variables with the same name in angular", "body": "<p>I've 2 global variables came from 2 different third-party files , the 2 variables have the same name.\nI used to use it like : </p>\n\n<pre><code>declare var someVar;\n</code></pre>\n\n<p>But what if I want to use the 2 variables ? </p>\n\n<pre><code>declare var someVar;\ndeclare var someVar;\n</code></pre>\n\n<p>How can I do that ?</p>\n"}, {"tags": ["typescript", "validation", "casting", "set", "joi"], "answers": [{"tags": [], "owner": {"reputation": 441, "user_id": 7919572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7180a29a1e3cbca63bc706c4c7414a6?s=128&d=identicon&r=PG&f=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/7919572/marc"}, "is_accepted": true, "score": 0, "last_activity_date": 1576068919, "creation_date": 1576068919, "answer_id": 59286334, "question_id": 59283236, "link": "https://stackoverflow.com/questions/59283236/joi-validating-a-set/59286334#59286334", "title": "Joi validating a Set?", "body": "<p>Cast exists in version 16.1.8 of @hapi/joi, however I was using the package joi which does not include cast. Hence why it was not working.</p>\n"}], "owner": {"reputation": 441, "user_id": 7919572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7180a29a1e3cbca63bc706c4c7414a6?s=128&d=identicon&r=PG&f=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/7919572/marc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 59286334, "answer_count": 1, "score": 0, "last_activity_date": 1576068919, "creation_date": 1576058695, "last_edit_date": 1576067593, "question_id": 59283236, "link": "https://stackoverflow.com/questions/59283236/joi-validating-a-set", "title": "Joi validating a Set?", "body": "<p>In typescript I have a set of allowed platforms, represented as a set of a union:</p>\n\n<pre><code>type Platform = 'WEB' | 'APP' | 'MAIL'\ntype AllowedPlatforms = Set&lt;Platform&gt;\n</code></pre>\n\n<p>I want to validate an array and cast it to a set using Joi:</p>\n\n<pre><code>const validPlatforms = [Joi.string().valid('WEB'), Joi.string().valid('APP'), Joi.string().valid('MAIL')]\n\nconst validatePlatform = Joi.array().items(validPlatforms)\ne\n</code></pre>\n\n<p>Now, the validator should check that it's an array where each item is one of three values. According to the documentation there should be a cast function so that I can cast it to a set afterwards but I can not figure how to use it (<a href=\"https://hapi.dev/family/joi/?v=16.1.8#anycastto\" rel=\"nofollow noreferrer\">https://hapi.dev/family/joi/?v=16.1.8#anycastto</a>). I tried <code>Joi.array().cast('set')</code> but Typescript complains that cast does not exist. </p>\n"}, {"tags": ["json", "angular", "typescript", "button"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 12428456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6391809455db0acce62206ed7c1d70?s=128&d=identicon&r=PG&f=1", "display_name": "pattplatt", "link": "https://stackoverflow.com/users/12428456/pattplatt"}, "edited": false, "score": 0, "creation_date": 1576075679, "post_id": 59283932, "comment_id": 104781709, "body": "Thank you! It almost works! I just have the problem that just the first url gets a button and the rest stays the same. Do you know why that could be?  Also what is the &quot;propName&quot; property supposed to do?"}, {"owner": {"reputation": 1195, "user_id": 4210336, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf42cc0e54b012c02eb16ba7317bebb1?s=128&d=identicon&r=PG&f=1", "display_name": "Ininiv", "link": "https://stackoverflow.com/users/4210336/ininiv"}, "reply_to_user": {"reputation": 43, "user_id": 12428456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6391809455db0acce62206ed7c1d70?s=128&d=identicon&r=PG&f=1", "display_name": "pattplatt", "link": "https://stackoverflow.com/users/12428456/pattplatt"}, "edited": false, "score": 0, "creation_date": 1576085436, "post_id": 59283932, "comment_id": 104787056, "body": "filterString, propName is another optional aruguments, which is not required for this transform. You had to modify the regex to apply the button on all occurence of the url ((/url:\\/\\//g). Updated the answer"}], "tags": [], "owner": {"reputation": 1195, "user_id": 4210336, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf42cc0e54b012c02eb16ba7317bebb1?s=128&d=identicon&r=PG&f=1", "display_name": "Ininiv", "link": "https://stackoverflow.com/users/4210336/ininiv"}, "is_accepted": true, "score": 2, "last_activity_date": 1576085534, "last_edit_date": 1576085534, "creation_date": 1576060892, "answer_id": 59283932, "question_id": 59283142, "link": "https://stackoverflow.com/questions/59283142/how-do-i-write-a-function-that-detects-and-replaces-urls-in-a-loaded-json/59283932#59283932", "title": "How do i write a function that detects and replaces urls in a loaded JSON?", "body": "<p>You can create a pipe to transform the loadedJSON like below and [innerHTML] property binding</p>\n\n<pre><code>import { PipeTransform, Pipe } from \"@angular/core\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\n\n@Pipe({\n  name: \"transformURL\",\n  pure: false\n})\nexport class TransformURLPipe implements PipeTransform {\n  constructor(protected sanitizer: DomSanitizer) { }\n\n  transform(value: any): any {\n    if (value.length === 0) {\n      return value;\n    }\n    return this.sanitizer.bypassSecurityTrustHtml(\n      value.replace(/url:\\/\\//g, \"&lt;button type='button'&gt;Test&lt;/button&gt;\")\n    );\n  }\n}\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;p [innerHTML]=\" loadedJSON | transformURL\"&gt;&lt;/p&gt;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 12428456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6391809455db0acce62206ed7c1d70?s=128&d=identicon&r=PG&f=1", "display_name": "pattplatt", "link": "https://stackoverflow.com/users/12428456/pattplatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "accepted_answer_id": 59283932, "answer_count": 1, "score": 0, "last_activity_date": 1576745626, "creation_date": 1576058389, "last_edit_date": 1576745626, "question_id": 59283142, "link": "https://stackoverflow.com/questions/59283142/how-do-i-write-a-function-that-detects-and-replaces-urls-in-a-loaded-json", "title": "How do i write a function that detects and replaces urls in a loaded JSON?", "body": "<p>Im trying to write a function that replaces all urls in a Json with a button that leads to another function. The loaded Json with the buttons is shown on my website then. </p>\n\n<p>In my component.ts the part where a Json is detected looks like that:</p>\n\n<pre><code>} else {\n  this.downloading = false;\n  this.container = &lt;aContainer&gt;json;\n  this.loadedJson = JSON.stringify(json, null, 2);\n</code></pre>\n\n<p>And in the component.html the JSON gets shown on my website:</p>\n\n<pre><code>h3&gt;Unrecognized JSON data:&lt;/h3&gt;\n&lt;pre&gt;{{loadedJson}}&lt;/pre&gt;\n</code></pre>\n\n<p></p>\n\n<p>I wanted to try it with a regExp like that to replace everything with the string: url:// </p>\n\n<pre><code>let regExp = /url:\\/\\//\n</code></pre>\n\n<p>Does anybody know how i can implement code that recognizes the urls and than replaces them with a button that leads to antoher function?</p>\n\n<p>Thank You!</p>\n"}, {"tags": ["arrays", "typescript"], "comments": [{"owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "edited": false, "score": 0, "creation_date": 1576058111, "post_id": 59282902, "comment_id": 104772035, "body": "You may find an answer here: <a href=\"https://stackoverflow.com/a/29759699/2358409\">stackoverflow.com/a/29759699/2358409</a>"}], "answers": [{"comments": [{"owner": {"reputation": 242, "user_id": 11169738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k5yxisfBe7c/AAAAAAAAAAI/AAAAAAAAAAc/3cX3JV8n9I0/photo.jpg?sz=128", "display_name": "Niels Ferguson", "link": "https://stackoverflow.com/users/11169738/niels-ferguson"}, "edited": false, "score": 0, "creation_date": 1576058785, "post_id": 59283119, "comment_id": 104772411, "body": "I tried this, but it gives me the following error: &#39;&#39;TS2568: Type &#39;Set&lt;{}&gt;&#39; is not an array type. Use compiler option &#39;--downlevelIteration&#39; to allow iterating of iterators.&#39;&#39; Adding <b>&quot;downlevelIteration&quot;: true</b> to my tsconfig does not solve the problem. So I tried to use <b>Array.from(new Set(origionalArray)</b>. Then the error disapears, but I still get the origionalArray instead of the reduced Array."}, {"owner": {"reputation": 174, "user_id": 10674590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7efc8fddb217fca3914e5faec31d33f9?s=128&d=identicon&r=PG&f=1", "display_name": "Naseer", "link": "https://stackoverflow.com/users/10674590/naseer"}, "reply_to_user": {"reputation": 242, "user_id": 11169738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k5yxisfBe7c/AAAAAAAAAAI/AAAAAAAAAAc/3cX3JV8n9I0/photo.jpg?sz=128", "display_name": "Niels Ferguson", "link": "https://stackoverflow.com/users/11169738/niels-ferguson"}, "edited": false, "score": 0, "creation_date": 1576059809, "post_id": 59283119, "comment_id": 104772957, "body": "ok, previous code works only for strings. i&#39;ve update the answer for object level checks."}, {"owner": {"reputation": 174, "user_id": 10674590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7efc8fddb217fca3914e5faec31d33f9?s=128&d=identicon&r=PG&f=1", "display_name": "Naseer", "link": "https://stackoverflow.com/users/10674590/naseer"}, "reply_to_user": {"reputation": 242, "user_id": 11169738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k5yxisfBe7c/AAAAAAAAAAI/AAAAAAAAAAc/3cX3JV8n9I0/photo.jpg?sz=128", "display_name": "Niels Ferguson", "link": "https://stackoverflow.com/users/11169738/niels-ferguson"}, "edited": false, "score": 0, "creation_date": 1576059927, "post_id": 59283119, "comment_id": 104773031, "body": "arr is your original array which is being filtered to remove duplicate entries."}, {"owner": {"reputation": 242, "user_id": 11169738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k5yxisfBe7c/AAAAAAAAAAI/AAAAAAAAAAc/3cX3JV8n9I0/photo.jpg?sz=128", "display_name": "Niels Ferguson", "link": "https://stackoverflow.com/users/11169738/niels-ferguson"}, "edited": false, "score": 0, "creation_date": 1576060556, "post_id": 59283119, "comment_id": 104773378, "body": "Thanks! Works perfect. I accepted this as the correct awnser :)"}, {"owner": {"reputation": 174, "user_id": 10674590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7efc8fddb217fca3914e5faec31d33f9?s=128&d=identicon&r=PG&f=1", "display_name": "Naseer", "link": "https://stackoverflow.com/users/10674590/naseer"}, "reply_to_user": {"reputation": 242, "user_id": 11169738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k5yxisfBe7c/AAAAAAAAAAI/AAAAAAAAAAc/3cX3JV8n9I0/photo.jpg?sz=128", "display_name": "Niels Ferguson", "link": "https://stackoverflow.com/users/11169738/niels-ferguson"}, "edited": false, "score": 0, "creation_date": 1576060630, "post_id": 59283119, "comment_id": 104773421, "body": "glad it helps you. happy coding :)"}], "tags": [], "owner": {"reputation": 174, "user_id": 10674590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7efc8fddb217fca3914e5faec31d33f9?s=128&d=identicon&r=PG&f=1", "display_name": "Naseer", "link": "https://stackoverflow.com/users/10674590/naseer"}, "is_accepted": true, "score": 1, "last_activity_date": 1576059716, "last_edit_date": 1576059716, "creation_date": 1576058312, "answer_id": 59283119, "question_id": 59282902, "link": "https://stackoverflow.com/questions/59282902/angular-remove-duplicate-objects-from-an-array-using-set/59283119#59283119", "title": "Angular - Remove Duplicate Objects from an Array using set", "body": "<p>You can remove duplicate from array in TS by using this.</p>\n\n<pre><code>const expected = new Set();\nconst unique = arr.filter(item =&gt; !expected.has(JSON.stringify(item)) ? expected.add(JSON.stringify(item)) : false);\n</code></pre>\n"}], "owner": {"reputation": 242, "user_id": 11169738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k5yxisfBe7c/AAAAAAAAAAI/AAAAAAAAAAc/3cX3JV8n9I0/photo.jpg?sz=128", "display_name": "Niels Ferguson", "link": "https://stackoverflow.com/users/11169738/niels-ferguson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 59283119, "answer_count": 1, "score": 1, "last_activity_date": 1576059716, "creation_date": 1576057685, "last_edit_date": 1576057908, "question_id": 59282902, "link": "https://stackoverflow.com/questions/59282902/angular-remove-duplicate-objects-from-an-array-using-set", "title": "Angular - Remove Duplicate Objects from an Array using set", "body": "<p>I need to remove all duplicate objects from my array. I know I can do it by using filter or reduce, but I want to use set instead since (if it works) it should be the shortes and cleanest option.</p>\n\n<p><strong>origionalArray</strong></p>\n\n<pre><code>[{type: \"A\", label: \"A\", department: \"C\"},\n{type: \"B\", label: \"B\", department: \"C\"},\n{type: \"B\", label: \"B\", department: \"C\"}]\n</code></pre>\n\n<p><strong>Expected output:</strong></p>\n\n<pre><code>[{type: \"A\", label: \"A\", department: \"C\"},\n{type: \"B\", label: \"B\", department: \"C\"}]\n</code></pre>\n\n<p><strong>I tried:</strong></p>\n\n<pre><code>distinctArray = new Set(origionalArray);\n</code></pre>\n\n<p>But it returns origionalArray. So my guess is it compares the objects by reference. In java i would override the equals method. But as far as I can find it online this can't be done in TS. </p>\n\n<p>Any ideas how I can get this done? Thank you for your help and time.</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1576057076, "post_id": 59282283, "comment_id": 104771477, "body": "Can you provide stackblitz demo?"}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "edited": false, "score": 0, "creation_date": 1576057322, "post_id": 59282667, "comment_id": 104771629, "body": "Removing the line as you suggested will make the program crash because my datasource won&#39;t be initiated. That&#39;s why I init with an empty array which should be fine.   Also added the sorting line to my ngOnInit() --&gt; didn&#39;t change anything.  When changing to Angular 7.X, I get the error Is missing the following properties from type &#39;IMessageData[]&#39;: length, pop,push,concat and 25 more."}], "tags": [], "owner": {"reputation": 179, "user_id": 9704427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/923e0f51c10ffde9bc3ffcf41717ec45?s=128&d=identicon&r=PG&f=1", "display_name": "Laphaze", "link": "https://stackoverflow.com/users/9704427/laphaze"}, "is_accepted": false, "score": 0, "last_activity_date": 1576056885, "creation_date": 1576056885, "answer_id": 59282667, "question_id": 59282283, "link": "https://stackoverflow.com/questions/59282283/angular-material-sort-and-paginator-not-working/59282667#59282667", "title": "Angular Material Sort and Paginator not working", "body": "<p>Remove this line from your constructor because messagesData is not populated yet.</p>\n\n<pre><code>this.dataSource = new MatTableDataSource(this.messagesData);\n</code></pre>\n\n<p>Plus add this line to your ngInit </p>\n\n<pre><code>// If the user changes the sort order, reset back to the first page.\nthis.sort.sortChange.subscribe(() =&gt; this.paginator.pageIndex = 0);\n</code></pre>\n\n<p>I never work with Angular material 8.x, however if it's not working, you could try to change this line (it's the way i'm doing it with Angular material 7.x)</p>\n\n<pre><code>this.dataSource = new MatTableDataSource(this.messagesData);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>this.dataSource.data = new MatTableDataSource(this.messagesData);\n</code></pre>\n\n<p>Full code (no tested)</p>\n\n<pre><code>import { Component, OnInit, ViewChild, } from '@angular/core';\nimport { MatTableDataSource, MatPaginator, MatSort } from '@angular/material';\nimport { MessagesService } from '../shared/services/messages.service';\nimport { IMessageCredentials } from '../shared/interfaces/messageCredentials.interface';\nimport { IMessage, IMessageData } from '../shared/interfaces/messages.interface';\nimport { IDriverData } from '../shared/interfaces/driver.interface';\nimport { DriverService } from '../shared/services/driver.service';\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['./messages.component.scss']\n})\n\nexport class MessagesComponent implements OnInit {  \n  name: string = '';\n  number: string = '';\n  content: string = '';\n  dataSource: MatTableDataSource&lt;IMessageData&gt;\n  messagesData: IMessageData[];\n  driverData: IDriverData[];\n\n  displayedColumns: string[] = ['number', 'chauffeur' , 'executionDateTime', 'textDecoded', 'richting'];\n\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\n\n  constructor(private messageService: MessagesService, private driverService: DriverService) { \n    this.getDrivers();\n  }\n\n  ngOnInit(): void {\n    // If the user changes the sort order, reset back to the first page.\n    this.sort.sortChange.subscribe(() =&gt; this.paginator.pageIndex = 0);\n    this.getMessages();\n   }\n\n  getMessages() {\n    let credentials = &lt;IMessageCredentials&gt;{};\n    credentials.login = \"\";\n    credentials.password = \"\";\n    credentials.unreadOnly = false;\n\n    this.messageService.getAll(credentials).subscribe(response =&gt; {\n      this.messagesData = response;\n      this.dataSource = new MatTableDataSource(this.messagesData);\n    })    \n  }\n\n  sendMessages() {\n    let message = &lt;IMessage&gt;{};\n    message.login = \"\";\n    message.password = \"\";\n    message.number = this.number;\n    message.content = this.content;\n\n    this.messageService.sendMessage(message).subscribe(response =&gt; {\n      console.log(\"Send message: \" + response)\n    })\n\n    window.alert(\"Send message to: \" + this.number);\n    this.content = \"\";\n  }\n\n  getDrivers() {\n    let isAutoComplete: boolean = true;\n\n    this.driverService.getDrivers(isAutoComplete).subscribe(response =&gt; {\n      this.driverData = response;\n    })\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "edited": false, "score": 0, "creation_date": 1576057603, "post_id": 59282745, "comment_id": 104771784, "body": "Thank you very much. I didn&#39;t realise that giving a new DataSource would also override the Sort and Paginator!"}, {"owner": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "edited": false, "score": 0, "creation_date": 1576057640, "post_id": 59282745, "comment_id": 104771800, "body": "Same answer i provided"}, {"owner": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "reply_to_user": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "edited": false, "score": 0, "creation_date": 1576057731, "post_id": 59282745, "comment_id": 104771849, "body": "@Sela Indeed, however he was 1 minute faster sorry."}, {"owner": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "reply_to_user": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "edited": false, "score": 0, "creation_date": 1576057760, "post_id": 59282745, "comment_id": 104771864, "body": "@BjornPijpops in Ideal case you should fetch data from the endpoint and proceed forward. you should have to subcribe and then assign the data to the datasource."}, {"owner": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "edited": false, "score": 0, "creation_date": 1576057818, "post_id": 59282745, "comment_id": 104771892, "body": "No worries happy it worked. If you like give an upvote instead. Thanks in advance"}, {"owner": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "reply_to_user": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "edited": false, "score": 0, "creation_date": 1576057837, "post_id": 59282745, "comment_id": 104771908, "body": "@Sela Yes, that is what I am doing right now. Cleaned it up a bit! Thank you"}], "tags": [], "owner": {"reputation": 1195, "user_id": 4210336, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf42cc0e54b012c02eb16ba7317bebb1?s=128&d=identicon&r=PG&f=1", "display_name": "Ininiv", "link": "https://stackoverflow.com/users/4210336/ininiv"}, "is_accepted": true, "score": 3, "last_activity_date": 1576057401, "last_edit_date": 1576057401, "creation_date": 1576057146, "answer_id": 59282745, "question_id": 59282283, "link": "https://stackoverflow.com/questions/59282283/angular-material-sort-and-paginator-not-working/59282745#59282745", "title": "Angular Material Sort and Paginator not working", "body": "<p>This line:</p>\n\n<pre><code>this.dataSource = new MatTableDataSource(this.messagesData); \n</code></pre>\n\n<p>It overrides the paginator &amp; sort (Resets to null), so try like below:</p>\n\n<pre><code>this.messageService.getAll(credentials).subscribe(response =&gt; {\n   this.messagesData = response;\n   this.dataSource = new MatTableDataSource(this.messagesData);\n   this.dataSource.paginator = this.paginator;\n   this.dataSource.sort = this.sort;\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "is_accepted": false, "score": 3, "last_activity_date": 1576057522, "last_edit_date": 1576057522, "creation_date": 1576057225, "answer_id": 59282768, "question_id": 59282283, "link": "https://stackoverflow.com/questions/59282283/angular-material-sort-and-paginator-not-working/59282768#59282768", "title": "Angular Material Sort and Paginator not working", "body": "<p>As per my knowelage this is a matter of <code>async</code> and <code>sync</code> methods.\nTry this:</p>\n\n<pre><code>ngOnInit(): void {\n    this.messageService.getAll(credentials).subscribe(response =&gt; {\n      this.messagesData = response;\n      this.dataSource = new MatTableDataSource(this.messagesData);    \n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n   }) \n}\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 7128762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209724067152180/picture?type=large", "display_name": "Bjorn Pijpops", "link": "https://stackoverflow.com/users/7128762/bjorn-pijpops"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 59282745, "answer_count": 3, "score": 0, "last_activity_date": 1576057522, "creation_date": 1576055680, "question_id": 59282283, "link": "https://stackoverflow.com/questions/59282283/angular-material-sort-and-paginator-not-working", "title": "Angular Material Sort and Paginator not working", "body": "<p>So I am having issues with implementing MatSort and MatPaginator. I followed the tutorials on the offical angular material website (<a href=\"https://material.angular.io/components/sort/overview\" rel=\"nofollow noreferrer\">https://material.angular.io/components/sort/overview</a>). However, every time I try to implement it, it doesn't work. I get 0 errors in my console log so I have no clue what I am missing.</p>\n\n<p>messages.component.ts:</p>\n\n<pre><code>import { Component, OnInit, ViewChild, } from '@angular/core';\nimport { MatTableDataSource, MatPaginator, MatSort } from '@angular/material';\nimport { MessagesService } from '../shared/services/messages.service';\nimport { IMessageCredentials } from '../shared/interfaces/messageCredentials.interface';\nimport { IMessage, IMessageData } from '../shared/interfaces/messages.interface';\nimport { IDriverData } from '../shared/interfaces/driver.interface';\nimport { DriverService } from '../shared/services/driver.service';\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['./messages.component.scss']\n})\n\nexport class MessagesComponent implements OnInit {  \n  name: string = '';\n  number: string = '';\n  content: string = '';\n  dataSource: MatTableDataSource&lt;IMessageData&gt;\n  messagesData: IMessageData[];\n  driverData: IDriverData[];\n\n  displayedColumns: string[] = ['number', 'chauffeur' , 'executionDateTime', 'textDecoded', 'richting'];\n\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\n\n  constructor(private messageService: MessagesService, private driverService: DriverService) { \n    this.getDrivers();\n    this.dataSource = new MatTableDataSource(this.messagesData);\n  }\n\n  ngOnInit(): void {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n    this.getMessages();\n   }\n\n  getMessages() {\n    let credentials = &lt;IMessageCredentials&gt;{};\n    credentials.login = \"\";\n    credentials.password = \"\";\n    credentials.unreadOnly = false;\n\n    this.messageService.getAll(credentials).subscribe(response =&gt; {\n      this.messagesData = response;\n      this.dataSource = new MatTableDataSource(this.messagesData);\n    })    \n  }\n\n  sendMessages() {\n    let message = &lt;IMessage&gt;{};\n    message.login = \"\";\n    message.password = \"\";\n    message.number = this.number;\n    message.content = this.content;\n\n    this.messageService.sendMessage(message).subscribe(response =&gt; {\n      console.log(\"Send message: \" + response)\n    })\n\n    window.alert(\"Send message to: \" + this.number);\n    this.content = \"\";\n  }\n\n  getDrivers() {\n    let isAutoComplete: boolean = true;\n\n    this.driverService.getDrivers(isAutoComplete).subscribe(response =&gt; {\n      this.driverData = response;\n    })\n  }\n\n  checkForDriverNames(phoneNumber: string) : string {\n    let result = \"\";\n\n    this.driverData.forEach(element =&gt; {      \n      if (element.phone === phoneNumber){\n        result = element.name;\n      }\n    });\n\n    return result;\n  }\n\n  checkTraffic(folderNumber: string) : string {\n    let result = parseInt(folderNumber) === 1 ? 'Ontvangen' : 'Verstuurd';\n\n    return result;\n  }\n}\n</code></pre>\n\n<p>messages.component.html:</p>\n\n<pre><code>&lt;div class=\"messages\"&gt;\n    &lt;button mat-raised-button (click)=\"getMessages()\"&gt;Refresh&lt;/button&gt;\n\n    &lt;table mat-table [dataSource]=\"dataSource\" class=\"table\" matSort&gt;\n\n        &lt;ng-container matColumnDef=\"number\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt;Telnr.&lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let row\"&gt;{{row.number}}&lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"chauffeur\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt;Chauffeur&lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let row\"&gt;{{checkForDriverNames(row.number)}}&lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"executionDateTime\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt;Timestamp&lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let row\"&gt;{{row.executionDateTime}}&lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"textDecoded\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt;UserDataText&lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let row\"&gt;{{row.textDecoded}}&lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;ng-container matColumnDef=\"richting\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt;Richting&lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let row\"&gt;{{checkTraffic(row.folder)}}&lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n        &lt;tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/tr&gt;\n    &lt;/table&gt;\n\n    &lt;mat-paginator [pageSizeOptions]=\"[5, 10, 15]\" showFirstLastButtons&gt;&lt;/mat-paginator&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>messages.module.ts:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { MessagesComponent } from './messages.component';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { SharedModule } from '../shared/shared.module';\n\nimport {\n  MatSelectModule,\n  MatCardModule,\n  MatTableModule,\n  MatCheckboxModule,\n  MatPaginatorModule,\n  MatSortModule\n} from '@angular/material';\n\n@NgModule({\n  declarations: [\n    MessagesComponent\n  ],\n  imports: [\n    BrowserModule,\n    SharedModule,\n    MatCardModule,\n    MatSelectModule,\n    MatTableModule,\n    MatCheckboxModule,\n    MatPaginatorModule,\n    MatSortModule\n  ],\n  exports: [\n    MessagesComponent    \n  ],\n  providers: [],\n  bootstrap: []\n})\nexport class MessagesModule { }\n</code></pre>\n"}, {"tags": ["typescript", "protractor", "cucumber", "cucumberjs"], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 11232022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a81ab0a54b1c0477e3d24368f82cd?s=128&d=identicon&r=PG&f=1", "display_name": "Sreenivasulu", "link": "https://stackoverflow.com/users/11232022/sreenivasulu"}, "is_accepted": false, "score": 0, "last_activity_date": 1581515286, "creation_date": 1581515286, "answer_id": 60189833, "question_id": 59282181, "link": "https://stackoverflow.com/questions/59282181/unable-to-make-relative-path-for-step-and-feature-files-in-protractor-cucumberjs/60189833#60189833", "title": "unable to make relative path for step and feature files in protractor cucumberJS", "body": "<p>Create a project using this structure first: src --> test --> features\n                                             src --> test --> step_definitions</p>\n\n<p>These two are two different folders here.\nAfter successful installation of cucumber auto complete extension, add this code in your settings.json file:</p>\n\n<pre><code>{\n\"cucumberautocomplete.steps\": [\n    \"src/test/features/step_definitions/*.ts\"\n],\n\"cucumberautocomplete.syncfeatures\": \"src/test/features/*feature\",\n\"cucumberautocomplete.strictGherkinCompletion\": true,\n\"files.exclude\": {\n    // include the defaults from VS Code\n    \"**/.git\": true,\n    \"**/.DS_Store\": true,\n\n    // exclude .js and .js.map files, when in a TypeScript project\n    \"**/*.js\": { \"when\": \"$(basename).ts\"},\n    \"**/*.js.map\": true\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here, it will sync all feature files from 'src/test/features/' path with the step definitions 'src/test/features/step_definitions/' path and your issue will resolve automatically.</p>\n"}], "owner": {"reputation": 75, "user_id": 7973470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6184abc117c97ac015138731c6786a8?s=128&d=identicon&r=PG&f=1", "display_name": "keshav dwivedi", "link": "https://stackoverflow.com/users/7973470/keshav-dwivedi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1581515286, "creation_date": 1576055348, "last_edit_date": 1576055776, "question_id": 59282181, "link": "https://stackoverflow.com/questions/59282181/unable-to-make-relative-path-for-step-and-feature-files-in-protractor-cucumberjs", "title": "unable to make relative path for step and feature files in protractor cucumberJS", "body": "<p>I have designed framework for protractor and for this I want that for each feature file I should be able to navigate to its respective step definition, for that I went through documentation of cucumber gherkin full support <a href=\"https://marketplace.visualstudio.com/items?itemName=alexkrechik.cucumberautocomplete\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=alexkrechik.cucumberautocomplete</a> and added the given code to settings.json but then also its not navigating to steps </p>\n\n<p>Please find the pic of my settings.json and folder structure and suggest me what should be the relative path which I should add for step files and feature files??</p>\n\n<p><a href=\"https://i.stack.imgur.com/HbMRh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HbMRh.png\" alt=\"Settings.json and folder structure\"></a></p>\n"}, {"tags": ["html", "angular", "typescript", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 240, "user_id": 8609310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7a9855704d2a4e5b59f3ea5bad13cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Arghya Chowdhury", "link": "https://stackoverflow.com/users/8609310/arghya-chowdhury"}, "is_accepted": false, "score": 1, "last_activity_date": 1576065875, "creation_date": 1576065875, "answer_id": 59285453, "question_id": 59281956, "link": "https://stackoverflow.com/questions/59281956/how-to-add-type-script-variable-on-angular-html-editor-content/59285453#59285453", "title": "How to add type script variable on angular HTML editor content", "body": "<p>The image I can see, is not a html editor rather it's a content editor. Please use template interpolation in html editor where you've html tag\nlike </p>\n\n<p>my name is {{first_name}}</p>\n\n<p>where first_name is your dynamic variable..\nHope you can understand what I mean to say.</p>\n"}], "owner": {"reputation": 11, "user_id": 12516961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99e2ba2ab6fdb76c19a85095cc3ac314?s=128&d=identicon&r=PG&f=1", "display_name": "Maike Husle", "link": "https://stackoverflow.com/users/12516961/maike-husle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1576065875, "creation_date": 1576054522, "last_edit_date": 1576058590, "question_id": 59281956, "link": "https://stackoverflow.com/questions/59281956/how-to-add-type-script-variable-on-angular-html-editor-content", "title": "How to add type script variable on angular HTML editor content", "body": "<p>I want to create dynamic letter in angular using HTML editor. Also I need to add  some variable from type script in HTML editor content  </p>\n\n<p><a href=\"https://i.stack.imgur.com/lcykp.png\" rel=\"nofollow noreferrer\">Like this image</a></p>\n\n<p>when I view this letter I want to set value for this {{NAME}} variable from type script. Can some one help me ? This is my fist question in stack overflow</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576053545, "post_id": 59281696, "comment_id": 104769561, "body": "Subscribe to the whole form&#39;s valueChanges, instead of one control&#39;s?"}, {"owner": {"reputation": 6029, "user_id": 2266992, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3rRQg.jpg?s=128&g=1", "display_name": "Miomir Dancevic", "link": "https://stackoverflow.com/users/2266992/miomir-dancevic"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576053633, "post_id": 59281696, "comment_id": 104769608, "body": "That is the point, i have some fields that i dont need to check, thats why i can not subscribe to entire form changes"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576053737, "post_id": 59281696, "comment_id": 104769659, "body": "Why <i>&quot;can not&quot;</i>? Just filter out what you&#39;re not interested in. Or have separate observables for the separate controls and join them back together."}, {"owner": {"reputation": 6029, "user_id": 2266992, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3rRQg.jpg?s=128&g=1", "display_name": "Miomir Dancevic", "link": "https://stackoverflow.com/users/2266992/miomir-dancevic"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576053850, "post_id": 59281696, "comment_id": 104769715, "body": "This is not point why I &#39;can not&#39;, i have tried to make simple question to understand"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1576054815, "post_id": 59281696, "comment_id": 104770184, "body": "I&#39;m not sure what you&#39;re trying to say. If you can do that, why haven&#39;t you? If you&#39;ve tried that and it doesn&#39;t work, give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to illustrate, but there was no point showing something that definitely won&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 2191, "user_id": 9590251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1bc63e8510dda3d6969da82b4ad6d3f?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy", "link": "https://stackoverflow.com/users/9590251/timothy"}, "is_accepted": true, "score": 8, "last_activity_date": 1576054039, "last_edit_date": 1576054039, "creation_date": 1576053695, "answer_id": 59281761, "question_id": 59281696, "link": "https://stackoverflow.com/questions/59281696/check-if-several-values-have-changed-in-reactive-forms/59281761#59281761", "title": "Check if several values have changed in reactive forms", "body": "<p>You can merge observables, but it merges into a single observable, i.e.</p>\n\n<pre><code>import { merge } from 'rxjs';\n\nmerge(\n  this.form.controls['phone'].valueChanges,\n  this.form.controls['address'].valueChanges\n).subscribe(console.log)\n</code></pre>\n\n<p>alternatively you can use combineLatest. Which will emit the latest value from each observable. I think this is what you need.</p>\n\n<pre><code>import { combineLatest } from 'rxjs';\n\ncombineLatest(\n  this.form.controls['phone'].valueChanges, \n  this.form.controls['address'].valueChanges\n).subscribe((phone, address) =&gt; {\n  // do something\n})\n</code></pre>\n"}], "owner": {"reputation": 6029, "user_id": 2266992, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3rRQg.jpg?s=128&g=1", "display_name": "Miomir Dancevic", "link": "https://stackoverflow.com/users/2266992/miomir-dancevic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "accepted_answer_id": 59281761, "answer_count": 1, "score": 0, "last_activity_date": 1576054039, "creation_date": 1576053440, "last_edit_date": 1576053708, "question_id": 59281696, "link": "https://stackoverflow.com/questions/59281696/check-if-several-values-have-changed-in-reactive-forms", "title": "Check if several values have changed in reactive forms", "body": "<p>I have some fields in reactive forms that I have to check if values have changed. I know how to check if value have changed on one field like this</p>\n\n<pre><code>this.form.controls['phone'].valueChanges.subscribe(\n  data =&gt; console.log('form changes', data)\n  );\n</code></pre>\n\n<p>The problem I have is that I need to check two or more fields, e.g. phone and address.</p>\n"}, {"tags": ["typescript", "eslint", "eslintrc", "typescript-eslint"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1576053787, "post_id": 59281629, "comment_id": 104769686, "body": "See this comment, it might help <a href=\"https://github.com/typescript-eslint/typescript-eslint/issues/149#issuecomment-488555168\" rel=\"nofollow noreferrer\">github.com/typescript-eslint/typescript-eslint/issues/&hellip;</a> There is no change to the <code>StuffReturn</code> that will satisfy this rule"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4466965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MYKpn.jpg?s=128&g=1", "display_name": "Benno Selig", "link": "https://stackoverflow.com/users/4466965/benno-selig"}, "edited": false, "score": 0, "creation_date": 1576057513, "post_id": 59282132, "comment_id": 104771728, "body": "Hi thanks for the suggestion, unfortunately that didn&#39;t make a difference. I still get the same error.  I tried to type the <code>doStuff</code> function independently of the outer interface and use it in the interface, also I tried to type the whole function <code>createStuff</code> including it&#39;s return value.  But nothing worked."}], "tags": [], "owner": {"reputation": 1594, "user_id": 8327458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0NhYO.jpg?s=128&g=1", "display_name": "Luze", "link": "https://stackoverflow.com/users/8327458/luze"}, "is_accepted": false, "score": 1, "last_activity_date": 1576055166, "creation_date": 1576055166, "answer_id": 59282132, "question_id": 59281629, "link": "https://stackoverflow.com/questions/59281629/missing-return-type-in-function-of-object-returned-by-a-factory-function/59282132#59282132", "title": "missing return type in function of object returned by a factory function", "body": "<p>You have to allow typed function expressions in your <code>eslintrc</code>:</p>\n\n<pre><code>\"rules\": {\n  \"@typescript-eslint/explicit-function-return-type\": [\"error\", {\n    \"allowTypedFunctionExpressions\": true\n  }],\n}\n</code></pre>\n\n<hr>\n\n<p>This will allow type annotations on the variable of a function expression rather than on the function directly as stated in the <a href=\"https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/docs/rules/explicit-function-return-type.md#allowtypedfunctionexpressions\" rel=\"nofollow noreferrer\">docs</a>.</p>\n\n<blockquote>\n  <p>Note: If you are using <code>typescript-eslint</code> v2 or higher, this option will be <code>true</code> by default.</p>\n</blockquote>\n"}], "owner": {"reputation": 13, "user_id": 4466965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MYKpn.jpg?s=128&g=1", "display_name": "Benno Selig", "link": "https://stackoverflow.com/users/4466965/benno-selig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576055166, "creation_date": 1576053201, "last_edit_date": 1576053400, "question_id": 59281629, "link": "https://stackoverflow.com/questions/59281629/missing-return-type-in-function-of-object-returned-by-a-factory-function", "title": "missing return type in function of object returned by a factory function", "body": "<p>I have come across a false error from ESLint, using <code>@typescript-eslint</code>, when trying to define the <em>return type</em> of a function <em>inside an object which is returned by a function</em>.</p>\n\n<p>For example, we have a function returning an object with functions like this:</p>\n\n<pre><code>const createStuff = (): StuffReturn =&gt; {\n    return {\n        doStuff: () =&gt; { // here ESLint will throw a warning\n            return;\n        },\n    };\n};\n</code></pre>\n\n<p>Now when I define the interface <code>StuffReturn</code> for the return type of this function as such ...</p>\n\n<pre><code>interface StuffReturn {\n    doStuff: () =&gt; void;\n}\n</code></pre>\n\n<p>... and then run ESLint on the command line, I get the following error:</p>\n\n<pre><code>13:18 warning  Missing return type on function  @typescript-eslint/explicit-function-return-type\n</code></pre>\n\n<p>maybe I should create an issue on GitHub for this, but I am not sure whether it's actually a bug or I am missing some deeper meaning from this behavior.</p>\n"}, {"tags": ["reactjs", "typescript", "gatsby"], "answers": [{"comments": [{"owner": {"reputation": 6589, "user_id": 968988, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fRutg.jpg?s=128&g=1", "display_name": "Nicolas Zozol", "link": "https://stackoverflow.com/users/968988/nicolas-zozol"}, "edited": false, "score": 0, "creation_date": 1576058393, "post_id": 59282975, "comment_id": 104772178, "body": "The only problem is that my IDE IntelliJ is not proposing autocomplete for image file name"}], "tags": [], "owner": {"reputation": 6589, "user_id": 968988, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fRutg.jpg?s=128&g=1", "display_name": "Nicolas Zozol", "link": "https://stackoverflow.com/users/968988/nicolas-zozol"}, "is_accepted": true, "score": 0, "last_activity_date": 1576058306, "last_edit_date": 1576058306, "creation_date": 1576057914, "answer_id": 59282975, "question_id": 59281568, "link": "https://stackoverflow.com/questions/59281568/typescript-and-react-with-gatsby-loader-unable-to-import-images-as-modules/59282975#59282975", "title": "Typescript and React (with Gatsby loader): unable to import images as modules", "body": "<p>Wow... The problem is that my <code>index.d.ts</code> was exporting an interface !</p>\n\n<blockquote>\n  <p>In TypeScript, just as in ECMAScript 2015, any file containing a\n  top-level import or export is considered a module. Conversely, a file\n  without any top-level import or export declarations <strong>is treated as a\n  script whose contents are available in the global scope</strong> (and therefore\n  to modules as well)</p>\n</blockquote>\n\n<p>Removing <code>export interface Thing{}</code> was enough.</p>\n"}], "owner": {"reputation": 6589, "user_id": 968988, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fRutg.jpg?s=128&g=1", "display_name": "Nicolas Zozol", "link": "https://stackoverflow.com/users/968988/nicolas-zozol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1315, "favorite_count": 0, "accepted_answer_id": 59282975, "answer_count": 1, "score": 4, "last_activity_date": 1576058306, "creation_date": 1576052969, "last_edit_date": 1576057377, "question_id": 59281568, "link": "https://stackoverflow.com/questions/59281568/typescript-and-react-with-gatsby-loader-unable-to-import-images-as-modules", "title": "Typescript and React (with Gatsby loader): unable to import images as modules", "body": "<p>First, I don't think Gatsby is involved in problem as runnning <code>tsc -p .</code> will detect the same compilation errors, before gatby's <code>yarn start</code> is ran.</p>\n\n<p>I have a folder with some react tsx files I want to compile</p>\n\n<pre><code>src/\n  @types/\n    index.d.ts\n  components/\n    bottom/bottom.tsx\n    layout.tsx\n  images/\n    email.png\n    costs.png \ngatsby-config.js\ngatsby-node.js\ntsconfig.json\npackage.json\n</code></pre>\n\n<p>I want <code>bottom.tsx</code> to load email.png, but I have this error</p>\n\n<p><a href=\"https://i.stack.imgur.com/mx3w4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mx3w4.png\" alt=\"TS2307: cannot load image module\"></a></p>\n\n<p><a href=\"https://github.com/microsoft/TypeScript-React-Starter/issues/12\" rel=\"nofollow noreferrer\">As written in this post</a>, I declare all pictures as modules in <code>src/@types/index.d.ts</code>. I have created a interface in this file for test urpose, and the file is correctly read by the compiler.</p>\n\n<pre><code>declare module '*.jpg';\ndeclare module '*.png';\u200b\n\nexport interface Thing {\n    name: string\n}\n</code></pre>\n\n<p>Using import as or adding content to module declaration won't change anything. However the code is running fine if I ignore typescript compilator : </p>\n\n<pre><code>//@ts-ignore\nimport email from '../../images/email.png'\n//@ts-ignore\nimport logo from '../../images/logo-bw.png'\n</code></pre>\n\n<p>It works, so the structure of the code is ok with Gatsby, but obviously I lose a lot of benefits of using typescript as images is a big part of a website... Plus, there is no IDE autocompletion to help image import.</p>\n\n<p>This Gatsby starter is made to be open source, so you can check the configuration at this branch : <a href=\"https://github.com/robusta-code/gatsby-the-robust/tree/0.0.1\" rel=\"nofollow noreferrer\">https://github.com/robusta-code/gatsby-the-robust/tree/0.0.1</a></p>\n\n<p>Note that loading css or sass modules would be ok : <code>import '../styles/home.scss'</code></p>\n"}, {"tags": ["typescript", "type-definition"], "answers": [{"comments": [{"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1576053155, "post_id": 59281523, "comment_id": 104769380, "body": "not so good, because after this I need to use this syntax: <code>{name: &#39;Tabulator&#39;, character: CSVSeparator.Tabulator },</code> and I want to use this: <code>{name: &#39;Tabulator&#39;, character: &#39;\\t&#39;},</code>"}], "tags": [], "owner": {"reputation": 8965, "user_id": 3580745, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bc63c3ca36686abbc49e566bebaea528?s=128&d=identicon&r=PG", "display_name": "ThomasThiebaud", "link": "https://stackoverflow.com/users/3580745/thomasthiebaud"}, "is_accepted": false, "score": 3, "last_activity_date": 1576052776, "creation_date": 1576052776, "answer_id": 59281523, "question_id": 59281186, "link": "https://stackoverflow.com/questions/59281186/how-to-declare-custom-type-correctly-with-predefined-acceptable-values-in-typesc/59281523#59281523", "title": "How to declare custom type correctly with predefined acceptable values in TypeScript?", "body": "<p>I'm not sure how you want to use <code>CSVSeparator</code>, but you may be able to use an <code>enum</code> instead</p>\n\n<pre><code>enum CSVSeparator {\n  Semicolon = \";\",\n  Comma = \",\",\n  Space = \" \",\n  Pipe = \"|\",\n  Colon = \".\",\n  Tabulator = \"\\t\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1576066748, "post_id": 59282214, "comment_id": 104776640, "body": "isn&#39;t there any way to say this <code>const regularString: CSVSepaator = &#39;\\t&#39;;</code> ?"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1576069101, "post_id": 59282214, "comment_id": 104777874, "body": "With the <code>CSVSeparator</code> type in the question, no. String prototype just isn&#39;t assignable to <code>{ readonly [csvSeparator]: &#39;CSVSeparator&#39; }</code>, so it is casted like other branded primitives to make them unique in a structural typing system. But I suppose, the whole purpose was to make <code>&quot;\\t&quot;</code> CSVSeparator distinguishable from a normal <code>&quot;\\t&quot;</code> string? If not, you could just use answer variant 1 with simple string - here your assignment works."}, {"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1576082087, "post_id": 59282214, "comment_id": 104785379, "body": "My purpose is to create restiction for the value of <code>CSVSeparator</code> typed strings. This is only for developers, but this is important to avoid mistakes in the code. For example if somebody write a typo <code>\\r</code> instead of <code>\\t</code>. This is not a syntax error, but it will be a bug in the software. If the type restricted the values this bug will be avoidable."}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1576095141, "post_id": 59282214, "comment_id": 104791421, "body": "If it is all about preventing a wrong string, just delete <code>&amp; { readonly [csvSeparator]: &#39;CSVSeparator&#39; };</code> from <code>CSVSeparator</code> type (first alternative in answer)."}, {"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1576097706, "post_id": 59282214, "comment_id": 104792461, "body": "If I remove that part then <code>string</code> will be acceptable type too instead of <code>CSVSeparator</code> type. It&#39;s important to accpet only <code>CSVSeparator</code> type with only my definied values."}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1576098565, "post_id": 59282214, "comment_id": 104792815, "body": "I am not sure, what you are meaning. Given <a href=\"https://www.typescriptlang.org/play/?ssl=3&amp;ssc=35&amp;pln=3&amp;pc=78#code/KYDwDg9gTgLgBAE2AYwDYEMrDjAnmbAYQGUA1Y4MTdGaOAXjgHIBuJuAH2YBp2v2+zDoKYA6EQB0YTALAAoecggA7AM7wwWJADMAlsuAJCEVAFcAtsopUoNaKoBccAN5xl6c8Cfqo+gOYscMgAFtTIMMBQTiTklNS0UHAAvgDaALoMcCnycC5uHl7MFOa6SqgqTNxBobbhkU6s7EncOXnung3G5uboldVhEVE8TS1yua7thUzEVMjAfSED9cwrza0TBQ0ACroECzXodUNMwsmj4-kdzMblyvtLx+Jn65dTACroAEamGAn3tYMGlIRi9Jk4AEQYDDgqqLAHLcGqCCeYgwXzKPwAOQgMAAksoYtZ4tBwUk4AB6clwSJQaDyNIsIA\" rel=\"nofollow noreferrer\">this example</a>, what do you expect it to validate further?"}, {"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 1, "creation_date": 1576099988, "post_id": 59282214, "comment_id": 104793390, "body": "hmm now it&#39;s just working... it seems to be something VSCode issue was here... thank you for your effort!"}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 3, "last_activity_date": 1576056702, "last_edit_date": 1576056702, "creation_date": 1576055462, "answer_id": 59282214, "question_id": 59281186, "link": "https://stackoverflow.com/questions/59281186/how-to-declare-custom-type-correctly-with-predefined-acceptable-values-in-typesc/59282214#59282214", "title": "How to declare custom type correctly with predefined acceptable values in TypeScript?", "body": "<p>You have made <code>'\\t'</code> in <code>CSVSeparator</code> a <a href=\"https://github.com/microsoft/TypeScript/wiki/FAQ#can-i-make-a-type-alias-nominal\" rel=\"nofollow noreferrer\">nominal string type</a> (also called branded primitive). The error in the assignment occurs, because a regular <code>'\\t'</code> string cannot be assigned to this nominal <code>'\\t'</code> anymore. Also the nominal typing (the intersection part) is only applied to <code>'\\t'</code>:</p>\n\n<pre><code>type CSVSeparator = ... | ... | ('\\t'  &amp; { readonly [csvSeparator]: 'CSVSeparator' })`\n// read like this:              ^                                                   ^\n</code></pre>\n\n<p>I think, you have two options here: 1. use regular strings (the simple one) or 2. branded strings (stronger types).</p>\n\n<p><strong>1. Simple string</strong> (<a href=\"https://www.typescriptlang.org/play/?ssl=10&amp;ssc=3&amp;pln=1&amp;pc=1#code/KYDwDg9gTgLgBAE2AYwDYEMrDjAnmbAYQGUA1Y4MTdGaOAXjgHIBuJuAH2YBp2v2%20zDoKYA6EQB0YTALAAoecggA7AM7wwWJADMAlsuAJCEVAFcAtsopUoNaKoBccAN5xl6c8Cfqo%20gOYscMgAFtTIMMBQTiTklNS0UHAAvgDaALpwDHAp8pnO7p5OTBTmukqoKkzcQaG24ZFFbEncuS4FXszG5uboVTVhEVE8TM2t%20R4dxVTIwH0hAw3MzKNyee1FAAq6BHO16PVDTMIraxNFxhXKuwuH4idtZ8wAKugARqYYCdd1g0VSIy05GkWEA\" rel=\"nofollow noreferrer\">Code</a>)</p>\n\n<pre><code>export type CSVSeparator = ';' | ',' | ' ' | '|' | '.' | '\\t'\n\nconst predefinedColumnSeparators: { name: string; character: CSVSeparator }[]  = [\n  {name: 'Semicolon', character: ';'},\n  ...\n  {name: 'Tabulator', character: '\\t'},\n];\n</code></pre>\n\n<p><strong>2. Branded string</strong> (<a href=\"https://www.typescriptlang.org/play/#code/CYUwxgNghgTiAEYD2A7AzgF0WgbgZRAAdYoMkYAueAVxQEsBHahNATwFsAjJCAbgFgAUEIytCCAEIwoKUMAA8AFXggAHhhCy08TDDooA5gD54AXnjKAZPADe8OFGCoIreAG0wuAsWlkYAXSoAcgBhPAA1bxI-IPgAXyEhADNaMAw6VHhOaVklFXVNYG1dfWMACjQqRQBKWyF4BvsQDGoYFB14KG0pGTklIyEE4UE1QnIsUXF4MMiiaPIzesaAH3ge2RAFIN4ggcFG+FX1vqCAGl2lhqOck-gL-ZW1m835IOX7g+vel6CAOg-HscfgAdDD3ITIdBYQhwUBJfSbEI8ajsFBRXzkSq2eAoKDsEBUEqGXiIAAWJDSIEo0wi6NICzibn8Zncl2xuPxwQI7DoyAgqDOZIpGmp2V6ZW2QVqcVObLsHIJd25vJ4AtOQuklOpkvi6oA9HqVDAYJj1SgkE0DNRoDAdBg9IZOmg0HQDLjOBAEHKcXjFaEkOx2FBBWByZqRVQxbIJedpbKHg15b6ucQwCAQ2GoFrIzcJXc496FcEAAp0cQZ4VUnPit5S3WF5N3JH8lAV8NVrK5v51mUNzl3RRQTjW+kwNtZiOdmugntCfwCYZCIA\" rel=\"nofollow noreferrer\">Code</a>)</p>\n\n<pre><code>declare const csvSeparator: unique symbol;\n\n// nominal string type\ntype Branded&lt;T extends string&gt; = T &amp; { readonly [csvSeparator]: 'CSVSeparator' }\n\n// helper function: create branded string by applying a type assertion to it\nfunction brand&lt;T extends string&gt;(s: T) {\n    return s as Branded&lt;T&gt;\n}\n\nexport type CSVSeparator = Branded&lt;';'&gt; | Branded&lt;','&gt; | Branded&lt;' '&gt; | Branded&lt;'|'&gt;\n    | Branded&lt;'.'&gt; | Branded&lt;'\\t'&gt;\n\nconst predefinedColumnSeparators: { name: string; character: CSVSeparator }[] = [\n    { name: 'Semicolon', character: brand(';') },\n    { name: 'Semicolon', character: ';' }, // error, no regular string assignable \n    ...\n    { name: 'Tabulator', character: brand('\\t') }\n];\n</code></pre>\n\n<p>The branding is just a type declaration at compile-time, you can use it as regular <code>string</code>:</p>\n\n<pre><code>const regularString: string = brand(\";\")\n</code></pre>\n"}], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 59282214, "answer_count": 2, "score": 1, "last_activity_date": 1576056702, "creation_date": 1576051242, "question_id": 59281186, "link": "https://stackoverflow.com/questions/59281186/how-to-declare-custom-type-correctly-with-predefined-acceptable-values-in-typesc", "title": "How to declare custom type correctly with predefined acceptable values in TypeScript?", "body": "<p>I have this type declaration:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare const csvSeparator: unique symbol;\nexport declare type CSVSeparator = ';' | ',' | ' ' | '|' | '.' | '\\t'\n  &amp; { readonly [csvSeparator]: 'CSVSeparator' };\n</code></pre>\n\n<p>Then I try to define this structure:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const predefinedColumnSeparators: ColumnSeparatorInterface[] = [\n  {name: 'Semicolon', character: ';'},\n  {name: 'Comma', character: ','},\n  {name: 'Space', character: ' '},\n  {name: 'Pipe', character: '|'},\n  {name: 'Colon', character: '.'},\n  {name: 'Tabulator', character: '\\t'},\n];\n</code></pre>\n\n<p>But in here I get an error <code>Type '\"\\t\"' is not assignable to type 'CSVSeparator'</code>.</p>\n\n<p>How can I declare my custom type correctly? Or is there any better way to define acceptable values?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-reactive-forms", "angular8"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 12462990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/251c719fa3b8c474b18e42f40990ef58?s=128&d=identicon&r=PG&f=1", "display_name": "aman raj", "link": "https://stackoverflow.com/users/12462990/aman-raj"}, "edited": false, "score": 0, "creation_date": 1576052964, "post_id": 59281437, "comment_id": 104769300, "body": "i already use the same thing in my second approach but it did not work"}, {"owner": {"reputation": 442, "user_id": 12175891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b71c0e58668f88e44037e97c7d407a9?s=128&d=identicon&r=PG", "display_name": "Ali Wahab", "link": "https://stackoverflow.com/users/12175891/ali-wahab"}, "reply_to_user": {"reputation": 115, "user_id": 12462990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/251c719fa3b8c474b18e42f40990ef58?s=128&d=identicon&r=PG&f=1", "display_name": "aman raj", "link": "https://stackoverflow.com/users/12462990/aman-raj"}, "edited": false, "score": 0, "creation_date": 1576053270, "post_id": 59281437, "comment_id": 104769427, "body": "Try to use this line <code>this.edit_animal_Form.patchValue(this.petDetails)</code> in this function  <code>initialize_Sub_for_Param</code>"}], "tags": [], "owner": {"reputation": 442, "user_id": 12175891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b71c0e58668f88e44037e97c7d407a9?s=128&d=identicon&r=PG", "display_name": "Ali Wahab", "link": "https://stackoverflow.com/users/12175891/ali-wahab"}, "is_accepted": false, "score": 0, "last_activity_date": 1576052370, "creation_date": 1576052370, "answer_id": 59281437, "question_id": 59281033, "link": "https://stackoverflow.com/questions/59281033/patchform-not-working-after-api-call-angular-8/59281437#59281437", "title": "PatchForm not working after api call Angular 8", "body": "<p>I have no idea what is going on in your code. But here is a fair example which i use to patch values in my form. I can give you the basic concept. Patch your form right after when you receive the values. For example:</p>\n\n<pre><code>  getOrderById(id) {\n    this._order.getOrderWithId(id).subscribe((res: any) =&gt; {\n      this.orderForm.patchValue(res);\n    });\n  }\n</code></pre>\n\n<p>In this case you dont have to use setTimeout or any other async await stuff.</p>\n"}], "owner": {"reputation": 115, "user_id": 12462990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/251c719fa3b8c474b18e42f40990ef58?s=128&d=identicon&r=PG&f=1", "display_name": "aman raj", "link": "https://stackoverflow.com/users/12462990/aman-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576053655, "creation_date": 1576050582, "last_edit_date": 1576053326, "question_id": 59281033, "link": "https://stackoverflow.com/questions/59281033/patchform-not-working-after-api-call-angular-8", "title": "PatchForm not working after api call Angular 8", "body": "<p>i am using patch value to update my form but i am unable to do that, my view is not getting updated , though i have tried both approaches async/await and observable. Although i found a workaround by using set timeout but that is not a proper solution.</p>\n\n<p>Thanks in advance.</p>\n\n<p>Approach 1 using arrow function and async/await (promise)</p>\n\n<pre><code>constructor(\n    public storage: Storage,\n    public route: Router,\n    public navCtrl: NavController,\n    public toastController: ToastController,\n    public alertController: AlertController,\n    public loadingController: LoadingController,\n    public formBuilder: FormBuilder,\n    public dataInteractionService: DataInteractionService,\n    public router: ActivatedRoute\n) {\n    super(storage, route, navCtrl, toastController, alertController, loadingController);\n    this.initialize_Sub_for_Param();\n}\n\ninitialize_Sub_for_Param() {\n    this.router.queryParams.subscribe(params =&gt; {\n        debugger;\n        this.initialize_Form();\n        if (this.route.getCurrentNavigation().extras.state) {\n            debugger;\n            this.petDetails = this.route.getCurrentNavigation().extras.state.user;\n            console.log(this.petDetails, \"petDetails\")\n            this.get_Data_animal(this.petDetails);\n\n        }    \n    });\n}    \n\nngOnInit() {}\n\ninitialize_Form() {\n    this.edit_animal_Form = this.formBuilder.group({\n        animal_image: ['', Validators.required],\n        animal_name: ['', Validators.required],\n        species_id: ['', Validators.required],\n        breed_id: ['', Validators.required],\n        date_of_birth: ['', Validators.required],\n        electronic_number: ['', Validators.required],\n    })\n}\nget_Data_animal = async (form_Value) =&gt; {\n    try {\n        let breed_Species_data = await this.dataInteractionService.get_Animal_Spcices().toPromise();\n        this.get_species = breed_Species_data['species'];\n        this.get_breeds = breed_Species_data['breeds'];\n        debugger;\n\n        //Workaround using settimeout but i know this is not a proper sollution//\n\n        setTimeout(() =&gt; {\n            this.edit_animal_Form.patchValue(form_Value);\n            console.log(this.edit_animal_Form.value);\n        }, 100);\n    } catch (error) {\n        console.log(error)\n    }\n}\n</code></pre>\n\n<p>Approach 2 using observables </p>\n\n<pre><code>constructor(\n    public storage: Storage,\n    public route: Router,\n    public navCtrl: NavController,\n    public toastController: ToastController,\n    public alertController: AlertController,\n    public loadingController: LoadingController,\n    public formBuilder: FormBuilder,\n    public dataInteractionService: DataInteractionService,\n    public router: ActivatedRoute\n) {\n    super(storage, route, navCtrl, toastController, alertController, loadingController);\n    this.initialize_Sub_for_Param();\n}\n\ninitialize_Sub_for_Param() {\n    this.router.queryParams.subscribe(params =&gt; {\n        this.initialize_Form();\n        if (this.route.getCurrentNavigation().extras.state) {\n            this.petDetails = this.route.getCurrentNavigation().extras.state.user;\n            this.get_Data_animal(this.petDetails);\n\n        }    \n    });\n}    \n\nngOnInit() {}\n\ninitialize_Form() {\n    this.edit_animal_Form = this.formBuilder.group({\n        animal_image: ['', Validators.required],\n        animal_name: ['', Validators.required],\n        species_id: ['', Validators.required],\n        breed_id: ['', Validators.required],\n        date_of_birth: ['', Validators.required],\n        electronic_number: ['', Validators.required],\n    })\n}\n\nget_Data_animal = async (form_Value) =&gt; {\n    try {\n        this.dataInteractionService.get_Animal_Spcices().subscribe(res =&gt; {\n            this.get_species = breed_Species_data['species'];\n            this.get_breeds = breed_Species_data['breeds'];\n            this.edit_animal_Form.patchValue(form_Value);\n\n        });    \n    } catch (error) {\n        console.log(error)\n    }    \n}  \n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "vscode-extensions", "angularjs-components"], "answers": [{"tags": [], "owner": {"reputation": 194, "user_id": 3927474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WZGK1.png?s=128&g=1", "display_name": "code1x1.de", "link": "https://stackoverflow.com/users/3927474/code1x1-de"}, "is_accepted": false, "score": 0, "last_activity_date": 1576080592, "creation_date": 1576080592, "answer_id": 59289854, "question_id": 59280902, "link": "https://stackoverflow.com/questions/59280902/vscode-extension-api-search-all-files-in-workspace-by-content-matches/59289854#59289854", "title": "Vscode Extension API search all files in workspace by content matches", "body": "<p>I found the correct function provideWorkspaceSymbols</p>\n"}], "owner": {"reputation": 194, "user_id": 3927474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WZGK1.png?s=128&g=1", "display_name": "code1x1.de", "link": "https://stackoverflow.com/users/3927474/code1x1-de"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576080592, "creation_date": 1576050040, "last_edit_date": 1576080524, "question_id": 59280902, "link": "https://stackoverflow.com/questions/59280902/vscode-extension-api-search-all-files-in-workspace-by-content-matches", "title": "Vscode Extension API search all files in workspace by content matches", "body": "<p><strong>update</strong>\nI found it: provideWorkspaceSymbols</p>\n\n<p>What is the API equivalent of the search menu in vscode? The <code>vscode.worspace.findFiles()</code>\nSignature doesn't match the input fields I have in the menu of vscode. </p>\n\n<p>My problem:\nI'm writing an html tag to component match extension for an angularjs 1.x project.\nThe components class names are listed in imports.ts where the components are registered line by line. This component name is already parsed correct. \nWith the found components name I have to search my component folder (about 1300 components) which I solved with a grep request inside a node exec call. \nBut I want to use the vscode API for that.</p>\n\n<p>Do have any advises/hints? </p>\n\n<p>Thanks you. </p>\n"}, {"tags": ["typescript", "jwt", "auth0"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1576049239, "post_id": 59280632, "comment_id": 104767697, "body": "<code>import jwt_decode from &#39;jwt-decode&#39;;</code>?"}, {"owner": {"reputation": 1258, "user_id": 4517595, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/1cd34f2fc53bcbf84131bba9dfab1a95?s=128&d=identicon&r=PG", "display_name": "Rahul Bhooteshwar", "link": "https://stackoverflow.com/users/4517595/rahul-bhooteshwar"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1576049573, "post_id": 59280632, "comment_id": 104767819, "body": "@zerkms Thanks a lot man. It worked like a charm for me. I write that incorrect import as official documentation only specify require based import &amp; just guessed that default import will work as is!"}], "answers": [{"tags": [], "owner": {"reputation": 1258, "user_id": 4517595, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/1cd34f2fc53bcbf84131bba9dfab1a95?s=128&d=identicon&r=PG", "display_name": "Rahul Bhooteshwar", "link": "https://stackoverflow.com/users/4517595/rahul-bhooteshwar"}, "is_accepted": true, "score": 13, "last_activity_date": 1576049622, "creation_date": 1576049622, "answer_id": 59280815, "question_id": 59280632, "link": "https://stackoverflow.com/questions/59280632/using-jwt-decode-with-typescript-front-end-project/59280815#59280815", "title": "Using jwt-decode with typescript front-end project", "body": "<p>Following correction to the import statement works fine:</p>\n\n<pre><code>import jwt_decode from 'jwt-decode';\n</code></pre>\n"}], "owner": {"reputation": 1258, "user_id": 4517595, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/1cd34f2fc53bcbf84131bba9dfab1a95?s=128&d=identicon&r=PG", "display_name": "Rahul Bhooteshwar", "link": "https://stackoverflow.com/users/4517595/rahul-bhooteshwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1913, "favorite_count": 1, "accepted_answer_id": 59280815, "answer_count": 1, "score": 5, "last_activity_date": 1576049622, "creation_date": 1576048845, "question_id": 59280632, "link": "https://stackoverflow.com/questions/59280632/using-jwt-decode-with-typescript-front-end-project", "title": "Using jwt-decode with typescript front-end project", "body": "<p>Description\nI am trying to use jwt-decode in a typescript project i.e. Stencil Project &amp; it is throwing following error:</p>\n\n<blockquote>\n  <p>This expression is not callable.Type '{ default: (token: string,\n  options?: Options) => TTokenDto; }' has no call signatures.</p>\n</blockquote>\n\n<pre><code>import * as jwt_decode from 'jwt-decode';\n.\n.\n.\nlet token = \"........\";\nlet decoded = jwt_decode(token);\n</code></pre>\n\n<p><strong>Reproduction</strong></p>\n\n<ul>\n<li>install jwt-decode in any typescript project npm install --save\n@types/jwt-decode npm install --save jwt-decode import it in your\ncode &amp; use import * as jwt_decode from 'jwt-decode'; . . . let token\n= \"........\"; let decoded = jwt_decode(token);</li>\n<li>build project</li>\n<li>Version of this library used: ^2.2.0 Version of the platform or</li>\n<li>framework used, if applicable: stencil - ^1.3.3 , typescript - 3.7.2</li>\n</ul>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1851, "user_id": 4282248, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/bOd7L.jpg?s=128&g=1", "display_name": "Daniel Netzer", "link": "https://stackoverflow.com/users/4282248/daniel-netzer"}, "edited": false, "score": 0, "creation_date": 1576048397, "post_id": 59280464, "comment_id": 104767418, "body": "What kind of an array are you expecting to get as a result? an array of MessageThreads? if so then just <code>push</code> to the conversation the new Object."}, {"owner": {"reputation": 386, "user_id": 7316269, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e4b715a6adf119f0b9bdd2202e289770?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Nelge", "link": "https://stackoverflow.com/users/7316269/pratik-nelge"}, "edited": false, "score": 0, "creation_date": 1576049728, "post_id": 59280464, "comment_id": 104767876, "body": "Why you assign object to the array. If you have only one object then array is of no use and if you have multiple objects then you have to push in Array. Any specific reason you are assigning object to array?"}], "answers": [{"tags": [], "owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "is_accepted": false, "score": 1, "last_activity_date": 1576048295, "creation_date": 1576048295, "answer_id": 59280507, "question_id": 59280464, "link": "https://stackoverflow.com/questions/59280464/how-to-assign-object-to-an-empty-array/59280507#59280507", "title": "How to assign object to an empty array", "body": "<p>Maybe you want typed array:</p>\n\n<pre><code>public conversation: messageThread [] = [];\n</code></pre>\n\n<p>And to push values:</p>\n\n<pre><code>this.conversation.push(new dataModel.messageThread());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2346, "user_id": 993328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3012905df3539f948994f218db07423?s=128&d=identicon&r=PG", "display_name": "GaurangDhorda", "link": "https://stackoverflow.com/users/993328/gaurangdhorda"}, "is_accepted": false, "score": 0, "last_activity_date": 1576048791, "creation_date": 1576048791, "answer_id": 59280614, "question_id": 59280464, "link": "https://stackoverflow.com/questions/59280464/how-to-assign-object-to-an-empty-array/59280614#59280614", "title": "How to assign object to an empty array", "body": "<p>You can use object de-structuring like this...</p>\n\n<pre><code>conversation=[];\nobj = {\n  itemName:'paste',\n  itemPrice: '50$'\n}\n\nngOnInit(){\n   this.conversation = [ { ...this.obj } ];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5771976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a7b3666ecfa790c23473b3503e7cfa?s=128&d=identicon&r=PG&f=1", "display_name": "ganesh", "link": "https://stackoverflow.com/users/5771976/ganesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1576057818, "last_edit_date": 1576057818, "creation_date": 1576050526, "answer_id": 59281012, "question_id": 59280464, "link": "https://stackoverflow.com/questions/59280464/how-to-assign-object-to-an-empty-array/59281012#59281012", "title": "How to assign object to an empty array", "body": "<p>while working on angular alway keep in mind that angular is javascript framework so you can use any javascript function in angular as per you question you can simplly use .push() function on your array;</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> var abc = [];\r\n    obj = {itemName:'paste',itemPrice: '50$'};\r\n    \r\n    abc.push(obj);\r\n    \r\n    \r\n    console.log(abc);\r\n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 442, "user_id": 12175891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b71c0e58668f88e44037e97c7d407a9?s=128&d=identicon&r=PG", "display_name": "Ali Wahab", "link": "https://stackoverflow.com/users/12175891/ali-wahab"}, "is_accepted": false, "score": 0, "last_activity_date": 1576052681, "creation_date": 1576052681, "answer_id": 59281502, "question_id": 59280464, "link": "https://stackoverflow.com/questions/59280464/how-to-assign-object-to-an-empty-array/59281502#59281502", "title": "How to assign object to an empty array", "body": "<p>It doesn't make sense to assign an object to an Array type. If you want to assing the object to <code>conversation</code> variable. Why don't you put the type of <code>conversation</code> or assign it like an empty object. <code>conversation = {}</code> and then make it Equals to this <code>this.conversation = new dataModel.messageThread ();</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 12338448, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tlJ6tgnFU7M/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reUnXpm8bk0pyUFBEGXCtYvQLyjXw/photo.jpg?sz=128", "display_name": "Dev Developer", "link": "https://stackoverflow.com/users/12338448/dev-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 977, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1576057818, "creation_date": 1576048129, "last_edit_date": 1576048476, "question_id": 59280464, "link": "https://stackoverflow.com/questions/59280464/how-to-assign-object-to-an-empty-array", "title": "How to assign object to an empty array", "body": "<p>In my angular6 application,</p>\n\n<p>I have declared empty array as below:</p>\n\n<pre><code>conversation=[]\n</code></pre>\n\n<p>and I have constructor in shared module where it does initialize the object of conversation below is the code</p>\n\n<pre><code>export class messageThread {\n    internalId?: number;\n    unreadMessageCount?: number;\n    subject?: string;\n    managerCode?: string;\n    constructor(json?: any) {\n        if ( !json ) return;\n        this.internalId= json.internalId || 0;\n        this.unreadMessageCount=json.internalId || 0;;\n        this.subject = json.internalId || '';\n        this.managerCode =json.managerCode|| '';\n\n    }\n}\n</code></pre>\n\n<p>However when in my ts file if I do like below.</p>\n\n<pre><code>this.conversation = new dataModel.messageThread (); \n</code></pre>\n\n<p>it gives me error: saying that only push, pop can be used, I know that this is because I have initialized it with empty array and it does expect array as an assignment, is there any way we can assign object to an empty array or I am missing something here</p>\n"}, {"tags": ["javascript", "jquery", "typescript", "twitter-bootstrap-3", "bootstrap-select"], "comments": [{"owner": {"reputation": 275, "user_id": 8575522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e2bd910fddc52e1ff2bae761470b7ba?s=128&d=identicon&r=PG&f=1", "display_name": "ThisisFish", "link": "https://stackoverflow.com/users/8575522/thisisfish"}, "edited": false, "score": 0, "creation_date": 1576047826, "post_id": 59280288, "comment_id": 104767222, "body": "if possible please share the error you see in console."}, {"owner": {"reputation": 2204, "user_id": 364314, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/rSmdI.gif?s=128&g=1", "display_name": "icube", "link": "https://stackoverflow.com/users/364314/icube"}, "reply_to_user": {"reputation": 275, "user_id": 8575522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e2bd910fddc52e1ff2bae761470b7ba?s=128&d=identicon&r=PG&f=1", "display_name": "ThisisFish", "link": "https://stackoverflow.com/users/8575522/thisisfish"}, "edited": false, "score": 0, "creation_date": 1576048862, "post_id": 59280288, "comment_id": 104767562, "body": "@ThisisFish no errors in the console"}, {"owner": {"reputation": 4479, "user_id": 4733161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ijftR.png?s=128&g=1", "display_name": "cloned", "link": "https://stackoverflow.com/users/4733161/cloned"}, "edited": false, "score": 0, "creation_date": 1576049536, "post_id": 59280288, "comment_id": 104767801, "body": "please share the compiled (relevant!) html + css. You are using bootstrap-select css, and not only bootstrap-css, right?"}, {"owner": {"reputation": 2204, "user_id": 364314, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/rSmdI.gif?s=128&g=1", "display_name": "icube", "link": "https://stackoverflow.com/users/364314/icube"}, "edited": false, "score": 0, "creation_date": 1576050355, "post_id": 59280288, "comment_id": 104768137, "body": "ah.. i didn&#39;t import the bootstrap-select css. they should have mentioned it in the docs"}], "answers": [{"tags": [], "owner": {"reputation": 2204, "user_id": 364314, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/rSmdI.gif?s=128&g=1", "display_name": "icube", "link": "https://stackoverflow.com/users/364314/icube"}, "is_accepted": false, "score": 1, "last_activity_date": 1576050575, "creation_date": 1576050575, "answer_id": 59281028, "question_id": 59280288, "link": "https://stackoverflow.com/questions/59280288/bootstrap-select-typescript-webpack-doesnt-render-properly-on-simple-example/59281028#59281028", "title": "bootstrap-select + typescript + webpack doesnt render properly on simple example", "body": "<p>include <code>import 'bootstrap-select/dist/css/bootstrap-select.css'</code> in the ts file</p>\n"}], "owner": {"reputation": 2204, "user_id": 364314, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/rSmdI.gif?s=128&g=1", "display_name": "icube", "link": "https://stackoverflow.com/users/364314/icube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576050575, "creation_date": 1576047334, "last_edit_date": 1576050491, "question_id": 59280288, "link": "https://stackoverflow.com/questions/59280288/bootstrap-select-typescript-webpack-doesnt-render-properly-on-simple-example", "title": "bootstrap-select + typescript + webpack doesnt render properly on simple example", "body": "<p>i got the following result on the browser. and i'm not sure why. </p>\n\n<p><a href=\"https://i.stack.imgur.com/HrSY1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HrSY1.png\" alt=\"enter image description here\"></a>\nHere is the HTML</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;body&gt;\n  &lt;select id=\"selectpicker\"&gt;\n    &lt;option&gt;Mustard&lt;/option&gt;\n    &lt;option&gt;Ketchup&lt;/option&gt;\n    &lt;option&gt;Barbecue&lt;/option&gt;\n  &lt;/select&gt;  \n&lt;/body&gt;\n</code></pre>\n\n<p>Here is the typescript</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import 'bootstrap/dist/css/bootstrap.css'\n\nimport $ from 'jquery';\nimport 'bootstrap'\nimport 'bootstrap-select';\n\n\n$(function () {\n    $('#selectpicker').selectpicker();\n});\n</code></pre>\n\n<p>How do I make this work?</p>\n\n<p><strong>EDIT: SOLVED!!</strong> i did not know that i need to <code>import 'bootstrap-select/dist/css/bootstrap-select.css'</code> as well. </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "edited": false, "score": 0, "creation_date": 1576055058, "post_id": 59280386, "comment_id": 104770328, "body": "shreyas why its not working with debouceTime and using <code>control.valueChange</code> ? any specific reason for the same ?"}, {"owner": {"reputation": 5375, "user_id": 4051471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1b589521219a496f63dbf63f2f6b595?s=128&d=identicon&r=PG&f=1", "display_name": "shrys", "link": "https://stackoverflow.com/users/4051471/shrys"}, "reply_to_user": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "edited": false, "score": 1, "creation_date": 1576055752, "post_id": 59280386, "comment_id": 104770726, "body": "I think your approach coincides with <a href=\"https://medium.com/grano/using-custom-async-validators-with-angular-b85a9fe9e298#d93f\" rel=\"nofollow noreferrer\">this</a> explanation"}, {"owner": {"reputation": 5375, "user_id": 4051471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1b589521219a496f63dbf63f2f6b595?s=128&d=identicon&r=PG&f=1", "display_name": "shrys", "link": "https://stackoverflow.com/users/4051471/shrys"}, "reply_to_user": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "edited": false, "score": 1, "creation_date": 1576055793, "post_id": 59280386, "comment_id": 104770748, "body": "also <a href=\"https://medium.com/@benlesh/hot-vs-cold-observables-f8094ed53339\" rel=\"nofollow noreferrer\">hot v cold observables</a>"}, {"owner": {"reputation": 1306, "user_id": 5695833, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-nTvuC7ovkJU/AAAAAAAAAAI/AAAAAAAAH-c/CgkOzqPXdkY/photo.jpg?sz=128", "display_name": "Hypenate", "link": "https://stackoverflow.com/users/5695833/hypenate"}, "edited": false, "score": 0, "creation_date": 1576076331, "post_id": 59280386, "comment_id": 104782067, "body": "When the call takes longer then 500 miliseconds this code will not work as intended."}], "tags": [], "owner": {"reputation": 5375, "user_id": 4051471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1b589521219a496f63dbf63f2f6b595?s=128&d=identicon&r=PG&f=1", "display_name": "shrys", "link": "https://stackoverflow.com/users/4051471/shrys"}, "is_accepted": true, "score": 1, "last_activity_date": 1576048336, "last_edit_date": 1576048336, "creation_date": 1576047791, "answer_id": 59280386, "question_id": 59279986, "link": "https://stackoverflow.com/questions/59279986/angular-async-validation-not-printing-error-message/59280386#59280386", "title": "Angular async validation not printing error message", "body": "<p>You could do it as follows using <a href=\"https://www.learnrxjs.io/operators/creation/timer.html\" rel=\"nofollow noreferrer\"><code>rxjs/timer</code></a>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { timer } from \"rxjs\";\n....\n    return timer(500).pipe(\n      switchMap(() =&gt; {\n        if (!control.value) {\n          return of(null);\n        }\n        return this._httpService.checkProjectID(control.value).pipe(\n          map(isTaken =&gt; {\n            console.log(isTaken);\n            if (isTaken) {\n              return { noproject: true };\n            } else {\n              return null;\n            }\n          })\n        );\n      })\n    );\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-ls6885?file=src/app/projectid.service.ts\" rel=\"nofollow noreferrer\">Sample</a></p>\n\n<p><a href=\"https://stackoverflow.com/a/49403153/4051471\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1306, "user_id": 5695833, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-nTvuC7ovkJU/AAAAAAAAAAI/AAAAAAAAH-c/CgkOzqPXdkY/photo.jpg?sz=128", "display_name": "Hypenate", "link": "https://stackoverflow.com/users/5695833/hypenate"}, "is_accepted": false, "score": 0, "last_activity_date": 1576051847, "creation_date": 1576051847, "answer_id": 59281330, "question_id": 59279986, "link": "https://stackoverflow.com/questions/59279986/angular-async-validation-not-printing-error-message/59281330#59281330", "title": "Angular async validation not printing error message", "body": "<p>The real problem is and I have encountered this myself, you subscribe to the value change but you need to wait for the statuschange to return.\nIt is \"PENDING\" while it is doing the call.\nThe debounce/timer/... are just 'hacks' since you never know when the value is returned.</p>\n\n<p>Declare a variable:</p>\n\n<pre><code>this.formValueAndStatusSubscription: Subscription;\n</code></pre>\n\n<p>In your </p>\n\n<pre><code>this.formValueAndStatusSubscription =\n  combineLatest([this.form.valueChanges, this.form.statusChanges]).subscribe(\n    () =&gt; this.formStatusBaseOnValueAndStatusChanges = this.form.status\n  );\n</code></pre>\n\n<p>Don't forget to desstroy the subscription </p>\n"}, {"comments": [{"owner": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "edited": false, "score": 0, "creation_date": 1576055698, "post_id": 59282265, "comment_id": 104770686, "body": "any way to achieve <code>debounceTime</code> and <code>distinctUntilChange</code> ?"}, {"owner": {"reputation": 636, "user_id": 7122286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqIeG.jpg?s=128&g=1", "display_name": "wessam yaacob", "link": "https://stackoverflow.com/users/7122286/wessam-yaacob"}, "reply_to_user": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "edited": false, "score": 0, "creation_date": 1576055924, "post_id": 59282265, "comment_id": 104770822, "body": "I&#39;ll take a look"}], "tags": [], "owner": {"reputation": 636, "user_id": 7122286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lqIeG.jpg?s=128&g=1", "display_name": "wessam yaacob", "link": "https://stackoverflow.com/users/7122286/wessam-yaacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1576094275, "last_edit_date": 1576094275, "creation_date": 1576055635, "answer_id": 59282265, "question_id": 59279986, "link": "https://stackoverflow.com/questions/59279986/angular-async-validation-not-printing-error-message/59282265#59282265", "title": "Angular async validation not printing error message", "body": "<p>The most important point in the async validation is as descriped in Angular Doc </p>\n\n<blockquote>\n  <p>The observable returned must be finite, meaning it must complete at\n  some point. To convert an infinite observable into a finite one, pipe\n  the observable through a filtering operator such as first, last, take,\n  or takeUntil.</p>\n</blockquote>\n\n<p>so basically you can use for example <code>take(1)</code> , it'll take the first emission then mark the Observable <code>completed</code></p>\n\n<pre><code> return control.valueChanges.pipe(\n  debounceTime(500),\n  take(1),\n  switchMap(() =&gt;\n    this._httpService.checkProjectID(control.value).pipe(\n      map(isTaken =&gt;\n        isTaken ? { noproject: true } : null\n      )\n    ))\n)\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-l2etgg?file=src/app/projectid.service.ts\" rel=\"nofollow noreferrer\">demo</a></p>\n"}], "owner": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 59280386, "answer_count": 3, "score": 1, "last_activity_date": 1576094275, "creation_date": 1576045826, "last_edit_date": 1576047042, "question_id": 59279986, "link": "https://stackoverflow.com/questions/59279986/angular-async-validation-not-printing-error-message", "title": "Angular async validation not printing error message", "body": "<p>Below is my Component : </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { HttpService } from './http.service';\nimport { ProjectidService } from './projectid.service';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n projectDetailForm: FormGroup;\n  public submitted = false;\n  constructor(private fb: FormBuilder, private projectidvalidator: ProjectidService) { }\n\n  ngOnInit() {\n    this.projectDetailForm = this.fb.group({\n      projectid: ['', [Validators.required], [this.projectidvalidator.validate.bind(this.projectidvalidator)]],\n      projectname: ['name', Validators.required]\n    })\n  }\n  get f() { return this.projectDetailForm.controls; }\n\n  get validprojectid() { return this.projectDetailForm.get('projectid'); }\n\n  onSubmit(form: FormGroup) {\n    this.submitted = true;\n\n    // stop here if form is invalid\n    if (this.projectDetailForm.invalid) {\n      return;\n    }\n    console.log('Valid?', this.projectDetailForm.valid); // true or false\n    console.log('ID', this.projectDetailForm.value.projectid);\n    console.log('Name', this.projectDetailForm.value.projectname);\n  }\n\n}\n</code></pre>\n\n<p>My Service :</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { delay, tap, debounceTime } from 'rxjs/operators';\n@Injectable()\nexport class HttpService {\n\n  constructor() { }\n\n  checkProjectID(id): Observable&lt;any&gt; {\n     // Here I will have valid HTTP service call to check the data\n\n     return of(true)\n  }\n}\n</code></pre>\n\n<p>My Async validator : </p>\n\n<pre><code>import { HttpService } from './http.service';\nimport { Injectable } from '@angular/core';\nimport { AsyncValidator, AbstractControl, ValidationErrors } from '@angular/forms';\nimport { Observable, of } from 'rxjs';\nimport { map, catchError, debounceTime, switchMap } from 'rxjs/operators';\n@Injectable()\nexport class ProjectidService {\n\n  constructor(private _httpService:HttpService) { }\n\n\n    validate(control: AbstractControl): Promise&lt;ValidationErrors | null&gt; | Observable&lt;ValidationErrors | null&gt; {\n        console.log(control.value);\n\n        return control.valueChanges.pipe(\n            debounceTime(500),\n            switchMap(_ =&gt; this._httpService.checkProjectID(control.value).pipe(\n                map(isTaken =&gt; {\n                    console.log(isTaken);\n                    if (isTaken) {\n                        return { noproject: true }\n                    } else {\n                        return null\n                    }\n\n                })\n            )),\n            catchError(() =&gt; null)\n        );\n\n\n    }\n\n}\n</code></pre>\n\n<p>and template : </p>\n\n<pre><code>&lt;form [formGroup]=\"projectDetailForm\" name=\"projectdetails\" (ngSubmit)=\"onSubmit(projectDetailForm)\"&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"id\"&gt;Project ID&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"id\" [ngClass]=\"{ 'is-invalid': f.projectid.invalid &amp;&amp; (f.projectid.dirty || f.projectid.touched) }\" placeholder=\"Project ID\" name=\"projectid\" formControlName='projectid'&gt;\n        &lt;button type=\"button\"&gt;Validate&lt;/button&gt;\n        &lt;div *ngIf=\"f.projectid.invalid &amp;&amp; (f.projectid.dirty || f.projectid.touched)\" class=\"invalid-feedback\"&gt;\n            &lt;div *ngIf=\"f.projectid.errors.required\"&gt;Project ID is required&lt;/div&gt;\n            &lt;div *ngIf=\"f.projectid.errors?.noproject\"&gt;\n                Project id is not valid\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div *ngIf=\"f.projectid.errors?.noproject\"&gt;\n            Project id is not valid\n        &lt;/div&gt;\n        {{f.projectid.errors | json}}\n    &lt;/div&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"name\"&gt;Project Name&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"Project Name\" name=\"projectname\" readonly formControlName='projectname'&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group d-flex justify-content-end\"&gt;\n        &lt;div class=\"\"&gt;\n            &lt;button type=\"button\" class=\"btn btn-primary\"&gt;Cancel&lt;/button&gt;\n            &lt;button type=\"submit\" class=\"btn btn-primary ml-1\"&gt;Next&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Problem is my custom <code>async</code> validation error message is not getting displayed.</p>\n\n<p>Here is <a href=\"https://stackblitz.com/edit/angular-dbvc4h?file=src/app/validators/projectid.validator.ts\" rel=\"nofollow noreferrer\">stackblitz</a> example </p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "environment-variables", "next.js"], "comments": [{"owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "edited": false, "score": 0, "creation_date": 1576047457, "post_id": 59279976, "comment_id": 104767094, "body": "<code>getInitialProps</code> runs server side only on first render, that is how it works"}, {"owner": {"reputation": 193, "user_id": 5653336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mihob.png?s=128&g=1", "display_name": "Techedemic", "link": "https://stackoverflow.com/users/5653336/techedemic"}, "reply_to_user": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "edited": false, "score": 0, "creation_date": 1576047744, "post_id": 59279976, "comment_id": 104767185, "body": "I expected as much, but what alternative do I have? This is a show stopper for me at the moment.   I&#39;ve thought of saving a state somewhere on initial load, but it&#39;s becoming rather messy now"}, {"owner": {"reputation": 193, "user_id": 5653336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mihob.png?s=128&g=1", "display_name": "Techedemic", "link": "https://stackoverflow.com/users/5653336/techedemic"}, "reply_to_user": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "edited": false, "score": 0, "creation_date": 1576050223, "post_id": 59279976, "comment_id": 104768075, "body": "For the moment, I&#39;m doing a check in the <code>_app.tsx</code> to <code>render()</code> see whether API_URL has already been set. If so, don&#39;t change it to the default...it works, but it&#39;s ugly..."}, {"owner": {"reputation": 2531, "user_id": 1017722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2ac70af04d1b1eaacf718526e4725d3f?s=128&d=identicon&r=PG", "display_name": "Evgeny Timoshenko", "link": "https://stackoverflow.com/users/1017722/evgeny-timoshenko"}, "edited": false, "score": 0, "creation_date": 1576052845, "post_id": 59279976, "comment_id": 104769245, "body": "you could use a custom <code>_document</code> to inject config to every page or wait for <a href=\"https://github.com/zeit/next.js/issues/9524\" rel=\"nofollow noreferrer\">github.com/zeit/next.js/issues/9524</a>"}, {"owner": {"reputation": 193, "user_id": 5653336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mihob.png?s=128&g=1", "display_name": "Techedemic", "link": "https://stackoverflow.com/users/5653336/techedemic"}, "reply_to_user": {"reputation": 2531, "user_id": 1017722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2ac70af04d1b1eaacf718526e4725d3f?s=128&d=identicon&r=PG", "display_name": "Evgeny Timoshenko", "link": "https://stackoverflow.com/users/1017722/evgeny-timoshenko"}, "edited": false, "score": 0, "creation_date": 1576057989, "post_id": 59279976, "comment_id": 104771978, "body": "@EvgenyTimoshenko I think that github issue will solve my problems. Will wait for that and use my current implementation as a hack in the meantime"}], "owner": {"reputation": 193, "user_id": 5653336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mihob.png?s=128&g=1", "display_name": "Techedemic", "link": "https://stackoverflow.com/users/5653336/techedemic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 521, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576046969, "creation_date": 1576045742, "last_edit_date": 1576046969, "question_id": 59279976, "link": "https://stackoverflow.com/questions/59279976/nextjs-getinitialprops-behaving-strangely-when-navigating-via-link", "title": "nextjs getInitialProps behaving strangely when navigating via link", "body": "<p>I need <code>getInitialProps</code> to run <strong>server side</strong> very time a page is rendered, but it seems it only runs on first render of a page in my project. Every subsequent render (e.g., I followed a link or pushed a new route via <code>Router.push(</code>\\link<code>)</code>), only runs client side and I don't have access to ENV variables defined on the server-side, e.g. my GraphQL API_URL.</p>\n\n<p>This is my project structure.</p>\n\n<pre><code>./pages\n   _app.tsx\n   index.tsx\n   other.tsx\n</code></pre>\n\n<p>In <code>_app.tsx</code> I have the following</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class CustomApp extends App {\n  static async getInitialProps({ Component, ctx }: AppContext) {\n    let pageProps = {};\n\n    if (Component.getInitialProps) {\n      pageProps = await Component.getInitialProps(ctx);\n    }\n\n    return { pageProps };\n  }\n\n  render() {\n    const { Component, pageProps } = this.props;\n\n    return (\n      &lt;&gt;\n        &lt;Head&gt;\n          &lt;title&gt;My cool app&lt;/title&gt;\n        &lt;/Head&gt;\n        &lt;Component {...pageProps} /&gt;\n      &lt;/&gt;\n    );\n  }\n}\n\nexport default CustomApp;\n</code></pre>\n\n<p>In <code>index.tsx</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React, { Component } from 'react';\nimport Router from 'next/router';\n\nclass Index extends Component {\n  navigateToApplication = () =&gt; {\n    Router.push('/other');\n  };\n\n  render() {\n    return (\n      &lt;div style={{width:100px, height:20px, color:red}} onClick={this.navigateToApplication}&gt;      \n        Click me!\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default Index;\n</code></pre>\n\n<p>In <code>other.tsx</code> I have the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React, { Component } from 'react';\nimport dynamic from 'next/dynamic';\nimport config from '../src/config';\n\n//Ensure the WizardComponent loads CLIENT SIDE. This makes the 'fetch' utility available for the gqlClient\nconst WizardComponent = dynamic(() =&gt; import('../src/components/layout/WizardComponent'), { ssr: false });\n\nclass Application extends Component {\n static async getInitialProps() {\n    return { config };\n  }\n\n  render() {\n\n    return &lt;ApplicationWizard apiUrl={config.API_URL} /&gt;;\n  }\n}\n\nexport default Application;\n</code></pre>\n\n<p>In <code>config.ts</code> the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import getConfig from 'next/config';\nconst nextConfig = getConfig();\n\nconst clientConfig = (nextConfig &amp;&amp; nextConfig.publicRuntimeConfig\u00e5) || {};\nconst settings = Object.keys(process.env).length &gt; 1 ? process.env : clientConfig;\n\nconst config = new (class {\n  constructor(private readonly settings: Record&lt;string, string | undefined&gt;) {\n    console.log('getting details', settings);\n    console.log('NODE_ENV', this.settings['NODE_ENV']);\n    console.log('API_URL', this.settings['API_URL']);\n  }\n\n\n  readonly ENVIRONMENT = process.env.ENVIRONMENT || this.settings['NODE_ENV'] || 'development';\n  readonly API_URL = process.env.API_URL || this.settings['API_URL'] || 'http://localhost:4000/graphql';\n})(settings);\n\nexport default config;\n\n</code></pre>\n\n<p>In <code>next.config.js</code> I have the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const pick = require('lodash/pick');\nconst withCSS = require('@zeit/next-css');\nconst withSass = require('@zeit/next-sass');\nconst withPlugins = require('next-compose-plugins');\nconst withGraphql = require('next-plugin-graphql');\nconst path = require('path');\n\nconst nextConfig = {        \n\n  webpack: (config, options) =&gt; {    \n    config.resolve.alias['src'] = path.join(__dirname, 'src/');      \n    return config;\n  }\n  ,publicRuntimeConfig : pick(process.env, ['NODE_ENV', 'API_URL']) \n};\n\nmodule.exports = withPlugins([withCSS, withSass, withGraphql], nextConfig);\n</code></pre>\n\n<p>If I visit <code>http://host.url/other</code> directly, the <code>getInitialProps</code> method executes as expected. If I navigate to the page via a nextjs method, e.g. <code>Router.push</code> or a <code>&lt;Link&gt;</code> HOC, then the env variables returns undefined and I fall back to default values...</p>\n\n<p>I'm obviously missing something here..please help!</p>\n\n<p>All I want to do is have env variable <code>API_URL</code> available on my <code>other.tsx</code> page regardless of how I get there...</p>\n"}, {"tags": ["typescript", "typescript-generics"], "comments": [{"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576058167, "post_id": 59279796, "comment_id": 104772062, "body": "Very interesting. Looks like problem is with generic T, as everyting works for static type set. First thought is that the problem is with probably intersection between A and B which cannot be solved by compiler if B is unknown. Tried such type, and no luck for now: <code>type Mix&lt;A, B&gt; = {   [K in keyof A]: A[K] } &amp; {   [K in Exclude&lt;keyof B, keyof A&gt;]: B[K] } </code>"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576058613, "post_id": 59279796, "comment_id": 104772302, "body": "The question is what sense has such structure, as we know you cannot in the body of <code>test</code> function put any property of T, as it is unknown at this level. It means that this function always works with just <code>Partial&lt;Versionable&gt;</code> type. Can you share what is the purpose of type T here?"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576059354, "post_id": 59279796, "comment_id": 104772719, "body": "Another version of the same type would be - <code>type Mix&lt;A, B&gt; = A &amp; Pick&lt;B, Exclude&lt;keyof B, keyof A&gt;&gt;</code>. But the question remains was is the purpose of type T inside <code>test</code>"}, {"owner": {"reputation": 267, "user_id": 1742133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30bfeab3b4ad1183eef1ad853d85973a?s=128&d=identicon&r=PG", "display_name": "Jess", "link": "https://stackoverflow.com/users/1742133/jess"}, "reply_to_user": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1576202270, "post_id": 59279796, "comment_id": 104831768, "body": "Hi, in short I have an API that is parameterised with a generic type T but it has certain requirements of T, like being versionable. But T extends { version: number } for example won&#39;t cut it because I can&#39;t then do a partial of T and set it to { version: 1 } when specifying a filter/where clause for example. (because in T version might be extended to be a more specific type than number, say only the numbers 2 and 3, and the compiler therefore won&#39;t let me set it to 1). I therefore need a type that is all of T except for properties I require. Hope that makes sense!"}], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 1742133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30bfeab3b4ad1183eef1ad853d85973a?s=128&d=identicon&r=PG", "display_name": "Jess", "link": "https://stackoverflow.com/users/1742133/jess"}, "edited": false, "score": 0, "creation_date": 1576202461, "post_id": 59289685, "comment_id": 104831807, "body": "Thanks for this. I&#39;ll chalk it up to a compiler bug then and say hello to my little friend.... any! ;)"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1576084546, "last_edit_date": 1576084546, "creation_date": 1576080020, "answer_id": 59289685, "question_id": 59279796, "link": "https://stackoverflow.com/questions/59279796/typescript-partial-of-a-generic-type/59289685#59289685", "title": "TypeScript partial of a generic type", "body": "<p>I think the behavior here is the same as in <a href=\"https://github.com/microsoft/TypeScript/issues/13442\" rel=\"nofollow noreferrer\">microsoft/TypeScript#13442</a>; almost no concrete values are seen by the compiler as assignable to <code>Partial&lt;SomethingDependingOnAGenericTypeParam&gt;</code> except for ones with properties of type <code>undefined</code> (this is responsible for <code>obj2</code>'s behavior) or an empty object (this is responsible for <code>obj4</code>'s behavior).</p>\n\n<p>This restriction is usually a defensible one because often these assignments are unsafe:</p>\n\n<pre><code>function unsafeCaught&lt;T extends { a: string }&gt;() {\n  const nope: Partial&lt;T&gt; = { a: \"\" }; // CORRECT error  \n}\ninterface Oops { a: \"someStringLiteralType\" };\nunsafeCaught&lt;Oops&gt;(); // {a: \"\"} is not a valid Partial&lt;Oops&gt;\n</code></pre>\n\n<p>(this is responsible for <code>obj3</code>'s behavior.)  But the restriction also prevents certain known-safe ones, like yours, which has been specifically crafted:</p>\n\n<pre><code>function safeCaught&lt;T extends { a: string }&gt;() {\n  const stillNope: { [K in keyof T]?: K extends \"a\" ? string : T[K] }\n    = { a: \"\" }; // incorrect error\n}\n</code></pre>\n\n<p>(this is responsible for <code>obj1</code>'s behavior.)  In these cases the compiler simply isn't performing the analysis necessary for this to work.  A <a href=\"https://github.com/microsoft/TypeScript/issues/31070\" rel=\"nofollow noreferrer\">similar issue, microsoft/TypeScript#31070</a> was actually considered to be a bug and fixed, but in that case the mapped property type was a constant like <code>number</code> whereas in yours it's a conditional type.  And the compiler already does a rather poor job of verifying assignability to conditional types that depend on unresolved generic parameters.  So for your case I'd chalk this up to a design limitation of TypeScript and use a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> to establish that you know better than the compiler in this case:</p>\n\n<pre><code>const obj1 = { version: 1 } as Partial&lt;Mix&lt;Versionable, T&gt;&gt;; // okay now\n</code></pre>\n\n<hr>\n\n<p>Oddly enough, this restriction is loosened when you write to a property instead of assigning an object to the variable, so you end up with the very same unsound behavior with no error:</p>\n\n<pre><code>function unsafeUncaught&lt;T extends { a: string }&gt;(val: Partial&lt;T&gt;) {\n  val.a = \"\"; // uh, wait\n}\nconst oops: Oops = { a: \"someStringLiteralType\" };\nunsafeUncaught(oops);\n</code></pre>\n\n<p>I'm <a href=\"https://github.com/microsoft/TypeScript/issues/33134#issuecomment-526202753\" rel=\"nofollow noreferrer\">not sure why</a> but it's probably a design decision somewhere.  And therefore the following also gives you no error, but only coincidentally, since it's not properly checking in the first place:</p>\n\n<pre><code>function safeUncaught&lt;T extends { a: string }&gt;(\n  val: { [K in keyof T]?: K extends \"a\" ? string : T[K] }\n) {\n  val.a = \"\"; // okay but coincidentally\n}\n</code></pre>\n\n<p>This is probably why your <code>version1</code>, <code>version2</code>, and <code>version3</code> work, as well as <code>obj4.version = 1</code>.</p>\n\n<hr>\n\n<p>Okay, hope that helps.  Good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABOAzgQ2AUwMJpAcwAsoAeAFUUwA8pMwATFRAb0TQC5EUoAnGMfIgC+APgAUAShYAoRIggJuiMHAAOmTgAU0PWGgA25EYgC8LNpwBEl4QG5EAegeJsAeQBK7gKLYKmHjxwPHLSQtL8tDzAaBCYiK5qTKwciJYocAC2mADKvPz4ADIwkQZkAJ7qNkK20qgYOHhEpAmqKOIS9k4sKdZCiDBMKlBsiABuBjD0iNq6MAYkLW2y0tKgkLAIXPW4BMTklDR0jOYp3HwCwu0ycgpgStww+voAcmoa5gDaANL9SADWmDKcGAiDIAF0APycH7UWgMJiWNA2CFcPIXThkb5g4SyOSmE5WKqdZz8BQBTDQSgBIKhFbSKAVOIAWRgVBIAEEADSIABCxjMzFx31+iABQJBPMQAB9RYDgYh2WDoQc4ccxfL2biUeysbjlbCjkx1RKtbzdXJOGBMKN-LT6YzEAA1fwoeBgNAAI30cQFYxdbstIAyHv8ONW4GgbsQtG4RkknFGcEm13kimGcA9ACsAIz41g2niuhCcXN9NBMGZ6QwstnOwtuz3e7lkEQiYmIOB-NBlZRwADudrp4fWUbqWAAqpBGns-Id4QTUedBKIxON9FodFWjFJBXI1wA6ND46ztkCEbl9tDFWm3JRwRKcRZ5iypdJZXJLoolfTlSp2Wp3PUk4QNOUBiPerQdCsayRps6ATlOuykLOqpJC+Zz5Jcq4GJwrDCvwsriqCkL6nOxyIsii6YRiWLCDuuIHkeZgno4zidt2iAeiAwwKKSkx0FABj6GUtJAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 267, "user_id": 1742133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30bfeab3b4ad1183eef1ad853d85973a?s=128&d=identicon&r=PG", "display_name": "Jess", "link": "https://stackoverflow.com/users/1742133/jess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1466, "favorite_count": 1, "accepted_answer_id": 59289685, "answer_count": 1, "score": 0, "last_activity_date": 1576084546, "creation_date": 1576044803, "last_edit_date": 1576046851, "question_id": 59279796, "link": "https://stackoverflow.com/questions/59279796/typescript-partial-of-a-generic-type", "title": "TypeScript partial of a generic type", "body": "<p>I'd like to define a type as a mix of explicit properties and a generic type, with the explicit properties taking precedence in case of matching keys. Below is my attempt but I'm getting an error on the line indicated - can anyone explain why or is this a tsc/compiler bug?</p>\n\n<pre><code>// Takes properties in A and B. For matching properties, the types in A are used.\ntype Mix&lt;A, B&gt; = {\n  [K in keyof B | keyof A]: K extends keyof A\n    ? A[K]\n    : K extends keyof B\n    ? B[K]\n    : never\n}\n\ntype Versionable = { version: number }\n\nfunction test&lt;T&gt;(): void {\n  const version1: Partial&lt;Mix&lt;Versionable, T&gt;&gt;['version'] = 1 // compiles - version type is correctly inferred as number | undefined\n  const version2: Partial&lt;Mix&lt;Versionable, T&gt;&gt;['version'] = undefined // compiles\n  const version3: Partial&lt;Mix&lt;Versionable, T&gt;&gt;['version'] = '1' // does not compile as expected\n\n  const obj1: Partial&lt;Mix&lt;Versionable, T&gt;&gt; = { version: 1 } // DOES NOT COMPILE.... WHY??\n  const obj2: Partial&lt;Mix&lt;Versionable, T&gt;&gt; = { version: undefined } // compiles\n  const obj3: Partial&lt;Mix&lt;Versionable, T&gt;&gt; = { version: '1' } // does not compile as expected\n  const obj4: Partial&lt;Mix&lt;Versionable, T&gt;&gt; = {} // compiles\n  obj4.version = 1 // compiles\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 620, "user_id": 4834907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d05fc2366f1d52b4b3acf5e7d844ae01?s=128&d=identicon&r=PG&f=1", "display_name": "Pujan Shah", "link": "https://stackoverflow.com/users/4834907/pujan-shah"}, "edited": false, "score": 0, "creation_date": 1576045751, "post_id": 59279545, "comment_id": 104766455, "body": "Please put these on stackblitz as it will be helpful for us to solve."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1576050422, "post_id": 59279545, "comment_id": 104768170, "body": "Validators.required it&#39;s ok if the value is not null, so, in your &quot;options&quot; you need included a <code>&lt;mat-option  [ngValue]=&quot;null&quot;&gt;Choose one&lt;&#47;mat-option&gt;</code>. BTW, use simple <code>formControlName=&quot;courseId&quot; </code> see the case sensitive and not []. Futhermore, you can pass to the input the own formControl if you want, and use <code>[formControl]=&quot;control&quot;</code> where <code>@Input()control:FormControl</code> and <code>&lt;kt-searchable-dropdown [control]=&quot;formGroup.get(&#39;courseId&#39;)&quot;..&gt;</code>"}, {"owner": {"reputation": 249, "user_id": 12212344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kVOZ786rnAM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJlxXZdHmapwYNB1VUFyLU7jVRcw/photo.jpg?sz=128", "display_name": "kianoush dortaj", "link": "https://stackoverflow.com/users/12212344/kianoush-dortaj"}, "edited": false, "score": 0, "creation_date": 1576051125, "post_id": 59279545, "comment_id": 104768443, "body": "i need when dropdown is <code>touched</code> and not select any this i show error"}], "answers": [{"tags": [], "owner": {"reputation": 6943, "user_id": 6099327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/q9Evf.jpg?s=128&g=1", "display_name": "Nitheesh", "link": "https://stackoverflow.com/users/6099327/nitheesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1576046979, "last_edit_date": 1576046979, "creation_date": 1576044878, "answer_id": 59279807, "question_id": 59279545, "link": "https://stackoverflow.com/questions/59279545/bind-form-validation-in-other-components/59279807#59279807", "title": "bind form validation in other components", "body": "<p>You can achieve this by using angular <code>observables</code>. Create a service to hold the error state in your first component.</p>\n\n<p>ErrorService.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs/BehaviorSubject';\n\n@Injectable()\nexport class ErrorService {\n\n  private errorObj = new Subject&lt;any&gt;({});\n  data = this.errorObj.asObservable();\n\n  constructor() { }\n\n  updatedErrorObj(error){\n    this.errorObj.next(error);\n  }\n\n  getErrorObj(){\n    return this.errorObj.asObservable();\n  }\n}\n</code></pre>\n\n<p>Inside your first component, you need to create an instance of this service and on error stage update the error object.</p>\n\n<p>FirstComponent.ts</p>\n\n<pre><code>// Creating an instance of service in constructor\nconstructor(private errorService: ErrorService) { }\nonSubmit() {\n    if(this.courseAddForm.invalid) {\n        // Updating error object\n        cont errorObject = { key: 'value' }; //Create your custom error object here\n        this.errorService.updatedErrorObj(errorObject);\n\n    }\n}\n</code></pre>\n\n<p>Caputure this error in the <code>SearchableDropdownComponent</code></p>\n\n<pre><code>// Creating an instance of service in constructor\nconstructor(private errorService: ErrorService) {\n    errorService.getErrorObj.subscribe(data =&gt; {\n      // do what ever needs doing when data changes\n      // You will recive the error object here.\n    })\n}\n</code></pre>\n\n<p>Please refer this <a href=\"https://medium.com/@mirokoczka/3-ways-to-communicate-between-angular-components-a1e3f3304ecb#7758\" rel=\"nofollow noreferrer\">blog</a> for details.</p>\n"}], "owner": {"reputation": 249, "user_id": 12212344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kVOZ786rnAM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJlxXZdHmapwYNB1VUFyLU7jVRcw/photo.jpg?sz=128", "display_name": "kianoush dortaj", "link": "https://stackoverflow.com/users/12212344/kianoush-dortaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576046979, "creation_date": 1576043289, "last_edit_date": 1576044373, "question_id": 59279545, "link": "https://stackoverflow.com/questions/59279545/bind-form-validation-in-other-components", "title": "bind form validation in other components", "body": "<p>I have components in order to add user.</p>\n\n<p>This is my form component:</p>\n\n<pre><code>createForm(): void {\n    this.courseAddForm = this.formBuilder.group({\n        name: ['', [\n            Validators.required,\n            Validators.maxLength(this.val.maxLen.title)\n        ]],\n        roleId: ['', Validators.compose([Validators.required])]\n    });\n}\n</code></pre>\n\n<p><code>name :</code> username ,</p>\n\n<p><code>roleId :</code> selected role from dropdown . </p>\n\n<p>I create a acomponents for <code>roleId</code> . <code>&lt;kt-searchable-dropdown&gt;</code></p>\n\n<p><strong>HTML :</strong></p>\n\n<pre><code>       &lt;form id=\"courseAddForm\" [formGroup]=\"courseAddForm\" (ngSubmit)=\"onSubmit()\" autocomplete=\"off\"&gt;\n                &lt;div class=\"form-group kt-form__group row\"&gt;\n                    &lt;!-- title --&gt;\n                    &lt;div class=\"col-lg-6 kt-margin-bottom-20-mobile\"&gt;\n                        &lt;mat-form-field class=\"mat-form-field-fluid\" appearance=\"outline\"&gt;\n                            &lt;mat-label&gt;{{'GENERAL.TITLE' | translate}} *&lt;/mat-label&gt;\n                            &lt;input matInput formControlName=\"title\" [placeholder]=\"'GENERAL.TITLE' | translate\"&gt;\n                            &lt;!--requied error--&gt;\n                            &lt;mat-error *ngIf=\"courseAddForm.get('title').errors?.required\"&gt;\n                                {{ 'VALIDATION.REQUIRED.TITLE' | translate }}&lt;/mat-error&gt;\n                            &lt;!--length error--&gt;\n                            &lt;mat-error *ngIf=\"courseAddForm.get('title').errors?.maxlength\"&gt;\n                                {{'VALIDATION.MAX_LENGTH' | translate}} {{val.maxLen.title}}\n                            &lt;/mat-error&gt;\n                        &lt;/mat-form-field&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=\"col-lg-6 kt-margin-bottom-20-mobile\"&gt;\n                        &lt;kt-searchable-dropdown [formGroup]=\"courseAddForm\" [formcontrolName]=\"'courseId'\" (selectedId)=\"selectedCourse($event)\"\n                            [formTitle]=\"'COURSE.COURSE_GROUP'\" [url]=\"url\"&gt;&lt;/kt-searchable-dropdown&gt;\n                    &lt;/div&gt;\n\n                &lt;/div&gt;\n            &lt;/form&gt;\n</code></pre>\n\n<p>This is my component for <code>roleId</code> dropdown :</p>\n\n<p><strong>TS :</strong></p>\n\n<pre><code>export class SearchableDropdownComponent implements OnInit {\n\n@Input() url: string;\n@Input() formTitle: string;\n@Input() ItemId: number;\n@Input() formcontrolName: string;\n@Input() formGroup: FormGroup;\n@Output() selectedId = new EventEmitter&lt;number&gt;();\n\nloading = false;\nvalues: KeyValue[];\ntitle: string;\nfC: FormControl;\n\nconstructor(\n    private searchService: SearchableDropDownService,\n    private cdRef: ChangeDetectorRef) {\n\n}\n\nngOnInit(): void {\n    this.getValues(null);\n}\n\ngetValues(event): void {\n\n    this.cdRef.detectChanges();\n    this.loading = true;\n\n    let model = {} as SendDateModel;\n    model.page = 1;\n    model.pageSize = 60;\n    model.title = event;\n\n    this.searchService.getAll(this.url, model).subscribe(data =&gt; {\n        this.values = data['result']['records'];\n        this.cdRef.detectChanges();\n        this.loading = false;\n    });\n\n}\n}\n</code></pre>\n\n<p><strong>HTML :</strong></p>\n\n<pre><code>&lt;form [formGroup]=\"formGroup\"&gt;\n&lt;mat-form-field appearance=\"outline\"&gt;\n    &lt;mat-label&gt;{{formTitle| translate}} *&lt;/mat-label&gt;\n    &lt;mat-select formControlName=\"courseId\" &gt;\n        &lt;div class=\"col-lg-12 mt-4 kt-margin-bottom-20-mobile\"&gt;\n            &lt;mat-form-field class=\"mat-form-field-fluid\" appearance=\"outline\"&gt;\n                &lt;mat-label&gt;{{'GENERAL.TITLE' | translate}} *&lt;/mat-label&gt;\n                &lt;input (keyup)=\"getValues($event.target.value)\" matInput\n                    [placeholder]=\"'GENERAL.TITLE' | translate\"&gt;\n            &lt;/mat-form-field&gt;\n        &lt;/div&gt;\n        &lt;mat-progress-bar *ngIf=\"loading\" class=\"mb-2\" mode=\"indeterminate\"&gt;&lt;/mat-progress-bar&gt;\n        &lt;mat-option  (click)=\"emitdata(item.key)\" *ngFor=\"let item of values\"\n            [(ngModel)]=\"ItemId\" [value]=\"item.key\"&gt;\n            {{item.value}}\n        &lt;/mat-option&gt;\n        &lt;mat-error *ngIf=\"formGroup.get('courseId').errors?.required\"&gt;\n            {{ 'COURSE.VALIDATIONS.REQUIRED.CLASS_LEVEL' | translate }}&lt;/mat-error&gt;\n    &lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p></p>\n\n<p>I write this code but it is not work. </p>\n\n<p><strong>i need to bind validation in the form in this components . for example when <code>roleId</code> is required and user not select item ,show error that the <code>roleId</code> is reqierd , I need to show it in this components <code>SearchableDropdownComponent</code> . how can i do this ????</strong></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1757, "user_id": 791799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c279919bca8edc5bb9556511383e7da0?s=128&d=identicon&r=PG", "display_name": "Jacob Nelson", "link": "https://stackoverflow.com/users/791799/jacob-nelson"}, "edited": false, "score": 1, "creation_date": 1576041805, "post_id": 59279289, "comment_id": 104765246, "body": "Please be specific about the issue you are facing and the result you are looking for."}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "reply_to_user": {"reputation": 1757, "user_id": 791799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c279919bca8edc5bb9556511383e7da0?s=128&d=identicon&r=PG", "display_name": "Jacob Nelson", "link": "https://stackoverflow.com/users/791799/jacob-nelson"}, "edited": false, "score": 0, "creation_date": 1576042023, "post_id": 59279289, "comment_id": 104765302, "body": "Agreed with @JacobNelson!"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1576042083, "post_id": 59279289, "comment_id": 104765321, "body": "Is that <code>addfield</code> uses forloop? I am show the all HTML part not just button markup"}, {"owner": {"reputation": 4481, "user_id": 5939058, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/m438e.jpg?s=128&g=1", "display_name": "Surjeet Bhadauriya", "link": "https://stackoverflow.com/users/5939058/surjeet-bhadauriya"}, "edited": false, "score": 0, "creation_date": 1576042125, "post_id": 59279289, "comment_id": 104765336, "body": "Are you getting any error for this or what?"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "reply_to_user": {"reputation": 8043, "user_id": 2900893, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vjfG0.jpg?s=128&g=1", "display_name": "Shabbir Dhangot", "link": "https://stackoverflow.com/users/2900893/shabbir-dhangot"}, "edited": false, "score": 0, "creation_date": 1576042221, "post_id": 59279289, "comment_id": 104765368, "body": "@ShabbirDhangot In what way you suggesting for duplicate? I mean (to me) it not clear what OP wants"}, {"owner": {"reputation": 5, "user_id": 11688122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87330f38d60c859907ae93e6f3033cca?s=128&d=identicon&r=PG&f=1", "display_name": "RAMA Y", "link": "https://stackoverflow.com/users/11688122/rama-y"}, "edited": false, "score": 0, "creation_date": 1576042314, "post_id": 59279289, "comment_id": 104765395, "body": "when I&#39;m doing button click with above code only one time only the child component is added, I want to add it on every click"}, {"owner": {"reputation": 8043, "user_id": 2900893, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vjfG0.jpg?s=128&g=1", "display_name": "Shabbir Dhangot", "link": "https://stackoverflow.com/users/2900893/shabbir-dhangot"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1576042525, "post_id": 59279289, "comment_id": 104765453, "body": "@PrashantPimpale I understood what he wants. Its kind a approach he is asking. He is not aware about how to achieve."}, {"owner": {"reputation": 5, "user_id": 11688122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87330f38d60c859907ae93e6f3033cca?s=128&d=identicon&r=PG&f=1", "display_name": "RAMA Y", "link": "https://stackoverflow.com/users/11688122/rama-y"}, "edited": false, "score": 0, "creation_date": 1576042615, "post_id": 59279289, "comment_id": 104765477, "body": "the template contain so much html code that&#39;s why i&#39;m not using adding each element(not using Renderer2) in parent component"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "reply_to_user": {"reputation": 8043, "user_id": 2900893, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vjfG0.jpg?s=128&g=1", "display_name": "Shabbir Dhangot", "link": "https://stackoverflow.com/users/2900893/shabbir-dhangot"}, "edited": false, "score": 0, "creation_date": 1576043019, "post_id": 59279289, "comment_id": 104765595, "body": "@ShabbirDhangot Well but I seems that both que. are fairly irrelevant!"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11688122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87330f38d60c859907ae93e6f3033cca?s=128&d=identicon&r=PG&f=1", "display_name": "RAMA Y", "link": "https://stackoverflow.com/users/11688122/rama-y"}, "edited": false, "score": 1, "creation_date": 1576043078, "post_id": 59279460, "comment_id": 104765612, "body": "it&#39;s working, Thank you"}], "tags": [], "owner": {"reputation": 96, "user_id": 12188377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76f54c1e90529ac9f1a0502f8f19bce?s=128&d=identicon&r=PG&f=1", "display_name": "Nikunj Kakadiya", "link": "https://stackoverflow.com/users/12188377/nikunj-kakadiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1576042634, "creation_date": 1576042634, "answer_id": 59279460, "question_id": 59279289, "link": "https://stackoverflow.com/questions/59279289/onclick-append-child-component-template-for-every-click-in-angular/59279460#59279460", "title": "onclick append child component template for every click in angular", "body": "<p>You can use <code>*ngFor</code> on array, so you need to make a Temp array Like below:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-farmer-registration',\n  templateUrl: './farmer-registration.component.html',\n  styleUrls: ['./farmer-registration.component.css']\n})\nexport class FarmerRegistrationComponent implements OnInit {\npublic   loadComponent:any[] = [];\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n    addfield(){\n        this.loadComponent.push(1);\n\n    }\n}\n</code></pre>\n\n<p><strong>And your html like below:</strong><br><br>\nThe button html:</p>\n\n<pre><code>&lt;button type=\"button\" class=\"btn btn-success btn-sm btn-add-phone\" (click)=\"addfield()\"&gt;&lt;span class=\"fa fa-plus\"&gt;&lt;/span&gt; &lt;/button&gt;\n</code></pre>\n\n<p>The child component to be loaded on each button click:</p>\n\n<pre><code>&lt;app-farmer-registration-phone *ngFor=\"let item of loadComponent\"&gt;&lt;/app-farmer-registration-phone&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4481, "user_id": 5939058, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/m438e.jpg?s=128&g=1", "display_name": "Surjeet Bhadauriya", "link": "https://stackoverflow.com/users/5939058/surjeet-bhadauriya"}, "is_accepted": false, "score": 1, "last_activity_date": 1576042740, "creation_date": 1576042740, "answer_id": 59279477, "question_id": 59279289, "link": "https://stackoverflow.com/questions/59279289/onclick-append-child-component-template-for-every-click-in-angular/59279477#59279477", "title": "onclick append child component template for every click in angular", "body": "<p>So for this you have to use <code>ngFor</code> </p>\n\n<p>First, make a dummy <code>array</code>. And iterate through that <code>array</code> to add <code>child component</code>.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-txwwrp\" rel=\"nofollow noreferrer\"><strong>Stackblitz Demo</strong></a></p>\n\n<blockquote>\n  <p><strong>Component</strong></p>\n</blockquote>\n\n<pre><code>arr = [];\n\naddfield() {\n  this.arr.push(''); // just add an empty string or whatever\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>Html</strong></p>\n</blockquote>\n\n<pre><code>&lt;div *ngFor=\"let item of arr\"&gt;\n  &lt;app-farmer-registration-phone&gt;&lt;/app-farmer-registration- \n   phone&gt;\n&lt;/div&gt;\n\n&lt;button type=\"button\" class=\"btn btn-success btn-sm btn-add-phone\" (click)=\"addfield()\"&gt;&lt;span class=\"fa fa-plus\"&gt;&lt;/span&gt; &lt;/button&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1154, "user_id": 9739044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jB8Cs.jpg?s=128&g=1", "display_name": "sibabrat swain", "link": "https://stackoverflow.com/users/9739044/sibabrat-swain"}, "is_accepted": false, "score": 0, "last_activity_date": 1576043533, "last_edit_date": 1576043533, "creation_date": 1576043074, "answer_id": 59279520, "question_id": 59279289, "link": "https://stackoverflow.com/questions/59279289/onclick-append-child-component-template-for-every-click-in-angular/59279520#59279520", "title": "onclick append child component template for every click in angular", "body": "<p>You can achieve this by a for loop with the child component.</p>\n\n<p>Assume an array, then push new index into it while clicking on add Button. </p>\n\n<p>Follow the code.</p>\n\n<p><strong>Array</strong> </p>\n\n<pre><code>public items = []\n\npublic add () {\n this.items = [...this.items, this.items.length]\n}\n</code></pre>\n\n<p><strong>Child Component</strong></p>\n\n<pre><code>&lt;app-farmer-registration-phone *ngFor=\"let item of items\" &gt;&lt;/app-farmer-registration-phone&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-hwjxx9\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n"}], "owner": {"reputation": 5, "user_id": 11688122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87330f38d60c859907ae93e6f3033cca?s=128&d=identicon&r=PG&f=1", "display_name": "RAMA Y", "link": "https://stackoverflow.com/users/11688122/rama-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "closed_date": 1576043869, "answer_count": 3, "score": 1, "last_activity_date": 1576043533, "creation_date": 1576041433, "last_edit_date": 1576041982, "question_id": 59279289, "link": "https://stackoverflow.com/questions/59279289/onclick-append-child-component-template-for-every-click-in-angular", "closed_reason": "Duplicate", "title": "onclick append child component template for every click in angular", "body": "<p>How do I append a child component on every button click?</p>\n\n<p>The button html:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button type=\"button\" class=\"btn btn-success btn-sm btn-add-phone\" (click)=\"addfield()\"&gt;&lt;span class=\"fa fa-plus\"&gt;&lt;/span&gt; &lt;/button&gt;\n</code></pre>\n\n<p>The child component to be loaded on each button click:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;app-farmer-registration-phone *ngIf=\"loadComponent\"&gt;&lt;/app-farmer-registration-phone&gt;\n</code></pre>\n\n<p>Component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-farmer-registration',\n  templateUrl: './farmer-registration.component.html',\n  styleUrls: ['./farmer-registration.component.css']\n})\nexport class FarmerRegistrationComponent implements OnInit {\npublic   loadComponent = false;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n    addfield(){\n        this.loadComponent = true;\n\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "joi"], "comments": [{"owner": {"reputation": 9809, "user_id": 2308005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/I8e1z.jpg?s=128&g=1", "display_name": "Medet Tleukabiluly", "link": "https://stackoverflow.com/users/2308005/medet-tleukabiluly"}, "edited": false, "score": 0, "creation_date": 1576042628, "post_id": 59279198, "comment_id": 104765480, "body": "<a href=\"https://stackoverflow.com/a/32959534/2308005\">stackoverflow.com/a/32959534/2308005</a>"}, {"owner": {"reputation": 9809, "user_id": 2308005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/I8e1z.jpg?s=128&g=1", "display_name": "Medet Tleukabiluly", "link": "https://stackoverflow.com/users/2308005/medet-tleukabiluly"}, "edited": false, "score": 0, "creation_date": 1576042634, "post_id": 59279198, "comment_id": 104765483, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/32948271/extend-interface-defined-in-d-ts-file\">Extend interface defined in .d.ts file</a>"}, {"owner": {"reputation": 663, "user_id": 4960726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ccc89a0d5de76478d7cf01d804b4710?s=128&d=identicon&r=PG&f=1", "display_name": "vatosarmat", "link": "https://stackoverflow.com/users/4960726/vatosarmat"}, "reply_to_user": {"reputation": 9809, "user_id": 2308005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/I8e1z.jpg?s=128&g=1", "display_name": "Medet Tleukabiluly", "link": "https://stackoverflow.com/users/2308005/medet-tleukabiluly"}, "edited": false, "score": 0, "creation_date": 1576057011, "post_id": 59279198, "comment_id": 104771442, "body": "No, moving <code>declare global  namespace Joi</code> to separate .d.ts file didn&#39;t help"}], "owner": {"reputation": 663, "user_id": 4960726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ccc89a0d5de76478d7cf01d804b4710?s=128&d=identicon&r=PG&f=1", "display_name": "vatosarmat", "link": "https://stackoverflow.com/users/4960726/vatosarmat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576161509, "creation_date": 1576040869, "last_edit_date": 1576161509, "question_id": 59279198, "link": "https://stackoverflow.com/questions/59279198/typescript-how-to-augment-export-joi-root", "title": "Typescript: How to augment `export = Joi.Root`", "body": "<p>Types for <code>@hapi/joi</code> seem to be outdated - some configuration params mentioned in the official documentation are missing in the types. So I am trying to augment the types.</p>\n\n<p><em>node_modules/@types/hapi__joi/index.d.ts</em>:</p>\n\n<pre><code>declare namespace Joi {\n...\ninterface ErrorFormattingOptions {...}\n...\ninterface Root {...}\n}\n\ndeclare const Joi: Joi.Root;\nexport = Joi;\n</code></pre>\n\n<p>One of my .ts source files:</p>\n\n<pre><code>import joi from '@hapi/joi'\n\ndeclare global {\n  namespace Joi {\n    interface ErrorFormattingOptions {\n      wrap?: {\n        label?: string | false\n        array?: string | false\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>That doesn't work</p>\n\n<pre><code>type R = Joi.ErrorFormattingOptions['']//autocomplete show only my 'wrap'\n</code></pre>\n\n<p>What is the proper way of augmentation in this case? Thanks.</p>\n\n<p><strong>UPDATE</strong>: Looks like that's impossible. Module <code>'@hapi/joi'</code> has no named export <code>ErrorFormattingOptions</code>. And in Typescript one cannot augment what's not exported</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 620, "user_id": 4834907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d05fc2366f1d52b4b3acf5e7d844ae01?s=128&d=identicon&r=PG&f=1", "display_name": "Pujan Shah", "link": "https://stackoverflow.com/users/4834907/pujan-shah"}, "edited": false, "score": 0, "creation_date": 1576042679, "post_id": 59279111, "comment_id": 104765501, "body": "As I can see currently on keypress you are calling the service which looks in the database by passing only key pressed value. Do you want to pass entire email field value?"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1576043120, "post_id": 59279111, "comment_id": 104765623, "body": "Why don&#39;t you give a button to verify the email instead keypress?"}, {"owner": {"reputation": 11, "user_id": 12488870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14c4c74e1812c23061e8dc6e535eb63?s=128&d=identicon&r=PG&f=1", "display_name": "Noxin D Victus", "link": "https://stackoverflow.com/users/12488870/noxin-d-victus"}, "reply_to_user": {"reputation": 620, "user_id": 4834907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d05fc2366f1d52b4b3acf5e7d844ae01?s=128&d=identicon&r=PG&f=1", "display_name": "Pujan Shah", "link": "https://stackoverflow.com/users/4834907/pujan-shah"}, "edited": false, "score": 0, "creation_date": 1576083312, "post_id": 59279111, "comment_id": 104786033, "body": "@PujanShah, yes, but my scenario is that everytime the user press a key it will check the data base. It while the email still does not exist it has the error message &quot;Email does not exist&quot; but once email already exist then he can now click the registration button."}, {"owner": {"reputation": 11, "user_id": 12488870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14c4c74e1812c23061e8dc6e535eb63?s=128&d=identicon&r=PG&f=1", "display_name": "Noxin D Victus", "link": "https://stackoverflow.com/users/12488870/noxin-d-victus"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1576083339, "post_id": 59279111, "comment_id": 104786045, "body": "@PrashantPimpale, I can&#39;t since I already have a registration button for that."}], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 7107958, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9a59712362d9c8d6fef108655f8a9b11?s=128&d=identicon&r=PG&f=1", "display_name": "biff", "link": "https://stackoverflow.com/users/7107958/biff"}, "is_accepted": false, "score": 0, "last_activity_date": 1576047515, "last_edit_date": 1576047515, "creation_date": 1576047184, "answer_id": 59280256, "question_id": 59279111, "link": "https://stackoverflow.com/questions/59279111/for-every-key-press-it-search-on-the-database/59280256#59280256", "title": "For every key press, it search on the Database", "body": "<p>You can use Two way binding to achieve this.Initialize a variable 'searchTerm' and bind it to input using ngModel </p>\n\n<p>HTML code</p>\n\n<pre><code>&lt;input id=\"email type=\"email\"  [(ngModel)]=\"searchTerm\" (ngModelChange)=\"checkIfEmailExistFunction(searchTerm)\"&gt;\n</code></pre>\n\n<p>TS code</p>\n\n<pre><code>searchTerm: string = \"\";\n\n  async checkIfEmailExistFunction(searchTerm) {\n    const email = searchTerm;\n    if (email.length &lt; 0 &amp;&amp;this.registerForm.controls.Email.errors ) {\n      await this.submissionService.checkEmailExist({ email });\n    };\n}\n</code></pre>\n\n<p>You can pass the search term  from HTML like this or you can directly use the serchterm without passing as parameter</p>\n\n<pre><code>async checkIfEmailExistFunction() {\n    const email = this.searchTerm;\n    if (email.length &lt; 0 &amp;&amp;this.registerForm.controls.Email.errors ) {\n      await this.submissionService.checkEmailExist({ email });\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12488870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14c4c74e1812c23061e8dc6e535eb63?s=128&d=identicon&r=PG&f=1", "display_name": "Noxin D Victus", "link": "https://stackoverflow.com/users/12488870/noxin-d-victus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576047515, "creation_date": 1576040263, "last_edit_date": 1576041129, "question_id": 59279111, "link": "https://stackoverflow.com/questions/59279111/for-every-key-press-it-search-on-the-database", "title": "For every key press, it search on the Database", "body": "<p>HTML code</p>\n\n<pre><code>&lt;input id=\"email type=\"email\" (keypress)=\"checkIfEmailExistFunction($event)\"&gt;\n</code></pre>\n\n<p>TS code</p>\n\n<pre><code>async checkIfEmailExistFunction(e) {\n    const email = e.key;\n    if (email.length &lt; 0 &amp;&amp;this.registerForm.controls.Email.errors ) {\n      await this.submissionService.checkEmailExist({ email });\n    };\n}\n</code></pre>\n\n<p>Is there a way for me to search the data base for every key press that has been done by the user?</p>\n"}, {"tags": ["javascript", "html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1576038717, "post_id": 59278901, "comment_id": 104764516, "body": "What are the window breakpoints that you&#39;re looking for and what&#39;s the expected behavior on those breakpoints?"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1576038847, "post_id": 59278901, "comment_id": 104764543, "body": "use case for an angular pipe I would say"}, {"owner": {"reputation": 55, "user_id": 6474610, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sC4SA-ZS-LU/AAAAAAAAAAI/AAAAAAAAHEg/90sM7qyebmk/photo.jpg?sz=128", "display_name": "Nikhil Kumar vats", "link": "https://stackoverflow.com/users/6474610/nikhil-kumar-vats"}, "reply_to_user": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1576039481, "post_id": 59278901, "comment_id": 104764673, "body": "Is there any way to achieve this via mediaquery or css completely. If using angular, how should we approach this? @AkberIqbal"}, {"owner": {"reputation": 55, "user_id": 6474610, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sC4SA-ZS-LU/AAAAAAAAAAI/AAAAAAAAHEg/90sM7qyebmk/photo.jpg?sz=128", "display_name": "Nikhil Kumar vats", "link": "https://stackoverflow.com/users/6474610/nikhil-kumar-vats"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1576039596, "post_id": 59278901, "comment_id": 104764701, "body": "@SiddAjmera Breakpoints will be like that in bootstrap, i think its 5. Also, Bootstrap also linked in this application."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6474610, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sC4SA-ZS-LU/AAAAAAAAAAI/AAAAAAAAHEg/90sM7qyebmk/photo.jpg?sz=128", "display_name": "Nikhil Kumar vats", "link": "https://stackoverflow.com/users/6474610/nikhil-kumar-vats"}, "edited": false, "score": 0, "creation_date": 1576039868, "post_id": 59279012, "comment_id": 104764762, "body": "Thanks for the swift response. How can we apply logic like if we do have space constraints then clip the innerHTML, otherwise not. Space constraints can be width of the current div element, and screen size, like in phones if we open, it should clip otherwise not."}, {"owner": {"reputation": 6717, "user_id": 5859957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Nj3sD.png?s=128&g=1", "display_name": "coder", "link": "https://stackoverflow.com/users/5859957/coder"}, "reply_to_user": {"reputation": 55, "user_id": 6474610, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sC4SA-ZS-LU/AAAAAAAAAAI/AAAAAAAAHEg/90sM7qyebmk/photo.jpg?sz=128", "display_name": "Nikhil Kumar vats", "link": "https://stackoverflow.com/users/6474610/nikhil-kumar-vats"}, "edited": false, "score": 0, "creation_date": 1576040191, "post_id": 59279012, "comment_id": 104764843, "body": "yes you will able to do it please follow the basis structure of this directive. you could get the div element width and all by using <code>this.el.nativeElement</code>. Manipulate the things the way you want. I only gave you the basis answer to clip your text :). For more info follow <a href=\"https://angular.io/guide/attribute-directives\" rel=\"nofollow noreferrer\">this link about attribute directive</a>"}], "tags": [], "owner": {"reputation": 6717, "user_id": 5859957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Nj3sD.png?s=128&g=1", "display_name": "coder", "link": "https://stackoverflow.com/users/5859957/coder"}, "is_accepted": true, "score": 3, "last_activity_date": 1576040320, "last_edit_date": 1576040320, "creation_date": 1576039368, "answer_id": 59279012, "question_id": 59278901, "link": "https://stackoverflow.com/questions/59278901/text-overflow-property-custom-style/59279012#59279012", "title": "text-overflow property custom style", "body": "\n\n<p>You could use a attribute directive like bellow to do this. For more details please refer <a href=\"https://angular.io/guide/attribute-directives\" rel=\"nofollow noreferrer\">Angular DOC</a></p>\n\n<p>Please Note: You could improve this directive as you wish. This directive is only giving you the basis to implement that feature.</p>\n\n<p>Directive:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>import { Directive, ElementRef, OnInit } from '@angular/core';\n\n@Directive({\n  selector: '[appClip]'\n})\nexport class ClipDirective implements OnInit {\n\n  constructor(private el: ElementRef) { }\n\n  ngOnInit(): void {\n    let text: string = this.el.nativeElement.innerHTML;\n\n    if(text.length &gt; 6) {\n      const first3 = text.slice(0, 3);\n      const last3 = text.slice(text.length - 3)\n\n      this.el.nativeElement.innerHTML =  `${first3}...${last3}`;\n    }\n  }\n\n}\n</code></pre>\n\n<p>\nHTML:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div appClip=\"\"&gt;abcdefghijklmnop&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-lknzee\" rel=\"nofollow noreferrer\">Working DEMO</a></p>\n"}], "owner": {"reputation": 55, "user_id": 6474610, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sC4SA-ZS-LU/AAAAAAAAAAI/AAAAAAAAHEg/90sM7qyebmk/photo.jpg?sz=128", "display_name": "Nikhil Kumar vats", "link": "https://stackoverflow.com/users/6474610/nikhil-kumar-vats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 59279012, "answer_count": 1, "score": 2, "last_activity_date": 1576040320, "creation_date": 1576038414, "last_edit_date": 1576039568, "question_id": 59278901, "link": "https://stackoverflow.com/questions/59278901/text-overflow-property-custom-style", "title": "text-overflow property custom style", "body": "<p>Application is built on angular. In a component, there is a div inside which there is a text. <code>&lt;div&gt;abcdefghijklmnop&lt;div&gt;</code></p>\n\n<p>Based on the screen size, it should show completely or it should clipped. For this I have found that there is a property '<code>text-overflow</code>', which clipped the text like <code>abcde...</code>. But the requirement is we have to clip the text in other way, </p>\n\n<p><code>&lt;first 3 character&gt;...&lt;last 3 character&gt;</code></p>\n\n<p>So it should look like <code>abc...nop</code>. How can we achieve this? Browser is chrome.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 30872, "user_id": 5648954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14063c1678fb488df9da599458b0aef1?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/5648954/nick-parsons"}, "edited": false, "score": 1, "creation_date": 1576037838, "post_id": 59278814, "comment_id": 104764319, "body": "you can use a gloabl regex instead <code>test.replace(&#47;\\&lt;br\\&#47;\\&gt;&#47;g,&#39;\\r\\n&#39;);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 43357, "user_id": 971888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e4a74cecb0614588e02836e787f7bc53?s=128&d=identicon&r=PG&f=1", "display_name": "Rolando", "link": "https://stackoverflow.com/users/971888/rolando"}, "edited": false, "score": 0, "creation_date": 1576038304, "post_id": 59278833, "comment_id": 104764425, "body": "This for some reason is not working for me, is it because I am using typescript?"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "reply_to_user": {"reputation": 43357, "user_id": 971888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e4a74cecb0614588e02836e787f7bc53?s=128&d=identicon&r=PG&f=1", "display_name": "Rolando", "link": "https://stackoverflow.com/users/971888/rolando"}, "edited": false, "score": 0, "creation_date": 1576038458, "post_id": 59278833, "comment_id": 104764458, "body": "@Rolando it shouldn&#39;t make any difference with typescript as well, can you post your typescript or fiddle where you&#39;re able to reproduce the error."}], "tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": true, "score": 3, "last_activity_date": 1576038046, "last_edit_date": 1576038046, "creation_date": 1576037853, "answer_id": 59278833, "question_id": 59278814, "link": "https://stackoverflow.com/questions/59278814/how-to-replace-multiple-instances-of-br-tags-with-something-else-in-string-in/59278833#59278833", "title": "How to replace multiple instances of &lt;br/&gt; tags with something else in string in javascript?", "body": "<p>When you use string as a pattern in replace function it replaces only first occurrence. You need to use regex pattern with <code>g</code> flag</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var test = \"Hello&lt;br/&gt;&lt;br/&gt;World\";\r\n\r\ntest = test.replace(/&lt;br\\/&gt;/g,'\\r\\n');\r\n\r\nconsole.log(test)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>There's proposal for <a href=\"https://github.com/tc39/proposal-string-replaceall\" rel=\"nofollow noreferrer\"><code>replaceAll</code></a> in which you can use string as pattern and replace all the occurrences </p>\n"}, {"tags": [], "owner": {"reputation": 194, "user_id": 12252066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66ac2328e4f130b4e4e0d1e4fa7ad994?s=128&d=identicon&r=PG&f=1", "display_name": "John Clinton", "link": "https://stackoverflow.com/users/12252066/john-clinton"}, "is_accepted": false, "score": 1, "last_activity_date": 1576038230, "creation_date": 1576038230, "answer_id": 59278877, "question_id": 59278814, "link": "https://stackoverflow.com/questions/59278814/how-to-replace-multiple-instances-of-br-tags-with-something-else-in-string-in/59278877#59278877", "title": "How to replace multiple instances of &lt;br/&gt; tags with something else in string in javascript?", "body": "<blockquote>\n  <p>try using this:</p>\n</blockquote>\n\n<pre><code>var test = \"Hello&lt;br/&gt;&lt;br/&gt;World\";\ntest = test.replace(/&lt;[^&gt;]*&gt;/g, '\\r\\n');\nconsole.log(test)\n</code></pre>\n"}], "owner": {"reputation": 43357, "user_id": 971888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e4a74cecb0614588e02836e787f7bc53?s=128&d=identicon&r=PG&f=1", "display_name": "Rolando", "link": "https://stackoverflow.com/users/971888/rolando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 59278833, "answer_count": 2, "score": 1, "last_activity_date": 1576038230, "creation_date": 1576037708, "last_edit_date": 1576037877, "question_id": 59278814, "link": "https://stackoverflow.com/questions/59278814/how-to-replace-multiple-instances-of-br-tags-with-something-else-in-string-in", "title": "How to replace multiple instances of &lt;br/&gt; tags with something else in string in javascript?", "body": "<p>I have a variable:</p>\n\n<pre><code>var test = \"Hello&lt;br/&gt;&lt;br/&gt;World\";\n</code></pre>\n\n<p>I want to have a function that can replace those with newlines so that the result is:</p>\n\n<pre><code>Hello\n\nWorld\n</code></pre>\n\n<p>I tried using:</p>\n\n<pre><code>test = test.replace('&lt;br/&gt;','\\r\\n');\n</code></pre>\n\n<p>However this just replaces one occurrence of the <br/> and not all of them. I want to make sure that it replaces all occurrences of <br/> in the text, be it located right next to each other, or if they are in different parts of the same string.</p>\n"}, {"tags": ["javascript", "angular", "reactjs", "typescript", "redux-form"], "owner": {"reputation": 415, "user_id": 7500490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e8acb941252505028b6f5a5b59a051?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/7500490/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576036572, "creation_date": 1576036572, "question_id": 59278689, "link": "https://stackoverflow.com/questions/59278689/how-do-i-pass-props-into-hoc-using-connect-createreduxform-and-typescript", "title": "How do I pass props into HOC using connect, createReduxForm and typescript?", "body": "<p>How do I pass props into a react functional component using connect, createReduxForm and typescript?</p>\n\n<p>Im using a mixture of redux-forms and typescript. I have a child component I'm trying to pass props into but I keep receiving a type error with no path to figure out how to solve it. Here is the code.</p>\n\n<p>BirthdayPage.tsx</p>\n\n<pre><code>interface propsInterface {\n  match?: any;\n}\n\nconst BirthdayPage = ({ match: { params } }: propsInterface) =&gt; {\n  const userId = params.id;\n  return (\n    &lt;AppWrapper\n    &gt;\n      &lt;MyBirthdayForm userId={userId} /&gt;\n    &lt;/AppWrapper&gt;\n  );\n};\n\nexport default BirthdayPage;\n</code></pre>\n\n<p>MyBirthdayForm.tsx</p>\n\n<pre><code>interface propsInterface {\n  saveMyBirthday?: any;\n  userId?: string\n}\n\nfunction onSubmit() {\n  console.log('toot toot');\n}\n\nconst MyBirthdayForm = ({\n  saveMyBirthday,\n  userId\n}: propsInterface) =&gt; {\n  const token = userId == 'selectedUser';\n\n  return (\n    &lt;&gt;\n      &lt;Typography variant='h1'&gt;\n        {token}\n      &lt;/Typography&gt;\n\n      &lt;form\n        onSubmit={handleSubmit(onSubmit)}\n      &gt;\n        &lt;BirthdayForm token={token} /&gt;\n        &lt;AppButtons\n          onSubmit={handleSubmit(onSubmit)}\n          rightButtonText={'Submit'}\n        /&gt;\n      &lt;/form&gt;\n    &lt;/&gt;\n  );\n};\n\ninterface propsMatchInterface {\n  saveMyBirthday: any;\n}\n\nconst mapDispatchToProps: propsMatchInterface = {\n  saveMyBirthday,\n};\n\nconst createReduxForm: any = reduxForm({\n  form: 'test'\n});\n\nexport default connect&lt;any&gt;(\n  null,\n  mapDispatchToProps,\n)(createReduxForm(MyBirthdayForm));\n</code></pre>\n\n<p>Why do I keep receiving this error?</p>\n\n<pre><code>Type '{ userId: any; }' is not assignable to type '(IntrinsicAttributes &amp; Pick&lt;unknown, never&gt;) | (IntrinsicAttributes &amp; Pick&lt;Pick&lt;unknown, never&gt;, never&gt; &amp; Pick&lt;InferProps&lt;unknown&gt;, never&gt;) | (IntrinsicAttributes &amp; ... 2 more ... &amp; Partial&lt;...&gt;) | (IntrinsicAttributes &amp; ... 2 more ... &amp; Partial&lt;...&gt;)'.\n  Property 'userId' does not exist on type '(IntrinsicAttributes &amp; Pick&lt;unknown, never&gt;) | (IntrinsicAttributes &amp; Pick&lt;Pick&lt;unknown, never&gt;, never&gt; &amp; Pick&lt;InferProps&lt;unknown&gt;, never&gt;) | (IntrinsicAttributes &amp; ... 2 more ... &amp; Partial&lt;...&gt;) | (IntrinsicAttributes &amp; ... 2 more ... &amp; Partial&lt;...&gt;)\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 104340, "user_id": 23649, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e9f543f0ffdb7c9a899e628fe76e7f3?s=128&d=identicon&r=PG", "display_name": "jtbandes", "link": "https://stackoverflow.com/users/23649/jtbandes"}, "edited": false, "score": 0, "creation_date": 1576036568, "post_id": 59278516, "comment_id": 104764046, "body": "Can you try assigning <code>element.schedules.get(targetDate)</code> to a variable rather than calling it twice?"}, {"owner": {"reputation": 914, "user_id": 3853649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ad7c7268a7cb5bc5d9239d2ff2fe9f8?s=128&d=identicon&r=PG&f=1", "display_name": "Passersby", "link": "https://stackoverflow.com/users/3853649/passersby"}, "edited": false, "score": 0, "creation_date": 1576040062, "post_id": 59278516, "comment_id": 104764807, "body": "You might be need to check the existence of targetDate before getting it. I am guessing this is a <code>Map</code> type so you could do <code>if (element.schedules.has(targetDate))</code> and then add it to the array"}, {"owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "edited": false, "score": 0, "creation_date": 1576043906, "post_id": 59278516, "comment_id": 104765886, "body": "Seems that <code>element.schedules.get()</code> returns <code>{ kind: &quot;available&quot;; | { kind: &quot;notAvailable&quot;; } | undefined</code>. But typeof <code>Schedule</code> is <code>{ kind: &quot;available&quot;; | { kind: &quot;notAvailable&quot;; }</code>. Please provide <code>element.schedules.get()</code> definition"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1576078550, "post_id": 59278516, "comment_id": 104783422, "body": "Please consider editing the code here to constitute a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as described in the guidelines for <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.  Preferably something we can drop into our own IDE to demonstrate the issue you&#39;re seeing and only the issue you&#39;re seeing.  Otherwise all we can do is guess and that&#39;s not as likely to get you a usable answer.  Good luck!"}], "owner": {"reputation": 309, "user_id": 2006734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26649eb669c983b00a1622b40cb1cfa5?s=128&d=identicon&r=PG", "display_name": "user2006734", "link": "https://stackoverflow.com/users/2006734/user2006734"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576039619, "creation_date": 1576034971, "last_edit_date": 1576039619, "question_id": 59278516, "link": "https://stackoverflow.com/questions/59278516/why-did-compiler-alert-undefined", "title": "Why did compiler alert undefined?", "body": "<p>Why does the compiler say this? </p>\n\n<blockquote>\n<pre><code>Argument of type '{ kind: \"available\"; | { kind: \"notAvailable\"; } | undefined' is not assignable to parameter of type 'Schedule'.\n  Type 'undefined' is not assignable to type 'Schedule'.\n</code></pre>\n</blockquote>\n\n<p>it is absolutely unable to put 'undefined'  in availableTimeShiftsByHoursTables</p>\n\n<pre><code>     let availableTimeShiftsByHoursTables: Schedule[] = new Array();\n    scheduleInfo.map(element =&gt; {\n      if (element.schedules.get(targetDate)) {\n        availableTimeShiftsByHoursTables.push(\n          element.schedules.get(targetDate)\n        );\n      }\n    });\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "leaflet", "ionic4", "angular-routing"], "comments": [{"owner": {"reputation": 7040, "user_id": 5218360, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rFIHY.jpg?s=128&g=1", "display_name": "Mohan Gopi", "link": "https://stackoverflow.com/users/5218360/mohan-gopi"}, "edited": false, "score": 0, "creation_date": 1576036149, "post_id": 59278360, "comment_id": 104763954, "body": "<a href=\"https://stackoverflow.com/questions/16927793/marker-in-leaflet-click-event\" title=\"marker in leaflet click event\">stackoverflow.com/questions/16927793/&hellip;</a> check this out"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 1, "creation_date": 1576049585, "post_id": 59278360, "comment_id": 104767825, "body": "is it a typo? you have OnClick and onClick?"}, {"owner": {"reputation": 139, "user_id": 12515391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd1e13382b293c7d5dd3bd0e3ccf9102?s=128&d=identicon&r=PG&f=1", "display_name": "themoose", "link": "https://stackoverflow.com/users/12515391/themoose"}, "edited": false, "score": 1, "creation_date": 1576100459, "post_id": 59278360, "comment_id": 104793588, "body": "Sergey Rudekno, sorry that was a typo when I entered the question, they&#39;re both onClick."}, {"owner": {"reputation": 139, "user_id": 12515391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd1e13382b293c7d5dd3bd0e3ccf9102?s=128&d=identicon&r=PG&f=1", "display_name": "themoose", "link": "https://stackoverflow.com/users/12515391/themoose"}, "edited": false, "score": 1, "creation_date": 1578627382, "post_id": 59278360, "comment_id": 105508760, "body": "<code>onClick(e)       {         console.log(this);         var content = e.target.getPopup().getContent();         console.log(content);         this.navCtrlData.navigate(&#39;&#47;tabs&#47;tab3&#39;, {content: content});       }</code> works with ` marker.on(&#39;click&#39;, this.onClick, this); ` using this dependency <code>import { NgxNavigationWithDataComponent } from &#39;ngx-navigation-with-data&#39;;</code> . On arrival to new page I get data that was passed using <code>ionViewDidEnter() {     console.log(this.navCtrl.get(&#39;content&#39;));     this.parseOutageDetails(this.navCtrl.get(&#39;content&#39;));   }</code>"}], "owner": {"reputation": 139, "user_id": 12515391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd1e13382b293c7d5dd3bd0e3ccf9102?s=128&d=identicon&r=PG&f=1", "display_name": "themoose", "link": "https://stackoverflow.com/users/12515391/themoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "closed_date": 1576052732, "answer_count": 0, "score": 1, "last_activity_date": 1576041685, "creation_date": 1576033713, "last_edit_date": 1576041685, "question_id": 59278360, "link": "https://stackoverflow.com/questions/59278360/how-to-route-to-another-page-in-ionic-4-using-leaflet-marker-onclick", "closed_reason": "Duplicate", "title": "how to route to another page in Ionic 4 using Leaflet Marker onclick", "body": "<p>I'm dealing with a problem I've been stuck on for a few days. I'm currently wanting my markers to navigate to another page when clicked on the Leaflet Map. So my understanding (correct me if I'm wrong) of the <code>marker.on('click', someFunction)</code> leaflet method is that it is performed within the class of the marker even if the function is present in a page.ts file.</p>\n\n<p>I would like some help on calling my router in my page.ts file to navigateByURL to another page when the marker is clicked.</p>\n\n<p>The error I currently get is router Undefined and sometimes navigateByURL undefined.</p>\n\n<p>What I currently have is...</p>\n\n<pre><code>displayMarkerLocations(){\n  this.places.forEach(place =&gt; {\n    var marker = L.marker([place.location.Y, place.location.X]);\n    marker.on('click', this.OnClick);\n    marker.bindPopup(place.address);\n    marker.noMoveStart = true;\n    marker.addTo(this.markerLayer);\n  });\n}\n\nonClick(e){\n  this.router.navigateByUrl('tabs/tab3');\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 12515297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f453c3066722ee2e2c2d54aca765d9?s=128&d=identicon&r=PG&f=1", "display_name": "user12515297", "link": "https://stackoverflow.com/users/12515297/user12515297"}, "edited": false, "score": 0, "creation_date": 1576039613, "post_id": 59278439, "comment_id": 104764706, "body": "Thank you for providing help, how can I add total from previous question? right now it&#39;s removing previous amount and displaying next question selection value. Should I add totalCost in service send message?  sendMessage(data: any) {      this.totalCost.next(data + this.totalCost);   }"}, {"owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "reply_to_user": {"reputation": 5, "user_id": 12515297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f453c3066722ee2e2c2d54aca765d9?s=128&d=identicon&r=PG&f=1", "display_name": "user12515297", "link": "https://stackoverflow.com/users/12515297/user12515297"}, "edited": false, "score": 0, "creation_date": 1576041645, "post_id": 59278439, "comment_id": 104765209, "body": "Yes, You can do that if and only if <code>totalcost</code> is static other wise you have to pass the <code>totalcost</code> from the component. other wise you can also add the <code>totalcost</code> on your component itself"}], "tags": [], "owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "is_accepted": true, "score": 2, "last_activity_date": 1576036504, "last_edit_date": 1576036504, "creation_date": 1576034354, "answer_id": 59278439, "question_id": 59278262, "link": "https://stackoverflow.com/questions/59278262/how-to-communicate-with-other-component-in-angular-8-to-add-total/59278439#59278439", "title": "How to communicate with other component in Angular 8 to Add Total", "body": "<p>You can try like this.<br>\nCreate one common service which one contains your subject.</p>\n\n<p><strong>common.service.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable({\n  providedIn: 'root'\n})\nexport class CommonService {\n  private totalCost = new BehaviorSubject&lt;number&gt;(0);\n\n  sendMessage(data: any) {\n     this.totalCost.next(data);\n  }\n  getMessage(): Observable&lt;any&gt; {\n     return this.totalCost.asObservable()\n  }\n}\n</code></pre>\n\n<p><strong>ComponentA</strong> // component which you want to send the data</p>\n\n<pre><code>export class ComponentA {\n// here we are adding our common service which contain our subject\n    constructor(private brodcaster: CommonService){}\n\n    sendData(data) {\n     this.brodcaster.sendMessage(data);\n    }\n</code></pre>\n\n<p><strong>ComponentB</strong> // component which you want to access the data</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class ComponentA {\n    // here we are adding our common service which contain our subject\n    constructor(private brodcaster: CommonService){\n     this.brodcaster.getMessage().subscribe(response =&gt; {\n        console.log(response);\n     })\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 12515297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f453c3066722ee2e2c2d54aca765d9?s=128&d=identicon&r=PG&f=1", "display_name": "user12515297", "link": "https://stackoverflow.com/users/12515297/user12515297"}, "edited": false, "score": 0, "creation_date": 1576040203, "post_id": 59279010, "comment_id": 104764849, "body": "Thank you, in which component and method should I save previous question totalCost? Right now when I go to next question and make selection than totalCost change to that value rather then adding old value with new."}, {"owner": {"reputation": 5, "user_id": 12515297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f453c3066722ee2e2c2d54aca765d9?s=128&d=identicon&r=PG&f=1", "display_name": "user12515297", "link": "https://stackoverflow.com/users/12515297/user12515297"}, "edited": false, "score": 0, "creation_date": 1576040611, "post_id": 59279010, "comment_id": 104764953, "body": "I was able to get value first in second question and add it with data from SendData.   <code>&#47;&#47; here we are adding our common service which contain our subject   constructor(private brodcaster: CommonService){     this.brodcaster.getMessage().subscribe(response =&gt; {       this.totalCost = response;   }) }     sendData(data) {    this.brodcaster.sendMessage(data + this.totalCost);   }  }</code>"}, {"owner": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "reply_to_user": {"reputation": 5, "user_id": 12515297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f453c3066722ee2e2c2d54aca765d9?s=128&d=identicon&r=PG&f=1", "display_name": "user12515297", "link": "https://stackoverflow.com/users/12515297/user12515297"}, "edited": false, "score": 0, "creation_date": 1576042271, "post_id": 59279010, "comment_id": 104765384, "body": "Sorry i didn&#39;t get you??"}], "tags": [], "owner": {"reputation": 2198, "user_id": 4672460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/18CI8.jpg?s=128&g=1", "display_name": "Selaka Nanayakkara", "link": "https://stackoverflow.com/users/4672460/selaka-nanayakkara"}, "is_accepted": false, "score": 0, "last_activity_date": 1576039353, "creation_date": 1576039353, "answer_id": 59279010, "question_id": 59278262, "link": "https://stackoverflow.com/questions/59278262/how-to-communicate-with-other-component-in-angular-8-to-add-total/59279010#59279010", "title": "How to communicate with other component in Angular 8 to Add Total", "body": "<p>You are declaring your your behavioural subject inside TotalCost component <code>private totalCost = new BehaviorSubject&lt;number&gt;(0);</code> ideally it should be declared in a shared service. Another thing I noticed is that. You are declaring it in TotalCost component as a <code>private</code> variable which makes that variable cannot be accessed from another components from the way you are doing it. Ideal way to accomplish this is shared service which can be injected to both the components.</p>\n\n<p><strong>Share service.ts</strong></p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class SharedService{\n  private totalCost = new BehaviorSubject&lt;number&gt;(0);\n\n  addCost(data: any) {\n     this.totalCost.next(data);\n  }\n  getCost(): Observable&lt;any&gt; {\n     return this.totalCost.asObservable()\n  }\n}\n</code></pre>\n\n<p><strong>TotalCost.component.ts:</strong></p>\n\n<pre><code>import { Component, Injectable } from '@angular/core';\nimport { SharedService} from '&lt;Import the SharedService from here&gt;';\n\n @Component({\n   selector: 'totalcost',\n   template: `&lt;div&gt;\n    &lt;p&gt;Total: {{totalCost}}\n   &lt;/div&gt;`\n\n })\n\n @Injectable({\n  providedIn: 'root'\n})\n export class TotalCost {\n\n  constructor(pubic sharedService:SharedService){\n\n  }\n\n     addCost(add: number){\n       this.sharedService.addCost(add);\n     }\n\n\n\n }\n</code></pre>\n\n<p><strong>First Question.Component.ts:</strong></p>\n\n<pre><code>import { Component, OnInit, Injectable } from '@angular/core';\nimport { SharedService} from '&lt;Import the SharedService from here&gt;';\n\n@Injectable({\n  providedIn: 'root'\n})\n @Component({\n   selector: 'first',\n   templateUrl: './first.component.html',\n   styleUrls: ['./first.component.scss']\n })\n\n\n\nexport class First {\n\n    totalCost: number;\n\n\n constructor(public sharedService: SharedService){\n      // Fetch values from the service here\n      this.sharedService.getCost().subscribe((cost)=&gt;{\n       console.log(cost);\n        alert(cost);\n     });\n    }\n\n   ngOnIt(){\n\n    }\n\n\n\n } \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 908, "user_id": 4552354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31bc7bdc69e5faa1dddda0e484c716b?s=128&d=identicon&r=PG&f=1", "display_name": "Kari F.", "link": "https://stackoverflow.com/users/4552354/kari-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1576077100, "creation_date": 1576077100, "answer_id": 59288809, "question_id": 59278262, "link": "https://stackoverflow.com/questions/59278262/how-to-communicate-with-other-component-in-angular-8-to-add-total/59288809#59288809", "title": "How to communicate with other component in Angular 8 to Add Total", "body": "<p>Check this Stackblitz example I made: <a href=\"https://stackblitz.com/edit/angular-bqxex9\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-bqxex9</a></p>\n\n<p>There you have a common service to track the values of each component and the total</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable()\nexport class CommonService {\n\n  valueFirst = 0;\n  valueSecond = 0;\n\n  total = new BehaviorSubject&lt;number&gt;(0);\n\n  setFirstValue(value: number) {\n    this.valueFirst = +value;\n    this.total.next(this.valueFirst + this.valueSecond);\n  }\n\n  setSecondValue(value: number) {\n    this.valueSecond = +value;\n    this.total.next(this.valueFirst + this.valueSecond);\n  }\n\n}\n</code></pre>\n\n<p>The main component subscribes to the BehaviorSubject in the service:</p>\n\n<pre><code>export class AppComponent  {\n  total = 0;\n\n  constructor(private commonService: CommonService) {\n    this.commonService.total.subscribe(\n      tot =&gt; this.total = tot\n    );\n  }\n}\n</code></pre>\n\n<p>And the First, Second, etc. components update their values in the service:</p>\n\n<pre><code>export class FirstComponent {\n\n  constructor(private commonService: CommonService) { }\n\n  sendValue(value: number) {\n    this.commonService.setFirstValue(value);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 12515297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f453c3066722ee2e2c2d54aca765d9?s=128&d=identicon&r=PG&f=1", "display_name": "user12515297", "link": "https://stackoverflow.com/users/12515297/user12515297"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 0, "accepted_answer_id": 59278439, "answer_count": 3, "score": 0, "last_activity_date": 1576077100, "creation_date": 1576032860, "last_edit_date": 1576037372, "question_id": 59278262, "link": "https://stackoverflow.com/questions/59278262/how-to-communicate-with-other-component-in-angular-8-to-add-total", "title": "How to communicate with other component in Angular 8 to Add Total", "body": "<p>I'm new to Typescript, i'm working on creating Cost calculator application. I have 8 question as separate components and totalCost component. Each question have 3 different options to select. upon selecting option I want Total cost to add up as user progress in questions. Once user answer final question I was summary to present him with Total Cost. </p>\n\n<p>I did research and came across different answers but non of them seems to be working for me. Most of the answers given are in JS. </p>\n\n<p>I tried using <code>rxjs/BehaviorSubject</code> library but got error. Here is my code.</p>\n\n<p>totalCost.component.ts</p>\n\n<pre><code>import { Component, Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\n\n @Component({\n   selector: 'totalcost',\n   template: `&lt;div&gt;\n    &lt;p&gt;Total: {{totalCost}}\n   &lt;/div&gt;`\n\n })\n\n @Injectable({\n  providedIn: 'root'\n})\n export class TotalCost {\n\n\n  private totalCost = new BehaviorSubject&lt;number&gt;(0);\n  currentCost = this.totalCost.asObservable();\n\n  constructor(){\n\n  }\n\n     addCost(add: number){\n       this.totalCost.next(add);\n       console.log('addCost');\n        return this.totalCost;\n     }\n\n\n\n }\n</code></pre>\n\n<p>Here is the first question component:</p>\n\n<pre><code>import { Component, OnInit, Injectable } from '@angular/core';\nimport { TotalCost } from '../totalCost/totalCost.component';\n\n@Injectable({\n  providedIn: 'root'\n})\n @Component({\n   selector: 'first',\n   templateUrl: './first.component.html',\n   styleUrls: ['./first.component.scss']\n })\n\n\n\nexport class First {\n\n    totalCost: number;\n\n\n    constructor(private cost: TotalCost){\n\n    }\n\n   ngOnIt(){\n      this.cost.currentCost.subscribe(totalCost =&gt; this.totalCost = totalCost )\n    }\n\n    addToCost(value: number){\n      this.cost.addCost(value);\n      console.log('addToCost()');\n    }\n\n } \n</code></pre>\n\n<p>here is HTML for First Question:</p>\n\n<pre><code>&lt;div class=\"container-fluid text-center\"&gt;\n  &lt;div&gt;\n    &lt;h3&gt;Choose The Type Of Website&lt;/h3&gt;\n    &lt;input type=\"range\" value=\"1000\" id=\"budget\"&gt;\n    &lt;p&gt;\n      &lt;span&gt;\n        &lt;a [routerLink]=\"'/second'\" (click)=\"addToCost(1000)\"&gt;&lt;img src=\"\" alt=\"static\"&gt;&lt;/a&gt;\n      &lt;/span&gt;\n      &lt;span&gt;\n        &lt;a [routerLink]=\"'/second'\" &gt;&lt;img src=\"\" alt=\"Dynamic\"&gt;&lt;/a&gt;\n      &lt;/span&gt;\n      &lt;span&gt;\n        &lt;a [routerLink]=\"'/second'\" &gt;&lt;img src=\"\" alt=\"E-Commerce\"&gt;&lt;/a&gt;\n      &lt;/span&gt;\n    &lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>When user select one of the option I want Total cost to add up until user reach last question.</p>\n\n<p>This is what my application look like</p>\n\n<p><a href=\"https://i.stack.imgur.com/AWZb7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AWZb7.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["css", "reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 848, "user_id": 9597296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DotIi.jpg?s=128&g=1", "display_name": "nipunravisara", "link": "https://stackoverflow.com/users/9597296/nipunravisara"}, "is_accepted": false, "score": 1, "last_activity_date": 1576033020, "creation_date": 1576033020, "answer_id": 59278282, "question_id": 59278109, "link": "https://stackoverflow.com/questions/59278109/creating-theme-using-typescript-in-react/59278282#59278282", "title": "Creating theme using typescript in React", "body": "<p>Use <a href=\"https://medium.com/@rossbulat/creating-themes-in-react-with-styled-components-6fce744b4e54\" rel=\"nofollow noreferrer\">Styled-components</a> for styling. Learn ts with react <a href=\"https://javascriptplayground.com/react-typescript/\" rel=\"nofollow noreferrer\">how to use it</a>. Hope this will help you</p>\n"}], "owner": {"reputation": 137, "user_id": 7363002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b56ae31ed8c1776eba3f3aacc7e8da3f?s=128&d=identicon&r=PG&f=1", "display_name": "user8833115566", "link": "https://stackoverflow.com/users/7363002/user8833115566"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576033020, "creation_date": 1576031677, "question_id": 59278109, "link": "https://stackoverflow.com/questions/59278109/creating-theme-using-typescript-in-react", "title": "Creating theme using typescript in React", "body": "<p>I am just starting a React project and is required to create a css using typescript by referring to the color palette diagram below. When creating the theme using createMuiTheme, I noticed that there were multiple possible conditions for each color set, which means that I have to create multiple theme for each of the set ? Since I am new to React and TypeScript, I am quite confused on implementing different opacity and text color on different color set, thus would like to get a solution to simplify the whole thing. </p>\n\n<p><a href=\"https://i.stack.imgur.com/IrBpQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IrBpQ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1576032052, "post_id": 59278075, "comment_id": 104763067, "body": "This has something to do with performance and rendering of the content on the page. You might want to elaborate more on how the rendering is happening at the moment in order for someone to help. Please be as descriptive as possible."}], "answers": [{"tags": [], "owner": {"reputation": 304, "user_id": 7901403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27be4d7c88bdea3e1bab6ff459ab7c07?s=128&d=identicon&r=PG&f=1", "display_name": "Shoma", "link": "https://stackoverflow.com/users/7901403/shoma"}, "is_accepted": true, "score": 1, "last_activity_date": 1576034566, "creation_date": 1576034566, "answer_id": 59278464, "question_id": 59278075, "link": "https://stackoverflow.com/questions/59278075/when-scroll-is-too-fast-white-screen-appear-in-angular/59278464#59278464", "title": "when scroll is too fast, white screen appear in angular", "body": "<p>This kind of behavior is seen when you have heavy or very large data that generates view out of it and keeps re-rendering from top to bottom everytime whenever you populate more and more data further. How about using Infinite scrolling or virtual scrolling.</p>\n\n<ol>\n<li><p>If you use infinite scroll, then you need to call for fixed amount of data per page or set. While you bring next data try to remove previous list which was shown already and so on. This can be handle on scroll event, achievable but coding must to be tricky. For detail: <a href=\"https://www.npmjs.com/package/ngx-infinite-scroll\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ngx-infinite-scroll</a></p></li>\n<li><p>Virtual scroll gives the look and feel like you are scrolling long list of data but the real scene behind is that it uses some limited number of data that can be fit on your view, are used to render the list which becomes very light and quickly rendered. But again you need to know fix amount of data will be on shown per view. Also you need to bring all the data at once in advance. For detail: <a href=\"https://www.npmjs.com/package/angular2-virtual-scroll\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/angular2-virtual-scroll</a></p></li>\n</ol>\n"}], "owner": {"reputation": 23, "user_id": 12012231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s5t73.jpg?s=128&g=1", "display_name": "Kaung EainSanHtay", "link": "https://stackoverflow.com/users/12012231/kaung-eainsanhtay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 835, "favorite_count": 0, "closed_date": 1576034652, "accepted_answer_id": 59278464, "answer_count": 1, "score": 0, "last_activity_date": 1576034566, "creation_date": 1576031372, "question_id": 59278075, "link": "https://stackoverflow.com/questions/59278075/when-scroll-is-too-fast-white-screen-appear-in-angular", "closed_reason": "Not suitable for this site", "title": "when scroll is too fast, white screen appear in angular", "body": "<p>I've been testing this on chrome. During long scrolls data start disappearing from the screen and come back in a few seconds. Is there any solution for this issue.</p>\n\n<p>thanks,</p>\n"}, {"tags": ["angular", "typescript", "kendo-ui", "kendo-grid"], "comments": [{"owner": {"reputation": 221, "user_id": 6426569, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/G7M4j.jpg?s=128&g=1", "display_name": "MukulSharma", "link": "https://stackoverflow.com/users/6426569/mukulsharma"}, "edited": false, "score": 0, "creation_date": 1576033087, "post_id": 59277972, "comment_id": 104763293, "body": "@ispostback....how you are using CustomDeductionObj futher in your code to save data?"}, {"owner": {"reputation": 121, "user_id": 5893015, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/aAf1r.jpg?s=128&g=1", "display_name": "ispostback", "link": "https://stackoverflow.com/users/5893015/ispostback"}, "reply_to_user": {"reputation": 221, "user_id": 6426569, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/G7M4j.jpg?s=128&g=1", "display_name": "MukulSharma", "link": "https://stackoverflow.com/users/6426569/mukulsharma"}, "edited": false, "score": 0, "creation_date": 1576033407, "post_id": 59277972, "comment_id": 104763350, "body": "Only in the edit functionality provided above...no where else"}], "owner": {"reputation": 121, "user_id": 5893015, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/aAf1r.jpg?s=128&g=1", "display_name": "ispostback", "link": "https://stackoverflow.com/users/5893015/ispostback"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576044459, "creation_date": 1576030377, "last_edit_date": 1576044459, "question_id": 59277972, "link": "https://stackoverflow.com/questions/59277972/error-occurring-while-adding-new-entry-in-kendo-grid", "title": "Error occurring while adding new entry in kendo-grid", "body": "<p>I am facing issue while adding new entry in kendo-grid. The data is getting saved, but giving an error like below :</p>\n\n<p><strong>The default edit service of the editing directives works only when binding to plain array.Please provide an editService.</strong></p>\n\n<p>Even google is unable to say any answer for this particularly.</p>\n\n<p>The below is my html :</p>\n\n<pre><code>&lt;kendo-grid-command-column width=\"70\"&gt;\n    &lt;ng-template kendoGridCellTemplate let-isNew=\"isNew\" let-dataItem=\"dataItem\"&gt;\n        &lt;button kendoGridEditCommand type=\"button\" [disabled]=\"HasProcessed\" (click)=\"editCustomDednDetails(dataItem)\" [primary]=\"true\"&gt;\n            &lt;img src=\"/FinTechApp/assets/images/ico_edit.png\"&gt;\n        &lt;/button&gt;\n        &lt;button type=\"button\" kendoGridRemoveCommand [disabled]=\"HasProcessed\" *ngIf=\"!dataItem.IsInEditMode\" (click)=\"fnDeletecustomdeductionDetails(dataItem.EmpMonthlyCustomDeductionDetailsId)\"&gt;\n            &lt;img src=\"/FinTechApp/assets/images/ico_delete.png\"&gt;\n        &lt;/button&gt;\n        &lt;button kendoGridSaveCommand type=\"button\" (click)=\"fnUpdateEmpCustomDednDetails(dataItem)\"&gt;\n            {{ isNew ? '' : '' }}\n            &lt;img src=\"/FinTechApp/assets/images/ico_save.png\" title=\"Add\"&gt;\n        &lt;/button&gt;\n        &lt;button kendoGridCancelCommand type=\"button\"&gt;\n            {{ isNew ? '' : '' }}\n            &lt;img src=\"/FinTechApp/assets/images/ico_cancel.png\" title=\"Cancel\"&gt;\n        &lt;/button&gt;\n    &lt;/ng-template&gt;\n&lt;/kendo-grid-command-column&gt;\n</code></pre>\n\n<p>And below is the edit button command I am using :</p>\n\n<pre><code>editCustomDednDetails(data) {\n    var CustomDeductionObj: CustomDeduction = data;\n    CustomDeductionObj.IsInEditMode = true;\n    this.SelectedDedHead = new DeductionHeads();\n    this.SelectedDedHead.DeductionHeadId = data.DeductionHeadId;\n    this.finTechService.OperationType = PageAccessType.Edit;\n}\n</code></pre>\n\n<p>Feel free to ask any question. I am really in a big mess.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1576029632, "post_id": 59277841, "comment_id": 104762592, "body": "This example code doesn&#39;t seem to be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> since getters need to return something.  The compiler doesn&#39;t see a difference between <code>get foo() {return x}</code> and <code>readonly foo = x</code> so I doubt this can be enforced.  I mean, you could say that a class can&#39;t have any methods but that would forbid something like <code>get bar() {return ()=&gt;x}</code> also."}], "answers": [{"tags": [], "owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "is_accepted": false, "score": 0, "last_activity_date": 1576029807, "creation_date": 1576029807, "answer_id": 59277909, "question_id": 59277841, "link": "https://stackoverflow.com/questions/59277841/type-class-so-that-every-method-must-be-getter/59277909#59277909", "title": "Type class so that every method must be &quot;getter&quot;", "body": "<p>Possible using <code>Exclude</code> with a generic type:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type AllGetters&lt;T&gt; = {\n    [k in keyof T]: Exclude&lt;T[k], Function&gt;\n}\n\nclass A implements AllGetters&lt;A&gt; {\n    // simple properties: OK\n    a: string = 'foo';\n    b: number = 1;\n\n    // type error: type '() =&gt; number' is not assignable to type 'never'.\n    c(): number {\n        return 2;\n    }\n\n    // getter: OK\n    get d(): string {\n        return 'hi';\n    }\n\n    // getter: not OK because it returns a function\n    // type error: type 'Function' is not assignable to type 'never'.\n    get e(): Function {\n        return console.log;\n    }\n}\n</code></pre>\n\n<p>Caveats:</p>\n\n<ul>\n<li>There is no difference in type between a simple property and a getter; you only said that all <em>methods</em> must be getters, so this should be OK for your use-case.</li>\n<li>A getter returning a function is also not allowed, since there is no difference in type between this and a method.</li>\n</ul>\n\n<p><a href=\"http://www.typescriptlang.org/play/?ssl=24&amp;ssc=6&amp;pln=18&amp;pc=6#code/C4TwDgpgBAggNnA4hYwICcDOAeAKgPigF4oBvAKCiqgG0BrKASwDso6IQB7AMylwF0AXFACiADwDGcAK4ATCHnr8ANFABi05hOCNOzfOQC+5clICGmTLCYBbMHAg2IzYFfhIUaLNhiEK1KAB6QKhMRjsHKDB0Tkh0HQhMYQB5AGlKajNhTGB0FgBzYigAcm5OTmKAbgyqACNhZmkbWowigEZqmqCQ0EgoDBj0YV7oYoAKAEpiQkbmjGKmK2ZOYCgLMPzmM1rI4E4oEZLmCAA3eYA6LolJhqaW9DIugPQUaXRWACZqgOMu4Kh8p4MCl0gFAatZDdQrkCo8As9Xu8SgALRhVLq-AL-cFeBorKBpKAtCRmaSYaCMVYvYBvZhWMxQbiabS6Zh-HrgaADThDA6ckoaLQ6PQLRhLfHrRibba7faHYrHM7oYqXMEofpQwUsvRw+FUam0qASPSYTgOc5wTj5b7UYzGIA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576029807, "creation_date": 1576029195, "question_id": 59277841, "link": "https://stackoverflow.com/questions/59277841/type-class-so-that-every-method-must-be-getter", "title": "Type class so that every method must be &quot;getter&quot;", "body": "<p>I am interested in creating a class where every method must be a getter. Is this possible?</p>\n\n<p>Valid:</p>\n\n<pre><code>class Example implements AllGetters {\n  get alpha () {\n  }\n  get beta () {\n  }\n}\n</code></pre>\n\n<p>Invalid:</p>\n\n<pre><code>class Example implements AllGetters {\n  get alpha () {\n  }\n  beta () {\n  }\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "testing", "jestjs"], "owner": {"reputation": 711, "user_id": 2423179, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/e6edd9a3b04b53a2f674a92a71677246?s=128&d=identicon&r=PG", "display_name": "oorst", "link": "https://stackoverflow.com/users/2423179/oorst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576028720, "creation_date": 1576028720, "question_id": 59277792, "link": "https://stackoverflow.com/questions/59277792/response-body-with-jest-express", "title": "Response.body with jest-express", "body": "<p>When using package <code>jest-express</code> to mock Requests in a Typescript project, what is the correct way to ensure that <code>req.body</code> is an object and not a string?</p>\n\n<p>When a requests's body is parsed to JSON with <code>express.json()</code>, the value of <code>req.body</code> is replaced with the parsed Javascript object, but the <code>Request</code> type from <code>jest-express</code> has <code>string</code> as the type of the body property.</p>\n\n<p>Is there some Typescript way of 'changing' the type?</p>\n\n<p>How to get the <code>Request</code> type from <code>jest-express</code> to have a <code>body</code> property of type <code>any</code> or <code>object</code>?</p>\n\n<p><strong>Bonus question:</strong></p>\n\n<p>The <code>Request</code> type from <code>jest-express</code> does not seem to be a direct replacement for <code>Request</code> from <code>express</code>. I have to do something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>middlewareFn(&lt;express.Request&gt; &lt;unknown&gt; request, &lt;express.Response&gt; &lt;unknown&gt; response)\n</code></pre>\n\n<p>to cast from the <code>jest-express</code> types to the <code>express</code> types when using the <code>jest-express</code> mocks as arguments in the tested functions.</p>\n\n<p>How to use <code>jest-express</code> types as direct replacements for <code>express</code> types?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1576028817, "post_id": 59277759, "comment_id": 104762451, "body": "Would ` interface ActionsH&lt;T extends keyof StoreActions&gt;{     type: T,     data: StoreActions[T],   }` work for you?"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6359313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74cd6e7f2931b1938225b46fba349ce?s=128&d=identicon&r=PG", "display_name": "lanten", "link": "https://stackoverflow.com/users/6359313/lanten"}, "edited": false, "score": 0, "creation_date": 1576042252, "post_id": 59277838, "comment_id": 104765378, "body": "I use scenario 2 and add ```  interface StoreProps {     dispatch: &lt;T extends keyof StoreActions&gt;(options: ActionsH&lt;T&gt;) =&gt; void   } ``` is work for me"}], "tags": [], "owner": {"reputation": 3933, "user_id": 7186598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f869a58e83c9ef8ddd17c4c7879ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Gerrit0", "link": "https://stackoverflow.com/users/7186598/gerrit0"}, "is_accepted": true, "score": 1, "last_activity_date": 1576029181, "creation_date": 1576029181, "answer_id": 59277838, "question_id": 59277759, "link": "https://stackoverflow.com/questions/59277759/typescript-interface-key-value-linkage/59277838#59277838", "title": "Typescript interface key value linkage", "body": "<p>You have a couple of options here.</p>\n\n<ol>\n<li><p>Use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">discriminated union</a> of all available types. You can generate the union with a mapped type. This is probably the better solution since TypeScript will often be able to narrow the type. <a href=\"https://www.typescriptlang.org/play/index.html#code/JYOwLgpgTgZghgYwgAgMpgPZQgQQWYDEAZ2QG8BYAKGVuWIjAFUGoAuesKUAc2ruSICRAIwdiXXgG0AuvzpDCIAEwcyySBPGSQPZAF9qhqtTABPAA4oAsnADWEJiCUAeACoA+ZAF5y82lIA0sigyA5mGDDIbjJqGpYQHIEANMgAJnBgcBxuQTIGRlLhkdFyJuWgkLCIKDggZnjCIH40dBhgABbQHADkCBgAtgNEyBZQGFZQBBCknZmCADYLgvhKxAASyAMQAwBG0KQdcABuED1G1KYJyI1rm762Dk6u6Fi4q0TEXgBkN-W3RCAA\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<pre><code>interface StoreActions {\n    setUser: string\n    action1: string[]\n    action2: { test: string }\n}\n\ntype MakeUnion&lt;T&gt; = {\n    [K in keyof T]: { type: K, data: T[K] }\n}[keyof T]\n\n\ninterface AnyAction {\n    other: 'common properties that all actionsH members have'\n}\n\ntype ActionsH = MakeUnion&lt;StoreActions&gt; &amp; AnyAction\n</code></pre></li>\n<li><p>Make the interface generic and use the key from the generic to set the type of the data property. <a href=\"https://www.typescriptlang.org/play/index.html?ssl=1&amp;ssc=1&amp;pln=14&amp;pc=2#code/JYOwLgpgTgZghgYwgAgMpgPZQgQQWYDEAZ2QG8BYAKGVuWIjAFUGoAuesKUAc2ruSICRAIwdiXXgG0AuvzpDCIAEwcyySBPGSQPZAF9qhqtVCRYiFDhABPPMJDl5tDGAAW0DgHIEGALZ+RMgADlAYwdAEEKTucGCCADYJgvhKxAASyH4QfgBG0KRucABuEF5G1Kbg0PBIyPZK6QA8ANLIEAAekCAAJqQA1hA2GDBomNgNRMQAfO1dEL2k1napQZQ0dGA2ERwtzsg9cXAc6Fi4qyRSLXJU+kA\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<pre><code>interface StoreActions {\n    setUser: string\n    action1: string[]\n    action2: { test: string }\n}\n\ninterface AnyAction {\n    other: 'common properties that all actionsH members have'\n}\n\ninterface ActionH&lt;K extends keyof StoreActions&gt; extends AnyAction {\n    type: K\n    data: StoreActions[K]\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 15, "user_id": 6359313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f74cd6e7f2931b1938225b46fba349ce?s=128&d=identicon&r=PG", "display_name": "lanten", "link": "https://stackoverflow.com/users/6359313/lanten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 59277838, "answer_count": 1, "score": 1, "last_activity_date": 1576029237, "creation_date": 1576028409, "question_id": 59277759, "link": "https://stackoverflow.com/questions/59277759/typescript-interface-key-value-linkage", "title": "Typescript interface key value linkage", "body": "<h2>code</h2>\n\n<pre><code>  interface StoreActions {\n    setUser: string\n    action1: string[]\n    action2: { test: string }\n  }\n\n  interface ActionsH extends AnyAction {\n    type: keyof StoreActions\n    // data:???\n  }\n</code></pre>\n\n<p>The value of the attribute <code>type</code> of ActionsH is the key of type StoreActions</p>\n\n<h2>Expect</h2>\n\n<ul>\n<li>When type = 'setUser', the type of data is <code>string</code></li>\n<li>When type = 'action1', the type of data is <code>string[]</code></li>\n<li>When type = 'action2', the type of data is <code>{ test: string }</code></li>\n</ul>\n\n<h2>Is it possible to achieve it? How to achieve?</h2>\n"}, {"tags": ["typescript", "visual-studio"], "comments": [{"owner": {"reputation": 3933, "user_id": 7186598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f869a58e83c9ef8ddd17c4c7879ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Gerrit0", "link": "https://stackoverflow.com/users/7186598/gerrit0"}, "edited": false, "score": 0, "creation_date": 1576029289, "post_id": 59277206, "comment_id": 104762535, "body": "Visual studio is almost certainly using an older version of TS that doesn&#39;t support features in 3.7. I&#39;m not sure if there&#39;s a way to tell VS2017 to use the workspace version like there is for VSCode"}, {"owner": {"reputation": 2735, "user_id": 9951570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Bgdp.jpg?s=128&g=1", "display_name": "Mosia Thabo", "link": "https://stackoverflow.com/users/9951570/mosia-thabo"}, "reply_to_user": {"reputation": 3933, "user_id": 7186598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f869a58e83c9ef8ddd17c4c7879ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Gerrit0", "link": "https://stackoverflow.com/users/7186598/gerrit0"}, "edited": false, "score": 0, "creation_date": 1576081127, "post_id": 59277206, "comment_id": 104784913, "body": "I see, let me research on that matter"}], "answers": [{"tags": [], "owner": {"reputation": 2735, "user_id": 9951570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Bgdp.jpg?s=128&g=1", "display_name": "Mosia Thabo", "link": "https://stackoverflow.com/users/9951570/mosia-thabo"}, "is_accepted": true, "score": 0, "last_activity_date": 1576082564, "last_edit_date": 1576082564, "creation_date": 1576081782, "answer_id": 59290181, "question_id": 59277206, "link": "https://stackoverflow.com/questions/59277206/visual-stuio-error-ts1005-character-expected/59290181#59290181", "title": "Visual Stuio - Error TS1005 &#39;Character&#39; Expected", "body": "<p>I just managed to locate the typescript version that Visual Studio is using, I changed it to lastest. Most of the errors disappeared.</p>\n\n<p><a href=\"https://i.stack.imgur.com/r4wVV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r4wVV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Only errors related to webpack were left, Finally. Now I am able to filter only errors I have control of.</p>\n"}], "owner": {"reputation": 2735, "user_id": 9951570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Bgdp.jpg?s=128&g=1", "display_name": "Mosia Thabo", "link": "https://stackoverflow.com/users/9951570/mosia-thabo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 59290181, "answer_count": 1, "score": 0, "last_activity_date": 1576082564, "creation_date": 1576023530, "question_id": 59277206, "link": "https://stackoverflow.com/questions/59277206/visual-stuio-error-ts1005-character-expected", "title": "Visual Stuio - Error TS1005 &#39;Character&#39; Expected", "body": "<p>I have been surfing the web for almost 5 hours trying to solve this issue. Current answers addressing this questions aren't solving my problem.</p>\n\n<p>I have updated <code>tsc</code> version to latest <code>version 3.7.3</code> but this issue is persisting on visual studio 2017 community.</p>\n\n<p><code>typescript.d.ts</code> file located in <code>node_modules/typescript/lib/</code> seems to be having over 3347 errors according to visual studio, but i realized they're all not <code>TS1005</code>, others existing are <code>TS2307</code>, <code>TS2304</code> etc, and they're all referring to the same file.</p>\n\n<p>Here's some of the errors repeating themselves, on different sections of the page.</p>\n\n<p>Error 1005: <code>Error TS1005(TS) '(' expected. Location: Property\\node_modules\\typescript\\lib\\typescript.d.ts</code></p>\n\n<p>Error 2304: <code>TS2304 (TS) Cannot find name 'FileReference'. Property\\node_modules\\typescript\\lib\\typescript.d.ts 4960</code></p>\n\n<p>What am I doing wrong here? </p>\n\n<p>Here's my tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"noImplicitAny\": true,\n    \"noEmitOnError\": true,\n    \"removeComments\": false,\n    \"sourceMap\": true,\n    \"module\": \"es6\",\n    \"target\": \"es5\",\n    \"jsx\": \"react\",\n    \"allowJs\": true,\n    \"outDir\": \"./wwwroot/_compiled\",\n    \"moduleResolution\": \"node\",\n    \"typeRoots\": [ \"node_modules/@types\" ]\n  },\n  \"exclude\": [\n    \"wwwroot/dist\",\n    \"node_modules\"\n  ]\n}\n</code></pre>\n"}]