[{"tags": ["angular", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 1, "creation_date": 1537403771, "post_id": 52415696, "comment_id": 91775293, "body": "whats the difference between <code>switchMap</code>, <code>mergeMap</code> and <code>forkJoin</code>? im not sure if i can <code>switchMap</code> every subscription like this"}, {"owner": {"reputation": 9691, "user_id": 101251, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d983612a465ed6bedaaf89005cc6e85e?s=128&d=identicon&r=PG", "display_name": "kctang", "link": "https://stackoverflow.com/users/101251/kctang"}, "reply_to_user": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "edited": false, "score": 0, "creation_date": 1537404934, "post_id": 52415696, "comment_id": 91775522, "body": "Operators in RxJS is a very rich API. You have to google/read up on those and try them in simple examples to understand how they work. Not something I can explain in a few words."}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1537405868, "post_id": 52415696, "comment_id": 91775710, "body": "For an explanation of the differences between <code>switchMap</code>, <code>mergeMap</code>, <code>concatMap</code> and <code>exhaustMap</code>, have a look at <a href=\"https://blog.angularindepth.com/switchmap-bugs-b6de69155524\" rel=\"nofollow noreferrer\">this article</a>."}, {"owner": {"reputation": 6991, "user_id": 2487876, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1d68f7d82d1aa7d4eabe6bcd6985eee6?s=128&d=identicon&r=PG", "display_name": "Kristjan Liiva", "link": "https://stackoverflow.com/users/2487876/kristjan-liiva"}, "edited": false, "score": 1, "creation_date": 1613162994, "post_id": 52415696, "comment_id": 117001220, "body": "This answer looks just like callback hell. It is just more condensed than the code in the question. Imagine doing this with 4-5 sequential http requests. It would expand as much to the right as it does down with the switchMaps and pipes, and produce typical callback hell visuals."}], "tags": [], "owner": {"reputation": 9691, "user_id": 101251, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d983612a465ed6bedaaf89005cc6e85e?s=128&d=identicon&r=PG", "display_name": "kctang", "link": "https://stackoverflow.com/users/101251/kctang"}, "is_accepted": true, "score": 11, "last_activity_date": 1537401563, "creation_date": 1537401563, "answer_id": 52415696, "question_id": 52415587, "link": "https://stackoverflow.com/questions/52415587/how-to-avoid-rxjs-subscribe-callback-hell/52415696#52415696", "title": "How to avoid RxJs subscribe callback hell?", "body": "<p>Try something like:</p>\n\n<pre><code>import { map, switchMap } from 'rxjs/operators'\n\nthis.addressService.getById(this.data.id, this.data.userId).pipe(\n  switchMap(address =&gt; this.dropdownService.getCidadesBrByEstado(address.name).pipe(\n    // this pass both cities and address to the next observable in this chain\n    map(cities =&gt; ({ cities, address }))\n  ))\n).subscribe(({ cities, address }) =&gt; {\n  this.cities = cities\n  this.address = address\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2946, "user_id": 751621, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c39aa04d169149a5f792167abcdbbbd?s=128&d=identicon&r=PG", "display_name": "craigcaulfield", "link": "https://stackoverflow.com/users/751621/craigcaulfield"}, "edited": false, "score": 2, "creation_date": 1545270777, "post_id": 53861335, "comment_id": 94570957, "body": "While a link may be handy, it&#39;s good to include the essence of the solution here in case that link goes offline or moves."}], "tags": [], "owner": {"reputation": 89, "user_id": 6032188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de079c3288f03cf2b2157cf26de947da?s=128&d=identicon&r=PG&f=1", "display_name": "lei li", "link": "https://stackoverflow.com/users/6032188/lei-li"}, "is_accepted": false, "score": 2, "last_activity_date": 1545294321, "last_edit_date": 1545294321, "creation_date": 1545269193, "answer_id": 53861335, "question_id": 52415587, "link": "https://stackoverflow.com/questions/52415587/how-to-avoid-rxjs-subscribe-callback-hell/53861335#53861335", "title": "How to avoid RxJs subscribe callback hell?", "body": "<p>For angular when using RxJS, it suggests to use the Observable Class. To solve callback hell in the RxJS, You can use Observable' Operators api like switchMap() method(more methods for different scene are map(), concatMap(), ...). Here is my example about using the switchMap() method:<br>\n(1) Situation I met: I want to subsribe serviceC, but serviceC needs subsribe serviceB, and serviceB needs subsribe serviceA  </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const serviceA(params): Observable&lt;any&gt;;\nconst serviceB(params): Observable&lt;any&gt;;\nconst serviceC(params): Observable&lt;any&gt;;\n\nserviceA(paramsA).subscribe(\n    serviceAResult =&gt; {\n        serviceB(paramsB).subscribe(\n            serviceBResult =&gt; {\n                serviceC(params).subscribe(\n                    serviceCResult =&gt; {\n                        // here is my logic code. Oh, Shit subscribe hell!\n                    }\n                )\n            }\n        )\n    }\n)\n</code></pre>\n\n\n\n<p>(2) Use switchMap() method to optimize code structure</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const serviceB$ = serviceA(paramsA).pipe(\n    switchMap(serviceAResult =&gt; {\n        return serviceB(paramsB);\n    })\n);\n\nconst serviceC$ = serviceB$.pipe(\n    switchMap(serviceBResult =&gt; {\n        return serviceC(paramsC);\n    })\n);\n\nserviceC$.subscribe(\n    serviceCResult =&gt; {\n        // here is my logic code.\n    },\n    error =&gt;{\n        // handle error\n    }\n);\n</code></pre>\n\n\n\n<p>Good post about dealing with <a href=\"https://www.academind.com/learn/javascript/callbacks-vs-promises-vs-rxjs-vs-async-awaits/\" rel=\"nofollow noreferrer\">callback hell</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 6991, "user_id": 2487876, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1d68f7d82d1aa7d4eabe6bcd6985eee6?s=128&d=identicon&r=PG", "display_name": "Kristjan Liiva", "link": "https://stackoverflow.com/users/2487876/kristjan-liiva"}, "is_accepted": false, "score": 1, "last_activity_date": 1613163769, "creation_date": 1613163769, "answer_id": 66178982, "question_id": 52415587, "link": "https://stackoverflow.com/questions/52415587/how-to-avoid-rxjs-subscribe-callback-hell/66178982#66178982", "title": "How to avoid RxJs subscribe callback hell?", "body": "<p>Assuming, you don't actually care about streams you could also convert the Observables to promises in this case and use <code>async/await</code>:</p>\n<pre><code>async ngOnInit(): Promise&lt;void&gt; {\n  this.address = await this.addressService.getById(this.data.id, this.data.userId).toPromise();\n  this.cities = await this.dropdownService.getCidadesBrByEstado(this.address.name).toPromise();\n}\n</code></pre>\n<p>And make sure you also catch the errors. <code>try catch</code> for example.</p>\n"}], "owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3572, "favorite_count": 4, "accepted_answer_id": 52415696, "answer_count": 3, "score": 10, "last_activity_date": 1613163769, "creation_date": 1537400506, "question_id": 52415587, "link": "https://stackoverflow.com/questions/52415587/how-to-avoid-rxjs-subscribe-callback-hell", "title": "How to avoid RxJs subscribe callback hell?", "body": "<p>I'm using Angular <code>RxJs subscribe</code> to make a <code>HttpClient</code> call and then make another call using the values from the first one. In this case, there's a call to get <code>address object</code>, and then i make a call using this object. Like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Injectable()\r\nexport class AddressService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getById(addressId: string, userId: string) {\r\n    return this.http.get(BACKEND_URL + 'getAddressById/' + [addressId, userId]);\r\n  }\r\n}\r\n  \r\nexport class AddressModalComponent implements OnInit {\r\n  constructor(private alertService: AlertService, private addressService: AddressService,           @Inject(MAT_DIALOG_DATA) public data: any, private dropdownService: DropdownService)\r\n\r\n  ngOnInit() {\r\n    this.addressService.getById(this.data.id, this.data.userId)\r\n        .subscribe(\r\n          (address: Address) =&gt; {\r\n            this.dropdownService.getCidadesBrByEstado(address.name)\r\n              .subscribe((cities: BrCity[]) =&gt; {\r\n                this.cities = cities;\r\n                this.address = address;\r\n              },\r\n              error =&gt; console.log(error));\r\n          }, error =&gt; { this.alertService.error(error);\r\n          }\r\n        );\r\n    }\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I'm trying to avoid multiple Subscribes, there is many like this in my code. I need an <code>Async/Await</code> approach like <code>Node.js promises</code>, but using Observables at component level. I'm not very familiar with <code>RxJs commands</code>... is there a better way to make many calls with just one <code>subscribe</code> and <code>catch</code>?</p>\n"}, {"tags": ["javascript", "typescript", "angular6"], "comments": [{"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1537397000, "post_id": 52415105, "comment_id": 91773936, "body": "So you&#39;re just trying to set <code>.index</code> for each item in the model without iterating through all of it?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 3, "creation_date": 1537397100, "post_id": 52415105, "comment_id": 91773964, "body": "<code>new Data({ ...data, index })</code>?"}, {"owner": {"reputation": 85, "user_id": 4934767, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f2a7a1a6b32281d3d04d3dd1cf24d948?s=128&d=identicon&r=PG&f=1", "display_name": "Softcore", "link": "https://stackoverflow.com/users/4934767/softcore"}, "edited": false, "score": 0, "creation_date": 1537398395, "post_id": 52415105, "comment_id": 91774255, "body": "I just want to create the selected item as a new object and pass the index value in to the newly create object additionaly"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4934767, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f2a7a1a6b32281d3d04d3dd1cf24d948?s=128&d=identicon&r=PG&f=1", "display_name": "Softcore", "link": "https://stackoverflow.com/users/4934767/softcore"}, "edited": false, "score": 0, "creation_date": 1537485551, "post_id": 52426351, "comment_id": 91812656, "body": "Thank you for your answer. I use something like your method but I need something different. @Eliott Rabson &#39;s answer is what I need. Thank you again"}], "tags": [], "owner": {"reputation": 41, "user_id": 8995753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb01d62f94fa190859c842e97f62983?s=128&d=identicon&r=PG&f=1", "display_name": "Macro", "link": "https://stackoverflow.com/users/8995753/macro"}, "is_accepted": false, "score": 0, "last_activity_date": 1537618069, "last_edit_date": 1537618069, "creation_date": 1537450349, "answer_id": 52426351, "question_id": 52415105, "link": "https://stackoverflow.com/questions/52415105/how-to-pass-a-new-value-into-a-newly-created-object-in-typescript/52426351#52426351", "title": "how to pass a new value into a newly created object in typescript", "body": "<p>You cant create a new object Data in the class Data. You can try this:</p>\n\n<pre><code>export interface IData {\n     index: number;\n     id:number;\n     value:string;\n     description:string\n}\n\nselectItem(index, data):IData{\n    let result:IData = {\n       index: index,\n       id: this.id, \n       value: this.value, \n       description: this.description\n    };\n    return result;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 913, "user_id": 5973519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101d9183b8ab54ebf930e090a463ec8d?s=128&d=identicon&r=PG", "display_name": "Eliott Robson", "link": "https://stackoverflow.com/users/5973519/eliott-robson"}, "is_accepted": true, "score": 3, "last_activity_date": 1537451155, "creation_date": 1537451155, "answer_id": 52426631, "question_id": 52415105, "link": "https://stackoverflow.com/questions/52415105/how-to-pass-a-new-value-into-a-newly-created-object-in-typescript/52426631#52426631", "title": "how to pass a new value into a newly created object in typescript", "body": "<p>I would create an optional parameter for your constructor.</p>\n\n<pre><code>export class Data{\n  index: number | null;\n  id: number;\n  value: string;\n  description: string;\n\n  constructor(data, index: number | null = null){\n    this.index = index;\n    this.id = data.id;\n    this.value = data.value;\n    this.description = data.description;\n  }\n}\n</code></pre>\n\n<p>And then later on you can do exactly as you need</p>\n\n<pre><code>selectItem(index, data){\n  let selectedItem = new Data(data, index);\n}\n</code></pre>\n\n<p>But it's also possible to create an object without it if you need</p>\n\n<pre><code>let selectedItem = new Data(data);\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4934767, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f2a7a1a6b32281d3d04d3dd1cf24d948?s=128&d=identicon&r=PG&f=1", "display_name": "Softcore", "link": "https://stackoverflow.com/users/4934767/softcore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 52426631, "answer_count": 2, "score": 0, "last_activity_date": 1537618069, "creation_date": 1537396808, "last_edit_date": 1537398537, "question_id": 52415105, "link": "https://stackoverflow.com/questions/52415105/how-to-pass-a-new-value-into-a-newly-created-object-in-typescript", "title": "how to pass a new value into a newly created object in typescript", "body": "<p>I am using Angular 6 an working with arrays. I have an array and a model.</p>\n\n<p>Array: </p>\n\n<pre><code>let array = [\n    {\n        id: 1,\n        value: \"Some Value\",\n        description: \"Some Description\"\n    },\n    {\n        id: 2,\n        value: \"Some Value\",\n        description: \"Some Description\"\n    },\n    {\n        id: 3,\n        value: \"Some Value\",\n        description: \"Some Description\"\n    },\n]\n</code></pre>\n\n<p>Model: </p>\n\n<pre><code>export class Data{\n    index: number;\n    id: number;\n    value: string;\n    description: string;\n\n    constructor(data){\n        this.index = null;\n        this.id = data.id;\n        this.value = data.value;\n        this.description = data.description;\n    }\n}\n</code></pre>\n\n<p>As you see there is a parameter in the model named \"index\". When an item is selected from this array, I create a new object with this method.</p>\n\n<pre><code>selectItem(index, data){\n    let selectedItem = new Data(data);\n    console.log(selectedItem);\n}\n</code></pre>\n\n<p>As expected the result is:</p>\n\n<pre><code>{\n    id: 1,\n    value: \"Some Value\",\n    description: \"Some Description\"\n}\n</code></pre>\n\n<p>In this case I can't add the index value into the newly created object because data object doesn't have this parameter.</p>\n\n<p>That's why I use </p>\n\n<pre><code>selectItem(index, data){\n   let selectedItem = new Data({\n       index = index,\n       id = data.id,\n       value = data.value,\n       description = data.description\n   })\n}\n</code></pre>\n\n<p>My question is: Is there a way for adding additional parameters while creating a new object with models. I need something like this.</p>\n\n<pre><code>selectItem(index, data){\n    let selectedItem = new Data({data}).index = index\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "switchmap"], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1537396795, "post_id": 52414991, "comment_id": 91773873, "body": "thanks that makes a lot more sense :).  I&#39;m getting a different error now: [ts] Argument of type &#39;OperatorFunction&lt;E[], boolean&gt;&#39; is not assignable to parameter of type &#39;OperatorFunction&lt;boolean | E[], boolean&gt;&#39;.   Type &#39;boolean | E[]&#39; is not assignable to type &#39;E[]&#39;.     Type &#39;false&#39; is not assignable to type &#39;E[]&#39;.  Any ideas?"}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 1, "creation_date": 1537397248, "post_id": 52414991, "comment_id": 91773999, "body": "Yeah, you&#39;ll want to do <code>startWith(values(this.entries))</code> instead. That way <code>map</code> is always mapping <code>E[]</code> items. As it currently is, you&#39;re starting with a boolean, which is why the type <code>boolean | E[]</code> instead of <code>E[]</code>."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1537397786, "post_id": 52414991, "comment_id": 91774131, "body": "OK COOL!  I ended up nuking the startWith, since the <code>entries</code> will have length zero by default on startup.  Thanks again!"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1537405479, "post_id": 52414991, "comment_id": 91775633, "body": "Slice stores now have observable count and empty notification: <a href=\"https://www.npmjs.com/package/@fireflysemantics/slice\" rel=\"nofollow noreferrer\">npmjs.com/package/@fireflysemantics/slice</a>"}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1537397780, "last_edit_date": 1537397780, "creation_date": 1537396032, "answer_id": 52414991, "question_id": 52414920, "link": "https://stackoverflow.com/questions/52414920/emitting-a-hot-boolean-observable-using-switchmap/52414991#52414991", "title": "Emitting a hot boolean observable using switchMap?", "body": "<p>The <code>switchMap</code> operator is used to select a new observable on each value. You only need a regular <code>map</code> so that each <code>Array</code> is mapped to a <code>boolean</code>:</p>\n\n<pre><code>import { map, startWith } from 'rxjs/operators';\n\n// ...\n\nisEmpty&lt;E&gt;():Observable&lt;boolean&gt; {\n  return this.notifyOnEmpty.pipe(\n    startWith(values(this.entries)), \n    map((entries:E[]) =&gt; entries.length == 0)\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "accepted_answer_id": 52414991, "answer_count": 1, "score": 1, "last_activity_date": 1537397780, "creation_date": 1537395524, "question_id": 52414920, "link": "https://stackoverflow.com/questions/52414920/emitting-a-hot-boolean-observable-using-switchmap", "title": "Emitting a hot boolean observable using switchMap?", "body": "<p>Trying to create an <code>isEmpty:Observable&lt;boolean&gt;</code>method that emits a hot <code>Observable&lt;boolean&gt;</code> using a <code>switchMap</code>.  This is what I have so far:</p>\n\n<pre><code>  /**\n   * Notifies observers when the store is empty.\n   */\n  protected notifyOnEmpty = new ReplaySubject&lt;E[]&gt;(1);\n\n  /**\n   * Check whether the store is empty.\n   * \n   * @return A hot {@link Observable&lt;boolean&gt;} that indicates whether the store is empty.\n   * \n   * @example\n     &lt;pre&gt;\n    source.isEmpty();\n    &lt;/pre&gt;\n  */\n  isEmpty&lt;E&gt;():Observable&lt;boolean&gt; {\n    const isCurrentlyEmpty = values(this.entries).length == 0;\n    return this.notifyOnEmpty.pipe(startWith(isCurrentlyEmpty), \n                                   switchMap((entries:E[])=&gt;entries.length == 0));\n  }\n</code></pre>\n\n<p>The thinking is that the store can then call <code>notifyOnEmpty.next(Object.values(this.entries))</code> to let subscribers know whether the store is empty.</p>\n\n<p>Anyways the switchMap statement leads to the error:</p>\n\n<blockquote>\n  <p>[ts]\n  Argument of type '(entries: E[]) => boolean' is not assignable to parameter of type '(value: E[], index: number) => ObservableInput'.\n    Type 'boolean' is not assignable to type 'ObservableInput'.\n  (parameter) entries: E[]</p>\n</blockquote>\n\n<p>Thoughts?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "webpack"], "comments": [{"owner": {"reputation": 607, "user_id": 6252528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd8c3fb0c76fc0a7b1f004bc1ab8288f?s=128&d=identicon&r=PG&f=1", "display_name": "Cleriston", "link": "https://stackoverflow.com/users/6252528/cleriston"}, "edited": false, "score": 1, "creation_date": 1537404177, "post_id": 52414882, "comment_id": 91775380, "body": "could you share your webpack configuration? Most of the cases the node_modules folder should be excluded."}, {"owner": {"reputation": 21, "user_id": 10313360, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6ycLlr5rT78/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMNT_DkYWRm5rfQwuEWIsspb-0FaA/mo/photo.jpg?sz=128", "display_name": "Uriah Ahrak", "link": "https://stackoverflow.com/users/10313360/uriah-ahrak"}, "reply_to_user": {"reputation": 607, "user_id": 6252528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd8c3fb0c76fc0a7b1f004bc1ab8288f?s=128&d=identicon&r=PG&f=1", "display_name": "Cleriston", "link": "https://stackoverflow.com/users/6252528/cleriston"}, "edited": false, "score": 0, "creation_date": 1537654150, "post_id": 52414882, "comment_id": 91864667, "body": "Right you are. solved."}], "owner": {"reputation": 21, "user_id": 10313360, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6ycLlr5rT78/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMNT_DkYWRm5rfQwuEWIsspb-0FaA/mo/photo.jpg?sz=128", "display_name": "Uriah Ahrak", "link": "https://stackoverflow.com/users/10313360/uriah-ahrak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537432048, "creation_date": 1537395310, "last_edit_date": 1537432048, "question_id": 52414882, "link": "https://stackoverflow.com/questions/52414882/bundle-a-typescript-project-which-requires-webpack", "title": "Bundle a typescript project which requires webpack", "body": "<p>I've been working on a project written in Typescript 3.0.1.\nWebPack is imported as a dependancy and all works just fine (I use the WebPack NodeJS API).</p>\n\n<p>Finally, I was trying to bundle the whole project (which requires WebPack) with WebPack.</p>\n\n<p>I searched a lot for something similar but I didn't find that someone has done this before.</p>\n\n<p>I get some errors from fsevents and node-pre-gyp which I cannot solve:</p>\n\n<pre><code>ERROR in ./node_modules/fsevents/node_modules/node-pre-gyp/lib/unpublish.js\nERROR in ./node_modules/fsevents/node_modules/node-pre-gyp/lib/publish.js\nModule not found: Error: Can't resolve 'aws-sdk' in '/Users/uriahahrak/Desktop/ahrak/witty-cli/node_modules/fsevents/node_modules/node-pre-gyp/lib'\nERROR in ./node_modules/fsevents/node_modules/node-pre-gyp/lib/info.js\nModule not found: Error: Can't resolve 'aws-sdk' in '/Users/uriahahrak/Desktop/ahrak/witty-cli/node_modules/fsevents/node_modules/node-pre-gyp/lib'\n</code></pre>\n\n<p>and some warnings from same libraries and from <code>fsevents.js</code>.</p>\n\n<p><strong>I have tried these solutions:</strong></p>\n\n<ol>\n<li><p>Installing aws-sdk as a dev-dependancy and as a dependancy - that actually removed the errors, but kept the warnings. And the bundle would not work - it throws an error about a <code>utils.js</code> file which is not found.</p></li>\n<li><p>Tried to add a noParse property to the WebPack config, and that removed the errors, kept the warnings and again - the bundle would not work because of a <code>utils.js</code>.</p></li>\n<li><p>Tried to compile with <code>tsc</code>, and then bundle the distributed <code>js</code>-file as an entry point. Same errors.</p></li>\n</ol>\n\n<p>After a lot of searches, the only way it works is with <code>tsc</code>, but there are many files generated and I would like to bundle them so it will be used as a standalone <code>js</code>-program.</p>\n\n<p>Environment details:</p>\n\n<pre><code>node - 8.12.0\nnpm - 6.4.1\ntypescript - 3.0.1\n</code></pre>\n\n<p>Let me know if you need more details.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "edited": false, "score": 1, "creation_date": 1537397576, "post_id": 52415121, "comment_id": 91774083, "body": "Super super thank you for the explanations here! I&#39;m new to TypeScript so learning a lot. This is super useful I wish I could give you more up vote points!! Especially notes on <code>void</code>, and strict null checking, it pointed me to looking into learning those differences now."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1537397221, "last_edit_date": 1537397221, "creation_date": 1537396894, "answer_id": 52415121, "question_id": 52414453, "link": "https://stackoverflow.com/questions/52414453/type-annotating-reflectpromise-method/52415121#52415121", "title": "Type annotating reflectPromise method", "body": "<p>You need to use a generic type to have the type of the result inferred. The type of the error is considered <code>any</code> in Typescript and there is no type safety there. Also I would type <code>rejected</code> and <code>resolved</code> as <code>undefined</code> not <code>void</code> (their value will be undefined after all at runtime so it's more acurate) and I would make them optional when they are not present.</p>\n\n<p>Also when <code>resolve</code> and <code>reject</code> are <code>true</code>, I would type them as the boolean literal type <code>true</code> in order to allow type-guards to work better.</p>\n\n<p>Putting it together, this compiles (with strict null checks):</p>\n\n<pre><code>function reflectPromise&lt;T&gt;(p: Promise&lt;T&gt;): Promise&lt;\n        { data: T, resolved: boolean, rejected?: undefined  } |\n        { error: any, resolved?: undefined, rejected: boolean }\n    &gt; {\n    return p.then((data: any) =&gt; ({\n                data,\n                resolved: true\n            }))\n            .catch((error: any) =&gt; ({\n                error,\n                rejected: true\n            }));\n}\n\n\n(async function (somePromise: Promise&lt;number&gt;) {\n    const result = await (reflectPromise(somePromise));\n    const didReject = !!result.rejected\n    if (result.rejected) {\n        result.error // result is { error: any, resolved?: undefined, rejected: true }\n    } else {\n        result.data // result { data: number, resolved: true, rejected?: undefined  } \n    }\n\n    if (result.resolved) {\n        result.data // result { data: number, resolved: true, rejected?: undefined  } \n    } else {\n        result.error // result is { error: any, resolved?: undefined, rejected: true }\n    }\n})(Promise.resolve(1));\n</code></pre>\n\n<p>Also the implementation of <code>reflectPromise</code> looks better with <code>async/await</code> in my opinion:</p>\n\n<pre><code>async function reflectPromise&lt;T&gt;(p: Promise&lt;T&gt;): Promise&lt;\n    { data: T, resolved: true, rejected?: undefined } |\n    { error: any, resolved?: undefined, rejected: true }\n&gt; {\n    try {\n        return {\n            data: await p,\n            resolved: true\n        }\n    } catch (e) {\n        return {\n            error: e,\n            rejected: true\n        }\n    }\n}\n</code></pre>\n\n<p>Without strict null checks, type guard will partially work if we need to change the types a bit, and set both <code>resolved</code> and <code>reject</code> on both branches:</p>\n\n<pre><code>async function reflectPromise&lt;T&gt;(p: Promise&lt;T&gt;): Promise&lt;\n    { data: T, resolved: true, rejected: false } |\n    { error: any, resolved: false, rejected: true }\n&gt; {\n    try {\n        return {\n            data: await p,\n            resolved: true,\n            rejected: false,\n        }\n    } catch (e) {\n        return {\n            error: e,\n            rejected: true,\n            resolved: false\n        }\n    }\n}\n\n(async function (somePromise: Promise&lt;number&gt;) {\n    const result = await (reflectPromise(somePromise));\n    const didReject = !!result.rejected\n    if (result.rejected) {\n        result.error // result is { error: any, resolved?: undefined, rejected: true }\n    } \n\n    if (result.resolved) {\n        result.data // result { data: number, resolved: true, rejected?: undefined  } \n    }\n})(Promise.resolve(1));\n</code></pre>\n"}], "owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 52415121, "answer_count": 1, "score": 0, "last_activity_date": 1537397221, "creation_date": 1537392591, "question_id": 52414453, "link": "https://stackoverflow.com/questions/52414453/type-annotating-reflectpromise-method", "title": "Type annotating reflectPromise method", "body": "<p>I was trying to type annoate a version of the <code>reflect</code> promise method from here - <a href=\"https://stackoverflow.com/a/31424853/1828637\">https://stackoverflow.com/a/31424853/1828637</a></p>\n\n<pre><code>function reflectPromise(p){\n    return p.then(data =&gt; ({\n                data,\n                resolved: true\n             }))\n            .catch(error =&gt; ({\n                error,\n                rejected: true\n             }));\n}\n</code></pre>\n\n<p>What it does is takes a promise, and returns another promise when it is resolved or rejected.</p>\n\n<p>The things I'm trying to do with pseudocode:</p>\n\n<ol>\n<li>Declare that <code>data</code> is <code>typeof ResolveValue(p)</code></li>\n<li>Declare that <code>error</code> is <code>typeof RejectValue(p)</code></li>\n<li>Declare that others can test <code>const didReject = !!(await (reflectedPromise(somePromise)).rejected</code> (what this will do for resolved promises, which returns <code>{ data: xxx, resolved:true }</code>) is turn <code>undefined</code> to <code>true</code>. Currently when I do <code>!!blah.rejected</code> TypeScript says to me <code>Property 'rejected' does not exist on type</code></li>\n</ol>\n\n<p>This is what I have so far:</p>\n\n<pre><code>function reflectPromise(p: Promise&lt;any&gt;): Promise&lt;\n        { data: any, resolved: boolean, rejected: void  } |\n        { error: any, resolved: void, rejected: boolean }\n    &gt; {\n    return p.then(data: any) =&gt; ({\n                data,\n                resolved: true\n             }))\n            .catch((error: any) =&gt; ({\n                error,\n                rejected: true\n             }));\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2646, "user_id": 4591364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TPlHJ.jpg?s=128&g=1", "display_name": "Microsmsm", "link": "https://stackoverflow.com/users/4591364/microsmsm"}, "edited": false, "score": 0, "creation_date": 1537392460, "post_id": 52414387, "comment_id": 91772581, "body": "What about going to that specific definition file and replace it with the newer version without pumping the whole TypeScript version?"}, {"owner": {"reputation": 1832, "user_id": 8947748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d73b489c80b662f62baccd4f8c4da4?s=128&d=identicon&r=PG&f=1", "display_name": "rhavelka", "link": "https://stackoverflow.com/users/8947748/rhavelka"}, "edited": false, "score": 0, "creation_date": 1537392506, "post_id": 52414387, "comment_id": 91772595, "body": "why not use typescript 3.0.3?"}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "reply_to_user": {"reputation": 1832, "user_id": 8947748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d73b489c80b662f62baccd4f8c4da4?s=128&d=identicon&r=PG&f=1", "display_name": "rhavelka", "link": "https://stackoverflow.com/users/8947748/rhavelka"}, "edited": false, "score": 0, "creation_date": 1537392601, "post_id": 52414387, "comment_id": 91772628, "body": "@rhavelka: Because you get: <code>ERROR in The Angular Compiler requires TypeScript &gt;=2.7.2 and &lt;2.10.0 but 3.0.3 was found instead.</code>"}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "reply_to_user": {"reputation": 2646, "user_id": 4591364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TPlHJ.jpg?s=128&g=1", "display_name": "Microsmsm", "link": "https://stackoverflow.com/users/4591364/microsmsm"}, "edited": false, "score": 0, "creation_date": 1537392694, "post_id": 52414387, "comment_id": 91772664, "body": "@Microsmsm: Do you mean to do so in <code>node_modules</code>? Yes, this is the last resort, I&#39;m just looking for any other maintenance-friendly options TS might have."}, {"owner": {"reputation": 2646, "user_id": 4591364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TPlHJ.jpg?s=128&g=1", "display_name": "Microsmsm", "link": "https://stackoverflow.com/users/4591364/microsmsm"}, "edited": false, "score": 0, "creation_date": 1537393775, "post_id": 52414387, "comment_id": 91773029, "body": "did you try <code>&quot;lib&quot;: [&quot;es2017&quot;, &quot;dom&quot;]</code> at <code>tsconfig.json</code>?"}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "reply_to_user": {"reputation": 2646, "user_id": 4591364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TPlHJ.jpg?s=128&g=1", "display_name": "Microsmsm", "link": "https://stackoverflow.com/users/4591364/microsmsm"}, "edited": false, "score": 0, "creation_date": 1537394142, "post_id": 52414387, "comment_id": 91773133, "body": "@Microsmsm: Sure. The issue is that IndexedDb-related types were added starting from TS 3 only. For example, <code>const storage: StorageManager = navigator.storage;</code> line wouldn&#39;t compile with TS 2.9, but would compile perfectly fine with TS 3.0."}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1537634838, "creation_date": 1537634838, "answer_id": 52458774, "question_id": 52414387, "link": "https://stackoverflow.com/questions/52414387/up-to-date-typings-like-lib-dom-d-ts-for-older-typescript-compiler/52458774#52458774", "title": "Up-to-date typings (like lib.dom.d.ts) for older TypeScript compiler", "body": "<p>You can set the <code>lib</code> compiler option in <code>tsconfig.json</code> to the list of lib files you want from TypeScript 2.9 (possibly an empty list) and then copy the <code>lib.*.d.ts</code> files you want from TypeScript 3.0 into your project, being sure to remove the <code>&lt;reference&gt;</code> directives so they don't accidentally pull in TypeScript 2.9 lib files.  Hopefully you can find a combination that works for you until Angular 7 is released with support for TypeScript 3.0.  If you run into specific issues that you can't solve, please update the question.</p>\n"}], "owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 52458774, "answer_count": 1, "score": 1, "last_activity_date": 1537634838, "creation_date": 1537392231, "last_edit_date": 1537456465, "question_id": 52414387, "link": "https://stackoverflow.com/questions/52414387/up-to-date-typings-like-lib-dom-d-ts-for-older-typescript-compiler", "title": "Up-to-date typings (like lib.dom.d.ts) for older TypeScript compiler", "body": "<p>Angular 6 forces the maximum TypeScript version to be 2.9.2.</p>\n\n<p>However, due to an outdated <code>lib.dom.d.ts</code> in this TS version, I'd like to use <code>lib.dom.d.ts</code> from TypeScript 3.0.3 which resolves issues I'm facing right now.</p>\n\n<p>Is it possible to use <code>lib.dom.d.ts</code> from TS 3.0.3 in a TS 2.9.2 project without messing up with <code>node_modules</code> (manually replacing files there)?</p>\n\n<p>Or as an option, are there <code>@types</code> packages containing up-to-date <code>lib.dom.d.ts</code> designed specifically for using with older than latest TS compiler?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "webpack", "sass"], "answers": [{"comments": [{"owner": {"reputation": 2842, "user_id": 4881192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGqrq.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4881192/adam"}, "edited": false, "score": 1, "creation_date": 1537395154, "post_id": 52414515, "comment_id": 91773449, "body": "Since you found the solution, please accept this answer as the correct one to mark the question as solved."}], "tags": [], "owner": {"reputation": 93, "user_id": 5114707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074e347700d0deffe4ef1617fe75d23b?s=128&d=identicon&r=PG&f=1", "display_name": "David Manton", "link": "https://stackoverflow.com/users/5114707/david-manton"}, "is_accepted": true, "score": 1, "last_activity_date": 1537392954, "creation_date": 1537392954, "answer_id": 52414515, "question_id": 52413990, "link": "https://stackoverflow.com/questions/52413990/using-typescript-webpack-4-and-react-each-time-i-include-a-scss-file-the-style/52414515#52414515", "title": "Using Typescript, Webpack 4 and React each time I include a scss file the style name is undefined in className", "body": "<p>I found the issue.</p>\n\n<p>The issue was using both MiniCssExtractPlugin and style-loader.  This generated two files which the styles object tried to reference.  </p>\n\n<p>One generated a dictionary of keys which matched the styles.mapContainer reference to a value and one contained a load of javascript which I'm not 100% clear on what it did.</p>\n\n<p>I needed the one with the dictionary of values.  By taking out the styles-loader I was left with the dictionary file and not the other one and then because there was no ambiguity it picked up the localised class names.</p>\n\n<p>The following is my final webpack config for generating the css.</p>\n\n<pre><code>{\n    test: /\\.(s*)css$/,\n    use: [\n        {\n            loader: MiniCssExtractPlugin.loader,\n            options:\n            {\n                publicPath: path.resolve(__dirname, './dist')\n            }\n        },\n        {\n            loader: 'typings-for-css-modules-loader',\n            options:\n            {\n                importLoaders: 1,\n                modules: true,\n                namedExport: true,\n                camelCase: true,\n                localIdentName: '[name]_[local][hash:base64:5]',\n                banner: \"// *** Generated File - Do not Edit ***\"\n            }\n        },\n        {\n            loader: \"sass-loader\",\n            options:\n            {\n                sourceMap: true,\n                modules: true\n            }\n        }\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 5114707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/074e347700d0deffe4ef1617fe75d23b?s=128&d=identicon&r=PG&f=1", "display_name": "David Manton", "link": "https://stackoverflow.com/users/5114707/david-manton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1154, "favorite_count": 0, "accepted_answer_id": 52414515, "answer_count": 1, "score": 1, "last_activity_date": 1537392954, "creation_date": 1537390035, "question_id": 52413990, "link": "https://stackoverflow.com/questions/52413990/using-typescript-webpack-4-and-react-each-time-i-include-a-scss-file-the-style", "title": "Using Typescript, Webpack 4 and React each time I include a scss file the style name is undefined in className", "body": "<p>I am building a React App using Typescript and Webpack 4.  I am trying to include class names from an scss file in my components, but when I do this the class name is undefined.</p>\n\n<p>The big problem I'm having is that a lot of tutorials and pages online recommend using ExtractTextPlugin but this isn't compatible with webpack 4.  That's why I have to use the MiniCssExtractPlugin and the typings-for-css-modules-loader.</p>\n\n<p>The following are my dependencies in my package.json</p>\n\n<pre><code>\"devDependencies\": {\n    \"@types/react\": \"^16.4.14\",\n    \"@types/react-dom\": \"^16.0.7\",\n    \"@types/react-redux\": \"^6.0.9\",\n    \"@types/redux-saga\": \"^0.10.5\",\n    \"awesome-typescript-loader\": \"^5.2.1\",\n    \"css-loader\": \"^1.0.0\",\n    \"html-webpack-plugin\": \"^3.2.0\",\n    \"mini-css-extract-plugin\": \"^0.4.2\",\n    \"node-sass\": \"^4.9.3\",\n    \"npm-check\": \"^5.8.0\",\n    \"sass-loader\": \"^7.1.0\",\n    \"source-map-loader\": \"^0.2.4\",\n    \"style-loader\": \"^0.23.0\",\n    \"typescript\": \"^3.0.3\",\n    \"typings-for-css-modules-loader\": \"^1.7.0\",\n    \"webpack\": \"^4.18.1\",\n    \"webpack-cli\": \"^3.1.0\"\n},\n\"dependencies\": {\n    \"es6-promise\": \"^4.2.5\",\n    \"little-loader\": \"^0.2.0\",\n    \"query-string\": \"^6.1.0\",\n    \"react\": \"^16.5.0\",\n    \"react-dom\": \"^16.5.0\",\n    \"react-redux\": \"^5.0.7\",\n    \"redux\": \"^4.0.0\",\n    \"redux-saga\": \"^0.16.0\"\n}\n</code></pre>\n\n<p>My webpack.config.js includes the following under module => rules along with the other stuff for handling my typescript files etc.</p>\n\n<pre><code>{\n    test: /\\.(s*)css$/,\n    use: [\n        \"style-loader\",\n        {\n            loader: MiniCssExtractPlugin.loader,\n            options:\n            {\n                publicPath: path.resolve(__dirname, './dist')\n            }\n        },\n        {\n            loader: 'typings-for-css-modules-loader',\n            options:\n            {\n                importLoaders: 1,\n                modules: true,\n                namedExport: true,\n                camelCase: true,\n                localIdentName: '[name]_[local][hash:base64:5]',\n                banner: \"// *** Generated File - Do not Edit ***\"\n            }\n        },\n        {\n            loader: \"sass-loader\",\n            options:\n            {\n                sourceMap: true,\n                modules: true\n            }\n        }\n    ]\n}\n</code></pre>\n\n<p>I have an scss file called map.styles.scss which only contains the following</p>\n\n<pre><code>.map-container {\n    margin: 0 auto;\n    overflow: hidden;    \n}\n</code></pre>\n\n<p>When the webpack build runs it generates the following file called map.styles.scss.d.ts</p>\n\n<pre><code>// *** Generated File - Do not Edit ***\nexport const mapContainer: string;\n</code></pre>\n\n<p>I am able to reference the file in my typescript now with the appropriate reference to the className as follows</p>\n\n<pre><code>import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport * as styles from './map.styles.scss';\n\nexport class Map extends React.Component {\n\n    render() {        \n        return (                    \n            &lt;div ref='map' className={styles.mapContainer}&gt;         \n                Loading map...                    \n            &lt;/div&gt;                  \n        );        \n    }\n}\n</code></pre>\n\n<p>The problem is that whilst the styles is an object, mapContainer is undefined.  As a result when my app is built, the className isn't present because there is no value to apply and so the style doesn't work.</p>\n\n<p>I'm finding it strange that I can reference the styles but I don't get the string which represents the class.  Can anyone point me in the right direction?</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1537389486, "post_id": 52413782, "comment_id": 91771447, "body": "Because <code>this.processedItems = this.totalProductItems;</code>: bith variables reference the same array."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 2, "creation_date": 1537389621, "post_id": 52413782, "comment_id": 91771509, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42523881/how-to-clone-a-javascript-array-of-objects\">How to clone a Javascript Array of Objects?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 0, "creation_date": 1537396493, "post_id": 52414062, "comment_id": 91773800, "body": "The link you posted is broken."}], "tags": [], "owner": {"reputation": 12628, "user_id": 3244064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea793dcbaff5a5e29ad3d05ef564d86?s=128&d=identicon&r=PG", "display_name": "Andriy", "link": "https://stackoverflow.com/users/3244064/andriy"}, "is_accepted": true, "score": 1, "last_activity_date": 1537398932, "last_edit_date": 1537398932, "creation_date": 1537390354, "answer_id": 52414062, "question_id": 52413782, "link": "https://stackoverflow.com/questions/52413782/angular-6-reseting-one-array-object-is-reseting-another-as-well/52414062#52414062", "title": "angular 6 reseting one array object is reseting another as well", "body": "<p>As stated <a href=\"https://www.dyn-web.com/javascript/arrays/value-vs-reference.php\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>if you assign an array to a variable or pass an array to a function, it is the reference to the original array that is copied or passed, not the value of the array.</p>\n</blockquote>\n\n<p>So, when changing <code>length</code> property in your local array you actually modifying also referenced array.</p>\n\n<p>Some solutions: assign to your variable a copy of array, which may be achieved in several ways:</p>\n\n<ul>\n<li><code>this.processedItems = [...this.totalProductItems];</code></li>\n<li><code>this.processedItems = this.totalProductItems.concat();</code></li>\n<li><code>this.processedItems = this.totalProductItems.slice(0);</code></li>\n</ul>\n\n<p>or instead of modifying <code>length</code> property reset a whole local array:</p>\n\n<p>instead of <code>this.processedItems.length = 0;</code>, do:</p>\n\n<pre><code>this.processedItems = [];\n</code></pre>\n"}], "owner": {"reputation": 6188, "user_id": 3719167, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/iL5FE.jpg?s=128&g=1", "display_name": "Anuj TBE", "link": "https://stackoverflow.com/users/3719167/anuj-tbe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 52414062, "answer_count": 1, "score": 0, "last_activity_date": 1537398932, "creation_date": 1537389093, "question_id": 52413782, "link": "https://stackoverflow.com/questions/52413782/angular-6-reseting-one-array-object-is-reseting-another-as-well", "title": "angular 6 reseting one array object is reseting another as well", "body": "<p>I'm using <code>Angular 6</code>.</p>\n\n<p>In my component I have two array variables like</p>\n\n<pre><code>processedItems: Array&lt;any&gt; = [];\ntotalProductItems: Array&lt;any&gt; = [];\n</code></pre>\n\n<p>and processing functions like</p>\n\n<pre><code>ngOnInit() {\n  $products.forEach(async (e) =&gt; {\n    const res = await this.scraperService.scrapSingle(e.url).toPromise();\n    if (res.status.http_code === 200) {\n      const properties = this.scraperService.processSingleProduct(res.contents);\n\n      const p_item = {};\n      p_item['properties'] = properties;\n\n      this.totalProductItems.push(p_item);\n\n      this._applyFilter();\n    }\n  }\n\n\nprivate _applyFilter() {\n  if (!this.filterData) {\n    // if nothing to filter, set totalProductItems;\n    this.processedItems = this.totalProductItems;\n  } else {\n    console.log('applying filter');\n\n    // reset processedItems\n    this.processedItems.length = 0;\n\n    // this now prints blank array\n    console.log(this.totalProductItems);\n\n  }\n} \n</code></pre>\n\n<p>Setting length property of <code>this.processedItems</code> to 0 is also emptying the <code>this.totalProductItems</code>.</p>\n\n<p>Why so? How can I keep these variables separate and independent?</p>\n"}, {"tags": ["node.js", "typescript", "cors"], "answers": [{"tags": [], "owner": {"reputation": 2566, "user_id": 3026206, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/8LVs6.jpg?s=128&g=1", "display_name": "beachCode", "link": "https://stackoverflow.com/users/3026206/beachcode"}, "is_accepted": true, "score": 0, "last_activity_date": 1537621820, "creation_date": 1537621820, "answer_id": 52456969, "question_id": 52413398, "link": "https://stackoverflow.com/questions/52413398/mobile-only-cors-error-origin-is-not-allowed-by-access-control-allow-origin-in/52456969#52456969", "title": "Mobile only CORS Error: Origin is not allowed by Access-Control-Allow-Origin In Node.js", "body": "<p>The issue was missing data in the DB, so the Node endpoint was not returning properly. The errors had nothing to do with the problem.</p>\n"}], "owner": {"reputation": 2566, "user_id": 3026206, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/8LVs6.jpg?s=128&g=1", "display_name": "beachCode", "link": "https://stackoverflow.com/users/3026206/beachcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 1, "accepted_answer_id": 52456969, "answer_count": 1, "score": 2, "last_activity_date": 1537621820, "creation_date": 1537387250, "last_edit_date": 1537387557, "question_id": 52413398, "link": "https://stackoverflow.com/questions/52413398/mobile-only-cors-error-origin-is-not-allowed-by-access-control-allow-origin-in", "title": "Mobile only CORS Error: Origin is not allowed by Access-Control-Allow-Origin In Node.js", "body": "<p>I've set up a Node.js (TypeScript hosted on Google Cloud Platform [GCP]) app for CORS but I'm still getting errors (Origin is not allowed by Access-Control-Allow-Origin) on mobile--desktop works fine.</p>\n\n<p>I've searched but there are so many questions about getting this set up in general, I can't find why it specifically isn't working for mobile.</p>\n\n<pre><code>    this.app.use(cors()); \n    this.app.options('*', cors());\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    router.use(function(req, res, next) {\n          res.header('Content-Type', 'application/json');\n          res.setHeader('Access-Control-Allow-Origin', '*');\n          res.setHeader('Access-Control-Allow-Methods', 'DELETE,GET,OPTIONS,PATCH,POST');\n          res.setHeader('Access-Control-Allow-Headers', 'Origin, Accept, Authorization, Content-Type, X-Requested-With, Access-Control-Allow-Headers, Access-Control-Request-Method, Access-Control-Request-Headers');\n          next();\n        });\n</code></pre>\n\n<p>BTW The errors don't appear in the console until a few minutes after the page has loaded. (I've removed the URLs which are valid.)</p>\n\n<p>\"XMLHttpRequest cannot load  due to access control checks.\"</p>\n\n<p>\"Failed to load resource: Origin  is not allowed by Access-Control-Allow-Origin.\"</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 0, "creation_date": 1537387548, "post_id": 52413372, "comment_id": 91770671, "body": "The data you have listed in your HTML differs from the structure you&#39;ve provided. <code>fundName</code> doesn&#39;t exist in your example..."}, {"owner": {"reputation": 131, "user_id": 8374610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c984b9bcf198625b13774d8c4bf4583?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/8374610/mark"}, "edited": false, "score": 0, "creation_date": 1537388015, "post_id": 52413372, "comment_id": 91770839, "body": "What do you get if you just console.log(this.accountTransactions)? You may be getting an object with an empty transactions."}, {"owner": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 1, "creation_date": 1537389001, "post_id": 52413372, "comment_id": 91771237, "body": "What do you mean by it doesn&#39;t work ? you have an error ? if not the first transaction simply miss the property amount"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1537390188, "post_id": 52413372, "comment_id": 91771752, "body": "it look like correct. try using console.log(data) and see what are you receiving"}, {"owner": {"reputation": 3, "user_id": 10301280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c34dcfaad8105ba6f55abb1fd80b00?s=128&d=identicon&r=PG&f=1", "display_name": "ThatGuyOverThere", "link": "https://stackoverflow.com/users/10301280/thatguyoverthere"}, "reply_to_user": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 0, "creation_date": 1537446175, "post_id": 52413372, "comment_id": 91792901, "body": "@tymeJV - corrected that, I had just made some changes to simplify the example.  Regardless, still have the same issue."}, {"owner": {"reputation": 3, "user_id": 10301280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c34dcfaad8105ba6f55abb1fd80b00?s=128&d=identicon&r=PG&f=1", "display_name": "ThatGuyOverThere", "link": "https://stackoverflow.com/users/10301280/thatguyoverthere"}, "reply_to_user": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 0, "creation_date": 1537446419, "post_id": 52413372, "comment_id": 91793061, "body": "@xrobert35 Yes, I get &quot;Cannot read property &#39;amount&#39; of undefined&quot;"}, {"owner": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 0, "creation_date": 1537446525, "post_id": 52413372, "comment_id": 91793139, "body": "When you look in the network tab,  check your request and go to the &quot;response&quot; tab  (in chrome), what do you receive ?"}, {"owner": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 0, "creation_date": 1537447478, "post_id": 52413372, "comment_id": 91793754, "body": "Can you show the code of apiService getAccountTrans...?"}, {"owner": {"reputation": 3, "user_id": 10301280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c34dcfaad8105ba6f55abb1fd80b00?s=128&d=identicon&r=PG&f=1", "display_name": "ThatGuyOverThere", "link": "https://stackoverflow.com/users/10301280/thatguyoverthere"}, "reply_to_user": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 0, "creation_date": 1537447493, "post_id": 52413372, "comment_id": 91793764, "body": "@xrobert35, sorry, I had pulled the output when querying something that didn&#39;t exist in the db.  I deleted my other comment.  I still get the error &quot;Cannot read property &#39;amount&#39; of undefined, but the output of console.log(data) is {id: 158, transactions: Array(3)}.  In the Network tab, it shows the expected JSON with the 3 entries in the array."}, {"owner": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 0, "creation_date": 1537447910, "post_id": 52413372, "comment_id": 91794051, "body": "What is the value of the index 0 of the array?"}, {"owner": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 0, "creation_date": 1537448142, "post_id": 52413372, "comment_id": 91794234, "body": "There is nothing wrong in the code you show its only a data problem for me"}, {"owner": {"reputation": 3, "user_id": 10301280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c34dcfaad8105ba6f55abb1fd80b00?s=128&d=identicon&r=PG&f=1", "display_name": "ThatGuyOverThere", "link": "https://stackoverflow.com/users/10301280/thatguyoverthere"}, "reply_to_user": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 0, "creation_date": 1537448364, "post_id": 52413372, "comment_id": 91794387, "body": "@xrobert35 Found the issue in apiService.  I had defined the interface for my object as: interface AccountTransactions {   id: number;   name: string;   interactions: Array&lt;AccountTransaction&gt;; } so that last line just needed to be renamed to transactions: Array&lt;AccountTransaction&gt; instead (that&#39;s what I get for copy/paste from another interface).  If you post an answer, I&#39;ll give you credit as you pointed me to the right place."}, {"owner": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 0, "creation_date": 1537448764, "post_id": 52413372, "comment_id": 91794680, "body": "You mean that when you get the result from Server you transform it to match the interface?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10301280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c34dcfaad8105ba6f55abb1fd80b00?s=128&d=identicon&r=PG&f=1", "display_name": "ThatGuyOverThere", "link": "https://stackoverflow.com/users/10301280/thatguyoverthere"}, "edited": false, "score": 0, "creation_date": 1537449110, "post_id": 52425905, "comment_id": 91794910, "body": "thanks, as previously discussed in the comments section, I had used &#39;interactions&#39; instead of &#39;transactions&#39; in the interface I defined in apiService which caused this problem.  Appreciate the help."}], "tags": [], "owner": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "is_accepted": true, "score": 1, "last_activity_date": 1537448946, "creation_date": 1537448946, "answer_id": 52425905, "question_id": 52413372, "link": "https://stackoverflow.com/questions/52413372/angular-typescript-reference-array-of-objects-within-a-property-from-a-rest-se/52425905#52425905", "title": "Angular/Typescript - Reference array of objects within a property from a REST service", "body": "<p>There is actually nothing wrong in your code. You should check in the apiService to see if there is something wrong.</p>\n\n<p>Arrray in a normal object in JSON you don't really have something special to do. transactions[0] is simply missing in your object</p>\n"}], "owner": {"reputation": 3, "user_id": 10301280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c34dcfaad8105ba6f55abb1fd80b00?s=128&d=identicon&r=PG&f=1", "display_name": "ThatGuyOverThere", "link": "https://stackoverflow.com/users/10301280/thatguyoverthere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 52425905, "answer_count": 1, "score": -2, "last_activity_date": 1537449196, "creation_date": 1537387125, "last_edit_date": 1537449196, "question_id": 52413372, "link": "https://stackoverflow.com/questions/52413372/angular-typescript-reference-array-of-objects-within-a-property-from-a-rest-se", "title": "Angular/Typescript - Reference array of objects within a property from a REST service", "body": "<p>I have a simple REST service returning JSON similar to the below:</p>\n\n<pre><code>{\"id\":123,\n \"name\":\"Sam\",\n \"transactions\":[\n    {\"date\":\"2018-05-31\",\"amount\":29.99,\"desc\":\"shirt\"},\n    {\"date\":\"2018-05-31\",\"amount\":42.99,\"desc\":\"pants\"},\n    {\"date\":\"2018-05-31\",\"amount\":59.99,\"desc\":\"shoes\"}\n  ]\n}\n</code></pre>\n\n<p>I'm trying to reference this within the Angular component (.ts) to work with the data.  I'm able to read it fine within the html template using:</p>\n\n<pre><code>&lt;tr *ngFor=\"let transaction of accountTransactions.transactions \"&gt;\n  &lt;td&gt; {{ transaction.date}} &lt;/td&gt;\n  &lt;td&gt; {{ transaction.amount}} &lt;/td&gt;\n  &lt;td&gt; {{ transaction.desc}} &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>When I'm in my component, after receiving the value back from the promise, I can access the 'main' properties of the returned data (id and name), but I can't figure out the syntax or method to get at the data within the array:</p>\n\n<pre><code>public getAccountTransactions() {\nthis.apiService.getAccountTransactions(this.acct).toPromise().then(data =&gt; {\n    console.log('in getAccountTransactions');\n    this.accountTransactions = data;\n    console.log(data.id);   // this works fine\n    console.log(this.accountTransactions.id) // this works fine\n    console.log(this.accountTransactions.transactions[0].amount) // this doesn't work\n}\n</code></pre>\n\n<p>Any help is greatly appreciated.  Thanks.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 283, "user_id": 10261701, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_-PuFu-NmEU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOxPidKni6Jlr4E36iF9nTyhu4dOg/mo/photo.jpg?sz=128", "display_name": "User123", "link": "https://stackoverflow.com/users/10261701/user123"}, "edited": false, "score": 0, "creation_date": 1537388095, "post_id": 52413231, "comment_id": 91770878, "body": "I want the model value to pertain description value  instead of data object. Is there any way I can pass the data to getNameList function &quot;getNameList (data)&quot; in HTML."}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 2, "last_activity_date": 1537386438, "creation_date": 1537386438, "answer_id": 52413231, "question_id": 52413191, "link": "https://stackoverflow.com/questions/52413191/how-to-send-data-from-selected-option-to-component/52413231#52413231", "title": "how to send data from selected option to component", "body": "<p>You should use <strong><code>[ngValue]=\"data\"</code></strong></p>\n\n<pre><code> &lt;option *ngFor=\"let data of nameList\" [ngValue]=\"data\"&gt; {{data.description}} \n &lt;/option&gt;\n</code></pre>\n\n<p>and access in the component as,</p>\n\n<pre><code>  getNameList() {\n     console.log(this.description);\n  }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-dcd4ep?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">WORKING STACKBLITZ DEMO</a></p>\n"}, {"tags": [], "owner": {"reputation": 2311, "user_id": 5733258, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206687577122672/picture?type=large", "display_name": "dmarquina", "link": "https://stackoverflow.com/users/5733258/dmarquina"}, "is_accepted": false, "score": 0, "last_activity_date": 1537388333, "creation_date": 1537388333, "answer_id": 52413641, "question_id": 52413191, "link": "https://stackoverflow.com/questions/52413191/how-to-send-data-from-selected-option-to-component/52413641#52413641", "title": "how to send data from selected option to component", "body": "<p>You should try to use interface to improve your typescript code\nYour html could be like this </p>\n\n<pre><code>&lt;hello name=\"{{exampleSelected?.description}}\"&gt;&lt;/hello&gt;\n\n&lt;select [(ngModel)]=\"exampleSelected\" aria-required (change)=\"getNameList()\"&gt;\n    &lt;option style=\"display:none\"&gt;&lt;/option&gt;\n    &lt;option *ngFor=\"let data of nameList\" [ngValue]=\"data\"&gt; {{data.description}} \n &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>And your ts should be like this:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\n\nexport class AppComponent {\n  exampleSelected;\n\n  nameList = [\n    {\n      \"code\": \"1\",\n      \"description\": \"abc\"\n    },\n    {\n      \"code\": \"1\",\n      \"description\": \"def\"\n    },\n    {\n      \"code\": \"1\",\n      \"description\": \"ijk\"\n    }\n  ]\n\n  getNameList() {\n    console.log(this.exampleSelected);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 283, "user_id": 10261701, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_-PuFu-NmEU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOxPidKni6Jlr4E36iF9nTyhu4dOg/mo/photo.jpg?sz=128", "display_name": "User123", "link": "https://stackoverflow.com/users/10261701/user123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1537390286, "creation_date": 1537386229, "last_edit_date": 1537386837, "question_id": 52413191, "link": "https://stackoverflow.com/questions/52413191/how-to-send-data-from-selected-option-to-component", "title": "how to send data from selected option to component", "body": "<p>I have json with the following format. </p>\n\n<p>When I select an option, I would like to pass the values (code &amp; description values from json) to the component.</p>\n\n<pre><code>nameList= [\n  {\n    \"code\": \"1\",\n    \"description\": \"abc\"\n  },\n  {\n    \"code\": \"123\",\n    \"description\": \"def\"\n  },\n  {\n    \"code\": \"100\",\n    \"description\": \"ijk\"\n  }\n]\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;select [(ngModel)]=\"description\" #category=\"ngModel\" aria-required\n (change)=\"getNameList()\"&gt; //want to send data.code value to component\n    &lt;option style=\"display:none\"&gt;&lt;/option&gt;\n    &lt;option *ngFor=\"let data of nameList\"&gt; {{data.description}} \n    &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-4y1sbc?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "user-interface", "angular5"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1537385039, "post_id": 52412891, "comment_id": 91769460, "body": "Maybe. See <a href=\"https://stackoverflow.com/a/6649204/1260204\"><i>calling java methods in javascript code</i></a> and <a href=\"https://stackoverflow.com/a/11822943/1260204\"><i>Run a .jar file with parameters from JavaScript</i></a>"}, {"owner": {"reputation": 4639, "user_id": 4641455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80516e0fdc6fbaaf574bf3d00fa60395?s=128&d=identicon&r=PG&f=1", "display_name": "JFPicard", "link": "https://stackoverflow.com/users/4641455/jfpicard"}, "edited": false, "score": 3, "creation_date": 1537385450, "post_id": 52412891, "comment_id": 91769669, "body": "I don&#39;t think it&#39;s a good idea, and it&#39;s too broad to ask here. Typically, you want to consume java &#39;code&#39; from a WebApi from angular. You really don&#39;t want to install .jar to all the clients computers"}, {"owner": {"reputation": 2311, "user_id": 5733258, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206687577122672/picture?type=large", "display_name": "dmarquina", "link": "https://stackoverflow.com/users/5733258/dmarquina"}, "edited": false, "score": 1, "creation_date": 1537386386, "post_id": 52412891, "comment_id": 91770122, "body": "Perhaps if you explain what exactly you want to do, you will find better options than import jar files in an angular project"}], "owner": {"reputation": 21, "user_id": 5048469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c59990987c568c8fd41d0ca855c1b45?s=128&d=identicon&r=PG&f=1", "display_name": "wintersun_x", "link": "https://stackoverflow.com/users/5048469/wintersun-x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1097, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537384836, "creation_date": 1537384836, "question_id": 52412891, "link": "https://stackoverflow.com/questions/52412891/is-it-possible-to-use-java-methods-from-jar-files-in-angular-5-services", "title": "Is it possible to use Java methods from *.jar files in angular 5 services?", "body": "<p>I am new to Angular, I am wondering if there is any possibility of importing *.jar files inside Angular 5 components or Services. Thanks in advance!!</p>\n"}, {"tags": ["javascript", "ios", "typescript", "react-native", "react-native-textinput"], "comments": [{"owner": {"reputation": 499, "user_id": 9890122, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-48N7iYSc6A4/AAAAAAAAAAI/AAAAAAAAAOI/rd-CH5M77Tg/photo.jpg?sz=128", "display_name": "Harrison", "link": "https://stackoverflow.com/users/9890122/harrison"}, "edited": false, "score": 1, "creation_date": 1537385081, "post_id": 52412842, "comment_id": 91769479, "body": "This is probably because you have <code>multiline</code> on which I&#39;m pretty sure messes up the height of the <code>TextInput</code>"}, {"owner": {"reputation": 65, "user_id": 1276890, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/df9f37c7f42dcb61c9bca8edca86f594?s=128&d=identicon&r=PG", "display_name": "Arpit Gupta", "link": "https://stackoverflow.com/users/1276890/arpit-gupta"}, "reply_to_user": {"reputation": 499, "user_id": 9890122, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-48N7iYSc6A4/AAAAAAAAAAI/AAAAAAAAAOI/rd-CH5M77Tg/photo.jpg?sz=128", "display_name": "Harrison", "link": "https://stackoverflow.com/users/9890122/harrison"}, "edited": false, "score": 0, "creation_date": 1537426466, "post_id": 52412842, "comment_id": 91781626, "body": "Yes, but I need multiline text input."}], "owner": {"reputation": 65, "user_id": 1276890, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/df9f37c7f42dcb61c9bca8edca86f594?s=128&d=identicon&r=PG", "display_name": "Arpit Gupta", "link": "https://stackoverflow.com/users/1276890/arpit-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 715, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1537384618, "creation_date": 1537384618, "question_id": 52412842, "link": "https://stackoverflow.com/questions/52412842/react-native-textinput-placeholder-causes-wrong-contentsize-height-oncontentsize", "title": "React Native TextInput placeholder causes wrong contentSize.height onContentSizeChange in iOS", "body": "<p>I am using multiline text input with placeholder like this.<br>\nI am using onContentSizeChange to change the height of TextInput.</p>\n\n<pre><code> &lt;TextInput\n placeholder='abcd'\n placeholderTextColor='gray'\n multiline={true}\n onContentSizeChange={(e) =&gt; console.log(e.nativeEvent.contentSize)}\n value=''\n style={{width:'100%'}}\n /&gt;\n</code></pre>\n\n<p>Because of this placeholder, the onContentSizeChange is returning wrong heights for the textInput.</p>\n\n<p>It works perfectly in android but messed up in iOS.</p>\n\n<p>It assumes that the text input width is equal to placeholder length, so onContentSizeChange returns increased height when the text length becomes greater than the placeholder length</p>\n"}, {"tags": ["typescript", "multidimensional-array"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7799373, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NMgdPO54mts/AAAAAAAAAAI/AAAAAAAAEw4/A_gBzzU5y4c/photo.jpg?sz=128", "display_name": "Test0n3", "link": "https://stackoverflow.com/users/7799373/test0n3"}, "edited": false, "score": 0, "creation_date": 1537386765, "post_id": 52413113, "comment_id": 91770318, "body": "Thanks for your reply. Your method works for most cases, except the last one which includes {}. Had to add {} in the type. accum can be defines with T[] but val can&#39;t, not even MaybeArray&lt;T&gt;[]."}], "tags": [], "owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "is_accepted": true, "score": 1, "last_activity_date": 1537385895, "creation_date": 1537385895, "answer_id": 52413113, "question_id": 52412815, "link": "https://stackoverflow.com/questions/52412815/typescript-proper-way-for-multidimensional-array-argument/52413113#52413113", "title": "TypeScript: Proper way for multidimensional array argument", "body": "<p>You'll want to define a type that is possibly an array and possibly not. Something like:</p>\n\n<pre><code>type MaybeArray&lt;T&gt; = T | T[];\n</code></pre>\n\n<p>Then you can update your function to:</p>\n\n<pre><code>function steamrollArray&lt;T&gt;(arr: MaybeArray&lt;T&gt;[]): T[] {\n    return arr.reduce(\n        (accum: any, val: any) =&gt;\n             Array.isArray(val) ? accum.concat(steamrollArray(val)) : accum.concat(val)\n    , []);\n}\n</code></pre>\n\n<p>With that, Typescript will be able to parse the types correctly and understand your intent.</p>\n"}], "owner": {"reputation": 33, "user_id": 7799373, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NMgdPO54mts/AAAAAAAAAAI/AAAAAAAAEw4/A_gBzzU5y4c/photo.jpg?sz=128", "display_name": "Test0n3", "link": "https://stackoverflow.com/users/7799373/test0n3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 52413113, "answer_count": 1, "score": 3, "last_activity_date": 1537385895, "creation_date": 1537384509, "question_id": 52412815, "link": "https://stackoverflow.com/questions/52412815/typescript-proper-way-for-multidimensional-array-argument", "title": "TypeScript: Proper way for multidimensional array argument", "body": "<p>I'm working some JS algorithms with TS.\nSo I made this functions:</p>\n\n<pre><code>function steamrollArray(arr: any[]): any[] {\n  return arr.reduce(\n    (accum: any, val: any) =&gt;\n      Array.isArray(val) ? accum.concat(steamrollArray(val)) : accum.concat(val)\n  , []);\n}\n</code></pre>\n\n<p>but the arguments need the flexibility to accept multiple dimension arrays, as follow:</p>\n\n<pre><code>steamrollArray([[[\"a\"]], [[\"b\"]]]);\nsteamrollArray([1, [2], [3, [[4]]]]);\nsteamrollArray([1, [], [3, [[4]]]]);\nsteamrollArray([1, {}, [3, [[4]]]]);\n</code></pre>\n\n<p>Which is the proper way to define the arguments for the function?</p>\n\n<p>Certainly I could use Types, like here: <a href=\"https://stackoverflow.com/questions/36588385/typescript-multidimensional-array-with-different-types\">typescript multidimensional array with different types</a> but won't work with all cases.</p>\n"}, {"tags": ["typescript", "reference"], "answers": [{"comments": [{"owner": {"reputation": 1629, "user_id": 2927848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7e21a18807ebac8e078272cfdeb6b7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Chase R Lewis", "link": "https://stackoverflow.com/users/2927848/chase-r-lewis"}, "edited": false, "score": 0, "creation_date": 1537416744, "post_id": 52413083, "comment_id": 91778052, "body": "It&#39;s cool, i figured it out. console.log doesn&#39;t appear to write immediately on arrays or objects (not 100% sure) or does them asynchronously.  I didn&#39;t know it did that, but it explains the odd response as a function called after the console.log added the values  back to the array."}], "tags": [], "owner": {"reputation": 11, "user_id": 9220661, "user_type": "registered", "profile_image": "https://graph.facebook.com/1572349456177784/picture?type=large", "display_name": "Siegklenes Beulke", "link": "https://stackoverflow.com/users/9220661/siegklenes-beulke"}, "is_accepted": false, "score": 0, "last_activity_date": 1537385734, "creation_date": 1537385734, "answer_id": 52413083, "question_id": 52412769, "link": "https://stackoverflow.com/questions/52412769/typescript-reference-issue/52413083#52413083", "title": "Typescript Reference Issue", "body": "<p>Tricky, at least without full code.</p>\n\n<p>For debug accuracy with console.log, change your all console.log calls to console.log(JSON.stringify... ex:</p>\n\n<pre><code>console.log(JSON.stringify(data,null,2)); // dont work with auto referencied objects\n</code></pre>\n\n<p>Without full code, its hard to know. You can try setting to undefined or creating a new object </p>\n\n<pre><code>data[i][mapping.guess] = {};\n</code></pre>\n"}], "owner": {"reputation": 1629, "user_id": 2927848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7e21a18807ebac8e078272cfdeb6b7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Chase R Lewis", "link": "https://stackoverflow.com/users/2927848/chase-r-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537385734, "creation_date": 1537384296, "last_edit_date": 1537384757, "question_id": 52412769, "link": "https://stackoverflow.com/questions/52412769/typescript-reference-issue", "title": "Typescript Reference Issue", "body": "<p>So I have a web application that does some basic analytics on some user imported data. It lets the user map columns, and we show the properties on a map, show different statistics on the properties, etc. </p>\n\n<p>We are adding a feature that is dependent on the particular mapped column, and when I am going through it, I can't understand the output and why I would have an issue. The relevant function is below. I pass a list of objects to it and remove the data associated to the unified field. SO mapping. Guess might be 'Address,' and mapping.field might be 'Street Address' in the CSV for example.</p>\n\n<pre><code>deleteMapping(field: string, data?: Array&lt;any&gt;, render?: boolean)\n{\n    if (!field || typeof field !== 'string')\n        throw { message: \"delete mapping expects a string parameter\"}\n\n    var mapping = this.mapping[field];\n\n    if (!mapping)\n        return;\n\n    this.mapping[field] = null;\n    this.inverseMapping[mapping.guess] = null;\n\n    if (Array.isArray(data))\n    {\n        console.log(mapping.guess);\n        console.log(data);\n        for (var i = 0; i &lt; data.length; i++)\n        {\n            console.log(data[i][mapping.guess]);\n            data[i][mapping.guess] = null;\n            console.log(data[i][mapping.guess]);\n        }\n        console.log(data);\n\n        try\n        {\n            $(\"body\").trigger(\"analytics:unbind\",{ field: mapping.field, unified: mapping.guess, render: render === undefined ? true : render}); \n        }\n        catch (e)\n        {\n            console.error(e);\n        }\n    }\n}\n</code></pre>\n\n<p>My issue is that the console. Logs aren't making any sense to me. </p>\n\n<ol>\n<li>mapping.guess = 'Address' as expected</li>\n<li>data = My Initial Array as expected</li>\n<li>First data[i][mapping.guess] = the Address of the individual property as expected</li>\n<li>Second data[i][mapping.guess] = null as expected</li>\n<li>data = My Initial Array <em>UNCHANGED</em></li>\n</ol>\n\n<p>I don't understand why the array item isn't having its value checked. Any ideas. I also don't know how data[i][mapping.guess] in the array returns correctly in the loop. Ultimately at a loss, as I'm setting the value to null, then it returns null. Why wouldn't the value in the array be null after the loop?</p>\n\n<p>Edit: ... think i figured it out. Think the console.log is a bit asynchronous. The address gets rebuilt in the following 'unbind' event and when it prints it is reconstructed from other data. Didn't realize console.log might defer its results.</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 414, "user_id": 7999140, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JmnQFRjBA9A/AAAAAAAAAAI/AAAAAAAAACw/HdaLhFa4ARw/photo.jpg?sz=128", "display_name": "Bernardo Siqueira", "link": "https://stackoverflow.com/users/7999140/bernardo-siqueira"}, "is_accepted": false, "score": 0, "last_activity_date": 1537385618, "last_edit_date": 1537385618, "creation_date": 1537385314, "answer_id": 52412989, "question_id": 52412580, "link": "https://stackoverflow.com/questions/52412580/strange-behavior-of-parametrised-function-passed-as-a-prop-in-react/52412989#52412989", "title": "Strange behavior of parametrised function passed as a prop in React", "body": "<p>You're passing a function call to the handler, this would only work if you had curried the original function instead.</p>\n\n<p><code>&lt;button onClick={handleTest(42)} label=\"Test2\" /&gt;</code> instead of</p>\n\n<p><code>&lt;button onClick={() =&gt; handleTest(42)} label=\"Test2\" /&gt;</code></p>\n\n<p><code>&lt;button onClick={handleTest(42)} label=\"Test2\" /&gt;</code> would work if <code>handleTest</code> looked like this:</p>\n\n<pre><code>public handleTest = (testNum: number) =&gt; () =&gt; {\n  console.log(testNum);\n};\n</code></pre>\n\n<p>EDIT: I would actually recommend utilizing handlers the second way, when you need to infuse an outside parameter into the handler function. By declaring a handler through \n<code>{() =&gt; doSomething()}</code>, every time you render the component that handler function will be initialized again. </p>\n\n<p>Regardless, that's just a small optimization in most cases.</p>\n"}, {"tags": [], "owner": {"reputation": 1697, "user_id": 7332346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4JrPd.png?s=128&g=1", "display_name": "Sergio Escudero", "link": "https://stackoverflow.com/users/7332346/sergio-escudero"}, "is_accepted": true, "score": 1, "last_activity_date": 1537385936, "last_edit_date": 1537385936, "creation_date": 1537385358, "answer_id": 52412998, "question_id": 52412580, "link": "https://stackoverflow.com/questions/52412580/strange-behavior-of-parametrised-function-passed-as-a-prop-in-react/52412998#52412998", "title": "Strange behavior of parametrised function passed as a prop in React", "body": "<p>This is because when you are initilizing the <code>&lt;Controls /&gt;</code> component, the function which you are sending is something like this:</p>\n\n<pre><code>() =&gt; this.handleTest\n</code></pre>\n\n<p>So in the <code>button</code> Test2 you are executing nothing because last function just return a function</p>\n\n<p>So if you want to solve this:</p>\n\n<pre><code>&lt;Controls handleTest={(number) =&gt; this.handleTest(number)}&gt;\n &lt;Button label=\"Test1\" clicked={() =&gt; this.handleTest(42)} /&gt;\n&lt;/Controls&gt;\n</code></pre>\n\n<p>Also if you do it in this way when <code>&lt;Controls /&gt;</code> is being rendered, your function is gonna be executed and not when the user click on it. To solve this you need to change it in this way:</p>\n\n<pre><code>&lt;React.Fragment&gt;\n  {this.props.children}\n  &lt;button onClick={()=&gt;handleTest(42)} label=\"Test2\" /&gt;\n&lt;/React.Fragment&gt;\n</code></pre>\n\n<p>To optimize just send the function. This is function injection</p>\n\n<pre><code>&lt;Controls handleTest={this.handleTest}&gt;\n   &lt;Button label=\"Test1\" clicked={() =&gt; this.handleTest(42)} /&gt;\n&lt;/Controls&gt;\n</code></pre>\n"}], "owner": {"reputation": 495, "user_id": 9318563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1909791269335276/picture?type=large", "display_name": "Dimitry Ivashchuk", "link": "https://stackoverflow.com/users/9318563/dimitry-ivashchuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 52412998, "answer_count": 2, "score": 0, "last_activity_date": 1537385936, "creation_date": 1537383551, "question_id": 52412580, "link": "https://stackoverflow.com/questions/52412580/strange-behavior-of-parametrised-function-passed-as-a-prop-in-react", "title": "Strange behavior of parametrised function passed as a prop in React", "body": "<p>I am probably not seeing some obvious thing right here, but i feel pretty stuck with this one.</p>\n\n<p>I have a function </p>\n\n<pre><code>public handleTest = (testNum: number) =&gt; {\n    console.log(testNum);\n  };\n</code></pre>\n\n<p>And the following case: I have a component to which I want to pass this function to further use it there onCLick event.</p>\n\n<pre><code>&lt;Controls handleTest={() =&gt; this.handleTest}&gt;\n &lt;Button label=\"Test1\" clicked={() =&gt; this.handleTest(42)} /&gt;\n&lt;/Controls&gt;\n</code></pre>\n\n<p>The child component is the following:</p>\n\n<pre><code>interface IProps {\n  handleTest: (type: number) =&gt; void;\n}\n\nclass Controls extends React.Component&lt;IProps, {}&gt; {\n  public render() {\n    const {\n      handleTest\n    } = this.props;\n\nreturn (\n  &lt;React.Fragment&gt;\n    {this.props.children}\n    &lt;button onClick={handleTest(42)} label=\"Test2\" /&gt;\n  &lt;/React.Fragment&gt;\n);\n }\n}\n</code></pre>\n\n<p>The interesting thing about this case is that in case of Test2 button, it seems not to recognize the argument passed to it while it logs an object - </p>\n\n<pre><code>Object { dispatchConfig: {\u2026}, _targetInst: {\u2026}, nativeEvent: click, type: \"click\", target: button.sc-bwzfXH.gonlMM, currentTarget: button.sc-bwzfXH.gonlMM, eventPhase: 3, bubbles: true, cancelable: true, timeStamp: 689, \u2026 }\n</code></pre>\n\n<p>In case of Test1 everything works correctly. I am wondering what am I doing wrong and whether it is typescript that messes things up or some mistake of mine</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 38268, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1537383314, "post_id": 52412493, "comment_id": 91768687, "body": "You aren&#39;t accessing <code>changeColor</code> correctly, ie you aren&#39;t using the key/index"}, {"owner": {"reputation": 1340, "user_id": 9898651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/633ab16a76904ee3826867715fd6d5cd?s=128&d=identicon&r=PG&f=1", "display_name": "Adam H", "link": "https://stackoverflow.com/users/9898651/adam-h"}, "edited": false, "score": 0, "creation_date": 1537383331, "post_id": 52412493, "comment_id": 91768693, "body": "Without the accompanying HTML we won&#39;t be able to help you. Something tells me your selector is wrong."}, {"owner": {"reputation": 63, "user_id": 5257340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a24d1e8bea4b31e88d5787fe772a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/5257340/mustafa"}, "edited": false, "score": 0, "creation_date": 1537383583, "post_id": 52412493, "comment_id": 91768804, "body": "what do you mean bro with accompanying HTML ? what should I add ?"}, {"owner": {"reputation": 63, "user_id": 5257340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a24d1e8bea4b31e88d5787fe772a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/5257340/mustafa"}, "reply_to_user": {"reputation": 38268, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1537383769, "post_id": 52412493, "comment_id": 91768883, "body": "@PatrickEvans can you give me a bit example please. im new in react"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1537383789, "post_id": 52412493, "comment_id": 91768894, "body": "What is <code>const changeColor = document.getElementsByClassName(&#39;rd&#39;) as HTMLCollectionOf&lt;HTMLElement&gt;</code> supposed to do? <code>document.getElementsByClassName</code> returns a NodeList, so why not use <code>Array.from(document.getElementsByClassName...)</code> and then just iterate using <code>.forEach</code> (or map using <code>.map</code>) like you would any other array?"}, {"owner": {"reputation": 63, "user_id": 5257340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a24d1e8bea4b31e88d5787fe772a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/5257340/mustafa"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1537384088, "post_id": 52412493, "comment_id": 91769020, "body": "@Mike&#39;Pomax&#39;Kamermans thanks you reply bro. is HTMLCollection already an array ? and please give me a bit .forEach example. there is no more array."}, {"owner": {"reputation": 38268, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1537384764, "post_id": 52412493, "comment_id": 91769330, "body": "NodeList, HTMLCollection are array like objects (has nothing to do with react). Meaning you access them like an array, ie <code>changeColor[x]</code>"}, {"owner": {"reputation": 63, "user_id": 5257340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a24d1e8bea4b31e88d5787fe772a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/5257340/mustafa"}, "reply_to_user": {"reputation": 38268, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1537385194, "post_id": 52412493, "comment_id": 91769531, "body": "@PatrickEvans what can i do bro change array list to object array ?"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1537388072, "post_id": 52412493, "comment_id": 91770869, "body": "They are absolutely not arrays. NodeList and HTMLCollection are <i>live</i> lists, meaning that if your document changes, they change along. As such, <i>they can change while you iterate over them</i>, which can break all kinds of things. So before you iterate, you need to get a stable list, which you use <code>Array.from()</code> for. But with all that said: why are you querying the DOM at all? If you&#39;re in react, your DOM is the <i>result</i> of your react code, so the idea is to manipulate/check everything on the react side."}, {"owner": {"reputation": 63, "user_id": 5257340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a24d1e8bea4b31e88d5787fe772a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/5257340/mustafa"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1537389039, "post_id": 52412493, "comment_id": 91771253, "body": "@Mike&#39;Pomax&#39;Kamermans thanks for your reply bro i used <code>const changeColor = Array.from(document.getElementsByClassName(&quot;rd&quot;) as HTMLCollectionOf&lt;HTMLElement&gt;);</code> but still changeColor [ ] is not get anything it is still empty"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1537390432, "post_id": 52412493, "comment_id": 91771861, "body": "I would still recommend &quot;not accesing the DOM&quot;. That information should already be wholly discoverable on the React side. Also, as a small tip more related to <a href=\"https://stackoverflow.com/conduct\">the code of conduct</a>: try to refrain from calling people bro. A decent number of people will consider it offensive (and for good reasons given what the word is associated with in North American culture)."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 5257340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a24d1e8bea4b31e88d5787fe772a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/5257340/mustafa"}, "edited": false, "score": 0, "creation_date": 1537384306, "post_id": 52412692, "comment_id": 91769133, "body": "[ts] Generic type &#39;HTMLCollectionOf&lt;T&gt;&#39; requires 1 type argument(s). i get this error"}, {"owner": {"reputation": 109, "user_id": 10383646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbf6ccc86601fccb107755f36148b85b?s=128&d=identicon&r=PG&f=1", "display_name": "Eitbiz", "link": "https://stackoverflow.com/users/10383646/eitbiz"}, "reply_to_user": {"reputation": 63, "user_id": 5257340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a24d1e8bea4b31e88d5787fe772a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/5257340/mustafa"}, "edited": false, "score": 0, "creation_date": 1537384370, "post_id": 52412692, "comment_id": 91769153, "body": "Please make sure page have class name &quot;rd&quot;"}], "tags": [], "owner": {"reputation": 109, "user_id": 10383646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbf6ccc86601fccb107755f36148b85b?s=128&d=identicon&r=PG&f=1", "display_name": "Eitbiz", "link": "https://stackoverflow.com/users/10383646/eitbiz"}, "is_accepted": false, "score": 1, "last_activity_date": 1537384005, "creation_date": 1537384005, "answer_id": 52412692, "question_id": 52412493, "link": "https://stackoverflow.com/questions/52412493/htmlcollection-is-undefined/52412692#52412692", "title": "HTMLCollection [] is undefined", "body": "<p>Can you please try this :</p>\n\n<p>const changeColor = document.getElementsByClassName('rd');</p>\n\n<p>instead of :</p>\n\n<p>const changeColor = document.getElementsByClassName('rd') as \n    HTMLCollectionOf;</p>\n"}], "owner": {"reputation": 63, "user_id": 5257340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a24d1e8bea4b31e88d5787fe772a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/5257340/mustafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537384005, "creation_date": 1537383178, "last_edit_date": 1537383636, "question_id": 52412493, "link": "https://stackoverflow.com/questions/52412493/htmlcollection-is-undefined", "title": "HTMLCollection [] is undefined", "body": "<pre class=\"lang-js prettyprint-override\"><code>rowGetter = i =&gt; {\n    const row = this.state.estimateItemList[i];\n    const selectRevison = this.state.selectedEstimate.revision;\n    const rowLenght = this.state.estimateItemList.length;\n    const changeColor = document.getElementsByClassName('rd') as \n    HTMLCollectionOf&lt;HTMLElement&gt;;\n    if (row.revision &gt; selectRevison) {\n        for (let x = 0; x &lt; changeColor.length; x++) {\n            row.changeColor.style.backgroundColor = 'red';\n            // changeColor.style.backgroundColor = 'red'; //this is get error(Cannot read property 'style' of undefined)\n        }\n        return row;\n    }\n}\n</code></pre>\n\n<p>I want to change the row color when the condition <code>row.revision &gt; this.state.selectedEstimate.revision</code>. How can I prevent the change of <code>this.color</code>. However im not getting any error but row color is not changing and <code>changeColor : HTMLCollection []</code> is not get any items. it is always <code>undefined</code>. How can i solve this problem?</p>\n"}, {"tags": ["angular", "typescript", "angular-router"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1537383225, "post_id": 52412455, "comment_id": 91768645, "body": "Most probably because the documentation is lying, and ActivatedRoute is in fact a class: <a href=\"https://github.com/angular/angular/blob/cf0968f98e844043a0f6c2548201f3c0dfd329a7/packages/router/src/router_state.ts#L107\" rel=\"nofollow noreferrer\">github.com/angular/angular/blob/&hellip;</a>"}, {"owner": {"reputation": 1629, "user_id": 3878933, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/b41zO.jpg?s=128&g=1", "display_name": "papiro", "link": "https://stackoverflow.com/users/3878933/papiro"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1537385403, "post_id": 52412455, "comment_id": 91769640, "body": "liars!!!!!!!!!!"}], "owner": {"reputation": 1629, "user_id": 3878933, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/b41zO.jpg?s=128&g=1", "display_name": "papiro", "link": "https://stackoverflow.com/users/3878933/papiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1537383029, "creation_date": 1537383029, "question_id": 52412455, "link": "https://stackoverflow.com/questions/52412455/how-can-activatedroute-be-injected-via-angular-di-if-its-an-interface", "title": "How can ActivatedRoute be injected via Angular DI if it&#39;s an Interface?", "body": "<p>According to Angular's docs on <a href=\"https://angular.io/api/router/ActivatedRoute\" rel=\"nofollow noreferrer\">ActivatedRoute</a>, it is an interface. How then am I able to inject it into a component constructor like so:</p>\n\n<pre><code>constructor (private route : ActivatedRoute) {\n  console.log(route)\n}\n</code></pre>\n\n<p>and get an instance? Especially since Typescript interfaces aren't supposed to exist after build-time!?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "primeng-datatable", "ng-template"], "answers": [{"tags": [], "owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "is_accepted": true, "score": 0, "last_activity_date": 1537383142, "creation_date": 1537383142, "answer_id": 52412481, "question_id": 52412254, "link": "https://stackoverflow.com/questions/52412254/how-is-templates-working-in-primeng-grid-angular-6/52412481#52412481", "title": "How is templates working in primeng grid Angular 6", "body": "<p>Since your component Dumb Component receives a template. It needs to access the template with @ContentChild</p>\n\n<p>Dump Component</p>\n\n<pre><code>&lt;ng-container *ngTemplateOutlet=\"content\"&gt;\n&lt;/ng-container&gt;\n@ContentChild(TemplateRef) content: TemplateRef&lt;any&gt;;\n</code></pre>\n\n<p>Example:<a href=\"https://stackblitz.com/edit/angular-ephusu\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ephusu</a></p>\n"}], "owner": {"reputation": 13, "user_id": 6505302, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206818269320899/picture?type=large", "display_name": "Anmol Kohli", "link": "https://stackoverflow.com/users/6505302/anmol-kohli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "accepted_answer_id": 52412481, "answer_count": 1, "score": 0, "last_activity_date": 1537383142, "creation_date": 1537382191, "last_edit_date": 1537382703, "question_id": 52412254, "link": "https://stackoverflow.com/questions/52412254/how-is-templates-working-in-primeng-grid-angular-6", "title": "How is templates working in primeng grid Angular 6", "body": "<p>I am using primeng TurboTable where for templates a pTemplate directive is added. And then accordingly DOM gets rendered I am trying to implement a very same approach in my project to create a reusable(DUMB) component. Tried searching for a solution but couldn't find a proper solution. Thought about using ng-container but when passing ng-template from Smart component to child component nothing is happening. PFB a sample of the solution I tried</p>\n\n<p>Smart Component Template</p>\n\n<pre><code>&lt;dumb-component&gt;\n  &lt;ng-template #content&gt; Content is placed here .... &lt;/ng-template&gt;\n&lt;/dumb-component&gt;\n</code></pre>\n\n<p>Dumb Component Template</p>\n\n<pre><code>&lt;ng-container *ngTemplateOutlet=\"content\"&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>Link to primeng documentation : <a href=\"https://www.primefaces.org/primeng/#/table\" rel=\"nofollow noreferrer\"> primeng docs</a></p>\n"}, {"tags": ["javascript", "typescript", "logic", "typescript2.0"], "comments": [{"owner": {"reputation": 19424, "user_id": 750852, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ezMNd.png?s=128&g=1", "display_name": "mpm", "link": "https://stackoverflow.com/users/750852/mpm"}, "edited": false, "score": 0, "creation_date": 1537380531, "post_id": 52411818, "comment_id": 91767369, "body": "<code>{ a { name, type }, b { city  {name, zip } , desc },  c }</code> what is this? that&#39;s not javascript."}, {"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1537381394, "post_id": 52411818, "comment_id": 91767806, "body": "And you didn&#39;t try anything?"}], "answers": [{"comments": [{"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1537381202, "post_id": 52411981, "comment_id": 91767702, "body": "the output must be a <b>string</b> not an object"}, {"owner": {"reputation": 417, "user_id": 7760283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6Zsy0NcjRBY/AAAAAAAAAAI/AAAAAAAAAEE/hky3MkzOP7k/photo.jpg?sz=128", "display_name": "Pablo DbSys", "link": "https://stackoverflow.com/users/7760283/pablo-dbsys"}, "reply_to_user": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1537381679, "post_id": 52411981, "comment_id": 91767948, "body": "Oh man! Is really dificult do this: &quot;JSON.stringify(output);&quot;."}, {"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 1, "creation_date": 1537382365, "post_id": 52411981, "comment_id": 91768252, "body": "doing this will not output the same result as asker expects"}], "tags": [], "owner": {"reputation": 417, "user_id": 7760283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6Zsy0NcjRBY/AAAAAAAAAAI/AAAAAAAAAEE/hky3MkzOP7k/photo.jpg?sz=128", "display_name": "Pablo DbSys", "link": "https://stackoverflow.com/users/7760283/pablo-dbsys"}, "is_accepted": false, "score": -1, "last_activity_date": 1537382444, "last_edit_date": 1537382444, "creation_date": 1537381070, "answer_id": 52411981, "question_id": 52411818, "link": "https://stackoverflow.com/questions/52411818/typescript-logic-to-covert-string-array-into-custom-object/52411981#52411981", "title": "typescript : logic to covert string array into custom object", "body": "<p>You could do something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var input = [\"a.name\", \"a.type\", \"b.city.name\" , \"b.city.zip\", \"b.desc\",\"c\"];\r\nvar output = {};\r\nfor(var i =0; i &lt; input.length; i+=2){\r\n    output[String.fromCharCode(i+97)] = {};\r\n    output[String.fromCharCode(i+97)].name = input[i];\r\n    output[String.fromCharCode(i+97)].type = input[i+1];\r\n}\r\nconsole.log(JSON.stringify(output));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 2444, "user_id": 8234311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/zNIxI.jpg?s=128&g=1", "display_name": "mperle", "link": "https://stackoverflow.com/users/8234311/mperle"}, "edited": false, "score": 0, "creation_date": 1537383829, "post_id": 52412178, "comment_id": 91768913, "body": "Conversion of array into object does the trick and makes further logic easier."}], "tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": true, "score": 3, "last_activity_date": 1537382318, "last_edit_date": 1537382318, "creation_date": 1537381919, "answer_id": 52412178, "question_id": 52411818, "link": "https://stackoverflow.com/questions/52411818/typescript-logic-to-covert-string-array-into-custom-object/52412178#52412178", "title": "typescript : logic to covert string array into custom object", "body": "<p>I don't see that typescript plays any role in your question, but here's a solution for constructing the string you requested. I first turn the array into an object with those properties, then have a function which can turn an object into a string formatted like you have</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = [\"a.name\", \"a.type\", \"b.city.name\" , \"b.city.zip\", \"b.desc\",\"c\"];\r\n\r\nconst arrayToObject = (arr) =&gt; {\r\n  return arr.reduce((result, val) =&gt; {\r\n    const path = val.split('.');\r\n    let obj = result;\r\n    path.forEach(key =&gt; {\r\n      obj[key] = obj[key] || {};\r\n      obj = obj[key];\r\n    });\r\n    return result;\r\n  }, {});\r\n}\r\n\r\nconst objectToString = (obj, name = '') =&gt; {\r\n  const keys = Object.keys(obj);\r\n  if (keys.length === 0) {\r\n    return name;\r\n  } \r\n  \r\n  return `${name} { ${keys.map(k =&gt; objectToString(obj[k], k)).join(', ')} }`;\r\n}\r\n\r\nconst arrayToString = arr =&gt; objectToString(arrayToObject(arr));\r\n\r\nconsole.log(arrayToString(input));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 581, "user_id": 978055, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7fc18f8c1a8d3834a271737f76bfa855?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/978055/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1538567551, "last_edit_date": 1538567551, "creation_date": 1537385599, "answer_id": 52413053, "question_id": 52411818, "link": "https://stackoverflow.com/questions/52411818/typescript-logic-to-covert-string-array-into-custom-object/52413053#52413053", "title": "typescript : logic to covert string array into custom object", "body": "<p>Here's another variation. Trick is to parse the strings recursively and store the intermediate results in an Object.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    function dotStringToObject(remainder, parent) {\r\n      if (remainder.indexOf('.') === -1) {\r\n      \treturn parent[remainder] = true\r\n      } else {\r\n    \tvar subs = remainder.split('.');\r\n        dotStringToObject(subs.slice(1).join('.'), (parent[subs[0]] || (parent[subs[0]] = {})))\r\n      }\r\n    }\r\n    \r\n    var output = {};\r\n    [\"a.name\", \"a.type\", \"b.city.name\" , \"b.city.zip\", \"b.desc\",\"c\"].forEach(function(entry) {\r\n    \tdotStringToObject(entry, output)\r\n    });\r\n    \r\n    var res = JSON.stringify(output).replace(/\\\"/gi, ' ').replace(/\\:|true/gi, '').replace(/\\s,\\s/gi, ', ');\r\n    console.log(res)\r\n    // Prints: { a { name, type }, b { city { name, zip }, desc }, c }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2444, "user_id": 8234311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/zNIxI.jpg?s=128&g=1", "display_name": "mperle", "link": "https://stackoverflow.com/users/8234311/mperle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 52412178, "answer_count": 3, "score": 0, "last_activity_date": 1538567551, "creation_date": 1537380378, "last_edit_date": 1537381385, "question_id": 52411818, "link": "https://stackoverflow.com/questions/52411818/typescript-logic-to-covert-string-array-into-custom-object", "title": "typescript : logic to covert string array into custom object", "body": "<p>Here is my requirement. I was able to achieve to some level in java but we need to move it to typescript (client side).</p>\n\n<p><em>Note:</em> The below input is for example purpose and may vary dynamically.</p>\n\n<p><em>Input</em></p>\n\n<pre><code>var input = [\"a.name\", \"a.type\", \"b.city.name\" , \"b.city.zip\", \"b.desc\",\"c\"];\n</code></pre>\n\n<p>We need to create an utility function that takes above input and returns output as below.</p>\n\n<p><em>Output</em>:</p>\n\n<p><strong>Should be string</strong> not an object or anything else.</p>\n\n<pre><code>\"{ a { name, type }, b { city  {name, zip } , desc },  c }\"\n</code></pre>\n\n<p>any help is much appreciated.</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 1, "creation_date": 1537377262, "post_id": 52410973, "comment_id": 91765780, "body": "Just run regex at it <code>[\\x20-\\x7E]</code>"}, {"owner": {"reputation": 59, "user_id": 6486885, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8e35f92685335bc72418514d46ff90cd?s=128&d=identicon&r=PG&f=1", "display_name": "Archit", "link": "https://stackoverflow.com/users/6486885/archit"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1537385994, "post_id": 52410973, "comment_id": 91769906, "body": "Thanks for the input! Seems like it is not accepting any characters. If I enter a regular String - ABC, it is says &#39;please match the requested format&#39;. Same msg for &#39;&#189;&#39;"}, {"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1537391352, "post_id": 52410973, "comment_id": 91772201, "body": "was unable to reproduce that :/"}, {"owner": {"reputation": 59, "user_id": 6486885, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8e35f92685335bc72418514d46ff90cd?s=128&d=identicon&r=PG&f=1", "display_name": "Archit", "link": "https://stackoverflow.com/users/6486885/archit"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1537392002, "post_id": 52410973, "comment_id": 91772437, "body": "Or let me ask it this way. What should be the regular expression in &lt;input&gt; tag to allow use of only alphanumeric characters. eg: &quot;ABC CDE&quot; -&gt; (Valid) &quot;ABCD &#189;&quot; -&gt; (Invalid)"}, {"owner": {"reputation": 4877, "user_id": 4843137, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mUJRC.png?s=128&g=1", "display_name": "William Hampshire", "link": "https://stackoverflow.com/users/4843137/william-hampshire"}, "edited": false, "score": 0, "creation_date": 1538403828, "post_id": 52410973, "comment_id": 92121207, "body": "@Archit Please mark my answer as the accepted answer if it&#39;s working for you :)"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6486885, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8e35f92685335bc72418514d46ff90cd?s=128&d=identicon&r=PG&f=1", "display_name": "Archit", "link": "https://stackoverflow.com/users/6486885/archit"}, "edited": false, "score": 0, "creation_date": 1537385984, "post_id": 52411449, "comment_id": 91769899, "body": "Thanks for the input! Seems like it is not accepting any characters. If I enter a regular String - ABC, it is says &#39;please match the requested format&#39;. Same msg for &#39;&#189;&#39;"}, {"owner": {"reputation": 4877, "user_id": 4843137, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mUJRC.png?s=128&g=1", "display_name": "William Hampshire", "link": "https://stackoverflow.com/users/4843137/william-hampshire"}, "reply_to_user": {"reputation": 59, "user_id": 6486885, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8e35f92685335bc72418514d46ff90cd?s=128&d=identicon&r=PG&f=1", "display_name": "Archit", "link": "https://stackoverflow.com/users/6486885/archit"}, "edited": false, "score": 0, "creation_date": 1537396792, "post_id": 52411449, "comment_id": 91773872, "body": "@Archit Seems to be working for me. Can you post your code?"}], "tags": [], "owner": {"reputation": 4877, "user_id": 4843137, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mUJRC.png?s=128&g=1", "display_name": "William Hampshire", "link": "https://stackoverflow.com/users/4843137/william-hampshire"}, "is_accepted": true, "score": 1, "last_activity_date": 1537378759, "creation_date": 1537378759, "answer_id": 52411449, "question_id": 52410973, "link": "https://stackoverflow.com/questions/52410973/prevent-use-of-unicode-characters-in-angular-4/52411449#52411449", "title": "Prevent use of unicode characters in Angular 4", "body": "<p>You can put a regex on the input:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"name\" pattern=\"[\\x20-\\x7E]\" title=\"name\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6486885, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8e35f92685335bc72418514d46ff90cd?s=128&d=identicon&r=PG&f=1", "display_name": "Archit", "link": "https://stackoverflow.com/users/6486885/archit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 0, "accepted_answer_id": 52411449, "answer_count": 1, "score": 0, "last_activity_date": 1537378759, "creation_date": 1537376785, "question_id": 52410973, "link": "https://stackoverflow.com/questions/52410973/prevent-use-of-unicode-characters-in-angular-4", "title": "Prevent use of unicode characters in Angular 4", "body": "<p>I have a front-end developed using Angular 4 framework. Is there any way to validate a text field so that users can be prevented from using any unicode characters. Example :</p>\n\n<p>\u00bd -> U+00BD ('onehalf')</p>\n"}, {"tags": ["reactjs", "typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 4804346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/179b7d8842f2b240869824320be23783?s=128&d=identicon&r=PG&f=1", "display_name": "Nabuska", "link": "https://stackoverflow.com/users/4804346/nabuska"}, "edited": false, "score": 0, "creation_date": 1537384135, "post_id": 52411099, "comment_id": 91769045, "body": "Awesome. Thanks!"}], "tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": false, "score": 2, "last_activity_date": 1537377281, "creation_date": 1537377281, "answer_id": 52411099, "question_id": 52410966, "link": "https://stackoverflow.com/questions/52410966/creating-type-from-functions-return-value/52411099#52411099", "title": "Creating type from functions return value", "body": "<p>TypeScript actually uses exactly this as an example for conditional types <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#type-inference-in-conditional-types\" rel=\"nofollow noreferrer\">in the handbook</a>:</p>\n\n<pre><code>type ReturnType&lt;T&gt; = T extends (...args: any[]) =&gt; infer R ? R : any;\n</code></pre>\n\n<p>For your example:</p>\n\n<pre><code>const mapStateToProps = (state: StoreState) =&gt; ({settings: store.settings})\ntype Props = ReturnType&lt;typeof mapStateToProps&gt;\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 4804346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/179b7d8842f2b240869824320be23783?s=128&d=identicon&r=PG&f=1", "display_name": "Nabuska", "link": "https://stackoverflow.com/users/4804346/nabuska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537377281, "creation_date": 1537376746, "question_id": 52410966, "link": "https://stackoverflow.com/questions/52410966/creating-type-from-functions-return-value", "title": "Creating type from functions return value", "body": "<p>I'm trying to get rid of repetition in my typescript react code and I was wondering if it was possible to create a type from functions known return type?</p>\n\n<p>Something like:</p>\n\n<pre><code>const mapStateToProps = (state: StoreState) =&gt; ({settings: store.settings})\ntype Props = ReturnTypeOf&lt;typeof mapStateToProps&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 131, "user_id": 8374610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c984b9bcf198625b13774d8c4bf4583?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/8374610/mark"}, "edited": false, "score": 0, "creation_date": 1537378220, "post_id": 52410834, "comment_id": 91766268, "body": "That&#39;s because the constructor of your T class probably doesn&#39;t accept an instance of T as the parameters. Show us your T class code."}, {"owner": {"reputation": 14424, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "edited": false, "score": 0, "creation_date": 1537380316, "post_id": 52410834, "comment_id": 91767272, "body": "I noticed you asked serveral questions but never marked any as answered. If any of the answers solve you problem please remember to mark them as correct with a checkmark"}], "answers": [{"tags": [], "owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "is_accepted": false, "score": 0, "last_activity_date": 1537380180, "last_edit_date": 1537380180, "creation_date": 1537376685, "answer_id": 52410951, "question_id": 52410834, "link": "https://stackoverflow.com/questions/52410834/how-to-create-a-new-instance-with-generic-type-in-angular5-service/52410951#52410951", "title": "How to create a new instance with generic type in angular5 service", "body": "<p>You're close the correct usage:</p>\n\n<pre><code>@Injectable()\nexport class LookupService {\n    // You need also a reference to the class to create a new object\n    duplicate&lt;T&gt;(lookup: T, clazz: { new(): T }) {\n        const temp = new clazz();\n        // Set some values of lookup to temp\n        return temp;\n    }\n\u00a0}\n</code></pre>\n\n<p>Sample Class</p>\n\n<pre><code>export class SampleClass {\n\n    constructor() {\n        // Some attributes\n    }\n\n}\n</code></pre>\n\n<p>And somewhere in a service or in a component you would call the <code>duplicate</code> method like this:</p>\n\n<pre><code>const obj: SampleClass = new SampleClass();\n// Call the method with the object to clone and its class\nthis.lookupService.duplicate(obj, SampleClass);\n</code></pre>\n\n<p>If you \"don't know\" the class of the object you can use a <code>clone</code> method of a library like <a href=\"https://lodash.com/docs/4.17.10#clone\" rel=\"nofollow noreferrer\">lodash</a>.</p>\n"}], "owner": {"reputation": 279, "user_id": 5371046, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/74f39c99825da78717e356d3a968bc65?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Blind", "link": "https://stackoverflow.com/users/5371046/patrick-blind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537380594, "creation_date": 1537376184, "question_id": 52410834, "link": "https://stackoverflow.com/questions/52410834/how-to-create-a-new-instance-with-generic-type-in-angular5-service", "title": "How to create a new instance with generic type in angular5 service", "body": "<p>I need to create a new instance with a generic type in angular5 service.<br>\nCheck out the following codes, please.  </p>\n\n<pre><code>@Injectable()\nexport class LookupService {\n  duplicate&lt;T&gt;(lookup: T) {\n    const temp = new T(lookup);\n    return temp;\n  }\n}\n</code></pre>\n\n<p>But it's not working.\nI've been trying to find a solution over a day but can't find it yet.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript", "ng-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 366, "user_id": 10385262, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A60lnpfJ-Vg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWvWRuKdOqUAalP2U5YoQ_CcrrlWg/mo/photo.jpg?sz=128", "display_name": "Dexter", "link": "https://stackoverflow.com/users/10385262/dexter"}, "edited": false, "score": 0, "creation_date": 1537415199, "post_id": 52412916, "comment_id": 91777692, "body": "could u just post it via stackblitz?"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 366, "user_id": 10385262, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A60lnpfJ-Vg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWvWRuKdOqUAalP2U5YoQ_CcrrlWg/mo/photo.jpg?sz=128", "display_name": "Dexter", "link": "https://stackoverflow.com/users/10385262/dexter"}, "edited": false, "score": 0, "creation_date": 1537425869, "post_id": 52412916, "comment_id": 91781318, "body": "I fork your stackbliz <a href=\"https://stackblitz.com/edit/angular-tcmz6n?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-tcmz6n?file=src/app/&hellip;</a> See that I use OneModel and TwoModel (not my fromDate ToDate). See moreover that in NgbDateStruct, day, month and year are numbers (not string). You need change the way to calculate the variables OneModel and TwoModel and see when you need show one or two month.See my update answer too"}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": true, "score": 1, "last_activity_date": 1537426034, "last_edit_date": 1537426034, "creation_date": 1537384949, "answer_id": 52412916, "question_id": 52410708, "link": "https://stackoverflow.com/questions/52410708/unable-to-set-the-dates-in-same-calendar-using-ng-bootstrap-and-angular-6/52412916#52412916", "title": "Unable to set the dates in same calendar using ng bootstrap and angular 6", "body": "<p>The first step is create a custom template day see <a href=\"https://ng-bootstrap.github.io/#/components/datepicker/examples#customday\" rel=\"nofollow noreferrer\">https://ng-bootstrap.github.io/#/components/datepicker/examples#customday</a> and add a class for you can show some days in diferent background color.</p>\n\n<p>Your customDay can be like</p>\n\n<pre><code>&lt;ng-template #customDay let-date=\"date\" let-currentMonth=\"currentMonth\" let-selected=\"selected\" let-disabled=\"disabled\" let-focused=\"focused\"&gt;\n  &lt;!--see that you add a class \"selected\" is a function return true--&gt;\n  &lt;span class=\"custom-day\" [class.selected]=\"isSelectedDate(date)\" [class.focused]=\"focused\"\n        [class.bg-primary]=\"selected\" [class.fade]=\"date.month !== currentMonth\" [class.text-muted]=\"disabled\"&gt;\n    {{ date.day }}\n  &lt;/span&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>In your .css</p>\n\n<pre><code>.custom-day {\n      text-align: center;\n      padding: 0.185rem 0.25rem;\n      border-radius: 0.25rem;\n      display: inline-block;\n      width: 2rem;\n      line-height: 2rem\n    }\n    .custom-day:hover, .custom-day.focused {\n      background-color: #e6e6e6;\n    }\n    .fade {\n      color:Gray;\n    }\n    .selected {\n      background-color:firebrick;\n      color: white;\n    }\n</code></pre>\n\n<p>And in your .ts</p>\n\n<pre><code>//This is the function that make a date change the class\nisSelectedDate(date:any)\n{\n  return this.fromDate &amp;&amp;this.toDate? \n     (date.day==this.fromDate.day &amp;&amp; date.year==this.fromDate.year &amp;&amp; date.month==this.fromDate.month) || \n          (date.day==this.toDate.day &amp;&amp; date.year==this.toDate.year &amp;&amp; date.month==this.toDate.month):false;\n}\n</code></pre>\n\n<p>Then you must calculate when you show one or two calendar</p>\n\n<p><strong>Update</strong>\nWe can improve the function isSelectedDate using equal, before and after. Or, if we want to show all range, replace the function isSelectedDate by isSelectedDayRange</p>\n\n<pre><code>isSelectedDate(date:any)\n{\n  return this.OneModel &amp;&amp;this.TwoModel? \n           date.equals(this.OneModel) || date.equals(this.TwoModel)\n:false;\n}\n//if you want to \"select\" a range, you can call to this function \nisSelectedDayRange(date:any)\n{\n    return this.OneModel &amp;&amp; this.TwoModel?\n       date.equals(this.OneModel) || date.equals(this.TwoModel) || (date.after(this.OneModel) &amp;&amp; date.before(this.TwoModel))\n    :false\n}\n</code></pre>\n"}], "owner": {"reputation": 366, "user_id": 10385262, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A60lnpfJ-Vg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWvWRuKdOqUAalP2U5YoQ_CcrrlWg/mo/photo.jpg?sz=128", "display_name": "Dexter", "link": "https://stackoverflow.com/users/10385262/dexter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1074, "favorite_count": 0, "accepted_answer_id": 52412916, "answer_count": 1, "score": 1, "last_activity_date": 1537426034, "creation_date": 1537375724, "last_edit_date": 1537408681, "question_id": 52410708, "link": "https://stackoverflow.com/questions/52410708/unable-to-set-the-dates-in-same-calendar-using-ng-bootstrap-and-angular-6", "title": "Unable to set the dates in same calendar using ng bootstrap and angular 6", "body": "<p>Here I am using the ng bootstrap and angular 6 for the inline date picker. Here I am setting dates programmatically till now its fine but the issue is when I am setting last 7 days to date it has to be displayed from date as 02-9-2018 and to date as 17-09-2018. Here's the problem: as I am displaying the date separate calendar, the \"From\" date is displayed on calendar 1, and the \"To\" date on calendar 2.</p>\n\n<p>Now what I am trying to figure out is, how can I display these only one calendar? I mean if last 7 days or last fifteen days or month are in the same month, then it doesn't have to display in another calendar. If it is not in the current month then it has to display 2 dates in different calendars.</p>\n\n<p>Below is my code:</p>\n\n<p><strong>.ts code</strong></p>\n\n<pre><code>dateSelect(event, dpp, dpt) {\n\n  var target = event.target || event.srcElement || event.currentTarget;\n  var idAttr = target.attributes.id;\n  var value = idAttr.nodeValue;\n\n  if (value == 'seven') {\n    var fromDate = {\n      'year': \"2018\",\n      'month': \"9\",\n      'day': \"10\"\n    };\n\n    for (let property in fromDate) {\n      if (fromDate.hasOwnProperty(property)) {\n        fromDate[property] = +fromDate[property];\n      }\n    }\n    this.OneModel = fromDate;\n    dpp.navigateTo(this.OneModel);\n\n    this.TwoModel = this.calendar.getToday();\n    dpt.navigateTo(this.TwoModel);\n    console.log(this.OneModel);\n  }\n\n  if (value == 'fifteen') {\n    var fromDate = {\n      'year': \"2018\",\n      'month': \"9\",\n      'day': \"02\"\n    };\n\n    for (let property in fromDate) {\n      if (fromDate.hasOwnProperty(property)) {\n        fromDate[property] = +fromDate[property];\n      }\n    }\n    this.OneModel = fromDate;\n    dpp.navigateTo(this.OneModel);\n\n    this.TwoModel = this.calendar.getToday();\n    dpt.navigateTo(this.TwoModel);\n    console.log(this.OneModel);\n  }\n\n  if (value == 'thirty') {\n    var fromDate = {\n      'year': \"2018\",\n      'month': \"9\",\n      'day': \"18\"\n    };\n\n    for (let property in fromDate) {\n      if (fromDate.hasOwnProperty(property)) {\n        fromDate[property] = +fromDate[property];\n      }\n    }\n    this.OneModel = fromDate;\n    dpp.navigateTo(this.OneModel);\n\n    this.TwoModel = this.calendar.getToday();\n    dpt.navigateTo(this.TwoModel);\n    console.log(this.OneModel);\n  }\n\n  if (value == 'month') {\n    var fromDate = {\n      'year': \"2018\",\n      'month': \"9\",\n      'day': \"01\"\n    };\n\n    for (let property in fromDate) {\n      if (fromDate.hasOwnProperty(property)) {\n        fromDate[property] = +fromDate[property];\n      }\n    }\n    this.OneModel = fromDate;\n    dpp.navigateTo(this.OneModel);\n\n    this.TwoModel = this.calendar.getToday();\n    dpt.navigateTo(this.TwoModel);\n    console.log(this.OneModel);\n  }\n}\n</code></pre>\n\n<p><strong>.html code</strong></p>\n\n<pre><code>&lt;ngb-datepicker #dpp [(ngModel)]=\"OneModel\" (navigate)=\"dates = $event.next\"&gt;&lt;/ngb-datepicker&gt;\n&lt;ngb-datepicker #dpt [(ngModel)]=\"TwoModel\" (navigate)=\"datess = $event.next\"&gt;&lt;/ngb-datepicker&gt;\n\n&lt;button type=\"button\" class=\"btn btn-primary btn-space\" (click)=\"dateSelect($event,dpp,dpt)\" id=\"seven\"&gt;Last 7 Days&lt;/button&gt;\n&lt;button type=\"button\" class=\"btn btn-primary btn-space\" (click)=\"dateSelect($event,dpp,dpt)\" id=\"fifteen\"&gt;Last 15 Days&lt;/button&gt;\n&lt;button type=\"button\" class=\"btn btn-primary btn-space\" (click)=\"dateSelect($event,dpp,dpt)\" id=\"thirty\"&gt;Last 30 Days&lt;/button&gt;\n&lt;button type=\"button\" class=\"btn btn-primary btn-space\" (click)=\"dateSelect($event,dpp,dpt)\" id=\"month\"&gt;This Month&lt;/button&gt;\n</code></pre>\n\n<p>My working <code>stackblitz</code> URL</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-sfngdu\" rel=\"nofollow noreferrer\">angular-sfngdu</a></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537376998, "post_id": 52410704, "comment_id": 91765671, "body": "What is take(1)? Can&#39;t find it in Angular 6 / Syntax error"}, {"owner": {"reputation": 1789, "user_id": 2305594, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/645fec61ca4283ea470dbe0ea50f6567?s=128&d=identicon&r=PG", "display_name": "Joseph Webber", "link": "https://stackoverflow.com/users/2305594/joseph-webber"}, "reply_to_user": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537380331, "post_id": 52410704, "comment_id": 91767281, "body": "<a href=\"http://reactivex.io/documentation/operators/take.html\" rel=\"nofollow noreferrer\"><code>take</code></a> is an Observable method. You can use it to specify how many items are emitted."}, {"owner": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537394404, "post_id": 52410704, "comment_id": 91773230, "body": "Second example doesn&#39;t work -- if() after first call is always false and data is not refreshed."}, {"owner": {"reputation": 1789, "user_id": 2305594, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/645fec61ca4283ea470dbe0ea50f6567?s=128&d=identicon&r=PG", "display_name": "Joseph Webber", "link": "https://stackoverflow.com/users/2305594/joseph-webber"}, "reply_to_user": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537451274, "post_id": 52410704, "comment_id": 91796510, "body": "Sorry, I wasn&#39;t sure how HttpClient observables worked. I did some research and updated my answer to show."}], "tags": [], "owner": {"reputation": 1789, "user_id": 2305594, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/645fec61ca4283ea470dbe0ea50f6567?s=128&d=identicon&r=PG", "display_name": "Joseph Webber", "link": "https://stackoverflow.com/users/2305594/joseph-webber"}, "is_accepted": false, "score": 1, "last_activity_date": 1537451222, "last_edit_date": 1537451222, "creation_date": 1537375716, "answer_id": 52410704, "question_id": 52410331, "link": "https://stackoverflow.com/questions/52410331/angular-6-call-subscribe-for-observable-multiple-times/52410704#52410704", "title": "Angular 6 call subscribe() for Observable multiple times", "body": "<p><strong>Edit:</strong></p>\n\n<p>After looking around I found these posts:<br>\n<a href=\"https://stackoverflow.com/questions/35042929/is-it-necessary-to-unsubscribe-from-observables-created-by-http-methods\">Is it necessary to unsubscribe from observables created by Http methods?</a><br>\n<a href=\"https://stackoverflow.com/questions/34461842/prevent-memory-leaks-in-angular-2\">Prevent memory leaks in Angular 2?</a></p>\n\n<p>The comments and answers explain <code>HttpClient.get()</code> subscriptions clean up after themselves so you don't need to unsubscribe from them. That means calling <code>.subscribe()</code> on them multiple times is fine.</p>\n"}, {"comments": [{"owner": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537378775, "post_id": 52410732, "comment_id": 91766523, "body": "But it seems that subscriptions are created multiple times (each time I call loadItems()). Not really sure if this is good for performance"}, {"owner": {"reputation": 1722, "user_id": 1445636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce613754fb9ecb706d600079297cdecc?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1445636/michael"}, "reply_to_user": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 1, "creation_date": 1537383059, "post_id": 52410732, "comment_id": 91768573, "body": "Each time you call loadItems you are making a new web request via HttpClient, which is a new observable - one way or another you need to subscribe to the new observable for the new request."}], "tags": [], "owner": {"reputation": 1722, "user_id": 1445636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce613754fb9ecb706d600079297cdecc?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1445636/michael"}, "is_accepted": true, "score": 8, "last_activity_date": 1537375812, "creation_date": 1537375812, "answer_id": 52410732, "question_id": 52410331, "link": "https://stackoverflow.com/questions/52410331/angular-6-call-subscribe-for-observable-multiple-times/52410732#52410732", "title": "Angular 6 call subscribe() for Observable multiple times", "body": "<p>As an experiment, if you do the following:</p>\n\n<pre><code>this.httpClient.get(\"&lt;some url&gt;\")\n  .subscribe({\n    next: () =&gt; {\n      console.log(\"received response\")\n    },\n    error: err =&gt; {\n      console.log(\"error occurred\")\n    },\n    complete: () =&gt; {\n      console.log(\"subscription completed\")\n    },\n  })\n</code></pre>\n\n<p>You should see:</p>\n\n<pre><code>received response\nsubscription completed\n</code></pre>\n\n<p>This means that the observable for each web request is being completed after the request finishes, and therefore it is safe to not unsubscribe, as this is automatically done at the completion of an observable.</p>\n"}, {"tags": [], "owner": {"reputation": 1636, "user_id": 8358892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7h1Pv.png?s=128&g=1", "display_name": "Shashikant Devani", "link": "https://stackoverflow.com/users/8358892/shashikant-devani"}, "is_accepted": false, "score": 1, "last_activity_date": 1537376420, "creation_date": 1537376420, "answer_id": 52410883, "question_id": 52410331, "link": "https://stackoverflow.com/questions/52410331/angular-6-call-subscribe-for-observable-multiple-times/52410883#52410883", "title": "Angular 6 call subscribe() for Observable multiple times", "body": "<p>If you subscribe call multiple time, than unsubscribe it when you component destroy. </p>\n\n<p>Do change in your component like this :</p>\n\n<pre><code>import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nexport class ListComponent implements OnInit, OnDestroy {\n\n  items: Item[];\n\n  constructor(private listService: ListService, private notificationService: NotificationService) {\n  }\n\n  subscriptions: Subscription[] = [];\n\n  ngOnInit() {\n     this.subscriptions.push(this.loadItems());\n\n     this.subscriptions.push(this.notificationService.item$.subscribe((item) =&gt; {\n       if (item) {\n         this.loadItems();\n       }\n     }));\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(x =&gt; x.unsubscribe());\n  }\n\n  loadItems(){\n    this.istService.getItems().subscribe((data: Item[]) =&gt; {\n      this.items= data;\n      console.log(this.items);\n  });\n }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537376911, "post_id": 52410915, "comment_id": 91765629, "body": "Unfortunately there is some server-side logic and server-side caching when creating item as well as concurrency. This means I need to persist in a separate call and reload items after persisting. Anyways thanks!"}, {"owner": {"reputation": 131, "user_id": 8374610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c984b9bcf198625b13774d8c4bf4583?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/8374610/mark"}, "reply_to_user": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537377551, "post_id": 52410915, "comment_id": 91765922, "body": "Regardless of that, there is quite a bit of redundancy in your code. For one, the root of your problem here is loadItems both makes the http request and makes a new subscription everytime. Have your notification service make the request itself upon getting the item, and when you get the item pass it off to a service Subject to be redirected to one-time initialized subscriptions in the components that need it."}, {"owner": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537378082, "post_id": 52410915, "comment_id": 91766193, "body": "I don&#39;t like idea to mix data provisioning and notification in one service -&gt; separation of concept. Two UI components should be in my case as much more isolated as possible as well. What I would like to fix in this scenario is to avoid making new subscriptions"}, {"owner": {"reputation": 131, "user_id": 8374610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c984b9bcf198625b13774d8c4bf4583?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/8374610/mark"}, "reply_to_user": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537378441, "post_id": 52410915, "comment_id": 91766378, "body": "Like I keep saying, the root of your problem is loadItems() - it makes both the request and the subscription! Separate that, reread my last comment on how to, and you won&#39;t have this problem of making new subscriptions."}, {"owner": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537378677, "post_id": 52410915, "comment_id": 91766482, "body": "Sorry, I don&#39;t understand -&gt; that is why I asked it here. I&#39;m comming from non-functional programming world and it is very difficult for me to understand without code-listings"}], "tags": [], "owner": {"reputation": 131, "user_id": 8374610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c984b9bcf198625b13774d8c4bf4583?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/8374610/mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1537376559, "creation_date": 1537376559, "answer_id": 52410915, "question_id": 52410331, "link": "https://stackoverflow.com/questions/52410331/angular-6-call-subscribe-for-observable-multiple-times/52410915#52410915", "title": "Angular 6 call subscribe() for Observable multiple times", "body": "<p>What you're doing right now is: </p>\n\n<ol>\n<li>Make new item, send to server</li>\n<li>Server sends success response with item to item service. It notifies notification service. You don't actually do anything with this item but verify it.</li>\n<li>Your notification service gets item, notifies your list component.</li>\n<li>Your list component checks if the item is valid, then sends another request to the server for the updated list</li>\n<li>List component subscribes to the list service for the updated list. Updates when it comes.</li>\n</ol>\n\n<p>So in a nutshell, for every new item you make you make 2 requests to the server and get 2 responses.</p>\n\n<p>You can see that there's alot of redundancy here. Let's try to simplify things:</p>\n\n<ol>\n<li>Make new item, send to server</li>\n<li>Server sends success response with <strong>updated item list</strong>. It will <em>only send this item list if the item received was valid, otherwise send back an error response</em>.</li>\n<li>Your notification service is subscribed to this and gets <strong>item list</strong> that <em>is already verified by the server</em>, sends your list service this new item list.</li>\n<li>List component updates view with new data.</li>\n</ol>\n\n<p>Now you only make one request each time instead of two. And you don't have to deal with so many Observables anymore.</p>\n"}, {"comments": [{"owner": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537377590, "post_id": 52410967, "comment_id": 91765942, "body": "Hi Eluzive. Thanks for the answer. Can you please describe why subscribe() is called only once? Is it lifecycle of Observable?"}, {"owner": {"reputation": 89, "user_id": 8905372, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aosTYoFZhV4/AAAAAAAAAAI/AAAAAAAAAC8/upoYM-JWzJg/photo.jpg?sz=128", "display_name": "Eluzive", "link": "https://stackoverflow.com/users/8905372/eluzive"}, "reply_to_user": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "edited": false, "score": 0, "creation_date": 1537378683, "post_id": 52410967, "comment_id": 91766487, "body": "I mean <code>subscribe</code> is called only once in <code>loadItems</code> but at the end it will be called multiple times because you call <code>loadItems</code> multiple times in <code>notificationsService.item$</code>&#39;s subscription. In my solution you can get rid of <code>NotificationService</code> because you gonna do have always up to date items list."}], "tags": [], "owner": {"reputation": 89, "user_id": 8905372, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aosTYoFZhV4/AAAAAAAAAAI/AAAAAAAAAC8/upoYM-JWzJg/photo.jpg?sz=128", "display_name": "Eluzive", "link": "https://stackoverflow.com/users/8905372/eluzive"}, "is_accepted": false, "score": 1, "last_activity_date": 1537376750, "creation_date": 1537376750, "answer_id": 52410967, "question_id": 52410331, "link": "https://stackoverflow.com/questions/52410331/angular-6-call-subscribe-for-observable-multiple-times/52410967#52410967", "title": "Angular 6 call subscribe() for Observable multiple times", "body": "<p><code>loadItems()</code> calls <code>subscribe</code> only once.<br>\nWhat actually happens is that you call <code>loadItems()</code> multiple times in <code>notificationService.item$</code>'s subscription.<br>\nIf you need <code>NotificationService</code> only for this purpose I would suggest you little refactoring.</p>\n\n<p><strong>new-item.component.ts</strong></p>\n\n<pre><code>export class NewItemComponent {\n\n  constructor(private itemService: ItemService, private listService: ListService) {\n  }\n\n  createNewItem(item: Item) {\n    this.itemService.persist(item).subscribe((response: Item) =&gt; {\n      this.listService.addItem(item);\n    });\n  }\n}\n</code></pre>\n\n<p><strong>list.service.ts</strong></p>\n\n<pre><code>export class ListService {\n\n  basePath = 'my-api.com';\n  apiPath = 'item';\n\n  private itemsSubject: BehaviorSubject&lt;Item[]&gt; = new BehaviorSubject&lt;Item[]&gt;([]);\n  private items$: Observable&lt;Item[]&gt;;\n\n  constructor(private httpClient: HttpClient) {\n  }\n\n  getItems(): Observable&lt;Item[]&gt; {\n    const http$ = this.httpClient.get&lt;Item[]&gt;(this.basePath + '/' + this.apiPath);\n    return combineLatest(http$, this.items$).pipe(\n      map(([httpResponse: Item[], localItems: Item[]]) =&gt; httpResponse.concat(localItems)),\n    );\n  }\n\n  addItem(item: Item) {\n    this.itemsSubject.next([...this.itemsSubject.value, item]);\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 705, "user_id": 5412820, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9105654d8063bea9204266f537d6a3be?s=128&d=identicon&r=PG", "display_name": "tillias", "link": "https://stackoverflow.com/users/5412820/tillias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18219, "favorite_count": 0, "accepted_answer_id": 52410732, "answer_count": 5, "score": 1, "last_activity_date": 1537451222, "creation_date": 1537374164, "last_edit_date": 1537374836, "question_id": 52410331, "link": "https://stackoverflow.com/questions/52410331/angular-6-call-subscribe-for-observable-multiple-times", "title": "Angular 6 call subscribe() for Observable multiple times", "body": "<p>I have two components: NewItemComponent and ListComponent. When I create new item inside corresponding component I notify ListComponent so it can refresh it's data model:</p>\n\n<pre><code>export class NewItemComponent implements OnInit {\n\n  constructor(private itemService: ItemService, private notificationService: NotificationService) {\n  }\n\n  ngOnInit() {\n  }\n\n  createNewItem(item: Item) {\n    this.itemService.persist(item).subscribe((response: Item) =&gt; {\n      console.log(response);\n      this.notificationService.notifyNewItemHasBeenCreated(response);\n    });\n  }\n}\n\n\nexport class ListComponent implements OnInit {\n\n  items: Item[];\n\n  constructor(private listService: ListService, private notificationService: NotificationService) {\n  }\n\n  ngOnInit() {\n    this.loadItems();\n\n    this.notificationService.item$.subscribe((item) =&gt; {\n      if (item != null) {\n        this.loadItems();\n      }\n    })\n  }\n\n  loadItems(){\n    this.istService.getItems().subscribe((data: Item[]) =&gt; {\n      this.items= data;\n      console.log(this.items);\n    });\n  }\n}\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotificationService {\n\n  private _item: BehaviorSubject&lt;Item&gt; = new BehaviorSubject&lt;Item&gt;(null);\n  public  item$ = this._item.asObservable();\n\n  constructor() {\n  }\n\n  notifyNewItemHasBeenCreated(item: Item) {\n    this._item.next(item);\n  }\n}\n</code></pre>\n\n<p>What makes me worried is that <strong>loadItems()</strong> calls <strong>subscribe()</strong> multiple times. Is this ok or there is better way to refetch items based on notification? </p>\n\n<pre><code>  loadItems(){\n    this.listService.getItems().subscribe((data: Item[]) =&gt; {\n      this.items= data;\n      console.log(this.items);\n    });\n  }\n</code></pre>\n\n<p>ListService returns Observable:</p>\n\n<pre><code>export class ListService {\n\n  basePath = 'my-api.com';\n  apiPath = \"item\";\n\n  constructor(private httpClient: HttpClient) {\n  }\n\n  getItems(): Observable&lt;Item[]&gt; {\n    return this.httpClient.get&lt;Item[]&gt;(this.basePath + '/' + this.apiPath);\n  }\n}\n</code></pre>\n\n<p>Thanks in advance and any help will be really appreciated.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "testing", "pact"], "answers": [{"comments": [{"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1537384385, "post_id": 52412404, "comment_id": 91769159, "body": "Hey thanks, ok I&#39;m getting somewhere now, I&#39;ll update my answer with the new errors and logs."}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1537384778, "post_id": 52412404, "comment_id": 91769337, "body": "Also noted about the RESTful endpoint hehe, it doesn&#39;t exist yet and I just wrote something random, it will defs be named something like <code>&#47;payouts</code>. Actually will post a new question related to the new errors. Thanks!"}, {"owner": {"reputation": 24, "user_id": 10311762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f28903f9b9c51e8652481dc0671cba5?s=128&d=identicon&r=PG&f=1", "display_name": "chiyanc22", "link": "https://stackoverflow.com/users/10311762/chiyanc22"}, "reply_to_user": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1537386832, "post_id": 52412404, "comment_id": 91770343, "body": "Great, happy to help!"}, {"owner": {"reputation": 1224, "user_id": 5309611, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d0c7dd6dbcdd7a0d220fc79acc6b3d89?s=128&d=identicon&r=PG&f=1", "display_name": "notAChance", "link": "https://stackoverflow.com/users/5309611/notachance"}, "edited": false, "score": 0, "creation_date": 1588948221, "post_id": 52412404, "comment_id": 109104631, "body": "why was this accepted as the answer?  i see nothing in it that would solve your problem."}], "tags": [], "owner": {"reputation": 24, "user_id": 10311762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f28903f9b9c51e8652481dc0671cba5?s=128&d=identicon&r=PG&f=1", "display_name": "chiyanc22", "link": "https://stackoverflow.com/users/10311762/chiyanc22"}, "is_accepted": true, "score": 0, "last_activity_date": 1537382800, "creation_date": 1537382800, "answer_id": 52412404, "question_id": 52410277, "link": "https://stackoverflow.com/questions/52410277/error-with-typescript-pact-io-test-popsicleerror-unable-to-connect-to/52412404#52412404", "title": "Error with Typescript Pact.io test: PopsicleError: Unable to connect to", "body": "<p>Several issues I can point out:</p>\n\n<ul>\n<li><p>You seem to be declaring and spinning a pact mock server twice: in the <code>src/pactSetup.ts</code> file and also in <code>TotalPayout.test.pact.ts</code> which I'm not sure it's what you intended to do. You probably want to avoid declaring the provider in the TotalPayout test, and instead you already have the <code>provider</code> object on the global scope as part of the test framework setup files.</p></li>\n<li><p>In the code <code>apiPayout.ts</code> you are referring to the endpoint URL, but to which port is it sending the request? This API call should be ultimately caught by the pact mock provider that you are spinning up. If you call to a different port than what the mock provider is listening on you'll never hit it.</p></li>\n<li><p>A small nitpick: <code>/frontoffice/api/get-total-payout</code> is not a RESTful. You want to avoid including verbs such as \"get\" in your API and use the proper HTTP method for that (GET).</p></li>\n</ul>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "accepted_answer_id": 52412404, "answer_count": 1, "score": 2, "last_activity_date": 1537384496, "creation_date": 1537373985, "last_edit_date": 1537384496, "question_id": 52410277, "link": "https://stackoverflow.com/questions/52410277/error-with-typescript-pact-io-test-popsicleerror-unable-to-connect-to", "title": "Error with Typescript Pact.io test: PopsicleError: Unable to connect to", "body": "<p><strong>Expected:</strong> Running <code>npm run pactTest</code> should generate a pact file (JSON).</p>\n\n<p><strong>Results:</strong> I get an <code>Unable to connect</code> error.</p>\n\n<p><a href=\"https://docs.pact.io/implementation_guides/javascript\" rel=\"nofollow noreferrer\">Pact.io JavaScript implementation guide.</a></p>\n\n<p><a href=\"https://github.com/pact-foundation/pact-js/blob/master/examples/typescript/test/get-dog.spec.ts\" rel=\"nofollow noreferrer\">Pact.io Typescript test example.</a></p>\n\n<p>Appreciate any thoughts or ideas as to what I'm doing wrong :)</p>\n\n<hr>\n\n<p><strong>The Error</strong></p>\n\n<blockquote>\n  <p>FAIL  src/services/api/TotalPayout.test.pact.ts\n    The API\n      getUsersTotalPayout\n        \u2715 Should call getUsersTotalPayout and return an object with the total_payout (45ms)</p>\n  \n  <p>\u25cf The API \u203a getUsersTotalPayout \u203a Should call getUsersTotalPayout and return an object with the total_payout</p>\n  \n  <p>PopsicleError: Unable to connect to \"<a href=\"http://127.0.0.1:12345/interactions\" rel=\"nofollow noreferrer\">http://127.0.0.1:12345/interactions</a>\"\n      Caused by: Error: connect ECONNREFUSED 127.0.0.1:12345</p>\n\n<pre><code> at Request.Object.&lt;anonymous&gt;.Request.error (node_modules/popsicle/src/request.ts:91:12)\n  at ClientRequest.&lt;anonymous&gt; (node_modules/popsicle/src/index.ts:218:31)\n</code></pre>\n</blockquote>\n\n<p><strong>package.json script:</strong></p>\n\n<pre><code>\"pactTest\": \"export NODE_ENV=pactTest &amp;&amp; jest --testRegex \\\"/*(.test.pact.ts)\\\" --runInBand --setupFiles ./pactSetup.ts --setupTestFrameworkScriptFile ./pactTestWrapper.ts\",\n</code></pre>\n\n<p><strong>My src/pactSetup.ts file</strong></p>\n\n<pre><code>// @ts-ignore\nimport path from 'path';\nimport { Pact } from '@pact-foundation/pact/pact';\n\u200b\n// @ts-ignore\nglobal.provider = new Pact({\n  port: 1234,\n  log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),\n  dir: path.resolve(process.cwd(), 'pacts'),\n  spec: 2,\n  cors: true,\n  pactfileWriteMode: 'update',\n  consumer: 'Exchange',\n  provider: 'LP Service'\n});\n</code></pre>\n\n<p><strong>My src/pactTestWrapper.ts</strong></p>\n\n<pre><code>jasmine.DEFAULT_TIMEOUT_INTERVAL = 10000; // This is to give the pact mock server time to start\n\u200b\n// @ts-ignore\nbeforeAll(() =&gt; provider.setup()); // Create mock provider\n// @ts-ignore\nafterEach(() =&gt; provider.verify()); // Ensure the mock provider verifies expected interactions for each test\n// @ts-ignore\nafterAll(() =&gt; provider.finalize()); // Tear down the mock and write the pact\n</code></pre>\n\n<p><strong>The test: src/services/api/TotalPayout.test.pact.ts</strong></p>\n\n<pre><code>// @ts-ignore\nimport path from 'path';\nimport { Pact } from '@pact-foundation/pact';\nimport { getTotalPayout } from './apiPayout';\n\nconst port = 12345;\nconst endpoint = '/frontoffice/api/get-total-payout';\n\nconst EXPECTED_BODY = {\n  total_payout: 100.21,\n};\n\nconst userId = 'foo';\n\nconst provider = new Pact({\n  port,\n  log: path.resolve(process.cwd(), 'logs', 'mockserver-integration.log'),\n  dir: path.resolve(process.cwd(), 'pacts'),\n  spec: 2,\n  consumer: 'Exchange',\n  provider: 'LP Service',\n  pactfileWriteMode: 'merge'\n});\n\u200b\u200b\ndescribe('The API', () =&gt; {\n  // Copy this block once per interaction under test\n  describe('getUsersTotalPayout', () =&gt; {\n    beforeEach(() =&gt; {\n      const interaction = {\n        uponReceiving: 'a GET request with a user id',\n        withRequest: {\n          method: 'GET',\n          path: endpoint,\n          headers: {\n            Accept: 'application/json',\n          },\n        },\n        willRespondWith: {\n          status: 200,\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: EXPECTED_BODY\n        },\n      };\n\n      // @ts-ignore\n      return provider.addInteraction(interaction);\n    });\n\u200b\n    // add expectations\n    it('Should call getUsersTotalPayout and return an object with the total_payout', done =&gt; {\n      getTotalPayout(userId)\n        .then((response: any) =&gt; {\n          expect(response).toEqual(EXPECTED_BODY);\n        })\n        .then(done);\n    });\n  });\n});\n</code></pre>\n\n<p><strong>The api service file apiPayout.ts</strong></p>\n\n<pre><code>// @ts-ignore\nimport axios, * as others from 'axios';\n\nconst endpoint = '/frontoffice/api/';\n\nexport const getTotalPayout = async (userId: string) =&gt; {\n  const response = await axios.get(`${endpoint}get-total-payout`, { params: userId });\n  return response.data;\n};\n</code></pre>\n\n<p><strong>From the mockserver-integration.log</strong></p>\n\n<pre><code>I, [2018-09-19T11:07:41.259437 #79922]  INFO -- : Verifying - interactions matched\nI, [2018-09-19T11:07:41.264440 #79922]  INFO -- : Cleared interactions\n</code></pre>\n\n<p><strong>From the debug-log</strong></p>\n\n<pre><code>20 error code ELIFECYCLE\n21 error errno 1\n22 error react-redux-starter-kit@1.0.0 pactTest: `export NODE_ENV=pactTest &amp;&amp; jest --testRegex \"/*(.test.pact.ts)\" --runInBand --setupFiles ./pactSetup.ts --setupTestFrameworkScriptFile ./pactTestWrapper.ts`\n22 error Exit status 1\n23 error Failed at the react-redux-starter-kit@1.0.0 pactTest script.\n</code></pre>\n\n<h2>Update</h2>\n\n<p>After commenting out the provider setup logic in the test.pact file and re-running <code>npm run pactTest</code> I get the following:</p>\n\n<blockquote>\n  <p>console.error node_modules/@pact-foundation/pact/pact.js:110\n      Pact verification failed!</p>\n  \n  <p>console.error node_modules/@pact-foundation/pact/pact.js:111\n      Actual interactions do not match expected interactions for mock MockService.</p>\n  \n  <p>Missing requests:\n          GET /frontoffice/api/liquidity-pool/get-total-payout</p>\n  \n  <p>See /Users/leongaban/projects/trade.io/tradeio-front/logs/mockserver-integration.log for details.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/P7AWN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P7AWN.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>And my updated mockserver-intergration.log</strong></p>\n\n<pre><code>I, [2018-09-19T14:12:19.128823 #82330]  INFO -- : Registered expected interaction GET /frontoffice/api/liquidity-pool/get-total-payout\nD, [2018-09-19T14:12:19.129127 #82330] DEBUG -- : {\n  \"description\": \"a GET request with a user id\",\n  \"request\": {\n    \"method\": \"GET\",\n    \"path\": \"/frontoffice/api/liquidity-pool/get-total-payout\",\n    \"headers\": {\n      \"Accept\": \"application/json\"\n    }\n  },\n  \"response\": {\n    \"status\": 200,\n    \"headers\": {\n      \"Content-Type\": \"application/json\"\n    },\n    \"body\": {\n      \"total_payout\": 100.21\n    }\n  }\n}\nW, [2018-09-19T14:12:19.139198 #82330]  WARN -- : Verifying - actual interactions do not match expected interactions. \nMissing requests:\n    GET /frontoffice/api/liquidity-pool/get-total-payout\n\n\nW, [2018-09-19T14:12:19.139254 #82330]  WARN -- : Missing requests:\n    GET /frontoffice/api/liquidity-pool/get-total-payout\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1537375668, "post_id": 52410255, "comment_id": 91765039, "body": "Unfortunately there isn&#39;t really a correct syntax; TypeScript doesn&#39;t support <a href=\"https://github.com/Microsoft/TypeScript/issues/1213\" rel=\"nofollow noreferrer\">higher kinded types</a>, which is what you&#39;re looking for.  There have been various attempts at workarounds, but nothing elegant enough for me to suggest here."}, {"owner": {"reputation": 6589, "user_id": 968988, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fRutg.jpg?s=128&g=1", "display_name": "Nicolas Zozol", "link": "https://stackoverflow.com/users/968988/nicolas-zozol"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1537379800, "post_id": 52410255, "comment_id": 91767001, "body": "OK. For what I&#39;ve seen in your link, I will just Do Repeat Myself for this time"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1537380091, "post_id": 52410255, "comment_id": 91767156, "body": "I&#39;m confused about your definitions.  They don&#39;t compile in <code>strict</code> mode and I don&#39;t understand what you intend.  You can&#39;t have a function type  like <code>f: (T)=&gt;Y</code>.  Well, you <i>can</i>, but TypeScript interprets this as <code>f: (T: any)=&gt;Y</code>, where <code>T</code> is a parameter name, not a type.  You need to do something like <code>f: (x:T)=&gt;Y</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1537380159, "post_id": 52410255, "comment_id": 91767190, "body": "Once you fix that I&#39;m still confused.  If <code>VoidParser</code> extends <code>IParser&lt;void&gt;</code>, then the <code>map</code> function should only be able to take a callback expecting a <code>void</code>, not a <code>T</code>... and there is no <code>T</code> anyway.  And the output type is a <code>VoidParser&lt;Y&gt;</code> but <code>VoidParser</code> is not generic.  So <code>Y</code> is just void?  So <code>f</code> is a function from <code>void</code> to <code>void</code>?  If you could fix these up I might have a less repetitive workaround but it&#39;s impossible to know right now."}], "owner": {"reputation": 6589, "user_id": 968988, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fRutg.jpg?s=128&g=1", "display_name": "Nicolas Zozol", "link": "https://stackoverflow.com/users/968988/nicolas-zozol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537379835, "creation_date": 1537373864, "last_edit_date": 1537379835, "question_id": 52410255, "link": "https://stackoverflow.com/questions/52410255/resolve-typescript-and-f-bounded-polymorphism", "title": "Resolve Typescript and F-Bounded Polymorphism", "body": "<p>I have 3 kinds of Parsers in <a href=\"https://github.com/d-plaindoux/masala-parser/blob/master/masala-parser.d.ts\" rel=\"nofollow noreferrer\">Masala Parser</a>. <code>SingleParser&lt;Y&gt;</code> returns a <code>Y</code> value, <code>ArrayParser&lt;Y&gt;</code> returns an <code>Array&lt;Y&gt;</code>, <code>VoidParser</code> returns nothing.\nThey all are <code>IParser&lt;Y&gt;</code> that contains many common functions.</p>\n\n<p>It runs on javascript, but I want to make the <strong>masala.d.ts</strong> type file. I would like to optimize the <code>map()</code> that is no repeated:</p>\n\n<pre><code>export interface IParser&lt;T&gt; {\n\n    map&lt;Y&gt; (f: (T) =&gt; Y): IParser&lt;Y&gt;;\n    // common functions\n    debug(s:string, b?:boolean); // ... others\n}\n\ninterface VoidParser extends IParser&lt;void&gt; {\n    map&lt;Y&gt; (f: (T) =&gt; Y): VoidParser&lt;Y&gt;;\n}\n\nexport interface SingleParser&lt;T&gt; extends IParser&lt;T&gt; {\n    map&lt;Y&gt; (f: (T) =&gt; Y): SingleParser&lt;Y&gt;;\n}\n\nexport interface ArrayParser&lt;T&gt; extends IParser&lt;T&gt; {\n    map&lt;Y&gt; (f: (T) =&gt; Y): ArrayParser&lt;Y&gt;;\n}\n</code></pre>\n\n<p>They are many functions like <code>map()</code> and I would like to simplify IParser using <strong>this</strong> : </p>\n\n<pre><code>export interface IParser&lt;T&gt; {\n\n    map&lt;Y&gt; (f: (T) =&gt; Y): this&lt;Y&gt;;\n    // common functions ...\n}\n</code></pre>\n\n<p>Unfortunately <code>this&lt;Y&gt;</code> is not accepted here (using typescript 2.6 or 3.0). What is the correct syntax ?</p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jasmine"], "answers": [{"comments": [{"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "edited": false, "score": 2, "creation_date": 1537382591, "post_id": 52410485, "comment_id": 91768342, "body": "In your example, <code>this.someText</code> doesn&#39;t emit a value, but you say that&#39;s what causes the promise to resolve."}, {"owner": {"reputation": 239, "user_id": 2464169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6263742c33ce18d5c232d88820547b9c?s=128&d=identicon&r=PG", "display_name": "Vizor", "link": "https://stackoverflow.com/users/2464169/vizor"}, "edited": false, "score": 0, "creation_date": 1603997165, "post_id": 52410485, "comment_id": 114220129, "body": "The <code>of()</code> creates Observable from the value and this emits it"}], "tags": [], "owner": {"reputation": 89, "user_id": 8905372, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aosTYoFZhV4/AAAAAAAAAAI/AAAAAAAAAC8/upoYM-JWzJg/photo.jpg?sz=128", "display_name": "Eluzive", "link": "https://stackoverflow.com/users/8905372/eluzive"}, "is_accepted": false, "score": 0, "last_activity_date": 1537374766, "creation_date": 1537374766, "answer_id": 52410485, "question_id": 52410126, "link": "https://stackoverflow.com/questions/52410126/fixture-whenstable-never-resolves-when-testing-my-component/52410485#52410485", "title": "fixture.whenStable() never resolves when testing my component", "body": "<p>\nAccording to <a href=\"https://angular.io/guide/testing\" rel=\"nofollow noreferrer\">https://angular.io/guide/testing</a></p>\n\n<blockquote>\n  <p>The fixture.whenStable() returns a promise that resolves when the JavaScript engine's task queue becomes empty.</p>\n</blockquote>\n\n<p>So in this case:</p>\n\n<pre><code>class AppComponent implements OnInit {\n\n  someText: Observable&lt;string&gt;;\n\n  ngOnInit() {\n    this.someText = of('some string');\n  }\n\n}\n</code></pre>\n\n<p><code>whenStable</code> resolves when observable in <code>ngOnInit</code> emits it's value.</p>\n\n<pre><code>it('after onInit observable should be set', async(async () =&gt; {\n  component.ngOnInit();\n  await fixture.whenStable();\n  fixture.detectChanges();\n  console.log('after whenStable'); // &lt;- now you gonna see this in console\n}));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "reply_to_user": {"reputation": 305, "user_id": 2511298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee59dda89b356835b2f2f9e0ac6f7b27?s=128&d=identicon&r=PG", "display_name": "Ahmed Hasn.", "link": "https://stackoverflow.com/users/2511298/ahmed-hasn"}, "edited": false, "score": 0, "creation_date": 1585836378, "post_id": 52411773, "comment_id": 107907862, "body": "@ConquerorsHaki You can&#39;t make updates to the state of your component in these hooks. You have to respond to some event more directly. The thing you care about getting changed and responded to needs to be modeled as a stream or provide a callback."}], "tags": [], "owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "is_accepted": true, "score": 1, "last_activity_date": 1537380233, "creation_date": 1537380233, "answer_id": 52411773, "question_id": 52410126, "link": "https://stackoverflow.com/questions/52410126/fixture-whenstable-never-resolves-when-testing-my-component/52411773#52411773", "title": "fixture.whenStable() never resolves when testing my component", "body": "<p>In my particular case, the issue was that I assumed the lifecycle hook <code>ngAfterViewchecked</code> only fired once, but actually fires repeatedly.</p>\n\n<p>I was assigning a value to a field on my component inside of that handler, so the value of that field kept changing (because it needed to be calculated).</p>\n\n<p>Because the value of the field changed things in the view, and that triggers <code>ngAfterViewChecked</code>, and the JavaScript engine's task queue was being added to thereby, the state of the component could not become \"stable\".</p>\n\n<pre><code>@Component({ ... })\nexport class MyComponent {\n    listToRepeatOver = [];\n\n    ngAfterViewChecked() {\n        this.listToRepeatOver = getList();\n    }\n}\n</code></pre>\n\n<p>I suspected something was up because I saw that purple flashing effect in the Elements panel of the Chrome devtools that indicates that DOM changed on an element inside my component template. (It was happening in rapid-fire succession).</p>\n\n<p>Lesson being: If you make an update inside of a lifecycle hook which causes that lifecycle hook to fire again, then you'll get this result.</p>\n"}], "owner": {"reputation": 8242, "user_id": 832447, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rsNgk.jpg?s=128&g=1", "display_name": "Kevin Beal", "link": "https://stackoverflow.com/users/832447/kevin-beal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3603, "favorite_count": 0, "accepted_answer_id": 52411773, "answer_count": 2, "score": 0, "last_activity_date": 1537380233, "creation_date": 1537373427, "question_id": 52410126, "link": "https://stackoverflow.com/questions/52410126/fixture-whenstable-never-resolves-when-testing-my-component", "title": "fixture.whenStable() never resolves when testing my component", "body": "<p>How do I debug the testing situation where <code>await fixture.whenStable()</code> never resolves.</p>\n\n<p>Put another way: what does this indicate about my component?</p>\n\n<p>I have a spec that looks like this:</p>\n\n<pre><code>it('should open the modal when ?series is navigated to', async () =&gt; {\n    const { instance, fixture } = await _render();\n    const openSpy = spyOn(instance, 'openModal');\n    expect(openSpy).not.toHaveBeenCalled();\n    _updateQuery({ series: '' });\n    fixture.detectChanges();\n    // await fixture.whenStable(); // &lt;- never resolves\n    expect(openSpy).toHaveBeenCalled(); // &lt;- fails\n});\n</code></pre>\n\n<p><em>(I need to use an actual async function to work with my testing library.)</em></p>\n\n<p>Calling <code>await fixture.whenStable()</code> hangs no matter where in the function body I put it\u00a0\u2013 seems to indicate that the issue is present right when the component is loaded.</p>\n\n<p>I don't really understand what <code>whenStable()</code> even does. Perhaps if I did I could figure this out without help.</p>\n"}, {"tags": ["angular", "typescript", "object"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10386571, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3gijTJS7P3c/AAAAAAAAAAI/AAAAAAAAEnM/aOl1VOypK1Q/photo.jpg?sz=128", "display_name": "Miguel Alejandro Villagrn Vall", "link": "https://stackoverflow.com/users/10386571/miguel-alejandro-villagrn-vall"}, "edited": false, "score": 0, "creation_date": 1537380756, "post_id": 52410148, "comment_id": 91767482, "body": "this is great but i think i&#39;t would be better to create an interface like so:        export interface testObj {      [keys: string]: { test: string }     }"}, {"owner": {"reputation": 1, "user_id": 10386571, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3gijTJS7P3c/AAAAAAAAAAI/AAAAAAAAEnM/aOl1VOypK1Q/photo.jpg?sz=128", "display_name": "Miguel Alejandro Villagrn Vall", "link": "https://stackoverflow.com/users/10386571/miguel-alejandro-villagrn-vall"}, "edited": false, "score": 0, "creation_date": 1537456911, "post_id": 52410148, "comment_id": 91800248, "body": "The problem is that I can&#39;t access the property value on nested objects, if you use this.obj[i]={test:&#39;Whoever&#39;} you are setting the hole object again. that solution becomes useless if you want to change only one property on several nested objects like obj:{&quot;0&quot;:{&quot;1&quot;:{&quot;2&quot;:{&quot;changeMe&quot;:&quot;value&quot;, &quot;butNotMe&quot;:&quot;value&quot;}}}}"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 1, "user_id": 10386571, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3gijTJS7P3c/AAAAAAAAAAI/AAAAAAAAEnM/aOl1VOypK1Q/photo.jpg?sz=128", "display_name": "Miguel Alejandro Villagrn Vall", "link": "https://stackoverflow.com/users/10386571/miguel-alejandro-villagrn-vall"}, "edited": false, "score": 0, "creation_date": 1537460841, "post_id": 52410148, "comment_id": 91802489, "body": "@MiguelAlejandroVillagrnVall see my updated response"}, {"owner": {"reputation": 1, "user_id": 10386571, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3gijTJS7P3c/AAAAAAAAAAI/AAAAAAAAEnM/aOl1VOypK1Q/photo.jpg?sz=128", "display_name": "Miguel Alejandro Villagrn Vall", "link": "https://stackoverflow.com/users/10386571/miguel-alejandro-villagrn-vall"}, "edited": false, "score": 0, "creation_date": 1537463266, "post_id": 52410148, "comment_id": 91803614, "body": "Still won&#39;t solve the multi-nested object, please read my Edit or if i&#39;m wrong about your approach please be more specific."}], "tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": false, "score": 0, "last_activity_date": 1537460830, "last_edit_date": 1537460830, "creation_date": 1537373478, "answer_id": 52410148, "question_id": 52410040, "link": "https://stackoverflow.com/questions/52410040/change-property-value-on-nested-objects-angular-4/52410148#52410148", "title": "Change property value on nested objects Angular 4+", "body": "<p>If you see the console you see this error there </p>\n\n<blockquote>\n  <p>TypeError: Cannot set property 'test' of undefined</p>\n</blockquote>\n\n<p>Which means when you are doing <code>this.obj[i].test</code>, <code>this.obj[i]</code> is undefined. to solve the issue use below code. also I made your <code>obj</code> typed to get benefit of type checking.</p>\n\n<pre><code>  obj : {[key:string]: {test: string}} = {};\n  test() {\n    for (var i = 0; i &lt;= 7; i++) {\n      // how do i write this line\n      this.obj[i] = { test : \"Whoever\" }\n    }\n  }\n</code></pre>\n\n<h2>Update based on comments</h2>\n\n<p>In case you want to update existing items on your obj you can use below code, so it won't overwrite if there was other properties there as well</p>\n\n<p>solution 1</p>\n\n<pre><code>  this.obj[i] = Object.assign({} ,this.obj[i], { test : \"Whoever\" });\n</code></pre>\n\n<p>solution 2</p>\n\n<pre><code>  if (this.obj[i] == null) { this.obj[i] = {};}\n  this.obj[i].test = \"Whoever\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1537403429, "post_id": 52410390, "comment_id": 91775213, "body": "please explain what the problem is, not just the solution. Thanks!"}, {"owner": {"reputation": 1, "user_id": 10386571, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3gijTJS7P3c/AAAAAAAAAAI/AAAAAAAAEnM/aOl1VOypK1Q/photo.jpg?sz=128", "display_name": "Miguel Alejandro Villagrn Vall", "link": "https://stackoverflow.com/users/10386571/miguel-alejandro-villagrn-vall"}, "edited": false, "score": 0, "creation_date": 1537456659, "post_id": 52410390, "comment_id": 91800096, "body": "The problem is that I can&#39;t access the property value on nested objects,  if you use this.obj[i]={test:&#39;Whoever&#39;} you are setting the hole object again. that solution becomes useless if you want to change only one property on several nested objects like obj:{&quot;0&quot;:{&quot;1&quot;:{&quot;2&quot;:{&quot;changeMe&quot;:&quot;value&quot;, &quot;butNotMe&quot;:&quot;value&quot;}}}}"}], "tags": [], "owner": {"reputation": 135, "user_id": 8772425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1e0e93097563e04a292c09c9329b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Q.Z", "link": "https://stackoverflow.com/users/8772425/q-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1537419930, "last_edit_date": 1537419930, "creation_date": 1537374410, "answer_id": 52410390, "question_id": 52410040, "link": "https://stackoverflow.com/questions/52410040/change-property-value-on-nested-objects-angular-4/52410390#52410390", "title": "Change property value on nested objects Angular 4+", "body": "<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-test',\n    templateUrl: './test.component.html',\n    styleUrls: ['./test.component.css']\n})\nexport class TestComponent implements OnInit {\n\n    constructor() { }\n    obj = &lt;any&gt;{};\n    ngOnInit() {\n        this.test();\n    }\n\n    test() {\n        for (let i = 0; i &lt; 8; i++) {\n            this.obj[i] = {test: 'Whoever'};\n        }\n        console.log(this.obj);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 10386571, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3gijTJS7P3c/AAAAAAAAAAI/AAAAAAAAEnM/aOl1VOypK1Q/photo.jpg?sz=128", "display_name": "Miguel Alejandro Villagrn Vall", "link": "https://stackoverflow.com/users/10386571/miguel-alejandro-villagrn-vall"}, "edited": false, "score": 0, "creation_date": 1537456903, "post_id": 52416124, "comment_id": 91800243, "body": "The problem is that I can&#39;t access the property value on nested objects, if you use this.obj[i]={test:&#39;Whoever&#39;} you are setting the hole object again. That solution becomes useless if you want to change only one property on several nested objects like obj:{&quot;0&quot;:{&quot;1&quot;:{&quot;2&quot;:{&quot;changeMe&quot;:&quot;value&quot;, &quot;butNotMe&quot;:&quot;value&quot;}}}}"}], "tags": [], "owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "is_accepted": false, "score": 0, "last_activity_date": 1537406783, "last_edit_date": 1537406783, "creation_date": 1537406059, "answer_id": 52416124, "question_id": 52410040, "link": "https://stackoverflow.com/questions/52410040/change-property-value-on-nested-objects-angular-4/52416124#52416124", "title": "Change property value on nested objects Angular 4+", "body": "<p>Your problem was that you couldn't set the property of an undefined. (see console log for see this). Never hard code the length that you want to iterate, it's not good practice. Also, don't use <strong>var</strong> anymore. We are in the ES6+ era where we use <strong>let</strong> and <strong>const</strong></p>\n\n<pre><code>  test() {\n    let obj :  Result;\n    obj = {test:'ahuevo'};\n    for ( let i = 0; i &lt;= Object.keys(this.expectedResult).length-1; i++) {\n      this.objs[i] = obj;\n    }\n  }\n</code></pre>\n\n<p>I created an interace too</p>\n\n<pre><code>export interface Result {\n  test: string;\n}\n</code></pre>\n\n<p>Take a look to this stackbliz:</p>\n\n<p><a href=\"https://stackblitz.com/edit/mavvtogotest-enl8f3\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/mavvtogotest-enl8f3</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10386571, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3gijTJS7P3c/AAAAAAAAAAI/AAAAAAAAEnM/aOl1VOypK1Q/photo.jpg?sz=128", "display_name": "Miguel Alejandro Villagrn Vall", "link": "https://stackoverflow.com/users/10386571/miguel-alejandro-villagrn-vall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1413, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1537463458, "creation_date": 1537373075, "last_edit_date": 1537463458, "question_id": 52410040, "link": "https://stackoverflow.com/questions/52410040/change-property-value-on-nested-objects-angular-4", "title": "Change property value on nested objects Angular 4+", "body": "<p>I'm trying to create a dynamic nested object but i can't change the value of the properties that I'm creating</p>\n\n<p><strong>TS</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\n\n  @Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n  })\n  export class AppComponent {\n    name = 'Test 1';\n    expectedResult = {\n      \"0\": { test: \"Whoever\" },\n      \"1\": { test: \"Whoever\" },\n      \"2\": { test: \"Whoever\" },\n      \"3\": { test: \"Whoever\" },\n      \"4\": { test: \"Whoever\" },\n      \"5\": { test: \"Whoever\" },\n      \"6\": { test: \"Whoever\" },\n      \"7\": { test: \"Whoever\" },\n    };\n    obj = &lt;any&gt;{};\n    test() {\n      for (var i = 0; i &lt;= 7; i++) {\n        // how do i write this line \n        this.obj[i].test = \"Whoever\" //&lt;-------------------------\n      }\n    }\n  }\n</code></pre>\n\n<p><strong>Html</strong></p>\n\n<pre><code>&lt;hello name=\"{{ name }}\"&gt;&lt;/hello&gt;\n&lt;button class=\"btn btn-sm btn-outline-primary\" (click)=\"test()\"&gt;\nTest me&lt;/button&gt;\n&lt;pre&gt;\n  {{obj|json}}\n&lt;/pre&gt;\n&lt;pre&gt;\n  {{expectedResult|json}}\n&lt;/pre&gt;\n</code></pre>\n\n<p>Adding stackblitz for reference.</p>\n\n<p><a href=\"https://stackblitz.com/edit/mavvtogotest\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/mavvtogotest</a></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Thanks everyone helping, (I'm sorry) maybe I didn't explain it well. The solution must work over several nested objects example:</p>\n\n<pre><code> expectedResult = {\n\"0\": {\n  \"0\": {\n    \"0\": { \"test\": \"Whoever\" },\n    \"1\": { \"test\": \"Whoever\" },\n    \"2\": { \"test\": \"Whoever\" }\n  },\n  \"1\": {\n    \"0\": { \"test\": \"changeMe\",\"notToBeChanged\":\"oldValue\" },\n    \"1\": { \"test\": \"changeMe\",\"notToBeChanged\":\"oldValue\" },\n    \"2\": { \"test\": \"changeMe\",\"notToBeChanged\":\"oldValue\" }\n  },\n  \"2\": {\n    \"0\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"1\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"2\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" }\n  }\n},\n\"1\": {\n  \"0\": {\n    \"0\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"1\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"2\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" }\n  },\n  \"1\": {\n    \"0\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"1\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"2\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" }\n  },\n  \"2\": {\n    \"0\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"1\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"2\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" }\n  }\n},\n\"2\": {\n  \"0\": {\n    \"0\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"1\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"2\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" }\n  },\n  \"1\": {\n    \"0\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"1\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"2\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" }\n  },\n  \"2\": {\n    \"0\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"1\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" },\n    \"2\": { \"test\": \"changeMe\" ,\"notToBeChanged\":\"oldValue\" }\n  }\n}\n};\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1537373208, "post_id": 52410017, "comment_id": 91763770, "body": "Do you want to hard code the property names in the pipe or do you want to add them as parameter to the pipe?"}, {"owner": {"reputation": 4901, "user_id": 1520700, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4WHtz.jpg?s=128&g=1", "display_name": "Web Develop Wolf", "link": "https://stackoverflow.com/users/1520700/web-develop-wolf"}, "reply_to_user": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1537373241, "post_id": 52410017, "comment_id": 91763790, "body": "Hard code preferably"}], "answers": [{"tags": [], "owner": {"reputation": 354, "user_id": 6793573, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UlAje-koAWA/AAAAAAAAAAI/AAAAAAAAABE/Ru2eFyy124Q/photo.jpg?sz=128", "display_name": "Issam EL-GUERCH", "link": "https://stackoverflow.com/users/6793573/issam-el-guerch"}, "is_accepted": false, "score": 1, "last_activity_date": 1537373349, "creation_date": 1537373349, "answer_id": 52410109, "question_id": 52410017, "link": "https://stackoverflow.com/questions/52410017/using-a-pipe-in-angular-to-filter-multiple-properties/52410109#52410109", "title": "Using a Pipe in Angular to Filter multiple properties", "body": "<p>replace return statement by:</p>\n\n<pre><code>return it.Name.toLowerCase().includes(searchText)||\nit.Nickname.toLowerCase().includes(searchText)||\nit.SpeciesName.toLowerCase().includes(searchText)||\n.\n.\n.\n.\n;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "is_accepted": true, "score": 1, "last_activity_date": 1537373379, "creation_date": 1537373379, "answer_id": 52410115, "question_id": 52410017, "link": "https://stackoverflow.com/questions/52410017/using-a-pipe-in-angular-to-filter-multiple-properties/52410115#52410115", "title": "Using a Pipe in Angular to Filter multiple properties", "body": "<p>You simply can use <code>&amp;&amp;</code> (and) or <code>||</code> (or) to solve this:</p>\n\n<pre><code>return items.filter( it =&gt; {\n    return it.Name.toLowerCase().includes(searchText) \n    || it.SpeciesName.toLowerCase().includes(searchText) // add more conditions\n});\n</code></pre>\n"}], "owner": {"reputation": 4901, "user_id": 1520700, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4WHtz.jpg?s=128&g=1", "display_name": "Web Develop Wolf", "link": "https://stackoverflow.com/users/1520700/web-develop-wolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 52410115, "answer_count": 2, "score": 0, "last_activity_date": 1537373379, "creation_date": 1537372983, "question_id": 52410017, "link": "https://stackoverflow.com/questions/52410017/using-a-pipe-in-angular-to-filter-multiple-properties", "title": "Using a Pipe in Angular to Filter multiple properties", "body": "<p>I've used a <a href=\"https://codeburst.io/create-a-search-pipe-to-dynamically-filter-results-with-angular-4-21fd3a5bec5c\" rel=\"nofollow noreferrer\">tutorial</a> to filter a search using a single property (name) from a table of results and what works the way I want it to brilliantly, but how can I adapt the pipe to search across multiple properties (i.e. SpeciesName, EnclosureName etc.) ? </p>\n\n<p>Pipe:</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'filter'\n})\nexport class FilterPipe implements PipeTransform {\n\n  transform(items: any[], searchText: string): any {\n    if(!items) return [];\n    if(!searchText) return items;\n    searchText = searchText.toLowerCase();\n    return items.filter( it =&gt; {\n      return it.Name.toLowerCase().includes(searchText);\n    });\n  }\n\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;section&gt;\n    &lt;div class=\"toolbar\"&gt;\n        &lt;input id=\"fur-filter\" [(ngModel)]=\"searchText\" class=\"filter\" placeholder=\"FILTER ANIMALS, SPECIES, ENCLOSURES, TEMPERAMENTS ETC.\" /&gt;\n        &lt;button id=\"AddNewAnimal\" class=\"ko-btn\"&gt;Add New Animal&lt;/button&gt;\n        &lt;button id=\"InspectionReport\" class=\"ko-btn\"&gt;Start Inspection Report&lt;/button&gt;\n    &lt;/div&gt; \n    &lt;div class=\"list-container\"&gt;\n      &lt;div class=\"animal-row\" *ngFor=\"let furries of animalsFur | filter : searchText\"&gt;\n        &lt;img [src]=\"furries.avatar\" /&gt;\n        &lt;div class=\"animal-info\"&gt;\n          &lt;p&gt;{{furries.Name}} {{furries.Nickname}}&lt;/p&gt;\n          &lt;div class=\"row\"&gt;\n            &lt;div id=\"species\" class=\"col\"&gt;\n              &lt;p id=\"species-text\"&gt;Species: &lt;span&gt;{{furries.SpeciesName}}&lt;/span&gt;&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col\"&gt;\n              &lt;p&gt;Sub-Species: &lt;span&gt;{{furries.SubSpeciesName}}&lt;/span&gt;&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col\"&gt;\n              &lt;p&gt;Arrived: &lt;span&gt;{{furries.Welcomed}}&lt;/span&gt;&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col\"&gt;\n              &lt;p&gt;Age: &lt;span&gt;{{furries.Age}} Years&lt;/span&gt;&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col\"&gt;\n              &lt;p&gt;Enclosure: &lt;span&gt;{{furries.EnclosureName}}&lt;/span&gt;&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col\"&gt;\n              &lt;p&gt;Temperament: &lt;span&gt;{{furries.Temperament}}&lt;/span&gt;&lt;/p&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n     &lt;/div&gt;\n  &lt;/section&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "is_accepted": false, "score": 1, "last_activity_date": 1537373249, "creation_date": 1537373249, "answer_id": 52410080, "question_id": 52409985, "link": "https://stackoverflow.com/questions/52409985/what-im-doing-wrong-with-data-filter/52410080#52410080", "title": "What I&#39;m doing wrong with `data.filter`", "body": "<p>This may be because you are using a single variable  <code>this.tax</code> ,so it be that <code>data.map</code> is overriding the value set by <code>data.filter</code> in this.tax</p>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1537374230, "post_id": 52410146, "comment_id": 91764317, "body": "Thanks for show me the error, the commas was one of my mistakes, but the really error was in the <code>.map</code>, was wrong when I used the <code>+item.valut_tax</code> because it&#39;s a correct way when its used with one value (not as I have it on my code, are multiple data), just like this:  <code>filter((item) =&gt;item.qtyvalue &gt; 2 &amp;&amp; item.qtyvalue &lt; 10)                             .map((item) =&gt; item.qtyvalue)                             .reduce((sum, current) =&gt; sum + current);</code>"}], "tags": [], "owner": {"reputation": 414, "user_id": 7999140, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JmnQFRjBA9A/AAAAAAAAAAI/AAAAAAAAACw/HdaLhFa4ARw/photo.jpg?sz=128", "display_name": "Bernardo Siqueira", "link": "https://stackoverflow.com/users/7999140/bernardo-siqueira"}, "is_accepted": true, "score": 1, "last_activity_date": 1537373472, "creation_date": 1537373472, "answer_id": 52410146, "question_id": 52409985, "link": "https://stackoverflow.com/questions/52409985/what-im-doing-wrong-with-data-filter/52410146#52410146", "title": "What I&#39;m doing wrong with `data.filter`", "body": "<p>The syntax isn't right. Those commas are not doing anything, so your console is basically only returning the result of your <code>filter</code>. Those methods need to be chained.</p>\n\n<pre><code>data.filter((item) =&gt;item.value_tax != 0)\n           .map((item) =&gt; +item.value_tax )\n           .reduce((acc, obj) =&gt; acc +\n           (\n              (((Number(obj.cost) * Number(obj.quantity)) - ((Number(obj.cost) * Number(obj.quantity) * Number(obj.discount)) / 100)) * Number(obj.calculate_tax))\n           ) \n           -\n           (\n              (((Number(obj.cost) * Number(obj.quantity)) - (Number(obj.cost) * Number(obj.quantity) * Number(obj.discount)) / 100))\n           ),\n</code></pre>\n\n<p>And even still, there's still a problem with how you're mapping the items in the array to become a number, and then trying to access <code>obj.cost</code> and <code>obj.quantity</code>. What are you trying to accomplish with the mapping?</p>\n"}], "owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 52410146, "answer_count": 2, "score": 0, "last_activity_date": 1537374345, "creation_date": 1537372883, "last_edit_date": 1537374345, "question_id": 52409985, "link": "https://stackoverflow.com/questions/52409985/what-im-doing-wrong-with-data-filter", "title": "What I&#39;m doing wrong with `data.filter`", "body": "<p>I'm tryin to filter data with <code>data.filter()</code> because I need to find the elements that isn't equal to <code>0</code>, until here it's filtering the data in a correct way:</p>\n\n<p><strong>CODE</strong></p>\n\n<pre><code> this.tax = data.filter((item) =&gt;item.value_tax != 0)\n                .map((item) =&gt; +item.value_tax )\n                .reduce((acc, obj) =&gt; acc +\n               (\n                  (((Number(obj.cost) * Number(obj.quantity)) - ((Number(obj.cost) * Number(obj.quantity) * Number(obj.discount)) / 100)) * Number(obj.calculate_tax))\n               ) \n               -\n               (\n                  (((Number(obj.cost) * Number(obj.quantity)) - (Number(obj.cost) * Number(obj.quantity) * Number(obj.discount)) / 100))\n               ),\n              0);\n    console.log(\"Tax: \", this.tax)\n</code></pre>\n\n<p><strong>RESULT CONSOLE</strong></p>\n\n<pre><code>Tax:  \n(3) [\u2026]\n\u200b\n0: Object { id_factura_pivote: \"1\", cantidad_factura_pivote: \"3\", fecha_factura_pivote: \"2018-09-14\", \u2026 }\n\u200b\n1: Object { id_factura_pivote: \"5\", cantidad_factura_pivote: \"20\", fecha_factura_pivote: \"2018-09-14\", \u2026 }\n\u200b\n2: Object { id_factura_pivote: \"6\", cantidad_factura_pivote: \"1\", fecha_factura_pivote: \"2018-09-19\", \u2026 }\n\u200b\nlength: 3\n</code></pre>\n\n<p>In my case I have 4 elements, and only 3 are different to <code>0</code>, but it only brings or shows the data of <code>data</code> and not the calculation that I want to show to the user. It should be noted that if I do not use the <code>data.filter</code> and the<code>data.map</code> it brings me the correct data but it takes the 4 elements (unexpected result) because I only want the 3 (in this case) or the elements that are different to <code>0</code>.</p>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1537372167, "post_id": 52409602, "comment_id": 91763157, "body": "I&#39;m trying to understand your question. Will you only have one line of of code in the html or will you have all those users but summing (n+(n-1)) ?"}, {"owner": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "reply_to_user": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1537373170, "post_id": 52409602, "comment_id": 91763742, "body": "Don&#39;t care. But I assume it&#39;s better to combine the users in the users variable in the typescript code though."}], "answers": [{"comments": [{"owner": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1537374189, "post_id": 52409782, "comment_id": 91764291, "body": "this produces a success total of 164 for dbrown and 421 for qadmin as is, but I think because it&#39;s treated the numbers as strings."}, {"owner": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1537393608, "post_id": 52409782, "comment_id": 91772984, "body": "And I can&#39;t seem to find a way to fix the problem, even applying Number or parseInt to the Success/Failed properties."}, {"owner": {"reputation": 1789, "user_id": 190327, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0402cbba5f59b77e4d50be61301787d2?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Champigny", "link": "https://stackoverflow.com/users/190327/pierre-luc-champigny"}, "reply_to_user": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1537409116, "post_id": 52409782, "comment_id": 91776426, "body": "@sfors Haha, well my bad I didnt notice it. Just throw a bunch of parseInt() and that should fix the issue ^^"}], "tags": [], "owner": {"reputation": 1789, "user_id": 190327, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0402cbba5f59b77e4d50be61301787d2?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Champigny", "link": "https://stackoverflow.com/users/190327/pierre-luc-champigny"}, "is_accepted": false, "score": 1, "last_activity_date": 1537408797, "last_edit_date": 1537408797, "creation_date": 1537372220, "answer_id": 52409782, "question_id": 52409602, "link": "https://stackoverflow.com/questions/52409602/combine-json-data-totals/52409782#52409782", "title": "Combine JSON data totals", "body": "<p>You can add your users by their UserName to a map:</p>\n\n<pre><code>const map = {};\nfor (let user of this.items.Users.InteractiveLogon)\n  if (!map[user.UserName]) {\n     map[user.UserName] = user;\n  } else {\n     map[user.UserName].Success += user.Success;\n     map[user.UserName].Failed += user.Failed;\n  }\n}\nfor (let user of this.items.Users.NetworkLogon)\n  if (!map[user.UserName]) {\n     map[user.UserName] = user;\n  } else {\n     map[user.UserName].Success += user.Success;\n     map[user.UserName].Failed += user.Failed;\n  }\n}\n</code></pre>\n\n<p>Then add back your items to the list</p>\n\n<pre><code>for (let key in map) {\n  if (map.hasOwnProperty(key)) {\n     this.users.push(map[key]);\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1537373543, "post_id": 52409903, "comment_id": 91763937, "body": "lines 2-5 of the for loops don&#39;t seem to be getting added to the this.users variable? But this code seems to definitely work!"}, {"owner": {"reputation": 1048, "user_id": 3558573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ca616b8dfd29e78c294afb275ab878?s=128&d=identicon&r=PG&f=1", "display_name": "wFitz", "link": "https://stackoverflow.com/users/3558573/wfitz"}, "reply_to_user": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1537387979, "post_id": 52409903, "comment_id": 91770822, "body": "I know it works because I first tried it in your SB and then copied it here. I think it is too much code, there must be a way of doing it simpler, although more difficult to understand. I was looking at parallel fors in c#, but there seems to be no equivalent in typescript."}, {"owner": {"reputation": 1048, "user_id": 3558573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ca616b8dfd29e78c294afb275ab878?s=128&d=identicon&r=PG&f=1", "display_name": "wFitz", "link": "https://stackoverflow.com/users/3558573/wfitz"}, "reply_to_user": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1537474441, "post_id": 52409903, "comment_id": 91808948, "body": "Thanks, i liked how you resolved it combining answers."}], "tags": [], "owner": {"reputation": 1048, "user_id": 3558573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ca616b8dfd29e78c294afb275ab878?s=128&d=identicon&r=PG&f=1", "display_name": "wFitz", "link": "https://stackoverflow.com/users/3558573/wfitz"}, "is_accepted": false, "score": 1, "last_activity_date": 1537372597, "creation_date": 1537372597, "answer_id": 52409903, "question_id": 52409602, "link": "https://stackoverflow.com/questions/52409602/combine-json-data-totals/52409903#52409903", "title": "Combine JSON data totals", "body": "<p>You can see if the user is in the users array, if it is not, push it, else add the values to the existing one. As your values are strings, had to convert them with parseIt() so they summ.</p>\n\n<pre><code>for (let user of this.items.Users.InteractiveLogon) {\n  let _user = this.users.find( u =&gt; u.UserName == user.UserName );\n  if ( _user ){\n    _user.Success = parseInt(_user.Success) + parseInt(user.Success);\n    _user.Failed = parseInt(_user.Failed) + parseInt(user.Failed);\n  }\n  else {\n    this.users.push(user);\n  }\n}\nfor (let user of this.items.Users.NetworkLogon) {\n  let _user = this.users.find( u =&gt; u.UserName == user.UserName );\n  if ( _user ){\n    _user.Success = parseInt(_user.Success) + parseInt(user.Success);\n    _user.Failed = parseInt(_user.Failed) + parseInt(user.Failed);\n  }\n  else {\n    this.users.push(user);\n  }\n}\n</code></pre>\n\n<p>RESULT</p>\n\n<pre><code>User    Success Failure\ndbrown  20  1\nqadmin  25  2\nadministrator   42  0\ncooper  8   0\nad.brown    7   0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1537374824, "post_id": 52410422, "comment_id": 91764667, "body": "That&#39;s a cool way to total everything, very similar to my second link I attached which used reduce, but it didn&#39;t solve my problem. I didn&#39;t need to total everything - I needed to <i>combine</i> totals of users with the same username.."}, {"owner": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1537384441, "post_id": 52410422, "comment_id": 91769180, "body": "this.users= [...this.items.Users.NetworkLogon,...this.items.Users.Intera&zwnj;&#8203;ctiveLogon]; is confusing. I used this.users = this.items.Users.NetworkLogon.concat(this.items.Users.Intera&zwnj;&#8203;ctiveLogon); instead"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1537387646, "post_id": 52410422, "comment_id": 91770698, "body": "That&#39;s fine. It&#39;s called the spread operator. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>. it&#39;s how the hipster kids do it in ES6+ lol."}, {"owner": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1537395498, "post_id": 52410422, "comment_id": 91773549, "body": "this is probably the best answer based on the use of map and without looping through it and I was able to get it to total the results properly. Also, thanks for the guidance on how to better use JS functions and operators to accomplish this."}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1537402421, "post_id": 52410422, "comment_id": 91775002, "body": "@sfors no problem. We are here to help. If you get a chance take this udemy course on javascript es6+. <a href=\"https://www.udemy.com/javascript-es6-tutorial/\" rel=\"nofollow noreferrer\">udemy.com/javascript-es6-tutorial</a>"}, {"owner": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1537455083, "post_id": 52410422, "comment_id": 91799119, "body": "Thanks - very helpful info. Yes, it&#39;s clear JS is a weakness for me, that&#39;s for sure."}], "tags": [], "owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "is_accepted": true, "score": 1, "last_activity_date": 1537378486, "last_edit_date": 1537378486, "creation_date": 1537374528, "answer_id": 52410422, "question_id": 52409602, "link": "https://stackoverflow.com/questions/52409602/combine-json-data-totals/52410422#52410422", "title": "Combine JSON data totals", "body": "<p>So here how the cool kids in Javascript do things: </p>\n\n<p>So redue is a very useful way to handle array without using forloops. I understand you don't know how reduce works but take a look to this links:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce</a>\n<a href=\"https://www.w3schools.com/jsref/jsref_reduce.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/jsref/jsref_reduce.asp</a></p>\n\n<pre><code> this.users= [...this.items.Users.NetworkLogon,...this.items.Users.InteractiveLogon];\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-jspxb9\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-jspxb9</a></p>\n\n<p>Now, to add the duplicates:</p>\n\n<pre><code> let result = [];\n this.users.map((a)=&gt; {\n    if (!this[a.UserName]) {\n        this[a.UserName] = { UserName: a.UserName, Success: 0, Failed: 0 };\n        result.push(this[a.UserName]);\n    }\n    this[a.UserName].Success += Number(a.Success);\n    this[a.UserName].Failed += Number(a.Failed);\n}, Object.create(null));\nthis.users = result;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ZEpD4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZEpD4.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 444, "user_id": 2525272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e32d479363f92eea584dc2b393525e6b?s=128&d=identicon&r=PG&f=1", "display_name": "sfors says reinstate Monica", "link": "https://stackoverflow.com/users/2525272/sfors-says-reinstate-monica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 52410422, "answer_count": 3, "score": 0, "last_activity_date": 1537408797, "creation_date": 1537371607, "last_edit_date": 1537395312, "question_id": 52409602, "link": "https://stackoverflow.com/questions/52409602/combine-json-data-totals", "title": "Combine JSON data totals", "body": "<p>I have a Stackblitz.com sample here <a href=\"https://stackblitz.com/edit/angular-xhulyo?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-xhulyo?file=app%2Fapp.component.ts</a>, and I need to combine totals of users like dbrown or qadmin instead of displaying them on separate lines. It currently displays the results like this:</p>\n\n<pre><code>User    Success Failure\ndbrown  16  0\nqadmin  4   0\ndbrown  4   1\nqadmin  21  2\nadministrator   42  0\ncooper  8   0\nad.brown    7   0\n</code></pre>\n\n<p>and dbrown's totals should be 20 and 1 and qadmin's should be 25 and 2. You can see from the code that it's just iterating through the users variable. Here's the app.component.ts:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular 5';\n  users: any[] = [];\n  items: any;\n\n  ngOnInit() {\n    this.items = {\"Users\":{\"InteractiveLogon\":[{\"UserName\":\"dbrown\",\"Success\":\"16\",\"Failed\":\"0\"},{\"UserName\":\"qadmin\",\"Success\":\"4\",\"Failed\":\"0\"}],\"NetworkLogon\":[{\"UserName\":\"dbrown\",\"Success\":\"4\",\"Failed\":\"1\"},{\"UserName\":\"qadmin\",\"Success\":\"21\",\"Failed\":\"2\"},{\"UserName\":\"administrator\",\"Success\":\"42\",\"Failed\":\"0\"},{\"UserName\":\"cooper\",\"Success\":\"8\",\"Failed\":\"0\"},{\"UserName\":\"ad.brown\",\"Success\":\"7\",\"Failed\":\"0\"}]}};\n\n    for (let user of this.items.Users.InteractiveLogon)\n      this.users.push(user);\n\n    for (let user of this.items.Users.NetworkLogon)\n      this.users.push(user);\n  }\n\n}\n</code></pre>\n\n<p>And here's the app.component.html:</p>\n\n<pre><code>&lt;hello name=\"{{ name }}\"&gt;&lt;/hello&gt;\n&lt;p&gt;\n  Start editing to see some magic happen :)\n&lt;/p&gt;\n&lt;hr&gt;\n&lt;table *ngIf=\"users\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th align=left&gt;User&lt;/th&gt;\n      &lt;th&gt;Success&lt;/th&gt;\n      &lt;th&gt;Failure&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n    &lt;tr *ngFor=\"let row of users\" &gt;\n      &lt;td style=\"padding-right: 15px\"&gt;{{row.UserName}}&lt;/td&gt;\n      &lt;td&gt;{{row.Success}}&lt;/td&gt;\n      &lt;td&gt;{{row.Failed}}&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>I've found issues like <a href=\"https://stackoverflow.com/questions/42106328/combining-json-data-sets\">Combining JSON Data Sets</a> and <a href=\"https://stackoverflow.com/questions/27879827/sum-of-object-properties-within-an-array\">Sum of object properties within an array</a> that talk about using properties like hasOwnProperty and the map and reduce functions but I'm not sure how to use them to combine totals of separate value pairs with the same name and how to total just those.</p>\n\n<p>EDIT:</p>\n\n<p>I went with a combination of contributors to make it more clear (for me). Comments are welcome if this is not <em>the best</em> way to do it. I got rid of the \"this\" operator too. New StackBlitz <a href=\"https://stackblitz.com/edit/angular-8dj3yy?file=app/app.component.ts\" rel=\"nofollow noreferrer\">here</a>. The combineUserTotals function looks like this:</p>\n\n<pre><code>combineUserTotals() {\n  let result: any, results: any[] = [];\n\n  this.users.map((user) =&gt; {\n    result = results.find(u =&gt; u.UserName == user.UserName);\n\n    if (!result)\n      results.push({ UserName: user.UserName, Success: Number(user.Success), Failed: Number(user.Failed) });\n    else {\n      result.Success += Number(user.Success);\n      result.Failed += Number(user.Failed);\n    }\n  });\n\n  return results;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "mapping"], "comments": [{"owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1537371683, "post_id": 52409568, "comment_id": 91762896, "body": "How do you call your method <code>getImage</code>?"}, {"owner": {"reputation": 23, "user_id": 10386638, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UW01rjmAlIc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP26fJcstY5KMvBhQU7-91SvHEzbQ/mo/photo.jpg?sz=128", "display_name": "ahakjsdh", "link": "https://stackoverflow.com/users/10386638/ahakjsdh"}, "reply_to_user": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1537372229, "post_id": 52409568, "comment_id": 91763193, "body": "I updated the question"}, {"owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1537372426, "post_id": 52409568, "comment_id": 91763312, "body": "Are you sure your query is correct?"}, {"owner": {"reputation": 23, "user_id": 10386638, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UW01rjmAlIc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP26fJcstY5KMvBhQU7-91SvHEzbQ/mo/photo.jpg?sz=128", "display_name": "ahakjsdh", "link": "https://stackoverflow.com/users/10386638/ahakjsdh"}, "reply_to_user": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1537372512, "post_id": 52409568, "comment_id": 91763358, "body": "I think so, I watched a tutorial on youtube and that is how they did it"}, {"owner": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "edited": false, "score": 0, "creation_date": 1537372982, "post_id": 52409568, "comment_id": 91763634, "body": "What output do you see from the <code>console.log</code>?"}, {"owner": {"reputation": 23, "user_id": 10386638, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UW01rjmAlIc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP26fJcstY5KMvBhQU7-91SvHEzbQ/mo/photo.jpg?sz=128", "display_name": "ahakjsdh", "link": "https://stackoverflow.com/users/10386638/ahakjsdh"}, "edited": false, "score": 0, "creation_date": 1537373102, "post_id": 52409568, "comment_id": 91763706, "body": "ERROR TypeError: this._http.get(...).map is not a function     at ImageService.push../src/app/shared/image.service.ts.ImageSer&zwnj;&#8203;vice.getImage (image.service.ts:18)     at ImageListComponent.push../src/app/image-list/image-list.comp&zwnj;&#8203;onent.ts.ImageListCo&zwnj;&#8203;mponent.searchImages (image-list.component.ts:30)     at Object.eval [as handleEvent] (ImageListComponent.html:7)     at handleEvent (core.js:10258)"}, {"owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1537373580, "post_id": 52409568, "comment_id": 91763964, "body": "Did you import the <code>HttpClient</code> in your <code>app.modules.ts</code> <b>after</b> <code>BrowserModule</code>?"}, {"owner": {"reputation": 23, "user_id": 10386638, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UW01rjmAlIc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP26fJcstY5KMvBhQU7-91SvHEzbQ/mo/photo.jpg?sz=128", "display_name": "ahakjsdh", "link": "https://stackoverflow.com/users/10386638/ahakjsdh"}, "edited": false, "score": 0, "creation_date": 1537373692, "post_id": 52409568, "comment_id": 91764028, "body": "Yes it is after browserModule"}, {"owner": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "edited": false, "score": 0, "creation_date": 1537378357, "post_id": 52409568, "comment_id": 91766331, "body": "It&#39;s because you&#39;re not importing <code>map</code>. See my response below."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10386638, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UW01rjmAlIc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP26fJcstY5KMvBhQU7-91SvHEzbQ/mo/photo.jpg?sz=128", "display_name": "ahakjsdh", "link": "https://stackoverflow.com/users/10386638/ahakjsdh"}, "edited": false, "score": 0, "creation_date": 1537372268, "post_id": 52409661, "comment_id": 91763220, "body": "Thanks for the response, still a little confused though. I updated my question also"}, {"owner": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "reply_to_user": {"reputation": 23, "user_id": 10386638, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UW01rjmAlIc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP26fJcstY5KMvBhQU7-91SvHEzbQ/mo/photo.jpg?sz=128", "display_name": "ahakjsdh", "link": "https://stackoverflow.com/users/10386638/ahakjsdh"}, "edited": false, "score": 0, "creation_date": 1537372502, "post_id": 52409661, "comment_id": 91763353, "body": "What do <code>handleSuccess</code> and <code>handleError</code> functions look like?"}, {"owner": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "reply_to_user": {"reputation": 23, "user_id": 10386638, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UW01rjmAlIc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP26fJcstY5KMvBhQU7-91SvHEzbQ/mo/photo.jpg?sz=128", "display_name": "ahakjsdh", "link": "https://stackoverflow.com/users/10386638/ahakjsdh"}, "edited": false, "score": 0, "creation_date": 1537372561, "post_id": 52409661, "comment_id": 91763387, "body": "I&#39;ll update my answer as your original question didn&#39;t show that you were subscribing to the result. I had assumed you were trying to have a <code>Promise</code> returned."}, {"owner": {"reputation": 23, "user_id": 10386638, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UW01rjmAlIc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP26fJcstY5KMvBhQU7-91SvHEzbQ/mo/photo.jpg?sz=128", "display_name": "ahakjsdh", "link": "https://stackoverflow.com/users/10386638/ahakjsdh"}, "edited": false, "score": 0, "creation_date": 1537372598, "post_id": 52409661, "comment_id": 91763410, "body": "ok thanks, do you still want to see handleError and handleSuccess?"}, {"owner": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "reply_to_user": {"reputation": 23, "user_id": 10386638, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UW01rjmAlIc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP26fJcstY5KMvBhQU7-91SvHEzbQ/mo/photo.jpg?sz=128", "display_name": "ahakjsdh", "link": "https://stackoverflow.com/users/10386638/ahakjsdh"}, "edited": false, "score": 0, "creation_date": 1537372699, "post_id": 52409661, "comment_id": 91763475, "body": "Yes please. Have you put logging in them to see what the output is?"}], "tags": [], "owner": {"reputation": 2511, "user_id": 1968911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0XjWj.png?s=128&g=1", "display_name": "sketchthat", "link": "https://stackoverflow.com/users/1968911/sketchthat"}, "is_accepted": true, "score": 0, "last_activity_date": 1537378104, "last_edit_date": 1537378104, "creation_date": 1537371797, "answer_id": 52409661, "question_id": 52409568, "link": "https://stackoverflow.com/questions/52409568/in-my-test-angular-project-i-think-something-is-wrong-with-my-mapping-function/52409661#52409661", "title": "In my test Angular project, I think something is wrong with my mapping function", "body": "<p>The error message you're seeing is;</p>\n\n<pre><code> ERROR TypeError: this._http.get(...).map is not a function at ImageService.push../src/app/shared/image.service.ts.ImageService.getImage (image.service.ts:18) at ImageListComponent.push../src/app/image-list/image-list.component.ts.ImageListComponent.searchImages (image-list.component.ts:30) at Object.eval [as handleEvent] (ImageListComponent.html:7) at handleEvent (core.js:10258)\n</code></pre>\n\n<p>It mentions that <code>map</code> is not a function. It needs to be imported;</p>\n\n<pre><code>import 'rxjs/add/operator/map'\n</code></pre>\n\n<p>The import you're using is not the correct way to access this function. </p>\n\n<pre><code>import { map } from 'rxjs/operators'\n</code></pre>\n\n<p>For more information see this other <a href=\"https://stackoverflow.com/questions/34515173/angular-http-get-with-typescript-error-http-get-map-is-not-a-function-in-n\">StackOverflow post</a> which explains the solution in more detail.</p>\n"}], "owner": {"reputation": 23, "user_id": 10386638, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UW01rjmAlIc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP26fJcstY5KMvBhQU7-91SvHEzbQ/mo/photo.jpg?sz=128", "display_name": "ahakjsdh", "link": "https://stackoverflow.com/users/10386638/ahakjsdh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 52409661, "answer_count": 1, "score": 0, "last_activity_date": 1537433323, "creation_date": 1537371518, "last_edit_date": 1537433323, "question_id": 52409568, "link": "https://stackoverflow.com/questions/52409568/in-my-test-angular-project-i-think-something-is-wrong-with-my-mapping-function", "title": "In my test Angular project, I think something is wrong with my mapping function", "body": "<p>It is supposed to call the pixabay API to search for images. Everything else seems fine however when I search for anything I get no results of images. I think it is because of the mapping line but not sure, I am a beginner with Angular </p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport { environment } from '../../environments/environment';\nimport { Http, Headers } from '@angular/http';\nimport { map } from 'rxjs/operators'\n\n@Injectable()\nexport class ImageService{\n  private query: string;\n  private API_KEY: string = environment.PIXABAY_API_KEY;\n  private API_URL: string = environment.PIXABAY_API_URL;\n  private URL: string = this.API_URL + this.API_KEY + '&amp;q=';\n  private perPage: string = \"&amp;per_page=10\";\n\nconstructor(private _http: Http) { }\n\ngetImage(query){\n    return this._http.get(this.URL + query + this.perPage).map(res =&gt; \n        res.json());\n    }\n}\n</code></pre>\n\n<p>This is a snippet of my image-list.component.ts :</p>\n\n<pre><code>handleSuccess(data){\n   this.imagesFound = true;\n   this.images = data.hits;\n   console.log(data.hits);\n }\n\n\n handleError(error){\n  console.log(error);\n\n }\n\nconstructor(private _imageService : ImageService) { }\n\nsearchImages (query: string){\n    return this._imageService.getImage(query).subscribe(\n        data =&gt; this.handleSuccess(data),\n        error =&gt; this.handleError(error),\n        () =&gt; this.searching = false\n    );\n}\n\nngOnInit() {}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-redux", "semantic-ui-react"], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 244011, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ee717957019677908ee0b27b0d3c1df0?s=128&d=identicon&r=PG", "display_name": "Cyril", "link": "https://stackoverflow.com/users/244011/cyril"}, "edited": false, "score": 0, "creation_date": 1537373128, "post_id": 52409405, "comment_id": 91763720, "body": "I tried your suggestion, but I have the same error:      TS2326: Types of property &#39;resultRenderer&#39; are incompatible.     Type &#39;({ id, name, team, location, type }: Result) =&gt; Element&#39; is not assignable to type &#39;(props: SearchResultProps) =&gt; ReactElement&lt;any&gt;&#39;.     Types of parameters &#39;__0&#39; and &#39;props&#39; are incompatible.      Type &#39;SearchResultProps&#39; is not assignable to type &#39;Result&#39;.         Property &#39;name&#39; is missing in type &#39;SearchResultProps&#39;."}, {"owner": {"reputation": 127, "user_id": 1712317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z17Kr.jpg?s=128&g=1", "display_name": "Bastien", "link": "https://stackoverflow.com/users/1712317/bastien"}, "reply_to_user": {"reputation": 144, "user_id": 244011, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ee717957019677908ee0b27b0d3c1df0?s=128&d=identicon&r=PG", "display_name": "Cyril", "link": "https://stackoverflow.com/users/244011/cyril"}, "edited": false, "score": 0, "creation_date": 1537375756, "post_id": 52409405, "comment_id": 91765080, "body": "where does your <code>SearchResultProps</code> comes from?"}, {"owner": {"reputation": 144, "user_id": 244011, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ee717957019677908ee0b27b0d3c1df0?s=128&d=identicon&r=PG", "display_name": "Cyril", "link": "https://stackoverflow.com/users/244011/cyril"}, "edited": false, "score": 1, "creation_date": 1537378017, "post_id": 52409405, "comment_id": 91766155, "body": "SearchResultProps  is used in semantic-ui-react in Search.d.ts   resultRenderer?: (props: SearchResultProps) =&gt; React.ReactElement&lt;any&gt;  and defined in SearchResult.d.ts."}], "tags": [], "owner": {"reputation": 127, "user_id": 1712317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z17Kr.jpg?s=128&g=1", "display_name": "Bastien", "link": "https://stackoverflow.com/users/1712317/bastien"}, "is_accepted": false, "score": 0, "last_activity_date": 1537371304, "last_edit_date": 1537371304, "creation_date": 1537370970, "answer_id": 52409405, "question_id": 52409352, "link": "https://stackoverflow.com/questions/52409352/semantic-ui-react-custom-search-issue-with-react-typescript-and-redux/52409405#52409405", "title": "Semantic-ui-react: Custom Search issue with React/TypeScript and Redux", "body": "<p>I think it is because your result is not typed. and <code>any</code> has no attribute <code>name</code></p>\n\n<p>try to add: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>interface Result {\r\n  id: number\r\n  name: string\r\n  team: number\r\n  location: string\r\n  type: string\r\n}\r\n\r\n...\r\n\r\npublic resultRenderer = ({ id, name, team, location, type }: Result) =&gt; \r\n\r\n...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 244011, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ee717957019677908ee0b27b0d3c1df0?s=128&d=identicon&r=PG", "display_name": "Cyril", "link": "https://stackoverflow.com/users/244011/cyril"}, "is_accepted": false, "score": 0, "last_activity_date": 1537544898, "creation_date": 1537544898, "answer_id": 52447209, "question_id": 52409352, "link": "https://stackoverflow.com/questions/52409352/semantic-ui-react-custom-search-issue-with-react-typescript-and-redux/52447209#52447209", "title": "Semantic-ui-react: Custom Search issue with React/TypeScript and Redux", "body": "<p>I finally figured one way to get it working after looking at the Search.d.ts. I pass the resultRenderer as a prop to the component containing the Search widget.</p>\n\n<p>Here is the final implementation:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>interface SearchResultProps {\r\n  id: number;\r\n  name: string;\r\n  team: number;\r\n  location: string;\r\n  type: string;\r\n}\r\n\r\ninterface ServicesOverviewProps {\r\n  resultRenderer: (SearchResultProps) =&gt; any;\r\n  ...\r\n}\r\n\r\n@CSSModules(styles, options)\r\nexport class ServicesOverview extends React.Component&lt;ServicesOverviewProps,any&gt; {\r\n...\r\n&lt;Search\r\n                  fluid\r\n                  loading={services.searching}\r\n                  results={services.searchResult}\r\n                  value={services.searchText}\r\n                  onSearchChange={_.debounce(this.handleSearchChange, 500, {\r\n                    leading: true\r\n                  })}\r\n                  onResultSelect={this.handleResultSelect}\r\n                  resultRenderer={resultRenderer}\r\n                /&gt;\r\n...\r\nexport default connect&lt;ServicesOverviewProps&gt;(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ServicesOverview);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The parent component:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class UserActionWidget extends React.Component&lt;any, any&gt; {\r\n  public render() {\r\n    const resultRenderer = ({ id, name, team, location, type }) =&gt; {\r\n      ...\r\n\r\n      let image = &lt;img className=\"image\" src={imagePath} /&gt;;\r\n\r\n      if (!imagePath) {\r\n        image = (\r\n          &lt;Icon size=\"big\" name=\"question circle\" styleName=\"icon-style\" /&gt;\r\n        );\r\n      }\r\n\r\n      return (\r\n        &lt;div key=\"content\" className=\"searchResult-container\"&gt;\r\n          &lt;div className=\"content-container\"&gt;\r\n            &lt;div className=\"image-container\" data-title={type}&gt;\r\n              {image}\r\n            &lt;/div&gt;\r\n            &lt;div className=\"searchResult-container-description\"&gt;\r\n              &lt;div className=\"total-container\"&gt;{name}&lt;/div&gt;\r\n              &lt;div className=\"description\"&gt; Team: {team}&lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      );\r\n  };\r\n    \r\n  return (\r\n      &lt;div styleName=\"widget-container\"&gt;\r\n        {(() =&gt; {\r\n          switch (this.props.type) {\r\n            case \"services\":\r\n              return (\r\n                &lt;ServicesOverview  resultRenderer={resultRenderer}/&gt;\r\n              );\r\n          })()}\r\n      &lt;/div&gt;\r\n    );\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 144, "user_id": 244011, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ee717957019677908ee0b27b0d3c1df0?s=128&d=identicon&r=PG", "display_name": "Cyril", "link": "https://stackoverflow.com/users/244011/cyril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1004, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1537544898, "creation_date": 1537370779, "last_edit_date": 1537386279, "question_id": 52409352, "link": "https://stackoverflow.com/questions/52409352/semantic-ui-react-custom-search-issue-with-react-typescript-and-redux", "title": "Semantic-ui-react: Custom Search issue with React/TypeScript and Redux", "body": "<p>I am trying to use the custom render for a search box. I am using semantic-ui-react:0.82.5 with Typescript: 2.9.1. and Redux/</p>\n\n<p>I have the following error:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Type '{ fluid: true; loading: any; results: { id: number; name: string; team: number; location: string;...' is not assignable to type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Component&lt;SearchProps, ComponentState, any&gt;&gt; &amp; Rea...'.\r\nType '{ fluid: true; loading: any; results: { id: number; name: string; team: number; location: string;...' is not assignable to type 'Readonly&lt;SearchProps&gt;'.\r\nTypes of property 'resultRenderer' are incompatible.\r\nType '({ id, name, team, location, type }: { id: any; name: any; team: any; location: any; type: any; }...' is not assignable to type '(props: SearchResultProps) =&gt; ReactElement&lt;any&gt;'.\r\nTypes of parameters '__0' and 'props' are incompatible.\r\nType 'SearchResultProps' is not assignable to type '{ id: any; name: any; team: any; location: any; type: any; }'.\r\nProperty 'name' is missing in type 'SearchResultProps'.\",</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is an excerpt of my code below. What am I doing wrong?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>const result = [{\r\n  id: 73421,\r\n  name: \"cn-sonar-16\",\r\n  team: 124,\r\n  location: \"RTP\",\r\n  type: \"sonarqube-account-rep\" \r\n}];\r\n\r\n@CSSModules(styles, options)\r\nexport class ServicesOverview extends React.Component&lt;any, any&gt; {\r\n\r\n  public resultRenderer = ({ id, name, team, location, type }) =&gt; \r\n    &lt;div key='content' className='content'&gt;\r\n      &lt;div&gt; {name}&lt;/div&gt;\r\n      &lt;div&gt; {team}&lt;/div&gt;\r\n      &lt;div&gt;{location}&lt;/div&gt;\r\n      &lt;div &gt;{type}&lt;/div&gt;\r\n    &lt;/div&gt;;  \r\n...  (omitting code for clarity)\r\nrender(){\r\n...\r\n&lt;div styleName=\"search-container\"&gt;\r\n                &lt;Search\r\n                  fluid\r\n                  loading={services.searching}\r\n                  results={result}\r\n                  value={services.searchText}\r\n                  onSearchChange={_.debounce(this.handleSearchChange, 500, {\r\n                    leading: true\r\n                  })}\r\n                  onResultSelect={this.handleResultSelect}\r\n                  resultRenderer={this.resultRenderer}\r\n                /&gt;\r\n&lt;/div&gt;\r\n...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>const mapStateToProps = state =&gt; {\r\n  return {\r\n    services: state.services,\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ServicesOverview);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "decorator", "angular-decorator", "typescript-decorator"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1537370376, "post_id": 52409188, "comment_id": 91762096, "body": "<a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/decorators.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "is_accepted": false, "score": 2, "last_activity_date": 1537389332, "last_edit_date": 1537389332, "creation_date": 1537383261, "answer_id": 52412509, "question_id": 52409188, "link": "https://stackoverflow.com/questions/52409188/is-the-typescript-component-decorator-related-to-the-decorator-pattern/52412509#52412509", "title": "Is the Typescript @Component &quot;Decorator&quot; related to the decorator pattern?", "body": "<p>They are related, since you decorate an existing class with additional functionality. They are not the same, because the typescript <code>@Decorator</code> is applied at compile time, while the decorator pattern can also be used to decorate a class at runtime, for example:</p>\n\n<pre><code>let armoredenemy = new Armored(new Enemy())\nlet enemy = new Enemy()\n</code></pre>\n\n<p>While the program is running, you can still decide if you want to decorate a class or not. </p>\n"}, {"tags": [], "owner": {"reputation": 2044, "user_id": 6642614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C12Ou.png?s=128&g=1", "display_name": "Haijin", "link": "https://stackoverflow.com/users/6642614/haijin"}, "is_accepted": true, "score": 0, "last_activity_date": 1537389211, "creation_date": 1537389211, "answer_id": 52413805, "question_id": 52409188, "link": "https://stackoverflow.com/questions/52409188/is-the-typescript-component-decorator-related-to-the-decorator-pattern/52413805#52413805", "title": "Is the Typescript @Component &quot;Decorator&quot; related to the decorator pattern?", "body": "<p>Typescript decorator: </p>\n\n<p>It\u2019s compile time. It\u2019s one time but permanent change, as the class that get decorated is different from the original class. And it's simple, basically just a function.</p>\n\n<p>The common scenario is one decorator apply on different classes.  For example: in Angular , the @injector decorator apply on various classes and make them injectable. </p>\n\n<p>For the general decorator pattern:</p>\n\n<p>The common scenario is different decorators on one single class.  It\u2019s pretty heavy-lifting.  You need to create decorator class, common parent class for decorator class and original class, and different child decorator classes.  The original class remains unchanged and you can apply decorator as see fit during run time.  </p>\n\n<p>Example: you have a coffee class. You can create different decorator classes: Espresso , Cappuccino, even expresso + Cappuccino coffee if you want.</p>\n\n<p>Just my 2 cents.</p>\n"}], "owner": {"reputation": 115, "user_id": 10376675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-V68eeBcYAHM/AAAAAAAAAAI/AAAAAAAAAro/YcgBql_aY_4/photo.jpg?sz=128", "display_name": "Kevin Paul Tracy", "link": "https://stackoverflow.com/users/10376675/kevin-paul-tracy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "accepted_answer_id": 52413805, "answer_count": 2, "score": 2, "last_activity_date": 1537390737, "creation_date": 1537370243, "last_edit_date": 1537390737, "question_id": 52409188, "link": "https://stackoverflow.com/questions/52409188/is-the-typescript-component-decorator-related-to-the-decorator-pattern", "title": "Is the Typescript @Component &quot;Decorator&quot; related to the decorator pattern?", "body": "<p>The <code>@Component({})</code> line in a component .ts file is referred to as a <em>Decorator</em>. Is this in relation to the Decorator Pattern, or are they unrelated?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1537368560, "post_id": 52408600, "comment_id": 91760894, "body": "You shouldn&#39;t need to use <code>renderRows.bind</code>. Can you give us more context? i.e. where is <code>const renderSections</code> in your code?"}, {"owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1537368732, "post_id": 52408600, "comment_id": 91760990, "body": "@ExplosionPills: Its in a functional component. It is called inside the JSX in the return function of the functional component with {renderSections}"}, {"owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1537368838, "post_id": 52408600, "comment_id": 91761068, "body": "@ExplosionPills I have edited the post to add context"}, {"owner": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1537369239, "post_id": 52408600, "comment_id": 91761325, "body": "the only usage where I think you should use bind is a event handler...."}, {"owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "edited": false, "score": 0, "creation_date": 1537369469, "post_id": 52408600, "comment_id": 91761483, "body": "If you know a better way you are welcome to answer. I just want send the row data to another function that is responsible for rendering that so that each renderPart function does not become too large. Otherwise I thank you for the direction and will google on how this should be done tomorrow. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": true, "score": 1, "last_activity_date": 1537369470, "creation_date": 1537369470, "answer_id": 52408928, "question_id": 52408600, "link": "https://stackoverflow.com/questions/52408600/this-implicitly-has-type-any-because-it-does-not-have-a-type-annotation-whe/52408928#52408928", "title": "&#39;this&#39; implicitly has type &#39;any&#39; because it does not have a type annotation. when invoking bind on a function", "body": "<p><code>this</code> as you've used it will just be <code>window</code>, most likely. TypeScript probably doesn't know about it. Moreover, you most likely don't want to use it. Simply <code>renderRows(section.rows)</code> should be fine.</p>\n\n<p>However, I would recommend that rather than have <code>renderX</code> functions you use components. It should be pretty easy to do this since you already have these as functions -- the transition to functional components should be pretty small.</p>\n\n<pre><code>const Section = ({ section }) =&gt; (\n  &lt;div&gt;\n    ... row content ...\n  &lt;/div&gt;\n);\n\nconst Sections = ({ sections }) =&gt;\n  sections.map((section, index) =&gt; &lt;Section section={section} key={index} /&gt;);\n\nconst TechSpec = () =&gt; (\n  ...\n  &lt;div className=\"tech-spec-table__sections\"&gt;\n    &lt;Sections sections={techSpecTableData.section} /&gt;\n  &lt;/div&gt;\n  ...\n);\n</code></pre>\n\n<p>Note that I would use <code>key={section.id}</code> or something like that if possible rather than <code>key={index}</code>.</p>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "accepted_answer_id": 52408928, "answer_count": 1, "score": 0, "last_activity_date": 1537369470, "creation_date": 1537368434, "last_edit_date": 1537368819, "question_id": 52408600, "link": "https://stackoverflow.com/questions/52408600/this-implicitly-has-type-any-because-it-does-not-have-a-type-annotation-whe", "title": "&#39;this&#39; implicitly has type &#39;any&#39; because it does not have a type annotation. when invoking bind on a function", "body": "<p>Code:</p>\n\n<pre><code>const renderSections = techSpecTableData.sections.map((section: Section, index: number) =&gt; {\n    return (\n        &lt;div key={index} className=\"tech-spec-table-section\"&gt;\n            &lt;div className=\"tech-spec-table-section__heading\"&gt;{section.heading}&lt;/div&gt;\n            {renderRows.bind(this, section.rows)}\n        &lt;/div&gt;\n    );\n});\n</code></pre>\n\n<p>Warning:</p>\n\n<pre><code>[ts] 'this' implicitly has type 'any' because it does not have a type annotation.\n</code></pre>\n\n<p>What type should this have? I don't know actually. And I won't be using <code>this</code>. I just want to pass <code>section.rows</code>.</p>\n\n<p>EDIT: Here is the full code of the component, which contains the part above but also other code.</p>\n\n<pre><code>import * as React from 'react';\nimport './TechSpec.css';\n\ninterface Section {\n    heading: string;\n    rows: Row[];\n}\n\ninterface Row {\n    label: string;\n    values: string[];\n}\n\nconst techSpecTableData = {\n    ...\n};\n\nconst renderRows = ((rows: Row[]) =&gt; {\n    return (\n        &lt;div key={index}&gt;\n            ...\n        &lt;/div&gt;\n    );\n});\n\nconst renderSections = techSpecTableData.sections.map((section: Section, index: number) =&gt; {\n    return (\n        &lt;div key={index} className=\"tech-spec-table-section\"&gt;\n            &lt;div className=\"tech-spec-table-section__heading\"&gt;{section.heading}&lt;/div&gt;\n            {renderRows.bind(this, section.rows)}\n        &lt;/div&gt;\n    );\n});\n\nconst renderHeadings = techSpecTableData.headings.map((heading: string, index: number) =&gt; {\n    return (\n        &lt;div key={index} className=\"tech-spec-table__header__heading\"&gt;\n            {heading}\n        &lt;/div&gt;\n    );\n});\n\nconst TechSpec = () =&gt; {\n    return (\n        &lt;div className=\"tech-spec\"&gt;\n            &lt;div className=\"content-container\"&gt;\n                &lt;h2 className=\"heding--h2 heading--emphasized\"&gt;\n                    Technical Specification\n                &lt;/h2&gt;\n\n                &lt;div className=\"tech-spec-table__header\"&gt;\n                    {renderHeadings}\n                &lt;/div&gt;\n                &lt;div className=\"tech-spec-table__sections\"&gt;\n                    {renderSections}\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    );\n};\n\nexport default TechSpec;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "internationalization"], "comments": [{"owner": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 0, "creation_date": 1537368984, "post_id": 52408590, "comment_id": 91761168, "body": "Could you please clarify what you mean by internationalize with TypeScript?  Are you asking if you can handle translating the languages in your component (TS) instead of the components template (HTML)?"}, {"owner": {"reputation": 85, "user_id": 10027221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff483eb75f40355355100ac892b65af?s=128&d=identicon&r=PG&f=1", "display_name": "user173092", "link": "https://stackoverflow.com/users/10027221/user173092"}, "reply_to_user": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 1, "creation_date": 1537369574, "post_id": 52408590, "comment_id": 91761550, "body": "I&#39;m using the angular&#39;s i18n tool which works great with html and it creates a messages.xlf and I want to be able to add the same thing with my Typescript text so it is added in the same messages.xlf so when I ran a build all the text (both html and ts) are translated"}, {"owner": {"reputation": 85, "user_id": 10027221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff483eb75f40355355100ac892b65af?s=128&d=identicon&r=PG&f=1", "display_name": "user173092", "link": "https://stackoverflow.com/users/10027221/user173092"}, "reply_to_user": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 0, "creation_date": 1537369634, "post_id": 52408590, "comment_id": 91761599, "body": "A good example is: <a href=\"https://stackoverflow.com/questions/41182055/angular-2-and-i18n-in-typescript?answertab=active#tab-top\" title=\"angular 2 and i18n in typescript\">stackoverflow.com/questions/41182055/&hellip;</a> but I want more information on the TranslationsService or another way of doing it"}], "answers": [{"comments": [{"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1557410797, "post_id": 54684087, "comment_id": 98762710, "body": "Amazing answer, it should definitely get more love. Could be added that <code>i18n.service.ts</code> and <code>prebuild.ts</code> needs to be modified if using some other i18n format. Angular has direct support for xliff(2), xtb and xmb"}, {"owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "reply_to_user": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1557414996, "post_id": 54684087, "comment_id": 98765234, "body": "@ShamPooSham; Thanks. I added a comment to <code>prebuild.ts</code> and <code>i18n.service.ts</code>."}, {"owner": {"reputation": 445, "user_id": 6190527, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209143406204989/picture?type=large", "display_name": "Christophe", "link": "https://stackoverflow.com/users/6190527/christophe"}, "edited": false, "score": 0, "creation_date": 1560199831, "post_id": 54684087, "comment_id": 99649905, "body": "I&#39;ve got an i18nServiceFilePath not found in prebuild.js. How did you fix this? In addition, if I want to have more languages, should I have an array of contents in i18n.service.ts? Thanks"}, {"owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "reply_to_user": {"reputation": 445, "user_id": 6190527, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209143406204989/picture?type=large", "display_name": "Christophe", "link": "https://stackoverflow.com/users/6190527/christophe"}, "edited": false, "score": 0, "creation_date": 1560237836, "post_id": 54684087, "comment_id": 99659014, "body": "@Christophe; <b>1.</b> OK; I corrected it. Thanks for reminding. <b>2.</b> No; The <i>locale-id</i> that you include it in the path that is located after <code>raw-loader!</code> (path: <code>..&#47;i18n&#47;messages.fa.xlf</code> =&gt; <i>locale-id</i>: <code>fa</code>) is not important. Just insert a <i>locale-id</i> into it. It will replace with the <i>locale-id</i> you pass to <code>prebuild</code> script (<code>en</code>, <code>fa</code>, <code>fr</code>, <code>es</code>, <code>ar</code>, etc) and you should run this before each build (as its name implies: <code>prebuild</code>)."}, {"owner": {"reputation": 445, "user_id": 6190527, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209143406204989/picture?type=large", "display_name": "Christophe", "link": "https://stackoverflow.com/users/6190527/christophe"}, "edited": false, "score": 0, "creation_date": 1564302555, "post_id": 54684087, "comment_id": 100979871, "body": "Thank you @Mir Ismaili, I made it work. I did not know we should be doing one build with different output path per language in Angular."}, {"owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "reply_to_user": {"reputation": 445, "user_id": 6190527, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209143406204989/picture?type=large", "display_name": "Christophe", "link": "https://stackoverflow.com/users/6190527/christophe"}, "edited": false, "score": 0, "creation_date": 1564349017, "post_id": 54684087, "comment_id": 100990732, "body": "@Christophe; Yes. Because the <i>translation</i> is a part of the <i>build</i> process in Angular. See: <a href=\"https://angular.io/guide/i18n#merge-with-the-aot-compiler\" rel=\"nofollow noreferrer\">angular.io/guide/i18n#merge-with-the-aot-compiler</a>"}, {"owner": {"reputation": 442, "user_id": 3633589, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/636a764bfb906bc2c64583bf36cbd653?s=128&d=identicon&r=PG", "display_name": "Sadiq Khoja", "link": "https://stackoverflow.com/users/3633589/sadiq-khoja"}, "edited": false, "score": 0, "creation_date": 1593354277, "post_id": 54684087, "comment_id": 110744833, "body": "for those who are using Xliff, if you get &quot;this.input.charcodeat is not a function&quot; you would need to append <code>.default</code> after <code>require(&#39;raw-loader!..&#47;i18n&#47;messages.fa.xlf&#39;)</code> because raw loader has been changed."}], "tags": [], "owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "is_accepted": false, "score": 12, "last_activity_date": 1560239592, "last_edit_date": 1560239592, "creation_date": 1550124013, "answer_id": 54684087, "question_id": 52408590, "link": "https://stackoverflow.com/questions/52408590/angular-6-and-i18n-in-typescript/54684087#54684087", "title": "Angular 6 and i18n in typescript", "body": "<p>This is not possible through the library's API until now (<code>@angular/language-service v7.2</code>). </p>\n\n<p>Below is my workaround (thank fredrikredflag for <a href=\"https://github.com/angular/angular/issues/11405#issuecomment-268220829\" rel=\"noreferrer\">his good post on GitHub</a> and <a href=\"https://stackoverflow.com/a/48148156/5318303\">thank @BrunoBruzzano for the link</a>):</p>\n\n<hr>\n\n<p><strong><code>src/app/i18n.service.ts</code></strong>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Injectable} from \"@angular/core\";\nimport {Xliff2} from '@angular/compiler';\n// You can also import {Xliff} or {Xtb} instead of {Xliff2}, depending on your project configurations\n\ndeclare const require;\nconst content = require('raw-loader!../i18n/messages.fa.xlf');\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class I18nService {\n    private readonly xliff: any = new Xliff2().load(content, '');\n\n    get(key: string): string {\n        return this.xliff.i18nNodesByMsgId[key][0].value;\n    }\n}\n</code></pre>\n\n<p><strong>i18n pseudo-component (JUST FOR AUTO-GENERATING TRANSLATIONS in <code>messages.xlf</code> file)</strong>:</p>\n\n<ol>\n<li><p><strong><code>src/app/i18n/i18n.component.ts</code></strong> (Isn't important. Just needed to exists.):</p>\n\n<pre><code>import {Component} from '@angular/core';\n@Component({templateUrl: './i18n.component.html'})\nexport class I18nComponent {}\n</code></pre></li>\n<li><p><strong><code>src/app/i18n/i18n.component.html</code></strong> (<strong><em>don't forget using an id!</em></strong>)</p>\n\n<pre><code>&lt;p i18n=\"@@newVersionAlert\"&gt;New version available. Load New Version?&lt;/p&gt;\n</code></pre></li>\n</ol>\n\n<p><sub><em>Don't forget declaring <code>I18nComponent</code> in your <code>@NgModule</code>.</em></sub></p>\n\n<hr>\n\n<p><strong>Usage</strong> (after running <code>ng xi18n ...</code> and translating):</p>\n\n<p><strong>In your component</strong>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>...\nimport {I18nService} from './i18n.service';\n\n...\n    constructor(private i18nService: I18nService, ...) { ... }\n\n    sampleUsage() {\n        confirm(this.t('newVersionAlert'));\n    }\n\n    /**\n     * translate\n     */\n    private t(i18nId: string) {\n        return this.i18nService.get(i18nId);\n    }\n...\n</code></pre>\n\n<hr>\n\n<p><strong>Utility script to translate <code>i18n.service.ts</code> before build</strong>:</p>\n\n<p><sup><em>(This requirement: <code>require('raw-loader!../i18n/messages.fa.xlf')</code> needs to be translated to match wanted locale.</em>)</sup></p>\n\n<p><strong><code>PreBuild/prebuild.ts</code></strong>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Xliff2} from \"@angular/compiler\";  \n// You can also import {Xliff} or {Xtb} from \"@angular/compiler\" depending of your case.\n\nconst fs = require('fs');  \nconst path = require('path');  \n\nconst localeId = process.argv[2];  \n\nif (localeId === undefined) throw new Error(`No language specified.\\nUsage: node ${path.basename(__filename)} &lt;locale-id${'&gt;'}`);  \n\nconst content = fs.readFileSync(`src/i18n/messages.${localeId}.xlf`, 'utf8');  \nconst xliff = new Xliff2().load(content, '');\n\nconst i18nServiceFilePath = './src/app/i18n.service.ts'; \n\nfs.writeFileSync(i18nServiceFilePath,  \n  fs.readFileSync(i18nServiceFilePath, 'utf8')  \n    .replace(/(raw-loader!\\.\\.\\/i18n\\/messages\\.)\\w{2}(\\.xlf)/, `$1${xliff.locale}$2`)  \n);\n</code></pre>\n\n<p><strong><code>PreBuild/tsconfig.json</code></strong>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"outDir\": \"./build\",\n        \"lib\": [\n            \"es2018\",\n            \"dom\"\n        ],\n        \"module\": \"commonjs\",\n        \"moduleResolution\": \"node\",\n        \"target\": \"es6\",\n        \"typeRoots\": [\n            \"../node_modules/@types\"\n        ]\n    },\n    \"files\": [\n        \"prebuild.ts\"\n    ]\n}\n</code></pre>\n\n<p><strong><code>package.json</code></strong>:</p>\n\n<pre><code>...\n\"scripts\": {\n    \"compile-pre-build\": \"tsc -p PreBuild/tsconfig.json --pretty\",\n    \"pre-build\": \"node PreBuild/build/prebuild.js\",\n    ...\n...\n</code></pre>\n\n<p>Usage:</p>\n\n<p><sub><em>(After one-time <code>npm run compile-pre-build</code>:)</em></sub></p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>npm run pre-build -- fa\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>npm run pre-build -- en\n</code></pre>\n\n<p>This will edit <code>i18n.service.ts</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8680792, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bv3pxRJYOg0/AAAAAAAAAAI/AAAAAAAAAGA/j5cxHV-xiFo/photo.jpg?sz=128", "display_name": "Dubravko Ostoi\u0107", "link": "https://stackoverflow.com/users/8680792/dubravko-ostoi%c4%87"}, "is_accepted": false, "score": -1, "last_activity_date": 1559569889, "last_edit_date": 1559569889, "creation_date": 1559562640, "answer_id": 56426765, "question_id": 52408590, "link": "https://stackoverflow.com/questions/52408590/angular-6-and-i18n-in-typescript/56426765#56426765", "title": "Angular 6 and i18n in typescript", "body": "<p>You can Extend \"ng serve | build\" proccess so \"AOT compialtion\" for i18n translation in .ts is done</p>\n\n<ul>\n<li>Main idea is to use jour generated .xlf files(and ids like @@translationId) in .ts</li>\n</ul>\n\n<pre><code>    import { Component } from '@angular/core';\n\n    @Component({\n      selector: 'app-root',\n      templateUrl: './app.component.html',\n      styleUrls: ['./app.component.scss']\n    })\n    export class AppComponent {\n      title = 'i18n-ts-demo-ng';\n      title2 = '@@my.test.header';\n    }\n</code></pre>\n\n<ul>\n<li><p>and translate them in build proces</p>\n\n<ol>\n<li>add \"ng add ngx-build-plus\"</li>\n<li>create plugin</li>\n</ol></li>\n</ul>\n\n<pre><code>//create file i18n-plugin.ts in root\nimport { I18NTransformer } from './i18n';\nimport { AngularCompilerPlugin } from '@ngtools/webpack';\n\nfunction findAngularCompilerPlugin(webpackCfg): AngularCompilerPlugin | null {\n  return webpackCfg.plugins.find(plugin =&gt;  plugin instanceof AngularCompilerPlugin);\n}\n\n// The AngularCompilerPlugin has nog public API to add transformations, user private API _transformers instead.\nfunction addTransformerToAngularCompilerPlugin(acp, transformer): void {\n  acp._transformers = [transformer, ...acp._transformers];\n}\n\nexport default {\n  pre() {\n    // This hook is not used in our example\n  },\n\n  // This hook is used to manipulate the webpack configuration\n  config(cfg) {\n    // Find the AngularCompilerPlugin in the webpack configuration\n    const angularCompilerPlugin = findAngularCompilerPlugin(cfg);\n\n    if (!angularCompilerPlugin) {\n      console.error('Could not inject the typescript transformer: Webpack AngularCompilerPlugin not found');\n      return;\n    }\n\n    addTransformerToAngularCompilerPlugin(angularCompilerPlugin, I18NTransformer);\n    return cfg;\n  },\n\n  post() {\n    // This hook is not used in our example\n  }\n};\n</code></pre>\n\n<pre><code>//create file i18n.ts in root\nimport * as ts from 'typescript';\n\n// TODO move to config\nconst RequireAlli18NKeys = false; // if true onda all 18n keys must be found othervse error is thrown;\n\n// Read translations\nimport { Xliff, Node } from '@angular/compiler';\nconst fs = require('fs');\nconst path = require('path');\n\nlet localeId: string; // hr || en ...\n\nlet i18nLocale = 0; // 0 - parameter not found | 1 - parameter is fount so next is locale string (hr, ...)\n\n// parse parameters\nprocess.argv.forEach(pParam =&gt; {\n\n  console.log('param:' + pParam);\n  // get Locale is using: ng serve ...\n  if (pParam.startsWith('--configuration=')) {\n    localeId = pParam.replace('--configuration=', '');\n    console.log('Locale:' + localeId);\n  }\n\n  // Has to be before code down\n  if (i18nLocale === 1) {\n    i18nLocale = 2;\n    localeId = pParam;\n    console.log('Locale:' + localeId);\n  }\n\n  // Get locale if using: ng build --prod --i18n-locale en ...\n  if (pParam.startsWith('--i18n-locale')) {\n    i18nLocale = 1;\n    localeId = pParam.replace('--config--i18n-locale ', '')\n  }\n});\n\n// Load translation\n// tslint:disable-next-line:max-line-length\nif (localeId === undefined) { throw new Error(`No language specified.\\nUsage: ng serve --configuration=hr --aot --plugin ~dist/out-tsc/i18n-plugin.js`); }\nconst content = fs.readFileSync(`src/translate/messages.${localeId}.xlf`, 'utf8');\nconst xliff = new Xliff().load(content, '');\n\nexport const I18NTransformer = &lt;T extends ts.Node&gt;(context: ts.TransformationContext) =&gt; {\n  return (rootNode: ts.SourceFile) =&gt; {\n    function visit(node: ts.Node): ts.Node {\n      if (\n        rootNode.fileName.includes('node_modules')\n        || !rootNode.fileName.includes('.ts')\n        // || ts.isToken(node)\n      ) {\n        return ts.visitEachChild(node, visit, context);\n      }\n\n      if (ts.isStringLiteral(node)) {\n        // teplace @@ with translation\n        if (node.text.includes('@@')) {\n          // take key for translatioc\n          const tSourceKey = node.text;\n          const tI18NKey = node.text.replace('@@', '');\n          // find key\n          const tTranslation: any = xliff.i18nNodesByMsgId[tI18NKey];\n          if (tTranslation) {\n            // let t1 = tTranslation[0];\n\n            // let tLocaleStr = t1.toString(); //tTranslation[0].value;\n            const tLocaleStr = tTranslation[0].value;\n            console.log(ConsoleColor.BgCyan, 'i18n key: ', ConsoleColor.Reset, tI18NKey + '=&gt; translation   : ' + tLocaleStr);\n            const tNew2 = node.text.replace(tSourceKey, tLocaleStr);\n            return ts.createStringLiteral(tNew2);\n          }\n          const tMessage = 'ERROR! No translation for key: ' + tI18NKey + ', source:' + rootNode.fileName;\n          console.log(ConsoleColor.BgRed, tMessage, ConsoleColor.Reset);\n          if (RequireAlli18NKeys) {\n            throw new Error(tMessage);\n          }\n        }\n      }\n\n      return ts.visitEachChild(node, visit, context);\n    }\n    return ts.visitNode(rootNode, visit);\n  };\n};\n\nclass ConsoleColor {\n  static Reset = '\\x1b[0m';\n  static Bright = '\\x1b[1m';\n  static Dim = '\\x1b[2m';\n  static Underscore = '\\x1b[4m';\n  static Blink = '\\x1b[5m';\n  static Reverse = '\\x1b[7m';\n  static Hidden = '\\x1b[8m';\n\n  static FgBlack = '\\x1b[30m';\n  static FgRed = '\\x1b[31m';\n  static FgGreen = '\\x1b[32m';\n  static FgYellow = '\\x1b[33m';\n  static FgBlue = '\\x1b[34m';\n  static FgMagenta = '\\x1b[35m';\n  static FgCyan = '\\x1b[36m';\n  static FgWhite = '\\x1b[37m';\n\n  static BgBlack = '\\x1b[40m';\n  static BgRed = '\\x1b[41m';\n  static BgGreen = '\\x1b[42m';\n  static BgYellow = '\\x1b[43m';\n  static BgBlue = '\\x1b[44m';\n  static BgMagenta = '\\x1b[45m';\n  static BgCyan = '\\x1b[46m';\n  static BgWhite = '\\x1b[47m';\n}\n</code></pre>\n\n<ul>\n<li><p>in terminal start: <code>tsc --skipLibCheck --module umd -w</code></p></li>\n<li><p>ng serve --configuration=hr --aot --plugin ~dist/out-tsc/i18n-plugin.js</p></li>\n</ul>\n\n<p>complete example is at <a href=\"https://github.com/Emanuel3003/i18n-ts-demo-ng\" rel=\"nofollow noreferrer\">https://github.com/Emanuel3003/i18n-ts-demo-ng</a></p>\n\n<p>Regards</p>\n"}, {"tags": [], "owner": {"reputation": 798, "user_id": 5385623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PTe0.jpg?s=128&g=1", "display_name": "Ed Kolosovsky", "link": "https://stackoverflow.com/users/5385623/ed-kolosovsky"}, "is_accepted": false, "score": 4, "last_activity_date": 1587885515, "creation_date": 1587885515, "answer_id": 61437127, "question_id": 52408590, "link": "https://stackoverflow.com/questions/52408590/angular-6-and-i18n-in-typescript/61437127#61437127", "title": "Angular 6 and i18n in typescript", "body": "<p>In Angular 9 you can use global $localize function like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$localize`String to translate`\n</code></pre>\n\n<p>Be aware:</p>\n\n<ol>\n<li>In Angular 9 CLI does not extract these messages with the xi18n, you\nhave to do it manually</li>\n<li>Run <code>ng add @angular/localize</code> if you have not gone through <a href=\"https://angular.io/guide/migration-localize\" rel=\"nofollow noreferrer\">$localize migration</a></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 2288711, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0cc5499c169be4574348fd198902f310?s=128&d=identicon&r=PG", "display_name": "Mostafa Saadat", "link": "https://stackoverflow.com/users/2288711/mostafa-saadat"}, "is_accepted": false, "score": 0, "last_activity_date": 1593740945, "creation_date": 1593740945, "answer_id": 62707329, "question_id": 52408590, "link": "https://stackoverflow.com/questions/52408590/angular-6-and-i18n-in-typescript/62707329#62707329", "title": "Angular 6 and i18n in typescript", "body": "<p>You can use the Transloco library to do this: <a href=\"https://ngneat.github.io/transloco/\" rel=\"nofollow noreferrer\">https://ngneat.github.io/transloco/</a>.</p>\n<p>And then get the translations in the Typescript file like so:</p>\n<pre><code>this.translocoService.translate('hello');\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 10027221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff483eb75f40355355100ac892b65af?s=128&d=identicon&r=PG&f=1", "display_name": "user173092", "link": "https://stackoverflow.com/users/10027221/user173092"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8097, "favorite_count": 2, "answer_count": 4, "score": 6, "last_activity_date": 1593740945, "creation_date": 1537368389, "question_id": 52408590, "link": "https://stackoverflow.com/questions/52408590/angular-6-and-i18n-in-typescript", "title": "Angular 6 and i18n in typescript", "body": "<p>I saw that angular6 implements i18n for its components and that by using i18n you can internationalize your html but can you do the same with typescript? I have two specific areas</p>\n\n<p>One in a zingChart: - Be able to i18n Example</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>exampleData = {\n valueBox: {\n                text: '&lt;span style=\"font-size: 32px\"&gt;%pie-total-value&lt;/span&gt; &lt;br/&gt; Example',\n                placement: 'center',\n                fontWeight: 'normal'\n            },\n     }\n</code></pre>\n\n<p>Thank you very much for your time and answers.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "canvas"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1537367954, "post_id": 52408195, "comment_id": 91760521, "body": "Can we see the template code where <code>#canvasTest</code> is defined?"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1537368341, "post_id": 52408195, "comment_id": 91760738, "body": "Is the canvas element inside an <code>ngIf</code> conditonal container or inside an <code>ng-template</code>? If so, can we see that context?"}, {"owner": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "edited": false, "score": 0, "creation_date": 1537368560, "post_id": 52408195, "comment_id": 91760895, "body": "I am not getting any error. Code works fine"}, {"owner": {"reputation": 5, "user_id": 10310838, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--cb3HmFUKOM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMthl2GxjnTm-FwQHfN5WqFWfkMcQ/mo/photo.jpg?sz=128", "display_name": "Josh Winters", "link": "https://stackoverflow.com/users/10310838/josh-winters"}, "edited": false, "score": 0, "creation_date": 1537368625, "post_id": 52408195, "comment_id": 91760931, "body": "No, it is not in an ngIf, nor in an ng-template. It is in an html page. simple div container with canvas inside it."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1537368984, "post_id": 52408195, "comment_id": 91761167, "body": "Try to reproduce the problem in a stackblitz. You could also provide the complete HTML markup of the template, just in case we would see something special."}, {"owner": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "edited": false, "score": 0, "creation_date": 1537369326, "post_id": 52408195, "comment_id": 91761388, "body": "check this <a href=\"https://stackblitz.com/edit/angular-5wjisz?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a> it works fine"}], "owner": {"reputation": 5, "user_id": 10310838, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--cb3HmFUKOM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMthl2GxjnTm-FwQHfN5WqFWfkMcQ/mo/photo.jpg?sz=128", "display_name": "Josh Winters", "link": "https://stackoverflow.com/users/10310838/josh-winters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537369080, "creation_date": 1537367182, "last_edit_date": 1537368187, "question_id": 52408195, "link": "https://stackoverflow.com/questions/52408195/cannot-read-property-nativeelement-of-undefined-in-angular-2-assistance-please", "title": "Cannot read property &#39;nativeElement&#39; of undefined in angular 2 assistance please", "body": "<p>I have browsed a number of solutions for this and none of them seem to work. And it even gets weirder. I decided to make a new angular 2 project, and drop the code in, and it works just fine. But in my project i keep getting the error in the title. Here is my code:</p>\n\n<pre><code>import { Component, AfterViewInit, ViewChild, ElementRef } from '@angular/core'\n\n@Component({\n  selector: 'MouseClick',\n  templateUrl: './mouseClick.html',\n  styleUrls: ['./mouseClick.scss']\n})\n\nexport class MouseClick implements AfterViewInit {\n\n@ViewChild('canvasTest') canvasTest: ElementRef;\n\nngAfterViewInit() {\n\n  console.log('native element', this.canvasTest.nativeElement);\n};\n</code></pre>\n\n<p>this returns with an error: 'Cannot read property 'nativeElement' of undefined'.</p>\n\n<p>The original code (not the console.log) inside was:</p>\n\n<pre><code>let ctx: CanvasRenderingContext2D = this.canvasTest.nativeElement.getContext('2d');\n</code></pre>\n\n<p>The code above was throwing the error. So how can this be fixed?</p>\n\n<p>canvasTest is defined as:</p>\n\n<pre><code>&lt;canvas #canvasTest class=\"canvas-foreground\" style=\"width:100%;height:715px;\" tabindex=\"1\"&gt;&lt;/canvas&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3648, "user_id": 3951400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sQDAM.png?s=128&g=1", "display_name": "E. Sundin", "link": "https://stackoverflow.com/users/3951400/e-sundin"}, "edited": false, "score": 0, "creation_date": 1537367194, "post_id": 52408174, "comment_id": 91760070, "body": "What does the getter look like?"}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "reply_to_user": {"reputation": 3648, "user_id": 3951400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sQDAM.png?s=128&g=1", "display_name": "E. Sundin", "link": "https://stackoverflow.com/users/3951400/e-sundin"}, "edited": false, "score": 0, "creation_date": 1537367286, "post_id": 52408174, "comment_id": 91760118, "body": "well something like FormControlName.value"}, {"owner": {"reputation": 4366, "user_id": 2294428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3a0k.png?s=128&g=1", "display_name": "StephaneM", "link": "https://stackoverflow.com/users/2294428/stephanem"}, "edited": false, "score": 0, "creation_date": 1537367322, "post_id": 52408174, "comment_id": 91760138, "body": "Read about 2 way binding, somewhere there <a href=\"https://angular.io/tutorial/toh-pt1\" rel=\"nofollow noreferrer\">angular.io/tutorial/toh-pt1</a>"}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "reply_to_user": {"reputation": 4366, "user_id": 2294428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3a0k.png?s=128&g=1", "display_name": "StephaneM", "link": "https://stackoverflow.com/users/2294428/stephanem"}, "edited": false, "score": 0, "creation_date": 1537367415, "post_id": 52408174, "comment_id": 91760197, "body": "@StephaneM Thank you"}, {"owner": {"reputation": 3648, "user_id": 3951400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sQDAM.png?s=128&g=1", "display_name": "E. Sundin", "link": "https://stackoverflow.com/users/3951400/e-sundin"}, "edited": false, "score": 0, "creation_date": 1537367442, "post_id": 52408174, "comment_id": 91760220, "body": "If you have a FromControl reference then you should be able to do <code>formControl.setValue(&#39;something&#39;)</code>  <a href=\"https://angular.io/guide/reactive-forms\" rel=\"nofollow noreferrer\">angular.io/guide/reactive-forms</a>"}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "reply_to_user": {"reputation": 3648, "user_id": 3951400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sQDAM.png?s=128&g=1", "display_name": "E. Sundin", "link": "https://stackoverflow.com/users/3951400/e-sundin"}, "edited": false, "score": 0, "creation_date": 1537367767, "post_id": 52408174, "comment_id": 91760423, "body": "@E.Sundin Great,thank you"}, {"owner": {"reputation": 548, "user_id": 6482060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MpxDW.png?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6482060/raj"}, "edited": false, "score": 0, "creation_date": 1537373858, "post_id": 52408174, "comment_id": 91764121, "body": "Please find the below mentioned answer, hope it will help"}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "reply_to_user": {"reputation": 3648, "user_id": 3951400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sQDAM.png?s=128&g=1", "display_name": "E. Sundin", "link": "https://stackoverflow.com/users/3951400/e-sundin"}, "edited": false, "score": 0, "creation_date": 1537379571, "post_id": 52408174, "comment_id": 91766877, "body": "@E.Sundin What about if  I have input type of date and time? It doesn&#39;t work only by passing the string, shall I convert it to a date?"}], "answers": [{"tags": [], "owner": {"reputation": 1424, "user_id": 4830093, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10205953110178545/picture?type=large", "display_name": "Daniel Turcich", "link": "https://stackoverflow.com/users/4830093/daniel-turcich"}, "is_accepted": false, "score": 0, "last_activity_date": 1537367492, "creation_date": 1537367492, "answer_id": 52408289, "question_id": 52408174, "link": "https://stackoverflow.com/questions/52408174/insert-text-in-a-form-control-of-type-input-text/52408289#52408289", "title": "Insert text in a form control of type input text", "body": "<p>If I understand what you mean, you want to be able to be able to change the value of a variable from both the input and your Typescript, you can do this with two way binding. NG Model allows you to do this.</p>\n\n<p>I suggest checking out this section in the Angular Tour of Heros tutorial.</p>\n\n<p><a href=\"https://angular.io/tutorial/toh-pt1#two-way-binding\" rel=\"nofollow noreferrer\">https://angular.io/tutorial/toh-pt1#two-way-binding</a></p>\n"}, {"tags": [], "owner": {"reputation": 548, "user_id": 6482060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MpxDW.png?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6482060/raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1537373555, "creation_date": 1537373555, "answer_id": 52410170, "question_id": 52408174, "link": "https://stackoverflow.com/questions/52408174/insert-text-in-a-form-control-of-type-input-text/52410170#52410170", "title": "Insert text in a form control of type input text", "body": "<p><strong>Please refer to below solution and modify your code</strong></p>\n\n<p>HTML Code</p>\n\n<pre><code>&lt;form *ngIf=\"formObject\" [formGroup]=\"demoForm\" (submit)=\"onFormSubmit()\"&gt;\n  &lt;div class=\"form-row\"&gt;\n    &lt;div class=\"form-group col-md-6\"&gt;\n      &lt;label for=\"inputEmail4\"&gt;Email&lt;/label&gt;\n      &lt;input type=\"email\" formControlName=\"email\" class=\"form-control\" id=\"inputEmail4\" placeholder=\"Email\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group col-md-6\"&gt;\n      &lt;label for=\"inputPassword4\"&gt;Password&lt;/label&gt;\n      &lt;input type=\"password\" formControlName=\"password\" class=\"form-control\" id=\"inputPassword4\" placeholder=\"Password\"&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;label for=\"inputAddress\"&gt;Address&lt;/label&gt;\n    &lt;input type=\"text\" formControlName=\"address\" class=\"form-control\" id=\"inputAddress\" placeholder=\"1234 Main St\"&gt;\n  &lt;/div&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;label for=\"inputAddress2\"&gt;Address 2&lt;/label&gt;\n    &lt;input type=\"text\" formControlName=\"address2\" class=\"form-control\" id=\"inputAddress2\" placeholder=\"Apartment, studio, or floor\"&gt;\n  &lt;/div&gt;\n  &lt;div class=\"form-row\"&gt;\n    &lt;div class=\"form-group col-md-6\"&gt;\n      &lt;label for=\"inputCity\"&gt;City&lt;/label&gt;\n      &lt;input type=\"text\" formControlName=\"city\" class=\"form-control\" id=\"inputCity\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group col-md-4\"&gt;\n      &lt;label for=\"inputState\"&gt;State&lt;/label&gt;\n      &lt;select id=\"inputState\" class=\"form-control\" formControlName=\"state\"&gt;\n        &lt;option selected&gt;Choose...&lt;/option&gt;\n        &lt;option value=\"maharashtra\"&gt;Maharashtra&lt;/option&gt;\n        &lt;option value=\"delhi\"&gt;Delhi&lt;/option&gt;\n        &lt;option value=\"karnataka\"&gt;Karnataka&lt;/option&gt;\n        &lt;option value=\"gujrat\"&gt;Gujrat&lt;/option&gt;\n      &lt;/select&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group col-md-2\"&gt;\n      &lt;label for=\"inputZip\"&gt;Zip&lt;/label&gt;\n      &lt;input type=\"text\" formControlName=\"zip\" class=\"form-control\" id=\"inputZip\"&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;Sign in&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Typescript Code..</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-reactive-form',\n  templateUrl: './reactive-form.component.html',\n  styleUrls: ['./reactive-form.component.css']\n})\nexport class ReactiveFormComponent implements OnInit {\n  demoForm: FormGroup;\n\n  formObject = {\n    email: 'email@gmail.com',\n    password: 'password',\n    address: 'address 1 here',\n    address2: 'address 2 here',\n    city: 'pune',\n    state: 'maharashtra',\n    zip: '412411'\n  };  \n\n  constructor(\n    private formBuilder: FormBuilder,\n  ) {\n    this.createDemoForm(this.formObject);\n  }\n\n  ngOnInit() {\n\n  }\n\n  createDemoForm(formObj) {\n    this.demoForm = this.formBuilder.group({\n      email: [formObj.email, Validators.required],\n      password: [formObj.password, Validators.required],\n      address: [formObj.address, Validators.required],\n      address2: [formObj.address2, Validators.required],\n      city: [formObj.city, Validators.required],\n      state: [formObj.state, Validators.required],\n      zip: [formObj.zip, Validators.required]\n    });\n  }\n\n  onFormSubmit(){\n\n  }\n\n}\n</code></pre>\n\n<p>Please don't forget to import FormsModule, ReactiveFormsModule in App.module.ts </p>\n"}], "owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2517, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1537373555, "creation_date": 1537367127, "last_edit_date": 1537367322, "question_id": 52408174, "link": "https://stackoverflow.com/questions/52408174/insert-text-in-a-form-control-of-type-input-text", "title": "Insert text in a form control of type input text", "body": "<p>Is there any way to insert a text in an input text from code? I have a form which has to contain current values and then user will edit those values he diseres. There is a getter to read the actual value but what about setting one?</p>\n"}, {"tags": ["typescript", "aurelia", "aurelia-store"], "comments": [{"owner": {"reputation": 1789, "user_id": 190327, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0402cbba5f59b77e4d50be61301787d2?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Champigny", "link": "https://stackoverflow.com/users/190327/pierre-luc-champigny"}, "edited": false, "score": 0, "creation_date": 1537371571, "post_id": 52408015, "comment_id": 91762822, "body": "Are both your rxjs version (from Aurelia and your installed rxjs) the same?"}, {"owner": {"reputation": 9678, "user_id": 224125, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1b74caa04112ca542666cdf2706df7e0?s=128&d=identicon&r=PG", "display_name": "Evan Larsen", "link": "https://stackoverflow.com/users/224125/evan-larsen"}, "reply_to_user": {"reputation": 1789, "user_id": 190327, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0402cbba5f59b77e4d50be61301787d2?s=128&d=identicon&r=PG", "display_name": "Pierre-Luc Champigny", "link": "https://stackoverflow.com/users/190327/pierre-luc-champigny"}, "edited": false, "score": 0, "creation_date": 1537377132, "post_id": 52408015, "comment_id": 91765728, "body": "Aurelia rxjs is &quot;^6.2.2&quot; and mine is &quot;6.3.2&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 2558, "user_id": 2206677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78eeff900bc43de4347956dbab507bb9?s=128&d=identicon&r=PG", "display_name": "zewa666", "link": "https://stackoverflow.com/users/2206677/zewa666"}, "edited": false, "score": 0, "creation_date": 1537984843, "post_id": 52412329, "comment_id": 91986794, "body": "Can you run npm list rxjs? What version is now locally used and which one by the store?"}, {"owner": {"reputation": 9678, "user_id": 224125, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1b74caa04112ca542666cdf2706df7e0?s=128&d=identicon&r=PG", "display_name": "Evan Larsen", "link": "https://stackoverflow.com/users/224125/evan-larsen"}, "reply_to_user": {"reputation": 2558, "user_id": 2206677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78eeff900bc43de4347956dbab507bb9?s=128&d=identicon&r=PG", "display_name": "zewa666", "link": "https://stackoverflow.com/users/2206677/zewa666"}, "edited": false, "score": 0, "creation_date": 1537984905, "post_id": 52412329, "comment_id": 91986826, "body": "Its using &quot;6.3.2&quot;"}, {"owner": {"reputation": 2558, "user_id": 2206677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78eeff900bc43de4347956dbab507bb9?s=128&d=identicon&r=PG", "display_name": "zewa666", "link": "https://stackoverflow.com/users/2206677/zewa666"}, "edited": false, "score": 0, "creation_date": 1538034156, "post_id": 52412329, "comment_id": 92003028, "body": "I guess the package-lock.json was the root reason for that. Great you got that fixed. Guess you can accept your own answer."}], "tags": [], "owner": {"reputation": 9678, "user_id": 224125, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1b74caa04112ca542666cdf2706df7e0?s=128&d=identicon&r=PG", "display_name": "Evan Larsen", "link": "https://stackoverflow.com/users/224125/evan-larsen"}, "is_accepted": true, "score": 1, "last_activity_date": 1537382487, "creation_date": 1537382487, "answer_id": 52412329, "question_id": 52408015, "link": "https://stackoverflow.com/questions/52408015/how-can-i-import-the-typescript-subscription-type-from-the-aurelia-store-subscri/52412329#52412329", "title": "How can I import the Typescript Subscription type from the Aurelia Store Subscribe method?", "body": "<p>So, I'm not sure why this worked but I'm answering my own question just in case someone else runs into this issue.</p>\n\n<ol>\n<li>I uninstalled rxjs</li>\n<li>I re-installed rxjs</li>\n<li>I deleted my <code>node_modules</code> folder</li>\n<li>I deleted my package-lock.json</li>\n<li>I ran <code>npm clean cache --force</code></li>\n<li>I ran <code>npm install</code></li>\n</ol>\n\n<p>Then everything started working again :)</p>\n"}], "owner": {"reputation": 9678, "user_id": 224125, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1b74caa04112ca542666cdf2706df7e0?s=128&d=identicon&r=PG", "display_name": "Evan Larsen", "link": "https://stackoverflow.com/users/224125/evan-larsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 843, "favorite_count": 0, "accepted_answer_id": 52412329, "answer_count": 1, "score": 1, "last_activity_date": 1537382487, "creation_date": 1537366655, "last_edit_date": 1537379166, "question_id": 52408015, "link": "https://stackoverflow.com/questions/52408015/how-can-i-import-the-typescript-subscription-type-from-the-aurelia-store-subscri", "title": "How can I import the Typescript Subscription type from the Aurelia Store Subscribe method?", "body": "<p>I am following the documentation for <a href=\"https://aurelia.io/docs/plugins/store#subscribing-to-the-stream-of-states\" rel=\"nofollow noreferrer\">Aurelia Store</a> on how to subscribe to the stream of store changes. When I import the typescript <code>Subscription</code> type from <code>rxjs</code> I get a typescript compilation error:\n<code>TS2322: Type 'import(\"project\\node_modules\\aurelia-store\\node_modules\\rxjs\\internal\\Subscription\") is not assignable to type import(\"project\\node_modules\\rxjs\\internal\\Subscription\")</code></p>\n\n<p>Code example:</p>\n\n<pre><code>// app.ts\nimport { autoinject } from \"aurelia-dependency-injection\";\nimport { Store } from \"aurelia-store\";\nimport { Subscription } from 'rxjs';\nimport { State } from \"./state\";\n\n@autoinject()\nexport class App {\n\n  public state: State;\n  private subscription: Subscription;\n\n  constructor(private store: Store&lt;State&gt;) {}\n\n  bind() {\n    this.subscription = this.store.state.subscribe(\n      (state) =&gt; this.state = state\n    );\n  }\n\n  unbind() {\n    this.subscription.unsubscribe();\n  }\n}\n</code></pre>\n\n<p>I've tried doing <code>import { Store, Subscription } from 'aurelia-store'</code> but that doesn't work either.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>In response to Pierre-Luc Champigny's question:</p>\n\n<blockquote>\n  <p>Are both your rxjs version (from Aurelia and your installed rxjs) the\n  same?</p>\n</blockquote>\n\n<p>So, aurelia-store/package.json has rxjs version \"^6.2.2\" and my projects package.json is \"6.3.2\". So, I uninstalled my rxjs version and installed the 6.2.2 version. Now typescript is giving this error message:</p>\n\n<blockquote>\n  <p>TS2322: Type\n  'import(\"project/node_modules/aurelia-store/node_modules/rxjs/internal/Subscription\").Subscription'\n  is not assignable to type\n  'import(\"project/node_modules/rxjs/internal/Subscription\").Subscription'.\n  Property '_parent' is protected but type 'Subscription' is not a class\n  derived from 'Subscription'.</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 2, "creation_date": 1537370284, "post_id": 52408045, "comment_id": 91762033, "body": "You should avoid avoid != null   except for &quot;boolean&quot;, generally you juste write  if(startDate) {       if(endDate) {"}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "reply_to_user": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 0, "creation_date": 1537370411, "post_id": 52408045, "comment_id": 91762117, "body": "@xrobert35 Yes I knew this was a sensitive area - <a href=\"https://basarat.gitbooks.io/typescript/docs/javascript/null-undefined.html\" rel=\"nofollow noreferrer\">This</a> says what I went with is good to use (so does <a href=\"https://stackoverflow.com/questions/2647867/how-to-determine-if-variable-is-undefined-or-null\">this</a>)."}, {"owner": {"reputation": 9583, "user_id": 961631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tVKRG.png?s=128&g=1", "display_name": "Serge", "link": "https://stackoverflow.com/users/961631/serge"}, "reply_to_user": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "edited": false, "score": 1, "creation_date": 1537373225, "post_id": 52408045, "comment_id": 91763781, "body": "@xrobert35 I have the param &quot;page&quot;, so, <code>page=0</code> is a valid param for me, and <code>if (page)</code> will false, but wouldn&#39;t be..."}, {"owner": {"reputation": 9583, "user_id": 961631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tVKRG.png?s=128&g=1", "display_name": "Serge", "link": "https://stackoverflow.com/users/961631/serge"}, "edited": false, "score": 0, "creation_date": 1537374916, "post_id": 52408045, "comment_id": 91764715, "body": "please vote for the conditional HttpParams set update feature: <a href=\"https://github.com/angular/angular/issues/26021\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/26021</a>"}], "tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 14, "last_activity_date": 1537369286, "last_edit_date": 1537369286, "creation_date": 1537366754, "answer_id": 52408045, "question_id": 52407951, "link": "https://stackoverflow.com/questions/52407951/angular-6-httpclient-set-param-date-only-if-its-not-null/52408045#52408045", "title": "Angular 6 HttpClient set param date only if its not null", "body": "<p><code>set</code> does not mutate the object on which it is working - it returns a <em>new object</em> with the new value set. You can use something like this:</p>\n\n<pre><code>let params = new HttpParams()\n   .set('Id', Id)\n   .set('name', name)\n\nif (startDate != null) {\n    params = params.set('startDate', startDate.toDateString());\n}\n\nif (endDate != null) {\n    params = params.set('endDate', endDate.toDateString());\n}\n</code></pre>\n\n<p>Note how the <code>params</code> object is being <em>reassigned</em>. Also note the use of <code>!=</code> to protect against both <code>null</code> and <code>undefined</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 9583, "user_id": 961631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tVKRG.png?s=128&g=1", "display_name": "Serge", "link": "https://stackoverflow.com/users/961631/serge"}, "edited": false, "score": 0, "creation_date": 1537373417, "post_id": 52410088, "comment_id": 91763877, "body": "imagine instead of startDate is the <code>page</code> param... <code>page</code> set to <code>0</code> will fail your <code>set</code>..."}, {"owner": {"reputation": 9583, "user_id": 961631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tVKRG.png?s=128&g=1", "display_name": "Serge", "link": "https://stackoverflow.com/users/961631/serge"}, "edited": false, "score": 1, "creation_date": 1537373755, "post_id": 52410088, "comment_id": 91764063, "body": "more than that, requetData[page] == requestData[0]... not good ( probably <code>requestData[&#39;page&#39;]</code> instead?"}, {"owner": {"reputation": 1566, "user_id": 1195546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5498df36df02b688fecbbfe78be189?s=128&d=identicon&r=PG", "display_name": "Ronald91", "link": "https://stackoverflow.com/users/1195546/ronald91"}, "reply_to_user": {"reputation": 9583, "user_id": 961631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tVKRG.png?s=128&g=1", "display_name": "Serge", "link": "https://stackoverflow.com/users/961631/serge"}, "edited": false, "score": 0, "creation_date": 1537376765, "post_id": 52410088, "comment_id": 91765569, "body": "Thanks for the correction with the missing quotes and in your case you can do if(page!==undefined &amp;&amp; page!==null). At that point you can still assign the page property to the object."}], "tags": [], "owner": {"reputation": 1566, "user_id": 1195546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5498df36df02b688fecbbfe78be189?s=128&d=identicon&r=PG", "display_name": "Ronald91", "link": "https://stackoverflow.com/users/1195546/ronald91"}, "is_accepted": false, "score": -2, "last_activity_date": 1537376452, "last_edit_date": 1537376452, "creation_date": 1537373275, "answer_id": 52410088, "question_id": 52407951, "link": "https://stackoverflow.com/questions/52407951/angular-6-httpclient-set-param-date-only-if-its-not-null/52410088#52410088", "title": "Angular 6 HttpClient set param date only if its not null", "body": "<p>Instead of using the HttpParams object you can define and mutate your own object and pass it within the http call.</p>\n\n<pre><code>let requestData = {\n  Id: Id,\n  name: name\n}\nif (startDate) {\n//I am assuming you are using typescript and using dot notation will throw errors \n//unless you default the values\n  requestData['startDate'] = startDate\n}\nif (endDate) {\n  requestData['endDate'] = endDate\n}\n\n//Making the assumption this is a GET request\nthis.httpClientVariableDefinedInConstructor.get('someEndpointUrl', { params: requestData })\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 6341455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33fee2deccde2aadf412b820fcc9f1cb?s=128&d=identicon&r=PG&f=1", "display_name": "dps", "link": "https://stackoverflow.com/users/6341455/dps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6833, "favorite_count": 1, "accepted_answer_id": 52408045, "answer_count": 2, "score": 7, "last_activity_date": 1537376452, "creation_date": 1537366467, "last_edit_date": 1537366592, "question_id": 52407951, "link": "https://stackoverflow.com/questions/52407951/angular-6-httpclient-set-param-date-only-if-its-not-null", "title": "Angular 6 HttpClient set param date only if its not null", "body": "<p>I am trying to pass parameter to URL. For which I am using Angular HttpParams. How do I set date param only if date is not null or undefined?</p>\n\n<p>Code:</p>\n\n<pre><code>let params = new HttpParams()\n   .set('Id', Id)\n   .set('name', name)\n\nif (startDate !== null) {\n    params.set('startDate', startDate.toDateString());\n}\n\nif (endDate !== null) {\n    params.set('endDate', endDate.toDateString());\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-routing"], "answers": [{"tags": [], "owner": {"reputation": 1636, "user_id": 8358892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7h1Pv.png?s=128&g=1", "display_name": "Shashikant Devani", "link": "https://stackoverflow.com/users/8358892/shashikant-devani"}, "is_accepted": false, "score": 0, "last_activity_date": 1537366573, "creation_date": 1537366573, "answer_id": 52407988, "question_id": 52407913, "link": "https://stackoverflow.com/questions/52407913/angular-6-how-can-i-reload-the-same-child-component-page-in-live-server/52407988#52407988", "title": "[Angular 6 ]How can I reload the same child component page in live server?", "body": "<p>Use <code>hash</code> in your routing module like this :</p>\n\n<pre><code>RouterModule.forRoot(routes, { useHash: true }),     \n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>RouterModule.forRoot(routes),   \n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9155253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe6f85bcf369404857d28698ae32ec29?s=128&d=identicon&r=PG&f=1", "display_name": "mint", "link": "https://stackoverflow.com/users/9155253/mint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537375444, "creation_date": 1537366355, "last_edit_date": 1537375444, "question_id": 52407913, "link": "https://stackoverflow.com/questions/52407913/angular-6-how-can-i-reload-the-same-child-component-page-in-live-server", "title": "[Angular 6 ]How can I reload the same child component page in live server?", "body": "<p>I would like to reload to the same page in live server(cPanel).</p>\n\n<p>Atm i have no issue at \n<a href=\"http://localhost:4200/funding\" rel=\"nofollow noreferrer\">http://localhost:4200/funding</a>, but when i tried to reload the page at\n<a href=\"http://something/np/dist/thesandbox/funding\" rel=\"nofollow noreferrer\">http://something/np/dist/thesandbox/funding</a> the following error occurs.</p>\n\n<p><strong>Main Page:</strong>\n<a href=\"http://something/np/dist/thesandbox/\" rel=\"nofollow noreferrer\">http://something/np/dist/thesandbox/</a></p>\n\n<p><strong>Child Page:</strong>\n<a href=\"http://something/np/dist/thesandbox/funding\" rel=\"nofollow noreferrer\">http://something/np/dist/thesandbox/funding</a></p>\n\n<p>What would the best solution for the following error:</p>\n\n<p><em>Additionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request.</em></p>\n\n<p><strong>app-routing.module.ts</strong></p>\n\n<pre><code>import { Routes, RouterModule } from '@angular/router';\n...........\nconst routes: Routes = [\n{ path: '', component: HomeComponent},\n{ path: 'funding', component: FundingComponent},\n..........\n@NgModule({\nimports: [RouterModule.forRoot(routes)],\nexports: [RouterModule]\n})\n\nexport class AppRoutingModule {\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1537365918, "post_id": 52407761, "comment_id": 91759191, "body": "Thanks for your reply. But i want to map to type SelectItem. @titiancernicova-dragomir"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1537365989, "post_id": 52407761, "comment_id": 91759227, "body": "@HasanOzdemir what does <code>SelectItem</code> look like? You just new it up and set the properties in the <code>map</code> callback."}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1537366127, "post_id": 52407761, "comment_id": 91759317, "body": "@HasanOzdemir is javascript <code>map</code> is what you want"}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1537366166, "post_id": 52407761, "comment_id": 91759339, "body": "I edited question and add selectItem interface. Can you please check it? @titiancernicova-dragomir"}, {"owner": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "reply_to_user": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1537366232, "post_id": 52407761, "comment_id": 91759383, "body": "@HasanOzdemir You don&#39;t need any further steps since <code>SelectItem</code> is an interface, and the resulting objects satisfy it. You don&#39;t have to implement interfaces explicitly in typescript. It&#39;s enough that an object has a <code>value</code> property to be considered an instance of <code>SelectItem</code>."}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "reply_to_user": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1537366283, "post_id": 52407761, "comment_id": 91759423, "body": "Yes like javascript but the difference is i want to map to special type (SelectItem). Not to object like javascript. @RezaRahmati"}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "reply_to_user": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "edited": false, "score": 0, "creation_date": 1537366392, "post_id": 52407761, "comment_id": 91759497, "body": "I am using primeNG. And it want SelectItem array for dropdownlist. So i need mapping to SelectItem @sloth"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1537366400, "post_id": 52407761, "comment_id": 91759500, "body": "@HasanOzdemir did you define an interface or class in javascript for that?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 1, "creation_date": 1537366502, "post_id": 52407761, "comment_id": 91759567, "body": "@HasanOzdemir edited, the answer, you don&#39;t really need to type it explicitly, typescript uses structural typing so object literals that have the properties are considered to implement the interface."}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "reply_to_user": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1537366536, "post_id": 52407761, "comment_id": 91759589, "body": "Yes. I added my interface to question. That interface is interface by automatically created by primeNg . @RezaRahmati"}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1537366668, "post_id": 52407761, "comment_id": 91759695, "body": "Thanks @TitianCernicova-Dragomir. This is what i was looking for."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 5, "last_activity_date": 1537367202, "last_edit_date": 1537367202, "creation_date": 1537365843, "answer_id": 52407761, "question_id": 52407730, "link": "https://stackoverflow.com/questions/52407730/angular-binding-list-to-another-list-with-different-property-name/52407761#52407761", "title": "Angular binding list to another list with different property name", "body": "<p>You can do this virtually identically in JS/TS, you just need to use <code>map</code>, and the corect way to create a JS object literal:</p>\n\n<pre><code>this.serviceHelper.getStudentTypes().subscribe(\n  result =&gt; {\n    this.studentTypes = result.data\n      .map(p =&gt; ({\n          label:p.Text,                \n          value:p.Value                \n    }));\n  }\n);\n</code></pre>\n\n<p>The above code assumes <code>getStudentTypes</code> returns an <code>Observable&lt;{ Text: string, Value: string }[]&gt;</code> or something equivalent.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Since you want the type of the new array to be <code>SelectItem[]</code> you can specify it explicitly on <code>map</code> if you want (this helps with error message on some errors) but this is not required. If <code>this.studentTypes</code> is typed as <code>SelectItem[]</code> and the return of <code>map</code> is compatible with <code>SelectItem</code> then all will work as expected (since <code>SelectItem</code> is an interface and not a class we can assign any compatible object literal to a variable of this type, this is how <a href=\"https://www.typescriptlang.org/docs/handbook/type-compatibility.html\" rel=\"nofollow noreferrer\">structural typing</a> works in typescript)</p>\n\n<p>The  explicit version of <code>map</code> that explicitly returns <code>SelectItem[]</code> would be:</p>\n\n<pre><code>this.serviceHelper.getStudentTypes().subscribe(\n  result =&gt; {\n    this.studentTypes = result.data\n      .map&lt;SelectItem&gt;(p =&gt; ({\n          label:p.Text,                \n          value:p.Value                \n    }));\n  }\n); \n</code></pre>\n"}], "owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2056, "favorite_count": 0, "accepted_answer_id": 52407761, "answer_count": 1, "score": 1, "last_activity_date": 1537367202, "creation_date": 1537365736, "last_edit_date": 1537366114, "question_id": 52407730, "link": "https://stackoverflow.com/questions/52407730/angular-binding-list-to-another-list-with-different-property-name", "title": "Angular binding list to another list with different property name", "body": "<p>I am getting list of object by service. And these list is in result.data. \n But the object in result.data have property \"Text\" and \"Value\". But i want to bind the list to array which has property \"label\" and \"value\". In C# we can do this by Select. And so i wrote below like c#. But how i can do in typescript with angular 6. </p>\n\n<pre><code>this.serviceHelper.getStudentTypes().subscribe(\n  result =&gt; {\n    this.studentTypes = result.data\n      .Select(p =&gt; new SelectItem {//???\n      label=p.Text,                //???\n      value=p.Value                //???\n    });\n  }\n);\n</code></pre>\n\n<p>selectItem.ts</p>\n\n<pre><code>export interface SelectItem {\n    label?: string;\n    value: any;\n    styleClass?: string;\n    icon?: string;\n    title?: string;\n    disabled?: boolean;\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 8011, "user_id": 3049127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ef44fca009f9f18ecaf67b5c53936?s=128&d=identicon&r=PG&f=1", "display_name": "Shilly", "link": "https://stackoverflow.com/users/3049127/shilly"}, "edited": false, "score": 0, "creation_date": 1537365915, "post_id": 52407700, "comment_id": 91759189, "body": "Please paste your code inside your question: 1) I don&#39;t have the rights to see your png files, 403 forbidden. 2) Not many people are going to retype all the code in a picture just to be able to test it."}, {"owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 2, "creation_date": 1537365998, "post_id": 52407700, "comment_id": 91759236, "body": "You need to import <b><code>CommonModule</code></b>  in your module which declares category component."}, {"owner": {"reputation": 1570, "user_id": 3099317, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e3c96e6204b4eca02d592a73b40d56c?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Xawery Wi\u015bniowiecki", "link": "https://stackoverflow.com/users/3099317/sebastian-xawery-wi%c5%9bniowiecki"}, "reply_to_user": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 0, "creation_date": 1599015847, "post_id": 52407700, "comment_id": 112639239, "body": "@Faisal if the hint given in comment is not a reason for error then no comment or clarify your reason for comment in more clear way"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 8093336, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tHdFcGZjars/AAAAAAAAAAI/AAAAAAAAApM/iSCPexR73Vg/photo.jpg?sz=128", "display_name": "Mustafa UYSAL", "link": "https://stackoverflow.com/users/8093336/mustafa-uysal"}, "edited": false, "score": 0, "creation_date": 1537366344, "post_id": 52407866, "comment_id": 91759464, "body": "Thanks for answer. Thanks for everything dude :)"}], "tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": true, "score": 7, "last_activity_date": 1537366179, "creation_date": 1537366179, "answer_id": 52407866, "question_id": 52407700, "link": "https://stackoverflow.com/questions/52407700/angular-5-errorcant-bind-to-ngforfor-since-it-isnt-a-known-property-of-li/52407866#52407866", "title": "Angular 5 Error:Can&#39;t bind to &#39;ngForFor&#39; since it isn&#39;t a known property of &#39;li&#39;", "body": "<p>change <code>for</code> to <code>of</code> in the expression</p>\n\n<pre><code>&lt;li *ngFor='let item2 of categories'&gt;\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 8093336, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tHdFcGZjars/AAAAAAAAAAI/AAAAAAAAApM/iSCPexR73Vg/photo.jpg?sz=128", "display_name": "Mustafa UYSAL", "link": "https://stackoverflow.com/users/8093336/mustafa-uysal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 52407866, "answer_count": 1, "score": 0, "last_activity_date": 1537366344, "creation_date": 1537365633, "last_edit_date": 1537366101, "question_id": 52407700, "link": "https://stackoverflow.com/questions/52407700/angular-5-errorcant-bind-to-ngforfor-since-it-isnt-a-known-property-of-li", "title": "Angular 5 Error:Can&#39;t bind to &#39;ngForFor&#39; since it isn&#39;t a known property of &#39;li&#39;", "body": "<p>My category.component.ts is \n<a href=\"https://i.hizliresim.com/2a0gYA.png\" rel=\"nofollow noreferrer\">category.component.ts</a></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { CategoryService } from './category.service';\nimport { Category } from './category';\n@Component({\nselector: 'app-category',\ntemplateUrl: './category.component.html',\nstyleUrls: ['./category.component.css'],\nproviders: [CategoryService]\n})\nexport class CategoryComponent implements OnInit {\ntitle = 'Category';\ncategories: Category[];\nconstructor(private categoryService: CategoryService) {}\nngOnInit() {\nthis.getCategories();\n}\ngetCategories() {\nthis.categoryService.getCategories().subscribe(res =&gt; {\n  this.categories = res;\n});\n}\n}\n</code></pre>\n\n<p>My category.component.html is\n<a href=\"https://i.hizliresim.com/8zygk7.png\" rel=\"nofollow noreferrer\">category.component.html</a></p>\n\n<pre><code>&lt;h3&gt;{{title}}&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li *ngFor='let item2 for categories'&gt;\n  {{item2.CategoryName}}\n&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>My category.service.ts is \n<a href=\"https://i.hizliresim.com/LDqapo.png\" rel=\"nofollow noreferrer\">category.service.ts</a></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Category } from './category';\n import { Observable } from 'rxjs';\n@Injectable()\nexport class CategoryService {\n\nconstructor(private http: HttpClient) { }\ngetCategories(): Observable&lt;Category[]&gt; {\n return this.http.get&lt;Category[]&gt; \n ('http://northwindapi.azurewebsites.net/api/categories');\n }\n  }\n</code></pre>\n\n<p>The problem is Angular does't accept li with ngFor. How can i solve this?</p>\n"}, {"tags": ["typescript", "authentication", "nativescript"], "answers": [{"tags": [], "owner": {"reputation": 543, "user_id": 4352453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pGubx.jpg?s=128&g=1", "display_name": "Jannomeister", "link": "https://stackoverflow.com/users/4352453/jannomeister"}, "is_accepted": false, "score": 0, "last_activity_date": 1537512976, "creation_date": 1537512976, "answer_id": 52438201, "question_id": 52407483, "link": "https://stackoverflow.com/questions/52407483/nativescript-auth-service-not-logging-in/52438201#52438201", "title": "Nativescript auth service not logging in", "body": "<p>You're not navigating the user to your desired route after a successful login. <code>CanActivate</code> only executed when you navigated to a route with <code>canActivate</code> guard, which is in your case the <code>ListComponent</code>. Hope it answers your question mate. You can use <code>router.navigate</code> to navigate to a route.</p>\n"}], "owner": {"reputation": 51, "user_id": 8052271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb9340061725647964d4858e7b8d70c?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Cocomazzi", "link": "https://stackoverflow.com/users/8052271/roberto-cocomazzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537512976, "creation_date": 1537364976, "last_edit_date": 1537368073, "question_id": 52407483, "link": "https://stackoverflow.com/questions/52407483/nativescript-auth-service-not-logging-in", "title": "Nativescript auth service not logging in", "body": "<p>I tryed to add an authGuard on Nativescript grocery tutorial.\nBasicaly i have a login page and a list page, my app land on list page but, if the user is not logged in (no token), it send you to login page.\nThe problem is that when i press sign in it does nothing and i get no errors.</p>\n\n<p>this is the AuthGuard: </p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { CanActivate, Router } from \"@angular/router\";\nimport { UserService } from \"../shared/user/user.service\";\nimport { Config } from \"../config\";\n\n@Injectable()\n\nexport class AuthGuard implements CanActivate{\n    constructor(private router: Router, private userService: UserService,) { }\n\n    canActivate() {\n        if(Config.token != \"\") {\n            return true;\n        } else {\n            this.router.navigate([\"/login\"]);\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>this is the login service</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { Http, Headers, Response } from \"@angular/http\";\nimport { Observable } from \"rxjs\";\nimport { catchError, map, tap } from \"rxjs/operators\";\n\nimport { User } from \"./user.model\";\nimport { Config } from \"../config\";\n\n@Injectable()\n\nexport class UserService {\n    constructor(private http: Http) { }\n\n    register(user: User) {\n        return this.http.post(\n            Config.apiUrl + \"user/\" + Config.appKey,\n            JSON.stringify({\n                username: user.email,\n                email: user.email,\n                password: user.password\n            }),\n            { headers: this.getCommonHeaders() }\n        ).pipe(\n            catchError(this.handleErrors)\n        );\n    }\n\n    login(user: User) {\n        return this.http.post(\n            Config.apiUrl + \"user/\" + Config.appKey + \"/login\",\n            JSON.stringify({\n                username: user.email,\n                password: user.password\n            }),\n            { headers: this.getCommonHeaders() }\n        ).pipe(\n            map(response =&gt; response.json()),\n            tap(data =&gt; {\n                Config.token = data._kmd.authtoken;\n            }),\n            catchError(this.handleErrors)\n        );\n    }\n\n    getCommonHeaders() {\n        let headers = new Headers();\n        headers.append(\"Content-Type\", \"application/json\");\n        headers.append(\"Authorization\", Config.authHeader);\n        return headers;\n    }\n\n    handleErrors(error: Response) {\n        console.log(JSON.stringify(error.json()));\n        return Observable.throw(error);\n    }\n}\n</code></pre>\n\n<p>this is the router</p>\n\n<pre><code>import { LoginComponent } from \"./login/login.component\";\nimport { ListComponent } from \"./list/list.component\";\nimport { AuthGuard } from \"./shared/authGuard\"\n\nexport const routes = [\n    { path: \"\", component: ListComponent, canActivate: [AuthGuard] },\n    { path: \"login\", component: LoginComponent }\n];\n\nexport const navigatableComponents = [\n    LoginComponent,\n    ListComponent\n];\n</code></pre>\n\n<p>And the app.module</p>\n\n<pre><code>import { NgModule } from \"@angular/core\";\nimport { NativeScriptFormsModule } from \"nativescript-angular/forms\";\nimport { NativeScriptHttpModule } from \"nativescript-angular/http\";\nimport { NativeScriptModule } from \"nativescript-angular/nativescript.module\";\nimport { NativeScriptRouterModule } from \"nativescript-angular/router\";\n\nimport { NativeScriptUIListViewModule } from \"nativescript-ui-listview/angular\";\nimport { AuthGuard } from \"./shared/authGuard\"\nimport { UserService } from \"./shared/user/user.service\";\nimport { AppComponent } from \"./app.component\";\nimport { routes, navigatableComponents } from \"./app.routing\";\n\n@NgModule({\n  providers: [ \n    AuthGuard,\n    UserService\n  ],\n  imports: [\n    NativeScriptModule,\n    NativeScriptFormsModule,\n    NativeScriptHttpModule,\n    NativeScriptRouterModule,\n    NativeScriptRouterModule.forRoot(routes),\n    NativeScriptUIListViewModule\n  ],\n  declarations: [\n    AppComponent,\n    ...navigatableComponents\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>Anyone know what am i doing wrong?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "is_accepted": true, "score": 5, "last_activity_date": 1537365585, "last_edit_date": 1537365585, "creation_date": 1537364946, "answer_id": 52407470, "question_id": 52407418, "link": "https://stackoverflow.com/questions/52407418/angular-explanation-parameter-type-on-class-httpparams-param-string-string/52407470#52407470", "title": "Angular: Explanation parameter type on class HttpParams [param: string]: string | string[];", "body": "<p>It's an optional parameter in the options argument of the constructor.\nIt means options (that's passed in the constructor) can have a <code>fromObject</code> property (it's not mandatory). If it's present, it must be a map where the key is a string and the value is either string or a string array (<code>string|string[]</code>), or it can also be <code>undefined</code>.</p>\n\n<p>So the following are valid</p>\n\n<pre><code>const params = new HttpParams({fromObject: {bla: 'test'}});\nconst params = new HttpParams({fromObject: {bla: ['test1', 'test2']}});\nconst params = new HttpParams({fromObject: undefined});\nconst params = new HttpParams({});\n</code></pre>\n\n<p>this is not valid:</p>\n\n<pre><code>const params = new HttpParams({fromObject: 'this will fail'});\n</code></pre>\n"}], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 52407470, "answer_count": 1, "score": 2, "last_activity_date": 1537367026, "creation_date": 1537364760, "last_edit_date": 1537367026, "question_id": 52407418, "link": "https://stackoverflow.com/questions/52407418/angular-explanation-parameter-type-on-class-httpparams-param-string-string", "title": "Angular: Explanation parameter type on class HttpParams [param: string]: string | string[];", "body": "<p>I'm using HttpParams that is the following constructor:</p>\n\n<pre><code>constructor(options?: {\n        fromString?: string | undefined;\n        fromObject?: {\n            [param: string]: string | string[];\n        } | undefined;\n        encoder?: HttpParameterCodec | undefined;\n});\n</code></pre>\n\n<p>Can anyone explane me the meaning fromObject parameter and how to use it?</p>\n\n<pre><code>romObject?: {\n     [param: string]: string | string[];\n} | undefined;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1537364858, "post_id": 52407350, "comment_id": 91758481, "body": "<a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">Index Types</a>"}], "answers": [{"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 2, "last_activity_date": 1537364717, "creation_date": 1537364717, "answer_id": 52407401, "question_id": 52407350, "link": "https://stackoverflow.com/questions/52407350/typescript-use-keys-as-restriction-for-strings/52407401#52407401", "title": "typescript use keys as restriction for strings", "body": "<p>You can use <a href=\"https://github.com/Microsoft/TypeScript/wiki/What%27s-new-in-TypeScript#keyof-and-lookup-types\" rel=\"nofollow noreferrer\"><code>keyof</code></a> operator:</p>\n\n<pre><code>type AddressKey = keyof Address\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1537364723, "creation_date": 1537364723, "answer_id": 52407404, "question_id": 52407350, "link": "https://stackoverflow.com/questions/52407350/typescript-use-keys-as-restriction-for-strings/52407404#52407404", "title": "typescript use keys as restriction for strings", "body": "<p>Typescript has the <code>keyof</code> type operator for this exact specific case:</p>\n\n<pre><code>function useKey(key: keyof Address ) {\n}\n</code></pre>\n\n<p>This will give you all the public keys of a type in a union.</p>\n\n<p>You can use type queries to even get to the type of the filed:</p>\n\n<pre><code>function getValue&lt;K extends keyof Address&gt;(key: K): Address[K]{\n     //...\n}\n</code></pre>\n"}], "owner": {"reputation": 9158, "user_id": 5661749, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/bfce0337e55d86e870cf19cfc9e7226c?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5661749/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 52407404, "answer_count": 2, "score": 3, "last_activity_date": 1537364723, "creation_date": 1537364599, "question_id": 52407350, "link": "https://stackoverflow.com/questions/52407350/typescript-use-keys-as-restriction-for-strings", "title": "typescript use keys as restriction for strings", "body": "<p>I have the following interface:</p>\n\n<pre><code>interface Address {\n   street: string\n   town: string\n   country: string\n}\n</code></pre>\n\n<p>I want a function to accept a key parameter that has to be one of three strings:</p>\n\n<pre><code>function useKey(key: \"street\" | \"town\" | \"country\") {\n}\n</code></pre>\n\n<p>Can I somehow generate the type for the key parameter from the interface?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1953, "user_id": 3741957, "user_type": "registered", "profile_image": "https://graph.facebook.com/1718067100/picture?type=large", "display_name": "JanS", "link": "https://stackoverflow.com/users/3741957/jans"}, "edited": false, "score": 2, "creation_date": 1537363937, "post_id": 52407045, "comment_id": 91757870, "body": "does anything prevent you from putting function references directly into your elements and doing e.g. <code>(click) = &quot;action.fn()&quot;</code>?"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 1, "creation_date": 1537364075, "post_id": 52407045, "comment_id": 91757964, "body": "Why are you using the word <code>this</code> in the html?"}, {"owner": {"reputation": 245, "user_id": 7360695, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5ba260c91ea10f26485623058a28e4fc?s=128&d=identicon&r=PG&f=1", "display_name": "Battalgazi", "link": "https://stackoverflow.com/users/7360695/battalgazi"}, "reply_to_user": {"reputation": 1953, "user_id": 3741957, "user_type": "registered", "profile_image": "https://graph.facebook.com/1718067100/picture?type=large", "display_name": "JanS", "link": "https://stackoverflow.com/users/3741957/jans"}, "edited": false, "score": 0, "creation_date": 1537364196, "post_id": 52407045, "comment_id": 91758042, "body": "@JanS thank you! , i tried that without success because i wasnt using the right syntax when writting the function. Now it is working."}, {"owner": {"reputation": 245, "user_id": 7360695, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5ba260c91ea10f26485623058a28e4fc?s=128&d=identicon&r=PG&f=1", "display_name": "Battalgazi", "link": "https://stackoverflow.com/users/7360695/battalgazi"}, "reply_to_user": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1537364248, "post_id": 52407045, "comment_id": 91758075, "body": "@Patricio Vargas it was an example i found somewhere... i was just trying different syntax"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1537364314, "post_id": 52407045, "comment_id": 91758115, "body": "okay, I&#39;m gonna work on this right now. I will let you know if I figure it out"}, {"owner": {"reputation": 1953, "user_id": 3741957, "user_type": "registered", "profile_image": "https://graph.facebook.com/1718067100/picture?type=large", "display_name": "JanS", "link": "https://stackoverflow.com/users/3741957/jans"}, "edited": false, "score": 0, "creation_date": 1537364317, "post_id": 52407045, "comment_id": 91758120, "body": "iirc <code>this</code> worked in AngularJS"}, {"owner": {"reputation": 245, "user_id": 7360695, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5ba260c91ea10f26485623058a28e4fc?s=128&d=identicon&r=PG&f=1", "display_name": "Battalgazi", "link": "https://stackoverflow.com/users/7360695/battalgazi"}, "reply_to_user": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 1, "creation_date": 1537364435, "post_id": 52407045, "comment_id": 91758202, "body": "@Patricio Vargas It is already solved, the way JanS proposes is good for me"}], "answers": [{"tags": [], "owner": {"reputation": 475, "user_id": 5011810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd96049d00de5d48bbdaead4a47f79b2?s=128&d=identicon&r=PG&f=1", "display_name": "Chiffie", "link": "https://stackoverflow.com/users/5011810/chiffie"}, "is_accepted": false, "score": 1, "last_activity_date": 1537364478, "creation_date": 1537364478, "answer_id": 52407312, "question_id": 52407045, "link": "https://stackoverflow.com/questions/52407045/ngfor-with-dynamic-function-calls/52407312#52407312", "title": "ngFor with dynamic function calls", "body": "<p>I created <a href=\"https://codepen.io/anon/pen/yxGXgB\" rel=\"nofollow noreferrer\">pen</a> with your code and it works. Also i added another <code>switch/case</code> approach.</p>\n\n<pre><code>@Component({\n  selector: 'my-app',\n  template: `\n    &lt;li *ngFor=\"let action of actionsArray\"&gt;\n        &lt;button (click) =\"[action.name]()\"&gt; {{action.name}} &lt;/button&gt;\n        &lt;button (click) =\"callAction(action.name)\"&gt; {{action.name}} &lt;/button&gt;\n    &lt;/li&gt;\n  `\n})\nclass AppComponent {  \n  actionsArray: {name: string, enabled: boolean}[] = [{name:\"save\",enabled:true},{name:\"describe\",enabled:true},{name:\"delete\",enabled:true}]\n\n  callAction(actionName: string) {\n    switch(actionName){\n      case 'save' : return this.save();\n      case 'describe' : return this.describe();\n      case 'delete' : return this.delete();\n    }\n  }\n\n  save() {\n    alert('save');\n  }\n\n  describe() {\n    alert('describe');\n  }\n\n  delete() {\n    alert('delete');\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 7360695, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5ba260c91ea10f26485623058a28e4fc?s=128&d=identicon&r=PG&f=1", "display_name": "Battalgazi", "link": "https://stackoverflow.com/users/7360695/battalgazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537364478, "creation_date": 1537363709, "question_id": 52407045, "link": "https://stackoverflow.com/questions/52407045/ngfor-with-dynamic-function-calls", "title": "ngFor with dynamic function calls", "body": "<p>i have an array of objects called 'Action'. Every Action has 2 parameter: the function name and a boolean (which is not important now).</p>\n\n<pre><code>let  actionsArray: Action[] = [{name:\"save\",enabled:true},{name:\"describe\",enabled:true},{name:\"delete\",enabled:true}]\n</code></pre>\n\n<p>I use then ngFor to show a list of the functions. What i want to do is to bind the \"click\" event of every Action to its function dynamically.</p>\n\n<pre><code>&lt;li *ngFor=\"let action of actionsArray\"&gt;\n        &lt;button (click) =\"this[action.name]()\"&gt; {{action.name}} &lt;/button&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>I tried many ways without any success.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "generic-programming"], "comments": [{"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1537363588, "post_id": 52406853, "comment_id": 91757636, "body": "Try to avoid using <code>any </code> at best. I also do not understand why you use type hinting in your tokenMapper. What do you want to achieve?"}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1537363721, "post_id": 52406853, "comment_id": 91757719, "body": "What type does your <code>apiResult</code> have?"}, {"owner": {"reputation": 272, "user_id": 9730660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VtFxA.png?s=128&g=1", "display_name": "AdMer", "link": "https://stackoverflow.com/users/9730660/admer"}, "reply_to_user": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1537363847, "post_id": 52406853, "comment_id": 91757807, "body": "@k0pernikus I&#39;d create a generic micro application where we could parse result from api token request to a personal interface"}, {"owner": {"reputation": 272, "user_id": 9730660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VtFxA.png?s=128&g=1", "display_name": "AdMer", "link": "https://stackoverflow.com/users/9730660/admer"}, "reply_to_user": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1537363917, "post_id": 52406853, "comment_id": 91757857, "body": "@k0pernikus I don&#39;t know, that&#39;s to goal of my parser, filter informations from a request and keep token string and when it will expire"}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1537363971, "post_id": 52406853, "comment_id": 91757896, "body": "Why not create an Interface directly for your <code>apiResponse</code>?"}, {"owner": {"reputation": 272, "user_id": 9730660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VtFxA.png?s=128&g=1", "display_name": "AdMer", "link": "https://stackoverflow.com/users/9730660/admer"}, "reply_to_user": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1537364171, "post_id": 52406853, "comment_id": 91758022, "body": "Because I don&#39;t know if the informations fetched from the back will always have an identical shape, it could come from a personal DB, AzureAD, ..."}], "answers": [{"comments": [{"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "reply_to_user": {"reputation": 272, "user_id": 9730660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VtFxA.png?s=128&g=1", "display_name": "AdMer", "link": "https://stackoverflow.com/users/9730660/admer"}, "edited": false, "score": 0, "creation_date": 1537374645, "post_id": 52407255, "comment_id": 91764576, "body": "@AdMer Please add in the comment or as an answer of your own what you did change so that it now fits your use-case, so that others with a similar problem may benefit from it as well."}, {"owner": {"reputation": 272, "user_id": 9730660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VtFxA.png?s=128&g=1", "display_name": "AdMer", "link": "https://stackoverflow.com/users/9730660/admer"}, "reply_to_user": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1537429410, "post_id": 52407255, "comment_id": 91783203, "body": "@k0pernikus sure i just did it"}], "tags": [], "owner": {"reputation": 73304, "user_id": 724626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e34d95a3eb52b24fe78d772dc614bddb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/724626/joe"}, "is_accepted": true, "score": 4, "last_activity_date": 1537364330, "creation_date": 1537364330, "answer_id": 52407255, "question_id": 52406853, "link": "https://stackoverflow.com/questions/52406853/typescript-cant-implement-generic-function-interface/52407255#52407255", "title": "Typescript Can&#39;t implement generic function interface", "body": "<p>I believe you can accomplish your typing with a generic interface <code>ITokenMapper&lt;T&gt;</code></p>\n\n<pre><code>interface IToken {\n    token: string;\n    expires: number;\n}\n\ninterface ITokenMapper&lt;T&gt; {\n    (apiResult: T): T;\n}\n\nconst tokenMapper: ITokenMapper&lt;IToken&gt; = function (apiResult) {\n    if(apiResult.token &amp;&amp; apiResult.expires) {\n      return { token: apiResult.token as string, expires: apiResult.expires as number};\n    }\n\n    throw new Error('Unable to parse token');\n};\n</code></pre>\n\n<p>From: <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html#generic-types\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/generics.html#generic-types</a></p>\n"}, {"tags": [], "owner": {"reputation": 272, "user_id": 9730660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VtFxA.png?s=128&g=1", "display_name": "AdMer", "link": "https://stackoverflow.com/users/9730660/admer"}, "is_accepted": false, "score": 2, "last_activity_date": 1537429397, "creation_date": 1537429397, "answer_id": 52420049, "question_id": 52406853, "link": "https://stackoverflow.com/questions/52406853/typescript-cant-implement-generic-function-interface/52420049#52420049", "title": "Typescript Can&#39;t implement generic function interface", "body": "<p>So here is what I changed to make it work</p>\n\n<p><strong>ITokenMapper.ts -> IMapper.ts</strong> renamed and updated</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export type IMapper&lt;T&gt; = (apiResult: any) =&gt; T;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>tokenMapper.ts -> abpTokenMapper.ts</strong> renamed and updated</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { IMapper } from \"../../utils/IMapper\";\r\nimport { IToken } from \"../interfaces/IToken\";\r\n\r\nexport const abpTokenMapper: IMapper&lt;IToken&gt; = (apiResult: any) =&gt; {\r\n  if (apiResult.accessToken &amp;&amp; apiResult.expireInSeconds) {\r\n    return { token: apiResult.accessToken as string, expires: apiResult.expireInSeconds as number }\r\n  }\r\n  throw new Error('Unable to parse token');\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 272, "user_id": 9730660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VtFxA.png?s=128&g=1", "display_name": "AdMer", "link": "https://stackoverflow.com/users/9730660/admer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 907, "favorite_count": 0, "accepted_answer_id": 52407255, "answer_count": 2, "score": 0, "last_activity_date": 1537429397, "creation_date": 1537363222, "last_edit_date": 1537363613, "question_id": 52406853, "link": "https://stackoverflow.com/questions/52406853/typescript-cant-implement-generic-function-interface", "title": "Typescript Can&#39;t implement generic function interface", "body": "<p>I'm trying to implement a generic function interface and I cannot make it work.</p>\n\n<p><strong>IToken.ts</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export interface IToken {\r\n  token: string;\r\n  expires: number;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>ITokenMapper.ts</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export interface ITokenMapper {\r\n  &lt;T&gt;(apiResult: any): T;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>tokenMapper.ts</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {ITokenMapper} from \"./interfaces/ITokenMapper\";\r\nimport {IToken} from \"./interfaces/IToken\";\r\n\r\nexport const tokenMapper: ITokenMapper = function &lt;IToken&gt;(apiResult: any): IToken {\r\n  if(apiResult.token &amp;&amp; apiResult.expires) {\r\n    return {token: apiResult.token as string, expires: apiResult.expires as number}\r\n  }\r\n  throw new Error('Unable to parse token');\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is a screenshot from <code>tokenMapper.ts</code> saying IToken import is unused but I should have a use for it:</p>\n\n<p><img src=\"https://i.stack.imgur.com/hVp2r.png\" alt=\"tokenMapper.ts\"></p>\n\n<p>Edit : Using Typescript 3.0.3</p>\n"}, {"tags": ["angular", "typescript", "angular-decorator"], "comments": [{"owner": {"reputation": 1282, "user_id": 5842628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5115f168f54fb2bc2a86b5803acd7e18?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Hamel", "link": "https://stackoverflow.com/users/5842628/jonathan-hamel"}, "edited": false, "score": 0, "creation_date": 1537363497, "post_id": 52406675, "comment_id": 91757574, "body": "Maybe this could help: <a href=\"https://stackoverflow.com/questions/48888079/angular-4-custom-decorator-injecting-services\" title=\"angular 4 custom decorator injecting services\">stackoverflow.com/questions/48888079/&hellip;</a>"}, {"owner": {"reputation": 10679, "user_id": 1015648, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7261d414a78ed3118aa86a5e0c8a93d1?s=128&d=identicon&r=PG", "display_name": "Murhaf Sousli", "link": "https://stackoverflow.com/users/1015648/murhaf-sousli"}, "reply_to_user": {"reputation": 1282, "user_id": 5842628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5115f168f54fb2bc2a86b5803acd7e18?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Hamel", "link": "https://stackoverflow.com/users/5842628/jonathan-hamel"}, "edited": false, "score": 0, "creation_date": 1537372719, "post_id": 52406675, "comment_id": 91763489, "body": "@JonathanHamel I checked it already, but it did not work"}], "answers": [{"comments": [{"owner": {"reputation": 10679, "user_id": 1015648, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7261d414a78ed3118aa86a5e0c8a93d1?s=128&d=identicon&r=PG", "display_name": "Murhaf Sousli", "link": "https://stackoverflow.com/users/1015648/murhaf-sousli"}, "edited": false, "score": 1, "creation_date": 1537372586, "post_id": 52407062, "comment_id": 91763402, "body": "I tried this, I am getting <code>Property &#39;injector&#39; does not exist on type &#39;typeof CollectionModule&#39;.</code> on <code>CollectionModule.injector</code>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1537363752, "creation_date": 1537363752, "answer_id": 52407062, "question_id": 52406675, "link": "https://stackoverflow.com/questions/52406675/create-custom-decorator-in-angular/52407062#52407062", "title": "Create custom decorator in angular", "body": "<p>The value you return from a field decorator will not be used as the value for the field as you asume. </p>\n\n<p>You can change the field to a property in the decorator by returning a property descriptor which will do the call to get the value of the property.</p>\n\n<pre><code>export function Collection(endpoint: string) {\n  return function (constructor: Object, propertyName: string) {\n    let descriptor: PropertyDescriptor = {\n      get(this: any){\n        const mainService = this[\"_\" + propertyName] || (this[\"_\" + propertyName] =  CollectionModule.injector.get(MainService);\n        return mainService\n      }\n    }\n    return descriptor\n  };\n}\n</code></pre>\n"}], "owner": {"reputation": 10679, "user_id": 1015648, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7261d414a78ed3118aa86a5e0c8a93d1?s=128&d=identicon&r=PG", "display_name": "Murhaf Sousli", "link": "https://stackoverflow.com/users/1015648/murhaf-sousli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2576, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537373358, "creation_date": 1537362710, "last_edit_date": 1537373358, "question_id": 52406675, "link": "https://stackoverflow.com/questions/52406675/create-custom-decorator-in-angular", "title": "Create custom decorator in angular", "body": "<p>I am trying to create custom decorators that returns a new instance of a class and this class must be created from an injected service which I can't figure out how to access it from the decorator function</p>\n\n<p><strong>Custom decorator</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function Collection(endpoint: string) {\n  return function (constructor: any) {\n    const mainService = CollectionModule.injector.get(MainService);\n    return mainService.getCollection(endpoint);\n  };\n}\n</code></pre>\n\n\n\n<p>I want to access <code>MainService</code> from my custom decorator which I tried using the module but the <code>injector</code> property does not exist!</p>\n\n<p><strong>The service</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable()\nexport class MainService {\n\n  config;\n\n  getCollection(endpoint: string): Collection {\n    return new Collection(endpoint, this.config);\n  }\n}\n</code></pre>\n\n\n\n<p><strong>Expected Usage</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class AppComponent implements OnInit {\n\n  @Collection('posts') postsCollection;\n\n\n  ngOnInit() {\n     console.log(this.postsCollection);\n  }\n}\n</code></pre>\n\n\n\n<h3>Update</h3>\n\n<p>Here is a <a href=\"https://stackblitz.com/edit/angular-e2ynfa?file=src%2Fapp%2Fcollection%2Fcollection.service.ts\" rel=\"nofollow noreferrer\">stackblitz reproduction</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "reactivex"], "comments": [{"owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "edited": false, "score": 0, "creation_date": 1537362824, "post_id": 52406464, "comment_id": 91757138, "body": "Is it not better that you let the application change the status and you just do valueChanges?"}, {"owner": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "edited": false, "score": 1, "creation_date": 1537362827, "post_id": 52406464, "comment_id": 91757139, "body": "Please show some source code that explains the different steps and the initial status."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1537363310, "post_id": 52406464, "comment_id": 91757435, "body": "That&#39;s really hard to understand what is the issue here. You can use for example <code>BehaviorSubject</code> for each step... but it really depends on how you want to implement this."}], "owner": {"reputation": 93, "user_id": 8462316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ba28342ff42b33fb8153f4397f1e7f?s=128&d=identicon&r=PG&f=1", "display_name": "Etibu", "link": "https://stackoverflow.com/users/8462316/etibu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537428972, "creation_date": 1537361991, "last_edit_date": 1537428972, "question_id": 52406464, "link": "https://stackoverflow.com/questions/52406464/let-observables-emit-first-status-than-wait-for-previous-ones-to-complete", "title": "Let Observables emit first &quot;status&quot; than wait for previous ones to complete", "body": "<p>i want to achieve the following:\nI have multiple steps in an initialization, where each step is an observable.\nEach step should update his status via a <strong>next()</strong> call, which content is displayed in an Angular template.</p>\n\n<p>They should be executed in sequential order since each steps relies on the step before. </p>\n\n<p>The problem is that all steps should have an initial status, so that the user can at least see all steps even if they observables are not subscribed to yet. </p>\n\n<p>Is there a way to achieve this ? Or do i need to seperate the observable from the displayed data and change that data on each <strong>next()</strong> call ?</p>\n\n<p>Edit: \nSince it seems hard to understand what i want to achieve i try to explain it as an example:\nMy initialization has 3 steps. <em>Task 1</em>, <em>Task 2</em>, <em>Task 3</em>. For each task a row in the html is displayed with the description of the task and the status (for example <em>in progress</em> or <em>complete</em>). The description of each task should of course be visible from the very beginning even if some tasks are not yet subscribed to. As soon as the previous task is finished, the next task should start. The update to the task should be delivered via the <strong>next()</strong> call in each Observable.</p>\n\n<p>Edit2: Here is some code with a basic solution:</p>\n\n<pre><code>// This is how a basic task should look like\ninterface Task {\n     description: string,\n     progressMessage: string,\n     status: 'running' | 'idle' | 'complete',\n     children: Task[],\n     task: Observable&lt;TaskStatus&gt;\n}\n// This should be the format of each next call\ninterface TaskStatus {\n    progressMessage?: string,\n    status?: 'running' | 'idle' | 'complete'\n}\n// Wait for each task, on complete run next one, is there a better way ?\nprivate async runTasks(): Promise&lt;void&gt; {\n    for (let task of this.tasks) {\n        await new Promise((resolve, reject) =&gt; {\n            task.task.subscribe({\n                next: (taskStatus: TaskStatus) =&gt; {\n                    if (taskStatus.status) {\n                        task.status = taskStatus.status;\n                    }\n                    if (taskStatus.progressMessage) {\n                        task.progressMessage = taskStatus.progressMessage;\n                    }\n                },\n                error: (error: Error) =&gt; {\n                    console.log(error);\n                    reject(error);\n                },\n                complete: () =&gt; resolve()\n            });\n        });\n    }\n}\nprivate registerNewTask(description: string, taskFactory: () =&gt; Observable&lt;TaskStatus&gt;): void {\n    const taskObservable: Observable&lt;TaskStatus&gt; = taskFactory();\n    const newTask: Task = {\n        description: description,\n        progressMessage: '',\n        status: 'idle',\n        children: [],\n        task: taskObservable\n    };\n    this.tasks.push(newTask);\n}\nprivate task1(): Observable&lt;TaskStatus&gt; {\n    return Observable.create((observer: Observer&lt;TaskStatus&gt;) =&gt; {\n        observer.next({ progressMessage: 'Started', status: 'running' });\n        setTimeout(() =&gt; {\n            observer.next({ progressMessage: 'Finished', status: 'complete' });\n            observer.complete();\n        }, 10000);\n    });\n}\n\nprivate task2(): Observable&lt;TaskStatus&gt; {\n    return Observable.create((observer: Observer&lt;TaskStatus&gt;) =&gt; {\n        observer.next({ progressMessage: 'Started', status: 'running' });\n        setTimeout(() =&gt; {\n            observer.next({ progressMessage: 'Finished', status: 'complete' });\n            observer.complete()\n        }, 10000);\n    });\n}\n</code></pre>\n\n<p>This is the only way i found until now. Is there a better way to handle the execution of the tasks ? <em>concat</em> seems not work since i need to have access to the whole <em>Task</em> object in the <em>next()</em> call of the subscription, so i need to manually iterate each one and wait with a promise.</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10385757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fSRA1ldC39E/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWfjDsqG4-AM8togLFXivv7Qe7t8w/mo/photo.jpg?sz=128", "display_name": "Rachit Losalka", "link": "https://stackoverflow.com/users/10385757/rachit-losalka"}, "edited": false, "score": 0, "creation_date": 1537390170, "post_id": 52406751, "comment_id": 91771744, "body": "Mergemap is used to make two simultaneous calls as far as I know. Not sure about flatMap/switchMap, though. Also, i need to manipulate my data from get and then feed it to the post call. So that requires some extra manipulation which I don\u2019t think is recommended in operators like map(made for minor filtering/updation) of data!"}, {"owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "edited": false, "score": 0, "creation_date": 1537421828, "post_id": 52406751, "comment_id": 91779568, "body": "<code>mergeMap</code> is just the new name of <code>flatMap</code>. within <code>mergeMap</code> you can do the manipulations you want. Otherwise, if you prefer this style, use <code>http.get(data).map(res =&gt; &#47;&#47; do the manipulations).flatMap(res =&gt; {     return http.post(data); })</code>"}], "tags": [], "owner": {"reputation": 331, "user_id": 8409699, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5SAmoVefdfo/AAAAAAAAAAI/AAAAAAAAAKw/LmbRaLylGGc/photo.jpg?sz=128", "display_name": "Mahendra Hirapra", "link": "https://stackoverflow.com/users/8409699/mahendra-hirapra"}, "is_accepted": false, "score": 4, "last_activity_date": 1537364316, "last_edit_date": 1537364316, "creation_date": 1537362927, "answer_id": 52406751, "question_id": 52406446, "link": "https://stackoverflow.com/questions/52406446/make-one-http-call-based-on-previous-result/52406751#52406751", "title": "Make one http call based on previous&#39; result", "body": "<p>You can use the <a href=\"https://www.learnrxjs.io/operators/transformation/mergemap.html\" rel=\"nofollow noreferrer\"><code>flatMap/mergeMap</code></a> operator to make two HTTP requests, one depending on the other.</p>\n\n<p>Like:</p>\n\n<pre><code>http.get(data).flatMap(res =&gt; {\n    // res is response of Get\n    // manipulate the data and passed in post call\n    return http.post(data);\n})\n.map(res =&gt; {})\n.catch(e =&gt; {});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 10385757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fSRA1ldC39E/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWfjDsqG4-AM8togLFXivv7Qe7t8w/mo/photo.jpg?sz=128", "display_name": "Rachit Losalka", "link": "https://stackoverflow.com/users/10385757/rachit-losalka"}, "edited": false, "score": 0, "creation_date": 1537390974, "post_id": 52406854, "comment_id": 91772054, "body": "I think this would work. Thanks mate! Also, i want the POST data(which is returned) in a component. So i am thinking of using a resolver to fetch the data(the main() function would be in it)! But is it recommended to have that kind of data manipulation in a resolver? Or as you used in the post call( since its gonna be in service.ts file where data manipulation is not recommended )?"}], "tags": [], "owner": {"reputation": 6712, "user_id": 9483405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ec19c15095a06428d49156fda4c481a?s=128&d=identicon&r=PG", "display_name": "Yanis-git", "link": "https://stackoverflow.com/users/9483405/yanis-git"}, "is_accepted": false, "score": 0, "last_activity_date": 1537363223, "creation_date": 1537363223, "answer_id": 52406854, "question_id": 52406446, "link": "https://stackoverflow.com/questions/52406446/make-one-http-call-based-on-previous-result/52406854#52406854", "title": "Make one http call based on previous&#39; result", "body": "<p>i have prepare this dummy service :</p>\n\n<pre><code>import {of, Observable} from 'rxjs';\nimport {flatMap} from 'rxjs/operators';\n/**\n * Dummy get observable.\n */\nexport class MyService {\n\n  getInformation$(): Observable&lt;{foo:string}&gt; {\n    return of({foo:'bar'});\n  }\n\n  postInformation$(params:{foo:string}): Observable&lt;any&gt; {\n    return of({\n      fooUpperCase: params.foo.toUpperCase() // Stupid transformation for demonstration only\n    });\n  }\n\n  main() {\n    this.getInformation$().pipe(\n      flatMap(data =&gt; this.postInformation$(data)) // receive each next and return new observable. \n    ).subscribe(console.log);\n  }\n}\n\nnew MyService().main();\n</code></pre>\n\n<p>For demonstration only, i have switch http observable to dummy <code>of</code> observable.</p>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-gziywe\" rel=\"nofollow noreferrer\">live sample</a></p>\n"}], "owner": {"reputation": 9, "user_id": 10385757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fSRA1ldC39E/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWfjDsqG4-AM8togLFXivv7Qe7t8w/mo/photo.jpg?sz=128", "display_name": "Rachit Losalka", "link": "https://stackoverflow.com/users/10385757/rachit-losalka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 962, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1537364316, "creation_date": 1537361924, "last_edit_date": 1537362123, "question_id": 52406446, "link": "https://stackoverflow.com/questions/52406446/make-one-http-call-based-on-previous-result", "title": "Make one http call based on previous&#39; result", "body": "<p>I need to make two HTTP calls (first GET and second POST), the second based on result of the first.</p>\n\n<p>Here's the response from the GET:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n    \"weekNbr\": \"34-2017\",\n    \"startDate\": \"2017-09-16\",\n    \"endDate\": \"2017-09-22\"\n}\n</code></pre>\n\n<p>This response will then be manipulated and sent as a POST request with the following JSON:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n    \"weekNbr\": 34, (as received above)\n    \"year\": 2017 (as received above)\n}\n</code></pre>\n\n<p>One Solution:</p>\n\n<pre><code>http.get(url1).pipe(\n    map(do your maipulation)\n).subscribe(\n    (newlyCreatedObject) =&gt; {\n        return http.post(url2,newlyCreatedObject);\n    }\n);\n</code></pre>\n\n<p>But I don't think it's the correct way.</p>\n\n<p><strong>NOTE:</strong>\nThese calls are supposed to be made in a single service. If there are any rxjs operators to do the same, it'd be highly appreciated.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 2122, "user_id": 4183352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Kfzk.png?s=128&g=1", "display_name": "cymruu", "link": "https://stackoverflow.com/users/4183352/cymruu"}, "is_accepted": false, "score": 0, "last_activity_date": 1537361999, "creation_date": 1537361999, "answer_id": 52406468, "question_id": 52406420, "link": "https://stackoverflow.com/questions/52406420/properties-not-visible-when-logging-an-typescript-object-in-console/52406468#52406468", "title": "Properties not visible when logging an typescript object in console", "body": "<p>You simply defined what properties the class could have. To initialize it with values use constructor method</p>\n\n<pre><code>class student {\n    name: string;\n    constructor(name: string) {\n        this.name= message;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4523, "user_id": 2587505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/420ced8f2b2cf49afc3302ec25690b29?s=128&d=identicon&r=PG", "display_name": "Sai Avinash", "link": "https://stackoverflow.com/users/2587505/sai-avinash"}, "edited": false, "score": 0, "creation_date": 1537362262, "post_id": 52406486, "comment_id": 91756810, "body": "If i want the property to be always present . Do i have to initialize it with undenfined. Is my understanding correct ?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4523, "user_id": 2587505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/420ced8f2b2cf49afc3302ec25690b29?s=128&d=identicon&r=PG", "display_name": "Sai Avinash", "link": "https://stackoverflow.com/users/2587505/sai-avinash"}, "edited": false, "score": 0, "creation_date": 1537362297, "post_id": 52406486, "comment_id": 91756834, "body": "@SaiAvinash, yup you have to explicitly initialize it unfortunately."}, {"owner": {"reputation": 4523, "user_id": 2587505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/420ced8f2b2cf49afc3302ec25690b29?s=128&d=identicon&r=PG", "display_name": "Sai Avinash", "link": "https://stackoverflow.com/users/2587505/sai-avinash"}, "edited": false, "score": 0, "creation_date": 1537362481, "post_id": 52406486, "comment_id": 91756930, "body": "if i want to make it intialized with null or deafult value of its type. Is there any way ?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4523, "user_id": 2587505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/420ced8f2b2cf49afc3302ec25690b29?s=128&d=identicon&r=PG", "display_name": "Sai Avinash", "link": "https://stackoverflow.com/users/2587505/sai-avinash"}, "edited": false, "score": 0, "creation_date": 1537362634, "post_id": 52406486, "comment_id": 91757008, "body": "@SaiAvinash Again no way to do this automatically for  all properties, you need to explicitly assign them (<code>public class student {   name: string =  null; }</code>. As for the default of a type, Javascript has no such concept, and Typescript tries to avoid adding expression level syntax, so you need to set the value explicitly  to whatever default you want."}, {"owner": {"reputation": 4523, "user_id": 2587505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/420ced8f2b2cf49afc3302ec25690b29?s=128&d=identicon&r=PG", "display_name": "Sai Avinash", "link": "https://stackoverflow.com/users/2587505/sai-avinash"}, "edited": false, "score": 0, "creation_date": 1537363283, "post_id": 52406486, "comment_id": 91757415, "body": "Thanks for your inputs ."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1537362048, "creation_date": 1537362048, "answer_id": 52406486, "question_id": 52406420, "link": "https://stackoverflow.com/questions/52406420/properties-not-visible-when-logging-an-typescript-object-in-console/52406486#52406486", "title": "Properties not visible when logging an typescript object in console", "body": "<p>Declaring a property on a typescript class (if not initialized to anything) is just a declaration that will have no runtime behavior. We are just telling the compiler that the property is allowed to exists so we can then use it (as you do in your second sample).</p>\n\n<p>This becomes evident if we look at the generated js (for es5):</p>\n\n<p>TS: </p>\n\n<pre><code>public class student\n{\n  name: string;\n  lastName : string = \"\"\n}\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>var student = /** @class */ (function () {\n    function student() {\n        this.lastName = \"\"; // just the initialized property \n    }\n    return student;\n}());\n</code></pre>\n\n<p>If you want to always have the property present assign it a default, if only <code>undefined</code></p>\n\n<pre><code>public class student\n{\n  name: string =  undefined;\n  lastName : string = \"\"\n}\nlet s=new student();\nconsole.log(s); // now we have student\u00a0{name: undefined, lastName: \"\"}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14811, "user_id": 4574281, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/gSI2p.png?s=128&g=1", "display_name": "WasiF", "link": "https://stackoverflow.com/users/4574281/wasif"}, "is_accepted": false, "score": 0, "last_activity_date": 1550067935, "creation_date": 1550067935, "answer_id": 54672515, "question_id": 52406420, "link": "https://stackoverflow.com/questions/52406420/properties-not-visible-when-logging-an-typescript-object-in-console/54672515#54672515", "title": "Properties not visible when logging an typescript object in console", "body": "<p>I had the same issue with <code>MongoDb</code> database. I had different properties in model and schema so <strong>make sure you've same properties</strong></p>\n"}], "owner": {"reputation": 4523, "user_id": 2587505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/420ced8f2b2cf49afc3302ec25690b29?s=128&d=identicon&r=PG", "display_name": "Sai Avinash", "link": "https://stackoverflow.com/users/2587505/sai-avinash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1272, "favorite_count": 0, "accepted_answer_id": 52406486, "answer_count": 3, "score": 0, "last_activity_date": 1550067935, "creation_date": 1537361839, "question_id": 52406420, "link": "https://stackoverflow.com/questions/52406420/properties-not-visible-when-logging-an-typescript-object-in-console", "title": "Properties not visible when logging an typescript object in console", "body": "<p>I am creating a class in typescript . Then i have created an object for the class and i have not initialized any of the properties . I have console logged it and found that the object has no properties in it .</p>\n\n<pre><code>public class student\n{\nname:string ;\n}\n\nlet s=new student();\n\nconsole.log(s); --&gt; This gives empty object with no properties . This should actually give an object with all \n</code></pre>\n\n<p>properties with empty or null values </p>\n\n<pre><code>let s=new student();\ns.name=\"Avinash\"\n\nconsole.log(s); --&gt; This gives an object with name property and its value \n</code></pre>\n\n<p>Can some one please help me understand this behaviour ?</p>\n"}, {"tags": ["angular", "typescript", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 5, "last_activity_date": 1537635863, "creation_date": 1537635863, "answer_id": 52458933, "question_id": 52406353, "link": "https://stackoverflow.com/questions/52406353/problem-with-defining-multiple-modules-in-angular-typings-d-ts/52458933#52458933", "title": "Problem with defining multiple modules in Angular typings.d.ts", "body": "<p><code>typings.d.ts</code> is treated as an external module because it contains a top-level import.  Hence, every <code>declare module \"...\" { ... }</code> statement in the file is treated as a module augmentation, not an original declaration of a module.  The augmentation of <code>\"*.json\"</code> is discarded because no original declaration of <code>\"*.json\"</code> is available, and unfortunately you don't get an error when this happens in a <code>.d.ts</code> file; I'm unsure if there's a good reason for that.  Putting the <code>declare module \"*.json\"</code> in a file with no top-level imports is the correct solution.  Unfortunately, none of this is properly documented.</p>\n"}], "owner": {"reputation": 4656, "user_id": 3355252, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sCIXA.jpg?s=128&g=1", "display_name": "Robert Kusznier", "link": "https://stackoverflow.com/users/3355252/robert-kusznier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "accepted_answer_id": 52458933, "answer_count": 1, "score": 0, "last_activity_date": 1537635863, "creation_date": 1537361616, "last_edit_date": 1537361925, "question_id": 52406353, "link": "https://stackoverflow.com/questions/52406353/problem-with-defining-multiple-modules-in-angular-typings-d-ts", "title": "Problem with defining multiple modules in Angular typings.d.ts", "body": "<p>Here is my <code>typings.d.ts</code> file from Angular 6 project:</p>\n\n<pre><code>import { Injectable, InjectableDecorator, HostBinding, HostBindingDecorator, HostListener, HostListenerDecorator } from '@angular/core';\n\n// Those decorators are declared with `any` type by default. Because of that\n// `no-unsafe-any` TSLint rule reports errors on for example `@Injectable`\n// decorator. Below declarations fix that.\ndeclare module '@angular/core' {\n    export interface InjectableDecorator {\n        (providedIn?: any | 'root' | null): ClassDecorator;\n    }\n    export const Injectable: InjectableDecorator;\n\n    export interface HostBindingDecorator {\n        (hostPropertyName?: string): PropertyDecorator;\n    }\n    export const HostBinding: HostBindingDecorator;\n\n    export interface HostListenerDecorator {\n        (eventName: string, args?: string[]): MethodDecorator;\n    }\n    export const HostListener: HostListenerDecorator;\n}\n\n// Allows to import JSON files inside TypeScript files\ndeclare module '*.json' {\n    const value: any;\n    export default value;\n}\n</code></pre>\n\n<p>The last declaration for <code>'*.json</code> should allow me to import JSON files inside TypeScript files (more details <a href=\"https://hackernoon.com/import-json-into-typescript-8d465beded79\" rel=\"nofollow noreferrer\">here</a>). It doesn't work - TypeScript compiler reports an error when I'm importing JSON file:</p>\n\n<pre><code>ERROR in src/app/core/internationalization/build-time-translate-loader.ts(8,26): error TS2307: Cannot find module '../../../assets/i18n/translations.json'\n</code></pre>\n\n<p>The weird thing is that as soon as I move <code>declare module '*.json' { ... }</code> part from <code>typings.d.ts</code> to any other <code>.d.ts</code> file, e.g. <code>json.d.ts</code> the compiler stops complaining and JSON is imported properly without errors. The same happens when I move out <code>declare module '@angular/core' { ... }</code> part to another file. It makes me assume the problem is in both declarations coexisting in a single file.</p>\n\n<p>Contrary to that <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow noreferrer\">TypeScript documentation</a> states you can declare multiple modules in a single <code>.d.ts</code> file:</p>\n\n<blockquote>\n  <p>We could define each module in its own .d.ts file with top-level export declarations, but it\u2019s more convenient to write them as one larger .d.ts file. To do so, we use a construct similar to ambient namespaces, but we use the module keyword and the quoted name of the module which will be available to a later import. For example:</p>\n\n<pre><code>declare module \"url\" {\n    export interface Url {\n        protocol?: string;\n        hostname?: string;\n        pathname?: string;\n    }\n\n    export function parse(urlStr: string, parseQueryString?, slashesDenoteHost?): Url;\n}\n\ndeclare module \"path\" {\n    export function normalize(p: string): string;\n    export function join(...paths: any[]): string;\n    export var sep: string;\n}\n</code></pre>\n</blockquote>\n\n<p>Which is exactly what I'm doing. Why it doesn't work, when both <code>declare module</code> are in the same file?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8390826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f269589ebf8ab3d64f00da747ce909?s=128&d=identicon&r=PG&f=1", "display_name": "Edit", "link": "https://stackoverflow.com/users/8390826/edit"}, "edited": false, "score": 0, "creation_date": 1537363493, "post_id": 52406052, "comment_id": 91757570, "body": "I tried to do the same. My screen is still on the bottom.  I get the same behavior in your slackblitz link"}, {"owner": {"reputation": 5704, "user_id": 2134604, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4a199e76bd801ef0f40cdb752ffc145c?s=128&d=identicon&r=PG", "display_name": "Pandiyan Cool", "link": "https://stackoverflow.com/users/2134604/pandiyan-cool"}, "reply_to_user": {"reputation": 53, "user_id": 8390826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f269589ebf8ab3d64f00da747ce909?s=128&d=identicon&r=PG&f=1", "display_name": "Edit", "link": "https://stackoverflow.com/users/8390826/edit"}, "edited": false, "score": 0, "creation_date": 1537365579, "post_id": 52406052, "comment_id": 91758957, "body": "@AndriiKolesnyk By default, I set it to scroll up after init  Try the same link to view the update source.  I have updated the answer for showing the reason of latest change"}, {"owner": {"reputation": 5704, "user_id": 2134604, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4a199e76bd801ef0f40cdb752ffc145c?s=128&d=identicon&r=PG", "display_name": "Pandiyan Cool", "link": "https://stackoverflow.com/users/2134604/pandiyan-cool"}, "reply_to_user": {"reputation": 53, "user_id": 8390826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f269589ebf8ab3d64f00da747ce909?s=128&d=identicon&r=PG&f=1", "display_name": "Edit", "link": "https://stackoverflow.com/users/8390826/edit"}, "edited": false, "score": 0, "creation_date": 1537365641, "post_id": 52406052, "comment_id": 91758998, "body": "If you think the answer is helpful, feel free to accept the answer and upvote it."}], "tags": [], "owner": {"reputation": 5704, "user_id": 2134604, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4a199e76bd801ef0f40cdb752ffc145c?s=128&d=identicon&r=PG", "display_name": "Pandiyan Cool", "link": "https://stackoverflow.com/users/2134604/pandiyan-cool"}, "is_accepted": true, "score": 5, "last_activity_date": 1537365531, "last_edit_date": 1537365531, "creation_date": 1537360655, "answer_id": 52406052, "question_id": 52405999, "link": "https://stackoverflow.com/questions/52405999/scroll-to-element-from-typescript-code-angular-5/52406052#52406052", "title": "Scroll to element from typescript code (angular 5)", "body": "<p>use the power of view child</p>\n\n<pre><code>@ViewChild('scroll', { read: ElementRef }) public scroll: ElementRef&lt;any&gt;;\n\n  ngAfterViewChecked() {\n    this.scrollBottom()\n  }\n\n  public scrollBottom() {\n    this.scroll.nativeElement.scrollTop = this.scroll.nativeElement.scrollHeight;\n  }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-jy8s84?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">slackblitz link</a></p>\n\n<p>html</p>\n\n<pre><code>    &lt;div style=\"height:200px; overflow-y:auto;\" #scroll&gt;\n    &lt;div *ngFor=\"let i of list\"&gt;\n        {{i.name}}\n        &lt;br&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n&lt;button (click)=\"Add()\"&gt;Add&lt;/button&gt;\n\n&lt;button (click)=\"scrollToTop()\"&gt;Scroll to top&lt;/button&gt;\n&lt;button (click)=\"scrollBottom()\"&gt;Scroll to bottom&lt;/button&gt;\n</code></pre>\n\n<p>component</p>\n\n<pre><code>import { Component, ElementRef, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\nexport class AppComponent {\n  @ViewChild('scroll', { read: ElementRef }) public scroll: ElementRef&lt;any&gt;;\n\n\n\n  list = [{ name: 'Nam porta orci sed enim imperdiet, et vulputate erat luctus. Integer a tortor blandit, eleifend velit id, eleifend libero. Quisque quis congue ex, vitae suscipit ipsum. Aliquam felis enim, bibendum vel dolor et, dapibus fringilla felis. Sed magna ipsum, congue molestie nisl non, commodo pellentesque felis. Mauris hendrerit rhoncus turpis, at lacinia metus finibus eget. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam ligula risus, tincidunt ac diam vehicula, fringilla blandit sapien. Ut dictum a nunc id tempus. Nulla sed felis id quam hendrerit volutpat eget at velit. Praesent finibus, mauris ac molestie laoreet, erat est mattis velit, ac tincidunt nulla enim ac felis. In hac habitasse platea dictumst. Nam neque nibh, tempus a velit a, porttitor finibus quam. Nunc pharetra est eget urna mollis, sed facilisis eros pulvinar. Duis ac metus egestas, malesuada ligula eu, congue magna.Nam porta orci sed enim imperdiet, et vulputate erat luctus. Integer a tortor blandit, eleifend velit id, eleifend libero. Quisque quis congue ex, vitae suscipit ipsum. Aliquam felis enim, bibendum vel dolor et, dapibus fringilla felis. Sed magna ipsum, congue molestie nisl non, commodo pellentesque felis. Mauris hendrerit rhoncus turpis, at lacinia metus finibus eget. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam ligula risus, tincidunt ac diam vehicula, fringilla blandit sapien. Ut dictum a nunc id tempus. Nulla sed felis id quam hendrerit volutpat eget at velit. Praesent finibus, mauris ac molestie laoreet, erat est mattis velit, ac tincidunt nulla enim ac felis. In hac habitasse platea dictumst. Nam neque nibh, tempus a velit a, porttitor finibus quam. Nunc pharetra est eget urna mollis, sed facilisis eros pulvinar. Duis ac metus egestas, malesuada ligula eu, congue magna.Nam porta orci sed enim imperdiet, et vulputate erat luctus. Integer a tortor blandit, eleifend velit id, eleifend libero. Quisque quis congue ex, vitae suscipit ipsum. Aliquam felis enim, bibendum vel dolor et, dapibus fringilla felis. Sed magna ipsum, congue molestie nisl non, commodo pellentesque felis. Mauris hendrerit rhoncus turpis, at lacinia metus finibus eget. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam ligula risus, tincidunt ac diam vehicula, fringilla blandit sapien. Ut dictum a nunc id tempus. Nulla sed felis id quam hendrerit volutpat eget at velit. Praesent finibus, mauris ac molestie laoreet, erat est mattis velit, ac tincidunt nulla enim ac felis. In hac habitasse platea dictumst. Nam neque nibh, tempus a velit a, porttitor finibus quam. Nunc pharetra est eget urna mollis, sed facilisis eros pulvinar. Duis ac metus egestas, malesuada ligula eu, congue magna.' }];\n\n\n\n  public Add() {\n    this.list.push({ name: 'Nam porta orci sed enim imperdiet, et vulputate erat luctus. Integer a tortor blandit, eleifend velit id, eleifend libero. Quisque quis congue ex, vitae suscipit ipsum. Aliquam felis enim, bibendum vel dolor et, dapibus fringilla felis. Sed magna ipsum, congue molestie nisl non, commodo pellentesque felis. Mauris hendrerit rhoncus turpis, at lacinia metus finibus eget. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam ligula risus, tincidunt ac diam vehicula, fringilla blandit sapien. Ut dictum a nunc id tempus. Nulla sed felis id quam hendrerit volutpat eget at velit. Praesent finibus, mauris ac molestie laoreet, erat est mattis velit, ac tincidunt nulla enim ac felis. In hac habitasse platea dictumst. Nam neque nibh, tempus a velit a, porttitor finibus quam. Nunc pharetra est eget urna mollis, sed facilisis eros pulvinar. Duis ac metus egestas, malesuada ligula eu, congue magna.' });\n\n    console.log(this.scroll.nativeElement.scrollHeight);\n\n  }\n\n  ngAfterViewChecked() {\n    this.scrollBottom()\n  }\n\n  public scrollBottom() {\n    this.scroll.nativeElement.scrollTop = this.scroll.nativeElement.scrollHeight;\n  }\n\n  public scrollToTop() {\n    this.scroll.nativeElement.scrollTop = 0;\n  }\n}\n</code></pre>\n\n<p>Update 1:</p>\n\n<pre><code>ngAfterViewChecked() {\n    // this.scrollToTop()\n  }\n\n  public scrollBottom() {\n    console.log(this.scroll.nativeElement.scrollTop);\n    this.scroll.nativeElement.scrollTop = this.scroll.nativeElement.scrollHeight;\n\n  }\n</code></pre>\n\n<p>comment out the ngAfterViewChecked()\nyou can able to scroll down </p>\n\n<p>By default, I set it to scroll up after init</p>\n\n<p>Try the same link to view the update source</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8512030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-U9PMhQB_5pU/AAAAAAAAAAI/AAAAAAAAGS4/5bwhjYCr8GE/photo.jpg?sz=128", "display_name": "Felipe Putsch", "link": "https://stackoverflow.com/users/8512030/felipe-putsch"}, "is_accepted": false, "score": 1, "last_activity_date": 1537361241, "creation_date": 1537361241, "answer_id": 52406225, "question_id": 52405999, "link": "https://stackoverflow.com/questions/52405999/scroll-to-element-from-typescript-code-angular-5/52406225#52406225", "title": "Scroll to element from typescript code (angular 5)", "body": "<p>For do this i use vanilla javascript using the Div Height</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>window.scrollTo(0, document.getElementById(\"youDiv\").scrollHeight);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 8390826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f269589ebf8ab3d64f00da747ce909?s=128&d=identicon&r=PG&f=1", "display_name": "Edit", "link": "https://stackoverflow.com/users/8390826/edit"}, "is_accepted": false, "score": 0, "last_activity_date": 1537444861, "creation_date": 1537444861, "answer_id": 52424737, "question_id": 52405999, "link": "https://stackoverflow.com/questions/52405999/scroll-to-element-from-typescript-code-angular-5/52424737#52424737", "title": "Scroll to element from typescript code (angular 5)", "body": "<p>I found another approach to do that. It may be helpful for someone so here is another way: </p>\n\n<h2>component.ts</h2>\n\n<pre><code>  someEvent(event: any): void\n  {\n    this.scrollToAnchor('scrollAnchor');\n  }\n\n  scrollToAnchor(divId: string): void\n  {\n    const element = document.getElementById(divId);\n    if (element)\n    {\n      setTimeout(() =&gt; {\n        element.scrollIntoView(true);\n      }, 0);\n    }\n  }\n</code></pre>\n\n<h2>component.html</h2>\n\n<pre><code>&lt;div id=\"scrollAnchor\"&gt;&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8390826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f269589ebf8ab3d64f00da747ce909?s=128&d=identicon&r=PG&f=1", "display_name": "Edit", "link": "https://stackoverflow.com/users/8390826/edit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 52406052, "answer_count": 3, "score": 3, "last_activity_date": 1537444861, "creation_date": 1537360486, "last_edit_date": 1537361804, "question_id": 52405999, "link": "https://stackoverflow.com/questions/52405999/scroll-to-element-from-typescript-code-angular-5", "title": "Scroll to element from typescript code (angular 5)", "body": "<p>I have div in the middle of the screen. The div contains a submit button. When I click \"submit\" screen location drops to the bottom. I've tried to scroll to the element with window.scrollTo() but it doesn't work. I need to do that from component.ts, I have an event that is called when I press the submit. I will be very grateful for the help. </p>\n"}, {"tags": ["javascript", "typescript", "firebase", "firebase-realtime-database", "google-cloud-functions"], "answers": [{"tags": [], "owner": {"reputation": 2958, "user_id": 7055769, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/37cee50ac5cb90bb2a5ed4c00747337f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Ironside", "link": "https://stackoverflow.com/users/7055769/alex-ironside"}, "is_accepted": true, "score": 2, "last_activity_date": 1537365233, "creation_date": 1537365233, "answer_id": 52407550, "question_id": 52405941, "link": "https://stackoverflow.com/questions/52405941/using-firebase-cloud-functions-to-listen-for-changes-in-the-background/52407550#52407550", "title": "Using firebase cloud functions to listen for changes in the background", "body": "<p>I needed to do it like this</p>\n\n<pre><code>export const onWorkAddition = functions.database.ref('/Works/{workId}').onCreate((snapshot, context) =&gt; {\n    console.log(context.params.workId);\n});\n</code></pre>\n"}], "owner": {"reputation": 2958, "user_id": 7055769, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/37cee50ac5cb90bb2a5ed4c00747337f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Ironside", "link": "https://stackoverflow.com/users/7055769/alex-ironside"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 52407550, "answer_count": 1, "score": 0, "last_activity_date": 1537365233, "creation_date": 1537360300, "question_id": 52405941, "link": "https://stackoverflow.com/questions/52405941/using-firebase-cloud-functions-to-listen-for-changes-in-the-background", "title": "Using firebase cloud functions to listen for changes in the background", "body": "<p>My DB schema is as follows:</p>\n\n<pre><code>\"Works\" : {\n    \"-LLiIlsIS1XJonGRa8j6\" : {\n        \"acceptedDate\" : {\n        },\n        \"answers\" : {\n        },\n        \"category\" : \"matematyka\",\n            \"createDate\" : {\n        },\n        \"creatorID\" : \"KjxVHwUirhUwHRbBDhMCRoHliMQ2\",\n            \"finishDate\" : {\n        },\n        \"firebaseKey\" : \"-LLiIlsIS1XJonGRa8j6\",\n            \"level\" : \"Liceum\",\n            \"number\" : 1,\n            \"pointAmount\" : 8,\n            \"pointBoost\" : 0,\n            \"rated\" : 1,\n            \"reported\" : false,\n            \"solverID\" : \"XKUNXPozOsMM3sgQXY2F5iVMAkZ2\",\n            \"state\" : \"Completed\",\n            \"taskAmount\" : 1,\n            \"workText\" : \"Czy pierwiastek z liczby parzystej zawsze jest liczba parzysta?\"\n    },\n    \"-LLiKGP3Zq1uX3ugRzSF\" : {\n        \"acceptedDate\" : {\n        },\n        \"answers\" : {\n        }\n    },\n    \"available\" : false,\n        \"boostAmount\" : 0,\n        \"category\" : \"matematyka\",\n        \"createDate\" : {\n    },\n    \"creatorID\" : \"KjxVHwUirhUwHRbBDhMCRoHliMQ2\",\n        \"finishDate\" : {\n    },\n    \"firebaseKey\" : \"-LLiKGP3Zq1uX3ugRzSF\",\n        \"level\" : \"Liceum\",\n        \"number\" : 2,\n        \"pointAmount\" : 8,\n        \"pointBoost\" : 0,\n        \"rated\" : 1,\n        \"reported\" : false,\n        \"solverID\" : \"XKUNXPozOsMM3sgQXY2F5iVMAkZ2\",\n        \"state\" : \"Completed\",\n        \"taskAmount\" : 1,\n        \"workText\" : \"Czy pierwiastek z liczby ujemnej zawsze jest liczba ujemna?\"\n}\n</code></pre>\n\n<p>So I want the cloud function to fire up each time a new object is pushed to \"Works\". So far I have this code:</p>\n\n<pre><code>export const onWorkAddition = functions.database.ref('Works').onCreate(snap =&gt; {\n    console.log('new work created');\n    console.log(snap.val());\n});\n</code></pre>\n\n<p>Unfortunately this code doesn't log anything. What am I missing? I am new to cloud functions so if I'm missing something important let me know.</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 6672, "user_id": 2446254, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4SJnD.png?s=128&g=1", "display_name": "Cody \uff27", "link": "https://stackoverflow.com/users/2446254/cody-%ef%bc%a7"}, "edited": false, "score": 0, "creation_date": 1537359825, "post_id": 52405660, "comment_id": 91755284, "body": "Your code looks like it does what you want it to, but if there is an error then there is no <code>try{}catch(e){}</code> for your <code>await Promise.all(...)</code> which might prevent your application from carrying on, depending on the rest of your code."}, {"owner": {"reputation": 2059, "user_id": 7949696, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206392642867400/picture?type=large", "display_name": "James Poag", "link": "https://stackoverflow.com/users/7949696/james-poag"}, "edited": false, "score": 0, "creation_date": 1537359849, "post_id": 52405660, "comment_id": 91755301, "body": "Are you saying that if <code>resolve( )</code> returns an empty object, you want to <code>throw</code> an error and not finish executing the rest of the <code>Promise.all</code> ?  If Yes, then add a <code>.then</code> block after the end of the <code>new Promise</code> check for empty and <code>throw</code> if it is, otherwise return the value."}, {"owner": {"reputation": 43, "user_id": 7078938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wqBVs.jpg?s=128&g=1", "display_name": "Motsane M", "link": "https://stackoverflow.com/users/7078938/motsane-m"}, "edited": false, "score": 0, "creation_date": 1537360612, "post_id": 52405660, "comment_id": 91755750, "body": "I don&#39;t want it to throw an error, as it returning a empty object for the getData wouldn&#39;t be an error. As what is returned(resolved part) can be empty on some cases. Currently I get a <code>TypeError: Cannot read property &#39;map&#39; of undefined</code> as the await function tries to execute the empty object. I want the await function to be jumped/ignored if the object is empty for getData."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1537523754, "post_id": 52405660, "comment_id": 91825000, "body": "@MotsaneM that error sounds like <code>data</code> is undefined. This has nothing to do with <code>getData</code> or <code>await</code>"}, {"owner": {"reputation": 43, "user_id": 7078938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wqBVs.jpg?s=128&g=1", "display_name": "Motsane M", "link": "https://stackoverflow.com/users/7078938/motsane-m"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1537887995, "post_id": 52405660, "comment_id": 91943368, "body": "@Bergi If you check my answer, I assigned an empty array to <code>data</code>. Previously, I actually wanted the whole line of the <code>await</code> function to be ignored. Data was undefined because the data for it won&#39;t always be available, making it undefined, which caused it to throw an error when trying to map the data."}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 7078938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wqBVs.jpg?s=128&g=1", "display_name": "Motsane M", "link": "https://stackoverflow.com/users/7078938/motsane-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1537520124, "creation_date": 1537520124, "answer_id": 52440091, "question_id": 52405660, "link": "https://stackoverflow.com/questions/52405660/method-to-stop-an-await-from-executing-if-theres-an-empty-object-from-promise-b/52440091#52440091", "title": "Method to stop an Await from executing if there&#39;s an empty Object from Promise but shouldn&#39;t return an error and execute other tasks", "body": "<p>There may be a better way, but what solved my issue was to pass an empty array to the data </p>\n\n<pre><code>if (isNullOrUndefined(data)) {\n    data = [];\n}\n</code></pre>\n\n<p>In this way the await function now works the way I want it to work and does not throw error: </p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'map' of undefined</p>\n</blockquote>\n"}], "owner": {"reputation": 43, "user_id": 7078938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wqBVs.jpg?s=128&g=1", "display_name": "Motsane M", "link": "https://stackoverflow.com/users/7078938/motsane-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 52440091, "answer_count": 1, "score": 0, "last_activity_date": 1537520124, "creation_date": 1537359329, "last_edit_date": 1537426993, "question_id": 52405660, "link": "https://stackoverflow.com/questions/52405660/method-to-stop-an-await-from-executing-if-theres-an-empty-object-from-promise-b", "title": "Method to stop an Await from executing if there&#39;s an empty Object from Promise but shouldn&#39;t return an error and execute other tasks", "body": "<p>So what I want to achieve is that when a function returns an empty Object from the Promise, the Await function must not be executed and the rest of the Application must carry on executing other tasks. As the object that is returned maybe not always be available but should be returned when available.</p>\n\n<pre><code>    function getData(Data) : Promise&lt;Object&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        request({\n           // Method \n        }, (err, resp, file)=&gt; {\n            if (err) {\n                reject(err);\n            } else {\n                resolve({\n                   // Return object infomation\n                });\n            }\n        });\n    });\n}\n\nlet someData = await Promise.all(data.map(getData)); \n// This should have a part that ignores if getData is empty and this await function ignored.\n</code></pre>\n\n<p>The rest of the application should be able to run as normal. I have tried to use:</p>\n\n<pre><code>.catch(error =&gt; {  });\n</code></pre>\n\n<p>But didn't work the way I wanted it to work</p>\n"}, {"tags": ["typescript", "express", "mocha.js", "chai", "chai-http"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "edited": false, "score": 0, "creation_date": 1537431366, "post_id": 52417673, "comment_id": 91784170, "body": "I did both, but the error remains and nothing in the behaviour changes. Running the server still works fine, but testing still results in above error."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 2, "last_activity_date": 1537418171, "creation_date": 1537418171, "answer_id": 52417673, "question_id": 52405460, "link": "https://stackoverflow.com/questions/52405460/typescript-express-mocha-chai-error-while-testing/52417673#52417673", "title": "Typescript, Express, Mocha &amp; Chai Error while testing", "body": "<p>You are attempting a default import from <code>express</code>, but the module uses an export assignment.  Either replace <code>import express from 'express';</code> with <code>import express = require('express');</code> or set the <code>esModuleInterop</code> compiler option to <code>true</code> in <code>tsconfig.json</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "edited": false, "score": 0, "creation_date": 1537517570, "post_id": 52438519, "comment_id": 91821553, "body": "Thanks for the answer. I tried to do so from the beginning, but changing my my imports result in <code>&gt; error TS2497: Module &#39;&quot;&#47;Users&#47;...&#47;NotificationService&#47;test&#47;node_modules&#47;@types&#47;ch&zwnj;&#8203;ai-http&#47;index&quot;&#39; resolves to a non-module entity and cannot be imported using this construct.</code>"}, {"owner": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "edited": false, "score": 0, "creation_date": 1537517737, "post_id": 52438519, "comment_id": 91821618, "body": "And using that import for express result in <code>error TS2349: Cannot invoke an expression whose type lacks a call signature. Type &#39;typeof e&#39; has no compatible call signatures. 4 const app = express(); </code>"}, {"owner": {"reputation": 5917, "user_id": 375148, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/jZJi4.jpg?s=128&g=1", "display_name": "deerawan", "link": "https://stackoverflow.com/users/375148/deerawan"}, "reply_to_user": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "edited": false, "score": 1, "creation_date": 1537519402, "post_id": 52438519, "comment_id": 91822435, "body": "my bad, <code>chai-http</code> apparently can&#39;t be used with <code>import</code>. I tried it locally. I&#39;m really curious with your express. I tried to reproduce it but I couldn&#39;t. May you posted your <code>tsconfig.json</code>?"}, {"owner": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "edited": false, "score": 0, "creation_date": 1537521315, "post_id": 52438519, "comment_id": 91823582, "body": "I updated my question to include it. I also may upload the whole project excluding node_modules if you want."}, {"owner": {"reputation": 5917, "user_id": 375148, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/jZJi4.jpg?s=128&g=1", "display_name": "deerawan", "link": "https://stackoverflow.com/users/375148/deerawan"}, "reply_to_user": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "edited": false, "score": 2, "creation_date": 1537521783, "post_id": 52438519, "comment_id": 91823840, "body": "@CodingVampyre Thank you. Try to remove your <code>esModuleInterop</code> from <code>tsconfig.json</code>. Using this setting doesn&#39;t allow you to use syntax <code>import * as ... from ...</code>"}, {"owner": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "edited": false, "score": 0, "creation_date": 1537522071, "post_id": 52438519, "comment_id": 91824007, "body": "I think were getting somewhere. Now, <code>import * as express from &#39;express&#39;;</code> works, compiling does too, but npm test now throws  <code>&#47;...&#47;NotificationService&#47;test&#47;node_modules&#47;@types&#47;body-parse&zwnj;&#8203;r&#47;index.d.ts:14 import { NextHandleFunction } from &#39;connect&#39;; SyntaxError: Unexpected token import</code>"}, {"owner": {"reputation": 5917, "user_id": 375148, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/jZJi4.jpg?s=128&g=1", "display_name": "deerawan", "link": "https://stackoverflow.com/users/375148/deerawan"}, "reply_to_user": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "edited": false, "score": 0, "creation_date": 1537522293, "post_id": 52438519, "comment_id": 91824111, "body": "@CodingVampyre that&#39;s good. What is your typescript version? and what does <code>npm test</code> contain?"}, {"owner": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "edited": false, "score": 0, "creation_date": 1537522615, "post_id": 52438519, "comment_id": 91824306, "body": "Typescript has version 3.0.3, npm test runs  <code>mocha --require ts-node&#47;register .&#47;..&#47;test&#47;**&#47;*.ts</code> from src folder."}, {"owner": {"reputation": 5917, "user_id": 375148, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/jZJi4.jpg?s=128&g=1", "display_name": "deerawan", "link": "https://stackoverflow.com/users/375148/deerawan"}, "reply_to_user": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "edited": false, "score": 0, "creation_date": 1537524670, "post_id": 52438519, "comment_id": 91825516, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/180505/discussion-between-deerawan-and-coding-vampyre\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 5917, "user_id": 375148, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/jZJi4.jpg?s=128&g=1", "display_name": "deerawan", "link": "https://stackoverflow.com/users/375148/deerawan"}, "is_accepted": false, "score": 2, "last_activity_date": 1537519470, "last_edit_date": 1537519470, "creation_date": 1537514264, "answer_id": 52438519, "question_id": 52405460, "link": "https://stackoverflow.com/questions/52405460/typescript-express-mocha-chai-error-while-testing/52438519#52438519", "title": "Typescript, Express, Mocha &amp; Chai Error while testing", "body": "<p>The error related to express is because express doesn't use default export, so the correct way is</p>\n\n<pre><code>// src.js\nimport * as express from 'express'\n</code></pre>\n\n<p>Don't forget to install type definitions so Typescript can compile it smoothly such as</p>\n\n<pre><code>npm install @types/express --save-dev\nnpm install @types/body-parser --save-dev\nnpm install @types/chai-http --save-dev\n</code></pre>\n\n<p><strong>Updated:</strong>\nI tried it locally with this <code>tsconfig.json</code></p>\n\n<pre><code>// tsconfig.json\n{\n  \"compilerOptions\": {\n      \"module\": \"commonjs\",\n      \"types\": [\n        \"node\",\n        \"mocha\",\n        \"express\"\n      ],\n      \"target\": \"es5\",\n      \"lib\": [\n        \"es2015\"       \n      ],\n      ...\n  },\n}\n</code></pre>\n\n<p>Using default export has caveat as described in \n<a href=\"https://basarat.gitbooks.io/typescript/docs/tips/defaultIsBad.html\" rel=\"nofollow noreferrer\">https://basarat.gitbooks.io/typescript/docs/tips/defaultIsBad.html</a></p>\n\n<p>Hope it helps</p>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "is_accepted": true, "score": 0, "last_activity_date": 1537532639, "creation_date": 1537532639, "answer_id": 52443716, "question_id": 52405460, "link": "https://stackoverflow.com/questions/52405460/typescript-express-mocha-chai-error-while-testing/52443716#52443716", "title": "Typescript, Express, Mocha &amp; Chai Error while testing", "body": "<p>The answer was to not use seperate package.json and tsconfig.json files. Thanks to deerawan, I now use</p>\n\n<pre><code>- tsconfig.json\n- package.json\n- src/\n    - index.ts\n- test/\n    - test.ts\n</code></pre>\n\n<p>which resolves the issue!</p>\n"}], "owner": {"reputation": 85, "user_id": 8340581, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-axSQsRyLeGw/AAAAAAAAAAI/AAAAAAAAAH4/6oUHN1lGH9o/photo.jpg?sz=128", "display_name": "Coding Vampyre", "link": "https://stackoverflow.com/users/8340581/coding-vampyre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2347, "favorite_count": 0, "accepted_answer_id": 52443716, "answer_count": 3, "score": 2, "last_activity_date": 1537532639, "creation_date": 1537358641, "last_edit_date": 1537519666, "question_id": 52405460, "link": "https://stackoverflow.com/questions/52405460/typescript-express-mocha-chai-error-while-testing", "title": "Typescript, Express, Mocha &amp; Chai Error while testing", "body": "<p>I made my first server using express in typescript and it perfectly works</p>\n\n<pre><code>import app from './Server'\n\nconst server = app.listen(8080, '0.0.0.0', () =&gt; {\n    console.log(\"Server is listening on standard port 80...\");\n});\n\nexport default server;\n</code></pre>\n\n<p>Now I try testing the routes stored in app:</p>\n\n<pre><code>import express from 'express';\nimport * as bodyParser from \"body-parser\";\n\nconst app = express();\n\napp.use(bodyParser.json());\n\napp.get(\"/\", (req: express.Request, res: express.Response) =&gt; {\n    res.status(200).send(\"SUCCESS\");\n});\n\nexport default app;\n</code></pre>\n\n<p>Using this test:</p>\n\n<pre><code>import * as chai from 'chai';\nimport chaiHttp = require('chai-http');\n\nchai.use(chaiHttp);\n\nimport server from '../src';\n\ndescribe(\"LogAPI\", () =&gt; {\n\n    describe('Base express tests', () =&gt; {\n        it(\"Should return 'SUCCESS' if GET /\", async () =&gt; {\n            return chai.request(server).get(\"/\").then(res =&gt; {\n                chai.expect(res.body).to.equal(\"SUCCESS\");\n            })\n        });\n\n        it(\"Should return status-code 200 by calling GET /\", async () =&gt; {\n            return chai.request(server).get(\"/\").then(res =&gt; {\n                chai.expect(res.status).to.equal(200);\n            })\n        });\n\n    });\n});\n</code></pre>\n\n<p>But even while running the server itself works, staring the test with</p>\n\n<pre><code>mocha --require ts-node/register ./../test/**/*.ts\n</code></pre>\n\n<p>throws me this error: </p>\n\n<blockquote>\n  <p>/Users/.../NotificationService/src/Server/index.js:5\n  var app = express_1.default();\n                            ^\n  TypeError: express_1.default is not a function\n     at Object. (/Users/.../NotificationService/src/Server/inde> x.js:5:28)</p>\n</blockquote>\n\n<p>I am using es6 target and commonjs module.\nHow can I properly test my server?</p>\n\n<p><strong>Update 1</strong>\nI now fiddled a bit and it turned out that deleting the <code>default()</code> method from the compiled code resolved something.</p>\n\n<p>Now, I get </p>\n\n<blockquote>\n  <p>/Users/.../NotificationService/test/node_modules/@types/chai-http/index.d.ts:13\n  import * as request from 'superagent';\n  SyntaxError: Unexpected token import</p>\n</blockquote>\n\n<p><strong>Update 2</strong>\nMy ts-config.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es6\",\n    \"module\": \"commonjs\", \n    \"outDir\": \"./../out\u201c,\n    \"strict\": true,\n    \"esModuleInterop\": true   \n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1537358787, "post_id": 52405423, "comment_id": 91754704, "body": "A <code>return</code> can only have one type, and <code>typeof bar</code> widens that type to <code>any</code>, so <code>typeof {}</code> coerces to <code>any</code> which then coerces to <code>string[]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 10385541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GxfMAYQ2igU/AAAAAAAAAAI/AAAAAAAAAI8/-SE4SQ5Joq4/photo.jpg?sz=128", "display_name": "Hendrik Liebau", "link": "https://stackoverflow.com/users/10385541/hendrik-liebau"}, "edited": false, "score": 0, "creation_date": 1537359048, "post_id": 52405497, "comment_id": 91754847, "body": "That is an interesting insight, and makes sense now. Thanks for the quick clarification!"}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 6, "last_activity_date": 1537359034, "last_edit_date": 1537359034, "creation_date": 1537358772, "answer_id": 52405497, "question_id": 52405423, "link": "https://stackoverflow.com/questions/52405423/typescript-no-error-for-incorrect-function-return-value/52405497#52405497", "title": "TypeScript: No error for incorrect function return value", "body": "<p>When doing type inference, TypeScript picks the <em>best common type</em> (<a href=\"http://www.typescriptlang.org/docs/handbook/type-inference.html\" rel=\"nofollow noreferrer\">docs</a>). In your example, the compiler has to infer the result type of the conditional expression.\u00b9 The best common type for <code>any</code> and <code>object</code> is <code>any</code>. Since <code>any</code> matches anything, there's no warning.</p>\n\n<p>If you use <code>if</code> instead...</p>\n\n<pre><code>function foo(foo: boolean, bar: any): string[] {\n    if (foo) {\n        return bar;\n    } else {\n        return {};\n    }\n}\n</code></pre>\n\n<p>...the compiler doesn't have to infer the type of the conditional expression, and reports an error on <code>return {}</code>.</p>\n\n<hr>\n\n<p>\u00b9 <code>? :</code> is the <em>conditional operator</em>. It's <strong><em>a</em></strong> ternary operator (an operator accepting three operands, just as a unary operator accepts one operand and a binary operator accepts two), and for the moment it's JavaScript's (and TypeScript's) only ternary operator, but in theory someday there could be another ternary operator added...</p>\n"}, {"comments": [{"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 3, "creation_date": 1537359254, "post_id": 52405509, "comment_id": 91754953, "body": "Ah neat. Finally there is a better type for <code>any</code>."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1537359297, "post_id": 52405509, "comment_id": 91754979, "body": "Ooooh, neat about v3&#39;s <code>unknown</code>."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 5, "last_activity_date": 1537358798, "creation_date": 1537358798, "answer_id": 52405509, "question_id": 52405423, "link": "https://stackoverflow.com/questions/52405423/typescript-no-error-for-incorrect-function-return-value/52405509#52405509", "title": "TypeScript: No error for incorrect function return value", "body": "<p>The problem is <code>bar</code> is of type <code>any</code>. The type of a ternary operation would be a union of both possible result types. In this case that would mean <code>any | {}</code>. But the rules for how unions are resolved dictate that if <code>any</code> is part of the union the whole union just becomes <code>any</code> (this makes sense, if something is <code>any</code> (which is any possible type) or anything else, it can be anything so that would be <code>any</code>).</p>\n\n<p>This would be an error:</p>\n\n<pre><code>function foo(foo: boolean, bar: string[]): string[] {\n  return foo ? bar : {}; // Type 'string[] | {}' is not assignable to type 'string[]'\n}\n</code></pre>\n\n<p><strong>Note</strong> To avoid such errors, <code>any</code> should generally be avoided, as of 3.0 you should prefer <code>unknown</code>, this would be an error </p>\n\n<pre><code>function foo(foo: boolean, bar: unknown): string[] {\n  return foo ? bar : {}; // Type 'unknown' is not assignable to type 'string[]'\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10385541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GxfMAYQ2igU/AAAAAAAAAAI/AAAAAAAAAI8/-SE4SQ5Joq4/photo.jpg?sz=128", "display_name": "Hendrik Liebau", "link": "https://stackoverflow.com/users/10385541/hendrik-liebau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 52405497, "answer_count": 2, "score": 4, "last_activity_date": 1537359526, "creation_date": 1537358501, "last_edit_date": 1537359526, "question_id": 52405423, "link": "https://stackoverflow.com/questions/52405423/typescript-no-error-for-incorrect-function-return-value", "title": "TypeScript: No error for incorrect function return value", "body": "<p>I expected an error for this buggy function (returning an object where an array is expected), but TypeScript did not raise an error:</p>\n\n<pre><code>function foo(bar: boolean, baz: any): string[] {\n  return bar ? baz : {};\n}\n</code></pre>\n\n<p>It seems this only occurs when the other ternary branch returns <code>any</code> [1]. Regardless of the <code>any</code>, shouldn't TypeScript be able to detect the error on the other branch?</p>\n\n<hr>\n\n<p>[1] I know that <code>baz</code> shouldn't be typed as <code>any</code>. This example is derived from an actual project that does not exactly adhere to best practices like this. Also, <code>unknown</code> didn't exist when this code was written.</p>\n"}, {"tags": ["typescript", "vue.js"], "comments": [{"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 3, "creation_date": 1537362324, "post_id": 52405194, "comment_id": 91756845, "body": "because dynamic components require a variable from <code>data</code>, <code>props</code> or <code>computed</code>. Most likely <code>data</code>. So something like <code>data() { return { component: &quot;Hello&quot; } }</code>"}, {"owner": {"reputation": 65, "user_id": 6279548, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Fejkb6dlC4/AAAAAAAAAAI/AAAAAAAAACE/2r18KKTIb0Q/photo.jpg?sz=128", "display_name": "Lin Weiye", "link": "https://stackoverflow.com/users/6279548/lin-weiye"}, "reply_to_user": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1537365132, "post_id": 52405194, "comment_id": 91758665, "body": "It work.Thank you very much indeed."}, {"owner": {"reputation": 532, "user_id": 1184953, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aa83f66623417407cfd4e0eb739294b1?s=128&d=identicon&r=PG", "display_name": "Sarrus", "link": "https://stackoverflow.com/users/1184953/sarrus"}, "reply_to_user": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1551362492, "post_id": 52405194, "comment_id": 96619330, "body": "@A.Lau you should put your comment as answer."}, {"owner": {"reputation": 2199, "user_id": 1762556, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/10LnU.jpg?s=128&g=1", "display_name": "Ki J&#233;y", "link": "https://stackoverflow.com/users/1762556/ki-j%c3%a9y"}, "edited": false, "score": 0, "creation_date": 1589472764, "post_id": 52405194, "comment_id": 109315113, "body": "If I may add a question to this : how do you type your dynamic component ? Is it a <code>Vue</code> instance ?"}], "answers": [{"tags": [], "owner": {"reputation": 1713, "user_id": 2313004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bce553345a6440ab9cc143fd8af074?s=128&d=identicon&r=PG", "display_name": "grreeenn", "link": "https://stackoverflow.com/users/2313004/grreeenn"}, "is_accepted": false, "score": 0, "last_activity_date": 1617667219, "last_edit_date": 1617667219, "creation_date": 1617659953, "answer_id": 66960318, "question_id": 52405194, "link": "https://stackoverflow.com/questions/52405194/dynamic-components-dont-work-in-typescript-in-vue/66960318#66960318", "title": "Dynamic Components don&#39;t work in typescript in vue", "body": "<p>In short:</p>\n<pre><code>&lt;template&gt;\n  &lt;div&gt;\n      &lt;component :is=&quot;Hello&quot;&gt;&lt;/component&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=&quot;ts&quot;&gt;\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport Hello from './Hello.vue'\n\n@Component({\n  components: {Hello}\n})\nexport default class HelloWorld extends Vue {\n  @Prop() private msg!: string;\n  \n  private get component(): VueClass&lt;Hello&gt; {\n    return Hello;\n  }\n}\n&lt;/script&gt;\n</code></pre>\n<p>In addition to registering the <code>Hello</code> component, you need to return its instance from a computed property; you could probably assign it to a data property like <code>private component: VueClass&lt;Hello&gt; = Hello</code>, but the point is to make it dynamic, right, so I used the computed one here</p>\n"}], "owner": {"reputation": 65, "user_id": 6279548, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0Fejkb6dlC4/AAAAAAAAAAI/AAAAAAAAACE/2r18KKTIb0Q/photo.jpg?sz=128", "display_name": "Lin Weiye", "link": "https://stackoverflow.com/users/6279548/lin-weiye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1323, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1617667219, "creation_date": 1537357790, "question_id": 52405194, "link": "https://stackoverflow.com/questions/52405194/dynamic-components-dont-work-in-typescript-in-vue", "title": "Dynamic Components don&#39;t work in typescript in vue", "body": "<p>the Hello don't render in my HelloWorld page</p>\n\n<p>HelloWorld.vue</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div&gt;\n      &lt;component :is=\"Hello\"&gt;&lt;/component&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport Hello from './Hello.vue'\n\n@Component({\n  components: {\n  Hello\n  }\n  })\nexport default class HelloWorld extends Vue {\n  @Prop() private msg!: string;\n}\n&lt;/script&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ACHl9.png\" rel=\"nofollow noreferrer\">Vue warn in chrome Console</a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 4558, "user_id": 5893995, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1111733975538186/picture?type=large", "display_name": "Yashwardhan Pauranik", "link": "https://stackoverflow.com/users/5893995/yashwardhan-pauranik"}, "edited": false, "score": 1, "creation_date": 1537359339, "post_id": 52405562, "comment_id": 91755008, "body": "Please use comments for suggestion"}, {"owner": {"reputation": 147, "user_id": 7078297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec52974ada680d262beb26376cea1baf?s=128&d=identicon&r=PG&f=1", "display_name": "D-lemma", "link": "https://stackoverflow.com/users/7078297/d-lemma"}, "edited": false, "score": 0, "creation_date": 1537363634, "post_id": 52405562, "comment_id": 91757660, "body": "I want to create a table. This div with ngFor creates row of this table. LoadComponent create input components base on its type. It calls 4 times, such as ngFor in div. I want that first component from loadComponent will be in first div, second in second and etc."}], "tags": [], "owner": {"reputation": 742, "user_id": 3836110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc374a15c13eb039eb2c19c141a5bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/3836110/arne"}, "is_accepted": false, "score": -1, "last_activity_date": 1537358996, "creation_date": 1537358996, "answer_id": 52405562, "question_id": 52404984, "link": "https://stackoverflow.com/questions/52404984/ng-template-inside-ng-for-creates-only-1-time/52405562#52405562", "title": "ng-template inside ng-for creates only 1 time", "body": "<p>I have a nagging feeling you are not really using the right approach for your use case here... What are you trying to achieve, and why? Functionally I mean.</p>\n\n<p>Anyhow, your for loop in your component will only find the first view-child matching the pf-host selector, so it will create components inside the first one only. </p>\n"}], "owner": {"reputation": 147, "user_id": 7078297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec52974ada680d262beb26376cea1baf?s=128&d=identicon&r=PG&f=1", "display_name": "D-lemma", "link": "https://stackoverflow.com/users/7078297/d-lemma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537416423, "creation_date": 1537356994, "last_edit_date": 1537416423, "question_id": 52404984, "link": "https://stackoverflow.com/questions/52404984/ng-template-inside-ng-for-creates-only-1-time", "title": "ng-template inside ng-for creates only 1 time", "body": "<p>I'm using dynamic form loader angular 6 inside <code>ngFor</code></p>\n\n<pre><code>&lt;div *ngFor=\"let field of item.fields\" &gt;\n   &lt;ng-template pf-host &gt;&lt;/ng-template&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And the problem is ng-template creates only in first time. There are 4 fields and ng-template only inside the first one.</p>\n\n<p><strong>loadComponents()</strong> also have a loop such as my HTML markup. And creates 4 times.</p>\n\n<pre><code>loadComponent() {\n    this.item.fields.forEach(item =&gt; {\n        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n        const viewContainerRef = this.pfHost.viewContainerRef;\n        const componentRef = viewContainerRef.createComponent(componentFactory);\n         });\n}\n</code></pre>\n\n<p>How can I make it correctly? In the first item first component, in second item second component etc?\nNow there are for components in the first item. Other items are empty.</p>\n\n<p><em>EDIT:  ANSWER</em></p>\n\n<p>Solved this by using @ViewChildren</p>\n\n<pre><code>@ViewChildren(ProductFormDirective) pfHost: QueryList&lt;ProductFormDirective&gt;;\n</code></pre>\n\n<p>And then in loadComponents() iterate by index.</p>\n\n<pre><code>        for (let i = 0; i &lt; this.item.fields.length; i++) {\n            const item = this.item.fields[i];\n            const componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n            const pfHostToArray = this.pfHost.toArray();\n            const viewContainerRef = pfHostToArray[i].viewContainerRef;\n            const componentRef = viewContainerRef.createComponent(componentFactory);\n            console.log('component created');\n            const inst = &lt;ProductFormInnerComponent&gt;componentRef.instance;\n            (&lt;ProductFormInnerComponent&gt;componentRef.instance).metadata = item;\n            item.componentRef = componentRef;\n        }\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "styled-components"], "answers": [{"comments": [{"owner": {"reputation": 19544, "user_id": 985454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/240c85cfce79d99a6393196f484484a6?s=128&d=identicon&r=PG", "display_name": "Qwerty", "link": "https://stackoverflow.com/users/985454/qwerty"}, "edited": false, "score": 0, "creation_date": 1549480442, "post_id": 52405602, "comment_id": 95921026, "body": "The documentation is different from your example and also the <i>use-case for css</i> is not working any more. Could you please investigate? I am lost."}, {"owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "reply_to_user": {"reputation": 19544, "user_id": 985454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/240c85cfce79d99a6393196f484484a6?s=128&d=identicon&r=PG", "display_name": "Qwerty", "link": "https://stackoverflow.com/users/985454/qwerty"}, "edited": false, "score": 0, "creation_date": 1549527111, "post_id": 52405602, "comment_id": 95935631, "body": "The typings has changed after I had written the answer, updated answer with the recent changes"}], "tags": [], "owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "is_accepted": true, "score": 52, "last_activity_date": 1549527085, "last_edit_date": 1549527085, "creation_date": 1537359134, "answer_id": 52405602, "question_id": 52404958, "link": "https://stackoverflow.com/questions/52404958/using-styled-components-with-typescript-prop-does-not-exist/52405602#52405602", "title": "Using styled components with Typescript, prop does not exist?", "body": "<ul>\n<li>The styled component will have to specify the prop to pass to the component like <code>styled(\"h2\")&lt;IProps&gt;</code>. You can read more about the pattern from <a href=\"https://www.styled-components.com/docs/api#styling-components\" rel=\"noreferrer\">documentation</a></li>\n<li><code>css</code> is not required here, it is added as a helper when you need to actually return CSS from a function. Check out <a href=\"https://stackoverflow.com/questions/48502647/conditional-rendering-in-styled-components\">conditional rendering</a>.</li>\n</ul>\n\n<p>Taking these into account, the component becomes:</p>\n\n<pre><code>const HeadingStyled = styled(\"h2\")&lt;{emphasized: boolean}&gt;`\n  ${props =&gt; props.emphasized &amp;&amp; `\n    display: inline;\n    padding-top: 10px;\n    padding-right: 30px;\n  `}\n`;\n</code></pre>\n\n<p><a href=\"https://www.styled-components.com/docs/advanced#media-templates\" rel=\"noreferrer\">A use-case for <code>css</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 2518, "user_id": 6080254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/joqiB.jpg?s=128&g=1", "display_name": "Bruno Monteiro", "link": "https://stackoverflow.com/users/6080254/bruno-monteiro"}, "is_accepted": false, "score": 6, "last_activity_date": 1596748073, "last_edit_date": 1596748073, "creation_date": 1553475652, "answer_id": 55330077, "question_id": 52404958, "link": "https://stackoverflow.com/questions/52404958/using-styled-components-with-typescript-prop-does-not-exist/55330077#55330077", "title": "Using styled components with Typescript, prop does not exist?", "body": "<p>The previous answer worked for me, but just to add some information that was also helpful in my case:</p>\n<blockquote>\n<p>StyledComponents uses a &quot;ThemedStyledFunction&quot; interface that allows the user to define additional Prop Types.</p>\n</blockquote>\n<p>That means you could create an interface like:</p>\n<pre><code>interface IHeadingStyled {\n   emphasized: boolean;\n}\n</code></pre>\n<p>And use it on the component:</p>\n<pre><code>const HeadingStyled = styled(&quot;h2&quot;)&lt;IHeadingStyled&gt;`\n  ${props =&gt; props.emphasized &amp;&amp; `\n    display: inline;\n    padding-top: 10px;\n    padding-right: 30px;\n  `}\n`;\n</code></pre>\n<p>(Which is a cleaner way to implement what @BoyWithSilverWings suggested, in case you have multiple props)</p>\n<hr />\n<p>Check this discussion for more complete information:</p>\n<p><a href=\"https://github.com/styled-components/styled-components/issues/1428#issuecomment-358621605\" rel=\"nofollow noreferrer\">https://github.com/styled-components/styled-components/issues/1428#issuecomment-358621605</a></p>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23820, "favorite_count": 7, "accepted_answer_id": 52405602, "answer_count": 2, "score": 24, "last_activity_date": 1596748073, "creation_date": 1537356937, "question_id": 52404958, "link": "https://stackoverflow.com/questions/52404958/using-styled-components-with-typescript-prop-does-not-exist", "title": "Using styled components with Typescript, prop does not exist?", "body": "<p>Here is my styled component. </p>\n\n<pre><code>import * as React from 'react';\nimport styled from 'styled-components';\nimport { ComponentChildren } from 'app-types';\n\ninterface Props {\n    children: ComponentChildren;\n    emphasized: boolean;\n}\n\nconst HeadingStyled = styled.h2`\n    ${props =&gt; props.emphasized &amp;&amp; css`\n        display: inline;\n        padding-top: 10px;\n        padding-right: 30px;\n  `}\n`;\n\nconst Heading = (props: Props) =&gt; (\n    &lt;HeadingStyled&gt;\n        {props.children}\n    &lt;/HeadingStyled&gt;\n);\n\nexport default Heading;\n</code></pre>\n\n<p>I get warnings that:</p>\n\n<ul>\n<li><code>Property 'emphasized' does not exist on type 'ThemedStyledProps&lt;DetailedHTMLProps&lt;HTMLAttributes&lt;HTMLHeadingElement&gt;, HTMLHeadingElement&gt;, any&gt;'.</code></li>\n<li><code>Cannot find name 'css'. Did you mean 'CSS'?</code></li>\n</ul>\n\n<p>How can I get this to work?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1537356899, "post_id": 52404698, "comment_id": 91753569, "body": "Post is object or number/"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1537356947, "post_id": 52404698, "comment_id": 91753599, "body": "I&#39;m not sure I understand your question. If post is an object, post.id will be used."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10381645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54888ebf61713fc8d0137d2f306b80c?s=128&d=identicon&r=PG&f=1", "display_name": "A.lbo", "link": "https://stackoverflow.com/users/10381645/a-lbo"}, "edited": false, "score": 0, "creation_date": 1537358217, "post_id": 52404956, "comment_id": 91754354, "body": "Is true...i didn&#39;t note that..Thanks."}], "tags": [], "owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "is_accepted": false, "score": 1, "last_activity_date": 1537356931, "creation_date": 1537356931, "answer_id": 52404956, "question_id": 52404698, "link": "https://stackoverflow.com/questions/52404698/typeof-operator-in-typescript/52404956#52404956", "title": "Typeof operator in typescript", "body": "<p>here you call your method</p>\n\n<pre><code>this.postService.removePost(post.id)\n</code></pre>\n\n<p>so the <code>post</code> is <code>number</code> not object.</p>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1537356980, "creation_date": 1537356980, "answer_id": 52404975, "question_id": 52404698, "link": "https://stackoverflow.com/questions/52404698/typeof-operator-in-typescript/52404975#52404975", "title": "Typeof operator in typescript", "body": "<p>Typescript will perform no runtime conversions. Your code states that <code>post</code> is <code>number | Post</code> so <code>removePost</code> either takes a <code>number</code> or a <code>Post</code>. So either of these calls would be valid:</p>\n\n<pre><code>let p: Post = { } // a radom post from wherever\npostService.removePost(p) // argument is Post and that is fine\npostService.removePost(p.id) // argument is a number, that is fine too.\n</code></pre>\n\n<p>The role of <code>typeof</code> is to find out in which of the two cases we are. If <code>typeof post ==='number'</code>  is true we are in the second case, so <code>post</code> is a <code>number</code>, if it false we are in the first case and <code>post</code> is a <code>Post</code> object and we can access the <code>id</code> property to get the id.</p>\n\n<p>Also interesting to note is that <code>id</code> will be typed as <code>number</code>. This is due to a feature called type guards (see <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/typeGuard.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">here</a>) where a union in narrowed by a check such as <code>typeof post ==='number'</code></p>\n\n<pre><code>const id=typeof post ==='number' ? post /* post is number here */: /*post is Post here */post.id; // id is number \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 695, "user_id": 4521875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAE4o.jpg?s=128&g=1", "display_name": "Armando Perez", "link": "https://stackoverflow.com/users/4521875/armando-perez"}, "is_accepted": true, "score": 1, "last_activity_date": 1537358262, "last_edit_date": 1537358262, "creation_date": 1537357813, "answer_id": 52405203, "question_id": 52404698, "link": "https://stackoverflow.com/questions/52404698/typeof-operator-in-typescript/52405203#52405203", "title": "Typeof operator in typescript", "body": "<p>Good question. The reason may be because you are passing the <strong>post.id</strong> to the <strong>removePost()</strong> method.</p>\n\n<p>In this case you are giving the right use to the <strong>typeof</strong> operator, although it is not necessary to be used in this case, since you are explicitly passing a number and not a post object. So your code should work as well like this:</p>\n\n<pre><code>removePost(postId:number):Observable&lt;Post&gt;{\n  const url=`${this.postsUrl}/${postId}`;\n  return  this.http.delete&lt;Post&gt;(url,httpOptions);\n}\n</code></pre>\n\n<p>Please, notice I renamed the parameter from post to postId. </p>\n\n<p>In your screenshot I noticed also that for the <strong>updatePost()</strong> you are passing the post object. As a recommendation I would say that you should be consistent in the selection you make. Either go by passing the id to the methods that only require the id or pass the post object (only if you need to access more properties from the post object) in all the methods that follow this pattern. This in reality will not affect functionality, but it will improve the style of the code. </p>\n"}], "owner": {"reputation": 3, "user_id": 10381645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54888ebf61713fc8d0137d2f306b80c?s=128&d=identicon&r=PG&f=1", "display_name": "A.lbo", "link": "https://stackoverflow.com/users/10381645/a-lbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1059, "favorite_count": 0, "accepted_answer_id": 52405203, "answer_count": 3, "score": 0, "last_activity_date": 1537358262, "creation_date": 1537356036, "last_edit_date": 1537356620, "question_id": 52404698, "link": "https://stackoverflow.com/questions/52404698/typeof-operator-in-typescript", "title": "Typeof operator in typescript", "body": "<p>I'm not expert in typescript and I'm doing some example for testing Http Module with angular 2+.\nWhile debugging, I've noted in this piece of  code : \n that when I'm clicking the red button, the function <code>removePost(post: Post){...}</code> is called and passing an Object of type 'Post' in the function which in turn calling a service to delete the following row in the sand-box.</p>\n\n<pre><code>removePost(post: Post) {\n    if (confirm('are You sure?')) {\n      this.postService.removePost(post.id).subscribe(() =&gt; {\n        this.posts.forEach((cur, index) =&gt; {\n          if (post.id === cur.id) {\n            this.posts.splice(index, 1);\n\n          }\n        });\n      });\n    }\n  }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/aNalZ.jpg\" rel=\"nofollow noreferrer\">Image test debuging</a></p>\n\n<p>My doubts starts when I'm trying to do a test debugging with chrome. the Post parameter (would be an object) that arriving in the service literally is converted directly in a number type : </p>\n\n<pre><code>removePost(post:Post|number):Observable&lt;Post&gt;{\n\n  const id=typeof post ==='number' ? post: post.id;\n  const url=`${this.postsUrl}/${id}`;\n  return  this.http.delete&lt;Post&gt;(url,httpOptions);\n} \n</code></pre>\n\n<p>I think that probably I didn't understand how the operator typeof works. I mean in this piece of code  <code>const id=typeof post ==='number' ? post: post.id;</code>\n<code>typeof</code> would be a number and so will be set <code>post</code> instead <code>post.id</code> but the problem is that <code>post</code> is an <strong>object</strong>...so how does know typescript has to convert a object in a number? This thing make me very confused....</p>\n"}, {"tags": ["reactjs", "typescript", "testing", "jestjs", "enzyme"], "answers": [{"tags": [], "owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "is_accepted": true, "score": 1, "last_activity_date": 1537482886, "creation_date": 1537482886, "answer_id": 52434251, "question_id": 52404256, "link": "https://stackoverflow.com/questions/52404256/unexpected-behaviour-testing-react-component-after-delay-with-jest-enzyme/52434251#52434251", "title": "Unexpected behaviour testing React component after delay with Jest/Enzyme", "body": "\n\n<p><strong>Issue 1</strong></p>\n\n<p><code>jest.useFakeTimers()</code> replaces the timer functions like <code>setInterval</code> with timer mocks that track the arguments they were called with.  It needs to be called before your component is created so the <code>setInterval</code> call in <code>componentDidMount</code> calls the mock instead of the real <code>setInterval</code>.</p>\n\n<p><strong>Issue 2</strong></p>\n\n<p><code>jest.runAllTimers()</code> attempts to run all timer callbacks until there are none left.  In this case <code>setInterval</code> is never cancelled so <code>jest.runAllTimers</code> would attempt to run timer callbacks forever and <code>Jest</code> would interrupt the test with an error after it runs 100000 callbacks.</p>\n\n<p>The correct way to advance time in this scenario is to use <a href=\"https://jestjs.io/docs/en/jest-object#jestadvancetimersbytimemstorun\" rel=\"nofollow noreferrer\"><code>jest.advanceTimersByTime</code></a> (or the alias <code>jest.runTimersToTime</code> for <code>Jest</code> &lt; 22).</p>\n\n<p><strong>Issue 3</strong></p>\n\n<p><code>setTimeout</code> is not needed since <a href=\"https://jestjs.io/docs/en/timer-mocks\" rel=\"nofollow noreferrer\">Timer Mocks</a> execute synchronously.</p>\n\n<hr>\n\n<p>Here is an updated test for your component:</p>\n\n<pre class=\"lang-tsx prettyprint-override\"><code>test('LoadingDots by default renders with 3 dots', () =&gt; {\n  jest.useFakeTimers();  // replace timer functions like setInterval with timer mocks\n  const dots = 3;\n  const interval = 100;\n  var loadingDots = Enzyme.shallow(&lt;LoadingDots interval={interval} /&gt;);\n  for(let i = 1; i &lt;= 8; i++) {\n    const expectedDots = i % (dots + 1);\n    expect(loadingDots.find('p').first().text()).toBe('.'.repeat(expectedDots));\n    jest.runTimersToTime(interval);  // simulate time passing and run any applicable timer callbacks\n  }\n  jest.useRealTimers();  // restore timer functions\n});\n</code></pre>\n"}], "owner": {"reputation": 1361, "user_id": 5073189, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/783103cd0c5602484616eb286aa4871b?s=128&d=identicon&r=PG&f=1", "display_name": "James Morrison", "link": "https://stackoverflow.com/users/5073189/james-morrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 829, "favorite_count": 0, "accepted_answer_id": 52434251, "answer_count": 1, "score": 1, "last_activity_date": 1537482886, "creation_date": 1537354527, "question_id": 52404256, "link": "https://stackoverflow.com/questions/52404256/unexpected-behaviour-testing-react-component-after-delay-with-jest-enzyme", "title": "Unexpected behaviour testing React component after delay with Jest/Enzyme", "body": "<p>I have a pretty basic React component that displays a sequence of dots for when something is loading, by default it displays up to 3 dots and the dots increment on an interval set within a <code>componentDidMount</code> function, resetting at the number of dots. The number of dots and interval can both be overwritten by passing through props. This component is below.</p>\n\n<pre><code>import * as React from 'react';\n\nexport interface Props {\n    interval?: number;\n    dots?: number;\n}\n\nclass LoadingDots extends React.Component&lt;Props, object&gt; {\n    public static defaultProps: Partial&lt;Props&gt; = {\n        interval: 300,\n        dots: 3\n    };\n    interval: any;\n\n    state = {\n        frame: 1,\n        interval: this.props.interval,\n        dots: this.props.dots\n    }\n\n    componentDidMount = () =&gt; {\n        this.interval = setInterval(() =&gt; {\n            this.setState({\n                frame: this.state.frame + 1\n            });\n        }, this.props.interval);\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n\n    public render() {\n        let dots = this.state.frame % (this.props.dots + 1);\n        let text = \"\";\n        while (dots &gt; 0) {\n            text += \".\";\n            dots--;\n        }\n        return (\n                &lt;p className=\"loadingDots\" {...this.props}&gt;{text}&lt;/p&gt;\n        )\n    }\n}\n\nexport default LoadingDots;\n</code></pre>\n\n<p>The issue I'm now having is testing this component, following the <a href=\"https://jestjs.io/docs/en/timer-mocks\" rel=\"nofollow noreferrer\">Jest Documentation</a> and <a href=\"https://stackoverflow.com/questions/45478730/jest-react-testing-check-state-after-delay\">Jest react testing: Check state after delay</a> I have written the test below to check the correct default number of dots are rendered at the end of the set of frames (would pass with a 200ms delay).</p>\n\n<pre><code>test('LoadingDots by default renders with 3 dots', () =&gt; {\n    var loadingDots = Enzyme.shallow(&lt;LoadingDots interval={100} /&gt;);\n    jest.useFakeTimers();\n    jest.runAllTimers();\n    setTimeout(() =&gt; {\n        expect(loadingDots.find('p').text()).toBe(\"...\")\n    }, 300);\n});\n</code></pre>\n\n<p>This test passes but shouldn't, it passes regardless of what value I put in the <code>.ToBe</code> of <code>expect(loadingDots.find('p').text()).toBe(\"...\")</code>. </p>\n\n<p>I've tried rendering the component as <code>var loadingDots = Enzyme.mount();</code> and <code>var loadingDots = Enzyme.render();</code> but still the same outcome, does anyone see what's going wrong here? How can I get this to work correctly?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1537354321, "post_id": 52404172, "comment_id": 91752040, "body": "Just use an arrow function"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1537354591, "post_id": 52404172, "comment_id": 91752208, "body": "if you don&#39;t want <code>closeAllLists</code> to be a class member, you can simply put it outside of the class and write <code>function</code> in front of it."}], "owner": {"reputation": 21, "user_id": 9791571, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Drew Ingram", "link": "https://stackoverflow.com/users/9791571/drew-ingram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "closed_date": 1537354585, "answer_count": 0, "score": 0, "last_activity_date": 1537354246, "creation_date": 1537354246, "question_id": 52404172, "link": "https://stackoverflow.com/questions/52404172/calling-a-class-method-in-an-event-listener", "closed_reason": "Duplicate", "title": "Calling a class method in an event listener", "body": "<p>I'm trying to create a custom auto complete directive for Angular. I have it working to the point where I can create a select box when entering an input into a text field and clicking on one of those options fills the text field with the option I click. Once I've done that, I want to remove the dropdown entirely.</p>\n\n<p>I currently have a function to remove the list...</p>\n\n<pre><code>closeAllLists(element) {\n  console.log('clearing all lists');\n  const x = document.getElementsByClassName('autocomplete-items');\n  for (let i = 0; i &lt; x.length; i++) {\n    if (element !== x[i]) {\n      x[i].parentNode.removeChild(x[i]);\n    }\n  }\n}\n</code></pre>\n\n<p>And this works fine whenever I call it. The problem is that I need to call it in an event listener here...</p>\n\n<pre><code>    option.addEventListener('click', function(e) {\n      const myInput = document.getElementById('autocomplete-list').parentElement.querySelector('.name');\n      myInput.value = e.srcElement.innerHTML;\n      this.closeAllLists();\n    });\n</code></pre>\n\n<p>The problem is that when I call <code>this.closeAllLists();</code>, 'this' refers to the element that I'm attaching the event listener to. I can't just call <code>closeAllLists()</code> because typescript doesn't like that. How can I call my class method from inside my event listener?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript", "redux"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1615562993, "last_edit_date": 1615562993, "creation_date": 1537367661, "answer_id": 52408344, "question_id": 52404077, "link": "https://stackoverflow.com/questions/52404077/typescript-generics-function-overloading/52408344#52408344", "title": "Typescript generics function overloading", "body": "<p>There are a number of things going on here.</p>\n<p>First of all, you really don't need overloads: the only difference in those signatures is the type of <code>action</code>.  Overloads are useful when the multiple signatures differ in some coordinated way; for example, if the type of the return value of the function depends on the type of <code>action</code>, or if the <code>state</code> parameter type depends on the type of <code>action</code>.  Since nothing else in the signatures depends on the type of <code>action</code>, you can get the same behavior from the caller's side by (as you tried) changing the <code>action</code> to a union type (which is essentially just <code>A</code>, since <code>A | (A &amp; B) | (A &amp; C) | (A &amp; D)</code> is <a href=\"https://github.com/Microsoft/TypeScript/issues/16386\" rel=\"nofollow noreferrer\">essentially equivalent</a> to <code>A</code>.)</p>\n<p>As an aside, your overloads are actually ordered from least to most specific, which is backwards from what you generally want.  The call signatures are examined in order from top to bottom.  If a call does not match the first signature <code>reducer(state: S, action: A): S</code>, it will definitely not match any of the subsequent signatures <code>reducer(state: S, action: A &amp; XYZ): S</code>.  That means only the first signature will ever get used in practice.  If overloads were needed here, I'd tell you to put the more specific ones first, and provide more details about what makes something &quot;specific&quot;.  But this doesn't really matter because you don't need overloads.</p>\n<p>Your problem is really inside the implementation of the function, where you try to use a switch statement as a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-differentiating-types\" rel=\"nofollow noreferrer\">type guard</a> on the type of the <code>action</code> variable.  Unfortunately, the type of <code>action</code> involves <code>A</code>, a generic type parameter, and <a href=\"https://github.com/Microsoft/TypeScript/issues/17859\" rel=\"nofollow noreferrer\">TypeScript does not do narrowing on generic parameters</a>. It has been requested (<a href=\"https://github.com/microsoft/TypeScript/issues/24085\" rel=\"nofollow noreferrer\">microsoft/TypeScript#24085</a>), but apparently such narrowing would cause significant performance problems with the compiler.  My suggestion to you is to use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">user-defined type guards</a> to exert more control over the narrowing that happens.  It's a bit more verbose but it should work:</p>\n<pre><code>const isErrorAction =\n  &lt;A extends IAction &amp; { error?: any }&gt;(a: A): a is A &amp; { error: true } =&gt;\n    (a.error)\n\nconst isRequestAction =\n  &lt;A extends IAction &amp; { meta?: { isPending?: any } }&gt;(\n    a: A\n  ): a is A &amp; { meta: { isPending: true } } =&gt;\n    (a.meta &amp;&amp; a.meta.isPending);\n\nconst handleAsyncAction = &lt;S, A extends IAction&gt;(\n  handlers: IAsyncHandlers&lt;S, A&gt;\n): IReducer&lt;S, A&gt; =&gt; {\n  function reducer(state: S, action: A): S {\n\n    if (isErrorAction(action)) {\n      return getActionHandler(handlers.failure)(state)(action);\n    }\n\n    // not strictly necessary to narrow here, but why not\n    if (isRequestAction(action)) {\n      return getActionHandler(handlers.request)(state)(action);\n    }\n\n    return getActionHandler(handlers.success)(state)(action);\n  }\n\n  return reducer;\n};\n</code></pre>\n<p>Now the implementation type-checks without errors, and the call signatures have been simplified to a single one.</p>\n"}], "owner": {"reputation": 189, "user_id": 5627824, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3jUsydWELaY/AAAAAAAAAAI/AAAAAAAAGTU/BWI6I3C8lCQ/photo.jpg?sz=128", "display_name": "infctr", "link": "https://stackoverflow.com/users/5627824/infctr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 0, "accepted_answer_id": 52408344, "answer_count": 1, "score": 2, "last_activity_date": 1615562993, "creation_date": 1537353984, "question_id": 52404077, "link": "https://stackoverflow.com/questions/52404077/typescript-generics-function-overloading", "title": "Typescript generics function overloading", "body": "<p>I was trying to add function arguments overloads starting from the most specific but type narrowing doesn't seem to work. Also tried changing arguments to a union type, but type guards don't work either. What am I missing? </p>\n\n<pre><code>type IReducer&lt;S, A&gt; = (state: S, action: A) =&gt; S;\n\ninterface IAsyncHandlers&lt;S, A extends IAction&gt; {\n  request?: IReducer&lt;S, A&gt;;\n  success?: IReducer&lt;S, A&gt;;\n  failure?: IReducer&lt;S, A &amp; { payload: any; error: true }&gt;;\n}\n\ninterface IAction {\n  type: string;\n  payload: any;\n}\n\nconst getActionHandler = &lt;S, A&gt;(handler?: IReducer&lt;S, A&gt;) =&gt; (state: S) =&gt; (action: A): S =&gt;\n  handler ? handler(state, action) : state;\n\nconst handleAsyncAction = &lt;S, A extends IAction&gt;(handlers: IAsyncHandlers&lt;S, A&gt;): IReducer&lt;S, A&gt; =&gt; {\n  function reducer(state: S, action: A): S \n  function reducer(state: S, action: A &amp; { error: true }): S;\n  function reducer(state: S, action: A &amp; { meta: { isPending: true } }): S;\n\n  function reducer(state: S, action: A &amp; { error?: any; meta?: any } ): S {  \n    switch (true) {\n      case action.error:\n        // Property 'error' is optional in type 'IAction &amp; { error?: any; meta?: any; }' \n        // but required in type '{ payload: any; error: true; }'.\n        return getActionHandler(handlers.failure)(state)(action);\n\n      case action.meta &amp;&amp; action.meta.isPending:\n        return getActionHandler(handlers.request)(state)(action);\n\n      default:\n        return getActionHandler(handlers.success)(state)(action);\n    }\n  }\n\n  return reducer;\n};\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 2, "last_activity_date": 1537353211, "creation_date": 1537353211, "answer_id": 52403825, "question_id": 52403752, "link": "https://stackoverflow.com/questions/52403752/allow-props-children-to-be-anything-when-using-typescript-with-no-any-true/52403825#52403825", "title": "Allow props.children to be anything when using Typescript with &quot;no-any&quot;: true?", "body": "<p>If you're going to disallow <code>any</code>, you're pretty much going to have to be specific. But that doesn't mean repeating yourself. :-) You can define that union as a type:</p>\n\n<pre><code>type ComponentChildren = JSX.Element[] | JSX.Element | string;\n</code></pre>\n\n<p>...then use that type wherever you need to allow all three of those as <code>children</code>:</p>\n\n<pre><code>interface TableProps {\n    children: ComponentChildren;\n}\n</code></pre>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 52403825, "answer_count": 1, "score": 1, "last_activity_date": 1537353211, "creation_date": 1537352963, "question_id": 52403752, "link": "https://stackoverflow.com/questions/52403752/allow-props-children-to-be-anything-when-using-typescript-with-no-any-true", "title": "Allow props.children to be anything when using Typescript with &quot;no-any&quot;: true?", "body": "<p>I want to be able to pass anything into my component as <code>props.children</code>. My first thought would be to set the type of <code>props.children</code> to <code>any</code>.</p>\n\n<pre><code>interface MyProps {\n    children: any;\n}\n</code></pre>\n\n<p>But unfortunately we specify <code>\"no-any\": true</code> in out <code>tsconfig</code> file.</p>\n\n<p>So the solution that I have found working is:</p>\n\n<pre><code>interface TableProps {\n    children: JSX.Element[] | JSX.Element | string;\n}\n</code></pre>\n\n<p>But this feels very ugly. I dislike having to pass 3 arguments to mimic <code>any</code>. Is there a better way?</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1537352021, "post_id": 52403331, "comment_id": 91750537, "body": "If <code>this.Detail$</code> is an array, then <code>this.Detail$.canEditCode = true</code> will be invalid and if <code>this.Detail$</code> is an object, then <code>t.canEditCode = false</code>will be invalid."}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1537352165, "post_id": 52403331, "comment_id": 91750654, "body": "What type is <code>Detail$</code>? Usually, having a <code>$</code> at the end of the variable name suggests that it&#39;s an observable, but that&#39;s not how you use it. Also, is <code>this.tDetail$</code> a typo or is it another variable?"}, {"owner": {"reputation": 2795, "user_id": 299138, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8fbb4f1463f73154a35ad91312feb76?s=128&d=identicon&r=PG", "display_name": "DarkW1nter", "link": "https://stackoverflow.com/users/299138/darkw1nter"}, "edited": false, "score": 0, "creation_date": 1537352302, "post_id": 52403331, "comment_id": 91750751, "body": "Detail$ is just of type Object (Detail$: Object;), fixed the typo"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1537352304, "post_id": 52403331, "comment_id": 91750754, "body": "I saw you changed the <code>tDetail$</code> typo now, good. Can you create a stackblitz to show us what you&#39;re doing exactly?"}, {"owner": {"reputation": 2795, "user_id": 299138, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8fbb4f1463f73154a35ad91312feb76?s=128&d=identicon&r=PG", "display_name": "DarkW1nter", "link": "https://stackoverflow.com/users/299138/darkw1nter"}, "edited": false, "score": 0, "creation_date": 1537352381, "post_id": 52403331, "comment_id": 91750805, "body": "will do, give me 10 mins..."}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1537352575, "post_id": 52403331, "comment_id": 91750923, "body": "That&#39;s why you get typescript errors, forEach only works on arrays. If you want to have <code>canEditCode</code> you need to define it or declare Detail$ as <code>any</code>"}], "answers": [{"comments": [{"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "reply_to_user": {"reputation": 2795, "user_id": 299138, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8fbb4f1463f73154a35ad91312feb76?s=128&d=identicon&r=PG", "display_name": "DarkW1nter", "link": "https://stackoverflow.com/users/299138/darkw1nter"}, "edited": false, "score": 0, "creation_date": 1537353173, "post_id": 52403742, "comment_id": 91751304, "body": "@DarkW1nter happy to help"}], "tags": [], "owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "is_accepted": true, "score": 7, "last_activity_date": 1537352939, "creation_date": 1537352939, "answer_id": 52403742, "question_id": 52403331, "link": "https://stackoverflow.com/questions/52403331/angular-6-click-to-make-a-div-editable/52403742#52403742", "title": "Angular 6 - click to make a div editable", "body": "<p>try like this </p>\n\n<pre><code>&lt;div class=\"col-sm-6\" *ngFor=\"let item of detailItems\"&gt;\n    &lt;div class=\"card text-left\"&gt;\n        &lt;div class=\"card-header text-secondary\"&gt;{{item.title}}\n            &lt;small class=\"pull-right text-success\" (click)=\"item.canEditCode = true\"&gt;Edit&lt;/small&gt;\n            &lt;small class=\"pull-right text-danger\" (click)=\"item.canEditCode = false\"&gt;Close&lt;/small&gt;\n        &lt;/div&gt;\n        &lt;div class=\"card-body\"&gt;\n            &lt;span&gt;{{item.name}}&lt;/span&gt;\n            &lt;input *ngIf=\"item.canEditCode\" [(ngModel)]=\"item.name\" type=\"text\" class=\"form-control\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<blockquote>\n  <p>[(ngModel)]=\"item.name\" make two way binding to item property (name)</p>\n</blockquote>\n\n<p><a href=\"https://stackblitz.com/edit/angular-item-edit\" rel=\"noreferrer\"><strong>stackblitz demo</strong></a></p>\n"}, {"tags": [], "owner": {"reputation": 2316, "user_id": 6157848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pc1nw.jpg?s=128&g=1", "display_name": "nimeresam", "link": "https://stackoverflow.com/users/6157848/nimeresam"}, "is_accepted": false, "score": 2, "last_activity_date": 1561547392, "last_edit_date": 1561547392, "creation_date": 1546777130, "answer_id": 54061412, "question_id": 52403331, "link": "https://stackoverflow.com/questions/52403331/angular-6-click-to-make-a-div-editable/54061412#54061412", "title": "Angular 6 - click to make a div editable", "body": "<p>I think it's easier to use native <strong>HTML</strong> input for editing and viewing with <strong>ngModel</strong> and style options.\nSimply like this:</p>\n\n<pre><code>&lt;input type=\"text\" [(ngModel)]=\"title\" class=\"editable\"&gt;\n</code></pre>\n\n<p>And for <strong>CSS</strong> class:</p>\n\n<pre><code>.editable{\n   border:none;\n   outline:none;\n   background:transparent;\n}\n</code></pre>\n\n<p>That's should work.</p>\n"}], "owner": {"reputation": 2795, "user_id": 299138, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8fbb4f1463f73154a35ad91312feb76?s=128&d=identicon&r=PG", "display_name": "DarkW1nter", "link": "https://stackoverflow.com/users/299138/darkw1nter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7858, "favorite_count": 1, "accepted_answer_id": 52403742, "answer_count": 2, "score": 3, "last_activity_date": 1561547392, "creation_date": 1537351586, "last_edit_date": 1537352208, "question_id": 52403331, "link": "https://stackoverflow.com/questions/52403331/angular-6-click-to-make-a-div-editable", "title": "Angular 6 - click to make a div editable", "body": "<p>Using Angular 6, I have the html below and would like to click the edit text to make the div containing Detail$.Title editable.</p>\n\n<p>Im trying to do it as per <a href=\"https://stackoverflow.com/questions/48375522/how-to-make-a-column-editable-on-click-angular-4\">this SO post</a> </p>\n\n<pre><code> &lt;div class=\"col-sm-6\"&gt;\n    &lt;div class=\"card text-left\" &gt;\n      &lt;div class=\"card-header text-secondary\"&gt;Title &lt;small class=\"pull-right text-danger\" (click)=\"setTitleEdit()\"&gt;Edit Text&lt;/small&gt;&lt;/div&gt;\n      &lt;div class=\"card-body\"&gt;\n          &lt;span *ngIf=\"!cd.canEditCode\"&gt;{{Detail$.Title}}&gt;&lt;/span&gt;\n          &lt;input *ngIf=\"cd.canEditCode\" type=\"text\" class=\"form-control\"  /&gt;\n          &lt;p class=\"card-text text-secondary\"&gt;{{ Detail$.Title}}&lt;/p&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>intellisense doesn't like the forEach or canEditCode below, I know Im missing something, just not sure what, Im unsure where the canEditCode is coming from in the linked post. In my ts file Detail$ is an object containing the data returned from a call</p>\n\n<pre><code>getEventDetail(): void {\n    this.data.getDetail(this.id)\n      .subscribe(data =&gt; this.Detail$ = data);\n  }\nsetTitleEdit(){\n    this.Detail$.forEach(t =&gt; t.canEditCode = false)\n    this.Detail$.canEditCode=true\n  }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 1, "creation_date": 1537350986, "post_id": 52403104, "comment_id": 91749878, "body": "How is that array generated?"}, {"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 5, "creation_date": 1537350988, "post_id": 52403104, "comment_id": 91749879, "body": "Probably unrelated, but you have an off-by-one error. You should loop until <code>i &lt; array.length</code>, not <code>&lt;=</code>"}, {"owner": {"reputation": 3761, "user_id": 3481654, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zNEPG.png?s=128&g=1", "display_name": "Beginner", "link": "https://stackoverflow.com/users/3481654/beginner"}, "edited": false, "score": 0, "creation_date": 1537351116, "post_id": 52403104, "comment_id": 91749974, "body": "<code>console.log(this._metadataModel.Currency.length);</code> whats the result"}, {"owner": {"reputation": 45, "user_id": 10384964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/070ecb0c120699f0a515c30f9f4e56ec?s=128&d=identicon&r=PG&f=1", "display_name": "Darian", "link": "https://stackoverflow.com/users/10384964/darian"}, "edited": false, "score": 1, "creation_date": 1537351161, "post_id": 52403104, "comment_id": 91749999, "body": "I have added the result as a screenshot."}, {"owner": {"reputation": 38268, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 1, "creation_date": 1537351183, "post_id": 52403104, "comment_id": 91750014, "body": "Note the console&#39;s view of an object (and array) are updated when you expand them in the console. So what you see was a view of it at that time, and not a view of it at the time of the call. Do a <code>console.log(JSON.stringify(this._metadataModel.Currency))</code> to see exactly what the array is at the time of the for loop"}, {"owner": {"reputation": 45, "user_id": 10384964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/070ecb0c120699f0a515c30f9f4e56ec?s=128&d=identicon&r=PG&f=1", "display_name": "Darian", "link": "https://stackoverflow.com/users/10384964/darian"}, "edited": false, "score": 0, "creation_date": 1537351191, "post_id": 52403104, "comment_id": 91750022, "body": "I think the array is populated dynamically from a back-end service and then parsed into my Angular2+ UI"}, {"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 1, "creation_date": 1537351266, "post_id": 52403104, "comment_id": 91750064, "body": "When you post screenshots, please give context. The second screenshot just shows an empty array, but it&#39;s not clear how you obtained that output."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 2, "creation_date": 1537351299, "post_id": 52403104, "comment_id": 91750084, "body": "My first guess is the array is populated asynchronously, and since the console is live, it will update. However at the time of the for loop, the Array is still empty."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537351523, "post_id": 52403104, "comment_id": 91750229, "body": "@Darian the bottom line is you need to wait for the array to populate before using its data. See <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\" title=\"how do i return the response from an asynchronous call\">stackoverflow.com/questions/14220321/&hellip;</a>"}, {"owner": {"reputation": 2609, "user_id": 7432958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5BtB.jpg?s=128&g=1", "display_name": "Osama", "link": "https://stackoverflow.com/users/7432958/osama"}, "edited": false, "score": 0, "creation_date": 1537352196, "post_id": 52403104, "comment_id": 91750677, "body": "I delete my answer make sure that you have an array not a json object"}, {"owner": {"reputation": 2406, "user_id": 109945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/facc5198d606f80ad18d5fd852b93a68?s=128&d=identicon&r=PG", "display_name": "bug-a-lot", "link": "https://stackoverflow.com/users/109945/bug-a-lot"}, "edited": false, "score": 1, "creation_date": 1537353988, "post_id": 52403104, "comment_id": 91751818, "body": "It looks to me like you&#39;re trying to log the contents of the array, before your load completed - aka &quot;load meta data completed&quot; is logged after your for. Try to make sure you&#39;re running the test method, once your data has loaded."}], "answers": [{"comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537351554, "post_id": 52403273, "comment_id": 91750254, "body": "This is not the issue; the problem is that the array is indeed empty when the <code>for</code> loop runs."}, {"owner": {"reputation": 1221, "user_id": 9375533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a08c00e9e6694fe8222c6918801dcc0?s=128&d=identicon&r=PG&f=1", "display_name": "dcangulo", "link": "https://stackoverflow.com/users/9375533/dcangulo"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537351904, "post_id": 52403273, "comment_id": 91750460, "body": "@ChrisG I see. My bad. But I guess this method eliminates the purpose of getting the length and be able to iterate the object. Unless he got something he wants to do with the index."}], "tags": [], "owner": {"reputation": 1221, "user_id": 9375533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a08c00e9e6694fe8222c6918801dcc0?s=128&d=identicon&r=PG&f=1", "display_name": "dcangulo", "link": "https://stackoverflow.com/users/9375533/dcangulo"}, "is_accepted": false, "score": -1, "last_activity_date": 1537351412, "creation_date": 1537351412, "answer_id": 52403273, "question_id": 52403104, "link": "https://stackoverflow.com/questions/52403104/array-has-items-but-can-find-length/52403273#52403273", "title": "Array has Items, but can&#39; find length", "body": "<pre><code>for ( var item of this._metadataModel.Currency ) {\n    console.log(item);\n}\n</code></pre>\n\n<p>Try this.</p>\n\n<p>Then from <code>item</code> you can access <code>item.id</code>, <code>item.value</code>, etc.</p>\n"}], "owner": {"reputation": 45, "user_id": 10384964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/070ecb0c120699f0a515c30f9f4e56ec?s=128&d=identicon&r=PG&f=1", "display_name": "Darian", "link": "https://stackoverflow.com/users/10384964/darian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "closed_date": 1537351415, "answer_count": 1, "score": 3, "last_activity_date": 1537352998, "creation_date": 1537350925, "last_edit_date": 1537352998, "question_id": 52403104, "link": "https://stackoverflow.com/questions/52403104/array-has-items-but-can-find-length", "closed_reason": "Duplicate", "title": "Array has Items, but can&#39; find length", "body": "<p>I am trying to get the length of an array which has objects in. I am using the following test method to loop through the array using the length. But for some reason the length is 0, even though it has 47 Items in it, see screenshot.</p>\n\n<p>Code -</p>\n\n<pre><code>public test() {\n    console.log(this._metadataModel.Currency);\n    for (var i = 0; i &lt;= this._metadataModel.Currency.length; i++) {\n        console.log(i);\n    }\n}\n</code></pre>\n\n<p>The array </p>\n\n<p><img src=\"https://i.stack.imgur.com/VvUIA.png\" alt=\"Screen of console.log(array)\"></p>\n\n<p>From console I get--</p>\n\n<p><img src=\"https://i.stack.imgur.com/myWuA.png\" alt=\"Empty array, yet has items\"></p>\n"}, {"tags": ["typescript", "pattern-matching", "angular6"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1537350728, "post_id": 52403002, "comment_id": 91749734, "body": "Use <code>Validators.pattern(&#39;[6-9]\\\\d{9}&#39;)</code>. The <code>^</code> and <code>$</code> are added automatically."}, {"owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1537350852, "post_id": 52403002, "comment_id": 91749799, "body": "post your comment as answer of this question @WiktorStribi\u017cew"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1537354526, "post_id": 52403002, "comment_id": 91752169, "body": "Added with some explanations and an alternative."}], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 7, "last_activity_date": 1537350931, "creation_date": 1537350931, "answer_id": 52403107, "question_id": 52403002, "link": "https://stackoverflow.com/questions/52403002/how-to-validate-indian-mobile-number-using-pattern-in-angular-6/52403107#52403107", "title": "How to validate indian mobile number using Pattern in Angular 6", "body": "<p>You may use</p>\n\n<pre><code>Validators.pattern('[6-9]\\\\d{9}')\n</code></pre>\n\n<p>The <code>^</code> and <code>$</code> are added automatically when the pattern is set with the help of a string literal. Alternatively, you may use a regex literal notation (then, <code>^</code> and <code>$</code> are required):</p>\n\n<pre><code>Validators.pattern(/^[6-9]\\d{9}$/)\n</code></pre>\n\n<p>Note that <code>^</code> and <code>$</code> play no role in this concrete snippet since you limit the number of input chars with <code>maxlength=\"10\"</code> attribute.</p>\n\n<p>See the <a href=\"https://regex101.com/r/kb2Jh1/1\" rel=\"noreferrer\">resulting regex demo</a> and the <a href=\"https://stackblitz.com/edit/angular-mat-form-validation-eg-6wdqb9?file=app/input-error-state-matcher-example.ts\" rel=\"noreferrer\">updated Stackblitz demo</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 13666667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04dd3e8d75e576a3e31e401485ba7dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Sanchit", "link": "https://stackoverflow.com/users/13666667/sanchit"}, "is_accepted": false, "score": 0, "last_activity_date": 1591425060, "creation_date": 1591425060, "answer_id": 62228190, "question_id": 52403002, "link": "https://stackoverflow.com/questions/52403002/how-to-validate-indian-mobile-number-using-pattern-in-angular-6/62228190#62228190", "title": "How to validate indian mobile number using Pattern in Angular 6", "body": "<p>This is most easiest way to validate the Mobile Number in Angular.</p>\n\n<pre><code>&lt;input class=\"input\" id=\"phoneNumber\" type=\"tel\" placeholder=\"Your Mobile number [(ngModel)]=\"phone_number\" pattern=\"^[7-9][0-9]{9}$\" ngModel phone #phone=\"ngModel\" maxlength=\"10\" minlength=\"10\"&gt;\n\n  &lt;div class=\"\" *ngIf=\"phone.touched &amp;&amp; !phone.valid\"&gt;\n      &lt;div class=\"tag\" *ngIf=\"phone.errors.required\"&gt;Mobile No. is required. \n      &lt;/div&gt;\n      &lt;div  class=\"tag\" *ngIf=\" phone.errors.pattern\"&gt;Inaild Mobile Number&lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20182, "favorite_count": 0, "accepted_answer_id": 52403107, "answer_count": 2, "score": 2, "last_activity_date": 1591425060, "creation_date": 1537350606, "question_id": 52403002, "link": "https://stackoverflow.com/questions/52403002/how-to-validate-indian-mobile-number-using-pattern-in-angular-6", "title": "How to validate indian mobile number using Pattern in Angular 6", "body": "<p>As I mentioned in my title I am trying to validate the user entered mobile number is a indian number or not .</p>\n\n<p>For that I have referred a pattern from this <a href=\"https://stackoverflow.com/questions/3813195/regular-expression-for-indian-mobile-numbers\">regular expression for Indian mobile numbers</a></p>\n\n<p>But in my case it always returns false.</p>\n\n<p>I want to validate the following .</p>\n\n<ul>\n<li>number should starts with 6,7,8,9</li>\n<li>must have 10 digits</li>\n</ul>\n\n<p>app.component.html</p>\n\n<pre><code>&lt;form class=\"example-form\" [formGroup]=\"userAddressValidations\"&gt;\n    &lt;mat-form-field appearance=\"outline\" class=\"col-sm-6\"&gt;\n        &lt;mat-label&gt;10-digit Mobile Number&lt;/mat-label&gt;\n        &lt;input matInput formControlName=\"mobileNumber\" maxlength=\"10\" (keypress)=_keyPress($event)&gt;\n        &lt;mat-error *ngIf=\"userAddressValidations.get('mobileNumber').hasError('required')\"&gt;\n            Please fill out this field.\n        &lt;/mat-error&gt;\n        &lt;mat-error *ngIf=\"userAddressValidations.get('mobileNumber').hasError('pattern')\"&gt;\n            It is not a valid mobile number.\n        &lt;/mat-error&gt;\n    &lt;/mat-form-field&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>export class InputErrorStateMatcherExample {\n  userAddressValidations: FormGroup;\n  constructor(private formBuilder: FormBuilder) { }\n  ngOnInit() {\n    this.userAddressValidations = this.formBuilder.group({\n      mobileNumber: ['', [Validators.required, Validators.pattern('^[6-9]\\d{9}$')]]\n    });\n\n  }\n  _keyPress(event: any) {\n    const pattern = /[0-9]/;\n    let inputChar = String.fromCharCode(event.charCode);\n    if (!pattern.test(inputChar)) {\n        event.preventDefault();\n\n    }\n}\n}\n</code></pre>\n\n<p>Stackblitz :<a href=\"https://stackblitz.com/edit/angular-mat-form-validation-eg-4jag5u?file=app%2Finput-error-state-matcher-example.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-mat-form-validation-eg-4jag5u?file=app%2Finput-error-state-matcher-example.ts</a></p>\n\n<p>can anyone help me to fix it.</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "reply_to_user": {"reputation": 3961, "user_id": 2337243, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/eccc4abd3234bfab082413d35cae7b4d?s=128&d=identicon&r=PG&f=1", "display_name": "Souad", "link": "https://stackoverflow.com/users/2337243/souad"}, "edited": false, "score": 0, "creation_date": 1537351429, "post_id": 52403051, "comment_id": 91750167, "body": "But wouldnt that simply fix the issue ?"}], "tags": [], "owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "is_accepted": true, "score": 1, "last_activity_date": 1537350773, "creation_date": 1537350773, "answer_id": 52403051, "question_id": 52402977, "link": "https://stackoverflow.com/questions/52402977/the-options-are-not-showing-or-being-selected-in-mat-select/52403051#52403051", "title": "the options are not showing or being selected in mat-select", "body": "<p>You are \"preselecting\" names</p>\n\n<pre><code>this.selectedApps.push(data['results'][0]['apps'][i]['name']);  \n</code></pre>\n\n<p>while your options contains ids</p>\n\n<pre><code>&lt;mat-option\n          *ngFor=\"let app of appsList?.results\" [value]=\"app.id\"&gt;{{app.name\n        }}&lt;/mat-option&gt;\n</code></pre>\n\n<p>In order to get it work, <code>selectedApps</code> mush keep the same values that are available on <code>mat-option [value]</code> property. After all, this is what will be the actual <code>mat-select</code> value. </p>\n\n<p>To be honest, I would make whole <code>app</code> as a value as there is no reason to threat it orherwise. It would simplify much of code. </p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 10384812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e5632aa4bd8efbd311b067e086a4d1?s=128&d=identicon&r=PG&f=1", "display_name": "Omobolanle Aro", "link": "https://stackoverflow.com/users/10384812/omobolanle-aro"}, "is_accepted": false, "score": 1, "last_activity_date": 1537352392, "creation_date": 1537352392, "answer_id": 52403598, "question_id": 52402977, "link": "https://stackoverflow.com/questions/52402977/the-options-are-not-showing-or-being-selected-in-mat-select/52403598#52403598", "title": "the options are not showing or being selected in mat-select", "body": "<p>I added some dummy data in the component.ts file and I can see the selectedApps in the form field.</p>\n\n<p>in the template file</p>\n\n<pre><code>&lt;form&gt;\n  &lt;div class=\"col-sm-8 float-left\"&gt;\n    &lt;mat-form-field&gt; &lt;mat-select\n      [(value)]=\"selectedApps\" \n      placeholder=\"Select the associated applications ...\"\n      multiple (click)=\"getAppList();\"&gt; &lt;mat-option\n      *ngFor=\"let app of appsList\" [value]=\"app.value\"&gt;{{app.name\n    }}&lt;/mat-option&gt; &lt;/mat-select&gt; &lt;/mat-form-field&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>and in the ts file:</p>\n\n<pre><code>export class SelectFormExample {\nselectedApps: string;\n appsList = [\n {value: 'app_1', results: 'App1-result', name: 'APP 1'},\n{value: 'app_2', results: 'App2-result', name: 'APP 2'},\n{value: 'app_3', results: 'App3-result', name: 'APP 3'}\n];\n\ngetAppList(){\n    console.log('getAppList');\n  }\n</code></pre>\n"}], "owner": {"reputation": 3961, "user_id": 2337243, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/eccc4abd3234bfab082413d35cae7b4d?s=128&d=identicon&r=PG&f=1", "display_name": "Souad", "link": "https://stackoverflow.com/users/2337243/souad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6911, "favorite_count": 0, "accepted_answer_id": 52403051, "answer_count": 2, "score": 1, "last_activity_date": 1537352392, "creation_date": 1537350524, "last_edit_date": 1537351839, "question_id": 52402977, "link": "https://stackoverflow.com/questions/52402977/the-options-are-not-showing-or-being-selected-in-mat-select", "title": "the options are not showing or being selected in mat-select", "body": "<p>I want to preselect some options inside <code>mat-select</code> field in my <code>Angular</code> Form, so I have this code in <code>typescript</code> file:</p>\n\n<pre><code>selectedApps = [];\nngOnInit() {\n    const url = this.baseUrl + `/projects/${this.id}`;\n    this.httpClient.get(url).subscribe((data: Array&lt;any&gt;) =&gt; {\n        for (let i=0; i&lt;data['results'][0]['apps'].length; i++) {\n            this.selectedApps.push(data['results'][0]['apps'][i]['name']);    \n        }\n\n    });\n}\n</code></pre>\n\n<p>Here is the mat-select input fild:</p>\n\n<pre><code>          &lt;div class=\"col-sm-8 float-left\"&gt;\n\n        &lt;mat-form-field&gt; &lt;mat-select\n          [(value)]=\"selectedApps\" \n          placeholder=\"Select the associated applications ...\"\n          multiple (click)=\"getAppList();\"&gt; &lt;mat-option\n          *ngFor=\"let app of appsList?.results\" [value]=\"app.id\"&gt;{{app.name\n        }}&lt;/mat-option&gt; &lt;/mat-select&gt; &lt;/mat-form-field&gt;\n      &lt;/div&gt;\n</code></pre>\n\n<p>My problem is that the value of <code>selectedApps</code> does not show inside the field, even that the values are properly pushed inside the array. why is that?</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 508, "user_id": 5836405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10f741c19e786c3ba3b37694592dabc6?s=128&d=identicon&r=PG&f=1", "display_name": "apollowebdesigns", "link": "https://stackoverflow.com/users/5836405/apollowebdesigns"}, "edited": false, "score": 2, "creation_date": 1537352497, "post_id": 52403490, "comment_id": 91750872, "body": "I still seem to be getting this linting error: zip is deprecated: resultSelector is no longer supported, pipe to map instead"}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 508, "user_id": 5836405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10f741c19e786c3ba3b37694592dabc6?s=128&d=identicon&r=PG&f=1", "display_name": "apollowebdesigns", "link": "https://stackoverflow.com/users/5836405/apollowebdesigns"}, "edited": false, "score": 0, "creation_date": 1537352906, "post_id": 52403490, "comment_id": 91751140, "body": "What I showed here doesn&#39;t use the <code>resultSelector</code> parameter so the error must be comming from somewhere else in your code"}, {"owner": {"reputation": 622, "user_id": 1177024, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3266d65812e9bdaf39fac5913b5c149a?s=128&d=identicon&r=PG", "display_name": "Michael Kargl", "link": "https://stackoverflow.com/users/1177024/michael-kargl"}, "reply_to_user": {"reputation": 508, "user_id": 5836405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10f741c19e786c3ba3b37694592dabc6?s=128&d=identicon&r=PG&f=1", "display_name": "apollowebdesigns", "link": "https://stackoverflow.com/users/5836405/apollowebdesigns"}, "edited": false, "score": 0, "creation_date": 1590673688, "post_id": 52403490, "comment_id": 109773481, "body": "@apollowebdesigns where you able to identify the problem?"}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 7, "last_activity_date": 1537352363, "last_edit_date": 1537352363, "creation_date": 1537352009, "answer_id": 52403490, "question_id": 52402769, "link": "https://stackoverflow.com/questions/52402769/angular-6-zip-is-deprecated-resultselector-is-no-longer-supported-pipe-to-map/52403490#52403490", "title": "Angular 6 zip is deprecated: resultSelector is no longer supported, pipe to map instead", "body": "<p>Simply by piping <code>zip</code> and <code>map</code>:</p>\n\n<pre><code>numbersOverTime$ = zip(array$, inter$)\n  .pipe(\n    map(([item, i]) =&gt; item)\n  );\n</code></pre>\n"}], "owner": {"reputation": 508, "user_id": 5836405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10f741c19e786c3ba3b37694592dabc6?s=128&d=identicon&r=PG&f=1", "display_name": "apollowebdesigns", "link": "https://stackoverflow.com/users/5836405/apollowebdesigns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6226, "favorite_count": 0, "accepted_answer_id": 52403490, "answer_count": 1, "score": 6, "last_activity_date": 1537352363, "creation_date": 1537349895, "last_edit_date": 1537350204, "question_id": 52402769, "link": "https://stackoverflow.com/questions/52402769/angular-6-zip-is-deprecated-resultselector-is-no-longer-supported-pipe-to-map", "title": "Angular 6 zip is deprecated: resultSelector is no longer supported, pipe to map instead", "body": "<p>In Angular 6 zip is deprecated:\n\u00a0\ntslint gives me the following message:</p>\n\n<p>\u00a0\u00a0\u00a0 \n<code>zip is deprecated: resultSelector is no longer supported, pipe to map instead</code></p>\n\n<p>\u00a0\nHow can I upgrade this following code:\n\u00a0\u00a0\u00a0 </p>\n\n<pre><code>import {interval, from, zip} from 'rxjs';\nlet testArray = [1, 2, 3, 4, 5];\narray$ = from(testArray);\ninter$ = interval(1000);\nnumbersOverTime$ = zip(array$, inter$, (item, i) =&gt; item);\n</code></pre>\n"}, {"tags": ["typescript", "graphql", "koa"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5883838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85485d691d29b8f5cb8f808bfafd057c?s=128&d=identicon&r=PG&f=1", "display_name": "Waltarb", "link": "https://stackoverflow.com/users/5883838/waltarb"}, "edited": false, "score": 0, "creation_date": 1537357998, "post_id": 52404963, "comment_id": 91754244, "body": "That works! Thanks, should have looked at the api my self."}], "tags": [], "owner": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "is_accepted": true, "score": 2, "last_activity_date": 1537356952, "creation_date": 1537356952, "answer_id": 52404963, "question_id": 52402396, "link": "https://stackoverflow.com/questions/52402396/has-no-exported-member-graphqlkoa-and-have-tried-all-the-config-options/52404963#52404963", "title": "has no exported member &#39;graphqlKoa&#39; and have tried all the config options", "body": "<p>As the error implies, the <code>apollo-server-koa</code> module does not have an export named <code>graphqlKoa</code>. As of version 2.0, the API for Apollo Server has changed pretty drastically. If you're using a more recent version of <code>apollo-server-koa</code>, your code should look more like this:</p>\n\n<pre><code>import Koa from 'koa'\nimport { ApolloServer } from 'apollo-server-koa'\nimport { typeDefs, resolvers } from './somewhere' \n\nconst server = new ApolloServer({ typeDefs, resolvers })\nconst app = new Koa()\n\nserver.applyMiddleware({ app });\napp.listen({ port: 4000 }, () =&gt;\n  console.log(`Server ready at http://localhost:4000${server.graphqlPath}`),\n)\n</code></pre>\n\n<p>If you're not utilizing any other routes, you can also just set up a \"standalone\" server by using the <code>apollo-server</code> package instead:</p>\n\n<pre><code>import { ApolloServer } from 'apollo-server'\nimport { typeDefs, resolvers } from './somewhere' \n\nconst server = new ApolloServer({ typeDefs, resolvers })\n\nserver.listen().then(({ url }) =&gt; {\n  console.log(`\ud83d\ude80 Server ready at ${url}`);\n});\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5883838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85485d691d29b8f5cb8f808bfafd057c?s=128&d=identicon&r=PG&f=1", "display_name": "Waltarb", "link": "https://stackoverflow.com/users/5883838/waltarb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1457, "favorite_count": 0, "accepted_answer_id": 52404963, "answer_count": 1, "score": 0, "last_activity_date": 1537356952, "creation_date": 1537348820, "question_id": 52402396, "link": "https://stackoverflow.com/questions/52402396/has-no-exported-member-graphqlkoa-and-have-tried-all-the-config-options", "title": "has no exported member &#39;graphqlKoa&#39; and have tried all the config options", "body": "<p>I have been running in circles with this issue, I am trying to set up a typescript koa backend with graphql but keep getting this error.</p>\n\n<pre><code>[nodemon] starting `ts-node --inspect -r tsconfig-paths/register ./src/server.ts`\n\n/home/wouter/dev/project/node_modules/ts-node/src/index.ts:261\n    return new TSError(diagnosticText, diagnosticCodes)\n           ^\nTSError: \u2a2f Unable to compile TypeScript:\nsrc/routes.ts(4,10): error TS2305: Module '\"/home/wouter/dev/project/node_modules/apollo-server-koa/dist/index\"' has no exported member 'graphqlKoa'.\nsrc/routes.ts(4,22): error TS2305: Module '\"/home/wouter/dev/project/node_modules/apollo-server-koa/dist/index\"' has no exported member 'graphiqlKoa'.\nsrc/routes.ts(6,24): error TS2307: Cannot find module 'graphql/schema'.\n\n    at createTSError (/home/wouter/dev/project/node_modules/ts-node/src/index.ts:261:12)\n    at getOutput (/home/wouter/dev/project/node_modules/ts-node/src/index.ts:367:40)\n    at Object.compile (/home/wouter/dev/project/node_modules/ts-node/src/index.ts:558:11)\n    at Module.m._compile (/home/wouter/dev/project/node_modules/ts-node/src/index.ts:439:43)\n    at Module._extensions..js (internal/modules/cjs/loader.js:665:10)\n    at Object.require.extensions.(anonymous function) [as .ts] (/home/wouter/dev/project/node_modules/ts-node/src/index.ts:442:12)\n    at Module.load (internal/modules/cjs/loader.js:566:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:506:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:498:3)\n    at Module.require (internal/modules/cjs/loader.js:598:17)\n[nodemon] app crashed - waiting for file changes before starting...\n</code></pre>\n\n<p>This is the routes.ts file </p>\n\n<pre><code>import Router from 'koa-router';\nimport koaBody from 'koa-bodyparser';\n\nimport { graphqlKoa, graphiqlKoa } from 'apollo-server-koa';\n\nimport { schema } from 'graphql/schema';\n\n\nexport const routes = new Router();\n\n// API entrypoint\nconst apiEntrypointPath = '/graphql';\nconst graphQlOpts = graphqlKoa({\n  schema,\n});\n\nroutes.get(apiEntrypointPath, graphQlOpts);\nroutes.post(apiEntrypointPath, koaBody(), graphQlOpts);\n\n// GraphiQL entrypoint\nroutes.get('/graphiql', graphiqlKoa({ endpointURL: apiEntrypointPath }));\n</code></pre>\n\n<p>and this is my tsconfig.json</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n      \"target\": \"es6\",\n      \"strict\": false,\n      \"module\": \"commonjs\",\n      \"moduleResolution\": \"node\",\n      \"noImplicitAny\": false,\n      \"emitDecoratorMetadata\": true,\n      \"allowSyntheticDefaultImports\": true,\n      \"experimentalDecorators\": true,\n      \"esModuleInterop\": true,\n      \"sourceMap\": true,\n      \"baseUrl\": \"./src\"\n\n    },\n    \"exclude\": [\n      \"node_modules\",\n      \"client\",\n      \"**/*.spec.ts\"\n    ]\n}\n</code></pre>\n\n<p>The most information I can find is that I need to change \"esModuleInterop\" to true but this doesn't help. I also tried adding skipLibCheck but still no luck.  As far as I know I do have the correct typings installed so I wonder what is going on?</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 1113, "user_id": 5246199, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/tSE1u.jpg?s=128&g=1", "display_name": "Parth Savadiya", "link": "https://stackoverflow.com/users/5246199/parth-savadiya"}, "edited": false, "score": 1, "creation_date": 1537348924, "post_id": 52402337, "comment_id": 91748598, "body": "You need to use BehaviorSubject in your service <a href=\"https://medium.com/@weswhite/angular-behaviorsubject-service-60485ef064fc\" rel=\"nofollow noreferrer\">medium.com/@weswhite/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 538, "user_id": 2087260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81f0d999e4e64a955a4fb024bec44280?s=128&d=identicon&r=PG&f=1", "display_name": "christoph", "link": "https://stackoverflow.com/users/2087260/christoph"}, "is_accepted": false, "score": 2, "last_activity_date": 1537349986, "last_edit_date": 1537349986, "creation_date": 1537349047, "answer_id": 52402484, "question_id": 52402337, "link": "https://stackoverflow.com/questions/52402337/angular-6-observable-subscription-doesnt-work/52402484#52402484", "title": "Angular 6 - observable subscription doesn&#39;t work", "body": "<p>With your example it is clear that the service gets it every 2 seconds due to </p>\n\n<pre><code>timer(1000, 2000).subscribe(() =&gt; {\n</code></pre>\n\n<p>In the component, your subscribe simply without an interval. As the getTask does not emit an event later, nothing will be updated.</p>\n\n<p>Either use also a timer in the component (not elegant) or emit the <code>.next</code> manually:</p>\n\n<p>In Service:</p>\n\n<pre><code>public myObserver$: Subject&lt;any&gt;;\n[...]\nconstructor(private http: HttpClient) {\n\n  timer(1000, 2000).subscribe(() =&gt; {\n    this.http.get&lt;Task[]&gt;(this.tasksURL).subscribe(value =&gt; {\n      this.tasks = value;\n      myObserver$.next(this.tasks);\n    )}\n  }); // fetches and update the array every 2 seconds\n}\n</code></pre>\n\n<p>You can then subscribe to <code>myObserver$</code> in the service instead of the <code>getTasks()</code> method. You don't need the timer in the component.</p>\n\n<p>You should also store your Subscription in the component to a variable:</p>\n\n<pre><code>private subscriptionRef: Subscription;\n\nconstructor(private taskService: TaskService) {\n  this.subscription = this.taskService.getTasks().subscribe(tasks =&gt; {  // this is triggered only once, why ?\n  this.tasks = tasks;\n  });\n}\n</code></pre>\n\n<p>so that you can unsubscribe in the ngOnDestroy method.</p>\n\n<pre><code>ngOnDestroy(): void {\n  this.subscription.unsubscribe();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2056, "user_id": 4156142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7lLVu.png?s=128&g=1", "display_name": "xrobert35", "link": "https://stackoverflow.com/users/4156142/xrobert35"}, "is_accepted": true, "score": 4, "last_activity_date": 1537424225, "last_edit_date": 1537424225, "creation_date": 1537349419, "answer_id": 52402606, "question_id": 52402337, "link": "https://stackoverflow.com/questions/52402337/angular-6-observable-subscription-doesnt-work/52402606#52402606", "title": "Angular 6 - observable subscription doesn&#39;t work", "body": "<p>You can manage to do what you want by using Subject/Behaviour : just some change in your service</p>\n\n<pre><code>import { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\nexport class TaskService {\n\n  tasks: new BehaviorSubject&lt;Task[]&gt;([]);\n  tasksURL = 'http://localhost:8080/api/tasks/';\n\n  constructor(private http: HttpClient) {\n\n     timer(1000, 2000).subscribe(() =&gt; {\n       this.http.get&lt;Task[]&gt;(this.tasksURL).subscribe( (value) =&gt; { \n         this.tasks.next(value);\n       })\n     }); // fetches and update the array every 2 seconds\n  }\n\n  getTasks(): Observable&lt;Task[]&gt; {\n        return tasks.asObservable(); //returns observable which is then used by the component\n  }\n</code></pre>\n"}], "owner": {"reputation": 837, "user_id": 9010081, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6949264d1d61ea7ac512c3f36339dadd?s=128&d=identicon&r=PG&f=1", "display_name": "masterofdisaster", "link": "https://stackoverflow.com/users/9010081/masterofdisaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7255, "favorite_count": 0, "accepted_answer_id": 52402606, "answer_count": 2, "score": 3, "last_activity_date": 1537424225, "creation_date": 1537348674, "question_id": 52402337, "link": "https://stackoverflow.com/questions/52402337/angular-6-observable-subscription-doesnt-work", "title": "Angular 6 - observable subscription doesn&#39;t work", "body": "<p>I have the following case. Service as usually is fetching data from the server, and this data needs to be updated in other component.</p>\n\n<p>The component gets subscribed value only once but the service is getting data every 2 seconds. I tested it, and the service is doing it right.</p>\n\n<p>It doesn't in my case if the subscirption is either in ngOnInit or constructor</p>\n\n<p><strong>component:</strong></p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {TaskService} from \"../../services/task.service\";\nimport {Task} from \"../../models/task\";\n\n@Component({\n  selector: 'app-tasks',\n  templateUrl: './tasks.component.html',\n  styleUrls: ['./tasks.component.css']\n})\nexport class TasksComponent implements OnInit {\n  tasks: Task[];\n\n  constructor(private taskService: TaskService) {\n    this.taskService.getTasks().subscribe(tasks =&gt; {  // this is triggered only once, why ?\n      this.tasks = tasks;\n      console.log(tasks);\n    });\n  }\n\n  ngOnInit() {\n\n  }\n\n  updateTask(task: Task) {\n    try {\n      task.completed = !task.completed;\n      this.taskService.updateTask(task).subscribe();\n    }\n    catch (e) {\n      task.completed = !task.completed;\n    }\n  }\n\n}\n</code></pre>\n\n<p><strong>service:</strong></p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\nimport {Observable, of, timer} from \"rxjs\";\nimport {Task} from \"../models/task\";\n\n\nconst httpOptions = {\n  headers: new HttpHeaders({'Content-Type': 'application/json'})\n};\n\n\n@Injectable({\n  providedIn: 'root'\n})\n\n\nexport class TaskService {\n\n  tasks: Task[];\n  tasksURL = 'http://localhost:8080/api/tasks/';\n\n  constructor(private http: HttpClient) {\n\n    timer(1000, 2000).subscribe(() =&gt; {\n      this.http.get&lt;Task[]&gt;(this.tasksURL).subscribe(value =&gt; this.tasks = value)\n    }); // fetches and update the array every 2 seconds\n  }\n\n  getTasks(): Observable&lt;Task[]&gt; {\n    return of(this.tasks); //returns observable which is than used by the component\n  }\n\n  updateTask(task: Task): Observable&lt;Task&gt; {\n    const url = `${this.tasksURL}`;\n\n    return this.http.post&lt;Task&gt;(url, task, httpOptions)\n\n  }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 968, "user_id": 5461909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/991706507560000/picture?type=large", "display_name": "Ozan", "link": "https://stackoverflow.com/users/5461909/ozan"}, "edited": false, "score": 0, "creation_date": 1537350432, "post_id": 52402305, "comment_id": 91749564, "body": "You need to create the refs inside of your constructor of the class where they are being created. Check the documentation regarding the <a href=\"https://reactjs.org/docs/refs-and-the-dom.html\" rel=\"nofollow noreferrer\">refs</a>"}, {"owner": {"reputation": 495, "user_id": 9318563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1909791269335276/picture?type=large", "display_name": "Dimitry Ivashchuk", "link": "https://stackoverflow.com/users/9318563/dimitry-ivashchuk"}, "reply_to_user": {"reputation": 968, "user_id": 5461909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/991706507560000/picture?type=large", "display_name": "Ozan", "link": "https://stackoverflow.com/users/5461909/ozan"}, "edited": false, "score": 0, "creation_date": 1537359900, "post_id": 52402305, "comment_id": 91755331, "body": "As the above code for the not isolated inputs is working, I specifically need a way to control them from parent component. In terms of ref creation it works well."}], "answers": [{"comments": [{"owner": {"reputation": 495, "user_id": 9318563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1909791269335276/picture?type=large", "display_name": "Dimitry Ivashchuk", "link": "https://stackoverflow.com/users/9318563/dimitry-ivashchuk"}, "edited": false, "score": 0, "creation_date": 1537427997, "post_id": 52417591, "comment_id": 91782435, "body": "Thanks, I will give it a shot, and tell you if it works!"}, {"owner": {"reputation": 495, "user_id": 9318563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1909791269335276/picture?type=large", "display_name": "Dimitry Ivashchuk", "link": "https://stackoverflow.com/users/9318563/dimitry-ivashchuk"}, "edited": false, "score": 0, "creation_date": 1537428963, "post_id": 52417591, "comment_id": 91782944, "body": "So I&#39;ve tried it, and it works for logging the output, but when I try to do something there like <code>public handleChangeOne = () =&gt; { this.refTwo.focus();};</code> it gives me <code>Object is possibly null error</code> If you know how to fix that, I would appreciate that. Thanks!"}, {"owner": {"reputation": 495, "user_id": 9318563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1909791269335276/picture?type=large", "display_name": "Dimitry Ivashchuk", "link": "https://stackoverflow.com/users/9318563/dimitry-ivashchuk"}, "edited": false, "score": 1, "creation_date": 1537432389, "post_id": 52417591, "comment_id": 91784690, "body": "I think I figured it out by myself! For anyone who will have the same problem, just check inside your handlers for refs to be true and execute block on this check"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 5, "last_activity_date": 1537417661, "creation_date": 1537417661, "answer_id": 52417591, "question_id": 52402305, "link": "https://stackoverflow.com/questions/52402305/passing-ref-down-to-child-in-react-typescript/52417591#52417591", "title": "Passing ref down to child in React + Typescript", "body": "<p>I don't know what went wrong for you, but the following is working for me:</p>\n\n<pre><code>import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nclass OuterComponent extends React.Component&lt;{}, {}&gt; {\n  refOne: null | HTMLInputElement = null;\n  refTwo: null | HTMLInputElement = null;\n  render() {\n    return &lt;InputBlock\n      handleChangeOne={this.handleChangeOne}\n      handleChangeTwo={this.handleChangeTwo}\n      refOne={refOne =&gt; (this.refOne = refOne)}\n      refTwo={refTwo =&gt; (this.refTwo = refTwo)}\n    /&gt;;\n  }\n\n  handleChangeOne = () =&gt; {\n    console.log(\"handleChangeOne\", this.refOne, this.refTwo);\n  }\n  handleChangeTwo = () =&gt; {\n    console.log(\"handleChangeTwo\", this.refOne, this.refTwo);\n  }\n}\n\ninterface IProps {\n  refOne: React.Ref&lt;HTMLInputElement&gt;;\n  refTwo: React.Ref&lt;HTMLInputElement&gt;;\n  handleChangeOne: React.ChangeEventHandler&lt;HTMLInputElement&gt;;\n  handleChangeTwo: React.ChangeEventHandler&lt;HTMLInputElement&gt;;\n}\nclass InputBlock extends React.Component&lt;IProps&gt; {\n  public render() {\n    return (\n      &lt;React.Fragment&gt;\n        &lt;input\n          ref={this.props.refOne}\n          onChange={this.props.handleChangeOne}\n          type=\"text\"\n        /&gt;\n        &lt;input\n          ref={this.props.refTwo}\n          onChange={this.props.handleChangeTwo}\n          type=\"text\"\n        /&gt;\n      &lt;/React.Fragment&gt;\n    );\n  }\n}\n\nReactDOM.render(&lt;OuterComponent/&gt;, document.getElementById(\"root\"));\n</code></pre>\n"}], "owner": {"reputation": 495, "user_id": 9318563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1909791269335276/picture?type=large", "display_name": "Dimitry Ivashchuk", "link": "https://stackoverflow.com/users/9318563/dimitry-ivashchuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4225, "favorite_count": 0, "accepted_answer_id": 52417591, "answer_count": 1, "score": 4, "last_activity_date": 1537417661, "creation_date": 1537348580, "last_edit_date": 1537348715, "question_id": 52402305, "link": "https://stackoverflow.com/questions/52402305/passing-ref-down-to-child-in-react-typescript", "title": "Passing ref down to child in React + Typescript", "body": "<p>I have an app, where I need to manage focus on the inputs and for that purpose I use React <code>ref</code>.</p>\n\n<p>I have two inputs that I want to move into a separate component. Now they look like following: </p>\n\n<pre><code>&lt;input\n  onChange={this.handleChangeOne}\n  ref={refOne =&gt; (this.refOne = refOne as HTMLInputElement)}\n  type=\"text\"\n/&gt;\n&lt;input\n  onChange={this.handleChangeTwo}\n  ref={refTwo =&gt; (this.refTwo = refTwo as HTMLInputElement)}\n  type=\"text\"\n/&gt;\n</code></pre>\n\n<p>I am having trouble to make the them work in a separate component while it involves passing down ref prop. I've tried something like this:</p>\n\n<pre><code>&lt;InputBlock\n\n          handleChangeOne={() =&gt; this.handleChangeOne}\n          handleChangeTwo={() =&gt; this.handleChangeTwo}\n          refOne=(refOne =&gt; (this.refOne = refOne as HTMLInputElement)}\n          refTwo={refTwo =&gt; (this.refTwo = refTwo as HTMLInputElement)}\n        /&gt;\n</code></pre>\n\n<p>And the components itself</p>\n\n<pre><code>class InputBlock extends React.Component&lt;IProps&gt; {\n  public render() {\n    return (\n      &lt;React.Fragment&gt;\n        &lt;input\n          ref={refOne}\n          onChange={handleChangeOne}\n          type=\"text\"\n        /&gt;\n        &lt;input\n          ref={refTwo}\n          onChange={handleChangeTwo}\n          type=\"text\"\n        /&gt;\n      &lt;/React.Fragment&gt;\n    );\n  }\n}\n\nexport default InputBlock;\n</code></pre>\n\n<p>For the sake of example I want <code>handleChangeOne</code> to focus on input two, and <code>handleChangeTwo</code> to focus on input one</p>\n"}, {"tags": ["typescript", "polyfills", "typescript3.0"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1537416629, "post_id": 52402166, "comment_id": 91778027, "body": "The first thing you tried for <code>polyfills.d.ts</code> should have worked.  Is <code>polyfills.d.ts</code> included by your <code>tsconfig.json</code> file?  If you jump to definition on <code>ObjectConstructor</code>, do you get a menu indicating that your declaration is being merged with the one in the standard library?"}, {"owner": {"reputation": 1530, "user_id": 2856360, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Zh14f.png?s=128&g=1", "display_name": "Tomasz Waszczyk", "link": "https://stackoverflow.com/users/2856360/tomasz-waszczyk"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1537435885, "post_id": 52402166, "comment_id": 91786772, "body": "@MattMcCutchen I think Your question is crucial. No. I do not see Object.setPrototypeOf. In polyfills.ts I see following error &quot;[ts] Property &#39;setPrototypeOf&#39; does not exist on type &#39;ObjectConstructor&#39;. Did you mean &#39;getPrototypeOf&#39;? lib.es5.d.ts(164, 5): &#39;getPrototypeOf&#39; is declared here.&quot;. It seems like polyfill.ts does not work. To solve my issue I read <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/declaration-merging.html</a>"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1537622861, "post_id": 52402166, "comment_id": 91856433, "body": "If you write <code>declare var foo: any;</code> in <code>polyfills.d.ts</code> and then reference <code>foo</code> from <code>polyfill.ts</code>, does the reference resolve to the declaration?  Maybe <code>polyfills.d.ts</code> is not included in your project."}, {"owner": {"reputation": 7754, "user_id": 5057736, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cbf9a7f1770cb7b75fc4db2a060cba4f?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel_K", "link": "https://stackoverflow.com/users/5057736/pavel-k"}, "edited": false, "score": 0, "creation_date": 1539384829, "post_id": 52402166, "comment_id": 92497342, "body": "Thank you for posting the found solution. Only it would be better to put it in own answer because people often read only the beginning of the question an go to the answers."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 1, "creation_date": 1544354094, "post_id": 52402166, "comment_id": 94239159, "body": "I think the solution is to bitch to the TS people to be honest. The polyfills solution is a crutch - <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": false, "score": 1, "last_activity_date": 1537349267, "creation_date": 1537349267, "answer_id": 52402554, "question_id": 52402166, "link": "https://stackoverflow.com/questions/52402166/property-setprototypeof-does-not-exist-on-type-objectconstructor/52402554#52402554", "title": "Property &#39;setPrototypeOf&#39; does not exist on type &#39;ObjectConstructor&#39;", "body": "<p>Add to the tsconfig.json this: </p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"lib\": [\n      ...\n      \"es7\"\n    ]\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1530, "user_id": 2856360, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Zh14f.png?s=128&g=1", "display_name": "Tomasz Waszczyk", "link": "https://stackoverflow.com/users/2856360/tomasz-waszczyk"}, "is_accepted": true, "score": 2, "last_activity_date": 1559633814, "creation_date": 1559633814, "answer_id": 56439388, "question_id": 52402166, "link": "https://stackoverflow.com/questions/52402166/property-setprototypeof-does-not-exist-on-type-objectconstructor/56439388#56439388", "title": "Property &#39;setPrototypeOf&#39; does not exist on type &#39;ObjectConstructor&#39;", "body": "<p>The way how I coped with that (not ideal) solution:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class KnownError extends Error {\r\n    public isKnownError: boolean = true;\r\n\r\n    constructor(message: string) {\r\n        super(message);\r\n        this.message = message;\r\n        //good enough solution, transpiled to ES5\r\n        (&lt;any&gt;Object).setPrototypeOf(this, KnownError.prototype)\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1530, "user_id": 2856360, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Zh14f.png?s=128&g=1", "display_name": "Tomasz Waszczyk", "link": "https://stackoverflow.com/users/2856360/tomasz-waszczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1379, "favorite_count": 0, "accepted_answer_id": 56439388, "answer_count": 2, "score": 3, "last_activity_date": 1559633814, "creation_date": 1537348121, "last_edit_date": 1537432871, "question_id": 52402166, "link": "https://stackoverflow.com/questions/52402166/property-setprototypeof-does-not-exist-on-type-objectconstructor", "title": "Property &#39;setPrototypeOf&#39; does not exist on type &#39;ObjectConstructor&#39;", "body": "<p>I want to implement polyfill Object.setPrototypeOf as is descrbed in:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf</a></p>\n\n<p>It is my polyfill.ts:</p>\n\n<pre><code>// Only works in Chrome and FireFox, does not work in IE:\nObject.setPrototypeOf = Object.setPrototypeOf || function(obj, proto) {\n    obj.__proto__ = proto;\n    return obj; \n}\n</code></pre>\n\n<p>polyfills.d.ts:</p>\n\n<pre><code>declare interface ObjectConstructor{\n\n        setPrototypeOf(obj: any, proto: any);\n\n}\n</code></pre>\n\n<p>I was trying with many possibilities of polyfill.d.ts:</p>\n\n<pre><code>declare global {\n\n    export interface ObjectConstructor {\n        setPrototypeOf(obj: any, proto: any);\n    }\n}\n</code></pre>\n\n<p>and still I have following error:</p>\n\n<blockquote>\n  <p>[ts] Property 'setPrototypeOf' does not exist on type\n  'ObjectConstructor'. Did you mean 'getPrototypeOf'? lib.es5.d.ts(164,\n  5): 'getPrototypeOf' is declared here.</p>\n</blockquote>\n\n<p>I migrate quite large application to TypeScript 3.0.3 that is why I need to implement the polyfill.</p>\n\n<p><strong>Found solution:</strong></p>\n\n<p>It is good enough to delete polyfill and:</p>\n\n<pre><code>export class KnownError extends Error {\n    public isKnownError: boolean = true;\n\n    constructor(message: string) {\n        super(message);\n        this.message = message;\n        //good enough solution, transpiled to ES5\n        (&lt;any&gt;Object).setPrototypeOf(this, KnownError.prototype)\n    }\n}\n</code></pre>\n\n<p><strong>More:</strong> <a href=\"https://stackoverflow.com/questions/41102060/typescript-extending-error-class\">Typescript - Extending Error class</a></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1237, "user_id": 8634494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b51e58bb17ee2ca6006e1c2154f1d16?s=128&d=identicon&r=PG&f=1", "display_name": "Stanisalv Dontsov", "link": "https://stackoverflow.com/users/8634494/stanisalv-dontsov"}, "is_accepted": true, "score": 1, "last_activity_date": 1537351122, "creation_date": 1537351122, "answer_id": 52403167, "question_id": 52402114, "link": "https://stackoverflow.com/questions/52402114/how-to-split-a-component-image-into-components-of-a-images-and-a-image-correctly/52403167#52403167", "title": "How to split a component image into components of a images and a image correctly?", "body": "<p>Try this: <a href=\"https://stackblitz.com/edit/angular-tzfal4\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-tzfal4</a></p>\n\n<p>gallery:\n</p>\n\n<pre><code>import { Component, Input } from '@angular/core';\nimport {Image} from './image'\n\n@Component({\n  selector: 'app-gallery-container',\n  template: '&lt;div class=\"container\"&gt;\\\n      &lt;div class=\"col m3\"&gt;\\\n        &lt;app-gallery-item *ngFor=\"let image of images\" [image]=\"image\"&gt;\\\n        &lt;/app-gallery-item&gt;\\\n      &lt;/div&gt;\\\n    &lt;/div&gt;'  \n})\nexport class GalleryContainerComponent  {\n  @Input()\n  images: Image[];\n}\n</code></pre>\n\n<p>gallery item:\n</p>\n\n<pre><code>import { Component, Input } from '@angular/core';\nimport {Image} from './image'\n\n@Component({\n  selector: 'app-gallery-item',\n  template: '&lt;mat-card class=\"example-card\"&gt;\\\n      &lt;mat-card-header&gt;\\\n        &lt;mat-card-title&gt;{{image.title}}&lt;/mat-card-title&gt;\\\n      &lt;/mat-card-header&gt;\\\n      &lt;img mat-card-image [src]=\"image.url\"&gt;\\\n    &lt;/mat-card&gt;'  \n})\nexport class GalleryItemComponent  {\n  @Input()\n  image: Image;\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 9941742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc0a1a6d1e15c0e13176291ced657da6?s=128&d=identicon&r=PG&f=1", "display_name": "senjust", "link": "https://stackoverflow.com/users/9941742/senjust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 52403167, "answer_count": 1, "score": 0, "last_activity_date": 1537351122, "creation_date": 1537347989, "last_edit_date": 1537348625, "question_id": 52402114, "link": "https://stackoverflow.com/questions/52402114/how-to-split-a-component-image-into-components-of-a-images-and-a-image-correctly", "title": "How to split a component image into components of a images and a image correctly?", "body": "<p>I have a 'App' component in Angualar:</p>\n\n<pre><code>import { Component } from '@angular/core';\ninterface IImages {\n  id: number; title: string; url: string;\n}\n..............\nexport class AppComponent {\n  images: IImages[]  = [\n    {\n      id: 1,\n      title: 'accusamus beatae ad facilis cum similique qui sunt',\n      url: 'https://placekitten.com/200/198',\n    }, ...\n</code></pre>\n\n<p>and my HTML</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;div class=\"col m3\"&gt;\n    &lt;mat-card class=\"example-card\" *ngFor=\"let image of images\"&gt;\n      &lt;mat-card-header&gt;\n        &lt;mat-card-title&gt;{{image.title}}&lt;/mat-card-title&gt;\n      &lt;/mat-card-header&gt;\n      &lt;img mat-card-image [src]=\"image.url\"&gt;\n    &lt;/mat-card&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>Now ,How to split this component into two, gallery and gallery-item?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 888, "user_id": 3829174, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/100002486236878/picture?type=large", "display_name": "Barbu Barbu", "link": "https://stackoverflow.com/users/3829174/barbu-barbu"}, "edited": false, "score": 1, "creation_date": 1537348245, "post_id": 52402108, "comment_id": 91748175, "body": "Object.values(myObj).filter(value =&gt; value);"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1537348596, "last_edit_date": 1537348596, "creation_date": 1537348276, "answer_id": 52402216, "question_id": 52402108, "link": "https://stackoverflow.com/questions/52402108/add-objects-to-array-in-function-in-typescript/52402216#52402216", "title": "Add Objects to Array in function In TypeScript", "body": "<p>You assign a function to an array, this is not ok. If you want to move the computation of the array to a function and assign the result of the function to the array, you need to execute the function. Also you should use an arrow function if you need to use instance memebrs inside the function (<code>this.months</code>)</p>\n\n<pre><code>let arrayMonths: Array&lt;string&gt; = (() =&gt; {\n    let array: Array&lt;string&gt; = []; //must initialize \n\n    for (let month of this.months) { // for - of a simpler option in this case if this.months is string[], you don't provide the definition of this though.\n        if (month) {\n            array.push(month);\n        }\n    }\n    return array;\n})();\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>If you just want to filter the array <code>Array.filter</code> would be the better option:</p>\n\n<pre><code>let arrayMonths: Array&lt;string&gt; =  this.months.filter(m =&gt; !!m);\n</code></pre>\n"}], "owner": {"reputation": 708, "user_id": 8658782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3188c396f4cd925b2488f6f4ec5a943f?s=128&d=identicon&r=PG&f=1", "display_name": "EduBw", "link": "https://stackoverflow.com/users/8658782/edubw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 52402216, "answer_count": 1, "score": 0, "last_activity_date": 1537349223, "creation_date": 1537347981, "last_edit_date": 1537348271, "question_id": 52402108, "link": "https://stackoverflow.com/questions/52402108/add-objects-to-array-in-function-in-typescript", "title": "Add Objects to Array in function In TypeScript", "body": "<p>I have a Object with 12 booleans, I want get only the values true and insert in my ArrayList, but I get error.</p>\n\n<pre><code>let arrayMonths: Array&lt;string&gt; = function () {\n    let array: Array&lt;string&gt;;\n    let obKeys = Object.keys(this.months), prop: string;\n\n    for (prop of obKeys) {\n        if (this.months[prop]) {\n            array.push(this.service.months[prop]);\n        }\n    }\n    return array;\n}\n</code></pre>\n\n<p>error:</p>\n\n<blockquote>\n  <p>\"message\": \"The type '() => string []' can not be assigned to the type 'string []'. \\ n The 'press' property is missing in the type '()\n  => string []'.\" ,</p>\n</blockquote>\n"}, {"tags": ["angularjs", "typescript", "vmware-clarity", "clarity"], "answers": [{"tags": [], "owner": {"reputation": 1363, "user_id": 4847197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b271b4de2db0853ced5f040fd36f2d65?s=128&d=identicon&r=PG&f=1", "display_name": "Eudes", "link": "https://stackoverflow.com/users/4847197/eudes"}, "is_accepted": true, "score": 5, "last_activity_date": 1537361618, "creation_date": 1537361618, "answer_id": 52406355, "question_id": 52401879, "link": "https://stackoverflow.com/questions/52401879/failed-to-execute-define-on-customelementregistry-when-using-clarityicons/52406355#52406355", "title": "Failed to execute &#39;define&#39; on &#39;CustomElementRegistry&#39; when using ClarityIcons", "body": "<p>It looks like you are somehow including Clarity Icons twice in your app. Typically, this can happen if you include the pre-compiled <code>clr-icons.min.js</code> and also bundle the icons library as part of your own JS bundle.</p>\n\n<p>Since you call <code>ClarityIcons.add()</code>, I'm guessing you <code>import { ClarityIcons } from \"@clr/icons\";</code>. If you do this, you want to remove <code>clr-icons.min.js</code> from your <code>index.html</code> and follow the \"Load Clarity Icons API and icon sets in Typescript\" section in the documentation: <a href=\"https://vmware.github.io/clarity/icons/clarity-icons\" rel=\"noreferrer\">https://vmware.github.io/clarity/icons/clarity-icons</a></p>\n"}], "owner": {"reputation": 350, "user_id": 4518105, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4q8c6.jpg?s=128&g=1", "display_name": "Felix Engelmann", "link": "https://stackoverflow.com/users/4518105/felix-engelmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1337, "favorite_count": 0, "accepted_answer_id": 52406355, "answer_count": 1, "score": 1, "last_activity_date": 1537361618, "creation_date": 1537347163, "question_id": 52401879, "link": "https://stackoverflow.com/questions/52401879/failed-to-execute-define-on-customelementregistry-when-using-clarityicons", "title": "Failed to execute &#39;define&#39; on &#39;CustomElementRegistry&#39; when using ClarityIcons", "body": "<p>In my application I want to use <code>ClarityIcons.add()</code> to add a custom icon. However I get the following error:</p>\n\n<pre><code>index.js:402 Uncaught DOMException: Failed to execute 'define' on 'CustomElementRegistry': this name has already been used with this registry\n    at Object../src/clr-icons/index.ts (http://localhost:4200/vendor.js:84958:20)\n    at __webpack_require__ (http://localhost:4200/vendor.js:84586:30)\n    at ./src/clr-icons/clr-icons-api.ts.Object.defineProperty.value (http://localhost:4200/vendor.js:84635:18)\n    at http://localhost:4200/vendor.js:84638:10\n    at webpackUniversalModuleDefinition (http://localhost:4200/vendor.js:84564:20)\n    at Object../node_modules/@clr/icons/index.js (http://localhost:4200/vendor.js:84566:3)\n    at __webpack_require__ (http://localhost:4200/runtime.js:84:30)\n    at Module../src/app/core/components/core/core.component.ts (http://localhost:4200/main.js:1528:68)\n    at __webpack_require__ (http://localhost:4200/runtime.js:84:30)\n    at Module../src/app/app.module.ts (http://localhost:4200/main.js:618:94)\n</code></pre>\n\n<p>I tried reproducing it in a stackblitz but there it worked fine. In other questions I read about deleting the <code>package-lock.json</code> and then reinstalling node modules. I tried this but I still have the same result. Any idea where the error could be?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 5723, "user_id": 3861083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lt392.jpg?s=128&g=1", "display_name": "Fabian Lauer", "link": "https://stackoverflow.com/users/3861083/fabian-lauer"}, "edited": false, "score": 2, "creation_date": 1537349584, "post_id": 52401860, "comment_id": 91748996, "body": "You should probably provide more info, such as the version of VS Code. Also, did you recently update VS Code or any extensions?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7545513"}, "reply_to_user": {"reputation": 5723, "user_id": 3861083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lt392.jpg?s=128&g=1", "display_name": "Fabian Lauer", "link": "https://stackoverflow.com/users/3861083/fabian-lauer"}, "edited": false, "score": 0, "creation_date": 1537353765, "post_id": 52401860, "comment_id": 91751667, "body": "Only the Visual Code update, but I didn&#39;t see anything in the changelog."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537416356, "post_id": 52401860, "comment_id": 91777954, "body": "Does the problem still occur if you open a new folder with a trivial TypeScript file, or does it occur only on your original project?  Do other features of the TypeScript language service still work, such as underlining of errors and type information when you hover over a variable?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7545513"}, "edited": false, "score": 0, "creation_date": 1537774674, "post_id": 52401860, "comment_id": 91890728, "body": "Occurs on every project"}], "answers": [{"tags": [], "owner": {"reputation": 12246, "user_id": 214980, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bf7aec50272874960980fd6923cf962c?s=128&d=identicon&r=PG", "display_name": "Sean", "link": "https://stackoverflow.com/users/214980/sean"}, "is_accepted": false, "score": 0, "last_activity_date": 1605187627, "creation_date": 1605187627, "answer_id": 64804785, "question_id": 52401860, "link": "https://stackoverflow.com/questions/52401860/visual-code-not-showing-unused-imports-variables-anymore/64804785#64804785", "title": "Visual Code not showing unused imports/variables anymore", "body": "<p>Not sure if this applies to VSCode, but in Visual Studio this worked for me:</p>\n<p><code>Tools -&gt; Options -&gt; Javascript/TypeScript -&gt; Linting -&gt; Enable ESLint</code></p>\n<p><a href=\"https://i.stack.imgur.com/eaVP9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eaVP9.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7545513"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1605187627, "creation_date": 1537347081, "last_edit_date": 1537353699, "question_id": 52401860, "link": "https://stackoverflow.com/questions/52401860/visual-code-not-showing-unused-imports-variables-anymore", "title": "Visual Code not showing unused imports/variables anymore", "body": "<p>I used to have unused imports/variables shown in a lighter color then normal so you could spot them. I just noticed however that I have unused imports that are not showing anymore.</p>\n\n<p>I disabled Beautify and Typescript hero etc. and switched back to the default skin but still nothing.</p>\n\n<ul>\n<li>Version: 1.27.2 </li>\n<li>Electron: 2.0.7  </li>\n<li>Chrome: 61.0.3163.100  </li>\n<li>Node.js: 8.9.3     </li>\n<li>V8: 6.1.534.41   </li>\n<li>Architecture: x64</li>\n</ul>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": false, "score": 1, "last_activity_date": 1537346718, "creation_date": 1537346718, "answer_id": 52401760, "question_id": 52401722, "link": "https://stackoverflow.com/questions/52401722/in-typescript-what-is-the-return-type-of-a-function-that-returns-a-void-functio/52401760#52401760", "title": "In typescript, what is the return type of a function that returns a void function?", "body": "<p>It would be <code>() =&gt; void</code></p>\n\n<p>It's something that you can check by hovering over the function name itself.</p>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 5, "last_activity_date": 1537346739, "creation_date": 1537346739, "answer_id": 52401767, "question_id": 52401722, "link": "https://stackoverflow.com/questions/52401722/in-typescript-what-is-the-return-type-of-a-function-that-returns-a-void-functio/52401767#52401767", "title": "In typescript, what is the return type of a function that returns a void function?", "body": "<p>Typescript will infer the return type, and the easiest way to find out what it infers is to hover over the symbol:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7vcgt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7vcgt.png\" alt=\"enter image description here\"></a></p>\n\n<p>As we can see the return type is <code>() =&gt; void</code>. Which is a function signature of a function with no argument (the <code>()</code> part), that returns <code>void</code> (the <code>=&gt; void</code> part).</p>\n\n<pre><code>function mysteryTypeFunction(): () =&gt; void {\n    return function(): void {\n        console.log('Doing some work!');\n    };\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1537346745, "creation_date": 1537346745, "answer_id": 52401770, "question_id": 52401722, "link": "https://stackoverflow.com/questions/52401722/in-typescript-what-is-the-return-type-of-a-function-that-returns-a-void-functio/52401770#52401770", "title": "In typescript, what is the return type of a function that returns a void function?", "body": "<p>use this.</p>\n\n<pre><code>mysteryTypeFunction(): () =&gt; void {\n    return () =&gt; {\n        console.log('Doing some work!');\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 508, "user_id": 5836405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10f741c19e786c3ba3b37694592dabc6?s=128&d=identicon&r=PG&f=1", "display_name": "apollowebdesigns", "link": "https://stackoverflow.com/users/5836405/apollowebdesigns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 52401767, "answer_count": 3, "score": 1, "last_activity_date": 1537346745, "creation_date": 1537346618, "last_edit_date": 1537346723, "question_id": 52401722, "link": "https://stackoverflow.com/questions/52401722/in-typescript-what-is-the-return-type-of-a-function-that-returns-a-void-functio", "title": "In typescript, what is the return type of a function that returns a void function?", "body": "<p>I am adding return type values to my functions based on comments I have received \nin a code review and I don't know what to assign the return type to on this function:</p>\n\n<pre><code>function mysteryTypeFunction(): mysteryType {\n    return function(): void {\n        console.log('Doing some work!');\n    };\n}\n</code></pre>\n\n<p>What is the mysteryType for this function?</p>\n"}, {"tags": ["typescript", "axios", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 6748, "user_id": 2474175, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/OyodG.jpg?s=128&g=1", "display_name": "Andrei V", "link": "https://stackoverflow.com/users/2474175/andrei-v"}, "edited": false, "score": 0, "creation_date": 1537350500, "post_id": 52401457, "comment_id": 91749603, "body": "The results are not correctly typed. In <code>then</code> you&#39;ll get an array of <code>axiosResponse</code> but what I need is an array where the fist element is of type <code>O1</code> and the second of type <code>O2</code>."}, {"owner": {"reputation": 872, "user_id": 5273114, "user_type": "registered", "profile_image": "https://graph.facebook.com/1138680229477301/picture?type=large", "display_name": "Martin Godzina", "link": "https://stackoverflow.com/users/5273114/martin-godzina"}, "reply_to_user": {"reputation": 6748, "user_id": 2474175, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/OyodG.jpg?s=128&g=1", "display_name": "Andrei V", "link": "https://stackoverflow.com/users/2474175/andrei-v"}, "edited": false, "score": 0, "creation_date": 1537350825, "post_id": 52401457, "comment_id": 91749788, "body": "You can cast the result into the desired subtype (Anwser edit)."}, {"owner": {"reputation": 6748, "user_id": 2474175, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/OyodG.jpg?s=128&g=1", "display_name": "Andrei V", "link": "https://stackoverflow.com/users/2474175/andrei-v"}, "edited": false, "score": 0, "creation_date": 1537351059, "post_id": 52401457, "comment_id": 91749935, "body": "That&#39;s not really fun. Sure, I can cast the result, but what happens when I have many more requests and their order changes? TypeScript will not be able to tell that I&#39;m accessing a different object (type). Although casting works, it doesn&#39;t really scale and it adds the overhead of manually making changes in multiple locations."}, {"owner": {"reputation": 872, "user_id": 5273114, "user_type": "registered", "profile_image": "https://graph.facebook.com/1138680229477301/picture?type=large", "display_name": "Martin Godzina", "link": "https://stackoverflow.com/users/5273114/martin-godzina"}, "reply_to_user": {"reputation": 6748, "user_id": 2474175, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/OyodG.jpg?s=128&g=1", "display_name": "Andrei V", "link": "https://stackoverflow.com/users/2474175/andrei-v"}, "edited": false, "score": 0, "creation_date": 1537351191, "post_id": 52401457, "comment_id": 91750020, "body": "True. The result looks not realy scaleable. At the moment i have no different approach - sorry."}, {"owner": {"reputation": 6748, "user_id": 2474175, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/OyodG.jpg?s=128&g=1", "display_name": "Andrei V", "link": "https://stackoverflow.com/users/2474175/andrei-v"}, "edited": false, "score": 0, "creation_date": 1537352801, "post_id": 52401457, "comment_id": 91751067, "body": "Thank you for your help!"}], "tags": [], "owner": {"reputation": 872, "user_id": 5273114, "user_type": "registered", "profile_image": "https://graph.facebook.com/1138680229477301/picture?type=large", "display_name": "Martin Godzina", "link": "https://stackoverflow.com/users/5273114/martin-godzina"}, "is_accepted": false, "score": 0, "last_activity_date": 1537350712, "last_edit_date": 1537350712, "creation_date": 1537345749, "answer_id": 52401457, "question_id": 52401124, "link": "https://stackoverflow.com/questions/52401124/how-to-type-axios-all-when-the-each-promise-has-a-different-return-type/52401457#52401457", "title": "How to type Axios.all when the each promise has a different return type", "body": "<p>You can create an base interface and let your O1 and O2 interfaceses extending this interface. Use the base interface as the generic type paramter inside the Axios.all statement.</p>\n\n<pre><code>  import Axios from 'axios';\n\n    //base interface\n    interface axiosResponse{}\n\n    //extend the base interface in both interfaces\n    interface O1 extends axiosResponse {\n        prop1: string;\n        prop2: boolean;\n    }\n\n    interface O2 extends axiosResponse {\n        prop3: number;\n        prop4: string;\n    }\n\n    interface Request&lt;T&gt; {\n        message: string;\n        data: T\n    }\n\n    const getO1 = () =&gt; Axios.get&lt;Request&lt;O1&gt;&gt;(\"/API/O1\");\n    const getO2 = () =&gt; Axios.get&lt;Request&lt;O2&gt;&gt;(\"/API/O2\");\n\n    //specify the base interface type as the generic type parameter\n    const getAll = () =&gt; Axios.all&lt;axiosResponse&gt;([getO1(), getO2()]).then( r =&gt; {\n      const result: O1 = &lt;O1&gt;r[0];\n      const result2: O2 = &lt;O2&gt;r[1];\n    })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6748, "user_id": 2474175, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/OyodG.jpg?s=128&g=1", "display_name": "Andrei V", "link": "https://stackoverflow.com/users/2474175/andrei-v"}, "edited": false, "score": 0, "creation_date": 1537353179, "post_id": 52401491, "comment_id": 91751306, "body": "Using <code>Promise.all</code> works, but then I have the overhead of getting the data from response (which Axios does automatically). I&#39;d probably need to handle errors as well. It requires further research... Still, it&#39;s a valid solution. Using the type assertion <code>as unknown as AxiosPromise&lt;[Request&lt;O1&gt;, Request&lt;O2&gt;]&gt;</code> could also be considered. Although I don&#39;t really like casting (I could have gone with casting directly in the response), this solution would have the casting in the same place as the function, so it would have a better chance of being spotted when changing the promises inside <code>all</code>."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1537346137, "last_edit_date": 1537346137, "creation_date": 1537345836, "answer_id": 52401491, "question_id": 52401124, "link": "https://stackoverflow.com/questions/52401124/how-to-type-axios-all-when-the-each-promise-has-a-different-return-type/52401491#52401491", "title": "How to type Axios.all when the each promise has a different return type", "body": "<p>Unfortunately the declaration for <code>Axios.all</code> is not very good. The way it is typed you can't pass in a tuple. </p>\n\n<pre><code>export interface AxiosStatic extends AxiosInstance {\n  all&lt;T&gt;(values: (T | Promise&lt;T&gt;)[]): Promise&lt;T[]&gt;;\n}\n</code></pre>\n\n<p>The parameter has to be an array of a single type <code>T</code>. Typescript will not infer a union for <code>T</code> and can't infer a tuple where an array is expected. </p>\n\n<p>We can have a look at how <code>Promise.all</code> is typed (which does support tuples)</p>\n\n<pre><code>all&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10&gt;(values: [T1 | PromiseLike&lt;T1&gt;, T2 | PromiseLike&lt;T2&gt;, T3 | PromiseLike&lt;T3&gt;, T4 | PromiseLike &lt;T4&gt;, T5 | PromiseLike&lt;T5&gt;, T6 | PromiseLike&lt;T6&gt;, T7 | PromiseLike&lt;T7&gt;, T8 | PromiseLike&lt;T8&gt;, T9 | PromiseLike&lt;T9&gt;, T10 | PromiseLike&lt;T10&gt;]): Promise&lt;[T1, T2, T3, T4, T5, T6, T7, T8, T9, T10]&gt;;\n// ...\nall&lt;T1, T2, T3, T4&gt;(values: [T1 | PromiseLike&lt;T1&gt;, T2 | PromiseLike&lt;T2&gt;, T3 | PromiseLike&lt;T3&gt;, T4 | PromiseLike &lt;T4&gt;]): Promise&lt;[T1, T2, T3, T4]&gt;;\nall&lt;T1, T2, T3&gt;(values: [T1 | PromiseLike&lt;T1&gt;, T2 | PromiseLike&lt;T2&gt;, T3 | PromiseLike&lt;T3&gt;]): Promise&lt;[T1, T2, T3]&gt;;\nall&lt;T1, T2&gt;(values: [T1 | PromiseLike&lt;T1&gt;, T2 | PromiseLike&lt;T2&gt;]): Promise&lt;[T1, T2]&gt;;\nall&lt;T&gt;(values: (T | PromiseLike&lt;T&gt;)[]): Promise&lt;T[]&gt;;\n</code></pre>\n\n<p>We can see that they use a lot of overloads to support tuples.</p>\n\n<p>If Axios promises are spec compliant, you could use try using <code>Promise.all</code>. The types work out, but I have not tested the runtime behavior myself.</p>\n\n<pre><code>const getAll = () =&gt; Promise.all([getO1(), getO2()]) //() =&gt; Promise&lt;[AxiosResponse&lt;Request&lt;O1&gt;&gt;, AxiosResponse&lt;Request&lt;O2&gt;&gt;]&gt;\n</code></pre>\n\n<p>Or you can stick with the axios version and use some type assertions:</p>\n\n<pre><code>const getAll = () =&gt; Axios.all&lt;{}&gt;([getO1(), getO2()]) as unknown as AxiosPromise&lt;[Request&lt;O1&gt;, Request&lt;O2&gt;]&gt;\n</code></pre>\n\n<p>Just a fun note, in 3.1 we will be able to type <code>all</code> without the 10 overloads:</p>\n\n<pre><code>type PromiseResult&lt;T&gt; = T extends AxiosPromise&lt;infer R&gt;? R: T\ntype ArrayPromiseResult&lt;T extends (any | AxiosPromise&lt;any&gt;)[]&gt; = { [P in keyof T]: PromiseResult&lt;T[P]&gt; }\ndeclare function all&lt;T extends [] | (any | AxiosPromise&lt;any&gt;)[]&gt;(values: T): AxiosPromise&lt;ArrayPromiseResult&lt;T&gt;&gt;\n\nlet result = all([getO1(),getO2()]) // result is AxiosPromise&lt;[Request&lt;O1&gt;, Request&lt;O2&gt;]&gt;\n</code></pre>\n"}], "owner": {"reputation": 6748, "user_id": 2474175, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/OyodG.jpg?s=128&g=1", "display_name": "Andrei V", "link": "https://stackoverflow.com/users/2474175/andrei-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2440, "favorite_count": 0, "accepted_answer_id": 52401491, "answer_count": 2, "score": 2, "last_activity_date": 1537350712, "creation_date": 1537344592, "question_id": 52401124, "link": "https://stackoverflow.com/questions/52401124/how-to-type-axios-all-when-the-each-promise-has-a-different-return-type", "title": "How to type Axios.all when the each promise has a different return type", "body": "<p>I have two Axios <code>get</code> requests, for which the return types have been explicitly declared. Here's a simplified example:</p>\n\n<pre><code>interface O1 {\n   prop1: string;\n   prop2: boolean;\n}\n\ninterface O2 {\n   prop3: number;\n   prop4: string;\n}\n\ninterface Request&lt;T&gt; {\n   message: string;\n   data: T\n}\n</code></pre>\n\n<p>Using these interfaces, I've typed my requests and the result object is also typed:</p>\n\n<pre><code>const getO1 = () =&gt; Axios.get&lt;Request&lt;O1&gt;&gt;(\"/API/O1\");\nconst getO2 = () =&gt; Axios.get&lt;Request&lt;O2&gt;&gt;(\"/API/O2\");\n</code></pre>\n\n<p>Now I need to make this calls in parallel, so I've tried <code>Axiox.all</code> but TypeScript complains the the <code>O1</code> and <code>O2</code> types do not match. Specifically, I've tried:</p>\n\n<pre><code>const getAll = () =&gt; Axios.all([getO1(), getO2()]);\n</code></pre>\n\n<p>From what I can see, TypeScript expects that, in the case of <code>all</code>, all results will have the same type (structure). Is there a way of having a typed concurrent call? (using Axios v0.18 and TypeScript v3.0.3)</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 3978, "user_id": 8593983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RMZOu.jpg?s=128&g=1", "display_name": "Sivakumar Tadisetti", "link": "https://stackoverflow.com/users/8593983/sivakumar-tadisetti"}, "edited": false, "score": 0, "creation_date": 1537343433, "post_id": 52400730, "comment_id": 91745432, "body": "Can you please provide stackblitz with the issue!!!"}, {"owner": {"reputation": 734, "user_id": 8636516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b4db0993772924fd3c4ee0a74b88d0f?s=128&d=identicon&r=PG&f=1", "display_name": "harkesh kumar", "link": "https://stackoverflow.com/users/8636516/harkesh-kumar"}, "reply_to_user": {"reputation": 3978, "user_id": 8593983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RMZOu.jpg?s=128&g=1", "display_name": "Sivakumar Tadisetti", "link": "https://stackoverflow.com/users/8593983/sivakumar-tadisetti"}, "edited": false, "score": 0, "creation_date": 1537343487, "post_id": 52400730, "comment_id": 91745462, "body": "i want something like this <a href=\"https://codepen.io/thompsonemerson/pen/jPvgoy\" rel=\"nofollow noreferrer\">codepen.io/thompsonemerson/pen/jPvgoy</a>"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 1, "creation_date": 1537343617, "post_id": 52400730, "comment_id": 91745528, "body": "Can you please show us what you&#39;ve tried to accomplish the task?"}, {"owner": {"reputation": 734, "user_id": 8636516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b4db0993772924fd3c4ee0a74b88d0f?s=128&d=identicon&r=PG&f=1", "display_name": "harkesh kumar", "link": "https://stackoverflow.com/users/8636516/harkesh-kumar"}, "edited": false, "score": 0, "creation_date": 1537347250, "post_id": 52400730, "comment_id": 91747586, "body": "i am just trying to do one checkbox selected at one and old more de- select"}, {"owner": {"reputation": 5898, "user_id": 3933927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Td4UR.png?s=128&g=1", "display_name": "Stavm", "link": "https://stackoverflow.com/users/3933927/stavm"}, "edited": false, "score": 1, "creation_date": 1537349841, "post_id": 52400730, "comment_id": 91749147, "body": "use a tool for what it&#39;s meant to - <a href=\"https://material.angular.io/components/radio/overview\" rel=\"nofollow noreferrer\">Material radio buttons</a>"}], "answers": [{"tags": [], "owner": {"reputation": 193, "user_id": 8626104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GlI7U.jpg?s=128&g=1", "display_name": "Varinder Singh Baidwan", "link": "https://stackoverflow.com/users/8626104/varinder-singh-baidwan"}, "is_accepted": false, "score": 0, "last_activity_date": 1566801238, "creation_date": 1566801238, "answer_id": 57652841, "question_id": 52400730, "link": "https://stackoverflow.com/questions/52400730/allow-only-one-checkbox-to-be-checked-in-angular-material/57652841#57652841", "title": "allow only one checkbox to be checked in angular Material", "body": "<pre><code> For selecting only one checkbox at one time, you can make changes in your code like this: \n\n&lt;tr *ngFor=\"let item of managerList;let i = index\"&gt; \n                            &lt;td scope=\"row\"&gt;\n                             &lt;div class=\"media align-items-center\"&gt;\n  &lt;mat-checkbox [disabled]=\"isDisabled\" [checked]=\"selected === i\" (change)=\"selected \n  =i\" id=\"{{item.id}}\" #checkbox=\"matCheckbox\"  (click)=\"getrecord(checkbox,element)\"&gt; {{item.fullName}} &lt;/mat-checkbox&gt; \n&lt;/div&gt;\n &lt;/td&gt;\n &lt;/tr&gt;\n</code></pre>\n"}], "owner": {"reputation": 734, "user_id": 8636516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b4db0993772924fd3c4ee0a74b88d0f?s=128&d=identicon&r=PG&f=1", "display_name": "harkesh kumar", "link": "https://stackoverflow.com/users/8636516/harkesh-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3690, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566801238, "creation_date": 1537343196, "last_edit_date": 1537349597, "question_id": 52400730, "link": "https://stackoverflow.com/questions/52400730/allow-only-one-checkbox-to-be-checked-in-angular-material", "title": "allow only one checkbox to be checked in angular Material", "body": "<p><strong><em>I am using Angular 6 and angular material data-table with checkbox I want to select one checkbox at one time.</em></strong></p>\n\n<p>Mat checkbox I am using as a checkbox.</p>\n\n<p>the only one can show selected checked and previous one unchecked. </p>\n\n<pre><code>&lt;span *ngIf=\"key.data == 'check'\"&gt;\n    &lt;td mat-cell *matCellDef=\"let row ; let i = index;\"&gt;\n       &lt;mat-checkbox (click)=\"checkBoxSelected(row, i)\"&gt;&lt;/mat-checkbox&gt;\n    &lt;/td&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p><strong><em>How to i hendle in typescipt so</em></strong>  </p>\n\n<p><a href=\"https://i.stack.imgur.com/6PbO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6PbO0.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>If I selected Both it allows me to do</em></strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/nC3f7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nC3f7.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>*but i want to select only one at a time so if you have an idea or you want to idea what <a href=\"https://codepen.io/thompsonemerson/pen/jPvgoy\" rel=\"nofollow noreferrer\">check here</a> like *</strong></p>\n"}, {"tags": ["javascript", "typescript", "chart.js", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9409672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbac68d888b1faa9461aad84236e62d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Sigl", "link": "https://stackoverflow.com/users/9409672/tim-sigl"}, "edited": false, "score": 0, "creation_date": 1537511896, "post_id": 52404400, "comment_id": 91818746, "body": "I added my question and tried your approach but with no success."}], "tags": [], "owner": {"reputation": 157, "user_id": 7634575, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcf4ce0e3f2722e330c0aed4302a8edc?s=128&d=identicon&r=PG&f=1", "display_name": "John Dow", "link": "https://stackoverflow.com/users/7634575/john-dow"}, "is_accepted": false, "score": 0, "last_activity_date": 1537354969, "creation_date": 1537354969, "answer_id": 52404400, "question_id": 52400388, "link": "https://stackoverflow.com/questions/52400388/chart-js-creating-multiple-charts-in-angular-in-same-component/52404400#52404400", "title": "Chart.js creating multiple Charts in Angular in same Component", "body": "<p>in the template (html), the id for the canvas has to be different for each chart</p>\n"}, {"tags": [], "owner": {"reputation": 24, "user_id": 11161917, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-no9_sDt3uBU/AAAAAAAAAAI/AAAAAAAABXI/Y46O9jno30o/photo.jpg?sz=128", "display_name": "Rabindranath ferreira", "link": "https://stackoverflow.com/users/11161917/rabindranath-ferreira"}, "is_accepted": false, "score": 0, "last_activity_date": 1568043213, "creation_date": 1568043213, "answer_id": 57857094, "question_id": 52400388, "link": "https://stackoverflow.com/questions/52400388/chart-js-creating-multiple-charts-in-angular-in-same-component/57857094#57857094", "title": "Chart.js creating multiple Charts in Angular in same Component", "body": "<p>i am going to give you diferrents approaches the first one it is the most simple the anothers you need a litle more knowledge...i hope it's help</p>\n\n<p>1.-\nYou can genera a single component just for render the chartjs graphic for example call it chart-dynamic with several inputs id for grabs the unique id you need for render several charts, and dataChart for all fully object to render , asuming that your tile. component looks like this</p>\n\n<p>Important!! you dataChart must be thinking like a array of object and each object it is basicly a chart you will render into your template (follow the oficial documentacion of chartJs)</p>\n\n<pre><code>&lt;div *ngIf=\"tile.type === 'tileImg'\"&gt;\n  &lt;div class=\"card custom-card\"\n       routerLinkActive=\"glowing\"&gt;\n    &lt;img class=\"card-img-top rounded\" src=\"{{ tile.imgPath }}\" alt=\"Tile image\" /&gt;\n    &lt;div class=\"card-body\"&gt;\n      &lt;p class=\" card-text text-center\"&gt;{{ tile.name }}&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div *ngIf=\"tile.type === 'tileChart'\"&gt;\n  &lt;div class=\"card custom-card\"\n       routerLinkActive=\"glowing\"&gt;\n&lt;!-- NEW CODE --&gt;\n\n&lt;ng-container *ngIf=\"dataChart?.length &gt; 0\" &gt;\n&lt;div *ngFor=\"let chart of dataChart; let i=index\"&gt;\n    &lt;app-chart-dynamic [id]=\"SomeUniqueID\" [dataChart]=\"chart\" [type]=\"chart.type\"&gt;&lt;/app-chart-dynamic&gt;\n&lt;/div&gt;\n&lt;/ng-container&gt;\n\n&lt;!-- Finish here --&gt;\n    &lt;div class=\"card-body\"&gt;\n      &lt;p class=\" card-text text-center\"&gt;{{ tile.name }}&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>IN YOUR tile.component.ts Generate data method as array of objects, move generateChart function into the new component</p>\n\n<pre><code>import { Component, OnInit, Input } from '@angular/core';\nimport { Chart } from 'chart.js';\n\nimport { Tile } from 'src/app/tile-container/tile/tile.model';\n//import { TileChart } from 'src/app/tile-container/tile/tile-chart.model';\n\n@Component({\n  selector: 'app-tile',\n  templateUrl: './tile.component.html',\n  styleUrls: ['./tile.component.css']\n})\nexport class TileComponent implements OnInit {\n  @Input() tile: Tile;\n  //tileChart: TileChart;\n  chart = [];\n  public dataChart: [];\n\n  constructor() { }\n\n  ngOnInit() {\n    //console.log(this.tile);\n    //console.log(this.tile.getType());\n    //console.log(this.tile.getChartType() + \"   \" + this.tile.getChartData() + \"  \" + this.tile.getType().localeCompare('tileChart'));\n    //console.log(this.tile.getType() == 'tileChart');\n    this.getCharts();\n  }\n\n  public getCharts() { \n    // call data from you service or data mock\n    this.dataChart = {....response};\n  }\n\n\n}\n</code></pre>\n\n<p>now assuming you has created your new component should looks like this (you have already import charJs and another stuff)</p>\n\n<pre><code>import { Component, OnInit, Input, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\nimport { Chart } from 'chart.js';\n\n@Component({\n  selector: 'app-chart-dynamic',\n  templateUrl: './chart-dynamic.component.html',\n  styleUrls: ['./chart-dynamic.component.css']\n})\nexport class ChartDynamic implements OnInit, AfterViewInit {\n\n  @Input() datasChart: any;\n  @Input() id: string;\n  @Input() type?: string;\n  public idChart: any;\n  @ViewChild('chart') chart: ElementRef;\n  public chartObject: any;\n\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n  generateChart(id: string ,chartType?: string, chartData: any) {\n    this.idChart = this.id;\n    this.chart = new Chart(`${this.idChart}`,  this.datasChart );\n  }\n\n  ngAfterViewInit() {\n    this.drawGraphics();\n  }\n\n}\n</code></pre>\n\n<p>app-chart-dynamic html file</p>\n\n<pre><code>&lt;div class=\"some-class-style\" &gt;\n    &lt;canvas [id]=\"id\" #chart&gt; {{ chart }}&lt;/canvas&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>it should work if you add into your modules and etc</p>\n\n<p><strong>the another approach is combine viewChild and viewChildren with factory resolver it is more complex but more power full you should check firts based on angular documentation</strong></p>\n"}], "owner": {"reputation": 15, "user_id": 9409672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbac68d888b1faa9461aad84236e62d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Sigl", "link": "https://stackoverflow.com/users/9409672/tim-sigl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3139, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568043213, "creation_date": 1537341991, "last_edit_date": 1537511784, "question_id": 52400388, "link": "https://stackoverflow.com/questions/52400388/chart-js-creating-multiple-charts-in-angular-in-same-component", "title": "Chart.js creating multiple Charts in Angular in same Component", "body": "<p>I have an Angular 6 Project with a Component which gets an tile Object passed by its parrent. For every tile passend I want to generate the same Chart with chart.js. I works fine for the first Chart but all the others don't get rendered. The console Error Code:\n<code>Failed to create chart: can't acquire context from the given item</code></p>\n\n<p>My tile.component.html</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div *ngIf=\"tile.type === 'tileImg'\"&gt;\r\n  &lt;div class=\"card custom-card\"\r\n       routerLinkActive=\"glowing\"&gt;\r\n    &lt;img class=\"card-img-top rounded\" src=\"{{ tile.imgPath }}\" alt=\"Tile image\" /&gt;\r\n    &lt;div class=\"card-body\"&gt;\r\n      &lt;p class=\" card-text text-center\"&gt;{{ tile.name }}&lt;/p&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div *ngIf=\"tile.type === 'tileChart'\"&gt;\r\n  &lt;div class=\"card custom-card\"\r\n       routerLinkActive=\"glowing\"&gt;\r\n    &lt;div&gt;\r\n      &lt;canvas id=\"canvas\"&gt;{{ chart }}&lt;/canvas&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"card-body\"&gt;\r\n      &lt;p class=\" card-text text-center\"&gt;{{ tile.name }}&lt;/p&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My tile.component.ts - Don't mind the comments, just for testing purposes</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit, Input } from '@angular/core';\r\nimport { Chart } from 'chart.js';\r\n\r\nimport { Tile } from 'src/app/tile-container/tile/tile.model';\r\n//import { TileChart } from 'src/app/tile-container/tile/tile-chart.model';\r\n\r\n@Component({\r\n  selector: 'app-tile',\r\n  templateUrl: './tile.component.html',\r\n  styleUrls: ['./tile.component.css']\r\n})\r\nexport class TileComponent implements OnInit {\r\n  @Input() tile: Tile;\r\n  //tileChart: TileChart;\r\n  chart = [];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    //console.log(this.tile);\r\n    //console.log(this.tile.getType());\r\n    //console.log(this.tile.getChartType() + \"   \" + this.tile.getChartData() + \"  \" + this.tile.getType().localeCompare('tileChart'));\r\n    //console.log(this.tile.getType() == 'tileChart');\r\n    if (this.tile.getType() == 'tileChart') {\r\n      this.generateChart(this.tile.getChartType(), this.tile.getChartData());\r\n      \r\n    }\r\n  }\r\n\r\n  generateChart(chartType: string, chartData: number[]) {\r\n    \r\n\r\n    this.chart = new Chart('canvas', {\r\n      type: chartType,\r\n      data: {\r\n        datasets: [{\r\n          data: chartData,\r\n          backgroundColor: ['#F39E01', '#b8bbc1']\r\n        }],\r\n        labels: [\r\n          'Verbrauch diese Woche',\r\n          'Einsparung in kWh'\r\n        ]\r\n      },\r\n      options: {\r\n        legend: {\r\n          display: false,\r\n        },\r\n        rotation: 1.1 * Math.PI,\r\n        circumference: 0.8 * Math.PI\r\n      }\r\n    });\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And the parent tile-container.component.html - Not really necessary \n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container custom-container\"&gt;\r\n  &lt;div class=\"container-heading\"&gt;\r\n    &lt;h2&gt;{{ tileContainer.name }}&lt;/h2&gt;\r\n  &lt;/div&gt;\r\n  &lt;hr /&gt;\r\n  &lt;div class=\"row\"&gt;\r\n    &lt;div class=\"col text-center\"\r\n         *ngFor=\"let tile of tileContainer.tiles\"&gt;\r\n      &lt;app-tile      \r\n        [tile]=\"tile\"&gt;\r\n      &lt;/app-tile&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/CZEBI.png\" rel=\"nofollow noreferrer\">Screnshot from missing charts</a></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is my edited typescript code. every tile has an id which I tried to use to have a unique id for every chart created. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>ngOnInit() {\r\n    console.log(this.tile.id);\r\n    if (this.tile.getType() == 'tileChart') {\r\n      this.chartId = this.tile.id.toString();\r\n      this.ctx = document.getElementById(this.chartId);\r\n      console.log(this.ctx);\r\n      this.generateChart(this.tile.getChartType(), this.tile.getChartData());\r\n    }\r\n }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This a the html where I used databinding. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\r\n  &lt;p&gt;{{ chartId }}&lt;/p&gt;\r\n  &lt;canvas id=\"{{ chartId }}\"&gt;{{ chart }}&lt;/canvas&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/qU8XC.png\" rel=\"nofollow noreferrer\">Picture of error codes</a></p>\n"}, {"tags": ["typescript", "typescript-types"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1537342283, "creation_date": 1537342283, "answer_id": 52400478, "question_id": 52400187, "link": "https://stackoverflow.com/questions/52400187/string-literal-typed-field-assign-error-when-defined-in-interface/52400478#52400478", "title": "String literal typed field assign error when defined in interface", "body": "<p>The problem is you expect <code>implements IFoo</code> to impact the way the class field is typed. It does not. The way things happen, is the class fields are typed as if the <code>implements Foo</code> does not exist and after the class type has been fully resolved, it is checked for compatibility with the implemented interfaces. Looked at this in this way, the errors make sense. </p>\n\n<pre><code>class Foo implements IFoo {\n    value = 'foo'; // this is typed as string, not as the string literal type and thus is not compatible with value in IFoo \n}\nclass Boo implements IFoo {\n    // no type, no init, value is typed as any and any is compatible with 'foo' | 'boo' \n    // use -noImplicitAny to avoid such errors\n    value; \n    constructor() {\n        this.value = 'foo';\n        this.value = 'boo';\n        this.value = 'koo'; // 'koo' is compatible with any\n    }\n}\n</code></pre>\n\n<p>When you use an enum, things work because if we assign a value of the enum to the field, the field will be typed as the enum.</p>\n\n<p>You can specify the type of the <code>value</code> field, either explicitly or relatinve to the <code>IFoo</code> interface: </p>\n\n<pre><code>class Foo implements IFoo {\n    value: IFoo['value'] = 'foo';\n}\n</code></pre>\n\n<p>Or if the field is <code>readonly</code> it will be typed as the string literal type:</p>\n\n<pre><code>class Foo implements IFoo {\n    readonly value = 'foo';\n}\n</code></pre>\n"}], "owner": {"reputation": 811, "user_id": 6550092, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hq2XdyXrIYw/AAAAAAAAAAI/AAAAAAAAACY/9u4J9fX3gVo/photo.jpg?sz=128", "display_name": "Dmitriy Snitko", "link": "https://stackoverflow.com/users/6550092/dmitriy-snitko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 52400478, "answer_count": 1, "score": 1, "last_activity_date": 1561804737, "creation_date": 1537341347, "last_edit_date": 1561804737, "question_id": 52400187, "link": "https://stackoverflow.com/questions/52400187/string-literal-typed-field-assign-error-when-defined-in-interface", "title": "String literal typed field assign error when defined in interface", "body": "<p>When string literal type defined in interface I get unexpected behaviors.</p>\n\n<pre><code>interface IFoo {\n    value: 'foo' | 'boo';\n}\n</code></pre>\n\n<p>When I implement interface in class I get error:</p>\n\n<pre><code>class Foo implements IFoo {\n    value = 'foo';\n}\n</code></pre>\n\n<p>I get an error: Property 'value' in type 'Foo' is not assignable to the same property in base type 'IFoo'. But 'foo' is correct value for string literal.</p>\n\n<p>On other hand:</p>\n\n<pre><code>class Boo implements IFoo {\n    value;\n    constructor() {\n        this.value = 'foo';\n        this.value = 'boo';\n        this.value = 'koo'; // must be an error Boo doesn't implement IFoo\n    }\n}\nconst test = new Boo();\ntest.value = 'koo';\n</code></pre>\n\n<p>This code doesn't cause any errors, but the <code>Boo.value</code> is of <code>any</code> type. I'v expected to get an error that Boo doesn't implement IFoo, but there is no any error.</p>\n\n<p>The only correct way I found out is to implement classes that way:</p>\n\n<pre><code>class Koo implements IFoo {\n    value: 'foo' | 'boo' = 'foo';\n}\n</code></pre>\n\n<p>So I had to declare enum:</p>\n\n<pre><code>enum Doos { foo = 'foo', boo = 'boo' }\ninterface IDoo {\n    value: Doos;\n}\nclass Doo implements IDoo {\n    value = Doos.foo;\n}\nconst test = new Doo();\ntest.value = Doos.boo;\n</code></pre>\n\n<p>I understand this happend because ts compiller got Doo.value type from assigned value in field declaration. Looks like it useless to declare fields of string literal types in interfaces, or I'm doing something wrong. And also figured out that classes can implement interfaces with type any for fields, so it's up to developer.</p>\n"}, {"tags": ["reactjs", "typescript", "styled-components"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537415591, "post_id": 52399969, "comment_id": 91777778, "body": "What line of code is the error reported on?"}, {"owner": {"reputation": 495, "user_id": 9318563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1909791269335276/picture?type=large", "display_name": "Dimitry Ivashchuk", "link": "https://stackoverflow.com/users/9318563/dimitry-ivashchuk"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537627327, "post_id": 52399969, "comment_id": 91857632, "body": "@MattMcCutchen Error is on the line where I call <code>injectGlobal`     * { margin: 0; padding: 0; } `;</code>"}, {"owner": {"reputation": 2310, "user_id": 7770081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9fe45b76971785fd9287f048e9d3ec7?s=128&d=identicon&r=PG", "display_name": "Robin M&#233;tral", "link": "https://stackoverflow.com/users/7770081/robin-m%c3%a9tral"}, "edited": false, "score": 0, "creation_date": 1550845702, "post_id": 52399969, "comment_id": 96433173, "body": "Side note for any other readers from the future: <code>injectGlobal</code> was <a href=\"https://medium.com/styled-components/styled-components-v4-new-final-finalest-for-real-final-final-psd-fa4d83398a77\" rel=\"nofollow noreferrer\">deprecated</a> three weeks after this post in V4, and replaced by <a href=\"https://www.styled-components.com/docs/api#createglobalstyle\" rel=\"nofollow noreferrer\"><code>createGlobalStyle</code></a>"}], "answers": [{"comments": [{"owner": {"reputation": 495, "user_id": 9318563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1909791269335276/picture?type=large", "display_name": "Dimitry Ivashchuk", "link": "https://stackoverflow.com/users/9318563/dimitry-ivashchuk"}, "edited": false, "score": 0, "creation_date": 1537632736, "post_id": 52458466, "comment_id": 91859119, "body": "Thanks, will try that!"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 2, "last_activity_date": 1537632708, "creation_date": 1537632708, "answer_id": 52458466, "question_id": 52399969, "link": "https://stackoverflow.com/questions/52399969/using-injectglobal-styled-components-api-with-typescript/52458466#52458466", "title": "Using injectGlobal styled-components API with typescript", "body": "<p>It looks like this error is from the <a href=\"https://palantir.github.io/tslint/rules/no-unused-expression/\" rel=\"nofollow noreferrer\">tslint no-unused-expression rule</a>.  You can exempt calls to template tags like <code>injectGlobal</code> from the rule by adding the <code>allow-tagged-template</code> option in your <code>tslint.conf</code> like this:</p>\n\n<pre><code>{\n    \"rules\": {\n        \"no-unused-expression\": [true, \"allow-tagged-template\"]\n        // ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 495, "user_id": 9318563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1909791269335276/picture?type=large", "display_name": "Dimitry Ivashchuk", "link": "https://stackoverflow.com/users/9318563/dimitry-ivashchuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 0, "accepted_answer_id": 52458466, "answer_count": 1, "score": 1, "last_activity_date": 1537632708, "creation_date": 1537340480, "question_id": 52399969, "link": "https://stackoverflow.com/questions/52399969/using-injectglobal-styled-components-api-with-typescript", "title": "Using injectGlobal styled-components API with typescript", "body": "<p>I am trying to use simple injectGlobal API but can't make it work with typescript. I have the following setup in theme.tsx </p>\n\n<pre><code>import * as styledComponents from \"styled-components\";\nimport { ThemedStyledComponentsModule } from \"styled-components\";\nimport IThemeInterface from \"./theme\";\nconst {\n  default: styled,\n  css,\n  injectGlobal,\n  keyframes,\n  ThemeProvider\n} = styledComponents as ThemedStyledComponentsModule&lt;IThemeInterface&gt;;\nexport default styled;\nexport { css, injectGlobal, keyframes, ThemeProvider }; \n</code></pre>\n\n<p>And in my App.tsx I simply do</p>\n\n<p><code>import { injectGlobal} from '../theme.tsx'</code></p>\n\n<p>and try to use it normally but there is always the following erro</p>\n\n<p><code>unused expression, expected an assignment or function call</code></p>\n\n<p>Looking for any advice!</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537415522, "post_id": 52399839, "comment_id": 91777758, "body": "Yarn shouldn&#39;t be installing multiple copies of <code>@types&#47;react</code> like that.  Try deleting your <code>yarn.lock</code> file and running <code>yarn install</code> again.  If that doesn&#39;t help, try removing all dependencies from <code>package.json</code> except <code>@types&#47;react</code>, <code>@types&#47;prop-types</code>, and <code>@types&#47;react-overlays</code> and see if you still get the problem.  If so, add your <code>package.json</code> and <code>yarn.lock</code> (it should be no more than ~40 lines) to the question so we can see why yarn is doing what it is doing."}, {"owner": {"reputation": 4869, "user_id": 2230045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XyCc2.jpg?s=128&g=1", "display_name": "Spenhouet", "link": "https://stackoverflow.com/users/2230045/spenhouet"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537423062, "post_id": 52399839, "comment_id": 91780111, "body": "Deleting the yarn.lock file actually helped. I&#39;m still worried this just repeats at some day. I&#39;m not sure how this came to be in the first place. It might be related to this issue: <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/28881\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/issues/28881</a>"}, {"owner": {"reputation": 756, "user_id": 4353782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZwmsI.jpg?s=128&g=1", "display_name": "Mayur Dhurpate", "link": "https://stackoverflow.com/users/4353782/mayur-dhurpate"}, "edited": false, "score": 1, "creation_date": 1586611322, "post_id": 52399839, "comment_id": 108192431, "body": "If anyone is facing an issue because of @types/react-dom internal dependency and @types/react clashing, you can try this answer, which basically uninstalled and reinstalled them both in a single go. <a href=\"https://stackoverflow.com/a/54239498/4353782\">stackoverflow.com/a/54239498/4353782</a>"}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 3577033, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6b5e358f726e9a6882e172caf96454d0?s=128&d=identicon&r=PG&f=1", "display_name": "MickB", "link": "https://stackoverflow.com/users/3577033/mickb"}, "edited": false, "score": 0, "creation_date": 1542405568, "post_id": 52404148, "comment_id": 93570812, "body": "Has this been resolved? I just tried to create and application and received this error."}, {"owner": {"reputation": 960, "user_id": 1038901, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89be4abb1645915d60b3ce13c17abc26?s=128&d=identicon&r=PG", "display_name": "cnp", "link": "https://stackoverflow.com/users/1038901/cnp"}, "edited": false, "score": 11, "creation_date": 1559248122, "post_id": 52404148, "comment_id": 99370486, "body": "Note that adding <code>&quot;skipLibCheck&quot;: true</code> to tsconfig is a potentially destructive action on the type-safety of your codebase, and is very hard to undo."}, {"owner": {"reputation": 4879, "user_id": 1096194, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a089ac178dcd45a0688e0fead02e3a70?s=128&d=identicon&r=PG&f=1", "display_name": "HalfWebDev", "link": "https://stackoverflow.com/users/1096194/halfwebdev"}, "edited": false, "score": 0, "creation_date": 1570519114, "post_id": 52404148, "comment_id": 102928964, "body": "This should be the answer"}, {"owner": {"reputation": 242, "user_id": 1565572, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/98f9f46532194cea19126950d22a1463?s=128&d=identicon&r=PG", "display_name": "Raj", "link": "https://stackoverflow.com/users/1565572/raj"}, "edited": false, "score": 0, "creation_date": 1581501087, "post_id": 52404148, "comment_id": 106452136, "body": "Saved my day, enabling skipLibCheck works for me , For me it was not working only in my local so enabling skipLibCheck flag should fine for me"}], "tags": [], "owner": {"reputation": 4869, "user_id": 2230045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XyCc2.jpg?s=128&g=1", "display_name": "Spenhouet", "link": "https://stackoverflow.com/users/2230045/spenhouet"}, "is_accepted": false, "score": 37, "last_activity_date": 1537354175, "creation_date": 1537354175, "answer_id": 52404148, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/52404148#52404148", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>This seems to be a typescript issue.</p>\n\n<p>My current workaround is adding <code>\"skipLibCheck\": true</code> to <code>tsconfig.json</code>.</p>\n\n<p>I want to stress that that is only a workaround and not a fix to the problem it self.</p>\n"}, {"comments": [{"owner": {"reputation": 2062, "user_id": 1290368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061513567246fe5ced76054feb24ee86?s=128&d=identicon&r=PG", "display_name": "Carsten F&#252;hrmann", "link": "https://stackoverflow.com/users/1290368/carsten-f%c3%bchrmann"}, "edited": false, "score": 0, "creation_date": 1542552056, "post_id": 52422489, "comment_id": 93600693, "body": "I had the same problem, and this answer brought me closer to the solution. However, I also had to delete the <code>node_modules</code> folder before <code>yarn install</code>, since otherwise <code>yarn install</code> would not act sufficiently on the changed <code>package.json</code>. (I edited the answer accordingly to keep other readers from running into that problem, but strangely that got peer-rejected.)"}, {"owner": {"reputation": 20202, "user_id": 1606323, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MkEIh.jpg?s=128&g=1", "display_name": "harryg", "link": "https://stackoverflow.com/users/1606323/harryg"}, "edited": false, "score": 5, "creation_date": 1549462045, "post_id": 52422489, "comment_id": 95910639, "body": "Once the lockfile has been updated is it safe to remove the <code>resolutions</code> field?"}, {"owner": {"reputation": 2219, "user_id": 7578157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/411ee6226a7945541ca98511b5f4861a?s=128&d=identicon&r=PG&f=1", "display_name": "JMadelaine", "link": "https://stackoverflow.com/users/7578157/jmadelaine"}, "edited": false, "score": 1, "creation_date": 1587441986, "post_id": 52422489, "comment_id": 108505947, "body": "Yes, it&#39;s safe to remove the resolutions config once the new lock file has been created."}, {"owner": {"reputation": 24017, "user_id": 38940, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bOQNB.jpg?s=128&g=1", "display_name": "Tomasz Smykowski", "link": "https://stackoverflow.com/users/38940/tomasz-smykowski"}, "edited": false, "score": 0, "creation_date": 1602577498, "post_id": 52422489, "comment_id": 113757038, "body": "@sander schutten Thanks, I have created a bug report for React team <a href=\"https://github.com/facebook/react/issues/20005\" rel=\"nofollow noreferrer\">github.com/facebook/react/issues/20005</a>"}, {"owner": {"reputation": 41117, "user_id": 1864167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/WalEV.jpg?s=128&g=1", "display_name": "Jeroen Vannevel", "link": "https://stackoverflow.com/users/1864167/jeroen-vannevel"}, "edited": false, "score": 2, "creation_date": 1608587791, "post_id": 52422489, "comment_id": 115625139, "body": "You can use <code>yarn why @types&#47;react</code> to get additional information of where these differing versions are coming from. In my case I had a 17.x and 16.x version, the latter of which came from a dependency I didn&#39;t actually use so I could just remove it."}], "tags": [], "owner": {"reputation": 1402, "user_id": 1579541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/loWoS.jpg?s=128&g=1", "display_name": "Sander Schutten", "link": "https://stackoverflow.com/users/1579541/sander-schutten"}, "is_accepted": false, "score": 129, "last_activity_date": 1537437727, "creation_date": 1537437727, "answer_id": 52422489, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/52422489#52422489", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>This seems te happen because Yarn resolves multiple versions of a package; <code>@types/react</code> in this particular case. Yarn resolves <code>@types/react</code> from your package.json and as a dependency of <code>@types/react-dom</code>.</p>\n\n<p>Take the following snippet from my <strong>package.json</strong>:</p>\n\n<pre><code>\"devDependencies\": {\n  \"@types/react\": \"^15.0.16\",\n  \"@types/react-dom\": \"^0.14.23\"\n  ...\n}\n</code></pre>\n\n<p>The <strong>yarn.lock</strong> that is created after you run <code>yarn install</code> contains something similar to this:</p>\n\n<pre><code>\"@types/react-dom@^0.14.23\":\n  version \"0.14.23\"\n  resolved \"https://registry.yarnpkg.com/@types/react-dom/-/react-dom-0.14.23.tgz#cecfcfad754b4c2765fe5d29b81b301889ad6c2e\"\n  dependencies:\n    \"@types/react\" \"*\"\n\n\"@types/react@*\":\n  version \"16.4.14\"\n  resolved \"https://registry.yarnpkg.com/@types/react/-/react-16.4.14.tgz#47c604c8e46ed674bbdf4aabf82b34b9041c6a04\"\n  dependencies:\n    \"@types/prop-types\" \"*\"\n    csstype \"^2.2.0\"\n\n\"@types/react@^15.0.16\":\n  version \"15.6.19\"\n  resolved \"https://registry.yarnpkg.com/@types/react/-/react-15.6.19.tgz#a5de18afe65b0f29767328836b48c498a5d3a91b\"\n</code></pre>\n\n<p>Notice that <code>@types/react-dom</code> depends on any version of <code>@types/react</code> as indicated by <code>\"*\"</code>. Yarn resolves two versions of <code>@types/react</code>: <code>\"16.4.14\"</code> and <code>\"15.6.19\"</code>. This results in the type conflicts you mentioned.</p>\n\n<p>The solution is to add a <a href=\"https://yarnpkg.com/lang/en/docs/selective-version-resolutions/\" rel=\"noreferrer\">resolutions field</a> to your <strong>package.json</strong> to tell Yarn to resolve a specific version of <code>@types/react</code>. Take the following sample:</p>\n\n<pre><code>\"resolutions\": {\n  \"@types/react\": \"^15.0.16\"\n}\n</code></pre>\n\n<p>Run <code>yarn install</code> again. Notice the change in the <strong>yarn.lock</strong> file:</p>\n\n<pre><code>\"@types/react-dom@^0.14.23\":\n  version \"0.14.23\"\n  resolved \"https://registry.yarnpkg.com/@types/react-dom/-/react-dom-0.14.23.tgz#cecfcfad754b4c2765fe5d29b81b301889ad6c2e\"\n  dependencies:\n    \"@types/react\" \"*\"\n\n\"@types/react@*\", \"@types/react@^15.0.16\":\n  version \"15.6.19\"\n  resolved \"https://registry.yarnpkg.com/@types/react/-/react-15.6.19.tgz#a5de18afe65b0f29767328836b48c498a5d3a91b\"\n</code></pre>\n\n<p>Yarn now resolves the same version <code>\"15.6.19\"</code> for both <code>\"@types/react@*\"</code> and <code>\"@types/react@^15.0.16\"</code> dependencies.</p>\n\n<p>I would like to know myself why this is needed. I would expect Yarn to understand it can resolve dependency <code>\"@types/react\" \"*\"</code> with <code>\"@types/react@^15.0.16\"</code> instead of resolving it with the latest version of <code>@types/react</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1705, "user_id": 1213956, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6c9f7db9010e9423b407e949abe1e0d0?s=128&d=identicon&r=PG", "display_name": "Richard Torcato", "link": "https://stackoverflow.com/users/1213956/richard-torcato"}, "is_accepted": false, "score": 6, "last_activity_date": 1543589981, "creation_date": 1543589981, "answer_id": 53559942, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/53559942#53559942", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>The easiest way to fix this for me was to delete my node_modules directory and yarn.lock/package-lock files and then do a yarn install to reinstall all the node modules.</p>\n"}, {"comments": [{"owner": {"reputation": 3417, "user_id": 4457396, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/afieL.jpg?s=128&g=1", "display_name": "oyalhi", "link": "https://stackoverflow.com/users/4457396/oyalhi"}, "edited": false, "score": 2, "creation_date": 1545460367, "post_id": 53809676, "comment_id": 94633421, "body": "removing <code>yarn.lock</code> was the key. Deleting only <code>node_modules</code> and installing did not help."}, {"owner": {"reputation": 1673, "user_id": 91359, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9Gn9l.jpg?s=128&g=1", "display_name": "Zander", "link": "https://stackoverflow.com/users/91359/zander"}, "edited": false, "score": 1, "creation_date": 1547841441, "post_id": 53809676, "comment_id": 95345413, "body": "<code>yarn upgrade @types&#47;react</code> resolved the issue for me. I did not need to nuke the <code>yarn.lock</code> file"}], "tags": [], "owner": {"reputation": 189, "user_id": 10799676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1vcUt.jpg?s=128&g=1", "display_name": "tsai", "link": "https://stackoverflow.com/users/10799676/tsai"}, "is_accepted": false, "score": 2, "last_activity_date": 1545026403, "creation_date": 1545026403, "answer_id": 53809676, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/53809676#53809676", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>I have the same issue after <code>yarn upgrade @types/react-router-dom</code>. <code>git diff</code> shows multiple versions of <code>@types/react</code> resolved. In my case, <code>yarn upgrade @types/react</code> resolves the issue. Removing <code>yarn.lock</code> should help.</p>\n\n<p>It seems a fresh (without <code>yarn.lock</code>) install would resolve packages to a consistent state, but a partial upgrade would not resolve the dependencies globally. Thus manual tweaks may be necessary to upgrade all involved packages.</p>\n"}, {"comments": [{"owner": {"reputation": 365, "user_id": 86535, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Y7vcG.jpg?s=128&g=1", "display_name": "sean.hudson", "link": "https://stackoverflow.com/users/86535/sean-hudson"}, "edited": false, "score": 0, "creation_date": 1560846423, "post_id": 55154362, "comment_id": 99859689, "body": "This is an old answer, but given it ranks highest for me under &quot;active&quot; I feel it deserves the note: you shouldn&#39;t ever modify the package.json file of a dependency. As soon as you reinstall node modules, or another dev builds from the source, your changes will not propagate and you will have a bad time."}], "tags": [], "owner": {"reputation": 104, "user_id": 6755585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f776298f0c4492e17834650c413de4d8?s=128&d=identicon&r=PG&f=1", "display_name": "bonniss", "link": "https://stackoverflow.com/users/6755585/bonniss"}, "is_accepted": false, "score": 0, "last_activity_date": 1552532873, "creation_date": 1552532873, "answer_id": 55154362, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/55154362#55154362", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>In my case, I got the error indicate that 'LibraryManagedAttributes' is declared in 2 different locations. Follow the paths, I realized that an installed module also has a package.json file which also add \"@types/react\" as dep, and its version is not the same as the one in the root package.json file. I changed these two to the same version and the problem was solved.</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 9017281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb089afc2bc960203d2cf94ca5257108?s=128&d=identicon&r=PG&f=1", "display_name": "chosenjuan", "link": "https://stackoverflow.com/users/9017281/chosenjuan"}, "is_accepted": false, "score": 16, "last_activity_date": 1598453973, "last_edit_date": 1598453973, "creation_date": 1562010209, "answer_id": 56841575, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/56841575#56841575", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>I got the same error. I managed to fixed it by removing my '@types/react' and then installing them again.</p>\n<pre><code>yarn remove @types/react\nyarn add --dev @types/react\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 1968884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bd5b202ee5a88b41d3235b1f6c72cdb?s=128&d=identicon&r=PG", "display_name": "karrde00", "link": "https://stackoverflow.com/users/1968884/karrde00"}, "edited": false, "score": 1, "creation_date": 1573769598, "post_id": 57468778, "comment_id": 104003937, "body": "Thanks for this. This solved the issue right away. Should be marked as the answer"}], "tags": [], "owner": {"reputation": 151, "user_id": 2957639, "user_type": "registered", "profile_image": "https://graph.facebook.com/750457173/picture?type=large", "display_name": "mongkuen", "link": "https://stackoverflow.com/users/2957639/mongkuen"}, "is_accepted": false, "score": 15, "last_activity_date": 1565713552, "last_edit_date": 1565713552, "creation_date": 1565647188, "answer_id": 57468778, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/57468778#57468778", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>For me I had react types duplicated in <code>react-redux</code>, <code>react</code>, and <code>react-intl</code> when I upgraded <code>react-intl</code>. The least intrusive fix that's worked for me so far is to run this:</p>\n\n<p><code>npx yarn-deduplicate --packages @types/react yarn.lock</code></p>\n\n<p>If the resulting diff of the lockfile looks correct, go ahead and delete <code>node_modules</code>, then <code>yarn</code> to get fresh packages off the deduplicated lockfile.</p>\n"}, {"tags": [], "owner": {"reputation": 8098, "user_id": 442472, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/84ea16b9e736d010d1fffc1c98dd681b?s=128&d=identicon&r=PG", "display_name": "Shan Plourde", "link": "https://stackoverflow.com/users/442472/shan-plourde"}, "is_accepted": false, "score": 2, "last_activity_date": 1571689874, "creation_date": 1571689874, "answer_id": 58493721, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/58493721#58493721", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>Related to the question, running <code>npm list @types/react</code> from the directory of your package.json should list duplicate type definitions found in your project.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12468099, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x_qC16kTOco/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaF5kkQZnJ2OTK3SsOIIId32HiWA/photo.jpg?sz=128", "display_name": "Thiemo M&#252;ller", "link": "https://stackoverflow.com/users/12468099/thiemo-m%c3%bcller"}, "is_accepted": false, "score": 0, "last_activity_date": 1575287842, "creation_date": 1575287842, "answer_id": 59138474, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/59138474#59138474", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>I had a conflicting version request for react in another module I used. Fixing that and re-installing with yarn didn't help me either.</p>\n\n<p>Using NPM instead of Yarn however solved it for me.</p>\n\n<p>Hope this helps someone.</p>\n"}, {"tags": [], "owner": {"reputation": 34263, "user_id": 454780, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d8238ae773f9d75e510abe305209189f?s=128&d=identicon&r=PG", "display_name": "trusktr", "link": "https://stackoverflow.com/users/454780/trusktr"}, "is_accepted": false, "score": 0, "last_activity_date": 1576982024, "creation_date": 1576982024, "answer_id": 59441260, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/59441260#59441260", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>What worked for me was deleting <code>react</code> and <code>@types/react</code> from <code>package.json</code>, then in zsh:</p>\n\n<pre><code>rm -rf node_modules/**/react\nnpm i react @types/react\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 927, "user_id": 9192315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86632ca5a9457eb969ee7e648a68459b?s=128&d=identicon&r=PG", "display_name": "Honza P.", "link": "https://stackoverflow.com/users/9192315/honza-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1581062103, "last_edit_date": 1581062103, "creation_date": 1580894295, "answer_id": 60072518, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/60072518#60072518", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<pre><code>C:/Users/japa/source/repos/ReactTestApp/TemplateExample/ClientApp/node_modules/@types/react/index.d.ts\nTypeScript error in C:/Users/japa/source/repos/ReactTestApp/TemplateExample/ClientApp/node_modules/@types/react/index.d.ts(2835,14):\nDuplicate identifier 'LibraryManagedAttributes'.  TS2300\n</code></pre>\n\n<p>In my case I needed to solve the problem manually (using principle described in <a href=\"https://blog.mgechev.com/2016/03/28/ambient-type-definitions-duplicate-identifier-typescript-fix/\" rel=\"nofollow noreferrer\">TS2300</a>). The problem arose once I added ReactKendo to my project.</p>\n\n<ol>\n<li>Went to <code>ClientApp</code> directory in my project <code>ClientApp\\node_modules\\@types</code></li>\n<li>Backed up the <code>react</code> directory and then deleted it</li>\n<li>Clean + Build + Run project and no more above error occures</li>\n<li>I recovered the <code>react</code> folder after the bug disappeared and error seems to be gone forever, so it seems to me like typical magic bug somewhere in the universe :-)</li>\n</ol>\n\n<p>I did not need to change anything else in config files.</p>\n"}, {"tags": [], "owner": {"reputation": 4425, "user_id": 769900, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/CSGrK.jpg?s=128&g=1", "display_name": "Jeff Tian", "link": "https://stackoverflow.com/users/769900/jeff-tian"}, "is_accepted": false, "score": 0, "last_activity_date": 1581425730, "creation_date": 1581425730, "answer_id": 60169325, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/60169325#60169325", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>For me, it caused by only referenced <code>@types/react-redux</code>. Fixed by <code>npm i --save-dev @types/react</code>, and so the <code>package.json</code> looks like this:</p>\n\n<pre><code>  ...\n  \"devDependencies\": {\n    \"@types/react\": \"^16.9.19\",\n    \"@types/react-redux\": \"^7.1.7\"\n    ...\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 5442243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6e452b4af626906da062705118ae1b?s=128&d=identicon&r=PG&f=1", "display_name": "AlexJ", "link": "https://stackoverflow.com/users/5442243/alexj"}, "is_accepted": false, "score": 0, "last_activity_date": 1587574261, "creation_date": 1587574261, "answer_id": 61370596, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/61370596#61370596", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>I had this issue while working with linked dependencies. My linked package lives in a lerna repo, and it had <code>@types/react</code> as a devDependency. I added <code>@types/react</code> as a peerDependency, switched my workflow to <a href=\"https://github.com/whitecolor/yalc\" rel=\"nofollow noreferrer\">yalc</a>, and was able to continue.</p>\n"}, {"tags": [], "owner": {"reputation": 1676, "user_id": 3620442, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/osQPF.png?s=128&g=1", "display_name": "zenoh", "link": "https://stackoverflow.com/users/3620442/zenoh"}, "is_accepted": false, "score": 3, "last_activity_date": 1589508034, "creation_date": 1589508034, "answer_id": 61810472, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/61810472#61810472", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>In our case, we fixed it by </p>\n\n<ol>\n<li><p>Moving all <code>@types/*</code> packages to <code>devDependencies</code></p></li>\n<li><p><code>rm -rf yarn.lock</code> and <code>rm -rf node_modules</code></p></li>\n<li><p>Run <code>yarn install</code> again</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 3503, "user_id": 10036039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6525d104fc1903b759afa7a7ff40cf22?s=128&d=identicon&r=PG&f=1", "display_name": "zerocewl", "link": "https://stackoverflow.com/users/10036039/zerocewl"}, "is_accepted": false, "score": 1, "last_activity_date": 1599313463, "creation_date": 1599313463, "answer_id": 63754581, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/63754581#63754581", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>Using <a href=\"https://github.com/atlassian/yarn-deduplicate\" rel=\"nofollow noreferrer\">yarn-deduplicate</a> fixed the issue for me.</p>\n<p>Steps:</p>\n<ol>\n<li>Optional install <code>yarn-deduplicate</code> package or use <code>npx</code> in step two</li>\n</ol>\n<pre><code>npm install -g yarn-deduplicate\n</code></pre>\n<p>or</p>\n<pre><code>yarn global add yarn-deduplicate\n</code></pre>\n<ol start=\"2\">\n<li>Run <code>yarn-deduplicate</code></li>\n</ol>\n<pre><code>yarn-deduplicate yarn.lock --packages @types/react yarn.lock\n</code></pre>\n<p>or</p>\n<pre><code>npx yarn-deduplicate --packages @types/react yarn.lock\n</code></pre>\n<ol start=\"3\">\n<li>Remove <code>node_modules</code> folder</li>\n</ol>\n<pre><code>rm -rf node_modules\n</code></pre>\n<ol start=\"4\">\n<li>Reinstall dependencies</li>\n</ol>\n<pre><code>yarn install\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40321, "user_id": 451634, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/360ebfce7ad37f53a1302f8e68843139?s=128&d=identicon&r=PG", "display_name": "Benny Neugebauer", "link": "https://stackoverflow.com/users/451634/benny-neugebauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1615330964, "creation_date": 1615330964, "answer_id": 66556011, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes/66556011#66556011", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>In my case the error showed up when the version numbers of <code>@types/react</code> (v17.0.3) and <code>@types/react-dom</code> (v17.0.2) have not been in sync.</p>\n<p>To solve the issue, I removed <code>@types/react</code> because it gets hoisted from <code>@types/react-dom</code>. You can verify that by executing <code>yarn why @types/react</code>.</p>\n"}], "owner": {"reputation": 4869, "user_id": 2230045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XyCc2.jpg?s=128&g=1", "display_name": "Spenhouet", "link": "https://stackoverflow.com/users/2230045/spenhouet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37842, "favorite_count": 11, "answer_count": 16, "score": 80, "last_activity_date": 1615330964, "creation_date": 1537340008, "last_edit_date": 1565713606, "question_id": 52399839, "link": "https://stackoverflow.com/questions/52399839/duplicate-identifier-librarymanagedattributes", "title": "Duplicate identifier &#39;LibraryManagedAttributes&#39;", "body": "<p>I have the same issue as in:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/52339225/react-typescript-2312-14-duplicate-identifier-librarymanagedattributes\">React typescript (2312,14): Duplicate identifier &#39;LibraryManagedAttributes&#39;</a></p>\n\n<p>and</p>\n\n<p><a href=\"https://stackoverflow.com/questions/52323056/typescript-error-duplicate-identifier-librarymanagedattributes\">TypeScript error: Duplicate identifier &#39;LibraryManagedAttributes&#39;</a></p>\n\n<p>But I just can't find any solution.</p>\n\n<p>I already upgraded to the latest node/npm/yarn/typescript versions. Also tried downgrading. Nothing helps.</p>\n\n<pre><code>yarn build --verbose\nyarn run v1.9.4\n$ react-scripts-ts build --verbose\nCreating an optimized production build...\nStarting type checking and linting service...\nUsing 1 worker with 2048MB memory limit\nts-loader: Using typescript@3.0.3 and C:\\dev\\project\\frontend\\tsconfig.prod.json\nWarning: member-ordering - Bad member kind: public-before-private\nFailed to compile.\n\nC:/dev/project/frontend/node_modules/@types/prop-types/node_modules/@types/react/index.d.ts\n(2312,14): Duplicate identifier 'LibraryManagedAttributes'.\n\n\nerror Command failed with exit code 1.\n</code></pre>\n\n<p><code>--verbose</code> somehow doesn't give me more information.</p>\n\n<p>As I can see <code>LibraryManagedAttributes</code> is defined in:</p>\n\n<ul>\n<li><code>node_modules/@types/react/index.d.ts</code></li>\n<li><code>node_modules/@types/prop-types/node_modules/@types/react/index.d.ts</code></li>\n<li><code>node_modules/@types/react-overlays/node_modules/@types/react/index.d.ts</code></li>\n<li>....</li>\n</ul>\n\n<p><strong>Where is this coming from? How can I avoid that?</strong></p>\n\n<p>I want to find out where this error is coming from so that I can report it to the right entity but I don't know where to start.</p>\n\n<p><strong>What else can I try?</strong></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 414, "user_id": 2538530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f25db9dc5aae105cd507d4018b826936?s=128&d=identicon&r=PG", "display_name": "leonardseymore", "link": "https://stackoverflow.com/users/2538530/leonardseymore"}, "is_accepted": false, "score": 1, "last_activity_date": 1537340210, "creation_date": 1537340210, "answer_id": 52399893, "question_id": 52399814, "link": "https://stackoverflow.com/questions/52399814/passing-data-from-service-to-parent-then-from-parent-to-child-component/52399893#52399893", "title": "Passing data from service to parent then from parent to child component", "body": "<p>Your GEO service is setting the weekly variable asynchronously. So by the time the child components' ngOnInit method is invoked the async call in the parent has likely not finished.</p>\n\n<p>Add {{weekly|json}} in your child template html to debug if the data gets set.</p>\n"}, {"tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": true, "score": 1, "last_activity_date": 1537341576, "last_edit_date": 1537341576, "creation_date": 1537340432, "answer_id": 52399951, "question_id": 52399814, "link": "https://stackoverflow.com/questions/52399814/passing-data-from-service-to-parent-then-from-parent-to-child-component/52399951#52399951", "title": "Passing data from service to parent then from parent to child component", "body": "<p>Your <code>AppComponent</code>'s template will start loading before your Subscription gets completed. And till then the <code>weekly</code> variable will be undefined on the <code>AppComponent</code>.</p>\n\n<p>Try reading it in <code>ngOnChanges</code>. That's what gets called every time an <code>@Input</code> property is changed on a Component. So as soon as <code>weekly</code> gets initialized in the AppComponent, <code>ngOnChanges</code> will get called with the updated <code>weekly</code> value.</p>\n\n<pre><code>import { Component, OnChanges, Input } from \"@angular/core\";\n\n@Component({\n  selector: \"app-days\",\n  templateUrl: \"./days.component.html\",\n  styleUrls: [\"./days.component.css\"]\n})\nexport class DaysComponent implements OnChanges {\n  @Input() weekly: Array&lt;object&gt;;\n\n  constructor() {\n  }\n\n  ngOnChanges() {\n    console.log(this.weekly); \n  }\n\n}\n</code></pre>\n\n<p>To prevent <code>undefined</code> value, you can place an <code>*ngIf</code> in your <code>AppComponent</code>'s template:</p>\n\n<pre><code>&lt;app-days *ngIf=\"weekly\" [weekly]=\"weekly\" &gt;&lt;/app-days&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 7589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f47d22e8da19694c9d533772ff2bd400?s=128&d=identicon&r=PG&f=1", "display_name": "Cloudy Skies", "link": "https://stackoverflow.com/users/7589892/cloudy-skies"}, "edited": false, "score": 0, "creation_date": 1537341006, "post_id": 52399988, "comment_id": 91744149, "body": "Which one is the best practice?"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 1, "creation_date": 1537341209, "post_id": 52399988, "comment_id": 91744247, "body": "Prevent rendering of the child component until weekly is defined using <code>*ngIf</code>. The other two options are not really required and would increase the complexity of your App without adding any value."}], "tags": [], "owner": {"reputation": 47, "user_id": 5917621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d9428203f444fa81225c1dc7fff367a?s=128&d=identicon&r=PG&f=1", "display_name": "Vikash Kumar", "link": "https://stackoverflow.com/users/5917621/vikash-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1537340538, "creation_date": 1537340538, "answer_id": 52399988, "question_id": 52399814, "link": "https://stackoverflow.com/questions/52399814/passing-data-from-service-to-parent-then-from-parent-to-child-component/52399988#52399988", "title": "Passing data from service to parent then from parent to child component", "body": "<p>The reason being the weekly is undefined in AppComponent initially and is populated from the result geolocationService.getCoordinates() asynchronously. </p>\n\n<p>However, in DaysComponent you are trying to refer the weekly data on ngOnInit hook, which does not guarantee that this service call will have completed.</p>\n\n<p>Below are the few suggestions that you can do:</p>\n\n<ol>\n<li><p>Add an ngIf directive to app-days based on existence of weekly. or,</p></li>\n<li><p>Implement OnChanges in DaysComponent and continue your work when\ninput weekly is changed., or  </p></li>\n<li>You can announce the change via Subject/Observable and listen for change in your component and react accordingly.</li>\n</ol>\n"}], "owner": {"reputation": 63, "user_id": 7589892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f47d22e8da19694c9d533772ff2bd400?s=128&d=identicon&r=PG&f=1", "display_name": "Cloudy Skies", "link": "https://stackoverflow.com/users/7589892/cloudy-skies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 52399951, "answer_count": 3, "score": 0, "last_activity_date": 1550097058, "creation_date": 1537339920, "last_edit_date": 1550097058, "question_id": 52399814, "link": "https://stackoverflow.com/questions/52399814/passing-data-from-service-to-parent-then-from-parent-to-child-component", "title": "Passing data from service to parent then from parent to child component", "body": "<p>Okay, guys, I am new to Angular and I have a problem and I don't know what I am doing wrong.</p>\n\n<p>My parent component looks like this and I am trying to pass the <strong>weekly</strong> variable to my child component: </p>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import { Component } from \"@angular/core\";\nimport { GeolocationService } from \"./geolocation.service\";\nimport { WeatherService } from \"./weather.service\";\nimport { kmphToMs } from '../utilities/helpful';\n\n@Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.css\"]\n})\nexport class AppComponent {\n  latitude: number;\n  longitude: number;\n  cityName: string;\n  currentTemp: number;\n  currentHumidity: number;\n  currentWindSpeed: string;\n  weekly: Array&lt;object&gt;;\n  erroMessage: string;\n\n  constructor(\n    private geolocationService: GeolocationService,\n    private weatherService: WeatherService\n  ) {}\n\n  ngOnInit() {\n    this.geolocationService.getCoordinates().subscribe(result =&gt; {\n      console.log(result);\n      this.latitude = result.coords.latitude;\n      this.longitude = result.coords.longitude;\n      this.weatherService\n        .getTheWeather(this.latitude, this.longitude)\n        .subscribe(weatherData =&gt; {\n          console.log(weatherData);\n          this.cityName = weatherData[\"timezone\"];\n          this.currentTemp = weatherData[\"currently\"][\"temperature\"];\n          this.currentWindSpeed = kmphToMs(weatherData[\"currently\"][\"windSpeed\"]);\n          this.currentHumidity = weatherData['currently']['humidity'] * 100;\n          this.weekly = weatherData['daily']['data'];\n          console.table(this.weekly);\n        });\n    });\n  }\n}\n</code></pre>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>  &lt;app-days\n    [weekly]=\"weekly\"\n  &gt;&lt;/app-days&gt;\n</code></pre>\n\n<p>And this is what my child component looks like: </p>\n\n<pre><code>import { Component, OnInit, Input } from \"@angular/core\";\n\n@Component({\n  selector: \"app-days\",\n  templateUrl: \"./days.component.html\",\n  styleUrls: [\"./days.component.css\"]\n})\nexport class DaysComponent implements OnInit {\n  @Input() weekly: Array&lt;object&gt;;\n\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    console.log(this.weekly); \n  }\n}\n</code></pre>\n\n<p>I'm trying to <strong>console.log</strong> the weekly variable but it says it is undefined and I don't know why</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 2, "creation_date": 1537339542, "post_id": 52399697, "comment_id": 91743375, "body": "That&#39;s because the context of <code>this</code> will not be your class, it&#39;s probably <code>window</code>"}, {"owner": {"reputation": 1167, "user_id": 6410930, "user_type": "registered", "profile_image": "https://graph.facebook.com/1155775734456518/picture?type=large", "display_name": "Oleg Dikusar", "link": "https://stackoverflow.com/users/6410930/oleg-dikusar"}, "edited": false, "score": 0, "creation_date": 1537341744, "post_id": 52399697, "comment_id": 91744532, "body": "It&#39;s very strange, it should work. I do not agree with the comment above. Could you show the code of <code>getDealFunding</code> function? It&#39;s hard to see it in the picture"}, {"owner": {"reputation": 2191, "user_id": 4587598, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/zkWVl.jpg?s=128&g=1", "display_name": "Mac_W", "link": "https://stackoverflow.com/users/4587598/mac-w"}, "edited": false, "score": 0, "creation_date": 1537354342, "post_id": 52399697, "comment_id": 91752051, "body": "Do you try accessing it while stopped on a breakpoint?"}, {"owner": {"reputation": 1104, "user_id": 5291499, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c327cbbfa044ed1c261ec4511af14f38?s=128&d=identicon&r=PG&f=1", "display_name": "pushp", "link": "https://stackoverflow.com/users/5291499/pushp"}, "edited": false, "score": 0, "creation_date": 1537357203, "post_id": 52399697, "comment_id": 91753749, "body": "yes i tried to access on console on breakpoint also.but same is coming."}], "answers": [{"comments": [{"owner": {"reputation": 806, "user_id": 5843525, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f42d010919e6f649612790d3956719f?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Blamberg", "link": "https://stackoverflow.com/users/5843525/stefan-blamberg"}, "edited": false, "score": 0, "creation_date": 1537344831, "post_id": 52400461, "comment_id": 91746176, "body": "He stopped at a breakpoint, the context should therefore be correct"}, {"owner": {"reputation": 2406, "user_id": 109945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/facc5198d606f80ad18d5fd852b93a68?s=128&d=identicon&r=PG", "display_name": "bug-a-lot", "link": "https://stackoverflow.com/users/109945/bug-a-lot"}, "edited": false, "score": 0, "creation_date": 1537354616, "post_id": 52400461, "comment_id": 91752219, "body": "No, don&#39;t know if it&#39;s an official browser bug or not, but the context won&#39;t be correct for the console, breakpoint or not. So this answer is/was actually correct the first time around."}, {"owner": {"reputation": 2191, "user_id": 4587598, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/zkWVl.jpg?s=128&g=1", "display_name": "Mac_W", "link": "https://stackoverflow.com/users/4587598/mac-w"}, "reply_to_user": {"reputation": 2406, "user_id": 109945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/facc5198d606f80ad18d5fd852b93a68?s=128&d=identicon&r=PG", "display_name": "bug-a-lot", "link": "https://stackoverflow.com/users/109945/bug-a-lot"}, "edited": false, "score": 0, "creation_date": 1537355061, "post_id": 52400461, "comment_id": 91752477, "body": "@bug-a-lot - just tested in an Angular app and the console was able to access a class&#39;s property on a breakpoint"}, {"owner": {"reputation": 2406, "user_id": 109945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/facc5198d606f80ad18d5fd852b93a68?s=128&d=identicon&r=PG", "display_name": "bug-a-lot", "link": "https://stackoverflow.com/users/109945/bug-a-lot"}, "edited": false, "score": 0, "creation_date": 1537361808, "post_id": 52400461, "comment_id": 91756485, "body": "But was the context within a lambda? Because you need something that creates a closure in order for this behavior to exhibit. And then, it&#39;s also important to note what the ES version you are targeting on compilation."}], "tags": [], "owner": {"reputation": 2191, "user_id": 4587598, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/zkWVl.jpg?s=128&g=1", "display_name": "Mac_W", "link": "https://stackoverflow.com/users/4587598/mac-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1537354537, "last_edit_date": 1537354537, "creation_date": 1537342217, "answer_id": 52400461, "question_id": 52399697, "link": "https://stackoverflow.com/questions/52399697/chrome-console-is-not-working-showing-undefined-values/52400461#52400461", "title": "Chrome console is not working, showing undefined values", "body": "<p><strong>EDIT</strong></p>\n\n<p>The browser won't have access to the <code>this</code> context in your class <em>UNLESS</em> you're stopped on a break point in that class.</p>\n"}], "owner": {"reputation": 1104, "user_id": 5291499, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c327cbbfa044ed1c261ec4511af14f38?s=128&d=identicon&r=PG&f=1", "display_name": "pushp", "link": "https://stackoverflow.com/users/5291499/pushp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1537354537, "creation_date": 1537339433, "last_edit_date": 1537344294, "question_id": 52399697, "link": "https://stackoverflow.com/questions/52399697/chrome-console-is-not-working-showing-undefined-values", "title": "Chrome console is not working, showing undefined values", "body": "<p>In Chrome console is values are showing undefined while on sources values are showing.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6aHvi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6aHvi.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here i am getting values of this.listdealfunding but on console it is showing undefined.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7MZBV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7MZBV.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "angular2-forms", "angular-reactive-forms"], "answers": [{"tags": [], "owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "is_accepted": false, "score": 1, "last_activity_date": 1537340124, "last_edit_date": 1537340124, "creation_date": 1537339251, "answer_id": 52399649, "question_id": 52399599, "link": "https://stackoverflow.com/questions/52399599/update-value-on-formarray/52399649#52399649", "title": "Update value on formArray", "body": "<p><strong>TL;DR</strong> - That's because you call this action before you Initialize your form.</p>\n\n<p>What you're currently doing - you Initialize your form only when <code>pointsChanged</code> has fired. Until then, the form will remain <strong>undefined</strong>.</p>\n\n<p>What you should consider doing - Initialize your form on <code>ngOnInit</code> or immediately when you <strong>declared</strong> your form like so:</p>\n\n<pre><code>survey: FormGroup = this.fb.group({\n  sections: this.fb.array([]),\n});\n</code></pre>\n\n<p>When the <code>pointsChanged</code> is fired, consider using <code>patchValue</code> with the data you received.</p>\n"}], "owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1849, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1537340124, "creation_date": 1537339081, "last_edit_date": 1537339436, "question_id": 52399599, "link": "https://stackoverflow.com/questions/52399599/update-value-on-formarray", "title": "Update value on formArray", "body": "<p>So I have this setup:</p>\n\n<p>Model: </p>\n\n<pre><code>export class MapDetailModel{\n    id: number;\n    lat: number;\n    lon: number;\n    alt: number;\n    long: number;\n    angle: number;\n    distance?: number;\n    pendenza?: number;\n}\n</code></pre>\n\n<p>Html:</p>\n\n<pre><code>&lt;div class=\"element-list\"&gt;\n        &lt;form [formGroup]=\"survey\" novalidate (ngSubmit)=\"onSubmit(survey)\" *ngIf=\"items\"&gt;\n            &lt;div formArrayName=\"sections\"&gt;\n                &lt;div class=\"single-item\" *ngFor=\"let section of getSections(survey); let i = index\"&gt;\n                    &lt;div  [formGroupName]=\"i\"&gt;\n                        Lat: &lt;input type=\"text\" formControlName=\"lat\" class=\"frm-txt\"&gt;\n                        Lon: &lt;input type=\"text\" formControlName=\"lon\" class=\"frm-txt\"&gt;\n                        Long: &lt;input type=\"text\" formControlName=\"long\" class=\"frm-txt\"&gt;\n                        Angle: &lt;input type=\"text\" formControlName=\"angle\" class=\"frm-txt\"&gt;\n                        a: {{i.angle}}\n                        &lt;a (click)=\"updateData(i)\"&gt;Update data&lt;/a&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>ts:</p>\n\n<pre><code>@Component({\n    //moduleId: module.id,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    selector: 'my-info-bar',\n    templateUrl: 'map-info-bar.component.html',\n    styleUrls: ['map-info-bar.component.css'],\n    providers: [],\n})\nexport class MapInfoBarComponent implements OnInit, OnDestroy\n{\n  zoomLevels: any[];\n  points: MapDetailModel[] = [];\n  isAlive = true;\n  survey: FormGroup;\n  items = false;\n\n  constructor(\n    private mapService: MapService,\n    private fb: FormBuilder,\n    private  changeDetectorRef: ChangeDetectorRef\n    ){}\n\n  ngOnInit() {\n\n    this.mapService.singlePointChanged\n    .takeWhile(() =&gt; this.isAlive)\n    .subscribe( evt =&gt; {\n      if(!!evt &amp;&amp; !!this.survey.value.sections[0]){\n        let elem;\n        this.points.forEach(el =&gt; {\n          if(el.id == evt.id){\n            el = evt;\n            elem = el;\n          }\n        });\n        (&lt;FormArray&gt;this.survey.get('sections')).at(elem.id).patchValue(elem);\n         this.changeDetectorRef.detectChanges();\n      }\n    })\n\n    this.mapService.pointsChanged\n    .takeWhile(() =&gt; this.isAlive)\n    .subscribe( evt =&gt; {\n      if(!!evt){\n        this.points = evt;\n\n        if(!this.items){\n          this.survey = this.fb.group({\n            sections: this.fb.array([\n              this.initSection(0),\n            ]),\n          });\n          this.items = true;\n        } else {\n          this.addSection(this.points.length - 1);\n        }\n      }\n    });\n  }\n\n  initSection(idx: number) {\n    return this.fb.group({\n      lat: [this.points[idx].lat],\n      lon: [this.points[idx].lon],\n      long: [this.points[idx].long],\n      angle: [this.points[idx].angle]\n    });\n  }\n\n  addSection(idx: number) {\n    const control = &lt;FormArray&gt;this.survey.get('sections');\n    control.push(this.initSection(idx));\n  }\n\n  getSections(form) {\n    return form.controls.sections.controls;\n  }\n\n  updateData(index: number){\n    const values = this.survey.value.sections[index] as MapDetailModel;\n    this.mapService.setChangePoint(values);\n  }\n\n  ngOnDestroy(): void {\n    this.isAlive = false;\n  }\n}\n</code></pre>\n\n<p>By now eveything is working fine. I'm displaying the data correctly and I'm happy. The problem is whenever this line is executed:</p>\n\n<p><code>(&lt;FormArray&gt;this.survey.get('sections')).at(elem.id).patchValue(elem);</code></p>\n\n<p>It gives me this error:</p>\n\n<p><code>ERROR TypeError: Cannot read property 'patchValue' of undefined</code></p>\n\n<p>but its struct is like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cl4Dt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cl4Dt.png\" alt=\"enter image description here\"></a></p>\n\n<p>So how can I update the formArray value at position <code>elem.id</code>? What I don't get, is how can be undefined if the <code>.get</code> should be find the <code>'section'</code> data?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "url", "angular-ui-router"], "answers": [{"tags": [], "owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "is_accepted": true, "score": 2, "last_activity_date": 1537339461, "creation_date": 1537339461, "answer_id": 52399706, "question_id": 52399597, "link": "https://stackoverflow.com/questions/52399597/how-to-call-external-url/52399706#52399706", "title": "How to call external url?", "body": "<p>Use Full URL to set value in window.location.href :</p>\n\n<pre><code>window.location.href = \"http://authentication.hello.com\";\n</code></pre>\n"}], "owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "accepted_answer_id": 52399706, "answer_count": 1, "score": 1, "last_activity_date": 1537339461, "creation_date": 1537339060, "question_id": 52399597, "link": "https://stackoverflow.com/questions/52399597/how-to-call-external-url", "title": "How to call external url?", "body": "<p>I am making an application using angular 6, and here i am having two urls,</p>\n\n<p>Where <strong>url 1</strong> is <a href=\"http://authentication.hello.com\" rel=\"nofollow noreferrer\">http://authentication.hello.com</a> and \n<strong>url 2</strong> is <a href=\"http://application.hello.com\" rel=\"nofollow noreferrer\">http://application.hello.com</a></p>\n\n<p>Here if the user is loggen in via url 1 will only able to redirect to url 2.</p>\n\n<p>Whereas if the user gives directly the url as <a href=\"http://application.hello.com\" rel=\"nofollow noreferrer\">http://application.hello.com</a> , it should redirect to <a href=\"http://authentication.hello.com\" rel=\"nofollow noreferrer\">http://authentication.hello.com</a> for login.</p>\n\n<p>For which i have used the following,</p>\n\n<pre><code>if (localStorage.getItem(\"isLoggedIn\") === \"true\") {\n  return true;\n} else {\n  window.location.href = \"authentication.hello.com\";\n}\n</code></pre>\n\n<p>Here i have used </p>\n\n<pre><code>window.location.href = \"authentication.hello.com\";\n</code></pre>\n\n<p>to redirect to the authentication if not logged in.</p>\n\n<p>But if the user gives the url directly as <a href=\"http://application.hello.com\" rel=\"nofollow noreferrer\">http://application.hello.com</a>, then it is displaying as, <a href=\"http://application.hello.com/authentication.hello.com\" rel=\"nofollow noreferrer\">http://application.hello.com/authentication.hello.com</a>, Here its getting added to the given url but the thing i am in the need is, it should <strong>remove</strong> <a href=\"http://application.hello.com\" rel=\"nofollow noreferrer\">http://application.hello.com</a> and there should be only url as <a href=\"http://authentication.hello.com\" rel=\"nofollow noreferrer\">http://authentication.hello.com</a> where user can see the login screen.</p>\n\n<p>For <code>window.location.replace(\"authentication.hello.com\")</code> also the same result of <a href=\"http://application.hello.com/authentication.hello.com\" rel=\"nofollow noreferrer\">http://application.hello.com/authentication.hello.com</a> is coming whereas i am in the need to load the url <code>authentication.hello.com</code> alone <strong>without</strong> <code>application.hello.com</code> if not loggedin.</p>\n\n<p>Kindly help me to achieve it using pure javascript or typescript.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1537338015, "post_id": 52399318, "comment_id": 91742646, "body": "What have you tried so far? Is there any stackblitz sample to reproduce this issue?"}, {"owner": {"reputation": 47, "user_id": 10249160, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9tmWyxE3zFk/AAAAAAAAAAI/AAAAAAAAANo/ez5j9ZOvKN8/photo.jpg?sz=128", "display_name": "pratyush kumar", "link": "https://stackoverflow.com/users/10249160/pratyush-kumar"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1537338170, "post_id": 52399318, "comment_id": 91742720, "body": "i tried to bind it with the value using ngModel but it needs to reload for it"}, {"owner": {"reputation": 71114, "user_id": 1059101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7Mdb.png?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/1059101/jai"}, "edited": false, "score": 0, "creation_date": 1537338171, "post_id": 52399318, "comment_id": 91742721, "body": "When you load your component just fetch all the required data and filter them according to the selection."}, {"owner": {"reputation": 47, "user_id": 10249160, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9tmWyxE3zFk/AAAAAAAAAAI/AAAAAAAAANo/ez5j9ZOvKN8/photo.jpg?sz=128", "display_name": "pratyush kumar", "link": "https://stackoverflow.com/users/10249160/pratyush-kumar"}, "edited": false, "score": 0, "creation_date": 1537338333, "post_id": 52399318, "comment_id": 91742787, "body": "we do rhe selection after the component is loaded"}, {"owner": {"reputation": 47, "user_id": 10249160, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9tmWyxE3zFk/AAAAAAAAAAI/AAAAAAAAANo/ez5j9ZOvKN8/photo.jpg?sz=128", "display_name": "pratyush kumar", "link": "https://stackoverflow.com/users/10249160/pratyush-kumar"}, "edited": false, "score": 0, "creation_date": 1537338365, "post_id": 52399318, "comment_id": 91742796, "body": "we are getting the email address dynamically"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1537338675, "post_id": 52399318, "comment_id": 91742938, "body": "@pratyushkumar, you&#39;ll have to provide way more information than that to clearly point out what you&#39;re trying to achieve here. Things like your minimal component code etc."}, {"owner": {"reputation": 47, "user_id": 10249160, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9tmWyxE3zFk/AAAAAAAAAAI/AAAAAAAAANo/ez5j9ZOvKN8/photo.jpg?sz=128", "display_name": "pratyush kumar", "link": "https://stackoverflow.com/users/10249160/pratyush-kumar"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1537356298, "post_id": 52399318, "comment_id": 91753171, "body": "@SiddAjmera please check now, if it is understandable"}], "answers": [{"tags": [], "owner": {"reputation": 725, "user_id": 1203961, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/P4BjA.jpg?s=128&g=1", "display_name": "Ali Shahbaz", "link": "https://stackoverflow.com/users/1203961/ali-shahbaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1537341687, "creation_date": 1537341687, "answer_id": 52400281, "question_id": 52399318, "link": "https://stackoverflow.com/questions/52399318/how-can-i-data-display-based-on-selection-of-fields-immediately-without-refresh/52400281#52400281", "title": "How can i data display based on selection of fields immediately, without refreshing the page?", "body": "<p>Your question is not clear but here's the idea that you can create an array, push the 'Name' into array on checkbox change event when checked, then join the array and assign it to model\nsomething like this</p>\n\n<pre><code>model: any;\narr: Array&lt;string&gt; = new Array&lt;string&gt;();\n</code></pre>\n\n<p>change event of checkbox</p>\n\n<pre><code>&lt;input type=\"checkbox\" (change)=\"change($event, 'Vendor')\"&gt;\n\nchange(event, name) {\n    if ($(event.currentTarget).is(\":checked\")) {\n    this.arr.push(name);\n  }\nelse{\n    let index = this.arr.indexOf(name);\n    this.arr.splice(index, 1);\n  }\n    this.model = this.arr.join(', ');\n}\n</code></pre>\n\n<p>and your textbox</p>\n\n<pre><code>&lt;input type=\"textbox\" [(ngModel)]=\"model\" /&gt;\n</code></pre>\n\n<p>For select all, you already have data into 'mailRecipients', add a check for select all and create comma-separated string and pass it to model.</p>\n"}], "owner": {"reputation": 47, "user_id": 10249160, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9tmWyxE3zFk/AAAAAAAAAAI/AAAAAAAAANo/ez5j9ZOvKN8/photo.jpg?sz=128", "display_name": "pratyush kumar", "link": "https://stackoverflow.com/users/10249160/pratyush-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537342292, "creation_date": 1537337846, "last_edit_date": 1537342292, "question_id": 52399318, "link": "https://stackoverflow.com/questions/52399318/how-can-i-data-display-based-on-selection-of-fields-immediately-without-refresh", "title": "How can i data display based on selection of fields immediately, without refreshing the page?", "body": "<p>I am getting the email addresses dynamically after the selection of the checkboxes as you can see in the image. These emails will be stored in \"mailRecipients\". So, what i want to do is, as soon as i end selecting both the checkboxes, i should get the email addresses in the recipients field, from the response from my service.\n[TS] Component: </p>\n\n<pre><code>      this.adminService.admincomposeEmail(finalEmailObj).subscribe((data: any) =&gt; {\n            $('.customLoader').hide();\n            var res = data.response;\n            this.mailRecipients = data.data;\n            console.log(this.mailRecipients)\n            if (data.status) {\n                Swal('Success!', res.msg, 'success');\n                // this.router.navigate(['/admin/messaging']);\n            } else {\n                Swal('Oops...', res.msg, 'error');\n            }\n        });\n</code></pre>\n\n<p>[HTML]This is my field for the recipieints</p>\n\n<pre><code>&lt;div class=\"c-field u-mb-small\"&gt;\n  &lt;label class=\"c-field__label\" for=\"subject\"&gt;Recipients&lt;/label&gt;\n  &lt;input \n    class=\"c-input\" \n    type=\"text\" \n    name=\"mailRecipients\" \n    [(ngModel)]=\"mailRecipients\" \n    placeholder=\"Subject\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2keUR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2keUR.jpg\" alt=\"\"></a>\nCheck this Image. Here once i select user type and country how can i display the email addresses immidiately? </p>\n"}, {"tags": ["typescript", "ionic-framework", "ionic3", "ionic-native"], "comments": [{"owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "edited": false, "score": 0, "creation_date": 1537342505, "post_id": 52399232, "comment_id": 91744925, "body": "You should provide <code>ConectivityServiceProvider</code> to your <code>page.ts</code> and there call it."}, {"owner": {"reputation": 99, "user_id": 7366337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1227107080730342/picture?type=large", "display_name": "Maicoly Morocho", "link": "https://stackoverflow.com/users/7366337/maicoly-morocho"}, "reply_to_user": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "edited": false, "score": 0, "creation_date": 1537408846, "post_id": 52399232, "comment_id": 91776342, "body": "@distante, In case I have many pages I think it was not the best option."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1537448593, "post_id": 52399232, "comment_id": 91794562, "body": "Use an app initializer"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 7366337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1227107080730342/picture?type=large", "display_name": "Maicoly Morocho", "link": "https://stackoverflow.com/users/7366337/maicoly-morocho"}, "edited": false, "score": 0, "creation_date": 1537408677, "post_id": 52402992, "comment_id": 91776309, "body": "Thanks @Perfect, but I want the service, check if there is connectivity in all the pages I tried it but it does not work."}], "tags": [], "owner": {"reputation": 1148, "user_id": 1857363, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jI1dC.jpg?s=128&g=1", "display_name": "Perfect Square", "link": "https://stackoverflow.com/users/1857363/perfect-square"}, "is_accepted": false, "score": 1, "last_activity_date": 1537350577, "creation_date": 1537350577, "answer_id": 52402992, "question_id": 52399232, "link": "https://stackoverflow.com/questions/52399232/the-constructor-in-the-myapp-class-calls-the-provider-only-once/52402992#52402992", "title": "The constructor in the MyApp class, calls the provider only once", "body": "<p>You should check Ionic <a href=\"https://ionicframework.com/docs/api/navigation/NavController/\" rel=\"nofollow noreferrer\">lifecycle events</a></p>\n\n<p>From your description looks loke you have 3 options:</p>\n\n<ul>\n<li><strong>ionViewDidLoad</strong>    - void  Runs when the page has loaded. This event only happens once per page being created. If a page leaves but is cached, then this event will not fire again on a subsequent viewing. The ionViewDidLoad event is good place to put your setup code for the page.</li>\n<li><strong>ionViewWillEnter</strong>  - void  Runs when the page is about to enter and become the active page.</li>\n<li><strong>ionViewDidEnter</strong>   - void  Runs when the page has fully entered and is now the active page. This event will fire, whether it was the first load or a cached page.</li>\n</ul>\n\n<p>So depending what is your approach to case when you loose connection you could use <em>ionViewDidLoad</em> to check on every initial load of the page or <em>ionViewWillEnter</em> to check it before every time page is displayed (that includes eg. back operations).</p>\n\n<p>Code in <code>app.component.ts</code> would look like this:</p>\n\n<pre><code>import { ConectivityServiceProvider } from '...'\nimport { Network } from '.....';\n\nexport class MyApp\n{\n    conectivity: boolean;\n\n    constructor(private provider: ConectivityServiceProvider, public network: Network)\n    {\n        platform.ready().then(() =&gt;\n        {\n        });\n    }\n\n    ionViewDidLoad()\n    {\n        this.conectivity = provider.isOnline();\n        // call once in all pages\n        if(this.conectivity)\n        {\n            //do someting\n        }\n        else //do something\n        {\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7109414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00e41cc36c7107e846c574b8a0869ad?s=128&d=identicon&r=PG&f=1", "display_name": "danya111", "link": "https://stackoverflow.com/users/7109414/danya111"}, "is_accepted": false, "score": 1, "last_activity_date": 1537448316, "creation_date": 1537448316, "answer_id": 52425725, "question_id": 52399232, "link": "https://stackoverflow.com/questions/52399232/the-constructor-in-the-myapp-class-calls-the-provider-only-once/52425725#52425725", "title": "The constructor in the MyApp class, calls the provider only once", "body": "<p>Please try angular's <a href=\"https://angular.io/api/common/http/HttpInterceptor#httpinterceptor\" rel=\"nofollow noreferrer\">HttpInterceptor</a> </p>\n\n<p>An interceptor intercepts each of the API calls in the app.So before each of the API call we can check the status of the connection and handle the code accordingly.</p>\n\n<p>Refer: <a href=\"https://stackoverflow.com/questions/46803534/capture-requests-globally-in-angular-4-and-stop-if-no-internet\">Capture requests globally in angular 4 and stop if no internet</a></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport {\n    HttpRequest,\n    HttpHandler,\n    HttpEvent,\n    HttpInterceptor\n} from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\n\n@Injectable()\nexport class ConectivityServiceProvider implements HttpInterceptor {\n    constructor() { }\n\n    intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n        // check to see if there's internet\n        if (!window.navigator.onLine) {\n            // if there is no internet, throw a HttpErrorResponse error\n            // since an error is thrown, the function will terminate here\n            return Observable.throw(new HttpErrorResponse({ error: 'Internet is required.' }));\n\n        } else {\n            // else return the normal request\n            return next.handle(request);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 7366337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1227107080730342/picture?type=large", "display_name": "Maicoly Morocho", "link": "https://stackoverflow.com/users/7366337/maicoly-morocho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1537448316, "creation_date": 1537337400, "question_id": 52399232, "link": "https://stackoverflow.com/questions/52399232/the-constructor-in-the-myapp-class-calls-the-provider-only-once", "title": "The constructor in the MyApp class, calls the provider only once", "body": "<p>I need to call in each of the pages, the connection status of the wifi.\nThen use a provider, but in the MyApp(app.component.ts) constructor, call the provider(ConectivityServiceProvider) only once.</p>\n\n<p>app.component.ts </p>\n\n<pre><code>import { ConectivityServiceProvider } from '...'\nimport { Network } from '.....';\nexport class MyApp {\n  conectivity:boolean\n  constructor(private provider: ConectivityServiceProvider,public network: Network){\n     platform.ready().then(() =&gt; {\n       this.conectivity=provider.isOnline();\n       // call once in all pages\n       if(this.conectivity){\n          //do someting\n       }else //do something\n     }\n  }\n}\n</code></pre>\n\n<p>Provider:</p>\n\n<pre><code>@Injectable()\nexport class ConectivityServiceProvider {\nstatusConectivity: boolean =true;\nconstructor(public network: Network){\n     this.network.onDisconnect().subscribe(() =&gt; {\n        this.statusConectivity=false;\n      });\n}\nisOnline(){\n    return this.statusConectivity;\n  }\n}\n</code></pre>\n\n<p>If I put everything inside the provider in the MyApp class, it does call in each of the pages and not just once.\nWhy using the provider only calls once?</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular6"], "comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1537335559, "post_id": 52398765, "comment_id": 91741606, "body": "Use <code>mat-error</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "is_accepted": false, "score": 0, "last_activity_date": 1537335841, "creation_date": 1537335841, "answer_id": 52398872, "question_id": 52398765, "link": "https://stackoverflow.com/questions/52398765/how-to-display-different-error-messages-based-on-user-input-in-angular-6/52398872#52398872", "title": "How to display different error messages based on user input in Angular 6", "body": "<p>Take a look this tutorial <a href=\"https://codecraft.tv/courses/angular/forms/model-driven-validation\" rel=\"nofollow noreferrer\">https://codecraft.tv/courses/angular/forms/model-driven-validation</a>, You can also reference to this stackoverflow question: <a href=\"https://stackoverflow.com/questions/47884655/display-custom-validator-error-with-mat-error\">Display custom validator error with mat-error</a></p>\n\n<p>But here's a small example:</p>\n\n<pre><code>&lt;form [formGroup]=\"userAddressValidations\" novalidate&gt;\n    &lt;mat-form-field appearance=\"outline\" class=\"col-sm-6\"&gt;\n        &lt;mat-label&gt;First Name&lt;/mat-label&gt;\n        &lt;input matInput formControlName=\"firstName\"&gt;\n         &lt;mat-error *ngIf=\"email.errors.required\"&gt;{{getErrorMessage()}}&lt;/mat-error&gt;\n         &lt;mat-error *ngIf=\"email.errors.minlength\"&gt;{{getErrorMessage()}}&lt;/mat-error&gt;\n    &lt;/mat-form-field&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 1, "creation_date": 1537336080, "post_id": 52398875, "comment_id": 91741777, "body": "It&#39;s showing only the FirstName is required validation. other messages are not working. @SiddAjmera"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "reply_to_user": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 0, "creation_date": 1537336243, "post_id": 52398875, "comment_id": 91741840, "body": "Updated the answer. There was an issue with the case of error names. <code>minLength</code> should have been <code>minlength</code>"}, {"owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 0, "creation_date": 1537336537, "post_id": 52398875, "comment_id": 91741954, "body": "Here If the user starts with special character error message should be as the &quot;First Name must follow this pattern!&quot; instead of minimum char error. If I am right how to do it brother @SiddAjmera"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "reply_to_user": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 1, "creation_date": 1537336604, "post_id": 52398875, "comment_id": 91741982, "body": "You might want to change the sequence of error messages. I think there&#39;s a priority sequence. I&#39;m not sure though."}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 0, "creation_date": 1537336719, "post_id": 52398875, "comment_id": 91742035, "body": "Sidd, is right. @Zhu. Just change the order your ts. file"}, {"owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 0, "creation_date": 1537419902, "post_id": 52398875, "comment_id": 91778895, "body": "can you please help me to solve this <a href=\"https://stackoverflow.com/questions/52417652/how-to-validate-input-fields-one-by-one-in-angular-6?noredirect=1#comment91778499_52417652\" title=\"how to validate input fields one by one in angular 6\">stackoverflow.com/questions/52417652/&hellip;</a> @SiddAjmera"}], "tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": true, "score": 3, "last_activity_date": 1537336134, "last_edit_date": 1537336134, "creation_date": 1537335857, "answer_id": 52398875, "question_id": 52398765, "link": "https://stackoverflow.com/questions/52398765/how-to-display-different-error-messages-based-on-user-input-in-angular-6/52398875#52398875", "title": "How to display different error messages based on user input in Angular 6", "body": "<p>Try this:</p>\n\n<pre><code>&lt;form class=\"example-form\" [formGroup]=\"userAddressValidations\"&gt;\n  &lt;mat-form-field class=\"example-full-width\"&gt;\n    &lt;input matInput placeholder=\"First Name\" formControlName=\"firstName\"&gt;\n    &lt;mat-error *ngIf=\"userAddressValidations.get('firstName').hasError('required')\"&gt;\n      First Name is Required!\n    &lt;/mat-error&gt;\n    &lt;mat-error *ngIf=\"userAddressValidations.get('firstName').hasError('minlength')\"&gt;\n      First Name should be atleast 4 characters long!\n    &lt;/mat-error&gt;\n\n    &lt;mat-error *ngIf=\"userAddressValidations.get('firstName').hasError('maxlength')\"&gt;\n      First Name can be atmax n characters long!\n    &lt;/mat-error&gt;\n\n    &lt;mat-error *ngIf=\"userAddressValidations.get('firstName').hasError('pattern')\"&gt;\n      First Name must follow this pattern!\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>Here's a <a href=\"https://stackblitz.com/edit/angular-mat-form-validation-eg?file=app/input-error-state-matcher-example.html\" rel=\"nofollow noreferrer\"><strong>Sample StackBlitz</strong></a> for your ref.</p>\n"}, {"comments": [{"owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 0, "creation_date": 1537336703, "post_id": 52398938, "comment_id": 91742026, "body": "Here If the user starts with special character error message should be as the &quot;First Name must follow this pattern!&quot; instead of minimum char error. If I am right how to do it brother @Krishna Rathore"}, {"owner": {"reputation": 7635, "user_id": 7584231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKqAC.jpg?s=128&g=1", "display_name": "Krishna Rathore", "link": "https://stackoverflow.com/users/7584231/krishna-rathore"}, "reply_to_user": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 0, "creation_date": 1537336875, "post_id": 52398938, "comment_id": 91742110, "body": "add this condition  &lt;div *ngIf=&quot;!userAddressValidations.get(&#39;firstName&#39;).hasError(&#39;in&zwnj;&#8203;validName&#39;) &amp;&amp; userAddressValidations.get(&#39;firstName&#39;).errors.minlength&quot;&gt; \t\t\tminimum 4 char required \t\t&lt;/div&gt;"}], "tags": [], "owner": {"reputation": 7635, "user_id": 7584231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKqAC.jpg?s=128&g=1", "display_name": "Krishna Rathore", "link": "https://stackoverflow.com/users/7584231/krishna-rathore"}, "is_accepted": false, "score": 1, "last_activity_date": 1537336093, "creation_date": 1537336093, "answer_id": 52398938, "question_id": 52398765, "link": "https://stackoverflow.com/questions/52398765/how-to-display-different-error-messages-based-on-user-input-in-angular-6/52398938#52398938", "title": "How to display different error messages based on user input in Angular 6", "body": "<p>use <code>hasError('invalidName')</code>  for if the user enter any special char and space</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/cannot-read-property-of-custom-validator-and-required-an-ujgzqm?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">Stackblitz</a></strong></p>\n\n<blockquote>\n  <p>Component.html</p>\n</blockquote>\n\n<pre><code>&lt;form [formGroup]=\"userAddressValidations\"&gt;\n\n    &lt;label&gt;User Name : \n        &lt;input type=\"text\"  formControlName=\"firstName\"&gt;\n    &lt;/label&gt;&lt;br&gt;\n\n    &lt;div class=\"errors\" *ngIf=\"userAddressValidations.get('firstName').invalid &amp;&amp; (userAddressValidations.get('firstName').touched || userAddressValidations.get('firstName').dirty)\"&gt;\n\n        &lt;div *ngIf=\"userAddressValidations.get('firstName').hasError('required')\"&gt;\n            Please enter your FName\n        &lt;/div&gt;\n\n        &lt;div *ngIf=\"userAddressValidations.get('firstName').errors.minlength\"&gt;\n            minimum 4 char required\n        &lt;/div&gt;\n\n        &lt;div *ngIf=\"userAddressValidations.get('firstName').errors.maxlength\"&gt;\n            Maximum 20 char only\n        &lt;/div&gt;\n\n        &lt;div class=\"error-text\" *ngIf=\"userAddressValidations.get('firstName').hasError('invalidName')\"&gt;\n            Enter only alphabets\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<blockquote>\n  <p>Component.ts</p>\n</blockquote>\n\n<pre><code>this.userAddressValidations = fb.group({\n      firstName: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(20), usernameValidator]]\n});\n</code></pre>\n\n<blockquote>\n  <p>username.validators.ts</p>\n</blockquote>\n\n<pre><code>import { AbstractControl, ValidationErrors } from \"@angular/forms\"\n\nexport const usernameValidator = function (control: AbstractControl): ValidationErrors | null {\n\n  let value: string = control.value || '';\n\n  if (value) {\n    const matches = value.match(/^[a-zA-Z]+$/);\n    return matches ? null : { 'invalidName': true };\n  } else {\n    return null;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12689, "favorite_count": 0, "accepted_answer_id": 52398875, "answer_count": 3, "score": 4, "last_activity_date": 1537336134, "creation_date": 1537335267, "question_id": 52398765, "link": "https://stackoverflow.com/questions/52398765/how-to-display-different-error-messages-based-on-user-input-in-angular-6", "title": "How to display different error messages based on user input in Angular 6", "body": "<p>I am new to angular 6 ,Here I want to validate a user input field and display different error messages based on the given input.</p>\n\n<p>In my project I am using Angular Material design for UI.</p>\n\n<p>What I want to do is </p>\n\n<ul>\n<li>If the user click on the save button display a error message as <strong>\"Please enter your FName\".</strong></li>\n<li>If user touched but not enter anything and clicked on save button display a error message as <strong>\"Please enter your FName\".</strong></li>\n<li>If user  started to enter char it should show a error message as <strong>\"minimum 4 char required\"</strong></li>\n<li>Once the user reached 15 char it should show a error message as <strong>\"Maximum 20 char only\"</strong></li>\n<li>If the user enter any special char and space and other input an error message as <strong>\"Enter only alphabets\"</strong></li>\n</ul>\n\n<p>Now it changes to RED  color when the input does not meet the successful validation.but I want to display an error message for each validation in the formControl.</p>\n\n<p>Here I have a mat-input-field.</p>\n\n<pre><code>&lt;form [formGroup]=\"userAddressValidations\" novalidate&gt;\n    &lt;mat-form-field appearance=\"outline\" class=\"col-sm-6\"&gt;\n        &lt;mat-label&gt;First Name&lt;/mat-label&gt;\n        &lt;input matInput formControlName=\"firstName\"&gt;\n    &lt;/mat-form-field&gt;\n&lt;/form&gt;\n\n&lt;button mat-raised-button class=\"continueBtnHeight\" color=\"warn\"&gt;\n&lt;span&gt;Save&lt;/span&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p>Ts file</p>\n\n<pre><code>export class ButtonToggleOverviewExample {\n  userAddressValidations: FormGroup;\n  constructor(private formBuilder: FormBuilder) { }\n  ngOnInit() {\n    this.userAddressValidations = this.formBuilder.group({\n      firstName: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(20), Validators.pattern('[a-zA-Z]+')]]\n    });\n\n  }\n}\n</code></pre>\n\n<p>stackblitz:<a href=\"https://stackblitz.com/edit/angular-t1k1x6-skowwq?file=app%2Fbutton-toggle-overview-example.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-t1k1x6-skowwq?file=app%2Fbutton-toggle-overview-example.ts</a></p>\n\n<p>can anyone help me to solve this .</p>\n"}, {"tags": ["angular", "typescript", "migration", "angular5", "angular6"], "comments": [{"owner": {"reputation": 3405, "user_id": 4934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4EKF.jpg?s=128&g=1", "display_name": "Aniket Avhad", "link": "https://stackoverflow.com/users/4934481/aniket-avhad"}, "edited": false, "score": 0, "creation_date": 1537336133, "post_id": 52398449, "comment_id": 91741799, "body": "This is not angular.json structure, you something missed while upgrading.... create new fresh project and compare angular.json file."}], "answers": [{"comments": [{"owner": {"reputation": 1351, "user_id": 7755420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TmIHC.jpg?s=128&g=1", "display_name": "V5NXT", "link": "https://stackoverflow.com/users/7755420/v5nxt"}, "edited": false, "score": 0, "creation_date": 1537333970, "post_id": 52398499, "comment_id": 91741064, "body": "installed rxjs-compat are re-run ng serve, the same issue persists. I used <a href=\"https://update.angular.io/\" rel=\"nofollow noreferrer\">update.angular.io</a>  , this documentation to migrate."}], "tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": false, "score": 1, "last_activity_date": 1537333830, "creation_date": 1537333830, "answer_id": 52398499, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/52398499#52398499", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>I think it's with <code>RxJS</code>'s incompatibility. You should install <code>rxjs-compat</code> to fix this.</p>\n\n<pre><code>npm install rxjs-compat\n</code></pre>\n\n<p>Also, the name of the file is <code>angular.json</code> and not <code>.angular.json</code></p>\n"}, {"comments": [{"owner": {"reputation": 1298, "user_id": 3964619, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wp2aQ.png?s=128&g=1", "display_name": "Novastorm", "link": "https://stackoverflow.com/users/3964619/novastorm"}, "edited": false, "score": 1, "creation_date": 1607209792, "post_id": 54002369, "comment_id": 115201903, "body": "Thanks! This helped me; removing the property script solved my issue"}], "tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": false, "score": 2, "last_activity_date": 1546411986, "creation_date": 1546411986, "answer_id": 54002369, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/54002369#54002369", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>the format of <strong>angular.json</strong> needs to be as per Angular6... You can check my angular.json below or create a new project in Angular6 and then check the format of the 'project' head</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\r\n  \"version\": 1,\r\n  \"newProjectRoot\": \"projects\",\r\n  \"projects\": {\r\n    \"homePage6\": {\r\n      \"root\": \"\",\r\n      \"sourceRoot\": \"src\",\r\n      \"projectType\": \"application\",\r\n      \"prefix\": \"app\",\r\n      \"schematics\": {\r\n        \"@schematics/angular:component\": {\r\n          \"styleext\": \"scss\"\r\n        }\r\n      },\r\n      \"architect\": {\r\n        \"build\": {\r\n          \"builder\": \"@angular-devkit/build-angular:browser\",\r\n          \"options\": {\r\n            \"outputPath\": \"dist/homePage6\",\r\n            \"index\": \"src/index.html\",\r\n            \"main\": \"src/main.ts\",\r\n            \"polyfills\": \"src/polyfills.ts\",\r\n            \"tsConfig\": \"src/tsconfig.app.json\",\r\n            \"assets\": [\r\n              \"src/favicon.ico\",\r\n              \"src/assets\",\r\n              \"src/manifest.json\"\r\n            ],\r\n            \"styles\": [\r\n              \"src/styles.scss\"\r\n            ],\r\n            \"scripts\": []\r\n          },\r\n          \"configurations\": {\r\n            \"production\": {\r\n              \"fileReplacements\": [\r\n                {\r\n                  \"replace\": \"src/environments/environment.ts\",\r\n                  \"with\": \"src/environments/environment.prod.ts\"\r\n                }\r\n              ],\r\n              \"optimization\": true,\r\n              \"outputHashing\": \"all\",\r\n              \"sourceMap\": false,\r\n              \"extractCss\": true,\r\n              \"namedChunks\": false,\r\n              \"aot\": true,\r\n              \"extractLicenses\": true,\r\n              \"vendorChunk\": false,\r\n              \"buildOptimizer\": true,\r\n              \"serviceWorker\": true\r\n            }\r\n          }\r\n        },\r\n        \"serve\": {\r\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\r\n          \"options\": {\r\n            \"browserTarget\": \"homePage6:build\"\r\n          },\r\n          \"configurations\": {\r\n            \"production\": {\r\n              \"browserTarget\": \"homePage6:build:production\"\r\n            }\r\n          }\r\n        },\r\n        \"extract-i18n\": {\r\n          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\r\n          \"options\": {\r\n            \"browserTarget\": \"homePage6:build\"\r\n          }\r\n        },\r\n        \"test\": {\r\n          \"builder\": \"@angular-devkit/build-angular:karma\",\r\n          \"options\": {\r\n            \"main\": \"src/test.ts\",\r\n            \"polyfills\": \"src/polyfills.ts\",\r\n            \"tsConfig\": \"src/tsconfig.spec.json\",\r\n            \"karmaConfig\": \"src/karma.conf.js\",\r\n            \"styles\": [\r\n              \"styles.scss\"\r\n            ],\r\n            \"scripts\": [],\r\n            \"assets\": [\r\n              \"src/favicon.ico\",\r\n              \"src/assets\",\r\n              \"src/manifest.json\"\r\n            ]\r\n          }\r\n        },\r\n        \"lint\": {\r\n          \"builder\": \"@angular-devkit/build-angular:tslint\",\r\n          \"options\": {\r\n            \"tsConfig\": [\r\n              \"src/tsconfig.app.json\",\r\n              \"src/tsconfig.spec.json\"\r\n            ],\r\n            \"exclude\": [\r\n              \"**/node_modules/**\"\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \"homePage6-e2e\": {\r\n      \"root\": \"e2e/\",\r\n      \"projectType\": \"application\",\r\n      \"architect\": {\r\n        \"e2e\": {\r\n          \"builder\": \"@angular-devkit/build-angular:protractor\",\r\n          \"options\": {\r\n            \"protractorConfig\": \"e2e/protractor.conf.js\",\r\n            \"devServerTarget\": \"homePage6:serve\"\r\n          }\r\n        },\r\n        \"lint\": {\r\n          \"builder\": \"@angular-devkit/build-angular:tslint\",\r\n          \"options\": {\r\n            \"tsConfig\": \"e2e/tsconfig.e2e.json\",\r\n            \"exclude\": [\r\n              \"**/node_modules/**\"\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"defaultProject\": \"homePage6\"\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I ran into similar (not identical, but also in angular.json) issue:</p>\n\n<blockquote>\n  <p>Schema validation failed with the following errors:   Data path\n  \"['server']\" should NOT have additional properties(scripts). Error:\n  Schema validation failed with the following errors:   Data path\n  \"['server']\" should NOT have additional properties(scripts).\n      at MergeMapSubscriber._registry.compile.pipe.operators_1.concatMap.validatorResult\n  [as project]\n  (D:\\Angular7\\uHome\\node_modules@angular-devkit\\core\\src\\workspace\\workspace.js:215:42)\n      at MergeMapSubscriber._tryNext (D:\\Angular7\\uHome\\node_modules\\rxjs\\internal\\operators\\mergeMap.js:69:27)\n      at MergeMapSubscriber._next (D:\\Angular7\\uHome\\node_modules\\rxjs\\internal\\operators\\mergeMap.js:59:18)\n      at MergeMapSubscriber.Subscriber.next (D:\\Angular7\\uHome\\node_modules\\rxjs\\internal\\Subscriber.js:67:18)\n      at MergeMapSubscriber.notifyNext (D:\\Angular7\\uHome\\node_modules\\rxjs\\internal\\operators\\mergeMap.js:92:26)\n      at InnerSubscriber._next (D:\\Angular7\\uHome\\node_modules\\rxjs\\internal\\InnerSubscriber.js:28:21)\n      at InnerSubscriber.Subscriber.next (D:\\Angular7\\uHome\\node_modules\\rxjs\\internal\\Subscriber.js:67:18)\n      at MapSubscriber._next (D:\\Angular7\\uHome\\node_modules\\rxjs\\internal\\operators\\map.js:55:26)\n      at MapSubscriber.Subscriber.next (D:\\Angular7\\uHome\\node_modules\\rxjs\\internal\\Subscriber.js:67:18)\n      at SwitchMapSubscriber.notifyNext (D:\\Angular7\\uHome\\node_modules\\rxjs\\internal\\operators\\switchMap.js:86:26)</p>\n</blockquote>\n\n<p>had to remove the property scripts from my angular.json... sharing this information to help someone in the future.</p>\n"}, {"tags": [], "owner": {"reputation": 1351, "user_id": 7755420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TmIHC.jpg?s=128&g=1", "display_name": "V5NXT", "link": "https://stackoverflow.com/users/7755420/v5nxt"}, "is_accepted": true, "score": 4, "last_activity_date": 1554208409, "last_edit_date": 1554208409, "creation_date": 1546939016, "answer_id": 54088602, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/54088602#54088602", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>Since I fixed the issue I thought it would be nice to post it here.</p>\n\n<p>I changed my file name .angular.json to angular.json and replaced some properties from the question in it.</p>\n\n<pre><code>{\n  \"$schema\": \"./node_modules/@angular-devkit/core/src/workspace/workspace-schema.json\",\n  \"version\": 1,\n  \"newProjectRoot\": \"projects\",\n  \"projects\": {\n    \"template-appv6\": {\n      \"root\": \"\",\n      \"projectType\": \"application\",\n      \"architect\": {\n        \"build\": {\n          \"builder\": \"@angular-devkit/build-angular:browser\",\n          \"options\": {\n            \"outputPath\": \"dist/browser\",\n            \"index\": \"src/index.html\",\n            \"main\": \"src/main.ts\",\n            \"tsConfig\": \"src/tsconfig.app.json\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"assets\": [\n              {\n                \"glob\": \"**/*\",\n                \"input\": \"src/assets\",\n                \"output\": \"/assets\"\n              },\n              {\n                \"glob\": \"favicon.ico\",\n                \"input\": \"src\",\n                \"output\": \"/\"\n              }\n            ],\n            \"styles\": [\n              \"src/styles.scss\"\n            ],\n            \"scripts\": []\n          },\n          \"configurations\": {\n            \"production\": {\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true,\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.prod.ts\"\n                }\n              ]\n            }\n          }\n        },\n        \"serve\": {\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n          \"options\": {\n            \"browserTarget\": \"template-appv6:build\"\n          },\n          \"configurations\": {\n            \"production\": {\n              \"browserTarget\": \"template-appv6:build:production\"\n            }\n          }\n        },\n        \"extract-i18n\": {\n          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n          \"options\": {\n            \"browserTarget\": \"template-appv6:build\"\n          }\n        },\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"main\": \"src/test.ts\",\n            \"karmaConfig\": \"./karma.conf.js\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"src/tsconfig.spec.json\",\n            \"scripts\": [],\n            \"styles\": [\n              \"src/styles.css\"\n            ],\n            \"assets\": [\n              {\n                \"glob\": \"**/*\",\n                \"input\": \"src/assets\",\n                \"output\": \"/assets\"\n              },\n              {\n                \"glob\": \"favicon.ico\",\n                \"input\": \"src\",\n                \"output\": \"/\"\n              }\n            ]\n          }\n        },\n        \"lint\": {\n          \"builder\": \"@angular-devkit/build-angular:tslint\",\n          \"options\": {\n            \"tsConfig\": [\n              \"src/tsconfig.app.json\",\n              \"src/tsconfig.spec.json\"\n            ],\n            \"exclude\": [\n              \"**/node_modules/**\"\n            ]\n          }\n        },\n        \"server\": {\n          \"builder\": \"@angular-devkit/build-angular:server\",\n          \"options\": {\n            \"outputPath\": \"dist/server\",\n            \"main\": \"src/main.server.ts\",\n            \"tsConfig\": \"src/tsconfig.server.json\"\n          }\n        }\n      }\n    },\n    \"template-appv6-e2e\": {\n      \"root\": \"\",\n      \"projectType\": \"application\",\n      \"cli\": {},\n      \"schematics\": {},\n      \"architect\": {\n        \"e2e\": {\n          \"builder\": \"@angular-devkit/build-angular:protractor\",\n          \"options\": {\n            \"protractorConfig\": \"./protractor.conf.js\",\n            \"devServerTarget\": \"template-appv6:serve\"\n          }\n        },\n        \"lint\": {\n          \"builder\": \"@angular-devkit/build-angular:tslint\",\n          \"options\": {\n            \"tsConfig\": [\n              \"e2e/tsconfig.e2e.json\"\n            ],\n            \"exclude\": [\n              \"**/node_modules/**\"\n            ]\n          }\n        }\n      }\n    }\n  },\n  \"cli\": {},\n  \"schematics\": {\n    \"@schematics/angular:component\": {\n      \"prefix\": \"app\",\n      \"styleext\": \"css\"\n    },\n    \"@schematics/angular:directive\": {\n      \"prefix\": \"app\"\n    }\n  }\n}\n</code></pre>\n\n<p>I changed the file by replacing the angular.json file with properties in the angular official docs.</p>\n\n<p>The official <a href=\"https://update.angular.io/\" rel=\"nofollow noreferrer\">Angular Update Guide</a> provides a step by step guide on how to update versions.</p>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 2100735, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001202461500/picture?type=large", "display_name": "Jo&#227;o Marcos Santos Teixeira", "link": "https://stackoverflow.com/users/2100735/jo%c3%a3o-marcos-santos-teixeira"}, "is_accepted": false, "score": 6, "last_activity_date": 1559151009, "last_edit_date": 1559151009, "creation_date": 1559149189, "answer_id": 56365392, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/56365392#56365392", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>Change <code>package.json</code> from:</p>\n\n<pre><code>\"@angular-devkit/build-angular\": \"^0.13.5\",\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>\"@angular-devkit/build-angular\": \"^0.12.1\",\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 553, "user_id": 526108, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3c8be911f6ef5007ea825aa24950850b?s=128&d=identicon&r=PG", "display_name": "okello", "link": "https://stackoverflow.com/users/526108/okello"}, "is_accepted": false, "score": 2, "last_activity_date": 1559239508, "creation_date": 1559239508, "answer_id": 56383426, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/56383426#56383426", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>Updating <code>npm</code> and <code>angular</code> fixed mine:</p>\n\n<p>Assuming you use <code>npm</code> </p>\n\n<pre><code>npm update\n</code></pre>\n\n<p>then run:</p>\n\n<pre><code>ng update\n</code></pre>\n\n<p>NB: You might be prompted to update individual dependencies. In my case, I was prompted to run:</p>\n\n<p><code>ng update @angular/cli</code> and <code>ng update @angular/core</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 436, "user_id": 2017315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99ab055c2a581b1d4fe0108a3fb013a9?s=128&d=identicon&r=PG&f=1", "display_name": "Gajen", "link": "https://stackoverflow.com/users/2017315/gajen"}, "edited": false, "score": 1, "creation_date": 1565948342, "post_id": 56492948, "comment_id": 101511216, "body": "It also worked for me thanks. Any idea why it was not working with version 0.800.2?"}, {"owner": {"reputation": 648, "user_id": 2845594, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IFNK9.jpg?s=128&g=1", "display_name": "Sasikumar", "link": "https://stackoverflow.com/users/2845594/sasikumar"}, "reply_to_user": {"reputation": 436, "user_id": 2017315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/99ab055c2a581b1d4fe0108a3fb013a9?s=128&d=identicon&r=PG&f=1", "display_name": "Gajen", "link": "https://stackoverflow.com/users/2017315/gajen"}, "edited": false, "score": 0, "creation_date": 1565959101, "post_id": 56492948, "comment_id": 101515998, "body": "I guess it&#39;s because of a major version mismatch"}, {"owner": {"reputation": 1767, "user_id": 5276297, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2160747b307b49c109b99348de6ccbef?s=128&d=identicon&r=PG", "display_name": "Naveen Kumar V", "link": "https://stackoverflow.com/users/5276297/naveen-kumar-v"}, "edited": false, "score": 1, "creation_date": 1576607111, "post_id": 56492948, "comment_id": 104952165, "body": "Worked for me :)"}, {"owner": {"reputation": 648, "user_id": 2845594, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IFNK9.jpg?s=128&g=1", "display_name": "Sasikumar", "link": "https://stackoverflow.com/users/2845594/sasikumar"}, "edited": false, "score": 0, "creation_date": 1577360053, "post_id": 56492948, "comment_id": 105150352, "body": "Thanks! Keep Supporting."}, {"owner": {"reputation": 693, "user_id": 9041811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tuQd2.jpg?s=128&g=1", "display_name": "mike_butak", "link": "https://stackoverflow.com/users/9041811/mike-butak"}, "edited": false, "score": 0, "creation_date": 1578075037, "post_id": 56492948, "comment_id": 105332856, "body": "@Sasikumar I&#39;ve been following this and several other similar pieces of advice to correct version mismatch.  Each version change I make just gives different errors.  How does one get to the bottom of version mismatches?  Isn&#39;t there something in the libraries that tells npm which versions to install?"}, {"owner": {"reputation": 648, "user_id": 2845594, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IFNK9.jpg?s=128&g=1", "display_name": "Sasikumar", "link": "https://stackoverflow.com/users/2845594/sasikumar"}, "edited": false, "score": 0, "creation_date": 1578205568, "post_id": 56492948, "comment_id": 105359695, "body": "The official document is itself clear. U can refer,<a href=\"https://angular.io/cli/update\" rel=\"nofollow noreferrer\">angular.io/cli/update</a>. Angular itself is providing update guides. I think it will be more helpful, <a href=\"https://update.angular.io/\" rel=\"nofollow noreferrer\">update.angular.io</a>"}, {"owner": {"reputation": 648, "user_id": 2845594, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IFNK9.jpg?s=128&g=1", "display_name": "Sasikumar", "link": "https://stackoverflow.com/users/2845594/sasikumar"}, "reply_to_user": {"reputation": 693, "user_id": 9041811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tuQd2.jpg?s=128&g=1", "display_name": "mike_butak", "link": "https://stackoverflow.com/users/9041811/mike-butak"}, "edited": false, "score": 0, "creation_date": 1580725074, "post_id": 56492948, "comment_id": 106178266, "body": "@mike_butak  Try like this, Revery your code to the runnable stage. Then start updating the package one after the other. It will be easy to narrow down the issue."}, {"owner": {"reputation": 176, "user_id": 6785803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df615ab287c84e8f956c3bb4003bd87f?s=128&d=identicon&r=PG", "display_name": "Elhakim", "link": "https://stackoverflow.com/users/6785803/elhakim"}, "edited": false, "score": 1, "creation_date": 1611145609, "post_id": 56492948, "comment_id": 116355262, "body": "@Sasikumar Thanks, Deleting node_modules and running <code>npm i</code> fixed this for me. my issue was I have two branches, one of them have an updated angular version."}], "tags": [], "owner": {"reputation": 648, "user_id": 2845594, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IFNK9.jpg?s=128&g=1", "display_name": "Sasikumar", "link": "https://stackoverflow.com/users/2845594/sasikumar"}, "is_accepted": false, "score": 40, "last_activity_date": 1566889354, "last_edit_date": 1566889354, "creation_date": 1559904854, "answer_id": 56492948, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/56492948#56492948", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>The issue is generally because of a version mismatch in your <code>package.json</code> file.</p>\n\n<p>In my Angular 7 app, I have changed <code>\"@angular-devkit/build-angular\": \"^0.800.2\"</code> to <code>\"@angular-devkit/build-angular\": \"~0.7.0\"</code>. </p>\n\n<p>Then I ran the command <code>npm install</code> after deleting <code>node_modules</code>.</p>\n\n<p>Aside: Use <code>^</code> carefully. Your working code may not work in the future if there is a major change in the package used. </p>\n"}, {"comments": [{"owner": {"reputation": 666, "user_id": 4440414, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PYq2o.png?s=128&g=1", "display_name": "C0ZEN", "link": "https://stackoverflow.com/users/4440414/c0zen"}, "edited": false, "score": 0, "creation_date": 1597067450, "post_id": 56865388, "comment_id": 112004635, "body": "es5BrowserSupport at true is a very good idea to increase performances on the first load. Disabling it is not a solution..."}, {"owner": {"reputation": 5005, "user_id": 3025289, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/f929b.png?s=128&g=1", "display_name": "Lonely", "link": "https://stackoverflow.com/users/3025289/lonely"}, "edited": false, "score": 0, "creation_date": 1601640396, "post_id": 56865388, "comment_id": 113475926, "body": "you have to remove <code>es5BrowserSupport</code>, it is no more allowed to use this key within <code>angular.json</code>  (Angular ^v10)"}], "tags": [], "owner": {"reputation": 535, "user_id": 1584950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rb2mi.jpg?s=128&g=1", "display_name": "pinarella", "link": "https://stackoverflow.com/users/1584950/pinarella"}, "is_accepted": false, "score": 22, "last_activity_date": 1562140284, "creation_date": 1562140284, "answer_id": 56865388, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/56865388#56865388", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>my app is on angular 7.2.3</p>\n\n<p>remove  \"es5BrowserSupport\": true from angular.json.\nand npm start now works.</p>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 7760503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c18a80126b8523aff0701b86570332?s=128&d=identicon&r=PG&f=1", "display_name": "Vaishnavi", "link": "https://stackoverflow.com/users/7760503/vaishnavi"}, "is_accepted": false, "score": 10, "last_activity_date": 1565684205, "last_edit_date": 1565684205, "creation_date": 1565684023, "answer_id": 57473678, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/57473678#57473678", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>First:</p>\n\n<pre><code>npm uninstall @angular-devkit/build-angular\n</code></pre>\n\n<p>Next:</p>\n\n<pre><code>npm install @angular-devkit/build-angular@0.12.4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 10832700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VaEfviibRa8/AAAAAAAAAAI/AAAAAAAAAAg/4ZoM9Pbgda0/photo.jpg?sz=128", "display_name": "ahmnouira", "link": "https://stackoverflow.com/users/10832700/ahmnouira"}, "is_accepted": false, "score": 1, "last_activity_date": 1578175109, "creation_date": 1578175109, "answer_id": 59595199, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/59595199#59595199", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>go to <code>package.json</code> and change the version of <strong>@angular-devkit/build-angular</strong> as follows:</p>\n\n<p><code>@angular-devkit/build-angular\": \"^0.12.4\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 229, "user_id": 5284448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebeea986c5fbab2a9ecb566e7b0fee7?s=128&d=identicon&r=PG&f=1", "display_name": "Brijesh Ray", "link": "https://stackoverflow.com/users/5284448/brijesh-ray"}, "is_accepted": false, "score": 10, "last_activity_date": 1582123143, "creation_date": 1582123143, "answer_id": 60302792, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/60302792#60302792", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>When i was getting version error issues,Following command worked for me:</p>\n\n<p>First run:</p>\n\n<pre><code>npm update\n</code></pre>\n\n<p>Second run:</p>\n\n<pre><code>ng update\n</code></pre>\n\n<p>Third run:\n(It will update all the mismatching packages)</p>\n\n<pre><code>ng update --all --force\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12056808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2SlIP.png?s=128&g=1", "display_name": "Zia Ullah", "link": "https://stackoverflow.com/users/12056808/zia-ullah"}, "is_accepted": false, "score": 0, "last_activity_date": 1599318269, "creation_date": 1599318269, "answer_id": 63755353, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/63755353#63755353", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>I just deleted the <strong>node_module</strong> folder and run</p>\n<blockquote>\n<p>NPM Install</p>\n</blockquote>\n<p>and it worked fine for me.</p>\n<p>It is an <strong>Angular 9</strong> solution.</p>\n"}, {"tags": [], "owner": {"reputation": 5005, "user_id": 3025289, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/f929b.png?s=128&g=1", "display_name": "Lonely", "link": "https://stackoverflow.com/users/3025289/lonely"}, "is_accepted": false, "score": 5, "last_activity_date": 1601641011, "creation_date": 1601641011, "answer_id": 64171410, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/64171410#64171410", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>Angular Upgrade from 9 to 10 is very easy (all additional detail-information is here: <a href=\"https://update.angular.io/?v=9.0-10.0\" rel=\"noreferrer\">https://update.angular.io/?v=9.0-10.0</a>) :</p>\n<blockquote>\n<p>Make sure your package file is in version control and all changes have been committed. This will overwrite your package file. Better you try it in a new experimental branch.</p>\n</blockquote>\n<pre class=\"lang-sh prettyprint-override\"><code>npm install -g npm-check-updates\nncu -u\nng update --all --force\n</code></pre>\n<p>In the new schema, it is no more allowed to use the key <code>es5BrowserSupport</code>, remove the following line in your <code>angular.json</code>:</p>\n<pre><code>&quot;es5BrowserSupport&quot;: true\n</code></pre>\n<p>then simple start your application anew:</p>\n<pre><code>npm start\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "is_accepted": false, "score": 1, "last_activity_date": 1617725366, "last_edit_date": 1617725366, "creation_date": 1601823164, "answer_id": 64196108, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/64196108#64196108", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>When upgrading <code>Angular</code> from version <code>8</code> to <code>10</code> I got very similar error, namely <code>Schema validation failed with the following errors:   Data path &quot;&quot; should NOT have additional properties(serverTarget).</code>.</p>\n<p>The solution was remove all <code>&quot;serverTarget&quot;</code> references from below <code>&quot;serve&quot;</code>. The below was <strong>wrong</strong>:</p>\n<pre><code>&quot;serve&quot;: {\n  &quot;builder&quot;: &quot;@angular-devkit/build-angular:dev-server&quot;,\n  &quot;options&quot;: {\n    &quot;browserTarget&quot;: &quot;my_app:build&quot;\n    &quot;serverTarget&quot;: &quot;my_app:server&quot;\n  },\n  &quot;configurations&quot;: {\n    &quot;production&quot;: {\n      &quot;browserTarget&quot;: &quot;my_app:build:production&quot;,\n      &quot;serverTarget&quot;: &quot;my_app:server:production&quot;\n    }\n  }\n},\n</code></pre>\n<p>The below is <strong>correct</strong> and <strong>compiled successfully</strong>:</p>\n<pre><code>&quot;serve&quot;: {\n  &quot;builder&quot;: &quot;@angular-devkit/build-angular:dev-server&quot;,\n  &quot;options&quot;: {\n    &quot;browserTarget&quot;: &quot;my_app:build&quot;\n  },\n  &quot;configurations&quot;: {\n    &quot;production&quot;: {\n      &quot;browserTarget&quot;: &quot;my_app:build:production&quot;\n    }\n  }\n},\n</code></pre>\n<p><strong>Bonus</strong> for those who are working with <code>Angular Universal</code>. If you want to run SSR on <code>localhost</code>, then indeed you need the <code>serverTarget</code>. However, for that you have to create a new section within the <code>angular.json</code>, something like:</p>\n<pre><code>&quot;serve-ssr&quot;: {\n  &quot;builder&quot;: &quot;@nguniversal/builders:ssr-dev-server&quot;,\n  &quot;options&quot;: {\n    &quot;browserTarget&quot;: &quot;my_app:build&quot;,\n    &quot;serverTarget&quot;: &quot;my_app:server&quot;\n  },\n  &quot;configurations&quot;: {\n    &quot;production&quot;: {\n      &quot;browserTarget&quot;: &quot;my_app:build:production&quot;,\n      &quot;serverTarget&quot;: &quot;my_app:server:production&quot;\n    }\n  }\n},\n</code></pre>\n<p>Then <code>ng run my_app:serve-ssr</code>.</p>\n<p>Actually I got this error when upgrading <code>Angular</code> from version <code>10</code> into <code>8</code> and wanted to improve some things. Then I've messed up the <code>serverTarget</code> thing with that wrong thinking, hopefully this will help out someone with <code>Angular Universal</code> in a project.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14591595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SMByL.jpg?s=128&g=1", "display_name": "JEMMALI MED &#201;MIR", "link": "https://stackoverflow.com/users/14591595/jemmali-med-%c3%89mir"}, "is_accepted": false, "score": 1, "last_activity_date": 1604702052, "last_edit_date": 1604702052, "creation_date": 1604679572, "answer_id": 64718151, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n/64718151#64718151", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>Remove these two lines from the angular.json file:</p>\n<pre><code>&quot;vendorSourceMap&quot;:&quot;true&quot;,\n&quot;evalSourceMap&quot;:&quot;true&quot;.\n</code></pre>\n"}], "owner": {"reputation": 1351, "user_id": 7755420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TmIHC.jpg?s=128&g=1", "display_name": "V5NXT", "link": "https://stackoverflow.com/users/7755420/v5nxt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106022, "favorite_count": 7, "accepted_answer_id": 54088602, "answer_count": 14, "score": 58, "last_activity_date": 1617725366, "creation_date": 1537333577, "last_edit_date": 1570206577, "question_id": 52398449, "link": "https://stackoverflow.com/questions/52398449/error-schema-validation-failed-with-the-following-errors-data-path-should-n", "title": "Error: Schema validation failed with the following errors: Data path &quot;&quot; should NOT have additional properties(project)", "body": "<p>After migrating application from angular 5 to 6, on running ng serve the following errors pop up.</p>\n\n<blockquote>\n  <p>Schema validation failed with the following errors:\n    Data path \"\" should NOT have additional properties(project).\n  Error: Schema validation failed with the following errors:\n    Data path \"\" should NOT have additional properties(project).\n      at MergeMapSubscriber._registry.compile.pipe.operators_1.concatMap.validatorResult [as project] (.../TemplateApp/me-cmf-web-template-angular/node_modules/@angular-devkit/core/src/workspace/workspace.js:210:42)\n      at MergeMapSubscriber._tryNext (/.../me-cmf-web-template-angular/node_modules/@angular-devkit/core/node_modules/rxjs/internal/operators/mergeMap.js:65:27)\n      at MergeMapSubscriber._next (.../me-cmf-web-template-angular/node_modules/@angular-devkit/core/node_modules/rxjs/internal/operators/mergeMap.js:55:18)\n      at MergeMapSubscriber.Subscriber.next (/home/training/Attinad_Projects/TemplateApp/me-cmf-web-template-angular/node_modules/@angular-devkit/core/node_modules/rxjs/internal/Subscriber.js:64:18)\n      at MergeMapSubscriber.notifyNext (.../TemplateApp/me-cmf-web-template-angular/node_modules/@angular-devkit/core/node_modules/rxjs/internal/operators/mergeMap.js:84:26)\n      at InnerSubscriber._next (.../me-cmf-web-template-angular/node_modules/@angular-devkit/core/node_modules/rxjs/internal/InnerSubscriber.js:25:21)\n      at InnerSubscriber.Subscriber.next (/.../me-cmf-web-template-angular/node_modules/@angular-devkit/core/node_modules/rxjs/internal/Subscriber.js:64:18)\n      at MapSubscriber._next (.../me-cmf-web-template-angular/node_modules/@angular-devkit/core/node_modules/rxjs/internal/operators/map.js:52:26)\n      at MapSubscriber.Subscriber.next (/.../me-cmf-web-template-angular/node_modules/@angular-devkit/core/node_modules/rxjs/internal/Subscriber.js:64:18)\n      at SwitchMapSubscriber.notifyNext (.../me-cmf-web-template-angular/node_modules/@angular-devkit/core/node_modules/rxjs/internal/operators/switchMap.js:77:26)</p>\n</blockquote>\n\n<p>I assume that the error is with .angular.json file which I re-named from .angular-cli.json . </p>\n\n<p>My .angular.json file is as follows : </p>\n\n<pre><code>{\n    \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n    \"project\": {\n        \"name\": \"mediaweb\"\n    },\n    \"apps\": [{\n            \"root\": \"src\",\n            \"outDir\": \"dist/browser\",\n            \"assets\": [\n                \"assets\",\n                \"favicon.ico\"\n            ],\n            \"index\": \"index.html\",\n            \"main\": \"main.ts\",\n            \"polyfills\": \"polyfills.ts\",\n            \"test\": \"test.ts\",\n            \"tsconfig\": \"tsconfig.app.json\",\n            \"testTsconfig\": \"tsconfig.spec.json\",\n            \"prefix\": \"app\",\n            \"styles\": [\n                \"styles.scss\",\n                \"../node_modules/owl.carousel/dist/assets/owl.carousel.css\",\n                \"../node_modules/owl.carousel/dist/assets/owl.theme.default.css\",\n                \"../node_modules/video.js/dist/video-js.css\"\n            ],\n            \"scripts\": [\n                \"../node_modules/jquery/dist/jquery.js\",\n                \"../node_modules/owl.carousel/dist/owl.carousel.js\",\n                \"../node_modules/video.js/dist/ie8/videojs-ie8.js\",\n                \"../node_modules/video.js/dist/video.js\"\n            ],\n            \"environmentSource\": \"environments/environment.ts\",\n            \"environments\": {\n                \"dev\": \"environments/environment.dev.ts\",\n                \"prod\": \"environments/environment.prod.ts\"\n            }\n        },\n        {\n            \"platform\": \"server\",\n            \"root\": \"src\",\n            \"outDir\": \"dist/server\",\n            \"assets\": [\n                \"assets\",\n                \"favicon.ico\"\n            ],\n            \"index\": \"index.html\",\n            \"main\": \"main.server.ts\",\n            \"test\": \"test.ts\",\n            \"tsconfig\": \"tsconfig.server.json\",\n            \"testTsconfig\": \"tsconfig.spec.json\",\n            \"prefix\": \"app\",\n            \"styles\": [\n                \"styles.scss\"\n            ],\n            \"scripts\": [],\n            \"environmentSource\": \"environments/environment.ts\",\n            \"environments\": {\n                \"dev\": \"environments/environment.dev.ts\",\n                \"prod\": \"environments/environment.prod.ts\"\n            }\n        }\n    ],\n    \"e2e\": {\n        \"protractor\": {\n            \"config\": \"./protractor.conf.js\"\n        }\n    },\n    \"lint\": [{\n            \"project\": \"src/tsconfig.app.json\",\n            \"exclude\": [\"**/node_modules/**\", \"**/UI/**\"]\n        },\n        {\n            \"project\": \"src/tsconfig.spec.json\",\n            \"exclude\": \"**/node_modules/**\"\n        },\n        {\n            \"project\": \"e2e/tsconfig.e2e.json\",\n            \"exclude\": \"**/node_modules/**\"\n        }\n    ],\n    \"test\": {\n        \"karma\": {\n            \"config\": \"./karma.conf.js\"\n        }\n    },\n    \"defaults\": {\n        \"styleExt\": \"scss\",\n        \"component\": {}\n    }\n}\n</code></pre>\n\n<p>Should I re-structure the json file, if so how?.</p>\n\n<p>Any help would be great.</p>\n"}, {"tags": ["json", "angular", "typescript", "api"], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 1003954, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f9bc521004ab81dce765ede3c0c0ac81?s=128&d=identicon&r=PG", "display_name": "GVashist", "link": "https://stackoverflow.com/users/1003954/gvashist"}, "edited": false, "score": 0, "creation_date": 1537326567, "post_id": 52397422, "comment_id": 91739339, "body": "Wow. That was it. Thank you."}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "reply_to_user": {"reputation": 427, "user_id": 1003954, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f9bc521004ab81dce765ede3c0c0ac81?s=128&d=identicon&r=PG", "display_name": "GVashist", "link": "https://stackoverflow.com/users/1003954/gvashist"}, "edited": false, "score": 0, "creation_date": 1537326602, "post_id": 52397422, "comment_id": 91739348, "body": "Happy to help you :)"}, {"owner": {"reputation": 427, "user_id": 1003954, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f9bc521004ab81dce765ede3c0c0ac81?s=128&d=identicon&r=PG", "display_name": "GVashist", "link": "https://stackoverflow.com/users/1003954/gvashist"}, "edited": false, "score": 0, "creation_date": 1537327656, "post_id": 52397422, "comment_id": 91739530, "body": "Quick follow up, the way the data is set up is that the BRANCH is repeated for multiple &quot;Stations&quot;. for example, Station 1, 9 and 10 will have BRANCH = &quot;Branch 1&quot;. Short of de-duplicating the array, is there a way to get a distinct list of BRANCHes?"}], "tags": [], "owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "is_accepted": true, "score": 1, "last_activity_date": 1537326438, "creation_date": 1537326438, "answer_id": 52397422, "question_id": 52397404, "link": "https://stackoverflow.com/questions/52397404/how-can-i-read-and-bind-data-from-this-json-to-a-select-dropdown-in-angular-2/52397422#52397422", "title": "How can I read and bind data from this JSON to a Select dropdown in Angular 2+", "body": "<p>You are having key value pair to the object instead ngFor expects an array so you should use the below code </p>\n\n<pre><code> this.apiService.getStations().subscribe(data =&gt; {\n      this.stationList = Object.values(data.Stations); // returns an array\n     }, err =&gt; {\n      this.errorFetchingStations = err;\n      console.log(\"Error getting list of stations \" + err);\n    })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 94, "user_id": 9466184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3efc1c77c0c8648c9bc2ed4e8aa4952?s=128&d=identicon&r=PG&f=1", "display_name": "H Mirindra", "link": "https://stackoverflow.com/users/9466184/h-mirindra"}, "is_accepted": false, "score": 1, "last_activity_date": 1537328107, "creation_date": 1537328107, "answer_id": 52397632, "question_id": 52397404, "link": "https://stackoverflow.com/questions/52397404/how-can-i-read-and-bind-data-from-this-json-to-a-select-dropdown-in-angular-2/52397632#52397632", "title": "How can I read and bind data from this JSON to a Select dropdown in Angular 2+", "body": "<p>you should transform the stationList to array and you can use the Object.values(data.Stations), as the below. </p>\n\n<pre><code>this.apiService.getStations().subscribe(data =&gt; {\n  var stations = data.Stations;\n  this.stationList = Object.values(stations);\n}, err =&gt; {\n  this.errorFetchingStations = err;\n  console.log(\"Error getting list of stations \" + err);\n})\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 1003954, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f9bc521004ab81dce765ede3c0c0ac81?s=128&d=identicon&r=PG", "display_name": "GVashist", "link": "https://stackoverflow.com/users/1003954/gvashist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 52397422, "answer_count": 2, "score": 0, "last_activity_date": 1537328107, "creation_date": 1537326311, "question_id": 52397404, "link": "https://stackoverflow.com/questions/52397404/how-can-i-read-and-bind-data-from-this-json-to-a-select-dropdown-in-angular-2", "title": "How can I read and bind data from this JSON to a Select dropdown in Angular 2+", "body": "<p>This is what my JSON looks like:</p>\n\n<pre><code>{\n    \"Stations\": {\n        \"44\": {\n            \"NAME\": \"Station 1\",\n            \"BRANCH_CD\": \"3\",\n            \"BRANCH\": \"Bay Branch\"\n        },\n        \"137\": {\n            \"NAME\": \"Station 2\",            \n            \"BRANCH_CD\": \"5\",\n            \"BRANCH\": \"Beach Branch\"        \n        }\n    }\n}\n</code></pre>\n\n<p>I would like to know if its possible to extract the \"NAME\" and \"BRANCH\" values from each \"Station\" and bind them to separate Select inputs [dropdowns]</p>\n\n<p>I am using Angular 4.\nHere is what I have:</p>\n\n<pre><code> this.apiService.getStations().subscribe(data =&gt; {\n      this.stationList = data.Stations;\n     }, err =&gt; {\n      this.errorFetchingStations = err;\n      console.log(\"Error getting list of stations \" + err);\n    })\n</code></pre>\n\n<p><code>this.stationList</code> gives me an object of this format in the console:</p>\n\n<pre><code>{44:{NAME: \"Name of station\", BRANCH: \"Name of branch\"}}\n{137:{NAME: \"Name of station\", BRANCH: \"Name of branch\"}}\n</code></pre>\n\n<p>and so on.</p>\n\n<p>If I try to bind the stationList to my select like this, I get an error</p>\n\n<p><strong>ERROR Error: Error trying to diff '[object Object]'. Only arrays and iterables are allowed</strong></p>\n\n<pre><code>    &lt;select class=\"form-control\"&gt;\n        &lt;option *ngFor=\"let station of stationList\" [value]=\"station.NAME\"&gt;{{station.NAME}}&lt;/option&gt;\n      &lt;/select&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "webpack"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537415038, "post_id": 52397290, "comment_id": 91777656, "body": "By declaring <code>jquery</code> as an external in the webpack configuration, you are saying that you will load it into the target environment another way.  How are you loading it?  <code>&lt;script src=...&gt;</code>?"}, {"owner": {"reputation": 23, "user_id": 9265344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Q2O6.png?s=128&g=1", "display_name": "gourdbaby", "link": "https://stackoverflow.com/users/9265344/gourdbaby"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537423531, "post_id": 52397290, "comment_id": 91780259, "body": "Just like this <code>import jquery from &#39;jquery&#39;</code>,  it is not loading?  There is a jquery in my node_modules."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537622572, "post_id": 52397290, "comment_id": 91856371, "body": "If you want webpack to include the jquery from your node_modules in the main bundle (which I assume you are loading somehow), then you shouldn&#39;t declare <code>jquery</code> as an external."}, {"owner": {"reputation": 23, "user_id": 9265344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Q2O6.png?s=128&g=1", "display_name": "gourdbaby", "link": "https://stackoverflow.com/users/9265344/gourdbaby"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537851637, "post_id": 52397290, "comment_id": 91922376, "body": "Thanks for your help.  In fact, I don&#39;t declare jquery in <code>.d.ts</code> files, it&#39;s still make a mistake"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538093438, "post_id": 52397290, "comment_id": 92032924, "body": "Sorry, I don&#39;t understand your comment.  Have you tried removing <code>jquery</code> from the <code>externals</code> section of the webpack configuration?  What happens then?"}, {"owner": {"reputation": 23, "user_id": 9265344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Q2O6.png?s=128&g=1", "display_name": "gourdbaby", "link": "https://stackoverflow.com/users/9265344/gourdbaby"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538298098, "post_id": 52397290, "comment_id": 92088069, "body": "yes, I have removed <code>jquery</code> from <code>externals</code>, and I used <code>script</code> import <code>jquery</code>.Now, There is no error. Thank you so much. My english is very low."}], "answers": [{"tags": [], "owner": {"reputation": 961, "user_id": 1467810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60198a0e6a7cee83f30336445fbdd20?s=128&d=identicon&r=PG", "display_name": "TaeKwonJoe", "link": "https://stackoverflow.com/users/1467810/taekwonjoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1543536850, "creation_date": 1543536850, "answer_id": 53549454, "question_id": 52397290, "link": "https://stackoverflow.com/questions/52397290/jquery-1-default-is-not-a-function-webpack/53549454#53549454", "title": "jquery_1.default is not a function webpack", "body": "<p>Perhaps there is a better approach than that described in your question. If you install jquery and @types/jquery via npm and then import it in controllers only where used, you will not need jquery configuration or declaration in neither webpack.config.js nor globals.d.ts.</p>\n\n<ol>\n<li>Remove jquery externals configuration from webpack.config.js</li>\n<li>Remove all <code>var jquery = require(\"jquery\");</code> and <code>declare var jQuery: any;</code> instances from code</li>\n<li>Run <code>npm install jquery --save</code></li>\n<li>Run <code>npm install @types/jquery --save-dev</code></li>\n<li>Add <code>import * as $ from 'jquery';</code> to any controllers where needed</li>\n</ol>\n\n<p>You can then do:</p>\n\n<pre><code>if (!$.trim(this.inputName)) { \n    console.log('inputName was empty or whitespace only');\n} else {\n    console.log('inputName contained alphanumeric text');\n}\n</code></pre>\n\n<p>Always use <code>$</code> to reference the library instead of <code>jquery</code> hereafter.</p>\n"}], "owner": {"reputation": 23, "user_id": 9265344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Q2O6.png?s=128&g=1", "display_name": "gourdbaby", "link": "https://stackoverflow.com/users/9265344/gourdbaby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 943, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543536850, "creation_date": 1537325261, "last_edit_date": 1537339876, "question_id": 52397290, "link": "https://stackoverflow.com/questions/52397290/jquery-1-default-is-not-a-function-webpack", "title": "jquery_1.default is not a function webpack", "body": "<p>I want to use external import jquery of webpack, but when I use <code>import $ from 'jquery'</code> the browser throws the error <code>jquery_1.default is not a function</code>, and after I changed the import syntax to <code>import * as $ from 'jquery'</code> and <code>const $ = require('jquery')</code>, it's still the same.\nI used typescript and webpack and vue. Who knows what I should do? Thanks in advance.  </p>\n\n<p>tsconfig.js<br>\n<a href=\"https://i.stack.imgur.com/kfKMj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kfKMj.png\" alt=\"enter image description here\"></a></p>\n\n<p>webpack.config.js<br>\n<a href=\"https://i.stack.imgur.com/Z7skV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z7skV.png\" alt=\"enter image description here\"></a></p>\n\n<p>The error information<br>\n<a href=\"https://i.stack.imgur.com/fz1Ku.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fz1Ku.png\" alt=\"enter image description here\"></a></p>\n\n<p>globals.d.ts<br>\n<a href=\"https://i.stack.imgur.com/ExrvY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ExrvY.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angularjs", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537414819, "post_id": 52397206, "comment_id": 91777607, "body": "Where exactly are you getting the <code>undefined</code>?  The code is hard to understand without seeing the function that the third code block belongs to.  I do notice that you are never resolving or rejecting any of the promises you create with <code>new Promise</code>.  In the first two cases, this may make no apparent difference, but in the third, it would cause the promise to never complete.  This still doesn&#39;t explain why you are getting <code>undefined</code>."}, {"owner": {"reputation": 59, "user_id": 9262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d19a4654473692088dc13f9509c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Guihenr1", "link": "https://stackoverflow.com/users/9262174/guihenr1"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537756929, "post_id": 52397206, "comment_id": 91886081, "body": "Thanks for the comment. This code is very confusing and I find it interesting to develop another one. Anyway, how can I make a promise with three HTTP calls or else make the calls without promisse?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537758593, "post_id": 52397206, "comment_id": 91886308, "body": "As a general pattern, if all the code were in one function, <code>this.http.post(...).then((response1) =&gt; { return this.http.post(...); }).then((response2) =&gt; { return this.http.get(...); })</code> would work.  Or better, use an async function with: <code>let response1 = await this.http.post(...); let response2 = await this.http.post(...); return await this.http.get(...);</code>.  If you want help fixing the existing code, I need an example that&#39;s <a href=\"https://stackoverflow.com/help/mcve\">complete enough</a> that I can understand how all the parts interact.  In particular, I need to see the declaration of <code>getEmpresas</code>."}, {"owner": {"reputation": 59, "user_id": 9262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d19a4654473692088dc13f9509c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Guihenr1", "link": "https://stackoverflow.com/users/9262174/guihenr1"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537802119, "post_id": 52397206, "comment_id": 91906246, "body": "Okay, I&#39;ve gotten GetEmpresas code."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537802620, "post_id": 52397206, "comment_id": 91906533, "body": "Instead of adding an answer, please edit the question and add the <code>GetEmpresas</code> code to the question."}, {"owner": {"reputation": 59, "user_id": 9262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d19a4654473692088dc13f9509c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Guihenr1", "link": "https://stackoverflow.com/users/9262174/guihenr1"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537804641, "post_id": 52397206, "comment_id": 91907664, "body": "Post edited. You now have the complete getEmpresas code."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 9262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d19a4654473692088dc13f9509c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Guihenr1", "link": "https://stackoverflow.com/users/9262174/guihenr1"}, "edited": false, "score": 0, "creation_date": 1537809153, "post_id": 52483480, "comment_id": 91910015, "body": "Solved the problem. Thanks from Brazil."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 0, "last_activity_date": 1537805878, "creation_date": 1537805878, "answer_id": 52483480, "question_id": 52397206, "link": "https://stackoverflow.com/questions/52397206/three-promises-with-http/52483480#52483480", "title": "Three promises with HTTP", "body": "<p>This is a draft because I'm not sure I've found the problem yet, but I need to share more code than will fit in a comment.</p>\n\n<p>The first thing I would try is removing the <code>new Promise</code> because you aren't resolving or rejecting those promises anyway.  I'd also try removing the <code>window.setTimeout</code>.  At that point, it looks like <code>getEmpresas</code> will return a promise for the <code>arr_emp</code> that is the result of parsing the final <code>get</code> response.  If you do that, then the <code>then</code> handler in <code>carregaEmpresas</code> will receive the <code>arr_emp</code> that was generated in <code>getEmpresas</code>, so you should just name the parameter <code>arr_emp</code> and not try to parse it again.  The code at this point is:</p>\n\n<pre><code>class MyClass {\n    // Dummy declarations to suppress TypeScript errors\n    dados_login;\n    cpfLogin;\n    senhaLogin;\n    http;\n    url;\n    token;\n    error_login;\n    presentAlert;\n    abreCarregando;\n    lista_empresas;\n    objEmp;\n    obj;\n    fechaCarregando;\n    selectEmpresa;\n\n    EmpresaProvider: EmpresaProvider;\n\n    goToMenu() {\n        this.dados_login = [];\n        this.dados_login.push({\n          \"CPF\": this.cpfLogin,\n          \"Senha\": this.senhaLogin\n        })\n        let headers = new Headers();\n        headers.append('Content-Type', 'application/json; charset=UTF-8');\n        let options = new RequestOptions({ headers: headers });\n\n          this.http.post(this.url, JSON.stringify(this.dados_login[\"0\"]), options)\n            .toPromise()\n            .then((response) =&gt; {\n              var json_token = (response as any)._body;\n              var parsed = JSON.parse(json_token);\n\n              var arr = [];\n\n              for (var x in parsed) {\n                arr.push(parsed[x]);\n              }\n\n              this.token = arr[0];\n\n              this.carregaEmpresas();\n            })\n            .catch((error) =&gt; {\n              var json_error = (error as any)._body;\n              var parsed = JSON.parse(json_error);\n\n              var arr = [];\n\n              for (var x in parsed) {\n                arr.push(parsed[x]);\n              }\n\n              this.error_login = arr[0];\n\n              this.presentAlert(this.error_login)\n            });\n    }\n\n    carregaEmpresas(newpage: boolean = false) {\n        console.log(this.cpfLogin);\n        this.abreCarregando();\n\n          this.EmpresaProvider.getEmpresas(this.token, this.cpfLogin)\n            .then((/*response*/ arr_emp) =&gt; {\n              /*\n              var json_emp = (response as any)._body;\n              var parsed = JSON.parse(json_emp);\n\n              var arr_emp = [];\n\n              for (var x in parsed) {\n                arr_emp.push(parsed[x]);\n              }\n              */\n\n              this.lista_empresas = arr_emp;\n\n              this.objEmp = [];\n              for (let i = 0; i &lt; this.lista_empresas.length; i++) {\n                this.obj = {\n                  label:\n                    this.lista_empresas[i].Valor,\n                  type: 'radio',\n                  value: this.lista_empresas[i].Chave\n                }\n                this.objEmp.push(this.obj);\n              }\n\n              this.fechaCarregando();\n              this.selectEmpresa();\n            })\n            .catch((error) =&gt; {\n              var json_error = (error as any)._body;\n              var parsed = JSON.parse(json_error);\n\n              var arr = [];\n\n              for (var x in parsed) {\n                arr.push(parsed[x]);\n              }\n\n              this.error_login = arr[0];\n\n              this.presentAlert(this.error_login)\n            });\n    }\n}\n\nclass EmpresaProvider {\n    // Dummy declarations to suppress TypeScript errors\n    cpf_usuario;\n    http;\n    baseApiPath;\n    empresa_cod;\n    apiFilial;\n    emp;\n\n    getEmpresas(token: string, Cpf: string) {\n        let headers = new Headers();\n        headers.append('Content-Type', 'application/json; charset=UTF-8');\n        headers.append('Authorization', 'bearer ' + token);\n        let options = new RequestOptions({ headers: headers });\n        this.cpf_usuario.push({ \"Cpf\": Cpf });\n\n            return this.http.post(this.baseApiPath, JSON.stringify(this.cpf_usuario[\"0\"]), options)\n              .toPromise()\n              .then((response) =&gt; {\n                var empresa = (response as any)._body;\n                var parsed = JSON.parse(empresa);\n\n                var arr = [];\n\n                for (var x in parsed) {\n                  arr.push(parsed[x]);\n                }\n\n                this.empresa_cod = arr[0].Chave.split(\"/\", 1);\n                var urlFilial = this.apiFilial + this.empresa_cod[\"0\"];\n                return this.http.get(urlFilial, options)\n                  .toPromise()\n                  .then((response) =&gt; {\n                    var json_emp = (response as any)._body;\n                    var parsed = JSON.parse(json_emp);\n\n                    var arr_emp = [];\n\n                    for (var x in parsed) {\n                      arr_emp.push(parsed[x]);\n                    }\n\n                    this.emp = arr_emp;\n                    return arr_emp;\n                  })\n              })\n              .catch((error) =&gt; {\n                var json_error = (error as any)._body;\n                var parsed = JSON.parse(json_error);\n\n                var arr = [];\n\n                for (var x in parsed) {\n                  arr.push(parsed[x]);\n                }\n\n                return arr[0];\n              });\n\n      }\n}\n</code></pre>\n\n<p>Please try this code (integrated into your original program of course) and let me know if it works or otherwise what is the exact error and what line it occurs on.</p>\n"}], "owner": {"reputation": 59, "user_id": 9262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d19a4654473692088dc13f9509c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Guihenr1", "link": "https://stackoverflow.com/users/9262174/guihenr1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 52483480, "answer_count": 1, "score": 0, "last_activity_date": 1537805878, "creation_date": 1537324574, "last_edit_date": 1537804527, "question_id": 52397206, "link": "https://stackoverflow.com/questions/52397206/three-promises-with-http", "title": "Three promises with HTTP", "body": "<p>I had to do three HTTP Post requests in my code. The first two work, I debug the code and they return the correct value, but the last one returns undefined.\nI made these three requisitions due to one depending on the response of the other.</p>\n\n<p>login button:</p>\n\n<pre><code>goToMenu() {\nthis.dados_login = [];\nthis.dados_login.push({\n  \"CPF\": this.cpfLogin,\n  \"Senha\": this.senhaLogin\n})\nlet headers = new Headers();\nheaders.append('Content-Type', 'application/json; charset=UTF-8');\nlet options = new RequestOptions({ headers: headers });\n\nreturn new Promise((resolve, reject) =&gt; {\n  this.http.post(this.url, JSON.stringify(this.dados_login[\"0\"]), options)\n    .toPromise()\n    .then((response) =&gt; {\n      var json_token = (response as any)._body;\n      var parsed = JSON.parse(json_token);\n\n      var arr = [];\n\n      for (var x in parsed) {\n        arr.push(parsed[x]);\n      }\n\n      this.token = arr[0];\n\n      this.carregaEmpresas();\n    })\n    .catch((error) =&gt; {\n      var json_error = (error as any)._body;\n      var parsed = JSON.parse(json_error);\n\n      var arr = [];\n\n      for (var x in parsed) {\n        arr.push(parsed[x]);\n      }\n\n      this.error_login = arr[0];\n\n      this.presentAlert(this.error_login)\n    });\n});\n</code></pre>\n\n<p>function that carries companies, the error occurs here because it is not returned nothing to it</p>\n\n<pre><code>carregaEmpresas(newpage: boolean = false) {\nconsole.log(this.cpfLogin);\nthis.abreCarregando();\n\nreturn new Promise((resolve, reject) =&gt; {\n  this.EmpresaProvider.getEmpresas(this.token, this.cpfLogin)\n    .then((response) =&gt; {\n      var json_emp = (response as any)._body;\n      var parsed = JSON.parse(json_emp);\n\n      var arr_emp = [];\n\n      for (var x in parsed) {\n        arr_emp.push(parsed[x]);\n      }\n\n      this.lista_empresas = arr_emp;\n\n      this.objEmp = [];\n      for (let i = 0; i &lt; this.lista_empresas.length; i++) {\n        this.obj = {\n          label:\n            this.lista_empresas[i].Valor,\n          type: 'radio',\n          value: this.lista_empresas[i].Chave\n        }\n        this.objEmp.push(this.obj);\n      }\n\n      this.fechaCarregando();\n      this.selectEmpresa();\n    })\n    .catch((error) =&gt; {\n      var json_error = (error as any)._body;\n      var parsed = JSON.parse(json_error);\n\n      var arr = [];\n\n      for (var x in parsed) {\n        arr.push(parsed[x]);\n      }\n\n      this.error_login = arr[0];\n\n      this.presentAlert(this.error_login)\n    });\n});\n</code></pre>\n\n<p>provider role:</p>\n\n<pre><code>return new Promise((resolve, reject) =&gt; {\n  this.http.post(this.baseApiPath, JSON.stringify(this.cpf_usuario[\"0\"]), options)\n    .toPromise()\n    .then((response) =&gt; {\n      var empresa = (response as any)._body;\n      var parsed = JSON.parse(empresa);\n\n      var arr = [];\n\n      for (var x in parsed) {\n        arr.push(parsed[x]);\n      }\n\n      this.empresa_cod = arr[0].Chave.split(\"/\", 1);\n      var urlFilial = this.apiFilial + this.empresa_cod[\"0\"];\n      return this.http.get(urlFilial, options);\n    })\n    .catch((error) =&gt; {\n      var json_error = (error as any)._body;\n      var parsed = JSON.parse(json_error);\n\n      var arr = [];\n\n      for (var x in parsed) {\n        arr.push(parsed[x]);\n      }\n\n      return arr[0];\n    });\n});\n</code></pre>\n\n<p>GetEmpresas Code:</p>\n\n<pre><code>getEmpresas(token: string, Cpf: string) {\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json; charset=UTF-8');\n    headers.append('Authorization', 'bearer ' + token);\n    let options = new RequestOptions({ headers: headers });\n    this.cpf_usuario.push({ \"Cpf\": Cpf });\n\n    return new Promise(resolve =&gt; {\n      window.setTimeout(() =&gt; {\n        this.http.post(this.baseApiPath, JSON.stringify(this.cpf_usuario[\"0\"]), options)\n          .toPromise()\n          .then((response) =&gt; {\n            var empresa = (response as any)._body;\n            var parsed = JSON.parse(empresa);\n\n            var arr = [];\n\n            for (var x in parsed) {\n              arr.push(parsed[x]);\n            }\n\n            this.empresa_cod = arr[0].Chave.split(\"/\", 1);\n            var urlFilial = this.apiFilial + this.empresa_cod[\"0\"];\n            return this.http.get(urlFilial, options)\n              .toPromise()\n              .then((response) =&gt; {\n                var json_emp = (response as any)._body;\n                var parsed = JSON.parse(json_emp);\n\n                var arr_emp = [];\n\n                for (var x in parsed) {\n                  arr_emp.push(parsed[x]);\n                }\n\n                this.emp = arr_emp;\n                return arr_emp;\n              })\n          })\n          .catch((error) =&gt; {\n            var json_error = (error as any)._body;\n            var parsed = JSON.parse(json_error);\n\n            var arr = [];\n\n            for (var x in parsed) {\n              arr.push(parsed[x]);\n            }\n\n            return arr[0];\n          });\n      }, 2000);\n    });\n  }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "gruntjs"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1537328658, "creation_date": 1537328658, "answer_id": 52397698, "question_id": 52396788, "link": "https://stackoverflow.com/questions/52396788/is-it-possible-run-grunt-command-after-saving-code-in-typescript/52397698#52397698", "title": "Is it possible run grunt command after saving code in TypeScript?", "body": "<blockquote>\n  <p>is it possible to run 'grunt' automatically after save code in VSCode like save code-> compile ts to js -> reload page. (I should grunt for change all project's ts file to js ).</p>\n</blockquote>\n\n<p>Yes. You can detect file save in VSCode easily using the <code>onDidSaveTextDocument</code> extension point and run whatever code you want.</p>\n\n<ul>\n<li>Reference <a href=\"https://code.visualstudio.com/docs/extensionAPI/vscode-api\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/extensionAPI/vscode-api</a></li>\n</ul>\n"}], "owner": {"reputation": 73, "user_id": 10372640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756aacdb8fba647c34019389efd773d7?s=128&d=identicon&r=PG&f=1", "display_name": "muze", "link": "https://stackoverflow.com/users/10372640/muze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537339778, "creation_date": 1537321076, "last_edit_date": 1537339778, "question_id": 52396788, "link": "https://stackoverflow.com/questions/52396788/is-it-possible-run-grunt-command-after-saving-code-in-typescript", "title": "Is it possible run grunt command after saving code in TypeScript?", "body": "<p>I'm new to FrontEnd and coding JS in typescript. Every time after a code change I would like to: <em>save code -> compile (grunt) it on command -> reload web page</em>. It's a job. Is it possible to run 'grunt' automatically after saving code in VSCode like <em>save code-> compile ts to js -> reload page</em>.\n(I would like to use grunt for changing all the ts files of the project to js).</p>\n\n<p>I've tried to use tsconfig.json and tasks.json to solve it, but it doesn't help. </p>\n"}, {"tags": ["javascript", "typescript", "axios", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1537368880, "post_id": 52397711, "comment_id": 91761102, "body": "Could you explain a bit more, so instead of a default export, just export the <code>{}</code> object? Or a named export? Also I thought I was using that structure of axios, only the <code>get</code> matters atm."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1537328771, "creation_date": 1537328771, "answer_id": 52397711, "question_id": 52396724, "link": "https://stackoverflow.com/questions/52396724/typeerror-axios-get-is-not-a-function/52397711#52397711", "title": "TypeError: axios.get is not a function?", "body": "<p>You have <code>import * as axios from 'axios';</code>. In this case <code>axios</code> is <em>not a default export</em>. Your mock assumes it is so: </p>\n\n<pre><code>export default {\n  get: jest.fn(() =&gt; Promise.resolve({ data: { total_payout: 100.21 }})),\n  default: mockNoop,\n  post: mockNoop,\n  put: mockNoop,\n  delete: mockNoop,\n  patch: mockNoop\n};\n</code></pre>\n\n<h1>Fix</h1>\n\n<p>Remove the default export and replace your mock structure to map the export structure of axios as you are using it. </p>\n"}, {"tags": [], "owner": {"reputation": 1512, "user_id": 1971378, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/79344239078383f8f357eb1fe210ca99?s=128&d=identicon&r=PG", "display_name": "tyskr", "link": "https://stackoverflow.com/users/1971378/tyskr"}, "is_accepted": true, "score": 5, "last_activity_date": 1537329764, "creation_date": 1537329764, "answer_id": 52397838, "question_id": 52396724, "link": "https://stackoverflow.com/questions/52396724/typeerror-axios-get-is-not-a-function/52397838#52397838", "title": "TypeError: axios.get is not a function?", "body": "<p>Please look at: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#Syntax\" rel=\"noreferrer\">MDN</a></p>\n\n<p>As mentoined there, you need a value to collect the <code>default export</code> and the rest as <code>X</code>. In this case you could:</p>\n\n<pre><code>import axios, * as others from 'axios';\n</code></pre>\n\n<p>X being <code>others</code> here. </p>\n\n<p>Instead of </p>\n\n<pre><code>import * as axios from 'axios';\n</code></pre>\n\n<p>Assumption: <code>... from 'axios'</code> is referring to your jest mock. Let me know if that answers your question. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14646682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1c8f7e6e5f9187c16661642e0733aef?s=128&d=identicon&r=PG&f=1", "display_name": "BikyMandal", "link": "https://stackoverflow.com/users/14646682/bikymandal"}, "is_accepted": false, "score": 0, "last_activity_date": 1617631233, "creation_date": 1617631233, "answer_id": 66954257, "question_id": 52396724, "link": "https://stackoverflow.com/questions/52396724/typeerror-axios-get-is-not-a-function/66954257#66954257", "title": "TypeError: axios.get is not a function?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export const axiosInstance = axios.create({\n    baseURL: API_URL,\n    headers: {\n        'authorization': token ? `Bearer ${token}` : ''\n    }\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>and import it another file like</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {axiosInstance} from '../../axios';</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>That means It should not be a default export</p>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22263, "favorite_count": 1, "accepted_answer_id": 52397838, "answer_count": 3, "score": 2, "last_activity_date": 1617631233, "creation_date": 1537320541, "last_edit_date": 1541428460, "question_id": 52396724, "link": "https://stackoverflow.com/questions/52396724/typeerror-axios-get-is-not-a-function", "title": "TypeError: axios.get is not a function?", "body": "<p>Not sure why I'm getting the following error:</p>\n\n<pre><code>TypeError: axios.get is not a function\n\n    4 |\n    5 | export const getTotalPayout = async (userId: string) =&gt; {\n  &gt; 6 |   const response = await axios.get(`${endpoint}get-total-payout`, { params: userId });\n    7 |   return response.data;\n    8 | };\n    9 |\n</code></pre>\n\n<p><strong>My service:</strong></p>\n\n<pre><code>import * as axios from 'axios';\n\nconst endpoint = '/api/pool/';\n\nexport const getTotalPayout = async (userId: string) =&gt; {\n  const response = await axios.get(`${endpoint}get-total-payout`, { params: userId });\n  return response.data;\n};\n</code></pre>\n\n<p><strong>My jest test:</strong></p>\n\n<pre><code>// import mockAxios from 'axios';\nimport { getTotalPayout } from './LiquidityPool';\n\nconst userId = 'foo';\n\ndescribe('Pool API', () =&gt; {\n  it('getTotalPayout is called and returns the total_payout for the user', async () =&gt; {\n    // mockAxios.get.mockImplementationOnce(() =&gt; {\n    //   Promise.resolve({\n    //     data: {\n    //       total_payout: 100.21,\n    //     },\n    //   });\n    // });\n\n    const response = await getTotalPayout(userId);\n    console.log('response', response);\n  });\n});\n</code></pre>\n\n<p><strong>In the src/__mocks__/axios.js I have this:</strong></p>\n\n<pre><code>// tslint:disable-next-line:no-empty\nconst mockNoop = () =&gt; new Promise(() =&gt; {});\n\nexport default {\n  get: jest.fn(() =&gt; Promise.resolve({ data: { total_payout: 100.21 }})),\n  default: mockNoop,\n  post: mockNoop,\n  put: mockNoop,\n  delete: mockNoop,\n  patch: mockNoop\n};\n</code></pre>\n"}]