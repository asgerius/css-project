[{"tags": ["javascript", "typescript", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 9074103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e10414c3ccf961f28cea2dbf0cde0490?s=128&d=identicon&r=PG&f=1", "display_name": "Renata", "link": "https://stackoverflow.com/users/9074103/renata"}, "is_accepted": true, "score": 1, "last_activity_date": 1534985085, "last_edit_date": 1534985085, "creation_date": 1534984521, "answer_id": 51976877, "question_id": 51976524, "link": "https://stackoverflow.com/questions/51976524/how-create-a-scrolltop-button-on-ionic-3/51976877#51976877", "title": "How create a scrollTop button on ionic 3", "body": "<p>You have to change the following line:</p>\n\n<pre><code>@ViewChild(Content) pageTop: Content;\n</code></pre>\n\n<p>And, you have to change the <code>click</code> function name on your button on html to that one you have created to make the page scroll to top:</p>\n\n<pre><code>&lt;ion-fab right bottom&gt;\n  &lt;button ion-fab color=\"darkroyal\" (click)=\"pageScroller()\"&gt;\n  &lt;ion-icon name=\"ios-arrow-up\"&gt;&lt;/ion-icon&gt;&lt;/button&gt;\n&lt;/ion-fab&gt;\n</code></pre>\n"}], "owner": {"reputation": 642, "user_id": 8442455, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-D90zNDCDCGA/AAAAAAAAAAI/AAAAAAAAAA0/ck58oIjPfMo/photo.jpg?sz=128", "display_name": "Mike Otharan", "link": "https://stackoverflow.com/users/8442455/mike-otharan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "accepted_answer_id": 51976877, "answer_count": 1, "score": 2, "last_activity_date": 1534985085, "creation_date": 1534981088, "question_id": 51976524, "link": "https://stackoverflow.com/questions/51976524/how-create-a-scrolltop-button-on-ionic-3", "title": "How create a scrollTop button on ionic 3", "body": "<p>I'm trying to create a scrollTop button on ionic 3 but it's not working, can someone give me a hint of what I'm doing wrong? How do I proceed to add the scrollTop in the fab ion</p>\n\n<p>This is my code <code>home.ts</code></p>\n\n<pre><code>import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, Content } \nfrom 'ionic-angular';\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport { MenuController } from \"ionic-angular\";\nimport { PrediosPage } from '../predios/predios';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage {\n\n  @ViewChild('pageTop') pageTop: Content;\n\n  public pageScroller(){\n    this.pageTop.scrollToTop();\n  }\n\n  searchQuery: string = '';\n  items: any[];\n\n  constructor(private afAuth: AngularFireAuth, private toast: \n  ToastController,\n  public navCtrl: NavController, public navParams: NavParams, public menu: \n  MenuController) {\n\n      this.initializeItems();\n\n  }\n</code></pre>\n\n<p>And this is my <code>home.html</code></p>\n\n<pre><code>&lt;ion-content #pageTop&gt;\n\n&lt;div paddign&gt;\n\n&lt;ion-searchbar (ionInput)=\"getItems($event)\" placeholder=\"Pesquisar\"&gt; \n&lt;/ion-searchbar&gt;\n\n&lt;ion-list&gt;\n&lt;ion-item *ngFor=\"let item of items\" (click)=\"itemTapped($event, item)\"&gt;\n  &lt;ion-thumbnail item-left&gt;\n     &lt;img [src]=\"item.imagem\"&gt;\n  &lt;/ion-thumbnail&gt;\n  &lt;h2 style=\"color:#886AEA\"&gt;{{ item?.nome }}&lt;/h2&gt;\n   &lt;p&gt;Rua: {{ item?.rua }} - {{ item?.numero }}&lt;/p&gt;\n   &lt;/ion-item&gt;\n&lt;/ion-list&gt;\n\n&lt;/div&gt;\n\n\n&lt;ion-fab right bottom&gt;\n  &lt;button ion-fab color=\"darkroyal\" (click)=\"pageTop\"&gt;&lt;ion-icon name=\"ios-arrow-up\"&gt;&lt;/ion-icon&gt;&lt;/button&gt;\n&lt;/ion-fab&gt;\n</code></pre>\n\n<p>And this is my home app image\n<a href=\"https://i.stack.imgur.com/XNq1J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XNq1J.png\" alt=\"example scrollTop ionic 3\"></a></p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 1848, "user_id": 384646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c6087948c4623b8f9633796e254bcf0b?s=128&d=identicon&r=PG", "display_name": "Romski", "link": "https://stackoverflow.com/users/384646/romski"}, "edited": false, "score": 0, "creation_date": 1534979492, "post_id": 51976191, "comment_id": 90902930, "body": "Could you provide an example of the desired result?"}, {"owner": {"reputation": 918, "user_id": 3646445, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/4245a3611f252c6fd64783c4cadf4ba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro", "link": "https://stackoverflow.com/users/3646445/pedro"}, "reply_to_user": {"reputation": 1848, "user_id": 384646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c6087948c4623b8f9633796e254bcf0b?s=128&d=identicon&r=PG", "display_name": "Romski", "link": "https://stackoverflow.com/users/384646/romski"}, "edited": false, "score": 0, "creation_date": 1534980773, "post_id": 51976191, "comment_id": 90903178, "body": "@Romski Have added"}, {"owner": {"reputation": 1848, "user_id": 384646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c6087948c4623b8f9633796e254bcf0b?s=128&d=identicon&r=PG", "display_name": "Romski", "link": "https://stackoverflow.com/users/384646/romski"}, "edited": false, "score": 0, "creation_date": 1534983672, "post_id": 51976191, "comment_id": 90903672, "body": "it&#39;s a little confusing to present your data in 2 different formats. That aside, I think there is something missing as your input data shows a single object with a <code>schedule</code> property, but your function is using an iterable <code>schedules</code>."}, {"owner": {"reputation": 918, "user_id": 3646445, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/4245a3611f252c6fd64783c4cadf4ba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro", "link": "https://stackoverflow.com/users/3646445/pedro"}, "reply_to_user": {"reputation": 1848, "user_id": 384646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c6087948c4623b8f9633796e254bcf0b?s=128&d=identicon&r=PG", "display_name": "Romski", "link": "https://stackoverflow.com/users/384646/romski"}, "edited": false, "score": 0, "creation_date": 1534983882, "post_id": 51976191, "comment_id": 90903709, "body": "@Romski sorry I had the data wrong, it should have been schedules. The grouping function is working fine, I just need the color attribute accessible in the top level of the group"}, {"owner": {"reputation": 1848, "user_id": 384646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c6087948c4623b8f9633796e254bcf0b?s=128&d=identicon&r=PG", "display_name": "Romski", "link": "https://stackoverflow.com/users/384646/romski"}, "edited": false, "score": 0, "creation_date": 1535257519, "post_id": 51976191, "comment_id": 90996603, "body": "Still makes no sense. Your code wont run with that input data"}], "answers": [{"comments": [{"owner": {"reputation": 918, "user_id": 3646445, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/4245a3611f252c6fd64783c4cadf4ba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro", "link": "https://stackoverflow.com/users/3646445/pedro"}, "edited": false, "score": 0, "creation_date": 1534982872, "post_id": 51976619, "comment_id": 90903540, "body": "Thanks for this, just realised I had the original data incorrect: {schedule: {team_name: &#39;Red&#39;, color: &#39;#...&#39;, due_date &#39;12-12-2018&#39;, yards: []} etc"}], "tags": [], "owner": {"reputation": 1870, "user_id": 6301806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AfP7H.png?s=128&g=1", "display_name": "WilliamNHarvey", "link": "https://stackoverflow.com/users/6301806/williamnharvey"}, "is_accepted": false, "score": 0, "last_activity_date": 1534981829, "creation_date": 1534981829, "answer_id": 51976619, "question_id": 51976191, "link": "https://stackoverflow.com/questions/51976191/group-by-array-key/51976619#51976619", "title": "Group by array key", "body": "<p>Maybe something like this?</p>\n\n<pre><code>for(let schedule of schedules) {\n  let teamName = (schedule.team ? schedule.team.name : 'Unassigned');\n  let teamColor = (schedule.team ? schedule.team.color : 'Unassigned');\n  groups[teamName] = !groups[teamName] ? [] : groups[teamName];\n  colorSchedule = {color: teamColor, team: schedule.team};\n  groups[teamName].push(colorSchedule);\n}\n</code></pre>\n\n<p>Then the result of the method will be something like</p>\n\n<pre><code>{\n  \"Red\": [\n    {\n      \"color\": \"#...\",\n      \"team\": {\n        \"name\": \"Red\",\n        \"color\": \"#...\",\n        \"due_date\": \"12-12-2018\",\n        \"yards\": []\n      }\n    }\n  ]\n}\n</code></pre>\n\n<p>Which makes it a little easier for you to see the color of each schedule? I'm not sure if this is what you're looking for since the color and team name are already accessible without running your method at all.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function setGroupedSchedules() {\r\n    let groups = {};\r\n    let schedules = [{team: {name: 'Red', color: '#...', due_date: '12-12-2018', yards: []}}];\r\n\r\n    for(let schedule of schedules) {\r\n      let teamName = (schedule.team ? schedule.team.name : 'Unassigned');\r\n      let teamColor = (schedule.team ? schedule.team.color : 'Unassigned');\r\n      groups[teamName] = !groups[teamName] ? [] : groups[teamName];\r\n      colorSchedule = {color: teamColor, team: schedule.team};\r\n      groups[teamName].push(colorSchedule);\r\n    }\r\n    return groups;\r\n}\r\n\r\n  console.log(setGroupedSchedules())</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 918, "user_id": 3646445, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/4245a3611f252c6fd64783c4cadf4ba5?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro", "link": "https://stackoverflow.com/users/3646445/pedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534983739, "creation_date": 1534978136, "last_edit_date": 1534983739, "question_id": 51976191, "link": "https://stackoverflow.com/questions/51976191/group-by-array-key", "title": "Group by array key", "body": "<p>I have a set of data that looks like this:</p>\n\n<pre><code>{schedules: {team_name: 'Red', color: '#...', due_date '12-12-2018', yards: []} etc\n</code></pre>\n\n<p>I have a function that groups this into an array with the Team Name as the key, which is working fine:</p>\n\n<pre><code>setGroupedSchedules(): void {\n    let groups = {};\n    let schedules = this.schedules;\n\n    for(let schedule of schedules) {\n      let teamName = (schedule.team ? schedule.team.name : 'Unassigned');\n      groups[teamName] = !groups[teamName] ? [] : groups[teamName];\n      groups[teamName].push(schedule);\n    }\n    this.grouped = groups;\n  }\n</code></pre>\n\n<p>How can I also include the team.color for each grouping?</p>\n\n<p>Result:</p>\n\n<pre><code>&lt;div style=\"background:team_color\"&gt;\nTeam: Red \n- Schedule 1\n - Yard\n - Yard\n- Schedule 2\n - Yard\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 9074103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e10414c3ccf961f28cea2dbf0cde0490?s=128&d=identicon&r=PG&f=1", "display_name": "Renata", "link": "https://stackoverflow.com/users/9074103/renata"}, "is_accepted": true, "score": 0, "last_activity_date": 1534978869, "creation_date": 1534978869, "answer_id": 51976279, "question_id": 51976170, "link": "https://stackoverflow.com/questions/51976170/ionic-3-passing-infromation-between-tabs-student/51976279#51976279", "title": "ionic 3 passing infromation between tabs. Student", "body": "<p>Change <code>onButtonClick()</code> to <code>ButtonClick()</code> on your <code>contacts.ts</code>. It has to be the same function name that you have used on <code>contact.html</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 9206232, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z8GZb8aZM_A/AAAAAAAAAAI/AAAAAAAAACM/imlDWDhz1_Q/photo.jpg?sz=128", "display_name": "Tom the Ram", "link": "https://stackoverflow.com/users/9206232/tom-the-ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 51976279, "answer_count": 1, "score": 0, "last_activity_date": 1534978869, "creation_date": 1534978000, "question_id": 51976170, "link": "https://stackoverflow.com/questions/51976170/ionic-3-passing-infromation-between-tabs-student", "title": "ionic 3 passing infromation between tabs. Student", "body": "<p>more or less im trying to get a user to input information into one tab and have them press a button and have the information pushed to the next tab that is a list of people generated from a api a jsonblob, The main problem Im having is that it keeps telling me TypeError: _co.Buttonclick is not a function. Can anyone help or lend a hand.</p>\n\n<p>this is the contacts.ts which is where the person would enter there details.</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { EventsPage } from '../events/events';\n@Component({\n  selector: 'page-contact',\n  templateUrl: 'contact.html'\n})\nexport class ContactPage {\n    constructor(public navCtrl: NavController, public navParams: NavParams) {\n\n    }\n    public text:string;\n    onButtonClick(){\n      this.navCtrl.push(EventsPage,{text:this.text});\n    }\n      ionViewDidLoad() {\n      console.log('ionViewDidLoad RegisterPage');\n      }\n         }\n</code></pre>\n\n<p>this is the contact.html</p>\n\n<pre><code>&lt;ion-header&gt;\n  &lt;ion-navbar&gt;\n    &lt;ion-title&gt;\n      Register\n    &lt;/ion-title&gt;\n  &lt;/ion-navbar&gt;\n&lt;/ion-header&gt;\n&lt;ion-col width=50&gt;\n  &lt;ion-list&gt;&lt;ion-item&gt;\n    &lt;strong&gt;Registery page :&lt;/strong&gt;Upcoming Event\n  &lt;/ion-item&gt;\n  &lt;/ion-list&gt;\n  &lt;ion-list&gt;\n    &lt;ion-item&gt;\n      &lt;ion-label color=\"primary\"&gt;Name :&lt;/ion-label&gt;\n      &lt;ion-input placeholder=\"Text Input\"&gt;&lt;/ion-input&gt;\n    &lt;/ion-item&gt;\n\n    &lt;ion-item&gt;\n        &lt;ion-label color=\"primary\"&gt;Age :&lt;/ion-label&gt;\n      &lt;ion-input type=\"number\" placeholder=\"\"&gt;&lt;/ion-input&gt;\n    &lt;/ion-item&gt;\n\n    &lt;ion-item&gt;\n      &lt;ion-label color=\"primary\"&gt;weight :&lt;/ion-label&gt;\n      &lt;ion-input placeholder=\"Input Weight\"&gt;&lt;/ion-input&gt;\n    &lt;/ion-item&gt;\n\n    &lt;ion-item&gt;\n      &lt;ion-label color=\"primary\"&gt;Club :&lt;/ion-label&gt;\n      &lt;ion-input placeholder=\"Input Club\"&gt;&lt;/ion-input&gt;\n    &lt;/ion-item&gt;\n\n    &lt;ion-item&gt;\n      &lt;ion-label color=\"primary\"&gt;Division :&lt;/ion-label&gt;\n      &lt;ion-input placeholder=\"Input Division\"&gt;&lt;/ion-input&gt;\n    &lt;/ion-item&gt;\n\n    &lt;ion-item&gt;\n      &lt;ion-label color=\"primary\"&gt;YearsExperince :&lt;/ion-label&gt;\n      &lt;ion-input placeholder=\"Input experince\"&gt;&lt;/ion-input&gt;\n    &lt;/ion-item&gt;\n\n\n\n  &lt;/ion-list&gt;\n&lt;ion-content padding&gt;\n  &lt;form (ngSubmit)=\"saveUser()\"&gt;&lt;/form&gt;\n    &lt;button ion-button (click)=\"Buttonclick()\"&gt; Add Fighter&lt;/button&gt;\n    &lt;p&gt;\n    bla bla lba lb\n    &lt;/p&gt;\n&lt;/ion-content&gt;\n</code></pre>\n"}, {"tags": ["html", "angularjs", "typescript", "pipe"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 13, "last_activity_date": 1534978229, "creation_date": 1534978229, "answer_id": 51976196, "question_id": 51976152, "link": "https://stackoverflow.com/questions/51976152/refused-to-display-https-www-youtube-com-watchv-okzrsbjqjos-in-a-frame-beca/51976196#51976196", "title": "Refused to display &#39;https://www.youtube.com/watch?v=oKZRsBjQJOs&#39; in a frame because it set &#39;X-Frame-Options&#39; to &#39;sameorigin&#39;", "body": "<p>Change your url <code>https://www.youtube.com/watch?v=TTyFV-qhQtQ</code> to <code>https://www.youtube.com/embed/TTyFV-qhQtQ</code></p>\n\n<h1>Reason</h1>\n\n<p><code>/embed</code> has the required header. </p>\n\n<h1>Why is <code>X-Frame-Options</code></h1>\n\n<p>It is there for user security. Prevents <code>clickjacking</code> : <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options</a> </p>\n\n<p>The <code>embed</code> endpoint is desinged to be safer to show on external websites (not <code>youtube.com</code>). </p>\n"}], "owner": {"reputation": 59, "user_id": 8908495, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gLc41kmoXdE/AAAAAAAAAAI/AAAAAAAAAGM/sYvFtLCbxM0/photo.jpg?sz=128", "display_name": "Mike", "link": "https://stackoverflow.com/users/8908495/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7727, "favorite_count": 2, "accepted_answer_id": 51976196, "answer_count": 1, "score": 2, "last_activity_date": 1534978229, "creation_date": 1534977878, "question_id": 51976152, "link": "https://stackoverflow.com/questions/51976152/refused-to-display-https-www-youtube-com-watchv-okzrsbjqjos-in-a-frame-beca", "title": "Refused to display &#39;https://www.youtube.com/watch?v=oKZRsBjQJOs&#39; in a frame because it set &#39;X-Frame-Options&#39; to &#39;sameorigin&#39;", "body": "<p>I need to place a video from youtube in my website but the URL is a variable, I created a pipe to can put, but don't work.  </p>\n\n<p>This is my code in HTML file</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;iframe width=\"670\" height=\"348\" [src]=\" video | video\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen&gt;&lt;/iframe&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>the code of my pipe is this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class VideoPipe implements PipeTransform {\r\n\r\n    constructor (private domSanitizer:DomSanitizer ){ }\r\n\r\n    transform(url: string): any {\r\n        return this.domSanitizer.bypassSecurityTrustResourceUrl( url );\r\n    }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>but when I tried to put the video URL , I get the error.  </p>\n\n<p>I asign the URL video in a switch case</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>case 'marketing':{\r\n              this.bodyClass=\"background-marketing-text\";\r\n              this.btnClass=\"btnMarketing\";\r\n              this.video=\"https://www.youtube.com/watch?v=TTyFV-qhQtQ\";\r\n              break;\r\n          }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1534990862, "post_id": 51976106, "comment_id": 90905014, "body": "I&#39;m sorry, but do you understand the question? In your variant, <code>statuses.ONE_STATUS</code> is a compile-time constant, even if the <code>enum</code> itself isn&#39;t declared as <code>const</code>. That&#39;s not the same as &quot;id of the record&quot; OP is asking for."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1534977574, "creation_date": 1534977574, "answer_id": 51976106, "question_id": 51976091, "link": "https://stackoverflow.com/questions/51976091/enum-from-database-in-typescript/51976106#51976106", "title": "Enum from database in TypeScript", "body": "<blockquote>\n  <p>This made it easy to reference the records by their 'code' (ie. symbolically) rather than by assuming the ID of the record in the database when setting foreign keys, etc.</p>\n</blockquote>\n\n<p>If you want to be able to write <code>statuses.ONE_STATUS</code> then <code>statuses</code> must be an enum. e.g. </p>\n\n<pre><code>enum statuses {\n  ONE_STATUS;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 9675052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2071c54a8914185a766e3f41cb94094b?s=128&d=identicon&r=PG&f=1", "display_name": "Rick Kozak", "link": "https://stackoverflow.com/users/9675052/rick-kozak"}, "edited": false, "score": 1, "creation_date": 1535065488, "post_id": 51977667, "comment_id": 90940277, "body": "Thanks for that. I didn&#39;t know about Indexable Types until this. However, that doesn&#39;t work. I get: Property &#39;description&#39; of type &#39;Descriptions&#39; is not assignable to string index type &#39;number&#39;. Which makes sense after reading the Typescript docs, which says you can&#39;t mix something of type Descriptions and something of type number in the same indexable thing. But I did implement something better (see above)."}], "tags": [], "owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "is_accepted": false, "score": 1, "last_activity_date": 1534992383, "creation_date": 1534992383, "answer_id": 51977667, "question_id": 51976091, "link": "https://stackoverflow.com/questions/51976091/enum-from-database-in-typescript/51977667#51977667", "title": "Enum from database in TypeScript", "body": "<p>The simplest approach will be the following:</p>\n\n<pre><code>interface Descriptions {\n    [index: number]: string;\n}\n\ninterface Statuses {\n    descriptions: Descriptions;\n    [index: string]: number;\n}\n\nlet statuses: Statuses = {descriptions: {}}\n</code></pre>\n\n<p>This way you'll be able to query both <code>statuses</code> and <code>statuses.descriptions</code> with arbitrary string and number keys correspondingly. I'd try to improve this a bit using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol\" rel=\"nofollow noreferrer\">symbols</a>, but it seems that TS doesn't support them as keys yet.</p>\n"}], "owner": {"reputation": 45, "user_id": 9675052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2071c54a8914185a766e3f41cb94094b?s=128&d=identicon&r=PG&f=1", "display_name": "Rick Kozak", "link": "https://stackoverflow.com/users/9675052/rick-kozak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1535066068, "creation_date": 1534977428, "last_edit_date": 1535066068, "question_id": 51976091, "link": "https://stackoverflow.com/questions/51976091/enum-from-database-in-typescript", "title": "Enum from database in TypeScript", "body": "<p>I receive some reference data in this form from my server:</p>\n\n<pre><code>interface Status {\n    id: number;\n    code: string;\n    description: string;\n}\n</code></pre>\n\n<p>In JavaScript, I would convert it into something that I could reference in enum style by doing this:</p>\n\n<pre><code>let as = resp.data as Status[];\nlet statuses: any = {};\nstatuses.descriptions = {};\n\nfor (let a of as) {\n   statuses[a.code] = a.id;\n   statuses.descriptions[a.id] = a.description;\n}\n</code></pre>\n\n<p>which would allow me to write:</p>\n\n<pre><code>statuses.ONE_STATUS\n</code></pre>\n\n<p>and I'd get back the id of the record. This made it easy to reference the records by their 'code' (ie. symbolically) rather than by assuming the ID of the record in the database when setting foreign keys, etc.</p>\n\n<p>Now I'm converting this to TypeScript and can't figure out how to write this code and not use the any type for statuses.</p>\n\n<p>Any suggestions?</p>\n\n<p>--- Update ---</p>\n\n<p>Seems I can't get exactly what I want, but I can do this:</p>\n\n<pre><code>interface Status {\n    id: number;\n    description: string;\n}\n\ninterface Statuses {\n    [statusIndex: string]: Status;\n}\n</code></pre>\n\n<p>which I can then populate with this:</p>\n\n<pre><code>let statuses: Statuses;\n\nfor (let a of as) {\n    statuses[a.code].id = a.id;\n    statuses[a.code].description = a.description;\n}\n</code></pre>\n\n<p>and that doesn't do exactly what I want, but it does do:</p>\n\n<pre><code>statuses.ONE_STATUS.id or statuses[\"ONE_STATUS\"].id\n</code></pre>\n\n<p>to get the id, and</p>\n\n<pre><code>statuses.ONE_STATUS.description\n</code></pre>\n\n<p>to get the description. </p>\n\n<p>The dictionary approach is what I would have done in C#, so I feel right at home :)</p>\n"}, {"tags": ["javascript", "typescript", "promise", "jestjs"], "comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1534980715, "post_id": 51976048, "comment_id": 90903173, "body": "You really can&#39;t without modification.  The function itself does not return a result so there&#39;s no results to test."}, {"owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "edited": false, "score": 0, "creation_date": 1568718112, "post_id": 51976048, "comment_id": 102355562, "body": "Where did <code>someCall</code> and <code>someOtherCall</code> functions come from?"}], "owner": {"reputation": 819, "user_id": 1413732, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/155a2cc458f02107908f6b31c9009f51?s=128&d=identicon&r=PG", "display_name": "Blaze Phoenix", "link": "https://stackoverflow.com/users/1413732/blaze-phoenix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1534977127, "creation_date": 1534977127, "question_id": 51976048, "link": "https://stackoverflow.com/questions/51976048/how-would-i-test-a-function-with-an-internal-promise", "title": "How would I test a function with an internal promise?", "body": "<p>I am currently trying to write integration test to make sure that some specific client cases which have caused issues are not broken with further changes to a script. I am not sure how to properly format the test so that it runs and waits for the function to finish before returning:</p>\n\n<ol>\n<li>Your test suite must contain at least one test.</li>\n<li><p>The system calls the appropriate functions when mocked.</p>\n\n<pre><code>// app.ts\nfunction doThing() {\n    const data = window.data;\n    if (!isEmpty(data)) {\n        firstAsync(value1 =&gt; {\n            return secondAsync(value1);\n        }).then(value2 =&gt; {\n            someCall();\n        }).catch(error =&gt; {\n            log(error);\n        });\n    } else {\n        someOtherCall();\n    }\n}\n\n// app.test.ts\nsomeCall = jest.fn();\nsomeOtherCall = jest.fn();\n\ndescribe('test', () =&gt; {\n    it('should work', () =&gt; {\n        window.data = { value: 'something' };\n        doThing();\n\n        expect(someCall).toHaveBeenCalled();\n        expect(someOtherCall).not.toHaveBeenCalled();\n    });\n});\n</code></pre></li>\n</ol>\n\n<p>TL:DR - How would I write a test to cover a function that has a promise inside of it, but isn't a promise itself?</p>\n"}, {"tags": ["typescript", "build", "rollup", "rollupjs", "build-system"], "comments": [{"owner": {"reputation": 1341, "user_id": 1156518, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/44a219621214f00f30eb34d34f288476?s=128&d=identicon&r=PG", "display_name": "Dmitry Druganov", "link": "https://stackoverflow.com/users/1156518/dmitry-druganov"}, "edited": false, "score": 0, "creation_date": 1547062361, "post_id": 51975831, "comment_id": 95066860, "body": "Were you able to resolve it?"}, {"owner": {"reputation": 3581, "user_id": 6660433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1206212896066130/picture?type=large", "display_name": "snowfrogdev", "link": "https://stackoverflow.com/users/6660433/snowfrogdev"}, "edited": false, "score": 0, "creation_date": 1559952464, "post_id": 51975831, "comment_id": 99593604, "body": "I have a similar problem. Whenever I try to import files outside of the project root, it starts throwing errors."}, {"owner": {"reputation": 546, "user_id": 1648429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/539c2455b9f9cc516f1e5f339acdc7c1?s=128&d=identicon&r=PG", "display_name": "Robula", "link": "https://stackoverflow.com/users/1648429/robula"}, "edited": false, "score": 1, "creation_date": 1585316142, "post_id": 51975831, "comment_id": 107723422, "body": "Still experiencing this"}, {"owner": {"reputation": 145, "user_id": 2420042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c460cf4f77a309f16632185709410900?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/2420042/vadzim"}, "edited": false, "score": 0, "creation_date": 1588165518, "post_id": 51975831, "comment_id": 108794406, "body": "Neither works with @rollup/plugin-typescript for me"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 3566301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/945201f0132c28ccb74eaf66fb5be12b?s=128&d=identicon&r=PG&f=1", "display_name": "enjoythelive1", "link": "https://stackoverflow.com/users/3566301/enjoythelive1"}, "is_accepted": false, "score": 6, "last_activity_date": 1588687281, "creation_date": 1588687281, "answer_id": 61614956, "question_id": 51975831, "link": "https://stackoverflow.com/questions/51975831/rollup-typescript-error-when-importing-files-outside-baseurl/61614956#61614956", "title": "Rollup + Typescript error when importing files outside baseUrl", "body": "<p>After investigating for a while, I found that <code>@rollup/plugin-typescript</code> only transform files inside of project root by default. To override that behavior, you need to specify in the <code>include</code> option of the plugin, the globs for the files you plan to use, including the files inside of your project.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import ...\r\n\r\n\r\nconst plugins = [\r\n    /* ... */\r\n    typescript({\r\n      include: [\r\n        // Project files\r\n        './**/*.ts+(|x)',\r\n        // Files from outside of the project\r\n        '../../javascript/**/*.ts+(|x)'\r\n      ]\r\n    })\r\n];\r\n\r\nexport default {\r\n    /* ... */\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You will also need to do this in your 'tsconfig.json', because the plugin will complain that the external files are not listed in your tsconfig.</p>\n"}], "owner": {"reputation": 79, "user_id": 994619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc3c198794a956ef125e582475d9a06d?s=128&d=identicon&r=PG", "display_name": "user994619", "link": "https://stackoverflow.com/users/994619/user994619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1438, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1588687281, "creation_date": 1534975748, "question_id": 51975831, "link": "https://stackoverflow.com/questions/51975831/rollup-typescript-error-when-importing-files-outside-baseurl", "title": "Rollup + Typescript error when importing files outside baseUrl", "body": "<p>I put together a rollup build system that takes a folder of Typescript components exports them as modules. </p>\n\n<p>The build system works perfectly if the component files live within the folder structure:</p>\n\n<p><code>src/components/Button</code></p>\n\n<p>but the problem arises when I try to import them from outside the <code>baseUrl</code> meaning:</p>\n\n<p><code>../../javascript/components/Button</code></p>\n\n<p>As soon as I try this I get the following errors:</p>\n\n<p><code>[!] Error: The keyword 'interface' is reserved</code></p>\n\n<p>This is what my <code>tsconfig</code> file looks like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n    \"compilerOptions\": {\r\n        \"jsx\": \"react\",\r\n        \"module\": \"es2015\",\r\n        \"target\": \"es2017\",\r\n        \"moduleResolution\": \"node\",\r\n        \"noImplicitAny\": true,\r\n        \"noImplicitReturns\": true,\r\n        \"noImplicitThis\": true,\r\n        \"noUnusedLocals\": true,\r\n        \"strictNullChecks\": true,\r\n        \"sourceMap\": true,\r\n        \"baseUrl\": \".\",\r\n        \"preserveSymlinks\": true,\r\n        \"esModuleInterop\": true,\r\n        \"paths\": {\r\n            \"ui\": [\"../../components\"]\r\n        }\r\n    },\r\n    \"include\": [\"src/**/*.tsx\"],\r\n    \"exclude\": [\"node_modules\"]\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and my rollup.config</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import typescript from 'rollup-plugin-typescript2';\r\nimport resolve from 'rollup-plugin-node-resolve';\r\nimport commonjs from 'rollup-plugin-commonjs';\r\nimport less from 'rollup-plugin-less';\r\nimport alias from 'rollup-plugin-alias';\r\n\r\nconst plugins = [\r\n    alias({\r\n        ui: '../../components',\r\n        resolve: ['.tsx', '.ts', '.less']\r\n    }),\r\n    resolve(),\r\n    commonjs({\r\n        // All of our own sources will be ES6 modules, so only node_modules need to be resolved with cjs\r\n        include: 'node_modules/**',\r\n        namedExports: {\r\n            'node_modules/react/index.js': [\r\n                'Component',\r\n                'PropTypes',\r\n                'createElement'\r\n            ],\r\n            'node_modules/lodash/lodash.js': ['isEmpty', 'isString']\r\n        }\r\n    }),\r\n    less({ insert: 'true' }),\r\n    typescript()\r\n];\r\n\r\nexport default {\r\n    plugins,\r\n    external: ['react'],\r\n    input: './src/main.js',\r\n    output: {\r\n        sourcemap: true,\r\n        file: './lib/index.js',\r\n        format: 'cjs'\r\n    }\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks so much in advance!!!</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "rxjs6"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1534973700, "post_id": 51975403, "comment_id": 90901351, "body": "Have you tried <code>responseType: &#39;text&#39;</code>? <code>text</code> rather than <code>string</code>? I don&#39;t think <code>string</code> is a valid response type."}, {"owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "reply_to_user": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1534973790, "post_id": 51975403, "comment_id": 90901389, "body": "Yes, text also gives this error."}, {"owner": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 1, "creation_date": 1534973853, "post_id": 51975403, "comment_id": 90901418, "body": "Remove <code>&lt;any&gt;</code>, use blob"}], "answers": [{"comments": [{"owner": {"reputation": 798, "user_id": 7026966, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/n9wJa.jpg?s=128&g=1", "display_name": "Himanshu Shekhar", "link": "https://stackoverflow.com/users/7026966/himanshu-shekhar"}, "edited": false, "score": 1, "creation_date": 1537953296, "post_id": 51975481, "comment_id": 91967888, "body": "@user184994   const options = {             headers: new HttpHeaders({                 &#39;Content-Type&#39;: &#39;application/json&#39;,                 &#39;Authorization&#39;: this.sessionTokenForSuccessfullyLoggedUser,                 &#39;Accept&#39;: contentType             }),             responseType: &#39;blob&#39;         };         return this.http.get(urlPath, options) error: Types of property &#39;responseType&#39; are incompatible. Type &#39;string&#39; is not assignable to type &#39;&quot;json&quot; same error but no success for me: <a href=\"https://github.com/angular/angular/issues/18586\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/18586</a>"}], "tags": [], "owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "is_accepted": true, "score": 2, "last_activity_date": 1534973771, "creation_date": 1534973771, "answer_id": 51975481, "question_id": 51975403, "link": "https://stackoverflow.com/questions/51975403/rxjs-http-client-response-type-for-not-json/51975481#51975481", "title": "RxJS HTTP-Client: response type for not JSON", "body": "<p>If the data is a file, please use <code>blob</code>, but you need to remove the generic argument. Use:</p>\n\n<pre><code>his.http.get(\"http://myhost\", { responseType : 'blob' });\n</code></pre>\n\n<p>The version that takes the generics will only work with JSON, as it is designed to parse the response</p>\n"}], "owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1427, "favorite_count": 0, "accepted_answer_id": 51975481, "answer_count": 1, "score": 0, "last_activity_date": 1534973771, "creation_date": 1534973380, "question_id": 51975403, "link": "https://stackoverflow.com/questions/51975403/rxjs-http-client-response-type-for-not-json", "title": "RxJS HTTP-Client: response type for not JSON", "body": "<p>I am not sure whats the problem here. I'd like to make a HTTP-request that does respond binary data (e.g. a file download) instead of JSON.</p>\n\n<pre><code>import {HttpClient, HttpHeaders, HttpParams} from \"@angular/common/http\";\n</code></pre>\n\n<p>These lines are ok - but expect JSON.</p>\n\n<pre><code>let x = this.http.get &lt;any&gt; (\"http://myhost\", { responseType : 'json' });\nlet y = this.http.get &lt;any&gt; (\"http://myhost\");\n</code></pre>\n\n<p>But I need to define the response to be not JSON.</p>\n\n<pre><code>let z = this.http.get &lt;any&gt; (\"http://myhost\", { responseType : 'string' });\n</code></pre>\n\n<p>Here I get a problem with it. I tried 'blob' as well.\nI always get a typescript-error at compile-time.</p>\n\n<blockquote>\n  <p>Argument of type '{ responseType: \"string\"; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\n    Types of property 'responseType' are incompatible.\n      Type '\"string\"' is not assignable to type '\"json\"'.</p>\n</blockquote>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 498, "user_id": 2821149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3859a0cb4505b7df403316b239c85f6?s=128&d=identicon&r=PG", "display_name": "bradcush", "link": "https://stackoverflow.com/users/2821149/bradcush"}, "edited": false, "score": 0, "creation_date": 1534977982, "post_id": 51975309, "comment_id": 90902636, "body": "A <code>string</code> is a <code>string</code>, whether it&#39;s stringified JSON or not. If you have a predictable subset of strings you would like to check you can declare a type which is a union of strings. (eg. <code>type something = &#39;oneThing&#39; | &#39;anotherThing&#39;</code>)"}, {"owner": {"reputation": 664, "user_id": 5139284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/147UW.png?s=128&g=1", "display_name": "mic", "link": "https://stackoverflow.com/users/5139284/mic"}, "edited": false, "score": 0, "creation_date": 1614610986, "post_id": 51975309, "comment_id": 117430422, "body": "You can look at some of the suggestions at <a href=\"https://github.com/Microsoft/TypeScript/issues/19244\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/19244</a>"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1534974176, "creation_date": 1534974176, "answer_id": 51975562, "question_id": 51975309, "link": "https://stackoverflow.com/questions/51975309/stringified-type-in-typescript/51975562#51975562", "title": "Stringified Type in Typescript", "body": "<blockquote>\n  <p>My obvious expectation was that I could do something like Stringified (or something).</p>\n</blockquote>\n\n<p>You'll need to create your own <code>Stringified</code> and <code>PrasedErrorProperty</code> along with <code>function parseError(error:string): Stringified&lt;ParsedErrorProperty&gt;</code>. </p>\n\n<p>This is not provided natively. </p>\n"}], "owner": {"reputation": 412, "user_id": 7117605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea05df9b206738f95204851519f6888?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/7117605/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 623, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534974176, "creation_date": 1534972830, "question_id": 51975309, "link": "https://stackoverflow.com/questions/51975309/stringified-type-in-typescript", "title": "Stringified Type in Typescript", "body": "<p>I feel like maybe I'm just not thinking this through clearly so forgive me if that's the case. Here's the problem:</p>\n\n<p>I'm receiving exceptions formatted in a particular fashion. At the root of the error object I get your basic stuff: <code>message</code>, <code>status</code>, etc. However there's also a property call <code>error</code> which is a stringified object. When I create a type to model this error object, I'd like to not call that <code>error</code> property a 'string', that feels silly and not representative. However, that seems to be the only way I can define that property. (I realize it <strong>is</strong> a string, but that's the JSON equivalent to a type of <code>any</code>.)</p>\n\n<p>My obvious expectation was that I could do something like <code>Stringified&lt;ParsedErrorProperty&gt;</code> (or something). That way when I receive that error object intellisense expects me to parse that property in order to access the attributes of that property, will know what attributes to expect post-parse,  and will pitch a fit if I fail to do so.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 7598, "user_id": 116925, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/03796b58f0c972492903f781b2d410cc?s=128&d=identicon&r=PG", "display_name": "elado", "link": "https://stackoverflow.com/users/116925/elado"}, "edited": false, "score": 0, "creation_date": 1534978593, "post_id": 51975600, "comment_id": 90902760, "body": "here&#39;s why I asked: when migrating from JS to TS I had <code>const X: Read.StatelessComponent = () =&gt; ...</code> that has now lost its display name (e.g. in jest snapshots). I assume this is intentional by TS?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1534974355, "creation_date": 1534974355, "answer_id": 51975600, "question_id": 51975287, "link": "https://stackoverflow.com/questions/51975287/exported-anonymous-function-name-is-missing-after-typescript-compilation/51975600#51975600", "title": "Exported anonymous function name is missing after typescript compilation", "body": "<blockquote>\n  <p>Is there a way to have TS keep the names</p>\n</blockquote>\n\n<p>No. Not using TS. </p>\n\n<p><em>You can</em> use Babel with TypeScript <a href=\"https://babeljs.io/docs/en/next/babel-plugin-transform-typescript.html\" rel=\"nofollow noreferrer\">https://babeljs.io/docs/en/next/babel-plugin-transform-typescript.html</a> However I recommend staying away from <code>.name</code> introspection anyways and just use TS as is.</p>\n"}], "owner": {"reputation": 7598, "user_id": 116925, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/03796b58f0c972492903f781b2d410cc?s=128&d=identicon&r=PG", "display_name": "elado", "link": "https://stackoverflow.com/users/116925/elado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534974355, "creation_date": 1534972707, "question_id": 51975287, "link": "https://stackoverflow.com/questions/51975287/exported-anonymous-function-name-is-missing-after-typescript-compilation", "title": "Exported anonymous function name is missing after typescript compilation", "body": "<p>The following TypeScript code:</p>\n\n<pre><code>const hasName = () =&gt; {};\nconsole.log(\"hasName.name\", hasName.name);\n\nfunction hasName2() {};\nconsole.log(\"hasName2.name\", hasName2.name);\n\nexport const noName = () =&gt; {};\nconsole.log(\"noName.name\", noName.name);\n</code></pre>\n\n<p>produces the following result:</p>\n\n<pre><code>\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst hasName = () =&gt; { };\nconsole.log(\"hasName.name\", hasName.name);\nfunction hasName2() { }\n;\nconsole.log(\"hasName2.name\", hasName2.name);\nexports.noName = () =&gt; { };\nconsole.log(\"noName.name\", exports.noName.name);\n</code></pre>\n\n<p>with tsconfig:</p>\n\n<pre><code>{\"compilerOptions\":{\"target\":\"esnext\",\"outDir\":\"build\",\"module\":\"commonjs\"}}\n</code></pre>\n\n<p>The log output is </p>\n\n<pre><code>hasName.name hasName\nhasName2.name hasName2\nnoName.name\n</code></pre>\n\n<p>TypeScript compiler seems to omit the exported anonymous function name. Babel (7 rc2) keeps the name:</p>\n\n<pre><code>\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.noName = void 0;\n\nvar hasName = function hasName() {};\nconsole.log(\"hasName.name\", hasName.name);\n\nfunction hasName2() {}\nconsole.log(\"hasName2.name\", hasName2.name);\n\nvar noName = function noName() {};\nexports.noName = noName;\nconsole.log(\"noName.name\", noName.name);\n</code></pre>\n\n<p>The log output is </p>\n\n<pre><code>hasName.name hasName\nhasName2.name hasName2\nnoName.name noName\n</code></pre>\n\n<p>Is there a way to have TS keep the names?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1534973576, "post_id": 51975365, "comment_id": 90901304, "body": "<code>console.log(coordinats[2]);</code> return only 3, why not both values?"}, {"owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1534974472, "post_id": 51975365, "comment_id": 90901642, "body": "Because 3 is the array&#39;s element at index 2; and if you log <code>coordinats[3]</code> it will print 4?"}], "tags": [], "owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "is_accepted": false, "score": 0, "last_activity_date": 1534973108, "creation_date": 1534973108, "answer_id": 51975365, "question_id": 51975279, "link": "https://stackoverflow.com/questions/51975279/how-to-use-rest-parameters-in-tuple/51975365#51975365", "title": "How to use rest parameters in tuple?", "body": "<p>And should it? If you know exactly there are two elements before the ellipsis, why not just call <code>coordinats.slice(2)</code>?</p>\n"}, {"tags": [], "owner": {"reputation": 34684, "user_id": 786718, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/50f15940066e1e6389a6c8bef60820fa?s=128&d=identicon&r=PG", "display_name": "DeeV", "link": "https://stackoverflow.com/users/786718/deev"}, "is_accepted": true, "score": 2, "last_activity_date": 1534975914, "creation_date": 1534975914, "answer_id": 51975861, "question_id": 51975279, "link": "https://stackoverflow.com/questions/51975279/how-to-use-rest-parameters-in-tuple/51975861#51975861", "title": "How to use rest parameters in tuple?", "body": "<p>Remember that Typescript types don't actually exist on runtime.  Typescript compiles to Javascript.  So what you typed:</p>\n\n<pre><code>type Coordinate = [number, number, ...number[]];\n\nlet coordinats: Coordinate;\n\ncoordinats = [1, 2, 3, 4];\n\nconsole.log(coordinats[2]);\n</code></pre>\n\n<p>Turns in to:</p>\n\n<pre><code>let coordinats;\n\ncoordinats = [1, 2, 3, 4];\n\nconsole.log(coordinats[2]);\n</code></pre>\n\n<p>So all <code>coordinats</code> is a number array.</p>\n\n<p>All you're saying with the <code>Coordinate</code> type is that it's an array of numbers which have at least two values.  This gives you help on compile time errors when creating the array.</p>\n\n<pre><code>   let attempt1: Coordinate = []; // compile error\n   let attempt2: Coordinate = [1]; // compile error\n   let attempt3: Coordinate = [1, 2]; // works\n</code></pre>\n\n<p>The only way to retrieve the remaining numbers beyond the first two is to <code>slice</code> the array.</p>\n\n<pre><code>let remaining = coordinats.slice(2);\nconsole.log(remaining);\n</code></pre>\n\n<p>If you want to enforce this behavior, then you would create your own class that wraps the array.</p>\n"}], "owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "accepted_answer_id": 51975861, "answer_count": 2, "score": 0, "last_activity_date": 1534975914, "creation_date": 1534972682, "question_id": 51975279, "link": "https://stackoverflow.com/questions/51975279/how-to-use-rest-parameters-in-tuple", "title": "How to use rest parameters in tuple?", "body": "<p>In TypeScript 3 was appeared this opportunity to use rest parameters in tuple.</p>\n\n<p>I tried this like:</p>\n\n<pre><code>type Coordinate = [number, number, ...number[]];\n\nlet coordinats: Coordinate;\n\ncoordinats = [1, 2, 3,4];\n\nconsole.log(coordinats[2]);\n</code></pre>\n\n<p>Why <code>console.log(coordinats[2]);</code> does not return me 3 and 4?</p>\n"}, {"tags": ["javascript", "typescript", "interface", "visual-studio-code", "typechecking"], "comments": [{"owner": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "edited": false, "score": 0, "creation_date": 1534973351, "post_id": 51975183, "comment_id": 90901230, "body": "Yes, yes it can. JavaScript is valid typescript."}, {"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "reply_to_user": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "edited": false, "score": 0, "creation_date": 1534974618, "post_id": 51975183, "comment_id": 90901692, "body": "According to the above it will not do as much as I want. I want more than built-in types checking, I want to use interfaces and structures."}, {"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "reply_to_user": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "edited": false, "score": 0, "creation_date": 1534975827, "post_id": 51975183, "comment_id": 90902087, "body": "According to the above it will not do as much as I want. I want more than built-in types checking, I want to use interfaces and structures."}], "answers": [{"comments": [{"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "edited": false, "score": 0, "creation_date": 1534974561, "post_id": 51975523, "comment_id": 90901675, "body": "I&#39;ve used TS for other projects but don&#39;t want to use it this time. The question is if VSCode will support interfaces for pure JS projects?"}, {"owner": {"reputation": 80, "user_id": 8702137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5chZC.jpg?s=128&g=1", "display_name": "tonkatata", "link": "https://stackoverflow.com/users/8702137/tonkatata"}, "reply_to_user": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "edited": false, "score": 0, "creation_date": 1534975780, "post_id": 51975523, "comment_id": 90902075, "body": "Check out this resource: <a href=\"https://github.com/Microsoft/TypeScript/wiki/Type-Checking-JavaScript-Files\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/&hellip;</a>"}, {"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "edited": false, "score": 0, "creation_date": 1534977751, "post_id": 51975523, "comment_id": 90902571, "body": "yes, i included that link in the question above but it doesn&#39;t quite answer how to use TS interfaces in JS. Maybe I can bend the declaration of Object literals... <a href=\"https://github.com/Microsoft/TypeScript/wiki/Type-Checking-JavaScript-Files#object-literals-are-open-ended\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/&hellip;</a>"}], "tags": [], "owner": {"reputation": 80, "user_id": 8702137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5chZC.jpg?s=128&g=1", "display_name": "tonkatata", "link": "https://stackoverflow.com/users/8702137/tonkatata"}, "is_accepted": false, "score": -1, "last_activity_date": 1534973956, "creation_date": 1534973956, "answer_id": 51975523, "question_id": 51975183, "link": "https://stackoverflow.com/questions/51975183/can-i-declare-ts-interfaces-for-use-in-plain-js-projects-with-vscode/51975523#51975523", "title": "Can I declare TS interfaces for use in plain JS projects with VSCode?", "body": "<p>The easiest thing you can do is to set up a brand new TS project with the proper config file for TS. (just google it or youtube it, you will find this immediately. for example this one: <a href=\"https://www.youtube.com/watch?v=dPgAXFcFHCM\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=dPgAXFcFHCM</a>)</p>\n\n<p>Then, inside the TS file you are working on, you are not required to write in TS. You can just code in JS and then (based on your configuration) the .ts file is compiled to vanilla JS. Then, you can just use the compiled JS file wherever you need it. </p>\n"}], "owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 451, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534973956, "creation_date": 1534972247, "question_id": 51975183, "link": "https://stackoverflow.com/questions/51975183/can-i-declare-ts-interfaces-for-use-in-plain-js-projects-with-vscode", "title": "Can I declare TS interfaces for use in plain JS projects with VSCode?", "body": "<p>Using MS VisualCode editor, I'm trying to get some type checking. I want to keep with Javascript, but get some benefits of type checking interfaces and data structures.</p>\n\n<p>According to the vscode docs I can create a <code>globals.d.ts</code> type definition file, which I did like:</p>\n\n<pre><code>interface QueryObj {\n    input: string;\n    query: string;\n}\n\ndeclare namespace TrainingModel {\n  function preprocessQuery(qo: QueryObj): QueryObj\n}\n</code></pre>\n\n<p>Then I tried to declare a function that uses this QueryObj type.</p>\n\n<pre><code>checkOneData (queryObj) {\n    queryObj.foo = 1\n</code></pre>\n\n<p>So I was hoping to get a warning that <code>queryObj.foo</code> shouldn't be used... but nothing.</p>\n\n<p>I also tried adding a JSDoc to describe the params </p>\n\n<pre><code>  /**\n   * @param {QueryObj} queryObj\n   * @returns {Promise&lt;any&gt;}\n   */\n  async checkOneData (queryObj) {\n</code></pre>\n\n<p>But this line <code>* @param {QueryObj} queryObj</code> just gives me the error <code>cannot find name 'QueryObj'</code></p>\n\n<p>I know the <code>.d.ts</code> file is being processed as I will get errors when it is incomplete.</p>\n\n<p>So beyond basic parameters types like string/number, can VSCode be used in this way to somehow check user defined data structures, as we would use interfaces for in TypeScript?</p>\n\n<p>refs:</p>\n\n<p><a href=\"https://code.visualstudio.com/docs/languages/javascript\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/languages/javascript</a>\n<a href=\"https://github.com/Microsoft/TypeScript/wiki/Type-Checking-JavaScript-Files\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/wiki/Type-Checking-JavaScript-Files</a>\n<a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/by-example.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/declaration-files/by-example.html</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "leaflet", "ngx-leaflet"], "comments": [{"owner": {"reputation": 1569, "user_id": 5517435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af58c63aea05edd701ebaa666ad5c92?s=128&d=identicon&r=PG&f=1", "display_name": "Nisarg", "link": "https://stackoverflow.com/users/5517435/nisarg"}, "edited": false, "score": 0, "creation_date": 1534971049, "post_id": 51974852, "comment_id": 90900305, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/48993885/getting-the-list-of-markers-when-zoomed-in-leaflet-map\">Getting the list of markers when zoomed in leaflet map</a>"}, {"owner": {"reputation": 164, "user_id": 3120368, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/595d29099fa8c595678ff69e13a184d6?s=128&d=identicon&r=PG&f=1", "display_name": "mrOak", "link": "https://stackoverflow.com/users/3120368/mroak"}, "reply_to_user": {"reputation": 1569, "user_id": 5517435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af58c63aea05edd701ebaa666ad5c92?s=128&d=identicon&r=PG&f=1", "display_name": "Nisarg", "link": "https://stackoverflow.com/users/5517435/nisarg"}, "edited": false, "score": 0, "creation_date": 1534971319, "post_id": 51974852, "comment_id": 90900423, "body": "That question is about the markers, my question is about the <code>leafletMapZoom</code> events. Should I change the wording of the question to better reflect that?"}, {"owner": {"reputation": 3815, "user_id": 2321592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d82903d3fb7f5b7a8605d30198f7a57?s=128&d=identicon&r=PG", "display_name": "reblace", "link": "https://stackoverflow.com/users/2321592/reblace"}, "edited": false, "score": 0, "creation_date": 1534973658, "post_id": 51974852, "comment_id": 90901334, "body": "Can you provide your component code?"}, {"owner": {"reputation": 164, "user_id": 3120368, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/595d29099fa8c595678ff69e13a184d6?s=128&d=identicon&r=PG&f=1", "display_name": "mrOak", "link": "https://stackoverflow.com/users/3120368/mroak"}, "edited": false, "score": 0, "creation_date": 1534974726, "post_id": 51974852, "comment_id": 90901737, "body": "I&#39;ve added the component code"}, {"owner": {"reputation": 3815, "user_id": 2321592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d82903d3fb7f5b7a8605d30198f7a57?s=128&d=identicon&r=PG", "display_name": "reblace", "link": "https://stackoverflow.com/users/2321592/reblace"}, "edited": false, "score": 1, "creation_date": 1535047481, "post_id": 51974852, "comment_id": 90933183, "body": "I can verify it works as designed as of ngx-leaflet v4. You have some errors in your code. In the output bindings, you call &#39;handleMapMoveEnd&#39;, but the function is called &#39;onMapMoveEnd&#39;. And, in the html, you have the move and zoom handlers flipped. Otherwise, you&#39;re doing it correctly. You might want to put console.log statements in the callbacks to verify it&#39;s working once you fix the issues."}, {"owner": {"reputation": 164, "user_id": 3120368, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/595d29099fa8c595678ff69e13a184d6?s=128&d=identicon&r=PG&f=1", "display_name": "mrOak", "link": "https://stackoverflow.com/users/3120368/mroak"}, "edited": false, "score": 0, "creation_date": 1535123828, "post_id": 51974852, "comment_id": 90964947, "body": "Could you post an example? I&#39;ve made the changes and the methods are still not being hit. I have breakpoints in dev tools, also added console logs."}, {"owner": {"reputation": 3815, "user_id": 2321592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d82903d3fb7f5b7a8605d30198f7a57?s=128&d=identicon&r=PG", "display_name": "reblace", "link": "https://stackoverflow.com/users/2321592/reblace"}, "edited": false, "score": 1, "creation_date": 1535426188, "post_id": 51974852, "comment_id": 91049699, "body": "Check out the demo/events branch in <a href=\"https://github.com/Asymmetrik/ngx-leaflet-tutorial-ngcli\" rel=\"nofollow noreferrer\">github.com/Asymmetrik/ngx-leaflet-tutorial-ngcli</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3815, "user_id": 2321592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d82903d3fb7f5b7a8605d30198f7a57?s=128&d=identicon&r=PG", "display_name": "reblace", "link": "https://stackoverflow.com/users/2321592/reblace"}, "is_accepted": true, "score": 2, "last_activity_date": 1535426624, "creation_date": 1535426624, "answer_id": 52049629, "question_id": 51974852, "link": "https://stackoverflow.com/questions/51974852/ngx-leaflet-map-zoom-events-not-triggering/52049629#52049629", "title": "ngx-leaflet map zoom events not triggering", "body": "<p>In the <a href=\"https://github.com/Asymmetrik/ngx-leaflet-tutorial-ngcli\" rel=\"nofollow noreferrer\">Github repo</a> for the @asymmetrik/ngx-leaflet ngcli tutorial, I added a branch <code>demo/events</code> that shows a really simple example of using the zoom/move events.</p>\n\n<pre><code>git clone git@github.com:Asymmetrik/ngx-leaflet-tutorial-ngcli.git\ngit checkout demo/events\n</code></pre>\n\n<p>The files of interest are:</p>\n\n<pre><code>./src/app/app.component.html\n./src/app/app.component.ts\n</code></pre>\n\n<p>The template (below) contains two handlers, one for each of the leafletMapMoveEnd and leafletMapZoomEnd outputs:</p>\n\n<pre><code>&lt;div class=\"map\"\n  leaflet\n  [leafletOptions]=\"options\"\n  (leafletMapReady)=\"onMapReady($event)\"\n  (leafletMapMoveEnd)=\"handleMapMoveEnd($event)\"\n  (leafletMapZoomEnd)=\"handleMapZoomEnd($event)\"\n&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The component (below) just prints to the console on these events. I removed mostly everything that's not necessary to demo the events working.</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport * as L from 'leaflet';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: [\n    './app.component.css'\n  ]\n})\nexport class AppComponent {\n\n  streetMaps = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    detectRetina: true,\n    attribution: '&amp;amp;copy; &amp;lt;a href=\"https://www.openstreetmap.org/copyright\"&amp;gt;OpenStreetMap&amp;lt;/a&amp;gt; contributors'\n  });\n\n\n  map: L.Map;\n\n  options = {\n    layers: [ this.streetMaps ],\n    zoom: 7,\n    center: L.latLng([ 46.879966, -121.726909 ])\n  };\n\n  onMapReady(map: L.Map): void {\n    this.map = map;\n  }\n\n  handleMapZoomEnd(map: L.Map):void{\n    console.log('onMapZoomEnd');\n  }\n\n  handleMapMoveEnd(map: L.Map):void{\n    console.log('onMapMoveEnd');\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 164, "user_id": 3120368, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/595d29099fa8c595678ff69e13a184d6?s=128&d=identicon&r=PG&f=1", "display_name": "mrOak", "link": "https://stackoverflow.com/users/3120368/mroak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1492, "favorite_count": 1, "accepted_answer_id": 52049629, "answer_count": 1, "score": 1, "last_activity_date": 1535426624, "creation_date": 1534970759, "last_edit_date": 1535123682, "question_id": 51974852, "link": "https://stackoverflow.com/questions/51974852/ngx-leaflet-map-zoom-events-not-triggering", "title": "ngx-leaflet map zoom events not triggering", "body": "<p>As per ngx-leaflet documentation <a href=\"https://github.com/Asymmetrik/ngx-leaflet#map-zoom-and-move-leafletevent\" rel=\"nofollow noreferrer\">link</a> <code>(leafletMapMoveEnd)</code> and <code>(leafletMapZoomEnd)</code> are both exposed events.</p>\n\n<p>I'm assuming that these events are exposed in the same DOM that the map is Initialized, and should be implemented like this:</p>\n\n<pre><code>&lt;div \n leaflet\n [leafletOptions]=\"options\"\n (leafletMapReady)=\"onMapReady($event)\"\n (leafletMapMoveEnd)=\"onMapMove($event)\"\n (leafletMapZoomEnd)=\"onMapZoom($event)\"&gt;\n</code></pre>\n\n<p>Is this the correct way to catch these events? </p>\n\n<p><code>(leafletMapReady)</code> seems to be working just fine.</p>\n\n<p>However neither <code>(leafletMapZoomEnd)</code> or <code>(leafletMapMoveEnd)</code> seem to be triggering when I mess with the map it self. </p>\n\n<p>I tried panning the map, as well as zooming in and out. Neither of those interactions cause the <code>handleMapZoomEnd($event)</code> <code>handleMapMoveEnd($event)</code> methods to be hit.</p>\n\n<pre><code>import { Component, Input, OnChanges, OnInit, Output, EventEmitter } from '@angular/core';\nimport * as fromLeafLet from 'leaflet'; \nimport 'leaflet.markercluster';\n\n@Component({\n  selector: 'map',\n  templateUrl: './map.component.html',\n  styleUrls: [\n    './map.component.css',\n    './extra-marker-icon.css'\n  ]\n})\nexport class MapComponent implements OnInit, OnChanges {\n constructor(){}\n\n onMapReady(map: fromLeafLet.Map): void {\n    this.map = map;\n  }\n\n  onMapZoom(event: any):void{\n    console.log('Zoom');\n    this.onMapDirty.emit();\n  }\n\n  onMapMove(event: any):void{\n    console.log('Move');\n    this.onMapDirty.emit();\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "angular6"], "comments": [{"owner": {"reputation": 14424, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "edited": false, "score": 0, "creation_date": 1534968942, "post_id": 51974367, "comment_id": 90899345, "body": "Change the *ngIf to [hidden].  The elements inside are part of the DOM until after itemLoading is set to true so then it will miss the next result$ element."}], "answers": [{"comments": [{"owner": {"reputation": 723, "user_id": 5395603, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Bz7Mx.png?s=128&g=1", "display_name": "wctiger", "link": "https://stackoverflow.com/users/5395603/wctiger"}, "edited": false, "score": 0, "creation_date": 1534970698, "post_id": 51974575, "comment_id": 90900171, "body": "shareReplay does fix the problem. Thanks!"}], "tags": [], "owner": {"reputation": 14424, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "is_accepted": true, "score": 7, "last_activity_date": 1534969440, "creation_date": 1534969440, "answer_id": 51974575, "question_id": 51974367, "link": "https://stackoverflow.com/questions/51974367/async-pipe-subscription-not-work-correctly-when-nested-inside-ngif/51974575#51974575", "title": "Async pipe subscription not work correctly when nested inside ngIf", "body": "<p>Rewriting the <code>*ngIf</code> as hidden should solve the problem.  The reason result$ isn't working is because those elements inside the <code>*ngIf</code> won't be added to the dom until itemLoading is false.  At that point they'll subscribe to result$, but the event will have already occurred.</p>\n\n<p>Alternatively <code>shareReplay(1)</code> might also do the trick without you having to rewrite anything else, as the reply will run when the Observable is subscribed too.</p>\n\n<p><strong>Solution A</strong> </p>\n\n<pre><code>&lt;div [hidden]=\"itemLoading\"&gt;\n&lt;!-- ... --&gt;\n&lt;/div&gt;\n&lt;div [hidden]=\"!itemLoading\"&gt;\n  &lt;p&gt;LOADING...&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Solution B</strong></p>\n\n<pre><code>this.result$ = this.searchTerm$.pipe(\n  //...\n  shareReplay(1)\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40792, "user_id": 563420, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/715062f31800335c2a33422b311dbb93?s=128&d=identicon&r=PG", "display_name": "rynop", "link": "https://stackoverflow.com/users/563420/rynop"}, "is_accepted": false, "score": 0, "last_activity_date": 1549489980, "creation_date": 1549489980, "answer_id": 54563106, "question_id": 51974367, "link": "https://stackoverflow.com/questions/51974367/async-pipe-subscription-not-work-correctly-when-nested-inside-ngif/54563106#54563106", "title": "Async pipe subscription not work correctly when nested inside ngIf", "body": "<p>Use <code>async</code> pipe within your <code>*ngIf</code>.  You can find a great writeup at <a href=\"https://toddmotto.com/angular-ngif-async-pipe\" rel=\"nofollow noreferrer\">https://toddmotto.com/angular-ngif-async-pipe</a></p>\n\n<p>In short:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div *ngIf=\"(user$ | async) as user; else loading\"&gt;\n  &lt;user-profile\n    [user]=\"user\"&gt;\n  &lt;/user-profile&gt;\n  &lt;user-messages\n    [user]=\"user\"&gt;\n  &lt;/user-messages&gt;\n&lt;/div&gt;\n\n&lt;ng-template #loading&gt;\n  Loading stuff...\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>If this does not work for you, another cleaner solution (IMO) is to use \n <a href=\"http://reactivex.io/rxjs/manual/overview.html#behaviorsubject\" rel=\"nofollow noreferrer\">BehaviorSubject</a>.  When your dom gets around to subscribing, it will get the last observable data.</p>\n"}, {"tags": [], "owner": {"reputation": 324, "user_id": 10101797, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uR6-CsRt_e4/AAAAAAAAAAI/AAAAAAAAAP0/gytmWOXsFV0/photo.jpg?sz=128", "display_name": "Fabien", "link": "https://stackoverflow.com/users/10101797/fabien"}, "is_accepted": false, "score": 0, "last_activity_date": 1617356369, "creation_date": 1617356369, "answer_id": 66917359, "question_id": 51974367, "link": "https://stackoverflow.com/questions/51974367/async-pipe-subscription-not-work-correctly-when-nested-inside-ngif/66917359#66917359", "title": "Async pipe subscription not work correctly when nested inside ngIf", "body": "<p>If you do not want to add everything into your DOM, you can group your observables using <code>forkJoin</code> (<a href=\"https://www.learnrxjs.io/learn-rxjs/operators/combination/forkjoin\" rel=\"nofollow noreferrer\">RxJS doc</a>) operator. Then you can keep your syntax with <code>*ngIf</code> and the DOM will stay clean.</p>\n<p><strong>Solution C</strong></p>\n<p>.ts</p>\n<pre><code>this.data$ = forkjoin([yourObs1, yourObs2,...]).pipe(\nswitchMap(myResolvedArray=&gt;{\n// Here you must return the object you want\nreturn {\ndataObs1: myResolvedArray[0]\n...\n}\n})\n)\n</code></pre>\n<p>.html</p>\n<pre><code>&lt;div *ngIf='data$|async as data'&gt;\n//data.dataObs1 is accessible like other attributes\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 723, "user_id": 5395603, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Bz7Mx.png?s=128&g=1", "display_name": "wctiger", "link": "https://stackoverflow.com/users/5395603/wctiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3248, "favorite_count": 2, "accepted_answer_id": 51974575, "answer_count": 3, "score": 6, "last_activity_date": 1617356369, "creation_date": 1534968487, "last_edit_date": 1534974339, "question_id": 51974367, "link": "https://stackoverflow.com/questions/51974367/async-pipe-subscription-not-work-correctly-when-nested-inside-ngif", "title": "Async pipe subscription not work correctly when nested inside ngIf", "body": "<p>I have a quick search box which I would like to have a loading animation. I used <code>ng-template</code> with <code>ngIf</code> to show/hide this animation. And I have some li's nested inside the same div which subscribed to a search result Observable using async pipe to display results. This async pipe works great when there's no <code>*ngIf</code> on the parent div, but seems it is not subscribing anymore when I apply <code>ngIf</code>. Is this an expected behavior? Or am I doing anything wrong?</p>\n\n<p>My markup looks like this.</p>\n\n<pre><code>&lt;input #searchBox type=\"text\" (keyup)=\"itemLoading=true;searchTerm$.next(searchBox.value)\"/&gt;\n&lt;div *ngIf=\"!itemLoading else loading\"&gt;\n&lt;!--Remove ngIf then items will display correctly when search--&gt;\n&lt;!-- &lt;div&gt; --&gt;\n  &lt;ul&gt;\n    &lt;li *ngFor=\"let item of result$ | async \"&gt;{{item}}&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n&lt;ng-template #loading&gt;\n  &lt;p&gt;LOADING...&lt;/p&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>And I am using switchMap to run the search:</p>\n\n<pre><code>private source = of(['apple', 'pear', 'banana']).pipe(delay(500));\n\n  searchTerm$ = new Subject&lt;string&gt;();\n  result$: Observable&lt;string[]&gt;;\n  itemLoading = false;  \n\n  constructor() {\n    this.result$ = this.searchTerm$.pipe(\n      tap(term =&gt; console.log('search term captured: ' + term)),\n      debounceTime(300),\n      distinctUntilChanged(),\n      switchMap(() =&gt; this.source.pipe(\n        tap(_ =&gt; {\n            console.log('source reached');\n            this.itemLoading = false;\n          })\n      ))\n    );\n  }\n</code></pre>\n\n<p>When <code>ngIf</code> is present in parent div, the 'source reached' message is never logged in console, as well as the loading template keeps hanging there.</p>\n\n<p>Here is a full working example of what I am talking about: <a href=\"https://stackblitz.com/edit/angular-2ukcqu\" rel=\"noreferrer\">https://stackblitz.com/edit/angular-2ukcqu</a></p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1534970565, "post_id": 51974287, "comment_id": 90900115, "body": "Sorry about that! I misread the code. I think you should be getting the Class printed on the console for the console.log inside the constructor. Don&#39;t confuse it for an instance. Have a look at its type. It may have a <b>proto</b> which might eventually also have the methods that you were expecting on it. But again, it&#39;s a class and not an instance."}, {"owner": {"reputation": 1629, "user_id": 3878933, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/b41zO.jpg?s=128&g=1", "display_name": "papiro", "link": "https://stackoverflow.com/users/3878933/papiro"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1534977534, "post_id": 51974287, "comment_id": 90902520, "body": "I just spent the last hour debugging this and came to some interesting conclusions! I&#39;ll try to outline the cause as best as possible."}, {"owner": {"reputation": 1629, "user_id": 3878933, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/b41zO.jpg?s=128&g=1", "display_name": "papiro", "link": "https://stackoverflow.com/users/3878933/papiro"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1534977995, "post_id": 51974287, "comment_id": 90902640, "body": "I ended up posting my previous comment, and then seconds later finding the appropriate section in the docs! I had debugged the framework and found an interesting switch statement which auto-instantiates factory services. <a href=\"https://github.com/angular/angular/blob/183757daa28e575bd9ffb8ae6c31ebee7ff45443/packages/core/src/view/provider.ts#L245\" rel=\"nofollow noreferrer\">github.com/angular/angular/blob/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1629, "user_id": 3878933, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/b41zO.jpg?s=128&g=1", "display_name": "papiro", "link": "https://stackoverflow.com/users/3878933/papiro"}, "is_accepted": true, "score": 0, "last_activity_date": 1534977798, "creation_date": 1534977798, "answer_id": 51976136, "question_id": 51974287, "link": "https://stackoverflow.com/questions/51974287/class-getting-instantiated-implicitly-in-angular-component-class/51976136#51976136", "title": "Class getting instantiated implicitly in Angular component class", "body": "<p>Apparently this is a function of standard \"Angular DI.\" <a href=\"https://angular.io/guide/dependency-injection#inject-a-service\" rel=\"nofollow noreferrer\">Here</a> is the reference to this specific behavior in the Angular docs.</p>\n"}], "owner": {"reputation": 1629, "user_id": 3878933, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/b41zO.jpg?s=128&g=1", "display_name": "papiro", "link": "https://stackoverflow.com/users/3878933/papiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 51976136, "answer_count": 1, "score": 0, "last_activity_date": 1534977798, "creation_date": 1534968119, "question_id": 51974287, "link": "https://stackoverflow.com/questions/51974287/class-getting-instantiated-implicitly-in-angular-component-class", "title": "Class getting instantiated implicitly in Angular component class", "body": "<p>Using <a href=\"https://material.angular.io/\" rel=\"nofollow noreferrer\">angular-material</a> (v6), and Typescript in an Angular (v6) app, I'm confused by its behavior and think I might be looking at this too close. Basic code looks like this:</p>\n\n<pre><code>import { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nconsole.log(BreakpointObserver); // logs the class\n@Component({...})\nexport class MyComponent {\n  private breakpointObserver : BreakpointObserver;\n  constructor (breakpointObserver : BreakpointObserver) {\n    console.log(breakpointObserver); // logs an instance\n  }\n}\n</code></pre>\n\n<p>I searched through the Angular, angular-material, and Typescript docs to try to find the reasoning for how/where/why the <code>BreakpointObserver</code> class is getting instantiated and being passed as a parameter to the <code>constructor</code>. Is this a bug?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534966784, "post_id": 51973921, "comment_id": 90898440, "body": "I don&#39;t have an answer to the performance question, but option 3 can be written more concisely using <a href=\"https://www.typescriptlang.org/docs/handbook/classes.html#parameter-properties\" rel=\"nofollow noreferrer\">parameter properties</a>: <code>constructor(public name: string, public color: string, public isHungry: boolean) {}</code>."}, {"owner": {"reputation": 15626, "user_id": 434742, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NWjwe.jpg?s=128&g=1", "display_name": "Kriszti&#225;n Balla", "link": "https://stackoverflow.com/users/434742/kriszti%c3%a1n-balla"}, "edited": false, "score": 0, "creation_date": 1534966959, "post_id": 51973921, "comment_id": 90898509, "body": "The first way should be the fastest as it does not invoke a function call. Remember that TypeScript is transcompiled to JavaScript and <code>new</code> actually calls a function in which the function context <code>this</code> is set to a new empty object."}, {"owner": {"reputation": 668, "user_id": 914185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5dd67f92acafa637bdadf19c1c664c0?s=128&d=identicon&r=PG", "display_name": "shiva", "link": "https://stackoverflow.com/users/914185/shiva"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534967013, "post_id": 51973921, "comment_id": 90898539, "body": "@MattMcCutchen true, it&#39;s better way of doing it. I copy and paste the option 2 and forgot to change it."}, {"owner": {"reputation": 668, "user_id": 914185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5dd67f92acafa637bdadf19c1c664c0?s=128&d=identicon&r=PG", "display_name": "shiva", "link": "https://stackoverflow.com/users/914185/shiva"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534967896, "post_id": 51973921, "comment_id": 90898918, "body": "@MattMcCutchen I updated it, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 668, "user_id": 914185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5dd67f92acafa637bdadf19c1c664c0?s=128&d=identicon&r=PG", "display_name": "shiva", "link": "https://stackoverflow.com/users/914185/shiva"}, "edited": false, "score": 0, "creation_date": 1534968196, "post_id": 51974133, "comment_id": 90899040, "body": "I agree, I&#39;m trying to come up with a coding style with my team. We mostly use interface however a new developer has joined us recently and he prefers option 3 because then he can create a new object quicker in unit tests (although we normally create builder classes to help creating new objects in tests) . So I wonder if there are any performance gain here ..."}, {"owner": {"reputation": 668, "user_id": 914185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5dd67f92acafa637bdadf19c1c664c0?s=128&d=identicon&r=PG", "display_name": "shiva", "link": "https://stackoverflow.com/users/914185/shiva"}, "edited": false, "score": 0, "creation_date": 1534968332, "post_id": 51974133, "comment_id": 90899089, "body": "yes and no - we have complex objects. In the tests we need to create objects to test"}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1534970198, "post_id": 51974133, "comment_id": 90899951, "body": "I think that thinking about this from a performance point of view is ridiculous. But why don&#39;t you just measure it for your usecase? You&#39;ll see how many hundreds of thousands of objects you can create in a second and then decide whether performance really matters here."}, {"owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1534970650, "post_id": 51974133, "comment_id": 90900155, "body": "Empirical measurement is valid, but tough to do accurately due to (unknown to you) engine optimisation strategies."}], "tags": [], "owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "is_accepted": false, "score": 3, "last_activity_date": 1535057918, "last_edit_date": 1535057918, "creation_date": 1534967328, "answer_id": 51974133, "question_id": 51973921, "link": "https://stackoverflow.com/questions/51973921/which-way-of-object-instance-creation-is-the-fastest-in-typescript/51974133#51974133", "title": "Which way of object instance creation is the fastest in TypeScript?", "body": "<h1>It is not possible to say, in a general sense, which is \u201cfastest\u201d.</h1>\n\n<p>Object instance creation is highly optimized in JavaScript engines. The speed will be affected by the surrounding code, the frequency with which it is run, the runtime version and many other factors.</p>\n\n<p>I\u2019m sorry this is not the answer you wanted.</p>\n\n<p>In terms of memory, you can simply count the objects created by each approach - but unless you are writing a highly optimized piece of JavaScript (unlikely), this will be moot.</p>\n\n<p>Typically your choice of pattern for object creation should be driven not by performance, but by non-functional requirements like the style of code agreed by the team, maintainability and API shape.</p>\n\n<p>Of course, algorithms written in TS or JS <strong>can</strong> still be analysed for time and space complexity in the usual way.</p>\n"}, {"comments": [{"owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1534970114, "post_id": 51974617, "comment_id": 90899909, "body": "Modern engines are far too complex to state that option 3 is the fastest \u201cin most cases\u201d."}, {"owner": {"reputation": 2736, "user_id": 507576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fb10669d3d7ca93943af430039517e7?s=128&d=identicon&r=PG", "display_name": "gaperton", "link": "https://stackoverflow.com/users/507576/gaperton"}, "reply_to_user": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1534970339, "post_id": 51974617, "comment_id": 90900018, "body": "Option 3 is a guaranteed way to enable hidden classes, thus it is quite safe to state that it&#39;s the fastest option in most cases specifically because &quot;modern engines are too complex&quot;."}, {"owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1534970489, "post_id": 51974617, "comment_id": 90900086, "body": "There is nothing \u201cguaranteed\u201d about it. You\u2019ll likely get a hidden class in all three cases."}, {"owner": {"reputation": 2736, "user_id": 507576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fb10669d3d7ca93943af430039517e7?s=128&d=identicon&r=PG", "display_name": "gaperton", "link": "https://stackoverflow.com/users/507576/gaperton"}, "reply_to_user": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1534970681, "post_id": 51974617, "comment_id": 90900161, "body": "You might. But there&#39;s nothing guaranteed about initialization order in other cases. Not to mention that it&#39;s legal not to initialize some members in option 2, and you&#39;ll lose the same hidden class. I think it should be quite obvious."}, {"owner": {"reputation": 2736, "user_id": 507576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fb10669d3d7ca93943af430039517e7?s=128&d=identicon&r=PG", "display_name": "gaperton", "link": "https://stackoverflow.com/users/507576/gaperton"}, "reply_to_user": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1534970756, "post_id": 51974617, "comment_id": 90900191, "body": "With option 3 though, the similar init order and props are obviously guaranteed, and the user of the data structure shouldn&#39;t bother. Which is very far from &quot;nothing&quot;."}, {"owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1534974205, "post_id": 51974617, "comment_id": 90901537, "body": "Personally, I wouldn\u2019t use the term \u201cguaranteed\u201d as liberally as you. As you point out in your answer, engines continually evolve. The question asked about object <i>creation</i> performance which is very difficult to second-guess without knowing engine internals, hence my answer."}, {"owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1534974258, "post_id": 51974617, "comment_id": 90901556, "body": "For property lookups, based on publicly available (and likely outdated) information on how V8 hidden classes work, and per your observation, you will get different different hidden classes if users choose to initialise object own-properties in different orders - but you will still get hidden classes and a memory-offset-based property lookup (albeit using different \u201cclass transitions\u201d). So the performance will likely be roughly the same. In real life, of course, other factors will play into a real-world performance - but to try to guess the outcome would be to understand the engines."}, {"owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1534974267, "post_id": 51974617, "comment_id": 90901559, "body": "...hence my answer: no one option can be said to be \u201cthe fastest\u201d."}, {"owner": {"reputation": 2736, "user_id": 507576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fb10669d3d7ca93943af430039517e7?s=128&d=identicon&r=PG", "display_name": "gaperton", "link": "https://stackoverflow.com/users/507576/gaperton"}, "reply_to_user": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1534982574, "post_id": 51974617, "comment_id": 90903478, "body": "Ben, when all class members are being initialized in the class constructor in the same order and when you&#39;re properly using TypeScript type system to cut off improper member assignments, it&#39;s guaranteed that V8 and other popular browsers JIT engines will employ &quot;hidden class&quot; or similar optimization. It&#39;s not even close to &quot;guaranteed&quot; with all other options."}, {"owner": {"reputation": 2736, "user_id": 507576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fb10669d3d7ca93943af430039517e7?s=128&d=identicon&r=PG", "display_name": "gaperton", "link": "https://stackoverflow.com/users/507576/gaperton"}, "reply_to_user": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1534982915, "post_id": 51974617, "comment_id": 90903547, "body": "&quot;but you will still get hidden classes and a memory-offset-based property lookup (albeit using different \u201cclass transitions\u201d). So the performance will likely be roughly the same.&quot; - the trick is to have all type instances to share the same hidden class, Ben. Not just &quot;every instance to have some hidden class&quot;. So, performance won&#39;t be the same. Of course, I seen your answer. Between us, I believe it is the wrong answer. That&#39;s exactly why I gave another one."}, {"owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1535006646, "post_id": 51974617, "comment_id": 90909150, "body": "\u201cwhen all class members are being initialized in the class constructor in the same order and when you&#39;re properly using TypeScript type system to cut off improper member assignments, it&#39;s guaranteed that V8 and other popular browsers JIT engines will employ &quot;hidden class&quot; or similar optimization\u201d Please show me where in the spec this guarantee exists."}, {"owner": {"reputation": 2736, "user_id": 507576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fb10669d3d7ca93943af430039517e7?s=128&d=identicon&r=PG", "display_name": "gaperton", "link": "https://stackoverflow.com/users/507576/gaperton"}, "reply_to_user": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1535052383, "post_id": 51974617, "comment_id": 90935514, "body": "Not everything can be found &quot;in the spec&quot;, such as general JIT compilation techniques and principles. Yet they exist, and if you choose to disregard them you probably shouldn&#39;t answer questions about performance, because JIT effect on performance is dramatic."}, {"owner": {"reputation": 2736, "user_id": 507576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fb10669d3d7ca93943af430039517e7?s=128&d=identicon&r=PG", "display_name": "gaperton", "link": "https://stackoverflow.com/users/507576/gaperton"}, "reply_to_user": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1535053244, "post_id": 51974617, "comment_id": 90935913, "body": "It&#39;s enough to say that an evidence shows that all popular JS desktop VMs will generally respond well to &quot;all fields initialized in the same order in constructor&quot; in the variety of contexts. The reasons for that are described in the link a gave (and you can find more if you want to). I don&#39;t see the point in further discussion about the meaning of the word &quot;guaranteed&quot;. It should be quite clear what I mean."}, {"owner": {"reputation": 2736, "user_id": 507576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fb10669d3d7ca93943af430039517e7?s=128&d=identicon&r=PG", "display_name": "gaperton", "link": "https://stackoverflow.com/users/507576/gaperton"}, "reply_to_user": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 1, "creation_date": 1535056128, "post_id": 51974617, "comment_id": 90937282, "body": "I updated my answer to make the point clear. Thanks for the discussion."}, {"owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 1, "creation_date": 1535056958, "post_id": 51974617, "comment_id": 90937662, "body": "Your hidden class discussion will be useful to future readers. However, I\u2019m afraid I still think your opening statement is too broad: \u201cIn most cases, an Option 3 is the fastest overall option (if you will count all operations, not just an object creation time)\u201d, and this prevents me from upvoting your answer."}, {"owner": {"reputation": 2736, "user_id": 507576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fb10669d3d7ca93943af430039517e7?s=128&d=identicon&r=PG", "display_name": "gaperton", "link": "https://stackoverflow.com/users/507576/gaperton"}, "reply_to_user": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 1, "creation_date": 1535057254, "post_id": 51974617, "comment_id": 90937804, "body": "Check it out now."}, {"owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1535058669, "post_id": 51974617, "comment_id": 90938347, "body": "I\u2019d like to avoid developers thinking option 3 is simply faster. Arguments can be made option 1 is faster to instantiate (although w/out testing/reading engine source/guide this is a guess). For prop lookup, option 3 doesn\u2019t guarantee instantiation order will be the same every time (although I concede is more likely). Any prop lookup perf gain might be outweighed by other code characteristics dictated by use of option 3, &amp; in most applications any gain will be undetectable. Finally, the constructor dependency injection pattern brings with it a bunch of negative non-functional characteristics."}, {"owner": {"reputation": 2736, "user_id": 507576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fb10669d3d7ca93943af430039517e7?s=128&d=identicon&r=PG", "display_name": "gaperton", "link": "https://stackoverflow.com/users/507576/gaperton"}, "reply_to_user": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "edited": false, "score": 0, "creation_date": 1535060692, "post_id": 51974617, "comment_id": 90939061, "body": "It&#39;s not just about property lookup. It&#39;s more about letting the JIT know that it&#39;s dealing with the monomorphic code. I guess you can achieve the same effect without classes if you wrap object creation in the factory function instead of the constructor (which is technically almost the same factory function is JS). But I do not share this modern belief that OO or constructors per se is something that should be avoided in JS. Moreover, having experience with Erlang and Haskell I&#39;m pretty sure that JS is an awful functional language. But that&#39;s the topic of the different discussion."}], "tags": [], "owner": {"reputation": 2736, "user_id": 507576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fb10669d3d7ca93943af430039517e7?s=128&d=identicon&r=PG", "display_name": "gaperton", "link": "https://stackoverflow.com/users/507576/gaperton"}, "is_accepted": false, "score": 3, "last_activity_date": 1535057233, "last_edit_date": 1535057233, "creation_date": 1534969638, "answer_id": 51974617, "question_id": 51973921, "link": "https://stackoverflow.com/questions/51973921/which-way-of-object-instance-creation-is-the-fastest-in-typescript/51974617#51974617", "title": "Which way of object instance creation is the fastest in TypeScript?", "body": "<p>The same as in JavaScript. There might be the little difference in object creation times, but the noticeable impact on overall performance of the code which uses these types. These options are not equal.</p>\n\n<p>The reason is \"hidden classes\" JIT optimization and things JIT can do with the monomorphic code. If object members are always initialized in the same order, JIT can assign the same \"hidden class\" to all of the type instances and then use this information to access class members using memory offset instead of the expensive hash table lookup. When you iterate through the collection of objects having the same hidden class (or repeatedly call the function with arguments having the same hidden classes) JIT can recognize the monomorphic code and compile the specialized version of the function with excessive type checks omitted, dynamically inline method calls, and do some other magic which makes modern JS VM so fast.</p>\n\n<p>So, in general, the monomorphic code is faster than the polymorphic one, and the order of properties initialization is being used by JIT to determine the \"internal object type\".</p>\n\n<p><a href=\"https://draft.li/blog/2016/12/22/javascript-engines-hidden-classes/\" rel=\"nofollow noreferrer\">https://draft.li/blog/2016/12/22/javascript-engines-hidden-classes/</a></p>\n\n<p><a href=\"https://richardartoul.github.io/jekyll/update/2015/04/26/hidden-classes.html\" rel=\"nofollow noreferrer\">https://richardartoul.github.io/jekyll/update/2015/04/26/hidden-classes.html</a></p>\n\n<p>The easiest and safest way to enable these optimizations is to use the class and make sure that all class members are always initialized in the same order in its constructor <em>which is an option 3 from your example.</em> Option 2 is the worst as there's no guarantee that the \"hidden class\" will be the same for the different class instances, and JIT won't consider them having the same type.</p>\n\n<p>The last but not least. There's nothing obvious about JS JIT performance. Not only JIT engines use slightly different (yet very sophisticated) optimization strategies, but they evolve at a time which makes the majority of articles about JIT internals obsolete in quite a short period of time. However, \"hidden classes\" or similar optimizations allowing JIT to take advantage of the monomorphic code are fundamental for the JS JIT performance.</p>\n\n<p>Anyway, don't guess about performance and don't believe in seemingly obvious things others say. Measure it.</p>\n"}], "owner": {"reputation": 668, "user_id": 914185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5dd67f92acafa637bdadf19c1c664c0?s=128&d=identicon&r=PG", "display_name": "shiva", "link": "https://stackoverflow.com/users/914185/shiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1535057918, "creation_date": 1534966249, "last_edit_date": 1534968742, "question_id": 51973921, "link": "https://stackoverflow.com/questions/51973921/which-way-of-object-instance-creation-is-the-fastest-in-typescript", "title": "Which way of object instance creation is the fastest in TypeScript?", "body": "<p>I have the following 3 different ways of creating an object instance. </p>\n\n<p>I was wondering which of one of these is faster, takes less memory and why?</p>\n\n<pre><code>//Option 1        \nexport interface Animal1 {\n    name: string;\n    color: string;\n    isHungry: boolean;\n}\nlet animal: Animal1 = {\n    name: 'cat',\n    color: 'Brown',\n    isHungry: true\n};\nanimal1.name = 'cat';\nanimal1.color = 'brown';\nanimal1.isHungry = true;\n\n//Option 2   \nexport class Animal2 {\n    name: string;\n    color: string;\n    isHungry: boolean;\n}\nlet animal2: Animal2 = new Animal2();\nanimal2.name = 'cat';\nanimal2.color = 'brown';\nanimal2.isHungry = true;\n\n//Option 3   \nexport class Animal3 {\n    constructor(public name:string, public color:string, public isHungry:boolean) {}\n}\nlet animal3 = new Animal3('cat', 'brown', true);\n</code></pre>\n\n<p>As of coding style and maintenance I prefer option 1 with builder classes in unit testing. Option 3 is the least favourite as it's:</p>\n\n<ul>\n<li>Difficult to create an object easily, you have to set all properties</li>\n<li>Difficult to maintain, every time a new property is added you need to update every single instance creation</li>\n<li>Error prone, when the number of properties with the same type is high, e.g string, string, string. You may set the wrong property.</li>\n</ul>\n\n<p>Is there any performance/memory difference between these three?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1534966463, "post_id": 51973833, "comment_id": 90898285, "body": "&quot;Why don&#39;t I simply use this; it gives the same result&quot;?  Because it&#39;s not type safe: <code>call(&quot;what&quot;,&quot;are&quot;,&quot;you&quot;,&quot;doing&quot;)</code>;"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1534966526, "post_id": 51973833, "comment_id": 90898315, "body": "Do you mean in this case I can pass any type data?"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1534966673, "post_id": 51973833, "comment_id": 90898388, "body": "Also what does mean: <code>TS</code>, and <code>R</code>"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1534967133, "post_id": 51973833, "comment_id": 90898589, "body": "Can I use my own TS, R?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1534967248, "post_id": 51973833, "comment_id": 90898634, "body": "<code>TS</code> and <code>R</code> are generic parameters.  You can use whatever you want.  I don&#39;t understand the question... maybe write some code that shows the issue?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1534967521, "post_id": 51974114, "comment_id": 90898764, "body": "You said: <code>Without tuple rest&#47;spread, you could only strongly type that with a big list of overloads, which is tedious and fragile:</code>, but anyway I need to modify function: <code>function foo(x: number, y: string, z: string): string {}</code> according number of passed parameters."}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1534967639, "post_id": 51974114, "comment_id": 90898811, "body": "I mean in my case I can not call adding a new parameter: <code>let a = call(foo, 100, &quot;Hello&quot;, &quot;sss&quot;, &quot;new&quot;);</code> For that I need to modify function. And modify this funtion so many times how much parameters I passed"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 1, "creation_date": 1534982366, "post_id": 51974114, "comment_id": 90903441, "body": "Your update illustrates that &quot;<code>call()</code> accepts a function and a list of arguments appropriate for that function&quot;, so yes, that&#39;s a correct way to use it."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1534967218, "creation_date": 1534967218, "answer_id": 51974114, "question_id": 51973833, "link": "https://stackoverflow.com/questions/51973833/extension-tuple-in-typescript-3/51974114#51974114", "title": "Extension tuple in TypeScript 3?", "body": "<p>See the <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#tuples-in-rest-parameters-and-spread-expressions\" rel=\"nofollow noreferrer\">TypeScript documentation</a> and the <a href=\"https://github.com/Microsoft/TypeScript/pull/24897\" rel=\"nofollow noreferrer\">relevant pull request</a> introducing this feature for more information.  Since 2015 there has been an <a href=\"https://github.com/Microsoft/TypeScript/issues/5453\" rel=\"nofollow noreferrer\">open feature request</a> in TypeScript, upvoted by hundreds of people, for the ability to manipulate unspecified-length tuples of types, also known as \"variadic kinds\". </p>\n\n<p>The short answer for why this is desirable is quoted in many of those linked documents:</p>\n\n<blockquote>\n  <p>With these features it becomes possible to strongly type a number of higher-order functions that transform functions and their parameter lists.</p>\n</blockquote>\n\n<p>In your example, </p>\n\n<pre><code>function call&lt;TS extends any[], R&gt;(fn: (...args: TS) =&gt; R, ...args: TS): R {\n    return fn(...args);\n}\n</code></pre>\n\n<p>the <code>call()</code> accepts a function and a list of arguments appropriate for that function.  So this works:</p>\n\n<pre><code>call((x: number, y: number) =&gt; x + y, 1, 2);\n</code></pre>\n\n<p>But these don't:</p>\n\n<pre><code>call((x: number, y: number) =&gt; x + y, 1); // error\ncall((x: number, y: number) =&gt; x + y, 1, \"whoops\"); // error\n</code></pre>\n\n<p>Without tuple rest/spread, you could only strongly type that with a big list of <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">overloads</a>, which is tedious and fragile:</p>\n\n<pre><code>function call&lt;R&gt;(fn: () =&gt; R): R;\nfunction call&lt;T0, R&gt;(fn: (t0: T0) =&gt; R, t0: T0): R;\nfunction call&lt;T0, T1, R&gt;(fn: (t0: T0, t1: T1) =&gt; R, t0: T0, t1: T1): R;\nfunction call&lt;T0, T1, T2, R&gt;(fn: (t0: T0, t1: T1, t2: T2) =&gt; R, t0: T0, t1: T1, t2: T2): R;\n// ... more more more \nfunction call(fn: Function, ...args: any[]): any {\n  return fn(...args);\n}\n</code></pre>\n\n<p>Anyway, if you don't find it useful, don't use it.  It will probably be most used in libraries, or other places where type manipulation is important.</p>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "accepted_answer_id": 51974114, "answer_count": 1, "score": 0, "last_activity_date": 1534968373, "creation_date": 1534965961, "last_edit_date": 1534968373, "question_id": 51973833, "link": "https://stackoverflow.com/questions/51973833/extension-tuple-in-typescript-3", "title": "Extension tuple in TypeScript 3?", "body": "<p>TypeScript 3 brings a new feature as extension of tuple to use rest parameters with any type.</p>\n\n<p>It looks like this:</p>\n\n<pre><code>function call&lt;TS extends any[], R&gt;(fn: (...args: TS) =&gt; R, ...args: TS): R {\n    return fn(...args);\n}\n\nfunction foo(x: number, y: string): string {\n    return (x + y).toLowerCase();\n}\n\n// The `TS` type parameter is inferred as `[number, string]`\nlet a = call(foo, 100, \"Hello\");\n\nconsole.log(a);\n</code></pre>\n\n<p>What is main reason to use it, I can not understand advantage of this code</p>\n\n<p>As I got this right, it allows to pass any parameters to function with any type.</p>\n\n<p>Why dont use simple this, it gives the same result:</p>\n\n<pre><code>function call(fn, ...args) {\n    return fn(...args);\n}\nfunction foo(x: number, y: string, z: string): string {\n    return (x + y + z).toLowerCase();\n}\n\n// The `TS` type parameter is inferred as `[number, string]`\nlet a = call(foo, 100, \"Hello\", \"sss\");\n\nconsole.log(a);\n</code></pre>\n\n<p>I think advantage in this:</p>\n\n<pre><code>function call&lt;TS extends number[], R&gt;(fn: (...args: TS) =&gt; R, ...args: TS): R {\n    return fn(...args);\n}\n\nfunction foo(x: number, y: number):number {\n    return x + y;\n}\n\nfunction foo2(x: number):number {\n    return x;\n}\n\n// The `TS` type parameter is inferred as `[number, string]`\n\nlet a = call((x: number, y: number) =&gt; x + y, 1, 2);\nlet b = call((x: number) =&gt; x, 1);\n\nconsole.log(a);\nconsole.log(b);\n</code></pre>\n\n<p>When TypeScript automaticly understands which function call depends of parameters.</p>\n"}, {"tags": ["typescript", "redux", "ngrx", "ngxs", "akita"], "answers": [{"tags": [], "owner": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "is_accepted": true, "score": 3, "last_activity_date": 1534966075, "last_edit_date": 1592644375, "creation_date": 1534966075, "answer_id": 51973871, "question_id": 51973463, "link": "https://stackoverflow.com/questions/51973463/benefit-of-keeping-user-interface-state-in-a-redux-store/51973871#51973871", "title": "Benefit of keeping user interface state in a Redux store?", "body": "<p>Per the <a href=\"https://redux.js.org/faq/organizingstate#do-i-have-to-put-all-my-state-into-redux-should-i-ever-use-reacts-setstate\" rel=\"nofollow noreferrer\">Redux FAQ entry on how to split state between the store and components</a>:</p>\n<blockquote>\n<p>There is no \u201cright\u201d answer for this. Some users prefer to keep every single piece of data in Redux, to maintain a fully serializable and controlled version of their application at all times. Others prefer to keep non-critical or UI state, such as \u201cis this dropdown currently open\u201d, inside a component's internal state.</p>\n<p><em><strong>Using local component state is fine</strong></em>.  As a developer, it is <em>your</em> job to determine what kinds of state make up your application, and where each piece of state should live.  Find a balance that works for you, and go with it.</p>\n<p>Some common rules of thumb for determining what kind of data should be put into Redux:</p>\n<ul>\n<li>Do other parts of the application care about this data?</li>\n<li>Do you need to be able to create further derived data based on this original data?</li>\n<li>Is the same data being used to drive multiple components?</li>\n<li>Is there value to you in being able to restore this state to a given point in time (ie, time travel debugging)?</li>\n<li>Do you want to cache the data (ie, use what's in state if it's already there instead of re-requesting it)?</li>\n</ul>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1590, "user_id": 8894424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T1tyX.jpg?s=128&g=1", "display_name": "nbwoodward", "link": "https://stackoverflow.com/users/8894424/nbwoodward"}, "is_accepted": false, "score": 2, "last_activity_date": 1534966551, "creation_date": 1534966551, "answer_id": 51973986, "question_id": 51973463, "link": "https://stackoverflow.com/questions/51973463/benefit-of-keeping-user-interface-state-in-a-redux-store/51973986#51973986", "title": "Benefit of keeping user interface state in a Redux store?", "body": "<p>One thing to consider is when you use component state and a component is unmounted and remounted again, it's state is generally lost. If the component stores all of it's state in redux, then it's state can be kept. </p>\n\n<p>This is often a factor when I use react-router in conjunction with redux. Some pages I want to navigate away from and return to them in the same state.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 51973871, "answer_count": 2, "score": -1, "last_activity_date": 1534966551, "creation_date": 1534964301, "question_id": 51973463, "link": "https://stackoverflow.com/questions/51973463/benefit-of-keeping-user-interface-state-in-a-redux-store", "title": "Benefit of keeping user interface state in a Redux store?", "body": "<p>The NGRX <a href=\"https://stackblitz.com/github/ngrx/platform/tree/61cbfe537f9df8cef3dd4a6ee0b8f483e49653f4\" rel=\"nofollow noreferrer\">official demo application</a> keeps layout state in the store.</p>\n\n<p>This <a href=\"https://engineering.datorama.com/i-built-the-ngrx-demo-app-with-akita-heres-the-result-57f83fe92192\" rel=\"nofollow noreferrer\">Akita Article</a> also keeps state like <code>searchTerm</code> etc in the Akita <code>EntityStore&lt;Book&gt;</code>.  </p>\n\n<p>Just curious whether there there are additional benefits to keeping user interface state in the store, instead of only in UI components?</p>\n"}, {"tags": ["angular", "typescript", "p5.js"], "comments": [{"owner": {"reputation": 11748, "user_id": 225780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a7783d4be71d80dc94eb249e3476d17?s=128&d=identicon&r=PG", "display_name": "Adrian F&#226;ciu", "link": "https://stackoverflow.com/users/225780/adrian-f%c3%a2ciu"}, "edited": false, "score": 0, "creation_date": 1534963592, "post_id": 51973261, "comment_id": 90896984, "body": "You can give an execution context to the function, for example using bind: new p5(this.sketch.bind(this)). Have a look <a href=\"https://stackoverflow.com/questions/3127429/how-does-the-this-keyword-work#3127609\">here</a> to understand more about this in js."}, {"owner": {"reputation": 2005, "user_id": 3790725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecba4e24af91dd454a6cebb8ee2941db?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 Karpacki", "link": "https://stackoverflow.com/users/3790725/micha%c5%82-karpacki"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534964707, "post_id": 51973261, "comment_id": 90897503, "body": "Hmm... @MattMcCutchen isn&#39;t the <code>this.myWidth</code> in a lambda? It should not have a separate context."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534965825, "post_id": 51973261, "comment_id": 90898005, "body": "The <code>this.myWidth</code> has the same context as the surrounding <code>sketch</code> method.  The problem is the line in <code>createTheCanvas</code> that passes <code>this.sketch</code> to <code>new p5</code>."}], "owner": {"reputation": 19, "user_id": 10100701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04a9f087244258c0327452a52bdd70d0?s=128&d=identicon&r=PG&f=1", "display_name": "Mukund", "link": "https://stackoverflow.com/users/10100701/mukund"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1534965731, "answer_count": 0, "score": 0, "last_activity_date": 1534963476, "creation_date": 1534963395, "last_edit_date": 1534963476, "question_id": 51973261, "link": "https://stackoverflow.com/questions/51973261/how-to-access-angular-component-class-variables-in-p5-instance", "closed_reason": "Duplicate", "title": "How to access angular component class variables in p5 instance", "body": "<pre><code>export class MyComponent implements OnInit\n{\n    private p5;\n\n    myWidth = 200;\n\n    private sketch(p: p5) {\n        p.setup = () =&gt; {\n          let canvas = p.createCanvas(this.myWidth, this.myWidth);\n        };\n\n        p.draw = function(){\n          p.background(255);\n          p.fill(0);\n          p.rect(p.width / 2, p.height / 2, 50, 50);\n        };\n    }\n\n    private createTheCanvas() {\n        this.p5 = new p5(this.sketch);\n    }\n\n    ngOnInit()\n    {\n        this.createTheCanvas();\n    }\n}\n</code></pre>\n\n<p>Here, the error is this.myWidth is undefined</p>\n\n<p>Now the question is how do I access variables in class MyComponent in draw or setup function of p5</p>\n"}, {"tags": ["javascript", "typescript", "npm", "amazon-dynamodb", "aws-sdk"], "answers": [{"comments": [{"owner": {"reputation": 4820, "user_id": 1059608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/veRcx.png?s=128&g=1", "display_name": "jimpic", "link": "https://stackoverflow.com/users/1059608/jimpic"}, "edited": false, "score": 0, "creation_date": 1534965459, "post_id": 51973188, "comment_id": 90897844, "body": "The only thing that gave a partial success so far was this: declare module &quot;aws-sdk/lib/dynamodb/document_client&quot; {     interface DocumentClient {         configCache(config?: any): void     } } - but now I get &quot;TypeError: Cannot read property &#39;getItem&#39; of undefined       at Object.get (node_modules/aws-sdk/lib/dynamodb/document_client.js:265:32&zwnj;&#8203;)&quot;"}], "tags": [], "owner": {"reputation": 606, "user_id": 5991722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3318de058ed875d4fd3817865bdac26?s=128&d=identicon&r=PG&f=1", "display_name": "CrudaLilium", "link": "https://stackoverflow.com/users/5991722/crudalilium"}, "is_accepted": false, "score": 0, "last_activity_date": 1534963106, "creation_date": 1534963106, "answer_id": 51973188, "question_id": 51973048, "link": "https://stackoverflow.com/questions/51973048/use-extension-from-javascript-import-in-typescript/51973188#51973188", "title": "Use extension from JavaScript import in TypeScript", "body": "<p>It might differ based on module system you are using, but declare global is probably what you are looking for:\n<a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html#global-augmentation\" rel=\"nofollow noreferrer\">Declaration Merging</a></p>\n\n<pre><code>declare global {\n    namespace AWS.DynamoDB\n    {\n        interface DocumentClient {\n            configCache(config: any): void\n        }\n    }\n}\n</code></pre>\n\n<p>You might have to omit AWS.DynamoDB, can't really validate the code atm.</p>\n"}], "owner": {"reputation": 4820, "user_id": 1059608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/veRcx.png?s=128&g=1", "display_name": "jimpic", "link": "https://stackoverflow.com/users/1059608/jimpic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534963106, "creation_date": 1534962498, "question_id": 51973048, "link": "https://stackoverflow.com/questions/51973048/use-extension-from-javascript-import-in-typescript", "title": "Use extension from JavaScript import in TypeScript", "body": "<p>I am trying to use the <code>dynamo-cache</code> <code>npm</code> module in my <code>TypeScript</code> project. Basically, the module adds a new method to <code>AWS.DynamoDB.DocumentClient</code>:</p>\n\n<pre><code>AWS.DynamoDB.DocumentClient.prototype.configCache = function(config) { ... }\n</code></pre>\n\n<p>That way, calling <code>configCache()</code> on any <code>AWS.DynamoDB.DocumentClient</code> will enable the cache. However, <code>TypeScript</code> doesn't know about this method. I tried to declare an interface like this</p>\n\n<pre><code>interface AWS.DynamoDB.DocumentClient {\n    configCache(config: any): void\n}\n</code></pre>\n\n<p>but TypeScript refuses to know about <code>DynamoDB</code> or dot notation is not allowed in interface declarations. Also, explicitly importing <code>DocumentClient</code> causes a conflict when I declare an interface with the same name. How can I make this work?</p>\n"}, {"tags": ["javascript", "typescript", "angular-material2"], "answers": [{"comments": [{"owner": {"reputation": 1027, "user_id": 336431, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xLTv0.jpg?s=128&g=1", "display_name": "Devin", "link": "https://stackoverflow.com/users/336431/devin"}, "edited": false, "score": 0, "creation_date": 1535052348, "post_id": 51989639, "comment_id": 90935498, "body": "Perhaps I wasn&#39;t clear in my question. I&#39;m definitely calling the method directly, since there&#39;s no need for me to trigger the event (as you pointed.) I don&#39;t know how to mock the event. I tried instantiating a new MatAutocompleteSelectedEvent but don&#39;t know how to pass in the constructor arguments."}, {"owner": {"reputation": 586, "user_id": 6782043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mlI8G.png?s=128&g=1", "display_name": "Neamesis", "link": "https://stackoverflow.com/users/6782043/neamesis"}, "reply_to_user": {"reputation": 1027, "user_id": 336431, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xLTv0.jpg?s=128&g=1", "display_name": "Devin", "link": "https://stackoverflow.com/users/336431/devin"}, "edited": false, "score": 0, "creation_date": 1590422672, "post_id": 51989639, "comment_id": 109667354, "body": "Hello @Devin, did you solve the problem ? I have the same one :/"}, {"owner": {"reputation": 1027, "user_id": 336431, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xLTv0.jpg?s=128&g=1", "display_name": "Devin", "link": "https://stackoverflow.com/users/336431/devin"}, "reply_to_user": {"reputation": 586, "user_id": 6782043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mlI8G.png?s=128&g=1", "display_name": "Neamesis", "link": "https://stackoverflow.com/users/6782043/neamesis"}, "edited": false, "score": 1, "creation_date": 1590436487, "post_id": 51989639, "comment_id": 109673894, "body": "@Neamesis Sorry, I don&#39;t have access to the code base anymore mate. Perhaps you could check the Angular src code to see how they handle tests? It&#39;s quite comprehensive."}], "tags": [], "owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "is_accepted": false, "score": 1, "last_activity_date": 1535039106, "creation_date": 1535039106, "answer_id": 51989639, "question_id": 51972969, "link": "https://stackoverflow.com/questions/51972969/angular-material-autocomplete-testing-events/51989639#51989639", "title": "Angular material autocomplete: testing events", "body": "<p>There are a couple of options. You can either call the method directly from your test, or trigger the method using <code>DebugElement.triggerEventHandler</code>. In both cases you need to create the event object yourself or mock it and test for the expected results.</p>\n\n<p>If you want to actually force a manual selection, for example open the list and generate a click event on one of the options, I don't think this is possible (I have tried and searched to no avail - if someone knows how, please post the answer). Arguably, this isn't necessary because it doesn't accomplish anything more than one of the above approaches other than making sure that MatAutocomplete makes selections properly, and you shouldn't have to test that IMO.</p>\n"}, {"tags": [], "owner": {"reputation": 12022, "user_id": 1487809, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QzWe4.jpg?s=128&g=1", "display_name": "Daniel Olszewski", "link": "https://stackoverflow.com/users/1487809/daniel-olszewski"}, "is_accepted": false, "score": 2, "last_activity_date": 1611757619, "creation_date": 1611757619, "answer_id": 65921143, "question_id": 51972969, "link": "https://stackoverflow.com/questions/51972969/angular-material-autocomplete-testing-events/65921143#65921143", "title": "Angular material autocomplete: testing events", "body": "<p>Instead of creating a whole Event object, you can create only a plain object with values required only by the test and use the <strong>as</strong> keyword to inform the compiler to treat this object as MatAutocompleteSelectedEvent .</p>\n<pre><code>// given\nconst newValue = 'something';\nconst event: MatAutocompleteSelectedEvent = {\n  option: {\n    value: newValue\n  }\n} as MatAutocompleteSelectedEvent;\n// when\ncomponent.onSelect(event);\n// then\nexpect(component.selectedOption).toEqual(newValue);\n</code></pre>\n"}], "owner": {"reputation": 1027, "user_id": 336431, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xLTv0.jpg?s=128&g=1", "display_name": "Devin", "link": "https://stackoverflow.com/users/336431/devin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1253, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1611757619, "creation_date": 1534962127, "last_edit_date": 1535052457, "question_id": 51972969, "link": "https://stackoverflow.com/questions/51972969/angular-material-autocomplete-testing-events", "title": "Angular material autocomplete: testing events", "body": "<p>How do I test events in Angular Material Autocomplete? I'm trying to test this code and would like to know how to pass in the <code>event</code> argument to the method:</p>\n\n<pre><code>onOptionSelect(event: MatAutocompleteSelectedEvent) {\n  this.selectedOption = event.option.value;\n}\n</code></pre>\n\n<p><strong>Edit</strong>: To clarify, I'd like to know how to mock an event of type <code>MatAutocompleteSelectedEvent</code> so that I can pass it to my method in test.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 435, "user_id": 5998656, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2Kj8J.jpg?s=128&g=1", "display_name": "Snowman08", "link": "https://stackoverflow.com/users/5998656/snowman08"}, "edited": false, "score": 0, "creation_date": 1535021350, "post_id": 51973404, "comment_id": 90917406, "body": "Thank you at what point would I be able to access the objects using the dot notation, I&#39;m a little confused. @Vaibhav Kumar Goyal"}, {"owner": {"reputation": 1361, "user_id": 1601399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D9bVZ.jpg?s=128&g=1", "display_name": "Vaibhav Kumar Goyal", "link": "https://stackoverflow.com/users/1601399/vaibhav-kumar-goyal"}, "reply_to_user": {"reputation": 435, "user_id": 5998656, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2Kj8J.jpg?s=128&g=1", "display_name": "Snowman08", "link": "https://stackoverflow.com/users/5998656/snowman08"}, "edited": false, "score": 0, "creation_date": 1535039255, "post_id": 51973404, "comment_id": 90928912, "body": "@Snowman08 just after  this line <code>console.log(data);</code> you have the json in data  object you can access its specific properties using the dot notation"}], "tags": [], "owner": {"reputation": 1361, "user_id": 1601399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D9bVZ.jpg?s=128&g=1", "display_name": "Vaibhav Kumar Goyal", "link": "https://stackoverflow.com/users/1601399/vaibhav-kumar-goyal"}, "is_accepted": true, "score": 0, "last_activity_date": 1534963967, "creation_date": 1534963967, "answer_id": 51973404, "question_id": 51972663, "link": "https://stackoverflow.com/questions/51972663/issue-exporting-object-to-csv-using-angular/51973404#51973404", "title": "Issue exporting object to CSV using Angular", "body": "<p>All you have to do is access specific keys from the data which can be done in the naive way of looping through the JSON and selecting specific keys using dot notation ie.. <code>data.name</code> etc. and make a new JSON out of these properties and send that JSON across</p>\n\n<p>So your code would change like </p>\n\n<pre><code>let csv = newJSON.map(row =&gt; header.map(fieldName =&gt; JSON.stringify\n(row[fieldName], replacer)).join(','));\n       csv.unshift(actualheader.join(','));\n       let csvArray = csv.join('\\r\\n');\n\n       var blob = new Blob([csvArray], { type: 'text/csv' })\n       saveAs(blob, \"myFile.csv\");\n   }\n</code></pre>\n"}], "owner": {"reputation": 435, "user_id": 5998656, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/2Kj8J.jpg?s=128&g=1", "display_name": "Snowman08", "link": "https://stackoverflow.com/users/5998656/snowman08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 2, "accepted_answer_id": 51973404, "answer_count": 1, "score": 4, "last_activity_date": 1534963967, "creation_date": 1534960829, "last_edit_date": 1592644375, "question_id": 51972663, "link": "https://stackoverflow.com/questions/51972663/issue-exporting-object-to-csv-using-angular", "title": "Issue exporting object to CSV using Angular", "body": "<p>I'm exporting my object to a csv and I would like to fix up formatting\nissues with my object. However I'm able to figure out how to customize my\nobject values. I would like to leave the id off the csv and format the\namount into currency, any help would be greatly appreciated.  I included a\nscreen shot of what I would like it to look like on the left and what it\ncurrently looks like on the right.</p>\n<h3>Here is my employee.component.ts</h3>\n<pre><code>export class FetchEmployeeComponent {\n\n   public empList: EmployeeData[];\n\n   exportEsker(data: any) {\n\n       const replacer = (key, value) =&gt; value === null ? '' : value;\n       const header = Object.keys(data[0]);\n\n       //Leave off ID col and format Amount as currency????\n       const actualheader = [&quot;Employee Name&quot;, &quot;Employee No.&quot;, &quot;Pur. Type&quot;,\n&quot;B/P&quot;, &quot;Amount&quot;];\n       console.log(header);\n\n       console.log(data);\n       let csv = data.map(row =&gt; header.map(fieldName =&gt; JSON.stringify\n(row[fieldName], replacer)).join(','));\n       csv.unshift(actualheader.join(','));\n       let csvArray = csv.join('\\r\\n');\n\n       var blob = new Blob([csvArray], { type: 'text/csv' })\n       saveAs(blob, &quot;myFile.csv&quot;);\n   }\n\n\n   term: string = &quot;&quot;;\n}\n\ninterface EmployeeData {\n\n   id: number;\n\n   name: string;\n\n   empno: string;\n\n   purtype: string;\n\n   bp: string;\n\n   amount: number;\n}\n</code></pre>\n<h2>console logged data of my object</h2>\n<pre><code>[\n {\n\n    &quot;id&quot;: 8,\n\n    &quot;name&quot;: &quot;Jeffery W&quot;,\n\n    &quot;empno&quot;: &quot;80&quot;,\n\n    &quot;purtype&quot;: &quot;TLS&quot;,\n\n    &quot;bp&quot;: &quot;B&quot;,\n\n    &quot;amount&quot;: &quot;20.00&quot;\n },\n\n   {\n\n    &quot;id&quot;: 9,\n\n    &quot;name&quot;: &quot;Robert P&quot;,\n\n    &quot;empno&quot;: &quot;101&quot;,\n\n    &quot;purtype&quot;: &quot;UNI&quot;,\n\n    &quot;bp&quot;: &quot;B&quot;,\n\n    &quot;amount&quot;: &quot;9.34&quot;\n },\n\n    {\n\n    &quot;id&quot;: 10,\n\n    &quot;name&quot;: &quot;Douglas B&quot;,\n\n    &quot;empno&quot;: &quot;268&quot;,\n\n    &quot;purtype&quot;: &quot;UNI&quot;,\n\n    &quot;bp&quot;: &quot;B&quot;,\n\n    &quot;amount&quot;: &quot;3.94&quot;\n }\n]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/u2zWp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u2zWp.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["typescript", "generics", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 6267, "user_id": 789253, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76a76ced5a73b8dc2f94798358b57a6d?s=128&d=identicon&r=PG", "display_name": "Shane Hsu", "link": "https://stackoverflow.com/users/789253/shane-hsu"}, "edited": false, "score": 0, "creation_date": 1535010744, "post_id": 51972869, "comment_id": 90911281, "body": "Following your advise, I&#39;m encountering yet another problem, <code>tsc</code> now complains the same exported type being different type with same name. See update."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 6267, "user_id": 789253, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76a76ced5a73b8dc2f94798358b57a6d?s=128&d=identicon&r=PG", "display_name": "Shane Hsu", "link": "https://stackoverflow.com/users/789253/shane-hsu"}, "edited": false, "score": 0, "creation_date": 1535030050, "post_id": 51972869, "comment_id": 90922763, "body": "yes, that&#39;s a different issue and I agree it seems like a compiler bug."}, {"owner": {"reputation": 143, "user_id": 1426210, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0c2be5a6a843deb687c81a218cc98b7?s=128&d=identicon&r=PG&f=1", "display_name": "sKopheK", "link": "https://stackoverflow.com/users/1426210/skophek"}, "edited": false, "score": 0, "creation_date": 1587971614, "post_id": 51972869, "comment_id": 108708632, "body": "when did Constructor&lt;T&gt; disappear from TS?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1587997006, "post_id": 51972869, "comment_id": 108721847, "body": "There has never been a utility type in TS named <code>Constructor&lt;T&gt;</code>, as far as I know.  If you want such a type you have to declare it, as in the question code above."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1534962459, "last_edit_date": 1534962459, "creation_date": 1534961742, "answer_id": 51972869, "question_id": 51972609, "link": "https://stackoverflow.com/questions/51972609/how-to-assert-typescript-generics-type/51972869#51972869", "title": "How to assert TypeScript Generics type", "body": "<p>To get the inference right when <em>calling</em> <code>make</code>, it's best for its signature to require the simplest inference possible.  That means: give the compiler the fewest places for it to make decisions, and make those decisions as straightforward as you can.  For example, have only one type parameter which corresponds exactly to the type of the <code>ctor</code> parameter, and then use conditional types to calculate the related type of the output.  Like this:</p>\n\n<pre><code>declare function make&lt;C extends Constructor&lt;any&gt;&gt;(ctor: C): \n  MappedResult&lt;C extends Constructor&lt;infer T&gt; ? T : never&gt;;\n</code></pre>\n\n<p>Now, you get</p>\n\n<pre><code>const str = make(String); // string\n</code></pre>\n\n<hr>\n\n<p>As for the error inside the <em>implementation</em> of <code>make</code>, the compiler is generally not clever enough to <a href=\"https://github.com/Microsoft/TypeScript/issues/17859\" rel=\"nofollow noreferrer\">narrow the type of a generic type parameter</a> like <code>C</code> to <code>StringConstructor</code>, and will complain. The easiest way to deal with that is usually to use a single <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">overload</a> for the caller signature and make the implementation signature more permissive (but less type safe).  For example:</p>\n\n<pre><code>function make&lt;C extends Constructor&lt;any&gt;&gt;(ctor: C): MappedResult&lt;C extends Constructor&lt;infer T&gt; ? T : never&gt;;\nfunction make(ctor: Constructor&lt;any&gt;): any {\n    if (ctor === String) { return '' } // no error now\n    throw new Error()\n}\n</code></pre>\n\n<p>That works, but you have to be careful with the implementation since the return type is <code>any</code>.  It's similar to an assertion.  Not sure if there's a clever way to guarantee type safety here... but you probably don't need it.</p>\n\n<hr>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 6267, "user_id": 789253, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76a76ced5a73b8dc2f94798358b57a6d?s=128&d=identicon&r=PG", "display_name": "Shane Hsu", "link": "https://stackoverflow.com/users/789253/shane-hsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 51972869, "answer_count": 1, "score": 1, "last_activity_date": 1535012492, "creation_date": 1534960584, "last_edit_date": 1535012492, "question_id": 51972609, "link": "https://stackoverflow.com/questions/51972609/how-to-assert-typescript-generics-type", "title": "How to assert TypeScript Generics type", "body": "<p>I'm trying to synthesize these overloads with mapped type and generics,</p>\n\n<pre><code>function x(_: BooleanConstructor): boolean\nfunction x(_: StringConstructor): string\nfunction x(_: NumberConstructor): number\nfunction x&lt;T&gt;(_: Constructor&lt;T&gt;): T\n</code></pre>\n\n<p>But I am having lots of difficulties, especially this,</p>\n\n<p>I am wondering why the following code <a href=\"https://agentcooper.github.io/typescript-play/?experimentalDecorators=true&amp;emitDecoratorMetadata=true&amp;target=5#code/KYDwDg9gTgLgBDAnmYcDCEB2BnGUCuAxjNADwAqAfHALxybADucAFAHQcCGUA5tgFxxOmRAG0AugEpa1cgChQkWAmSoAspzAoAJgCVg2fABsYFajTlwrccnFAxgmbdjgAhCBCPBhcAPxwAIw8vH35La1t7R2c4ADl8AFsA4Cg-ekTk1LDrGzsQBycXAGU8AEtMHjTcKHLK7Ii5OQAzfExiUqw4BM4Aa2AKABp0ElS6DBw8IhGzIf1DE1o4DS1gPQNjUypKFmJoQTQRyUE5jbgAb3CrUqbWXdGaOhKaiukzuChgGHwoTDgAcj+cAAvpcEAALKAQZgMZgAUSgkKgLEkchBckIWFwcGqi26fVIT1qQ0JFXG1Sm0CG1Vq2xJPBRGImcEYkIqAElME0Uo5CMAnrjesAWHSUUA\" rel=\"nofollow noreferrer\">(open in TypeScript playground)</a> doesn't work.</p>\n\n<pre><code>export type Constructor&lt;T&gt; = new (...args: any[]) =&gt; T\nexport type MappedResult&lt;T&gt; =\n    T extends Boolean ? boolean :\n    T extends Number ? number :\n    T extends String ? string :\n    T\n\nfunction make&lt;T, Ctor = Constructor&lt;T&gt;, Result = MappedResult&lt;T&gt;&gt;(ctor: Ctor): Result {\n    if (ctor === String) { return '' } // would produce error\n    throw new Error()\n}\n\nconst str = make&lt;String, StringConstructor, string&gt;(String) // string!\nconst wrongInferenceStr = make(String) // would be {}\n</code></pre>\n\n<p>My understanding is that <code>T</code> is treated more like the new <code>unknown</code> type in TypeScript 3.0, so I'd have to assert its identity, is there any way around this?</p>\n\n<h2>Update</h2>\n\n<p>Using jcalz's answer, I've tried to use <a href=\"https://agentcooper.github.io/typescript-play/?experimentalDecorators=true&amp;emitDecoratorMetadata=true&amp;target=5#code/KYDwDg9gTgLgBDAnmYcDCEB2BnGUCuAxjNADwAqAfHALxybADucAFAHQcCGUA5tgFxxOmRAG0AugEpa1cgChQkWAmSoAspzAoAJgCVg2fABsYFajTlwrccnFAxgmbdjgAhCBCPBhcAPxwAIw8vH35La1t7R2c4ADl8AFsA4Cg-ekTk1LDrGzsQBycXAGU8AEtMHjTcKHLK7Ii5RvKHKAAzTkJUAA04AG9wq21gQggh0jQ8gpiMHDwiEihSYURKShZiaEE0SUENLWA9A2NTCajC9Cxq+bJy1pSban9bQQYANxTKOQBfRsIjTmwLgAmnBSgkwF4Eo4YC4ev0ckMRmNTvloi4ZlcNotlqt1gstjs4HsdPpDCZxpM0RdZgQsaRbvcqGlnvRgO8oNR4TlrDAABZQCDMBjMACiUAFUBYkgGcB+PyAA\" rel=\"nofollow noreferrer\">this</a>, but with no luck.</p>\n\n<p>In short, I think the compiler is buggy. <a href=\"https://github.com/Microsoft/TypeScript/issues/26627\" rel=\"nofollow noreferrer\">Issue here</a></p>\n"}, {"tags": ["typescript", "localforage"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534959444, "post_id": 51972304, "comment_id": 90895124, "body": "Is the absence of the import in the <code>.d.ts</code> file causing a problem?  TypeScript may be removing imports that are not used by any of the declarations in the <code>.d.ts</code> file."}, {"owner": {"reputation": 1, "user_id": 10261017, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-clz-aLDik1I/AAAAAAAAAAI/AAAAAAAAABA/TYGScvrcFeg/photo.jpg?sz=128", "display_name": "mBiz", "link": "https://stackoverflow.com/users/10261017/mbiz"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534959996, "post_id": 51972304, "comment_id": 90895385, "body": "Yes, I have a problem with the absence of the import in the .d.ts file because if this import is missing, my compiled app shows the error \u201cCannot find module &#39;localforage&#39;\u201d"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534960135, "post_id": 51972304, "comment_id": 90895460, "body": "That&#39;s strange.  What code is that error reported on?  Please add it to the question.  If you manually add the import to the <code>.d.ts</code>, does the error go away?  You can run <code>tsc</code> with the <code>--traceResolution</code> flag to get more information about module resolution."}], "owner": {"reputation": 1, "user_id": 10261017, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-clz-aLDik1I/AAAAAAAAAAI/AAAAAAAAABA/TYGScvrcFeg/photo.jpg?sz=128", "display_name": "mBiz", "link": "https://stackoverflow.com/users/10261017/mbiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534966465, "creation_date": 1534959262, "last_edit_date": 1534966465, "question_id": 51972304, "link": "https://stackoverflow.com/questions/51972304/localforage-not-work-in-build", "title": "localforage not work in build", "body": "<p>I'm using localforage in my code:</p>\n\n<pre><code>import { Inject, Injectable, InjectionToken } from '@angular/core';\nimport * as LocalForage from 'localforage';\nimport { ThfStorageConfig } from './thf-storage-config.interface';\n</code></pre>\n\n<p>but when execute <code>npm run build</code> the file .d.ts, not contains the import of <code>localforage</code>.</p>\n\n<pre><code>import { InjectionToken } from '@angular/core';\nimport { ThfStorageConfig } from './thf-storage-config.interface';\n</code></pre>\n\n<p>just in version 1.4.0 of localforage I have success.</p>\n\n<p>My compiled app shows the error <code>\u201cCannot find module 'localforage'\u201d</code> :(</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 8808994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8afd4ac1fd889ab160d10fac86b1aa68?s=128&d=identicon&r=PG&f=1", "display_name": "hlatimer", "link": "https://stackoverflow.com/users/8808994/hlatimer"}, "is_accepted": true, "score": 1, "last_activity_date": 1535403845, "creation_date": 1535403845, "answer_id": 52046938, "question_id": 51972286, "link": "https://stackoverflow.com/questions/51972286/child-component-loses-parent-table-formatting/52046938#52046938", "title": "Child component loses parent table formatting", "body": "<p>I found that when trying to add an Angular component to a <code>&lt;tr&gt;</code> element the compiler looks for a <code>&lt;td&gt;</code> element so placing a selector inside the <code>&lt;tr&gt;</code> tag like so <code>&lt;tr&gt;&lt;app-addBin&gt;&lt;/app-addBin&lt;/td&gt;</code> will not result in the component rendering inside the table as a <code>&lt;td&gt;</code> but will cram the entire component html template inside one column. By adding an attribute selector (I think that's what this is called) to the component i.e. <code>selector: 'app-addbin, [app-addbin]',</code>  you can add the selector directly to the <code>&lt;td&gt;</code> element like so <code>&lt;td app-addBin&gt;&lt;/td&gt;</code> and now the <code>&lt;td&gt;</code> elements inside the component html template will render correctly inside the table.</p>\n"}], "owner": {"reputation": 63, "user_id": 8808994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8afd4ac1fd889ab160d10fac86b1aa68?s=128&d=identicon&r=PG&f=1", "display_name": "hlatimer", "link": "https://stackoverflow.com/users/8808994/hlatimer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 1, "accepted_answer_id": 52046938, "answer_count": 1, "score": 0, "last_activity_date": 1535403845, "creation_date": 1534959184, "question_id": 51972286, "link": "https://stackoverflow.com/questions/51972286/child-component-loses-parent-table-formatting", "title": "Child component loses parent table formatting", "body": "<p>Currently I have a bootstrap table that displays a list of results. I have a button that when pressed I want a new row to appear with inputs at the bottom of the current table. The issue I am having is that the html in my child component doesn't retain the formatting of my parent component's bootstrap table (all three of the <code>&lt;td&gt;</code> rows are crammed into one column on the parent table). Below is my parent component. The child component selector is <code>&lt;app-addBin&gt;</code>. Does anyone know how to get a child component to retain the formatting of the parent compoent's table?</p>\n\n<pre><code> &lt;table class = 'table'&gt; \n            &lt;thead&gt;&lt;!--Start of affected code--&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;Bin ID&lt;/th&gt;\n                    &lt;th&gt;Exclude MRB Xfer&lt;/th&gt;\n                    &lt;th&gt;Status&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                 &lt;tr *ngFor= 'let value of values' &gt;\n                    &lt;td class=\"binId\" align=\"align-left\" &gt;{{value.binId}}&lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;button type=\"button\" class=\"btn btn-success\" name='excludeMrbxfer' \n                        [(ngModel)] = \"values.excludeMrbxfer\" (click)='toggleChange(value)'&gt;\n                        {{value.excludeMrbxfer | yesNo}}&lt;/button&gt;   \n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;button type=\"button\" class=\"btn btn-success\" name='status' \n                        [(ngModel)] = \"values.status\" (click)='toggleChangeStatus(value)'&gt;\n                        {{value.status | status}}&lt;/button&gt; \n                    &lt;/td&gt;\n                 &lt;/tr&gt;\n                 &lt;tr *ngIf=\"isFoo\"&gt;&lt;app-addBin&gt;&lt;/app-addBin&gt;&lt;tr&gt;\n                        &lt;button type=\"button\" class=\"btn btn-primary\" name='status' (click)=\"isFoo =!isFoo\"\n                        &gt;{{isFoo ? 'Cancel' : 'New'}}&lt;/button&gt;   \n                    &lt;/tr&gt;  \n</code></pre>\n\n<p>Here is the html from my child component</p>\n\n<pre><code>                     &lt;td&gt;\n                         &lt;select &gt;\n                            &lt;option *ngFor='let value of values' [value]='values.binId'&gt;{{value.binId}}&lt;/option&gt;\n                        &lt;/select&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;&lt;button type=\"button\" class=\"btn btn-success\" name='excludeMrbxfer' \n                        [(ngModel)] = \"newBin.excludeMrbxfer\" (click)='toggleChange(newBin)'&gt;\n                        {{newBin.excludeMrbxfer | yesNo}}&lt;/button&gt; &lt;/td&gt;\n                    &lt;td&gt;&lt;button type=\"button\" class=\"btn btn-success\" name='status' \n                        [(ngModel)] = \"newBin.status\" (click)='toggleChangeStatus(newBin)'&gt;\n                        {{newBin.status | status}}&lt;/button&gt; &lt;/td&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "node-modules"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534957713, "post_id": 51971849, "comment_id": 90894357, "body": "Looks like you have an extra colon in your <code>package.json</code>: <code>&quot;main:&quot;: &quot;vectorMath.js&quot;</code> should be <code>&quot;main&quot;: &quot;vectorMath.js&quot;</code>.  See if that fixes it.  Otherwise look at the output of <code>tsc</code> with the <code>--traceResolution</code> flag for more hints."}, {"owner": {"reputation": 1213, "user_id": 1447559, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35dbe660c40f878f620aeb727abd51a2?s=128&d=identicon&r=PG", "display_name": "MWinstead", "link": "https://stackoverflow.com/users/1447559/mwinstead"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534958292, "post_id": 51971849, "comment_id": 90894612, "body": "Sorry - it looks like that was an error that I added in when copying everything over to stackoverflow. I&#39;ve updated the file to show the correct contents. I&#39;ll check out --traceResolution"}, {"owner": {"reputation": 585, "user_id": 3320132, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/975f0d301619bdde271f1ae5f7be470b?s=128&d=identicon&r=PG&f=1", "display_name": "VeldMuijz", "link": "https://stackoverflow.com/users/3320132/veldmuijz"}, "edited": false, "score": 0, "creation_date": 1535024583, "post_id": 51971849, "comment_id": 90919318, "body": "The trace give you a hint that node_modules directory cannot be found.   <code>Directory &#39;c:&#47;Develop&#47;NodeScripts&#47;Typescript Project Test&#47;src&#47;node_modules&#39; does  not exist, skipping all lookups in it.</code>  Could it be that your node_modules is either unreadable or in a different location than <code>tsc</code> is expecting it to be (e.g. not the root of the project)"}, {"owner": {"reputation": 1213, "user_id": 1447559, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35dbe660c40f878f620aeb727abd51a2?s=128&d=identicon&r=PG", "display_name": "MWinstead", "link": "https://stackoverflow.com/users/1447559/mwinstead"}, "edited": false, "score": 0, "creation_date": 1535024963, "post_id": 51971849, "comment_id": 90919530, "body": "That&#39;s correct - but I believe it later finds the directory at the project root, /Typescript Project Test/node_modules. The resolution strategy - as I understand it - starts from the directory of the file with the import statement, and if no matching module can be found, starts walking up the directory structure. Which is what happened here - nothing found in /src, so we step up to /Typescript Project Test and sure enough find a node_modules directory."}], "answers": [{"comments": [{"owner": {"reputation": 50, "user_id": 10854888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PVJ16.png?s=128&g=1", "display_name": "koral", "link": "https://stackoverflow.com/users/10854888/koral"}, "edited": false, "score": 1, "creation_date": 1585914958, "post_id": 56877206, "comment_id": 107938474, "body": "In my case I needed <code>&quot;moduleResolution&quot;: &quot;node&quot;</code> and also <code>&quot;allowJs&quot;: true</code>. Great tip!"}], "tags": [], "owner": {"reputation": 1414, "user_id": 340142, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/873b9af973d3001201c4ffdf79341624?s=128&d=identicon&r=PG", "display_name": "Marecky", "link": "https://stackoverflow.com/users/340142/marecky"}, "is_accepted": false, "score": 15, "last_activity_date": 1566812045, "last_edit_date": 1566812045, "creation_date": 1562184212, "answer_id": 56877206, "question_id": 51971849, "link": "https://stackoverflow.com/questions/51971849/typescript-cannot-find-module-in-node-modules-that-i-created-myself-locally/56877206#56877206", "title": "Typescript cannot find module in node_modules that I created myself locally", "body": "<p>I also hit this issue, so for future wanderers, if your new NodeJS TypeScript application stub does not recognize harmony (ES6) imports just add \"compilerOptions.moduleResolution\":\"node\" to yours project tsconfig.json:</p>\n\n<p>Here is my setup for TensorFlow.js:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"skipLibCheck\": true,\n    \"target\": \"ES2018\",\n    \"module\": \"es2015\",\n    \"outDir\": \"./dist\",\n    \"rootDir\": \"./src\",\n    \"strict\": true,\n    \"noImplicitAny\": true,\n    \"alwaysStrict\": true\n    \"moduleResolution\": \"node\"\n  }\n}\n</code></pre>\n\n<p>Citation after <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#module-resolution-strategies\" rel=\"noreferrer\">manual</a>:</p>\n\n<blockquote>\n  <p>There are two possible module resolution strategies: Node and Classic. You can use the --moduleResolution flag to specify the module resolution strategy. If not specified, the default is Classic for --module AMD | System | ES2015 or Node otherwise.</p>\n</blockquote>\n\n<p><strong>TL;DR; \"classic\" strategy does not search node_modules directory!</strong></p>\n"}], "owner": {"reputation": 1213, "user_id": 1447559, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35dbe660c40f878f620aeb727abd51a2?s=128&d=identicon&r=PG", "display_name": "MWinstead", "link": "https://stackoverflow.com/users/1447559/mwinstead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5297, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1566812045, "creation_date": 1534957352, "last_edit_date": 1535020299, "question_id": 51971849, "link": "https://stackoverflow.com/questions/51971849/typescript-cannot-find-module-in-node-modules-that-i-created-myself-locally", "title": "Typescript cannot find module in node_modules that I created myself locally", "body": "<p>I'm teaching myself more about how to create node modules and how to use typescript. To accomplish this, I've attempted to create my own node module locally, and reference it in a project - however, typescript doesn't seem to recognize my module.</p>\n\n<p>The node module I've created is a simple library for doing matrix / vector operations, since I'll be toying around with such things. I've created a folder inside my project's node_modules directory, which has the following files:</p>\n\n<pre><code>node_modules\n  XVectorMath\n    package.json\n    vectorMath.js\n    vectorMath.d.ts\n</code></pre>\n\n<p>This is the output of a separate typescript project which compiled these files. These are the contents of the relevant files:</p>\n\n<p><strong>XVectorMath/package.json</strong></p>\n\n<pre><code>{\n\"name\": \"XVectorMath\",\n\"version\": \"0.1.0\",\n\"main\": \"vectorMath.js\",\n\"types\": \"vectorMath.d.ts\"\n}\n</code></pre>\n\n<p><strong>XVectorMath/vectorMath.d.ts</strong></p>\n\n<pre><code>export declare class Vector3 {\n    constructor(x?: number, y?: number, z?: number);\n    x: number;\n    y: number;\n    z: number;\n    angle(): number;\n    magnitude(): number;\n    addVector3(b: Vector3): Vector3;\n    subtractVector(b: Vector3): Vector3;\n    divide(a: number): Vector3;\n    scale(a: number): Vector3;\n    normalize(): Vector3;\n    dotProduct(b: Vector3): number;\n}\nexport declare class Matrix3 {\n    constructor(m?: any);\n    value: number[][];\n    getRowVector(n: number): Vector3;\n    getColumnVector(n: number): Vector3;\n    multiplyMatrix3(m: Matrix3): Matrix3;\n    addMatrix3(m: Matrix3): Matrix3;\n}\n</code></pre>\n\n<p>I haven't included the contents of vectorMath.js, because it's a little lengthy and doesn't seem to be relevant.</p>\n\n<p>Elsewhere in my project I have a main.ts file, with the following import statement:</p>\n\n<p><strong>src/main.ts</strong></p>\n\n<pre><code>import {Vector3} from 'XVectorMath'\n</code></pre>\n\n<p>It's here that I get a typescript error: \"Cannot find modules 'XVectorMath'\".</p>\n\n<p>Here is the tsconfig.json of my project:</p>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n    \"compilerOptions\":{\n        \"module\": \"commonjs\",\n        \"outDir\": \"dist\",\n        \"sourceMap\": true\n    },\n    \"include\": [\n        \"src/**/*.ts\"\n    ]\n}\n</code></pre>\n\n<p>Based on what I know, I would think this would be enough for typescript to recognize the name of my module (provided by the main config entry) and utilize the types provided in vectorMath.d.ts (provided by the types config entry).</p>\n\n<p>Do I have any of this configured incorrectly, or have I missed any steps? Or do I misunderstand something entirely?</p>\n\n<p><strong>EDIT</strong>\nI've included the results from running tsc --traceResolution:</p>\n\n<pre><code>c:\\Develop\\NodeScripts\\Typescript Project Test&gt;tsc --traceResolution\n======== Resolving module 'XVectorMath' from 'c:/Develop/NodeScripts/Typescript\nProject Test/src/main.ts'. ========\nModule resolution kind is not specified, using 'NodeJs'.\nLoading module 'XVectorMath' from 'node_modules' folder, target file type 'TypeS\ncript'.\nDirectory 'c:/Develop/NodeScripts/Typescript Project Test/src/node_modules' does\n not exist, skipping all lookups in it.\n'package.json' does not have a 'typings' field.\n'package.json' has 'types' field 'vectorMath.d.ts' that references 'c:/Develop/N\nodeScripts/Typescript Project Test/node_modules/XVectorMath/vectorMath.d.ts'.\nFound 'package.json' at 'c:/Develop/NodeScripts/Typescript Project Test/node_mod\nules/XVectorMath/package.json'. Package ID is 'XVectorMath/vectorMath.d.ts@0.1.0\n'.\nFile 'c:/Develop/NodeScripts/Typescript Project Test/node_modules/XVectorMath.ts\n' does not exist.\nFile 'c:/Develop/NodeScripts/Typescript Project Test/node_modules/XVectorMath.ts\nx' does not exist.\nFile 'c:/Develop/NodeScripts/Typescript Project Test/node_modules/XVectorMath.d.\nts' does not exist.\n'package.json' does not have a 'typings' field.\n'package.json' has 'types' field 'vectorMath.d.ts' that references 'c:/Develop/N\nodeScripts/Typescript Project Test/node_modules/XVectorMath/vectorMath.d.ts'.\nFile 'c:/Develop/NodeScripts/Typescript Project Test/node_modules/XVectorMath/ve\nctorMath.d.ts' exist - use it as a name resolution result.\nResolving real path for 'c:/Develop/NodeScripts/Typescript Project Test/node_mod\nules/XVectorMath/vectorMath.d.ts', result 'c:/Develop/Libraries/Javascript/@type\ns-XVectorMath/dist/vectorMath.d.ts'.\n======== Module name 'XVectorMath' was successfully resolved to 'c:/Develop/Libr\naries/Javascript/@types-XVectorMath/dist/vectorMath.d.ts'. ========\n</code></pre>\n\n<p>I'm not 100% sure this is saying - but I think it means that it has found the original location of my math library project, has found the .d.ts file in that location, and is using that to resolve the module name.</p>\n\n<p>Which doesn't seem quite right - the reason I installed the library output files into node-modules (done using npm install ) was to have the modules in the node_modules folder of THIS project. </p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>To add more information, I've included my project's main.ts file below to show my import, as well as my package.json:</p>\n\n<p><strong>main.ts</strong></p>\n\n<pre><code>import {Vector3} from 'XVectorMath' // Cannot find module error\n\nvar test: string = \"Main test\";\nlet vec:Vector3 = new Vector3();\nvec.x = 5; // No intellisense in VS Code, 'x' property considered an 'any' type \n           // instead of the number that it should be\n</code></pre>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  \"name\": \"Test\",\n  \"version\": \"0.1.0\",\n  \"dependencies\": {\n    \"XVectorMath\": \"file:../../Libraries/Javascript/@types-XVectorMath/dist\"\n  }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "material-ui"], "answers": [{"comments": [{"owner": {"reputation": 5164, "user_id": 1872046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/2GC1B.jpg?s=128&g=1", "display_name": "polkovnikov.ph", "link": "https://stackoverflow.com/users/1872046/polkovnikov-ph"}, "edited": false, "score": 0, "creation_date": 1534957924, "post_id": 51971913, "comment_id": 90894446, "body": "casting to <code>number</code> will essentially negate the whole purpose of that data type. It&#39;s not an arbitrary number. That enumeration type has to be kept as is throughout the code."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 5164, "user_id": 1872046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/2GC1B.jpg?s=128&g=1", "display_name": "polkovnikov.ph", "link": "https://stackoverflow.com/users/1872046/polkovnikov-ph"}, "edited": false, "score": 0, "creation_date": 1534958193, "post_id": 51971913, "comment_id": 90894567, "body": "@polkovnikov.ph Look at what the code is doing: it&#39;s converting the string value of the <code>RadioGroup</code> (that has been set up to mirror the <code>GridSpacing</code> options) to a <code>GridSpacing</code>.  How else would you propose to do that?"}, {"owner": {"reputation": 641, "user_id": 6346565, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-bSQM57_XQ7M/AAAAAAAAAAI/AAAAAAAAABY/6UClJHMekLg/photo.jpg?sz=128", "display_name": "Peterhack", "link": "https://stackoverflow.com/users/6346565/peterhack"}, "edited": false, "score": 0, "creation_date": 1534960314, "post_id": 51971913, "comment_id": 90895530, "body": "Cheers! However, the three upper grids are not horizontally aligend but stacked vertically. Any idea on this?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 641, "user_id": 6346565, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-bSQM57_XQ7M/AAAAAAAAAAI/AAAAAAAAABY/6UClJHMekLg/photo.jpg?sz=128", "display_name": "Peterhack", "link": "https://stackoverflow.com/users/6346565/peterhack"}, "edited": false, "score": 0, "creation_date": 1534960979, "post_id": 51971913, "comment_id": 90895832, "body": "@Peterhack No, please submit a new question if you can&#39;t find the answer yourself."}, {"owner": {"reputation": 5164, "user_id": 1872046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/2GC1B.jpg?s=128&g=1", "display_name": "polkovnikov.ph", "link": "https://stackoverflow.com/users/1872046/polkovnikov-ph"}, "edited": false, "score": 0, "creation_date": 1535044463, "post_id": 51971913, "comment_id": 90931750, "body": "I would recommend not using a component that has a string value there. The component is obviously maltyped."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 0, "last_activity_date": 1534957594, "creation_date": 1534957594, "answer_id": 51971913, "question_id": 51971705, "link": "https://stackoverflow.com/questions/51971705/reactjs-typescript-type-number-is-not-assignable-to-type-0-8-16-24-3/51971913#51971913", "title": "ReactJS Typescript: Type &#39;number&#39; is not assignable to type &#39;0 | 8 | 16 | 24 | 32 | 40 | undefined&#39;", "body": "<p>It looks like <code>Grid</code> accepts not any number, but a restricted set of numbers called <code>GridSpacing</code>.  See the type declaration <a href=\"https://github.com/mui-org/material-ui/blob/5ec75c6f62c1ef5bd94c7f67a607605cb2f3be80/packages/material-ui/src/Grid/Grid.d.ts#L44\" rel=\"nofollow noreferrer\">1</a> and <a href=\"https://github.com/mui-org/material-ui/blob/5ec75c6f62c1ef5bd94c7f67a607605cb2f3be80/packages/material-ui/src/Grid/Grid.d.ts#L17\" rel=\"nofollow noreferrer\">2</a>.  So after converting to a number as you did, you'll need to cast that number to a <code>GridSpacing</code>:</p>\n\n<pre><code>&lt;Grid container className={classes.demo} justify=\"center\" spacing={Number(spacing) as GridSpacing}&gt;\n</code></pre>\n\n<p>And add to your imports:</p>\n\n<pre><code>import { GridSpacing } from '@material-ui/core/Grid';\n</code></pre>\n"}], "owner": {"reputation": 641, "user_id": 6346565, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-bSQM57_XQ7M/AAAAAAAAAAI/AAAAAAAAABY/6UClJHMekLg/photo.jpg?sz=128", "display_name": "Peterhack", "link": "https://stackoverflow.com/users/6346565/peterhack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1502, "favorite_count": 1, "accepted_answer_id": 51971913, "answer_count": 1, "score": 1, "last_activity_date": 1534957594, "creation_date": 1534956850, "last_edit_date": 1534957462, "question_id": 51971705, "link": "https://stackoverflow.com/questions/51971705/reactjs-typescript-type-number-is-not-assignable-to-type-0-8-16-24-3", "title": "ReactJS Typescript: Type &#39;number&#39; is not assignable to type &#39;0 | 8 | 16 | 24 | 32 | 40 | undefined&#39;", "body": "<p>I would like to reproduce a <a href=\"https://material-ui.com/layout/grid/\" rel=\"nofollow noreferrer\">grid from material-ui</a> in react using typescript. A live demo can be found <a href=\"https://codesandbox.io/s/0y2x2q54wl\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I have adjusted the example to work with typescript such that my demo.jsx looks as:</p>\n\n<pre><code>import { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport Paper from '@material-ui/core/Paper';\nimport {WithStyles} from \"@material-ui/core/styles/withStyles\";\n\nconst styles = (theme:any) =&gt; ({\n    root: {\n        flexGrow: 1,\n    },\n    paper: {\n        height: 140,\n        width: 100,\n    },\n    demo: {\n        height: 140,\n        width: 100,\n    },\n    control: {\n        padding: theme.spacing.unit * 2,\n    },\n});\n\nclass App extends React.Component&lt;WithStyles&lt;typeof styles&gt;&gt; {\n    state = {\n        spacing: '16',\n    };\n\n    handleChange = (key:any) =&gt; (event:any, value:any) =&gt; {\n        this.setState({\n            [key]: value,\n        });\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { spacing } = this.state;\n\n        return (\n            &lt;Grid container className={classes.root} spacing={16}&gt;\n                &lt;Grid item xs={12}&gt;\n                    &lt;Grid container className={classes.demo} justify=\"center\" spacing={Number(spacing)}&gt;\n                        {[0, 1, 2].map(value =&gt; (\n                            &lt;Grid key={value} item&gt;\n                                &lt;Paper className={classes.paper} /&gt;\n                            &lt;/Grid&gt;\n                        ))}\n                    &lt;/Grid&gt;\n                &lt;/Grid&gt;\n                &lt;Grid item xs={12}&gt;\n                    &lt;Paper className={classes.control}&gt;\n                        &lt;Grid container&gt;\n                            &lt;Grid item&gt;\n                                &lt;FormLabel&gt;spacing&lt;/FormLabel&gt;\n                                &lt;RadioGroup\n                                    name=\"spacing\"\n                                    aria-label=\"Spacing\"\n                                    value={spacing}\n                                    onChange={this.handleChange('spacing')}\n                                    row\n                                &gt;\n                                    &lt;FormControlLabel value=\"0\" control={&lt;Radio /&gt;} label=\"0\" /&gt;\n                                    &lt;FormControlLabel value=\"8\" control={&lt;Radio /&gt;} label=\"8\" /&gt;\n                                    &lt;FormControlLabel value=\"16\" control={&lt;Radio /&gt;} label=\"16\" /&gt;\n                                    &lt;FormControlLabel value=\"24\" control={&lt;Radio /&gt;} label=\"24\" /&gt;\n                                    &lt;FormControlLabel value=\"32\" control={&lt;Radio /&gt;} label=\"32\" /&gt;\n                                    &lt;FormControlLabel value=\"40\" control={&lt;Radio /&gt;} label=\"40\" /&gt;\n                                &lt;/RadioGroup&gt;\n                            &lt;/Grid&gt;\n                        &lt;/Grid&gt;\n                    &lt;/Paper&gt;\n                &lt;/Grid&gt;\n            &lt;/Grid&gt;\n        );\n    }\n}\n\nexport default withStyles(styles)(App);\n</code></pre>\n\n<p>The problem is, that it throws the following error:</p>\n\n<pre><code>(101,79): Type 'number' is not assignable to type '0 | 8 | 16 | 24 | 32 | 40 | undefined'.\n</code></pre>\n\n<p>In the following line:</p>\n\n<pre><code>&lt;Grid container className={classes.demo} justify=\"center\" spacing={Number(spacing)}&gt;\n</code></pre>\n\n<p>Any ideas? My first guess was that I need to typeset that spacing is of type number. As I am quite new to typescript, I could not find the right solution.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1534955093, "creation_date": 1534955093, "answer_id": 51971247, "question_id": 51971229, "link": "https://stackoverflow.com/questions/51971229/extended-generic-parameter-of-class-method-dont-build/51971247#51971247", "title": "Extended generic parameter of class method dont build", "body": "<p>You need to declare the type parameter like this:</p>\n\n<pre><code>public update&lt;T extends IModel&gt;(item: T): Observable&lt;T&gt; {\n  return this.http.put&lt;any&gt;(`${this.api}/${this.resource}/${item.id}`, item);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1549, "user_id": 3573340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d7c561a916a46d3416915b96c3f594?s=128&d=identicon&r=PG&f=1", "display_name": "Clem", "link": "https://stackoverflow.com/users/3573340/clem"}, "is_accepted": true, "score": 0, "last_activity_date": 1534955942, "creation_date": 1534955942, "answer_id": 51971479, "question_id": 51971229, "link": "https://stackoverflow.com/questions/51971229/extended-generic-parameter-of-class-method-dont-build/51971479#51971479", "title": "Extended generic parameter of class method dont build", "body": "<p>Thanks</p>\n\n<p>I just found a way. What i have done:</p>\n\n<pre><code>export class ResourceService&lt;T extends IModel&gt; {\n   ...\n\n  public update (item: T): Observable&lt;T&gt; {\n    return this.http.put&lt;any&gt;(`${this.api}/${this.resource}/${item.id}`, item);\n  }\n}\n</code></pre>\n\n<p>My interface is:</p>\n\n<pre><code> export interface IModel {\n  id: string;\n }\n</code></pre>\n"}], "owner": {"reputation": 1549, "user_id": 3573340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d7c561a916a46d3416915b96c3f594?s=128&d=identicon&r=PG&f=1", "display_name": "Clem", "link": "https://stackoverflow.com/users/3573340/clem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 51971479, "answer_count": 2, "score": 0, "last_activity_date": 1534955942, "creation_date": 1534955013, "question_id": 51971229, "link": "https://stackoverflow.com/questions/51971229/extended-generic-parameter-of-class-method-dont-build", "title": "Extended generic parameter of class method dont build", "body": "<p>I got an issue while building an angular project with <code>ng build</code>.</p>\n\n<pre><code>public update (item: T extends IModel): Observable&lt;T&gt; {\n  return this.http.put&lt;any&gt;(`${this.api}/${this.resource}/${item.id}`, item);\n}\n</code></pre>\n\n<p>It say, it expect a ',' in <code>(item: T extends IModel)</code>.</p>\n\n<p>Any idea how to make it build?\nIt works well with <code>ng serve</code> and to looks correct to me.</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "edited": false, "score": 0, "creation_date": 1534962332, "post_id": 51971212, "comment_id": 90896436, "body": "There must be something else going on because the implementation of <code>$scope.$on()</code> did not change between versions 1.4 and 1.7."}, {"owner": {"reputation": 28, "user_id": 6617342, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CJ4N2APc8To/AAAAAAAAAAI/AAAAAAAAAEg/ZD0s9PCn08o/photo.jpg?sz=128", "display_name": "Anand Mohan Singh", "link": "https://stackoverflow.com/users/6617342/anand-mohan-singh"}, "reply_to_user": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "edited": false, "score": 0, "creation_date": 1535019785, "post_id": 51971212, "comment_id": 90916504, "body": "Yes, true, my question is not that, I want to know, How to use this.$scope.$on in typescript,AngularJS1.7?"}, {"owner": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "edited": false, "score": 0, "creation_date": 1535033001, "post_id": 51971212, "comment_id": 90924826, "body": "You use it exactly as you have shown in your question: <code>this.$scope.$on(eventString, (event, args) =&gt; {});</code>. There must be something else going on to be causing the error you&#39;re seeing. Maybe if you show more of the the &quot;Other component&#39;s controller&quot; code it will shed some light on the issue."}], "owner": {"reputation": 28, "user_id": 6617342, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CJ4N2APc8To/AAAAAAAAAAI/AAAAAAAAAEg/ZD0s9PCn08o/photo.jpg?sz=128", "display_name": "Anand Mohan Singh", "link": "https://stackoverflow.com/users/6617342/anand-mohan-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534955289, "creation_date": 1534954955, "last_edit_date": 1534955289, "question_id": 51971212, "link": "https://stackoverflow.com/questions/51971212/how-to-use-this-scope-on-in-typescript-angularjs1-7", "title": "How to use this.$scope.$on in typescript,AngularJS1.7", "body": "<h2>I want to capture the emit event from one component into other component</h2>\n\n<pre><code>export class modifyController implements angular.IComponentController {\n      static $inject = ['$scope','$state'];\n    constructor(public $scope:ng.IScope,public $state: ng.ui.IStateService) {\n    this.sendMessage();\n      };\n    public sendMessage(): void {\n    let tempObj = { 'title': 'name', 'id': '1234' }\n              this.$scope.$emit('modify',tempObj);\n    }\n    }\n</code></pre>\n\n<h1>In Other component's controller</h1>\n\n<pre><code>constructor(public $scope:ng.IScope) {\n        //need to write this outside constructor\n        this.$scope.$on('modify', (event: ng.IAngularEvent, data: any) =&gt; {\n            console.log('from ON event...',data);\n        });\n    }\n</code></pre>\n\n<p>In angularjs1.4 i can directly use $scope.$on() like any other function , but while using this in same way in angularjs1.7 with typescript, i am getting error -<em>[ts] Unexpected token. A constructor, method, accessor, or property was expected.</em></p>\n\n<p>How to use this.$scope.$on in typescript,AngularJS1.7?\nThanks</p>\n"}, {"tags": ["typescript", "tslint"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1534955425, "last_edit_date": 1534955425, "creation_date": 1534955027, "answer_id": 51971231, "question_id": 51971057, "link": "https://stackoverflow.com/questions/51971057/is-there-a-way-to-prevent-passing-readonly-params-into-non-readonly-functions/51971231#51971231", "title": "Is there a way to prevent passing readonly params into non-readonly functions?", "body": "<p>There is no such setting, nor any workaround that I'm aware of.  See the <a href=\"https://github.com/Microsoft/TypeScript/issues/13347\" rel=\"nofollow noreferrer\">open suggestion</a>.  It might be possible to write a tslint rule for this, but one would need to essentially duplicate the assignability checking logic in order to check for <code>readonly</code> in all the right places.  It might be more practical to use a modified version of the TypeScript compiler.</p>\n"}], "owner": {"reputation": 602, "user_id": 1347649, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a5698b00b43ca3554ea1ad47bd29be4b?s=128&d=identicon&r=PG", "display_name": "JSoet", "link": "https://stackoverflow.com/users/1347649/jsoet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 51971231, "answer_count": 1, "score": 0, "last_activity_date": 1534955425, "creation_date": 1534954400, "question_id": 51971057, "link": "https://stackoverflow.com/questions/51971057/is-there-a-way-to-prevent-passing-readonly-params-into-non-readonly-functions", "title": "Is there a way to prevent passing readonly params into non-readonly functions?", "body": "<p>I was trying to ensure that an object that I use isn't modified, but I was surprised to see that it seems that typescript allows readonly objects to be passed in to functions which do not specify that the parameters are readonly. For example:</p>\n\n<pre><code>function testFunc1(obj: { readonly s: string }) {\n  testFunc2(obj)   // no error &lt;- would expect an error here as well\n  obj.s = \"blah\"  // error: Cannot assign to 's' because it is a constant or a read-only property.\n}\n\nfunction testFunc2(obj: {s: string}) {\n  obj.s = \"blah\"\n}\n</code></pre>\n\n<p>Is it possible to turn on a setting or something so that an error would occur in this case?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-native"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 8485597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ad6476932a8796ee3802148951a3c06?s=128&d=identicon&r=PG&f=1", "display_name": "user8485597", "link": "https://stackoverflow.com/users/8485597/user8485597"}, "edited": false, "score": 0, "creation_date": 1534954773, "post_id": 51970831, "comment_id": 90892777, "body": "i think that i dont understood, i did this, but since i cant make filters on the render i throws me a syntax error"}, {"owner": {"reputation": 622, "user_id": 2989894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba21929c6cfffb7a1f168b43cc83f52f?s=128&d=identicon&r=PG&f=1", "display_name": "tnyN", "link": "https://stackoverflow.com/users/2989894/tnyn"}, "reply_to_user": {"reputation": 63, "user_id": 8485597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ad6476932a8796ee3802148951a3c06?s=128&d=identicon&r=PG&f=1", "display_name": "user8485597", "link": "https://stackoverflow.com/users/8485597/user8485597"}, "edited": false, "score": 0, "creation_date": 1534955616, "post_id": 51970831, "comment_id": 90893256, "body": "@user8485597 My example was mostly sudo code. You should user your functions that you wrote and return the filtered data from them."}, {"owner": {"reputation": 622, "user_id": 2989894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba21929c6cfffb7a1f168b43cc83f52f?s=128&d=identicon&r=PG&f=1", "display_name": "tnyN", "link": "https://stackoverflow.com/users/2989894/tnyn"}, "reply_to_user": {"reputation": 63, "user_id": 8485597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ad6476932a8796ee3802148951a3c06?s=128&d=identicon&r=PG&f=1", "display_name": "user8485597", "link": "https://stackoverflow.com/users/8485597/user8485597"}, "edited": false, "score": 0, "creation_date": 1534955687, "post_id": 51970831, "comment_id": 90893301, "body": "Create two different filter Data functions. One for category one for Date. Then return the filtered data from them. Does that make sense?"}, {"owner": {"reputation": 63, "user_id": 8485597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ad6476932a8796ee3802148951a3c06?s=128&d=identicon&r=PG&f=1", "display_name": "user8485597", "link": "https://stackoverflow.com/users/8485597/user8485597"}, "edited": false, "score": 0, "creation_date": 1534959953, "post_id": 51970831, "comment_id": 90895359, "body": "i tried your example but i didnt got it at all, it still throw me an error and was to shy to keep bothering you, but i already solved the problem, thanks for your time"}], "tags": [], "owner": {"reputation": 622, "user_id": 2989894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba21929c6cfffb7a1f168b43cc83f52f?s=128&d=identicon&r=PG&f=1", "display_name": "tnyN", "link": "https://stackoverflow.com/users/2989894/tnyn"}, "is_accepted": false, "score": 0, "last_activity_date": 1534956139, "last_edit_date": 1534956139, "creation_date": 1534953615, "answer_id": 51970831, "question_id": 51970725, "link": "https://stackoverflow.com/questions/51970725/2-filters-in-one-on-reactjs/51970831#51970831", "title": "2 filters in one on reactjs", "body": "<p>In your render set a variable equal to all data then add two filters. for example:</p>\n\n<pre><code>render() {\n  let filteredData = data;\n  if (filterByDate) filteredData = this.filterByCategory(filteredData);\n  if (filterByCategory) filteredData = this.filterByCategory(filteredData);\n\n  return (\n    &lt;Griddle\n      data={filteredData.length === 0 ? data : filteredData}\n      pageProperties={{\n        pageSize: 100,\n      }}\n      plugins={[plugins.LocalPlugin]}\n      components={this.state.filterOptions}\n    /&gt;\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 8485597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ad6476932a8796ee3802148951a3c06?s=128&d=identicon&r=PG&f=1", "display_name": "user8485597", "link": "https://stackoverflow.com/users/8485597/user8485597"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534956139, "creation_date": 1534953266, "question_id": 51970725, "link": "https://stackoverflow.com/questions/51970725/2-filters-in-one-on-reactjs", "title": "2 filters in one on reactjs", "body": "<p>i am having this trouble i hae made 2 diferent filters\none that filters for selected categorys and another one that filters by date on a datepicker\nbut i needthem to be in one for this cases\n1.- You want to filter only by category selected\n2.- You want to filter only by date\n3.- You want to filter by category and date selected</p>\n\n<p>the way i filter by category is this one and it works</p>\n\n<pre><code>filterData = (data) =&gt;{\nreturn data.filter((value,index)=&gt;{\n  if (this.state.filterSelected.indexOf(value.category)&gt;-1) {\n        return(value)\n      }\n})\n</code></pre>\n\n<p>}</p>\n\n<p>and the griddle looks like this</p>\n\n<pre><code>&lt;Griddle\ndata={this.state.filterSelected.length === 0  ? data : this.filterData(data)}\npageProperties={{\n  pageSize: 100,\n}}\nplugins={[plugins.LocalPlugin]}\ncomponents={this.state.filterOptions}\n</code></pre>\n\n<p>/></p>\n\n<p>the way i filter by date looks like this and it works too</p>\n\n<pre><code> filterData = (data) =&gt;{\n  return data.filter((value,index)=&gt;{\n   if (this.state.dateSelected === value.time) {\n      return(value)\n    }\n  })\n}\n</code></pre>\n\n<p>and the griddle looks like this</p>\n\n<pre><code>    &lt;Griddle\n    data={this.state.dateSelected ==='' ? data : this.filterData(data)}\n    pageProperties={{\n      pageSize: 100,\n    }}\n    plugins={[plugins.LocalPlugin]}\n    components={this.state.filterOptions}\n  /&gt;\n</code></pre>\n\n<p>both of them works separated, and i know its more a logic problem than anything i hae come to this solution for the filter data \nbut i dont know how to pass the valors on griddle, i would apreciate a little help</p>\n\n<pre><code>  filterData = (data) =&gt;{\n    return data.filter((value,index)=&gt;{\n     if (\n          (this.state.filterSelected.length&gt;0 &amp;&amp; \n          this.state.filterSelected.indexOf(value.category)&gt;-1 &amp;&amp; \n          this.state.dateSelected !='' &amp;&amp; this.state.dateSelected(value.time)&gt;-1)||\n          (this.state.filterSelected.length==0 &amp;&amp; \n          this.state.dateSelected !='' &amp;&amp; this.state.dateSelected(value.time)) ||\n          (this.state.filterSelected.length&gt;0 &amp;&amp; \n          this.state.filterSelected.indexOf(value.category) &amp;&amp; \n          this.state.dateSelected =='')\n         ){\n        return(value)\n      }\n    })\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jasmine"], "answers": [{"comments": [{"owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "edited": false, "score": 2, "creation_date": 1534977751, "post_id": 51975819, "comment_id": 90902573, "body": "I&#39;ve created a <a href=\"https://stackblitz.com/edit/angular-testing-template-9unota?file=app%2Fhello.component.spec.ts\" rel=\"nofollow noreferrer\">stackblitz example</a> as well."}], "tags": [], "owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "is_accepted": true, "score": 8, "last_activity_date": 1534977924, "last_edit_date": 1534977924, "creation_date": 1534975697, "answer_id": 51975819, "question_id": 51970681, "link": "https://stackoverflow.com/questions/51970681/angular-jasmine-unit-test-change-event-for-inputtype-file/51975819#51975819", "title": "Angular &amp; Jasmine Unit Test change event for input[type=&quot;file&quot;]", "body": "<p>Let's follow the <em>divide and conquer</em> rule - since the aim of Unit Test is to test the parts of component logic separately, I would slightly change the component logic in order to make it easier to Unit Test.</p>\n\n<p>You're setting the anonymous callback function for <code>onload</code> inside your <code>onUploadFile</code> method, so there is no way to spyOn it. As a trade off - you can refactor out the callback method:</p>\n\n<pre><code>export class TestComponent {\n  ...\n  getLoadCallback(fg: FormGroup, file: File, reader: FileReader): () =&gt; void {\n    return () =&gt; {\n      fg.patchValue({\n        filename: file.name,\n        filetype: file.type,\n        value: reader.result.split(',')[1],\n        dateUploaded: new Date()\n      });\n\n      // do some other stuff here\n    };\n  }\n\n  onUploadFile(evt: Event, index: number, isReq: boolean = false): void {\n    const reader = new FileReader();\n    const target = &lt;HTMLInputElement&gt;evt.target;\n\n    if (target.files &amp;&amp; target.files.length) {\n      const file = target.files[0];\n      reader.readAsDataURL(file);\n      const fg = this.getUploadFormGroup(index, isReq);\n      reader.onload = this.getLoadCallback(fg, file, reader);\n    }\n  }\n  ...\n}\n</code></pre>\n\n<p>So, now we can create at least three Unit Tests: one for triggering <code>onUploadFile</code> on input event (your existing test is good for this), another one for testing <code>getLoadCallback</code> method and lastly - for <code>onUploadFile</code> method:</p>\n\n<pre><code>  it('getLoadCallback', () =&gt; {\n    const mockValue = ['a', 'b'];\n    const result = jasmine.createSpyObj('result', ['split']);\n    result.split.and.callFake(() =&gt; mockValue);\n    const mockReader = { result } as FileReader;\n    const mockFormGroup: FormGroup = jasmine.createSpyObj('FormGroup', ['patchValue']);\n    const mockFile = new File([''], 'filename', { type: 'text/html' });\n    const callback: () =&gt; void = component.getLoadCallback(mockFormGroup, mockFile, mockReader);\n\n    callback();\n\n    const obj = {\n      filename: mockFile.name,\n      filetype: mockFile.type,\n      value: mockValue[1],\n      dateUploaded: new Date()\n    }\n    expect(mockFormGroup.patchValue).toHaveBeenCalledWith(obj);\n  });\n\n  it('onUploadFile', () =&gt; {\n    const mockIndex = 1;\n    const mockIsReq = false;\n    const mockFile = new File([''], 'filename', { type: 'text/html' });\n    const mockFormGroup = new FormGroup({});\n    const mockEvt = { target: { files: [mockFile] } };\n    const mockReader: FileReader = jasmine.createSpyObj('FileReader', ['readAsDataURL', 'onload']);\n    spyOn(window as any, 'FileReader').and.returnValue(mockReader);\n    spyOn(component, 'getUploadFormGroup').and.returnValue(mockFormGroup);\n    spyOn(component, 'getLoadCallback').and.callThrough();\n\n    component.onUploadFile(mockEvt as any, mockIndex, mockIsReq);\n\n    expect((window as any).FileReader).toHaveBeenCalled();\n    expect(mockReader.readAsDataURL).toHaveBeenCalledWith(mockFile);\n    expect(component.getUploadFormGroup).toHaveBeenCalledWith(mockIndex, mockIsReq);\n    expect(component.getLoadCallback).toHaveBeenCalledWith(mockFormGroup, mockFile, mockReader);\n  });\n</code></pre>\n\n<p>Of course you can change mock values and create more unit tests...</p>\n"}], "owner": {"reputation": 10694, "user_id": 2069295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/008127e8f10293f43e62de3b7b3520e1?s=128&d=identicon&r=PG", "display_name": "Jeremy Moritz", "link": "https://stackoverflow.com/users/2069295/jeremy-moritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8602, "favorite_count": 0, "accepted_answer_id": 51975819, "answer_count": 1, "score": 8, "last_activity_date": 1607554197, "creation_date": 1534953126, "last_edit_date": 1607554197, "question_id": 51970681, "link": "https://stackoverflow.com/questions/51970681/angular-jasmine-unit-test-change-event-for-inputtype-file", "title": "Angular &amp; Jasmine Unit Test change event for input[type=&quot;file&quot;]", "body": "<p>I am trying to go for 100% test coverage, but i can't seem to test the stuff inside this onUploadFile function.</p>\n<h1>html template</h1>\n<pre><code>&lt;input type=&quot;file&quot; formControlName=&quot;theUpload&quot; id=&quot;upload&quot; (change)=&quot;onUploadFile($event, i, true)&quot;&gt;\n</code></pre>\n<h1>filing.ts file</h1>\n<pre><code>onUploadFile(evt: Event, index: number, isReq: boolean = false): void {\n  const reader = new FileReader();\n  const target = &lt;HTMLInputElement&gt;evt.target;\n\n  if (target.files &amp;&amp; target.files.length) {\n    const file = target.files[0];\n    reader.readAsDataURL(file);\n    reader.onload = () =&gt; {\n      this.getUploadFormGroup(index, isReq).patchValue({\n        filename: file.name,\n        filetype: file.type,\n        value: reader.result.split(',')[1],\n        dateUploaded: new Date()\n      });\n\n      console.log(\n        `getUploadFormArray (${isReq ? 'required' : 'other'} forms)`,\n        this.getUploadFormArray(isReq)\n      );\n    };\n  }\n}\n</code></pre>\n<h1>filing.spec.ts file</h1>\n<pre><code>it('should call onUploadFile when input is changed for required files', () =&gt; {\n  spyOn(component, 'onUploadFile').and.callThrough();\n\n  const fakeChangeEvent = new Event('change');\n\n  const targ = &lt;HTMLInputElement&gt;de.nativeElement.querySelector('input#upload');\n  targ.dispatchEvent(fakeChangeEvent);\n\n  fixture.whenStable().then(() =&gt; {\n    expect(component.onUploadFile).toHaveBeenCalledWith(fakeChangeEvent, 0, true);\n    expect(targ.files.length).toBeGreaterThan(0); //  this is always zero because i can't add to targ.files (readonly FileList)\n  });\n});\n</code></pre>\n<p>I am open to mocking whatever can be mocked, but can someone please show me how I might test the <code>console.log</code> function (requiring that i have at least one item in the <code>target.files</code> array?</p>\n"}, {"tags": ["angular", "typescript", "multidimensional-array", "angular-reactive-forms", "angular-forms"], "answers": [{"tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": true, "score": 1, "last_activity_date": 1534954795, "last_edit_date": 1534954795, "creation_date": 1534954026, "answer_id": 51970946, "question_id": 51970453, "link": "https://stackoverflow.com/questions/51970453/add-nested-reactive-formarray-within-formarray-angular-6/51970946#51970946", "title": "Add Nested Reactive FormArray within FormArray - Angular 6", "body": "<p>You can get an <code>AbstractFormControl</code> instance from a <code>FormArray</code> using the <code>at</code> method on it.</p>\n\n<p>So here's how you can break down the things that you'll have to do:</p>\n\n<ol>\n<li>Get the <code>records</code> <code>FormArray</code> from your Reactive Form.</li>\n<li>Call the <code>at</code> method on it this <code>FormArray</code> and pass it the index that you want to get the <code>AbstractControl</code> instance from. I've used <code>0</code> for example.</li>\n<li>This will yield the <code>AbstractControl</code> instance inside which, you have the <code>productCombination</code> <code>FormArray</code>. So you'll now need to have access to that. That's what <code>(&lt;FormArray&gt;formControl.get('productCombination'))</code> is doing.</li>\n<li>Once you get the inner FormArray, you can call the <code>push</code> method on it and pass it the <code>AbstractControl</code> instance you want to add to it.</li>\n</ol>\n\n<p>So in code, it would look something like:</p>\n\n<pre><code>addProductCombination() {\n  let formControl = ( &lt; FormArray &gt; this.productBlendCodeForm.get('records')).at(0);\n  ( &lt; FormArray &gt; formControl.get('productCombination')).push(this.initProductCombinations({}));\n}\n</code></pre>\n"}], "owner": {"reputation": 1709, "user_id": 3633970, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/j18ab.png?s=128&g=1", "display_name": "JordanBarber", "link": "https://stackoverflow.com/users/3633970/jordanbarber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 0, "accepted_answer_id": 51970946, "answer_count": 1, "score": 0, "last_activity_date": 1534954795, "creation_date": 1534952374, "question_id": 51970453, "link": "https://stackoverflow.com/questions/51970453/add-nested-reactive-formarray-within-formarray-angular-6", "title": "Add Nested Reactive FormArray within FormArray - Angular 6", "body": "<p>I am attempting to add multiple inputs inside of a table row using nested Reactive Forms in Angular 6. I am having trouble pushing to a Form Array within a Form Array in typescript. I have added my full code (including a dummy service to pull in data) to a stackblitz <a href=\"https://stackblitz.com/edit/angular-7ewxe5\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>How can I implement adding to the productCombination form array inside of my <code>addProductCombination()</code> method. The desired behavior is that the table row in which the 'plus' button is clicked will have a new select/input element for each form control inside of my productCombination FormArray. Any help is much appreciated.</p>\n"}, {"tags": ["angular", "typescript", "angular-services", "angular-httpclient"], "answers": [{"comments": [{"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 1164, "user_id": 7295936, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/822501b2f1352dbb8791e03acafb7685?s=128&d=identicon&r=PG&f=1", "display_name": "FrozzenFinger", "link": "https://stackoverflow.com/users/7295936/frozzenfinger"}, "edited": false, "score": 0, "creation_date": 1534952506, "post_id": 51970465, "comment_id": 90891377, "body": "Have you stopped and run again ?"}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 1164, "user_id": 7295936, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/822501b2f1352dbb8791e03acafb7685?s=128&d=identicon&r=PG&f=1", "display_name": "FrozzenFinger", "link": "https://stackoverflow.com/users/7295936/frozzenfinger"}, "edited": false, "score": 1, "creation_date": 1534952554, "post_id": 51970465, "comment_id": 90891414, "body": "Also add <code>@Injectable</code> on the <code>MessageService</code>"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 2, "last_activity_date": 1534952703, "last_edit_date": 1534952703, "creation_date": 1534952403, "answer_id": 51970465, "question_id": 51970430, "link": "https://stackoverflow.com/questions/51970430/how-to-make-http-request-in-a-angular-6-service/51970465#51970465", "title": "How to make Http request in a angular 6 service", "body": "<p>You need to add <code>@Injectable</code> decorator on the service</p>\n\n<pre><code>import { Injectable } from '@angular/core'\n\n@Injectable()\nexport class MessageService {\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1164, "user_id": 7295936, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/822501b2f1352dbb8791e03acafb7685?s=128&d=identicon&r=PG&f=1", "display_name": "FrozzenFinger", "link": "https://stackoverflow.com/users/7295936/frozzenfinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 51970465, "answer_count": 1, "score": 3, "last_activity_date": 1561466221, "creation_date": 1534952322, "last_edit_date": 1561466221, "question_id": 51970430, "link": "https://stackoverflow.com/questions/51970430/how-to-make-http-request-in-a-angular-6-service", "title": "How to make Http request in a angular 6 service", "body": "<p>here is my thing, I have a message service which I want to gather data from my server through HTTP requests (Rest Api) like this: </p>\n\n<pre><code>import { Sensor } from './sensor.model'\nimport { HttpClient } from '@angular/common/http';\n\nexport class MessageService{\n  mqttMessageData : JSON[]=[];\n  coapMessageData : JSON[]=[];\n  xmppMessageData : JSON[]=[];\n\n  constructor(private httpClient: HttpClient) {\n\n  }\ngetMqttMessages() {\n    this.httpClient.get&lt;JSON&gt;('http://127.0.0.1:5002/messages/mqtt').subscribe(data =&gt; {\n      this.mqttMessageData.push(data);\n      console.log(data);\n    });\n  }\n</code></pre>\n\n<p>but i have this error on my browser console (no errors in ng serve) : </p>\n\n<pre><code>Uncaught Error: Can't resolve all parameters for MessageService: (?).\n    at syntaxError (compiler.js:1016)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getDependenciesMetadata (compiler.js:10917)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getTypeMetadata (compiler.js:10810)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getInjectableTypeMetadata (compiler.js:11032)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver.getProviderMetadata (compiler.js:11041)\n    at compiler.js:10979\n    at Array.forEach (&lt;anonymous&gt;)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getProvidersMetadata (compiler.js:10939)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver.getNonNormalizedDirectiveMetadata (compiler.js:10416)\n    at CompileMetadataResolver.push../node_modules/@angular/compiler/fesm5/compiler.js.CompileMetadataResolver._getEntryComponentMetadata (compiler.js:11013)\n</code></pre>\n\n<p>so I assume there is an issue with the httpClient but i don't know how to do this in an other way.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 14375, "user_id": 3888766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eClVG.jpg?s=128&g=1", "display_name": "Fullstack Guy", "link": "https://stackoverflow.com/users/3888766/fullstack-guy"}, "is_accepted": true, "score": 6, "last_activity_date": 1534951962, "creation_date": 1534951962, "answer_id": 51970317, "question_id": 51970288, "link": "https://stackoverflow.com/questions/51970288/angular-5-how-to-add-multiple-parameters-to-constructor/51970317#51970317", "title": "Angular 5- How to add multiple parameters to constructor?", "body": "<p>Add <code>private</code> before <code>authToken</code>. Adding <code>private</code> makes it a property of the Component class. Then you can refer to the <code>authToken</code> with the <code>this</code> keyword.</p>\n\n<pre><code>constructor(private _dataService: DataService, private authToken: Angular2TokenService) {\n     this.authToken.init(environment.token_auth_config)\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": false, "score": 2, "last_activity_date": 1534951975, "creation_date": 1534951975, "answer_id": 51970322, "question_id": 51970288, "link": "https://stackoverflow.com/questions/51970288/angular-5-how-to-add-multiple-parameters-to-constructor/51970322#51970322", "title": "Angular 5- How to add multiple parameters to constructor?", "body": "<p>You have used <code>this</code> with <code>authToken</code> - this means that your <code>authToken</code> is declared as property of your component but currently it is not like that so why you get the error. </p>\n\n<p>You need to add <code>private</code> or another access modifier before the <code>authToken</code>. This tells that the parameter in the constructor is declared as a property of the component like <code>_dataService</code> </p>\n\n<pre><code>constructor(private _dataService: DataService, private authToken: Angular2TokenService) {\n     this.authToken.init(environment.token_auth_config)\n}\n</code></pre>\n"}], "owner": {"reputation": 689, "user_id": 9899126, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w3N3oKCO2bw/AAAAAAAAAAI/AAAAAAAAGaw/bT7zqY0zqy4/photo.jpg?sz=128", "display_name": "LaurenAH", "link": "https://stackoverflow.com/users/9899126/laurenah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2975, "favorite_count": 0, "accepted_answer_id": 51970317, "answer_count": 2, "score": 0, "last_activity_date": 1534951975, "creation_date": 1534951889, "question_id": 51970288, "link": "https://stackoverflow.com/questions/51970288/angular-5-how-to-add-multiple-parameters-to-constructor", "title": "Angular 5- How to add multiple parameters to constructor?", "body": "<p>I need to add both my service as well as an authentication service to my app.component.ts, but I can't seem to add both in my constructor parameters. How can I do that and still have both available to the whole application?\nHere's what I have:</p>\n\n<pre><code>constructor(private _dataService: DataService, authToken: Angular2TokenService) {\n     this.authToken.init(environment.token_auth_config)\n }\n</code></pre>\n\n<p>The error is: Property 'authToken' does not exist on type 'AppComponent'.</p>\n\n<p>All necessary items have already been imported.</p>\n\n<p>How can I write both in? Most answers I'm finding are for older versions of Angular. Thanks.</p>\n"}, {"tags": ["typescript", "angular6"], "comments": [{"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 2, "creation_date": 1534949636, "post_id": 51969589, "comment_id": 90889667, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}, {"owner": {"reputation": 687, "user_id": 8687923, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Q1jlj.jpg?s=128&g=1", "display_name": "jsonGPPD", "link": "https://stackoverflow.com/users/8687923/jsongppd"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1534950652, "post_id": 51969589, "comment_id": 90890276, "body": "I&#39;ve read that. But it doesn&#39;t help me though"}, {"owner": {"reputation": 687, "user_id": 8687923, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Q1jlj.jpg?s=128&g=1", "display_name": "jsonGPPD", "link": "https://stackoverflow.com/users/8687923/jsongppd"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1534950768, "post_id": 51969589, "comment_id": 90890356, "body": "which one @joseatchang?"}, {"owner": {"reputation": 71, "user_id": 8837814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4bf660e90e709355074ae5d3017d690?s=128&d=identicon&r=PG&f=1", "display_name": "joseatchang", "link": "https://stackoverflow.com/users/8837814/joseatchang"}, "edited": false, "score": 0, "creation_date": 1534950845, "post_id": 51969589, "comment_id": 90890402, "body": "Sorry nvm, I see fat arrows don&#39;t know why. But you have none. When you print this.name is <code>undefined</code> because it haven&#39;t been resolve the response yet, so you will get undefined"}, {"owner": {"reputation": 687, "user_id": 8687923, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Q1jlj.jpg?s=128&g=1", "display_name": "jsonGPPD", "link": "https://stackoverflow.com/users/8687923/jsongppd"}, "edited": false, "score": 0, "creation_date": 1534950915, "post_id": 51969589, "comment_id": 90890448, "body": "oh and how to fix it?"}, {"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1534951327, "post_id": 51969589, "comment_id": 90890704, "body": "By reading the duplicate and the linked questions in it. <i>&quot;tl;dr&quot;</i>: You can not &quot;fix&quot; it. You will have to adjust your code to work with the asynchronous behavior."}, {"owner": {"reputation": 687, "user_id": 8687923, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Q1jlj.jpg?s=128&g=1", "display_name": "jsonGPPD", "link": "https://stackoverflow.com/users/8687923/jsongppd"}, "edited": false, "score": 0, "creation_date": 1534951527, "post_id": 51969589, "comment_id": 90890817, "body": "Do you have a sample code sir?"}, {"owner": {"reputation": 687, "user_id": 8687923, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Q1jlj.jpg?s=128&g=1", "display_name": "jsonGPPD", "link": "https://stackoverflow.com/users/8687923/jsongppd"}, "edited": false, "score": 0, "creation_date": 1534951679, "post_id": 51969589, "comment_id": 90890904, "body": "I&#39;m using observable already"}], "owner": {"reputation": 687, "user_id": 8687923, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Q1jlj.jpg?s=128&g=1", "display_name": "jsonGPPD", "link": "https://stackoverflow.com/users/8687923/jsongppd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534951666, "creation_date": 1534949545, "last_edit_date": 1534951666, "question_id": 51969589, "link": "https://stackoverflow.com/questions/51969589/use-response-result-outside-the-subscribe-resulting-to-undefined-in-angular6", "title": "Use response result outside the subscribe resulting to undefined in Angular6", "body": "<p>Good day, </p>\n\n<p>I'm new with using Angular6, I'm having a trouble because I want to get the value response result inside the subscribe and use it outside the subscribe.</p>\n\n<p>Here are my codes:</p>\n\n<pre><code>name: string;\n\nconstructor(private myService: MyService) { }\n\nmyMethod(){\n    this.myService.getName().subscribe((response: any) =&gt; {\n        this.name = response.name;\n    }, error =&gt; {\n        console.log(`Something went wrong`);\n    });\n\n    console.log(this.name);\n}\n</code></pre>\n\n<p>To add up,</p>\n\n<p>Here is my sample service:</p>\n\n<pre><code>myService(): Observable&lt;any&gt; {\n    return this.http.get&lt;any&gt;(`${apiUrl}names/`);\n}\n</code></pre>\n\n<p>Unfortunately, I'm having <code>undefined</code> error on my <code>console.log(this.name)</code> I already using Observable on my angular service</p>\n"}, {"tags": ["typescript", "decorator"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1535422005, "post_id": 51969492, "comment_id": 91048953, "body": "If you want <code>ExposeToGraphQL</code> to serve the purpose of both <code>Expose</code> and <code>Type</code>, doesn&#39;t it need to take the same parameter that <code>Type</code> does, for starters?"}, {"owner": {"reputation": 1938, "user_id": 547995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9c92b959f137fa47172bec4bce64a7e0?s=128&d=identicon&r=PG", "display_name": "user547995", "link": "https://stackoverflow.com/users/547995/user547995"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1535959462, "post_id": 51969492, "comment_id": 91239581, "body": "I thought to worry about parameters later :)"}], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 1377623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f818f912384ddbdea26b8ccadccb784?s=128&d=identicon&r=PG", "display_name": "toancaro", "link": "https://stackoverflow.com/users/1377623/toancaro"}, "is_accepted": true, "score": 16, "last_activity_date": 1535478364, "creation_date": 1535478364, "answer_id": 52063653, "question_id": 51969492, "link": "https://stackoverflow.com/questions/51969492/how-to-combine-multiple-property-decorators-in-typescript/52063653#52063653", "title": "How to combine multiple property decorators in Typescript?", "body": "<pre><code>import { Expose, Type, TypeOptions, ExposeOptions } from 'class-transformer';\n\n/**\n * Combines @Expose then @Types decorators.\n * @param exposeOptions options that passes to @Expose()\n * @param typeFunction options that passes to @Type()\n */\nfunction ExposeToGraphQL(exposeOptions?: ExposeOptions, typeFunction?: (type?: TypeOptions) =&gt; Function) {\n  const exposeFn = Expose(exposeOptions);\n  const typeFn = Type(typeFunction);\n\n  return function (target: any, key: string) {\n    typeFn(target, key);\n    exposeFn(target, key);\n  }\n}\n</code></pre>\n\n<p>Then you can use that decorator as follow:</p>\n\n<pre><code>class Template extends Typegoose {\n    @ExposeToGraphQL(/*exposeOptions*/ undefined, /*typeFunction*/ () =&gt; String)\n    @Field(() =&gt; ID)\n    public _id?: mongoose.Types.ObjectId;\n}\n</code></pre>\n\n<hr>\n\n<p>You can find official documentation for decorator <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"noreferrer\">in this link</a>.</p>\n\n<p><code>@Expose</code> and <code>@Type()</code> are basically <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html#decorator-factories\" rel=\"noreferrer\">Decorator Factories</a>. The main purpose of a decorator factory:</p>\n\n<ul>\n<li>it return a function</li>\n<li>that function will be called at runtime (right after the class, in this case is <code>Template</code>, was defined) with 2 arguments:\n\n<ul>\n<li>class prototype (<code>Template.prototype</code>) </li>\n<li>name of the property which the decorator attached to (<code>_id</code>).</li>\n</ul></li>\n</ul>\n\n<p>If two or more decorators are attached to a same property (called as <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html#decorator-composition\" rel=\"noreferrer\">Decorator Composition</a>), they are evaluated as follow:</p>\n\n<ul>\n<li>The factory functions are executed in the same order as they are written in code</li>\n<li>The functions returned by factory functions are executed in <strong>reversed</strong> order</li>\n</ul>\n"}], "owner": {"reputation": 1938, "user_id": 547995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9c92b959f137fa47172bec4bce64a7e0?s=128&d=identicon&r=PG", "display_name": "user547995", "link": "https://stackoverflow.com/users/547995/user547995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3673, "favorite_count": 3, "accepted_answer_id": 52063653, "answer_count": 1, "score": 12, "last_activity_date": 1535478364, "creation_date": 1534949215, "question_id": 51969492, "link": "https://stackoverflow.com/questions/51969492/how-to-combine-multiple-property-decorators-in-typescript", "title": "How to combine multiple property decorators in Typescript?", "body": "<p>I have a class <code>Template</code> with a property <code>_id</code> which has decorators from <code>class-transformer</code> and <code>typed-graphql</code></p>\n\n<pre><code>import {classToPlain, Exclude, Expose, plainToClass, Type } from 'class-transformer';\nimport { ExposeToGraphQL } from '../../decorators/exposeToGraphQL';\nimport { Field, ID, MiddlewareInterface, NextFn, ObjectType, ResolverData } from 'type-graphql';\nimport { getClassForDocument, InstanceType, prop, Typegoose } from 'typegoose';\n/**\n  * Class\n  * @extends Typegoose\n  */\n@Exclude()\n@ObjectType()\nclass Template extends Typegoose {\n  // @Expose and @Type should be both covered by ExposeToGraphQL\n  // @Expose()\n  @Type(() =&gt; String)\n  @ExposeToGraphQL()\n  @Field(() =&gt; ID)\n  public _id?: mongoose.Types.ObjectId;\n}\n</code></pre>\n\n<p>Now I try to combine those two into a new custom property decorator:</p>\n\n<pre><code>/**\n *\n */\nimport { Expose } from 'class-transformer';\nimport 'reflect-metadata';\n\nconst formatMetadataKey: Symbol = Symbol('ExposeToGraphQL');\n\nfunction ExposeToGraphQL() {\n  console.log('ExposeToGraphQL');\n\n  return Expose();\n}\n\nfunction getExposeToGraphQL(target: any, propertyKey: string) {\n  console.log('getExposeToGraphQL');\n\n  return Reflect.getMetadata(formatMetadataKey, target, propertyKey);\n}\n\nexport {\n  ExposeToGraphQL,\n  getExposeToGraphQL,\n};\n</code></pre>\n\n<p>The custom decorator works if I only return the result of <code>Expose()</code>, but I don't know how to combine <code>@Expose</code> and <code>@Type</code> in <code>@ExposeToGraphQL()</code>.</p>\n"}, {"tags": ["javascript", "typescript", "promise", "es6-promise"], "answers": [{"tags": [], "owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "is_accepted": true, "score": 3, "last_activity_date": 1534949149, "last_edit_date": 1534949149, "creation_date": 1534948820, "answer_id": 51969355, "question_id": 51969277, "link": "https://stackoverflow.com/questions/51969277/trouble-with-promises-completing/51969355#51969355", "title": "Trouble with Promises completing", "body": "<p>You're never <code>resolve</code> or <code>reject</code> -ing any of you're promises, and what's more you've fallen into the <a href=\"https://www.datchley.name/promise-patterns-anti-patterns/\" rel=\"nofollow noreferrer\">anti-pattern</a> of a wrapping perfectly good promises in your own Promise.</p>\n\n<p>For example, instead of this:</p>\n\n<pre><code>private _fetchJobs(): Promise&lt;void&gt; {\n    console.log(\"fetching jobs\");\n    let promise: Promise&lt;void&gt; = new Promise&lt;void&gt;((resolve, reject) =&gt; {\n      this.props.deliveryJobService.getDeliveryJobs()\n      .then((newJobs: IDeliveryJob[]) =&gt; {\n        console.log(\"jobs fetched, setting state\");\n        this.setState ({\n          jobs: newJobs\n        });\n      });  \n    });\n\n    return promise;\n}\n</code></pre>\n\n<p>you should do this:</p>\n\n<pre><code>private _fetchJobs(): Promise&lt;void&gt; {\n    console.log(\"fetching jobs\");\n    return this.props.deliveryJobService.getDeliveryJobs()\n      .then((newJobs: IDeliveryJob[]) =&gt; {\n        console.log(\"jobs fetched, setting state\");\n        this.setState ({\n          jobs: newJobs\n        });\n      });  \n}\n</code></pre>\n\n<p>When you do this in <code>_createJob</code> don't forget to <em>return</em> the chained promise:</p>\n\n<pre><code> private _createJob(newJob: IDeliveryJob): Promise&lt;void&gt; {\n    console.log(\"creating job\");\n    return this.props.deliveryJobService.createJob(newJob)\n      .then(() =&gt; {\n        console.log(\"job created, fetching jobs\");\n        return this._fetchJobs() // HERE!\n          .then(() =&gt; {\n\n          });\n      });  \n  }\n</code></pre>\n\n<p>Each of your methods should return the promise, not wrap it in a new one, and then your problem will no longer exist... and what's more you can just chain your calls, which makes the code more readable.</p>\n"}, {"tags": [], "owner": {"reputation": 494, "user_id": 5510300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71826b78fc283ecc96174f4c6c65da9c?s=128&d=identicon&r=PG&f=1", "display_name": "Antiokus", "link": "https://stackoverflow.com/users/5510300/antiokus"}, "is_accepted": false, "score": 2, "last_activity_date": 1534948999, "creation_date": 1534948999, "answer_id": 51969423, "question_id": 51969277, "link": "https://stackoverflow.com/questions/51969277/trouble-with-promises-completing/51969423#51969423", "title": "Trouble with Promises completing", "body": "<p>The problem is you\u2019re using the Promise constructor where you don\u2019t need to. </p>\n\n<pre><code>private _fetchJobs(): Promise&lt;void&gt; {\n      console.log(\"fetching jobs\");\n      return this.props.deliveryJobService.getDeliveryJobs().then((newJobs: IDeliveryJob[]) =&gt; {\n         console.log(\"jobs fetched, setting state\");\n         this.setState ({\n           jobs: newJobs\n         });\n       });\n\n  }\n</code></pre>\n"}], "owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 51969355, "answer_count": 2, "score": 2, "last_activity_date": 1534949468, "creation_date": 1534948524, "last_edit_date": 1534949468, "question_id": 51969277, "link": "https://stackoverflow.com/questions/51969277/trouble-with-promises-completing", "title": "Trouble with Promises completing", "body": "<p>The user will click a button which will call:</p>\n\n<pre><code>private _saveJobCreate(): void {\n  if ((this.state.jobToCreate.TruckLookUpId &amp;&amp; this.state.jobToCreate.TruckLookUpId !== undefined) &amp;&amp;\n    (this.state.jobToCreate.DeliveryDate &amp;&amp; this.state.jobToCreate.DeliveryDate.length &gt; 0)) {\n    console.log(\"valid input, should save\");\n\n    this._createJob(this.state.jobToCreate)\n      .then(() =&gt; {\n        console.log(\"job created and should be fetched, hiding panel\");\n        this._hideJobCreatePanel();\n      });\n  }\n}\n</code></pre>\n\n<p>Which calls this method:</p>\n\n<pre><code>private _createJob(newJob: IDeliveryJob): Promise &lt; void &gt; {\n  console.log(\"creating job\");\n  let promise: Promise &lt; void &gt; = new Promise &lt; void &gt; ((resolve, reject) =&gt; {\n    this.props.deliveryJobService.createJob(newJob)\n      .then(() =&gt; {\n        console.log(\"job created, fetching jobs\");\n        this._fetchJobs()\n          .then(() =&gt; {\n\n          });\n      });\n  });\n  return promise;\n}\n</code></pre>\n\n<p>Which will fetch my jobs from a Sharepoint list:</p>\n\n<pre><code>private _fetchJobs(): Promise &lt; void &gt; {\n  console.log(\"fetching jobs\");\n  let promise: Promise &lt; void &gt; = new Promise &lt; void &gt; ((resolve, reject) =&gt; {\n    this.props.deliveryJobService.getDeliveryJobs()\n      .then((newJobs: IDeliveryJob[]) =&gt; {\n        console.log(\"jobs fetched, setting state\");\n        this.setState({\n          jobs: newJobs\n        });\n      });\n  });\n  return promise;\n}\n</code></pre>\n\n<p>The issue is it stops at setting the state, the last console.log I see is:</p>\n\n<blockquote>\n  <p>fetching jobs DeliveryJobService.ts:59 response.json:  \u0192 (){return\n  this.nativeResponse.json()} DeliveryJobService.ts:63 response.value: \n  (24)\u00a0[{\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026},\n  {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}]\n  TruckDeliverySchedule.tsx:503 jobs fetched, setting state</p>\n</blockquote>\n\n<p>So, it looks like the last method <code>_fetchJobs()</code> is not returning its <code>Promise</code> so the first method can call <code>_hideJobCreatePanel()</code>.</p>\n\n<p>I'm pretty new with typescript/javascript development and I can't figure out why the last <code>Promise</code> isn't being return.</p>\n"}, {"tags": ["typescript", "graphql", "graphql-js"], "answers": [{"comments": [{"owner": {"reputation": 775, "user_id": 3021445, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100000914420897/picture?type=large", "display_name": "aspirisen", "link": "https://stackoverflow.com/users/3021445/aspirisen"}, "edited": false, "score": 0, "creation_date": 1535031921, "post_id": 51968630, "comment_id": 90924076, "body": "Thanks for the answer. I copied this code to TypeScript playground and TS allowed me to have access to properties that I didn&#39;t select in <code>gql</code>  const result = gql(data, { one: true, three: { five: { six: true } } }); const another = result.three.four; // no errors, but I didn&#39;t select the <code>four</code> property above"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 775, "user_id": 3021445, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100000914420897/picture?type=large", "display_name": "aspirisen", "link": "https://stackoverflow.com/users/3021445/aspirisen"}, "edited": false, "score": 0, "creation_date": 1535033507, "post_id": 51968630, "comment_id": 90925151, "body": "Oops, in attempting to simplify the definition of <code>RecursivePick</code>, I broke it.  Please try again."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 3, "last_activity_date": 1535033491, "last_edit_date": 1535033491, "creation_date": 1534946513, "answer_id": 51968630, "question_id": 51968157, "link": "https://stackoverflow.com/questions/51968157/type-gql-tag-in-typescript/51968630#51968630", "title": "Type gql-tag in TypeScript", "body": "<p>This is working for me in the playground:</p>\n\n<pre><code>interface Data {\n    one: string;\n    two: number;\n    three: {\n        four: string;\n        five: {\n            six: Date;\n        };\n    };\n}\n\n// Prevent widening of true to boolean in queries\ntype RecursivePartial1 = { [k: string]: RecursivePartial1 | true };\n// true means that this field must be added to query\ntype RecursivePartial&lt;T&gt; = RecursivePartial1 &amp; { [P in keyof T]?: RecursivePartial&lt;T[P]&gt; | boolean };\n\ntype RecursivePick&lt;T, Q extends RecursivePartial&lt;T&gt;&gt; =\n  { [P in keyof T &amp; keyof Q]:\n    Q[P] extends RecursivePartial&lt;T[P]&gt; ? RecursivePick&lt;T[P], Q[P]&gt; : T[P] };\n\nfunction gql&lt;T, Q extends RecursivePartial&lt;T&gt;&gt;(data: T, fields: Q): RecursivePick&lt;T, Q&gt; {\n  // Some code about generating GraphQL query\n}\n\ndeclare const data: Data;\nconst result = gql(data, { one: true, three: { five: { six: true } } });\n\n// type ResultData {\n//     one: string;\n//     three: {\n//         five: {\n//             six: Date;\n//         };\n//     };\n// }\n</code></pre>\n"}], "owner": {"reputation": 775, "user_id": 3021445, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100000914420897/picture?type=large", "display_name": "aspirisen", "link": "https://stackoverflow.com/users/3021445/aspirisen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 979, "favorite_count": 0, "accepted_answer_id": 51968630, "answer_count": 1, "score": 2, "last_activity_date": 1535033491, "creation_date": 1534944973, "question_id": 51968157, "link": "https://stackoverflow.com/questions/51968157/type-gql-tag-in-typescript", "title": "Type gql-tag in TypeScript", "body": "<p>I am working with GraphQL and I want to have strict typing in <code>gql</code>. Is it possible to make <code>result</code> variable to be shape of <code>ResultData</code> i.e. with the latest version of TypeScript. It is only about typing, not about runtime.</p>\n\n<pre><code>interface Data {\n    one: string;\n    two: number;\n    three: {\n        four: string;\n        five: {\n            six: Date;\n        };\n    };\n}\n\n// true means that this field must be added to query\ntype RecursivePartial&lt;T&gt; = {[P in keyof T]?: RecursivePartial&lt;T[P]&gt; | true};\n\nfunction gql&lt;T&gt;(fields: RecursivePartial&lt;T&gt;) {\n  // Some code about generating GraphQL query\n}\n\nconst result = gql&lt;Data&gt;({one: true, three: {five: {six: true}}});\n\n// type ResultData {\n//     one: string;\n//     three: {\n//         five: {\n//             six: Date;\n//         };\n//     };\n// }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 19885, "user_id": 1961059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvYjK.jpg?s=128&g=1", "display_name": "rinukkusu", "link": "https://stackoverflow.com/users/1961059/rinukkusu"}, "is_accepted": true, "score": 3, "last_activity_date": 1534944517, "creation_date": 1534944517, "answer_id": 51968015, "question_id": 51967977, "link": "https://stackoverflow.com/questions/51967977/cannot-find-a-differ-supporting-object-mynums-of-type-string-ngfor-only-sup/51968015#51968015", "title": "Cannot find a differ supporting object &#39;myNums&#39; of type &#39;string&#39;. NgFor only supports binding to Iterables such as Arrays", "body": "<p>You have to use <a href=\"https://angular.io/guide/template-syntax#binding-syntax-an-overview\" rel=\"nofollow noreferrer\">object binding</a> and use brackets around the attribute:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;app-num-list [options]=\"myNums\"&gt;&lt;/app-num-list&gt;\n</code></pre>\n\n<p>This way you don't bind the string <code>\"myNums\"</code> but the actual value of the member variable.</p>\n"}], "owner": {"reputation": 45, "user_id": 8431660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c129b722432188ada0205cc51292d82?s=128&d=identicon&r=PG&f=1", "display_name": "pablito94", "link": "https://stackoverflow.com/users/8431660/pablito94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 51968015, "answer_count": 1, "score": 1, "last_activity_date": 1534944901, "creation_date": 1534944368, "question_id": 51967977, "link": "https://stackoverflow.com/questions/51967977/cannot-find-a-differ-supporting-object-mynums-of-type-string-ngfor-only-sup", "title": "Cannot find a differ supporting object &#39;myNums&#39; of type &#39;string&#39;. NgFor only supports binding to Iterables such as Arrays", "body": "<p>im working with angular components and am having an error that ive simplified to the following. i have a NumList component.</p>\n\n<p>NumList.ts</p>\n\n<pre><code>export class NumList implements OnInit{\n@Input() options: number[];\n\nconstructor(){}\n\nngOnInit(){}\n}\n</code></pre>\n\n<p>NumList.html</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li *ngFor=\"let op of options\"&gt;op&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I also have a parent component:</p>\n\n<p>Parent.ts</p>\n\n<pre><code>export class Parent implements OnInit{\nmyNums: number[]=[1,2,3];\n\nconstructor(){}\n\nngOnInit(){}\n}\n</code></pre>\n\n<p>Parent.html</p>\n\n<pre><code>&lt;app-num-list options=\"myNums\"&gt;&lt;/app-num-list&gt;\n</code></pre>\n\n<p>The following error is being thrown </p>\n\n<blockquote>\n  <p>Cannot find a differ supporting object 'myNums' of type 'string'.\n  NgFor only supports binding to Iterables such as Arrays.</p>\n</blockquote>\n\n<p>it seems parent component is passing the name of the array myNums to NumList instead of the array itself. what am i doing wrong?</p>\n"}, {"tags": ["angular", "forms", "typescript", "pagination", "formgroups"], "comments": [{"owner": {"reputation": 1829, "user_id": 1504265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/39b0bb80b79d4f9d0e4629ffe0f716f5?s=128&d=identicon&r=PG", "display_name": "Vinod Bhavnani", "link": "https://stackoverflow.com/users/1504265/vinod-bhavnani"}, "edited": false, "score": 1, "creation_date": 1534944529, "post_id": 51967683, "comment_id": 90886173, "body": "The problem is that you are loading the question and it&#39;s possible answers each time you click on the page numbers. Even if the page has been loaded earlier, you are loading it again. This will create 2 problems 1) Overhead of HTTP calls and 2) Removing previously selected answers. You need to somehow check if the page has already been loaded earlier. If it has then you don&#39;t load it again. This way you will preserve your answers too."}, {"owner": {"reputation": 1829, "user_id": 1504265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/39b0bb80b79d4f9d0e4629ffe0f716f5?s=128&d=identicon&r=PG", "display_name": "Vinod Bhavnani", "link": "https://stackoverflow.com/users/1504265/vinod-bhavnani"}, "edited": false, "score": 0, "creation_date": 1534944646, "post_id": 51967683, "comment_id": 90886255, "body": "So basically everytime you call the setPage method, you update an array called loadedPageNumbers. So say you clicked on page 4, you now check in the array if page 4 exists in loadedPageNumbers, then you don&#39;t do the service call again"}, {"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "reply_to_user": {"reputation": 1829, "user_id": 1504265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/39b0bb80b79d4f9d0e4629ffe0f716f5?s=128&d=identicon&r=PG", "display_name": "Vinod Bhavnani", "link": "https://stackoverflow.com/users/1504265/vinod-bhavnani"}, "edited": false, "score": 0, "creation_date": 1534944952, "post_id": 51967683, "comment_id": 90886477, "body": "how do I do that? and isn&#39;t it initialize it every-time it&#39;s load a new page? I think maybe if I can implement pagination differently it&#39;ll be possible, but how can I implement pagination in a way that&#39;ll now load the page every-time?"}, {"owner": {"reputation": 1927, "user_id": 2649586, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4d2fe3ad3c7ea945a4d979e00a261ac6?s=128&d=identicon&r=PG", "display_name": "dAxx_", "link": "https://stackoverflow.com/users/2649586/daxx"}, "edited": false, "score": 0, "creation_date": 1534945886, "post_id": 51967683, "comment_id": 90887117, "body": "Service is not for multi components, its for handling data logic or anything that SERVE you in any way. HTTP requests, mockup api, static data that need to be managed, Spinners, Navigations. You can use it as you need. and in your case, you need to manage some kind of state between questions. So you can create a service that provided only in this specific module and live as long as you are using the quiz module."}, {"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1534946076, "post_id": 51967683, "comment_id": 90887242, "body": "I have service for the pagination, so maybe I need to update it? if so I don&#39;t know how because it&#39;s a code I copied. I&#39;ll add it to the question"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1534944321, "post_id": 51967943, "comment_id": 90886022, "body": "This should be a comment."}, {"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1534944765, "post_id": 51967943, "comment_id": 90886363, "body": "there&#39;s always one option only to check. we get object that only contain the questions info. I don&#39;t need to save to a database the answers, only locally to know if he answer correct or finished. each question contain the question, 4 answers and correct which contain the number of the correct answer (1 || 2 || 3|| 4||). I want that when the user check answer that the data will save automatically and bind to array or something (I&#39;ll save the data in index that fits the page number). I don&#39;t how to implement this so this is my problem"}, {"owner": {"reputation": 4880, "user_id": 1374311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fbc434d6cdef7dac0f8245d761a03a?s=128&d=identicon&r=PG", "display_name": "alexey28", "link": "https://stackoverflow.com/users/1374311/alexey28"}, "edited": false, "score": 0, "creation_date": 1534947507, "post_id": 51967943, "comment_id": 90888170, "body": "I have add code example you can use to subscribe on radio group change value event"}], "tags": [], "owner": {"reputation": 4880, "user_id": 1374311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1fbc434d6cdef7dac0f8245d761a03a?s=128&d=identicon&r=PG", "display_name": "alexey28", "link": "https://stackoverflow.com/users/1374311/alexey28"}, "is_accepted": false, "score": -1, "last_activity_date": 1534947443, "last_edit_date": 1534947443, "creation_date": 1534944257, "answer_id": 51967943, "question_id": 51967683, "link": "https://stackoverflow.com/questions/51967683/angular-6-build-quiz-using-formgroup-and-save-data-through-pagination/51967943#51967943", "title": "Angular 6: Build Quiz using FormGroup and save data through Pagination", "body": "<ol>\n<li>If you can identify questions by index then array will be fine. The other question is that it might be not array of integers but array of objects for case when user should select more than one answer for single question (not radio, but checkbox)</li>\n<li>You have to process not only submit but navigation to other pages and store selected answer(s) in the array when user navigate to other page</li>\n</ol>\n\n<p><strong>EDIT</strong></p>\n\n<p>You can implement saving of selected answer by subscribing on radio group chnage value event:</p>\n\n<pre><code>this.formGroup.controls['selected'].valueChanges.subscribe(value =&gt; {\n    // TODO: save selected abswer in the array\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1534945265, "post_id": 51968183, "comment_id": 90886690, "body": "what&#39;s the purpose of the service? service is good when working with multiple components but I have only one. do you mean add another component of question?"}, {"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1534945452, "post_id": 51968183, "comment_id": 90886805, "body": "also, I get from a backend array IQuestion[] that contains this fields: question: string, answer1: string, answer2: string, answer3: string, answer4: string, correct: int. in any quiz there&#39;s only 4 answers and correct contains the number of the correct answer (1,2,3,4)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1534945583, "post_id": 51968183, "comment_id": 90886910, "body": "In my case, there is two components (I just edited the blitz). And even if there was only one, a service is a singleton : it will hold the data until the application is destroyed (refresh, browser closed ...). According to the style guide, services should also handle business code, and questions are your business. And as said, I made a quick example, but nothing prevents you from requesting your questions from the backend and changing the data model."}, {"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1534945977, "post_id": 51968183, "comment_id": 90887174, "body": "this is a small part in my project, In fact I have Courses and every course contains segments which is or video or quiz. I don&#39;t understand how service will solve my problem with the pagination. someone wrote that the pagination load new pages every time I change the page and I can&#39;t save data, and also I have a difficulty understanding how the flow with the service. If you could explain a little further I&#39;d be great, and thanks for the help"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1534946661, "post_id": 51968183, "comment_id": 90887619, "body": "The service is useful for storing the data. As you can see, my service saves the data and doesn&#39;t have an issue with pagination. I have commented the blitz with steps to follow. Start at <code>app.module.ts</code>"}, {"owner": {"reputation": 1927, "user_id": 2649586, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4d2fe3ad3c7ea945a4d979e00a261ac6?s=128&d=identicon&r=PG", "display_name": "dAxx_", "link": "https://stackoverflow.com/users/2649586/daxx"}, "edited": false, "score": 0, "creation_date": 1534946696, "post_id": 51968183, "comment_id": 90887636, "body": "Actually my comment supposed to be here and not directly in your question, But I will leave it there... Your service should do exactly what you asked for. Save your states between questions, so when you go back you can pull it from the service and fetch it in your view."}, {"owner": {"reputation": 1927, "user_id": 2649586, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4d2fe3ad3c7ea945a4d979e00a261ac6?s=128&d=identicon&r=PG", "display_name": "dAxx_", "link": "https://stackoverflow.com/users/2649586/daxx"}, "edited": false, "score": 0, "creation_date": 1534946815, "post_id": 51968183, "comment_id": 90887732, "body": "and if you have a service for the pagination, just update the current state of you question. so you have like QUIZ object, which holds all the answers, so you can pull it back when ever you need."}, {"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1534946961, "post_id": 51968183, "comment_id": 90887822, "body": "I have a little problem with using it because this component is a child to other component and get the data with Input Injectable so if I use service I don&#39;t know how I can inject that data to the service. service can use Input Injectable too? and what do you mean by state of the question? add property in the pager service for this?"}, {"owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "edited": false, "score": 0, "creation_date": 1534947421, "post_id": 51968183, "comment_id": 90888111, "body": "I added my full project in stackblitz and added link in the question so my problem will be clear"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1534945054, "creation_date": 1534945054, "answer_id": 51968183, "question_id": 51967683, "link": "https://stackoverflow.com/questions/51967683/angular-6-build-quiz-using-formgroup-and-save-data-through-pagination/51968183#51968183", "title": "Angular 6: Build Quiz using FormGroup and save data through Pagination", "body": "<p>If I were you, i would instead route the whole question module and use a sharign service to handle that. </p>\n\n<p>I made a quick <a href=\"https://stackblitz.com/edit/angular-kpgkld?file=src%2Fapp%2Fquestion%2Fquestion.component.ts\" rel=\"nofollow noreferrer\">stackblitz</a> to show you an example. </p>\n\n<p>of course, it can be improved, but it's only to give you an idea on what I would do. </p>\n\n<p>I think that your case is the perfect example of routing. And not only that, but your code will become more readable, reusable, and clear with this approach. </p>\n"}], "owner": {"reputation": 525, "user_id": 7431246, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154943107064592/picture?type=large", "display_name": "Ofir Sasson", "link": "https://stackoverflow.com/users/7431246/ofir-sasson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5060, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1534947443, "creation_date": 1534943418, "last_edit_date": 1534947361, "question_id": 51967683, "link": "https://stackoverflow.com/questions/51967683/angular-6-build-quiz-using-formgroup-and-save-data-through-pagination", "title": "Angular 6: Build Quiz using FormGroup and save data through Pagination", "body": "<p><strong>EDIT</strong> \n<a href=\"https://stackblitz.com/edit/angular-wc6zeu?file=src%2Fpolyfills.ts\" rel=\"nofollow noreferrer\">this is my full project in stackblitz</a>\ncourse-quiz is in course-play folder (course-play is parent of course-quiz)</p>\n\n<p>I'm trying to build a quiz which separate to pages (each page have one question). I'm using Pagination to do this. \nThe data pass from backend and there's no problems with html and http requests.\nI don't need to save the answers to a database, so I want to use a local array somehow.</p>\n\n<p>This is how the quiz looks like: <a href=\"https://i.stack.imgur.com/P1hZ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P1hZ3.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I check answer and move to another page and return the that page the data's gone.\nI don't know which data structure to use (maybe array of int?) and because the submit button only on the last page I don't know when to do the update (when I set the pager?). How do I save the data using formGroup?\nThis is my code so far:</p>\n\n<p><strong>component</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit, Input } from '@angular/core';\r\nimport { ActivatedRoute, Router, Routes, NavigationEnd } from '@angular/router';\r\nimport { FormControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { ICourse } from '../../course';\r\nimport { ISegment } from '../../course';\r\nimport { IQuestion } from '../../course';\r\nimport { CourseService } from '../../course.service';\r\nimport { PagerService } from '../../pager.service';\r\n\r\nimport * as _ from 'underscore';\r\n\r\n@Component({\r\n  selector: 'quiz-course',\r\n  templateUrl: './course-quiz.component.html',\r\n  styleUrls: ['./course-quiz.component.sass']\r\n})\r\n\r\nexport class CourseQuizComponent implements OnInit {\r\n\r\n  // the data I get from course-play component\r\n  @Input() items: IQuestion[];\r\n\r\n  // variables for pagination\r\n  pagedItems: IQuestion[];\r\n  pager: any = {};\r\n\r\n  answersArray: any[];              // array of answers the user choose\r\n  index: int;                      // current index of answersArray\r\n  sum: int;                       // number of answers the user answered\r\n  public quizForm: FormGroup     // radio buttons in the quiz form\r\n\r\n  constructor(private courseService: CourseService,\r\n      private route: ActivatedRoute,\r\n      private router: Router,\r\n      private fb: FormBuilder,\r\n      private pagerService: PagerService) {  }\r\n\r\n  ngOnInit() {\r\n    this.setPage(1);\r\n    this.index = 0;\r\n    this.sum = 0;\r\n    this.checked = false;\r\n\r\n    this.quizForm = this.fb.group({\r\n      selected: [{value: ''}, [Validators.required]]\r\n    });\r\n  }\r\n\r\n  // change pages\r\n  setPage(page: number) {\r\n    if (page &lt; 1 || page &gt; this.pager.totalPages) {\r\n        return;\r\n    }\r\n\r\n    // get pager object from service\r\n    this.pager = this.pagerService.getPager(this.items.length, page);\r\n\r\n    // get current page of items\r\n    this.pagedItems = this.items.slice(this.pager.startIndex, this.pager.endIndex + 1);\r\n\r\n    // do something here to update answersArray\r\n  }\r\n\r\n  // getter for easy access to form fields\r\n  get f() {\r\n    return this.quizForm.controls;\r\n  }\r\n\r\n  // insert to local array the answers of the user after he press submit\r\n  onSubmit() {\r\n\r\n  // if we answered all answers, go to finish page\r\n  if (this.sum == this.items.length) { }\r\n\r\n\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>html</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- If the user didn't answer all the questions --&gt;\r\n  &lt;div class=\"container\" *ngIf=\"sum &lt; pager.totalPages\"&gt;\r\n      &lt;div class=\"text-left quiz-body\" *ngFor=\"let item of pagedItems\"&gt;\r\n        &lt;form [formGroup]=\"quizForm\" (ngSubmit)=\"onSubmit()\"&gt;\r\n          &lt;!-- items being paged --&gt;\r\n          &lt;h3&gt;Question {{item.id}}/{{items.length}}&lt;/h3&gt;\r\n          &lt;h6&gt;Question {{item.question}}&lt;/h6&gt;\r\n          &lt;div class=\"form-group\"&gt;\r\n            &lt;mat-radio-group FormControlName=\"selected\" class=\"form-control\"&gt;\r\n              &lt;ul class=\"items\"&gt;\r\n                &lt;li&gt;&lt;mat-radio-button color=\"primary\" id=\"answer1\" value=\"1\"&gt;&lt;/mat-radio-button&gt;&lt;label for=\"answer1\"&gt;1. {{item.answer1}}&lt;/label&gt;&lt;/li&gt;\r\n                &lt;li&gt;&lt;mat-radio-button color=\"primary\" id=\"answer2\" value=\"2\"&gt;&lt;/mat-radio-button&gt;&lt;label for=\"answer2\"&gt;2. {{item.answer2}}&lt;/label&gt;&lt;/li&gt;\r\n                &lt;li&gt;&lt;mat-radio-button color=\"primary\" id=\"answer3\" value=\"3\"&gt;&lt;/mat-radio-button&gt;&lt;label for=\"answer3\"&gt;3. {{item.answer3}}&lt;/label&gt;&lt;/li&gt;\r\n                &lt;li&gt;&lt;mat-radio-button color=\"primary\" id=\"answer4\" value=\"4\"&gt;&lt;/mat-radio-button&gt;&lt;label for=\"answer4\"&gt;4. {{item.answer4}}&lt;/label&gt;&lt;/li&gt;\r\n              &lt;/ul&gt;\r\n            &lt;/mat-radio-group&gt;\r\n          &lt;/div&gt;\r\n\r\n          &lt;!-- Submit Buttom will show only on the last page --&gt;\r\n          &lt;div *ngIf=\"pager.currentPage == pager.totalPages\"&gt;\r\n            &lt;button type=\"submit\" class=\"btn btn-primary mb-2\"&gt;Submit&lt;/button&gt;\r\n          &lt;/div&gt;\r\n\r\n\r\n          &lt;!-- pager --&gt;\r\n          &lt;ul *ngIf=\"pager.pages &amp;&amp; pager.pages.length\" class=\"pagination\"&gt;\r\n              &lt;li class=\"page-item\" [ngClass]=\"{disabled:pager.currentPage === 1}\"&gt;\r\n                  &lt;a class=\"page-link\" (click)=\"setPage(1)\"&gt;First&lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"page-item\" [ngClass]=\"{disabled:pager.currentPage === 1}\"&gt;\r\n                  &lt;a class=\"page-link\" (click)=\"setPage(pager.currentPage - 1)\"&gt;Previous&lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"page-item\" *ngFor=\"let page of pager.pages\" [ngClass]=\"{active:pager.currentPage === page}\"&gt;\r\n                  &lt;a class=\"page-link\" (click)=\"setPage(page)\"&gt;{{page}}&lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"page-item\" [ngClass]=\"{disabled:pager.currentPage === pager.totalPages}\"&gt;\r\n                  &lt;a class=\"page-link\" (click)=\"setPage(pager.currentPage + 1)\"&gt;Next&lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"page-item\" [ngClass]=\"{disabled:pager.currentPage === pager.totalPages}\"&gt;\r\n                  &lt;a class=\"page-link\" (click)=\"setPage(pager.totalPages)\"&gt;Last&lt;/a&gt;\r\n              &lt;/li&gt;\r\n          &lt;/ul&gt;\r\n        &lt;/form&gt;\r\n      &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;!-- If the user finished the quiz, this div will displaying instead --&gt;\r\n&lt;div class=\"container\" *ngIf=\"sum == pager.totalPages\"&gt;\r\n  &lt;h3&gt; You have just finished the quiz! &lt;/h3&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>this is the pagination service:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import * as _ from 'underscore';\r\n\r\nexport class PagerService {\r\n    getPager(totalItems: number, currentPage: number = 1, pageSize: number = 1) {\r\n        // calculate total pages\r\n        let totalPages = Math.ceil(totalItems / pageSize);\r\n\r\n        let startPage: number, endPage: number;\r\n        // if (totalPages &lt;= 10) {\r\n        //     // less than 10 total pages so show all\r\n        //     startPage = 1;\r\n        //     endPage = totalPages;\r\n        // } else {\r\n        //     // more than 10 total pages so calculate start and end pages\r\n        //     if (currentPage &lt;= 6) {\r\n        //         startPage = 1;\r\n        //         endPage = 10;\r\n        //     } else if (currentPage + 4 &gt;= totalPages) {\r\n        //         startPage = totalPages - 9;\r\n        //         endPage = totalPages;\r\n        //     } else {\r\n        //         startPage = currentPage - 5;\r\n        //         endPage = currentPage + 4;\r\n        //     }\r\n        // }\r\n\r\n        if (totalPages &lt;= 5) {\r\n            startPage = 1;\r\n            endPage = totalPages;\r\n        } else {\r\n            if (currentPage &lt;= 3) {\r\n                startPage = 1;\r\n                endPage = 5;\r\n            } else if (currentPage + 1 &gt;= totalPages) {\r\n                startPage = totalPages - 4;\r\n                endPage = totalPages;\r\n            } else {\r\n                startPage = currentPage - 2;\r\n                endPage = currentPage+2;\r\n            }\r\n        }\r\n\r\n        // calculate start and end item indexes\r\n        let startIndex = (currentPage - 1) * pageSize;\r\n        let endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\r\n\r\n        // create an array of pages to ng-repeat in the pager control\r\n        let pages = _.range(startPage, endPage + 1);\r\n\r\n        // return object with all pager properties required by the view\r\n        return {\r\n            totalItems: totalItems,\r\n            currentPage: currentPage,\r\n            pageSize: pageSize,\r\n            totalPages: totalPages,\r\n            startPage: startPage,\r\n            endPage: endPage,\r\n            startIndex: startIndex,\r\n            endIndex: endIndex,\r\n            pages: pages\r\n        };\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "multi-select"], "answers": [{"comments": [{"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534943925, "post_id": 51967645, "comment_id": 90885729, "body": "I couldn&#39;t find delete option in your solution."}, {"owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534943993, "post_id": 51967645, "comment_id": 90885773, "body": "You can delete by clicking again on a field. You could also do it using an icon which sets <code>user.selected</code> to <code>false</code> on click"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534944125, "post_id": 51967645, "comment_id": 90885868, "body": "User can delete any selected value inside the input box. Not by clicking the list shown below."}, {"owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534944466, "post_id": 51967645, "comment_id": 90886119, "body": "Well you should definitely use <a href=\"https://github.com/ng-select/ng-select\" rel=\"nofollow noreferrer\">ng-select</a> as it does exactly what you want. See <code>custom tags</code> section on this <a href=\"https://stackblitz.com/edit/ng-select?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz</a>"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534944547, "post_id": 51967645, "comment_id": 90886184, "body": "That is what i should not do it as i already mentioned in question.. No library should be included inside the application.."}, {"owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534944747, "post_id": 51967645, "comment_id": 90886334, "body": "Well maybe you should re-consider this choice, that I do not understand... Still, I will try doing something for you with :)"}, {"owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534946225, "post_id": 51967645, "comment_id": 90887333, "body": "Updated answer and <a href=\"https://stackblitz.com/edit/angular-jtcae2?embed=1&amp;file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz</a>"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534949750, "post_id": 51967645, "comment_id": 90889739, "body": "Is it possible to send the selected values from your solution on form submission?? Because on form submission i have to send the selected values."}, {"owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534949966, "post_id": 51967645, "comment_id": 90889869, "body": "Yes, you can access the selected values from <code>this.selectedUsers</code>. If you only need the names, you can do : <code>this.selectedUsers.map((u) =&gt; u.name);</code>"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534951536, "post_id": 51967645, "comment_id": 90890821, "body": "Thanks for your time and help."}], "tags": [], "owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1534946186, "last_edit_date": 1534946186, "creation_date": 1534943273, "answer_id": 51967645, "question_id": 51967330, "link": "https://stackoverflow.com/questions/51967330/how-to-delete-the-selected-input-values/51967645#51967645", "title": "How to delete the selected input values", "body": "<p>Maybe you should use a <code>selected</code> field for your <code>users</code> object, as following :</p>\n\n<pre><code>users = [\n    {\n        name: 'First User',\n        selected: false\n    },\n    {\n        name: 'Second User',\n        selected: false\n    },\n    {\n        name: 'Third User',\n        selected: false\n    },\n    {\n        name: 'Fourth User',\n        selected: false\n    }\n]\n</code></pre>\n\n<p>The new html would be:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"autocomplete\"&gt;\n    &lt;div (click)=\"showChoices()\" style=\"border: solid 1px; display: flex\"&gt;\n        &lt;span *ngIf=\"!selectedUsers.length\"&gt;Users&lt;/span&gt;\n        &lt;div *ngFor=\"let user of selectedUsers\"&gt;\n            {{user.name}} &lt;a style=\"cursor: pointer\" (click)=\"unselectUser(user)\"&gt;x&lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"autocomplete-items\" *ngIf=\"show\"&gt;\n        &lt;div *ngFor=\"let user of users\" [ngClass]=\"user.selected ? 'selected-suggestion' : ''\" (click)=\"selectUser(user)\"&gt;{{user.name}}&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And the .ts :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>selectedUsers: { name: string, selected: boolean }[] = [];\nshow: boolean = false;\nselectUser(user: { name: string, selected: boolean }) {\n    if (!user.selected) {\n        user.selected = true;\n    }\n    this.selectedUsers = this.users.filter((u) =&gt; u.selected);\n    console.log(this.selectedUsers)\n}\n\nunselectUser(user: { name: string, selected: boolean }) {\n    if (user.selected) {\n        user.selected = false;\n    }\n    this.selectedUsers = this.users.filter((u) =&gt; u.selected);\n    console.log(this.selectedUsers)\n}\n\nshowChoices() {\n    if (this.selectedUsers.length) {\n        return;\n    }\n    this.show = !this.show;\n}\n</code></pre>\n\n<p>Here is the working <a href=\"https://stackblitz.com/edit/angular-jtcae2?embed=1&amp;file=src/app/app.component.html\" rel=\"nofollow noreferrer\">stackblitz</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534951888, "post_id": 51967990, "comment_id": 90891040, "body": "Check and uncheck is not working properly in your solution.. For eg, if i check all four checkboxes, and if i uncheck the <code>third user</code>, then <code>third user and fourth user</code> getting removed from the input box rather than removing <code>third alone</code>... If it was fixed then it would be good solution.. Anyhow thanks for your time and help.."}, {"owner": {"reputation": 286, "user_id": 6536540, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8qz0fAl56Rw/AAAAAAAAAAI/AAAAAAAAAOQ/pXPmY8KoPrc/photo.jpg?sz=128", "display_name": "shubham chhapre", "link": "https://stackoverflow.com/users/6536540/shubham-chhapre"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1535004682, "post_id": 51967990, "comment_id": 90908296, "body": "please replace <b>select suggestion</b> function. and i have updated above code.please check"}, {"owner": {"reputation": 286, "user_id": 6536540, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8qz0fAl56Rw/AAAAAAAAAAI/AAAAAAAAAOQ/pXPmY8KoPrc/photo.jpg?sz=128", "display_name": "shubham chhapre", "link": "https://stackoverflow.com/users/6536540/shubham-chhapre"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1535004943, "post_id": 51967990, "comment_id": 90908402, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/178581/discussion-between-shubham-chhapre-and-mani-raj\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 286, "user_id": 6536540, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8qz0fAl56Rw/AAAAAAAAAAI/AAAAAAAAAOQ/pXPmY8KoPrc/photo.jpg?sz=128", "display_name": "shubham chhapre", "link": "https://stackoverflow.com/users/6536540/shubham-chhapre"}, "is_accepted": true, "score": 1, "last_activity_date": 1535004763, "last_edit_date": 1535004763, "creation_date": 1534944407, "answer_id": 51967990, "question_id": 51967330, "link": "https://stackoverflow.com/questions/51967330/how-to-delete-the-selected-input-values/51967990#51967990", "title": "How to delete the selected input values", "body": "<p>Please try this.</p>\n\n<p>component.ts</p>\n\n<pre><code>   import { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular';\n\n  suggestions: string [] = [];\n  suggestion: string = '';\n  show: boolean;\n  typeahead: FormControl = new FormControl();\n\n  fieldHistory: string [] = [];\n\n  suggest() {\n    this.suggestions = this.users;\n    this.show = true;\n  }\n\n  selectSuggestion(s,status) {\n    this.suggestion = '';\n    if(status){\n      this.fieldHistory.push(s);\n      this.typeahead.patchValue(this.fieldHistory);\n    }else{\n      this.fieldHistory.forEach((element,index) =&gt; {\n        if(element == s){ \n          this.fieldHistory.splice(index,1);\n        }\n      });\n      this.typeahead.patchValue(this.fieldHistory);\n    }\n  }\n\n  users = ['First User', 'Second User', 'Third User', 'Fourth User'];\n}\n</code></pre>\n\n<p>Html</p>\n\n<pre><code>&lt;div class=\"autocomplete\"&gt;\n  &lt;input name=\"suggestion\" type=\"text\" placeholder=\"User\" (click)=\"suggest()\" [formControl]=\"typeahead\"&gt;\n\n  &lt;div class=\"autocomplete-items\" *ngFor=\"let s of suggestions\"&gt;\n    &lt;input type=\"checkbox\" name='{{s}}'  (click)=\"selectSuggestion(s,$event.target.checked)\" /&gt;{{s}}\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534952356, "post_id": 51968050, "comment_id": 90891294, "body": "I appreciate you for spending your valuable time and help as a new contributor in angular.."}], "tags": [], "owner": {"reputation": 666, "user_id": 6362442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uQXZC.jpg?s=128&g=1", "display_name": "ya.ymer", "link": "https://stackoverflow.com/users/6362442/ya-ymer"}, "is_accepted": false, "score": 1, "last_activity_date": 1534944657, "creation_date": 1534944657, "answer_id": 51968050, "question_id": 51967330, "link": "https://stackoverflow.com/questions/51967330/how-to-delete-the-selected-input-values/51968050#51968050", "title": "How to delete the selected input values", "body": "<p>I'm not an Angular developer, but i tried to do solution.\nChosen phrases from suggested are storing in \"chosen\" variable. You can type something and divide it by \",\" to store it in \"chosen\" like in angular material chips.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-1dt8fb\" rel=\"nofollow noreferrer\"><strong>Stackblitz</strong></a></p>\n"}], "owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "accepted_answer_id": 51967990, "answer_count": 3, "score": 0, "last_activity_date": 1535004763, "creation_date": 1534942307, "last_edit_date": 1534943158, "question_id": 51967330, "link": "https://stackoverflow.com/questions/51967330/how-to-delete-the-selected-input-values", "title": "How to delete the selected input values", "body": "<p>I am using angular 6 application and i am trying to make a multiple select using input box <strong>without</strong> any third party plugin, jquery, datalist, select box and it is pure input box, typescript based.</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div class=\"autocomplete\"&gt;\n  &lt;input name=\"suggestion\" type=\"text\" placeholder=\"User\" (click)=\"suggest()\" [formControl]=\"typeahead\"&gt;\n\n  &lt;div class=\"autocomplete-items\" *ngIf=\"show\"&gt;\n    &lt;div *ngFor=\"let s of suggestions\" (click)=\"selectSuggestion(s)\"&gt;{{ s }}&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>TS</strong>:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular';\n\n  suggestions: string [] = [];\n  suggestion: string;\n  show: boolean;\n  typeahead: FormControl = new FormControl();\n\n  fieldHistory: string [] = [];\n\n  suggest() {\n    this.suggestions = this.users;\n    this.show = true;\n  }\n\n  selectSuggestion(s) {\n    this.suggestion = \"\";\n\n    this.fieldHistory.push(s)\n    for (let i = 0; i &lt; this.fieldHistory.length; i++) \n      this.suggestion = this.suggestion + \" \" + this.fieldHistory[i];\n\n    this.typeahead.patchValue(this.suggestion);\n    this.show = false;\n  }\n\n\n  users = ['First User', 'Second User', 'Third User', 'Fourth User'];\n}\n</code></pre>\n\n<p>Here i need to delete the selected values like the angular material chips, User is able to select multiple values but he also can delete the wrongly selected values.</p>\n\n<p>How can i make a delete option for each individual items to delete the wrongly selected values inside the input box?</p>\n\n<p><strong>Stackblitz</strong> link with multi select option <a href=\"https://stackblitz.com/edit/angular-dndhgv\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-dndhgv</a></p>\n\n<p>Any edit in the above link to make the multi select with delete option would also be much more appreciable..</p>\n"}, {"tags": ["html", "angular", "typescript", "filter"], "answers": [{"comments": [{"owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "edited": false, "score": 0, "creation_date": 1534942326, "post_id": 51967280, "comment_id": 90884607, "body": "Shouldn&#39;t it be <code>x.id === this.selectedObj.id</code> in <code>filter</code>?"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1534942402, "last_edit_date": 1534942402, "creation_date": 1534942168, "answer_id": 51967280, "question_id": 51967147, "link": "https://stackoverflow.com/questions/51967147/how-to-get-json-objects-by-id-in-angular-2/51967280#51967280", "title": "How to get .json objects by id in Angular 2?", "body": "<p>You can use ngModel and ngModelChange together to get the selected value </p>\n\n<pre><code>&lt;select #proc [(ngModel)]=\"selectedObj\" (ngModelChange)=\"showInfo()\"&gt;\n</code></pre>\n\n<p>and inside showInfo method,</p>\n\n<pre><code> var selected = this.diadikasies.filter(x=&gt; x.id == this.selectedObj.id);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 10036284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f3137befcb844480b0e2d33f5f3eaa?s=128&d=identicon&r=PG&f=1", "display_name": "DimMalice", "link": "https://stackoverflow.com/users/10036284/dimmalice"}, "edited": false, "score": 0, "creation_date": 1535014980, "post_id": 51967431, "comment_id": 90913636, "body": "Thank you so much. It was very simple, indeed, even though I hadn&#39;t thought about find()."}], "tags": [], "owner": {"reputation": 3978, "user_id": 8593983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RMZOu.jpg?s=128&g=1", "display_name": "Sivakumar Tadisetti", "link": "https://stackoverflow.com/users/8593983/sivakumar-tadisetti"}, "is_accepted": true, "score": 0, "last_activity_date": 1534942642, "creation_date": 1534942642, "answer_id": 51967431, "question_id": 51967147, "link": "https://stackoverflow.com/questions/51967147/how-to-get-json-objects-by-id-in-angular-2/51967431#51967431", "title": "How to get .json objects by id in Angular 2?", "body": "<p>You can do with <code>find()</code> method like below</p>\n\n<p><strong>TS file</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular';\n  description;\n\n  opts = [{\n    id: 1,\n    name: 'Test 1',\n    description: 'This is Test 1 description'\n  }, {\n    id: 2,\n    name: 'Test 2',\n    description: 'This is Test 2 description'\n  }];\n\n  showInfo(value) {\n    let selectedOpt = this.opts.find(opt =&gt; opt.id == value);\n    this.description = selectedOpt.description;\n  }\n}\n</code></pre>\n\n<p><strong>In the template file</strong></p>\n\n<pre><code>&lt;div *ngIf=\"opts &amp;&amp; opts.length &gt; 0\" class=\"form-group\"&gt;\n    &lt;label for=\"opts\"&gt;\n        &lt;i class=\"fas fa-clipboard-list\" aria-hidden=\"true\"&gt;&lt;/i&gt; Please Select: &lt;/label&gt;\n    &lt;select #proc (change)=\"showInfo(proc.value)\"&gt;\n        &lt;option [ngValue]=\"undefined\" disabled selected&gt;\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u0394\u03b9\u03b1\u03b4\u03b9\u03ba\u03b1\u03c3\u03af\u03b1&lt;/option&gt;\n        &lt;option *ngFor=\"let diad of opts\" [value]=\"diad.id\"&gt;{{ diad.name }}&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n&lt;div&gt;{{ description }}&lt;/div&gt;\n</code></pre>\n\n<p>You can find the working example from here <a href=\"https://stackblitz.com/edit/angular-swobmd\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n"}], "owner": {"reputation": 21, "user_id": 10036284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f3137befcb844480b0e2d33f5f3eaa?s=128&d=identicon&r=PG&f=1", "display_name": "DimMalice", "link": "https://stackoverflow.com/users/10036284/dimmalice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "accepted_answer_id": 51967431, "answer_count": 2, "score": 2, "last_activity_date": 1597658184, "creation_date": 1534941707, "last_edit_date": 1597658184, "question_id": 51967147, "link": "https://stackoverflow.com/questions/51967147/how-to-get-json-objects-by-id-in-angular-2", "title": "How to get .json objects by id in Angular 2?", "body": "<p>I'm trying to get objects by id from a JSON file after selecting an item from my drop-down list. So far I have managed to retrieve all the objects from JSON but not by ID.</p>\n\n<p><strong>Typescript</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>showInfo() {\n    var selected = this.diadikasies.filter(x=&gt; x.content);\n    console.log (selected);\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div *ngIf=\"diadikasies &amp;&amp; diadikasies.length &gt; 0\" class=\"form-group\"&gt;\n    &lt;label for=\"diadikasies\"&gt;\n        &lt;i class=\"fas fa-clipboard-list\" aria-hidden=\"true\"&gt;&lt;/i&gt; Please Select: &lt;/label&gt;\n    &lt;select #proc (change)=\"showInfo()\"&gt;\n        &lt;option [ngValue]=\"undefined\" disabled selected&gt;\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u0394\u03b9\u03b1\u03b4\u03b9\u03ba\u03b1\u03c3\u03af\u03b1&lt;/option&gt;\n        &lt;option *ngFor=\"let diad of diadikasies\" [value]=\"diad.id\"&gt;{{ diad.title.rendered }}&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "datepicker"], "comments": [{"owner": {"reputation": 3057, "user_id": 10153945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/394941240d974bcaf9bf9f7194dd3314?s=128&d=identicon&r=PG&f=1", "display_name": "jonatjano", "link": "https://stackoverflow.com/users/10153945/jonatjano"}, "edited": false, "score": 1, "creation_date": 1534942136, "post_id": 51967135, "comment_id": 90884479, "body": "in <a href=\"https://ng-bootstrap.github.io/#/components/datepicker/overview\" rel=\"nofollow noreferrer\">the page you linked</a> they speak about internationalization, you need to scroll to 2/3 of the page. And <a href=\"https://stackblitz.com/angular/ommdpmxrgjq\" rel=\"nofollow noreferrer\">here</a> the demo they link to it"}, {"owner": {"reputation": 125, "user_id": 10165721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19650f7c25b1edf0e3a71ee27854006a?s=128&d=identicon&r=PG&f=1", "display_name": "rettoryh13", "link": "https://stackoverflow.com/users/10165721/rettoryh13"}, "reply_to_user": {"reputation": 3057, "user_id": 10153945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/394941240d974bcaf9bf9f7194dd3314?s=128&d=identicon&r=PG&f=1", "display_name": "jonatjano", "link": "https://stackoverflow.com/users/10153945/jonatjano"}, "edited": false, "score": 0, "creation_date": 1534945700, "post_id": 51967135, "comment_id": 90886993, "body": "@jonatjano but it another code structure"}], "answers": [{"tags": [], "owner": {"reputation": 3057, "user_id": 10153945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/394941240d974bcaf9bf9f7194dd3314?s=128&d=identicon&r=PG&f=1", "display_name": "jonatjano", "link": "https://stackoverflow.com/users/10153945/jonatjano"}, "is_accepted": true, "score": 4, "last_activity_date": 1535033534, "last_edit_date": 1535033534, "creation_date": 1534946702, "answer_id": 51968685, "question_id": 51967135, "link": "https://stackoverflow.com/questions/51967135/how-to-internationalize-ng-bootstrap-datepicker/51968685#51968685", "title": "How to internationalize ng-bootstrap datepicker?", "body": "<p>Ok here the solution : <a href=\"https://stackblitz.com/edit/angular-dd3vve?file=app/datepicker-range.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-dd3vve?file=app/datepicker-range.ts</a></p>\n\n<p>what I changed (using <a href=\"https://stackblitz.com/angular/ommdpmxrgjq\" rel=\"nofollow noreferrer\">this demo as example</a>):</p>\n\n<pre><code>// now class extend NgbDatepickerI18n\nexport class NgbdDatepickerRange extends NgbDatepickerI18n {\n</code></pre>\n\n<p>.</p>\n\n<pre><code>// call to super() in constructor\nconstructor(calendar: NgbCalendar) {\n  super()\n</code></pre>\n\n<p>.</p>\n\n<pre><code>// implement the abstract methods\ngetWeekdayShortName(weekday: number): string {return \"td\"};\ngetMonthShortName(month: number): string {return \"mt\"};\ngetMonthFullName(month: number): string {return \"month\"};\ngetDayAriaLabel(date: NgbDateStruct): string {return \"e\"};\n</code></pre>\n\n<p>.</p>\n\n<pre><code>// provide in component\n@Component({\n  selector: 'ngbd-datepicker-range',\n  templateUrl: './datepicker-range.html',\n  providers: [{provide: NgbDatepickerI18n, useClass: NgbdDatepickerRange}],\n</code></pre>\n\n<p>you'll need to change the method to return usable values</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 15262630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GguLckSnCmdnczCjC6nTAykJed4ISWPpt5V6Ukqqg=k-s128", "display_name": "mihai costea", "link": "https://stackoverflow.com/users/15262630/mihai-costea"}, "is_accepted": false, "score": 1, "last_activity_date": 1614029694, "last_edit_date": 1614029694, "creation_date": 1614027139, "answer_id": 66323258, "question_id": 51967135, "link": "https://stackoverflow.com/questions/51967135/how-to-internationalize-ng-bootstrap-datepicker/66323258#66323258", "title": "How to internationalize ng-bootstrap datepicker?", "body": "<p>You can simply use:</p>\n<pre><code>import { LOCALE_ID } from '@angular/core';\n\n$import { registerLocaleData } from &quot;@angular/common&quot;;\n$import localeRo from &quot;@angular/common/locales/ro&quot;;\n$registerLocaleData(localeRo, &quot;ro&quot;);\n</code></pre>\n<p>and then use the provider:</p>\n<pre><code>$providers: [{ provide: LOCALE_ID, useValue: &quot;ro-RO&quot;}]\n</code></pre>\n<p>No need for <code>NgbDatepickerI18n</code>.<br />\nA working example for Romanian language in Angular for <code>ngbdatepicker</code>:\n<a href=\"https://stackblitz.com/edit/angular-mezpyn-b6tm1r?file=app%2Fdatepicker-popup.module.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-mezpyn-b6tm1r?file=app%2Fdatepicker-popup.module.ts</a></p>\n"}], "owner": {"reputation": 125, "user_id": 10165721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19650f7c25b1edf0e3a71ee27854006a?s=128&d=identicon&r=PG&f=1", "display_name": "rettoryh13", "link": "https://stackoverflow.com/users/10165721/rettoryh13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4904, "favorite_count": 0, "accepted_answer_id": 51968685, "answer_count": 2, "score": 3, "last_activity_date": 1614029694, "creation_date": 1534941669, "last_edit_date": 1534941822, "question_id": 51967135, "link": "https://stackoverflow.com/questions/51967135/how-to-internationalize-ng-bootstrap-datepicker", "title": "How to internationalize ng-bootstrap datepicker?", "body": "<p>In my project i use <a href=\"https://ng-bootstrap.github.io/#/components/datepicker/overview\" rel=\"nofollow noreferrer\">ng-bootstrap datePicker</a>.\nMy datePicker widget is very simple: <a href=\"https://stackblitz.com/angular/omrmjkgxyje\" rel=\"nofollow noreferrer\">DEMO</a>.</p>\n\n<p>But i need internationalize his (needed set russian language). Please help me.</p>\n\n<p>js:</p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {NgbDate, NgbCalendar} from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'ngbd-datepicker-range',\n  templateUrl: './datepicker-range.html',\n  styles: [``]\n})\nexport class NgbdDatepickerRange {\n\n  hoveredDate: NgbDate;\n\n  fromDate: NgbDate;\n  toDate: NgbDate;\n\n  constructor(calendar: NgbCalendar) {\n    this.fromDate = calendar.getToday();\n    this.toDate = calendar.getNext(calendar.getToday(), 'd', 10);\n  }\n\n  onDateSelection(date: NgbDate) {\n    if (!this.fromDate &amp;&amp; !this.toDate) {\n      this.fromDate = date;\n    } else if (this.fromDate &amp;&amp; !this.toDate &amp;&amp; date.after(this.fromDate)) {\n      this.toDate = date;\n    } else {\n      this.toDate = null;\n      this.fromDate = date;\n    }\n  }\n\n  isHovered = (date: NgbDate) =&gt; this.fromDate &amp;&amp; !this.toDate &amp;&amp; this.hoveredDate &amp;&amp; date.after(this.fromDate) &amp;&amp; date.before(this.hoveredDate);\n  isInside = (date: NgbDate) =&gt; date.after(this.fromDate) &amp;&amp; date.before(this.toDate);\n  isRange = (date: NgbDate) =&gt; date.equals(this.fromDate) || date.equals(this.toDate) || this.isInside(date) || this.isHovered(date)\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angularjs-directive", "frontend"], "comments": [{"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 1, "creation_date": 1534941701, "post_id": 51967110, "comment_id": 90884202, "body": "You can&#39;t, you need a parent directive to manage the children or use a shared service to trigger the other directive from the sibling."}, {"owner": {"reputation": 172, "user_id": 8490097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yLgyuPgYKQA/AAAAAAAAAAI/AAAAAAAAAAs/OXBP85Lk-S0/photo.jpg?sz=128", "display_name": "Thiago Cunha", "link": "https://stackoverflow.com/users/8490097/thiago-cunha"}, "reply_to_user": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1534942817, "post_id": 51967110, "comment_id": 90884957, "body": "In Renderer2, I have the abstract nextSibling (node: any): any. Would it have something similar to grab the previousSibling, for example?"}, {"owner": {"reputation": 2244, "user_id": 7177558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b23748399ee7f1b6a612d5266b13dc?s=128&d=identicon&r=PG&f=1", "display_name": "\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0425\u0440\u0438\u0441\u0442\u043e\u0432", "link": "https://stackoverflow.com/users/7177558/%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%8f%d0%bd-%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%be%d0%b2"}, "edited": false, "score": 1, "creation_date": 1534942859, "post_id": 51967110, "comment_id": 90884991, "body": "If understand right you have something like a list and you want each next element (brother) to have <code>left</code> property equall to the width of the &quot;elder-brother&quot; (previous sibiling)?"}, {"owner": {"reputation": 172, "user_id": 8490097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yLgyuPgYKQA/AAAAAAAAAAI/AAAAAAAAAAs/OXBP85Lk-S0/photo.jpg?sz=128", "display_name": "Thiago Cunha", "link": "https://stackoverflow.com/users/8490097/thiago-cunha"}, "reply_to_user": {"reputation": 2244, "user_id": 7177558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b23748399ee7f1b6a612d5266b13dc?s=128&d=identicon&r=PG&f=1", "display_name": "\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0425\u0440\u0438\u0441\u0442\u043e\u0432", "link": "https://stackoverflow.com/users/7177558/%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%8f%d0%bd-%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1534943416, "post_id": 51967110, "comment_id": 90885376, "body": "That&#39;s it @\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0425\u0440\u0438\u0441\u0442\u043e\u0432! You need that, but you have to fight with this scenario."}, {"owner": {"reputation": 2244, "user_id": 7177558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b23748399ee7f1b6a612d5266b13dc?s=128&d=identicon&r=PG&f=1", "display_name": "\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0425\u0440\u0438\u0441\u0442\u043e\u0432", "link": "https://stackoverflow.com/users/7177558/%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%8f%d0%bd-%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%be%d0%b2"}, "edited": false, "score": 1, "creation_date": 1534943782, "post_id": 51967110, "comment_id": 90885627, "body": "You can try passing as an input the elder-brother to the next in the line, that should do the trick."}], "answers": [{"comments": [{"owner": {"reputation": 172, "user_id": 8490097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yLgyuPgYKQA/AAAAAAAAAAI/AAAAAAAAAAs/OXBP85Lk-S0/photo.jpg?sz=128", "display_name": "Thiago Cunha", "link": "https://stackoverflow.com/users/8490097/thiago-cunha"}, "edited": false, "score": 0, "creation_date": 1534946562, "post_id": 51968046, "comment_id": 90887538, "body": "You are generating this error: ERROR TypeError: Cannot read property &#39;querySelector&#39; of null; at new HighlightDirective (highlight.directive.ts:10); at createClass (core.js:9303)"}, {"owner": {"reputation": 172, "user_id": 8490097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yLgyuPgYKQA/AAAAAAAAAAI/AAAAAAAAAAs/OXBP85Lk-S0/photo.jpg?sz=128", "display_name": "Thiago Cunha", "link": "https://stackoverflow.com/users/8490097/thiago-cunha"}, "edited": false, "score": 0, "creation_date": 1534958791, "post_id": 51968046, "comment_id": 90894822, "body": "Now, how to select all the children from the parent ... if I can do this, I can solve my problem."}], "tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": true, "score": 2, "last_activity_date": 1534944628, "creation_date": 1534944628, "answer_id": 51968046, "question_id": 51967110, "link": "https://stackoverflow.com/questions/51967110/how-to-access-the-previous-sibling-through-an-angular-directive/51968046#51968046", "title": "How to access the previous sibling through an angular directive?", "body": "<p>You can get the parent element:</p>\n\n<p><code>let parent = this.renderer.parentNode(this.elementRef.nativeElement);</code></p>\n\n<p>and then select his child somehow, maybe give them incrementing ID's:</p>\n\n<p><code>let sibling = parent.querySelector('#child5');</code></p>\n\n<p>and then you have siblings width:</p>\n\n<p><code>let width = sibling.offsetWidth;</code>.</p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 172, "user_id": 8490097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yLgyuPgYKQA/AAAAAAAAAAI/AAAAAAAAAAs/OXBP85Lk-S0/photo.jpg?sz=128", "display_name": "Thiago Cunha", "link": "https://stackoverflow.com/users/8490097/thiago-cunha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1697, "favorite_count": 1, "accepted_answer_id": 51968046, "answer_count": 1, "score": 1, "last_activity_date": 1534944628, "creation_date": 1534941595, "last_edit_date": 1534942254, "question_id": 51967110, "link": "https://stackoverflow.com/questions/51967110/how-to-access-the-previous-sibling-through-an-angular-directive", "title": "How to access the previous sibling through an angular directive?", "body": "<p>At the moment, I'm using ELEMENTREF to access the DOM through the Redenrer2. Here's a basic example:</p>\n\n<pre><code>import { Directive, Renderer2, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: '[appHighlight]'\n})\nexport class HighlightDirective {\n\n  constructor(private renderer: Renderer2, private el: ElementRef) {\n    this.renderer.setStyle(this.el.nativeElement, 'background', 'yellow');\n  }\n\n}\n</code></pre>\n\n<p>The above code was just a test to leave the syntax highlight with the yellow color.</p>\n\n<p>However, I need to know how do I access the previous element and capture the width of it to move to a left-style property?</p>\n\n<p>Ex: Former brother has the width of 400px. The current element has the left of 400px.</p>\n\n<p>I'm counting on the collaboration.</p>\n"}, {"tags": ["typescript", "cordova", "ionic-framework", "ionic3", "cordova-plugins"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 4695375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c32d1c9d9d51544a2573ff8140fe644e?s=128&d=identicon&r=PG&f=1", "display_name": "Syirrus", "link": "https://stackoverflow.com/users/4695375/syirrus"}, "is_accepted": false, "score": 1, "last_activity_date": 1549442663, "creation_date": 1549442663, "answer_id": 54549559, "question_id": 51967096, "link": "https://stackoverflow.com/questions/51967096/working-with-actions-in-cordova-local-notifications/54549559#54549559", "title": "Working with actions in cordova local notifications", "body": "<p>You have to add the launch property to your actions array and set the bool to true.</p>\n\n<pre><code>    cordova.plugins.notification.local.schedule({\n     id: 1,\n     text: 'My first notification',\n     trigger: {at: reminder_date},\n     actions:[{id: 'yes', title: 'Yes', launch: true},{id:'no',title:'No'}]\n    })\n</code></pre>\n\n<p>So when you click on yes, it will launch the application.</p>\n"}, {"tags": [], "owner": {"reputation": 332, "user_id": 13064606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QE7Gc.jpg?s=128&g=1", "display_name": "harundemir918", "link": "https://stackoverflow.com/users/13064606/harundemir918"}, "is_accepted": false, "score": 1, "last_activity_date": 1605687149, "creation_date": 1605687149, "answer_id": 64889274, "question_id": 51967096, "link": "https://stackoverflow.com/questions/51967096/working-with-actions-in-cordova-local-notifications/64889274#64889274", "title": "Working with actions in cordova local notifications", "body": "<p>You need to add it in onDeviceReady().</p>\n<pre><code>function onDeviceReady() {\n    console.log('Running cordova-' + cordova.platformId + '@' + cordova.version);\n    document.getElementById('deviceready').classList.add('ready');\n\n    // Add this code here\n    cordova.plugins.notification.local.on(&quot;yes&quot;,function(notification){\n        alert(notification.id);\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 363, "user_id": 5546613, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/58ee8c46778ae242a70bebe3c1ebd9bb?s=128&d=identicon&r=PG&f=1", "display_name": "Iris_geek", "link": "https://stackoverflow.com/users/5546613/iris-geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1605687149, "creation_date": 1534941556, "question_id": 51967096, "link": "https://stackoverflow.com/questions/51967096/working-with-actions-in-cordova-local-notifications", "title": "Working with actions in cordova local notifications", "body": "<p>I've installed cordova local notifications plugin for local notifications in my app. However I'm unable to get notification actions work in my code.</p>\n\n<p>Here's my code.</p>\n\n<pre><code>scheduleTime: String = '08:15';  //default\n\nscheduleAlarm(){\n\n    this.date = this.datePipe.transform(this.date,\"yyyy-MM-dd\");\n    var reminder_date = new Date(this.date+\" \"+this.scheduleTime);\n    var hours = reminder_date.getHours();\n    var minutes = reminder_date.getMinutes();\n\n    if(reminder_date){\n\n        cordova.plugins.notification.local.schedule({\n         id: 1,\n         text: 'My first notification',\n         trigger: {at: reminder_date},\n         actions:[{id: 'yes', title: 'Yes'},{id:'no',title:'No'}]\n        })\n\n        this.showAlert('Reminder is set successfully');\n    }\n\n cordova.plugins.notification.local.on(\"yes\",function(notification){\n    alert(notification.id);\n });\n}\n</code></pre>\n\n<p>After clicking on yes nothing is happening, just that the notification is dismissing. Am I handling it correctly? Can somebody please help me with this?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "gulp", "es6-modules"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1534942932, "post_id": 51967061, "comment_id": 90885052, "body": "Add your tsconfig.json. You probably just need to specify <code>--rootDir src</code>."}, {"owner": {"reputation": 1044, "user_id": 8266512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618193f281bb397855e5adad278fff21?s=128&d=identicon&r=PG&f=1", "display_name": "TLP", "link": "https://stackoverflow.com/users/8266512/tlp"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1534943095, "post_id": 51967061, "comment_id": 90885167, "body": "Thanks, I&#39;ve edited the question with <code>tsconfig.json</code>"}, {"owner": {"reputation": 1044, "user_id": 8266512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618193f281bb397855e5adad278fff21?s=128&d=identicon&r=PG&f=1", "display_name": "TLP", "link": "https://stackoverflow.com/users/8266512/tlp"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1534943275, "post_id": 51967061, "comment_id": 90885291, "body": "I&#39;ve added <code>&quot;rootDir&quot;: &quot;src&quot;</code> to it but it&#39;s still not working."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1534943350, "post_id": 51967061, "comment_id": 90885331, "body": "Any reason why you are not specifying <code>&quot;outDir&quot;: &quot;dist&quot;</code> in <code>tsconfig</code>?"}, {"owner": {"reputation": 1044, "user_id": 8266512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618193f281bb397855e5adad278fff21?s=128&d=identicon&r=PG&f=1", "display_name": "TLP", "link": "https://stackoverflow.com/users/8266512/tlp"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1534943570, "post_id": 51967061, "comment_id": 90885471, "body": "Because it&#39;s already specified in the <code>gulpfile.js</code> which I assume is enough? I did try setting <code>&quot;outDir&quot;</code> but VS Code won&#39;t find the imported modules and it won&#39;t compile."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1534943739, "post_id": 51967061, "comment_id": 90885587, "body": "<code>&quot;outDir&quot;</code> is preferable to specifying it via gulp. Anyway, what you almost certainly need is a <code>tsconfig.test.json</code> (or whatever you call it) that <code>&quot;extends&quot;</code> <code>tsconfig.json</code> but overrides the <code>&quot;rootDir&quot;</code> and <code>&quot;outDir&quot;</code>"}, {"owner": {"reputation": 1044, "user_id": 8266512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618193f281bb397855e5adad278fff21?s=128&d=identicon&r=PG&f=1", "display_name": "TLP", "link": "https://stackoverflow.com/users/8266512/tlp"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1534943807, "post_id": 51967061, "comment_id": 90885646, "body": "Okay, thanks. I&#39;ll look into that!"}], "owner": {"reputation": 1044, "user_id": 8266512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618193f281bb397855e5adad278fff21?s=128&d=identicon&r=PG&f=1", "display_name": "TLP", "link": "https://stackoverflow.com/users/8266512/tlp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534942963, "creation_date": 1534941382, "last_edit_date": 1534942963, "question_id": 51967061, "link": "https://stackoverflow.com/questions/51967061/change-typescript-import-directories-during-compilation-for-unit-testing", "title": "Change Typescript import directories during compilation for unit testing", "body": "<p>Let's say I have a directory called <code>src</code> containing a file called <code>app.ts</code></p>\n\n<pre><code>export default function app(){\n    return \"Hello World\";\n}\n</code></pre>\n\n<p>I have another directory called <code>test</code> containing a file called <code>some.test.ts</code></p>\n\n<pre><code>import \"mocha\";\nimport { assert } from \"chai\";\nimport app from \"../src/app\"\n\ndescribe(\"Some test\", () =&gt; {\n    it(\"says Hello World\", function(){\n        assert.equal(app(),\"Hello World\");\n    });\n})\n</code></pre>\n\n<p>And a <code>gulpfile.js</code> for building both the production and test code:</p>\n\n<pre><code>gulp.task(\"build\", function () {\n    var tsproject = ts.createProject(\"tsconfig.json\");\n    var tsresult = gulp.src(\"./src/**/*.ts\")\n        .pipe(tsproject());\n\n    tsresult.js\n        .pipe(gulpBabel({ presets: ['es2015'] }))\n        .pipe(gulp.dest(\"./dist\"))\n\n    tsresult.dts.pipe(gulp.dest(\"./dist\"));\n});\n\ngulp.task(\"build-test\", [\"build\"], function () {\n    var tsproject = ts.createProject(\"tsconfig.json\");\n    var tsresult = gulp.src(\"./test/**/*.test.ts\")\n        .pipe(sourcemaps.init())\n        .pipe(tsproject());\n\n    tsresult.js\n        .pipe(gulpBabel({ presets: ['es2015'] }))\n        .pipe(sourcemaps.write())\n        .pipe(gulp.dest(\"./dist/test\"))\n\n    tsresult.dts.pipe(gulp.dest(\"./dist/test\"));\n});\n</code></pre>\n\n<p>My <code>tsconfig.json</code> is as follows:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es6\",\n        \"forceConsistentCasingInFileNames\": true,\n        \"declaration\": true,\n        \"sourceMap\": true,\n        \"experimentalDecorators\": true,\n        \"moduleResolution\": \"node\",\n        \"module\": \"es2015\"\n        \"rootDir\": \"src\"\n\n    }\n}\n</code></pre>\n\n<p>This will compile fine, but when I try to run the test, it won't work because it is looking for <code>../dist/src/app.js</code>.</p>\n\n<p>I want to keep my source code in the <code>src</code> folder, but I want it to be compiled into the root of the <code>dist</code> folder. At the same time, I want to keep my imports so that my IDE can find them during development, while the compiled code can find them at runtime. I assume this would involve some sort of transformation of the import statements during compilation.</p>\n\n<p>Is this at all possible using (preferably) Gulp?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "immutable.js"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9764416, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alina Zaieva", "link": "https://stackoverflow.com/users/9764416/alina-zaieva"}, "edited": false, "score": 0, "creation_date": 1534951972, "post_id": 51969480, "comment_id": 90891089, "body": "Thanks, it works as expected this way. Looks little clumsy, but still better than plain JS object in my case."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 0, "last_activity_date": 1534949179, "creation_date": 1534949179, "answer_id": 51969480, "question_id": 51966615, "link": "https://stackoverflow.com/questions/51966615/using-immutable-js-record-as-components-state/51969480#51969480", "title": "Using Immutable.js Record as Component&#39;s state", "body": "<p>I think you are out of luck for using a Record as the top-level state object, as you saw.  But you can probably have the React state contain a single field that is a Record and contains all of your actual data.</p>\n"}], "owner": {"reputation": 13, "user_id": 9764416, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alina Zaieva", "link": "https://stackoverflow.com/users/9764416/alina-zaieva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 51969480, "answer_count": 1, "score": 1, "last_activity_date": 1534949179, "creation_date": 1534939957, "question_id": 51966615, "link": "https://stackoverflow.com/questions/51966615/using-immutable-js-record-as-components-state", "title": "Using Immutable.js Record as Component&#39;s state", "body": "<p>I'm trying to use Record from Immutable.js as State in Class Component. Here is the code:</p>\n\n<pre><code>interface INetworkDisplayAreaState {\n    layers: List&lt;Layer&gt;;\n    translate: { x: number, y: number };\n    scale: number;\n}\n\nconst NetworkDisplayAreaStateRecord = Record&lt;INetworkDisplayAreaState&gt;({\n    layers: List(),\n    translate: { x: 0, y: 0 },\n    scale: 1\n});\n\nclass NetworkDisplayAreaState extends NetworkDisplayAreaStateRecord {\n    constructor(state: Partial&lt;INetworkDisplayAreaState&gt; = {}) {\n        super(state);\n    }\n}\n\nexport default class NetworkDisplayArea\n    extends React.Component&lt;INetworkDisplayAreaProps, NetworkDisplayAreaState&gt; {\n\n    constructor(props: INetworkDisplayAreaProps) {\n        super(props);\n\n        this.state = new NetworkDisplayAreaStateRecord({ layers: props.layers });\n    }\n\n    static getDerivedStateFromProps(nextProps: INetworkDisplayAreaProps, prevState: NetworkDisplayAreaState) {\n        return prevState.set('layers', nextProps.layers);\n    }\n\n    // Other component methods go here.\n}\n</code></pre>\n\n<p>When component is just created it works fine, but when <code>getDerivedStateFromProps</code> is called for the second time, <code>prevState</code> has type Object, not my class, and has no prototype, therefore <code>set</code> is undefined. I've tried to debug this issue and found that in React internals it merges states for memoization using <code>Object.assign</code>, and at that moment all prototypes are removed.</p>\n\n<p>Is there any way how I can still use Record as component's state? Or do I have to use plain JS object instead?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 3, "creation_date": 1534940003, "post_id": 51966397, "comment_id": 90883109, "body": "<code>typeof App.prototype.states</code> and <code>keyof typeof App.prototype.states</code>."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 2, "creation_date": 1534942201, "post_id": 51966397, "comment_id": 90884521, "body": "<code>App[&#39;states&#39;]</code> and <code>keyof App[&#39;states&#39;]</code>"}, {"owner": {"reputation": 2192, "user_id": 6754222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K8lzX.jpg?s=128&g=1", "display_name": "Patrick Hollweck", "link": "https://stackoverflow.com/users/6754222/patrick-hollweck"}, "edited": false, "score": 0, "creation_date": 1534946468, "post_id": 51966397, "comment_id": 90887481, "body": "Both of these solutions work, may someone of you suggest your answers as an answer to the question, so I can accept them ?"}], "answers": [{"tags": [], "owner": {"reputation": 2192, "user_id": 6754222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K8lzX.jpg?s=128&g=1", "display_name": "Patrick Hollweck", "link": "https://stackoverflow.com/users/6754222/patrick-hollweck"}, "is_accepted": true, "score": 2, "last_activity_date": 1535212961, "last_edit_date": 1535212961, "creation_date": 1535212168, "answer_id": 52018874, "question_id": 51966397, "link": "https://stackoverflow.com/questions/51966397/typescript-type-queries-in-classes/52018874#52018874", "title": "Typescript type-queries in classes", "body": "<p>Thanks to @cartant in the comments. I'm answering this question myself since he did not post his comment as a answer.</p>\n\n<hr>\n\n<p>To type-query the type of a class member you can use several methods:</p>\n\n<ul>\n<li><p>Access the prototype:</p>\n\n<pre><code>App.prototype.states\n</code></pre></li>\n<li><p>Access it via a indexer</p>\n\n<pre><code>App[\"states\"]\n</code></pre>\n\n<blockquote>\n  <p>A important thing to note is that this and the above method may not work when the member is private or static.</p>\n</blockquote></li>\n<li><p>The polymorphic this type</p>\n\n<p>Everything that has a this in Javascript has a \"this type\" in typescript. This \"this\" type can be queried like every other index type.</p>\n\n<pre><code>this[\"states\"]\n</code></pre>\n\n<blockquote>\n  <p>Note: You may have issues when using this technique when trying to call a function in another context. Also you <strong>cannot</strong> use the dot operator! You must use the object index operator instead</p>\n</blockquote></li>\n</ul>\n\n<p>The this type-query is very useful in combination with class-inheritance</p>\n\n<p>If you were to Programm a Statemachine for example you could have a abstract \"Statemachine\" Class and use the this-type-query to get the type of a property in the child class</p>\n\n<p>This may look like this:</p>\n\n<pre><code>abstract class Statemachine {\n  /* The typescript compiler won't actually infer \"object\" but \n    {\n       menu: { \n         login() =&gt; void\n       },\n       game: {\n         update() =&gt; void \n       }\n    }\n\n    &gt; In case of the example below! \n  */\n  abstract states: object\n\n  getState&lt;K extends keyof this[\"states\"]&gt;(name: K): T[K] {\n    return this.states[name];\n  }\n}\n\nclass Game extends Statemachine {\n  private states = {\n     menu: {\n       login() {\n         console.log(\"Menu.login\")\n       }\n     },\n     game: {\n       update() {\n         console.log(\"Game.update\") }\n      }\n   }\n}\n\nconst game = new Game()\n\n// Compiler error\ngame.getState(\"not a key of game.states\")\n\n// Works and intellisense for login()\ngame.getState(\"menu\")\n</code></pre>\n\n<p>Reference: <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/advanced-types.html</a>\nLook for polymorphic this.</p>\n\n<p>I hope the code actually works Im on vacation and had no chance to check it...</p>\n"}], "owner": {"reputation": 2192, "user_id": 6754222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K8lzX.jpg?s=128&g=1", "display_name": "Patrick Hollweck", "link": "https://stackoverflow.com/users/6754222/patrick-hollweck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 2, "accepted_answer_id": 52018874, "answer_count": 1, "score": 1, "last_activity_date": 1535212961, "creation_date": 1534939199, "question_id": 51966397, "link": "https://stackoverflow.com/questions/51966397/typescript-type-queries-in-classes", "title": "Typescript type-queries in classes", "body": "<p>I am trying to get typescript type-queries to work in classes.</p>\n\n<p>Normally type-queries work like this:</p>\n\n<pre><code>const user = { name: \"Patrick\", age: 17 };\nlet typeofUser: typeof user;\n</code></pre>\n\n<p>In the example above the \"typeofUser\" would have the the type:</p>\n\n<pre><code>{ name: string, age: number }\n</code></pre>\n\n<p>So far so good. But I'm trying to get type-queries to work with classes.\nFor example:</p>\n\n<pre><code>class App {\n  states = {\n    menu: {\n      login() {\n        console.log(\"Menu.login\");\n      }\n    },\n    game: {\n      update() {\n        console.log(\"Game.update\");\n      }\n    }\n  };\n\n  constructor() {\n    // FAILS =&gt; Cannot find name \"states\"\n    const typeofStates: typeof states = {};\n\n    // FAILS =&gt; Cannot find name \"states\"\n    const keyofStates: keyof states = \"game\";\n  }\n}\n</code></pre>\n\n<p>My question is: How can I access class members for type-queries,\nwith eighter the \"typeof\" or \"keyof\" operator?</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=%2F%2F%20DOES%20NOT%20WORK%0D%0A%0D%0Aclass%20App%20%7B%0D%0A%20%20states%20%3D%20%7B%0D%0A%20%20%20%20menu%3A%20%7B%0D%0A%20%20%20%20%20%20login()%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(%22Menu.login%22)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20game%3A%20%7B%0D%0A%20%20%20%20%20%20update()%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(%22Game.update%22)%3B%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%3B%0D%0A%0D%0A%20%20constructor()%20%7B%0D%0A%20%20%20%20const%20typeofStates%3A%20typeof%20states%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20const%20keyofStates%3A%20keyof%20states%20%3D%20%22game%22%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20DOES%20WORK%0D%0A%0D%0Aconst%20x%20%3D%20%7B%0D%0A%20%20hello%3A%20%22world%22%0D%0A%7D%3B%0D%0A%0D%0Aconst%20typeofX%3A%20typeof%20x%20%3D%20%7B%0D%0A%20%20hello%3A%20%22%22%0D%0A%7D%3B%0D%0A\" rel=\"nofollow noreferrer\">Typescript playground sample</a></p>\n"}, {"tags": ["typescript", "record", "partial"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 4, "creation_date": 1534948807, "post_id": 51966368, "comment_id": 90889106, "body": "If you&#39;re sure that the code which builds up <code>p</code> really adds all the properties, then it&#39;s <i>a</i> correct way to do it... you&#39;re giving up some type safety for ease of programming.  If you want TypeScript to guarantee type safety for you, you&#39;d have to rewrite the code that builds up <code>p</code> to convince it."}], "owner": {"reputation": 455, "user_id": 1225266, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/GDOVT.jpg?s=128&g=1", "display_name": "softbear", "link": "https://stackoverflow.com/users/1225266/softbear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1534941559, "creation_date": 1534939107, "last_edit_date": 1534941559, "question_id": 51966368, "link": "https://stackoverflow.com/questions/51966368/how-do-i-return-record-when-building-it-as-partial-in-function", "title": "How do I return Record when building it as Partial in function?", "body": "<p>How do I return <code>Record</code> when building it as <code>Partial</code> in the function bellow?</p>\n\n<pre><code>type mytype = 'a' | 'b' | 'c' | 'd';\n\nfunction generate(): Record&lt;mytype,any&gt; {\n    const p: Partial&lt;Record&lt;mytype, any&gt;&gt; = {};\n\n    // some code which dynamically builds up 'p'\n\n    return p;\n}\n</code></pre>\n\n<p>The error I am getting is:</p>\n\n<blockquote>\n  <p>[ts]\n      Type 'Partial>' is not assignable to type 'Record'.\n        Property 'a' is optional in type 'Partial>' but required in type 'Record'.</p>\n</blockquote>\n\n<p><strong>UPDATE:</strong>\nI found I can just do the following, but is it the correct way to do it?</p>\n\n<pre><code>return p as Record&lt;mytype, any&gt;;\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 13, "user_id": 5814542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHNAS.jpg?s=128&g=1", "display_name": "yucj", "link": "https://stackoverflow.com/users/5814542/yucj"}, "edited": false, "score": 0, "creation_date": 1534939159, "post_id": 51966166, "comment_id": 90882517, "body": "I use <code>typescript@3.0.1</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5814542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHNAS.jpg?s=128&g=1", "display_name": "yucj", "link": "https://stackoverflow.com/users/5814542/yucj"}, "edited": false, "score": 0, "creation_date": 1534997806, "post_id": 51969193, "comment_id": 90906265, "body": "I thought function <code>ifVersion</code> will work since it have the same logic with <code>switchVersion</code>. But now I know it will be broken actually as you point out. And your solution works great! Thanks a lot!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1534949024, "last_edit_date": 1534949024, "creation_date": 1534948237, "answer_id": 51969193, "question_id": 51966166, "link": "https://stackoverflow.com/questions/51966166/typescript-how-to-use-discriminated-unions-with-structure-rather-than-with-disc/51969193#51969193", "title": "Typescript: How to use discriminated unions with structure rather than with discriminant property?", "body": "<p>As far as I know, that type of exhaustiveness checking only works with <a href=\"https://github.com/Microsoft/TypeScript/issues/11572#issuecomment-266924556\" rel=\"nofollow noreferrer\">a <code>switch</code> statement that is the last statement in a function</a>:</p>\n\n<pre><code>type DiscriminatedUnion = {k: \"Zero\", a: string} | {k: \"One\", b: string};\n\n// works\nfunction switchVersion(d: DiscriminatedUnion): string {\n  switch (d.k) {\n    case \"Zero\": return d.a;\n    case \"One\": return d.b;\n  }\n}\n\n// broken\nfunction ifVersion(d: DiscriminatedUnion): string {\n// Error! might not return a string -----&gt; ~~~~~~  \n  if (d.k === \"Zero\") return d.a;\n  if (d.k === \"One\") return d.b;  \n}\n</code></pre>\n\n<p>And the check you're doing is not really suited to a <code>switch</code> statement.  Luckily, you could use the second method of exhaustiveness checking listed in <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#exhaustiveness-checking\" rel=\"nofollow noreferrer\">the docs</a>: using a helper function which throws a compiler error if <code>file</code> is not narrowed to <code>never</code> after all the checks have completed:</p>\n\n<pre><code>function assertNever(x: never): never {\n  throw new Error(\"Unexpected object: \" + x);\n}\n\nfunction retrieveFileContent(file: SourceFile): FileContent {\n  let fileContent: FileContent; // use annotation to avoid any\n  if (isInMemory(file)) {\n    fileContent = {\n      type: FileContentType.memory,\n      payload: file.fileString\n    }\n  } else if (isInDisk(file)) {\n    fileContent = {\n      type: FileContentType.disk,\n      payload: {\n        filename: file.originalname,\n        path: file.filePath,\n      }\n    }\n  } else return assertNever(file); // no error, file is never      \n  return fileContent; // no error, fileContent is FileContent\n}\n</code></pre>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 13, "user_id": 5814542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHNAS.jpg?s=128&g=1", "display_name": "yucj", "link": "https://stackoverflow.com/users/5814542/yucj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 1, "accepted_answer_id": 51969193, "answer_count": 1, "score": 0, "last_activity_date": 1534949024, "creation_date": 1534938372, "last_edit_date": 1534948777, "question_id": 51966166, "link": "https://stackoverflow.com/questions/51966166/typescript-how-to-use-discriminated-unions-with-structure-rather-than-with-disc", "title": "Typescript: How to use discriminated unions with structure rather than with discriminant property?", "body": "<p>I want to write a function to retrive the file content from source file. The source file has only two kinds of structure. I want to use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">discriminated unions</a> with <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">user-defined type guard</a> to handle the content.</p>\n\n<p>I need <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#exhaustiveness-checking\" rel=\"nofollow noreferrer\">exhaustiveness checking</a> so I turned on the <code>strictNullChecks</code>. I expect that if it creates discriminated unions succesfully, the compiler will not add <code>| undefined</code> to the returned <code>fileContent</code> in function <code>retrieveFileContent</code>. But the Typescript compiler throw an error:</p>\n\n<pre><code>error TS2322: Type '{ type: FileContentType; payload: string; } | { type: FileContentType; payload: { filename: string; path: string; }; } | undefined' is not assignable to type 'FileContent'.\nType 'undefined' is not assignable to type 'FileContent'\n</code></pre>\n\n<p>How can I modify my code to do discriminated unions with user-defined type guard right? Or is there any other better solution for my use case? </p>\n\n<p>Sorce Code:</p>\n\n<pre><code>// Target File Content Format\n\nenum FileContentType {\n  disk,\n  memory,\n}\n\ninterface FileContentInMemory {\n  type: FileContentType.memory\n  payload: string\n}\n\ninterface FileContentInDisk {\n  type: FileContentType.disk\n  payload: {\n    filename: string\n    path: string\n  }\n}\n\ntype FileContent = FileContentInMemory | FileContentInDisk\n\n// Source File Containing Content\n\ninterface FileBasics {\n  fieldname: string\n  originalname: string\n  encoding: string\n  mimetype: string\n  size: number\n}\n\ninterface FileInMemory extends FileBasics {\n  fileString: string\n}\n\ninterface FileInDisk extends FileBasics {\n  filePath: string\n}\n\ntype SourceFile = FileInMemory | FileInDisk\n\nfunction isInMemory(file: SourceFile): file is FileInMemory {\n  return (&lt;FileInMemory&gt;file).fileString !== undefined\n}\n\nfunction isInDisk(file: SourceFile): file is FileInDisk {\n  return (&lt;FileInDisk&gt;file).filePath !== undefined\n}\n\n// Retrieve Content From File\n\nfunction retrieveFileContent(file: SourceFile): FileContent {\n  let fileContent\n  if (isInMemory(file)) {\n    fileContent = {\n      type: FileContentType.memory,\n      payload: file.fileString\n    }\n  } else if (isInDisk(file)) {\n    fileContent = {\n      type: FileContentType.disk,\n      payload: {\n        filename: file.originalname,\n        path: file.filePath,\n      }\n    }\n  }\n  return fileContent\n}\n</code></pre>\n\n<p>My <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowJs\": true,\n    \"checkJs\": false,\n    \"esModuleInterop\": true,\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"noImplicitAny\": true,\n    \"outDir\": \"dist\",\n    \"sourceMap\": true,\n    \"strictNullChecks\": true,\n    \"rootDir\": \"src\",\n    \"jsx\": \"react\",\n    \"types\": [\n      \"node\",\n      \"jest\"\n    ],\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"target\": \"es2016\",\n    \"lib\": [\n      \"dom\",\n      \"es2016\"\n    ]\n  },\n  \"include\": [\n    \"src/**/*\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "sass"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1534938623, "post_id": 51966055, "comment_id": 90882132, "body": "<a href=\"https://material.angular.io/components/autocomplete/overview#keyboard-interaction\" rel=\"nofollow noreferrer\">The documentation</a> indicates that keyboard events are handled by default. Isn&#39;t that your issue ?"}, {"owner": {"reputation": 5, "user_id": 8434197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f313e5e144b677c34cad14f117780088?s=128&d=identicon&r=PG&f=1", "display_name": "thedoseoftea", "link": "https://stackoverflow.com/users/8434197/thedoseoftea"}, "edited": false, "score": 0, "creation_date": 1534942024, "post_id": 51966055, "comment_id": 90884406, "body": "I&#39;m not using the dropdown from angular material though.I&#39;m using a customly-made one as described by the tutorial, because I need to be able to style the input the same as the other inputs in the application"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1534942095, "post_id": 51966055, "comment_id": 90884447, "body": "My bad, jumped to conclusions ! would it be possible to get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> ?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 1, "last_activity_date": 1534942242, "creation_date": 1534942242, "answer_id": 51967302, "question_id": 51966055, "link": "https://stackoverflow.com/questions/51966055/setting-focus-on-dropdown-autocomplete-option-by-arrow-keys-in-angular/51967302#51967302", "title": "Setting focus on dropdown autocomplete option by arrow keys in Angular", "body": "<p>You can use keyup events to select what you want : </p>\n\n<pre><code>(keyup.arrowup)=\"selectPrevious()\"\n(keyup.arrowdown)=\"selectNext()\"\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8434197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f313e5e144b677c34cad14f117780088?s=128&d=identicon&r=PG&f=1", "display_name": "thedoseoftea", "link": "https://stackoverflow.com/users/8434197/thedoseoftea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1192, "favorite_count": 0, "accepted_answer_id": 51967302, "answer_count": 1, "score": 0, "last_activity_date": 1534942242, "creation_date": 1534938014, "question_id": 51966055, "link": "https://stackoverflow.com/questions/51966055/setting-focus-on-dropdown-autocomplete-option-by-arrow-keys-in-angular", "title": "Setting focus on dropdown autocomplete option by arrow keys in Angular", "body": "<p>I was unable to achieve my goal of picking options in an angular autocomplete dropdown that I created using <a href=\"https://www.youtube.com/watch?v=9MN-pi2GMw4\" rel=\"nofollow noreferrer\">this tutorial</a>. This is what the component looks like now:\n<a href=\"https://i.stack.imgur.com/hMDve.png\" rel=\"nofollow noreferrer\">Dropdown with focus on hover</a></p>\n\n<p>The dropdown options can be picked by clicking on them and they end up on the input field. I would also like to be able to pick the options by arrow keys, but am unable to do it. My code looks like this:</p>\n\n<p><strong>autocomplete-select.component.html</strong></p>\n\n<pre><code>&lt;div class=\"form-group row\" clickOutside (clickOutside)=\"closeAllocationDropDown()\" class=\"pos-rel\"&gt;\n  &lt;input class=\"form-control\" type=\"text\" id=\"allocation\" placeholder=\"Zadajte \u010dasov\u00fd z\u00e1znam\" formControlName=\"allocation\" (click)=\"toggleAllocationDropDown()\" autofocus=\"autofocus\"&gt;\n  &lt;div *ngIf=\"showAllocationDropdown\" class=\"dropdown\" &gt; \n    &lt;div&gt;\n      &lt;div (click)=\"selectAllocation(a.name)\" class=\"allocation\" *ngFor=\"let a of allocations | filterAllocation: getAllocationValue()\"&gt;\n          {{a.name}}\n      &lt;/div&gt;\n    &lt;/div&gt;      \n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>autocomplete-select.component.ts</strong></p>\n\n<pre><code>toggleAllocationDropDown() {\n    this.showAllocationDropdown = !this.showAllocationDropdown;\n  }\n\n  closeAllocationDropDown() {\n    this.showAllocationDropdown = false;\n  }\n\n  getAllocationValue() {\n    return this.selectForm.value.allocation;\n  }\n\n  selectAllocation(value: string) {\n    this.selectForm.controls['allocation'].setValue(value);\n    this.showAllocationDropdown = false;   \n  }\n</code></pre>\n\n<p><strong>autocomplete-select.component.scss</strong></p>\n\n<pre><code>.dropdown {\n    position:absolute;\n    z-index:1;\n    //max-width:100%;\n    width:100%;\n    max-height:300px;\n    background:white;\n    overflow-y:auto;\n}   \n\n.pos-rel {\n    position: relative;\n}\n\n.allocation{\n    padding:10py;\n    font-family:sans-serif;\n    color:black;\n    background-color:$color-soft-grey;\n}\n\n.allocation:hover{\n    background-color:$color-text;\n}\n\ninput {\n    cursor: pointer;\n    width: 100%;\n    padding: 5px;\n}\n</code></pre>\n\n<p>I imagine I need to create a directive for setting the focus on the dropdown option, but I'm not exactly sure how to research these options.</p>\n"}, {"tags": ["linux", "angular", "typescript"], "comments": [{"owner": {"reputation": 478, "user_id": 8574166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e777b09385d26ed0030590389f686c5f?s=128&d=identicon&r=PG&f=1", "display_name": "samet", "link": "https://stackoverflow.com/users/8574166/samet"}, "edited": false, "score": 1, "creation_date": 1534937800, "post_id": 51965719, "comment_id": 90881680, "body": "You can&#39;t do that on Angular. The examples for nodejs that you read."}, {"owner": {"reputation": 383, "user_id": 8337391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4AvKTiRK-sg/AAAAAAAAAAI/AAAAAAAAApE/UjC1MAlqOwk/photo.jpg?sz=128", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8337391/ipaul"}, "reply_to_user": {"reputation": 478, "user_id": 8574166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e777b09385d26ed0030590389f686c5f?s=128&d=identicon&r=PG&f=1", "display_name": "samet", "link": "https://stackoverflow.com/users/8574166/samet"}, "edited": false, "score": 0, "creation_date": 1534939892, "post_id": 51965719, "comment_id": 90883023, "body": "Yes! you are right @selmansamet. Thanks for replying. But is there any other ways rather workaround to fulfill this requirement? Any idea you can share.."}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 8337391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4AvKTiRK-sg/AAAAAAAAAAI/AAAAAAAAApE/UjC1MAlqOwk/photo.jpg?sz=128", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8337391/ipaul"}, "edited": false, "score": 0, "creation_date": 1534942870, "post_id": 51966922, "comment_id": 90885005, "body": "Got it! Thanks for the explanation @Paulie"}], "tags": [], "owner": {"reputation": 166, "user_id": 2993391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93223855c5d094f4cec3eecbb3f5fbed?s=128&d=identicon&r=PG&f=1", "display_name": "Paulie", "link": "https://stackoverflow.com/users/2993391/paulie"}, "is_accepted": true, "score": 2, "last_activity_date": 1534940900, "creation_date": 1534940900, "answer_id": 51966922, "question_id": 51965719, "link": "https://stackoverflow.com/questions/51965719/run-linux-command-from-angular-4-component/51966922#51966922", "title": "Run Linux command from Angular 4 component", "body": "<p>The modern browsers opens the webpage in isolated sandbox so they have have no access to clients' computers.<br>\nImagine the damage that could be done if a black hat could run batch script on computer that opens his webpage.\n<br>The only way to run the script is to run the desktop application on client's machine.\n<br><br>\nThe example code you provided is Node.js code, the desktop framework that user have to install on his machine and run the code intentionally. There's (<strong>fortunately!</strong>) no way to run it remotely via webpage.</p>\n"}], "owner": {"reputation": 383, "user_id": 8337391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4AvKTiRK-sg/AAAAAAAAAAI/AAAAAAAAApE/UjC1MAlqOwk/photo.jpg?sz=128", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8337391/ipaul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1262, "favorite_count": 0, "accepted_answer_id": 51966922, "answer_count": 1, "score": 0, "last_activity_date": 1534949878, "creation_date": 1534936828, "last_edit_date": 1534949878, "question_id": 51965719, "link": "https://stackoverflow.com/questions/51965719/run-linux-command-from-angular-4-component", "title": "Run Linux command from Angular 4 component", "body": "<p>Requirement is to fetch the output of a shell script's after running it from the Angular 4 component at the beginning during compilation i.e. just before the website is launched. I have already gone through the threads in stackoverflow  i.e. <a href=\"https://stackoverflow.com/questions/49700941/run-any-linux-terminal-command-from-typescript\">49700941</a> and <a href=\"https://stackoverflow.com/a/41637166/8337391\">41637166</a>.</p>\n\n<p>From the first thread i tried to use the below code, but getting error:</p>\n\n<p><strong>Module not found: Error: Can't resolve 'child_process' in 'app/component ...'</strong></p>\n\n<pre><code>const exec = require('child_process').exec;   // Can't resolve 'child_process' error coming from this line\n\nexec('/home/myDir/init_setup.sh', (err, stdout, stderr) =&gt; {\n    if (err){\n       console.error(err);\n       return;\n    };\n    console.log(stdout);\n    console.log(stderr);\n    /** \n     remaining logics\n    */\n});\n</code></pre>\n\n<p>Please let me know if I need to import some library explicitly or not to avoid this error.</p>\n"}, {"tags": ["angular", "typescript", "dialog", "dynamics-crm", "xrm"], "comments": [{"owner": {"reputation": 20105, "user_id": 7920473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10155688613669453/picture?type=large", "display_name": "Arun Vinoth", "link": "https://stackoverflow.com/users/7920473/arun-vinoth"}, "edited": false, "score": 1, "creation_date": 1534937776, "post_id": 51965691, "comment_id": 90881663, "body": "Using Internal method is unsupported. Which crm version?"}, {"owner": {"reputation": 33, "user_id": 7510121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f00b7a19e9cc812cf84640aa9f48dc6?s=128&d=identicon&r=PG&f=1", "display_name": "Tris Tan", "link": "https://stackoverflow.com/users/7510121/tris-tan"}, "reply_to_user": {"reputation": 20105, "user_id": 7920473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10155688613669453/picture?type=large", "display_name": "Arun Vinoth", "link": "https://stackoverflow.com/users/7920473/arun-vinoth"}, "edited": false, "score": 0, "creation_date": 1535004969, "post_id": 51965691, "comment_id": 90908410, "body": "I know that it is unsupported :) crm-version: 8.2"}], "owner": {"reputation": 33, "user_id": 7510121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f00b7a19e9cc812cf84640aa9f48dc6?s=128&d=identicon&r=PG&f=1", "display_name": "Tris Tan", "link": "https://stackoverflow.com/users/7510121/tris-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 447, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534936726, "creation_date": 1534936726, "question_id": 51965691, "link": "https://stackoverflow.com/questions/51965691/dynamics-crm-xrm-internal-opendialog-cancel-button-callback", "title": "Dynamics CRM: Xrm.Internal.openDialog() Cancel Button Callback", "body": "<p>I have got a custom Dialog (web ressource) which i open with window.open over a ribbon button.</p>\n\n<p>In this custom Dialog i open the crm lookupdialog with window.open. If the user clicks OK, i can set the Dialog window focused. </p>\n\n<p>I want to focus the dialog window, when the user clicks Cancel.\nCan anyone help me please?</p>\n\n<pre><code>DialogOption.width = 500; DialogOption.height = 600;\nvar dialogWindow = this.crmWindow.Xrm.Internal.openDialog(lookupurl, DialogOption, null, null, (returnValue) =&gt; this.ngZone.run(() =&gt; {\n    this.lookupId = returnValue.items[0].id;\n    this.lookupText = returnValue.items[0].name;\n    window.focus();\n  }));\n</code></pre>\n"}, {"tags": ["javascript", "json", "typescript", "request"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534950918, "post_id": 51965671, "comment_id": 90890450, "body": "Can you clarify this?  The current endpoint is returning an <code>IEngagementUser</code> (or <code>IBaseEngagement</code>), which previously contained the <code>positionTitle</code>, but now you want to retrieve the <code>positionTitle</code> from a new endpoint while continuing to retrieve the rest of the fields from the original endpoint?"}, {"owner": {"reputation": 722, "user_id": 10180362, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kDUi_9VEWoo/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qgSrT5lryoX-biblwJ5jjsmFKsOg/mo/photo.jpg?sz=128", "display_name": "Sparlarva", "link": "https://stackoverflow.com/users/10180362/sparlarva"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534952141, "post_id": 51965671, "comment_id": 90891180, "body": "Yes It must be returning the data to those interfaces as I am taking the data from their currently and displaying the position and the new endpoint could replace the IEngagementUserPosition as it has all the same parts. with an added field for account which has an ID and a fullname"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534952345, "post_id": 51965671, "comment_id": 90891285, "body": "OK... Looks like this will require some fiddling with Observables, which I&#39;m not familiar with, but hopefully we&#39;ve collected the necessary information so that someone else will be able to help."}], "owner": {"reputation": 722, "user_id": 10180362, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kDUi_9VEWoo/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qgSrT5lryoX-biblwJ5jjsmFKsOg/mo/photo.jpg?sz=128", "display_name": "Sparlarva", "link": "https://stackoverflow.com/users/10180362/sparlarva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534937884, "creation_date": 1534936667, "last_edit_date": 1534937884, "question_id": 51965671, "link": "https://stackoverflow.com/questions/51965671/get-request-data-assign-to-interface-variable", "title": "GET request data - assign to interface/variable", "body": "<p>On my front-end I am displaying employees positions within a company, it calls this variable -  </p>\n\n<pre><code>setProperties(json: IEngagementUser, engagementType: EngagementType, color: string) {  \nthis.title = json.position.positionTitle;\n</code></pre>\n\n<p>This works, but i now have been given a new 'endpoint' to get data from and use for the positions, below is the current endpoint being used.</p>\n\n<pre><code>  orginazation(sfid: string): Observable&lt;IBaseEngagement&gt; {\nconst url = `${this.baseURL}/${ENDPOINTS.organizations}/${sfid}`;\nreturn this.http.get(url).map(res =&gt; res.json() as IBaseEngagement);\n</code></pre>\n\n<p>}</p>\n\n<p>Now what I'm trying to understand is, If i call this new endpoint i've been given, how do I assign the data from it to an interface or variable to then be assigned to 'this.title'</p>\n\n<p>for more context.. the interface which is being used currently is: </p>\n\n<pre><code>   export interface IEngagementUser extends IBaseEngagement {\n  startDate?: string;\n  endDate?: string;\n  status?: string;\n  statusLabel?: string;\n  account?: IEngagementUserAccount;\n  position?: IEngagementUserPosition;\n  primaryPosition?: string;\n  badgeType?: string;\n  engagementRole?: string;\n}\n\nexport interface IEngagementUserPosition {\n  id: string;\n  organizationId: string;\n  organizationName: string;\n  positionTitle: string;\n  positionLevel: string;   &lt;----- here!\n  isPrimary: boolean;\n  startDate: string;\n  endDate: string;\n}\n</code></pre>\n\n<p>Sorry I know this is a tad messy, i'm new to this. I dont understand how the interface contains the data currently, or how I can GET on the endpoint, assign the data to something and then use it as the this.title currently is, i tried creating a new interface etc but didnt work. I tested the new endpoint on postman and it worked.</p>\n\n<p>Thanks for your time.</p>\n\n<p>Kind regards,</p>\n\n<p>sparlarva</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 3096, "user_id": 2470364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/m9uIu.jpg?s=128&g=1", "display_name": "Sujata Chanda", "link": "https://stackoverflow.com/users/2470364/sujata-chanda"}, "edited": false, "score": 0, "creation_date": 1534936798, "post_id": 51965654, "comment_id": 90881133, "body": "You can pass the src through data binding in play-video and on ngOnChage you will get the new src."}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1534937157, "post_id": 51965654, "comment_id": 90881339, "body": "Add the <code>Subject</code> in your servcie not in your component, use serivice to pass data from one component to another.."}, {"owner": {"reputation": 35, "user_id": 7301404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebfb2ce3195a033bb256e3b5abb8540?s=128&d=identicon&r=PG&f=1", "display_name": "A. Ranjan", "link": "https://stackoverflow.com/users/7301404/a-ranjan"}, "reply_to_user": {"reputation": 3096, "user_id": 2470364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/m9uIu.jpg?s=128&g=1", "display_name": "Sujata Chanda", "link": "https://stackoverflow.com/users/2470364/sujata-chanda"}, "edited": false, "score": 0, "creation_date": 1534947914, "post_id": 51965654, "comment_id": 90888444, "body": "@SujataChanda, thank you for your response. I tried your solution.(It is even the first answer of the question), but it&#39;s not working. In the ngOnChanges method, I can update the src, but it is not reflected in the template. If you have any alternate solution to this, please let me know. Thank you"}, {"owner": {"reputation": 35, "user_id": 7301404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebfb2ce3195a033bb256e3b5abb8540?s=128&d=identicon&r=PG&f=1", "display_name": "A. Ranjan", "link": "https://stackoverflow.com/users/7301404/a-ranjan"}, "reply_to_user": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1534948007, "post_id": 51965654, "comment_id": 90888523, "body": "@AshishRanjan, I was doing the same way, but I made many changes to make the code functional and ended up injecting MainContentComponent into PlayVideoComponent. But thank you for your remark!"}, {"owner": {"reputation": 35, "user_id": 7301404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebfb2ce3195a033bb256e3b5abb8540?s=128&d=identicon&r=PG&f=1", "display_name": "A. Ranjan", "link": "https://stackoverflow.com/users/7301404/a-ranjan"}, "edited": false, "score": 0, "creation_date": 1535099545, "post_id": 51965654, "comment_id": 90949906, "body": "Solved this by using <code>src</code> attribute inside the <code>video</code> element. <code>&lt;video [src]=&quot;src&quot; ..&gt;...&lt;&#47;video&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1534937605, "post_id": 51965847, "comment_id": 90881582, "body": "<code>&lt;source [src]=&quot;video?.src&quot; type=&quot;video&#47;mp4&quot; &#47;&gt;</code>??"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1534937792, "post_id": 51965847, "comment_id": 90881673, "body": "@AshishRanjan I made the least changes I could do. Removing a $ is less than <code>video?.src</code>."}, {"owner": {"reputation": 35, "user_id": 7301404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebfb2ce3195a033bb256e3b5abb8540?s=128&d=identicon&r=PG&f=1", "display_name": "A. Ranjan", "link": "https://stackoverflow.com/users/7301404/a-ranjan"}, "edited": false, "score": 0, "creation_date": 1535012179, "post_id": 51965847, "comment_id": 90912063, "body": "@trichetriche, thank you for your response. But this is not working. The video still looks broken and I get this error in the console: GET <a href=\"http://localhost:4200/null\" rel=\"nofollow noreferrer\">localhost:4200/null</a> 404 (Not Found) I&#39;m not navigating anywhere in the components. Also, the src is updated in the play-video.component.ts file but is not reflected in the template."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 35, "user_id": 7301404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebfb2ce3195a033bb256e3b5abb8540?s=128&d=identicon&r=PG&f=1", "display_name": "A. Ranjan", "link": "https://stackoverflow.com/users/7301404/a-ranjan"}, "edited": false, "score": 0, "creation_date": 1535012327, "post_id": 51965847, "comment_id": 90912150, "body": "@A.Ranjan yeah that&#39;s not because of that code, that&#39;s because of you : your source does not exist (error 404). Give it a valid source and see how it behaves."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 35, "user_id": 7301404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebfb2ce3195a033bb256e3b5abb8540?s=128&d=identicon&r=PG&f=1", "display_name": "A. Ranjan", "link": "https://stackoverflow.com/users/7301404/a-ranjan"}, "edited": false, "score": 0, "creation_date": 1535012880, "post_id": 51965847, "comment_id": 90912464, "body": "@A.Ranjan I don&#39;t care about your repository ... Simply find the right link to the source and tell me if you have any more error."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1534937251, "creation_date": 1534937251, "answer_id": 51965847, "question_id": 51965654, "link": "https://stackoverflow.com/questions/51965654/how-to-update-src-attribute-of-the-video-element-with-mouse-clicks/51965847#51965847", "title": "How to update src attribute of the video element with mouse clicks?", "body": "<p>Set an input to your second component</p>\n\n<pre><code>&lt;button (click)=\"currentVideo = video\" type=\"button\"&gt;{{video.title}}&lt;/button&gt;\n...\n&lt;app-play-video [video]=\"currentVideo\"&gt;&lt;/app-play-video&gt;\n</code></pre>\n\n<p>Declare it in your component</p>\n\n<pre><code>videos;\ncurrentVideo;\n</code></pre>\n\n<p>In your second component, declare it too </p>\n\n<pre><code>@Input() video;\n</code></pre>\n\n<p>Implement the <code>OnChanges</code> interface to change the source of the video</p>\n\n<pre><code>export class PlayVideoComponent implement onChanges {\n  ...\n  src;\n  ngOnChanges(changes: SimpleChanges) {\n    this.src = this.video.src;\n  }\n  ...\n}\n</code></pre>\n\n<p>And remove the async part of your HTML</p>\n\n<pre><code>&lt;source [src]=\"src\" type=\"video/mp4\" /&gt; Browser not supported\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "is_accepted": false, "score": 0, "last_activity_date": 1534937450, "creation_date": 1534937450, "answer_id": 51965898, "question_id": 51965654, "link": "https://stackoverflow.com/questions/51965654/how-to-update-src-attribute-of-the-video-element-with-mouse-clicks/51965898#51965898", "title": "How to update src attribute of the video element with mouse clicks?", "body": "<p>Issue is with async that is getting called in the template which will execute only once. Instead handle it inside my player component. Also use BehaviorSubject and set the first video as default.</p>\n\n<p>videos;</p>\n\n<pre><code>obs = new BehaviorSubject&lt;string&gt;('../../assets/secure-content/vid1.mp4');\nobs$ = this.obs.asObservable();\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>@Component({\n  selector: 'app-play-video',\n\n...\n\nsrc$: Observable&lt;string&gt;;\n\nconstructor(private mainContPg: MainContentComponent) { }\n\nngOnInit() {\n  this.mainContPg.obs$.subscribe((vsrc)=&gt;{\n    this.src = vsrc;\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7301404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebfb2ce3195a033bb256e3b5abb8540?s=128&d=identicon&r=PG&f=1", "display_name": "A. Ranjan", "link": "https://stackoverflow.com/users/7301404/a-ranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534937450, "creation_date": 1534936593, "question_id": 51965654, "link": "https://stackoverflow.com/questions/51965654/how-to-update-src-attribute-of-the-video-element-with-mouse-clicks", "title": "How to update src attribute of the video element with mouse clicks?", "body": "<p>I've this simple app that has a list of videos of the side menu and a player on the right side of it. For some reason, I've made separate components for the list and the video player. What I want is, when a user clicks on any item of the list, the corresponding video should load/play in the player. But I'm not able to update the <code>src</code> of the <code>video</code> element.</p>\n\n<p>Here's my code:</p>\n\n<p>main-content.component.html</p>\n\n<pre><code>...\n&lt;mat-list *ngFor=\"let video of videos;let i = index\"&gt;\n  &lt;button (click)=\"setloadVid(video)\" type=\"button\"&gt;{{video.title}}&lt;/button&gt;\n&lt;/mat-list&gt;\n...\n//Selector for playing video\n&lt;app-play-video&gt;&lt;/app-play-video&gt;\n...\n</code></pre>\n\n<p>main.component.ts</p>\n\n<pre><code>videos;\nobs = new Subject&lt;string&gt;();\nobs$ = this.obs.asObservable();\n\nconstructor(private vid: VideosService) {}\n\nngOnInit() {\n  this.videos = this.vid.VIDEOS;\n  //this is just to make sure that that the first video loads when the page loads.\n  this.obs.next(\"../../assets/secure-content/vid1.mp4\");\n}\n\nsetloadVid(video: any) {\n  this.obs.next(video.src);\n}\n</code></pre>\n\n<p>My player component:</p>\n\n<p>play-video.component.html</p>\n\n<pre><code>&lt;div class=\"video-container video\"&gt;\n  &lt;video width=\"400px\" height=\"300px\" controls (click)=\"toggleVideo()\" #videoPlayer&gt;\n    &lt;source [src]=\"src$ | async\" type=\"video/mp4\" /&gt; Browser not supported\n  &lt;/video&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>play-video.component.ts</p>\n\n<pre><code>@Component({\n  selector: 'app-play-video',\n\n...\n\nsrc$: Observable&lt;string&gt;;\n\nconstructor(private mainContPg: MainContentComponent) { }\n\nngOnInit() {\n  this.src$ = this.mainContPg.obs$;\n}\n</code></pre>\n\n<p>How do I fix this? Thank you!</p>\n"}, {"tags": ["angular", "typescript", "validation", "angular-material"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1534949104, "post_id": 51964807, "comment_id": 90889322, "body": "Please read <a href=\"//meta.stackoverflow.com/q/326569\">Under what circumstances may I add \u201curgent\u201d or other similar phrases to my question, in order to obtain faster answers?</a> - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 10253754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a596b524213b6bc63c98d1cd34c34333?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Saxena", "link": "https://stackoverflow.com/users/10253754/rohit-saxena"}, "edited": false, "score": 0, "creation_date": 1534938626, "post_id": 51964929, "comment_id": 90882137, "body": "I have changed subscribes as below :  But for first time whatever value I enter in a field It goes in infinite loop , not from second time  and validation is only working for price field change not on others:"}, {"owner": {"reputation": 957, "user_id": 4090870, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/293555ea8a1c276c75a0c1655934720b?s=128&d=identicon&r=PG&f=1", "display_name": "KCarnaille", "link": "https://stackoverflow.com/users/4090870/kcarnaille"}, "reply_to_user": {"reputation": 29, "user_id": 10253754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a596b524213b6bc63c98d1cd34c34333?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Saxena", "link": "https://stackoverflow.com/users/10253754/rohit-saxena"}, "edited": false, "score": 0, "creation_date": 1534939471, "post_id": 51964929, "comment_id": 90882728, "body": "Please provide a jsfiddle or something then"}, {"owner": {"reputation": 29, "user_id": 10253754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a596b524213b6bc63c98d1cd34c34333?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Saxena", "link": "https://stackoverflow.com/users/10253754/rohit-saxena"}, "edited": false, "score": 0, "creation_date": 1534939853, "post_id": 51964929, "comment_id": 90882984, "body": "I  have never used something like that , I have opened it but  if I will paste too part of html and ts it will not able to run independently"}], "tags": [], "owner": {"reputation": 957, "user_id": 4090870, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/293555ea8a1c276c75a0c1655934720b?s=128&d=identicon&r=PG&f=1", "display_name": "KCarnaille", "link": "https://stackoverflow.com/users/4090870/kcarnaille"}, "is_accepted": false, "score": 1, "last_activity_date": 1534934068, "creation_date": 1534934068, "answer_id": 51964929, "question_id": 51964807, "link": "https://stackoverflow.com/questions/51964807/custom-required-validation-on-fields-in-angular-6/51964929#51964929", "title": "Custom required validation on fields in Angular 6", "body": "<p>You need to add a parameter in your second updateValueValidity method, because you are subscribing to a value that you update. So infinite loop.</p>\n\n<p>The parameter is <code>{emitEvent: false;}</code>\n<a href=\"https://angular.io/api/forms/AbstractControl#updateValueAndValidity\" rel=\"nofollow noreferrer\">https://angular.io/api/forms/AbstractControl#updateValueAndValidity</a></p>\n"}], "owner": {"reputation": 29, "user_id": 10253754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a596b524213b6bc63c98d1cd34c34333?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Saxena", "link": "https://stackoverflow.com/users/10253754/rohit-saxena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1534949097, "creation_date": 1534933544, "last_edit_date": 1534949097, "question_id": 51964807, "link": "https://stackoverflow.com/questions/51964807/custom-required-validation-on-fields-in-angular-6", "title": "Custom required validation on fields in Angular 6", "body": "<p>I am using Angular 6 and Material form.</p>\n\n<p>In a div there are 3 fields, 2 date picker and 1 input text field. We just need that if there is a value entered in a field then all should be mandatory.</p>\n\n<p>The way I have tried is:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class=\"flex-container PromotionalPriceInfo\"&gt;\n\n    &lt;span class=\"flex-item bold small\"&gt;Promotional&lt;/span&gt;\n\n    &lt;mat-form-field class=\"flex-item\"&gt;\n\n        &lt;input matInput [matDatepicker]=\"promotionalPriceStartDatePicker\" placeholder=\"Promotional Price Start Date\" formControlName=\"promotionStartDate\"\n        /&gt;\n\n        &lt;mat-datepicker-toggle matSuffix [for]=\"promotionalPriceStartDatePicker\"&gt;&lt;/mat-datepicker-toggle&gt;\n\n        &lt;mat-datepicker #promotionalPriceStartDatePicker&gt;&lt;/mat-datepicker&gt;\n\n    &lt;/mat-form-field&gt;\n\n    &lt;mat-form-field class=\"flex-item\"&gt;\n\n        &lt;input matInput [matDatepicker]=\"promotionalPriceEndDatePicker\" placeholder=\"Promotional Price End Date\" formControlName=\"promotionEndDate\"\n        /&gt;\n\n        &lt;mat-datepicker-toggle matSuffix [for]=\"promotionalPriceEndDatePicker\"&gt;&lt;/mat-datepicker-toggle&gt;\n\n        &lt;mat-datepicker #promotionalPriceEndDatePicker&gt;&lt;/mat-datepicker&gt;\n\n    &lt;/mat-form-field&gt;\n\n    &lt;mat-form-field class=\"flex-item\"&gt;\n\n        &lt;input matInput type=\"number\" placeholder=\"New Price\" formControlName=\"promotionPrice\" /&gt;\n\n    &lt;/mat-form-field&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>Component.ts\nonInit() I am setting a custom validator as :</p>\n\n<pre><code>this.storeServiceForm.get('promotionStartDate').setValidators(requiredPromotionalFields);\n\nthis.storeServiceForm.get('promotionEndDate').setValidators(requiredPromotionalFields);\n\nthis.storeServiceForm.get('promotionPrice').setValidators(requiredPromotionalFields);\n</code></pre>\n\n<p>Custom Validator code as:</p>\n\n<pre><code>export function requiredPromotionalFields(control: FormControl) {\n    const promotionStartDate = control.parent.get('promotionStartDate').value;\n    const promotionEndDate = control.parent.get('promotionEndDate').value;\n    const promotionPrice = control.parent.get('promotionPrice').value;\n    return ((!promotionStartDate &amp;&amp; !promotionEndDate &amp;&amp; !promotionPrice) || control.value) ? null : {\n        required: true\n    };\n}\n</code></pre>\n\n<p>Which works fine if there is a value in any field while loading of page but it do not revalidate the other fields on change of value in any field</p>\n\n<p>Which can be worked if I use below code as:</p>\n\n<pre><code> this.storeServiceForm.get('promotionStartDate').valueChanges.subscribe(value =&gt; {\n            this.storeServiceForm.controls['promotionStartDate'].updateValueAndValidity({ emitEvent: false });\n            this.storeServiceForm.controls['promotionEndDate'].updateValueAndValidity();\n            this.storeServiceForm.controls['promotionPrice'].updateValueAndValidity();\n        });\n\n        this.storeServiceForm.get('promotionEndDate').valueChanges.subscribe(value =&gt; {\n            this.storeServiceForm.controls['promotionStartDate'].updateValueAndValidity();\n            this.storeServiceForm.controls['promotionEndDate'].updateValueAndValidity({ emitEvent: false });\n            this.storeServiceForm.controls['promotionPrice'].updateValueAndValidity();\n        });\n\n        this.storeServiceForm.get('promotionPrice').valueChanges.subscribe(value =&gt; {\n            this.storeServiceForm.controls['promotionStartDate'].updateValueAndValidity();\n            this.storeServiceForm.controls['promotionEndDate'].updateValueAndValidity();\n            this.storeServiceForm.controls['promotionPrice'].updateValueAndValidity({ emitEvent: false });\n        });    \n</code></pre>\n\n<p>But above code breaks down to error something like Maximum call stack size exceeded. Only for first time I change any value and then also only validation is working on price change not on other fields. And hang browser.</p>\n\n<p>Can this be fixed, or is there any other way?</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 3786, "user_id": 3131085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46eb34957e6fdc051e365e5853aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jason White", "link": "https://stackoverflow.com/users/3131085/jason-white"}, "edited": false, "score": 1, "creation_date": 1534933386, "post_id": 51964663, "comment_id": 90879351, "body": "In your function instead of setting visibitlity to false you can just set it to the opposite of what it currently is with <code>!</code> operator.  <code>visibility = !visibility</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "reply_to_user": {"reputation": 101, "user_id": 10187097, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YEUF78hW5-U/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rME1ezEzROVQ5nkj_XsBaP9oDyNg/mo/photo.jpg?sz=128", "display_name": "change need", "link": "https://stackoverflow.com/users/10187097/change-need"}, "edited": false, "score": 0, "creation_date": 1534933578, "post_id": 51964700, "comment_id": 90879449, "body": "It is important to respect the space before and after the <code>=</code>. Can you try to move it on the parent <code>&lt;div&gt;</code>?"}], "tags": [], "owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1534933164, "creation_date": 1534933164, "answer_id": 51964700, "question_id": 51964663, "link": "https://stackoverflow.com/questions/51964663/ngif-show-or-hide-in-angular-4/51964700#51964700", "title": "ngIf show or hide in angular 4", "body": "<p>You can use directly in your template :</p>\n\n<pre><code>(click)=\"visability = !visability\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4739, "user_id": 264946, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/037534de70515727478cb707c28b6b5a?s=128&d=identicon&r=PG", "display_name": "Anshuman Jaiswal", "link": "https://stackoverflow.com/users/264946/anshuman-jaiswal"}, "is_accepted": true, "score": 1, "last_activity_date": 1534933381, "creation_date": 1534933381, "answer_id": 51964759, "question_id": 51964663, "link": "https://stackoverflow.com/questions/51964663/ngif-show-or-hide-in-angular-4/51964759#51964759", "title": "ngIf show or hide in angular 4", "body": "<p>add <code>click</code> on your div holding toggle button as:</p>\n\n<pre><code>&lt;div class=\"toggle\" (click)=toggleTextBox()&gt;\n    &lt;input type=\"checkbox\"  class=\"check\"&gt;\n    &lt;b class=\"b switch\" &gt;&lt;/b&gt;\n    &lt;b class=\"b track\"&gt;&lt;/b&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>visability=true;\ntoggleTextBox(){\n  this.visability = !this.visability;\n}\n</code></pre>\n\n<p>no need of <code>(click)=\"showTextBox()\"</code> in div under <code>&lt;div class=\"col-sm address\"&gt;</code>.</p>\n"}], "owner": {"reputation": 101, "user_id": 10187097, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YEUF78hW5-U/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rME1ezEzROVQ5nkj_XsBaP9oDyNg/mo/photo.jpg?sz=128", "display_name": "change need", "link": "https://stackoverflow.com/users/10187097/change-need"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 51964759, "answer_count": 2, "score": 1, "last_activity_date": 1534933381, "creation_date": 1534932993, "last_edit_date": 1534933373, "question_id": 51964663, "link": "https://stackoverflow.com/questions/51964663/ngif-show-or-hide-in-angular-4", "title": "ngIf show or hide in angular 4", "body": "<p>I have function in <code>component.ts</code> like below</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    visability=true;\n    showTextBox(){\n      debugger;\n      this.visability = false;\n\n    }\n</code></pre>\n\n<p>and in <code>component.html</code> below code I have</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>       &lt;div class=\"col-sm\"&gt;\n          &lt;div class=\"toggle\"&gt;\n            &lt;input type=\"checkbox\"  class=\"check\"&gt;\n            &lt;!-- (click)=\"show=!show\" --&gt;\n            &lt;b class=\"b switch\" &gt;&lt;/b&gt;\n            &lt;b class=\"b track\"&gt;&lt;/b&gt;\n          &lt;/div&gt;\n          &lt;h4 id=\"door-delivery\"&gt;Door Delivery&lt;/h4&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm address\"&gt;\n          &lt;div *ngIf=\"!visability\" (click)=\"showTextBox()\"&gt;\n            &lt;input class=\"form-control \" type=\"text\" placeholder=\"Enter Address\"&gt;\n          &lt;/div&gt;\n          &lt;div *ngIf=\"visability\" (click)=\"showTextBox()\"&gt;\n            &lt;select formControlName=\"pickup_location\" class=\"form-control selectpicker\" id=\"select-city\" data-live-search=\"true\" required&gt;\n              &lt;option data-tokens=\"\" disabled&gt;\n                &lt;h2&gt;Pickup location...&lt;/h2&gt;\n              &lt;/option&gt;\n              &lt;option data-tokens=\"India\"&gt;\n                &lt;h2&gt;India&lt;/h2&gt;\n              &lt;/option&gt;\n              &lt;option data-tokens=\"UAE\"&gt;\n                &lt;h2&gt;UAE&lt;/h2&gt;\n              &lt;/option&gt;\n              &lt;option data-tokens=\"Japan\"&gt;\n                &lt;h2&gt;Japan&lt;/h2&gt;\n              &lt;/option&gt;\n            &lt;/select&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>My Toggle <a href=\"https://codepen.io/RammmohanBandaru/pen/BPXzmv\" rel=\"nofollow noreferrer\">Looks like</a>\nMy Question is when I click on toggle it should appear Enter pickup location and as well as again if I click on toggle it should be display the list of cities. </p>\n\n<p>How we can achieve this? could any one help me</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 9929, "user_id": 1207346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/405c287d524981c7b8223dd1cf3ab554?s=128&d=identicon&r=PG&f=1", "display_name": "Dale", "link": "https://stackoverflow.com/users/1207346/dale"}, "edited": false, "score": 1, "creation_date": 1534932243, "post_id": 51964341, "comment_id": 90878734, "body": "Out of curiosity, why can&#39;t the service return a direct result? is it returning a promise or other asyncronous result? Maybe in this case you can have a true false flag in your controller that is updated on finish of callback, allowing navigation if true"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1534932752, "post_id": 51964341, "comment_id": 90879000, "body": "Angular doesn&#39;t &quot;destroy code&quot;, ever. <code>ngOnDestroy</code> is a method called when Angular destroys the DOM node created by that component. Function calls are still in browser stack and will still be called."}, {"owner": {"reputation": 51, "user_id": 10135073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yFUX.jpg?s=128&g=1", "display_name": "Sazeidya", "link": "https://stackoverflow.com/users/10135073/sazeidya"}, "reply_to_user": {"reputation": 9929, "user_id": 1207346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/405c287d524981c7b8223dd1cf3ab554?s=128&d=identicon&r=PG&f=1", "display_name": "Dale", "link": "https://stackoverflow.com/users/1207346/dale"}, "edited": false, "score": 0, "creation_date": 1534933166, "post_id": 51964341, "comment_id": 90879231, "body": "@Dale Sorry :) The function in the service reads the entries of a passed directory and returns an array of the files inside the directory (I am using the entries API)."}, {"owner": {"reputation": 51, "user_id": 10135073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yFUX.jpg?s=128&g=1", "display_name": "Sazeidya", "link": "https://stackoverflow.com/users/10135073/sazeidya"}, "reply_to_user": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1534933310, "post_id": 51964341, "comment_id": 90879312, "body": "@ritaj Thanks for clarifying that. So the browser will carbage collect the rest of the component instance (code etc.) when it is no longer needed or how does this work?"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1534942847, "post_id": 51964341, "comment_id": 90884977, "body": "Well, the browser collects object instances when there are no more references to the object. Angular will dereference component instance when <code>onDestroy</code> happens. Functions called before component destruction will still be on the stack and so the component will not yet be collected."}, {"owner": {"reputation": 51, "user_id": 10135073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yFUX.jpg?s=128&g=1", "display_name": "Sazeidya", "link": "https://stackoverflow.com/users/10135073/sazeidya"}, "edited": false, "score": 0, "creation_date": 1534944471, "post_id": 51964341, "comment_id": 90886124, "body": "So just for me to understand: Lets say, I call the function inside the service, and before this function finishes, I navigate to another route in my app, so the component gets destroyed (so the DOM node is destroyed). Then the function finishes and fires the callback inside the components model/&quot;code&quot;. After that, all references to the object are gone, so the browser now garbage collects it? In the time between DOM node destruction and the execution of the callback the object remains and after that it gets destroyed? Do I understand this correctly or am I on the &quot;wrong way&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "is_accepted": false, "score": 1, "last_activity_date": 1534932515, "creation_date": 1534932515, "answer_id": 51964518, "question_id": 51964341, "link": "https://stackoverflow.com/questions/51964341/angular-callback-from-service-after-component-is-destroyed/51964518#51964518", "title": "Angular - Callback from Service after Component is destroyed", "body": "<p>Inside service, you can maintain a status flag will set tp true, if the component is destroy. You can set the service flag to true on component ngOnDestroy. When callback is executing you can proceed execution only when flag is false.</p>\n\n<p>As per the official angular docs, A ondestroy lifecycle hook that is called when a directive, pipe, component or service is destroyed. Use for any custom cleanup that needs to occur when the instance is destroyed. </p>\n"}], "owner": {"reputation": 51, "user_id": 10135073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yFUX.jpg?s=128&g=1", "display_name": "Sazeidya", "link": "https://stackoverflow.com/users/10135073/sazeidya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1267, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534934856, "creation_date": 1534931997, "last_edit_date": 1534934856, "question_id": 51964341, "link": "https://stackoverflow.com/questions/51964341/angular-callback-from-service-after-component-is-destroyed", "title": "Angular - Callback from Service after Component is destroyed", "body": "<p>I have some little questions about Angular Components and the OnDestroy lifecycle hook.</p>\n\n<p>I have an Angular Service and an Angular Component. From the component I am calling a function inside the service. Because the function can't return a result directly, I am using a callback to get the result. I pass the callback as arrow function inside the component.</p>\n\n<p>I have noticed that if I execute the function which calls the function inside the service, and then - before the callback gets called - route to another component so the current one gets destroyed, the callback still gets executed after the component itself (which contains the callback as arrow function) was destroyed.</p>\n\n<p>Now to my questions:</p>\n\n<p>How does that work under the hood? Is Angular destroying only the view(template) and waits until the callback was called and then destroys the rest(code)?</p>\n\n<p>Or is it intended that ngOnDestroy only destroys the view and the rest is handled by garbage collection/the browser itself?</p>\n\n<p>Is there any way that I can check if the component still exists and wasn't destroyed and only then call the callback?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 0, "creation_date": 1534932563, "post_id": 51963990, "comment_id": 90878905, "body": "that&#39;s not different from javascript."}], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1534931050, "creation_date": 1534931050, "answer_id": 51964047, "question_id": 51963990, "link": "https://stackoverflow.com/questions/51963990/may-i-declare-the-typescript-object-base-on-the-json-format-like-this/51964047#51964047", "title": "May I declare the TypeScript Object base on the json format like this?", "body": "<p>No, it should look something like this,</p>\n\n<pre><code>export interface Test1 {\n    aa: string;\n    bb: string;\n}\n\nexport interface Test2 {\n    aa: string;\n    bb: string;\n}\n</code></pre>\n\n<p>in order to verify you can just paste the JSON in <strong><a href=\"http://json2ts.com/\" rel=\"nofollow noreferrer\"><code>json2ts</code></a></strong> and see the output.</p>\n"}, {"tags": [], "owner": {"reputation": 11538, "user_id": 885626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADFuG.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/885626/ric"}, "is_accepted": false, "score": 1, "last_activity_date": 1534932465, "last_edit_date": 1534932465, "creation_date": 1534931362, "answer_id": 51964135, "question_id": 51963990, "link": "https://stackoverflow.com/questions/51963990/may-i-declare-the-typescript-object-base-on-the-json-format-like-this/51964135#51964135", "title": "May I declare the TypeScript Object base on the json format like this?", "body": "<p>try this:</p>\n\n<pre><code>class test {\n  aa: string;\n  bb: string;\n}\n\nclass root {\n [key: string] : test;\n}\n\nconst t: root = {\n  'test2': { aa: 'hello', bb: 'world'},\n  'test1': { aa: 'hello', bb: 'world'}\n}\n</code></pre>\n\n<p>This also provides safety by raising an error at compile time when duplicate keys are found ie:</p>\n\n<pre><code>const t: root = {\n  'test2': { aa: 'hello', bb: 'world'},\n  'test1': { aa: 'hello', bb: 'world'},\n  'test1': { aa: 'hello', bb: 'world'}\n}\n</code></pre>\n\n<p>shows:</p>\n\n<blockquote>\n  <p>Duplicate identifier ''test1''.</p>\n</blockquote>\n\n<p>However, this may not fit in with your POJO's that you have shown.</p>\n\n<p>Try it here\n<a href=\"https://www.typescriptlang.org/play/#src=class%20test%20%7B%0D%0A%20%20aa%3A%20string%3B%0D%0A%20%20bb%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Aclass%20root%20%7B%0D%0A%20%5Bkey%3A%20string%5D%20%3A%20test%3B%0D%0A%7D%0D%0A%0D%0Aconst%20t%3A%20root%20%3D%20%7B%0D%0A%20%20&#39;test2&#39;%3A%20%7B%20aa%3A%20&#39;hello&#39;%2C%20bb%3A%20&#39;world&#39;%7D%2C%0D%0A%20%20&#39;test1&#39;%3A%20%7B%20aa%3A%20&#39;hello&#39;%2C%20bb%3A%20&#39;world&#39;%7D%0D%0A%7D%0D%0A%0D%0Aconst%20e%20%3D%20document.createElement(&#39;p&#39;)%3B%0D%0Ae.innerHTML%20%3D%20JSON.stringify(t)%3B%0D%0Adocument.body.appendChild(e)%3B\" rel=\"nofollow noreferrer\">TS Playground</a></p>\n"}], "owner": {"reputation": 83, "user_id": 5233699, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83b0ca33e107882d107265a6ed7061db?s=128&d=identicon&r=PG&f=1", "display_name": "Eumendies", "link": "https://stackoverflow.com/users/5233699/eumendies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534932465, "creation_date": 1534930872, "last_edit_date": 1534932177, "question_id": 51963990, "link": "https://stackoverflow.com/questions/51963990/may-i-declare-the-typescript-object-base-on-the-json-format-like-this", "title": "May I declare the TypeScript Object base on the json format like this?", "body": "<p>I'm a java developer, I want to develop the Angular 6.0 now, I'm pretty new on the typescript. now I have a json string from the backend as below:</p>\n\n<pre><code>{  \n   \"test1\":{  \n      \"aa\":\"7/22 \u2013 7/28\",\n      \"bb\":\"Tues July 24 11:15 - 22:20\"\n   },\n   \"test2\":{  \n      \"aa\":\"7/22 \u2013 7/28\",\n      \"bb\":\"Tues July 24 11:15 - 22:20\"\n   }\n}\n</code></pre>\n\n<p>How to declare the class Object?</p>\n\n<p>for the java perspective, I will declare the class like this, I'm not sure whether it's right or not</p>\n\n<pre><code>export class Test{\n    public aa: string;\n    public bb: string;\n}\n\nexport class Main{\n    public test1: Test;\n    public test2: Test;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-components", "angular-forms"], "answers": [{"tags": [], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "is_accepted": true, "score": 4, "last_activity_date": 1534931109, "creation_date": 1534931109, "answer_id": 51964062, "question_id": 51963831, "link": "https://stackoverflow.com/questions/51963831/changedetectionstrategy-onpush-breaks-the-disabled-state-of-a-controlvalueaccess/51964062#51964062", "title": "ChangeDetectionStrategy.OnPush breaks the disabled state of a ControlValueAccessor", "body": "<p>The problem can be solved by manually triggering the change detection.</p>\n\n<p>We need to inject the <a href=\"https://angular.io/api/core/ChangeDetectorRef\" rel=\"nofollow noreferrer\">ChangeDetectorRef</a> into our component:</p>\n\n<pre><code>import {  ChangeDetectorRef } from '@angular/core';\n\n// ...\n\nconstructor(\n  private cd: ChangeDetectorRef,\n) { }\n</code></pre>\n\n<p>then use it to manually trigger the change detection whenever the enabled/disabled status changes:</p>\n\n<pre><code>setDisabledState(isDisabled: boolean): void {\n  this.disabled = isDisabled;\n  this.cd.markForCheck(); // this will manually trigger the change detection\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "edited": false, "score": 0, "creation_date": 1534943199, "post_id": 51964155, "comment_id": 90885248, "body": "thanks for your suggestion, however in my case I&#39;m just trying to solve an issue on an existing component of a library. So changing the change detection strategy is not my call: <a href=\"https://github.com/valor-software/ngx-bootstrap/issues/4055\" rel=\"nofollow noreferrer\">github.com/valor-software/ngx-bootstrap/issues/4055</a>"}], "tags": [], "owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "is_accepted": false, "score": 2, "last_activity_date": 1534931416, "creation_date": 1534931416, "answer_id": 51964155, "question_id": 51963831, "link": "https://stackoverflow.com/questions/51963831/changedetectionstrategy-onpush-breaks-the-disabled-state-of-a-controlvalueaccess/51964155#51964155", "title": "ChangeDetectionStrategy.OnPush breaks the disabled state of a ControlValueAccessor", "body": "<p>OnPush can only make sense if we are talking about parent / child components communication. when the child has changeDetection: ChangeDetectionStrategy.OnPush setting and the parent is passing an object as an input to the child. </p>\n\n<p>If you are creating a Reactive Custom Form Control which has its own state. It's good to avoid using onPush. If you want to use, you can manually call the Change detection manually using cdr.markforCheck().</p>\n"}], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1073, "favorite_count": 0, "accepted_answer_id": 51964062, "answer_count": 2, "score": 4, "last_activity_date": 1534931416, "creation_date": 1534930358, "question_id": 51963831, "link": "https://stackoverflow.com/questions/51963831/changedetectionstrategy-onpush-breaks-the-disabled-state-of-a-controlvalueaccess", "title": "ChangeDetectionStrategy.OnPush breaks the disabled state of a ControlValueAccessor", "body": "<p>In my Angular app, I've created a custom form element by implementing the <a href=\"https://angular.io/api/forms/ControlValueAccessor\" rel=\"nofollow noreferrer\">ControlValueAccessor</a> interface.</p>\n\n<p>So in my component I correctly implement all methods of that interface, including <code>setDisabledState</code>:</p>\n\n<pre><code>/**\n * This function is called when the control status changes to or from \"disabled\".\n * Depending on the value, it will enable or disable the appropriate DOM element.\n *\n * @param isDisabled\n */\nsetDisabledState(isDisabled: boolean): void {\n  this.disabled = isDisabled;\n}\n</code></pre>\n\n<p>Everything works fine.</p>\n\n<p>The problem is when I change the <a href=\"https://angular.io/api/core/ChangeDetectionStrategy\" rel=\"nofollow noreferrer\">ChangeDetectionStrategy</a> of my component setting it to <code>OnPush</code>.</p>\n\n<p>By doing that, the enable/disable functionality of my component is broken.</p>\n"}, {"tags": ["typescript", "typescript-typings", "definitelytyped"], "answers": [{"comments": [{"owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "edited": false, "score": 0, "creation_date": 1535006358, "post_id": 51970377, "comment_id": 90909021, "body": "This does solve the problem I was trying to address -- the unhelpful shorthand I didn&#39;t want to expose is not visible to the consumer.  However, using <code>export = SomeNamespace</code> triggers the dtslint violation <a href=\"https://github.com/Microsoft/dtslint/blob/master/docs/export-just-namespace.md\" rel=\"nofollow noreferrer\"><code>export-just-namespace</code></a>. Basically, dtslint wants you to declare a module at the top level and not &quot;hide&quot; it in a namespace. I&#39;m going to ask on their tracker for clarification."}, {"owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "edited": false, "score": 0, "creation_date": 1535007075, "post_id": 51970377, "comment_id": 90909351, "body": "<a href=\"https://github.com/Microsoft/dtslint/issues/138\" rel=\"nofollow noreferrer\">Question is up</a>, we&#39;ll see if anybody on <code>dtslint</code> has a suggestion.  Maybe the linter is wrong!"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1538421914, "last_edit_date": 1538421914, "creation_date": 1534952173, "answer_id": 51970377, "question_id": 51963636, "link": "https://stackoverflow.com/questions/51963636/how-can-i-declare-something-in-a-typescript-module-typing-without-exporting-it/51970377#51970377", "title": "How can I declare something in a TypeScript module typing without exporting it?", "body": "<p>The only way I know to do this is to declare a namespace with your intended exports, use an export assignment to make that namespace the top-level export, and then put your auxiliary definitions outside the namespace:</p>\n\n<pre><code>type ArgType = string | ArrayBuffer | Uint8Array | Readable | ReadableStream;\ndeclare namespace Exports {\n    function foo(x: ArgType): void;\n    function bar(x: ArgType): string;\n    function baz(x: ArgType): number;        \n}\nexport = Exports;\n</code></pre>\n\n<p>I'm not sure this is considered recommended practice (does anyone know?), and you lose the ability to declare a default export.  IMO, if you thought a type or interface was useful to write the declarations, it is bound to be useful to someone, somewhere, writing a wrapper for the library, so I would just export it.</p>\n\n<h2>Update 2018-09-30</h2>\n\n<p>By accident, Luke Pighetti <a href=\"https://stackoverflow.com/q/52582848\">discovered</a> a real solution: including at least one <code>export {...}</code> statement, even an empty one, suppresses the default behavior of exporting all symbols even if they aren't marked <code>export</code>.  <a href=\"https://github.com/Microsoft/dtslint/issues/138#issuecomment-426028292\" rel=\"nofollow noreferrer\">According to andy-ms</a>, this is supported TypeScript behavior.</p>\n\n<pre><code>type ArgType = string | ArrayBuffer | Uint8Array | Readable | ReadableStream;\nexport function foo(x: ArgType): void;\nexport function bar(x: ArgType): string;\nexport function baz(x: ArgType): number;\nexport {};\n</code></pre>\n"}], "owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538421914, "creation_date": 1534929796, "question_id": 51963636, "link": "https://stackoverflow.com/questions/51963636/how-can-i-declare-something-in-a-typescript-module-typing-without-exporting-it", "title": "How can I declare something in a TypeScript module typing without exporting it?", "body": "<p>I'm writing typings for a package to contribute to DefinitelyTyped, so the file I'm creating will be resolved in module context.  This is simple enough, along the lines of</p>\n\n<pre><code>import { A } from \"package-a\";\nexport function B(): void;\n</code></pre>\n\n<p>However, I'd like to declare a few types and interfaces that are not useful to consumers of the package, but make the declarations easier to read and write:</p>\n\n<pre><code>type ArgType = string | ArrayBuffer | Uint8Array | Readable | ReadableStream;\nexport function foo(x: ArgType): void;\nexport function bar(x: ArgType): string;\nexport function baz(x: ArgType): number;\n</code></pre>\n\n<p>The problem is, as soon as I declare <code>ArgType</code> at the top level, it's actually exported from the module along with <code>foo</code>, <code>bar</code>, and <code>baz</code>. This means <code>ArgType</code> shows up in the language service for auto-complete, etc, which looks messy.  It also happens with interfaces and namespaces.</p>\n\n<p><code>dtslint</code> has an error for this, <a href=\"https://github.com/Microsoft/dtslint/blob/master/docs/strict-export-declare-modifiers.md\" rel=\"nofollow noreferrer\"><code>strict-export-declare-modifiers</code></a>, which is how I first discovered this behavior.  As far as I can tell, this isn't a problem when writing an actual TS module (vice a declaration / typings file).  Is it not possible to declare something in this file that the consumer won't see?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "edited": false, "score": 0, "creation_date": 1534933305, "post_id": 51963615, "comment_id": 90879308, "body": "Could you provide a stackblitz real example of your code to see the errors ?"}], "answers": [{"comments": [{"owner": {"reputation": 16, "user_id": 10258766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c5c15c00c41c2d6996638ec1450dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Julito Galupo", "link": "https://stackoverflow.com/users/10258766/julito-galupo"}, "edited": false, "score": 0, "creation_date": 1535001900, "post_id": 51966836, "comment_id": 90907291, "body": "Error still exists. Error: No value accessor for form control with name: &#39;xClass&#39;"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 16, "user_id": 10258766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c5c15c00c41c2d6996638ec1450dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Julito Galupo", "link": "https://stackoverflow.com/users/10258766/julito-galupo"}, "edited": false, "score": 0, "creation_date": 1535029638, "post_id": 51966836, "comment_id": 90922493, "body": "Another guess: try removing <code>[(ngModel)]=&quot;yClass.xClass&quot;</code>."}, {"owner": {"reputation": 16, "user_id": 10258766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c5c15c00c41c2d6996638ec1450dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Julito Galupo", "link": "https://stackoverflow.com/users/10258766/julito-galupo"}, "edited": false, "score": 0, "creation_date": 1536125694, "post_id": 51966836, "comment_id": 91305478, "body": "Yes if i remove [(ngModel)]=&quot;yClass.xClass&quot; the problem is removed but how do i bind the changes made on the tds?"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1534940623, "creation_date": 1534940623, "answer_id": 51966836, "question_id": 51963615, "link": "https://stackoverflow.com/questions/51963615/typescript-complex-constructor/51966836#51966836", "title": "Typescript complex constructor", "body": "<p>I'm not familiar with Angular, but if the only problem is that you need to make sure <code>xClass</code> is never null, you could initialize it like this:</p>\n\n<pre><code>export class YClass {\n    constructor(\n        public xClass?: XClass,\n        public c?: string\n    ) {\n        if (this.xClass == null) {\n            this.xClass = new XClass();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 10258766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c5c15c00c41c2d6996638ec1450dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Julito Galupo", "link": "https://stackoverflow.com/users/10258766/julito-galupo"}, "is_accepted": true, "score": 0, "last_activity_date": 1536141191, "last_edit_date": 1536141191, "creation_date": 1536135265, "answer_id": 52180336, "question_id": 51963615, "link": "https://stackoverflow.com/questions/51963615/typescript-complex-constructor/52180336#52180336", "title": "Typescript complex constructor", "body": "<p>A colleague of mine was able to solve the problem, what he did was removed [(ngModel)]=\"yClass.xClass\" and instead of using </p>\n\n<p><code>&lt;td contenteditable=\"true\" name=\"a\" id=\"field_a\" [(ngModel)]=\"yClass.xClass.a\"&gt;&lt;/td&gt;</code></p>\n\n<p>he used </p>\n\n<p><code>&lt;td&gt;&lt;input type=\"text\" class=\"form-control\" name=\"xClass_a\" id=\"field_xClass_a [ngModel]=\"yClass?.xClass?.a\" (ngModelChange)=\"yClass.xClass.a = $event\" /&gt;&lt;/td&gt;</code></p>\n\n<p>Now the only issue i'm getting is if i edit 'a' field i'm getting this \nTypeError: Cannot set property 'a' of null.</p>\n\n<p>I've tried hard coding default values after the constructor on YClass but it's not working.</p>\n\n<p>Done. I populate the default values on ngOnInit()\nthis.yClass.xClass = this.yClass.xClass ? this.yClass.xClass : {a : '', b : ''};</p>\n"}], "owner": {"reputation": 16, "user_id": 10258766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c5c15c00c41c2d6996638ec1450dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Julito Galupo", "link": "https://stackoverflow.com/users/10258766/julito-galupo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 52180336, "answer_count": 2, "score": 0, "last_activity_date": 1536141191, "creation_date": 1534929713, "last_edit_date": 1534932350, "question_id": 51963615, "link": "https://stackoverflow.com/questions/51963615/typescript-complex-constructor", "title": "Typescript complex constructor", "body": "<p>This is my scenario, I'm actually new to Typescript so i don't know if this is doable. Here we go, i have a class</p>\n\n<pre><code>export class XClass {\n    constructor(\n        public a?: string,\n        public b?: string\n    ) {\n    }\n}\n</code></pre>\n\n<p>I need this XClass on another class</p>\n\n<pre><code>export class YClass {\n    constructor(\n        public xClass?: XClass ,\n        public c?: string\n    ) {\n    }\n}\n</code></pre>\n\n<p>Then i will use it like this.</p>\n\n<pre><code>    &lt;div class=\"form-group\"&gt;\n        &lt;table name=\"xClass\" id=\"field_xClass\" [(ngModel)]=\"yClass.xClass\"&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;A&lt;/th&gt;\n                    &lt;th&gt;B&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr&gt;\n                    &lt;td contenteditable=\"true\" name=\"a\" id=\"field_a\" [(ngModel)]=\"yClass.xClass.a\"&gt;&lt;/td&gt;\n                    &lt;td contenteditable=\"true\" name=\"b\" id=\"field_b\" [(ngModel)]=\"yClass.xClass.b\"&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>But im getting a lot of problems like \"Error: No value accessor for form control with name: 'xClass'\" if xClass is null and \"TypeError: Cannot read property 'a' of null\" if xClass.a is null.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "ibm-cloud", "openwhisk"], "answers": [{"comments": [{"owner": {"reputation": 806, "user_id": 6062970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64bfe2dd0f6e317fec04c59ff57bcc5a?s=128&d=identicon&r=PG&f=1", "display_name": "user6062970", "link": "https://stackoverflow.com/users/6062970/user6062970"}, "edited": false, "score": 0, "creation_date": 1534936344, "post_id": 51963700, "comment_id": 90880885, "body": "There is no direct support for typescript yet. Compiling the source to JavaScript then creating a node action would be the better path forward to avoid creating a docker action."}, {"owner": {"reputation": 14264, "user_id": 4923755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1sCUT.jpg?s=128&g=1", "display_name": "data_henrik", "link": "https://stackoverflow.com/users/4923755/data-henrik"}, "reply_to_user": {"reputation": 806, "user_id": 6062970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64bfe2dd0f6e317fec04c59ff57bcc5a?s=128&d=identicon&r=PG&f=1", "display_name": "user6062970", "link": "https://stackoverflow.com/users/6062970/user6062970"}, "edited": false, "score": 0, "creation_date": 1534938299, "post_id": 51963700, "comment_id": 90881974, "body": "Isn&#39;t that what the second approach does?"}], "tags": [], "owner": {"reputation": 14264, "user_id": 4923755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1sCUT.jpg?s=128&g=1", "display_name": "data_henrik", "link": "https://stackoverflow.com/users/4923755/data-henrik"}, "is_accepted": true, "score": 0, "last_activity_date": 1534929999, "creation_date": 1534929999, "answer_id": 51963700, "question_id": 51963533, "link": "https://stackoverflow.com/questions/51963533/any-starter-kit-or-sample-to-use-typescript-in-ibm-cloud-functions-openwhisk/51963700#51963700", "title": "Any starter kit or sample to use TypeScript in IBM Cloud Functions / OpenWhisk?", "body": "<p>I found the following guidelines so far:</p>\n\n<ul>\n<li>This blog describes <a href=\"http://heidloff.net/article/serverless-functions-typescript-openwhisk\" rel=\"nofollow noreferrer\">using TypeScript in a Docker container with OpenWhisk / IBM Cloud Functions</a></li>\n<li>A second approach is to directly compile and bundle TypeScript actions using webpack and deploy via <a href=\"https://github.com/apache/incubator-openwhisk-wskdeploy\" rel=\"nofollow noreferrer\">wskdeploy</a>. It is described in this <a href=\"https://github.com/van-ibm/cloud-functions-typescript/\" rel=\"nofollow noreferrer\">IBM Cloud Functions TypeScript Starter</a> and the related blog on <a href=\"https://www.ibm.com/blogs/bluemix/2018/08/building-ibm-cloud-functions-with-typescript/\" rel=\"nofollow noreferrer\">building IBM Cloud Functions with TypeScript</a>. It even has instructions on unit testing with Mocha.</li>\n</ul>\n"}], "owner": {"reputation": 14264, "user_id": 4923755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1sCUT.jpg?s=128&g=1", "display_name": "data_henrik", "link": "https://stackoverflow.com/users/4923755/data-henrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 51963700, "answer_count": 1, "score": 0, "last_activity_date": 1534929999, "creation_date": 1534929428, "question_id": 51963533, "link": "https://stackoverflow.com/questions/51963533/any-starter-kit-or-sample-to-use-typescript-in-ibm-cloud-functions-openwhisk", "title": "Any starter kit or sample to use TypeScript in IBM Cloud Functions / OpenWhisk?", "body": "<p>I am developing actions in IBM Cloud Functions and so far have used Node.js / Javascript and Python for coding. I haven't seen instructions on how to use TypeScript with IBM Cloud Functions.</p>\n\n<p>What is the recommended way of using TypeScript, is it to deploy a Docker container or can I use it similar to (more or less) simple JavaScript actions? Any starter packages or samples?</p>\n"}, {"tags": ["typescript", "interface", "arrow-functions", "generic-type-argument", "union-types"], "answers": [{"comments": [{"owner": {"reputation": 3176, "user_id": 1443496, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9261936847b5a31e15da6e86533d3de3?s=128&d=identicon&r=PG", "display_name": "Sean Allred", "link": "https://stackoverflow.com/users/1443496/sean-allred"}, "edited": false, "score": 0, "creation_date": 1534957229, "post_id": 51964784, "comment_id": 90894096, "body": "Yeah, I couldn&#39;t imagine how TypeScript would actually compile an interface into JS -- it definitely feels like just a type-checking tool. Could this &#39;indicator&#39; be used when the overloaded function is intended to take a function literal using arrow notation? (See edit for an example closer to my use case; it seems I over-generalized.)"}, {"owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "reply_to_user": {"reputation": 3176, "user_id": 1443496, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9261936847b5a31e15da6e86533d3de3?s=128&d=identicon&r=PG", "display_name": "Sean Allred", "link": "https://stackoverflow.com/users/1443496/sean-allred"}, "edited": false, "score": 0, "creation_date": 1534965372, "post_id": 51964784, "comment_id": 90897801, "body": "Sure. In your final example the <code>length</code> of function arguments can be used as an indicator to determine function type in runtime. For more details - see the updated answer."}, {"owner": {"reputation": 3176, "user_id": 1443496, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9261936847b5a31e15da6e86533d3de3?s=128&d=identicon&r=PG", "display_name": "Sean Allred", "link": "https://stackoverflow.com/users/1443496/sean-allred"}, "edited": false, "score": 0, "creation_date": 1534967013, "post_id": 51964784, "comment_id": 90898538, "body": "Sweet. If I had functions of the same length, though, is there a way to inline the indicator?"}, {"owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "reply_to_user": {"reputation": 3176, "user_id": 1443496, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9261936847b5a31e15da6e86533d3de3?s=128&d=identicon&r=PG", "display_name": "Sean Allred", "link": "https://stackoverflow.com/users/1443496/sean-allred"}, "edited": false, "score": 0, "creation_date": 1534968789, "post_id": 51964784, "comment_id": 90899286, "body": "This is a tricky one :) In this case you have to create callbacks based on interface with &#39;indicator&#39; field, like this one <code>interface TickFunction1 { (val: number): void; type: fnTypes; }</code>. I&#39;ve created a <a href=\"https://stackblitz.com/edit/typescript-fcfzld?file=index.ts\" rel=\"nofollow noreferrer\">stackblitz example</a> for this case. In TS there are also another different ways to check the interface type at runtime (for more details check <a href=\"https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html\" rel=\"nofollow noreferrer\">this article</a> )"}], "tags": [], "owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "is_accepted": true, "score": 1, "last_activity_date": 1534965929, "last_edit_date": 1534965929, "creation_date": 1534933455, "answer_id": 51964784, "question_id": 51963422, "link": "https://stackoverflow.com/questions/51963422/determine-the-interface-used-for-a-union-interface/51964784#51964784", "title": "Determine the interface used for a union interface", "body": "<p>In TS interfaces exist only during development process so there is no way to check interface type in runtime and do smth. So you have to somehow include an \"indicator\" to your interface in order to set it with some value when you create your callback methods. This indicator can be used to check callback type in runtime. TS also provides <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">User-Defined Type Guards</a> so the final solution will look like:</p>\n\n<pre><code>interface StringOp {\n    opType: 'StringOp',\n    (a: string, b: string): string;\n}\ninterface NumberOp {\n    opType: 'NumberOp',\n    (a: number, b: number): number;\n}\n\nfunction isStringOp(op: StringOp | NumberOp): op is StringOp {\n    return op.opType === 'StringOp';\n}\n\nfunction doThing(callback: StringOp | NumberOp) {\n    if (isStringOp(callback)) {\n        callback(\"a\", \"b\");\n    } else {\n        callback(1, 2);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>I've added another example according to the updated question:</p>\n\n<pre><code>interface TickFunction&lt;T&gt; {\n  (val: T): void;\n}\ninterface IndexedTickFunction&lt;T&gt; {\n  (val: T, index: number): void;\n}\n\nfunction isTickFn&lt;T&gt;(fn: TickFunction&lt;T&gt; | IndexedTickFunction&lt;T&gt;): fn is TickFunction&lt;T&gt; {\n    // in your example the indicator might be the function length\n    // because it indicates the number of arguments expected by the function\n    return fn.length === 1;\n}\n\n// I guess you also have to pass arguments to this function in order to pass them to your callback methods\nfunction forEachTick&lt;T&gt;(callback: TickFunction&lt;T&gt; | IndexedTickFunction&lt;T&gt;, value: T, index?: number) {\n  if (isTickFn(callback)) {\n    callback(value);\n  } else {\n    callback(value, index);\n  }\n}\n\nfor (let i=0; i&lt;10; i++) {\n  forEachTick&lt;string&gt;((v: string) =&gt; console.log(v), 'some text');\n}\nfor (let i=0; i&lt;10; i++) {\n  forEachTick&lt;boolean&gt;((v: boolean, index: number) =&gt; console.log(v, index), true, i);\n}\n</code></pre>\n"}], "owner": {"reputation": 3176, "user_id": 1443496, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9261936847b5a31e15da6e86533d3de3?s=128&d=identicon&r=PG", "display_name": "Sean Allred", "link": "https://stackoverflow.com/users/1443496/sean-allred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 51964784, "answer_count": 1, "score": 1, "last_activity_date": 1534966867, "creation_date": 1534929034, "last_edit_date": 1534966867, "question_id": 51963422, "link": "https://stackoverflow.com/questions/51963422/determine-the-interface-used-for-a-union-interface", "title": "Determine the interface used for a union interface", "body": "<p>Suppose I have the following:</p>\n\n<pre><code>interface StringOp {\n    (a: string, b: string): string;\n}\ninterface NumberOp {\n    (a: number, b: number): number;\n}\nfunction doThing(callback: StringOp | NumberOp) {\n    if (callback is StringOp) {\n        callback(\"a\", \"b\");\n    } else {\n        callback(1, 2);\n    }\n}\n</code></pre>\n\n<p>How can I actually express <code>callback is StringOp</code> as a type-check?</p>\n\n<hr>\n\n<p>I tried to simplify the above as an MWE, but below closer to my actual use-case:</p>\n\n<pre><code>interface TickFunction&lt;T&gt; {\n  (val: T): void;\n}\ninterface IndexedTickFunction&lt;T&gt; {\n  (val: T, index: number): void;\n}\nfunction forEachTick&lt;T&gt;(callback: TickFunction&lt;T&gt; | IndexedTickFunction&lt;T&gt;) {\n  ...\n}\n</code></pre>\n\n<p>If possible, I'd like to keep calling <code>forEachTick</code> using arrow-notation literals:</p>\n\n<ul>\n<li><code>forEachTick&lt;SomeType&gt;((v) =&gt; { ... })</code> or</li>\n<li><code>forEachTick&lt;SomeType&gt;((v,i) =&gt; { ... })</code>.</li>\n</ul>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534949299, "post_id": 51963264, "comment_id": 90889459, "body": "That syntax error doesn&#39;t look like a TypeScript error message.  Are you using some other tool?  Please add your <code>package.json</code> to the question."}, {"owner": {"reputation": 1, "user_id": 10258712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90e27e5e713b1f05a0fa834bc9629218?s=128&d=identicon&r=PG&f=1", "display_name": "Zragg", "link": "https://stackoverflow.com/users/10258712/zragg"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1535038223, "post_id": 51963264, "comment_id": 90928286, "body": "Thanks for your answer. My package.json is <a href=\"http://paste.alacon.org/45391\" rel=\"nofollow noreferrer\">paste.alacon.org/45391</a>"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1535039739, "post_id": 51963264, "comment_id": 90929188, "body": "Please post your scripts/start.js and any relevant configuration files (e.g., Webpack or Babel configuration) so we can see what tool you are using that is having trouble with the TypeScript syntax."}], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 5779440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/352cd320bd17cddf44c7820ea444a6a2?s=128&d=identicon&r=PG", "display_name": "Jason Raimondi", "link": "https://stackoverflow.com/users/5779440/jason-raimondi"}, "is_accepted": false, "score": 0, "last_activity_date": 1535059743, "creation_date": 1535059743, "answer_id": 51994509, "question_id": 51963264, "link": "https://stackoverflow.com/questions/51963264/reactjs-typescript-syntax-error-unexpected-token-expected/51994509#51994509", "title": "ReactJs TypeScript : Syntax error: Unexpected token, expected ;", "body": "<p>Your interface states that the following fields must exist on the object Id, Name, Section, etc.</p>\n\n<p>Then you are trying to define a new blank object and saying that it is defined by your interface. </p>\n\n<p>If you either added the required fields to the empty object you are setting up:</p>\n\n<pre><code> const o = {\n      Id: '',\n      Name: '',\n      Section: '',\n      etc...\n } as SearchProductSate;\n</code></pre>\n\n<p>OR define your interface with optional fields</p>\n\n<pre><code> export interface SearchProductSate {\n     [key: string]?: string;\n     Id?: string;\n     Name?: string;\n     Section?: string;\n     Domaine?: string;\n     IsActive?: string;\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10258712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90e27e5e713b1f05a0fa834bc9629218?s=128&d=identicon&r=PG&f=1", "display_name": "Zragg", "link": "https://stackoverflow.com/users/10258712/zragg"}, "is_accepted": true, "score": -5, "last_activity_date": 1555256530, "last_edit_date": 1555256530, "creation_date": 1536156949, "answer_id": 52187322, "question_id": 51963264, "link": "https://stackoverflow.com/questions/51963264/reactjs-typescript-syntax-error-unexpected-token-expected/52187322#52187322", "title": "ReactJs TypeScript : Syntax error: Unexpected token, expected ;", "body": "<p>We find why we have these some mistake. We use VsCode which automaticly validate in typescript our code but webpack was configure to use babel-loader.</p>\n"}], "owner": {"reputation": 1, "user_id": 10258712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90e27e5e713b1f05a0fa834bc9629218?s=128&d=identicon&r=PG&f=1", "display_name": "Zragg", "link": "https://stackoverflow.com/users/10258712/zragg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3516, "favorite_count": 0, "accepted_answer_id": 52187322, "answer_count": 2, "score": 0, "last_activity_date": 1555256566, "creation_date": 1534928499, "last_edit_date": 1555256566, "question_id": 51963264, "link": "https://stackoverflow.com/questions/51963264/reactjs-typescript-syntax-error-unexpected-token-expected", "title": "ReactJs TypeScript : Syntax error: Unexpected token, expected ;", "body": "<p>I have some trouble with my code.</p>\n\n<pre><code>import * as React from \"react\";\n\nexport interface SearchProductSate {\n  [key: string]: string;\n  Id: string;\n  Name: string;\n  Section: string;\n  Domaine: string;\n  IsActive: string;\n}\n\nexport class SearchProductComponent extends React.Component&lt;\n  SearchProductProps,\n  SearchProductSate\n&gt; {\n    constructor(props: SearchProductProps) {\n      super(props);\n    }\n\n  handleSelectChange(event: React.FormEvent&lt;HTMLSelectElement&gt;) {\n    var safeSearchTypeValue: string = event.currentTarget.value;\n    const name = event.currentTarget.name;\n\n    const o = {} as SearchProductSate;\n    o[name] = safeSearchTypeValue;\n\n    this.setState(o);\n  }\n...\n}\n</code></pre>\n\n<p>In VsCode, I don't have any warning or error. When, I run 'npm run build', everything is ok, but when I run 'npm start', that's the mess ;o).</p>\n\n<p>I obtain this error message :</p>\n\n<pre><code>Syntax error: ./SearchProductComponent.tsx: Unexpected token, expected ; (55:17)\n\n  53 |     const name = event.currentTarget.name;\n  54 | \n&gt; 55 |     const o = {} as SearchProductSate;\n     |                  ^\n  56 |     o[name] = safeSearchTypeValue;\n  57 | \n  58 |     this.setState(o);\n</code></pre>\n\n<p>If I comment the cast, the component work but in VsCode, I have an error on 'o[name] = safeSearchTypeValue;'</p>\n\n<pre><code>L'\u00e9l\u00e9ment a implicitement un type 'any', car le type '{}' n'a aucune signature d'index.\n</code></pre>\n\n<p>that I could translate by</p>\n\n<pre><code>The element was type 'any', because the type '{}' doesn't have any index signature\n</code></pre>\n\n<p>How to fix this issue and how to manage to avoid same problem in the futur ?</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 3699, "user_id": 6412847, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bIQ4M.jpg?s=128&g=1", "display_name": "Dan Philip", "link": "https://stackoverflow.com/users/6412847/dan-philip"}, "edited": false, "score": 0, "creation_date": 1534928201, "post_id": 51963152, "comment_id": 90876475, "body": "It was that simple. I feel so stupid missing that. Thanks a lot mate."}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 3, "last_activity_date": 1534928077, "creation_date": 1534928077, "answer_id": 51963152, "question_id": 51963094, "link": "https://stackoverflow.com/questions/51963094/cannot-resolve-tsconfig-paths/51963152#51963152", "title": "Cannot resolve tsconfig paths", "body": "<p><code>paths</code> option is part of <code>compilerOptions</code></p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./src\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ],\n    \"paths\":{\n      \"@services/*\": [\"app/services/*\"] \n    }\n  },\n }\n</code></pre>\n"}], "owner": {"reputation": 3699, "user_id": 6412847, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bIQ4M.jpg?s=128&g=1", "display_name": "Dan Philip", "link": "https://stackoverflow.com/users/6412847/dan-philip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 1, "accepted_answer_id": 51963152, "answer_count": 1, "score": 1, "last_activity_date": 1534928077, "creation_date": 1534927846, "question_id": 51963094, "link": "https://stackoverflow.com/questions/51963094/cannot-resolve-tsconfig-paths", "title": "Cannot resolve tsconfig paths", "body": "<p>My Angular 6 project with TypeScript version \"2.7.2\" has <code>tsconfig.json</code> as</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./src\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ]\n  },\n  \"paths\":{\n    \"@services/*\": [\"app/services/*\"] \n  }\n }\n</code></pre>\n\n<p>I tried importing a service using the above path</p>\n\n<pre><code> import { AppService } from '@services/app.service';\n</code></pre>\n\n<p>But I'm getting this error on running <code>ng serve</code></p>\n\n<blockquote>\n  <p>ERROR in src/app/app.module.ts(20,26): error TS2307: Cannot find module '@services/app.service'.</p>\n</blockquote>\n\n<p>P.S.- Without the paths </p>\n\n<pre><code>import { AppService } from './services/app.service';\n</code></pre>\n\n<p>is working fine. </p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "multi-select"], "comments": [{"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "reply_to_user": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1534928166, "post_id": 51963048, "comment_id": 90876454, "body": "Edited in question.."}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1534928378, "post_id": 51963048, "comment_id": 90876557, "body": "@Ploppy Aren&#39;t they both the same thing?"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534928510, "post_id": 51963048, "comment_id": 90876642, "body": "As i am new to this scenario, hope experienced can help me in this.."}, {"owner": {"reputation": 7635, "user_id": 7584231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKqAC.jpg?s=128&g=1", "display_name": "Krishna Rathore", "link": "https://stackoverflow.com/users/7584231/krishna-rathore"}, "edited": false, "score": 0, "creation_date": 1534928526, "post_id": 51963048, "comment_id": 90876656, "body": "Hi @ManiRaj do you want to like this? <a href=\"http://jsfiddle.net/5Q552/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/5Q552/1</a>"}, {"owner": {"reputation": 386, "user_id": 8795687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b84f4b024966484e729dfc0ea179f2e?s=128&d=identicon&r=PG&f=1", "display_name": "fransyozef", "link": "https://stackoverflow.com/users/8795687/fransyozef"}, "edited": false, "score": 0, "creation_date": 1534928722, "post_id": 51963048, "comment_id": 90876770, "body": "Just to be curious. Why don&#39;t you use the select tag? Perhaps this is helpful also : <a href=\"https://github.com/hannaholl/angular-input-dropdown\" rel=\"nofollow noreferrer\">github.com/hannaholl/angular-input-dropdown</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534931766, "post_id": 51963150, "comment_id": 90878471, "body": "Welcome for your solution, but question is about multiselect.. I am able to select only one value as per your solution.."}, {"owner": {"reputation": 1670, "user_id": 9345911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2ec1ae711111442afdb2c654dcd22a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/9345911/juan"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534932043, "post_id": 51963150, "comment_id": 90878621, "body": "@ManiRaj answer updated. Now you can choose various options."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534937878, "post_id": 51963150, "comment_id": 90881726, "body": "Is there any possibility to add delete here, when user selected the wrong values?"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534938078, "post_id": 51963150, "comment_id": 90881843, "body": "Not fully but one by one, If the user select <code>first user</code>, <code>second user</code>, <code>fourth user</code> and he wants to delete the <code>fourth user</code> and wants to add <code>third user</code> and then later he can add <code>fourth user</code>.. In simple if user selects the wrong value he can delete that."}, {"owner": {"reputation": 1670, "user_id": 9345911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2ec1ae711111442afdb2c654dcd22a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/9345911/juan"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534938857, "post_id": 51963150, "comment_id": 90882304, "body": "@ManiRaj answer updated. Now you can delete items with the clear button."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534938972, "post_id": 51963150, "comment_id": 90882383, "body": "But its not possible to clear individually each item? Because here user needs to clear lot if he wants to delete the first selected value.. Delete for each individual item in the list would be better to delete the user needed.."}, {"owner": {"reputation": 1670, "user_id": 9345911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2ec1ae711111442afdb2c654dcd22a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/9345911/juan"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1535004689, "post_id": 51963150, "comment_id": 90908298, "body": "@ManiRaj I modified the code so now you can remove individual items when you click them again in the list options. See stackblitz."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1535005127, "post_id": 51963150, "comment_id": 90908460, "body": "Did you updated in stackblitz? Because i could able to see only the older solution in the link in your solution."}, {"owner": {"reputation": 1670, "user_id": 9345911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2ec1ae711111442afdb2c654dcd22a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/9345911/juan"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1535005369, "post_id": 51963150, "comment_id": 90908561, "body": "Yes, it&#39;s updated but the appearance of the ui is the same. To remove items you have to click again on them in the options list."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1535005465, "post_id": 51963150, "comment_id": 90908616, "body": "Oh but in the another solution i got the thing actually i am in the need.. Anyhow thanks for your valuable time and help for me.."}], "tags": [], "owner": {"reputation": 1670, "user_id": 9345911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2ec1ae711111442afdb2c654dcd22a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/9345911/juan"}, "is_accepted": false, "score": 2, "last_activity_date": 1535004640, "last_edit_date": 1535004640, "creation_date": 1534928071, "answer_id": 51963150, "question_id": 51963048, "link": "https://stackoverflow.com/questions/51963048/multiple-select-dropdown-using-angular-with-input-tag/51963150#51963150", "title": "Multiple select Dropdown using Angular with &lt;input&gt; tag", "body": "<p>Check this StackBlitz: <a href=\"https://stackblitz.com/edit/angular-lqcup8?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">Dropdown Example</a></p>\n\n<p>HTML file:</p>\n\n<pre><code>&lt;button type=\"button\" (click)=\"clear()\"&gt;Clear&lt;/button&gt;\n\n&lt;div class=\"autocomplete\"&gt;\n    &lt;input name=\"suggestion\" type=\"text\" placeholder=\"User\" (click)=\"suggest()\" [formControl]=\"typeahead\"&gt;\n\n    &lt;div class=\"autocomplete-items\" *ngIf=\"show\"&gt;\n      &lt;div *ngFor=\"let s of suggestions\" (click)=\"selectSuggestion(s)\"&gt;{{ s }}&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>TS file:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular';\n\n  suggestions: string [] = [];\n  suggestion: string;\n  show: boolean = false;\n  typeahead: FormControl = new FormControl();\n\n  fieldHistory: string [] = [];\n\n  suggest() {\n    this.suggestions = this.users;\n    this.show = true;\n  }\n\n  selectSuggestion(s) {\n      this.suggestion = \"\";\n\n      var index = this.fieldHistory.findIndex(function(element) {\n          return element === s;\n      });\n\n      if (index === -1) {\n          this.fieldHistory.push(s);\n      } else {\n          var firstPart = this.fieldHistory.slice(0, index);\n          var secondPart = this.fieldHistory.slice(++index);\n\n          this.fieldHistory = firstPart.concat(secondPart);\n      }\n\n      for (let i = 0; i &lt; this.fieldHistory.length; i++) \n           this.suggestion = this.suggestion + \" \" + this.fieldHistory[i];\n\n      this.typeahead.patchValue(this.suggestion);\n      this.show = false;\n  }\n\n  clear() {\n      this.suggestion = \"\";\n      this.fieldHistory.pop();\n\n      for (let item of this.fieldHistory) \n          this.suggestion = this.suggestion + \" \" + item;\n\n      this.typeahead.patchValue(this.suggestion);\n  }\n\n  users = ['First User', 'Second User', 'Third User', 'Fourth User'];\n}\n</code></pre>\n\n<p>CSS file:</p>\n\n<pre><code>.autocomplete {\n    position: relative;\n    width: 100%;\n}\n\n.autocomplete-items {\n    position: absolute;\n    border: 1px solid #d4d4d4;\n    border-radius: 4px;\n    margin-top: 15px;\n    top: 100%;\n    left: 0;\n    right: 0;\n}\n\n.autocomplete-items div {\n    padding: 10px;\n    cursor: pointer;\n    background-color: #fff;\n    border-bottom: 1px solid #d4d4d4;\n}\n\n.autocomplete-items div:hover {\n    background-color: #e9e9e9; \n}\n</code></pre>\n\n<p>Also import the module: <code>import { ReactiveFormsModule } from '@angular/forms';</code></p>\n"}, {"comments": [{"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534937865, "post_id": 51964987, "comment_id": 90881715, "body": "Is there any possibility to add delete here, when user selected the wrong values?"}, {"owner": {"reputation": 229, "user_id": 6463323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-EsUijOkg5SU/AAAAAAAAAAI/AAAAAAAAASo/YYROqltHtrc/photo.jpg?sz=128", "display_name": "Bhimashankar Mantur", "link": "https://stackoverflow.com/users/6463323/bhimashankar-mantur"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534938554, "post_id": 51964987, "comment_id": 90882104, "body": "ya, you can do anything, for this you might need to change the list structure"}, {"owner": {"reputation": 229, "user_id": 6463323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-EsUijOkg5SU/AAAAAAAAAAI/AAAAAAAAASo/YYROqltHtrc/photo.jpg?sz=128", "display_name": "Bhimashankar Mantur", "link": "https://stackoverflow.com/users/6463323/bhimashankar-mantur"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534945156, "post_id": 51964987, "comment_id": 90886610, "body": "I have updated the code you can check in the same link"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1534953094, "post_id": 51964987, "comment_id": 90891742, "body": "Like this is what i needed <a href=\"https://jsfiddle.net/amLfqr6u/\" rel=\"nofollow noreferrer\">jsfiddle.net/amLfqr6u</a>. On select a item then delete inside the input box."}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1535003378, "post_id": 51964987, "comment_id": 90907828, "body": "I am in the need of remove option inside the input box as i am storing the values inside the input box.."}, {"owner": {"reputation": 229, "user_id": 6463323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-EsUijOkg5SU/AAAAAAAAAAI/AAAAAAAAASo/YYROqltHtrc/photo.jpg?sz=128", "display_name": "Bhimashankar Mantur", "link": "https://stackoverflow.com/users/6463323/bhimashankar-mantur"}, "reply_to_user": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1535004052, "post_id": 51964987, "comment_id": 90908062, "body": "please check again, hope its what you want"}, {"owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "edited": false, "score": 0, "creation_date": 1535004229, "post_id": 51964987, "comment_id": 90908124, "body": "Yes almost done.. Thanks for your valuable time and help for making the solution as per my need.."}], "tags": [], "owner": {"reputation": 229, "user_id": 6463323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-EsUijOkg5SU/AAAAAAAAAAI/AAAAAAAAASo/YYROqltHtrc/photo.jpg?sz=128", "display_name": "Bhimashankar Mantur", "link": "https://stackoverflow.com/users/6463323/bhimashankar-mantur"}, "is_accepted": true, "score": 3, "last_activity_date": 1534934290, "creation_date": 1534934290, "answer_id": 51964987, "question_id": 51963048, "link": "https://stackoverflow.com/questions/51963048/multiple-select-dropdown-using-angular-with-input-tag/51964987#51964987", "title": "Multiple select Dropdown using Angular with &lt;input&gt; tag", "body": "<p>Here is the working code, I used [(ngModel)] instead formcontrols:</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-qjrhs5?file=src%2Fapp%2Fapp.component.css\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-qjrhs5?file=src%2Fapp%2Fapp.component.css</a></p>\n"}], "owner": {"reputation": 6202, "user_id": 7785337, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/uQ1JQ.jpg?s=128&g=1", "display_name": "Maniraj Murugan", "link": "https://stackoverflow.com/users/7785337/maniraj-murugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9821, "favorite_count": 0, "accepted_answer_id": 51964987, "answer_count": 2, "score": 2, "last_activity_date": 1535004640, "creation_date": 1534927726, "last_edit_date": 1534940477, "question_id": 51963048, "link": "https://stackoverflow.com/questions/51963048/multiple-select-dropdown-using-angular-with-input-tag", "title": "Multiple select Dropdown using Angular with &lt;input&gt; tag", "body": "<p>I am building up angular 6 application, in which i am in the need to make a multi select dropdown using <code>&lt;input&gt;</code> text box without using <code>&lt;select&gt;</code>.</p>\n\n<p><strong>Html</strong>:</p>\n\n<pre><code>&lt;form&gt;\n  Select User: &lt;input type=\"text\" name=\"user\" [value]=\"users\"&gt;&lt;br&gt;\n  &lt;button type=\"submit\"&gt; Submit &lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>Ts</strong>:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n    users = ['First User', 'Second User', 'Third User', 'Fourth User'];\n}\n</code></pre>\n\n<p>I also need to do it using <strong>Pure Javascript, Tpescript</strong>, and also <strong>Without third party or jquery</strong>.</p>\n\n<p>Also recommended <strong>not</strong> to use html <strong>datalist</strong>.</p>\n\n<p>I have a lot of search for it but couldn't find a proper solution for it.\nKindly help me to achieve the result.</p>\n\n<p><strong>Stackblitz</strong>: <a href=\"https://stackblitz.com/edit/angular-v7kmbq\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-v7kmbq</a></p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "intellisense", "vscode-settings"], "comments": [{"owner": {"reputation": 6430, "user_id": 1075247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6de7362951ec5bf3d40fa02de7175552?s=128&d=identicon&r=PG", "display_name": "Pureferret", "link": "https://stackoverflow.com/users/1075247/pureferret"}, "edited": false, "score": 0, "creation_date": 1534944250, "post_id": 51962887, "comment_id": 90885971, "body": "This looks related: <a href=\"https://stackoverflow.com/questions/48480676/why-vscode-is-importing-packages-from-typescript-cache\" title=\"why vscode is importing packages from typescript cache\">stackoverflow.com/questions/48480676/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6430, "user_id": 1075247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6de7362951ec5bf3d40fa02de7175552?s=128&d=identicon&r=PG", "display_name": "Pureferret", "link": "https://stackoverflow.com/users/1075247/pureferret"}, "edited": false, "score": 0, "creation_date": 1534928833, "post_id": 51962932, "comment_id": 90876824, "body": "Won&#39;t that prevent changing the name of imports for files I do want renamed? So if I&#39;m doing <code>import { fooComponent } from &#39;.&#47;components&#47;barComponent&#39;</code> and I rename the file to <code>fooComponent</code>, would that not prevent the import to change?"}, {"owner": {"reputation": 47, "user_id": 9940385, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7AEe8FX2Inc/AAAAAAAAAAI/AAAAAAAAAAc/Ip-6arzcxMc/photo.jpg?sz=128", "display_name": "Ivan Milosevic", "link": "https://stackoverflow.com/users/9940385/ivan-milosevic"}, "reply_to_user": {"reputation": 6430, "user_id": 1075247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6de7362951ec5bf3d40fa02de7175552?s=128&d=identicon&r=PG", "display_name": "Pureferret", "link": "https://stackoverflow.com/users/1075247/pureferret"}, "edited": false, "score": 0, "creation_date": 1534933237, "post_id": 51962932, "comment_id": 90879266, "body": "it prevents that, i don&#39;t think there is a setting only for external librairies"}, {"owner": {"reputation": 6430, "user_id": 1075247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6de7362951ec5bf3d40fa02de7175552?s=128&d=identicon&r=PG", "display_name": "Pureferret", "link": "https://stackoverflow.com/users/1075247/pureferret"}, "edited": false, "score": 0, "creation_date": 1534934028, "post_id": 51962932, "comment_id": 90879710, "body": "Ivan, it was more that I don&#39;t use typescript at all. It looks like it&#39;s defaulting to that though."}], "tags": [], "owner": {"reputation": 47, "user_id": 9940385, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7AEe8FX2Inc/AAAAAAAAAAI/AAAAAAAAAAc/Ip-6arzcxMc/photo.jpg?sz=128", "display_name": "Ivan Milosevic", "link": "https://stackoverflow.com/users/9940385/ivan-milosevic"}, "is_accepted": false, "score": 1, "last_activity_date": 1534927362, "creation_date": 1534927362, "answer_id": 51962932, "question_id": 51962887, "link": "https://stackoverflow.com/questions/51962887/stop-vscode-converting-javascript-imports-to-typescript-cache-on-file-rename/51962932#51962932", "title": "Stop VSCode converting javascript imports to typescript cache on file rename", "body": "<p>Add this to your settings in Vs code :</p>\n\n<pre><code>\"javascript.updateImportsOnFileMove.enabled\": \"never\",\n</code></pre>\n"}], "owner": {"reputation": 6430, "user_id": 1075247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6de7362951ec5bf3d40fa02de7175552?s=128&d=identicon&r=PG", "display_name": "Pureferret", "link": "https://stackoverflow.com/users/1075247/pureferret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534944301, "creation_date": 1534927188, "last_edit_date": 1534944301, "question_id": 51962887, "link": "https://stackoverflow.com/questions/51962887/stop-vscode-converting-javascript-imports-to-typescript-cache-on-file-rename", "title": "Stop VSCode converting javascript imports to typescript cache on file rename", "body": "<p>Whenever I rename a local file in VSCode, it re-writes the javascript import of external libraries to be typescript imports for a load of files.</p>\n\n<p>I go from </p>\n\n<pre><code>import localFn from './localFile';\nimport angular from 'angular';\nimport { fooBar } from 'misc-package';\n</code></pre>\n\n<p>to</p>\n\n<pre><code>import localfn from './myLovelyLocalFile';\nimport angular from '../../../../../.cache/typescript/2.9/node_modules/angular';\nimport { fooBar } from '../../../../../.cache/typescript/2.9/node_modules/misc-package';\n</code></pre>\n\n<p>And this is across all package that contain angular, misc-package and anything else it thinks it has in typescript.</p>\n\n<p>Is there a way to prevent this?</p>\n\n<p>It looks like this is an issue<sup> <a href=\"https://github.com/Microsoft/vscode/issues/53754\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://github.com/Microsoft/vscode/issues/54634\" rel=\"nofollow noreferrer\">2</a></sup> on the VSCode github repo.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1373, "user_id": 1422160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/suJVz.jpg?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/1422160/rafael"}, "edited": false, "score": 0, "creation_date": 1534928124, "post_id": 51962833, "comment_id": 90876427, "body": "But that&#39;s the thing Oram, I know this syntax works without a function keyword, but I cannot understand why if you have the keyword it will trigger an error. Meaning: how come the syntax are different in this specific case?"}, {"owner": {"reputation": 1401, "user_id": 9839191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oram", "link": "https://stackoverflow.com/users/9839191/oram"}, "reply_to_user": {"reputation": 1373, "user_id": 1422160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/suJVz.jpg?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/1422160/rafael"}, "edited": false, "score": 1, "creation_date": 1534928708, "post_id": 51962833, "comment_id": 90876756, "body": "It&#39;s arbitrary. The people who defined the specifications (for <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-static-semantics-nonconstructormethoddefinitions\" rel=\"nofollow noreferrer\">ECMAScript 6</a>) thought that adding the function keyword is unnecessary in this context. On the other hand, when you&#39;re declaring a function you must use the function keyword or you won&#39;t be able to distinguish between declaration and invocation."}], "tags": [], "owner": {"reputation": 1401, "user_id": 9839191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oram", "link": "https://stackoverflow.com/users/9839191/oram"}, "is_accepted": true, "score": 1, "last_activity_date": 1534926962, "creation_date": 1534926962, "answer_id": 51962833, "question_id": 51962743, "link": "https://stackoverflow.com/questions/51962743/typescript-is-there-any-reason-why-the-function-keyword-is-accepted-outside-cl/51962833#51962833", "title": "Typescript - Is there any reason why the function keyword is accepted outside classes but not within it?", "body": "<p>When you define a function you have one syntax and when you define a class you have another syntax...</p>\n\n<p>To define methods in a class, you just need to declare them without the function keyword.</p>\n\n<pre><code>export class Etc {\n    doSomethingNice() {\n        return 'Whatever';\n    }\n}\n</code></pre>\n\n<p>More about classes <a href=\"https://www.typescriptlang.org/docs/handbook/classes.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>More about functions <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1373, "user_id": 1422160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/suJVz.jpg?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/1422160/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 51962833, "answer_count": 1, "score": 0, "last_activity_date": 1534926962, "creation_date": 1534926610, "question_id": 51962743, "link": "https://stackoverflow.com/questions/51962743/typescript-is-there-any-reason-why-the-function-keyword-is-accepted-outside-cl", "title": "Typescript - Is there any reason why the function keyword is accepted outside classes but not within it?", "body": "<p>I just realized this situation and I am really puzzled by that.</p>\n\n<p>Though it doesn't make any real difference for the application, I couldn't find any reason why something like this is accepted out of a scope of a class but not inside of it.</p>\n\n<pre><code>function doSomethingNice()\n{\n    return 'Okay';\n}\n</code></pre>\n\n<p>The above works, and it's actually mandatory to use the function keyword, but the under does not:</p>\n\n<pre><code>export class Etc {\n    function doSomethingNice() {\n        return 'Whatever';\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "methods", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9544955, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-I46UN_qVFYY/AAAAAAAAAAI/AAAAAAAACCc/_diadBADFBI/photo.jpg?sz=128", "display_name": "Alin MB", "link": "https://stackoverflow.com/users/9544955/alin-mb"}, "edited": false, "score": 0, "creation_date": 1534931870, "post_id": 51963956, "comment_id": 90878530, "body": "Thank you so much for your effort, but is still not working, i am so close. Is still redirecting to (this.goBack()), and not redirecting to /pacient/ra, after submiting the new value... I think the DATA is not resolved somehow. The thing is, that the user that change the treatment when submitting the form, must redirect to SideEffects page. Everything is working fine on the api and all..."}, {"owner": {"reputation": 1, "user_id": 9544955, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-I46UN_qVFYY/AAAAAAAAAAI/AAAAAAAACCc/_diadBADFBI/photo.jpg?sz=128", "display_name": "Alin MB", "link": "https://stackoverflow.com/users/9544955/alin-mb"}, "edited": false, "score": 0, "creation_date": 1534932288, "post_id": 51963956, "comment_id": 90878758, "body": "Got an error: Uncaught (in promise): [object Undefined] when submit without selecting newTreatment."}], "tags": [], "owner": {"reputation": 5159, "user_id": 2882688, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/GZLz2.png?s=128&g=1", "display_name": "firegloves", "link": "https://stackoverflow.com/users/2882688/firegloves"}, "is_accepted": false, "score": 0, "last_activity_date": 1534930766, "creation_date": 1534930766, "answer_id": 51963956, "question_id": 51962697, "link": "https://stackoverflow.com/questions/51962697/how-to-check-if-a-function-is-done-and-then-call-another-function/51963956#51963956", "title": "How to check if a function is done and then call another function", "body": "<p>You can keep your original and changed values into separate variabiles, for example</p>\n\n<pre><code>originalTratament: any;\nnewTratament: any;\n</code></pre>\n\n<p>Then in your <code>onChange()</code> you can set new value like follows:</p>\n\n<pre><code>private onChange(TratamentAValue): any {\n    this.newTratament = TratamentAValue;\n}\n</code></pre>\n\n<p>At last you can compare your variables to check they are different:</p>\n\n<pre><code>onChangeSubmit(){\n    const CONDITION = this.originalTratament != this.newTratament;\n    const DATA = this.onChange(this.TratamentAValue);\n    const ERROR = new Error(this.goBack())\n\n    const promise =\n        new Promise((resolve, reject) =&gt; {\n            // do some async stuff\n            this.router.navigate(['/pacient/ra', this.id]);\n\n            if (CONDITION) resolve(DATA);\n            else reject(ERROR);\n        })\n\n    updatePacient() {\n        this.pacService\n            .updatePacient(this.model)\n            .subscribe(() =&gt; this.onChangeSubmit());\n\n    }\n}\n</code></pre>\n\n<p>You may change something because I don't know your data structures</p>\n"}], "owner": {"reputation": 1, "user_id": 9544955, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-I46UN_qVFYY/AAAAAAAAAAI/AAAAAAAACCc/_diadBADFBI/photo.jpg?sz=128", "display_name": "Alin MB", "link": "https://stackoverflow.com/users/9544955/alin-mb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534934123, "creation_date": 1534926418, "last_edit_date": 1534934123, "question_id": 51962697, "link": "https://stackoverflow.com/questions/51962697/how-to-check-if-a-function-is-done-and-then-call-another-function", "title": "How to check if a function is done and then call another function", "body": "<p>I need to check if a user has selected form ngFor a item and then redirect to another page when submitting the form with the new value.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;mat-select placeholder=\"Tratament\" [(ngModel)]=\"model.TratamentA\" name=\"TratamentA\" #TratamentA (change)=\"onChange(TratamentA.value)\"\n disableRipple&gt;\n    &lt;mat-option value=\"Sutent (Sunitinibum) 25mg\"&gt;Sutent (Sunitinibum) 25mg&lt;/mat-option&gt;\n    &lt;mat-option value=\"Sutent (Sunitinibum) 37.5mg\"&gt;Sutent (Sunitinibum) 37.5mg&lt;/mat-option&gt;\n    &lt;mat-option value=\"Sutent (Sunitinibum) 50mg\"&gt;Sutent (Sunitinibum) 50mg&lt;/mat-option&gt;\n&lt;/mat-select&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;div class=\"row\"&gt;\n            &lt;button mat-raised-button color=\"primary\" type=\"submit\" value=\"submit\"&gt;Update Patient&lt;/button&gt;\n            &lt;button mat-raised-button color=\"accent\" (click)=\"goBack()\"&gt;Anulare&lt;/button&gt;\n          &lt;/div&gt;\n</code></pre>\n\n<p>TS</p>\n\n<pre><code>private onChange(TratamentAValue): any {\n    console.log(TratamentAValue);\n}\n\nonChangeSubmit(){\n    const CONDITION = true;\n    const DATA = this.onChange(this.TratamentAValue);\n    const ERROR = new Error(this.goBack())\n\n    const promise =\n        new Promise((resolve, reject) =&gt; {\n            // do some async stuff\n            this.router.navigate(['/pacient/ra', this.id]);\n\n            if (CONDITION) resolve(DATA);\n            else reject(ERROR);\n        })\n\n    updatePacient() {\n        this.pacService\n            .updatePacient(this.model)\n            .subscribe(() =&gt; this.onChangeSubmit());\n\n    }\n  model = new Pacient();\n  id = this.route.snapshot.params['id'];\n  private getSinglePacient(): any {\n    this.pacService\n        .getPacient(this.id)\n        .subscribe(pacient =&gt; {\n          this.model = pacient[0];\n        })\n  }\n    }\n</code></pre>\n\n<p>To keep it short, i need to check if a value has changed, for a certain field, and then redirect the user to desired component. It always redirect to ['/pacient/ra', this.id]); I need to redirect de user only if selected a new treatment from the list. All this activity showld start when submitting the form...</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "answers": [{"tags": [], "owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "is_accepted": true, "score": 0, "last_activity_date": 1534928254, "creation_date": 1534928254, "answer_id": 51963196, "question_id": 51962585, "link": "https://stackoverflow.com/questions/51962585/angular-template-syntax-assign-async-array-as-multiple-variables/51963196#51963196", "title": "Angular template syntax assign async array as multiple variables", "body": "<p>Apparently, there's nothing that implies in the docs that this is possible. Therefore, I had to make a workaround like so:</p>\n\n<pre><code>this.obs1$: Observable&lt;ObsType1&gt; = ...;\nthis.obs2$: Observable&lt;ObsType2&gt; = ...;\nthis.combined$: Observable&lt;{obs1: ObsType1, obs2:: ObsType2}&gt;;\n\nthis.combined$ = combineLatest(this.obs1$, this.obs2$).pipe(\n    map(([obs1, obs2]) =&gt; ({obs1, obs2});\n);\n\n// HTML\n&lt;div *ngIf=\"combined$ | async as combined\"&gt;\n    {{ combined.obs1.foo}}\n    {{ combined.obs2.bar}}\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 7338, "user_id": 1860540, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/509a82813b73b7b673891fb909d2dde6?s=128&d=identicon&r=PG", "display_name": "Eliya Cohen", "link": "https://stackoverflow.com/users/1860540/eliya-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 51963196, "answer_count": 1, "score": 1, "last_activity_date": 1534928254, "creation_date": 1534925897, "question_id": 51962585, "link": "https://stackoverflow.com/questions/51962585/angular-template-syntax-assign-async-array-as-multiple-variables", "title": "Angular template syntax assign async array as multiple variables", "body": "<p>In JS, there's an elegant way to pass values from a given array to new variables like so:</p>\n\n<pre><code>let [a, b, c] = [1, 2, 3]; // a = 1, b = 2, c = 3\n</code></pre>\n\n<p>I was wondering if I could achieve the same elegant way using Angular's HTML syntax, something like so:</p>\n\n<pre><code>// TS\nthis.obs1$: Observable&lt;ObsType1&gt; = ...;\nthis.obs2$: Observable&lt;ObsType2&gt; = ...;\nthis.combined$ = combineLatest(this.obs1$, this.obs2$);\n\n// HTML\n&lt;div *ngIf=\"combined$ | async as [valOfObs1, valOfObs2]\"&gt;\n    ...\n&lt;/div&gt;\n</code></pre>\n\n<p>The <code>combined$</code> observable is the result of <a href=\"https://www.learnrxjs.io/operators/combination/combinelatest.html\" rel=\"nofollow noreferrer\">combineLatest</a> from RxJS which should return me an array of values of arrays.</p>\n"}, {"tags": ["typescript", "karma-jasmine"], "comments": [{"owner": {"reputation": 94, "user_id": 6804477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fk273.png?s=128&g=1", "display_name": "S&#233;bastien C&#244;t&#233;", "link": "https://stackoverflow.com/users/6804477/s%c3%a9bastien-c%c3%b4t%c3%a9"}, "edited": false, "score": 0, "creation_date": 1563551189, "post_id": 51962414, "comment_id": 100750226, "body": "I have the same issue.  Since then did you find any solution?"}], "owner": {"reputation": 31, "user_id": 10121267, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uJ5aJL91ul0/AAAAAAAAAAI/AAAAAAAAAAc/m2mkpMZ7Sc0/photo.jpg?sz=128", "display_name": "Simona Herciu", "link": "https://stackoverflow.com/users/10121267/simona-herciu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 565, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1563548017, "creation_date": 1534925273, "question_id": 51962414, "link": "https://stackoverflow.com/questions/51962414/test-window-location-reload-with-jasmine-typescript", "title": "test window.location.reload with jasmine typescript", "body": "<p>I got a problem with mocking the window.location.reload() functionality within Jasmine. </p>\n\n<p>I have this function:</p>\n\n<pre><code> public refresh(): void {\n    if (this.selectedLanguage &amp;&amp; this.selectedLanguage !== LanguageManager.selectedLanguage) {\n      LanguageManager.changeSelectedLanguage(this.selectedLanguage);\n      window.location.reload(true);\n    }\n  }\n</code></pre>\n\n<p>I tried creating the following test:</p>\n\n<pre><code> it('should change language and reload page', () =&gt; {\n\n    LanguageManager.selectedLanguage = LanguageManager.LANGUAGE_EN_EN;\n    component.selectedLanguage = LanguageManager.LANGUAGE_RO_RO;\n    spyOn(window.location, \"reload\").arguments(true).and.callFake(function () {\n      console.log(\"fake reload\");\n    });\n    component.refresh();\n  });\n</code></pre>\n\n<p>I want to mock the location reload function but I get this error:</p>\n\n<pre><code>Error: &lt;spyOn&gt; : reload is not declared writable or has no setter\nUsage: spyOn(&lt;object&gt;, &lt;methodName&gt;)\n</code></pre>\n\n<p>I tried also just: <code>spyOn(window.location, \"reload\");</code> but i got the same error.\nCan someone help me?\nThank you.</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "material-design", "angular6"], "comments": [{"owner": {"reputation": 1221, "user_id": 2530536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6UDP.jpg?s=128&g=1", "display_name": "Tim Martens", "link": "https://stackoverflow.com/users/2530536/tim-martens"}, "edited": false, "score": 0, "creation_date": 1534925507, "post_id": 51962354, "comment_id": 90875051, "body": "You can&#39;t put html in tooltips. This is contrary to the <a href=\"https://material.io/design/components/tooltips.html#implementation\" rel=\"nofollow noreferrer\">material design spec</a>. Checkout <a href=\"https://github.com/angular/material2/issues/5440\" rel=\"nofollow noreferrer\">this feature request</a> for more information"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1534925532, "post_id": 51962354, "comment_id": 90875064, "body": "Possible Duplicate of   <a href=\"https://stackoverflow.com/questions/47058483/angular-2-material-mattooltip-multiline\" title=\"angular 2 material mattooltip multiline\">stackoverflow.com/questions/47058483/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/33293599/how-to-add-line-breaks-within-tooltip-in-angular-material-design\" title=\"how to add line breaks within tooltip in angular material design\">stackoverflow.com/questions/33293599/&hellip;</a>"}, {"owner": {"reputation": 89, "user_id": 2547194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f506e49c6d3867a3e54d683c9f96c34?s=128&d=identicon&r=PG", "display_name": "Sumanth Itha", "link": "https://stackoverflow.com/users/2547194/sumanth-itha"}, "edited": false, "score": 0, "creation_date": 1534927861, "post_id": 51962354, "comment_id": 90876286, "body": "this is not latest material design @s"}, {"owner": {"reputation": 89, "user_id": 2547194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f506e49c6d3867a3e54d683c9f96c34?s=128&d=identicon&r=PG", "display_name": "Sumanth Itha", "link": "https://stackoverflow.com/users/2547194/sumanth-itha"}, "edited": false, "score": 0, "creation_date": 1534928604, "post_id": 51962354, "comment_id": 90876697, "body": "i want it with angular 2 or above.  its not working for that"}, {"owner": {"reputation": 89, "user_id": 2547194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f506e49c6d3867a3e54d683c9f96c34?s=128&d=identicon&r=PG", "display_name": "Sumanth Itha", "link": "https://stackoverflow.com/users/2547194/sumanth-itha"}, "edited": false, "score": 0, "creation_date": 1535023500, "post_id": 51962354, "comment_id": 90918682, "body": "Please see the below link of how i want to render the tooltip <a href=\"https://stackblitz.com/edit/angular-1e3np3-hbxpo2?file=app%2Ftooltip-auto-hide-example.css\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11704, "user_id": 782358, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/4DWAz.jpg?s=128&g=1", "display_name": "camden_kid", "link": "https://stackoverflow.com/users/782358/camden-kid"}, "is_accepted": true, "score": 3, "last_activity_date": 1535030583, "creation_date": 1535030583, "answer_id": 51986824, "question_id": 51962354, "link": "https://stackoverflow.com/questions/51962354/i-want-to-make-the-mat-icon-to-have-multi-line-tooltip-i-tried-in-the-following/51986824#51986824", "title": "I want to make the mat-icon to have multi line tooltip. I tried in the following way with out having \\n displayed in tooltip", "body": "<p>It is working but you need to increase the width of the tooltip if you want a clearer effect - <a href=\"https://stackblitz.com/edit/angular-1e3np3-5tf2sr\" rel=\"nofollow noreferrer\">StackBlitz</a></p>\n\n<pre><code>::ng-deep .material-tooltip {\n  white-space: pre-line;\n  max-width: 500px !important;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/b3ImZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b3ImZ.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 89, "user_id": 2547194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f506e49c6d3867a3e54d683c9f96c34?s=128&d=identicon&r=PG", "display_name": "Sumanth Itha", "link": "https://stackoverflow.com/users/2547194/sumanth-itha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2716, "favorite_count": 0, "accepted_answer_id": 51986824, "answer_count": 1, "score": 0, "last_activity_date": 1535030583, "creation_date": 1534925055, "last_edit_date": 1535027840, "question_id": 51962354, "link": "https://stackoverflow.com/questions/51962354/i-want-to-make-the-mat-icon-to-have-multi-line-tooltip-i-tried-in-the-following", "title": "I want to make the mat-icon to have multi line tooltip. I tried in the following way with out having \\n displayed in tooltip", "body": "<p>I tried to have a multiline tooltip with below example. you can see \\n is displaying in the tooltip. I want to have a break as we do with html kind of tooltip\n<a href=\"https://stackblitz.com/edit/angular-1e3np3-hbxpo2?file=app%2Ftooltip-auto-hide-example.css\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-1e3np3-hbxpo2?file=app%2Ftooltip-auto-hide-example.css</a></p>\n"}, {"tags": ["typescript", "angular5"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1534965560, "post_id": 51962164, "comment_id": 90897891, "body": "Are you using the wrong variable here? <code>*ngFor=&quot;let instanceDataOptions of cities&quot;</code> I don&#39;t see that variable being populated in your code when the data comes back."}, {"owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1535000871, "post_id": 51962164, "comment_id": 90906948, "body": "i was checking with the solution mean while i pasted the wrong code i have edited it. Still it is not working. You can refer the image where the data is populating. @DanielWStrimpel"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1535044027, "post_id": 51962164, "comment_id": 90931551, "body": "Looks like you don&#39;t have a <code>bootstrapSelect</code> directive on your second select. That might mean that you need to set up another <code>bootstrapSelectDirective</code> variable in your component for that too so you can call the <code>refresh</code> method on it."}, {"owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1535368193, "post_id": 51962164, "comment_id": 91026154, "body": "thank you @DanielWStrimpel it is working now. Post the comment as answer ill approve it."}], "owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535000744, "creation_date": 1534924346, "last_edit_date": 1535000744, "question_id": 51962164, "link": "https://stackoverflow.com/questions/51962164/multiple-drop-down-are-not-populating-after-the-api-call", "title": "Multiple Drop Down are not Populating after the API Call", "body": "<p>I have Multiple Drop down in my application where each of those are getting the values after the API call. But only in one Dropdown it is populating the values and rest of them are not populating the values.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>        &lt;div class=\"pull-right\" style=\"padding-top:15px; padding-right:5px;\"&gt;\n            &lt;select bootstrapSelect [(ngModel)]=\"metricDalaValues\"  title=\"Select Volumes\"&gt;\n               &lt;option \n                   *ngFor=\"let metricDataOption of responseDropDownDataVal\" \n                   [value]=\"metricDataOption.name\" \n                   id=\"metricDataOption.name\"&gt;\n                   {{metricDataOption.name}} \n               &lt;/option&gt;\n             &lt;/select&gt;\n           &lt;/div&gt;\n\n             &lt;div class=\"pull-right\" style=\"padding-top:15px; padding-right:5px;\"&gt;\n                &lt;select class=\"selectpicker\" id =\"2\"  [(ngModel)]=\"InstanceValues\"  title=\"Select instances\"&gt;\n                  &lt;option \n                   *ngFor=\"let instanceDataOptions of responseDropDownDataForInstanceVal \" \n                   [value]=\"instanceDataOptions.resId\" \n                   id=\"instanceDataOptions.resId\"&gt;\n                   {{instanceDataOptions.resId}} \n                 &lt;/option&gt;\n               &lt;/select&gt;\n             &lt;/div&gt;\n</code></pre>\n\n<p>This is my Typescript file where i make a API Call</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>responseDropDownData: any;\nresponseDropDownDataVal = [];\nresponseDropDownDataForInstance: any;\nresponseDropDownDataForInstanceVal = [];\n\nthis.http.get(environment.envUrl + '/cloudWatch/dropDownForMetrics?' + params, { headers })\n    .subscribe(data =&gt; {\n        this.responseDropDownData = data;\n        console.log(\"Drop Down Data\");\n        this.responseDropDownDataVal = this.responseDropDownData.data;\n        console.log(this.responseDropDownDataVal);\n        this.bootstrapSelectDirective.refresh();\n\n    });\n\nthis.http.get(environment.envUrl + '/cloudWatch/getInstance?' + params, { headers })\n    .subscribe(data =&gt; {\n        this.responseDropDownDataForInstance = data;\n        this.responseDropDownDataForInstanceVal = this.responseDropDownDataForInstance.data;\n        console.log(\"Drop Down Data\");\n        console.log(this.responseDropDownDataForInstanceVal);\n        this.bootstrapSelectDirective.refresh();\n    });\n</code></pre>\n\n<p>form an API call I am able to bind the values which are populating in the console but the same data it is not displaying on the dropdownlist Can someone guide me where i did the mistake in the code\n<a href=\"https://i.stack.imgur.com/Nz61E.png\" rel=\"nofollow noreferrer\">this data is not showing in the dropdown</a></p>\n"}, {"tags": ["angular", "typescript", "routing"], "answers": [{"comments": [{"owner": {"reputation": 1047, "user_id": 3359635, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/192e55003fc22967398264e8f4c21e0e?s=128&d=identicon&r=PG", "display_name": "dallows", "link": "https://stackoverflow.com/users/3359635/dallows"}, "edited": false, "score": 0, "creation_date": 1534924245, "post_id": 51962116, "comment_id": 90874382, "body": "I did try that but there&#39;s no difference"}, {"owner": {"reputation": 36, "user_id": 5896831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a578ae148f6230c06005eaf591298d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/5896831/cody"}, "reply_to_user": {"reputation": 1047, "user_id": 3359635, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/192e55003fc22967398264e8f4c21e0e?s=128&d=identicon&r=PG", "display_name": "dallows", "link": "https://stackoverflow.com/users/3359635/dallows"}, "edited": false, "score": 1, "creation_date": 1534924960, "post_id": 51962116, "comment_id": 90874772, "body": "Can you post your module.ts file where you are brining in these route.ts files?"}, {"owner": {"reputation": 1047, "user_id": 3359635, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/192e55003fc22967398264e8f4c21e0e?s=128&d=identicon&r=PG", "display_name": "dallows", "link": "https://stackoverflow.com/users/3359635/dallows"}, "edited": false, "score": 0, "creation_date": 1534925363, "post_id": 51962116, "comment_id": 90874981, "body": "Thanks for a point, I think I found a solution, at least partial. See the edit"}, {"owner": {"reputation": 36, "user_id": 5896831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a578ae148f6230c06005eaf591298d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/5896831/cody"}, "reply_to_user": {"reputation": 1047, "user_id": 3359635, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/192e55003fc22967398264e8f4c21e0e?s=128&d=identicon&r=PG", "display_name": "dallows", "link": "https://stackoverflow.com/users/3359635/dallows"}, "edited": false, "score": 0, "creation_date": 1534925740, "post_id": 51962116, "comment_id": 90875161, "body": "Yes that was exactly where I was thinking the issue was going to be. Glad I could at least point you in the direction!"}], "tags": [], "owner": {"reputation": 36, "user_id": 5896831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a578ae148f6230c06005eaf591298d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/5896831/cody"}, "is_accepted": false, "score": 0, "last_activity_date": 1534924124, "creation_date": 1534924124, "answer_id": 51962116, "question_id": 51961519, "link": "https://stackoverflow.com/questions/51961519/angular-6-differentiate-between-literal-and-parametrized-route/51962116#51962116", "title": "Angular 6 - differentiate between literal and parametrized route", "body": "<p>This is a shot in the dark without building a complete project but try changing the order of the routes to be like below (that is having the 'create-account' route before ':name\" route.</p>\n\n<pre><code>export const routes: Array&lt;Route&gt; = [\n{ path: '', component: WelcomeComponent, pathMatch: 'full'},\n{ path: 'create-account', loadChildren: './create-account/create-account.module#CreateAccountModule', pathMatch: 'full'},  \n{ path: ':name', loadChildren: './account/account.module#AccountModule' },\n{ path: '**', redirectTo: ''}\n];\n</code></pre>\n"}], "owner": {"reputation": 1047, "user_id": 3359635, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/192e55003fc22967398264e8f4c21e0e?s=128&d=identicon&r=PG", "display_name": "dallows", "link": "https://stackoverflow.com/users/3359635/dallows"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534925604, "creation_date": 1534921906, "last_edit_date": 1534925604, "question_id": 51961519, "link": "https://stackoverflow.com/questions/51961519/angular-6-differentiate-between-literal-and-parametrized-route", "title": "Angular 6 - differentiate between literal and parametrized route", "body": "<p>I'm facing a weird issue and I'm not sure how to handle it. I have an application which lets you either view your public account or create a new one. </p>\n\n<p>Account and CreateAccount are standalone modules lazy loaded in routes.ts file.</p>\n\n<pre><code>export const routes: Array&lt;Route&gt; = [\n  { path: '', component: WelcomeComponent, pathMatch: 'full'},\n  { path: ':name', loadChildren: './account/account.module#AccountModule' },\n  { path: 'create-account', loadChildren: './create-account/create-account.module#CreateAccountModule', pathMatch: 'full'},  \n  { path: '**', redirectTo: ''}\n];\n</code></pre>\n\n<p>In order to show your account, you have to enter your user name and after that you are navigated to overview of your account. URL after this step should look like this: <code>https://baseurl.com/*accountName*/*someView*</code></p>\n\n<p>Account module routes look like this:</p>\n\n<pre><code>export const routes: Array&lt;Route&gt; = [\n  { path: '', component: AccountComponent, canActivateChild: [AccountGuardService], children: [\n    { path: '', component: OverviewComponent },\n    { path: 'transfer', component: TransferComponent, canActivate: [DeletedGuardService] },\n    { path: 'voting', component: VotingComponent, canActivate: [DeletedGuardService] },\n    { path: 'vesting', component: VestingComponent, canActivate: [DeletedGuardService] }\n  ] },\n]\n</code></pre>\n\n<p>If you want to create a new account, you can do it as a '<em>logged in</em>' user and you'll have a full control of your child accounts or create a new one.\nDifference is the parameter in the URL:\n<code>https://baseurl.com/create-account/*accountName*</code> - creates child account\n<code>https://baseurl.com/create-account</code> - creates new account</p>\n\n<p>CreateAccount component acts as a wizard which uses <strong>@ngrx/store</strong> to handle wizard navigation. AccountName url parameter specifies different starting point in wizard.</p>\n\n<p>CreateAccount module routes:</p>\n\n<pre><code>export const routes: Array&lt;Route&gt; = [\n  { path: '', component: CreateAccountComponent, canDeactivate: [CreateAccountGuardService] },\n  { path: ':account', component: CreateAccountComponent, canDeactivate: [CreateAccountGuardService] },\n];\n</code></pre>\n\n<p>Before I refactored the project to use lazy loaded modules everything worked flawlessly. Now, with this configuration, no matter what URL I use I'm always redirected to root and <strong>CreateAccountComponent</strong> is shown.</p>\n\n<p><code>https://baseurl.com/*accountName*</code> -> <code>https://baseurl.com/</code></p>\n\n<p><code>https://baseurl.com/*accountName*/transfer</code> -> <code>https://baseurl.com/</code></p>\n\n<p><code>https://baseurl.com/create-account</code> -> <code>https://baseurl.com/</code></p>\n\n<p><code>https://baseurl.com/create-account/*accountName*</code> -> <code>https://baseurl.com/</code></p>\n\n<p>How exactly can I differentiate between literal route <code>create-account</code> and parametrized route <code>:name</code>? Using <code>pathMatch: full</code> on various places didn't help at all. I must admit that my understanding of routing is still not very strong.</p>\n\n<p>That's how route used to look like before refactor:</p>\n\n<pre><code>export const routes: Array&lt;Route&gt; = [\n  { path: '', component: WelcomeComponent, pathMatch: 'full'},\n  { path: 'create-account', component: CreateAccountComponent, canDeactivate: [CreateAccountGuardService], pathMatch: 'full' },\n  { path: 'create-account/:account', component: CreateAccountComponent, pathMatch: 'full', canDeactivate: [CreateAccountGuardService] },\n  { path: ':name', component: AccountComponent, canActivateChild: [AccountGuardService], children: [\n    { path: '', component: OverviewComponent },\n    { path: 'transfer', component: TransferComponent, canActivate: [DeletedGuardService] },\n    { path: 'voting', component: VotingComponent, canActivate: [DeletedGuardService] },\n    { path: 'vesting', component: VestingComponent, canActivate: [DeletedGuardService] }\n  ] },\n  { path: '**', redirectTo: ''}\n];\n</code></pre>\n\n<p><strong>EDIT:</strong>\nCause of the problem found in Routes.Module.ts. I forgot to remove module which is no longer imported but rather lazy-loaded (<strong>CreateAccountModule</strong>)</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { SharedModule } from '../shared/shared.module';\n\nimport { CreateAccountModule } from './create-account/create-account.module';\n\nimport { routes } from './routes';\nimport { WalletComponent } from './wallet/wallet.component';\n\n\n@NgModule({\n  imports: [\n    SharedModule,\n    /*CreateAccountModule, - removing this import fixes the problem with routing override. Routing now works. */\n    RouterModule.forRoot(routes),\n  ],\n  declarations: [\n    WalletComponent, \n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class RoutesModule { }\n</code></pre>\n"}, {"tags": ["typescript", "authentication", "jwt", "angular6", "angular-http-interceptors"], "owner": {"reputation": 310, "user_id": 5593948, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/3017cb1b3460ce535fb6dba2521a4c20?s=128&d=identicon&r=PG&f=1", "display_name": "Bh00shan", "link": "https://stackoverflow.com/users/5593948/bh00shan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1952, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1534921492, "creation_date": 1534921492, "question_id": 51961409, "link": "https://stackoverflow.com/questions/51961409/angular-http-interceptors-redirect-to-login-page-and-skip-further-code-executi", "title": "Angular HTTP Interceptors - Redirect to Login page and skip further code execution", "body": "<p>I have developed the Angular 6 application. \nImplemented the JWT token authentication using Web API. Also implemented the HttpInterceptor to keep watch on request and send the token in every request.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Injectable()\r\nexport class HttpRequestInterceptor implements HttpInterceptor {\r\n  constructor(private router: Router) { }\r\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n    var token = localStorage.getItem(\"bearerToken\");\r\n\r\n    if (token) {\r\n      const newReq = req.clone(\r\n        {\r\n          headers: req.headers.set('Authorization', 'Bearer ' + token)\r\n        });\r\n      return next.handle(newReq)\r\n        .do(\r\n          (event: HttpEvent&lt;any&gt;) =&gt; {\r\n            if (event instanceof HttpResponse) {\r\n                return event;\r\n            }\r\n            else if (event instanceof HttpErrorResponse){\r\n              console.log(\"event\");\r\n            }\r\n        },\r\n        (err) =&gt; {\r\n          if (err instanceof HttpErrorResponse) {\r\n              if (err.status === 401) {             \r\n               return this.router.navigate(['/logout']);\r\n              }\r\n          }\r\n      }\r\n        );\r\n    }\r\n    else {\r\n      return next.handle(req);\r\n    }\r\n  }\r\n};\r\n\r\n\r\nthis.http.post&lt;any[]&gt;(url, JSON.stringify(this.selectedStatus), httpOptions)\r\n      .subscribe(response =&gt; {\r\n        this.view = response;\r\n        //this.fetchConfig();\r\n        this.showLoader = false;\r\n        this.showGrid = true;\r\n      },\r\n      (err: any) =&gt; {\r\n        this.showLoader = false;\r\n        this.showGrid = true;\r\n        if (this.modalRef == null) {\r\n          this.modalRef = this.modalService.open(ModalMessageboxComponent);\r\n          this.modalRef.componentInstance.message = \"An error has occured while accessing the request\";\r\n          this.modalRef.componentInstance.messageBoxTitle = \"Error\";\r\n          this.modalRef.result.then((result) =&gt; {\r\n            this.modalRef = null;\r\n          }\r\n          )\r\n        }\r\n      }\r\n      )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This correctly navigate the application to logout page when we get 401 response from API after token expires.\nBut the catch block written in HTTP request is still executing after redirection to logout page in which i have written page error popup. \nHow to avoid this page error popup when redirection happen to logout ?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 4534, "user_id": 10122791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZaYaT.jpg?s=128&g=1", "display_name": "Augustin R", "link": "https://stackoverflow.com/users/10122791/augustin-r"}, "edited": false, "score": 0, "creation_date": 1534921932, "post_id": 51961241, "comment_id": 90873249, "body": "In parent component, do you really use <code>templateUrl</code>? For inline DOM you need to use <code>template</code> instead"}], "answers": [{"comments": [{"owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "edited": false, "score": 0, "creation_date": 1534939278, "post_id": 51961376, "comment_id": 90882586, "body": "Your answer would probably be helpful with some comentary."}, {"owner": {"reputation": 7635, "user_id": 7584231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKqAC.jpg?s=128&g=1", "display_name": "Krishna Rathore", "link": "https://stackoverflow.com/users/7584231/krishna-rathore"}, "reply_to_user": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "edited": false, "score": 0, "creation_date": 1534939494, "post_id": 51961376, "comment_id": 90882743, "body": "Thanks @dwjohnston"}], "tags": [], "owner": {"reputation": 7635, "user_id": 7584231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKqAC.jpg?s=128&g=1", "display_name": "Krishna Rathore", "link": "https://stackoverflow.com/users/7584231/krishna-rathore"}, "is_accepted": false, "score": 0, "last_activity_date": 1534921351, "creation_date": 1534921351, "answer_id": 51961376, "question_id": 51961241, "link": "https://stackoverflow.com/questions/51961241/how-to-update-the-object-in-child-component-when-object-property-in-changes-in-t/51961376#51961376", "title": "how to update the object in child component when object property in changes in the parent component", "body": "<p><strong><a href=\"https://stackblitz.com/edit/how-to-update-the-object-in-child-component-when-object-propert?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">Stackblitz Demo</a></strong></p>\n\n<pre><code>  obj = {\n    id: 1,\n    name: 'Hello'\n  }\n\n  changeObject() {\n    this.obj.name = 'Hello change';\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9904, "user_id": 2172547, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RpxLD.jpg?s=128&g=1", "display_name": "Sunil Garg", "link": "https://stackoverflow.com/users/2172547/sunil-garg"}, "is_accepted": false, "score": 0, "last_activity_date": 1534921602, "creation_date": 1534921602, "answer_id": 51961425, "question_id": 51961241, "link": "https://stackoverflow.com/questions/51961241/how-to-update-the-object-in-child-component-when-object-property-in-changes-in-t/51961425#51961425", "title": "how to update the object in child component when object property in changes in the parent component", "body": "<p>Use <code>ngOnChanges</code> to listen to changes of input properties. You will pass the object from parent to child and whenever there is any change in the object that you have passed as input to the child will give <code>SimpleChanges</code> object in <code>ngOnChanges</code> hook of child component.</p>\n\n<pre><code>interface OnChanges {\n  ngOnChanges(changes: SimpleChanges): void\n}\n</code></pre>\n\n<p><strong>Example</strong></p>\n\n<pre><code>@Component({selector: 'my-cmp', template: `...`})\nclass MyComponent implements OnChanges {\n  // TODO(issue/24571): remove '!'.\n  @Input()\n  prop !: number;\n\n  ngOnChanges(changes: SimpleChanges) {\n    // changes.prop contains the old and the new value...\n  }\n}\n</code></pre>\n\n<p>For more on <a href=\"https://angular.io/api/core/OnChanges\" rel=\"nofollow noreferrer\">ngOnChanges</a></p>\n"}, {"tags": [], "owner": {"reputation": 3978, "user_id": 8593983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RMZOu.jpg?s=128&g=1", "display_name": "Sivakumar Tadisetti", "link": "https://stackoverflow.com/users/8593983/sivakumar-tadisetti"}, "is_accepted": false, "score": 1, "last_activity_date": 1534924241, "last_edit_date": 1534924241, "creation_date": 1534923893, "answer_id": 51962051, "question_id": 51961241, "link": "https://stackoverflow.com/questions/51961241/how-to-update-the-object-in-child-component-when-object-property-in-changes-in-t/51962051#51962051", "title": "how to update the object in child component when object property in changes in the parent component", "body": "<p>You have to use <code>ngOnChanges</code> like below</p>\n\n<p><strong>Parent Component</strong></p>\n\n<pre><code>export class AppComponent  {\n\n  obj = {\n    id:1,\n    name:'abc'\n  }\n\n  name = 'Angular';\n\n  changeObject() {\n    this.obj.id++;\n  }\n}\n</code></pre>\n\n<p><strong>Parent Template</strong></p>\n\n<pre><code>&lt;button (click)=\"changeObject()\"&gt;Change Object&lt;/button&gt;\n\n&lt;hello name=\"{{ name }}\" [obj]=\"obj\"&gt;&lt;/hello&gt;\n</code></pre>\n\n<p><strong>Child Component</strong></p>\n\n<pre><code>import { Component, Input, OnInit, OnChanges } from '@angular/core';\n\n@Component({\n  selector: 'hello',\n  template: `&lt;h1&gt;Hello {{name}}!&lt;/h1&gt;&lt;p&gt;{{ obj | json }}&lt;/p&gt;`,\n  styles: [`h1 { font-family: Lato; }`]\n})\nexport class HelloComponent implements OnInit, OnChanges { \n  @Input() name: string;\n  @Input() obj;\n\n  ngOnInit() {\n\n  }\n\n  ngOnChanges(changes) {\n    this.obj = changes.currentValue ? changes.currentValue.obj : this.obj;\n  }\n}\n</code></pre>\n\n<p>Working example is here in <a href=\"https://stackblitz.com/edit/angular-4uym75\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n"}], "owner": {"reputation": 151, "user_id": 9913840, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sRCkA5CURBM/AAAAAAAAAAI/AAAAAAAAFWQ/CD9y--9qVsE/photo.jpg?sz=128", "display_name": "swaroop babaleshwar", "link": "https://stackoverflow.com/users/9913840/swaroop-babaleshwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1534925884, "creation_date": 1534920832, "last_edit_date": 1534925884, "question_id": 51961241, "link": "https://stackoverflow.com/questions/51961241/how-to-update-the-object-in-child-component-when-object-property-in-changes-in-t", "title": "how to update the object in child component when object property in changes in the parent component", "body": "<p>I have 2 components</p>\n\n<p>Parent component is </p>\n\n<pre><code>@Component({\n  selector: 'parent',\n  template: `\n    &lt;child [obj]=\"obj\"&gt; &lt;/child&gt;\n  `,\n  styleUrls: [''],\n})\nexport class parentComponent implements OnInit{\n\n obj = {\n  id:1;\n  name:'abc'\n }\n\n}\n</code></pre>\n\n<p>and child component is</p>\n\n<pre><code>@Component({\n  selector: 'child',\n  templateUrl: '',\n  styleUrls: [''],\n})\nexport class ChildComponetimplements OnInit{\n\n   @Input() obj : any;\n\n}\n</code></pre>\n\n<p>If I change any of the property in the obj in the parent, it is not getting updated in the child component.</p>\n\n<p>Maybe because the obj reference is not changed. </p>\n\n<p>Please suggest me the solution for this. </p>\n"}, {"tags": ["typescript", "jestjs", "react-virtualized", "unexpected-token"], "comments": [{"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "edited": false, "score": 0, "creation_date": 1565451736, "post_id": 51960208, "comment_id": 101363086, "body": "Did anyone ever fix this?"}, {"owner": {"reputation": 31, "user_id": 7481943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3795d75c10009b1c6282dc38915fdcb6?s=128&d=identicon&r=PG&f=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/7481943/artem"}, "reply_to_user": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "edited": false, "score": 1, "creation_date": 1565595896, "post_id": 51960208, "comment_id": 101388316, "body": "I still use workaround: cope function defaultRowRenderer from <a href=\"https://github.com/bvaughn/react-virtualized/blob/master/source/Table/defaultRowRenderer.js\" rel=\"nofollow noreferrer\">github.com/bvaughn/react-virtualized/blob/master/source/Tabl&zwnj;&#8203;e/&hellip;</a>"}, {"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "edited": false, "score": 0, "creation_date": 1565696222, "post_id": 51960208, "comment_id": 101425698, "body": "Thanks @Artem, will give that a go, as currently I have managed to fix it using Jest <code>transformIgnorePatterns</code>, to ensure react-virtualized is transpiled by babel/webpack"}], "answers": [{"tags": [], "owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "is_accepted": false, "score": 0, "last_activity_date": 1565696165, "creation_date": 1565696165, "answer_id": 57476944, "question_id": 51960208, "link": "https://stackoverflow.com/questions/51960208/defaultrowrenderer-breaks-jest-unit-test-object-anonymous-import-creat/57476944#57476944", "title": "defaultRowRenderer breaks jest unit test. ...Object.&lt;anonymous&gt; ... import createMultiSort", "body": "<p>I managed to fix this by telling jest not to ignore react-virtualized when running transforms, as by default all node_modules are ignored for transforms:</p>\n\n<p>I have created a PR with the following edit to <code>README.md</code></p>\n\n<hr>\n\n<h2>Testing</h2>\n\n<p>As this library does not come pre-compiled, it requires to be transformed by your loader, otherwise you may get errors such as:</p>\n\n<pre><code>\\path\\to\\src\\node_modules\\react-virtualized\\dist\\es\\Table\\index.js:1\n({\"Object.&lt;anonymous&gt;\":function(module,exports,require,__dirname,__filename,global,jest){import createMultiSort from './createMultiSort';\nSyntaxError: Unexpected identifier\n</code></pre>\n\n<p>To fix these, you must ensure <code>node_modules/react-virtualized</code> is transformed.\nWith CRA (<a href=\"https://github.com/facebook/create-react-app\" rel=\"nofollow noreferrer\">Create-React-App</a>) and Jest you can either:\n 1. Add a <code>transformIgnorePattern</code> to the <code>jest</code> config in <code>package.json</code></p>\n\n<p>Example <code>package.json</code></p>\n\n<pre><code> {\n   ...\n   \"jest\": {\n     ...\n     \"transformIgnorePatterns\": [\n       \"node_modules/(?!react-virtualized)/\"\n     ]\n   }\n }\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<ol start=\"2\">\n<li><p>Add the following CLI arg to your <code>npm test</code> script: <code>--transformIgnorePatterns \"node_modules/(?!react-virtualized)/\"</code></p>\n\n<p>Example <code>package.json</code></p></li>\n</ol>\n\n<pre><code>{\n  ...\n  \"scripts\": {\n    ...\n    \"test\": \"react-scripts test --transformIgnorePatterns \\\"node_modules/(?!react-virtualized)/\\\"\",\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7481943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3795d75c10009b1c6282dc38915fdcb6?s=128&d=identicon&r=PG&f=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/7481943/artem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 334, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1565696165, "creation_date": 1534914609, "last_edit_date": 1535487787, "question_id": 51960208, "link": "https://stackoverflow.com/questions/51960208/defaultrowrenderer-breaks-jest-unit-test-object-anonymous-import-creat", "title": "defaultRowRenderer breaks jest unit test. ...Object.&lt;anonymous&gt; ... import createMultiSort", "body": "<p>When I use <em>defaultRowRenderer</em> (method of <em>react-virtualized</em> for Table), <em>jest</em> unit-tests are failed with error: </p>\n\n<pre><code>...node_modules\\react-virtualized\\dist\\es\\Table\\index.js:1\n({\"Object.&lt;anonymous&gt;\":function(module,exports,require,__dirname,__filename,global,jest){import createMultiSort from './createMultiSort';\n</code></pre>\n\n<p>It can be reproduced easily.\nSteps:</p>\n\n<ol>\n<li>Install <em>typescript</em> app with <em>create-react-app</em></li>\n<li>Install <em>react-virtualized</em> and <em>@types/react-virtualized</em></li>\n<li><p>Add simple Table in <em>App.tsx</em></p>\n\n<pre><code>import * as React from \"react\";\nimport { Column, Index, Table } from \"react-virtualized\";\nimport { defaultRowRenderer } from \"react-virtualized/dist/es/Table\";\nimport \"./App.css\";\n\nimport logo from \"./logo.svg\";\n\nclass App extends React.Component {\n  public render() {\n    return (\n      &lt;div className=\"App\"&gt;\n    &lt;header className=\"App-header\"&gt;\n      &lt;img src={logo} className=\"App-logo\" alt=\"logo\" /&gt;\n      &lt;h1 className=\"App-title\"&gt;Welcome to React&lt;/h1&gt;\n    &lt;/header&gt;\n    &lt;p className=\"App-intro\"&gt;\n      To get started, edit &lt;code&gt;src/App.tsx&lt;/code&gt; and save to reload.\n    &lt;/p&gt;\n    &lt;Table\n      style={{ outline: \"none\" }}\n      height={300}\n      width={300}\n      headerHeight={40}\n      rowHeight={40}\n      rowCount={10}\n      rowGetter={this.rowGetter}\n      rowRenderer={this.rowRenderer}\n    &gt;\n      &lt;Column width={150} minWidth={90} label=\"Type\" dataKey=\"Type\" /&gt;\n    &lt;/Table&gt;\n  &lt;/div&gt;\n);\n}\n\n  private rowGetter = (props: Index) =&gt; {\n     return {};\n  };\n\n  private rowRenderer = (props: any) =&gt; {\n      return defaultRowRenderer({\n          ...props,\n          style: { ...props.style, outline: \"none\" }\n      });\n  };\n}\n\nexport default App;\n</code></pre></li>\n<li><p>Run test</p></li>\n</ol>\n\n<p>Is there true way to resolve this problem?</p>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 1624, "user_id": 1825578, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6790dc13f47f563dbceadf47d92773e1?s=128&d=identicon&r=PG&f=1", "display_name": "Nitishkumar Singh", "link": "https://stackoverflow.com/users/1825578/nitishkumar-singh"}, "edited": false, "score": 1, "creation_date": 1534912577, "post_id": 51959935, "comment_id": 90870049, "body": "Instead of asking for direct solution, you should show what you tried and what didn&#39;t worked"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 1, "creation_date": 1534912605, "post_id": 51959935, "comment_id": 90870055, "body": "Filter out remaining ones as <code>unchecked</code>."}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1534913547, "post_id": 51959935, "comment_id": 90870278, "body": "Show what you have tried before."}], "answers": [{"comments": [{"owner": {"reputation": 3405, "user_id": 4934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4EKF.jpg?s=128&g=1", "display_name": "Aniket Avhad", "link": "https://stackoverflow.com/users/4934481/aniket-avhad"}, "reply_to_user": {"reputation": 17, "user_id": 3262500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d482397dc40c1ddd590d7e073c094f1d?s=128&d=identicon&r=PG&f=1", "display_name": "user3262500", "link": "https://stackoverflow.com/users/3262500/user3262500"}, "edited": false, "score": 0, "creation_date": 1534928153, "post_id": 51960367, "comment_id": 90876449, "body": "Your welcome..remember when you ask question next time you should provide, what you tried and what is your code.."}], "tags": [], "owner": {"reputation": 3405, "user_id": 4934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4EKF.jpg?s=128&g=1", "display_name": "Aniket Avhad", "link": "https://stackoverflow.com/users/4934481/aniket-avhad"}, "is_accepted": true, "score": 0, "last_activity_date": 1534915765, "creation_date": 1534915765, "answer_id": 51960367, "question_id": 51959935, "link": "https://stackoverflow.com/questions/51959935/angular-2-4-5-material-how-to-get-unchecked-value-of-multi-select-drop-down/51960367#51960367", "title": "angular 2/4/5 Material: How to get unchecked value of multi select drop down", "body": "<p>You can check following ways,</p>\n\n<p>in <strong>component.html</strong></p>\n\n<pre><code>&lt;mat-form-field&gt;\n    &lt;mat-select placeholder=\"Toppings\" (selectionChange)=\"onChange($event.value)\" multiple&gt;\n        &lt;mat-option *ngFor=\"let topping of toppingList\" [value]=\"topping\"&gt;{{topping}}&lt;/mat-option&gt;\n    &lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>and in <strong>component.ts</strong></p>\n\n<pre><code>toppingList: string[] = ['Extra cheese', 'Mushroom', 'Onion', 'Pepperoni', 'Sausage', 'Tomato'];\nselectedList: any = []; // store selected options here\n\nonChange(event) {\n\n   let missing = null;\n\n   for (let i = 0; i &lt; this.selectedList.length; i++) {\n      if (event.indexOf(this.selectedList[i]) == -1) missing = this.selectedList[i];      // Current[i] isn't in prev\n   }\n\n    if (missing)\n      alert(missing);\n\n    this.selectedList = event;\n\n  }\n</code></pre>\n\n<p>here is <a href=\"https://stackblitz.com/edit/angular-g7vtuj?file=app%2Fselect-multiple-example.ts\" rel=\"nofollow noreferrer\">Stackblitz</a> demo</p>\n"}], "owner": {"reputation": 17, "user_id": 3262500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d482397dc40c1ddd590d7e073c094f1d?s=128&d=identicon&r=PG&f=1", "display_name": "user3262500", "link": "https://stackoverflow.com/users/3262500/user3262500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 0, "accepted_answer_id": 51960367, "answer_count": 1, "score": 1, "last_activity_date": 1534915765, "creation_date": 1534912470, "question_id": 51959935, "link": "https://stackoverflow.com/questions/51959935/angular-2-4-5-material-how-to-get-unchecked-value-of-multi-select-drop-down", "title": "angular 2/4/5 Material: How to get unchecked value of multi select drop down", "body": "<p>HI all i am using angular material for multi select drop down, i am able to get the<br>\nselected values , can any one help to get unchecked value for multi select drop down</p>\n"}, {"tags": ["typescript", "service", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 740, "user_id": 1605847, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8f9eed976eb1f104dfba7a74075b0078?s=128&d=identicon&r=PG", "display_name": "London804", "link": "https://stackoverflow.com/users/1605847/london804"}, "edited": false, "score": 0, "creation_date": 1534911104, "post_id": 51959723, "comment_id": 90869720, "body": "Good catch, but now I have this error in the console. &#39;ERROR Error: StaticInjectorError(AppModule)[ProductListComponent -&gt; ProductService]:&#39; AppComponent.html:6"}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "reply_to_user": {"reputation": 740, "user_id": 1605847, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8f9eed976eb1f104dfba7a74075b0078?s=128&d=identicon&r=PG", "display_name": "London804", "link": "https://stackoverflow.com/users/1605847/london804"}, "edited": false, "score": 0, "creation_date": 1534911312, "post_id": 51959723, "comment_id": 90869758, "body": "No problem, glad to help! Regarding the new error, it may be good to create a new question, but are you adding this <code>ProductService</code> to a list of <code>providers: []</code> in some <code>NgModule</code>? With the <code>providedIn</code> flag of <code>@Injectable()</code> that may be causing conflicts as it wouldn&#39;t be needed in <code>providers: []</code>."}, {"owner": {"reputation": 740, "user_id": 1605847, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8f9eed976eb1f104dfba7a74075b0078?s=128&d=identicon&r=PG", "display_name": "London804", "link": "https://stackoverflow.com/users/1605847/london804"}, "edited": false, "score": 0, "creation_date": 1534911376, "post_id": 51959723, "comment_id": 90869774, "body": "I removed the semicolon and it fixed the issue. I&#39;m not quite sure why adding a semicolon would cause that error. Any ideas?"}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "reply_to_user": {"reputation": 740, "user_id": 1605847, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8f9eed976eb1f104dfba7a74075b0078?s=128&d=identicon&r=PG", "display_name": "London804", "link": "https://stackoverflow.com/users/1605847/london804"}, "edited": false, "score": 0, "creation_date": 1534911682, "post_id": 51959723, "comment_id": 90869850, "body": "<a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"nofollow noreferrer\">Decorators</a> simply need to be added without semicolon characters. I wasn&#39;t able to actually compile without errors with the semicolon present in terms of a linting tool present such as TSLint. The internal reason for why a semicolon breaks a decorator is beyond me."}], "tags": [], "owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "is_accepted": true, "score": 1, "last_activity_date": 1534910769, "creation_date": 1534910769, "answer_id": 51959723, "question_id": 51959551, "link": "https://stackoverflow.com/questions/51959551/uncaught-error-cant-resolve-all-parameters-for-productlistcomponent/51959723#51959723", "title": "Uncaught Error: Can&#39;t resolve all parameters for ProductListComponent?", "body": "<p>There may a typo with the your <code>@Injectable()</code> decorator in terms of casing. Instead of:</p>\n\n<pre><code>@injectable({\n  providedIn: 'root'\n});\nexport class ProductService { ... }\n</code></pre>\n\n<p>Trying the following:</p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class ProductService { ... }\n</code></pre>\n\n<p><code>@Injectable()</code> needs a capital \"I\" to match the imported symbol <code>import { Injectable } from '@angular/core';</code>. Your example has a lowercase \"i\" as well as a semicolon after the closing parenthesis of <code>@Injectable({})</code>.</p>\n\n<p>Hopefully that helps!</p>\n"}], "owner": {"reputation": 740, "user_id": 1605847, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8f9eed976eb1f104dfba7a74075b0078?s=128&d=identicon&r=PG", "display_name": "London804", "link": "https://stackoverflow.com/users/1605847/london804"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 51959723, "answer_count": 1, "score": 0, "last_activity_date": 1534910769, "creation_date": 1534909247, "question_id": 51959551, "link": "https://stackoverflow.com/questions/51959551/uncaught-error-cant-resolve-all-parameters-for-productlistcomponent", "title": "Uncaught Error: Can&#39;t resolve all parameters for ProductListComponent?", "body": "<p>I am working on an Angular 6 app. I am trying to inject a service into my component and when I do I come across the following error\n<em>Uncaught Error: Can't resolve all parameters for ProductListComponent: (?)</em>.\nThe error is non specific so I can't trace the line that's causing this code. There are no errors in my IDE. What am I doing wrong?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Product-list component\r\n\r\nimport {\r\n  Component,\r\n  OnInit\r\n} from '@angular/core';\r\nimport {\r\n  IProduct\r\n} from './product';\r\nimport {\r\n  ProductService\r\n} from './product.service';\r\n\r\n\r\n@Component({\r\n  selector: 'pm-products',\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.css']\r\n})\r\n\r\nexport class ProductListComponent implements OnInit {\r\n  pageTitle: string = 'Product List';\r\n  imageWidth: number = 50;\r\n  imageMargin: number = 2;\r\n  showImage: boolean = true;\r\n\r\n  _listFilter: string = '';\r\n  get listFilter(): string {\r\n    return this._listFilter;\r\n  }\r\n\r\n  set listFilter(value: string) {\r\n    this._listFilter = value;\r\n    this.filteredProducts = this.listFilter ? this.performFilter(this.listFilter) : this.products;\r\n\r\n  }\r\n\r\n  filteredProducts: IProduct[];\r\n  products: IProduct[] = [];\r\n\r\n  constructor(private productService: ProductService) {\r\n    this.listFilter = 'cart';\r\n  }\r\n\r\n  OnRatingClicked(message: string): void {\r\n    this.pageTitle = `Product list: ${message}`;\r\n  }\r\n\r\n  performFilter(filterBy: string): IProduct[] {\r\n    filterBy = filterBy.toLocaleLowerCase();\r\n    return this.products.filter((product: IProduct) =&gt;\r\n      product.productName.toLocaleLowerCase().indexOf(filterBy) !== -1);\r\n  }\r\n\r\n  toggleImage(): void {\r\n    this.showImage = !this.showImage;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log('OnInit');\r\n    this.filteredProducts = this.products;\r\n    this.products = this.productService.getProducts();\r\n  }\r\n}\r\n\r\n\r\n// product service\r\nimport {\r\n  Injectable\r\n} from '@angular/core';\r\nimport {\r\n  IProduct\r\n} from './product';\r\n\r\n@injectable({\r\n  providedIn: 'root'\r\n});\r\n\r\nexport class ProductService {\r\n\r\n  getProducts(): IProduct[] {\r\n    return [{\r\n        \"productId\": 1,\r\n        \"productName\": \"Leaf Rake\",\r\n        \"productCode\": \"GDN-0011\",\r\n        \"releaseDate\": \"March 19, 2016\",\r\n        \"description\": \"Leaf rake with 48-inch wooden handle.\",\r\n        \"price\": 19.95,\r\n        \"starRating\": 3.2,\r\n        \"imageUrl\": \"https://openclipart.org/image/300px/svg_to_png/26215/Anonymous_Leaf_Rake.png\"\r\n      },\r\n      {\r\n        \"productId\": 2,\r\n        \"productName\": \"Garden Cart\",\r\n        \"productCode\": \"GDN-0023\",\r\n        \"releaseDate\": \"March 18, 2016\",\r\n        \"description\": \"15 gallon capacity rolling garden cart\",\r\n        \"price\": 32.99,\r\n        \"starRating\": 4.2,\r\n        \"imageUrl\": \"https://openclipart.org/image/300px/svg_to_png/58471/garden_cart.png\"\r\n      },\r\n      {\r\n        \"productId\": 5,\r\n        \"productName\": \"Hammer\",\r\n        \"productCode\": \"TBX-0048\",\r\n        \"releaseDate\": \"May 21, 2016\",\r\n        \"description\": \"Curved claw steel hammer\",\r\n        \"price\": 8.9,\r\n        \"starRating\": 4.8,\r\n        \"imageUrl\": \"https://openclipart.org/image/300px/svg_to_png/73/rejon_Hammer.png\"\r\n      },\r\n      {\r\n        \"productId\": 8,\r\n        \"productName\": \"Saw\",\r\n        \"productCode\": \"TBX-0022\",\r\n        \"releaseDate\": \"May 15, 2016\",\r\n        \"description\": \"15-inch steel blade hand saw\",\r\n        \"price\": 11.55,\r\n        \"starRating\": 3.7,\r\n        \"imageUrl\": \"https://openclipart.org/image/300px/svg_to_png/27070/egore911_saw.png\"\r\n      },\r\n      {\r\n        \"productId\": 10,\r\n        \"productName\": \"Video Game Controller\",\r\n        \"productCode\": \"GMG-0042\",\r\n        \"releaseDate\": \"October 15, 2015\",\r\n        \"description\": \"Standard two-button video game controller\",\r\n        \"price\": 35.95,\r\n        \"starRating\": 4.6,\r\n        \"imageUrl\": \"https://openclipart.org/image/300px/svg_to_png/120337/xbox-controller_01.png\"\r\n      }\r\n    ]\r\n  }\r\n}\r\n\r\n// product interface\r\nexport interface IProduct {\r\n  productId: number;\r\n  productName: string;\r\n  productCode: string;\r\n  releaseDate: string;\r\n  description: string;\r\n  price: number;\r\n  starRating: number;\r\n  imageUrl: string;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angular", "typescript", "frontend", "ng-bootstrap"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1534908438, "post_id": 51959167, "comment_id": 90869214, "body": "can you add your code in stackblitz"}, {"owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "edited": false, "score": 0, "creation_date": 1534909372, "post_id": 51959167, "comment_id": 90869409, "body": "Your template code inside ng-template. Where you are inserting into the DOM?"}, {"owner": {"reputation": 241, "user_id": 6267870, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/68e0c12f567ae1d345ed9da19c85247d?s=128&d=identicon&r=PG&f=1", "display_name": "Pippy Longstocking", "link": "https://stackoverflow.com/users/6267870/pippy-longstocking"}, "reply_to_user": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "edited": false, "score": 0, "creation_date": 1534944922, "post_id": 51959167, "comment_id": 90886455, "body": "@SureshKumarAriya your comment gave me the hint I needed - I have to get the template with TemplateRef like so: @ViewChild(&#39;content&#39;) content: TemplateRef&lt;Object&gt;;   found at <a href=\"https://stackoverflow.com/questions/42567236/viewchildren-for-ng-template\" title=\"viewchildren for ng template\">stackoverflow.com/questions/42567236/&hellip;</a>. However this only gets the template itself #content (see the template code above) - now that I have the template, how do I get the children of the template, specifically #submitButton????"}, {"owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "edited": false, "score": 0, "creation_date": 1534954866, "post_id": 51959167, "comment_id": 90892830, "body": "You need to get ElementRef using @ViewChild(&#39;content&#39;, {read: ElementRef}) content: ElementRef;. Then you can query the inner child elements using querySelector. this.content.nativeElement.querySelector(&#39;.btn-classname&#39;). You need to assign unique class name to the button."}, {"owner": {"reputation": 241, "user_id": 6267870, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/68e0c12f567ae1d345ed9da19c85247d?s=128&d=identicon&r=PG&f=1", "display_name": "Pippy Longstocking", "link": "https://stackoverflow.com/users/6267870/pippy-longstocking"}, "reply_to_user": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "edited": false, "score": 1, "creation_date": 1534963766, "post_id": 51959167, "comment_id": 90897057, "body": "@SureshKumarAriya I did what you specified and getting &quot;HeaderComponent.html:61 ERROR TypeError: this.content.nativeElement.querySelector is not a function&quot; : @ViewChild(&#39;content&#39;, {read: ElementRef}) content: ElementRef; - when i console.log(this.content); I see ElementRef {nativeElement: comment} but querySelector is not part of the object...."}, {"owner": {"reputation": 552, "user_id": 10069848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff64f056e636f925dbf03f5c0343064?s=128&d=identicon&r=PG&f=1", "display_name": "iBlehhz", "link": "https://stackoverflow.com/users/10069848/iblehhz"}, "edited": false, "score": 0, "creation_date": 1568278579, "post_id": 51959167, "comment_id": 102226403, "body": "any updates on this?"}, {"owner": {"reputation": 870, "user_id": 1718312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24ff867356f9cb691caec7642c49cb7d?s=128&d=identicon&r=PG", "display_name": "Shafiq Jetha", "link": "https://stackoverflow.com/users/1718312/shafiq-jetha"}, "edited": false, "score": 0, "creation_date": 1595432726, "post_id": 51959167, "comment_id": 111474532, "body": "Could it be because the modal is conditional? This answer seems to suggest that if it&#39;s hidden by something, it won&#39;t resolve: <a href=\"https://stackoverflow.com/a/52540563/1718312\">stackoverflow.com/a/52540563/1718312</a>"}], "owner": {"reputation": 241, "user_id": 6267870, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/68e0c12f567ae1d345ed9da19c85247d?s=128&d=identicon&r=PG&f=1", "display_name": "Pippy Longstocking", "link": "https://stackoverflow.com/users/6267870/pippy-longstocking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1993, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571231540, "creation_date": 1534905497, "last_edit_date": 1571231540, "question_id": 51959167, "link": "https://stackoverflow.com/questions/51959167/angula6-viewchild-in-ng-bootstrap-ng-bootstrap-ngbmodalmodule-modal-returns-und", "title": "Angula6 ViewChild in @ng-bootstrap/ng-bootstrap NgbModalModule modal returns undefined", "body": "<p>I am successfully using ng bootstrap and specifically the modal module to show a modal form. It is a contact form that has email and message input fields and a submit button. The ngbootstrap module I am using is <a href=\"https://ng-bootstrap.github.io/#/components/modal/examples\" rel=\"nofollow noreferrer\">https://ng-bootstrap.github.io/#/components/modal/examples</a> this shows fine. What I am trying to do is that when user clicks on the 'send' button (see template code below) the button will become disabled and say 'sending...'. In other words I'm trying to manipulate the  properties view the modal component. </p>\n\n<p>I have already looked at the following questions but none of the suggestions work: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/34947154/angular-2-viewchild-annotation-returns-undefined\">Angular 2 @ViewChild annotation returns undefined</a>\n<a href=\"https://stackoverflow.com/questions/39908967/how-to-get-reference-of-the-component-associated-with-elementref-in-angular-2/39909203#39909203\">How to get reference of the component associated with ElementRef in Angular 2</a></p>\n\n<p>However no matter what, I get 'undefined' when I try to use in my component</p>\n\n<pre><code>@ViewChild('submitButton') submitButton: ElementRef;\n</code></pre>\n\n<p>along with this html in my template</p>\n\n<pre><code>&lt;button #submitButton\n   id=\"submitButton\"\n   class=\"btn btn-success w-100\"\n   [disabled]=\"!contactForm.valid\"\n&gt;Send&lt;/button&gt;\n</code></pre>\n\n<p>Here is the full component code (the place where I am trying to access the submitButton is in method <code>onSubmit()</code>):</p>\n\n<pre><code>import {\n    Component,\n    OnInit,\n    Renderer2,\n    ViewChild,\n    ElementRef,\n    AfterViewInit\n} from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\n\nimport { ContactService } from '../../services/contact.service';\n\n@Component({\n    selector: 'app-contact-modal',\n    templateUrl: './contact-modal.component.html'\n})\nexport class ContactModalComponent implements OnInit, AfterViewInit {\n\n    closeResult: string;\n    contactForm: FormGroup;\n    //@ViewChild('submitButton') submitButton;\n    @ViewChild('submitButton') submitButton: ElementRef;\n\n    constructor(\n        private modalService: NgbModal,\n        private contactService: ContactService,\n        private renderer: Renderer2\n    ) { }\n\n    ngOnInit() {\n        this.initForm();\n    }\n\n    ngAfterViewInit() {\n        console.log(this.submitButton);\n    }\n\n    private getDismissReason(reason: any): string {\n        if (reason === ModalDismissReasons.ESC) {\n          return 'by pressing ESC';\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n          return 'by clicking on a backdrop';\n        } else {\n          return  `with: ${reason}`;\n        }\n    }\n\n    private initForm() {\n        const email = '';\n        const message = '';\n\n        this.contactForm = new FormGroup({\n            email: new FormControl(null, Validators.email),\n            message: new FormControl(null, Validators.required)\n        });\n    }\n\n    onSubmit() {\n\n        const email = this.contactForm.value.email;\n        const message = this.contactForm.value.message;\n\n        // at this point this.submitButton is UNDEFINED\n        console.log(this.submitButton);\n\n        //this.submitButton.nativeElement.style.backgroundColor = 'black';\n\n        this.contactService.sendContactRequest(email, message, (submitSuccess: boolean) =&gt; {\n            if (submitSuccess) {\n\n                console.log('SUCCESS UPDATE UI');\n                this.contactForm.value.email = '';\n                this.contactForm.value.message = '';\n\n            } else {\n                console.log('ERROR update UI');\n            }\n        });\n    }\n\n    open(content) {\n        console.log('in open func');\n        this.modalService.open(content, {ariaLabelledBy: 'modal-basic-title'})\n        .result\n        .then(\n            (result) =&gt; {\n                console.log(`Closed with: ${result}`);\n            },\n            (reason) =&gt; {\n                console.log(`Dismissed ${this.getDismissReason(reason)}`);\n            }\n        );\n    }\n}\n</code></pre>\n\n<p>Here is my full template:</p>\n\n<pre><code>&lt;a\n    class=\"nav-link\"\n    (click)=\"open(content)\"\n&gt;&lt;i class=\"fas fa-envelope\"&gt;&lt;/i&gt;&lt;/a&gt;\n\n&lt;ng-template #content let-c=\"close\" let-d=\"dismiss\"&gt;\n\n    &lt;div class=\"modal-header\"&gt;\n        &lt;h4 class=\"modal-title\" id=\"modal-basic-title\"&gt;Contact Us&lt;/h4&gt;\n        &lt;button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"c()\"&gt;\n          &lt;i class=\"fas fa-times\"&gt;&lt;/i&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"modal-body\"&gt;\n\n        &lt;form [formGroup]=\"contactForm\" (ngSubmit)=\"onSubmit()\"&gt;\n\n            &lt;div class=\"row justify-content-center\"&gt;\n\n                &lt;div class=\"col-md-12 col-sm-12\"&gt;\n                    &lt;div class=\"form-group\"&gt;\n                        &lt;label for=\"email\"&gt;Email&lt;/label&gt;\n                        &lt;input\n                            type=\"text\"\n                            class=\"form-control\"\n                            id=\"email\"\n                            formControlName=\"email\"\n                        &gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n\n            &lt;div class=\"row justify-content-center\"&gt;\n\n                &lt;div class=\"col-md-12 col-sm-12\"&gt;\n                    &lt;div class=\"form-group\"&gt;\n                        &lt;label for=\"message\"&gt;Message&lt;/label&gt;\n                        &lt;textarea\n                            type=\"text\"\n                            class=\"form-control\"\n                            id=\"message\"\n                            formControlName=\"message\"\n                            rows=\"6\"\n                        &gt;&lt;/textarea&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n\n            &lt;div class=\"row justify-content-center\"&gt;\n\n                &lt;div class=\"col-md-12 col-sm-12\"&gt;\n                    &lt;button #submitButton\n                        id=\"submitButton\"\n                        class=\"btn btn-success w-100\"\n                        [disabled]=\"!contactForm.valid\"\n                    &gt;Send&lt;/button&gt;\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"col-md-12 col-sm-12\"&gt;\n                    &lt;div *ngIf=\"sentMessage\" class=\"alert alert-success\" role=\"alert\"&gt;\n                        {{ sentMessage }}\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n        &lt;/form&gt;\n\n    &lt;/div&gt;\n\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["javascript", "typescript", "vue.js", "vuejs2"], "answers": [{"comments": [{"owner": {"reputation": 877, "user_id": 10257395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d94cb9d234adb93da6cfed66ef899f4b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuru", "link": "https://stackoverflow.com/users/10257395/kuru"}, "edited": false, "score": 0, "creation_date": 1534905322, "post_id": 51959056, "comment_id": 90868573, "body": "Oh my gosh. You are a genius.I tried this , and it was deep copied correctly with no console error.Thank you so much!!!!!"}, {"owner": {"reputation": 877, "user_id": 10257395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d94cb9d234adb93da6cfed66ef899f4b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuru", "link": "https://stackoverflow.com/users/10257395/kuru"}, "edited": false, "score": 0, "creation_date": 1534906231, "post_id": 51959056, "comment_id": 90868776, "body": "Console error was erased! But I now found out that I forgot to write very important thing. I forgot to write that even with console error , there was no problem in performance. Even with console error message , it was deep copied correctly and it worked properly. But I just wanted to erase the console error."}], "tags": [], "owner": {"reputation": 361, "user_id": 8062794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c59f6659343c5ab4bab1d088ba63f422?s=128&d=identicon&r=PG&f=1", "display_name": "Trick", "link": "https://stackoverflow.com/users/8062794/trick"}, "is_accepted": true, "score": 32, "last_activity_date": 1534904445, "creation_date": 1534904445, "answer_id": 51959056, "question_id": 51958950, "link": "https://stackoverflow.com/questions/51958950/error-message-props-with-type-object-array-must-use-a-factory-function-to-retu/51959056#51959056", "title": "Error message. &quot;Props with type Object/Array must use a factory function to return the default value.&quot;", "body": "<p>according to your console warn, i find the error </p>\n\n<p><a href=\"https://github.com/holiber/sl-vue-tree/blob/master/src/sl-vue-tree.js#L30\" rel=\"noreferrer\">https://github.com/holiber/sl-vue-tree/blob/master/src/sl-vue-tree.js#L30</a></p>\n\n<p>try to fix it like this:</p>\n\n<pre><code>multiselectKey: {\n  type: [String, Array],\n  default: function () {\n    return ['ctrlKey', 'metaKey']\n  },\n  validator: function (value) {\n    let allowedKeys = ['ctrlKey', 'metaKey', 'altKey'];\n    let multiselectKeys = Array.isArray(value) ? value : [value];\n    multiselectKeys = multiselectKeys.filter(keyName =&gt; allowedKeys.indexOf(keyName ) !== -1);\n    return !!multiselectKeys.length;\n  }\n},\n</code></pre>\n\n<p>the component default value must use a factory function to return!</p>\n\n<p>try it and hope it can help you</p>\n"}, {"comments": [{"owner": {"reputation": 1998, "user_id": 2217801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68585b941fb0767728af81b80a18a1e7?s=128&d=identicon&r=PG", "display_name": "Jesse Reza Khorasanee", "link": "https://stackoverflow.com/users/2217801/jesse-reza-khorasanee"}, "edited": false, "score": 1, "creation_date": 1600982064, "post_id": 58094369, "comment_id": 113269656, "body": "Thanks this is the answer I was looking for when searching this question"}, {"owner": {"reputation": 540, "user_id": 2506701, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/inM9O.jpg?s=128&g=1", "display_name": "JotaPardo", "link": "https://stackoverflow.com/users/2506701/jotapardo"}, "edited": false, "score": 0, "creation_date": 1617109707, "post_id": 58094369, "comment_id": 118206936, "body": "Whats is the meaning of ES6?"}], "tags": [], "owner": {"reputation": 2296, "user_id": 8007395, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Qqn2aE5ayME/AAAAAAAAAAI/AAAAAAAACgE/UEYVlSN-RJo/photo.jpg?sz=128", "display_name": "Katinka Hesselink", "link": "https://stackoverflow.com/users/8007395/katinka-hesselink"}, "is_accepted": false, "score": 49, "last_activity_date": 1569401613, "last_edit_date": 1569401613, "creation_date": 1569400494, "answer_id": 58094369, "question_id": 51958950, "link": "https://stackoverflow.com/questions/51958950/error-message-props-with-type-object-array-must-use-a-factory-function-to-retu/58094369#58094369", "title": "Error message. &quot;Props with type Object/Array must use a factory function to return the default value.&quot;", "body": "<p>A factory function in props looks like this:</p>\n\n<pre><code>props: {\n    exampleDefaultObject: {\n        type: Object,\n        default() {\n            return {}\n        }\n    },\n    exampleDefaultArray: {\n        type: Array,\n        default() {\n            return []\n        }\n    }\n},\n</code></pre>\n\n<p>or in ES6:</p>\n\n<pre><code>props: {\n    exampleDefaultObject: {\n        type: Object,\n        default: () =&gt; ({})\n    },\n    exampleDefaultArray: {\n        type: Array,\n        default: () =&gt; []\n    }\n},\n</code></pre>\n\n<p>(for people who come here looking for an explanation of the error in the question 'props with type object/array must use a factory function to return the default value')</p>\n\n<p>Note that when returning an object in an es6 arrow function, you need the parentheses: <code>() =&gt; ({})</code> instead of <code>() =&gt; {}</code></p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 13031003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a578a01f53cc214252032a4b93101d14?s=128&d=identicon&r=PG&f=1", "display_name": "Yogesh Vadekar", "link": "https://stackoverflow.com/users/13031003/yogesh-vadekar"}, "is_accepted": false, "score": 0, "last_activity_date": 1602746636, "last_edit_date": 1602746636, "creation_date": 1602745937, "answer_id": 64366552, "question_id": 51958950, "link": "https://stackoverflow.com/questions/51958950/error-message-props-with-type-object-array-must-use-a-factory-function-to-retu/64366552#64366552", "title": "Error message. &quot;Props with type Object/Array must use a factory function to return the default value.&quot;", "body": "<p>In TS format in my class component I have used it similarly as follows. It solved my error.\nThanks to <a href=\"https://stackoverflow.com/users/8062794/trick\">Trick</a> &amp; <a href=\"https://stackoverflow.com/users/8007395/katinka-hesselink\">Katinka</a> for solution above!</p>\n<pre><code>@Prop({default(){return []}}) private markerList!: Array&lt;markerType&gt;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7720, "user_id": 571410, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jld5i.png?s=128&g=1", "display_name": "Luca C.", "link": "https://stackoverflow.com/users/571410/luca-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1616769034, "last_edit_date": 1616769034, "creation_date": 1615800399, "answer_id": 66635348, "question_id": 51958950, "link": "https://stackoverflow.com/questions/51958950/error-message-props-with-type-object-array-must-use-a-factory-function-to-retu/66635348#66635348", "title": "Error message. &quot;Props with type Object/Array must use a factory function to return the default value.&quot;", "body": "<p>these cases require a function than produce the default value, not an object or array:</p>\n<pre><code>obj_param:{\n        type:Object,\n        default:()=&gt;{}\n},\narray_param:{\n        type:Array,\n        default:()=&gt;[]\n},\n</code></pre>\n<p>this is for performance reasons, since the function is called only if needed (no value so use default), while the direct value would be instantiated everytime the component is used</p>\n"}], "owner": {"reputation": 877, "user_id": 10257395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d94cb9d234adb93da6cfed66ef899f4b?s=128&d=identicon&r=PG&f=1", "display_name": "Kuru", "link": "https://stackoverflow.com/users/10257395/kuru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24486, "favorite_count": 3, "accepted_answer_id": 51959056, "answer_count": 4, "score": 27, "last_activity_date": 1616769034, "creation_date": 1534903509, "last_edit_date": 1549398769, "question_id": 51958950, "link": "https://stackoverflow.com/questions/51958950/error-message-props-with-type-object-array-must-use-a-factory-function-to-retu", "title": "Error message. &quot;Props with type Object/Array must use a factory function to return the default value.&quot;", "body": "<p>I am using Vue-Cli3.0. I used this module for Vue.js. <a href=\"https://github.com/holiber/sl-vue-tree\" rel=\"noreferrer\">https://github.com/holiber/sl-vue-tree</a></p>\n\n<p>This is a customizable draggable tree component for Vue.js but I found that it could not copy functions of object.</p>\n\n<p><a href=\"https://github.com/holiber/sl-vue-tree/blob/master/src/sl-vue-tree.js#L715\" rel=\"noreferrer\">https://github.com/holiber/sl-vue-tree/blob/master/src/sl-vue-tree.js#L715</a></p>\n\n<p>Because of here.</p>\n\n<pre><code>JSON.parse(JSON.stringify(entity))\n</code></pre>\n\n<p>So I used this module and edited the copy function.</p>\n\n<p><a href=\"https://www.npmjs.com/package/clone\" rel=\"noreferrer\">https://www.npmjs.com/package/clone</a></p>\n\n<pre><code>var clone = require('clone');\n\ncopy(entity) {\n    return clone(entity)\n},\n</code></pre>\n\n<p>In this way, the function of the object is correctly copied.</p>\n\n<p>I already have tested it, and it worked correctly. There was no problem with the performance but I got a console error.</p>\n\n<pre><code>[Vue warn]: Invalid default value for prop \"multiselectKey\": Props with type Object/Array must use a factory function to return the default value.\n\nfound in\n\n---&gt; &lt;SlVueTree&gt; \n</code></pre>\n\n<p>I want to know the way to erase this error.\nThank you for reading my question.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 424, "user_id": 2392951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cd43e8d78f05c19c24c8244a625bcdc?s=128&d=identicon&r=PG", "display_name": "diouze", "link": "https://stackoverflow.com/users/2392951/diouze"}, "edited": false, "score": 2, "creation_date": 1534902162, "post_id": 51958778, "comment_id": 90867954, "body": "What are supposed to be StartDate and StarTime, same with EndDate and EndTime?"}, {"owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "reply_to_user": {"reputation": 424, "user_id": 2392951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cd43e8d78f05c19c24c8244a625bcdc?s=128&d=identicon&r=PG", "display_name": "diouze", "link": "https://stackoverflow.com/users/2392951/diouze"}, "edited": false, "score": 0, "creation_date": 1534904506, "post_id": 51958778, "comment_id": 90868422, "body": "@diouze All 4 of them are simply Date types in typescript. StartDate has a date that actually matters and a time that does not such as 00:00:00, StartTime has a time that actually matters and date that does not such as 1/1/0001."}], "answers": [{"tags": [], "owner": {"reputation": 5090, "user_id": 2827960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSZPd.jpg?s=128&g=1", "display_name": "C&#249; \u0110\u1ee9c Hi\u1ebfu", "link": "https://stackoverflow.com/users/2827960/c%c3%b9-%c4%90%e1%bb%a9c-hi%e1%ba%bfu"}, "is_accepted": true, "score": 1, "last_activity_date": 1534909040, "creation_date": 1534909040, "answer_id": 51959524, "question_id": 51958778, "link": "https://stackoverflow.com/questions/51958778/taking-the-date-from-one-date-and-the-time-from-another-date-and-merging-into-a/51959524#51959524", "title": "Taking the date from one date and the time from another date and merging into a single date in Typescript", "body": "<p>Isn't this not enough?</p>\n\n<pre><code>// Prepare mock data\nconst startDate: Date = new Date();\nconst startTime: Date = new Date();\nconst endDate: Date = new Date();\nconst endTime: Date = new Date();\n\n// Doing merge\nconst start: Date = new Date(startDate);\nstart.setHours(startTime.getHours(), startTime.getMinutes(), startTime.getSeconds(), startTime.getMilliseconds());\n\nconst end: Date = new Date(endDate);\nstart.setHours(endTime.getHours(), endTime.getMinutes(), endTime.getSeconds(), endTime.getMilliseconds());\n</code></pre>\n"}], "owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 51959524, "answer_count": 1, "score": 0, "last_activity_date": 1534909040, "creation_date": 1534901984, "question_id": 51958778, "link": "https://stackoverflow.com/questions/51958778/taking-the-date-from-one-date-and-the-time-from-another-date-and-merging-into-a", "title": "Taking the date from one date and the time from another date and merging into a single date in Typescript", "body": "<p>I have four fields that are of type Date in typescript:</p>\n\n<p>StartDate<br>\nStartTime<br>\nEndDate<br>\nEndTime</p>\n\n<p>I need to merge the StartDate with the StartTime into a field called Start and the EndDate with the EndTime into a field called End.</p>\n\n<p>I tried doing it this way and it is not working:</p>\n\n<pre><code>  start: new Date(e.startDate).setTime(e.startTime.getTime()),  \n  end: new Date(e.endDate).setTime(e.endTime.getTime()),\n</code></pre>\n"}, {"tags": ["c#", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 0, "creation_date": 1534899080, "post_id": 51958436, "comment_id": 90867390, "body": "<code>.map(object =&gt; newObject)</code>?"}, {"owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "reply_to_user": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 0, "creation_date": 1534899201, "post_id": 51958436, "comment_id": 90867412, "body": "@John don&#39;t think that will work The object coming from the server has two properties that need to be broken down into four properties."}, {"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 0, "creation_date": 1534899602, "post_id": 51958436, "comment_id": 90867485, "body": "If <code>.map()</code> doesn&#39;t work for you, you might need to clarify your situation a little more. I&#39;ve added an example of map in case it helps."}], "answers": [{"tags": [], "owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "is_accepted": true, "score": 1, "last_activity_date": 1534900187, "last_edit_date": 1534900187, "creation_date": 1534899569, "answer_id": 51958561, "question_id": 51958436, "link": "https://stackoverflow.com/questions/51958436/mapping-what-is-returned-from-the-server-to-an-typescript-type-in-an-angular-ser/51958561#51958561", "title": "Mapping what is returned from the server to an typescript type in an Angular Service", "body": "<p>I don't know how you plan to mutate your data, so I'll give my own example:</p>\n\n<pre><code>[{\n    id: 1,\n    name: \"John\"\n}]\n</code></pre>\n\n<p>Data model (Angular):</p>\n\n<pre><code>export class Person {\n    public id: Number;\n    public name: string;\n    public idName: string;\n}\n</code></pre>\n\n<p>Service code:</p>\n\n<pre><code>getEvents(): Observable&lt;Event[]&gt; {\n    return this.http.get&lt;any[]&gt;(this.eventsUrl).map&lt;any[], Person[]&gt;(o =&gt; {\n        let result = [];\n        for (let item of o) {\n            let p: Person = {\n                id: item.id,\n                name: item.name,\n                idName: item.id + \": \" + item.name\n            };\n            result.push(p);\n        }\n        return result;\n    });\n}\n</code></pre>\n\n<p>I've not tested it, but something like this will manipulate the data returned.</p>\n"}], "owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 51958561, "answer_count": 1, "score": 0, "last_activity_date": 1534900187, "creation_date": 1534898360, "question_id": 51958436, "link": "https://stackoverflow.com/questions/51958436/mapping-what-is-returned-from-the-server-to-an-typescript-type-in-an-angular-ser", "title": "Mapping what is returned from the server to an typescript type in an Angular Service", "body": "<p>I am receiving an array of type Event from the server.</p>\n\n<pre><code>public int Id { get; set; }\npublic string Name { get; set; }\npublic DateTime Start { get; set; }\npublic DateTime End { get; set; }\n</code></pre>\n\n<p>In Angular and TypeScript I need to convert to the following class since I have 4 separate pickers in the UI (2 date pickers, 2 time pickers):</p>\n\n<pre><code>  id: number;\n  name: string;\n  startDate: Date;\n  startTime: Date;\n  endDate: Date;\n  endDatetime: Date;\n</code></pre>\n\n<p>How can I change the following in my event.service.ts to do this mapping with custom code then allow my component to simply subscribe to it?</p>\n\n<pre><code>  getEvents(): Observable&lt;Event[]&gt; {\n    return this.http.get&lt;Event[]&gt;(this.eventsUrl);\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3786, "user_id": 3131085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46eb34957e6fdc051e365e5853aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jason White", "link": "https://stackoverflow.com/users/3131085/jason-white"}, "edited": false, "score": 0, "creation_date": 1534894786, "post_id": 51957834, "comment_id": 90866552, "body": "for the first issue, pass in <code>value</code> instead of <code>values</code> in <code>(click)=toggleChange(values)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 8808994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8afd4ac1fd889ab160d10fac86b1aa68?s=128&d=identicon&r=PG&f=1", "display_name": "hlatimer", "link": "https://stackoverflow.com/users/8808994/hlatimer"}, "is_accepted": false, "score": 1, "last_activity_date": 1534894993, "creation_date": 1534894993, "answer_id": 51958099, "question_id": 51957834, "link": "https://stackoverflow.com/questions/51957834/button-to-toggle-single-list-value-in-angular-2/51958099#51958099", "title": "Button to toggle single list value in Angular 2", "body": "<p>I resolved the issue by adding an index to the <code>*ngFor</code> method in the table row and passing the index to the <code>toggleChange()</code> method in my component.</p>\n\n<pre><code>&lt;tr *ngFor= 'let value of values; let i = index' &gt;\n                    &lt;td class = \"align-left\"  &gt;{{value.binId}}&lt;/td&gt;\n                    &lt;td &gt;\n                        &lt;button type=\"button\" class=\"btn btn-primary\" name='excludeMrbxfer' \n                        [(ngModel)] = \"values.excludeMrbxfer\" (click)='toggleChange(values,i)'&gt;\n                        {{value.excludeMrbxfer | yesNo}}&lt;/button&gt;  \n                    &lt;/td&gt;`enter code here`\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 8808994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8afd4ac1fd889ab160d10fac86b1aa68?s=128&d=identicon&r=PG&f=1", "display_name": "hlatimer", "link": "https://stackoverflow.com/users/8808994/hlatimer"}, "edited": false, "score": 0, "creation_date": 1534896243, "post_id": 51958110, "comment_id": 90866864, "body": "I used an index in the ngFor loop to get it to work but this is a better solution. thanks for the help!"}], "tags": [], "owner": {"reputation": 3786, "user_id": 3131085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46eb34957e6fdc051e365e5853aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jason White", "link": "https://stackoverflow.com/users/3131085/jason-white"}, "is_accepted": true, "score": 3, "last_activity_date": 1534895121, "creation_date": 1534895121, "answer_id": 51958110, "question_id": 51957834, "link": "https://stackoverflow.com/questions/51957834/button-to-toggle-single-list-value-in-angular-2/51958110#51958110", "title": "Button to toggle single list value in Angular 2", "body": "<p>In your template you looping over the <code>values</code> array with <code>*ngFor=\"let value of values\"</code>.  Therefore you can pass in each value to <code>(click)=\"toggleChange(value)\"</code> instead of the whole array of <code>values</code>.</p>\n\n<pre><code>&lt;td&gt; \n    {{value.excludeMrbxfer | yesNo}}\n    &lt;button type=\"button\" class=\"btn btn-primary\" name=\"excludeMrbxfer\" \n            [(ngModel)] = \"value.excludeMrbxfer\" (click)=\"toggleChange(value)\"&gt;\n        {{value.excludeMrbxfer | yesNo}}\n    &lt;/button&gt;  \n&lt;/td&gt;\n</code></pre>\n\n<p>Now in your <code>toggleChange()</code> function you'll have just a single value.</p>\n\n<pre><code>toggleChange(value: any) {\n  if (value.excludeMrbxfer === 1) {\n    value.excludeMrbxfer = 0;\n  } else if (value.excludeMrbxfer === 0) {\n     value.excludeMrbxfer = 1;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 8808994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8afd4ac1fd889ab160d10fac86b1aa68?s=128&d=identicon&r=PG&f=1", "display_name": "hlatimer", "link": "https://stackoverflow.com/users/8808994/hlatimer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "accepted_answer_id": 51958110, "answer_count": 2, "score": 1, "last_activity_date": 1534895121, "creation_date": 1534892742, "last_edit_date": 1534894005, "question_id": 51957834, "link": "https://stackoverflow.com/questions/51957834/button-to-toggle-single-list-value-in-angular-2", "title": "Button to toggle single list value in Angular 2", "body": "<p>My form currently displays a list of entries from a C# API. I want to be able to edit two of the three fields for every line with a button click. The button just Yes/No and changes when clicked. In the background, it should change values.excludeMrbxfer from 0 to 1 (I made a custom pipe to make it say Yes for 1 and No for 0) or vice versa. This is currently how I am displaying my list with the button. </p>\n\n<pre><code>&lt;tr *ngFor= 'let value of values' &gt;\n    &lt;td class = \"align-left\"  &gt;{{value.binId}}&lt;/td&gt;\n    &lt;td &gt; {{value.excludeMrbxfer | yesNo}}\n                        &lt;button type=\"button\" class=\"btn btn-primary\" name='excludeMrbxfer' \n                        [(ngModel)] = \"values.excludeMrbxfer\" (click)='toggleChange(values)'&gt;\n                        {{value.excludeMrbxfer | yesNo}}&lt;/button&gt;  \n    &lt;/td&gt;\n&lt;/tr&gt; \n</code></pre>\n\n<p>My issue is that whenever I click my button it changes the values for all the list items in the table. the desired functionality is to just change the state of one list item.</p>\n\n<p>My second issue related to this matter is that in my <code>toggleChange()</code> method I have to explicitly call out which element in the json array I want to edit for it to work. The same issue as before arises in that I end up changing all the <code>values.ecludeMrbxfer</code> values when I just want to change one. Here is what is in my component for the <code>toggleChange()</code> method</p>\n\n<pre><code>toggleChange(values: any) {\n  if (values[0].excludeMrbxfer === 1) {\n    values[0].excludeMrbxfer = 0;\n  } else if (values[0].excludeMrbxfer === 0) {\n     values[0].excludeMrbxfer = 1;\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "image", "api", "typescript", "download"], "comments": [{"owner": {"reputation": 427, "user_id": 3546642, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/38cfc4c9e1ec179dd7af2f49aa28f45b?s=128&d=identicon&r=PG&f=1", "display_name": "Chad K", "link": "https://stackoverflow.com/users/3546642/chad-k"}, "edited": false, "score": 0, "creation_date": 1534891804, "post_id": 51957352, "comment_id": 90865820, "body": "Might be a base64 encoded image. What API is it and how are you accessing it"}, {"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 2, "creation_date": 1534898179, "post_id": 51957352, "comment_id": 90867213, "body": "This  is a PNG binary being received as a string. Set the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType\" rel=\"nofollow noreferrer\">responseType</a> to blob.."}, {"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1534898343, "post_id": 51957352, "comment_id": 90867251, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45530752/getting-image-from-api-in-angular-4\">Getting Image from API in Angular 4?</a>"}], "owner": {"reputation": 287, "user_id": 8902917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e7193aed20a7868ef387a42fb6dbb9?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Monroy", "link": "https://stackoverflow.com/users/8902917/jorge-monroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534889231, "creation_date": 1534889231, "question_id": 51957352, "link": "https://stackoverflow.com/questions/51957352/image-response-to-blob-file-or-other-resource", "title": "Image response to blob, file or other resource", "body": "<p>I have a strange responde from an external API </p>\n\n<pre><code>ok:true\nstatus:200\nstatusText:\"OK\"\ntype:2\n_body:\"\ufffdPNG\u21b5\u21b5IHDR\ufffdX:\ufffd(\ufffd\ufffdIDATx\ufffd\ufffd6\ufffd\ufffdg\ufffd\ufffdL&amp;\ufffd\ufffds\ufffdI4\ufffd\u0185\ufffdG\\\u0010QTQ#\ufffd\ufffd\ufffdIb\ufffdEp\ufffdw# (\ufffd\n</code></pre>\n\n<p>The body responde is an PNG. \nwhen the API URL is open on a tab the image is well displayed. </p>\n\n<p>The question is: \nHow can I make this image to a File, Blob or something in Typescript to download it. \nOr how using that response make the image download in typescript. </p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-next"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1534900204, "post_id": 51957067, "comment_id": 90867588, "body": "I really wish there were, I miss that from coffeescript as well."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 2, "creation_date": 1534900586, "post_id": 51957067, "comment_id": 90867662, "body": "@JaredSmith True, that&#39;s one of few reasons why I&#39;d go with TS as a transpiler of choice (setting aside types). Just had an answer on related question, <a href=\"https://stackoverflow.com/a/51958460/3731501\">stackoverflow.com/a/51958460/3731501</a> and got curious."}], "answers": [{"comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1534900339, "post_id": 51958571, "comment_id": 90867616, "body": "Thanks! Didn&#39;t know about plugin-transform-typescript. Makes everything a bit simpler."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1534899704, "creation_date": 1534899704, "answer_id": 51958571, "question_id": 51957067, "link": "https://stackoverflow.com/questions/51957067/ecmascript-proposal-for-constructor-parameter-properties/51958571#51958571", "title": "ECMAScript proposal for constructor parameter properties", "body": "<blockquote>\n  <p>Are there proposals or other initiatives for constructor parameter properties in ECMAScript?</p>\n</blockquote>\n\n<p>No. </p>\n\n<blockquote>\n  <p>Are there Babel transforms that support this or similar syntactic sugar?</p>\n</blockquote>\n\n<p>Use <code>typescript</code> transform with babel : <a href=\"https://babeljs.io/docs/en/next/babel-preset-typescript.html\" rel=\"nofollow noreferrer\">https://babeljs.io/docs/en/next/babel-preset-typescript.html</a></p>\n\n<p>OR </p>\n\n<p>Just use <code>typescript</code> by itself as that provides the transform \ud83c\udf39</p>\n"}], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 51958571, "answer_count": 1, "score": 2, "last_activity_date": 1534899704, "creation_date": 1534887685, "question_id": 51957067, "link": "https://stackoverflow.com/questions/51957067/ecmascript-proposal-for-constructor-parameter-properties", "title": "ECMAScript proposal for constructor parameter properties", "body": "<p>In TypeScript, there is convenient syntax, <a href=\"https://www.typescriptlang.org/docs/handbook/classes.html#parameter-properties\" rel=\"nofollow noreferrer\">constructor parameter properties</a>:</p>\n\n<pre><code>constructor(a, public b, private _c) {}\n</code></pre>\n\n<p>Which is syntactic sugar for:</p>\n\n<pre><code>constructor(a, b, _c) {\n  this.b = b;\n  this._c = _c;\n}\n</code></pre>\n\n<p>Considering that there are ECMAScript proposals for other features that previously were specific to TypeScript like <a href=\"https://github.com/tc39/proposal-class-fields\" rel=\"nofollow noreferrer\">class fields and their visibility</a>, it would be reasonable to get parameter properties, too.</p>\n\n<p>Are there proposals or other initiatives for constructor parameter properties in ECMAScript? Are there Babel transforms that support this or similar syntactic sugar?</p>\n\n<p>I weren't able to find any but I assume that different terminology could be used for same functionality.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 3, "creation_date": 1534886884, "post_id": 51956854, "comment_id": 90864456, "body": "Why don&#39;t you just use the <code>left</code> property instead?"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 1, "creation_date": 1534887314, "post_id": 51956854, "comment_id": 90864600, "body": "Why not just cast it to <code>DOMRect</code>? Eg: <code>let rect = button.getBoundingClientRect() as DOMRect;</code>"}, {"owner": {"reputation": 3313, "user_id": 1211184, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c10021f6305b0aed80dc07f2dbd0978b?s=128&d=identicon&r=PG", "display_name": "Shimon S", "link": "https://stackoverflow.com/users/1211184/shimon-s"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534887322, "post_id": 51956854, "comment_id": 90864605, "body": "@MattMcCutchen You are right. I can use it. But I described this situation as an example. [I work in chrome and don&#39;t need to support IE. In console I see that <code>getBoundingClientRect()</code> returns object with <code>x</code> and <code>y</code> and will be happy to use it without getting warnings and errors ]"}, {"owner": {"reputation": 3313, "user_id": 1211184, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c10021f6305b0aed80dc07f2dbd0978b?s=128&d=identicon&r=PG", "display_name": "Shimon S", "link": "https://stackoverflow.com/users/1211184/shimon-s"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1534887585, "post_id": 51956854, "comment_id": 90864688, "body": "@CRice It helps! Can you please explain it? The error was <code>Property &#39;x&#39; does not exist on type &#39;ClientRect | DOMRect&#39;</code> So why does it helps to define it as <code>DOMRect</code>?"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 1, "creation_date": 1534888238, "post_id": 51956854, "comment_id": 90864883, "body": "<code>ClientRect</code> is the half of that union that doesn&#39;t have an <code>x</code> and <code>y</code>. So you can just assert that instead of <code>rect</code> being one of either <code>ClientRect</code> or <code>DOMRect</code>, it is just <code>DOMRect</code>, which does have those properties."}, {"owner": {"reputation": 3313, "user_id": 1211184, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c10021f6305b0aed80dc07f2dbd0978b?s=128&d=identicon&r=PG", "display_name": "Shimon S", "link": "https://stackoverflow.com/users/1211184/shimon-s"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1534889326, "post_id": 51956854, "comment_id": 90865219, "body": "@CRice I thought that <code>Property &#39;x&#39; does not exist on type &#39;ClientRect | DOMRect&#39;</code> means that property <code>x</code> doesn&#39;t  exist neither on <code>ClientRect</code> neither on <code>DOMRect</code>."}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 1, "creation_date": 1534889597, "post_id": 51956854, "comment_id": 90865307, "body": "Not quite, it means that <code>x</code> doesn&#39;t exist on <i>one or the other or both</i>. In this case it is only <code>ClientRect</code> that lacks it. Typescript will actually tell you if this is the case, if you inspect the error in your playground closely, you&#39;ll see it goes on to say: <code>Property &#39;x&#39; does not exist on type &#39;ClientRect&#39;.</code>, meaning that is the only part of the union which lacks it."}], "answers": [{"tags": [], "owner": {"reputation": 6745, "user_id": 152796, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffffd204ecbbae82a04f5b574d76746b?s=128&d=identicon&r=PG", "display_name": "thedayturns", "link": "https://stackoverflow.com/users/152796/thedayturns"}, "is_accepted": false, "score": 2, "last_activity_date": 1534895156, "creation_date": 1534895156, "answer_id": 51958112, "question_id": 51956854, "link": "https://stackoverflow.com/questions/51956854/how-to-calm-down-typescript-compiler/51958112#51958112", "title": "How to calm down TypeScript compiler?", "body": "<p>One way around this problem would be to take advantage of <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">interface merging.</a></p>\n\n<pre><code>interface ClientRect {\n    x: number;\n}\n\nlet button = document.createElement('button');\nbutton.textContent = \"Say Hello\";\ndocument.body.appendChild(button);\nlet rect = button.getBoundingClientRect();\nlet xCoord = rect.x; // no error!\nconsole.log(xCoord);\n</code></pre>\n\n<p>TypeScript will merge together two interfaces with the same name, giving <code>ClientRect</code> an x property. </p>\n"}, {"tags": [], "owner": {"reputation": 2460, "user_id": 10245948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rDQ7r.jpg?s=128&g=1", "display_name": "Hero Wanders", "link": "https://stackoverflow.com/users/10245948/hero-wanders"}, "is_accepted": true, "score": 5, "last_activity_date": 1534933761, "last_edit_date": 1534933761, "creation_date": 1534895853, "answer_id": 51958189, "question_id": 51956854, "link": "https://stackoverflow.com/questions/51956854/how-to-calm-down-typescript-compiler/51958189#51958189", "title": "How to calm down TypeScript compiler?", "body": "<p>When TypeScript infers the type of a variable as <code>A | B</code> it actually means that it does only know the variable to be of type <code>A</code> or <code>B</code> (or something which is assignable to at least one of those).\nConsequently when accessing a variable with such a type it only allows to access properties which are available in both types, as in either case they are present but others may be absent.</p>\n\n<p>On the other hand a variable of type <code>A &amp; B</code> is guaranteed to be of type <code>A</code> <em>and</em> of type <code>B</code>. Therefore the union of all properties you can find in <code>A</code> and <code>B</code> is available.</p>\n\n<p>In your case TypeScript is actually friendly and doesn't hide the fact that in some circumstances <code>x</code> and <code>y</code> might be unavailable. But if you are sure they are, i.e. if you know that your rectangle is a proper <a href=\"https://www.w3.org/TR/geometry-1/#dom-domrect\" rel=\"noreferrer\"><code>DOMRect</code></a> (or <code>DOMRectReadOnly</code>) you may just cast the variable to it:</p>\n\n<pre><code>const rect = elem.getBoundingClientRect() as DOMRect;\n</code></pre>\n\n<p>If you are less sure, a concept named <a href=\"https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html\" rel=\"noreferrer\">type guards</a> might help you to avoid unchecked casts by enabling you to support TypeScript's type inference through providing code doing actual runtime checks.</p>\n\n<pre><code>if ('x' in rect) {\n    // x is unique to DOMRect (ClientRect does not have it)\n    // hence TS now knows rect is of type DOMRect.\n    ...\n}\n</code></pre>\n\n<p>For reference: On Microsoft's TypeScript project on Github you can find the <a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.dom.d.ts\" rel=\"noreferrer\">full DOM API types</a>.</p>\n"}], "owner": {"reputation": 3313, "user_id": 1211184, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c10021f6305b0aed80dc07f2dbd0978b?s=128&d=identicon&r=PG", "display_name": "Shimon S", "link": "https://stackoverflow.com/users/1211184/shimon-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 878, "favorite_count": 0, "accepted_answer_id": 51958189, "answer_count": 2, "score": 2, "last_activity_date": 1534933761, "creation_date": 1534886395, "last_edit_date": 1534892639, "question_id": 51956854, "link": "https://stackoverflow.com/questions/51956854/how-to-calm-down-typescript-compiler", "title": "How to calm down TypeScript compiler?", "body": "<p>Seems that <code>TypeScript</code> is oriented on Microsoft understanding of DOM and JS. What happens if I don't care about IE an Edge? I have problems with TypeScript...</p>\n\n<p>For example. <code>Element.getBoundingClientRect()</code> returns object with <code>x</code> and <code>y</code> properties - in all browsers except IE and Edge (see notes <a href=\"https://caniuse.com/#feat=getboundingclientrect\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>So I have <a href=\"https://www.typescriptlang.org/play/#src=let%20button%20%3D%20document.createElement(&#39;button&#39;)%3B%0D%0Abutton.textContent%20%3D%20%22Say%20Hello%22%3B%0D%0Adocument.body.appendChild(button)%3B%0D%0Alet%20rect%20%3D%20button.getBoundingClientRect()%3B%0D%0Alet%20xCoord%20%3D%20rect.x%3B%0D%0Aconsole.log(xCoord)%3B\" rel=\"nofollow noreferrer\">compilation error</a> <code>TS2339: Property 'x' does not exist on type 'ClientRect | DOMRect'.</code></p>\n\n<p>Can I convince the compiler not to worry about this?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1534884967, "post_id": 51956488, "comment_id": 90863763, "body": "are u able to resolve the dependency  inside constructor itself??"}, {"owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1534885000, "post_id": 51956488, "comment_id": 90863783, "body": "try like this greetingFacade:GreetingFacade;     export class UploadGreetingController {     constructor(     private greetingFacade: GreetingFacade,          ) {     this.greetingFacade=greetingFacade;     }"}, {"owner": {"reputation": 427, "user_id": 10079753, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7gLa7sU2tiQ/AAAAAAAAAAI/AAAAAAAAAAc/rhHtJZI2aQo/photo.jpg?sz=128", "display_name": "Andrey Radkevich", "link": "https://stackoverflow.com/users/10079753/andrey-radkevich"}, "reply_to_user": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1534885494, "post_id": 51956488, "comment_id": 90863967, "body": "greetingFacade:GreetingFacade; this line after constructor ? maybe let greetingFacade:GreetingFacade ??"}, {"owner": {"reputation": 427, "user_id": 10079753, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7gLa7sU2tiQ/AAAAAAAAAAI/AAAAAAAAAAc/rhHtJZI2aQo/photo.jpg?sz=128", "display_name": "Andrey Radkevich", "link": "https://stackoverflow.com/users/10079753/andrey-radkevich"}, "reply_to_user": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1534885519, "post_id": 51956488, "comment_id": 90863972, "body": "Can u send me response pls. how it have to be"}, {"owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1534886607, "post_id": 51956488, "comment_id": 90864360, "body": "I hope you are not using AngularJS , the code looks like so."}, {"owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1534886734, "post_id": 51956488, "comment_id": 90864397, "body": "You can&#39;t use let because that variable is gloabal. the current code will work without any compilation issue , you can use the access modifier(updated the code)"}, {"owner": {"reputation": 427, "user_id": 10079753, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7gLa7sU2tiQ/AAAAAAAAAAI/AAAAAAAAAAc/rhHtJZI2aQo/photo.jpg?sz=128", "display_name": "Andrey Radkevich", "link": "https://stackoverflow.com/users/10079753/andrey-radkevich"}, "reply_to_user": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1534886840, "post_id": 51956488, "comment_id": 90864440, "body": "I can&#39;t declare it like u send me in typescript"}, {"owner": {"reputation": 427, "user_id": 10079753, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7gLa7sU2tiQ/AAAAAAAAAAI/AAAAAAAAAAc/rhHtJZI2aQo/photo.jpg?sz=128", "display_name": "Andrey Radkevich", "link": "https://stackoverflow.com/users/10079753/andrey-radkevich"}, "reply_to_user": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "edited": false, "score": 0, "creation_date": 1534886945, "post_id": 51956488, "comment_id": 90864472, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/178481/discussion-between-andrey-radkevich-and-jemi\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 6494, "user_id": 1668501, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yuQQv.png?s=128&g=1", "display_name": "Code-EZ", "link": "https://stackoverflow.com/users/1668501/code-ez"}, "is_accepted": false, "score": 1, "last_activity_date": 1534886743, "last_edit_date": 1534886743, "creation_date": 1534885764, "answer_id": 51956742, "question_id": 51956488, "link": "https://stackoverflow.com/questions/51956488/access-to-value-from-decoratortypescript/51956742#51956742", "title": "Access to value from decorator(typescript)", "body": "<p>Just declare a property on your class or controller and set the instance to the property inside constructor.</p>\n\n<pre><code>  private greetingFacade:GreetingFacade;\n\n    export class UploadGreetingController {\n    constructor(greetingFacade: GreetingFacade) {\n\n    this.greetingFacade=greetingFacade;\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 10079753, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7gLa7sU2tiQ/AAAAAAAAAAI/AAAAAAAAAAc/rhHtJZI2aQo/photo.jpg?sz=128", "display_name": "Andrey Radkevich", "link": "https://stackoverflow.com/users/10079753/andrey-radkevich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534886743, "creation_date": 1534884497, "question_id": 51956488, "link": "https://stackoverflow.com/questions/51956488/access-to-value-from-decoratortypescript", "title": "Access to value from decorator(typescript)", "body": "<pre><code>export class UploadGreetingController {\nconstructor(\nprivate greetingFacade: GreetingFacade,\n\n) {}\n@UseInterceptors(FileInterceptor('file', {\n    storage: diskStorage({\n        destination: (req: any, file, cb) =&gt; {\n            if (process.env.DEVELOPMENT === 'prod') {\n                return cb(null, `${process.env.DEV_PATH_TO_GREETING_AUDIO}`);\n            }\n            return cb(null, `${process.env.PROD_PATH_TO_GREETING_AUDIO}`);\n        },\n        filename: async (req: any, file, cb) =&gt; {\n            let uuid = await v4();\n            req.params.uuid = uuid;\n            return cb(null, `${uuid}.mp3`);\n        }\n    }),\n    fileFilter: async (req, file: any, cb) =&gt; {\n        let {userId, accountId} = req.user;\n        let {greetingID} = req.params;\n        if (greetingID === 'null' || !greetingID) {\n            req.params.error = 'greeting:youShouldPassGreetingID';\n            return cb(null, false);\n        }\n//HERE I WANT TO GET ACCESS TO this.greetingFacade .How can I make it ?\n            let greetingEntity: any = await this.greetingFacade.getGreetingByUserIdAndAccountIdAndGreetingID(userId, accountId, greetingID);\n            let type = (req.params.type) ? req.params.type : greetingEntity.type;\n            if (type) {\n                let type = (typeof req.params.type === 'string') ? parseInt(req.params.type) : req.params.type;\n                if (type === 2) {\n                    if (!file.originalname.match(/\\.(mp3)$/)) {\n                        return cb(null, false);\n                    }\n                    req.params.error = 'greeting:youShouldPassCorrectAudioFormat';\n                    let deleteGreeting = (greetingEntity.uuid) ?\n                        await this.greetingFacade.deleteAudioFromDisk(`${process.env.DEV_PATH_TO_GREETING_AUDIO}`, greetingEntity.uuid) : null;\n                    return cb(null, file);\n                }\n                return cb(null, false);\n            }\n            return cb(null, false);\n        }\n    }))\n}\n</code></pre>\n\n<p>Above u can see my code. I want to get access to <code>this.greetingFacade</code> value. But inside <code>@UseInterceptors</code> of this decorator it is invisible. How to make it visible( or get access to this value)? It isn't a problem if I don't need to use this <code>private greetingFacade: GreetingFacade</code>this part of a code. But in my case can't make it. Check this snippet of code.</p>\n\n<pre><code>  //HERE I WANT TO GET ACCESS TO this.greetingFacade .How can I make it ?\n</code></pre>\n"}, {"tags": ["json", "angular", "typescript", "angular-httpclient"], "answers": [{"tags": [], "owner": {"reputation": 4159, "user_id": 6052255, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/10153876441400115/picture?type=large", "display_name": "David Anthony Acosta", "link": "https://stackoverflow.com/users/6052255/david-anthony-acosta"}, "is_accepted": true, "score": 3, "last_activity_date": 1534883442, "creation_date": 1534883442, "answer_id": 51956287, "question_id": 51956275, "link": "https://stackoverflow.com/questions/51956275/argument-of-type-object-is-not-assignable-to-parameter-of-type-json-httpclie/51956287#51956287", "title": "Argument of type &#39;Object&#39; is not assignable to parameter of type &#39;JSON&#39; Httpclient GET", "body": "<p>You'll have to cast it:</p>\n\n<pre><code>this.httpClient.get&lt;JSON[]&gt;('http://127.0.0.1:5002/messages/mqtt').subscribe(data =&gt; {\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 5896831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a578ae148f6230c06005eaf591298d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/5896831/cody"}, "is_accepted": false, "score": 0, "last_activity_date": 1534928116, "creation_date": 1534928116, "answer_id": 51963161, "question_id": 51956275, "link": "https://stackoverflow.com/questions/51956275/argument-of-type-object-is-not-assignable-to-parameter-of-type-json-httpclie/51963161#51963161", "title": "Argument of type &#39;Object&#39; is not assignable to parameter of type &#39;JSON&#39; Httpclient GET", "body": "<p>You'll need to convert the data to JSON. \nTry using data.json  as demonstrated below.</p>\n\n<pre><code>getMqttMessages() {\nthis.httpClient.get('http://127.0.0.1:5002/messages/mqtt').subscribe(data =&gt; {\n  this.mqttMessageData.push(data.json);\n  console.log(\"message :\")\n  console.log(this.mqttMessageData.length())\n  console.log(data);\n});\n}\n</code></pre>\n"}], "owner": {"reputation": 1164, "user_id": 7295936, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/822501b2f1352dbb8791e03acafb7685?s=128&d=identicon&r=PG&f=1", "display_name": "FrozzenFinger", "link": "https://stackoverflow.com/users/7295936/frozzenfinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 772, "favorite_count": 0, "accepted_answer_id": 51956287, "answer_count": 2, "score": 2, "last_activity_date": 1534928116, "creation_date": 1534883388, "question_id": 51956275, "link": "https://stackoverflow.com/questions/51956275/argument-of-type-object-is-not-assignable-to-parameter-of-type-json-httpclie", "title": "Argument of type &#39;Object&#39; is not assignable to parameter of type &#39;JSON&#39; Httpclient GET", "body": "<p>Hello i am working on an Angular 6 + Flask application and I have this issue: </p>\n\n<p><code>error TS2345: Argument of type 'Object' is not assignable to parameter of type 'JSON'.</code></p>\n\n<p>when my code does that : </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { MessageService } from '../shared/message.service';\n\n@Component({\n  selector: 'app-network-monitorer',\n  templateUrl: './network-monitorer.component.html',\n  styleUrls: ['./network-monitorer.component.css']\n})\nexport class NetworkMonitorerComponent implements OnInit {\n\n  mqttMessageData : JSON[]=[];\n  coapMessageData : JSON[]=[];\n  xmppMessageData : JSON[]=[];\n\n  constructor(private httpClient: HttpClient, private messageService:MessageService) { }\n\n  ngOnInit() {\n    setInterval(()=&gt;{\n      this.getMqttMessages(); },2000);\n  }\n\n  getMqttMessages() {\n    this.httpClient.get('http://127.0.0.1:5002/messages/mqtt').subscribe(data =&gt; {\n      this.mqttMessageData.push(data);\n      console.log(\"message :\")\n      console.log(this.mqttMessageData.length())\n      console.log(data);\n    });\n  }\n</code></pre>\n\n<p>So basically when the component is loading i make a request to my python server to fetch some data which are returned to the client in JSON, but angular seems to think that 'data' is type of Object so i can't add it to my list of JSON</p>\n"}, {"tags": ["html", "angular", "typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "edited": false, "score": 0, "creation_date": 1535839283, "post_id": 52127117, "comment_id": 91215434, "body": "There is not any typescript method to reverse an array ? Thanks for your answer !"}, {"owner": {"reputation": 139, "user_id": 6431023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MZAUf.jpg?s=128&g=1", "display_name": "theykillimmortal", "link": "https://stackoverflow.com/users/6431023/theykillimmortal"}, "reply_to_user": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "edited": false, "score": 1, "creation_date": 1538032445, "post_id": 52127117, "comment_id": 92002120, "body": "@Sox, yourArray.reverse() <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse\" rel=\"nofollow noreferrer\">docs</a>"}], "tags": [], "owner": {"reputation": 954, "user_id": 2229772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/EGAMx.png?s=128&g=1", "display_name": "Hubert Schumacher", "link": "https://stackoverflow.com/users/2229772/hubert-schumacher"}, "is_accepted": false, "score": 1, "last_activity_date": 1535796942, "creation_date": 1535796942, "answer_id": 52127117, "question_id": 51955758, "link": "https://stackoverflow.com/questions/51955758/mat-select-mat-option-sort-values/52127117#52127117", "title": "mat-select - mat-option sort values", "body": "<p>You should do the sorting either on the database backend side, or as suggested by the Angular team in <a href=\"https://angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe\" rel=\"nofollow noreferrer\">no order-by pipe</a> it should be done inside the component.\nE.g. if your have an array in the component, you could use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow noreferrer\">Array.sort</a></p>\n"}], "owner": {"reputation": 567, "user_id": 7679136, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1vVv35MaFc/AAAAAAAAAAI/AAAAAAAAACY/-2WDlsZ_H-M/photo.jpg?sz=128", "display_name": "Sox -", "link": "https://stackoverflow.com/users/7679136/sox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6761, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1535796942, "creation_date": 1534881100, "last_edit_date": 1535063643, "question_id": 51955758, "link": "https://stackoverflow.com/questions/51955758/mat-select-mat-option-sort-values", "title": "mat-select - mat-option sort values", "body": "<p>I am new to Angular6 and I wanted to know if there is a simple way to do what I want.</p>\n\n<p>I just read documentation and I did not read anything about that, is there a easy way to sort the value in the dropdown ?</p>\n\n<pre><code>&lt;mat-form-field&gt;\n      &lt;mat-select placeholder=\"Code List\" required [(ngModel)]=\"contextScheme.codeListId\"&gt;\n        &lt;mat-option *ngFor=\"let codeList of codeLists\" [value]=\"codeList.codeListId\"&gt;\n            {{codeList.codeListName}}\n        &lt;/mat-option&gt;\n      &lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>Basically the value I have are the values in my DB sorted by id, I want the exact thing but sorted in desc.</p>\n\n<p>Thank in advance.</p>\n\n<p>Sox-.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1534881831, "post_id": 51955906, "comment_id": 90862365, "body": "Relevant <a href=\"https://github.com/Microsoft/TypeScript/blob/v3.0.1/lib/lib.es2015.core.d.ts#L93-L98\" rel=\"nofollow noreferrer\">definition for <code>Function</code> in the <code>lib.es2015.core</code> library</a>"}, {"owner": {"reputation": 157, "user_id": 2059426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f64c825fae2f5c6e30276f606c8c61?s=128&d=identicon&r=PG", "display_name": "mcclaskc", "link": "https://stackoverflow.com/users/2059426/mcclaskc"}, "edited": false, "score": 0, "creation_date": 1534884095, "post_id": 51955906, "comment_id": 90863396, "body": "I like your first solution, that way it&#39;s still truly typed, and not just casting.      Do you think this is worth submitting an issue to the typescript repo?"}, {"owner": {"reputation": 6745, "user_id": 152796, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffffd204ecbbae82a04f5b574d76746b?s=128&d=identicon&r=PG", "display_name": "thedayturns", "link": "https://stackoverflow.com/users/152796/thedayturns"}, "reply_to_user": {"reputation": 157, "user_id": 2059426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f64c825fae2f5c6e30276f606c8c61?s=128&d=identicon&r=PG", "display_name": "mcclaskc", "link": "https://stackoverflow.com/users/2059426/mcclaskc"}, "edited": false, "score": 1, "creation_date": 1534889417, "post_id": 51955906, "comment_id": 90865245, "body": "@mcclaskc yeah, submitting a bug report would be a good idea."}, {"owner": {"reputation": 157, "user_id": 2059426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f64c825fae2f5c6e30276f606c8c61?s=128&d=identicon&r=PG", "display_name": "mcclaskc", "link": "https://stackoverflow.com/users/2059426/mcclaskc"}, "edited": false, "score": 1, "creation_date": 1534892287, "post_id": 51955906, "comment_id": 90865967, "body": "@thedayturns done. referenced your thought regarding <code>Function</code> as well.  <a href=\"https://github.com/Microsoft/TypeScript/issues/26587\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/26587</a>"}], "tags": [], "owner": {"reputation": 6745, "user_id": 152796, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffffd204ecbbae82a04f5b574d76746b?s=128&d=identicon&r=PG", "display_name": "thedayturns", "link": "https://stackoverflow.com/users/152796/thedayturns"}, "is_accepted": true, "score": 4, "last_activity_date": 1534881746, "creation_date": 1534881746, "answer_id": 51955906, "question_id": 51955751, "link": "https://stackoverflow.com/questions/51955751/typescript-compilation-errors-in-weird-scenarios/51955906#51955906", "title": "Typescript compilation errors in weird scenarios", "body": "<p>Not sure exactly what's causing TS to get confused, but here's a wild guess: Maybe this is because <code>Function</code> has a <code>name</code> property in es6, so TypeScript infers that <code>{ name: \"something\" }</code> is an unfinished <code>Function</code> type declaration. </p>\n\n<p>In any case, here are a few ways to fix it.</p>\n\n<p><strong>You can explicitly type the inner object, like this:</strong></p>\n\n<pre><code>type MyObject = {\n  [index:string]: MyObject | Function | \"wtf\"\n}\n\nconst innerMyObject: MyObject = {\n  name: \"wtf\",\n}\n\nconst myObj: MyObject = {\n  wrapper: innerMyObject,\n};\n</code></pre>\n\n<p><strong>Or you can explicitly type the string literal, like this:</strong></p>\n\n<pre><code>type MyObject = {\n  [index:string]: MyObject | Function | \"wtf\"\n}\n\nconst myObj: MyObject = {\n  wrapper: {\n      name: \"wtf\" as \"wtf\",\n  },\n};\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 2059426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f64c825fae2f5c6e30276f606c8c61?s=128&d=identicon&r=PG", "display_name": "mcclaskc", "link": "https://stackoverflow.com/users/2059426/mcclaskc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "accepted_answer_id": 51955906, "answer_count": 1, "score": 1, "last_activity_date": 1534881746, "creation_date": 1534881075, "question_id": 51955751, "link": "https://stackoverflow.com/questions/51955751/typescript-compilation-errors-in-weird-scenarios", "title": "Typescript compilation errors in weird scenarios", "body": "<p>I have a type:</p>\n\n<pre><code>type MyObject = {\n    [index:string]: MyObject | Function | \"wtf\"\n}\n</code></pre>\n\n<p>When I create a variable of this type, it compiles in this basic example:      </p>\n\n<pre><code>// compiles\nconst myObj: MyObject = {\n    name: \"wtf\",\n};\n</code></pre>\n\n<p>As well as with a nested key - note the nested key is <code>notName:</code>, instead of <code>name:</code></p>\n\n<pre><code>// compiles\nconst myObj: MyObject = {\n    wrapper: {\n        notName: \"wtf\",\n    },\n};\n</code></pre>\n\n<p>As soon as I change the nested key to <code>name:</code>, it fails to compile:</p>\n\n<pre><code>/*\nType '{ name: string; }' is not assignable to type 'Function | MyObject | \"wtf\"'.\n  Type '{ name: string; }' is not assignable to type '\"wtf\"'\n\n*/\nconst myObj: MyObject = {\n    wrapper: {\n        name: \"wtf\",\n    },\n};\n</code></pre>\n\n<p>Other weirdness, if I remove <code>Function</code> from the union, it compiles:</p>\n\n<pre><code>type MyObjectNoFunction = {\n    [index:string]: MyObjectNoFunction | \"wtf\"\n}\n\nlet myObjNoFn: MyObjectNoFunction = {\n    wrapper: {\n        name: \"wtf\"\n    }\n};\n</code></pre>\n\n<p>Even more weirdness, if I don't include any libs, like es6, in my tsconfig, everything compiles.</p>\n\n<p>tsconfig:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"lib\": [\n      \"es6\"\n    ],\n    \"noImplicitReturns\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"noUnusedLocals\": true,\n    \"strict\": true\n  }\n}\n</code></pre>\n\n<p>Check out a <a href=\"https://github.com/mcclaskc/wtf-ts\" rel=\"nofollow noreferrer\">full example on github</a></p>\n"}, {"tags": ["json", "typescript"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534881134, "post_id": 51955718, "comment_id": 90862054, "body": "Will there always be a single product?"}, {"owner": {"reputation": 115, "user_id": 6341455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33fee2deccde2aadf412b820fcc9f1cb?s=128&d=identicon&r=PG&f=1", "display_name": "dps", "link": "https://stackoverflow.com/users/6341455/dps"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534882837, "post_id": 51955718, "comment_id": 90862858, "body": "@MattMcCutchen yes."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 6341455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33fee2deccde2aadf412b820fcc9f1cb?s=128&d=identicon&r=PG&f=1", "display_name": "dps", "link": "https://stackoverflow.com/users/6341455/dps"}, "edited": false, "score": 0, "creation_date": 1534881806, "post_id": 51955771, "comment_id": 90862353, "body": "my model is a TS class. This helps , Thank you."}], "tags": [], "owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "is_accepted": true, "score": 0, "last_activity_date": 1534881144, "creation_date": 1534881144, "answer_id": 51955771, "question_id": 51955718, "link": "https://stackoverflow.com/questions/51955718/typescript-convert-json-to-array-of-json/51955771#51955771", "title": "Typescript convert JSON to array of JSON", "body": "<p>Is this <em>actually</em> a TS question?  Not really sure what's <em>really</em> being asked, here.</p>\n\n<p>But if by \"how to convert\" you mean as a TS type:</p>\n\n<p>original</p>\n\n<pre><code>type ProductType = { productName: string, productPrice: string }\ntype Product = { id: string, productType: ProductType }\n</code></pre>\n\n<p>after</p>\n\n<pre><code>type X = { id: string, product: ProductType[] }\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 6341455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33fee2deccde2aadf412b820fcc9f1cb?s=128&d=identicon&r=PG&f=1", "display_name": "dps", "link": "https://stackoverflow.com/users/6341455/dps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 51955771, "answer_count": 1, "score": 0, "last_activity_date": 1534881465, "creation_date": 1534880932, "last_edit_date": 1534881465, "question_id": 51955718, "link": "https://stackoverflow.com/questions/51955718/typescript-convert-json-to-array-of-json", "title": "Typescript convert JSON to array of JSON", "body": "<pre><code>{\n    \"Id\": null,\n    \"productType\": {\n        \"productname\": \"abc\",\n        \"productPrice\": \"\"\n    }\n }\n</code></pre>\n\n<p>How to convert above JSON to array of Product?</p>\n\n<pre><code>{\n    \"Id\": null,\n    \"product\": [{\n        \"productType\": {\n            \"productname\": \"abc\",\n            \"productPrice\": \"\"\n        }\n    }]\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "casting"], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 4697592, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b5875b27572637d808907dfbd8784d0e?s=128&d=identicon&r=PG&f=1", "display_name": "ael", "link": "https://stackoverflow.com/users/4697592/ael"}, "edited": false, "score": 1, "creation_date": 1534880548, "post_id": 51955355, "comment_id": 90861765, "body": "I know an element I registered the event listener on, but I don&#39;t know a type of the element. For example let&#39;s assume it is <code>&lt;canvas&gt;</code> : if I register event listener on a canvas, how to find out the type of that element? Is it <code>Canvas</code> or <code>HTMLCanvasElement</code>, or maybe none of them? Is anywhere any documentation which describes JavaScript classes? I have been looking for it on ( <a href=\"https://developer.mozilla.org\" rel=\"nofollow noreferrer\">developer.mozilla.org</a> ) but I couldn&#39;t find."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 375, "user_id": 4697592, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b5875b27572637d808907dfbd8784d0e?s=128&d=identicon&r=PG&f=1", "display_name": "ael", "link": "https://stackoverflow.com/users/4697592/ael"}, "edited": false, "score": 1, "creation_date": 1534881023, "post_id": 51955355, "comment_id": 90861997, "body": "For &lt;canvas&gt;, if you look at the documentation <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas\" rel=\"nofollow noreferrer\">here</a>, the &quot;DOM interface&quot; is <code>HTMLCanvasElement</code>, and that should generally be the name to use in TypeScript too."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1534879224, "creation_date": 1534879224, "answer_id": 51955355, "question_id": 51955307, "link": "https://stackoverflow.com/questions/51955307/property-innerwidth-does-not-exist-on-type-eventtarget/51955355#51955355", "title": "Property innerWidth does not exist on type EventTarget", "body": "<p>If you know what element you registered the event listener on, then you could cast <code>event.target</code> to that element type.  I don't think there's any more to say than that.  Alternatively, you can directly reference the element you registered the listener on (in this case just the global <code>window</code>) rather than using <code>event.target</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 866, "user_id": 7660259, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cf3148c6a4775cb0d394e1c6a9398595?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/7660259/brandon"}, "is_accepted": false, "score": 10, "last_activity_date": 1584886631, "last_edit_date": 1592644375, "creation_date": 1584886631, "answer_id": 60800415, "question_id": 51955307, "link": "https://stackoverflow.com/questions/51955307/property-innerwidth-does-not-exist-on-type-eventtarget/60800415#60800415", "title": "Property innerWidth does not exist on type EventTarget", "body": "<ol>\n<li><p>A resize event uses the <strong>UIEvent</strong> Interface.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/resize_event\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Window/resize_event</a></p>\n</li>\n<li><p>A UIEvent has a target property which, unfortunately, has no &quot;innerWidth&quot; property. So, instead, we assert the <strong>target</strong> of the event <em><strong>as Window</strong></em></p>\n</li>\n</ol>\n<p>i.e.</p>\n<pre><code>window.addEventListener('resize', (event: UIEvent) =&gt; {\n  const w = event.target as Window; \n  console.log(w.innerWidth) // works!\n});\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 4697592, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b5875b27572637d808907dfbd8784d0e?s=128&d=identicon&r=PG&f=1", "display_name": "ael", "link": "https://stackoverflow.com/users/4697592/ael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2276, "favorite_count": 0, "accepted_answer_id": 51955355, "answer_count": 2, "score": 9, "last_activity_date": 1584886631, "creation_date": 1534879001, "question_id": 51955307, "link": "https://stackoverflow.com/questions/51955307/property-innerwidth-does-not-exist-on-type-eventtarget", "title": "Property innerWidth does not exist on type EventTarget", "body": "<p>When I run a code:</p>\n\n<pre><code>public onResize(event: Event) {\n    console.log(event.target.innerWidth);\n\n    //--solution--\n    //var w = event.target as Window;\n    //console.log(w.innerWidth);\n  }\n</code></pre>\n\n<p>I receive an error:</p>\n\n<pre><code>Property innerWidth does not exist on type EventTarget\n</code></pre>\n\n<p>I would like to avoid extending types in TypeScript (as it is described here <a href=\"https://stackoverflow.com/questions/42066421/property-value-does-not-exist-on-type-eventtarget\">Property &#39;value&#39; does not exist on type &#39;EventTarget&#39;</a> ), so I cast <code>event.target</code> to <code>Window</code> class. I'm not sure if I cast to proper class. Which class should I cast to? How to find out a proper class which should be cast to?</p>\n"}, {"tags": ["html", "angular", "typescript", "svg"], "comments": [{"owner": {"reputation": 427, "user_id": 3546642, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/38cfc4c9e1ec179dd7af2f49aa28f45b?s=128&d=identicon&r=PG&f=1", "display_name": "Chad K", "link": "https://stackoverflow.com/users/3546642/chad-k"}, "edited": false, "score": 0, "creation_date": 1534892068, "post_id": 51955231, "comment_id": 90865887, "body": "It might be an issue where the image isn&#39;t found because of the http vs https encoding. Also, the image might not be found if the home page index.html is different than the router link home. In this case, put the base_url in the image link"}, {"owner": {"reputation": 427, "user_id": 3546642, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/38cfc4c9e1ec179dd7af2f49aa28f45b?s=128&d=identicon&r=PG&f=1", "display_name": "Chad K", "link": "https://stackoverflow.com/users/3546642/chad-k"}, "edited": false, "score": 0, "creation_date": 1534892137, "post_id": 51955231, "comment_id": 90865917, "body": "<a href=\"https://github.com/angular/angular.js/issues/15996\" rel=\"nofollow noreferrer\">github.com/angular/angular.js/issues/15996</a> might be a helpful resource. Again it might be a .htaccess issue"}], "owner": {"reputation": 1, "user_id": 10256400, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DotcQaUXVEQ/AAAAAAAAAAI/AAAAAAAAASg/ACAlMSJrVPs/photo.jpg?sz=128", "display_name": "Austin Barr", "link": "https://stackoverflow.com/users/10256400/austin-barr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534891698, "creation_date": 1534878665, "last_edit_date": 1534891698, "question_id": 51955231, "link": "https://stackoverflow.com/questions/51955231/angular-2-svg-will-not-load-when-using-router-refresh-page-and-it-will-render", "title": "Angular 2 SVG will not load when using router, refresh page and it will render", "body": "<p>I am using svg-icon package and displaying svgs like this : </p>\n\n<pre><code>&lt;svg-icon src=\"./assets/images/pintrest.svg\" [stretch]=\"true\" [svgStyle]=\"{'width.px':30,'fill':'rgb(150,50,255)','padding.px':1,'margin.px':3}\"&gt;\n&lt;/svg-icon&gt;\n</code></pre>\n\n<p>When on Home page they render fine. When routing to my login page icons will not render. Console logs this error: </p>\n\n<pre><code>ERROR TypeError: Object(...) is not a function\n    at SvgIconRegistryService.loadSvg (angular-svg-icon.js:25)\n    at SvgIconComponent.init (angular-svg-icon.js:109)\n    at SvgIconComponent.ngOnChanges (angular-svg-icon.js:93)\n    at checkAndUpdateDirectiveInline (core.js:12407)\n    at checkAndUpdateNodeInline (core.js:13935)\n    at checkAndUpdateNode (core.js:13878)\n    at debugCheckAndUpdateNode (core.js:14771)\n    at debugCheckDirectivesFn (core.js:14712)\n    at Object.eval [as updateDirectives] (FooterComponent.html:12)\n    at Object.debugUpdateDirectives [as updateDirectives] (core.js:14697)\nView_FooterComponent_0 @ FooterComponent.html:12\nproxyClass @ compiler.js:14659\nDebugContext_.logError @ core.js:15038\nErrorHandler.handleError @ core.js:1510\n(anonymous) @ core.js:5925\nZoneDelegate.invoke @ zone.js:388\nZone.run @ zone.js:138\nNgZone.runOutsideAngular @ core.js:4708\nApplicationRef.tick @ core.js:5925\n(anonymous) @ core.js:5751\nZoneDelegate.invoke @ zone.js:388\nonInvoke @ core.js:4760\nZoneDelegate.invoke @ zone.js:387\nZone.run @ zone.js:138\nNgZone.run @ core.js:4577\nnext @ core.js:5751\nschedulerFn @ core.js:4342\nSafeSubscriber.__tryOrUnsub @ Subscriber.js:243\nSafeSubscriber.next @ Subscriber.js:190\nSubscriber._next @ Subscriber.js:131\nSubscriber.next @ Subscriber.js:95\nSubject.next @ Subject.js:56\nEventEmitter.emit @ core.js:4322\ncheckStable @ core.js:4725\nonHasTask @ core.js:4773\nZoneDelegate.hasTask @ zone.js:441\nZoneDelegate._updateTaskCount @ zone.js:461\nZone._updateTaskCount @ zone.js:285\nZone.runTask @ zone.js:205\ndrainMicroTaskQueue @ zone.js:595\nZoneTask.invokeTask @ zone.js:500\nZoneTask.invoke @ zone.js:485\ntimer @ zone.js:2054\nsetTimeout (async)\nscheduleTask @ zone.js:2075\nZoneDelegate.scheduleTask @ zone.js:407\nonScheduleTask @ zone.js:297\nZoneDelegate.scheduleTask @ zone.js:401\nZone.scheduleTask @ zone.js:232\nZone.scheduleMacroTask @ zone.js:255\nscheduleMacroTaskWithCurrentZone @ zone.js:1114\n(anonymous) @ zone.js:2090\nproto.(anonymous function) @ zone.js:1394\n(anonymous) @ router.js:4837\nschedulerFn @ core.js:4342\nSafeSubscriber.__tryOrUnsub @ Subscriber.js:243\nSafeSubscriber.next @ Subscriber.js:190\nSubscriber._next @ Subscriber.js:131\nSubscriber.next @ Subscriber.js:95\nSubject.next @ Subject.js:56\nEventEmitter.emit @ core.js:4322\n(anonymous) @ common.js:172\nZoneDelegate.invokeTask @ zone.js:421\nonInvokeTask @ core.js:4751\nZoneDelegate.invokeTask @ zone.js:420\nZone.runTask @ zone.js:188\nZoneTask.invokeTask @ zone.js:496\ninvokeTask @ zone.js:1540\nglobalZoneAwareCallback @ zone.js:1566\n</code></pre>\n\n<p>If I refresh page, svgs render and everything is fine. If anyone has any suggestions, it would be greatly appreciated</p>\n"}, {"tags": ["typescript", "yarnpkg", "yarn-workspaces"], "comments": [{"owner": {"reputation": 16866, "user_id": 303914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908ac4ca0a945b86d528a34b26ea02df?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/303914/daniel"}, "edited": false, "score": 0, "creation_date": 1534879163, "post_id": 51955166, "comment_id": 90861178, "body": "I notice your <code>typeRoots</code> is declared 2 levels up from where your <code>tsconfig.json</code> is, so I wonder to which folder the <code>.</code> in <code>&quot;.&#47;packages&#47;types&quot;</code> is referring: where <code>tsconfig.json</code> is or where <code>tsconfig.settings.json</code> is. Also, you didn&#39;t specify <code>&quot;types&quot;</code> in the tsconfigs right?"}, {"owner": {"reputation": 8327, "user_id": 45974, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/04361eba6e039eecdd3458e2545f03e6?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/45974/tom"}, "reply_to_user": {"reputation": 16866, "user_id": 303914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908ac4ca0a945b86d528a34b26ea02df?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/303914/daniel"}, "edited": false, "score": 0, "creation_date": 1534879399, "post_id": 51955166, "comment_id": 90861271, "body": "@MondKin the tsconfigs extend <code>..&#47;..&#47;tsconfig.settings.json</code>, see <a href=\"https://github.com/tommedema/serverless-mono-example/blob/feature/external-types/packages/random/tsconfig.json\" rel=\"nofollow noreferrer\">github.com/tommedema/serverless-mono-example/blob/feature/&hellip;</a> --- the relative path works from the location of the json file, as is evident from another example repo at <a href=\"https://github.com/Quramy/lerna-yarn-workspaces-example/blob/master/tsconfig.json\" rel=\"nofollow noreferrer\">github.com/Quramy/lerna-yarn-workspaces-example/blob/master/&zwnj;&#8203;&hellip;</a>. How can I &quot;show my tree root&quot;?"}, {"owner": {"reputation": 16866, "user_id": 303914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908ac4ca0a945b86d528a34b26ea02df?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/303914/daniel"}, "edited": false, "score": 1, "creation_date": 1534880362, "post_id": 51955166, "comment_id": 90861669, "body": "I removed the <code>&quot;show my tree root&quot;</code> part of my comment as I saw the repo with the source code was linked in the question."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534881307, "post_id": 51955166, "comment_id": 90862131, "body": "I ran <code>tsc -b .</code> in <code>packages&#47;random</code> and got <code>error TS6053: File &#39;..&#47;types&#39; not found.</code>  Looks like you are missing <code>tsconfig.json</code> in that directory if you want to use a TypeScript project reference."}, {"owner": {"reputation": 8327, "user_id": 45974, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/04361eba6e039eecdd3458e2545f03e6?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/45974/tom"}, "edited": false, "score": 0, "creation_date": 1534882310, "post_id": 51955166, "comment_id": 90862574, "body": "That resolved it Matt. I&#39;ve integrated it at <a href=\"https://github.com/tommedema/serverless-mono-example\" rel=\"nofollow noreferrer\">github.com/tommedema/serverless-mono-example</a> -- if you post it as an answer I can accept it. Basically the types folder requires a one liner: <a href=\"https://github.com/tommedema/serverless-mono-example/blob/master/packages/types/tsconfig.json\" rel=\"nofollow noreferrer\">github.com/tommedema/serverless-mono-example/blob/master/&hellip;</a>"}], "owner": {"reputation": 8327, "user_id": 45974, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/04361eba6e039eecdd3458e2545f03e6?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/45974/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1853, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1535073614, "creation_date": 1534878320, "last_edit_date": 1535073614, "question_id": 51955166, "link": "https://stackoverflow.com/questions/51955166/how-to-add-custom-type-definitions-when-using-typescript-references-in-a-yarn-wo", "title": "How to add custom type definitions when using Typescript references in a Yarn workspace?", "body": "<p>I'm trying to create a sample yarn workspace repo with Typescript's new references feature:</p>\n\n<p><a href=\"https://github.com/tommedema/serverless-mono-example/tree/feature/external-types\" rel=\"nofollow noreferrer\">https://github.com/tommedema/serverless-mono-example/tree/feature/external-types</a></p>\n\n<p>When an external library does not have type definitions, it should be possible to manually add these. What I've <a href=\"https://github.com/tommedema/serverless-mono-example/commit/905f355aeeb44a12ecfa60393346577777628300\" rel=\"nofollow noreferrer\">done so far</a>:</p>\n\n<ol>\n<li>created a <code>packages/types</code> workspace</li>\n<li><p>added a sample at <code>packages/types/camelcase</code> with an <code>index.d.ts</code> file:</p>\n\n<p><code>declare module 'camelcase' {\n  export default function camelCase(\n    strs: string | string[],\n    options: {\n      pascalCase?: boolean\n    }\n  ): string\n}</code></p></li>\n<li><p>updated a dependent package <code>packages/random</code>'s <code>tsconfig.json</code> to have a new reference to the types package:</p>\n\n<p><code>{\n  \"extends\": \"../../tsconfig.settings.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"dist\",\n    \"rootDir\": \"src\"\n  },\n  \"references\": [\n    { \"path\": \"../types\" }\n  ]\n}</code></p></li>\n<li><p>updated the <code>typeRoots</code> in <code>tsconfig.settings.json</code>:</p>\n\n<p><code>\"typeRoots\": [\n  \"./node_modules/@types\",\n  \"./packages/types\"\n],</code></p></li>\n</ol>\n\n<p>Yet despite having set both the references as well as the <code>typeRoots</code>, typescript is unable to find the type definition:</p>\n\n<pre><code>[ts]\nCould not find a declaration file for module 'camelcase'. '/Users/tommedema/projects/vg/demos/serverless-mono-example/node_modules/camelcase/index.js' implicitly has an 'any' type.\n  Try `npm install @types/camelcase` if it exists or add a new declaration (.d.ts) file containing `declare module 'camelcase';`\n</code></pre>\n\n<p>Is my use of typeroots invalid? Does it make sense to use references to accomplish this? Why can typescript not find the type definition?</p>\n"}, {"tags": ["typescript", "angular4-forms"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1534878747, "post_id": 51955145, "comment_id": 90860996, "body": "What is a father module?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1534878800, "post_id": 51955145, "comment_id": 90861013, "body": "Also casing matters and if you are going to access an item in an array you need to use the array indexer or loop through it and access it multiple times."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1534878863, "post_id": 51955145, "comment_id": 90861040, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43851357/loop-through-array-of-strings-angular2\" title=\"loop through array of strings angular2\">stackoverflow.com/questions/43851357/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 783, "user_id": 7857035, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71e9d430f9c2163296959d6616675531?s=128&d=identicon&r=PG&f=1", "display_name": "simplelenz", "link": "https://stackoverflow.com/users/7857035/simplelenz"}, "is_accepted": false, "score": 0, "last_activity_date": 1534879961, "creation_date": 1534879961, "answer_id": 51955510, "question_id": 51955145, "link": "https://stackoverflow.com/questions/51955145/models-in-angular/51955510#51955510", "title": "Models in Angular", "body": "<p>@Juan Perez</p>\n\n<p>To use <code>Home[]</code> array in <code>model</code> class, you need to instantiate the array in the <code>model</code> class constructor. Then when binding data to the <code>home</code> property of the <code>model</code> class, you have to use an index in the <code>home</code> array. Possible code would look like below</p>\n\n<pre><code>&lt;input type=\"text\" ([ngModel])=\"model.home[index].CP\"&gt;\n</code></pre>\n\n<p>In the <code>model</code> class the constructor should look like below</p>\n\n<pre><code>export class model{\n  Id: string;\n  Name: string;\n  home: Home[];\n\n  model() {\n    home = new Array(3).fill(new Home());\n  }\n}\n\nexport class Home{\n  street: string;\n  country: string;\n  CP: string;\n\n  Home() {\n    street = \"\";\n    country = \"\";\n    CP = \"\";\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8582497, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-meLff4_xqVc/AAAAAAAAAAI/AAAAAAAAAKo/jDCQRgRVJjE/photo.jpg?sz=128", "display_name": "Juan Perez", "link": "https://stackoverflow.com/users/8582497/juan-perez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1534879961, "creation_date": 1534878222, "question_id": 51955145, "link": "https://stackoverflow.com/questions/51955145/models-in-angular", "title": "Models in Angular", "body": "<p>I have this model</p>\n\n<pre><code>export class model{\n  Id: string;\n  Name: string;\n  home: Home[];\n}\n\nexport class Home{\n  street: string;\n  country: string;\n  CP: string;\n}\n</code></pre>\n\n<p>the question is how to use the values of model Home in father model and use the values in a form to insert new register for example:</p>\n\n<pre><code>&lt;form&gt;\n &lt;input type=\"text\" ([ngModel])=\"model.id\"&gt;\n &lt;input type=\"text\" ([ngModel])=\"model.Name\"&gt;\n &lt;input type=\"text\" ([ngModel])=\"model.Home.CP\"&gt;&lt;!--How to implements the values of home to insert a value in the BD--&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>thanks</p>\n"}, {"tags": ["html", "angular", "typescript", "navbar", "angular6"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1534877996, "post_id": 51955040, "comment_id": 90860705, "body": "How exactly are you updating the role? I think the issue is that the role is changing but it&#39;s not reflecting the change in the template. Use role as a BehaviorSubject and subscribe to it in this template&#39;s Component class."}], "answers": [{"comments": [{"owner": {"reputation": 547, "user_id": 3492940, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000347934042/picture?type=large", "display_name": "enf0rcer", "link": "https://stackoverflow.com/users/3492940/enf0rcer"}, "edited": false, "score": 0, "creation_date": 1534878278, "post_id": 51955084, "comment_id": 90860821, "body": "This will probably fix it, for the sake of pleasing the eye, also remove that unneeded whitespace. It looks really bad like this!"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 1, "last_activity_date": 1534878357, "last_edit_date": 1534878357, "creation_date": 1534877958, "answer_id": 51955084, "question_id": 51955040, "link": "https://stackoverflow.com/questions/51955040/how-do-you-display-different-navigation-bars-on-different-pages-in-angular-6/51955084#51955084", "title": "How do you display different navigation bars on different pages in angular 6?", "body": "<p>The syntax is wrong, you should embed the condition within <strong><code>\"\"</code></strong></p>\n\n<pre><code>&lt;div *ngIf=\"role==='null'\"&gt;\n      Navbar home\n&lt;/div&gt;\n&lt;div *ngIf=\"role==='1'\"&gt;\n      Navbar 1\n&lt;/div&gt;\n&lt;div *ngIf=\"role==='2'\"&gt;\n      Navbar 2\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 10209822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91868bc4cac62cb5aba3a0b67520bc08?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanka", "link": "https://stackoverflow.com/users/10209822/priyanka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534899141, "creation_date": 1534877722, "last_edit_date": 1534899141, "question_id": 51955040, "link": "https://stackoverflow.com/questions/51955040/how-do-you-display-different-navigation-bars-on-different-pages-in-angular-6", "title": "How do you display different navigation bars on different pages in angular 6?", "body": "<p>I have 4 roles in my application. I'm just assigning a value like 1,2,3,4 for each users &amp; storing the logged in username &amp; the corresponding value in a session. </p>\n\n<p>I have a main page from where I can navigate to other login screens. In the main page I need to display a navbar. In the different login pages I need to display another navbar, and yet another after logging in. </p>\n\n<p>I'm using a common navbar where I'm using *ngIf condition in div to check the role which is stored in session &amp; routing the navbar div accordingly.</p>\n\n<pre><code>    &lt;div *ngIf =\" role === 'null'\" &gt;\n      Navbar home\n    &lt;/div&gt;\n    &lt;div *ngIf = \"role === '1' \"&gt;\n      Navbar 1\n    &lt;/div&gt;\n      &lt;div *ngIf = \"role === '2'\" &gt;\n      Navbar 2\n    &lt;/div&gt;\n</code></pre>\n\n<p>My problem is, after logging in, I can only see my home navbar. Only after refreshing the page can see the Navbar 1. And if I go back Navbar 1 is not changing in to Navbar home.</p>\n\n<p>Can anybody please help me with this. </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1534880329, "post_id": 51954646, "comment_id": 90861656, "body": "add catchError to be sure in case of error your loading becomes false: pipe(...,catchError(()=&gt;this.loading=false)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9628305, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Justin", "link": "https://stackoverflow.com/users/9628305/justin"}, "edited": false, "score": 0, "creation_date": 1534876908, "post_id": 51954725, "comment_id": 90860184, "body": "<a href=\"https://www.learnrxjs.io/operators/utility/do.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/utility/do.html</a> do and tap are the same things"}], "tags": [], "owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "is_accepted": false, "score": 0, "last_activity_date": 1534876358, "creation_date": 1534876358, "answer_id": 51954725, "question_id": 51954646, "link": "https://stackoverflow.com/questions/51954646/add-loading-functionality-to-angular-app/51954725#51954725", "title": "Add loading functionality to Angular App", "body": "<p>Try Do</p>\n\n<pre><code>this.courses$ = this.searchString$.pipe(\n      debounceTime(300),\n      distinctUntilChanged(),\n      ,do( () =&gt; this.loading = true)\n      switchMap((term: string) =&gt; this.cs.getCoursess(term)),\n      ,do( () =&gt; this.loading = false )\n    );\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9628305, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Justin", "link": "https://stackoverflow.com/users/9628305/justin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534876358, "creation_date": 1534875910, "question_id": 51954646, "link": "https://stackoverflow.com/questions/51954646/add-loading-functionality-to-angular-app", "title": "Add loading functionality to Angular App", "body": "<p>I am trying to implement loading whenever I type on the search bar of my app. But it seems that only the first 'tap' function is being called and setting the loading value to true. I end up with true not being set to false. Any help/suggestion on how I should do this?    </p>\n\n<p>Followed this <a href=\"https://stackoverflow.com/questions/49609228/angular-5-search-with-async-pipe-show-loading-indicator\">approach</a> .</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { CourseService } from './course-service';\n\nimport { Observable, BehaviorSubject, combineLatest, Subject, from } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, switchMap, tap, finalize } from 'rxjs/operators';\n\n@Component({\n  selector: 'explore',\n  templateUrl: './explore.component.html'\n})\n\nexport class ExploreComponent implements OnInit {\n  loading: boolean = false;\n\n  private searchString$ = new Subject&lt;string&gt;();\n  courses$: Observable&lt;any[]&gt;;\n\n  constructor(private ar: ActivatedRoute, public cs: CourseService) {\n  }\n\n  ngOnInit() {\n    this.courses$ = this.searchString$.pipe(\n      debounceTime(300),\n      distinctUntilChanged(),\n      tap(() =&gt; this.loading = true),\n      switchMap((term: string) =&gt; this.cs.getCoursess(term)),\n      tap(() =&gt; this.loading = false)\n    );\n  }\n\n  search(text: string) {\n    this.searchVal = text;\n    this.searchString$.next(text);\n  }\n}\n</code></pre>\n"}]