[{"tags": ["typescript"], "comments": [{"owner": {"reputation": 5007, "user_id": 23059, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/28d1534c68a23bb158022f3d5f0985ad?s=128&d=identicon&r=PG", "display_name": "Cameron Taggart", "link": "https://stackoverflow.com/users/23059/cameron-taggart"}, "reply_to_user": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1421107980, "post_id": 27828236, "comment_id": 44225307, "body": "I don&#39;t think it is answered yet. A follow-up to that thread and a rewording of this question is now here: <a href=\"https://github.com/Microsoft/TypeScript/issues/1651\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/1651</a>"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 2, "creation_date": 1421111663, "post_id": 27828236, "comment_id": 44226307, "body": "I like the questions you are asking. Thanks for that. Removed my comment to keep this open for potential community input."}, {"owner": {"reputation": 5007, "user_id": 23059, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/28d1534c68a23bb158022f3d5f0985ad?s=128&d=identicon&r=PG", "display_name": "Cameron Taggart", "link": "https://stackoverflow.com/users/23059/cameron-taggart"}, "reply_to_user": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1483825614, "post_id": 27828236, "comment_id": 70259843, "body": "2 years later, it looks like it is scheduled now for the TypeScript 2.2 release. <a href=\"https://github.com/Microsoft/TypeScript/issues/10786#issuecomment-265957676\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/&hellip;</a>"}], "owner": {"reputation": 5007, "user_id": 23059, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/28d1534c68a23bb158022f3d5f0985ad?s=128&d=identicon&r=PG", "display_name": "Cameron Taggart", "link": "https://stackoverflow.com/users/23059/cameron-taggart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 367, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1604371620, "creation_date": 1420663177, "question_id": 27828236, "link": "https://stackoverflow.com/questions/27828236/how-do-i-use-typescript-1-4-api-to-write-a-ts-file", "title": "How do I use TypeScript 1.4 API to write a .ts file?", "body": "<p>Using the TypeScript 1.4 API, I'd like to generate a TypeScript file from scratch. How do I do that. It looks like can use the <code>createNode</code> methods to create the tree, but how do I get it to render?</p>\n\n<p>What I currently have: <a href=\"https://github.com/ctaggart/TsAst/blob/emit/app.ts\" rel=\"nofollow\">https://github.com/ctaggart/TsAst/blob/emit/app.ts</a></p>\n\n<pre><code>///&lt;reference path='../TypeScript/built/local/typescript.d.ts' /&gt;\n\nimport ts = require('typescript');\n\nexport function main() {\n    var m = &lt;ts.ModuleDeclaration&gt;ts.createNode(ts.SyntaxKind.ModuleDeclaration);\n    var nm = &lt;ts.Identifier&gt;ts.createNode(ts.SyntaxKind.Identifier);\n    nm.text = \"Blah\"\n    m.name = nm;\n\n    var sf = &lt;ts.SourceFile&gt;ts.createNode(ts.SyntaxKind.SourceFile);\n    sf.statements = &lt;ts.NodeArray&lt;ts.ModuleElement&gt;&gt;[m];\n\n    console.log(\"file: \"+sf.text); // sf.text is undefined :(\n}\n\nmain();\n</code></pre>\n"}, {"tags": ["typescript", "setter", "getter-setter", "accessor"], "answers": [{"comments": [{"owner": {"reputation": 8640, "user_id": 46635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/i6ZRh.jpg?s=128&g=1", "display_name": "splintor", "link": "https://stackoverflow.com/users/46635/splintor"}, "edited": false, "score": 2, "creation_date": 1503866519, "post_id": 27827300, "comment_id": 78777040, "body": "The problem with this solution is that they don&#39;t allow += (and -=) operator: <code>this.prop += &#39;abc&#39;;</code>"}, {"owner": {"reputation": 12346, "user_id": 393931, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b60fdebd80d26112521c45358c08cc1a?s=128&d=identicon&r=PG", "display_name": "Tobias J", "link": "https://stackoverflow.com/users/393931/tobias-j"}, "reply_to_user": {"reputation": 8640, "user_id": 46635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/i6ZRh.jpg?s=128&g=1", "display_name": "splintor", "link": "https://stackoverflow.com/users/46635/splintor"}, "edited": false, "score": 3, "creation_date": 1505483384, "post_id": 27827300, "comment_id": 79446100, "body": "@splintor yes but not letting others change the value is the whole point :)"}, {"owner": {"reputation": 8640, "user_id": 46635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/i6ZRh.jpg?s=128&g=1", "display_name": "splintor", "link": "https://stackoverflow.com/users/46635/splintor"}, "reply_to_user": {"reputation": 12346, "user_id": 393931, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b60fdebd80d26112521c45358c08cc1a?s=128&d=identicon&r=PG", "display_name": "Tobias J", "link": "https://stackoverflow.com/users/393931/tobias-j"}, "edited": false, "score": 0, "creation_date": 1505627202, "post_id": 27827300, "comment_id": 79485575, "body": "@TobyJ Notice the <code>this</code> I used in my sample. I mean allowing <code>+=</code> and <code>-=</code> from within the class, where you can set a breakpoint. @Fenton solution suggests adding a method, but then from within the class you can&#39;t use <code>+=</code> to add to <code>prop</code>. See <a href=\"https://stackoverflow.com/a/45909300/46635\">my solution</a> for a way to do it."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 8640, "user_id": 46635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/i6ZRh.jpg?s=128&g=1", "display_name": "splintor", "link": "https://stackoverflow.com/users/46635/splintor"}, "edited": false, "score": 0, "creation_date": 1526281979, "post_id": 27827300, "comment_id": 87665283, "body": "@splintor in the first example you can use <code>this._prop += &#39;I can set it!&#39;;</code>"}, {"owner": {"reputation": 8640, "user_id": 46635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/i6ZRh.jpg?s=128&g=1", "display_name": "splintor", "link": "https://stackoverflow.com/users/46635/splintor"}, "edited": false, "score": 0, "creation_date": 1526378069, "post_id": 27827300, "comment_id": 87710235, "body": "@Fenton Of course I can, but if I want the setter to do more than just setting the <code>_prop</code> field, e.g. call <code>notify(&#39;_prpo&#39;, value)</code>, then setting <code>_prop</code> directly won&#39;t do it."}, {"owner": {"reputation": 158, "user_id": 2754436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vudS.jpg?s=128&g=1", "display_name": "wearego", "link": "https://stackoverflow.com/users/2754436/wearego"}, "edited": false, "score": 0, "creation_date": 1531994047, "post_id": 27827300, "comment_id": 89809986, "body": "You say: &quot;You can just not have a setter, which means only the Test class is able to set the property.&quot; If I understand correctly, having a getter but no setter, does not by default create a public setter as well? (This was the question I had when I found this thread.)"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 158, "user_id": 2754436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vudS.jpg?s=128&g=1", "display_name": "wearego", "link": "https://stackoverflow.com/users/2754436/wearego"}, "edited": false, "score": 0, "creation_date": 1532003894, "post_id": 27827300, "comment_id": 89816632, "body": "@wearego - that discussion is about a subversion of the type system (i.e. although these things are <code>private</code> in TypeScript, you <i>can</i> still access them from a wider context in JavaScriptLand. It&#39;s not how anyone would recommend you write an app."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 77, "last_activity_date": 1526453989, "last_edit_date": 1526453989, "creation_date": 1420659494, "answer_id": 27827300, "question_id": 27825350, "link": "https://stackoverflow.com/questions/27825350/private-setter-typescript/27827300#27827300", "title": "Private setter typescript?", "body": "<p>The TypeScript specification (8.4.3) says...</p>\n\n<blockquote>\n  <p>Accessors for the same member name must specify the same accessibility</p>\n</blockquote>\n\n<p>So you have to choose a suitable alternative. Here are two options for you:</p>\n\n<p>You can just not have a setter, which means only the <code>Test</code> class is able to set the property. You can place a breakpoint on the line <code>this._prop =...</code>.</p>\n\n<pre><code>class Test\n{\n    private _prop: string;\n    public get prop() : string\n    {\n        return this._prop;\n    }\n\n    doSomething() {\n        this._prop = 'I can set it!';\n    }\n}\n\nvar test = new Test();\n\ntest._prop = 'I cannot!';\n</code></pre>\n\n<p>Probably the ideal way to ensure private access results in something akin to a \"notify property changed\" pattern can be implemented is to have a pair of private get/set property accessors, and a separate public get property accessor.</p>\n\n<p>You still need to be cautious about someone later adding a direct call to the backing field. You could get creative in that area to try and make it less likely.</p>\n\n<pre><code>class Test\n{\n    private _nameBackingField: string;\n\n    private get _name() : string\n    {\n        return this._nameBackingField;\n    }\n\n    private set _name(val: string)\n    {\n        this._nameBackingField = val;\n        // other actions... notify the property has changed etc\n    }\n\n    public get name(): string {\n        return this._name;\n    }\n\n    doSomething() {\n        this._name += 'Additional Stuff';\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 605, "user_id": 6301627, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/21448c4be0ee84cd5ad0558811c9be81?s=128&d=identicon&r=PG", "display_name": "S. Tar\u0131k &#199;etin", "link": "https://stackoverflow.com/users/6301627/s-tar%c4%b1k-%c3%87etin"}, "edited": false, "score": 0, "creation_date": 1608850777, "post_id": 45909300, "comment_id": 115702054, "body": "Wow, this is clever! I did not know we could have multiple accessors for the same property."}], "tags": [], "owner": {"reputation": 8640, "user_id": 46635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/i6ZRh.jpg?s=128&g=1", "display_name": "splintor", "link": "https://stackoverflow.com/users/46635/splintor"}, "is_accepted": false, "score": 9, "last_activity_date": 1503867576, "creation_date": 1503867576, "answer_id": 45909300, "question_id": 27825350, "link": "https://stackoverflow.com/questions/27825350/private-setter-typescript/45909300#45909300", "title": "Private setter typescript?", "body": "<p>I also hope we could have public getter and private setter. Until we do, another way to handle this is to add additional private getter and setter:</p>\n\n<pre><code>class Test {\n  _prop: string;\n  public get prop(): string {\n    return this._prop;\n  }\n\n  private get internalProp(): string {\n    return this.prop;\n  }\n\n  private set internalProp(value: string) {\n    this._prop = value;\n  }\n\n  private addToProp(valueToAdd: string): void {\n    this.internalProp += valueToAdd;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2519, "user_id": 604389, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/76f61ed86018da1fd19d229648a8b60f?s=128&d=identicon&r=PG", "display_name": "sheamus", "link": "https://stackoverflow.com/users/604389/sheamus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34964, "favorite_count": 4, "accepted_answer_id": 27827300, "answer_count": 2, "score": 79, "last_activity_date": 1526453989, "creation_date": 1420652526, "question_id": 27825350, "link": "https://stackoverflow.com/questions/27825350/private-setter-typescript", "title": "Private setter typescript?", "body": "<p>Is there a way to have a private setter for a property in TypeScript?</p>\n\n<pre><code>class Test\n{\n    private _prop: string;\n    public get prop() : string\n    {\n        return this._prop;\n    }\n\n    private set prop(val: string)\n    {\n        //can put breakpoints here\n        this._prop = val;\n    }\n}\n</code></pre>\n\n<p>Compiler complains that visibility for getter and setter don't match. I know I can just set the backing field, but but then I can't set breakpoints when the value is set.</p>\n\n<p>I though about using an interface to hide the setter, but interfaces can only define a property, not whether it has a getter on setter.</p>\n\n<p>Am I missing something here? There doesn't seem to be any reason to not allow private setters, the resulting JS doesn't enforce visibility anyway, and seems better that the current alternatives.</p>\n\n<p>Am I missing something? If not is there a good reason for no private setters?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "edited": false, "score": 0, "creation_date": 1420631299, "post_id": 27818755, "comment_id": 44043316, "body": "Can you do a tsc --version and report the version you are using?"}, {"owner": {"reputation": 658, "user_id": 2493690, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/81829e6fb62e8e73243039964af8fdfe?s=128&d=identicon&r=PG", "display_name": "donnut", "link": "https://stackoverflow.com/users/2493690/donnut"}, "reply_to_user": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "edited": false, "score": 0, "creation_date": 1420633813, "post_id": 27818755, "comment_id": 44044791, "body": "message TS6029: Version 1.4.0.0"}], "answers": [{"comments": [{"owner": {"reputation": 658, "user_id": 2493690, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/81829e6fb62e8e73243039964af8fdfe?s=128&d=identicon&r=PG", "display_name": "donnut", "link": "https://stackoverflow.com/users/2493690/donnut"}, "edited": false, "score": 0, "creation_date": 1420637478, "post_id": 27820122, "comment_id": 44046840, "body": "I find the alternative the most elegant solution. Thanks!"}, {"owner": {"reputation": 55268, "user_id": 941764, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b874953e067d60b5f07bb98c74bf48c8?s=128&d=identicon&r=PG", "display_name": "jgillich", "link": "https://stackoverflow.com/users/941764/jgillich"}, "edited": false, "score": 0, "creation_date": 1461624763, "post_id": 27820122, "comment_id": 61273810, "body": "Note that, in <code>.tsx</code>, you have to use <code>link as Link</code>."}], "tags": [], "owner": {"reputation": 79200, "user_id": 22364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e4b5d57c78e74d4f5ee9773e2926c01d?s=128&d=identicon&r=PG", "display_name": "Markus Jarderot", "link": "https://stackoverflow.com/users/22364/markus-jarderot"}, "is_accepted": true, "score": 4, "last_activity_date": 1420635690, "creation_date": 1420635690, "answer_id": 27820122, "question_id": 27818755, "link": "https://stackoverflow.com/questions/27818755/typescript-how-to-type-guard-union-type/27820122#27820122", "title": "TypeScript: how to type guard union type", "body": "<p>It seems TypeScript 1.4.0.0 does not infer that <code>link</code> must be of type <code>Link</code> when it is not of type <code>Array</code>. A small change should solve that:</p>\n\n<pre><code>function compose(link: Link|Link[]) {\n  if (link instanceof Array) {\n    R.map(function(l) {\n      return mapper(l);\n    }, link);\n  } else if (link instanceof Link) {\n      return mapper(link);\n  }\n}\n</code></pre>\n\n<p>Alternatively, you could assert the type:</p>\n\n<pre><code>return mapper(&lt;Link&gt; link);\n</code></pre>\n"}], "owner": {"reputation": 658, "user_id": 2493690, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/81829e6fb62e8e73243039964af8fdfe?s=128&d=identicon&r=PG", "display_name": "donnut", "link": "https://stackoverflow.com/users/2493690/donnut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3046, "favorite_count": 0, "accepted_answer_id": 27820122, "answer_count": 1, "score": 3, "last_activity_date": 1420635690, "creation_date": 1420631023, "question_id": 27818755, "link": "https://stackoverflow.com/questions/27818755/typescript-how-to-type-guard-union-type", "title": "TypeScript: how to type guard union type", "body": "<p>The function <code>compose</code> can have an object or an array of objects as its argument.\nIn <code>compose</code>, the type guard differentiates between the object and the array. The\nfunction <code>mapper</code> can only handle objects and by using the type guard, only objects are fet to it.</p>\n\n<pre><code>interface Link {\n   something: string;\n}\n\nfunction compose(link: Link|Link[]) {\n  if (link instanceof Array) {\n    R.map(function(l) {\n      return mapper(l);\n    }, link);\n  } else {\n      return mapper(link);\n  }\n}\n\nfunction mapper(link: Link) {\n  return link;\n}\n</code></pre>\n\n<p>Compiling this example results in the error:</p>\n\n<p>error TS2345: Argument of type 'Link | Link[]' is not assignable to parameter of type 'Link'</p>\n\n<p>This error is understandable as mapper gets an union type as its argument but expects an single object only. This is not what I hoped for when using the type guard. Any thoughts on this?</p>\n"}, {"tags": ["node.js", "visual-studio-2013", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1029, "user_id": 2598575, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ed2193a67a1315c22560fabd224897f?s=128&d=identicon&r=PG", "display_name": "Alexey Kulikov", "link": "https://stackoverflow.com/users/2598575/alexey-kulikov"}, "edited": false, "score": 0, "creation_date": 1420630553, "post_id": 27818131, "comment_id": 44042920, "body": "Visual Studio says &quot;Cannot find external module file by specified path&quot;. So then I run application nodejs says &quot;Cannot find module &#39;Server/serverController.ts&#39;&quot;"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 1029, "user_id": 2598575, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ed2193a67a1315c22560fabd224897f?s=128&d=identicon&r=PG", "display_name": "Alexey Kulikov", "link": "https://stackoverflow.com/users/2598575/alexey-kulikov"}, "edited": false, "score": 0, "creation_date": 1420631454, "post_id": 27818131, "comment_id": 44043383, "body": "Remove the .ts extension and double check the path is right."}, {"owner": {"reputation": 1029, "user_id": 2598575, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ed2193a67a1315c22560fabd224897f?s=128&d=identicon&r=PG", "display_name": "Alexey Kulikov", "link": "https://stackoverflow.com/users/2598575/alexey-kulikov"}, "edited": false, "score": 0, "creation_date": 1420632596, "post_id": 27818131, "comment_id": 44044150, "body": "The result is the same.Node js says &quot;Cannot find module &#39;Server/serverController&#39;&quot;. But if i push Ctrl+Left_Mouse Visual Studio correctly goes to serverController.ts file. But again highlight &quot;Server/serverController&quot; with an error &quot;Cannot find external module file by specified path&quot;"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 1029, "user_id": 2598575, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ed2193a67a1315c22560fabd224897f?s=128&d=identicon&r=PG", "display_name": "Alexey Kulikov", "link": "https://stackoverflow.com/users/2598575/alexey-kulikov"}, "edited": false, "score": 0, "creation_date": 1420638269, "post_id": 27818131, "comment_id": 44047273, "body": "Can you try starting the path with dot-slash, i.e. &quot;./Server/ServerController&quot;"}, {"owner": {"reputation": 1029, "user_id": 2598575, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ed2193a67a1315c22560fabd224897f?s=128&d=identicon&r=PG", "display_name": "Alexey Kulikov", "link": "https://stackoverflow.com/users/2598575/alexey-kulikov"}, "edited": false, "score": 0, "creation_date": 1420641721, "post_id": 27818131, "comment_id": 44049424, "body": "I have try in another IDE (webstorm) with test project, the problem is the same. If I put <code>.&#47;</code> before file name typescript says: error TS2306: File &#39;E:/Project/test/testModule.ts&#39; is not an external module."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 0, "last_activity_date": 1420659530, "last_edit_date": 1420659530, "creation_date": 1420629016, "answer_id": 27818131, "question_id": 27818077, "link": "https://stackoverflow.com/questions/27818077/compile-typescript-for-node-js-in-visual-studio/27818131#27818131", "title": "compile typescript for node js in visual studio", "body": "<p>Remove these two lines...</p>\n\n<pre><code>/// &lt;reference path=\"Server/serverController.ts\" /&gt;\nimport server = ServerCtrl;\n</code></pre>\n\n<p>For your own code, use a proper import...</p>\n\n<pre><code>import server = require(\"./Server/serverController\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1029, "user_id": 2598575, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ed2193a67a1315c22560fabd224897f?s=128&d=identicon&r=PG", "display_name": "Alexey Kulikov", "link": "https://stackoverflow.com/users/2598575/alexey-kulikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1420655720, "creation_date": 1420655720, "answer_id": 27826275, "question_id": 27818077, "link": "https://stackoverflow.com/questions/27818077/compile-typescript-for-node-js-in-visual-studio/27826275#27826275", "title": "compile typescript for node js in visual studio", "body": "<p>I have found the solution.\nI just remove <code>module</code> statement from included file. Something like:</p>\n\n<pre><code>//before\nmodule ServerController {\n    export class ServerCtrl{ /* code */ }\n}\n\n//after\nexport class ServerCtrl{ /* code */ }\n</code></pre>\n\n<p>then using code from Steve Fenton post like:</p>\n\n<pre><code>import serv = require('./Server/ServerController');\n</code></pre>\n\n<p>all works!</p>\n"}], "owner": {"reputation": 1029, "user_id": 2598575, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ed2193a67a1315c22560fabd224897f?s=128&d=identicon&r=PG", "display_name": "Alexey Kulikov", "link": "https://stackoverflow.com/users/2598575/alexey-kulikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1453, "favorite_count": 0, "accepted_answer_id": 27818131, "answer_count": 2, "score": 0, "last_activity_date": 1420659530, "creation_date": 1420628845, "question_id": 27818077, "link": "https://stackoverflow.com/questions/27818077/compile-typescript-for-node-js-in-visual-studio", "title": "compile typescript for node js in visual studio", "body": "<p>I have created nodejs typescript application. The main file as standart is <code>app.ts</code>. If I will put all code in <code>app.ts</code> application will work correctly. But if I have a typescript file added by references like:</p>\n\n<pre><code>/// &lt;reference path=\"Scripts/typings/node/node.d.ts\" /&gt;\n/// &lt;reference path=\"Server/serverController.ts\" /&gt;\n\nvar _ = require('underscore');\n\nimport server = ServerCtrl;\n\nvar controller: server.ServerCtrl = new server.ServerCtrl();\ncontroller.startServer();\n</code></pre>\n\n<p>application throws error becouse it cant find ServerCtrl. As I see the compilled js file is:</p>\n\n<pre><code>/// &lt;reference path=\"Scripts/typings/node/node.d.ts\" /&gt;\n/// &lt;reference path=\"Server/serverController.ts\" /&gt;\nvar _ = require('underscore');\nvar server = ServerCtrl;\nvar controller = new server.ServerCtrl();\ncontroller.startServer();\n//# sourceMappingURL=app.js.map\n</code></pre>\n\n<p>So then I push F5 (Start) button to debug application throws error.\nThe question is how to create typescript application for nodejs using references and compile/debug it correctly in Visual Studio 2013?</p>\n"}, {"tags": ["javascript", "typescript", "qunit", "sinon"], "comments": [{"owner": {"reputation": 12074, "user_id": 1985406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f441bc8d508101ba0a1eac95d6cd52c6?s=128&d=identicon&r=PG", "display_name": "Jordan Kasper", "link": "https://stackoverflow.com/users/1985406/jordan-kasper"}, "edited": false, "score": 0, "creation_date": 1420635474, "post_id": 27815307, "comment_id": 44045696, "body": "Can you show us the test? Without that we&#39;re just guessing at what the problem is."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 1732244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc988430392c1392a794d909fc8fa896?s=128&d=identicon&r=PG", "display_name": "cp1", "link": "https://stackoverflow.com/users/1732244/cp1"}, "edited": false, "score": 0, "creation_date": 1443275832, "post_id": 27816139, "comment_id": 53433514, "body": "Sorry for the delayed response. Yes this was the problem. I had to use async: true. Figured that out, but forgot to update the thread. Thanks :)"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1420622767, "creation_date": 1420622767, "answer_id": 27816139, "question_id": 27815307, "link": "https://stackoverflow.com/questions/27815307/settimeout-is-not-being-called-from-unit-tests/27816139#27816139", "title": "setTimeout is not being called from unit tests", "body": "<p><code>setTimeout</code> is probably working fine and what you need to do is enable <code>async</code> for the test. For Qunit you need to call <code>assert.async();</code></p>\n\n<p>docs: <a href=\"http://api.qunitjs.com/async/\" rel=\"nofollow\">http://api.qunitjs.com/async/</a> </p>\n"}, {"tags": [], "owner": {"reputation": 605, "user_id": 400876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03c90eb7410a45e13f99eb3500bdf08f?s=128&d=identicon&r=PG&f=1", "display_name": "Pawan", "link": "https://stackoverflow.com/users/400876/pawan"}, "is_accepted": false, "score": 0, "last_activity_date": 1420625039, "creation_date": 1420625039, "answer_id": 27816876, "question_id": 27815307, "link": "https://stackoverflow.com/questions/27815307/settimeout-is-not-being-called-from-unit-tests/27816876#27816876", "title": "setTimeout is not being called from unit tests", "body": "<p>sinonjs provides 'Faking time' api for this, try something like below:</p>\n\n<pre><code>clock = sinon.useFakeTimers();\n//execute your code which contains setTimeout function herer\nclock.tick();\nassert();\nclock.restore();\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 1732244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc988430392c1392a794d909fc8fa896?s=128&d=identicon&r=PG", "display_name": "cp1", "link": "https://stackoverflow.com/users/1732244/cp1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "accepted_answer_id": 27816139, "answer_count": 2, "score": 0, "last_activity_date": 1420625039, "creation_date": 1420619674, "question_id": 27815307, "link": "https://stackoverflow.com/questions/27815307/settimeout-is-not-being-called-from-unit-tests", "title": "setTimeout is not being called from unit tests", "body": "<p>Im working on typescript for my project where Im using QUint and sinonjs for unit-tests. One of my functions dynamically renders UI. I need to get the width of this dynamically rendered element and use that for some other computation. In order to ensure that width is computed right, Im using setTimeout. The code looks like this:</p>\n\n<pre><code>public function1(): void { \nthis._createShowMoreUI();\n    setTimeout(delegate(this, this.function2), 0);\n}\n\nprivate function2(): void { \n    // use this._element.width();\n}\n</code></pre>\n\n<p>Everything works fine in general. But when function1 is invoked from a unit-test function2 is never being called. Googling just pointed me to how setTimeout can be mocked out or cases where in setTimeout was being wrongly used (as in setTimeout(function2(),0)) which was not of any help.</p>\n"}, {"tags": ["typescript", "jaydata"], "answers": [{"comments": [{"owner": {"reputation": 2040, "user_id": 247007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/63bdd1db52d3709b927422b9f26eae83?s=128&d=identicon&r=PG", "display_name": "Roger Far", "link": "https://stackoverflow.com/users/247007/roger-far"}, "edited": false, "score": 0, "creation_date": 1420609414, "post_id": 27812336, "comment_id": 44033428, "body": "Hmm thanks I will have a look at this. Problem is I don&#39;t have much flexibility of changing the definition file as it&#39;s automatically generated based on the OData web api controllers."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 2, "last_activity_date": 1420604283, "creation_date": 1420604283, "answer_id": 27812336, "question_id": 27812147, "link": "https://stackoverflow.com/questions/27812147/ignore-typescript-definition-error/27812336#27812336", "title": "Ignore typescript definition error", "body": "<blockquote>\n  <p>Is there any way around this to ignore this compile error?</p>\n</blockquote>\n\n<p><strong>UGLY fix</strong> use a TypeAssertion: </p>\n\n<pre><code>declare module $data{\n    export class EntityContext{}\n    export class IPromise&lt;T&gt;{}\n    export class EntitySet&lt;T&gt;{}\n}\ndeclare module Models{export class UserModel{}}\n\n\ndeclare module MyEntities\n{\n    export class Container extends $data.EntityContext\n    {\n        public onReady(): $data.IPromise&lt;any&gt;;\n        public onReady(handler: (context: Container) =&gt; void): $data.IPromise&lt;any&gt;;\n\n        public Users: $data.EntitySet&lt;Models.UserModel&gt;;\n    }\n}\n\nvar db = new ((&lt;any&gt;MyEntities)({ name: 'local', databaseName: 'MyDb' }));\n</code></pre>\n\n<p><strong>Proper fix</strong></p>\n\n<p>There is a lot wrong with your type definition. You need to review the power of TypeScript <code>interface</code>. Here is a sample to get you started: </p>\n\n<pre><code>interface Container{\n    onReady():any;\n}\ninterface ContainerStatic{\n    new ():Container;\n}\n\ndeclare var MyEntities:\n{\n    // A constructor signature\n    new (options:any):any; \n\n    // Sub classes \n    Container:ContainerStatic;\n}\n\nvar db = new MyEntities({ name: 'local', databaseName: 'MyDb' });\nvar container = new MyEntities.Container();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1420660571, "creation_date": 1420660571, "answer_id": 27827580, "question_id": 27812147, "link": "https://stackoverflow.com/questions/27812147/ignore-typescript-definition-error/27827580#27827580", "title": "Ignore typescript definition error", "body": "<p>As you are dealing with an auto-generated defintion, you may find this trick useful.</p>\n\n<p>You can use module-merging to solve your issue without editing the auto-generated file.</p>\n\n<p>Include this definition file first and it will merge into the auto-generated file to create a merged \"class module\". (With definition files, the order isn't as important as if you are trying to use module-merging in real implementation code).</p>\n\n<p>myextension.d.ts</p>\n\n<pre><code>declare class MyEntities {\n    constructor(options: { name: string; databaseName: string; })\n}\n</code></pre>\n\n<p>Both declarations must have the same common root (this is what will cause them to merge), but looking at the definition in your question it looks like it will work for you.</p>\n"}, {"tags": [], "owner": {"reputation": 1001, "user_id": 3187607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e952f70c26e08575a8a2d75630d10f4a?s=128&d=identicon&r=PG&f=1", "display_name": "stsloth", "link": "https://stackoverflow.com/users/3187607/stsloth"}, "is_accepted": false, "score": 2, "last_activity_date": 1533981382, "last_edit_date": 1533981382, "creation_date": 1533969736, "answer_id": 51797177, "question_id": 27812147, "link": "https://stackoverflow.com/questions/27812147/ignore-typescript-definition-error/51797177#51797177", "title": "Ignore typescript definition error", "body": "<p>If properly fixing the error or using more decent workarounds like already suggested are not an option, as of TypeScript 2.6 (released on Oct 31, 2017), now there is <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments\" rel=\"nofollow noreferrer\">a way to ignore all errors from a specific line</a> using <code>// @ts-ignore</code> comments before the target line.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments\" rel=\"nofollow noreferrer\">The mendtioned documentation</a> is succinct enough, but to recap:</p>\n\n<pre><code>// @ts-ignore\nconst s : string = false\n</code></pre>\n\n<p>disables error reporting for this line.</p>\n\n<p>However, this should only be used as a last resort when fixing the error or using hacks like <code>(x as any)</code> is much more trouble than losing all type checking for a line.</p>\n\n<p>As for specifying certain errors, the current (mid-2018) state is discussed <a href=\"https://github.com/Microsoft/TypeScript/issues/22011\" rel=\"nofollow noreferrer\">here, in Design Meeting Notes (2/16/2018) and further comments</a>, which is basically</p>\n\n<blockquote>\n  <p>\"no conclusion <em>yet</em>\"</p>\n</blockquote>\n\n<p>and strong opposition to introducing this fine tuning.</p>\n"}], "owner": {"reputation": 2040, "user_id": 247007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/63bdd1db52d3709b927422b9f26eae83?s=128&d=identicon&r=PG", "display_name": "Roger Far", "link": "https://stackoverflow.com/users/247007/roger-far"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2208, "favorite_count": 1, "accepted_answer_id": 27827580, "answer_count": 3, "score": 2, "last_activity_date": 1533981382, "creation_date": 1420602657, "question_id": 27812147, "link": "https://stackoverflow.com/questions/27812147/ignore-typescript-definition-error", "title": "Ignore typescript definition error", "body": "<p>I have a 3rd party typescript definition file (JayData):</p>\n\n<pre><code>declare module MyEntities\n{\n    export class Container extends $data.EntityContext\n    {\n        public onReady(): $data.IPromise&lt;any&gt;;\n        public onReady(handler: (context: Container) =&gt; void): $data.IPromise&lt;any&gt;;\n\n        public Users: $data.EntitySet&lt;Models.UserModel&gt;;\n    }\n}\n</code></pre>\n\n<p>But a valid piece of Javascript is how to initialize the MyEntities class:</p>\n\n<pre><code>var db = new MyEntities({ name: 'local', databaseName: 'MyDb' });\n</code></pre>\n\n<p>But for TS this doesn't make sense, <code>MyEntities</code> is a module and not a class, thus throwing the compile error: <code>Cannot invoke an expression whose type lacks a call signature</code>.</p>\n\n<p>Is there any way around this to ignore this compile error?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 16944, "user_id": 1401879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/261a5f5af181ba929a5b066b19ae124f?s=128&d=identicon&r=PG", "display_name": "Stefan Haustein", "link": "https://stackoverflow.com/users/1401879/stefan-haustein"}, "edited": false, "score": 4, "creation_date": 1420590702, "post_id": 27809577, "comment_id": 44028186, "body": "Why do you think <code>delete map[&quot;S&quot;]</code> will leave a null behind? Shouldn&#39;t it just behave like JS? Did you try it?"}, {"owner": {"reputation": 2422, "user_id": 721145, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b704fc5edfd751fc96a79b39b79f41c9?s=128&d=identicon&r=PG", "display_name": "bb2", "link": "https://stackoverflow.com/users/721145/bb2"}, "reply_to_user": {"reputation": 16944, "user_id": 1401879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/261a5f5af181ba929a5b066b19ae124f?s=128&d=identicon&r=PG", "display_name": "Stefan Haustein", "link": "https://stackoverflow.com/users/1401879/stefan-haustein"}, "edited": false, "score": 0, "creation_date": 1420591084, "post_id": 27809577, "comment_id": 44028287, "body": "I just realized I had a typo and was getting [Object object] when printing the result. After I fixed that I saw that the item was successfully removed."}], "answers": [{"comments": [{"owner": {"reputation": 2375, "user_id": 74137, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eeeeb2accb30e568870526331d174508?s=128&d=identicon&r=PG", "display_name": "John Kaster", "link": "https://stackoverflow.com/users/74137/john-kaster"}, "edited": false, "score": 2, "creation_date": 1567030385, "post_id": 27809732, "comment_id": 101845217, "body": "This appears to leave an empty entry in the map?"}, {"owner": {"reputation": 101, "user_id": 9561879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38085d2894fbf129fa115d81d0ecaaa2?s=128&d=identicon&r=PG&f=1", "display_name": "tkokof", "link": "https://stackoverflow.com/users/9561879/tkokof"}, "edited": false, "score": 0, "creation_date": 1588759377, "post_id": 27809732, "comment_id": 109019647, "body": "<b>No</b>, delete map entry will not leave an empty entry"}, {"owner": {"reputation": 189, "user_id": 6796428, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/620b7a4182c5a80e4869c462a0f80d6b?s=128&d=identicon&r=PG&f=1", "display_name": "Maxime", "link": "https://stackoverflow.com/users/6796428/maxime"}, "edited": false, "score": 0, "creation_date": 1600287118, "post_id": 27809732, "comment_id": 113043605, "body": "It actually does leave an empty entry"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 31, "last_activity_date": 1504056008, "last_edit_date": 1504056008, "creation_date": 1420591296, "answer_id": 27809732, "question_id": 27809577, "link": "https://stackoverflow.com/questions/27809577/how-to-remove-item-from-string-index-array-in-typescript/27809732#27809732", "title": "How to remove item from string index array in Typescript", "body": "<blockquote>\n  <p>How can I fully remove item map[\"S\"]? I don't want to end up with a null object so using delete map[\"S\"] </p>\n</blockquote>\n\n<p><code>delete</code> does <em>clear it completely</em>: </p>\n\n<pre><code>interface IMap {\n[name: string]: string;\n}\n\nvar map: IMap = {};\nmap[\"S\"] = \"s\";\nmap[\"C\"] = \"c\";\nmap[\"D\"] = \"d\";\n\ndelete map[\"S\"];\nconsole.log(map);\nconsole.log(map[\"S\"],map[\"non-existent\"]); // undefined,undefined\nconsole.log(Object.keys(map)); // [\"C\",\"D\"]  \n</code></pre>\n"}], "owner": {"reputation": 2422, "user_id": 721145, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b704fc5edfd751fc96a79b39b79f41c9?s=128&d=identicon&r=PG", "display_name": "bb2", "link": "https://stackoverflow.com/users/721145/bb2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21419, "favorite_count": 1, "accepted_answer_id": 27809732, "answer_count": 1, "score": 20, "last_activity_date": 1504056008, "creation_date": 1420590320, "question_id": 27809577, "link": "https://stackoverflow.com/questions/27809577/how-to-remove-item-from-string-index-array-in-typescript", "title": "How to remove item from string index array in Typescript", "body": "<p>I have:</p>\n\n<pre><code>interface IMap {\n[name: string]: string;\n}\n\nvar map: IMap = {};\nmap[\"S\"] = \"s\";\nmap[\"C\"] = \"c\";\nmap[\"D\"] = \"d\";\n</code></pre>\n\n<p>How can I fully remove item map[\"S\"]? I don't want to end up with a null object so using delete map[\"S\"] wouldn't work.</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 2632, "user_id": 2633697, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Tlp23.jpg?s=128&g=1", "display_name": "hjl", "link": "https://stackoverflow.com/users/2633697/hjl"}, "edited": false, "score": 0, "creation_date": 1420569976, "post_id": 27804807, "comment_id": 44019236, "body": "take a look at my answer, but i will suggest you to use array in this case."}], "answers": [{"comments": [{"owner": {"reputation": 2422, "user_id": 721145, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b704fc5edfd751fc96a79b39b79f41c9?s=128&d=identicon&r=PG", "display_name": "bb2", "link": "https://stackoverflow.com/users/721145/bb2"}, "edited": false, "score": 0, "creation_date": 1420569199, "post_id": 27804859, "comment_id": 44018861, "body": "I don&#39;t want it ordered, I want it printed as I added it s, c, d but ng-repeat is printing it as c,d,s"}, {"owner": {"reputation": 2202, "user_id": 1452497, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9WtY4.png?s=128&g=1", "display_name": "Antiga", "link": "https://stackoverflow.com/users/1452497/antiga"}, "reply_to_user": {"reputation": 2422, "user_id": 721145, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b704fc5edfd751fc96a79b39b79f41c9?s=128&d=identicon&r=PG", "display_name": "bb2", "link": "https://stackoverflow.com/users/721145/bb2"}, "edited": false, "score": 1, "creation_date": 1420569239, "post_id": 27804859, "comment_id": 44018884, "body": "@bb2 That means you want it ordered. If you use an <code>object</code>, the order you add elements to it means nothing. I&#39;m not talking about sorting. (In Angular&#39;s case, it looks to be sorted alphabetical, but it will be random depending on the implementation)."}], "tags": [], "owner": {"reputation": 2202, "user_id": 1452497, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9WtY4.png?s=128&g=1", "display_name": "Antiga", "link": "https://stackoverflow.com/users/1452497/antiga"}, "is_accepted": false, "score": 1, "last_activity_date": 1420569451, "last_edit_date": 1420569451, "creation_date": 1420569005, "answer_id": 27804859, "question_id": 27804807, "link": "https://stackoverflow.com/questions/27804807/why-does-a-string-index-based-array-appear-sorted-in-angularjs-ng-repeat/27804859#27804859", "title": "Why does a string index based array appear sorted in angularjs ng-repeat", "body": "<p><code>Objects</code> are not ordered in JavaScript. If you want order, you need to use an <code>array</code>.</p>\n\n<p>I don't know exactly how to do that with TypeScript, but I imagine something like this:</p>\n\n<pre><code>var map: IMap = [];\n</code></pre>\n\n<p>Angular by default is sorting your <code>object literal</code> alphabetically because it doesn't have an order.</p>\n\n<p>Think of the object literal like a dictionary.</p>\n"}, {"tags": [], "owner": {"reputation": 2632, "user_id": 2633697, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Tlp23.jpg?s=128&g=1", "display_name": "hjl", "link": "https://stackoverflow.com/users/2633697/hjl"}, "is_accepted": true, "score": 1, "last_activity_date": 1420569522, "last_edit_date": 1420569522, "creation_date": 1420569211, "answer_id": 27804910, "question_id": 27804807, "link": "https://stackoverflow.com/questions/27804807/why-does-a-string-index-based-array-appear-sorted-in-angularjs-ng-repeat/27804910#27804910", "title": "Why does a string index based array appear sorted in angularjs ng-repeat", "body": "<p>angular will check the type of collection you would like to iterate, below is the snippet from source code, as you can see <code>collectionKeys.sort()</code> is sorted by alphanumeric ASC.\n<a href=\"https://github.com/angular/angular.js/blob/master/src/ng/directive/ngRepeat.js#L333\" rel=\"nofollow\">https://github.com/angular/angular.js/blob/master/src/ng/directive/ngRepeat.js#L333</a></p>\n\n<pre><code>if (isArrayLike(collection)) {\n  collectionKeys = collection;\n  trackByIdFn = trackByIdExpFn || trackByIdArrayFn;\n} else {\n  trackByIdFn = trackByIdExpFn || trackByIdObjFn;\n  // if object, extract keys, sort them and use to determine order of iteration over obj props\n  collectionKeys = [];\n  for (var itemKey in collection) {\n    if (collection.hasOwnProperty(itemKey) &amp;&amp; itemKey.charAt(0) != '$') {\n      collectionKeys.push(itemKey);\n    }\n  }\n  collectionKeys.sort();\n}\n</code></pre>\n\n<p>if you want it ordered as you put but still using object, you can create another array to keep the keys and ng-repeat on it. pseudocode below</p>\n\n<pre><code>scope.map = {S: 's', C: 'c', D: 'd'};\nscope.mapKey = ['S', 'C', 'D'];\n\n&lt;div ng-repeat=\"key in mapKey\"&gt;\n    {{map[key]}}\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 2422, "user_id": 721145, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b704fc5edfd751fc96a79b39b79f41c9?s=128&d=identicon&r=PG", "display_name": "bb2", "link": "https://stackoverflow.com/users/721145/bb2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 27804910, "answer_count": 2, "score": 0, "last_activity_date": 1420569522, "creation_date": 1420568824, "question_id": 27804807, "link": "https://stackoverflow.com/questions/27804807/why-does-a-string-index-based-array-appear-sorted-in-angularjs-ng-repeat", "title": "Why does a string index based array appear sorted in angularjs ng-repeat", "body": "<p>I created the following:</p>\n\n<pre><code>interface IMap {\n[name: string]: string;\n}\n\nvar map: IMap = {};\nmap[\"S\"] = \"s\";\nmap[\"C\"] = \"c\";\nmap[\"D\"] = \"d\";\n</code></pre>\n\n<p>When I go over an ng-repeat in angular, it prints them in this order c, d, s instead of s, c, d. Why is it being sorted?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "angular-ui", "angular-ui-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1420583179, "post_id": 27808259, "comment_id": 44025585, "body": "So does the controller actually configures/calls the modal? Isn&#39;t this breaking SOC?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1420583266, "post_id": 27808259, "comment_id": 44025640, "body": "No. Its the same as doing <code>error = &quot;bad thing happened&quot;</code> from the controller. Controller drives the UI, just doesn&#39;t use <code>$element</code>"}, {"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1420583443, "post_id": 27808259, "comment_id": 44025718, "body": "Yes, I was really confused the first time I saw $element, though it seems very common in examples. I just thought there was a way to configure the modal on the HTML side. Well, guess everythings clear now (except for the DT interfaces)"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1420585713, "post_id": 27808259, "comment_id": 44026613, "body": "I am using a <i>really</i> old version (1.5 years old). The interfaces correspond to the new version of angular strap and I&#39;ve updated the answer to reflect that. AKA The DT interfaces are correct."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1420585669, "last_edit_date": 1420585669, "creation_date": 1420583016, "answer_id": 27808259, "question_id": 27803691, "link": "https://stackoverflow.com/questions/27803691/how-to-use-angular-ui-bootstrap-modals-in-typescript/27808259#27808259", "title": "How to use angular-ui-bootstrap (modals) in typescript?", "body": "<blockquote>\n  <p>Am I right to assume that both ItemsListController and ItemDetailModalController need an instance of the same scope in order to exchange the data?</p>\n</blockquote>\n\n<p>Yes. I actually think of modals as an extension of <code>ItemsListController</code> containing members <code>shownDetails:ItemDetailModalController</code>. Which means you don't need to come up with a messy way of sharing <code>$scope</code> as its just a single <code>$scope</code>. </p>\n\n<blockquote>\n  <p>And how can I define the controller and the template for the modal directive using the interfaces above?</p>\n</blockquote>\n\n<p>This is what I have (note that you are sharing the scope): </p>\n\n<pre><code>            this.$modal.open({\n                templateUrl: 'path/To/ItemModalDetails.html',\n                scope: this.$scope,\n            })\n</code></pre>\n\n<p>Where <code>$modal:IModalService</code> corresponds to what angular strap gives you : <a href=\"http://angular-ui.github.io/bootstrap/#/modal\" rel=\"nofollow\">http://angular-ui.github.io/bootstrap/#/modal</a></p>\n"}, {"comments": [{"owner": {"reputation": 531, "user_id": 1829319, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/65a6b29076d474665b089e902d64fc77?s=128&d=identicon&r=PG", "display_name": "user1829319", "link": "https://stackoverflow.com/users/1829319/user1829319"}, "edited": false, "score": 0, "creation_date": 1449312020, "post_id": 28373164, "comment_id": 55959058, "body": "Hi Juanjo, I like this style that you are using and I prefer it. However, I have some problems. I have posted my question in a separate post in here:  <a href=\"http://stackoverflow.com/questions/34103868/angular-ui-bootstrap-modal-and-typescript\" title=\"angular ui bootstrap modal and typescript\">stackoverflow.com/questions/34103868/&hellip;</a>"}], "tags": [], "owner": {"reputation": 343, "user_id": 1277401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388cae9cd1fc03ab974ba6e2a55874e5?s=128&d=identicon&r=PG", "display_name": "Juanjo", "link": "https://stackoverflow.com/users/1277401/juanjo"}, "is_accepted": false, "score": 21, "last_activity_date": 1423250397, "creation_date": 1423250397, "answer_id": 28373164, "question_id": 27803691, "link": "https://stackoverflow.com/questions/27803691/how-to-use-angular-ui-bootstrap-modals-in-typescript/28373164#28373164", "title": "How to use angular-ui-bootstrap (modals) in typescript?", "body": "<p>The instance injected by angular will be of type <code>ng.ui.bootstrap.IModalService</code>.</p>\n\n<p>And since you are using \"controller as\" syntax, there is no need to start using <code>$scope</code> here, instead you can use resolve as shown in the <a href=\"https://angular-ui.github.io/bootstrap/#/modal\">angular-ui modal example</a>.</p>\n\n<p>Here's the example code:</p>\n\n<pre><code>class ItemsListController {\n    static controllerId = 'ItemsListController';\n    static $inject = ['$modal'];\n\n    data = [\n        { value1: 'Item1Value1', value2: 'Item1Value2' },\n        { value1: 'Item2Value1', value2: 'Item2Value2' }\n    ];\n\n    constructor(private $modal: ng.ui.bootstrap.IModalService) { }\n\n    edit(item) {\n        var options: ng.ui.bootstrap.IModalSettings = {\n            templateUrl: 'modal.html',\n            controller: ItemDetailController.controllerId + ' as modal',\n            resolve: {\n                item: () =&gt; item // &lt;- this will pass the same instance \n                                 // of the item displayed in the table to the modal\n            }\n        };\n\n        this.$modal.open(options).result\n            .then(updatedItem =&gt; this.save(updatedItem));\n            //.then(_ =&gt; this.save(item)); // &lt;- this works the same way as the line above\n    }\n\n    save(item) {\n        console.log('saving', item);\n    }\n}\n\nclass ItemDetailController {\n    static controllerId = 'ItemDetailController';\n    static $inject = ['$modalInstance', 'item'];\n\n    constructor(private $modalInstance: ng.ui.bootstrap.IModalServiceInstance, public item) { }\n\n    save() {\n        this.$modalInstance.close(this.item); // passing this item back \n                                              // is not necessary since it \n                                              // is the same instance of the \n                                              // item sent to the modal\n    }\n\n    cancel() {\n        this.$modalInstance.dismiss('cancel');\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21754, "favorite_count": 4, "answer_count": 2, "score": 10, "last_activity_date": 1423250397, "creation_date": 1420564291, "question_id": 27803691, "link": "https://stackoverflow.com/questions/27803691/how-to-use-angular-ui-bootstrap-modals-in-typescript", "title": "How to use angular-ui-bootstrap (modals) in typescript?", "body": "<p>I'd like to edit some data from a table using a modal. There are various interfaces in the typescript definitions for angular-ui-bootstrap from definitelyTyped, however they are undocumented and I'm not able to find any examples on how to use them.</p>\n\n<ul>\n<li>IModalScope</li>\n<li>IModalService</li>\n<li>IModalServiceInstance</li>\n<li>IModalSettings</li>\n<li>IModalStackService</li>\n</ul>\n\n<p><a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/angular-ui-bootstrap/angular-ui-bootstrap.d.ts#L146\" rel=\"noreferrer\">https://github.com/borisyankov/DefinitelyTyped/blob/master/angular-ui-bootstrap/angular-ui-bootstrap.d.ts#L146</a></p>\n\n<p>What I'd like to achieve is something like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/yLmGS.png\" alt=\"layout\"></p>\n\n<p>Am I right to assume that both ItemsListController and ItemDetailModalController need an instance of the same scope in order to exchange the data? And how can I define the controller and the template for the modal directive using the interfaces above?</p>\n\n<p>I already found this non-typescript example here: <a href=\"https://angular-ui.github.io/bootstrap/#/modal\" rel=\"noreferrer\">https://angular-ui.github.io/bootstrap/#/modal</a></p>\n\n<p>However, as a beginner I've got a hard time understanding what's going on if samples throw everything in one single file without separating the concerns.</p>\n"}, {"tags": ["eclipse", "node.js", "typescript"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 1, "creation_date": 1420621050, "post_id": 27802690, "comment_id": 44037552, "body": "Can you tell us what the error messages are for those three lines? If you add the following example to a TypeScript file in your project, do you get similar errors? <a href=\"http://bit.ly/1BGST0c\" rel=\"nofollow noreferrer\">bit.ly/1BGST0c</a>"}, {"owner": {"reputation": 13108, "user_id": 597292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/99a1f46637008d32957964f799d41647?s=128&d=identicon&r=PG", "display_name": "Centurion", "link": "https://stackoverflow.com/users/597292/centurion"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1420625270, "post_id": 27802690, "comment_id": 44039894, "body": "@SteveFenton I have updated print screen image in the question. It shows cannot read file events.ts. Interesting to note, I have downloaded and used some other node.d.ts file yesterday (don&#39;t remember from where) and it works. However for such guys like me who are not very strong with javascript/typescript, it would be good to know how we can check if wrong node.d.ts is used. Therefore I assume the rest code itself is correct."}, {"owner": {"reputation": 13108, "user_id": 597292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/99a1f46637008d32957964f799d41647?s=128&d=identicon&r=PG", "display_name": "Centurion", "link": "https://stackoverflow.com/users/597292/centurion"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1420626121, "post_id": 27802690, "comment_id": 44040412, "body": "@SteveFenton Sorry. Tried your example, and it&#39;s also give me similar error about no such file or directory example-one.ts"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 1, "creation_date": 1420629197, "post_id": 27802690, "comment_id": 44042195, "body": "What plugin are you using - it sounds like the plugin has a bug. If you compile your code using the TypeScript compiler, it should work: <code>tsc --module commonjs Server.ts</code>"}, {"owner": {"reputation": 13108, "user_id": 597292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/99a1f46637008d32957964f799d41647?s=128&d=identicon&r=PG", "display_name": "Centurion", "link": "https://stackoverflow.com/users/597292/centurion"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1420634725, "post_id": 27802690, "comment_id": 44045295, "body": "@SteveFenton Yes, tsc compilator compiled my code. See updated question. My bad, probably Enida plugin wasn&#39;t installed properly that&#39;s why it was not recognising require or node.d.ts"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1420640538, "post_id": 27802690, "comment_id": 44048663, "body": "I have tried your code example using Eclipse Luna and TypEcs (along with the Definitely Typed node.d.ts file) and it works. <a href=\"https://github.com/borisyankov/DefinitelyTyped/tree/master/node\" rel=\"nofollow noreferrer\">github.com/borisyankov/DefinitelyTyped/tree/master/node</a>"}, {"owner": {"reputation": 13572, "user_id": 657427, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd071a6a7c97ba637c558c5e71137c7b?s=128&d=identicon&r=PG", "display_name": "Christophe Roussy", "link": "https://stackoverflow.com/users/657427/christophe-roussy"}, "edited": false, "score": 0, "creation_date": 1455873755, "post_id": 27802690, "comment_id": 58694455, "body": "It works using the Eclipse TypeScript Palantir plugin + node.js: <a href=\"https://github.com/palantir/eclipse-typescript\" rel=\"nofollow noreferrer\">github.com/palantir/eclipse-typescript</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13108, "user_id": 597292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/99a1f46637008d32957964f799d41647?s=128&d=identicon&r=PG", "display_name": "Centurion", "link": "https://stackoverflow.com/users/597292/centurion"}, "edited": false, "score": 0, "creation_date": 1420562807, "post_id": 27803171, "comment_id": 44015324, "body": "Even if I change to import, compiler still complains about missing files (events.ts, net.ts) in node.d.ts. Maybe something else is wrong? See screenshot in updated answer."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 2, "last_activity_date": 1420562566, "creation_date": 1420562566, "answer_id": 27803171, "question_id": 27802690, "link": "https://stackoverflow.com/questions/27802690/how-to-setup-node-js-eclipse-typescript-correctly/27803171#27803171", "title": "How to setup Node.js + Eclipse + TypeScript correctly?", "body": "<p>You should be able to use <code>import</code> rather than <code>var</code>:</p>\n\n<pre><code>/// &lt;reference path=\"node.d.ts\" /&gt;\n\n//var http = require('http');\nimport http = require('http');\n</code></pre>\n\n<p>This will work even though <code>http</code> isn't a file. Everything in <code>node.d.ts</code> should be avaalble in this way. If you are using other node stuff, like express, you'll need additional <code>.d.ts</code> files.</p>\n"}, {"tags": [], "owner": {"reputation": 13108, "user_id": 597292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/99a1f46637008d32957964f799d41647?s=128&d=identicon&r=PG", "display_name": "Centurion", "link": "https://stackoverflow.com/users/597292/centurion"}, "is_accepted": false, "score": 2, "last_activity_date": 1420637434, "creation_date": 1420637434, "answer_id": 27820629, "question_id": 27802690, "link": "https://stackoverflow.com/questions/27802690/how-to-setup-node-js-eclipse-typescript-correctly/27820629#27820629", "title": "How to setup Node.js + Eclipse + TypeScript correctly?", "body": "<p>Thanks to @SteveFenton, I was able to spot my own silly mistake. It's just I'v not worked with Eclipse a lot and because of that I didn't notified Enida for node plugin was not fully installed. Here are the screenshot which I'v got. Still need to investigate why it didn't installed correctly. </p>\n\n<p><img src=\"https://i.stack.imgur.com/zdqUJ.png\" alt=\"enter image description here\"></p>\n\n<p>Here are the errors:</p>\n\n<p><img src=\"https://i.stack.imgur.com/WjKn0.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 13108, "user_id": 597292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/99a1f46637008d32957964f799d41647?s=128&d=identicon&r=PG", "display_name": "Centurion", "link": "https://stackoverflow.com/users/597292/centurion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8000, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1552596983, "creation_date": 1420561042, "last_edit_date": 1420633936, "question_id": 27802690, "link": "https://stackoverflow.com/questions/27802690/how-to-setup-node-js-eclipse-typescript-correctly", "title": "How to setup Node.js + Eclipse + TypeScript correctly?", "body": "<p>Just started to warm up with Node.js + Eclipse + TypeScript and already banging my head for a few days. Here's a code of my Server.ts file which I used from node.js website (just added reference path at the top):</p>\n\n<pre><code>/// &lt;reference path=\"node.d.ts\" /&gt;\n\nvar http = require('http');\n\nhttp.createServer(function (req, res) {\n  res.writeHead(200, {'Content-Type': 'text/plain'});\n  res.end('Hello World\\n');\n}).listen(1337, '127.0.0.1');\n\nconsole.log('Server running at http://127.0.0.1:1337/');\n</code></pre>\n\n<p>The problem is, if I don't use reference path at the bottom and use node.d.ts file then it shows \"Cannot find name require\" where I'm including http module. But if I use node.d.ts and reference it then it shows a bunch of errors inside node.d.ts ():</p>\n\n<pre><code>import events = require(\"events\"); // shows no such file or directory events.ts\nimport net = require(\"net\"); // shows no such file or directory net.ts\n</code></pre>\n\n<p>Indeed there are no such files, and even they would they should be js files not ts (imho). Anyway, executing \"tsc -v\" shows me I'm using TypeScript 1.3 version. After googling I found and  used this <a href=\"https://github.com/soywiz/typescript-node-definitions/blob/master/node.d.ts\" rel=\"nofollow noreferrer\">node.d.ts file for my TypeScript 1.3</a>. However it looks like it's wrong file or I'm missing some point.</p>\n\n<p>I'm still a confused a lot about these *.d.ts files. My eclipse project has generated a reference to some lib.d.ts but it doesn't help if I try to reference it instead of manual node.d.ts file. Why we need them for even fundamental commands like require? And of course, any help would be appreciated :)</p>\n\n<p><strong>Update</strong> here's a screenshot about node.d.ts complains:</p>\n\n<p><img src=\"https://i.stack.imgur.com/KNV97.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Update2</strong> Finally, I understood :) It appears TypeScript itself knowns nothing about special javascript things that are present on Node.js (these features are not present in regular browser javascript). That's why TypeScript compilers complains about require which is Node.js specific stuff. Therefore we need some bridging definition for TypeScript compiler about Node.js specific things. Therefore we need to include node.d.ts. The same we need to do for other javascript frameworks or libs in order to be able to use them in TypeScript. The question remains why Eclipse complains about my node.d.ts file...</p>\n\n<p><strong>Update3</strong>. I'v installed <a href=\"http://www.nodeclipse.org/updates/\" rel=\"nofollow noreferrer\">Enide Studio 2014</a> plugin for node which includes Typecs plugin on my work's computer (Maverics). Here's my installed plugin list for Eclipse:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jGZnz.png\" alt=\"enter image description here\"></p>\n\n<p>Now I noticed there no Enide plugin and I remember its installation took quite a long yesterday, therefore thanks to @SteveFenton spot, it may be a problem. Today started to install Enide plugin again and here's a screen shot of installation process:</p>\n\n<p><img src=\"https://i.stack.imgur.com/gGgLn.png\" alt=\"enter image description here\"></p>\n\n<p>The same installation was successful on the same Eclipse version (Luna) on my Yosemite mac at home. </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 1, "creation_date": 1420555972, "post_id": 27800896, "comment_id": 44010893, "body": "My recommendation for this can be found here, there are also alternate suggestions on that question (which is nearly identical to yours): <a href=\"http://stackoverflow.com/questions/27709097/how-to-pass-variable-arguments-to-base-class/27711881#27711881\" title=\"how to pass variable arguments to base class\">stackoverflow.com/questions/27709097/&hellip;</a>"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 1, "creation_date": 1420556234, "post_id": 27800896, "comment_id": 44011052, "body": "Example adapted to your question: <a href=\"http://bit.ly/13Wnz2u\" rel=\"nofollow noreferrer\">bit.ly/13Wnz2u</a>"}, {"owner": {"reputation": 1029, "user_id": 2598575, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ed2193a67a1315c22560fabd224897f?s=128&d=identicon&r=PG", "display_name": "Alexey Kulikov", "link": "https://stackoverflow.com/users/2598575/alexey-kulikov"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1420579173, "post_id": 27800896, "comment_id": 44023682, "body": "thanks! it works for me!"}], "owner": {"reputation": 1029, "user_id": 2598575, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ed2193a67a1315c22560fabd224897f?s=128&d=identicon&r=PG", "display_name": "Alexey Kulikov", "link": "https://stackoverflow.com/users/2598575/alexey-kulikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "closed_date": 1420555982, "answer_count": 0, "score": 0, "last_activity_date": 1420554918, "creation_date": 1420554918, "question_id": 27800896, "link": "https://stackoverflow.com/questions/27800896/typescript-cast-to-variable-parameters", "closed_reason": "Duplicate", "title": "Typescript cast to variable parameters", "body": "<p>I have a function:</p>\n\n<pre><code>start(...args: any[]): void {\n// some code\n}\n</code></pre>\n\n<p>Whis function called from another <code>start</code> function like:</p>\n\n<pre><code>start(...args: any[]): void {\n            if (args.length !== 3)\n                throw \"controller invalid args\";\n            this.url = args[2];\n            args.slice(2, 1);\n            super.start(args);\n        }\n</code></pre>\n\n<p>so, internal call to <code>super.start</code> pushes invalid argumest. For example I have call:</p>\n\n<pre><code>start('user', 'pass', 'http://someUrl.com')\n</code></pre>\n\n<p>so i save third param to <code>this.url</code> and need to pass first and second params to <code>super.start</code>. TypeScript translate in way where an array (<code>args</code>) passed as first parametr, buy I need to pass this array as variable parameters. Is it possible? Thanks!</p>\n"}, {"tags": ["node.js", "express", "typescript"], "comments": [{"owner": {"reputation": 74735, "user_id": 82586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HfVKA.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/82586/james"}, "edited": false, "score": 0, "creation_date": 1420552647, "post_id": 27800021, "comment_id": 44008779, "body": "Suggests to me that the error is still in there, somewhere."}, {"owner": {"reputation": 3991, "user_id": 918608, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5f8e40c00556954cd5c6159ef6ae54ed?s=128&d=identicon&r=PG&f=1", "display_name": "Josh C.", "link": "https://stackoverflow.com/users/918608/josh-c"}, "edited": false, "score": 0, "creation_date": 1420554200, "post_id": 27800021, "comment_id": 44009802, "body": "Could you post some code?"}, {"owner": {"reputation": 232, "user_id": 3256535, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/OVXQ3.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/3256535/ben"}, "reply_to_user": {"reputation": 74735, "user_id": 82586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HfVKA.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/82586/james"}, "edited": false, "score": 0, "creation_date": 1420558395, "post_id": 27800021, "comment_id": 44012443, "body": "@James - error definitely still isn&#39;t there.  The app is only about 25 lines at the minute!  As I said, I&#39;m just playing around with node for the first time."}], "answers": [{"comments": [{"owner": {"reputation": 232, "user_id": 3256535, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/OVXQ3.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/3256535/ben"}, "edited": false, "score": 2, "creation_date": 1420558443, "post_id": 27800174, "comment_id": 44012470, "body": "For some, unknown, reason uninstalling and then re installing Node.js Tools for Visual Studio seems to have solved the problem."}], "tags": [], "owner": {"reputation": 8870, "user_id": 752916, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cdb94f8d7a97d9b10f32554b231a4782?s=128&d=identicon&r=PG", "display_name": "AlexMA", "link": "https://stackoverflow.com/users/752916/alexma"}, "is_accepted": true, "score": 0, "last_activity_date": 1420552658, "creation_date": 1420552658, "answer_id": 27800174, "question_id": 27800021, "link": "https://stackoverflow.com/questions/27800021/node-js-express-app-changing-source-code-does-not-change-app/27800174#27800174", "title": "Node.js/Express App - Changing source code does not change app", "body": "<p>This is almost certainly an issue with one of the tools you are using, or perhaps a weird system setup. With native javascript you don't compile anything, so loading new server code just requires restarting the server--you never have to restart your machine (disabling browser cache is always a good idea though).  You should find where the javascript files are that typescript built, fix the typo there manually, then try running the server; perhaps without the involvement of your IDE (in case the plugin is buggy or just to reduce the range of possible culprits).</p>\n"}], "owner": {"reputation": 232, "user_id": 3256535, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/OVXQ3.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/3256535/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 27800174, "answer_count": 1, "score": 0, "last_activity_date": 1420552658, "creation_date": 1420552135, "question_id": 27800021, "link": "https://stackoverflow.com/questions/27800021/node-js-express-app-changing-source-code-does-not-change-app", "title": "Node.js/Express App - Changing source code does not change app", "body": "<p>Firstly - sorry for the rather dodgy question title.  I've been trying to figure out how to explain what I'm experiencing and I couldn't sum it up with a catchy title.</p>\n\n<p>Basically I'm just starting out playing around with Node.  I'm trying to put together a very simple node/express app.</p>\n\n<p>Initially, everything was fine.  I set up a few routes and they all worked.  Except one, which errored.  It errored because of a typo.  Ooops.</p>\n\n<p>Fixed the typo and tried to navigate the route in Chrome.  The error persisted.</p>\n\n<p>I've cleared browser cache, restarted my machine and everything/anything else I can think of.  I've even deleted all the js and compiled again from typescript.  Nothing seems to work, no changes seem to make it into the app.</p>\n\n<p>Hopefully this is a node newbie issue!</p>\n\n<p>Tools:  Visual Studio 2013, Node.js Tools for Visual Studio and TypeScript</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 6221, "user_id": 259288, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c018a1f0997014d4d8332b17bc392ef2?s=128&d=identicon&r=PG", "display_name": "Johnny", "link": "https://stackoverflow.com/users/259288/johnny"}, "edited": false, "score": 0, "creation_date": 1420561016, "post_id": 27801155, "comment_id": 44014187, "body": "I tried the internal modules code you provided, but that still didn&#39;t work. As soon as I add the Backbone.js import it fails with the same message. The reason I&#39;m using modules is to provide namespacing, so I don&#39;t want to use bare classes."}, {"owner": {"reputation": 6221, "user_id": 259288, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c018a1f0997014d4d8332b17bc392ef2?s=128&d=identicon&r=PG", "display_name": "Johnny", "link": "https://stackoverflow.com/users/259288/johnny"}, "edited": false, "score": 0, "creation_date": 1420561882, "post_id": 27801155, "comment_id": 44014741, "body": "So if I wanted both the Animal class and the Snake class to be within module A.B how would I go about naming the files?"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 6221, "user_id": 259288, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c018a1f0997014d4d8332b17bc392ef2?s=128&d=identicon&r=PG", "display_name": "Johnny", "link": "https://stackoverflow.com/users/259288/johnny"}, "edited": false, "score": 0, "creation_date": 1420561937, "post_id": 27801155, "comment_id": 44014774, "body": "With external modules, the file represents the module - so the bare classes are not added to the global scope. The mix of internal and external modules in your case is a problem (you would need to make both modules internal and your second is wrapped within the <code>define</code> function at runtime, which means it is in a different root."}, {"owner": {"reputation": 6221, "user_id": 259288, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c018a1f0997014d4d8332b17bc392ef2?s=128&d=identicon&r=PG", "display_name": "Johnny", "link": "https://stackoverflow.com/users/259288/johnny"}, "edited": false, "score": 0, "creation_date": 1420579956, "post_id": 27801155, "comment_id": 44024072, "body": "So I don&#39;t understand. How would I make both Animal and Snake be under the A.B namespace while adding the Backbone.js import?"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 6221, "user_id": 259288, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c018a1f0997014d4d8332b17bc392ef2?s=128&d=identicon&r=PG", "display_name": "Johnny", "link": "https://stackoverflow.com/users/259288/johnny"}, "edited": false, "score": 0, "creation_date": 1420584194, "post_id": 27801155, "comment_id": 44026013, "body": "When using external modules, you would have to add them to the same file. I would look past trying to get them in exactly the same namespace in your case though."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 3, "last_activity_date": 1420561867, "last_edit_date": 1420561867, "creation_date": 1420555892, "answer_id": 27801155, "question_id": 27799609, "link": "https://stackoverflow.com/questions/27799609/cannot-find-symbol-when-referencing-d-ts-file/27801155#27801155", "title": "Cannot find symbol when referencing d.ts file", "body": "<p>You are mixing internal and external modules. This creates a problem because the <code>module A.B</code> in your app.ts file is not in the \"same common root\" as the <code>module A.B</code> in your main.ts file.</p>\n\n<h1>Mixed Mode</h1>\n\n<p>Not really recommended... and you can't supplement the internal module from within an external module...</p>\n\n<p>main.ts (internal module)</p>\n\n<pre><code>module A.B {\n    export class Animal {\n\n        constructor(argument) {\n            // code...\n        }\n\n        go(): string {\n            return 'snow';\n        }\n    }\n} \n</code></pre>\n\n<p>app.ts (external - wrapped within a <code>define</code> function)</p>\n\n<pre><code>/// &lt;reference path=\"main.ts\" /&gt;\n/// &lt;reference path=\"scripts/typings/backbone/backbone.d.ts\" /&gt;\n\nimport Backbone = require(\"backbone\");\n\nmodule X {\n    class Snake {\n\n        constructor(argument) {\n            new A.B.Animal(argument).go();\n        }\n    }\n}\n</code></pre>\n\n<h1>Internal Modules</h1>\n\n<p>You can't use import statements, so you'd have to load the modules yourself (i.e. in <code>script</code> tags).</p>\n\n<p>main.ts (note, we don't <code>export</code> the module)</p>\n\n<pre><code>module A.B {\n    export class Animal {\n\n        constructor(argument) {\n            // code...\n        }\n\n        go(): string {\n            return 'snow';\n        }\n    }\n}\n</code></pre>\n\n<p>app.ts</p>\n\n<pre><code>/// &lt;reference path=\"main.ts\" /&gt;\n\nmodule A.B {\n    class Snake {\n        constructor(argument) {\n            new Animal(argument).go();\n        }\n    }\n}\n</code></pre>\n\n<h1>Go External Modules!</h1>\n\n<p>You can use module loading - on your own code too. Everything is kept out of the global scope.</p>\n\n<p>main.ts</p>\n\n<pre><code>export class Animal {\n\n    constructor(argument) {\n        // code...\n    }\n\n    go(): string {\n        return 'snow';\n    }\n}\n</code></pre>\n\n<p>app.ts</p>\n\n<pre><code>import Main = require(\"main\");\n\nclass Snake {\n\n    constructor(argument) {\n        new Main.Animal(argument).go();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6221, "user_id": 259288, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c018a1f0997014d4d8332b17bc392ef2?s=128&d=identicon&r=PG", "display_name": "Johnny", "link": "https://stackoverflow.com/users/259288/johnny"}, "is_accepted": true, "score": 0, "last_activity_date": 1420645240, "creation_date": 1420645240, "answer_id": 27823052, "question_id": 27799609, "link": "https://stackoverflow.com/questions/27799609/cannot-find-symbol-when-referencing-d-ts-file/27823052#27823052", "title": "Cannot find symbol when referencing d.ts file", "body": "<p>Here's how I ended up solving it:</p>\n\n<pre><code>module AA.BB {\n    export class Animal {\n\n        constructor(argument) {\n            // code...\n        }\n\n        go() : string {\n            return 'snow';\n        }\n    }   \n}\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>/// &lt;reference path=\"Animal.ts\" /&gt;\n/// &lt;reference path=\"../../../keyword-exploration/public/typescript/definitions/jquery.d.ts\" /&gt;\n/// &lt;reference path=\"../../../keyword-exploration/public/typescript/definitions/underscore.d.ts\" /&gt;\n/// &lt;reference path=\"../../../keyword-exploration/public/typescript/definitions/backbone.d.ts\" /&gt;\n\nmodule AA.BB {\n    class Snake extends Backbone.View&lt;Backbone.Model&gt; {\n\n        constructor(argument) {\n            super(argument);\n            new AA.BB.Animal({});\n\n        }\n    }   \n}\n</code></pre>\n\n<p>Note that there's no need for a <code>require</code> statement for Backbone.js.</p>\n"}], "owner": {"reputation": 6221, "user_id": 259288, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c018a1f0997014d4d8332b17bc392ef2?s=128&d=identicon&r=PG", "display_name": "Johnny", "link": "https://stackoverflow.com/users/259288/johnny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3649, "favorite_count": 0, "accepted_answer_id": 27823052, "answer_count": 2, "score": 1, "last_activity_date": 1420645240, "creation_date": 1420550597, "question_id": 27799609, "link": "https://stackoverflow.com/questions/27799609/cannot-find-symbol-when-referencing-d-ts-file", "title": "Cannot find symbol when referencing d.ts file", "body": "<p>I'm trying to use Backbone.js with my Typescript code. When I add the import <code>tsc</code> fails to compile my code with <code>child.ts(12,8): error TS2304: Cannot find name 'Animal'.</code>.</p>\n\n<p>Here's the <code>main.ts</code> file:</p>\n\n<pre><code>export module A.B {\n    export class Animal {\n\n        constructor(argument) {\n            // code...\n        }\n\n        go() : string {\n            return 'snow';\n        }\n    }\n}\n</code></pre>\n\n<p>And here's the <code>child.ts</code> file referencing it:</p>\n\n<pre><code>/// &lt;reference path=\"main.ts\" /&gt;\n/// &lt;reference path=\"jquery.d.ts\" /&gt;\n/// &lt;reference path=\"underscore.d.ts\" /&gt;\n/// &lt;reference path=\"backbone.d.ts\" /&gt;\n\nimport Backbone = require(\"backbone\");\n\nmodule A.B {\n    class Snake {\n\n        constructor(argument) {\n            new Animal(argument).go();\n        }\n    }\n}\n</code></pre>\n\n<p>If I remove the import <code>child.ts</code> compiles fine. What am I doing wrong?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 9151, "user_id": 783653, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4a35d104523ef520dd5d9f60c7e1eeb1?s=128&d=identicon&r=PG", "display_name": "vilicvane", "link": "https://stackoverflow.com/users/783653/vilicvane"}, "edited": false, "score": 0, "creation_date": 1420548813, "post_id": 27796664, "comment_id": 44006598, "body": "Have you tried to add RequireJS and compile your library with AMD? Or try some other techniques like browserify?"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1420550321, "creation_date": 1420550321, "answer_id": 27799541, "question_id": 27796664, "link": "https://stackoverflow.com/questions/27796664/how-can-one-include-external-libraries-in-typescript/27799541#27799541", "title": "How can one include external libraries in typescript", "body": "<blockquote>\n  <p>But in the browser this does not work as it misses require. It works in node.</p>\n</blockquote>\n\n<p>you can use nodejs packages in the browser using browserify OR webpack. FYI Facebook uses webpack.</p>\n"}], "owner": {"reputation": 14837, "user_id": 1404422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ce39578fd1e5dbeaa44712d3bc55bc95?s=128&d=identicon&r=PG", "display_name": "Kenneth Lynne", "link": "https://stackoverflow.com/users/1404422/kenneth-lynne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1420550321, "creation_date": 1420540073, "last_edit_date": 1420540470, "question_id": 27796664, "link": "https://stackoverflow.com/questions/27796664/how-can-one-include-external-libraries-in-typescript", "title": "How can one include external libraries in typescript", "body": "<p>I would like to be able to create a library that is dependent on other libraries that works in both a node and in a browser environment.</p>\n\n<p><strong>Contrived example:</strong> </p>\n\n<pre><code>module Core.Libraries {\n   export var lodash = require('lodash');\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>var lodash = require('../../../../dist/core').Libraries.lodash;\n\nvar expect = require('chai').expect;\n\ndescribe('Core.Libraries.lodash', function () {\n  it('should exist', function () {\n    expect(lodash).to.be.ok;\n  });\n\n  it('should be lodash', function () {\n    var result = lodash([1, 2, 3])\n      .map(function (i) {\n        return i * 2;\n      })\n      .reduce(function (sum, current) {\n        return sum + current;\n      });\n\n    expect(result).to.equal(12);\n  });\n});\n</code></pre>\n\n<p>But in the browser this does not work as it misses require. It works in node.</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 0, "creation_date": 1420490316, "post_id": 27787463, "comment_id": 43984845, "body": "This question is both too broad and likely to be opinion based. Can you say <i>specifically</i> what problem you believe you might encounter using typescript in a &quot;large&quot; project? You might also define &quot;large&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1420491368, "creation_date": 1420491368, "answer_id": 27787756, "question_id": 27787463, "link": "https://stackoverflow.com/questions/27787463/typescript-with-large-projects/27787756#27787756", "title": "Typescript with large projects", "body": "<p>Yes. TypeScript is specifically designed to handle large JavaScript code bases. In fact I personally am working on a project with nearly 200 Controllers.  </p>\n\n<p>If you do go this route check out this video : <a href=\"https://youtube.com/watch?v=WdtVn_8K17E&amp;hd=1\" rel=\"nofollow\">https://youtube.com/watch?v=WdtVn_8K17E&amp;hd=1</a> as well as <a href=\"https://github.com/TypeStrong/grunt-ts\" rel=\"nofollow\">https://github.com/TypeStrong/grunt-ts</a></p>\n"}], "owner": {"reputation": 3596, "user_id": 2481780, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/IlH4E.jpg?s=128&g=1", "display_name": "Andzej Maciusovic", "link": "https://stackoverflow.com/users/2481780/andzej-maciusovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 798, "favorite_count": 0, "closed_date": 1420494683, "accepted_answer_id": 27787756, "answer_count": 1, "score": -1, "last_activity_date": 1420491368, "creation_date": 1420490122, "question_id": 27787463, "link": "https://stackoverflow.com/questions/27787463/typescript-with-large-projects", "closed_reason": "Needs more focus", "title": "Typescript with large projects", "body": "<p>Can TypeScript be used for very large projects? In my current job we developing UI layer using AngularJs. Project have thousands of angular controllers and other stuff. I afraid to suggest other team  members to start using typescript, because I have no experience with TypeScript in such big projects. Does typescript have some big drawbacks?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 8181, "user_id": 1220627, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bcc4752767827a60b2e32ac3d090f337?s=128&d=identicon&r=PG", "display_name": "Sn&#230;bj&#248;rn", "link": "https://stackoverflow.com/users/1220627/sn%c3%a6bj%c3%b8rn"}, "edited": false, "score": 0, "creation_date": 1420492292, "post_id": 27787718, "comment_id": 43985789, "body": "That&#39;s exactly what I&#39;m doing"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 8181, "user_id": 1220627, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bcc4752767827a60b2e32ac3d090f337?s=128&d=identicon&r=PG", "display_name": "Sn&#230;bj&#248;rn", "link": "https://stackoverflow.com/users/1220627/sn%c3%a6bj%c3%b8rn"}, "edited": false, "score": 0, "creation_date": 1420496091, "post_id": 27787718, "comment_id": 43987647, "body": "@Sn&#230;bj&#248;rn you are putting members <i>on the scope</i> e.g. changeName. You should just have them as members of the <i>class</i>"}, {"owner": {"reputation": 8181, "user_id": 1220627, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bcc4752767827a60b2e32ac3d090f337?s=128&d=identicon&r=PG", "display_name": "Sn&#230;bj&#248;rn", "link": "https://stackoverflow.com/users/1220627/sn%c3%a6bj%c3%b8rn"}, "edited": false, "score": 0, "creation_date": 1420496791, "post_id": 27787718, "comment_id": 43987950, "body": "Fair enough but I haven&#39;t even gotten to that yet, that was just some copy paste code to see if something worked and it didn&#39;t."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 8181, "user_id": 1220627, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bcc4752767827a60b2e32ac3d090f337?s=128&d=identicon&r=PG", "display_name": "Sn&#230;bj&#248;rn", "link": "https://stackoverflow.com/users/1220627/sn%c3%a6bj%c3%b8rn"}, "edited": false, "score": 0, "creation_date": 1420506108, "post_id": 27787718, "comment_id": 43990840, "body": "<code>but I&#39;m striking out</code> how exactly?"}, {"owner": {"reputation": 8181, "user_id": 1220627, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bcc4752767827a60b2e32ac3d090f337?s=128&d=identicon&r=PG", "display_name": "Sn&#230;bj&#248;rn", "link": "https://stackoverflow.com/users/1220627/sn%c3%a6bj%c3%b8rn"}, "edited": false, "score": 0, "creation_date": 1420537688, "post_id": 27787718, "comment_id": 44000642, "body": "In JS I&#39;d do this <code>(function (ng, app) { app.controller(...</code> nicely &quot;scoped&quot;. I want to do the same in TS so I thought I&#39;d use the module for this scoping. But I can&#39;t call <code>mod.controller(...</code> in the 2nd file and I can&#39;t do <code>angular.module(&#39;myApp&#39;, []).controller(&#39;appCtrl&#39;, AppCtrl);</code> in the 1st file because AppCtrl isn&#39;t defined yet. Also I really don&#39;t want to worry about execution order when I later have to bundle and minify."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1420491205, "creation_date": 1420491205, "answer_id": 27787718, "question_id": 27787368, "link": "https://stackoverflow.com/questions/27787368/setup-ng-imodule-controller-in-other-files/27787718#27787718", "title": "Setup ng.IModule controller in other files", "body": "<p>I would use a class as a controller. Please see <a href=\"https://youtube.com/watch?v=WdtVn_8K17E&amp;hd=1\" rel=\"nofollow\">https://youtube.com/watch?v=WdtVn_8K17E&amp;hd=1</a> for an example. </p>\n"}, {"tags": [], "owner": {"reputation": 8181, "user_id": 1220627, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bcc4752767827a60b2e32ac3d090f337?s=128&d=identicon&r=PG", "display_name": "Sn&#230;bj&#248;rn", "link": "https://stackoverflow.com/users/1220627/sn%c3%a6bj%c3%b8rn"}, "is_accepted": true, "score": 1, "last_activity_date": 1420571865, "creation_date": 1420571865, "answer_id": 27805627, "question_id": 27787368, "link": "https://stackoverflow.com/questions/27787368/setup-ng-imodule-controller-in-other-files/27805627#27805627", "title": "Setup ng.IModule controller in other files", "body": "<p>So the solution was is really quite simple. All I had to do was to export the variable.</p>\n\n<pre><code>module Application {\n    'use strict';\n    export var angularApp: ng.IModule = angular.module(\"app\", []);\n}\n\nmodule Application {\n    'use strict';\n    export interface IAppCtrlScope extends ng.IScope {\n        greeting: string;\n        changeName(name): void;\n    }\n    export class AppCtrl {\n        public static $inject = [\n            '$scope'\n        ];\n        constructor(private $scope: IAppCtrlScope) {\n            $scope.greeting = 'asdf';\n            $scope.changeName = (name) =&gt; {\n                $scope.greeting = 'Hello ' + name + ' !';\n            }\n        }\n    }\n    angularApp.controller('appCtrl', AppCtrl)\n}\n</code></pre>\n"}], "owner": {"reputation": 8181, "user_id": 1220627, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bcc4752767827a60b2e32ac3d090f337?s=128&d=identicon&r=PG", "display_name": "Sn&#230;bj&#248;rn", "link": "https://stackoverflow.com/users/1220627/sn%c3%a6bj%c3%b8rn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 629, "favorite_count": 0, "accepted_answer_id": 27805627, "answer_count": 2, "score": 3, "last_activity_date": 1442839332, "creation_date": 1420489726, "last_edit_date": 1442839332, "question_id": 27787368, "link": "https://stackoverflow.com/questions/27787368/setup-ng-imodule-controller-in-other-files", "title": "Setup ng.IModule controller in other files", "body": "<p>I have the following JavaScript that I'd like converted to TypeScript but I'm striking out :(</p>\n\n<p><strong>JS</strong></p>\n\n<pre><code>var app = angular.module('app', []);\napp.config([...]);\napp.run([...];\n\n(function (ng, app) {\n  app.controller('appCtrl', [..., function(...)])\n})(angular, app);\n</code></pre>\n\n<p>This is what I've got so far.</p>\n\n<p><strong>TS</strong></p>\n\n<p>File1:</p>\n\n<pre><code>/// &lt;reference path=\"../Scripts/typings/angularjs/angular.d.ts\" /&gt;\nmodule App {\n    \"use strict\";\n    var mod:ng.IModule = angular.module(name, []);\n}\n</code></pre>\n\n<p>File2:</p>\n\n<pre><code>/// &lt;reference path=\"../Scripts/typings/angularjs/angular.d.ts\" /&gt;\nmodule App {\n    'use strict';\n    export interface IAppCtrlScope extends ng.IScope {\n        greeting: string;\n        changeName(name): void;\n    }\n    export class AppCtrl {\n        public static $inject = [\n            '$scope'\n        ];\n        constructor(private $scope: IAppCtrlScope) {\n            $scope.greeting = 'asdf';\n            $scope.changeName = (name) =&gt; {\n                $scope.greeting = 'Hello ' + name + ' !';\n            }\n        }\n    }\n    mod.controller('appCtrl', AppCtrl); // this doesn't work\n}\n</code></pre>\n\n<p>The reason behind doing <code>mod.controller('appCtrl', AppCtrl)</code> in the file where the controller is defined is because it's a lot easier to maintain.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "angular-ui-router", "angular-routing"], "comments": [{"owner": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 0, "creation_date": 1420489768, "post_id": 27787361, "comment_id": 43984604, "body": "What is there in <code>... &lt;-- see below</code>? You need t0 specify controller in the state configuration, you can also specify controllerAs as well"}, {"owner": {"reputation": 3996, "user_id": 1615594, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/VD0n3.jpg?s=128&g=1", "display_name": "tsuz", "link": "https://stackoverflow.com/users/1615594/tsuz"}, "edited": false, "score": 0, "creation_date": 1420489931, "post_id": 27787361, "comment_id": 43984690, "body": "Click on <a href=\"https://github.com/angular-ui/ui-router/wiki/Multiple-Named-Views\" rel=\"nofollow noreferrer\">Documentation</a> and search for phrase &quot;each view in views can set up its own templates&quot; and look at the example below that. For controller name, you just need to state the name like &quot;chillCtrl&quot; in .controller(&quot;chillCtrl&quot;). Make sure chillCtrl is already defined or use lazyloading."}, {"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "reply_to_user": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 0, "creation_date": 1420489992, "post_id": 27787361, "comment_id": 43984712, "body": "@PSL I&#39;ve edited it."}, {"owner": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 0, "creation_date": 1420490000, "post_id": 27787361, "comment_id": 43984718, "body": "<a href=\"https://github.com/angular-ui/ui-router/wiki#user-content-controllers+\" rel=\"nofollow noreferrer\">github.com/angular-ui/ui-router/wiki#user-content-controller&zwnj;&#8203;s+</a>"}, {"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "reply_to_user": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 0, "creation_date": 1420490123, "post_id": 27787361, "comment_id": 43984766, "body": "@PSL Yes, I&#39;ve read the documentation many times and tried every possible way, however nothing seems to work."}, {"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "reply_to_user": {"reputation": 3996, "user_id": 1615594, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/VD0n3.jpg?s=128&g=1", "display_name": "tsuz", "link": "https://stackoverflow.com/users/1615594/tsuz"}, "edited": false, "score": 0, "creation_date": 1420490221, "post_id": 27787361, "comment_id": 43984809, "body": "@user013948 I tried with just the controller name (without modules path), it still doesn&#39;t work."}, {"owner": {"reputation": 3996, "user_id": 1615594, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/VD0n3.jpg?s=128&g=1", "display_name": "tsuz", "link": "https://stackoverflow.com/users/1615594/tsuz"}, "edited": false, "score": 0, "creation_date": 1420490321, "post_id": 27787361, "comment_id": 43984847, "body": "Try console.log(Controllers, App, App.Controllers) and what does it say?"}, {"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "reply_to_user": {"reputation": 3996, "user_id": 1615594, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/VD0n3.jpg?s=128&g=1", "display_name": "tsuz", "link": "https://stackoverflow.com/users/1615594/tsuz"}, "edited": false, "score": 0, "creation_date": 1420490915, "post_id": 27787361, "comment_id": 43985126, "body": "@user013948 Much stuff (from my real app, not pseudo names like above): <a href=\"http://pastebin.com/3jD4Eh9Z\" rel=\"nofollow noreferrer\">pastebin.com/3jD4Eh9Z</a> (I printed out: console.log(SetupGroups.SetupGroupTableController, SetupGroups, App))"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1420491049, "creation_date": 1420491049, "answer_id": 27787673, "question_id": 27787361, "link": "https://stackoverflow.com/questions/27787361/ng-controller-works-ui-router-controller-not/27787673#27787673", "title": "ng-controller works, ui-router: controller not", "body": "<p>Given what works on ng-controller, <em>controller: \"App.Controllers.TestController\"</em> is guaranteed to work. </p>\n\n<p>The isse is with the <em>as vm</em> portion being missing. You can overcome that by putting the controller on the scope: <a href=\"https://youtube.com/watch?v=WdtVn_8K17E&amp;hd=1\" rel=\"nofollow\">https://youtube.com/watch?v=WdtVn_8K17E&amp;hd=1</a></p>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 627, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1420491049, "creation_date": 1420489697, "question_id": 27787361, "link": "https://stackoverflow.com/questions/27787361/ng-controller-works-ui-router-controller-not", "title": "ng-controller works, ui-router: controller not", "body": "<p>I'd like to load a view with template/controller configured in a ui-router state, but the controller doesn't seem to get loaded, no matter what I try, without any error messages.</p>\n\n<pre><code>module App {\n\n    var dependencies = [\n         \"ui.router\",\n         Controllers\n    ]\n\n    function configuration($stateProvider: ng.ui.IStateProvider) {\n\n        $stateProvider\n            .state(\"test\", {\n                url: \"/test\",\n                views: {\n                    \"\": { templateUrl: \"parentView.html\" },\n                    \"testPartial@\" : {\n                        templateUrl: \"partial.html\",\n                        controller: &lt;--- see below\n                        ...\n                    }\n                ...\n    }\n</code></pre>\n\n<p>What I tried:</p>\n\n<pre><code>controller: Controllers.TestController\n\ncontroller: App.Controllers.TestController\n\ncontroller: \"App.Controllers.TestController\"\n\ncontroller: \"App.Controllers.ITestController\" (interface)\n</code></pre>\n\n<p>However, if I declare <code>ng-controller=\"App.Controllers.TestController as vm\"</code> on my template, everything works flawlessly.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1420459963, "creation_date": 1420459963, "answer_id": 27779305, "question_id": 27777499, "link": "https://stackoverflow.com/questions/27777499/instance-vs-prototype-methods-for-angularjs-controllers-in-typescript/27779305#27779305", "title": "Instance vs Prototype Methods for AngularJS Controllers in Typescript", "body": "<blockquote>\n  <p>If I don't intend to inherit my controller class, is there any difference between defining an AngularJS Controller's methods as prototype methods over instance methods?</p>\n</blockquote>\n\n<p>Instance methods come with a performance impact. Other than that it's perfectly fine to use them. I just use prototype members. </p>\n\n<p>This video explains why you might want to use instance methods : <a href=\"https://m.youtube.com/watch?v=tvocUcbCupA\" rel=\"nofollow\">https://m.youtube.com/watch?v=tvocUcbCupA</a> (mainly to capture this)</p>\n"}], "owner": {"reputation": 2601, "user_id": 195965, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aec177aa3bc73958600e3c37d266b3ee?s=128&d=identicon&r=PG", "display_name": "Jonas Arcangel", "link": "https://stackoverflow.com/users/195965/jonas-arcangel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1058, "favorite_count": 0, "accepted_answer_id": 27779305, "answer_count": 1, "score": 0, "last_activity_date": 1420459963, "creation_date": 1420453344, "last_edit_date": 1420453520, "question_id": 27777499, "link": "https://stackoverflow.com/questions/27777499/instance-vs-prototype-methods-for-angularjs-controllers-in-typescript", "title": "Instance vs Prototype Methods for AngularJS Controllers in Typescript", "body": "<p>If I don't intend to inherit my controller class, is there any difference between defining an AngularJS Controller's methods as prototype methods over instance methods?</p>\n\n<p>Coming from a C# background, I'm more comfortable with defining prototype methods. I also like keeping the constructor short.</p>\n\n<p>However, most examples I see for AngularJS define methods at the instance level.</p>\n\n<pre><code>module Test {\n    angular\n        .module(\"app\")\n        .controller(\"controller\",\n        [\"$scope\", MyController]);\n\n    export class MyController {\n\n        public Function1: () =&gt; {}\n\n        constructor(private $scope: IMyScope) {\n            //instance\n            this.Function1() = () =&gt; {\n                alert(\"Hello 1!\");\n            }\n        }\n    }\n\n    //prototype\n    public Function2(): void {\n        alert(\"Hello 2!\");\n    }\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["java", "c#", "node.js", "typescript"], "comments": [{"owner": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "edited": false, "score": 0, "creation_date": 1420416547, "post_id": 27771756, "comment_id": 43954544, "body": "What use would there be in having an interface define a constructor?"}, {"owner": {"reputation": 13108, "user_id": 597292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/99a1f46637008d32957964f799d41647?s=128&d=identicon&r=PG", "display_name": "Centurion", "link": "https://stackoverflow.com/users/597292/centurion"}, "reply_to_user": {"reputation": 30739, "user_id": 1804599, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/v91P3.jpg?s=128&g=1", "display_name": "rightfold", "link": "https://stackoverflow.com/users/1804599/rightfold"}, "edited": false, "score": 1, "creation_date": 1420419058, "post_id": 27771756, "comment_id": 43955078, "body": "What use is in having a compiler? It&#39;s a tool which helps you and your teammates to spot mistakes faster. Also, always use an interface as a  contract for all of the classes which will implement that. A  constructor is just a method like all other methods. In all my projects in objective-c, I was able to define common things in interface, including constructor signature. It&#39;s strange I need to present arguments for such an obvious thing"}, {"owner": {"reputation": 833, "user_id": 1512530, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/86a72747696a4f8fb9b6ef5170f0cb2d?s=128&d=identicon&r=PG", "display_name": "DaSch", "link": "https://stackoverflow.com/users/1512530/dasch"}, "edited": false, "score": 0, "creation_date": 1464784205, "post_id": 27771756, "comment_id": 62624421, "body": "I&#39;m struggeling with a similar problem since days. The example from TypeScript handbook doesn&#39;t work and I guess it&#39;s a bug in TypeScript compiler. I already created an issue on github <a href=\"https://github.com/Microsoft/TypeScript/issues/8917\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/8917</a>"}], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 1, "last_activity_date": 1420421201, "creation_date": 1420421201, "answer_id": 27772284, "question_id": 27771756, "link": "https://stackoverflow.com/questions/27771756/how-to-define-constructor-signature-in-interface/27772284#27772284", "title": "How to define constructor signature in interface?", "body": "<p>An <code>extends</code> clause defines the behavior of an <em>instance</em> of a class, not its <em>constructor function</em>. Constructors themselves are not part of the <em>instance</em> of a class. Basically, you're saying that an <em>instance</em> of <code>UserObject</code> (the result of calling <code>new</code> on it) can itself be invoked <code>new</code>, which is not the case:</p>\n\n<pre><code>var x = new UserObject();\nvar y = new x(); // Nonsense, of course\n</code></pre>\n\n<p>There currently is no direct syntax in TypeScript to indicate that the constructor function <code>UserObject</code> matches the interface <code>IParsable</code>. You can use this as a workaround:</p>\n\n<pre><code>class UserObject { ... }\nUserObject === &lt;IParsable&gt;undefined;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13108, "user_id": 597292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/99a1f46637008d32957964f799d41647?s=128&d=identicon&r=PG", "display_name": "Centurion", "link": "https://stackoverflow.com/users/597292/centurion"}, "edited": false, "score": 0, "creation_date": 1420454288, "post_id": 27775708, "comment_id": 43965736, "body": "I&#39;m not very strong in javascript, therefore I want to use TypeScript which will allow me to use standard OOP features and write classical code. Regarding your example, could you change it so it would look like more regular code with classes? Currently, I don&#39;t understand why example is just a plain function (not class) and why we pass class name directly to example function. I&#39;m trying to write a code where I define class, its constructor, then create class object using new."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 13108, "user_id": 597292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/99a1f46637008d32957964f799d41647?s=128&d=identicon&r=PG", "display_name": "Centurion", "link": "https://stackoverflow.com/users/597292/centurion"}, "edited": false, "score": 0, "creation_date": 1420467826, "post_id": 27775708, "comment_id": 43972804, "body": "The function was just &quot;an example of how the compiler will check your types&quot;. The key concept is that you are now working in a structural type system and it is different to a nominal type system."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 1, "last_activity_date": 1420446170, "creation_date": 1420446170, "answer_id": 27775708, "question_id": 27771756, "link": "https://stackoverflow.com/questions/27771756/how-to-define-constructor-signature-in-interface/27775708#27775708", "title": "How to define constructor signature in interface?", "body": "<p>TypeScript is structurally typed, so you can get all the checking you want without actually needing to use the<code>implements</code> keyword on a class.</p>\n\n<p>In the example below, the arguments passed to the constructor of an <code>IParsable</code> are checked (within the <code>example</code> function). You also cannot pass an argument to the <code>example</code> function that doesn't satisfy the <code>IParsable</code> interface, i.e. it must accept a string argument (or no argument at all).</p>\n\n<p>I have highlighted three errors that the compiler will catch.</p>\n\n<pre><code>interface IParsable {\n    new (json: string);\n}\n\nclass ExampleOne {\n    constructor(json: string) {\n\n    }\n}\n\nclass ExampleTwo {\n    constructor(json: string) {\n\n    }\n}\n\nclass ExampleThree {\n    constructor(arg: number) {\n\n    }\n}\n\nfunction example(obj: IParsable) {\n    // Error - doesn't pass string arg\n    //return new obj();\n\n    // Error - wrong argument type\n    //return new obj(1);\n\n    return new obj('{ a: \"b\"}');\n\n}\n\nexample(ExampleOne);\nexample(ExampleTwo);\n\n// Error - Doesn't satisfy IParsable\n//example(ExampleThree);\n</code></pre>\n"}], "owner": {"reputation": 13108, "user_id": 597292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/99a1f46637008d32957964f799d41647?s=128&d=identicon&r=PG", "display_name": "Centurion", "link": "https://stackoverflow.com/users/597292/centurion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1869, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1420462608, "creation_date": 1420416377, "last_edit_date": 1420462608, "question_id": 27771756, "link": "https://stackoverflow.com/questions/27771756/how-to-define-constructor-signature-in-interface", "title": "How to define constructor signature in interface?", "body": "<p>Below is the question regarding defining constructor signature in TypeScript interface (Javascript), though in the end it turned to be not available. However, this is possible in objective-c and that's it would be nice to have that elsewhere too.</p>\n\n<p>I have a set of data object classes and all of them will be used through a common constructor with json string argument. As I picked TypeScript as a tool which has a compiler and will help me to find mistakes and problems earlier, how could I define a constructor in interface and then implement it in the class?</p>\n\n<pre><code>interface IParsable {\n\n  //constructor(json : string);\n  new (json : string);\n}\n\nclass UserObject implements IParsable {\n\nconstructor(json : string) {\n\n   //...\n}\n</code></pre>\n\n<p>The code works but compiler shows me error \"error TS2420: Class 'UserObject' incorrectly implements interface 'IParsable'.\" If I use \"constructor\" instead of new in interface then I get \"Method constructor from interaface IParsable is not implemented\".</p>\n\n<p><strong>UPDATE</strong>: In objective-c, an object could be created using two approaches:</p>\n\n<p><strong>First approach</strong>:</p>\n\n<pre><code>UserObject *userObject = [[UserObject alloc] init]; \n</code></pre>\n\n<p>The creation of an object consist of two methods. Alloc - allocates needed memory and init is default constructor name. Constructors are just like regular methods in objective-c and have their names. Therefore, if you need to have a custom constructor with parameters then you just define a new method, for example initWithJson:(NSString *)json. Therefore you can define anything you want in the interface and enforce the contract. </p>\n\n<p><strong>Second approach</strong>:</p>\n\n<pre><code>UserObject *userObject = [UserObject new]; \n</code></pre>\n\n<p>new is a reserved word, however it actually performs alloc + init and you can't use your custom constructor. Therefore a recommended way is to use alloc + init, so that you can always replace it with your custom constructor method like alloc + initWithJson if you need.</p>\n\n<p>As it turns out, there's no way how to do this even in java or C#. I always thought these  languages are a lot more standard and well thought in terms of OOP, though this little thing is better done in objective-c.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 31483, "user_id": 502381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b99e687909be449e0130a50950eac7?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/502381/jjj"}, "edited": false, "score": 0, "creation_date": 1420406846, "post_id": 27770484, "comment_id": 43952017, "body": "What does the linter say?"}, {"owner": {"reputation": 7686, "user_id": 2626313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613888ad5bbd9ddba4bd81bbbfeb7a05?s=128&d=identicon&r=PG", "display_name": "xmojmr", "link": "https://stackoverflow.com/users/2626313/xmojmr"}, "edited": false, "score": 2, "creation_date": 1420409961, "post_id": 27770484, "comment_id": 43952969, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/3586775/javascript-string-equality-whats-the-correct-way\">Javascript String Equality... What&#39;s the correct way?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "is_accepted": false, "score": 69, "last_activity_date": 1420644479, "creation_date": 1420644479, "answer_id": 27822753, "question_id": 27770484, "link": "https://stackoverflow.com/questions/27770484/typescript-correct-way-to-do-string-equality/27822753#27822753", "title": "TypeScript: correct way to do string equality?", "body": "<p>If you know <code>x</code> and <code>y</code> are both strings, using <code>===</code> is not strictly necessary, but is still good practice.</p>\n\n<p>Assuming both variables actually are strings, both operators will function identically. However, TS often allows you to pass an object that meets all the requirements of <code>string</code> rather than an actual string, which may complicate things.</p>\n\n<p>Given the possibility of confusion or changes in the future, your linter is probably correct in demanding <code>===</code>. Just go with that.</p>\n"}, {"comments": [{"owner": {"reputation": 4195, "user_id": 729282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe9279378ff0882777cdc48a95c8b9e?s=128&d=identicon&r=PG", "display_name": "Paaske", "link": "https://stackoverflow.com/users/729282/paaske"}, "reply_to_user": {"reputation": 410, "user_id": 1872964, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c1eeb23e905c6fb458091418d504c569?s=128&d=identicon&r=PG", "display_name": "Brain", "link": "https://stackoverflow.com/users/1872964/brain"}, "edited": false, "score": 3, "creation_date": 1584373433, "post_id": 50156537, "comment_id": 107410910, "body": "@Brain Well, I think that the opening statement is directly wrong. You can absolutely check for (string) equality with <code>===</code>. And the tagged &quot;possible duplicate answer&quot; as well as <a href=\"https://stackoverflow.com/questions/359494/which-equals-operator-vs-should-be-used-in-javascript-comparisons\">this answer</a> goes much into detail on comparisons. None of them suggests using <code>.match()</code>"}], "tags": [], "owner": {"reputation": 1, "user_id": 6533281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81559ec11255caa65c689f9cb0c71209?s=128&d=identicon&r=PG&f=1", "display_name": "tamer badawy", "link": "https://stackoverflow.com/users/6533281/tamer-badawy"}, "is_accepted": false, "score": -17, "last_activity_date": 1525354895, "creation_date": 1525354895, "answer_id": 50156537, "question_id": 27770484, "link": "https://stackoverflow.com/questions/27770484/typescript-correct-way-to-do-string-equality/50156537#50156537", "title": "TypeScript: correct way to do string equality?", "body": "<p>The <code>===</code> is not for checking string equalit , to do so you can use the Regxp functions for example </p>\n\n<pre><code>if (x.match(y) === null) {\n// x and y are not equal \n}\n</code></pre>\n\n<p>there is also the <code>test</code> function </p>\n"}], "owner": {"reputation": 5824, "user_id": 218386, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/8f9a3c0e677f1e377850ea13435679aa?s=128&d=identicon&r=PG", "display_name": "Heinrich Schmetterling", "link": "https://stackoverflow.com/users/218386/heinrich-schmetterling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147965, "favorite_count": 2, "answer_count": 2, "score": 70, "last_activity_date": 1526667472, "creation_date": 1420406446, "question_id": 27770484, "link": "https://stackoverflow.com/questions/27770484/typescript-correct-way-to-do-string-equality", "title": "TypeScript: correct way to do string equality?", "body": "<p>If I know x and y are both of type string, is the correct way to do string equality simply x == y? </p>\n\n<p>The linter I'm using complains about this.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 2632, "user_id": 2633697, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Tlp23.jpg?s=128&g=1", "display_name": "hjl", "link": "https://stackoverflow.com/users/2633697/hjl"}, "edited": false, "score": 0, "creation_date": 1420382515, "post_id": 27766361, "comment_id": 43943779, "body": "can you show the part of converted .js file?"}, {"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "reply_to_user": {"reputation": 2632, "user_id": 2633697, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Tlp23.jpg?s=128&g=1", "display_name": "hjl", "link": "https://stackoverflow.com/users/2633697/hjl"}, "edited": false, "score": 0, "creation_date": 1420382672, "post_id": 27766361, "comment_id": 43943809, "body": "@elaijuh <a href=\"http://pastebin.com/Ke35CpRX\" rel=\"nofollow noreferrer\">pastebin.com/Ke35CpRX</a>"}, {"owner": {"reputation": 2632, "user_id": 2633697, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Tlp23.jpg?s=128&g=1", "display_name": "hjl", "link": "https://stackoverflow.com/users/2633697/hjl"}, "edited": false, "score": 0, "creation_date": 1420383342, "post_id": 27766361, "comment_id": 43944015, "body": "line 73: <code>controller: App.Cameras.CameraListController</code> should be <code>controller: &#39;App.Cameras.CameraListController&#39;</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1420383923, "post_id": 27766809, "comment_id": 43944204, "body": "Wow. It works! I assumed that I can declare the controller name strongly typed and typescript/tsng take about the rest.. since well, there should be a reason to use typescript. :/"}, {"owner": {"reputation": 2632, "user_id": 2633697, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Tlp23.jpg?s=128&g=1", "display_name": "hjl", "link": "https://stackoverflow.com/users/2633697/hjl"}, "reply_to_user": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 1, "creation_date": 1420384137, "post_id": 27766809, "comment_id": 43944268, "body": "know less about typescript/tsng tho... fan of plain ecma :p could you pls upvote/accept it if the answer is useful to you, thanks."}], "tags": [], "owner": {"reputation": 2632, "user_id": 2633697, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Tlp23.jpg?s=128&g=1", "display_name": "hjl", "link": "https://stackoverflow.com/users/2633697/hjl"}, "is_accepted": false, "score": 2, "last_activity_date": 1420383653, "creation_date": 1420383653, "answer_id": 27766809, "question_id": 27766361, "link": "https://stackoverflow.com/questions/27766361/error-injectorunpr-unknown-provider-because-ui-router-requests-the-wrong/27766809#27766809", "title": "Error: [$injector:unpr] Unknown provider -&gt; because ui-router requests the wrong thing", "body": "<p>Refer to your converted <a href=\"http://pastebin.com/Ke35CpRX\" rel=\"nofollow\">.js</a> file , line 73: <code>controller: App.Cameras.CameraListController</code>. the controller here should refer to a string name like <code>controller: 'App.Cameras.CameraListController'</code></p>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1420383653, "creation_date": 1420380779, "question_id": 27766361, "link": "https://stackoverflow.com/questions/27766361/error-injectorunpr-unknown-provider-because-ui-router-requests-the-wrong", "title": "Error: [$injector:unpr] Unknown provider -&gt; because ui-router requests the wrong thing", "body": "<p>I recently switched over to <code>ui-router</code> from <code>ngRoute</code> and nearly 90% of my code doesn't work anymore because of strange effects that shouldn't be there.</p>\n\n<p>This is the constructor of one of my controllers:</p>\n\n<pre><code> constructor(\n        cameraApiService: ICameraApiService, \n        $log: ng.ILogService,\n        $stateParams: any) {\n</code></pre>\n\n<p>With <code>ngRoute</code>, <code>ICameraApiService</code> (<code>class CameraApiService</code>) can be injected without problems. Now with <code>ui-router</code>, it fails to resolve <code>ICameraApiService</code>. Upon further investigation, I figured out that angular doesn't try to resolve <code>CameraApiService</code>, but <code>cameraApiServiceProvider</code>:</p>\n\n<pre><code>Error: [$injector:unpr] Unknown provider: cameraApiServiceProvider &lt;- cameraApiService\nhttp://errors.angularjs.org/1.3.8/$injector/unpr?p0=cameraApiServiceProvider%20%3CameraApiService\n</code></pre>\n\n<p>Which of course doesn't exist. Is there a difference between <code>ngRoute</code> and <code>ui-router</code> in terms of DI? Do things have to be declared differently?</p>\n\n<p>BTW: I'm using <code>Typescript</code> and <code>grunt-tsng</code>. All dependencies/modules/services are registered.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1420414711, "creation_date": 1420414711, "answer_id": 27771571, "question_id": 27766136, "link": "https://stackoverflow.com/questions/27766136/interface-not-being-recognized/27771571#27771571", "title": "Interface not being recognized", "body": "<blockquote>\n  <p>however typescript seems unable to find/recognize IFancyViewModel </p>\n</blockquote>\n\n<p>If it compiles fine then <code>TypeScript</code> has <em>done its</em> job. At <em>runtime</em> <code>interface</code>s are <em>erased</em> and do not exist. </p>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1420414711, "creation_date": 1420379218, "question_id": 27766136, "link": "https://stackoverflow.com/questions/27766136/interface-not-being-recognized", "title": "Interface not being recognized", "body": "<pre><code>module FancyApp.Controllers {\n\n    export interface IFancyViewModel {}\n\n    export class FancyController implements IFancyViewModel {}\n\n}\n\nmodule FancyApp {\n\n    ...\n    $stateProvider\n        .state(\"fancyState\", {\n            controller: [INSERT_VIEW_MODEL]\n        });\n\n}\n</code></pre>\n\n<p>When I denote <code>FancyApp.Controllers.FancyController</code> on <code>[INSERT_VIEW_MODEL]</code>, it compiles and runs fine, however typescript seems unable to find/recognize <code>IFancyViewModel</code>. What's the reason behind this?</p>\n"}, {"tags": ["static", "typescript", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1420411466, "creation_date": 1420411466, "answer_id": 27771196, "question_id": 27765302, "link": "https://stackoverflow.com/questions/27765302/typescript-class-statics-and-inheritance/27771196#27771196", "title": "TypeScript class: statics and inheritance", "body": "<blockquote>\n  <p>Is the behavior I'm observing the expected behavior for TypeScript?\n  Is the behavior I'm observing the expected behavior for ECMA Script 6?</p>\n</blockquote>\n\n<p>Yes and yes. Classes allow <em>runtime modification</em> and processed in order of definition. <code>inherit</code> only kicks in at the point of definition so depends upon the properties of the base <em>at that point</em>. </p>\n"}, {"tags": [], "owner": {"reputation": 1034, "user_id": 385426, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/869065593aa1af3e88c6b5ccbb55b9c1?s=128&d=identicon&r=PG", "display_name": "Mike Graham", "link": "https://stackoverflow.com/users/385426/mike-graham"}, "is_accepted": false, "score": 0, "last_activity_date": 1420546225, "last_edit_date": 1420546225, "creation_date": 1420453545, "answer_id": 27777552, "question_id": 27765302, "link": "https://stackoverflow.com/questions/27765302/typescript-class-statics-and-inheritance/27777552#27777552", "title": "TypeScript class: statics and inheritance", "body": "<p><a href=\"https://github.com/Microsoft/TypeScript/issues/1601\" rel=\"nofollow\">See related TypeScript bug report</a></p>\n\n<p>Here are TypeScript and ES6 code samples that have consistent behavior and walk the inheritance hierarchy:</p>\n\n<p>TypeScript Code:</p>\n\n<pre><code>class MyBase {\n  static myStatic() { return []; }\n}\n\nclass MyDerived extends MyBase {\n  static myStatic() { return ['mickey', 'goofy', super.myStatic()]; }\n}\n\nMyBase.myStatic = () =&gt; { return ['one', 'two', 'three']; };\n\nclass MyDerived2 extends MyBase {\n  static myStatic() { return ['mickey', 'goofy', super.myStatic()]; }\n}\n\ndocument.body.innerHTML += (\"MyDerived.myStatic: \" + JSON.stringify(MyDerived.myStatic()) + \"&lt;br/&gt;\");\ndocument.body.innerHTML += (\"MyDerived2.myStatic: \" + JSON.stringify(MyDerived2.myStatic()) + \"&lt;br/&gt;\");\n</code></pre>\n\n<p>TypeScript Result:</p>\n\n<pre><code>MyDerived.myStatic: [\"mickey\",\"goofy\",[\"one\",\"two\",\"three\"]]\nMyDerived2.myStatic: [\"mickey\",\"goofy\",[\"one\",\"two\",\"three\"]]\n</code></pre>\n\n<p>ES6 Code: <a href=\"http://www.es6fiddle.net/i4jpaw91/\" rel=\"nofollow\">ES6 Fiddle</a></p>\n\n<pre><code>class MyBase {\n  static myStatic() { return []; }\n}\n\nclass MyDerived extends MyBase {\n  static myStatic() { return ['mickey', 'goofy', super.myStatic()]; }\n}\n\nMyBase.myStatic = () =&gt; { return ['one', 'two', 'three']; };\n\nclass MyDerived2 extends MyBase {\n  static myStatic() { return ['mickey', 'goofy', super.myStatic()]; }\n}\n\nconsole.log(\"MyDerived.myStatic: \" + JSON.stringify(MyDerived.myStatic()));\nconsole.log(\"MyDerived2.myStatic: \" + JSON.stringify(MyDerived2.myStatic()));\n</code></pre>\n\n<p>ES6 Result</p>\n\n<pre><code>MyDerived.myStatic: [\"mickey\",\"goofy\",[\"one\",\"two\",\"three\"]]\nMyDerived2.myStatic: [\"mickey\",\"goofy\",[\"one\",\"two\",\"three\"]]\n</code></pre>\n"}], "owner": {"reputation": 1034, "user_id": 385426, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/869065593aa1af3e88c6b5ccbb55b9c1?s=128&d=identicon&r=PG", "display_name": "Mike Graham", "link": "https://stackoverflow.com/users/385426/mike-graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "accepted_answer_id": 27771196, "answer_count": 2, "score": 4, "last_activity_date": 1420801683, "creation_date": 1420373161, "last_edit_date": 1420801683, "question_id": 27765302, "link": "https://stackoverflow.com/questions/27765302/typescript-class-statics-and-inheritance", "title": "TypeScript class: statics and inheritance", "body": "<p>Questions:</p>\n\n<ol>\n<li>Is the behavior I'm observing the expected behavior for TypeScript?</li>\n<li>Is the behavior I'm observing the expected behavior for ECMAScript 6?</li>\n<li>Is there an easy way to walk back through the inheritance hierarchy to process the 'myStatic' array for each level? How do I know when to stop?</li>\n</ol>\n\n<p>Description: When using TypeScript, there appears to be some interesting behavior with derived classes and static properties.</p>\n\n<p><a href=\"http://www.typescriptlang.org/Playground#src=class%20MyBase%20%7B%0A%09static%20myStatic%20%3D%20%5B%5D%3B%0A%7D%0A%0Aclass%20MyDerived%20extends%20MyBase%20%7B%7D%0A%0AMyBase.myStatic%20%3D%20%5B&#39;one&#39;%2C%20&#39;two&#39;%2C%20&#39;three&#39;%5D%0A%0Aclass%20MyDerived2%20extends%20MyBase%20%7B%7D%0A%0Adocument.body.innerHTML%20%2B%3D%20%22%3Cb%3EMyDerived.myStatic%3A%3C%2Fb%3E%26nbsp%3B%22%20%2B%20JSON.stringify(MyDerived.myStatic)%20%2B%20%22%3Cbr%2F%3E%22%3B%0Adocument.body.innerHTML%20%2B%3D%20%22%3Cb%3EMyDerived2.myStatic%3A%3C%2Fb%3E%26nbsp%3B%22%20%2B%20JSON.stringify(MyDerived2.myStatic)%20%2B%20%22%3Cbr%2F%3E%22%3B\" rel=\"nofollow\">TypeScript Example</a></p>\n\n<pre><code>class MyBase {\n    static myStatic = [];\n}\n\nclass MyDerived extends MyBase {}\n\nMyBase.myStatic = ['one', 'two', 'three']\n\nclass MyDerived2 extends MyBase {}\n\ndocument.body.innerHTML += \"&lt;b&gt;MyDerived.myStatic:&lt;/b&gt;&amp;nbsp;\" + JSON.stringify(MyDerived.myStatic) + \"&lt;br/&gt;\";\ndocument.body.innerHTML += \"&lt;b&gt;MyDerived2.myStatic:&lt;/b&gt;&amp;nbsp;\" + JSON.stringify(MyDerived2.myStatic) + \"&lt;br/&gt;\";\n</code></pre>\n\n<p>This is the result:</p>\n\n<pre><code>MyDerived.myStatic: []\nMyDerived2.myStatic: [\"one\",\"two\",\"three\"]\n</code></pre>\n\n<p>Edit: Adding example that illustrates different behavior between TypeScript and ECMA Script 6.  Note: ECMA Script doesn't support static properties, so these examples use static methods.</p>\n\n<p>TypeScript Code:</p>\n\n<pre><code>class MyBase {\n  static myStatic() { return []; }\n}\n\nclass MyDerived extends MyBase {}\n\nMyBase.myStatic = () =&gt; { return ['one', 'two', 'three']; }\n\nclass MyDerived2 extends MyBase {}\n\ndocument.body.innerHTML += \"&lt;b&gt;MyDerived.myStatic:&lt;/b&gt;&amp;nbsp;\" + JSON.stringify(MyDerived.myStatic()) + \"&lt;br/&gt;\";\ndocument.body.innerHTML += \"&lt;b&gt;MyDerived2.myStatic:&lt;/b&gt;&amp;nbsp;\" + JSON.stringify(MyDerived2.myStatic()) + \"&lt;br/&gt;\";\n</code></pre>\n\n<p>TypeScript Results:</p>\n\n<pre><code>MyDerived.myStatic: []\nMyDerived2.myStatic: [\"one\",\"two\",\"three\"]\n</code></pre>\n\n<p>ECMA Script 6 Code: <a href=\"http://www.es6fiddle.net/i4jn7xzj/\" rel=\"nofollow\">ES6 Fiddle</a></p>\n\n<pre><code>class MyBase {\n  static myStatic() { return []; }\n}\n\nclass MyDerived extends MyBase {}\n\nMyBase.myStatic = () =&gt; { return ['one', 'two', 'three']; };\n\nclass MyDerived2 extends MyBase {}\n\nconsole.log(\"MyDerived.myStatic: \" + JSON.stringify(MyDerived.myStatic()));\nconsole.log(\"MyDerived2.myStatic: \" + JSON.stringify(MyDerived2.myStatic()));\n</code></pre>\n\n<p>ECMA Script 6 Results</p>\n\n<pre><code>MyDerived.myStatic: [\"one\",\"two\",\"three\"]\nMyDerived2.myStatic: [\"one\",\"two\",\"three\"]\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript", "angular-ui-router"], "answers": [{"comments": [{"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1420790294, "post_id": 27765074, "comment_id": 44115426, "body": "@xvdiff have to say sorry, my answer was working half way. It is very improtant to change that as shown in my update, to avoid any issues later with minification"}, {"owner": {"reputation": 2286, "user_id": 1154135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7aa65965d4b1d86cd6c9414db67b08?s=128&d=identicon&r=PG", "display_name": "brahnp", "link": "https://stackoverflow.com/users/1154135/brahnp"}, "edited": false, "score": 0, "creation_date": 1427198393, "post_id": 27765074, "comment_id": 46670265, "body": "You can also create an interface that extends <code>IRootScopeService</code> to add <code>$state</code> and <code>$stateParams</code> e.g. <code>interface ICustomRootScopeService extends ng.IRootScopeService {         $state: ng.ui.IStateProvider;         $stateParams: ng.ui.IStateParamsService; }</code> (excuse formatting."}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 7, "last_activity_date": 1420790257, "last_edit_date": 1420790257, "creation_date": 1420371269, "answer_id": 27765074, "question_id": 27764930, "link": "https://stackoverflow.com/questions/27764930/add-reference-to-state-and-stateparams-to-rootscope-in-typescript-angular/27765074#27765074", "title": "Add reference to $state and $stateParams to $rootScope in Typescript (angular)", "body": "<p>UPDATE: previous version of this answer would not be working with a angular strict mode, or minification. </p>\n\n<p>I would therefore suggest to add this <a href=\"https://docs.angularjs.org/error/$injector/strictdi\" rel=\"noreferrer\">ng-strict-di</a> directive into <em>index.html</em>:</p>\n\n<pre><code>&lt;html data-ng-app=\"App\" ng-strict-di&gt; // see ng-strict-di\n  &lt;head&gt;\n</code></pre>\n\n<p>And that would reveal that the proper way is:</p>\n\n<pre><code>module App\n{\n    export class RootConfig\n    {\n        static inject = ['$rootScope', '$state', '$stateParams'];\n\n        constructor(\n            $rootScope: any, //ng.IRootScopeService,\n            $state: ng.ui.IStateProvider,\n            $stateParams: ng.ui.IStateParamsService)\n        {\n            $rootScope.$state = $state;\n            $rootScope.$stateParams = $stateParams;\n        }\n    }\n}\n\nangular.module('App')\n    // wrong - not working in minified world\n    // .run(App.RootConfig);\n    // correct\n    .run(['$rootScope', '$state', '$stateParams', App.RootConfig]);\n</code></pre>\n\n<p><em>Why this <code>$rootScope: any, //ng.IRootScopeService,</code> instead of this: <code>$rootScope: ng.IRootScopeService,</code>? To make life easier... and quickly assign not declared properties <code>$state</code> and <code>$stateParams</code></em></p>\n"}, {"comments": [{"owner": {"reputation": 13717, "user_id": 4742733, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/bGGhh.jpg?s=128&g=1", "display_name": "Aakash", "link": "https://stackoverflow.com/users/4742733/aakash"}, "edited": false, "score": 0, "creation_date": 1463231966, "post_id": 32396574, "comment_id": 61984168, "body": "Adding to <b>Marius</b>&#39;s answer, I have answered a different question which will keep the <code>declaration</code> modular.  <a href=\"http://stackoverflow.com/a/37225633/4742733\">stackoverflow.com/a/37225633/4742733</a>"}], "tags": [], "owner": {"reputation": 786, "user_id": 1803643, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6401611f38f4e98fd46a4b0282e60c25?s=128&d=identicon&r=PG", "display_name": "Maruf", "link": "https://stackoverflow.com/users/1803643/maruf"}, "is_accepted": false, "score": 5, "last_activity_date": 1441364772, "creation_date": 1441364772, "answer_id": 32396574, "question_id": 27764930, "link": "https://stackoverflow.com/questions/27764930/add-reference-to-state-and-stateparams-to-rootscope-in-typescript-angular/32396574#32396574", "title": "Add reference to $state and $stateParams to $rootScope in Typescript (angular)", "body": "<p>I found a cleaner route than setting it to <code>any</code></p>\n\n<pre><code>declare module app {\n    interface IScope extends ng.IScope {\n        $root:IRootScopeService\n    }\n\n    interface IRootScopeService extends ng.IRootScopeService {\n        $state:ng.ui.IStateService\n    }\n}\n</code></pre>\n\n<p>Then to use it just declare like</p>\n\n<pre><code>constructor(\n        $rootScope: app.IRootScopeService,\n        $state: ng.ui.IStateProvider\n{\n    $rootScope.$state = $state;\n}\n</code></pre>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10799, "favorite_count": 0, "accepted_answer_id": 27765074, "answer_count": 2, "score": 2, "last_activity_date": 1463223689, "creation_date": 1420370042, "question_id": 27764930, "link": "https://stackoverflow.com/questions/27764930/add-reference-to-state-and-stateparams-to-rootscope-in-typescript-angular", "title": "Add reference to $state and $stateParams to $rootScope in Typescript (angular)", "body": "<p>I'm trying to set the page title of my angular app based on data of the current state (configured in ui-router).</p>\n\n<pre><code> &lt;title ng-bind=\"$state.current.data.pageTitle&gt;&lt;/title&gt;\n</code></pre>\n\n<p>On this <a href=\"https://stackoverflow.com/questions/23813599/set-page-title-using-ui-router\">link</a>, I found the following to add a reference to $state/$stateParams to the root scope:</p>\n\n<pre><code>.run([ '$rootScope', '$state', '$stateParams',\n    function ($rootScope, $state, $stateParams) {\n        $rootScope.$state = $state;\n        $rootScope.$stateParams = $stateParams;\n    }])\n</code></pre>\n\n<p>How can I translate this to typescript?</p>\n\n<pre><code> function run($rootScope: ng.IRootScopeService, $state : ng.ui.IState, $stateParams : ng.ui.IStateParamsService) {\n    $rootScope.$state // 'state' cannot be resolved\n}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript", "angular-ui-router"], "answers": [{"comments": [{"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1420369695, "post_id": 27764783, "comment_id": 43940360, "body": "I&#39;m using grunt-tsng which automatically registers controllers etc. on build, which also works fine (else the controller declaration inside the template wouldn&#39;t work anyway)."}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1420369767, "post_id": 27764783, "comment_id": 43940376, "body": "The message is clear - the <code>angular.module(&#39;app&#39;, [..])</code> is not having access to your controller. That&#39;s the message. So the registration via your grunt stuff is not working properly. The main module does not have such name registered. Does it help?"}, {"owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 0, "creation_date": 1420370336, "post_id": 27764783, "comment_id": 43940522, "body": "I understand what you are saying, it just makes no sense to me as everything that needs to be here is there (and binding the controller using &#39;ng-controller&#39; works perfectly fine). Excerpt from the generated js code: <code>(function (App) { function (MyControllers) { var ShouldWorkController = (function ()...</code> and later <code>angular.module(&quot;App.MyControllers&quot;).controller(&quot;ShouldWorkCo&zwnj;&#8203;ntroller,</code>"}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "edited": false, "score": 1, "creation_date": 1420370611, "post_id": 27764783, "comment_id": 43940586, "body": "The point now is: I really would suspect this: the module app is missing that controllers module. Check twice that you see <code>angular.module(&quot;App&quot;, [&quot;App.MyControllers&quot;, ...])</code>. That would be the reason in 95%. The rest 5% is that your controller generated file is not embedded into the page. I am really almost sure about it..."}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": false, "score": 2, "last_activity_date": 1420368962, "creation_date": 1420368962, "answer_id": 27764783, "question_id": 27764720, "link": "https://stackoverflow.com/questions/27764720/shouldworkcontroller-is-not-a-function-got-undefined/27764783#27764783", "title": "&#39;ShouldWorkController&#39; is not a function. Got undefined", "body": "<p>That message means, that such <em>controller</em> <code>\"ShouldWorkController\"</code> is not loaded int he main angular <em>module</em>. Be sure that you do call register at the end:</p>\n\n<pre><code>module App.MyControllers {    \n    ...\n    class ShouldWorkController implements IShouldWorkViewModel {}    \n}\n\n// we have to register this controller into some module (MyControllers)\n// which is also referenced in the main app module\nangular.module('MyControllers')\n    .controller('ShouldWorkController', App.MyControllers.ShouldWorkController ); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15624, "user_id": 896265, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/31e368bd357345933f4dfbd4129aaa32?s=128&d=identicon&r=PG", "display_name": "Blake Mumford", "link": "https://stackoverflow.com/users/896265/blake-mumford"}, "is_accepted": false, "score": 0, "last_activity_date": 1434552463, "last_edit_date": 1434552463, "creation_date": 1433210236, "answer_id": 30586112, "question_id": 27764720, "link": "https://stackoverflow.com/questions/27764720/shouldworkcontroller-is-not-a-function-got-undefined/30586112#30586112", "title": "&#39;ShouldWorkController&#39; is not a function. Got undefined", "body": "<p>I realise this is old, but I came here via Google with the same issue, not for the firs time. Things to check include:</p>\n\n<ol>\n<li><strong>Export statement for your controller class.</strong> From the code you posted I see that you are missing an <code>export</code> statement for your <code>ShouldWorkController</code> class. This may not be the issue in your case, but it is something you should check. I can reproduce this error by removing the export statement from my controller classes.</li>\n<li><strong>Check your HTML template exists (if using UI-Router).</strong> As described in the UI-Router documentation: \"The controller will not be instantiated if template is not defined.\"</li>\n<li><strong>Register your controllers in the same file as the controller.</strong> Some tutorials do demonstrate controllers being registered in the module file. While this does work, I personally have found it more error prone than directly registering the controller within the controller file.</li>\n<li><strong>Check your typescript references</strong>. Make sure that you add typescript references (e.g. <code>///&lt;reference path=\"../app/services/shouldWorkService.ts\"&gt;</code>) to typescript files that contain any types that you reference </li>\n<li><strong>Check the name of your controller matches that declared in your $stateProvider configuration.</strong></li>\n</ol>\n"}], "owner": {"reputation": 2079, "user_id": 3756853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca94078cd3cf1b04c73260df65c71b62?s=128&d=identicon&r=PG&f=1", "display_name": "xvdiff", "link": "https://stackoverflow.com/users/3756853/xvdiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1154, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1434552463, "creation_date": 1420368404, "last_edit_date": 1420368652, "question_id": 27764720, "link": "https://stackoverflow.com/questions/27764720/shouldworkcontroller-is-not-a-function-got-undefined", "title": "&#39;ShouldWorkController&#39; is not a function. Got undefined", "body": "<p>When I try to bind a controller to a template using the angular-ui-router $stateProvider, I run into the following error:</p>\n\n<pre><code>'ShouldWorkController' is not a function. Got undefined.\n</code></pre>\n\n<p>However, when I declare the controller inside the template using ng-controller, everything works fine. What could be wrong here?</p>\n\n<h3>app.ts</h3>\n\n<pre><code>module App {\n\n    var dependencies = [\n        MyControllers            \n    ]\n\n    function configuration($stateProvider: ng.ui.IStateProvider) {\n\n        $stateProvider\n            .state(\"shouldWork\", {\n                url: \"/shouldWork\",\n                templateUrl: \"app/shouldWork.html\"\n                controller: \"ShouldWorkController\" // does not work\n           });\n    }\n}\n</code></pre>\n\n<h3>shouldWorkController.ts</h3>\n\n<pre><code>module App.MyControllers {\n\n    interface IShouldWorkViewModel {\n\n    }\n\n    class ShouldWorkController implements IShouldWorkViewModel {}\n\n}\n</code></pre>\n\n<h3>ShouldWork.html</h3>\n\n<pre><code>&lt;div ng-controller=\"ShouldWorkController as viewModel\" us-spinner spinner-key=\"spinner-1\"&gt;\n                 ^ --- this works nicely\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "visual-studio-2013"], "comments": [{"owner": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 0, "creation_date": 1420343874, "post_id": 27762180, "comment_id": 43935584, "body": "Are you using angular ui router or angular route?"}, {"owner": {"reputation": 40610, "user_id": 67566, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9d0Vk.jpg?s=128&g=1", "display_name": "James Black", "link": "https://stackoverflow.com/users/67566/james-black"}, "reply_to_user": {"reputation": 120106, "user_id": 1009603, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/spzYW.jpg?s=128&g=1", "display_name": "PSL", "link": "https://stackoverflow.com/users/1009603/psl"}, "edited": false, "score": 0, "creation_date": 1420344299, "post_id": 27762180, "comment_id": 43935641, "body": "@PSL - I believe the angular router as I put them into $routeProvider"}], "answers": [{"comments": [{"owner": {"reputation": 40610, "user_id": 67566, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9d0Vk.jpg?s=128&g=1", "display_name": "James Black", "link": "https://stackoverflow.com/users/67566/james-black"}, "edited": false, "score": 0, "creation_date": 1420347632, "post_id": 27762442, "comment_id": 43936160, "body": "Thank you, I will test this out tomorrow."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1420346389, "creation_date": 1420346389, "answer_id": 27762442, "question_id": 27762180, "link": "https://stackoverflow.com/questions/27762180/manually-change-view-controller-from-within-typescript-function/27762442#27762442", "title": "Manually change view/controller from within Typescript function", "body": "<p>Have a route for <code>/master/loggedin</code> or something and then navigate here using <code>$location.url(url);</code> only if login response was successful. </p>\n\n<p>Note: <code>$window.location</code> will not trigger an angular navigation but <code>$location.url</code> will, i.e. the template / controller etc will be processed. </p>\n"}], "owner": {"reputation": 40610, "user_id": 67566, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9d0Vk.jpg?s=128&g=1", "display_name": "James Black", "link": "https://stackoverflow.com/users/67566/james-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 0, "accepted_answer_id": 27762442, "answer_count": 1, "score": 1, "last_activity_date": 1483028019, "creation_date": 1420343614, "last_edit_date": 1495540424, "question_id": 27762180, "link": "https://stackoverflow.com/questions/27762180/manually-change-view-controller-from-within-typescript-function", "title": "Manually change view/controller from within Typescript function", "body": "<p>After the user logs into my web application I want to load a new view, as I want to go from a login page to a Master/detail page.</p>\n\n<p>So, I have an html fragment ready, but I am not certain how to call so that the new view gets loaded.</p>\n\n<p>I have a route set up this way:</p>\n\n<pre><code>            .when(\"/master\", { templateUrl: \"Templates/SalonMaster.html\", controller: \"SalonAdminInfoCtrl\" })\n</code></pre>\n\n<p>And inside my controller for logging in I have this:</p>\n\n<pre><code>        self.$scope.submitLogin = function () {\n            dataSvc.processLogin(self.$scope.username, self.$scope.password, self.$scope.salon.Id);\n            dataSvc.salon = self.$scope.salon;\n            self.$scope.giftCertForm.$setPristine();\n        };\n</code></pre>\n\n<p>I am thinking I should use '$window.location.href', but unless I replace the login route with the 'master' route I am not certain what I should do, or if that will work.</p>\n\n<p>So, after logging in, how do I then get the correct view and controller active, since I will only switch it if the response back from the server is correct.</p>\n\n<p>This question is similar, but perhaps I would need to programmatically click on a hidden link, but there should be a better approach.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17968196/angularjs-router-load-view-manually-from-within-controller?rq=1\">AngularJS : router : load view manually from within controller</a></p>\n"}, {"tags": ["visual-studio", "debugging", "visual-studio-2013", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 470, "user_id": 2033465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2934cae6366d26037b082551e662a7e?s=128&d=identicon&r=PG", "display_name": "lightmotive", "link": "https://stackoverflow.com/users/2033465/lightmotive"}, "is_accepted": false, "score": 4, "last_activity_date": 1420336662, "last_edit_date": 1495541364, "creation_date": 1420336662, "answer_id": 27761611, "question_id": 27761608, "link": "https://stackoverflow.com/questions/27761608/visual-studio-how-to-debug-typescript-in-a-shared-project-using-iis-express-and/27761611#27761611", "title": "Visual Studio: How to debug TypeScript in a shared project using IIS Express and cross-project references (no linking or duplicating files)", "body": "<p>The best solution we could come up with to meet all requirements involves the following steps:</p>\n\n<ol>\n<li><p>Add references to your shared TypeScript files (using the special _references.ts file, or references directly in TypeScript files).</p></li>\n<li><p>Automatically update the TypeScript-generated map file using PowerShell so it points to either a shared Web Application's Project URL or a Virtual Directory (available for both IIS Express and full IIS).</p></li>\n</ol>\n\n<p>I realize this looks like a lot of work, but it shouldn't take more than 30 minutes to set up.  It works great and will save development effort and time in the long run:</p>\n\n<h1>1. Add references to your shared TypeScript files</h1>\n\n<ul>\n<li>Visual Studio makes this easy: drag a TypeScript file (either individual files or a _references.ts file) from a shared project to a referencing project's _references.ts file or to any other TypeScript files (_references.ts can keep references nice and neat, but it might not benefit all project structures).    Note that the _references.ts file must always be in the root of your project in order to work as expected.</li>\n</ul>\n\n<h2>Sources</h2>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/23902107/visual-studio-2013-typescript-compiler-isnt-respecting-references-ts-file\">Visual Studio 2013 Typescript compiler isn&#39;t respecting &#39;_references.ts&#39; file</a></li>\n<li><a href=\"http://blogs.msdn.com/b/typescript/archive/2013/12/05/announcing-typescript-0-9-5.aspx\" rel=\"nofollow noreferrer\">http://blogs.msdn.com/b/typescript/archive/2013/12/05/announcing-typescript-0-9-5.aspx</a>.</li>\n</ul>\n\n<h1>2. Automatically update the TypeScript-generated map file using PowerShell (to enable debugging)</h1>\n\n<p>This step ensures that shared references point to the original shared files using a method that works with Visual Studio, Chrome, and Firefox debugging (replace relative shared references with Project URL or Virtual Directory).</p>\n\n<p>To Microsoft: This type of referencing should be configurable and/or automated in a future Visual Studio release, e.g. if a file is referenced from a different project, automatically map the reference to the shared project's Project URL.</p>\n\n<h2>Option 1: Your shared code is in a Web Application project.</h2>\n\n<p>This works for multiple debugging systems (tested with Visual Studio, Chrome, and Firefox):</p>\n\n<ol>\n<li><p>Get the shared application Project URL from Properties | Web | Project URL.</p></li>\n<li><p>Use a Post-build Event to run a PowerShell script that will replace all shared references in your App.js.map files to point to the Project URL.</p></li>\n</ol>\n\n<p>Example Post-build Command: </p>\n\n<pre><code>Powershell [io.file]::WriteAllText('$(ProjectDir)Scripts\\App.js.map', ((gc '$(ProjectDir)Scripts\\App.js.map') -replace '../../Shared_TypeScript/','http://localhost:12345/'))\n</code></pre>\n\n<p>See PowerShell Replace under Sources below for more details.</p>\n\n<ol start=\"3\">\n<li>Make sure you set up your shared Web App project for debugging along with your referencing Web App projects.</li>\n</ol>\n\n<h2>Option 2: Your shared code is not in a Web Application project.</h2>\n\n<p>This does not work for Visual Studio debugging, but might be a better option for some scenarios, and it's the only known option for non-web application projects (tested with Chrome, probably works for Firefox):</p>\n\n<ol>\n<li><p>Add Virtual Directories to your IIS Express website configurations that point to your shared TypeScript project: <a href=\"https://stackoverflow.com/a/8929315/2033465\">https://stackoverflow.com/a/8929315/2033465</a> (see the EDIT).</p></li>\n<li><p>Use a Post-build Event to run a Powershell script that will replace all shared references in your App.js.map files to point to the Virtual Directories you set up above.</p></li>\n</ol>\n\n<p>Example Post-build Command: </p>\n\n<pre><code>Powershell [io.file]::WriteAllText('$(ProjectDir)Scripts\\App.js.map', ((gc '$(ProjectDir)Scripts\\App.js.map') -replace '../../GlobalRef/','/GlobalRef/'))\n</code></pre>\n\n<p>See PowerShell Replace under Sources below for more details.</p>\n\n<h2>Sources</h2>\n\n<ul>\n<li>PowerShell Replace: <a href=\"https://stackoverflow.com/questions/5116477/vs2010-post-build-event-replace-string-in-a-file-powershell\">VS2010 Post-build event, replace string in a file. Powershell?</a></li>\n</ul>\n\n<p>If you need to be able to debug TypeScript files in the production environment (not one of our requirements), then you could alter the post-build script to run a different command (similar, but point to your shared website's Virtual Directory instead of localhost).  That's outside the scope of this post.</p>\n\n<h1>Conclusion</h1>\n\n<p>That is by far the best method I could come up with (thanks to all of those other sources) that meets all of the requirements.</p>\n\n<p>Please let us know if you have a better method.</p>\n"}, {"tags": [], "owner": {"reputation": 638, "user_id": 5876903, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/qvUlQ.jpg?s=128&g=1", "display_name": "Fis", "link": "https://stackoverflow.com/users/5876903/fis"}, "is_accepted": false, "score": 0, "last_activity_date": 1487892219, "creation_date": 1487892219, "answer_id": 42428062, "question_id": 27761608, "link": "https://stackoverflow.com/questions/27761608/visual-studio-how-to-debug-typescript-in-a-shared-project-using-iis-express-and/42428062#42428062", "title": "Visual Studio: How to debug TypeScript in a shared project using IIS Express and cross-project references (no linking or duplicating files)", "body": "<p>I was solving similar issue. My requirements was:</p>\n\n<ul>\n<li><p>Have multiple project in one solution organized in the same way as C# projects are,  so the solution folder with .sln and sub-folders for each project with .csproj and typescript files.</p></li>\n<li><p>Debugging possibility in VS and IE11 (run through F5 with breakpoins and all that cool stuff)</p></li>\n<li><p>Ideally without additional scripts.</p></li>\n</ul>\n\n<p>I tried:</p>\n\n<ul>\n<li>postbuild powershell script to copy sources to the www root src</li>\n<li>organize projects in way where startup project was wwwroot and other projects were placed under the src folder of the wwwroot (so inside of the startup project folder under the /src folder)</li>\n</ul>\n\n<p>both solutions were working with appropriate tsconfig (mapping was set as it was necessary), it was working but I was not satisfied.</p>\n\n<p>In first case, the problem is with updating of files. It was working just after rebuild so it was not comfortable so much as it requires restart of IE, build everything, copy everything and it takes so much time. But it works, less or more.</p>\n\n<p>Second solution is better but I was blamed the project structure is messy and strange (what I knew from the scratch and I din't like it too).</p>\n\n<p>So I went bit deeper to the problem and I came with solution of virtual directories. Now, the project structure matches the standard C# project structure, it is possible to debug in IE11 and externally with Chrome (on the IIS Express and the same localhost:port) and it is also possible to use \"compile on save\" properly including i.e. css modification and page reload instead of rebuild and IE restart.</p>\n\n<p>It is possible to achieve this manually (without additional scripts) or automatically by post-build script on both IIS express (.vs/config/application.host) and IIS (i didn't need the full IIS till now but I am pretty sure it is possible to automate it through command line). If you will not manipulate projects too often I would say that manual update of IIS / applicationhost.config file is enough and works pretty well (of course when the tsconfig is set correctly to generate map files and set sourceRoot for your TS files).</p>\n\n<pre><code>   Search for the \n   .vs/config/applicationhost.config -&gt; &lt;system.applicationHost&gt; -&gt; &lt;sites&gt; -&gt; &lt;site name=\"YOUR-STARTUP-PROJECT\"&gt;\n   for each project in the solution add\\\n   &lt;virtualDirectory path=\"/src/YourSoultionProject1Name\" physicalPath=\"C:\\...PATH-TO-YOUR-PROJECT-ROOT-FOLDER-ON-DISK\"&gt;\n</code></pre>\n\n<p>For each project also don't forget to set the sourceRoot option of your tsconfig file to /src/YOUR_PROJECT_NAME (or configure the ts compiler in the project properties)</p>\n\n<p>Its the best solution I have found till now. Only the one problem is the .vs is related to user and is not usually transferred to repo so each user has to set it up on its own. Thats the reason (out of others) why I came with the solution bellow</p>\n\n<hr>\n\n<p>I decided to create additional - build - project which I wanted to avoid in the beginning but it will allow me to do:</p>\n\n<ul>\n<li>automatically setup the virtual directories based on projects in the solution after project open or build</li>\n<li>build wwwroot based on the solution configuration (Debug/Release) and projects content. This includes:\n\n<ul>\n<li>process LESS/SASS</li>\n<li>minify JS/CSS/HTML</li>\n<li>generate cache.manifest for offline app support</li>\n</ul></li>\n<li>debug from Visual Studio in IE or externally in Chrome</li>\n<li>publish to Azure as usually with web projects</li>\n<li>clean wwwroot and i.e. js folder</li>\n<li>monitoring of changes in any file in any project in the solution and applying changes to target file without need of rebuild (based on gulp watch)</li>\n</ul>\n\n<p>I am almost done with it, I'll put link here when I'll finish just to give you idea how I proceeded.</p>\n\n<p>How it works (it will be in the readme, but just to explain in short now):</p>\n\n<p>Currently, I have 6 projects in the solution where 5 of them are \"true\" TypeScript code with appropriate tsonfig and/or HTML/LESS/SASS/CSS/JSON/IMG resources.</p>\n\n<p>All projects are based on the \"HTML Application with TypeScript\" template. I have removed everything from them after creation (including the web.config) so it contain only my files now. I also set references to projects in order to be possible to follow required build order. All typescript projects transpiles TS to bin folder (my tsconfig direct compiler to create just one single js file, but it would work for multiple too) of the owning project (including map files and d.ts if required). Other projects then refers to the d.ts in the bin folder of other project using the relative path (../libproject/bin/lib./d.ts) in the tsconfig. </p>\n\n<p>I tried copying to dependent project as C# is doing. It works but it would require a little bit more work and time to get it work properly (and including clean. Postbuild event is not ideal).</p>\n\n<p>6th project is \"build\" and startup project so it does not contain any \"real\" code (except the build tools I need). Its based on gulp and a few scripts I have wrote for reading the solution/projects info and configuration.</p>\n\n<p>It also reads my custom config from each project which is controlling the wwwroot build process. Finally, it is copying/processing (minifying) resources fromm solution project to this build/startup project.</p>\n\n<p>I hope I'll finish the first version tomorrow and publish it to GitHub so you can take a look on it and eventually use at least parts of the code. You'll need node.js to have installed.</p>\n"}], "owner": {"reputation": 470, "user_id": 2033465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2934cae6366d26037b082551e662a7e?s=128&d=identicon&r=PG", "display_name": "lightmotive", "link": "https://stackoverflow.com/users/2033465/lightmotive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1791, "favorite_count": 4, "answer_count": 2, "score": 5, "last_activity_date": 1487892219, "creation_date": 1420336631, "last_edit_date": 1495542306, "question_id": 27761608, "link": "https://stackoverflow.com/questions/27761608/visual-studio-how-to-debug-typescript-in-a-shared-project-using-iis-express-and", "title": "Visual Studio: How to debug TypeScript in a shared project using IIS Express and cross-project references (no linking or duplicating files)", "body": "<p>Ideally, we could simply add shared TypeScript project reference to another project and be able to use the referenced code just like we can with Visual Basic or C# cross-project references.  Alas, that's not available yet.</p>\n\n<p>Hopefully, Microsoft will upgrade Visual Studio in a near-future version so that it supports seamless cross-project TypeScript debugging without having to duplicate shared files.  Until then, we need a workaround.  Several others have asked a similar question on Stack Overflow:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/19065384/2033465\">VS2013 Typescript: Referencing and debugging with multiple projects</a></li>\n<li><a href=\"https://stackoverflow.com/q/21650383/2033465\">Typescript debug ts files that are in other project</a></li>\n<li><a href=\"https://stackoverflow.com/q/21233108/2033465\">Cross-project references between two projects</a></li>\n</ul>\n\n<p>But none of those questions meet all of the requirements indicated in this question.  Here is why the the answers posted in those questions don't meet our needs:</p>\n\n<h1>Problems with linking files, either recursively or manually in Visual Studio</h1>\n\n<ul>\n<li>Debugging and Go To Definition both do not work well, or at all, on linked files.  The linked file does not exist when debugging an ASP.NET website.</li>\n<li>Some helpful plugins view each linked file as a separate file, which slows down code review and debugging across the entire solution (for example, an error in a single linked shared file will show as three separate errors: one for the original file, one for Referencing Project A, and one for Referencing Project B).</li>\n<li>It's inelegant.</li>\n</ul>\n\n<h1>Problems with copying files from the shared project to the referencing project</h1>\n\n<ul>\n<li>No matter how careful you are, chances are high that you will edit a duplicated file directly, rather than the original shared file; when you rebuild, all your changes in the duplicated file will be lost.</li>\n<li>Problems with linked files apply here, as well.</li>\n</ul>\n\n<h1>Problems with simply referencing shared project TypeScript files</h1>\n\n<ul>\n<li>The generated map files, which are required for debugging in multiple systems, do not point to the shared projects.  Instead, it points to path-relative file references, which breaks shared file debugging.</li>\n</ul>\n\n<h1>Other requirements</h1>\n\n<ul>\n<li>We need to retain the ability to build shared TypeScript directly into each referencing application, rather than using a separate shared website and then including that shared code, because the referencing apps target different ECMAScript versions (e.g. ECMAScript3 for a public website and ECMAScript 5/6 for an admin website for which you can specify the minimum browser version) and different apps reference different shared files (referencing projects reference different groups of files in the shared project via different reference.ts files, thus keeping references neat).</li>\n<li>Debugging via a shared website is OK in the development environment, but for production builds, the shared code needs to be built directly into the referencing projects.</li>\n<li>All TypeScript files, including shared files, are compiled into a single file called App.js in each referencing project.</li>\n<li>Ensure that debugging is possible outside of Visual Studio (so we can debug with Chrome, Firefox, and other browsers that support map files, as well as debug within Visual Studio/Internet Explorer).</li>\n</ul>\n\n<p>Anyone have a solution to this problem, or know if Microsoft is building cross-project referencing (including full debugging support) into Visual Studio 2015?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 6, "last_activity_date": 1420330084, "creation_date": 1420330084, "answer_id": 27760985, "question_id": 27760796, "link": "https://stackoverflow.com/questions/27760796/typescript-polymorphic-return-types-in-a-base-class/27760985#27760985", "title": "TypeScript: polymorphic return types in a base class?", "body": "<p>You can take advantage of the <code>constructor</code> property: </p>\n\n<pre><code>class Base {\n    name: string;\n\n    constructor(name: string) { this.name = name; }\n\n    f(name): Base {\n        var c:any = this.constructor;\n        return new c(name); /* or A(name) or B(name) depending on what \"this\" is */\n    }\n}\n\nclass A extends Base { /* stuff */ }\n\nclass B extends Base { /* stuff */ }\n\nvar a = new A(\"something\");\nvar foo = a.f(\"foo\") // -&gt; returns an instance of A, not Base\nconsole.log(foo.constructor);  // \"A\"\n\nvar b = new B(\"something else\");\nvar bar = b.f(\"bar\");\nconsole.log(bar.constructor);  // \"B\"\n</code></pre>\n"}], "owner": {"reputation": 5824, "user_id": 218386, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/8f9a3c0e677f1e377850ea13435679aa?s=128&d=identicon&r=PG", "display_name": "Heinrich Schmetterling", "link": "https://stackoverflow.com/users/218386/heinrich-schmetterling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1669, "favorite_count": 0, "accepted_answer_id": 27760985, "answer_count": 1, "score": 1, "last_activity_date": 1420330084, "creation_date": 1420328579, "question_id": 27760796, "link": "https://stackoverflow.com/questions/27760796/typescript-polymorphic-return-types-in-a-base-class", "title": "TypeScript: polymorphic return types in a base class?", "body": "<p>I have a base class (Base) and two subclasses A and B. </p>\n\n<p>Base has a method f that creates an instance of the current class and returns it. How do I ensure that when you call A.f(), it returns an instance of A instead of Base, and similarly for B? I don't want to have to define this method on A or B.</p>\n\n<p>Here's some sample code:</p>\n\n<pre><code>class Base {\n    name: string;\n\n    constructor(name: string) { this.name = name; }\n\n    f(): Base /* ? */ {\n        return Base(name); /* or A(name) or B(name) depending on what \"this\" is\n\n    }\n}\n\nclass A extends Base { /* stuff */ }\n\nclass B extends Base { /* stuff */ }\n\nvar a = new A();\na.f() -&gt; returns an instance of A, not Base\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 19863, "user_id": 122507, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lGirc.jpg?s=128&g=1", "display_name": "Stilgar", "link": "https://stackoverflow.com/users/122507/stilgar"}, "edited": false, "score": 0, "creation_date": 1420312026, "post_id": 27758467, "comment_id": 43927667, "body": "Is the js file included in the HTML?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4415695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e122a5eeade56a391355b12f87bb1a?s=128&d=identicon&r=PG&f=1", "display_name": "singhhome", "link": "https://stackoverflow.com/users/4415695/singhhome"}, "edited": false, "score": 0, "creation_date": 1420382639, "post_id": 27758567, "comment_id": 43943803, "body": "Thanks. issue was missing script tags for generated js files in my html page. Probably I need to learn on package loader like require.js to manage loading generated js files from my ts files."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1420312358, "creation_date": 1420312358, "answer_id": 27758567, "question_id": 27758467, "link": "https://stackoverflow.com/questions/27758467/typescript-module-handbook-sample-not-executing/27758567#27758567", "title": "Typescript module handbook sample not executing", "body": "<blockquote>\n  <p>\"Validation\" is undefined., which is the name of module.</p>\n</blockquote>\n\n<p>A definitive code ordering issue. Either <code>reference</code> comments are out of order (if you are using <code>--out</code>) or you need to fix the <code>script</code> tags you are using to load the files. </p>\n"}], "owner": {"reputation": 3, "user_id": 4415695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e122a5eeade56a391355b12f87bb1a?s=128&d=identicon&r=PG&f=1", "display_name": "singhhome", "link": "https://stackoverflow.com/users/4415695/singhhome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 27758567, "answer_count": 1, "score": 0, "last_activity_date": 1420312358, "creation_date": 1420311705, "question_id": 27758467, "link": "https://stackoverflow.com/questions/27758467/typescript-module-handbook-sample-not-executing", "title": "Typescript module handbook sample not executing", "body": "<p>I am trying module sample for validation in VS 2015, but it compiles fine but give error while execution.</p>\n\n<p>test.ts file from handbook sample is giving execution error for line\nvalidators['ZIP code'] = new Validation.ZipCodeValidator();</p>\n\n<p>\"Validation\" is undefined., which is the name of module.</p>\n\n<p>in VS I am able to use intellisense for module name, but when executing it is giving error for module name.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["node.js", "typescript", "webstorm"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 4, "last_activity_date": 1420308298, "creation_date": 1420308298, "answer_id": 27757894, "question_id": 27756964, "link": "https://stackoverflow.com/questions/27756964/whats-a-correct-way-to-work-with-node-js-and-typescript/27757894#27757894", "title": "What&#39;s a correct way to work with Node.js and TypeScript?", "body": "<blockquote>\n  <p>However, it doesn't look very nice as I expecting the product from Microsoft would work more or less out of box without the need to use 3rd party hacks</p>\n</blockquote>\n\n<p>The original file came from Microsoft. It's just community maintained. Also using open source is not \"third party hacks\". Using definition files is supported by the Typescript compiler. </p>\n\n<blockquote>\n  <p>Also, it looks like I will need to add this reference file to every file I will need to use node.js modules.</p>\n</blockquote>\n\n<p>You can aggregate all these definition file referenced into a 'vendor.d.ts' and then this is the only file you need to reference. Also this reference can be codegened : <a href=\"https://github.com/TypeStrong/grunt-ts/blob/master/README.md#transforms\" rel=\"nofollow\">https://github.com/TypeStrong/grunt-ts/blob/master/README.md#transforms</a></p>\n"}], "owner": {"reputation": 13108, "user_id": 597292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/99a1f46637008d32957964f799d41647?s=128&d=identicon&r=PG", "display_name": "Centurion", "link": "https://stackoverflow.com/users/597292/centurion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 1, "accepted_answer_id": 27757894, "answer_count": 1, "score": 1, "last_activity_date": 1420308298, "creation_date": 1420302766, "last_edit_date": 1495541656, "question_id": 27756964, "link": "https://stackoverflow.com/questions/27756964/whats-a-correct-way-to-work-with-node-js-and-typescript", "title": "What&#39;s a correct way to work with Node.js and TypeScript?", "body": "<p>I just started to use Node.JS with TypeScript and the very first thing I stumbled was a compilation error (using WebStorm) for the very first line:</p>\n\n<pre><code>import http = require('http');\n</code></pre>\n\n<p>I tried to use \"var\", \"module\" instead of \"require\" but I was still getting \"cannot find module http\" or \"cannot understand 'require' name\". After a while I was able to find only one solution (<a href=\"https://stackoverflow.com/questions/18378503/importing-node-modules-with-typescript\">@basarat</a>) at stackoverflow, which suggested to download and add to project some <a href=\"https://github.com/borisyankov/DefinitelyTyped/blob/master/node/node-0.11.d.ts\" rel=\"nofollow noreferrer\">node.d.ts file</a>, and then use it as a reference at the top:</p>\n\n<pre><code>/// &lt;reference path=\"node.d.ts\" /&gt;\n\nimport http = require('http');\n</code></pre>\n\n<p>However, it doesn't look very nice as I expecting the product from Microsoft would work more or less out of box without the need to use 3rd party hacks. Also, it looks like I will need to add this reference file to every file I will need to use node.js modules. How do you deal with that?</p>\n"}, {"tags": ["angularjs", "visual-studio", "gruntjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 341, "user_id": 2279379, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/586cfa67ce7900228b634bcfc58da960?s=128&d=identicon&r=PG", "display_name": "user2279379", "link": "https://stackoverflow.com/users/2279379/user2279379"}, "edited": false, "score": 0, "creation_date": 1420297294, "post_id": 27755985, "comment_id": 43922988, "body": "I more like internal modules, but is it possible to make typescript compiler show me error that I didnt referenced the b.ts file while using class B in for example c.ts ?"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 341, "user_id": 2279379, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/586cfa67ce7900228b634bcfc58da960?s=128&d=identicon&r=PG", "display_name": "user2279379", "link": "https://stackoverflow.com/users/2279379/user2279379"}, "edited": false, "score": 1, "creation_date": 1420297407, "post_id": 27755985, "comment_id": 43923020, "body": "It is a runtime error, so it isn&#39;t really something TypeScript can check (it would have to statically analyse all of your HTML files and check the ordering of your script tags)."}, {"owner": {"reputation": 341, "user_id": 2279379, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/586cfa67ce7900228b634bcfc58da960?s=128&d=identicon&r=PG", "display_name": "user2279379", "link": "https://stackoverflow.com/users/2279379/user2279379"}, "edited": false, "score": 0, "creation_date": 1420461846, "post_id": 27755985, "comment_id": 43969339, "body": "What If I have all my typescript code compiled into 1 javascript file?It should be easy to determine the order in this case"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 341, "user_id": 2279379, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/586cfa67ce7900228b634bcfc58da960?s=128&d=identicon&r=PG", "display_name": "user2279379", "link": "https://stackoverflow.com/users/2279379/user2279379"}, "edited": false, "score": 0, "creation_date": 1420467917, "post_id": 27755985, "comment_id": 43972872, "body": "It is theoretically possible, although it would cost in terms of compilation times. The key point being that the compiler doesn&#39;t currently do that - you the <code>_references.ts</code> file can be used to tell it the order."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 3, "last_activity_date": 1420296061, "creation_date": 1420296061, "answer_id": 27755985, "question_id": 27754973, "link": "https://stackoverflow.com/questions/27754973/autoresolve-typescript-dependencies/27755985#27755985", "title": "Autoresolve typescript dependencies", "body": "<p>A common way to ease the ordering of dependencies is to create a <code>_references.ts</code> file that acts as the sole source of this information:</p>\n\n<pre><code>///&lt;reference path=\"b.ts\" /&gt;\n///&lt;reference path=\"a.ts\" /&gt;\n</code></pre>\n\n<p>You can then simply reference this one file from all of the others:</p>\n\n<pre><code>///&lt;reference path=\"_references.ts\" /&gt;\n\nclass A extends B {\n\n}\n</code></pre>\n\n<p>Alternatively, if you switch to external modules and use a module loader, the import statements supply all of the information needed to ensure the ordering works.</p>\n"}], "owner": {"reputation": 341, "user_id": 2279379, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/586cfa67ce7900228b634bcfc58da960?s=128&d=identicon&r=PG", "display_name": "user2279379", "link": "https://stackoverflow.com/users/2279379/user2279379"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 0, "accepted_answer_id": 27755985, "answer_count": 1, "score": 1, "last_activity_date": 1420296061, "creation_date": 1420288972, "last_edit_date": 1420295881, "question_id": 27754973, "link": "https://stackoverflow.com/questions/27754973/autoresolve-typescript-dependencies", "title": "Autoresolve typescript dependencies", "body": "<p>I am tired of handling reference order of TypeScript files on my own. Is there a tool to do this work for me? I tried visual studio and gruntjs approach which turns all <code>.ts</code> files into 1 <code>.js</code> file. But they both ignore file order so I for example get big js file like:</p>\n\n<pre><code>class A : B \n{\n\n}();\n\nclass B\n{\n\n}();\n</code></pre>\n\n<p>And my angular application fails to run because B has not been initialised yet.</p>\n"}, {"tags": ["enums", "switch-statement", "typescript"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 1, "creation_date": 1420226751, "post_id": 27747437, "comment_id": 43905912, "body": "This code works in the TypeScript Playground. Are you sure your scripts are loading in the correct order?"}, {"owner": {"reputation": 13073, "user_id": 2046805, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/OA3Bm.jpg?s=128&g=1", "display_name": "Faris Zacina", "link": "https://stackoverflow.com/users/2046805/faris-zacina"}, "edited": false, "score": 0, "creation_date": 1420227871, "post_id": 27747437, "comment_id": 43906406, "body": "I can also confirm it works in the Playground."}, {"owner": {"reputation": 2003, "user_id": 182740, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/77b9abe2cc4f99740bdc9592ecbe1b13?s=128&d=identicon&r=PG", "display_name": "Mantzas", "link": "https://stackoverflow.com/users/182740/mantzas"}, "edited": false, "score": 3, "creation_date": 1420228183, "post_id": 27747437, "comment_id": 43906544, "body": "yes it does, it seems the issue is not the code itself. for some reason my code assigns not a number behind the enum but the string associated with the number eg istead of 1 (Edit) &quot;1&quot;. why i can&#39;t understand."}, {"owner": {"reputation": 6477, "user_id": 968003, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/3l2zr.jpg?s=128&g=1", "display_name": "Alex Klaus", "link": "https://stackoverflow.com/users/968003/alex-klaus"}, "edited": false, "score": 2, "creation_date": 1485650974, "post_id": 27747437, "comment_id": 71014376, "body": "Replace it with if/else and it should work. There are a bunch of typing issues/features in TypeScript. Eg. that one - <a href=\"https://github.com/Microsoft/TypeScript/issues/8618\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/8618</a>"}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 1, "creation_date": 1496757013, "post_id": 27747437, "comment_id": 75783466, "body": "Actually this code is NOT working in the Typescript playground... editmode DELETE is not comparable to editmode EDIT"}], "answers": [{"comments": [{"owner": {"reputation": 12923, "user_id": 108602, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ebf7ab4c1962cda1c7b74b4635948b50?s=128&d=identicon&r=PG", "display_name": "mfanto", "link": "https://stackoverflow.com/users/108602/mfanto"}, "edited": false, "score": 3, "creation_date": 1431215633, "post_id": 27747848, "comment_id": 48400836, "body": "This was the problem for me as well. My constructor had a parameter of type Enum, but an outside caller was passing a string. I changed the constructor parameter to be of type string, and used EnumType[parameter] to convert it to the enum."}], "tags": [], "owner": {"reputation": 2003, "user_id": 182740, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/77b9abe2cc4f99740bdc9592ecbe1b13?s=128&d=identicon&r=PG", "display_name": "Mantzas", "link": "https://stackoverflow.com/users/182740/mantzas"}, "is_accepted": true, "score": 23, "last_activity_date": 1420228804, "creation_date": 1420228804, "answer_id": 27747848, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/27747848#27747848", "title": "Typescript enum switch not working", "body": "<p>i have found why i does happen. somewhere in the code there is a activation function (i am using durandal) which passes this enum as a string (the function has the parameter marked as a enum but still it is a string). this is why my switch statement fails. i simply converted the value to a number and now everything works as expected. thanks anyways</p>\n"}, {"comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 2, "creation_date": 1496757043, "post_id": 43178834, "comment_id": 75783478, "body": "This seems the only way to fix the typescript glitch / bug."}, {"owner": {"reputation": 6663, "user_id": 532685, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/00fed527cb6dfa9b682b361c2de27e42?s=128&d=identicon&r=PG", "display_name": "nycynik", "link": "https://stackoverflow.com/users/532685/nycynik"}, "edited": false, "score": 17, "creation_date": 1500153612, "post_id": 43178834, "comment_id": 77216521, "body": "So the + will change it to a number, and that seems to work. I think this does not seem like a great solution.  I also tried assigning the first item to 0 in my enum and it did not help. Seems like a bug."}, {"owner": {"reputation": 1658, "user_id": 6501190, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vapSh.jpg?s=128&g=1", "display_name": "java-addict301", "link": "https://stackoverflow.com/users/6501190/java-addict301"}, "edited": false, "score": 0, "creation_date": 1593625514, "post_id": 43178834, "comment_id": 110849408, "body": "+ is a hack that coerces it to a number.  My answer below is correct based on modern Typescript version."}], "tags": [], "owner": {"reputation": 33829, "user_id": 7850, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Eql2x.jpg?s=128&g=1", "display_name": "Shaul Behr", "link": "https://stackoverflow.com/users/7850/shaul-behr"}, "is_accepted": false, "score": 92, "last_activity_date": 1491204360, "creation_date": 1491204360, "answer_id": 43178834, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/43178834#43178834", "title": "Typescript enum switch not working", "body": "<p>I also had this problem.  Easy way to get around it: add a <code>+</code> sign before your variable in the switch, i.e.</p>\n\n<pre><code>switch (+editMode) {\n    case EditMode.Delete:\n        ...\n        break;\n    case EditMode.Edit:\n        ...\n        break;\n    default:\n        ...\n        break;\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1402, "user_id": 2223566, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/74716b1ef308b59103a1f2415f84abb1?s=128&d=identicon&r=PG&f=1", "display_name": "rotgers", "link": "https://stackoverflow.com/users/2223566/rotgers"}, "edited": false, "score": 0, "creation_date": 1563359111, "post_id": 56319683, "comment_id": 100670947, "body": "This does not fix it for me."}], "tags": [], "owner": {"reputation": 1, "user_id": 4218342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c870237e156954de6af71a90ee0ae61?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Aksiuta", "link": "https://stackoverflow.com/users/4218342/anton-aksiuta"}, "is_accepted": false, "score": -3, "last_activity_date": 1558931630, "last_edit_date": 1558931630, "creation_date": 1558931311, "answer_id": 56319683, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/56319683#56319683", "title": "Typescript enum switch not working", "body": "<p>Declare your enum using <code>const</code>:</p>\n\n<pre><code>const enum EditMode {\n    View = 0,\n    Edit = 1,\n    Delete = 2\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 322, "user_id": 2128308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQdBt.jpg?s=128&g=1", "display_name": "ohsully", "link": "https://stackoverflow.com/users/2128308/ohsully"}, "is_accepted": false, "score": 3, "last_activity_date": 1562179350, "creation_date": 1562179350, "answer_id": 56876242, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/56876242#56876242", "title": "Typescript enum switch not working", "body": "<p>In case somebody else ends up here and the above options don't seem to be the issue, double-check that all of your switch statements are breaking/returning!  The Typescript compiler is smart enough to see that if your <code>case</code> cascades through to another one, the value you're comparing on may never hit the case you expect.</p>\n\n<pre><code>let handlerName;\n\nswitch(method){\n  case 'create':\n    handlerName = 'createHandler';\n    break;\n  case 'update';\n    handlerName = 'updateHandler';\n    // Here is where the forgotten break would go\n  default:\n    throw new Error('Unrecognized Method');\n}\n\nswitch(handlerName){\n  case 'createHandler':\n    ...\n    break;\n  case 'updateHandler':\n    // You will see an error on this case because\n    // the compiler knows that execution will never\n    // arrive here with handler === 'updateHandler'\n  default:\n    throw new Error('Unrecognized Handler');\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1658, "user_id": 6501190, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vapSh.jpg?s=128&g=1", "display_name": "java-addict301", "link": "https://stackoverflow.com/users/6501190/java-addict301"}, "is_accepted": false, "score": 3, "last_activity_date": 1575654125, "creation_date": 1575654125, "answer_id": 59217944, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/59217944#59217944", "title": "Typescript enum switch not working", "body": "<p>Change your EditMode enum definition to:</p>\n\n<pre><code>enum EditMode {\n    View = \"View\",\n    Edit = \"Edit\",\n    Delete = \"Delete\"\n}\n</code></pre>\n\n<p>Typescript 3.6.3</p>\n"}, {"tags": [], "owner": {"reputation": 944, "user_id": 1067920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f3bb5cdf970dd3b7dac4817a5d711c?s=128&d=identicon&r=PG", "display_name": "user1067920", "link": "https://stackoverflow.com/users/1067920/user1067920"}, "is_accepted": false, "score": -1, "last_activity_date": 1579083415, "creation_date": 1579083415, "answer_id": 59749300, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/59749300#59749300", "title": "Typescript enum switch not working", "body": "<p>If you use the <code>switch</code> expression in a function with typed parameter, this works as expected.</p>\n\n<p>Example:</p>\n\n<pre><code>enum EditMode {\n    View,\n    Edit,\n    Delete,\n}\n\nfunction testSwitch(editMode: EditMode) {\n    switch(editMode) {\n        case EditMode.Delete:\n            console.log(\"delete\");\n            break;\n        case EditMode.Edit:\n            console.log(\"edit\");\n            break;\n        default:\n            console.log(\"default\");\n            break;\n    }\n}\n\ntestSwitch(EditMode.Edit)\n</code></pre>\n\n<p>will compile \ud83e\udd73 and output <code>edit</code> \ud83d\udc4d</p>\n"}, {"tags": [], "owner": {"reputation": 255, "user_id": 12750609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed8118e117218afde28519ee5fed5a7b?s=128&d=identicon&r=PG&f=1", "display_name": "acat", "link": "https://stackoverflow.com/users/12750609/acat"}, "is_accepted": false, "score": 9, "last_activity_date": 1579558087, "creation_date": 1579558087, "answer_id": 59831519, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/59831519#59831519", "title": "Typescript enum switch not working", "body": "<p>The issue here has to do with typescript's <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#numeric-literal-types\" rel=\"noreferrer\">(numeric) literal types</a>. When you do this assignment:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var editMode = EditMode.Edit\n</code></pre>\n\n<p>TypeScript evaluates the type as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var editMode: 1 = EditMode.Edit\n</code></pre>\n\n<p>Now, when you compare a value that typescript knows <em>must</em> be <code>1</code> (<code>EditMode.Edit</code>) to a value that it knows <em>must</em> be <code>0</code> (<code>EditMode.View</code>), it sees all this as a type-safety violation. If the variable <code>editMode</code> weren't an <code>enum</code>, typescript would merely complain, but since it's an <code>enum</code>, which doesn't really exist in javascript, typescript gets to control the transpilation in such a way that it actually throws an error. <br/>\nSo you have 2 options. So you can either coerce <code>editMode</code> to be a <code>number</code> or to be an <code>EditMode</code> (i.e. any of the values <code>EditMode</code> is permitted to be, not just the one assigned to <code>editMode</code> the variable). <br/>\nPersonally, I prefer to coerce it to be an <code>EditMode</code>, because it feels more type-safe.<br/><br/>\nTo go the number route, you can do the following, which was previously mentioned:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>switch(+editMode)\n</code></pre>\n\n<p>To go the <code>EditMode</code> route (which I recommend), you can pass it to a function as was mentioned, but sometimes it's a little cleaner to not write a function. If that's the case here, then you can again coerce the type in the <code>switch</code> statement:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>switch(editMode as EditMode)\n</code></pre>\n\n<p>Do whichever you prefer, but I just like the clarity of explicitly saying \"this variable is being treated as an <code>EditMode</code>\" as opposed to \"this variable is supposed to actually be a <code>number</code>, not an <code>Enum</code>\".</p>\n"}, {"comments": [{"owner": {"reputation": 1985, "user_id": 3144560, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/B4e0Y.jpg?s=128&g=1", "display_name": "Mustafa Chelik", "link": "https://stackoverflow.com/users/3144560/mustafa-chelik"}, "edited": false, "score": 1, "creation_date": 1601864144, "post_id": 59955863, "comment_id": 113528691, "body": "it doesn&#39;t work without the plus (&#39;+&#39;). how come it solves the problem?"}], "tags": [], "owner": {"reputation": 547, "user_id": 11216947, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iksnC1-Aiok/AAAAAAAAAAI/AAAAAAAAArU/z7853jmaM7Q/photo.jpg?sz=128", "display_name": "Rashid Iqbal", "link": "https://stackoverflow.com/users/11216947/rashid-iqbal"}, "is_accepted": false, "score": 8, "last_activity_date": 1580240210, "creation_date": 1580240210, "answer_id": 59955863, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/59955863#59955863", "title": "Typescript enum switch not working", "body": "<p>TypeScript version <strong>3.7.5</strong></p>\n\n<p>this code worked for me</p>\n\n<pre><code>enum Seasons {\n    Winter,\n    Spring,\n    Summer,\n    Autum\n  }\n\nswitch (+Seasons.Winter) {\n    case Seasons.Winter:\n        console.log('weather is cold');\n        break;\n    case Seasons.Spring:\n        console.log('weather is spring');\n        break;\n    case Seasons.Summer:\n        console.log('weather is summer');\n        break;\n    default:\n        break;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/LNBCZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LNBCZ.png\" alt=\"visual studio code: seasons \"></a></p>\n\n<p>or you can declare a constant and use as param for switch  statement</p>\n\n<pre><code>const season: Seasons = Seasons.Winter\nswitch (+season) {\n    case Seasons.Winter:\n        console.log('weather is cold');\n        break;\n    case Seasons.Spring:\n        console.log('weather is spring');\n        break;\n    case Seasons.Summer:\n        console.log('weather is summer');\n        break;\n    default:\n        break;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/uY7iU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uY7iU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 3246781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a4df657b8a4d5c9045aa2328276cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Gerard", "link": "https://stackoverflow.com/users/3246781/gerard"}, "is_accepted": false, "score": -1, "last_activity_date": 1585908762, "creation_date": 1585908762, "answer_id": 61009550, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/61009550#61009550", "title": "Typescript enum switch not working", "body": "<p>In my case I had the switch inside a condition, which was coercing the enum into a value:</p>\n\n<pre><code>enum A {\n    VAL_A,\n    VAL_B,\n    VAL_C\n}\ninterface ia {\n    maybe?: A\n}\nconst o: ia = {maybe: 0}\nif(o.maybe){ //&lt;-- o.maybe is not falsey (thus, is not 0)\n    switch(o.maybe) {\n        case A.VAL_A: //&lt;-- Error! we know that o.maybe is not 0. Its VAL_B | VAL_C\n        break;\n    }\n\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 8640845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceade3e763069995d997950668078d5b?s=128&d=identicon&r=PG&f=1", "display_name": "ldobson", "link": "https://stackoverflow.com/users/8640845/ldobson"}, "is_accepted": false, "score": 0, "last_activity_date": 1589360398, "creation_date": 1589360398, "answer_id": 61770373, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/61770373#61770373", "title": "Typescript enum switch not working", "body": "<p>If the enum is defined in a separate typescript file, ensure it's marked with \"export\" and that you import it correctly at the top of the typescript file you're referencing it in.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12428264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf1af7e56f04732811a401611a6b1597?s=128&d=identicon&r=PG&f=1", "display_name": "user12428264", "link": "https://stackoverflow.com/users/12428264/user12428264"}, "is_accepted": false, "score": 0, "last_activity_date": 1602608500, "last_edit_date": 1602608500, "creation_date": 1602589024, "answer_id": 64334491, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/64334491#64334491", "title": "Typescript enum switch not working", "body": "<p>Use it like this.</p>\n<pre><code>const enum OperationsType{\n    CREATE=&quot;CREATE&quot;,\n    DELETE=&quot;DELETE&quot;,\n    UPDATE=&quot;UPDATE&quot;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 10815899, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-41m9pdYVv8M/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gvT5zAmMSvUZ_dtrgOD-rqgDbxeQ/mo/photo.jpg?sz=128", "display_name": "Viljami", "link": "https://stackoverflow.com/users/10815899/viljami"}, "is_accepted": false, "score": 1, "last_activity_date": 1603283322, "creation_date": 1603283322, "answer_id": 64463532, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working/64463532#64463532", "title": "Typescript enum switch not working", "body": "<p>With <code>//@ts-ignore</code> suppress you can do:</p>\n<pre><code>//@ts-ignore\nswitch (EditMode[editMode] as EditMode) {\n    case EditMode.Delete:\n        ...\n        break;\n    case EditMode.Edit:\n        ...\n        break;\n    default:\n        ...\n        break;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2003, "user_id": 182740, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/77b9abe2cc4f99740bdc9592ecbe1b13?s=128&d=identicon&r=PG", "display_name": "Mantzas", "link": "https://stackoverflow.com/users/182740/mantzas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62241, "favorite_count": 7, "accepted_answer_id": 27747848, "answer_count": 12, "score": 67, "last_activity_date": 1603283322, "creation_date": 1420226572, "last_edit_date": 1420227576, "question_id": 27747437, "link": "https://stackoverflow.com/questions/27747437/typescript-enum-switch-not-working", "title": "Typescript enum switch not working", "body": "<p>i have the following enum</p>\n\n<pre><code>enum EditMode {\n    View = 0,\n    Edit = 1,\n    Delete = 2\n}\n</code></pre>\n\n<p>Let's assume i have a variable of the enum type</p>\n\n<pre><code>var editMode = EditMode.Edit;\n</code></pre>\n\n<p>Why does the following code not work (goes straight to default)?</p>\n\n<pre><code>switch (editMode) {\n    case EditMode.Delete:\n        ...\n        break;\n    case EditMode.Edit:\n        ...\n        break;\n    default:\n        ...\n        break;\n    }\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1571, "user_id": 121983, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5e9dc8469eaa285f95f7175407a9f758?s=128&d=identicon&r=PG", "display_name": "Ross Scott", "link": "https://stackoverflow.com/users/121983/ross-scott"}, "edited": false, "score": 2, "creation_date": 1420197797, "post_id": 27740390, "comment_id": 43893548, "body": "According to the blog entry for 1.4 (I presume that is what you are using), then the length property shouldn&#39;t be required. If you use the Type Guard pattern (slightly different to your example), then it should infer the type within that if statement. More info here: <a href=\"http://blogs.msdn.com/b/typescript/archive/2014/11/18/what-s-new-in-the-typescript-type-system.aspx\" rel=\"nofollow noreferrer\">blogs.msdn.com/b/typescript/archive/2014/11/18/&hellip;</a>"}, {"owner": {"reputation": 658, "user_id": 2493690, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/81829e6fb62e8e73243039964af8fdfe?s=128&d=identicon&r=PG", "display_name": "donnut", "link": "https://stackoverflow.com/users/2493690/donnut"}, "reply_to_user": {"reputation": 1571, "user_id": 121983, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5e9dc8469eaa285f95f7175407a9f758?s=128&d=identicon&r=PG", "display_name": "Ross Scott", "link": "https://stackoverflow.com/users/121983/ross-scott"}, "edited": false, "score": 0, "creation_date": 1420199536, "post_id": 27740390, "comment_id": 43894331, "body": "True. It doesn&#39;t need <code>length</code> when I change the signature of saySize to <code>message: IMessage[]</code>. But then I can not use saySize for <code>IMessage</code> and <code>IMessage[]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 2, "last_activity_date": 1420295855, "creation_date": 1420295855, "answer_id": 27755950, "question_id": 27740390, "link": "https://stackoverflow.com/questions/27740390/typescript-union-type-requires-length/27755950#27755950", "title": "TypeScript union type requires length", "body": "<p>There are no currently open issues against TypeScript 1.4 for Type Guards. Type Guards include both <code>typeof</code> and <code>instanceof</code>.</p>\n\n<p>The check you use (instanceof) should cause a narrowing of type within the if-block. That should mean the <code>length?: string;</code> on your interface is not needed.</p>\n\n<p>You could raise the issue here to see if it can be fixed, or if there is a special reason for arrays to be treated differently.</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/milestones/TypeScript%201.4\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/milestones/TypeScript%201.4</a></p>\n\n<p>In the meantime, you could use this ugly looking type assertion to avoid adding the property to your interface (as an IMessage wouldn't have that property).</p>\n\n<pre><code>return (&lt;IMessage[]&gt;&lt;any&gt;message).length;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 3, "last_activity_date": 1421187771, "last_edit_date": 1421187771, "creation_date": 1420346056, "answer_id": 27762407, "question_id": 27740390, "link": "https://stackoverflow.com/questions/27740390/typescript-union-type-requires-length/27762407#27762407", "title": "TypeScript union type requires length", "body": "<p>Seems like a Bug. I've reported here : <a href=\"https://github.com/Microsoft/TypeScript/issues/1587\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/issues/1587</a> One thing of note is that I wouldn't use <code>interface</code> with a Type Guard although that is not the source of the error here. </p>\n\n<p><strong>UPDATE</strong> its been fixed on <code>master</code> : <a href=\"https://github.com/Microsoft/TypeScript/pull/1657\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/pull/1657</a> so should be there in <code>1.4</code> </p>\n"}], "owner": {"reputation": 658, "user_id": 2493690, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/81829e6fb62e8e73243039964af8fdfe?s=128&d=identicon&r=PG", "display_name": "donnut", "link": "https://stackoverflow.com/users/2493690/donnut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 996, "favorite_count": 0, "accepted_answer_id": 27755950, "answer_count": 2, "score": 4, "last_activity_date": 1421187771, "creation_date": 1420193100, "last_edit_date": 1420200513, "question_id": 27740390, "link": "https://stackoverflow.com/questions/27740390/typescript-union-type-requires-length", "title": "TypeScript union type requires length", "body": "<pre><code>interface IMessage {\n  value: string;\n  length?: string;   // &lt;-- why is this line necessary?\n}\n\nfunction saySize(message: IMessage|IMessage[]) {\n  if (message instanceof Array) {\n    return message.length;\n  }\n}\n</code></pre>\n\n<p>This snippet compiles, but requires an option <code>length</code> in <code>IMessage</code>. If it is left out, the error is:</p>\n\n<pre><code>unions.ts(8,24): error TS2339: Property 'length' does not exist on type 'IMessage | IMessage[]'.\n</code></pre>\n\n<p>I find this counterintuitive because I need to make the assumption that <code>IMessage</code> can be used as an array type. Is adding the optional length needed indeed, or am I making a mistake?</p>\n"}]