[{"tags": ["typescript"], "comments": [{"owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 0, "creation_date": 1550707215, "post_id": 54797138, "comment_id": 96372064, "body": "Doesn&#39;t <code>any | Function</code> mean &quot;<code>any</code> <i>or</i> <code>Function</code>&quot;?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1550711505, "post_id": 54797138, "comment_id": 96373017, "body": "Also related to <a href=\"https://stackoverflow.com/questions/52692606/how-to-declare-a-type-in-typescript-that-only-includes-objects-and-not-functions/52694022#52694022\">How to declare a type in TypeScript that only includes objects and not functions</a>"}], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1550708887, "post_id": 54797188, "comment_id": 96372458, "body": "There&#39;s also something like <code>{apply?: never;}</code> which is narrower than &quot;not a function&quot; (and could possibly conflict with particular use cases) but does a decent job in its stead without needing generics."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1550709059, "post_id": 54797188, "comment_id": 96372499, "body": "@jcalz Ah yes I forgot about that option, have used it myself on occasion, but it will force an object type, primitives will not work anymore. But it&#39;s a good option to have in the toolkit 10x for posting it :)"}, {"owner": {"reputation": 12763, "user_id": 255363, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7b75e9c5528b79acc6a81c18265329f9?s=128&d=identicon&r=PG", "display_name": "kirilloid", "link": "https://stackoverflow.com/users/255363/kirilloid"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1550710439, "post_id": 54797188, "comment_id": 96372788, "body": "@jcalz clever, but for a new person working on the code such a definition might be not obvious at all. <code>Exclude&lt;T, Function&gt;</code> is more &quot;intuitive&quot; unless you leave a comment."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 12763, "user_id": 255363, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7b75e9c5528b79acc6a81c18265329f9?s=128&d=identicon&r=PG", "display_name": "kirilloid", "link": "https://stackoverflow.com/users/255363/kirilloid"}, "edited": false, "score": 1, "creation_date": 1550710628, "post_id": 54797188, "comment_id": 96372820, "body": "@kirilloid you can give it a documenting name like <code>NotFunction = {apply?: never;}</code> But yes it&#39;s not terribly obvious."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 6, "last_activity_date": 1550707520, "last_edit_date": 1592644375, "creation_date": 1550707520, "answer_id": 54797188, "question_id": 54797138, "link": "https://stackoverflow.com/questions/54797138/typescript-define-type-as-any-but-function/54797188#54797188", "title": "Typescript: Define type as any but function", "body": "<p>This is currently not possible, it will become possible when negated type become available. The <a href=\"https://github.com/Microsoft/TypeScript/pull/29317\" rel=\"nofollow noreferrer\">PR</a> here described this exact use case:</p>\n<blockquote>\n<blockquote>\n<p>Can this be used as a way to restrict the potential type of unbounded types? For example, <code>number &amp; not 0</code> to allow any number except the literal 0.</p>\n</blockquote>\n<p>Yep. That's a primary driver for 'em.</p>\n</blockquote>\n<p>If you are looking to restrict the parameter to a function, we can do this currently with generics and conditional types, this will act mostly as a negated type:</p>\n<pre><code>function noFunctions&lt;T&gt;(p: Exclude&lt;T, Function&gt;) {\n\n}\n\nnoFunctions(1) //ok\nnoFunctions(() =&gt; {}) ///error\n</code></pre>\n"}], "owner": {"reputation": 8962, "user_id": 735226, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c5c848af216f29210a5c4c0b3e1a6639?s=128&d=identicon&r=PG", "display_name": "Johannes Klau&#223;", "link": "https://stackoverflow.com/users/735226/johannes-klau%c3%9f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "closed_date": 1550712578, "answer_count": 1, "score": 2, "last_activity_date": 1550707520, "creation_date": 1550707106, "question_id": 54797138, "link": "https://stackoverflow.com/questions/54797138/typescript-define-type-as-any-but-function", "closed_reason": "Duplicate", "title": "Typescript: Define type as any but function", "body": "<p>I want to define a type that allows any type except a function, how can I achieve that?</p>\n\n<p>I tried an intersection like this:</p>\n\n<pre><code>type anyButFunction = any | Function;\n</code></pre>\n\n<p>but when I try</p>\n\n<pre><code>const foo: anyButFunction = () =&gt; null;\n</code></pre>\n\n<p>it does compile fine. How could I create such a type? Is that even possible?</p>\n"}, {"tags": ["typescript", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 515, "user_id": 5183103, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/373dbc879fa968430b47cdf16724f36a?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Thomas", "link": "https://stackoverflow.com/users/5183103/matt-thomas"}, "edited": false, "score": 1, "creation_date": 1550706704, "post_id": 54797034, "comment_id": 96371952, "body": "Sweet, thanks a lot dude! I saw &quot;as const&quot; and was disappointed when I tried to use it and found out that it wasn&#39;t released yet! Thanks again! I&#39;ll mark your answer correct in 6 min when it lets me haha"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1550706357, "creation_date": 1550706357, "answer_id": 54797034, "question_id": 54797007, "link": "https://stackoverflow.com/questions/54797007/generic-array-to-return-typed-indexes/54797034#54797034", "title": "Generic array to return typed indexes", "body": "<p>You want to get tuples inferred from the array literal, there are two ways to convince the compiler to do this:</p>\n\n<p>Using tuples in rest parameters. This removed the array literal from the call:</p>\n\n<pre><code>const arrayToArray = &lt;T extends any[]&gt;(...values: T) =&gt; values;\n\nconst result = arrayToArray(1, 'hi', 3); //[number, string, number]\n</code></pre>\n\n<p>Using an union of tuple and array constraint to hint to the compiler you want a union. This preserves passing the parameter as an array:</p>\n\n<pre><code>const arrayToArray = &lt;T extends [any] | any[]&gt;(values: T) =&gt; values;\n\nconst result = arrayToArray([1, 'hi', 3]); // [number, string, number]\n</code></pre>\n\n<p>Or if you want a readonly tuple in 3.4 (unreleased yet) you can directly use an <code>as const</code> assertion:</p>\n\n<pre><code>const result = [1, 'hi', 3]  as const; // readonly [number, string, number]\n</code></pre>\n"}], "owner": {"reputation": 515, "user_id": 5183103, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/373dbc879fa968430b47cdf16724f36a?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Thomas", "link": "https://stackoverflow.com/users/5183103/matt-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 54797034, "answer_count": 1, "score": 2, "last_activity_date": 1550706357, "creation_date": 1550706194, "question_id": 54797007, "link": "https://stackoverflow.com/questions/54797007/generic-array-to-return-typed-indexes", "title": "Generic array to return typed indexes", "body": "<p>Might be a bad question or not even possible but I've been banging my head against it for awhile and cant figure it out. Thanks in advance!</p>\n\n<p>The T generic creates a join type: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const arrayToArray = &lt;T&gt;(values: T[]) =&gt; values;\n</code></pre>\n\n<p>When I use the function: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const result = arrayToArray([1, 'hi', 3]);\n</code></pre>\n\n<p>It creates the type:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const result: (string | number)[]\n</code></pre>\n\n<p>I'm looking for it to create: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const result: [number, string, number]\n</code></pre>\n\n<hr>\n\n<p>I'm hoping for <code>'one'</code> and <code>'three'</code> to return a type error because they aren't numbers.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const useResultType: typeof result = ['one', 'two', 'three'];\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6", "http-put"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1550705718, "post_id": 54796923, "comment_id": 96371701, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20035101/why-does-my-javascript-get-a-no-access-control-allow-origin-header-is-present\">Why does my JavaScript get a &quot;No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource&quot; error when Postman does not?</a>"}, {"owner": {"reputation": 1293, "user_id": 4781787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FZmU.jpg?s=128&g=1", "display_name": "Mohit Saxena", "link": "https://stackoverflow.com/users/4781787/mohit-saxena"}, "edited": false, "score": 0, "creation_date": 1550730701, "post_id": 54796923, "comment_id": 96378145, "body": "Did u put Access-Control-Allow-Origin in your header response from API?"}, {"owner": {"reputation": 65, "user_id": 10859477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b45fb33b81c7b530b5ee34312ba4248?s=128&d=identicon&r=PG&f=1", "display_name": "daniel", "link": "https://stackoverflow.com/users/10859477/daniel"}, "edited": false, "score": 0, "creation_date": 1550780436, "post_id": 54796923, "comment_id": 96407519, "body": "actually my error was that i was sending an extra field without paying attention instead of affecting category_id i was adding categorie_id in my form Group"}], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 10859477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b45fb33b81c7b530b5ee34312ba4248?s=128&d=identicon&r=PG&f=1", "display_name": "daniel", "link": "https://stackoverflow.com/users/10859477/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1550780565, "creation_date": 1550780565, "answer_id": 54815630, "question_id": 54796923, "link": "https://stackoverflow.com/questions/54796923/im-getting-an-error-in-my-angular-6-http-put-request/54815630#54815630", "title": "i&#39;m getting an error in my angular 6 http put request", "body": "<p>my error was not in any of those functions i was sending an extra field in my FormGroup\nafter i rechecked the fields is realized it </p>\n"}], "owner": {"reputation": 65, "user_id": 10859477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b45fb33b81c7b530b5ee34312ba4248?s=128&d=identicon&r=PG&f=1", "display_name": "daniel", "link": "https://stackoverflow.com/users/10859477/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 631, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550789873, "creation_date": 1550705654, "last_edit_date": 1550789873, "question_id": 54796923, "link": "https://stackoverflow.com/questions/54796923/im-getting-an-error-in-my-angular-6-http-put-request", "title": "i&#39;m getting an error in my angular 6 http put request", "body": "<p>here is my code</p>\n\n<p>products.service:</p>\n\n<pre><code>updateCategorie(ucategorie: Icategorie) {\nconst endpoint = this.url + 'api/Category/Edit';\n\nconst headers = new Headers();\nheaders.append('Authorization', 'Bearer ' + localStorage.getItem('access_token'));\nconst options = new RequestOptions({\n  headers: headers\n});\n\nconsole.log('access_toke: ', localStorage.getItem('access_token'));\n\nreturn this.http.put(endpoint, ucategorie, options)\n.pipe(map((res) =&gt; {\n  return res.json();\n})).toPromise();\n</code></pre>\n\n<p>all the fields are not null and the access token is being sent\nproduct.component.ts:</p>\n\n<pre><code>updateCategorie() {\nthis.spinner.show();\nconsole.log('catudata: ', this.categorieudata.value);\nthis.authent.updateCategorie(this.categorieudata.value).then((res) =&gt; {\n  if (res) {\n    this.spinner.hide();\n    if (confirm(this.categorieudata.value.Category_name + 'have been updated')) {\n      this.ngOnInit();\n    }\n  }\n}, (err) =&gt; {\n  this.spinner.hide();\n  if (confirm('An error occured please try again')) {\n    this.ngOnInit();\n    console.log('###error: ', err);\n  }\n});\n}\n</code></pre>\n\n<p>but i'm getting these error:</p>\n\n<pre><code>Access to XMLHttpRequest at 'http://api-accountingsystem.azurewebsites.net/api/Category/Edit' from origin 'http://localhost:4200' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n\n<p>and i used the same method on another request it worked\ncan anyone give me a hand please</p>\n"}, {"tags": ["typescript", "visual-studio-code", "vscode-extensions"], "comments": [{"owner": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "edited": false, "score": 0, "creation_date": 1550706861, "post_id": 54796636, "comment_id": 96371981, "body": "You could make your own tree, but it would be more limited (no ability to add a &quot;Filter&quot; text field atm for instance: <a href=\"https://github.com/Microsoft/vscode/issues/50062\" rel=\"nofollow noreferrer\">github.com/Microsoft/vscode/issues/50062</a>)."}], "answers": [{"comments": [{"owner": {"reputation": 23367, "user_id": 78162, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1497a61bc7f673e30f224a3df61a6742?s=128&d=identicon&r=PG", "display_name": "BlueMonkMN", "link": "https://stackoverflow.com/users/78162/bluemonkmn"}, "edited": false, "score": 0, "creation_date": 1550759170, "post_id": 54802255, "comment_id": 96395209, "body": "Is this a solution I can use with the simple <code>registerDocumentSymbolProvider</code> solution, or do I need my own <code>registerTreeDataProvider</code>?"}, {"owner": {"reputation": 36245, "user_id": 1137174, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/361fd9b1b32d13cd1c1dc03e5c6a2127?s=128&d=identicon&r=PG", "display_name": "Mike Lischke", "link": "https://stackoverflow.com/users/1137174/mike-lischke"}, "reply_to_user": {"reputation": 23367, "user_id": 78162, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1497a61bc7f673e30f224a3df61a6742?s=128&d=identicon&r=PG", "display_name": "BlueMonkMN", "link": "https://stackoverflow.com/users/78162/bluemonkmn"}, "edited": false, "score": 0, "creation_date": 1550763386, "post_id": 54802255, "comment_id": 96398342, "body": "You need a tree data provider. The standard symbol provider doesn&#39;t have a tree, but just displays symbols in the drop down or the editor."}, {"owner": {"reputation": 23367, "user_id": 78162, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1497a61bc7f673e30f224a3df61a6742?s=128&d=identicon&r=PG", "display_name": "BlueMonkMN", "link": "https://stackoverflow.com/users/78162/bluemonkmn"}, "edited": false, "score": 0, "creation_date": 1550767608, "post_id": 54802255, "comment_id": 96401110, "body": "I was under the impression from <a href=\"https://marketplace.visualstudio.com/items?itemName=hitode909.perl-outline\" rel=\"nofollow noreferrer\">marketplace.visualstudio.com/&hellip;</a> that providing symbols does allow them to show up in the Outline tree. I may not have access to control that tree, but I thought that it would at least show up there."}, {"owner": {"reputation": 23367, "user_id": 78162, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1497a61bc7f673e30f224a3df61a6742?s=128&d=identicon&r=PG", "display_name": "BlueMonkMN", "link": "https://stackoverflow.com/users/78162/bluemonkmn"}, "edited": false, "score": 0, "creation_date": 1550878688, "post_id": 54802255, "comment_id": 96447959, "body": "Turns out all I needed was a combination of the outline and breadcrumbs."}], "tags": [], "owner": {"reputation": 36245, "user_id": 1137174, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/361fd9b1b32d13cd1c1dc03e5c6a2127?s=128&d=identicon&r=PG", "display_name": "Mike Lischke", "link": "https://stackoverflow.com/users/1137174/mike-lischke"}, "is_accepted": false, "score": 1, "last_activity_date": 1550737052, "creation_date": 1550737052, "answer_id": 54802255, "question_id": 54796636, "link": "https://stackoverflow.com/questions/54796636/how-to-synchronize-vs-codes-outline-to-the-current-position-in-the-editor/54802255#54802255", "title": "How to synchronize VS Code&#39;s outline to the current position in the editor", "body": "<p>Yes, this is possible. Your tree provider needs a way to match a symbol to a tree item, then call <code>TreeView.reveal()</code>. Here's <a href=\"https://github.com/mike-lischke/vscode-antlr4/blob/master/src/frontend/ActionsProvider.ts#L21\" rel=\"nofollow noreferrer\">code I use</a> to select an entry in a list of actions, depending on where the caret is in the current source editor:</p>\n\n<pre><code>public update(editor: TextEditor) {\n    let position = editor.selection.active;\n\n    let action = Utils.findInListFromPosition(this.actions, position.character, position.line + 1);\n    if (action) {\n        this.actionTree.reveal(action, { select: true });\n        return;\n    }\n    let predicate = Utils.findInListFromPosition(this.predicates, position.character, position.line + 1);\n    if (predicate) {\n        this.actionTree.reveal(predicate, { select: true });\n        return;\n    }\n}\n</code></pre>\n\n<p>This method is called from the selection change event registered in the main extension file:</p>\n\n<pre><code>window.onDidChangeTextEditorSelection((event: TextEditorSelectionChangeEvent) =&gt; {\n    if (event.textEditor.document.languageId === \"antlr\" &amp;&amp; event.textEditor.document.uri.scheme === \"file\") {\n        ...\n        actionsProvider.update(event.textEditor);\n    }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23367, "user_id": 78162, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1497a61bc7f673e30f224a3df61a6742?s=128&d=identicon&r=PG", "display_name": "BlueMonkMN", "link": "https://stackoverflow.com/users/78162/bluemonkmn"}, "is_accepted": true, "score": 1, "last_activity_date": 1550878641, "creation_date": 1550878641, "answer_id": 54836674, "question_id": 54796636, "link": "https://stackoverflow.com/questions/54796636/how-to-synchronize-vs-codes-outline-to-the-current-position-in-the-editor/54836674#54836674", "title": "How to synchronize VS Code&#39;s outline to the current position in the editor", "body": "<p>If you have a reasonably functional outline view, that is to say, one that has the symbols hierarchically arranged by providing range objects for the full scope of each symbol instead of just a position, then you can toggle the \"Breadcrumbs\" item in the view menu to have a constant view of where you are within the outline's hierarchy. This is exactly what I was after.</p>\n\n<p>To help with this, I had some data stored in a variable called <code>currentBlock</code>, including <code>symbolInformation</code> that was created when I encountered the first line of, for example, a method (taken from a match object returned from a regular expression):</p>\n\n<pre><code>currentBlock.symbolInformation = new vscode.SymbolInformation(\n    match[1],\n    vscode.SymbolKind.Method,\n    className,\n    new vscode.Location(document.uri,\n        new vscode.Position(lineNum, line.firstNonWhitespaceCharacterIndex)));\n</code></pre>\n\n<p>Then when I got to the end of the block I would wrap up the remainder of the information incorporating the data stored earlier, and push it onto the <code>SymbolInformation[]</code> result.</p>\n\n<pre><code>private popBlock(document: vscode.TextDocument, lineNum: number, currentBlock: IndentInfo): vscode.SymbolInformation | undefined {\n    if (currentBlock.symbolInformation !== undefined) {\n        currentBlock.symbolInformation = new vscode.SymbolInformation(\n            currentBlock.symbolInformation.name,\n            currentBlock.symbolInformation.kind,\n            currentBlock.symbolInformation.containerName,\n            new vscode.Location(\n                currentBlock.symbolInformation.location.uri,\n                new vscode.Range(\n                    currentBlock.symbolInformation.location.range.start,\n                    new vscode.Position(lineNum-1, document.lineAt(lineNum-1).text.length)\n                )\n            )\n        );\n        return currentBlock.symbolInformation;\n    }\n}\n</code></pre>\n\n<p>Here you can see the breadcrumbs reporting the full context of the current location above the editor pane. It's based on the same information that is used to build the outline.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Tu9xP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tu9xP.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 23367, "user_id": 78162, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1497a61bc7f673e30f224a3df61a6742?s=128&d=identicon&r=PG", "display_name": "BlueMonkMN", "link": "https://stackoverflow.com/users/78162/bluemonkmn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 972, "favorite_count": 0, "accepted_answer_id": 54836674, "answer_count": 2, "score": 1, "last_activity_date": 1558786101, "creation_date": 1550703818, "last_edit_date": 1558786101, "question_id": 54796636, "link": "https://stackoverflow.com/questions/54796636/how-to-synchronize-vs-codes-outline-to-the-current-position-in-the-editor", "title": "How to synchronize VS Code&#39;s outline to the current position in the editor", "body": "<p>I'm working in a language that usually has very large and hard to navigate files, so I would like to readily see what function I'm in at all times, since that's usually the biggest annoyance (paging up ~20 times to find the current function name, then paging back down).</p>\n\n<p>I see how I can write an extension to list all the functions by registering a document symbol provider. Before I go too far down path, though, I want to know if there will be some way to automatically and constantly have some sort of indication in the outline view of which node represents the current position in the code editor. If not, I may just have to create my own tree view instead (will that have this capability?).</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1550703969, "creation_date": 1550703969, "answer_id": 54796678, "question_id": 54796530, "link": "https://stackoverflow.com/questions/54796530/typescript-interface-for-objects-with-some-known-but-optional-property-names-and/54796678#54796678", "title": "Typescript interface for objects with some known but optional property names and some unknown property names", "body": "<p>You can make the return type of the index signature return <code>(() =&gt; any) | undefined</code>. This might be a good idea anyway, as any string access to the object will probably return a function or undefined and should be checked anyway.</p>\n\n<pre><code>interface CallBack {\n    onTransition?(): any; \n    [key: string]: (() =&gt; any) | undefined;\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 6384421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d85490f0c33df7ebfb1e5019a3b7295?s=128&d=identicon&r=PG&f=1", "display_name": "Hastradamus", "link": "https://stackoverflow.com/users/6384421/hastradamus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 1, "accepted_answer_id": 54796678, "answer_count": 1, "score": 2, "last_activity_date": 1550703969, "creation_date": 1550703141, "question_id": 54796530, "link": "https://stackoverflow.com/questions/54796530/typescript-interface-for-objects-with-some-known-but-optional-property-names-and", "title": "Typescript interface for objects with some known but optional property names and some unknown property names", "body": "<p>I want to create an interface for an object that has optional properties with specific names, but also accepts arbitrarily named properties. This is what I tried.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface CallBack {\n  onTransition?(): any; // can have this\n  [key: string]: () =&gt; any; // or this. But not both\n}\n</code></pre>\n\n<p>But received this error:</p>\n\n<p><code>Property 'onBeforeTransition' of type '(() =&gt; any) | undefined' is not assignable to string index type '() =&gt; any'</code>.\nI recognize that this will semantically mean the same thing as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface CallBack {\n  [key: string]: () =&gt; any;\n}\n</code></pre>\n\n<p>The reason I want this functionality is in order to have editor help when defining callbacks. Is there any way to achieve this?</p>\n"}, {"tags": ["typescript", "typescript-generics"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1550703484, "creation_date": 1550703484, "answer_id": 54796593, "question_id": 54796186, "link": "https://stackoverflow.com/questions/54796186/intellisense-naming-of-overload-parameters-when-args-are-a-conditional-tuple-typ/54796593#54796593", "title": "Intellisense naming of overload parameters when args are a conditional tuple type", "body": "<p>I would just type assert the function to a conditional type dependent on <code>TInput</code>, that will give you the better intelisense you want. You can't easily specify the argument names for tuples in rest parameters:</p>\n\n<pre><code>const makeTest = &lt;TInput&gt;() =&gt; {\n\n    function test (...args: [string] | [TInput, string]): void {\n        // do stuff\n    }\n    return test as (TInput extends undefined ? ((name:string) =&gt; void) : ((input: TInput, name: string) =&gt; void);\n}\n</code></pre>\n\n<p>Or a version with an implementation and a public signature for <code>makeTest</code>:</p>\n\n<pre><code>function makeTest&lt;TInput&gt;(): (TInput extends undefined ? ((name: string) =&gt; void) : ((input: TInput, name: string) =&gt; void))\nfunction makeTest&lt;TInput&gt;(): ((name: string) =&gt; void) | ((input: TInput, name: string) =&gt; void) {\n\n    function test(...args: [string] | [TInput, string]): void {\n        // do stuff\n    }\n    return test;\n}\n</code></pre>\n"}], "owner": {"reputation": 41045, "user_id": 126352, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e7cfaec1e51ab0dbd7b05a1b6f9ac20f?s=128&d=identicon&r=PG", "display_name": "Justin Grant", "link": "https://stackoverflow.com/users/126352/justin-grant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 54796593, "answer_count": 1, "score": 0, "last_activity_date": 1550703484, "creation_date": 1550701477, "last_edit_date": 1550702048, "question_id": 54796186, "link": "https://stackoverflow.com/questions/54796186/intellisense-naming-of-overload-parameters-when-args-are-a-conditional-tuple-typ", "title": "Intellisense naming of overload parameters when args are a conditional tuple type", "body": "<p>In TypeScript 3.1 I've got a generic function whose arguments are either <code>(TInput, string)</code> or <code>(string)</code> depending on whether the generic's type parameter <code>TInput extends undefined</code>. Currently I'm using the new <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#generic-rest-parameters\" rel=\"nofollow noreferrer\">generic rest parameters</a> feature to type the function's args as a conditional type of tuples:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function test (\n    ...args: TInput extends undefined ? [string] : [TInput, string]): void\n)\n</code></pre>\n\n<p>This almost works perfectly. When I instantiate the generic function with a concrete type, VSCode only shows me the overload that applies to that generic type. Yay!</p>\n\n<p>But there's one problem: Intellisense in VSCode reports the parameter names as <code>args_0</code> and <code>args_1</code> instead of more human-readable names like <code>input</code> for the generic parameter (if it's there) and <code>name</code> for the string parameter.</p>\n\n<p>Is there any way to attach friendlier names to these parameters without losing the (correct) Intellisense for parameter count and type(s)?</p>\n\n<p>BTW I'm OK with a solution that doesn't use tuples, as long as the core requirements work OK, which is: when the generic function is instantiated with a real type and I hover over the function in VSCode, I see the correct parameter count, name(s), and type(s) that are valid for that concrete type. </p>\n\n<p>I tried adding overloads (see commented code below) but couldn't figure out how to get the overloads to compile. I got: <em>Overload signature is not compatible with function implementation. ts(2394)</em></p>\n\n<p>In an earlier iteration of this sample, I was able to use a type cast to get overloads to compile, but that in turn broke Intellisense for parameter count and types, where \"broke\" means that (unlike the code below) two overloads were always shown in Intellisense, even when the generic type parameter should have narrowed the list to a single valid overload.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const makeTest = &lt;TInput&gt;() =&gt; {\n//  Adding the overloads below doesn't work as expected. There are two problems: \n//    1. compiler error: \"Overload signature is not compatible with function implementation. ts(2394)\"\n//    2. if I use a cast to get around the compile error, both overloads show in Intellisense regardless of TInput\n//  function test (name: string): void; \n//  function test (input: TInput, name: string): void;\n    function test (...args: TInput extends undefined ? [string] : [TInput, string]): void {\n        // do stuff\n    }\n    return test;\n}\n\n// type inferred as: const f1: (args_0: string) =&gt; void\nconst f1 = makeTest&lt;undefined&gt;(); \n\n// type inferred as: const f2: (args_0: number, args_1: string) =&gt; void\nconst f2 = makeTest&lt;number&gt;();\n</code></pre>\n\n<p>Here's a <a href=\"https://www.typescriptlang.org/play/#src=const%20makeTest%20%3D%20%3CTInput%3E()%20%3D%3E%20%7B%0D%0A%2F%2F%20%20Adding%20the%20overloads%20below%20doesn&#39;t%20work%20as%20expected.%20There%20are%20two%20problems%3A%20%0D%0A%2F%2F%20%20%20%201.%20compiler%20error%3A%20%22Overload%20signature%20is%20not%20compatible%20with%20function%20implementation.%20ts(2394)%22%0D%0A%2F%2F%20%20%20%202.%20if%20I%20use%20a%20cast%20to%20get%20around%20the%20compile%20error%2C%20both%20overloads%20show%20in%20Intellisense%20regardless%20of%20TInput%0D%0A%2F%2F%20%20function%20test%20(name%3A%20string)%3A%20void%3B%20%0D%0A%2F%2F%20%20function%20test%20(input%3A%20TInput%2C%20name%3A%20string)%3A%20void%3B%0D%0A%20%20%20%20function%20test%20(...args%3A%20TInput%20extends%20undefined%20%3F%20%5Bstring%5D%20%3A%20%5BTInput%2C%20string%5D)%3A%20void%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20do%20stuff%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20test%3B%0D%0A%7D%0D%0A%20%20%20%20%0D%0A%2F%2F%20type%20inferred%20as%3A%20const%20f1%3A%20(args_0%3A%20string)%20%3D%3E%20void%0D%0Aconst%20f1%20%3D%20makeTest%3Cundefined%3E()%3B%20%0D%0A%0D%0A%2F%2F%20type%20inferred%20as%3A%20const%20f2%3A%20(args_0%3A%20number%2C%20args_1%3A%20string)%20%3D%3E%20void%0D%0Aconst%20f2%20%3D%20makeTest%3Cnumber%3E()%3B\" rel=\"nofollow noreferrer\">playground link</a> for this code so you can see the problem live. </p>\n\n<p>BTW, I know I could make this easier by reversing the parameter order, but it's not practical to change its JS-facing signature. I only can change the TS typing at this point. Also, even if parameters were reversed, I really like how instantiating the generic with a specific type will remove the invalid overload, and I don't know if that would work with traditional optional parameters.</p>\n"}, {"tags": ["javascript", "typescript", "chart.js"], "answers": [{"tags": [], "owner": {"reputation": 2044, "user_id": 6642614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C12Ou.png?s=128&g=1", "display_name": "Haijin", "link": "https://stackoverflow.com/users/6642614/haijin"}, "is_accepted": false, "score": 0, "last_activity_date": 1550714065, "creation_date": 1550714065, "answer_id": 54798030, "question_id": 54795874, "link": "https://stackoverflow.com/questions/54795874/calculate-weighted-sum-over-all-points-in-chart-js/54798030#54798030", "title": "Calculate weighted sum over all points in chart.js", "body": "<p>This might help:</p>\n\n<pre><code> point[0]*2 + (point[1]-point[0])*3 + (point[2]-point[1])*4\n</code></pre>\n\n<p>is equal to </p>\n\n<pre><code>4* point[2]- (point[0]+ point[1])\n</code></pre>\n\n<p>so for a point i,\n you need to calculate  <code>(i+2)*point[i]</code> , minus the sum from point[0] to point[n-1]</p>\n\n<p>And yes, you need a loop to calculate it.</p>\n"}], "owner": {"reputation": 163, "user_id": 8620084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a30953c36975de0f65487e88dff378b?s=128&d=identicon&r=PG&f=1", "display_name": "guru", "link": "https://stackoverflow.com/users/8620084/guru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550714065, "creation_date": 1550699869, "question_id": 54795874, "link": "https://stackoverflow.com/questions/54795874/calculate-weighted-sum-over-all-points-in-chart-js", "title": "Calculate weighted sum over all points in chart.js", "body": "<p>I have a line chart I made using chart.js. When I hover over a data point, I want to calculate the weighted sum at that point using the difference between the two points. For example, if I have point[0] = 5 with weight 2 and point[1] = 10 with weight 3 and point[2] with weight 4, upon hovering on point[2], I should see a calculation like: </p>\n\n<pre><code>point[0]*2 + (point[1]-point[0])*3 + (point[2]-point[1])*4\n</code></pre>\n\n<p>and so on for other points on the line. Any tips on how to do this? I'm not sure if I need to be using a loop, but when I'm using conditionals for multiple indexes it seems to work. This is not optimal though.</p>\n"}, {"tags": ["typescript", "cors", "tomcat8"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8863432, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8383f0174142dcc0ef98df6bb183deb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kuajia", "link": "https://stackoverflow.com/users/8863432/kuajia"}, "edited": false, "score": 0, "creation_date": 1550700568, "post_id": 54795663, "comment_id": 96370043, "body": "I opened the link, but my project is not a meven one, but a Web Application"}, {"owner": {"reputation": 2560, "user_id": 106418, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/cCSN0.jpg?s=128&g=1", "display_name": "Nicholas Hirras", "link": "https://stackoverflow.com/users/106418/nicholas-hirras"}, "reply_to_user": {"reputation": 31, "user_id": 8863432, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8383f0174142dcc0ef98df6bb183deb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kuajia", "link": "https://stackoverflow.com/users/8863432/kuajia"}, "edited": false, "score": 0, "creation_date": 1550765495, "post_id": 54795663, "comment_id": 96399779, "body": "I added some additional instructions to the answer"}, {"owner": {"reputation": 31, "user_id": 8863432, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8383f0174142dcc0ef98df6bb183deb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kuajia", "link": "https://stackoverflow.com/users/8863432/kuajia"}, "edited": false, "score": 0, "creation_date": 1550780521, "post_id": 54795663, "comment_id": 96407562, "body": "Thank you for the answer, I solved the problem by adding the dependecies in my tomcat lib repository, following the instruction into the link you post."}], "tags": [], "owner": {"reputation": 2560, "user_id": 106418, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/cCSN0.jpg?s=128&g=1", "display_name": "Nicholas Hirras", "link": "https://stackoverflow.com/users/106418/nicholas-hirras"}, "is_accepted": true, "score": 0, "last_activity_date": 1550765445, "last_edit_date": 1550765445, "creation_date": 1550698876, "answer_id": 54795663, "question_id": 54795556, "link": "https://stackoverflow.com/questions/54795556/tomcat-api-unreachable-from-angular/54795663#54795663", "title": "Tomcat API unreachable from angular", "body": "<p>If you are on a recent version of Tomcat, you need to configure CORS policies.</p>\n\n<p><a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#CORS_Filter\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#CORS_Filter</a></p>\n\n<p>The filter is built into Tomcat 7+</p>\n\n<p>According to the documentation, your configuration enabled the filter but does not relax the cross-origin policy. As a minimum, you will need to add a cors.allowed.origins initialisation parameter as described.</p>\n\n<p>Try this configuration:</p>\n\n<pre><code>&lt;filter&gt;\n  &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n  &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\n    &lt;param-value&gt;*&lt;/param-value&gt;\n  &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n  &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8863432, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8383f0174142dcc0ef98df6bb183deb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kuajia", "link": "https://stackoverflow.com/users/8863432/kuajia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 54795663, "answer_count": 1, "score": -1, "last_activity_date": 1550765445, "creation_date": 1550698327, "question_id": 54795556, "link": "https://stackoverflow.com/questions/54795556/tomcat-api-unreachable-from-angular", "title": "Tomcat API unreachable from angular", "body": "<p>After moving from 'localhost' to online server, I incur in this error\n 403 because of CORS.</p>\n\n<p>The api is reachable from url and It works, but when I call it with my\n angular Typescript page, It doesen't work, giving me this error:</p>\n\n<blockquote>\n  <p>Failed to load resource: the server responded with a status of 403 ()</p>\n  \n  <p>Access to XMLHttpRequest at\n  '<a href=\"http://_._._._:8080/bet365/elencoEventi/2019-02-20\" rel=\"nofollow noreferrer\">http://<em>.</em>.<em>.</em>:8080/bet365/elencoEventi/2019-02-20</a>' from origin\n  '<a href=\"http://127.0.0.1:8000\" rel=\"nofollow noreferrer\">http://127.0.0.1:8000</a>' has been blocked by CORS policy: No\n  'Access-Control-Allow-Origin' header is present on the requested\n  resource.</p>\n</blockquote>\n\n<p>I tried to add filters in tomcat, like this :</p>\n\n<pre><code>&lt;filter&gt;\n  &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n  &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n  &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>But it is still giving me the 403 error.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "edited": false, "score": 0, "creation_date": 1550698555, "post_id": 54795508, "comment_id": 96369258, "body": "Hey thanks, This doesn&#39;t reflect input types accurately, showing as <code>any</code>."}], "tags": [], "owner": {"reputation": 120627, "user_id": 546661, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/233308e20f7e2236848f31c2b0b865dd?s=128&d=identicon&r=PG", "display_name": "Peter Olson", "link": "https://stackoverflow.com/users/546661/peter-olson"}, "is_accepted": false, "score": 0, "last_activity_date": 1550698115, "creation_date": 1550698115, "answer_id": 54795508, "question_id": 54795439, "link": "https://stackoverflow.com/questions/54795439/wrap-function-and-preserve-input-and-return-types/54795508#54795508", "title": "Wrap function and preserve input and return types?", "body": "<p>You can use generics to make <code>fn</code> return a function that returns the same type as the input function:</p>\n\n<pre><code>const wrappedFn = &lt;T&gt;(fn: (T) =&gt; T) =&gt; fn;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1550698549, "creation_date": 1550698549, "answer_id": 54795592, "question_id": 54795439, "link": "https://stackoverflow.com/questions/54795439/wrap-function-and-preserve-input-and-return-types/54795592#54795592", "title": "Wrap function and preserve input and return types?", "body": "<p>You can preserve all input argument types (even if there are more args) using tuples in rest parameters:</p>\n\n<pre><code>const example = (alpha: string): string =&gt; alpha + 'beta';\nconst wrappedFn = &lt;A extends any[], R&gt;(fn: (...args: A) =&gt; R) =&gt; (...args: A): R =&gt; {\n    console.log(\"executing\");\n    return fn(...args);   \n};\n\nwrappedFn(example)(\"a\")\n</code></pre>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 54795592, "answer_count": 2, "score": 2, "last_activity_date": 1550698549, "creation_date": 1550697728, "question_id": 54795439, "link": "https://stackoverflow.com/questions/54795439/wrap-function-and-preserve-input-and-return-types", "title": "Wrap function and preserve input and return types?", "body": "<p>Is it possible to wrap a function like this and preserve types?</p>\n\n<pre><code>const example = (alpha: string): string =&gt; alpha + 'beta';\nconst wrappedFn = (fn: Function) =&gt; fn;\n</code></pre>\n\n<p>How can I pull the types out of <code>fn</code> and return the same input and return as the passed in function?</p>\n"}, {"tags": ["angular", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1550697122, "post_id": 54795295, "comment_id": 96368640, "body": "Just wondering, why do you need to add a a <code>typings.d.ts</code>? I ask because there might be a better way"}, {"owner": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "reply_to_user": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1550697386, "post_id": 54795295, "comment_id": 96368751, "body": "I&#39;m trying to integrate stripe into the website. There is one Angular 7 component I found on npm, but the author has some strong disclaimers. Stripe itself doesn&#39;t have an Angular 7 module/component and only shows examples using plain JavaScript. If there&#39;s a better way, I am opened."}, {"owner": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 0, "creation_date": 1550697393, "post_id": 54795295, "comment_id": 96368755, "body": "I guess Angular 2 article from 2016 is simply outdated for Angular 7"}, {"owner": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1550697608, "post_id": 54795295, "comment_id": 96368847, "body": "Have you tried <code>npm i -D @types&#47;stripe</code>?"}, {"owner": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "reply_to_user": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 1, "creation_date": 1550703698, "post_id": 54795295, "comment_id": 96371108, "body": "@Pytth I did not try that but I just went ahead and created a <code>typings.d.ts</code> under the <code>src</code> and everything works (so far). Still, though, would be nice for some official point of view and/or documentation around these types of integration problems/patterns."}, {"owner": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1550705671, "post_id": 54795295, "comment_id": 96371689, "body": "I would recommend using the method I described since that seems to be the prescribed way of incorporating library types into typescript projects"}], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 1119611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba103d73b2ab92ad759af4751c0b3e10?s=128&d=identicon&r=PG", "display_name": "Sohail", "link": "https://stackoverflow.com/users/1119611/sohail"}, "is_accepted": false, "score": 10, "last_activity_date": 1579497744, "last_edit_date": 1579497744, "creation_date": 1579449124, "answer_id": 59811715, "question_id": 54795295, "link": "https://stackoverflow.com/questions/54795295/how-do-i-add-a-typings-d-ts-file-to-an-angular-7-project/59811715#59811715", "title": "How do I add a typings.d.ts file to an Angular 7 project?", "body": "<p>Just as you yourself said, create the typings.d.ts file in src folder and put your declarations there. That is what I do for stripe and also jquery and works fine. </p>\n\n<pre><code>declare var $: any;\ndeclare var stripe: any;\ndeclare var elements: any;\n</code></pre>\n\n<p>My latest project is on Angular 8 and worked with the same method.</p>\n"}, {"comments": [{"owner": {"reputation": 1432, "user_id": 2506354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KvtW.jpg?s=128&g=1", "display_name": "NobodySomewhere", "link": "https://stackoverflow.com/users/2506354/nobodysomewhere"}, "edited": false, "score": 0, "creation_date": 1603356379, "post_id": 61427953, "comment_id": 114013158, "body": "So basically you are just suggesting to use the NPM to download the library instead of doing it manually? How exactly does that fix the problem of using pure JS libraries within angular?"}, {"owner": {"reputation": 82, "user_id": 13383412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ac89905e04ab1a6053a7e542fe6176?s=128&d=identicon&r=PG&f=1", "display_name": "Ilia", "link": "https://stackoverflow.com/users/13383412/ilia"}, "reply_to_user": {"reputation": 1432, "user_id": 2506354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KvtW.jpg?s=128&g=1", "display_name": "NobodySomewhere", "link": "https://stackoverflow.com/users/2506354/nobodysomewhere"}, "edited": false, "score": 0, "creation_date": 1607213245, "post_id": 61427953, "comment_id": 115202600, "body": "Do or do not, at the time of the comment, I had minimal experience.. But, I had managed to get what I wanted from that library. The author never requested a pure JS lib solution, but please, feel free to downvote."}], "tags": [], "owner": {"reputation": 82, "user_id": 13383412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ac89905e04ab1a6053a7e542fe6176?s=128&d=identicon&r=PG&f=1", "display_name": "Ilia", "link": "https://stackoverflow.com/users/13383412/ilia"}, "is_accepted": false, "score": 0, "last_activity_date": 1587842180, "last_edit_date": 1587842180, "creation_date": 1587828117, "answer_id": 61427953, "question_id": 54795295, "link": "https://stackoverflow.com/questions/54795295/how-do-i-add-a-typings-d-ts-file-to-an-angular-7-project/61427953#61427953", "title": "How do I add a typings.d.ts file to an Angular 7 project?", "body": "<p><strong>Read the bottom first!</strong></p>\n\n<p>I've also been following this tutorial because I want to have paymentIntent running in the front but not based on their model. Although you still need the typings.d.ts file under src with the declarations. The answer that helped me was: </p>\n\n<blockquote>\n  <p>Have you tried npm i -D @types/stripe? \u2013 Pytth Feb 20 '19 at 21:20</p>\n</blockquote>\n\n<p>Thanks Pytth and good luck to those that follow.</p>\n\n<p>DONT go down the tutorial path, use this if you can (works with angular 4-9+):\n<a href=\"https://www.npmjs.com/package/ngx-stripe\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ngx-stripe</a></p>\n"}], "owner": {"reputation": 6768, "user_id": 2175052, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2f0b9a9bca26ef546bfeb826731c5ac?s=128&d=identicon&r=PG", "display_name": "Jane Wayne", "link": "https://stackoverflow.com/users/2175052/jane-wayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9363, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1587842180, "creation_date": 1550697046, "question_id": 54795295, "link": "https://stackoverflow.com/questions/54795295/how-do-i-add-a-typings-d-ts-file-to-an-angular-7-project", "title": "How do I add a typings.d.ts file to an Angular 7 project?", "body": "<p>I am following this <a href=\"https://alligator.io/angular/stripe-elements/\" rel=\"noreferrer\">tutorial here</a>, and the author says to add two declarations to the project's <code>typings.d.ts</code> file. However, when using the <code>ng-cli</code> to create the Angular 7 project, there is no such file generated. </p>\n\n<p>In <a href=\"https://www.bennadel.com/blog/3169-adding-custom-typings-files-d-ts-in-an-angular-2-typescript-application.htm\" rel=\"noreferrer\">this other article</a> (for Angular 2), the author suggests to create a <code>typings</code> folder and place the <code>typings.d.ts</code> there and to modify the <code>tsconfig.json</code> file with a <code>files</code> key; doing this gives me a <code>TS5023: Uknown compiler option 'files'.</code> message.</p>\n\n<p>Yet, in this <a href=\"https://stackoverflow.com/questions/44836379/add-custom-typings-files-to-angular-cli\">post</a>, the top answer suggest that <code>typings.d.ts</code> should have been created with <code>ng-cli</code> under the <code>src</code> folder, but I don't see it (I am using Angular CLI v7.3.1).</p>\n\n<p>My question is, for Angular 7, how and where do I add <code>typings.d.ts</code>? What other files do I need to modify when adding such file?</p>\n"}, {"tags": ["angular", "typescript", "angular-forms", "angular-template"], "comments": [{"owner": {"reputation": 171, "user_id": 5270618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3703fe2b1b20e4eb9dcabe83fdd76b9e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5270618/john-doe"}, "edited": false, "score": 0, "creation_date": 1550695936, "post_id": 54795043, "comment_id": 96368118, "body": "To edit: the onSubmit is somewhere in my HTML and it works fine because i can see the console output."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10747134"}, "edited": false, "score": 0, "creation_date": 1550695972, "post_id": 54795043, "comment_id": 96368133, "body": "What is the changeDetection strategy on the component?"}, {"owner": {"reputation": 171, "user_id": 5270618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3703fe2b1b20e4eb9dcabe83fdd76b9e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5270618/john-doe"}, "edited": false, "score": 0, "creation_date": 1550696090, "post_id": 54795043, "comment_id": 96368182, "body": "@OneLunchMan Can you elaborate on the question?"}, {"owner": {"reputation": 171, "user_id": 5270618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3703fe2b1b20e4eb9dcabe83fdd76b9e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5270618/john-doe"}, "edited": false, "score": 0, "creation_date": 1550696157, "post_id": 54795043, "comment_id": 96368215, "body": "@OneLunchMan <a href=\"https://pastebin.com/1nSHRCPb\" rel=\"nofollow noreferrer\">pastebin.com/1nSHRCPb</a> that is the HTML code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10747134"}, "edited": false, "score": 0, "creation_date": 1550696190, "post_id": 54795043, "comment_id": 96368231, "body": "The typescript is what I am looking for.  Also, read up on this <a href=\"https://blog.angular-university.io/how-does-angular-2-change-detection-really-work/\" rel=\"nofollow noreferrer\">blog.angular-university.io/&hellip;</a>"}, {"owner": {"reputation": 171, "user_id": 5270618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3703fe2b1b20e4eb9dcabe83fdd76b9e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5270618/john-doe"}, "edited": false, "score": 0, "creation_date": 1550696254, "post_id": 54795043, "comment_id": 96368264, "body": "@OneLunchMan <a href=\"https://pastebin.com/haBmfEKw\" rel=\"nofollow noreferrer\">pastebin.com/haBmfEKw</a> thats the typescript"}, {"owner": {"reputation": 171, "user_id": 5270618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3703fe2b1b20e4eb9dcabe83fdd76b9e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5270618/john-doe"}, "edited": false, "score": 0, "creation_date": 1550696309, "post_id": 54795043, "comment_id": 96368293, "body": "@OneLunchMan i think there is two ways to forms: reactive and template. I&#39;m using the latter."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10747134"}, "edited": false, "score": 0, "creation_date": 1550696411, "post_id": 54795043, "comment_id": 96368346, "body": "I don&#39;t think the issue is forms, I think it&#39;s that the changeDetection cycle either did not run or did not pick up there was a valid change. Try wiring in the ChangeDetectorRef and call detectChanges"}, {"owner": {"reputation": 4330, "user_id": 5736236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UHJW49zI260/AAAAAAAAAAI/AAAAAAAAAqs/QeHB6Qr5kMI/photo.jpg?sz=128", "display_name": "Kamil Naja", "link": "https://stackoverflow.com/users/5736236/kamil-naja"}, "edited": false, "score": 0, "creation_date": 1550697056, "post_id": 54795043, "comment_id": 96368617, "body": "Please show entire component"}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 5270618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3703fe2b1b20e4eb9dcabe83fdd76b9e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5270618/john-doe"}, "edited": false, "score": 0, "creation_date": 1550697647, "post_id": 54795353, "comment_id": 96368868, "body": "Thank you, this solves the issue. This was really nasty to spot. What made it worse was that I was following along with the tutorial."}, {"owner": {"reputation": 6624, "user_id": 4896493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/197888927236621/picture?type=large", "display_name": "Sergey Mell", "link": "https://stackoverflow.com/users/4896493/sergey-mell"}, "reply_to_user": {"reputation": 171, "user_id": 5270618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3703fe2b1b20e4eb9dcabe83fdd76b9e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5270618/john-doe"}, "edited": false, "score": 0, "creation_date": 1550697797, "post_id": 54795353, "comment_id": 96368937, "body": "You&#39;ve just looked through tired eyes. That happens. Glad, that I could help."}], "tags": [], "owner": {"reputation": 6624, "user_id": 4896493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/197888927236621/picture?type=large", "display_name": "Sergey Mell", "link": "https://stackoverflow.com/users/4896493/sergey-mell"}, "is_accepted": true, "score": 3, "last_activity_date": 1550697315, "creation_date": 1550697315, "answer_id": 54795353, "question_id": 54795043, "link": "https://stackoverflow.com/questions/54795043/angular-string-interpolation-prints-empty-string-on-json-object-value/54795353#54795353", "title": "Angular string interpolation prints empty string on JSON object value", "body": "<p>According to your code <a href=\"https://pastebin.com/1nSHRCPb\" rel=\"nofollow noreferrer\">https://pastebin.com/1nSHRCPb</a></p>\n\n<p>The issue had happened because of line 18</p>\n\n<pre><code>    ...\n    #user=\"ngModel\"&gt;\n</code></pre>\n\n<p>You've created a template variable <code>user</code>. That's why you get nothing when called <code>user.username</code> in your template.</p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 5270618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3703fe2b1b20e4eb9dcabe83fdd76b9e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5270618/john-doe"}, "edited": false, "score": 0, "creation_date": 1550697961, "post_id": 54795403, "comment_id": 96369009, "body": "Thank you for the tip, much appreciated!"}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 171, "user_id": 5270618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3703fe2b1b20e4eb9dcabe83fdd76b9e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5270618/john-doe"}, "edited": false, "score": 0, "creation_date": 1550704102, "post_id": 54795403, "comment_id": 96371220, "body": "I have a more complete example using two-way binding here: <a href=\"https://stackblitz.com/edit/angular-template-forms-deborahk\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-template-forms-deborahk</a> Hope it is helpful."}], "tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 1, "last_activity_date": 1550699836, "last_edit_date": 1550699836, "creation_date": 1550697522, "answer_id": 54795403, "question_id": 54795043, "link": "https://stackoverflow.com/questions/54795043/angular-string-interpolation-prints-empty-string-on-json-object-value/54795403#54795403", "title": "Angular string interpolation prints empty string on JSON object value", "body": "<p>The prior reply will solve your issue. I did a stackblitz of it here: <a href=\"https://stackblitz.com/edit/angular-hirffj\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-hirffj</a></p>\n\n<p>But you may be able to simplify your code even further if you use two-way binding.</p>\n\n<pre><code>        &lt;input\n         type=\"text\" \n         id=\"username\" \n         class=\"form-control\"\n         [(ngModel)]=\"user.username\"\n         name=\"username\"\n         required&gt;\n</code></pre>\n\n<p>Then your input element and your <code>user.username</code> property will stay in sync.</p>\n\n<p>Also note that the <code>setValue</code> and <code>patchValue</code> shown in your component code is for <code>reactive forms</code>, not <code>template driven forms</code>. Since you are using <code>template driven forms</code>, if you change to use two-way binding you can set the values into the form just using the object properties:</p>\n\n<pre><code>  suggestUserName() {\n    this.user.username = 'Superuser';\n  }\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 5270618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3703fe2b1b20e4eb9dcabe83fdd76b9e?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/5270618/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 822, "favorite_count": 0, "accepted_answer_id": 54795353, "answer_count": 2, "score": 0, "last_activity_date": 1550699836, "creation_date": 1550695870, "last_edit_date": 1550696950, "question_id": 54795043, "link": "https://stackoverflow.com/questions/54795043/angular-string-interpolation-prints-empty-string-on-json-object-value", "title": "Angular string interpolation prints empty string on JSON object value", "body": "<p>In my typescript class:</p>\n\n<pre><code>user = {\n    username: '',\n    email: '',\n    secret: '',\n    gender: '',\n    answer: '',\n};\n</code></pre>\n\n<p>i have a button called onSubmit:</p>\n\n<pre><code>onSubmit() {\n    this.submitted = true;\n    console.log(this.form);\n    this.user.username = this.form.value.userData.username;\n    console.log(this.user.username);\n}\n</code></pre>\n\n<p>and in my HTML: </p>\n\n<pre><code>&lt;div class=\"row\" *ngIf=\"submitted\"&gt;\n    &lt;div class=\"col-xs-12\"&gt;\n        &lt;h3&gt;Your Data&lt;/h3&gt;\n        &lt;p&gt;Username: {{ user.username }}&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The console log clearly prints the value of the user.username and I can see it in the console. But the html just shows: </p>\n\n<p>Your Data</p>\n\n<p>Username: </p>\n"}, {"tags": ["typescript", "visual-studio-code", "deno"], "answers": [{"tags": [], "owner": {"reputation": 2087, "user_id": 6407379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XO9h7.jpg?s=128&g=1", "display_name": "Kevin Qian", "link": "https://stackoverflow.com/users/6407379/kevin-qian"}, "is_accepted": false, "score": 4, "last_activity_date": 1555901266, "last_edit_date": 1555901266, "creation_date": 1550697240, "answer_id": 54795340, "question_id": 54794933, "link": "https://stackoverflow.com/questions/54794933/how-to-pull-typings-in-deno/54795340#54795340", "title": "How to pull typings in Deno", "body": "<p>Update: <a href=\"https://github.com/justjavac/vscode-deno\" rel=\"nofollow noreferrer\">vscode-deno</a> works fairly well.</p>\n\n<p>Below is the current solution:</p>\n\n<ol>\n<li>Add <a href=\"https://github.com/kitsonk/deno_ls_plugin\" rel=\"nofollow noreferrer\">https://github.com/kitsonk/deno_ls_plugin</a> to your workspace. Edit your <code>tsconfig.json</code> and replace paths to <code>http</code> and <code>https</code> imports with the local cache location of the remote dependencies (usually under <code>$HOME/.deno/deps/http</code> and <code>$HOME/.deno/deps/https</code>)</li>\n<li>Create a <code>typings/</code> folder. Run <code>deno --types &gt; typings/deno.d.ts</code>. Deno would output a type definition file for the core API.</li>\n<li>Now the problem becomes that VS Code has no idea about fetching remote dependencies when you import. To address this, once you added a new remote <code>import</code>, run <code>deno --prefetch your_file.ts</code> to pull down all the dependencies. To make things simpler, I would suggest keep all your remote dependencies in a single file <code>deps.ts</code> (and run <code>--prefetch</code> on this file) and re-export stuff so that other files in your project could make use of the deps.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 2946880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b40e73e350c32f83c5afbb1d313841?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Fabs", "link": "https://stackoverflow.com/users/2946880/ian-fabs"}, "edited": false, "score": 1, "creation_date": 1591043339, "post_id": 62101596, "comment_id": 109902249, "body": "For the unstable api, after performing the above, execute the command <code>deno types --unstable &gt; lib&#47;deno_runtime.unstable.d.ts</code>"}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 12, "last_activity_date": 1601536520, "last_edit_date": 1601536520, "creation_date": 1590837174, "answer_id": 62101596, "question_id": 54794933, "link": "https://stackoverflow.com/questions/54794933/how-to-pull-typings-in-deno/62101596#62101596", "title": "How to pull typings in Deno", "body": "<h1>tldr</h1>\n<p>Install <a href=\"https://marketplace.visualstudio.com/items?itemName=denoland.vscode-deno\" rel=\"nofollow noreferrer\"><code>denoland.vscode-deno</code></a> extension <sup>1</sup>. Then <a href=\"https://github.com/denoland/vscode_deno#usage\" rel=\"nofollow noreferrer\">enable</a> Deno in a particular project, like</p>\n<code>&lt;proj-root&gt;/.vscode/settings.json</code>:\n<pre><code>{\n  &quot;deno.enable&quot;: true, // enables extension\n  &quot;deno.lint&quot;: true, // inline deno lint diagnostics, requires `deno.unstable`\n  &quot;deno.unstable&quot;: true // also provides unstable type declarations in VS Code\n}\n</code></pre>\n<p>Starting with <a href=\"https://github.com/denoland/vscode_deno/releases/tag/v2.3.0\" rel=\"nofollow noreferrer\">v2.3.0</a>, you can also use the <a href=\"https://github.com/denoland/vscode_deno/pull/207\" rel=\"nofollow noreferrer\"><code>deno: Init</code></a> wizard <sup>2</sup>:\n<a href=\"https://i.stack.imgur.com/Sim6W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sim6W.png\" alt=\"enter image description here\" /></a></p>\n<p>To integrate a TS workspace version instead of VS Code built-in one, take a look at <a href=\"https://github.com/justjavac/typescript-deno-plugin#configuration\" rel=\"nofollow noreferrer\">linked docs</a>.</p>\n<p><sup>1</sup> <sub><a href=\"https://github.com/justjavac/vscode-deno\" rel=\"nofollow noreferrer\">This one</a> is deprecated.</sub><br />\n<sup>2</sup> <sub>Note: In a new empty project, at least one source file needs to exist before the wizard works properly.</sub></p>\n<hr />\n<h1>More details</h1>\n<h2>What does the extension do?</h2>\n<ul>\n<li>permits explicit <code>.ts</code> extensions in VS Code</li>\n<li>resolves URL import specifiers like <code>&quot;https://deno.land/std@0.56.0/http/server.ts&quot;</code></li>\n<li>integrates Deno runtime types (e.g. <code>Deno.writeFile</code>)</li>\n</ul>\n<h2>How to resolve types for <code>.ts</code> modules</h2>\n<p>With above extension, VS Code permits <code>.ts</code> file extensions for imports and resolves URL imports to a <a href=\"https://deno.land/manual/linking_to_external_code#linking-to-third-party-code\" rel=\"nofollow noreferrer\">local disk cache</a>. The compiler can use these cached type definitions to do checks. Last, fetch all sources and restart TS server / reload VS Code:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>deno cache https://deno.land/std/http/server.ts # fetch and compile from URL \n# or main project file\ndeno cache &lt;your main file&gt;.ts # fetches all its dependencies\n</code></pre>\n<p><code>server.ts</code> is part of the <a href=\"https://deno.land/std\" rel=\"nofollow noreferrer\">Standard Library</a>, which is just a more strictly maintained collection of remote <code>.ts</code> modules, so it also will be typed correctly.</p>\n<h2>How to resolve types for <code>.js</code> modules</h2>\n<p>Deno provides <a href=\"https://deno.land/manual/getting_started/typescript#using-typescript\" rel=\"nofollow noreferrer\">additional ways</a> to reference <code>.d.ts</code> files for <code>.js</code> files.</p>\nSpecify type definition at import code location:\n<pre><code>// @deno-types=&quot;./foo.d.ts&quot;\nimport * as foo from &quot;./foo.js&quot;;\n</code></pre>\nSpecify type definition at host code location:\n<pre><code>/// &lt;reference types=&quot;./foo.d.ts&quot; /&gt;\nexport const foo = &quot;foo&quot;;\n</code></pre>\n<p>Alternative: Deno can read a custom <a href=\"https://deno.land/manual/getting_started/typescript#x-typescript-types-custom-header\" rel=\"nofollow noreferrer\"><code>X-TypeScript-Types</code></a> HTTP header from remote imports.</p>\n<h2>How to use a custom <code>tsconfig.json</code></h2>\nA given <code>tsconfig.json</code> file in a project is merged with the Deno default config, e.g.:\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    // set a custom, deviant value\n    &quot;noImplicitAny&quot;: false // deno default is true\n    // (this is just an example - use strong types, whenever possible)\n  }\n}\n</code></pre>\nInclude <a href=\"https://deno.land/manual/getting_started/typescript#custom-typescript-compiler-options\" rel=\"nofollow noreferrer\"><code>-c</code></a> option, so VS Code and Deno CLI have the same compiler settings:\n<pre><code>deno run -c ./tsconfig.json main.ts \n</code></pre>\n<h2>How to use <a href=\"https://deno.land/manual/runtime/stability\" rel=\"nofollow noreferrer\"><code>--unstable</code></a> types</h2>\n<p>The easiest option is to set <a href=\"https://marketplace.visualstudio.com/items?itemName=denoland.vscode-deno#user-content-configuration\" rel=\"nofollow noreferrer\"><code>&quot;deno.unstable&quot;: true</code></a> (<a href=\"https://github.com/denoland/vscode_deno/pull/125\" rel=\"nofollow noreferrer\">PR</a>) in <code>settings.json</code> and restart VS Code, see the <code>tldr</code> section.</p>\n<h3>Manual alternative</h3>\n<pre class=\"lang-sh prettyprint-override\"><code>cd &lt;your-project&gt;\ndeno types --unstable &gt; deno.runtime.d.ts\ntouch tsconfig.json # (1); jsconfig.json for JS projects also possible\n</code></pre>\n<p>VS Code <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#common-questions\" rel=\"nofollow noreferrer\">automatically includes</a> <code>deno.runtime.d.ts</code> with an existent <code>tsconfig.json</code> (1).</p>\n<hr />\n<h1>Breaking Changes</h1>\n<h2><code>vscode-deno</code> v1.26.0</h2>\n<p>The extension needs to be <a href=\"https://github.com/denoland/vscode_deno/pull/122\" rel=\"nofollow noreferrer\">explicitly enabled</a> by <code>&quot;deno.enable&quot;: true</code> in <code>.vscode/settings.json</code> of the project (default is <code>false</code>). Before, the default had been <code>true</code>.</p>\n<h2><code>vscode-deno</code> &lt; 1.25.0</h2>\n<p>Install Deno types in every case (stable and unstable) - see <code>&quot;How to use --unstable types&quot;</code>.</p>\n"}], "owner": {"reputation": 5054, "user_id": 2715716, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/E0rgZ.jpg?s=128&g=1", "display_name": "Tom&#225;\u0161 H&#252;belbauer", "link": "https://stackoverflow.com/users/2715716/tom%c3%a1%c5%a1-h%c3%bcbelbauer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2916, "favorite_count": 2, "accepted_answer_id": 62101596, "answer_count": 2, "score": 11, "last_activity_date": 1601536520, "creation_date": 1550695359, "last_edit_date": 1590837253, "question_id": 54794933, "link": "https://stackoverflow.com/questions/54794933/how-to-pull-typings-in-deno", "title": "How to pull typings in Deno", "body": "<p>I am checking out Deno and have found one of the starter examples very elegant:</p>\n\n<pre><code>import { serve } from \"https://deno.land/x/std@v0.2.10/http/server.ts\";\nconst s = serve(\"0.0.0.0:8000\");\n\nvoid async function main() {\n  for await (const req of s) {\n     req.respond({ body: new TextEncoder().encode(\"Hello World\\n\") });\n  }\n}()\n</code></pre>\n\n<p>I am using VS Code to author Deno scripts, but I am not sure how I can make the editor aware of typings for the imported functions, such as <code>serve</code>. I think it may be too soon for IDE support with Deno, but in case there is a solution or a workaround, I'd like to know about it.</p>\n\n<p>Do I need to install a <code>@types</code> package or something like that? <code>import</code> or <code>reference</code> some <code>.d.ts</code> declaration files? How do I make VS Code offer code completion suggestions and display type annotations when using the <code>serve</code> function in this example and any imported scripts in Deno in general?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1550716802, "post_id": 54794886, "comment_id": 96374217, "body": "Relevant question: <a href=\"https://stackoverflow.com/questions/47374713/typescript-generic-class-parameters\">Typescript generic class parameters</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3051, "user_id": 3025537, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/s7MOz.jpg?s=128&g=1", "display_name": "Padarom", "link": "https://stackoverflow.com/users/3025537/padarom"}, "edited": false, "score": 1, "creation_date": 1550738742, "post_id": 54798314, "comment_id": 96382107, "body": "Thank you! The <code>makeModel</code> function that generates a constructor was the right way to go for me. I ended up having the constructor return a Proxy of <code>this</code>, so that I could still work with the (protected) <code>options</code> object. Also I created new classes such as <code>class User extends makeModel(getDefaultUser)</code> in some cases so I could have both all options available and also add methods to the resulting class."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1550716251, "creation_date": 1550716251, "answer_id": 54798314, "question_id": 54794886, "link": "https://stackoverflow.com/questions/54794886/assign-all-keys-of-type-to-class-in-typescript/54798314#54798314", "title": "Assign all keys of type to class in TypeScript", "body": "<p>Hmm I don't think there's an easy and type-safe solution for this.  You'd like to be able to make <code>class Model&lt;T&gt; extends T</code>, or an equivalent <a href=\"https://www.typescriptlang.org/docs/handbook/mixins.html\" rel=\"nofollow noreferrer\">mixin</a>,  but <a href=\"https://github.com/Microsoft/TypeScript/issues/13807\" rel=\"nofollow noreferrer\">that's not legal TypeScript</a>.  You can make something with sort of the right <em>type</em>, but the compiler won't understand that the object is of that type without an <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">assertion</a> or two.</p>\n\n<p>I'm going to back up for a second.  It seems that for each <code>Model&lt;T&gt;</code> class you really want a <em>static</em> <code>fake()</code> function that produces a default <code>T</code> instance, right?  That is you don't really need access to <code>this</code> from within the implementation of <code>fake()</code>.  So instead of <code>new User().fake()</code> I'd suggest having it be of the form <code>User.fake()</code>.</p>\n\n<p>If so, then your <code>Model</code> constructor has something like this interface:</p>\n\n<pre><code>interface ModelConstructor&lt;T&gt; {\n  fake(): T; // static default instance maker\n  new(options?: Partial&lt;T&gt;): T; // actual constructor\n}\n</code></pre>\n\n<p>And then we can have a function that returns such a constructor, given an appropriate <code>fake()</code> function:</p>\n\n<pre><code>function makeModel&lt;T extends object&gt;(fake: () =&gt; T): ModelConstructor&lt;T&gt; {\n  const ret = function (this: T, options?: Partial&lt;T&gt;) {\n    Object.assign(this, fake(), options);\n  };\n  ret.fake = fake;\n  // this assertion or something like it is unfortunately necessary\n  return ret as any;\n}\n</code></pre>\n\n<p>Note that I had to do an assertion because a regular-callable function is not considered assignable to a constructor (newable) type.  (Somewhere there's a GitHub issue which says exactly why they decided not to allow this, but I can't find it right now.  Maybe someone else knows where it is?)</p>\n\n<p>Then you can do something like this:</p>\n\n<pre><code>type UserOptions = {\n  userName: string,\n  email: string,\n  roles?: number[]; // not int, what is int?\n}\n\n// here is a fake() for Users\nfunction getDefaultUser(): UserOptions {\n  return {\n    userName: \"fred\",\n    email: \"fred@example.com\",\n    roles: []\n  }\n}\n\n// make your new constructor:\nconst User = makeModel(getDefaultUser);\n// const User: ModelConstructor&lt;UserOptions&gt;;\n\n// use your constructor:\nconst user = new User({ userName: \"George\", email: \"george@example.com\" });\n// const User: UserOptions;\n</code></pre>\n\n<p>Maybe that will give you some ideas on how to proceed.  Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 3051, "user_id": 3025537, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/s7MOz.jpg?s=128&g=1", "display_name": "Padarom", "link": "https://stackoverflow.com/users/3025537/padarom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 54798314, "answer_count": 1, "score": 0, "last_activity_date": 1550716251, "creation_date": 1550695224, "question_id": 54794886, "link": "https://stackoverflow.com/questions/54794886/assign-all-keys-of-type-to-class-in-typescript", "title": "Assign all keys of type to class in TypeScript", "body": "<p>I have a type that I want to somehow assign to a class, so that the class has the same properties as said type.</p>\n\n<pre><code>abstract class Model&lt;T&gt; {\n\n    protected options: T\n\n    constructor (options?: Partial&lt;T&gt;) {\n        this.options = { ...this.fake(), ...options }\n    }\n\n    abstract fake () : T\n\n}\n\ntype UserOptions = {\n    userName: string,\n    email: string,\n    roles?: int[]\n}\n\nclass User extends Model&lt;UserOption&gt; {\n\n    fake () : UserOption {\n        return {\n            userName: getRandomUsername(),\n            email: getRandomEmail()\n        }\n    }\n\n}\n</code></pre>\n\n<p>With this I am able to create new models and instantiate them without having to fill all the fields. Any field that isn't specified, is just filled with random data. However now I'd like to also access these fields directly, e.g. via <code>(new User()).userName</code>. Right now I could make <code>options</code> public and access the fields via <code>.options.userName</code>, however when I need to access them in a lot of places this becomes quite verbose to write.</p>\n\n<p>Is there a way of generically assigning all these properties to the instance itself while having it properly typed?</p>\n\n<p>Alternatively I was thinking about using Proxies and returning these in other helper methods, rather than the Model itself. That way, to obtain the Proxy a method still had to be called, but the rest of my code will always return the proxy directly. I tried it with this within the <code>abstract class Model&lt;T&gt;</code>, but it didn't provide the caller of <code>user.proxy()</code> any knowledge about the \"existence\" of the properties (obviously since the return type is just <code>this</code>).</p>\n\n<pre><code>proxy () : this {\n    return new Proxy(this, {\n        get (target, prop: keyof T, receiver) {\n            return target.options[prop]\n        }\n    })\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1550694919, "post_id": 54794791, "comment_id": 96367636, "body": "What&#39;s the problem you&#39;re trying to solve? TypeScript doesn&#39;t exist at runtime, how do you imagine this will be used?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1550696141, "post_id": 54794791, "comment_id": 96368205, "body": "It&#39;s definitely not possible with <code>string</code> paths, it might be possible with tuples using compiler unfriendly recursion which is not recommended. I suggest you try to find another way to express your problem"}, {"owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1550697156, "post_id": 54794791, "comment_id": 96368651, "body": "@TitianCernicova-Dragomir Is it possible with a <code>tuple</code>?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1550697495, "post_id": 54794791, "comment_id": 96368800, "body": "@ThomasReggi I think so .. but it&#39;s the realm of dark compiler magic, the kind the great wizards do not want us mere  mortals to use and they warn of grave consequences (perf sucks and no guarantee it will work in the future)"}, {"owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1550697564, "post_id": 54794791, "comment_id": 96368829, "body": "@TitianCernicova-Dragomir ok nevermind lol"}, {"owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "edited": false, "score": 1, "creation_date": 1550699221, "post_id": 54794791, "comment_id": 96369529, "body": "It&#39;s possible i&#39;ll post solution"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "edited": false, "score": 0, "creation_date": 1550701472, "post_id": 54794791, "comment_id": 96370325, "body": "@ShanonJackson I didn&#39;t say it was impossible but it requires tricking the compiler into recursive type aliases, and not the sanctioned kind.. it can be done for sure with tuples .."}, {"owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "edited": false, "score": 1, "creation_date": 1550701728, "post_id": 54794791, "comment_id": 96370418, "body": "yeah sorry wasn&#39;t trying to undercut what you were saying Titian is 100% correct in saying that compiler unfriendly recursion is not recommended, so i would say take the bottom solution with a grain of pure salt"}], "answers": [{"comments": [{"owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1550701869, "post_id": 54796227, "comment_id": 96370468, "body": "? i don&#39;t understand Test is of type TestInterface what are you getting at?"}, {"owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1550701989, "post_id": 54796227, "comment_id": 96370517, "body": "added two examples that are more robust."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1550702271, "post_id": 54796227, "comment_id": 96370608, "body": "I would have used <code>const path = &lt;T extends string[]&gt;(...p: T)=&gt; p; const deepProperty = path(&quot;example&quot;, &quot;hello&quot;, &quot;world&quot;, &quot;last&quot;);</code> for  the path, but other than that looks like you had some fun with it :)"}, {"owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1550702428, "post_id": 54796227, "comment_id": 96370661, "body": "Hahaha yeah that probably would have been better, yeah definitely had some fun with it recursion literally gives me the same hit of dopamine all my tests lighting up green gives me XD"}], "tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": false, "score": 1, "last_activity_date": 1550701977, "last_edit_date": 1550701977, "creation_date": 1550701652, "answer_id": 54796227, "question_id": 54794791, "link": "https://stackoverflow.com/questions/54794791/dynamically-create-a-deep-interface-from-tupple/54796227#54796227", "title": "Dynamically create a deep interface from tupple", "body": "<p>Note i would there are limitations on what the compiler can do in terms of \"deep\", but this  works hope it helps you</p>\n\n<pre><code>const deepProperty: [\"example\", \"hello\", \"world\", \"last\"] = ['example', 'hello', 'world', \"last\"];\n\n\ntype MakeDeep&lt;T extends any[]&gt; = {\n    [K in keyof T]: T[K] extends any\n        ? Record&lt;T[K], ((..._: T) =&gt; any) extends ((_: any, ..._1: infer TAIL) =&gt; any) ? MakeDeep&lt;TAIL&gt;[0] extends never ? string :  MakeDeep&lt;TAIL&gt;[0] : string&gt;\n        : never;\n};\n\n\ntype Test = MakeDeep&lt;typeof deepProperty&gt;[0]\n\n\ntype TestInterface = Record&lt;\"example\", Record&lt;\"hello\", Record&lt;\"world\", Record&lt;\"last\", string&gt;&gt;&gt;&gt;\n\n\nconst TestAssignment: Test = {\n    example: {\n        hello: {\n            world: {\n                last: \"STRING\"\n            }\n        }\n    }\n} //passes\n\nconst TestAssignment2: Test = {\n    example: {\n        hello: {\n            world: {\n                last: 5\n            }\n        }\n    }\n} // fails\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1550703417, "creation_date": 1550703417, "answer_id": 54796579, "question_id": 54794791, "link": "https://stackoverflow.com/questions/54794791/dynamically-create-a-deep-interface-from-tupple/54796579#54796579", "title": "Dynamically create a deep interface from tupple", "body": "<p>I'm, really not that great with recursive types, but here's my stab at it. I started with these two types to iteratively convert an array to an object wrapper.</p>\n\n<pre><code>type MakeDeep&lt;T, A&gt; =\n    T extends Array&lt;string&gt; ? ((...x: T) =&gt; void) extends ((h, ...t: infer I) =&gt; void) ? { [key in T[0]]: Unwrap&lt;I, A&gt; } : {} : never;\ntype Unwrap&lt;T, A&gt; = T extends { length: 0 } ? A : MakeDeep&lt;T, A&gt;;\n</code></pre>\n\n<p>The following types are all equivalent:</p>\n\n<pre><code>const deepProperty: ['example', 'hello', 'world'] = ['example', 'hello', 'world' ];\ntype A = MakeDeep&lt;typeof deepProperty, string&gt;;\n\ntype B = {\n  example: {\n    hello: {\n      world: string;\n    },\n  },\n};\n</code></pre>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550703417, "creation_date": 1550694824, "last_edit_date": 1550696871, "question_id": 54794791, "link": "https://stackoverflow.com/questions/54794791/dynamically-create-a-deep-interface-from-tupple", "title": "Dynamically create a deep interface from tupple", "body": "<pre><code>const deepProperty = ['example', 'hello', 'world'];\n\ntype MakeDeep&lt;A extends string, B&gt; = B;\n\ntype A = MakeDeep&lt;typeof deepProperty, string&gt;;\n\ntype B = {\n  example: {\n    hello: {\n      world: string;\n    },\n  },\n};\n</code></pre>\n\n<p>I am looking for a way to pass in a deep string and a type and make a interface from it. </p>\n"}, {"tags": ["reactjs", "typescript", "jestjs", "enzyme"], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 980970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c7ae91d9916dcc967516bc579c93f51?s=128&d=identicon&r=PG", "display_name": "MacD", "link": "https://stackoverflow.com/users/980970/macd"}, "is_accepted": false, "score": 2, "last_activity_date": 1581109795, "creation_date": 1581109795, "answer_id": 60121112, "question_id": 54794454, "link": "https://stackoverflow.com/questions/54794454/jestserializer-is-not-assignable-to-parameter-of-type-snapshotserializerplugi/60121112#60121112", "title": "&#39;JestSerializer&#39; is not assignable to parameter of type &#39;SnapshotSerializerPlugin&#39;", "body": "<p><code>enter code here</code>The short answer is the type definitions between <code>enzyme-to-json</code> and <code>\"@types/jest\"</code> seem to conflict so just do the following </p>\n\n<pre><code>//@ts-ignore\nexpect.addSnapshotSerializer(createSerializer({ mode: 'deep', noKey: true }));\n</code></pre>\n\n<p>I'm presuming this is your error (I don't see it specified in the question):</p>\n\n<blockquote>\n  <p>(property) Options.noKey?: boolean | undefined\n  Argument of type 'JestSerializer' is not assignable to parameter of type >'SnapshotSerializerPlugin'.\n  Types of property 'print' are incompatible.\n  Type '(CommonWrapper: CommonWrapper&lt;{}, {}, Component&lt;{}, {}, any>>, serializer: >JestSerializer) => Json' is not assignable to type '(val: any, serialize: (val: any) => >string, indent: (str: string) => string, opts: SnapshotSerializerOptions, colors: >SnapshotSerializerColors) => string'.\n  Types of parameters 'serializer' and 'serialize' are incompatible.\n  Type '(val: any) => string' is missing the following properties from type >'JestSerializer': test, printts(2345)</p>\n</blockquote>\n\n<p>I ran into this because I was trying to use <code>enzyme-to-json</code> in a Creact-React-App typescript project where I don't have access to the jest config directly and I don't want to eject. The warning indicates the types <code>JestSerializer</code> and <code>SnapshotSerializerPlugin</code> are not compatible. </p>\n\n<p>There is also an open issue at the <code>enzyme-to-json</code> repo which has been there for over a year so not sure if this is going to get resolved</p>\n\n<p><a href=\"https://github.com/adriantoine/enzyme-to-json/issues/126\" rel=\"nofollow noreferrer\">https://github.com/adriantoine/enzyme-to-json/issues/126</a></p>\n\n<p>In my case the versions I was using of each were</p>\n\n<pre><code>\"@types/jest\": \"^24.0.25\"\n\"enzyme-to-json\": \"^3.4.4\",\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11092196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef914e81f9b0b79c1dcfc0dbacd4ac0d?s=128&d=identicon&r=PG&f=1", "display_name": "matrixPill", "link": "https://stackoverflow.com/users/11092196/matrixpill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1581109795, "creation_date": 1550693243, "question_id": 54794454, "link": "https://stackoverflow.com/questions/54794454/jestserializer-is-not-assignable-to-parameter-of-type-snapshotserializerplugi", "title": "&#39;JestSerializer&#39; is not assignable to parameter of type &#39;SnapshotSerializerPlugin&#39;", "body": "<p>I have a file, in my CRA application, called setupTests.ts and it shows this warning on the createSerializer() Methode.\nIf i rename the file to a js file all compiles fine and the test runs.\nAlthough if i add <code>\"snapshotSerializers\": [\"enzyme-to-json/serializer\"]</code> as jest config in package.json it works fine. But i am curious if there is a way to make it work in that file.</p>\n\n<pre><code>import React from \"react\";\nimport Enzyme from \"enzyme\";\nimport Adapter from \"enzyme-adapter-react-16\";\nimport { createSerializer } from \"enzyme-to-json\";\n\nexpect.addSnapshotSerializer(createSerializer({mode: \"deep\",noKey: true}) );\nEnzyme.configure({adapter: new Adapter()});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "boolean", "conditional"], "comments": [{"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1550693439, "post_id": 54794382, "comment_id": 96366972, "body": "what is the output of <code>this.lessons</code>?"}, {"owner": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "reply_to_user": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1550693488, "post_id": 54794382, "comment_id": 96367006, "body": "First time: In Progress   Second time: Complete"}, {"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 1, "creation_date": 1550693626, "post_id": 54794382, "comment_id": 96367083, "body": "ngClass only renders based on the last value of <code>this.isComplete</code>, which is <code>true</code> in this case. You should attach isComplete to element, <code>element.isComplete=...</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1663, "user_id": 1958480, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/03cf8097a46ba2b0f9889fb4a6ffe31e?s=128&d=identicon&r=PG&f=1", "display_name": "jcuypers", "link": "https://stackoverflow.com/users/1958480/jcuypers"}, "edited": false, "score": 0, "creation_date": 1550694848, "post_id": 54794733, "comment_id": 96367608, "body": "there is no one thruth: check the link <a href=\"https://stackoverflow.com/questions/35269179/angular-conditional-class-with-ngclass\" title=\"angular conditional class with ngclass\">stackoverflow.com/questions/35269179/&hellip;</a>"}, {"owner": {"reputation": 282, "user_id": 9301293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/476e1284f6710238a2ef02c523ddc027?s=128&d=identicon&r=PG&f=1", "display_name": "Y_Moshe", "link": "https://stackoverflow.com/users/9301293/y-moshe"}, "reply_to_user": {"reputation": 1663, "user_id": 1958480, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/03cf8097a46ba2b0f9889fb4a6ffe31e?s=128&d=identicon&r=PG&f=1", "display_name": "jcuypers", "link": "https://stackoverflow.com/users/1958480/jcuypers"}, "edited": false, "score": 0, "creation_date": 1550695788, "post_id": 54794733, "comment_id": 96368050, "body": "I don&#39;t get u, the answer there is exactly like mine, not like I copy it, what u want me to see there?"}, {"owner": {"reputation": 1663, "user_id": 1958480, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/03cf8097a46ba2b0f9889fb4a6ffe31e?s=128&d=identicon&r=PG&f=1", "display_name": "jcuypers", "link": "https://stackoverflow.com/users/1958480/jcuypers"}, "edited": false, "score": 0, "creation_date": 1550695891, "post_id": 54794733, "comment_id": 96368094, "body": "i just wanted to say that there are more ways then shown in the first doc.  not important"}], "tags": [], "owner": {"reputation": 282, "user_id": 9301293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/476e1284f6710238a2ef02c523ddc027?s=128&d=identicon&r=PG&f=1", "display_name": "Y_Moshe", "link": "https://stackoverflow.com/users/9301293/y-moshe"}, "is_accepted": false, "score": 0, "last_activity_date": 1550694507, "creation_date": 1550694507, "answer_id": 54794733, "question_id": 54794382, "link": "https://stackoverflow.com/questions/54794382/angular-ngclass-conditional-stopped-working/54794733#54794733", "title": "Angular: ngClass conditional stopped working", "body": "<p>if u check the document: <a href=\"https://angular.io/api/common/NgClass\" rel=\"nofollow noreferrer\">https://angular.io/api/common/NgClass</a></p>\n\n<p>I don't see any use case like yours anyway, this how u should do it:</p>\n\n<pre><code>&lt;span [ngClass]=\"{'text-red': !isComplete}\"&gt;{{ lesson.Status }}&lt;/span&gt;\n</code></pre>\n\n<p>also, check the document u will more useful use.</p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "edited": false, "score": 0, "creation_date": 1550771412, "post_id": 54795676, "comment_id": 96403228, "body": "Yes you are correct I ended up noticing this. I&#39;d prefer not to add it to Lesson interface since this is coming from the database. I will brainstorm if there are any other ways around this. One that I found, which is not the cleanest is to change the ngClass to make sure Two things are not true, instead of one. I tested and it works, but I&#39;d prefer a cleaner way."}, {"owner": {"reputation": 175, "user_id": 7231485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4N7Uw.jpg?s=128&g=1", "display_name": "A. Figueroa", "link": "https://stackoverflow.com/users/7231485/a-figueroa"}, "reply_to_user": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "edited": false, "score": 0, "creation_date": 1550774412, "post_id": 54795676, "comment_id": 96404627, "body": "I refactored to allow a potentially cleaner solution without having to update your DB models."}, {"owner": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "edited": false, "score": 0, "creation_date": 1550785677, "post_id": 54795676, "comment_id": 96409696, "body": "Would creating a new object (processedLessons) and placing the original data in that object be a better solution than doing two conditional checks in the loop (lesson.Status!=&#39;Complete&#39; &amp;&amp; item.Status!=&#39;Otherthing&#39;  ?"}, {"owner": {"reputation": 175, "user_id": 7231485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4N7Uw.jpg?s=128&g=1", "display_name": "A. Figueroa", "link": "https://stackoverflow.com/users/7231485/a-figueroa"}, "reply_to_user": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "edited": false, "score": 0, "creation_date": 1550859029, "post_id": 54795676, "comment_id": 96440575, "body": "Not really. But I think you can simplify it even further, by removing the loop and just binding to the ngclass like in the last code snippet.   [ngClass]=&quot;{&#39;red&#39;: lesson.status !== &#39;Complete&#39;, &#39;black&#39;: lesson.status === &#39;Complete&#39; }&quot;"}], "tags": [], "owner": {"reputation": 175, "user_id": 7231485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4N7Uw.jpg?s=128&g=1", "display_name": "A. Figueroa", "link": "https://stackoverflow.com/users/7231485/a-figueroa"}, "is_accepted": false, "score": 1, "last_activity_date": 1550776207, "last_edit_date": 1550776207, "creation_date": 1550698934, "answer_id": 54795676, "question_id": 54794382, "link": "https://stackoverflow.com/questions/54794382/angular-ngclass-conditional-stopped-working/54795676#54795676", "title": "Angular: ngClass conditional stopped working", "body": "<p>I see that you're assigning the isComplete value to a global variable. This is shared by all lessons, so with your current logic, they will all be red or all black.</p>\n\n<p>I would refactor to have the isComplete exist as a property within the individual lesson, this way you'll have a separate value for each lesson.</p>\n\n<p>You can update the view model after it arrives from server. As long as you can determine whether is complete or not there shouldn't be any reason why you cant extend the VM.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>processedLessons = []\r\n\r\nthis.lessons.forEach(lesson =&gt; {                           \r\n    if (lesson.Status == \"Complete\") {\r\n        lesson.isComplete = true;\r\n        lesson.Status = this.var1;\r\n        processedLessons.push(lesson);\r\n    }\r\n    else {\r\n        lesson.Status = this.var2;\r\n    }\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After that I would refactor my template to this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"row\" *ngFor=\"let lesson of processedLessons\"&gt;\r\n    &lt;div&gt;\r\n        &lt;div class=\"flex\"&gt;\r\n            &lt;div&gt;\r\n               Status: &lt;span [ngClass]=\"{'red': !lesson.isComplete, 'black': lesson.isComplete }\"&gt;{{ lesson.Status }}&lt;/span&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Or just do this using your original JavaScript...</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"row\" *ngFor=\"let lesson of lessons\"&gt;\r\n    &lt;div&gt;\r\n        &lt;div class=\"flex\"&gt;\r\n            &lt;div&gt;\r\n               Status: &lt;span [ngClass]=\"{'red': lesson.status !== 'Complete', 'black': lesson.status === 'Complete' }\"&gt;{{ lesson.Status }}&lt;/span&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 5396678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9SjdZQ88KpM/AAAAAAAAAAI/AAAAAAAAAP0/VEZua36604U/photo.jpg?sz=128", "display_name": "Anthony Galagade", "link": "https://stackoverflow.com/users/5396678/anthony-galagade"}, "is_accepted": false, "score": 0, "last_activity_date": 1550774892, "creation_date": 1550774892, "answer_id": 54814189, "question_id": 54794382, "link": "https://stackoverflow.com/questions/54794382/angular-ngclass-conditional-stopped-working/54814189#54814189", "title": "Angular: ngClass conditional stopped working", "body": "<pre><code>&lt;span [ngClass]=\"{'text-red': lesson.Status == 'Complete'}\"&gt;{{ lesson.Status }}&lt;/span&gt;\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 10225695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176899c88b5e59c3ca17cfee89f411f5?s=128&d=identicon&r=PG&f=1", "display_name": "seesharp", "link": "https://stackoverflow.com/users/10225695/seesharp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1436, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1550776207, "creation_date": 1550692948, "last_edit_date": 1550693540, "question_id": 54794382, "link": "https://stackoverflow.com/questions/54794382/angular-ngclass-conditional-stopped-working", "title": "Angular: ngClass conditional stopped working", "body": "<p><strong>Goal</strong>: I want to change the text to red based on a condition, when looping through an object (using ngClass in Angular 6)</p>\n\n<p>This was working for me, but all of a sudden is no longer working.</p>\n\n<p>I've tried printing to console... and I am getting\nIn Progress\nfalse\nComplete\ntrue</p>\n\n<p>(<strong>Expected</strong>) Which makes me think the first one should be red, and the second one black. (<strong>Actual</strong>) But they are both black.</p>\n\n<p>I've also tried resetting the variable isComplete back to false if it got to the else condition.\n<a href=\"https://stackoverflow.com/questions/35269179/angular-conditional-class-with-ngclass\">Angular: conditional class with *ngClass</a></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"row\" *ngFor=\"let lesson of lessons\"&gt;\n    &lt;div&gt;\n        &lt;div class=\"flex\"&gt;\n            &lt;div&gt;\n               Status: &lt;span [ngClass]=\"(isComplete!=true)?'text-red':''\"&gt;{{ lesson.Status }}&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>TypeScript:</p>\n\n<pre><code>private isComplete: boolean = false;\n\nthis.lessons.forEach(element =&gt; {                           \n    if (element.Status == \"Complete\") {\n        this.isComplete = true;\n        element.Status = this.var1;\n    }\n    else {\n        element.Status = this.var2;\n    }\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ag-grid", "ag-grid-angular"], "comments": [{"owner": {"reputation": 940, "user_id": 1195028, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iSGVt.jpg?s=128&g=1", "display_name": "Normunds Kalnberzins", "link": "https://stackoverflow.com/users/1195028/normunds-kalnberzins"}, "edited": false, "score": 1, "creation_date": 1550696001, "post_id": 54794333, "comment_id": 96368144, "body": "20.0.0 has problem with IE, try 20.1.0-beta or earlier ag-grid version"}, {"owner": {"reputation": 3312, "user_id": 4186564, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/E6IRN.jpg?s=128&g=1", "display_name": "zero01alpha", "link": "https://stackoverflow.com/users/4186564/zero01alpha"}, "reply_to_user": {"reputation": 940, "user_id": 1195028, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iSGVt.jpg?s=128&g=1", "display_name": "Normunds Kalnberzins", "link": "https://stackoverflow.com/users/1195028/normunds-kalnberzins"}, "edited": false, "score": 0, "creation_date": 1550697883, "post_id": 54794333, "comment_id": 96368972, "body": "Tried 20.1.0-beta, 19.x, and 18.x....all the same thing. Thank you though."}, {"owner": {"reputation": 940, "user_id": 1195028, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iSGVt.jpg?s=128&g=1", "display_name": "Normunds Kalnberzins", "link": "https://stackoverflow.com/users/1195028/normunds-kalnberzins"}, "edited": false, "score": 2, "creation_date": 1550698269, "post_id": 54794333, "comment_id": 96369142, "body": "After I upgraded from 18.1 to 20.0 the only way to display something in IE was to set domLayout=normal and explicitly set grid height. However it was working fine before (I was using auto-height). Also installation of 20.1 beta I could use autoHeight again. Possibly you&#39;ve hit another bug in this area."}, {"owner": {"reputation": 763, "user_id": 3722260, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xW7s7.jpg?s=128&g=1", "display_name": "masum7", "link": "https://stackoverflow.com/users/3722260/masum7"}, "edited": false, "score": 1, "creation_date": 1550815974, "post_id": 54794333, "comment_id": 96417136, "body": "For me this fixed: used 20.1.0-beta.0 version. And used the property domLayout=&quot;autoHeight&quot;"}, {"owner": {"reputation": 3312, "user_id": 4186564, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/E6IRN.jpg?s=128&g=1", "display_name": "zero01alpha", "link": "https://stackoverflow.com/users/4186564/zero01alpha"}, "edited": false, "score": 0, "creation_date": 1550845379, "post_id": 54794333, "comment_id": 96432922, "body": "Bless both of your souls!!!! 20.1.0-beta.0 + <code>domLayout=&quot;autoHeight&quot;</code> was the solution! The autoHeight was required for the grid to render, and upgrading the version is what makes the row data actually load. Praise! :D Feel free to create an answer and I will accept it :)"}], "owner": {"reputation": 3312, "user_id": 4186564, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/E6IRN.jpg?s=128&g=1", "display_name": "zero01alpha", "link": "https://stackoverflow.com/users/4186564/zero01alpha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1514, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550693346, "creation_date": 1550692735, "last_edit_date": 1550693346, "question_id": 54794333, "link": "https://stackoverflow.com/questions/54794333/ag-grid-not-loading-at-all-in-ie11-with-angular-7", "title": "ag-grid not loading at all in IE11 with Angular 7", "body": "<p>My ag-grid works fine in all other browsers, but when I open it with IE it does not load at all. No error messages show in the console. Note that the rest of the Angular app loads just fine, just not the <code>ag-grid-angular</code> component`</p>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"my-app\",\n  \"version\": \"0.0.0\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"~7.2.0\",\n    \"@angular/common\": \"~7.2.0\",\n    \"@angular/compiler\": \"~7.2.0\",\n    \"@angular/core\": \"~7.2.0\",\n    \"@angular/forms\": \"~7.2.0\",\n    \"@angular/platform-browser\": \"~7.2.0\",\n    \"@angular/platform-browser-dynamic\": \"~7.2.0\",\n    \"@angular/router\": \"~7.2.0\",\n    \"ag-grid-angular\": \"^20.0.0\",\n    \"ag-grid-community\": \"^20.0.0\",\n    \"bootstrap\": \"^4.2.1\",\n    \"core-js\": \"^2.5.4\",\n    \"jquery\": \"^3.3.1\",\n    \"rxjs\": \"~6.3.3\",\n    \"tslib\": \"^1.9.0\",\n    \"zone.js\": \"~0.8.26\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"~0.12.0\",\n    \"@angular/cli\": \"~7.2.3\",\n    \"@angular/compiler-cli\": \"~7.2.0\",\n    \"@angular/language-service\": \"~7.2.0\",\n    \"@fortawesome/fontawesome-free\": \"^5.7.0\",\n    \"@types/jasmine\": \"~2.8.8\",\n    \"@types/jasminewd2\": \"~2.0.3\",\n    \"@types/node\": \"~8.9.4\",\n    \"codelyzer\": \"~4.5.0\",\n    \"jasmine-core\": \"~2.99.1\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~3.1.1\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"~2.0.1\",\n    \"karma-jasmine\": \"~1.1.2\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.4.0\",\n    \"ts-node\": \"~7.0.0\",\n    \"tslint\": \"~5.11.0\",\n    \"typescript\": \"~3.2.2\"\n  }\n}\n</code></pre>\n\n<p>polyfill.ts</p>\n\n<pre><code>/***************************************************************************************************\n * BROWSER POLYFILLS\n */\n\n/** IE9, IE10, IE11, and Chrome &lt;55 requires all of the following polyfills.\n *  This also includes Android Emulators with older versions of Chrome and Google Search/Googlebot\n */\n\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/weak-map';\nimport 'core-js/es6/set';\n\n/***************************************************************************************************\n * Zone JS is required by default for Angular itself.\n */\nimport 'zone.js/dist/zone';  // Included with Angular CLI.\n</code></pre>\n\n<p>my component template (for brevity, please assume that I am passing a valid <code>gridOptions</code> object filled with data)</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;ag-grid-angular class=\"ag-theme-material\" [gridOptions]=\"gridOptions\"&gt;&lt;/ag-grid-angular&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "three.js", "angular7"], "comments": [{"owner": {"reputation": 1257, "user_id": 7306664, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_EzDI6Qj1uE/AAAAAAAAAAI/AAAAAAAAAUs/AqFsO7uPdwI/photo.jpg?sz=128", "display_name": "corashina", "link": "https://stackoverflow.com/users/7306664/corashina"}, "edited": false, "score": 0, "creation_date": 1550692923, "post_id": 54794324, "comment_id": 96366732, "body": "you cant call &#39;this&#39; outside your class i guess"}, {"owner": {"reputation": 153, "user_id": 10724515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275cb88602df18b9496c19c422973d86?s=128&d=identicon&r=PG&f=1", "display_name": "CertainlyNotAdrian", "link": "https://stackoverflow.com/users/10724515/certainlynotadrian"}, "reply_to_user": {"reputation": 1257, "user_id": 7306664, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_EzDI6Qj1uE/AAAAAAAAAAI/AAAAAAAAAUs/AqFsO7uPdwI/photo.jpg?sz=128", "display_name": "corashina", "link": "https://stackoverflow.com/users/7306664/corashina"}, "edited": false, "score": 0, "creation_date": 1550693747, "post_id": 54794324, "comment_id": 96367142, "body": "@TomaszZieli\u0144ski my mistake, <code>animate()</code> is actually in the class, ill update the question now"}, {"owner": {"reputation": 16675, "user_id": 2608515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/N7ZoP.jpg?s=128&g=1", "display_name": "Marquizzo", "link": "https://stackoverflow.com/users/2608515/marquizzo"}, "edited": false, "score": 0, "creation_date": 1550697854, "post_id": 54794324, "comment_id": 96368959, "body": "It looks like your <code>.obj</code> URL is pointing to an HTML file. Or maybe your server is mistakenly directing you to an HTML file. There is no reason why your <code>.obj</code> should have <code>&quot;&lt;!doctype html&gt;&quot;</code> in its contents."}, {"owner": {"reputation": 153, "user_id": 10724515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275cb88602df18b9496c19c422973d86?s=128&d=identicon&r=PG&f=1", "display_name": "CertainlyNotAdrian", "link": "https://stackoverflow.com/users/10724515/certainlynotadrian"}, "reply_to_user": {"reputation": 16675, "user_id": 2608515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/N7ZoP.jpg?s=128&g=1", "display_name": "Marquizzo", "link": "https://stackoverflow.com/users/2608515/marquizzo"}, "edited": false, "score": 0, "creation_date": 1550701344, "post_id": 54794324, "comment_id": 96370283, "body": "@Marquizzo you&#39;re right, the firebase storage url is not loading the file, it&#39;s just pointing to a download link"}], "owner": {"reputation": 153, "user_id": 10724515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275cb88602df18b9496c19c422973d86?s=128&d=identicon&r=PG&f=1", "display_name": "CertainlyNotAdrian", "link": "https://stackoverflow.com/users/10724515/certainlynotadrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550693798, "creation_date": 1550692678, "last_edit_date": 1550693798, "question_id": 54794324, "link": "https://stackoverflow.com/questions/54794324/three-js-throwing-null-error-with-angular-7", "title": "three.js throwing &#39;null&#39; error with angular 7", "body": "<p>I've set up a three.js component but everytime i try to render my object (downloaded from cloud firestore) the following error is thrown:</p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'ngZone' of null\nERROR Error: OBJLoader: Unexpected line: \"&lt;!doctype html&gt;\"\n</code></pre>\n\n<p>Any idea why this could be? I think its possibly to do with the lifecycle of the component/ three.js.</p>\n\n<pre><code>export class ProductComponent {\n    //@ViewChild('rendererContainer') rendererContainer: ElementRef\n\n    private container: any = document.createElement('div');\n\n    private modelUrl: Observable &lt;string | null&gt;;\n    private modelValue : string;\n\n    private textureUrl: Observable &lt;string | null&gt;;\n    private textureValue : string;\n\n    private renderer = new THREE.WebGLRenderer();\n    private camera = null; \n    private scene = null; \n    private controls = null;\n    private clock = null;\n\n    constructor(private storage : AngularFireStorage, public ngZone: NgZone) {\n        this.modelUrl = this.storage.ref('path/to/obj.obj').getDownloadURL();\n        this.modelUrl.subscribe(value =&gt; this.modelValue = value);\n\n        this.textureUrl = this.storage.ref('path.to.text.jpg').getDownloadURL();\n        this.textureUrl.subscribe(value =&gt; this.textureValue = value);\n\n        this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 2000);\n        this.scene = new THREE.Scene();\n        this.controls = new THREE.OrbitControls(this.camera,this.renderer.domElement);\n        this.clock = new THREE.Clock();\n    }\n\n    ngAfterViewInit() {\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.renderer.setClearColor(this.scene.fog.color);\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.container.appendChild(this.renderer.domElement);\n\n        this.container.className = 'shirt_Model_Div';\n        const modelDiv = document.getElementById('shirtModelDiv');\n        modelDiv.appendChild(this.container); //error occurs here\n        this.renderer.setSize($(modelDiv).width(), $(modelDiv).height(), $(modelDiv).maxHeight);\n        this.animate();\n    }\n\n\n    ngOnInit() {\n    //additional setup\n    }\n\nanimate() : void {\n        this.ngZone.runOutsideAngular(() =&gt; { //error occurs here\n            requestAnimationFrame(this.animate);\n        });\n        this.render();\n        this.update();\n\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "forms", "typescript", "function"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1550691401, "post_id": 54793969, "comment_id": 96365985, "body": "Just curious...what&#39;s the point of the <code>try&#47;catch</code>? I don&#39;t see anything in there that could fail. <code>try&#47;catch</code> is only for code that could fail due to circumstances outside of the developer&#39;s control, like connectivity issues."}, {"owner": {"reputation": 21, "user_id": 10183714, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h3SZiFDlf0s/AAAAAAAAAAI/AAAAAAAAAKc/YXiL7_23HjI/photo.jpg?sz=128", "display_name": "Francesco Buccoliero", "link": "https://stackoverflow.com/users/10183714/francesco-buccoliero"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1550691980, "post_id": 54793969, "comment_id": 96366291, "body": "When people selects as input the first one (&quot;Assente&quot;) , the one that&#39;s not iterable, if you try to do <code>const nome = ($event.target.options[$event.target.options.selectedIndex].&zwnj;&#8203;text).split(&#39;-&#39;)[0].&zwnj;&#8203;trim()</code> it throws error because Assente contains no -"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1550692453, "post_id": 54793969, "comment_id": 96366530, "body": "So, your code should be wrapped in an <code>if</code> statement to prevent that possibility. <code>try&#47;catch</code> isn&#39;t meant to stop all errors. It&#39;s only to catch errors that aren&#39;t within your control."}, {"owner": {"reputation": 21, "user_id": 10183714, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h3SZiFDlf0s/AAAAAAAAAAI/AAAAAAAAAKc/YXiL7_23HjI/photo.jpg?sz=128", "display_name": "Francesco Buccoliero", "link": "https://stackoverflow.com/users/10183714/francesco-buccoliero"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1550692969, "post_id": 54793969, "comment_id": 96366751, "body": "Ok gonna look for it, but i\u2019m pretty sure that\u2019s not the point"}, {"owner": {"reputation": 1799, "user_id": 606104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Ngej.jpg?s=128&g=1", "display_name": "jahller", "link": "https://stackoverflow.com/users/606104/jahller"}, "edited": false, "score": 0, "creation_date": 1550701858, "post_id": 54793969, "comment_id": 96370465, "body": "have to agree with Scott Marcus. it&#39;s not a good idea to abuse the try/catch block in a way like this. this might be related to your problem"}, {"owner": {"reputation": 21, "user_id": 10183714, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h3SZiFDlf0s/AAAAAAAAAAI/AAAAAAAAAKc/YXiL7_23HjI/photo.jpg?sz=128", "display_name": "Francesco Buccoliero", "link": "https://stackoverflow.com/users/10183714/francesco-buccoliero"}, "edited": false, "score": 0, "creation_date": 1550732222, "post_id": 54793969, "comment_id": 96378799, "body": "Ok gonna try..."}, {"owner": {"reputation": 21, "user_id": 10183714, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h3SZiFDlf0s/AAAAAAAAAAI/AAAAAAAAAKc/YXiL7_23HjI/photo.jpg?sz=128", "display_name": "Francesco Buccoliero", "link": "https://stackoverflow.com/users/10183714/francesco-buccoliero"}, "edited": false, "score": 0, "creation_date": 1550768624, "post_id": 54793969, "comment_id": 96401750, "body": "Ok spotted the error. It wasn&#39;t in try catch, but in in the <code>const turno = $event.path[0].getAttribute(&#39;ng-reflect-name&#39;);</code> , infact in dev mod i can access to that attribute, in prod mode , for safety reasons, i guess, i can&#39;t... Ok problem solved"}], "owner": {"reputation": 21, "user_id": 10183714, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h3SZiFDlf0s/AAAAAAAAAAI/AAAAAAAAAKc/YXiL7_23HjI/photo.jpg?sz=128", "display_name": "Francesco Buccoliero", "link": "https://stackoverflow.com/users/10183714/francesco-buccoliero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550701933, "creation_date": 1550691182, "last_edit_date": 1550701933, "question_id": 54793969, "link": "https://stackoverflow.com/questions/54793969/function-always-return-true-in-prod-mode", "title": "Function always return true in prod mode", "body": "<p>I'm building an app to make people book on some courses.\nI have an array in my component:\n<code>public corsiSelezionati: {nome: string, sede:string, codice:string}[]</code></p>\n\n<p>I have an <code>onChange()</code> func that gets triggered every time a form has a change:</p>\n\n<pre><code>onChange($event) {\n    try {\n        const nome = ($event.target.options[$event.target.options.selectedIndex].text).split('-')[0].trim();\n        const sede = ($event.target.options[$event.target.options.selectedIndex].text).split('-')[1].trim();\n        const codice = $event.target.options[$event.target.options.selectedIndex].value;\n        const corso = {\n            nome: nome,\n            sede: sede,\n            codice: codice\n        };\n        const turno = $event.path[0].getAttribute('ng-reflect-name');\n        switch (turno) {\n            case 'g1t1':\n            this.corsiSelezionati[0] = corso;\n            this.corsiSelezionati[1] = {nome: '', sede: '', codice: ''};\n            this.corsiForm.controls['g1t2'].enable();\n            this.corsiForm.controls['g1t2'].reset();\n            break;\n            case 'g1t2':\n            this.corsiSelezionati[1] = corso;\n            break;\n            case 'g2t1':\n            this.corsiSelezionati[2] = corso;\n            this.corsiSelezionati[3] = {nome: '', sede: '', codice: ''};\n            this.corsiForm.controls['g2t2'].enable();\n            this.corsiForm.controls['g2t2'].reset();\n            break;\n            case 'g2t2':\n            this.corsiSelezionati[3] = corso;\n            break;\n            case 'g3t1':\n            this.corsiSelezionati[4] = corso;\n            this.corsiSelezionati[5] = {nome: '', sede: '', codice: ''};\n            this.corsiForm.controls['g3t2'].enable();\n            this.corsiForm.controls['g3t2'].reset();\n            break;\n            case 'g3t2':\n            this.corsiSelezionati[5] = corso;\n            break;\n            default:\n            break;\n        }\n    } catch (error) {\n        const nome = ($event.target.options[$event.target.options.selectedIndex].text)\n        const turno = $event.path[0].getAttribute('ng-reflect-name');\n        if(nome == \"Assente\"){\n            switch (turno) {\n                case 'g1t1':\n                    this.corsiSelezionati[0] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    this.corsiSelezionati[1] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    try {\n                        this.corsiForm.controls['g1t2'].disable();\n                    } catch (error) {}\n                    break;\n                case 'g1t2':\n                    this.corsiSelezionati[0] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    this.corsiSelezionati[1] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    try {\n                        this.corsiForm.controls['g1t2'].disable();\n                    } catch (error){}\n                    break;\n                case 'g2t1':\n                    this.corsiSelezionati[2] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    this.corsiSelezionati[3] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    try{\n                        this.corsiForm.controls['g2t2'].disable();\n                    } catch(error){}\n                    break;\n                case 'g2t2':\n                    this.corsiSelezionati[2] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    this.corsiSelezionati[3] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    try{\n                        this.corsiForm.controls['g2t2'].disable();\n                    } catch(error){}\n                    break;\n                case 'g3t1':\n                    this.corsiSelezionati[4] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    this.corsiSelezionati[5] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    try{\n                        this.corsiForm.controls['g3t2'].disable();\n                    } catch(error){}\n                    break;\n                case 'g3t2':\n                    this.corsiSelezionati[4] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    this.corsiSelezionati[5] = {nome: 'assente', sede: 'assente', codice: 'assente'};\n                    try{\n                        this.corsiForm.controls['g3t2'].disable();\n                    } catch(error){}\n                    break;\n                default:\n                    break;\n            }\n        }\n\n    }\n\n    console.log(this.corsiSelezionati,this.corsiForm);\n}\n</code></pre>\n\n<p>and every select in the form has more options that get checked by a function <code>canISub()</code></p>\n\n<pre><code>canISub(corsiForm: NgForm , row: any[], cell: Corso[], corso: Corso) {\n\n    if (this.corsiSelezionati[0].codice === corso.codice) {return true; }\n    if (this.corsiSelezionati[1].codice === corso.codice) {return true; }\n    if (this.corsiSelezionati[2].codice === corso.codice) {return true; }\n    if (this.corsiSelezionati[3].codice === corso.codice) {return true; }\n    if (this.corsiSelezionati[4].codice === corso.codice) {return true; }\n    if (this.corsiSelezionati[5].codice === corso.codice) {return true; }\n\n    if(this.table.dataRows.indexOf(row)===1 &amp;&amp; this.sediObbligatorie[row.indexOf(cell)] == \"\") {\n      if(corso.sede !== this.corsiSelezionati[row.indexOf(cell) *2 ].sede){\n        return true;\n      }\n    }\n\n    if(this.sediObbligatorie[row.indexOf(cell)] != \"\" &amp;&amp; corso.sede != this.sediObbligatorie[row.indexOf(cell)]) {\n        return true;\n    }\n  }\n</code></pre>\n\n<p>the select is this in HTML:</p>\n\n<pre><code>&lt;select class=\"form-control border-input\" [name]=\"names[((row.indexOf(cell))*2)+(table.dataRows.indexOf(row))]\" ngModel (change)=\"onChange($event)\" *ngIf=\"this.ragazzo.turni.indexOf(names[((row.indexOf(cell))*2)+(table.dataRows.indexOf(row))])&gt;=0\" required&gt;           \n    &lt;option value=\"assente\" *ngIf=\"table.dataRows.indexOf(row)== 0\" [disabled]=\"absCanI(row,cell)\"&gt;Assente&lt;/option&gt;\n    &lt;option *ngFor=\"let corso of cell\" [value]=\"corso.codice\" [disabled]=\"canISub(corsiForm,row,cell,corso)\"&gt;{{corso.nome}} - {{corso.sede}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>The problem is that the second block of instructions returns always true when in prod mode. In dev mode it works perfectly.</p>\n\n<pre><code>if(this.table.dataRows.indexOf(row)===1 &amp;&amp; this.sediObbligatorie[row.indexOf(cell)] == \"\"){\n    if(corso.sede !== this.corsiSelezionati[row.indexOf(cell) *2 ].sede){\n        return true;\n    }\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["angular", "typescript", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 1663, "user_id": 1958480, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/03cf8097a46ba2b0f9889fb4a6ffe31e?s=128&d=identicon&r=PG&f=1", "display_name": "jcuypers", "link": "https://stackoverflow.com/users/1958480/jcuypers"}, "is_accepted": true, "score": 0, "last_activity_date": 1550692969, "creation_date": 1550692969, "answer_id": 54794388, "question_id": 54793946, "link": "https://stackoverflow.com/questions/54793946/save-mat-expansion-panel-state-after-switching-page/54794388#54794388", "title": "Save mat-expansion-panel state after switching page", "body": "<p>You need to maintain some form of state in between page navigations:  I guess you could work with saving data in a cookie/session, use a service to maintain state data or use some kind of store/redux principle (ngrx, and others)</p>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 11091461, "user_type": "registered", "profile_image": "https://graph.facebook.com/2424036024286982/picture?type=large", "display_name": "Zouhair Ettouhami", "link": "https://stackoverflow.com/users/11091461/zouhair-ettouhami"}, "is_accepted": false, "score": 1, "last_activity_date": 1550744477, "creation_date": 1550744477, "answer_id": 54804677, "question_id": 54793946, "link": "https://stackoverflow.com/questions/54793946/save-mat-expansion-panel-state-after-switching-page/54804677#54804677", "title": "Save mat-expansion-panel state after switching page", "body": "<p>I think a good option would be instoring a Store to manage State, the popular library for Angular is Ngrx Store, you can find the documentation here <a href=\"https://github.com/ngrx/store\" rel=\"nofollow noreferrer\">https://github.com/ngrx/store</a></p>\n"}, {"tags": [], "owner": {"reputation": 970, "user_id": 2501128, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/20a075ebea7d70e7298426c35298ffbc?s=128&d=identicon&r=PG", "display_name": "Darren Street", "link": "https://stackoverflow.com/users/2501128/darren-street"}, "is_accepted": false, "score": 0, "last_activity_date": 1585155773, "creation_date": 1585155773, "answer_id": 60853726, "question_id": 54793946, "link": "https://stackoverflow.com/questions/54793946/save-mat-expansion-panel-state-after-switching-page/60853726#60853726", "title": "Save mat-expansion-panel state after switching page", "body": "<p>It pretty straightforward and uses a profile service and a getter and setter. I am not sure how efficient it is, but it does work.</p>\n\n<p>1) First the Service, Create a service, if you are using the CLI all the better use the defaults. Add a property to the service of type number;</p>\n\n<pre><code>public panelCurrentlyExpanded: number;\n</code></pre>\n\n<p>2) In your component inject your service into the constructor (google it if that means nothing), then create a getter and setter with the same property name (it doesn't need to be the same BTW)</p>\n\n<pre><code>  get panelCurrentlyExpanded(): number {\n    if (this.profileSvc.panelCurrentlyExpanded !== undefined ) {\n      return this.profileSvc.panelCurrentlyExpanded;\n    }\n  }\n  set panelCurrentlyExpanded(value: number) {\n    this.profileSvc.panelCurrentlyExpanded = value;\n  }\n</code></pre>\n\n<p>3) Next create a couple of methods to set and check the \"expanded\" property.</p>\n\n<pre><code>  isExpanded(idx: number) {\n    if (this.panelCurrentlyExpanded !== undefined) {\n      if (idx === this.panelCurrentlyExpanded) {\n        return true;\n      }\n    }\n  }\n\n  setExpanded(idx: number): void {\n    this.panelCurrentlyExpanded = idx;\n  }\n</code></pre>\n\n<p>4) Open your HTML and find your Expansion Panel. My panels are being created dynamically so I have a ngFor statement. This thing here is to expose the index of the panel.</p>\n\n<pre><code>  mat-expansion-panel (opened)=\"setExpanded(i)\"\n  [expanded]=\"isExpanded(i)\" *ngFor=\"let cat of categories let i = index;\" \n</code></pre>\n\n<p>The opened click sends the index to the service for storage. The expanded property checks the value of its index with the stored one and if matches opens it.</p>\n\n<p>I'am sure there is a better method thou. </p>\n\n<p>I hope it helps you out.</p>\n"}], "owner": {"reputation": 3, "user_id": 11092028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07e5ddab5d374a87689815ce7b4e763f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/11092028/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 54794388, "answer_count": 3, "score": -1, "last_activity_date": 1585155773, "creation_date": 1550691088, "question_id": 54793946, "link": "https://stackoverflow.com/questions/54793946/save-mat-expansion-panel-state-after-switching-page", "title": "Save mat-expansion-panel state after switching page", "body": "<p>Example:</p>\n\n<ol>\n<li><p><strong>example-page</strong>: I open various expansion panels on this page.</p></li>\n<li><p>I then switch to a different page.</p></li>\n<li><p>I then switch back to the \"example-page\" and the panels I had\npreviously opened are still open.</p></li>\n</ol>\n\n<p>Can anyone give a general idea of how this can be done?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "edited": false, "score": 0, "creation_date": 1550690864, "post_id": 54793792, "comment_id": 96365732, "body": "What does <code>log.obj</code> contain? Is it another object? You can try to render <code>{JSON.stringify(log.obj)}</code> and see if that gets rid of the error, so you know where to look."}], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 3387233, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6f898e1cecbf869c6578eec201ca6c1c?s=128&d=identicon&r=PG&f=1", "display_name": "kevinob", "link": "https://stackoverflow.com/users/3387233/kevinob"}, "edited": false, "score": 0, "creation_date": 1550733133, "post_id": 54794895, "comment_id": 96379198, "body": "I deleted the obj property of all the ILog objects in the arrays (and I don&#39;t render the property anymore), and I still get the error :/"}, {"owner": {"reputation": 2800, "user_id": 7393155, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1051ac2ca2939fadb8b01fa691194a63?s=128&d=identicon&r=PG&f=1", "display_name": "Subhendu Kundu", "link": "https://stackoverflow.com/users/7393155/subhendu-kundu"}, "reply_to_user": {"reputation": 308, "user_id": 3387233, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6f898e1cecbf869c6578eec201ca6c1c?s=128&d=identicon&r=PG&f=1", "display_name": "kevinob", "link": "https://stackoverflow.com/users/3387233/kevinob"}, "edited": false, "score": 0, "creation_date": 1550736941, "post_id": 54794895, "comment_id": 96381088, "body": "Umm can you add your latest code in jsfiddle or codepen?"}, {"owner": {"reputation": 308, "user_id": 3387233, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6f898e1cecbf869c6578eec201ca6c1c?s=128&d=identicon&r=PG&f=1", "display_name": "kevinob", "link": "https://stackoverflow.com/users/3387233/kevinob"}, "edited": false, "score": 0, "creation_date": 1550744159, "post_id": 54794895, "comment_id": 96385561, "body": "I inspected more deeply my ILog objects and it turns out that the last log had an object in the msg property...due to a misuse of typing in a try...catch on the server side...thank you!"}], "tags": [], "owner": {"reputation": 2800, "user_id": 7393155, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1051ac2ca2939fadb8b01fa691194a63?s=128&d=identicon&r=PG&f=1", "display_name": "Subhendu Kundu", "link": "https://stackoverflow.com/users/7393155/subhendu-kundu"}, "is_accepted": true, "score": 1, "last_activity_date": 1550695246, "creation_date": 1550695246, "answer_id": 54794895, "question_id": 54793792, "link": "https://stackoverflow.com/questions/54793792/how-to-display-a-collection-of-collection-of-components-with-react-dealing-with/54794895#54794895", "title": "How to display a collection of collection of components with React dealing with key properties?", "body": "<p>I see </p>\n\n<pre><code>export interface ILog {\n  id: number;\n  date: Date;\n  msg: string;\n  severity: number;\n  obj?: any;\n}\n</code></pre>\n\n<p>has obj type as any. So if the ILog.obj is an object, it cant be render. So you might need to add a check if its an object render a property of the object other wise render obj.</p>\n"}], "owner": {"reputation": 308, "user_id": 3387233, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6f898e1cecbf869c6578eec201ca6c1c?s=128&d=identicon&r=PG&f=1", "display_name": "kevinob", "link": "https://stackoverflow.com/users/3387233/kevinob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 54794895, "answer_count": 1, "score": 0, "last_activity_date": 1550695246, "creation_date": 1550690439, "question_id": 54793792, "link": "https://stackoverflow.com/questions/54793792/how-to-display-a-collection-of-collection-of-components-with-react-dealing-with", "title": "How to display a collection of collection of components with React dealing with key properties?", "body": "<p>I want to display an array of array of logs:</p>\n\n<pre><code>export interface IResult {\n  succeeded: boolean;\n  logs: IServerLogs;\n}\n\nexport interface IServerLogs {\n    step1: ILog[],\n    step2: ILog[],\n    step3: ILog[]\n}\n\nexport interface ILog {\n  id: number;\n  date: Date;\n  msg: string;\n  severity: number;\n  obj?: any;\n}\n</code></pre>\n\n<p>I have an array of IResult in App.tsx</p>\n\n<pre><code>render() {\n    return (\n    {this.state.results.map((result, index) =&gt; (\n      &lt;Results key={index} results={result} index={index + 1} /&gt;\n    ))}\n   )\n</code></pre>\n\n<p>}</p>\n\n<p>In results.tsx:</p>\n\n<pre><code>render() {\n    const { step1, step2, step3 } = this.props.results.logs;\n    const { index } = this.props;\n    return (\n     &lt;div&gt;\n            &lt;div&gt;\n                #{index} Status: {this.props.results.ret ? \"SUCCEEDED\" : \"FAILED\"}\n                &lt;FontAwesomeIcon icon={faWindowClose} /&gt;\n            &lt;/div&gt;\n            &lt;Accordion&gt;\n                { step1.length &gt; 0 &amp;&amp; &lt;Result logs={step1}  title=\"Step 1\" /&gt; }\n                { step2.length&gt; 0 &amp;&amp; &lt;Result logs={step2} title=\"Step 2\" /&gt; }\n                { step3.length &gt; 0 &amp;&amp; &lt;Result logs={step3}  title=\"Step 3\" /&gt; }\n            &lt;/Accordion&gt;\n        &lt;/div&gt;\n   )\n</code></pre>\n\n<p>}</p>\n\n<p>In result.tsx:</p>\n\n<pre><code>render() {\n    const { logs, title } = this.props;\n    return (\n        &lt;AccordionItem&gt;\n            &lt;AccordionItemTitle&gt;&lt;b&gt;{title}&lt;/b&gt;&lt;/AccordionItemTitle&gt;\n            &lt;AccordionItemBody&gt;\n                &lt;Table striped bordered hover size=\"sm\"&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;Date&lt;/th&gt;\n                        &lt;th&gt;Message&lt;/th&gt;\n                        &lt;th&gt;Obj&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                {\n                    logs.map((log, index) =&gt;\n                    (\n                        &lt;tr key={log.id} style={{ color: log.severity == 0 ? \"green\": \"red\"}}&gt;\n                            &lt;td key={index+1+log.id}&gt;{moment(log.date).format(\"HH:mm:ss\")}&lt;/td&gt;\n                            &lt;td key={index+2+log.id}&gt;{log.msg}&lt;/td&gt;\n                            &lt;td key={index+3+log.id}&gt;{log.obj}&lt;/td&gt;\n                        &lt;/tr&gt;\n                    ))\n                }\n                &lt;/tbody&gt;\n            &lt;/Table&gt;\n            &lt;/AccordionItemBody&gt;\n        &lt;/AccordionItem&gt;\n    );\n}\n</code></pre>\n\n<p>And with all this stuff I get the following error:</p>\n\n<pre><code>Uncaught (in promise) Error: Objects are not valid as a React child (found: object with keys {}). If you meant to render a collection of children, use an array instead.\n    in td (created by Result)\n    in tr (created by Result)\n    in tbody (created by Result)\n    in table (created by Table)\n</code></pre>\n\n<p>I tried setting and removing keys here and there but I always get the same error message, on TRs or TDs...</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Thank you in advance for your help!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 0, "creation_date": 1550688914, "post_id": 54793326, "comment_id": 96364840, "body": "I believe this should work. Are you getting an error? If so please share."}, {"owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "reply_to_user": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 0, "creation_date": 1550689225, "post_id": 54793326, "comment_id": 96364982, "body": "I added a image, I&#39;d like these strings to have the value."}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 0, "creation_date": 1550689822, "post_id": 54793326, "comment_id": 96365287, "body": "I just ran your scripts and nothing fails. I guess your question is still unclear to me."}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 0, "creation_date": 1550689849, "post_id": 54793326, "comment_id": 96365301, "body": "Never mind I understand now. Answer will follow"}], "answers": [{"tags": [], "owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "is_accepted": false, "score": 0, "last_activity_date": 1550690528, "creation_date": 1550690528, "answer_id": 54793816, "question_id": 54793326, "link": "https://stackoverflow.com/questions/54793326/type-a-method-that-returns-a-object-with-properties-from-this/54793816#54793816", "title": "Type a method that returns a object with properties from this?", "body": "<p>Typescript is a compile-time language. It's therefore generally not possible to do run-time typing, and the state of <code>this</code> is fundamentally a runtime state.</p>\n\n<p>There is certainly a possibility for a single abstract type to return diffent things depending on implementation, but this has to be done at compile time.</p>\n\n<p>So if you're not familiar with this, the general tool for this is Generics.</p>\n\n<p>Here's an example of this, that doesn't <em>exactly</em> do what you want, but gives you something that somewhat close to this.</p>\n\n<pre><code>type MoveAbstract = {\n  from: {\n     [s:string]: {\n       to: {\n         [s: string]: () =&gt; string\n       }\n     }\n  }\n}\n\nabstract class Example&lt;T extends MoveAbstract&gt; {\n  abstract from: string;\n  abstract to: string;\n  make (): string {\n    return 'hi';\n  }\n}\n\ntype MakeMove = {\n  from: {\n     alpha: {\n       to: {\n         beta: () =&gt; string\n       }\n     }\n  }\n}\n\nclass Move extends Example&lt;MakeMove&gt; {\n  from = 'alpha';\n  to = 'beta';\n  methods (): MakeMove {\n    return ({\n      from: {\n        alpha: {\n          to: {\n            beta: this.make,\n          },\n        },\n      },\n    });\n  }\n\n}\n\nconst x = (new Move()).methods().from;\n</code></pre>\n\n<p>I realize this is not <em>exactly</em> what you're looking for, and probably has more repetition than you'd like, but from the perspective of something that is a consumer of the <code>Example</code> abstract class, you can mostly make this work.</p>\n\n<p>Maybe it's possible to optimize further, but I'm not sure!</p>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1550695881, "last_edit_date": 1550695881, "creation_date": 1550695030, "answer_id": 54794838, "question_id": 54793326, "link": "https://stackoverflow.com/questions/54793326/type-a-method-that-returns-a-object-with-properties-from-this/54794838#54794838", "title": "Type a method that returns a object with properties from this?", "body": "<p>You can do this using polymorphic <code>this</code> in the return type annotation of the function. You will need to use a type assertion to get the implementation to work but the derived classes will be typed as expected. </p>\n\n<p>Also the fields in the derived classes will either need to be typed explicitly as the string literal types or declared as readonly to make the compiler not widen the type to <code>string</code>:</p>\n\n<pre><code>type MethodResult&lt;TFrom extends string, TTo extends string&gt; = {\n    from: Record&lt;TFrom, {\n        to: Record&lt;TTo, string&gt;\n    }&gt;\n}\nabstract class Example{\n  abstract from: string;\n  abstract to: string;\n  make (): string {\n    return 'hi';\n  }\n  methods () : MethodResult&lt;this['from'],this['to']&gt; {\n    return ({\n      from: {\n        [this.from]: {\n          to: {\n            [this.to]: this.make,\n          },\n        },\n      },\n    }) as any;\n  }\n}\nclass Move extends Example {\n  readonly from = 'alpha';\n  readonly to = 'beta';\n}\n\nconst x = (new Move()).methods().from.alpha.to.beta;\n</code></pre>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 54794838, "answer_count": 2, "score": 0, "last_activity_date": 1550695881, "creation_date": 1550688672, "last_edit_date": 1550689206, "question_id": 54793326, "link": "https://stackoverflow.com/questions/54793326/type-a-method-that-returns-a-object-with-properties-from-this", "title": "Type a method that returns a object with properties from this?", "body": "<p>How would I type this method where this.make is a function</p>\n\n<pre><code>abstract class Example{\n  abstract from: string;\n  abstract to: string;\n  make (): string {\n    return 'hi';\n  }\n  methods () {\n    return ({\n      from: {\n        [this.from]: {\n          to: {\n            [this.to]: this.make,\n          },\n        },\n      },\n    });\n  }\n}\n</code></pre>\n\n<pre><code>class Move extends Example {\n  from = 'alpha';\n  to = 'beta';\n}\n\nconst x = (new Move()).methods().from;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ArCuP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ArCuP.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable", "angular7"], "comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1550691537, "post_id": 54793058, "comment_id": 96366051, "body": "In your table-component, put the subscription under a ngOnInit, it&#39;s the way to sure that the service is ready when you subscribe"}, {"owner": {"reputation": 145, "user_id": 4847790, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6c940b8e35cc4fa47cd251d415839f37?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4847790/henry"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1550692243, "post_id": 54793058, "comment_id": 96366448, "body": "@Eliseo : I have edited that you suggested but still it is not working. I mean after select dropdown change value is not coming to the table component."}, {"owner": {"reputation": 939, "user_id": 6449592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb076a7006291c56553180c24da280f3?s=128&d=identicon&r=PG&f=1", "display_name": "sagat", "link": "https://stackoverflow.com/users/6449592/sagat"}, "edited": false, "score": 0, "creation_date": 1550696093, "post_id": 54793058, "comment_id": 96368184, "body": "Mate did u check the imports? I thnik Subject should be imported like this --&gt; import { Subject } from &#39;rxjs/Subject&#39;;"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 4449629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DCvBkuteIKI/AAAAAAAAAAI/AAAAAAAAAF0/8TqS8zMsbtw/photo.jpg?sz=128", "display_name": "Ionut Tepus", "link": "https://stackoverflow.com/users/4449629/ionut-tepus"}, "is_accepted": true, "score": 1, "last_activity_date": 1550692607, "creation_date": 1550692607, "answer_id": 54794312, "question_id": 54793058, "link": "https://stackoverflow.com/questions/54793058/interaction-between-2-components-angular-6-7-using-service-not-working/54794312#54794312", "title": "Interaction between 2 components angular 6/7 using service not working", "body": "<p>You have to use EventEmitter in the component where you have the dropdown: <a href=\"https://angular.io/api/core/EventEmitter\" rel=\"nofollow noreferrer\">https://angular.io/api/core/EventEmitter</a></p>\n\n<p>Then on the other component you have to catch the $event. Here's a full example: <a href=\"https://www.infragistics.com/community/blogs/b/infragistics/posts/understanding-output-and-eventemitter-in-angular\" rel=\"nofollow noreferrer\">https://www.infragistics.com/community/blogs/b/infragistics/posts/understanding-output-and-eventemitter-in-angular</a> </p>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 4847790, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6c940b8e35cc4fa47cd251d415839f37?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4847790/henry"}, "is_accepted": false, "score": 0, "last_activity_date": 1550701078, "creation_date": 1550701078, "answer_id": 54796099, "question_id": 54793058, "link": "https://stackoverflow.com/questions/54793058/interaction-between-2-components-angular-6-7-using-service-not-working/54796099#54796099", "title": "Interaction between 2 components angular 6/7 using service not working", "body": "<p>Thank @Ionut Tepus. It helps. I was missing this single line function to catch the selected dropdown value in playertable component.</p>\n\n<pre><code>this.data.currentMessage.subscribe(message =&gt; {\n  this.message = message;\n  this.filterBasedonSelection();\n  console.log('message', message);\n});\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 4847790, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6c940b8e35cc4fa47cd251d415839f37?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4847790/henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 54794312, "answer_count": 2, "score": 3, "last_activity_date": 1550701078, "creation_date": 1550687539, "last_edit_date": 1550692185, "question_id": 54793058, "link": "https://stackoverflow.com/questions/54793058/interaction-between-2-components-angular-6-7-using-service-not-working", "title": "Interaction between 2 components angular 6/7 using service not working", "body": "<p>HI I am new to angular and started learning. \nQ: I have 2 components and one is having select dropdown from angular material and another component which is having table from angular material.so when I do the selection from dropdown I want to see that selected value in the table component. here is my code. Somehow when I do the selection at that time service is invoking the method and listening but after that I am expecting another method to execute that subscribes to listen to the change. (Apology if I have not use the correct terminology)</p>\n\n<p>Following is the structure of the components.</p>\n\n<pre><code>navbarparent.component.html (These are 2 main components)\n&lt;div&gt;\n   &lt;app-mr-navbar&gt; &lt;!-- navbar.component.html --&gt; &lt;/app-mr-navbar&gt;\n   &lt;app-player-overview&gt; &lt;!-- Tablecomponent.html --&gt; &lt;/app-player-overview&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Selection componenet is a child component of  component.  is having dropdown.</p>\n\n<pre><code>navbar.component.html\n\n&lt;div class=\"nav-header \"&gt;\n&lt;mat-grid-list cols=\"7\"&gt;\n&lt;div&gt;\n  &lt;mat-grid-tile&gt;\n    &lt;app-eyefilter-navbar&gt; &lt;!--  selectbox.component.html --&gt; &lt;/app-eyefilter-navbar&gt;\n  &lt;/mat-grid-tile&gt;\n&lt;/div&gt;\n&lt;/mat-grid-list&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is selectbox.component.html</p>\n\n<pre><code>&lt;div class=\"eyefilter-dd inline-style eachSelect\"&gt;\n&lt;mat-form-field&gt;\n&lt;mat-select (selectionChange)=\"selectionChange($event.value)\" placeholder=\"EyeFilter\" [formControl]=\"eyefilters\" multiple id=\"eyeFilter\"&gt;\n  &lt;mat-option  *ngFor=\"let filter of filterList\" [value]=\"filter\" class=\"custom-font-size\"&gt;{{filter}}&lt;/mat-option&gt;\n&lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is my common service file.</p>\n\n<pre><code>commonservice.ts\n\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport { Observable} from 'rxjs/index';\nimport { BehaviorSubject, Subject} from 'rxjs/index';\n\n\n@Injectable()\nexport class PlayerSkillsService {\n private subject = new Subject&lt;any&gt;();\n onChangeSelect(val: string) {\n this.subject.next(val);\n }\n\n getSelectedDropdown(): Observable&lt;any&gt; {\n  return this.subject.asObservable();\n }\n}\n</code></pre>\n\n<p>This is selectbox component ts file.</p>\n\n<pre><code>selectbox.component.ts\n\nimport {PlayersService} from '../../services/playerskills.service';\n@Component({\n selector: 'app-eyefilter-navbar',\n templateUrl: './eyefilter.component.html',\n styleUrls: ['eyefilter.component.scss'],\n encapsulation: ViewEncapsulation.None\n})\n\n\nexport class EyefilterComponent {\neyefilters = new FormControl();\nfilterList: string[] = ['Height', 'age', 'Show Power' , 'Finishing', 'Agility'];\n\nconstructor(private playerservice: PlayerSkillsService) {}\nselectionChange(selectedVal): void { // This is executing\nthis.playerservice.onChangeSelect(selectedVal[0]);\n}\n}\n</code></pre>\n\n<p>This is table component ts file.</p>\n\n<pre><code>import {Component, OnInit, ViewChild, ViewEncapsulation, Input, OnChanges, SimpleChanges} from '@angular/core';\nimport {Subscription} from 'rxjs/index';\nimport {PlayerSkillsService} from '../../services/playerskills.service';\n\nexport class PlayersDataComponent implements OnInit {\n  selectedDropdownVal: any;\n  subcription: Subscription;\n  constructor(private playerservice: PlayerSkillsService) {\n   this.subcription = this.playerservice.getSelectedDropdown().subscribe(selectedDropdownVal =&gt; this.selectedDropdownVal = selectedDropdownVal);\n   // expecting selectedDropdownVal value to be set when you change the selection from selectbox. \n   // THIS IS NOT WORKING.\n  }\n  ngOnInit() {\n    this.subcription = this.playerservice.getSelectedDropdown().subscribe(selectedDropdownVal =&gt; this.selectedDropdownVal = selectedDropdownVal);\n  }\n}\n</code></pre>\n\n<p>I am not sure what I am missing here. Can anybody help? Let me know if more information needed. Thanks</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1790, "user_id": 8763164, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q92f79__cAc/AAAAAAAAAAI/AAAAAAAAAEE/l3DHB-oeUm4/photo.jpg?sz=128", "display_name": "dileepkumar jami", "link": "https://stackoverflow.com/users/8763164/dileepkumar-jami"}, "edited": false, "score": 0, "creation_date": 1550687359, "post_id": 54792998, "comment_id": 96364070, "body": "When you call the function, you are sending two args but the declaration has only one. Are you aware of this?"}, {"owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 0, "creation_date": 1550687402, "post_id": 54792998, "comment_id": 96364096, "body": "When using the angular way it is working because of the scope. When done using <code>jquery</code>, the context of <code>this</code> changes and so it doesn&#39;t work."}, {"owner": {"reputation": 181, "user_id": 3515184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b2d83f87533f260b4d2a0927581100?s=128&d=identicon&r=PG&f=1", "display_name": "wavrik", "link": "https://stackoverflow.com/users/3515184/wavrik"}, "edited": false, "score": 0, "creation_date": 1550689367, "post_id": 54792998, "comment_id": 96365061, "body": "I know Sachin about this, because of that I use this function :  const changeTempTable = (tablenamedata, tabletempdata) =&gt; {       // this.tableName = tablenamedata;       // this.tempTable = tabletempdata;       this.changeTbTemp(tablenamedata, tabletempdata);     };"}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 3515184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b2d83f87533f260b4d2a0927581100?s=128&d=identicon&r=PG&f=1", "display_name": "wavrik", "link": "https://stackoverflow.com/users/3515184/wavrik"}, "edited": false, "score": 0, "creation_date": 1550689264, "post_id": 54793208, "comment_id": 96364997, "body": "I try your approach but is not working, I dunno why! The variable is changing the problem is that *ngIf is not working"}, {"owner": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "reply_to_user": {"reputation": 181, "user_id": 3515184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b2d83f87533f260b4d2a0927581100?s=128&d=identicon&r=PG&f=1", "display_name": "wavrik", "link": "https://stackoverflow.com/users/3515184/wavrik"}, "edited": false, "score": 0, "creation_date": 1550689754, "post_id": 54793208, "comment_id": 96365256, "body": "You should also remove this in your *ngIf. The correct way is *ngIf=&quot;tableName === &#39;iniTb&#39;&quot;"}, {"owner": {"reputation": 181, "user_id": 3515184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b2d83f87533f260b4d2a0927581100?s=128&d=identicon&r=PG&f=1", "display_name": "wavrik", "link": "https://stackoverflow.com/users/3515184/wavrik"}, "edited": false, "score": 0, "creation_date": 1550690135, "post_id": 54793208, "comment_id": 96365421, "body": "Is not working too, if I remove the this, I think Angular does not work if is manipulation from DOM, I think *ngIf only work if an Angular event or function work in an Angular way, i will edit my question and put another picture see that"}], "tags": [], "owner": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "is_accepted": false, "score": 0, "last_activity_date": 1550689742, "last_edit_date": 1550689742, "creation_date": 1550688156, "answer_id": 54793208, "question_id": 54792998, "link": "https://stackoverflow.com/questions/54792998/ngif-is-not-working-in-a-javascript-approach-inside-a-angular-component/54793208#54793208", "title": "ngIf is not working in a JavaScript approach inside a Angular component", "body": "<p>You should use arrow function <code>(e) =&gt; {}</code> in your jQuery callback instead of function. So the <code>this</code> context wont get changed. Change detection will happen in angular. </p>\n\n<pre><code>    $('a[data-toggle=\"tab\"]').on('shown.bs.tab', (e) =&gt; { \nif (e.target.id === 'iniTb') {\n tabletemp = iniTb;\n } else if (e.target.id === 'execTb') { \ntabletemp = execTb; \n} else if (e.target.id === 'finishTb') { \ntabletemp = finishTb; \n} else if (e.target.id === 'devoTb') { \ntabletemp = devTb; \n} \n\nthis.changeTbTemp(e.target.id, tabletemp); }); \n</code></pre>\n\n<p>You should also remove <code>this</code> in your *ngIf. The correct way is <code>*ngIf=\"tableName === 'iniTb'\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 181, "user_id": 3515184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b2d83f87533f260b4d2a0927581100?s=128&d=identicon&r=PG&f=1", "display_name": "wavrik", "link": "https://stackoverflow.com/users/3515184/wavrik"}, "is_accepted": true, "score": 1, "last_activity_date": 1550694341, "creation_date": 1550694341, "answer_id": 54794701, "question_id": 54792998, "link": "https://stackoverflow.com/questions/54792998/ngif-is-not-working-in-a-javascript-approach-inside-a-angular-component/54794701#54794701", "title": "ngIf is not working in a JavaScript approach inside a Angular component", "body": "<p>I managed to get this working, i don't know why but this function from bootstrap </p>\n\n<p><strong>$('a[data-toggle=\"tab\"]').on('shown.bs.pill', (e) => {}</strong></p>\n\n<pre><code>$('a[data-toggle=\"tab\"]').on('shown.bs.pill', (e) =&gt; {\n      if (e.target.id === 'iniTb') {\n        tabletemp = iniTb;\n      } else if (e.target.id === 'execTb') {\n        tabletemp = execTb;\n      } else if (e.target.id === 'finishTb') {\n        tabletemp = finishTb;\n      } else if (e.target.id === 'devoTb') {\n        tabletemp = devTb;\n      }\n      this.tableName = 'execTb';\n  });\n</code></pre>\n\n<p>is not working when you want to change a global variable from a component file, I just change the function to this a simple click event from jquery</p>\n\n<pre><code>$('.nav-link').click((e) =&gt; {\n      if (e.target.id === 'iniTb') {\n        tabletemp = iniTb;\n      } else if (e.target.id === 'execTb') {\n        tabletemp = execTb;\n      } else if (e.target.id === 'finishTb') {\n        tabletemp = finishTb;\n      } else if (e.target.id === 'devoTb') {\n        tabletemp = devTb;\n      }\n      this.tableName = e.target.id;\n    });\n</code></pre>\n\n<p>now is working fine, I post this if anyone have the same problem.</p>\n"}], "owner": {"reputation": 181, "user_id": 3515184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b2d83f87533f260b4d2a0927581100?s=128&d=identicon&r=PG&f=1", "display_name": "wavrik", "link": "https://stackoverflow.com/users/3515184/wavrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 54794701, "answer_count": 2, "score": 0, "last_activity_date": 1550694341, "creation_date": 1550687198, "last_edit_date": 1550690303, "question_id": 54792998, "link": "https://stackoverflow.com/questions/54792998/ngif-is-not-working-in-a-javascript-approach-inside-a-angular-component", "title": "ngIf is not working in a JavaScript approach inside a Angular component", "body": "<p>I have this HTML inside of <strong>my osmontagem.component.html</strong>, this is the code :</p>\n\n<pre><code>&lt;div class=\"card-filter\"&gt;\n\n              &lt;h5 class=\"card-title-content\"&gt;Op\u00e7\u00f5es&lt;/h5&gt;\n              &lt;div class=\"row m--margin-bottom-20 card-content-custom\"&gt;                  \n                  &lt;div class=\"btn-group mb-2 mr-2\"&gt;\n                      &lt;button class=\"btn btn-outline-primary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;Op\u00e7\u00f5es&lt;/button&gt;\n                      &lt;div class=\"dropdown-menu\"&gt;\n                          &lt;a class=\"dropdown-item pointer\" (click)=\"storeOsPimData()\"&gt;Cadastrar &lt;i class=\"feather icon-plus-circle\"&gt;&lt;/i&gt;&lt;/a&gt;\n                          &lt;a class=\"dropdown-item pointer\" (click)=\"showViewOsData('S')\"&gt;Editar&lt;/a&gt;\n                          &lt;a class=\"dropdown-item pointer\" (click)=\"deleteOs()\"&gt;Deletar&lt;/a&gt;\n                      &lt;/div&gt;\n                  &lt;/div&gt; \n                  &lt;div class=\"btn-group mb-2 mr-2\"&gt;\n                      &lt;button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;A\u00e7\u00f5es&lt;/button&gt;\n                      &lt;div class=\"dropdown-menu\"&gt;\n                          &lt;a class=\"dropdown-item pointer\" (click)=\"showViewOsData('N')\"&gt;Visualizar &lt;i class=\"feather icon-plus-circle\"&gt;&lt;/i&gt;&lt;/a&gt;\n                          &lt;ng-container *ngIf=\"this.tableName === 'iniTb'\"&gt;\n                            &lt;a class=\"dropdown-item pointer\" (click)=\"executeOs()\"&gt;Executar&lt;/a&gt; \n                          &lt;/ng-container&gt;       \n                          &lt;ng-container *ngIf=\"this.tableName === 'execTb'\"&gt;\n                            &lt;a class=\"dropdown-item pointer\"&gt;Finalizar&lt;/a&gt;\n                            &lt;a class=\"dropdown-item pointer\"&gt;Devolver&lt;/a&gt; \n                          &lt;/ng-container&gt;                      \n                      &lt;/div&gt;\n                  &lt;/div&gt;          \n              &lt;/div&gt;     \n          &lt;/div&gt;\n</code></pre>\n\n<p>Look my *ngIf it is working fine when I change the variable in an Angular way with this function </p>\n\n<pre><code>  public changeTbTemp(event) {\n    const elementId: string = (event.target as Element).id;\n    this.tableName = elementId;\n  }\n</code></pre>\n\n<p>But I don't want that, I use a dataTable a jquery plugin inside my component and in the last line from the javascript function I use this :</p>\n\n<pre><code>$('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\n      if (e.target.id === 'iniTb') {\n        tabletemp = iniTb;\n      } else if (e.target.id === 'execTb') {\n        tabletemp = execTb;\n      } else if (e.target.id === 'finishTb') {\n        tabletemp = finishTb;\n      } else if (e.target.id === 'devoTb') {\n        tabletemp = devTb;\n      }\n      changeTempTable(e.target.id, tabletemp);\n    });\n\n    const changeTempTable = (tablenamedata, tabletempdata) =&gt; {\n      // this.tableName = tablenamedata;\n      // this.tempTable = tabletempdata;\n      this.changeTbTemp(tablenamedata, tabletempdata);\n    };\n</code></pre>\n\n<p>If u see the function u will see that I get the ID from an element and change the options from a dropdown menu, I can't reference a global variable from typescript if i use function() from javascript so I use this:</p>\n\n<pre><code>const changeTempTable = (tablenamedata, tabletempdata) =&gt; {\n      // this.tableName = tablenamedata;\n      // this.tempTable = tabletempdata;\n      this.changeTbTemp(tablenamedata, tabletempdata);\n    };\n</code></pre>\n\n<p>Now I can have the variable or function from typescript file that is osmontagem.component.ts and is working fine, the variable is changing if you guys see in this picture from console :</p>\n\n<p>Debug image</p>\n\n<p><a href=\"https://i.stack.imgur.com/2dako.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2dako.png\" alt=\"Debug image\"></a></p>\n\n<p>But when I change this way is not working but if I use the Angular way is working, Why? I need to use javascript way because I have some variables inside that I want my typescript file see it.</p>\n\n<p>Here is my second picture from my approach</p>\n\n<p><a href=\"https://i.stack.imgur.com/iHuoD.png\" rel=\"nofollow noreferrer\">Second approach</a></p>\n"}, {"tags": ["angularjs", "typescript", "ag-grid"], "answers": [{"comments": [{"owner": {"reputation": 471, "user_id": 3017741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9c6ce1cf95b2fc55fc9a4d56b34e5737?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/3017741/ben"}, "edited": false, "score": 0, "creation_date": 1550744162, "post_id": 54799992, "comment_id": 96385567, "body": "It&#39;s not working I am using the version free of agGrid, playing with AngularJS 1.6 and typescript"}], "tags": [], "owner": {"reputation": 261, "user_id": 8632462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8aNNL.jpg?s=128&g=1", "display_name": "Idris", "link": "https://stackoverflow.com/users/8632462/idris"}, "is_accepted": false, "score": 1, "last_activity_date": 1550727729, "creation_date": 1550727729, "answer_id": 54799992, "question_id": 54792752, "link": "https://stackoverflow.com/questions/54792752/how-to-setup-ag-grid-on-angularjs-1-6/54799992#54799992", "title": "How to setup Ag-grid on AngularJS 1.6", "body": "<p>I am using basic theme and it works for me. Below is the code for the same. </p>\n\n<pre><code>    //**Layout Page**\n    &lt;link rel=\"stylesheet\" href=\"~/Content/ag-grid.css\"&gt;\n\n    //If you're using the bundled version, you can reference the ag-Grid-Enterprise library via CDN\n    &lt;script src=\"_url_to_your_chosen_cdn_/ag-grid-enterprise.js\"&gt;&lt;/script&gt;\n\n    //Load from Local \n    //&lt;script src=\"node_modules/ag-grid/dist/ag-grid-enterprise.js\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n            // Update angular grid license key. If you are using Enterprise Version\n            agGrid.LicenseManager.setLicenseKey(\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\");\n            // get ag-Grid to create an Angular module and register the ag-Grid directive\n            agGrid.initialiseAgGridWithAngular1(angular);\n\n            var app = angular.module(\"AppName\", [\"agGrid\"]);            \n    &lt;/script&gt;\n\n    //**View**\n    &lt;div ag-grid=\"agGridOptions\" class=\"ag-theme-fresh\" style=\"height: 400px;\"&gt;&lt;/div&gt;\n\n    //**ControllerJS**\n    $scope.agGridOptions = {\n        angularCompileRows: true,\n        columnDefs: columnDefs,\n        rowData: rowData,\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34717, "user_id": 192910, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/de26f9c446ae47545220ff9eff3e3ef7?s=128&d=identicon&r=PG", "display_name": "Mawg says reinstate Monica", "link": "https://stackoverflow.com/users/192910/mawg-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1577375012, "post_id": 54808680, "comment_id": 105155345, "body": "&quot;<code>In your app.ts</code>&quot; - TypeScript?  Then not really AngulasJS, as per the title?"}, {"owner": {"reputation": 471, "user_id": 3017741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9c6ce1cf95b2fc55fc9a4d56b34e5737?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/3017741/ben"}, "reply_to_user": {"reputation": 34717, "user_id": 192910, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/de26f9c446ae47545220ff9eff3e3ef7?s=128&d=identicon&r=PG", "display_name": "Mawg says reinstate Monica", "link": "https://stackoverflow.com/users/192910/mawg-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1577980347, "post_id": 54808680, "comment_id": 105300301, "body": "you can use typescript with AngularJS"}], "tags": [], "owner": {"reputation": 471, "user_id": 3017741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9c6ce1cf95b2fc55fc9a4d56b34e5737?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/3017741/ben"}, "is_accepted": true, "score": 1, "last_activity_date": 1550757166, "creation_date": 1550757166, "answer_id": 54808680, "question_id": 54792752, "link": "https://stackoverflow.com/questions/54792752/how-to-setup-ag-grid-on-angularjs-1-6/54808680#54808680", "title": "How to setup Ag-grid on AngularJS 1.6", "body": "<p>I finally find out looking thought parts of the official doc.</p>\n\n<p>So there is the steps to use it easily: </p>\n\n<ul>\n<li>Install the dependency <code>npm install ag-grid-community</code></li>\n<li>In your app.ts: \n\n<ul>\n<li>add your reference <code>var AgGrid = require('ag-grid-community');</code></li>\n<li>Initialise AgGrid <code>AgGrid.initialiseAgGridWithAngular1(angular);</code></li>\n<li>Add it in the main module</li>\n</ul></li>\n</ul>\n\n<p>In your class or in my case my component</p>\n\n<ul>\n<li>Reference <code>import { Grid, GridOptions} from \"ag-grid-community\";</code></li>\n<li>And your styles (You can add it to vendor.ts too) </li>\n</ul>\n\n<pre><code>import \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\n</code></pre>\n\n<p>Then Use your Grid!</p>\n\n<ul>\n<li>Add in your constructor</li>\n</ul>\n\n<pre><code>this.gridOptions = {\n  columnDefs: this.createColumnDefs(),\n  rowData: this.createRowData()\n};\nlet eGridDiv:HTMLElement = &lt;HTMLElement&gt;document.querySelector('#myGrid');\nnew Grid(eGridDiv, this.gridOptions);\n</code></pre>\n\n<ul>\n<li>Define your content</li>\n</ul>\n\n<pre><code>private createColumnDefs() {\n    return [\n        {headerName: \"Make\", field: \"make\"},\n        {headerName: \"Model\", field: \"model\"},\n        {headerName: \"Price\", field: \"price\"}\n    ];\n}\n\nprivate createRowData() {\n    return [\n        {make: \"Toyota\", model: \"Celica\", price: 35000},\n        {make: \"Ford\", model: \"Mondeo\", price: 32000},\n        {make: \"Porsche\", model: \"Boxter\", price: 72000}\n    ];\n}\n</code></pre>\n"}], "owner": {"reputation": 471, "user_id": 3017741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9c6ce1cf95b2fc55fc9a4d56b34e5737?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/3017741/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1214, "favorite_count": 0, "accepted_answer_id": 54808680, "answer_count": 2, "score": 1, "last_activity_date": 1550757166, "creation_date": 1550686189, "last_edit_date": 1550753872, "question_id": 54792752, "link": "https://stackoverflow.com/questions/54792752/how-to-setup-ag-grid-on-angularjs-1-6", "title": "How to setup Ag-grid on AngularJS 1.6", "body": "<p>I followed the tutorial to easily set up agGrid fot AngularJS, the thing is I also use typescript instead javascript.\nI actually did :</p>\n\n<pre><code>npm install ag-grid\nvar AgGrid = require('ag-grid');\nAgGrid.initialiseAgGridWithAngular1(angular);\nvar module = angular.module(\"example\", [\"agGrid\"]);\n</code></pre>\n\n<p>Then use it with in my html and it's showing up:</p>\n\n<pre><code>&lt;div ag-grid=\"$ctrl.gridOptions\" class=\"ag-theme-balham\" style=\"height: 100%;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>But I don't get any css. \n<a href=\"https://i.stack.imgur.com/ZYzoe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZYzoe.png\" alt=\"enter image description here\"></a></p>\n\n<p>So I tried to add some require:</p>\n\n<pre><code>require(\"ag-grid/dist/styles/ag-grid.css\")\nrequire(\"ag-grid/dist/styles/ag-theme-balham.css\")    \nvar AgGrid = require('ag-grid');\n</code></pre>\n\n<p>But still not working any ideas? Thanks</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 2, "last_activity_date": 1550683879, "last_edit_date": 1550683879, "creation_date": 1550683468, "answer_id": 54792089, "question_id": 54791935, "link": "https://stackoverflow.com/questions/54791935/typescript-get-the-correct-type-based-on-an-action-type/54792089#54792089", "title": "Typescript get the correct type based on an action type", "body": "<p>Even if <code>action === Actions.A</code>, that's not enough to ensure that the type <code>params</code> is actually <code>ActionOne</code>. The compiler can't be sure that there's not some other action defined like this elsewhere in your application:</p>\n\n<pre><code>interface ActionThree extends Action {\n  action: Actions.A,\n  payload: {\n    foo: string;\n  }\n}\n</code></pre>\n\n<p>You need to convice the compiler that your switch statement is exhaustive. Try writing your final function signature like this:</p>\n\n<pre><code>function startAction(params: ActionOne | ActionTwo) {\n  ...\n}\n</code></pre>\n"}], "owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 54792089, "answer_count": 1, "score": 1, "last_activity_date": 1550683879, "creation_date": 1550682885, "question_id": 54791935, "link": "https://stackoverflow.com/questions/54791935/typescript-get-the-correct-type-based-on-an-action-type", "title": "Typescript get the correct type based on an action type", "body": "<p>I have the following function that takes a <code>params</code> object with unique action:</p>\n\n<pre><code>enum Actions {\n  A,\n  B\n}\n\ninterface Action {\n  name: string;\n  action: Actions;\n}\n\ninterface ActionOne extends Action {\n  action: Actions.A,\n  payload: {\n    a: number;\n  }\n}\n\ninterface ActionTwo extends Action {\n  action: Actions.B,\n  payload: {\n    a: number;\n    b: string;\n  }\n}\n\n\nfunction startAction(params: ActionOne)\nfunction startAction(params: ActionTwo);\nfunction startAction(params: Action) {\n  switch (params.action) {\n    case Actions.A:\n      params. // I want autocomplete based on the type\n      return;\n    case Actions.B:\n      params. // I want autocomplete based on the type\n      return;\n  }\n}\n\nstartAction({ name: '', action: Actions.A, payload: { a: 1 } });\nstartAction({ name: '', action: Actions.B, payload: {a: 1, b: 'ds'} })\n</code></pre>\n\n<p>When I call the <code>startAction</code> method, I'm getting the correct autocomplete based on the passed <code>action</code>. But, inside the <code>switch</code> case, I don't have the power of the autocomplete. How can I achieve it?</p>\n"}, {"tags": ["node.js", "mongodb", "typescript", "nestjs", "typeorm"], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 5, "last_activity_date": 1550682776, "creation_date": 1550682776, "answer_id": 54791906, "question_id": 54791643, "link": "https://stackoverflow.com/questions/54791643/how-do-i-use-the-or-operator-in-typeorm-with-mongodb/54791906#54791906", "title": "How do I use the \u201cOR\u201d operator in typeorm with mongodb", "body": "<p>I think your example only works for SQL databases. For mongo, you need to add the operators <code>$or</code> or <code>$and</code> in your where conditions:</p>\n\n<pre><code>userRepository.find({\n  where: {\n    $or: [\n      {\n        email: 'giberish@gmail.com',\n      },\n      {\n        username: 'thisismyusername',\n      },\n    ]\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 10067022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ad5c05af9234aca0061ca11108c39c?s=128&d=identicon&r=PG&f=1", "display_name": "Tea Zulo", "link": "https://stackoverflow.com/users/10067022/tea-zulo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1846, "favorite_count": 1, "accepted_answer_id": 54791906, "answer_count": 1, "score": 1, "last_activity_date": 1550682808, "creation_date": 1550681854, "last_edit_date": 1550682808, "question_id": 54791643, "link": "https://stackoverflow.com/questions/54791643/how-do-i-use-the-or-operator-in-typeorm-with-mongodb", "title": "How do I use the \u201cOR\u201d operator in typeorm with mongodb", "body": "<p>I have tried using</p>\n\n<pre><code>userRepository.find({\n  where: [\n    {\n      email: 'giberish@gmail.com',\n    },\n    {\n      username: 'thisismyusername',\n    },\n  ]\n});\n</code></pre>\n\n<p>like it is explained in the typeorm documentation but I get this error:</p>\n\n<pre><code>  errmsg:\n   'Error getting filter : Error getting filter BSON field from doc = [{find user} {filter [[{email giberish@gmail.com}] [{username thisismyusername}]]} {returnKey false} {showRecordId false} {$clusterTime [{clusterTime 6660127540193001473} {signature [{hash [184 253 193 112 111 39 205 239 38 92 178 205 149 85 131 136 252 114 180 30]} {keyId 6637077103550398465}]}]}] : not bson []interface {} [[{email craftball@gmail.com}] [{username thisismyusername}]]\\n\\tat erh/mongonet/bsonutil.go:122\\n\\tat 10gen/atlasproxy/bson_util.go:32\\n\\tat 10gen/atlasproxy/commands_security.go:521\\n\\tat 10gen/atlasproxy/commands.go:653\\n\\tat 10gen/atlasproxy/commands.go:563\\n\\tat 10gen/atlasproxy/session_proxy.go:256\\n\\tat 10gen/atlasproxy/session_proxy.go:702\\n\\tat 10gen/atlasproxy/session_proxy.go:526\\n\\tat erh/mongonet/proxy.go:209\\n\\tat erh/mongonet/proxy.go:104\\n\\tat erh/mongonet/session.go:82\\n\\tat src/runtime/asm_amd64.s:2361',\ncode: 8000,\ncodeName: 'AtlasError',\nname: 'MongoError'\n</code></pre>\n"}, {"tags": ["typescript", "promise", "mocha.js", "chai", "chai-as-promised"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1550686664, "post_id": 54791584, "comment_id": 96363688, "body": "What promise library are you using? In case of Bluebird, this is <a href=\"http://bluebirdjs.com/docs/warning-explanations.html#warning-a-promise-was-rejected-with-a-non-error\" rel=\"nofollow noreferrer\">a normal warning</a> - you <a href=\"https://stackoverflow.com/q/26020578/1048572\">should reject with <code>Error</code>s not with strings</a>."}], "answers": [{"tags": [], "owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "is_accepted": true, "score": 0, "last_activity_date": 1550681686, "creation_date": 1550681686, "answer_id": 54791585, "question_id": 54791584, "link": "https://stackoverflow.com/questions/54791584/why-is-my-expected-rejection-not-a-success-case-in-mocha-using-chai-as-promise/54791585#54791585", "title": "Why is my expected rejection not a success case in mocha using chai-as-promise?", "body": "<p>You want to test for a <em>promise</em> rejection, not an <em>error</em>. Hence use <code>rejectedWith</code>:</p>\n\n<pre><code>return expect(rejectedPromise).to.eventually.be.rejectedWith(msg);\n</code></pre>\n"}], "owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 54791585, "answer_count": 1, "score": 0, "last_activity_date": 1550681686, "creation_date": 1550681686, "question_id": 54791584, "link": "https://stackoverflow.com/questions/54791584/why-is-my-expected-rejection-not-a-success-case-in-mocha-using-chai-as-promise", "title": "Why is my expected rejection not a success case in mocha using chai-as-promise?", "body": "<p>I want to assert a promise rejection in a mocha test case. Hence I do this in typescript:</p>\n\n<pre><code>import {\n    expect,\n    use,\n} from \"chai\";\nimport * as chaiAsPromised from \"chai-as-promised\";\n\nuse(chaiAsPromised);\n\ndescribe(\"Promise rejection\", async () =&gt; {\n\n    it(\"should assert promise rejection\", async () =&gt; {\n        const msg = \"I AM THE EXPECTED ERROR\";\n\n        const rejectedPromise = Promise.reject(msg);\n\n        return expect(rejectedPromise).to.eventually.throw(msg);\n\n    });\n});\n</code></pre>\n\n<p>I expect my test case to be successful, as the expected error is thrown. Yet my test fails with:</p>\n\n<pre><code>Error: the string \"I AM THE EXPECTED ERROR\" was thrown, throw an Error :)\n    at &lt;anonymous&gt;\n    at runMicrotasksCallback (internal/process/next_tick.js:122:5)\n    at _combinedTickCallback (internal/process/next_tick.js:132:7)\n    at process._tickCallback (internal/process/next_tick.js:181:9)\n</code></pre>\n"}, {"tags": ["angular", "typescript", "compiler-errors", "interceptor"], "comments": [{"owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 0, "creation_date": 1550682307, "post_id": 54791430, "comment_id": 96361589, "body": "2 return statements together.. how does that work ?"}, {"owner": {"reputation": 41, "user_id": 2731070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c6fb3e24099dc616333f40b683a2744?s=128&d=identicon&r=PG", "display_name": "justageek", "link": "https://stackoverflow.com/users/2731070/justageek"}, "reply_to_user": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 0, "creation_date": 1550682379, "post_id": 54791430, "comment_id": 96361626, "body": "sorry about that, I was trying something, ignore the return event line, I&#39;m just trying to find the problem."}], "answers": [{"tags": [], "owner": {"reputation": 78, "user_id": 6332428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4413d1f041014b1a291603b11f4f3020?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Badr", "link": "https://stackoverflow.com/users/6332428/ali-badr"}, "is_accepted": false, "score": 0, "last_activity_date": 1550690051, "last_edit_date": 1550690051, "creation_date": 1550689340, "answer_id": 54793524, "question_id": 54791430, "link": "https://stackoverflow.com/questions/54791430/cannot-build-angular-app-due-to-error-in-http-interceptor-angular-6/54793524#54793524", "title": "Cannot build Angular app due to error in http interceptor, Angular 6", "body": "<p>I think the problem with the function return value, that should be <code>Observable&lt;HttpEvent&lt;any&gt;&gt;</code>. The easy fix would be to cast to <strong>any</strong></p>\n\n<pre><code>return &lt;any&gt; of&lt;HttpEvent&lt;any&gt;&gt;();\n</code></pre>\n\n<p>There is also another problem <code>src/app/loading.interceptor.ts(45,31)</code> i tried to copy your code and paste in <a href=\"https://stackblitz.com/edit/angular-xwcpr4?file=src/app/auth-interceptors.ts\" rel=\"nofollow noreferrer\">slackblitz snippet</a> but after formatting the code i found that your code only end in <strong>line 39</strong> so look in your editor in the interceptor file and <strong>check the function at line 45</strong> <strong>this function accepts zero arguments but you passed one argument</strong></p>\n"}], "owner": {"reputation": 41, "user_id": 2731070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c6fb3e24099dc616333f40b683a2744?s=128&d=identicon&r=PG", "display_name": "justageek", "link": "https://stackoverflow.com/users/2731070/justageek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 697, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550690051, "creation_date": 1550681200, "last_edit_date": 1550682415, "question_id": 54791430, "link": "https://stackoverflow.com/questions/54791430/cannot-build-angular-app-due-to-error-in-http-interceptor-angular-6", "title": "Cannot build Angular app due to error in http interceptor, Angular 6", "body": "<p>I have an http interceptor that works perfectly in one Angular 6 application, but in a second application that was just upgraded from 5 to 6, building the application is causing the following errors</p>\n\n<pre><code>ERROR in src/app/loading.interceptor.ts(32,5): error TS2322: Type 'Observable&lt;{} | HttpProgressEvent | HttpSentEvent | HttpHeaderResponse | HttpResponse&lt;any&gt; | Http...' is not assignable to type 'Observable&lt;HttpEvent&lt;any&gt;&gt;'.\n  Type '{} | HttpProgressEvent | HttpSentEvent | HttpHeaderResponse | HttpResponse&lt;any&gt; | HttpUserEvent&lt;a...' is not assignable to type 'HttpEvent&lt;any&gt;'.\n    Type '{}' is not assignable to type 'HttpEvent&lt;any&gt;'.\n      Type '{}' is not assignable to type 'HttpUserEvent&lt;any&gt;'.\n        Property 'type' is missing in type '{}'.\nsrc/app/loading.interceptor.ts(45,31): error TS2558: Expected 0 type arguments, but got 1.\n</code></pre>\n\n<p>The interceptor is as follows</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n  HttpResponse,\n  HttpErrorResponse\n} from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { of } from 'rxjs/observable/of';\nimport { LoaderService } from './loader.service';\nimport { tap } from 'rxjs/operators';\n\n@Injectable()\nexport class LoadingInterceptor implements HttpInterceptor {\n  constructor(\n    private loadingService: LoaderService,\n    private router: Router\n  ) {}\n\n  intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    this.loadingService.startLoading();\n    return next.handle(request).pipe(\n      tap(event =&gt; {\n        if (event instanceof HttpResponse) {\n          this.loadingService.stopLoading();\n        }\n      }, response =&gt; {\n        this.loadingService.stopLoading();\n\n        if (response instanceof HttpErrorResponse) {\n          this.router.navigateByUrl('/not-found');\n        }\n\n        return of&lt;HttpEvent&lt;any&gt;&gt;();\n      }));\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1550681174, "post_id": 54791364, "comment_id": 96360870, "body": "Even if you could do this, I think that the types would be <code>string</code> rather than literals like <code>&#39;NEW_PIZZA&#39;</code>. I think an emum may work best here if you could make that change."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 1, "creation_date": 1550682052, "post_id": 54791364, "comment_id": 96361445, "body": "why not declare an enum?"}], "answers": [{"tags": [], "owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "is_accepted": false, "score": 1, "last_activity_date": 1550681950, "creation_date": 1550681950, "answer_id": 54791678, "question_id": 54791364, "link": "https://stackoverflow.com/questions/54791364/create-enum-like-type-of-object-values/54791678#54791678", "title": "Create ENUM(-like) type of object values", "body": "<p>As @ExplosionPills says without extra annotation the type of values is generalized, but if you are OK adding annotation this works:</p>\n\n<pre><code>const modalTypes = {\n  newPizza: 'NEW_PIZZA' as 'NEW_PIZZA',\n  newCola: 'NEW_COLA' as 'NEW_COLA',\n  newCustom: 'NEW_CUSTOM' as 'NEW_CUSTOM',\n}\n\ntype ModalType = typeof modalTypes[keyof typeof modalTypes]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19544, "user_id": 985454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/240c85cfce79d99a6393196f484484a6?s=128&d=identicon&r=PG", "display_name": "Qwerty", "link": "https://stackoverflow.com/users/985454/qwerty"}, "edited": false, "score": 0, "creation_date": 1550744362, "post_id": 54795350, "comment_id": 96385694, "body": "Wow, that first example is super sleek! Can you point to a specific change in 3.4 that allows this? Anyway, I have never thought about using IIFEs like that. Pure wizardry!"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 19544, "user_id": 985454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/240c85cfce79d99a6393196f484484a6?s=128&d=identicon&r=PG", "display_name": "Qwerty", "link": "https://stackoverflow.com/users/985454/qwerty"}, "edited": false, "score": 1, "creation_date": 1550744682, "post_id": 54795350, "comment_id": 96385887, "body": "@Qwerty added a link to the PR, sorry I unusually try to add references, missed this one :) (there was even a <code>,</code> where I meant to add it :D)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1550744615, "last_edit_date": 1550744615, "creation_date": 1550697304, "answer_id": 54795350, "question_id": 54791364, "link": "https://stackoverflow.com/questions/54791364/create-enum-like-type-of-object-values/54795350#54795350", "title": "Create ENUM(-like) type of object values", "body": "<p>You can do it without extra assertions in 3.4 (unreleased yet, try it using <code>npm install typescript@next</code>) using a <code>as const</code> assertions, see <a href=\"https://github.com/Microsoft/TypeScript/pull/29510\" rel=\"nofollow noreferrer\">PR</a>.</p>\n\n<pre><code>const modalTypes = {\n  newPizza: 'NEW_PIZZA',\n  newCola: 'NEW_COLA',\n  newCustom: 'NEW_CUSTOM',\n} as const\n\ntype ModalType = typeof modalTypes[keyof typeof modalTypes]\n</code></pre>\n\n<p>Below 3.4, I still would not go the explicit assertion route, I would rather use a helper function to infer the correct types, it can be an IIFE:</p>\n\n<pre><code>const modalTypes = (&lt;V extends string, T extends Record&lt;string, V&gt;&gt;(o:T) =&gt; o)({\n  newPizza: 'NEW_PIZZA',\n  newCola: 'NEW_COLA',\n  newCustom: 'NEW_CUSTOM',\n})\n\ntype ModalType = typeof modalTypes[keyof typeof modalTypes]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10761043, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AMrvbwE6lp8/AAAAAAAAAAI/AAAAAAAAJzg/vR-Ep_Ndxvc/photo.jpg?sz=128", "display_name": "SergeyShmakov", "link": "https://stackoverflow.com/users/10761043/sergeyshmakov"}, "is_accepted": false, "score": 1, "last_activity_date": 1551724476, "creation_date": 1551724476, "answer_id": 54989455, "question_id": 54791364, "link": "https://stackoverflow.com/questions/54791364/create-enum-like-type-of-object-values/54989455#54989455", "title": "Create ENUM(-like) type of object values", "body": "<p>In case when ModalType is collection of string constants you need to use Enum instead of object like this:</p>\n\n<pre><code>enum ModalType {\n    newPizza = \"NEW_PIZZA\",\n    newCola = \"NEW_COLA\",\n    newCustom = \"NEW_CUSTOM\",\n}\nconst showModal = (modalType: ModalType[keyof ModalType]) =&gt; {\n    // do something...\n};\nshowModal(\"NEW_PIZZA\");\n</code></pre>\n"}], "owner": {"reputation": 19544, "user_id": 985454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/240c85cfce79d99a6393196f484484a6?s=128&d=identicon&r=PG", "display_name": "Qwerty", "link": "https://stackoverflow.com/users/985454/qwerty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 54795350, "answer_count": 3, "score": 0, "last_activity_date": 1551724476, "creation_date": 1550681005, "last_edit_date": 1550743783, "question_id": 54791364, "link": "https://stackoverflow.com/questions/54791364/create-enum-like-type-of-object-values", "title": "Create ENUM(-like) type of object values", "body": "<p>I have an object</p>\n\n<pre><code>const modalTypes = {\n  newPizza: 'NEW_PIZZA',\n  newCola: 'NEW_COLA',\n  newCustom: 'NEW_CUSTOM,\n}\n</code></pre>\n\n<p>Then I have an action creator that takes an action that is one of the <code>modalTypes</code>' values.</p>\n\n<pre><code>const showModal = (modalType: ModalType, body: BodyType) =&gt; {\n  // do something...\n}\n\n// e.g.\nshowModal('NEW_PIZZA', ...)\n</code></pre>\n\n<p>How to get the <code>ModalType</code> to be <code>NEW_PIZZA | NEW_COLA | NEW_CUSTOM</code>?</p>\n\n<hr/>\n\n<p>Something similar to this, but for values.</p>\n\n<pre><code>const Foo = { a: 'FOO', b: 'BAR', c: 'BAZ' };\ntype Abc = keyof typeof Foo\n\nAbc = 'a' | 'b' | 'c'\n// Desired = 'FOO' | 'BAR' | 'BAZ'\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3627, "user_id": 9793532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BHvKo.png?s=128&g=1", "display_name": "iLuvLogix", "link": "https://stackoverflow.com/users/9793532/iluvlogix"}, "edited": false, "score": 0, "creation_date": 1550681205, "post_id": 54791303, "comment_id": 96360893, "body": "..a good read on <a href=\"https://blog.angularindepth.com/becoming-an-angular-environmentalist-45a48f7c20d8\" rel=\"nofollow noreferrer\">environments</a>"}, {"owner": {"reputation": 2627, "user_id": 6757576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBQqS.png?s=128&g=1", "display_name": "Samuel Vaillant", "link": "https://stackoverflow.com/users/6757576/samuel-vaillant"}, "edited": false, "score": 0, "creation_date": 1550681464, "post_id": 54791303, "comment_id": 96361061, "body": "<a href=\"https://stackoverflow.com/questions/47485087/where-to-define-common-environment-variables-in-angular-4\" title=\"where to define common environment variables in angular 4\">stackoverflow.com/questions/47485087/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 4687191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01419e0679b67c99c98393e71a33b301?s=128&d=identicon&r=PG&f=1", "display_name": "bobuns", "link": "https://stackoverflow.com/users/4687191/bobuns"}, "edited": false, "score": 1, "creation_date": 1550681416, "post_id": 54791420, "comment_id": 96361018, "body": "And if I declare the variable in one of the environment files, will it override the default ones ?"}, {"owner": {"reputation": 187, "user_id": 4687191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01419e0679b67c99c98393e71a33b301?s=128&d=identicon&r=PG&f=1", "display_name": "bobuns", "link": "https://stackoverflow.com/users/4687191/bobuns"}, "edited": false, "score": 1, "creation_date": 1550687301, "post_id": 54791420, "comment_id": 96364038, "body": "This suggestion worked although I couldn&#39;t use &#39;default&#39; as a name, thank you Oleg."}], "tags": [], "owner": {"reputation": 263, "user_id": 3655481, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001547769967/picture?type=large", "display_name": "Oleg", "link": "https://stackoverflow.com/users/3655481/oleg"}, "is_accepted": true, "score": 9, "last_activity_date": 1550681216, "last_edit_date": 1550681216, "creation_date": 1550681176, "answer_id": 54791420, "question_id": 54791303, "link": "https://stackoverflow.com/questions/54791303/how-to-use-default-values-for-angular-environments/54791420#54791420", "title": "How to use default values for Angular environments", "body": "<p>You can import default variables from outside. </p>\n\n<p>default.ts:</p>\n\n<pre><code>export const default = {\n  apiUrl: 'http://some-backend-url/',\n  homeUrl: '/illustrator/directory'\n}\n</code></pre>\n\n<p>in environment.ts:</p>\n\n<pre><code>import {default} from 'default'\n\nexport const environment = {\n  ...default,\n  production: false\n}\n\n</code></pre>\n\n<p>and import it in all files. So in this way you can modify only in default.ts file and will be apply automaticaly in all enviroments</p>\n"}, {"comments": [{"owner": {"reputation": 5395, "user_id": 1283715, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/n0LVK.jpg?s=128&g=1", "display_name": "Khaled Lela", "link": "https://stackoverflow.com/users/1283715/khaled-lela"}, "edited": false, "score": 0, "creation_date": 1582843465, "post_id": 54791756, "comment_id": 106926773, "body": "This solution will fail when try to access <code>environment</code> on appModule <code>,  ex. ServiceWorkerModule.register(&#39;ngsw-worker.js&#39;, { enabled: environment. production})</code>, with  <i>AppModule&#39; Function calls are not supported in decorators new object</i>, <b>environment should export as const/var</b>, check my <a href=\"https://stackoverflow.com/a/60442763/1283715\">answer</a>."}], "tags": [], "owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "is_accepted": false, "score": 0, "last_activity_date": 1550682213, "creation_date": 1550682213, "answer_id": 54791756, "question_id": 54791303, "link": "https://stackoverflow.com/questions/54791303/how-to-use-default-values-for-angular-environments/54791756#54791756", "title": "How to use default values for Angular environments", "body": "<p>In addition to object spreading/assignment, you can just declare environment configs as a class that each inherit from your 'base' class.</p>\n\n<pre><code>// environment.ts\nexport class environment {\n  static value = 'DefaultValue';\n  static homeUrl = 'DefaultUrl';\n} \n</code></pre>\n\n<p>then in your other environment configs...</p>\n\n<pre><code>// environment.dev.ts, environment.prod.ts...\nimport { environment as EnvironmentBase } from './environment';\n\nexport class environment extends EnvironmentBase {\n  static newThing = '??';\n  static homeUrl = 'NewUrl'; // overridden\n}\n</code></pre>\n\n<p>Things to note: these are now classes instead of object literals, so their properties should be static to match access. Also, you'd need to import the base config as a different name since you're defining a class with the same name in that file (or just make a separate base class altogether)/</p>\n"}, {"tags": [], "owner": {"reputation": 5395, "user_id": 1283715, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/n0LVK.jpg?s=128&g=1", "display_name": "Khaled Lela", "link": "https://stackoverflow.com/users/1283715/khaled-lela"}, "is_accepted": false, "score": 0, "last_activity_date": 1582843161, "creation_date": 1582843161, "answer_id": 60442763, "question_id": 54791303, "link": "https://stackoverflow.com/questions/54791303/how-to-use-default-values-for-angular-environments/60442763#60442763", "title": "How to use default values for Angular environments", "body": "<p>My answer will improve <a href=\"https://stackoverflow.com/a/54791420/1283715\">Oleg answer</a>:</p>\n\n<p><strong>1. Base interface:</strong></p>\n\n<pre><code>// config.ts\nexport interface Config {\n   production: boolean;\n   apiUrl: string;\n   homeUrl: string;\n   // added other need config definition.\n}\n</code></pre>\n\n<p><strong>2. Base environment:</strong></p>\n\n<pre><code>// environment.base.ts\nexport const environmentBase = {\n  apiUrl: 'http://some-backend-url/',\n  homeUrl: '/illustrator/directory'\n  // add more base, default, share config definitions.\n}\n</code></pre>\n\n<p><strong>3. Production environment:</strong></p>\n\n<pre><code>// environment.prod.ts\nexport const environment: Config = {\n    ...environmentBase,\n  production: true,\n}\n</code></pre>\n\n<p><strong>4. Development environment:</strong></p>\n\n<pre><code>// environment.dev.ts\nexport const environment: Config = {\n    ...environmentBase,\n  production: false,\n}\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 4687191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01419e0679b67c99c98393e71a33b301?s=128&d=identicon&r=PG&f=1", "display_name": "bobuns", "link": "https://stackoverflow.com/users/4687191/bobuns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1213, "favorite_count": 0, "accepted_answer_id": 54791420, "answer_count": 3, "score": 9, "last_activity_date": 1582843161, "creation_date": 1550680802, "last_edit_date": 1550681039, "question_id": 54791303, "link": "https://stackoverflow.com/questions/54791303/how-to-use-default-values-for-angular-environments", "title": "How to use default values for Angular environments", "body": "<p>I have several environment files for my Angular application :</p>\n\n<ul>\n<li>environment.ts</li>\n<li>environment.dev.ts</li>\n<li>environment.prod.ts</li>\n</ul>\n\n<p>I'd like to use default variables shared by all environments without duplicating them in every file.\nIf I add a variable 'homeUrl' only in <strong>environment.ts</strong> for example :</p>\n\n<pre><code>export const environment = {\n  production: false,\n  apiUrl: 'http://some-backend-url/',\n  homeUrl: '/illustrator/directory'\n};\n</code></pre>\n\n<p>When I run the application with the dev configuration, my variables from <strong>environment.dev.ts</strong> are loaded properly but homeUrl is undefined as it's only declared in <strong>environment.ts</strong> file.</p>\n\n<p>Is there a way to use default variables shared between environments without copying them ?</p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 4, "creation_date": 1550680337, "post_id": 54791132, "comment_id": 96360366, "body": "Have you seen this: <a href=\"https://angular.io/guide/dynamic-component-loader\" rel=\"nofollow noreferrer\">angular.io/guide/dynamic-component-loader</a>"}], "owner": {"reputation": 1070, "user_id": 453142, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NwlDZ.jpg?s=128&g=1", "display_name": "David L&#233;tourneau", "link": "https://stackoverflow.com/users/453142/david-l%c3%a9tourneau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550704070, "creation_date": 1550680268, "last_edit_date": 1550704070, "question_id": 54791132, "link": "https://stackoverflow.com/questions/54791132/is-it-possible-to-dynamically-create-components-in-angular7", "title": "Is it possible to dynamically create components in Angular7?", "body": "<p>I have this use case: I have to generate an HTML template depending on a template type selected by the user. The HTML inside the two templates are dynamic. I mean, it has to receive some data to be completed.</p>\n\n<p>I work with Angular 7, TypeScript and C# so here is my code snippet (I have no clue how to start) and I don't know if it's possible to do so with Angular 7.</p>\n\n<p>So, I have my the MainComponent, Template1Component, Template2Component.</p>\n\n<p>Once user select the template type, he press on the GENERATE button and trigger the getPDF() method:</p>\n\n<pre><code>getPDF(selectedTemplateType: number) {\n  let html = '';\n  if (selectedTemplateType === 1) {\n    // Fetch Template1Component \n    html = Template1Component.BuildHtml(someData);\n  } else {\n    // Fetch Template2Component\n    html = Template2Component.BuildHtml(someData);\n  }\n  // this is the part I need, the rest of the code is already done.\n}\n</code></pre>\n\n<p>Need help to do this part of code.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "edited": false, "score": 0, "creation_date": 1550685123, "post_id": 54791492, "comment_id": 96362958, "body": "This is amazing but it still doesn&#39;t address the issue still is that I need <code>toGreek </code> and <code>toEnglish</code> to be a type that is passed in."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "edited": false, "score": 0, "creation_date": 1550685415, "post_id": 54791492, "comment_id": 96363120, "body": "@ThomasReggi Why do you need it to be passed in, and how do you imagine this working? Like I said at the top of my answer, the fundamental problem with using an enum for this is that the compiler can&#39;t ensure how many members are in the enum or know what the purpose of each enum member should be. An enum is simply not expressive enough to be used in a generic method where each member needs to be treated differently."}, {"owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "edited": false, "score": 0, "creation_date": 1550685490, "post_id": 54791492, "comment_id": 96363158, "body": "Totally get what you&#39;re saying I am trying to pass minimal data to an abstract class. Is it possible without having <code>toGreek</code> and <code>toEnglish</code> being enums, and it being a type like <code>PureMapping</code> that is above in the updated question?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "edited": false, "score": 0, "creation_date": 1550690315, "post_id": 54791492, "comment_id": 96365491, "body": "@ThomasReggi I&#39;ve provided a couple more solutions. Hopefully one of them works for your needs."}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1550690273, "last_edit_date": 1550690273, "creation_date": 1550681409, "answer_id": 54791492, "question_id": 54791106, "link": "https://stackoverflow.com/questions/54791106/how-do-i-create-a-mapping-type-for-two-enums/54791492#54791492", "title": "How do I create a mapping type for two enums?", "body": "<p>The problem is that your <code>types</code> enum cannot be guaranteed to have just two members. Also, there's no way to know which member maps English to Greek and which member maps in reverse. How would this work if <code>types</code> had just one member or three?</p>\n\n<p>One solution is to get rid of the first generic type parameter and just rely on hard-coded property names, for example (feel free to choose better names than <code>convert</code>/<code>reverse</code>):</p>\n\n<pre><code>type MappingForEnum&lt;A extends string, B extends string&gt; = {\n  convert: {[key in A]: B};\n  reverse: {[key in B]: A};\n};\n\n...\n\nconst mapping: MappingForEnum&lt;Greek, English&gt; = {\n  convert: {\n    [Greek.ALPHA]: English.A,\n    [Greek.BETA]: English.B,\n  },\n  reverse: {\n    [English.A]: Greek.ALPHA,\n    [English.B]: Greek.BETA,\n  },\n};\n</code></pre>\n\n<hr>\n\n<p>Alternatively, you could break the type down into smaller, one-way mappings, and then compose them together:</p>\n\n<pre><code>type MappingForEnum&lt;A extends string, B extends string&gt; = { [key in A]: B };\n\ntype GreekEnglishMapping = {\n  toEnglish: MappingForEnum&lt;Greek, English&gt;;\n  toGreek: MappingForEnum&lt;English, Greek&gt;;\n};\n\n...\n\nconst mapping: GreekEnglishMapping = {\n  toEnglish: {\n    [Greek.ALPHA]: English.A,\n    [Greek.BETA]: English.B,\n  },\n  toGreek: {\n    [English.A]: Greek.ALPHA,\n    [English.B]: Greek.BETA,\n  },\n};\n</code></pre>\n\n<p>Note that with this second solution, it's trivially easy to get a union type similar to your original <code>types</code> enum:</p>\n\n<pre><code>type supportedMappings = keyof GreekEnglishMapping; // \"toEnglish\" | \"toGreek\"\n</code></pre>\n\n<hr>\n\n<p>Here's another approach:</p>\n\n<pre><code>type MappingForEnum&lt;A extends string, B extends string&gt; = { [key in A]: B };\ntype TwoWayMapping&lt;T extends { [0]: string, [1]: string }, A extends string, B extends string&gt; =\n    { [key in T[0]]: MappingForEnum&lt;A, B&gt; } &amp;\n    { [key in T[1]]: MappingForEnum&lt;B, A&gt; };\n\ntype GreekEnglishMapping = TwoWayMapping&lt;[ 'toEnglish', 'toGreek' ], Greek, English&gt;;\n</code></pre>\n\n<p>Sadly, even if you define </p>\n\n<pre><code>enum MappingNames {\n  toEnglish,\n  toGreek,\n}\n</code></pre>\n\n<p>Where <code>MappingNames[0]</code> is defined at run time, the compiler won't have knowledge of it so the following won't work:</p>\n\n<pre><code>type GreekEnglishMapping = TwoWayMapping&lt;MappingNames, Greek, English&gt;;\n// Type 'MappingNames' does not satisfy the constraint '{ [0]: string; [1]: string; }'.\n</code></pre>\n\n<hr>\n\n<p>One more stab at it:</p>\n\n<pre><code>type MappingForEnum&lt;A extends string, B extends string&gt; = { [key in A]: B };\ntype TwoWayMapping&lt;T extends { [k: string]: A | B }, A extends string, B extends string&gt; = { \n    [key in keyof T]: T[key] extends A ? MappingForEnum&lt;A, B&gt; : MappingForEnum&lt;B, A&gt;\n};\n\ntype PureMapping = {\n  toEnglish: Greek,\n  toGreek: English,\n};\ntype GreekEnglishMapping = TwoWayMapping&lt;PureMapping, Greek, English&gt;;\n</code></pre>\n\n<p>I feel this is probably about as close as you can get to what you were originally asking for. I don't think you can get away from having to specify <code>Greek</code>/<code>English</code> twice (once in the mapping type and once as generic arguments).</p>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550690273, "creation_date": 1550680197, "last_edit_date": 1550685426, "question_id": 54791106, "link": "https://stackoverflow.com/questions/54791106/how-do-i-create-a-mapping-type-for-two-enums", "title": "How do I create a mapping type for two enums?", "body": "<p>I am looking for a way to connect these two types and have mappings:</p>\n\n<pre><code>type MappingForEnum&lt;T extends string, A extends string, B extends string&gt; = {\n  [key in T]: {[key in A]: B};\n  [key in T]: {[key in B]: A};\n};\n\nenum Greek {\n  ALPHA = 'A',\n  BETA = 'B',\n}\n\nenum English {\n  A = 'A',\n  B = 'B',\n}\n\nenum types{\n  TO_ENGLISH = 'toEnglish',\n  TO_GREEK = 'toGreek',\n}\n\nconst mapping: MappingForEnum&lt;Types, Greek, English&gt; = {\n  toEnglish: {\n    [Greek.ALPHA]: English.A,\n    [Greek.BETA]: English.B,\n  },\n  toGreek: {\n    [English.A]: Greek.ALPHA,\n    [English.B]: Greek.BETA,\n  },\n};\n</code></pre>\n\n<p>How can I modify <code>MappingForEnum</code> to get it working?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Is there a way to set up this kind of <code>PureMapping</code> and wrap it to match what is commented below.</p>\n\n<pre><code>type PureMapping = {\n  toGreek: Greek,\n  toEnglish: English,\n};\n\ntype Mapping = WrapMapping&lt;PureMapping&gt;;\n\n// type Mapping = {\n//   toGreek: MappingForEnum&lt;Greek, English&gt;,\n//   toEnglish: MappingForEnum&lt;English, Greek&gt;,\n// };\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": false, "score": 2, "last_activity_date": 1550680539, "last_edit_date": 1550680539, "creation_date": 1550679829, "answer_id": 54790995, "question_id": 54790923, "link": "https://stackoverflow.com/questions/54790923/which-scope-represents-this-in-a-javascript-function-within-an-object/54790995#54790995", "title": "Which scope represents this in a JavaScript function within an object?", "body": "<blockquote>\n  <p>setAdmin this refers to MyClass which does not include (or does it?) the parameters like user passed to the constructor.</p>\n</blockquote>\n\n<p>You're right that <code>this</code> is a reference to the instance of MyClass that's currently being constructed. However, since you marked the parameter as public, typescript <strong>will</strong> put the user on <code>this.user</code>. Marking parameters to a constructor as public (or private for that matter) is a shortcut that typescript provides for assigning the parameters onto the instance of the class.</p>\n\n<p>If it helps, here's what the transpiled version of your code looks like:</p>\n\n<pre><code>define([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    var MyClass = /** @class */ (function () {\n        function MyClass(user) {\n            this.user = user; //  &lt;------------------ SEE THIS LINE\n            this.orgBusinessKey = '';\n            this.setAdmin(user);\n        }\n        MyClass.prototype.setAdmin = function (user) {\n            if (user &amp;&amp; user.noaOrganisationList &amp;&amp; !_.isEmpty(user.noaOrganisationList)) {\n                this.orgBusinessKey = this.user.noaOrganisationList[0].businessKey;\n            }\n        };\n        return MyClass;\n    }());\n    exports.MyClass = MyClass;\n});\n</code></pre>\n"}], "owner": {"reputation": 5263, "user_id": 3867574, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/369282dc678d164a61dcb79b70989786?s=128&d=identicon&r=PG", "display_name": "Serg M Ten", "link": "https://stackoverflow.com/users/3867574/serg-m-ten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550680539, "creation_date": 1550679620, "last_edit_date": 1550680020, "question_id": 54790923, "link": "https://stackoverflow.com/questions/54790923/which-scope-represents-this-in-a-javascript-function-within-an-object", "title": "Which scope represents this in a JavaScript function within an object?", "body": "<p>I have a JavaScript code that looks like the excerpt below.\nAt line,</p>\n\n<pre><code>this.orgBusinessKey = this.user.noaOrganisationList[0].businessKey;\n</code></pre>\n\n<p>will the <code>this</code> scope contain the <code>user</code> instance passed as parameter to the constructor?</p>\n\n<p>I've read this <a href=\"https://stackoverflow.com/questions/3127429/how-does-the-this-keyword-work\">post on <code>this</code> scope</a>, but, according to my belief, at <code>setAdmin</code> <code>this</code> refers to <code>MyClass</code> which does not include (or does it?) the parameters like <code>user</code> passed to the constructor.</p>\n\n<pre><code>export interface IUser {\n  noaOrganisationList: IOrganisation[];\n}\n\nexport interface IOrganisation {\n    id?: number;\n    name?: string;\n    businessKey: string;\n}\n\nexport class MyClass {\n\n  orgBusinessKey: string = '';\n\n  constructor(public user: IUser)\n  {\n    this.setAdmin(user);\n  }\n\n  setAdmin(user: IUser): void {\n    if (user &amp;&amp; user.noaOrganisationList &amp;&amp; !_.isEmpty(user.noaOrganisationList)) {\n      this.orgBusinessKey = this.user.noaOrganisationList[0].businessKey;\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-components", "angular-forms"], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 3014905, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c2ae16f7816a555e7e15752c60744e1d?s=128&d=identicon&r=PG&f=1", "display_name": "Sammaron", "link": "https://stackoverflow.com/users/3014905/sammaron"}, "is_accepted": false, "score": 0, "last_activity_date": 1550698084, "creation_date": 1550698084, "answer_id": 54795505, "question_id": 54790885, "link": "https://stackoverflow.com/questions/54790885/is-there-a-way-i-can-dynamically-set-the-formcontrolname-on-an-input-element-i/54795505#54795505", "title": "Is there a way I can dynamically set the formControlName on an &lt;input&gt; element in angular?", "body": "<p>I'm still not sure the exact explanation, but some reasoning alludes to where I might have strayed.</p>\n\n<p>I assumed that my component owned the elements that it was projecting, but I actually think this isn't true. Your opportunity to set attributes/directives is in the template. This means you are better off including any elements that you want to own/control into the template rather then just projecting them. </p>\n\n<p>In this case, that leads you to making separate components for specific form controls (like <code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code>, etc). This is what I've ended up doing. This is better from a design endpoint anyway -- one component to wrap all possible form-controls was never going to happen. Either project a form control that duplicates some properties, like I do in the question, or create specific components. Or both (just make your most common form controls into components, wrap the one-off problems in your projecting component).</p>\n\n<p>Here are some blogs that helped me find my way:</p>\n\n<ol>\n<li><a href=\"https://medium.com/@vadimkorr/implementing-nested-custom-controls-in-angular-5-c115c68e6b88\" rel=\"nofollow noreferrer\">https://medium.com/@vadimkorr/implementing-nested-custom-controls-in-angular-5-c115c68e6b88</a></li>\n<li><a href=\"https://blog.angularindepth.com/never-again-be-confused-when-implementing-controlvalueaccessor-in-angular-forms-93b9eee9ee83\" rel=\"nofollow noreferrer\">https://blog.angularindepth.com/never-again-be-confused-when-implementing-controlvalueaccessor-in-angular-forms-93b9eee9ee83</a></li>\n</ol>\n"}], "owner": {"reputation": 146, "user_id": 3014905, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c2ae16f7816a555e7e15752c60744e1d?s=128&d=identicon&r=PG&f=1", "display_name": "Sammaron", "link": "https://stackoverflow.com/users/3014905/sammaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 647, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550698084, "creation_date": 1550679491, "last_edit_date": 1550679793, "question_id": 54790885, "link": "https://stackoverflow.com/questions/54790885/is-there-a-way-i-can-dynamically-set-the-formcontrolname-on-an-input-element-i", "title": "Is there a way I can dynamically set the formControlName on an &lt;input&gt; element in angular?", "body": "<p>I'm working on writing a component intended to simplify/homogenize the way our forms look and interact. The code looks something like this:</p>\n\n<p><strong>Example Usage</strong></p>\n\n<pre><code>...\n&lt;my-form-input labelKey = \"email\" controlName=\"emailAddress\" [form]=\"userForm\"&gt;\n    &lt;input myInput class=\"form-control\" type=\"email\" formControlName=\"emailAddress\" /&gt;\n&lt;/my-form-input&gt;\n...\n</code></pre>\n\n<p>You can see that <code>\"emailAddress\"</code> is passed to <code>MyFormInputComponent</code> as the <code>controlName</code> <em>and is passed a second time to the</em> <code>FormControlName</code> directive on the <code>&lt;input&gt;</code> element. I'd like to only pass this once so that my end user doesn't have to do this.</p>\n\n<p>Is there a good way I can go about this, or is this just a constraint I should accept (if yes, an explanation of why this constraint exists would be welcome)? Code is shown below.</p>\n\n<p>I've tried two approaches:</p>\n\n<ol>\n<li>Setting a <code>@HostBinding(\"attr.formControlName\")</code> annotation in the <code>MyInput</code> component. I can manipulate an attribute called <code>formcontrolname</code> on the element this way, but it doesn't trigger the directive that Angular Forms needs to properly register the control with the group.</li>\n<li>Ask the user to supply <code>formControlName</code> to the <code>&lt;input&gt;</code> element and read the value off of this for the rest of the component. This might work, but I'd have to access the DOM directly through an <code>ElementRef</code>, <a href=\"https://angular.io/api/core/ElementRef#properties\" rel=\"nofollow noreferrer\">which is not recommended</a>. The recommended route for interacting with DOM -- <code>Renderer</code> -- <a href=\"https://stackoverflow.com/a/41281143/3014905\">doesn't seem to expose any ability to read attributes either</a>.</li>\n</ol>\n\n<p><strong>my-form-input.component.ts</strong></p>\n\n<pre><code>@Component({\n    selector: 'my-form-input',\n    templateUrl: './my-form-input.component.html',\n    styleUrls: ['./my-form-input.component.scss']\n})\nexport class MyFormInputComponent implements OnInit, AfterContentInit {\n    @Input()\n    labelKey: string;\n\n    @Input()\n    controlName: string;\n\n    @Input()\n    form: FormGroup;\n\n    @ContentChild(MyInputDirective)\n    input: MyInputDirective;\n\n    ngAfterContentInit(): void {        \n        this.initInput();\n    }\n\n    /**\n     * Updates the input we project into the template\n     */\n    private initInput() {\n        this.input.updatePlaceholder(this.labelKey);\n        // I'd like to somehow edit the FormControlName directive applied to the input here\n    }\n}\n</code></pre>\n\n<p><strong>my-form-input.component.html</strong></p>\n\n<pre><code>&lt;label&gt;{{ labelKey | translate }}&lt;/label&gt;\n&lt;ng-content&gt;&lt;/ng-content&gt;\n&lt;my-input-error [control]=\"form.controls[controlName]\" [name]=\"labelKey | translate\" /&gt;\n</code></pre>\n\n<p><strong>my-input.directive.ts</strong></p>\n\n<pre><code>@Directive({\n    selector: '[myInput]'\n})\nexport class myInputDirective implements OnInit {\n    private placeholderKey = \"\"; \n\n    @HostBinding(\"placeholder\")\n    private placeholder: string;\n\n    updatePlaceholder(placeholderKey: string) {\n        this.placeholderKey = placeholderKey;\n        this.placeholder = this.translateService.instant(this.placeholderKey);\n    }\n\n    constructor(private translateService: TranslateService) {\n    }\n}\n</code></pre>\n\n<p><strong>my-form-error.component.ts</strong></p>\n\n<pre><code>// Not shown since not relevant.\n</code></pre>\n"}, {"tags": ["json", "angular", "typescript", "rxjs", "angular-httpclient"], "answers": [{"comments": [{"owner": {"reputation": 1285, "user_id": 366815, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a7625f142934d16951f89ef40060098a?s=128&d=identicon&r=PG", "display_name": "Paul Erdos", "link": "https://stackoverflow.com/users/366815/paul-erdos"}, "edited": false, "score": 0, "creation_date": 1550679846, "post_id": 54790993, "comment_id": 96360085, "body": "I&#39;ve tried using a local path multiple times with no luck."}, {"owner": {"reputation": 349, "user_id": 8207637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a63507b9a40cad7effd9bcc8b8eba396?s=128&d=identicon&r=PG&f=1", "display_name": "Trevor", "link": "https://stackoverflow.com/users/8207637/trevor"}, "edited": false, "score": 0, "creation_date": 1550682320, "post_id": 54790993, "comment_id": 96361592, "body": "Well, she did provide a working example. Maybe you could identify what exactly she did did differently and how she got it to work?"}, {"owner": {"reputation": 832, "user_id": 5137019, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b5d97d531f0c8180ad9543cb5efc530?s=128&d=identicon&r=PG&f=1", "display_name": "dev1998", "link": "https://stackoverflow.com/users/5137019/dev1998"}, "edited": false, "score": 1, "creation_date": 1554258425, "post_id": 54790993, "comment_id": 97681246, "body": "The Url that you had in your example <code>assets&#47;products&#47;products.json</code>, just worked great for me in an ionic project."}], "tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 3, "last_activity_date": 1550679856, "last_edit_date": 1550679856, "creation_date": 1550679819, "answer_id": 54790993, "question_id": 54790862, "link": "https://stackoverflow.com/questions/54790862/unable-to-get-local-json-file-in-angular-5-persistent-404-error/54790993#54790993", "title": "Unable to get local json file in Angular 5 - persistent 404 error", "body": "<p>I have this working successfully in my app just using a URL like this:</p>\n\n<pre><code>private productUrl = 'api/products/products.json';\n</code></pre>\n\n<p>Notice that it does not have the <code>localhost</code> part of the path.</p>\n\n<p>So try something more like this:</p>\n\n<pre><code>'assets/mockData/' + fileName + '.json'\n</code></pre>\n\n<p>Also ensure that your <code>angular.json</code> has the path listed under assets:</p>\n\n<pre><code>        \"assets\": [\n          \"src/favicon.ico\",\n          \"src/assets\",\n          \"src/api\"\n        ],\n</code></pre>\n\n<p>NOTE: I also didn't do <em>anything</em> to modify my webpack configuration. (But I'm using the CLI.)</p>\n\n<p>If you want to look at some working code that accesses a json file, I have an example here: </p>\n\n<p><a href=\"https://stackblitz.com/edit/github-gettingstarted-deborahk\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/github-gettingstarted-deborahk</a></p>\n"}, {"comments": [{"owner": {"reputation": 1285, "user_id": 366815, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a7625f142934d16951f89ef40060098a?s=128&d=identicon&r=PG", "display_name": "Paul Erdos", "link": "https://stackoverflow.com/users/366815/paul-erdos"}, "edited": false, "score": 0, "creation_date": 1550680488, "post_id": 54791004, "comment_id": 96360457, "body": "No luck, same issue."}], "tags": [], "owner": {"reputation": 2985, "user_id": 5596484, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ae20b8cbc08efdac630b247d85c36309?s=128&d=identicon&r=PG", "display_name": "Stephen R. Smith", "link": "https://stackoverflow.com/users/5596484/stephen-r-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1550679864, "creation_date": 1550679864, "answer_id": 54791004, "question_id": 54790862, "link": "https://stackoverflow.com/questions/54790862/unable-to-get-local-json-file-in-angular-5-persistent-404-error/54791004#54791004", "title": "Unable to get local json file in Angular 5 - persistent 404 error", "body": "<p>I would suggest subscribing in the component, and returning an Observable from the service:</p>\n\n<p>Service:</p>\n\n<pre><code>@Injectable()\nexport class MyService {\n\n  constructor(private http: HttpClient) { }\n\n  isRecognized(fileName): Observable&lt;any&gt; {\n    return this.http.get('http://localhost:4200/assets/mockData/' + fileName + '.json');\n  }\n\n}\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>export class AppComponent implements OnInit {\n\n    constructor(\n        private route: ActivatedRoute, private service: MyService\n    ) {}\n\n    ngOnInit() {\n      this.service.isRecognized(fileName)\n         .subscribe(data =&gt; {\n              console.log(data);\n         });\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 8207637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a63507b9a40cad7effd9bcc8b8eba396?s=128&d=identicon&r=PG&f=1", "display_name": "Trevor", "link": "https://stackoverflow.com/users/8207637/trevor"}, "is_accepted": false, "score": 0, "last_activity_date": 1550682064, "creation_date": 1550682064, "answer_id": 54791716, "question_id": 54790862, "link": "https://stackoverflow.com/questions/54790862/unable-to-get-local-json-file-in-angular-5-persistent-404-error/54791716#54791716", "title": "Unable to get local json file in Angular 5 - persistent 404 error", "body": "<p>While this might not be a direct solution to your specific problem, you should take a look at the npm package <code>json-server</code>. I use it to mock the API when developing and testing the client.</p>\n\n<p><a href=\"https://www.npmjs.com/package/json-server\" rel=\"nofollow noreferrer\">json-server npm</a></p>\n\n<p>It will run a node web server on port 3000, and is really easy to use right out of the box.</p>\n\n<p>See this tutorial example of how to use it: \n<a href=\"https://medium.com/@kaustubhtalathi/mock-data-for-angular-5-applications-with-json-server-part-1-d377eced223b\" rel=\"nofollow noreferrer\">Mock api with json-server</a></p>\n\n<p>There might be better examples and setting up the proxy isn't necessary, but should be good enough.</p>\n"}, {"tags": [], "owner": {"reputation": 1285, "user_id": 366815, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a7625f142934d16951f89ef40060098a?s=128&d=identicon&r=PG", "display_name": "Paul Erdos", "link": "https://stackoverflow.com/users/366815/paul-erdos"}, "is_accepted": false, "score": 0, "last_activity_date": 1550682898, "creation_date": 1550682898, "answer_id": 54791939, "question_id": 54790862, "link": "https://stackoverflow.com/questions/54790862/unable-to-get-local-json-file-in-angular-5-persistent-404-error/54791939#54791939", "title": "Unable to get local json file in Angular 5 - persistent 404 error", "body": "<p>Finally figured out the answer! I had this in my app.module.ts file as an import:</p>\n\n<pre><code>InMemoryWebApiModule.forRoot(InMemoryDataService, { dataEncapsulation: false })\n</code></pre>\n\n<p>Removing this fixed the issue immediately. </p>\n"}], "owner": {"reputation": 1285, "user_id": 366815, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a7625f142934d16951f89ef40060098a?s=128&d=identicon&r=PG", "display_name": "Paul Erdos", "link": "https://stackoverflow.com/users/366815/paul-erdos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1480, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1550682898, "creation_date": 1550679438, "last_edit_date": 1550681171, "question_id": 54790862, "link": "https://stackoverflow.com/questions/54790862/unable-to-get-local-json-file-in-angular-5-persistent-404-error", "title": "Unable to get local json file in Angular 5 - persistent 404 error", "body": "<p>I've read every other article or post about this I can find. I cannot for the life of me figure out where I'm going wrong with this simple task. (Specifically following <a href=\"https://stackoverflow.com/questions/47206924/angular-5-service-to-read-local-json-file\">this example</a>.) I must be doing something obviously stupid but I've been looking at this so long I can't see it.</p>\n\n<p>I have a json file called isRecognized.json in assets/mockData. I've added the mockData directory to my webpack config file so it's included in the /dist directory. If I go to http:localhost:4200/assets/mockData/isRecognized.json I'm able to see the file, so I know it's available. </p>\n\n<p>However, when I try to retrieve the file using HTTP Client, it throws a 404 no matter what I try. </p>\n\n<p>EDIT: I'm using Webpack, not Angular CLI.</p>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import { MyService } from './services/my.service';\nimport { Component, OnInit, Renderer2 } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\n/*\n* Main app component that houses all views.\n*/\n@Component({\n    selector: 'app-comp',\n    templateUrl: './app.component.html'\n})\n\nexport class AppComponent implements OnInit {\n\n    constructor(\n        private route: ActivatedRoute, private service: MyService\n    ) {}\n\n    ngOnInit() {\n      this.service.isRecognized();\n    }\n\n}\n</code></pre>\n\n<p><strong>my.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/observable/throw';\n\n@Injectable()\nexport class MyService {\n\n  constructor(private http: HttpClient) { }\n\n  isRecognized() {\n    this.getJSON('isRecognized').subscribe(data =&gt; {\n      console.log(data);\n    });\n  }\n\n  getJSON(fileName): Observable&lt;any&gt; {\n    return this.http.get('http://localhost:4200/assets/mockData/' + fileName + '.json');\n  }\n}\n</code></pre>\n\n<p>The error I get in the browser console is:</p>\n\n<pre><code>AppComponent_Host.ngfactory.js? [sm]:1 ERROR Error: [object Object]\n    at viewWrappedDebugError (core.js:9795)\n    at callWithDebugContext (core.js:15101)\n    at Object.debugCheckAndUpdateView [as checkAndUpdateView] (core.js:14628)\n    at ViewRef_.webpackJsonp../node_modules/@angular/core/esm5/core.js.ViewRef_.detectChanges (core.js:11605)\n    at core.js:5913\n    at Array.forEach (&lt;anonymous&gt;)\n    at ApplicationRef.webpackJsonp../node_modules/@angular/core/esm5/core.js.ApplicationRef.tick (core.js:5913)\n    at core.js:5746\n    at ZoneDelegate.webpackJsonp../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (zone.js:391)\n    at Object.onInvoke (core.js:4756)\n</code></pre>\n\n<p>If I debug the error, I can see the body of the error is:\n<a href=\"https://i.stack.imgur.com/stVLw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stVLw.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1550680009, "post_id": 54790731, "comment_id": 96360176, "body": "What is the issue with adding the <code>Content-Type</code> of <code>application&#47;json</code>? <code>setHeaders()</code> entirely replaces all headers. Are you asking how to just add/set the <code>authorization</code> header and keep all other headers that were on the request?"}], "answers": [{"tags": [], "owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1550680124, "last_edit_date": 1550680124, "creation_date": 1550679642, "answer_id": 54790931, "question_id": 54790731, "link": "https://stackoverflow.com/questions/54790731/jwt-interceptor-removing-contentype-header/54790931#54790931", "title": "JWT interceptor removing contentype header", "body": "<p>If the goal is to add the authorization header while preserving existing headers, in this case <code>content-type</code>, you could use <code>request.headers.set()</code> instead of <code>setHeaders()</code> as <code>setHeaders()</code> entirely replaces the headers:</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor\n} from \"@angular/common/http\";\nimport { Observable } from \"rxjs\";\n\n@Injectable()\nexport class JwtInterceptor implements HttpInterceptor {\n  intercept(\n    request: HttpRequest&lt;any&gt;,\n    next: HttpHandler\n  ): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    // add authorization header with jwt token if available\n    let credentials = JSON.parse(localStorage.getItem(\"credentials\"));\n    console.log(JSON.stringify(credentials.accessToken));\n    if (credentials &amp;&amp; credentials.accessToken) {\n      request = request.clone({\n        headers: request.headers.set('Authorization', `Bearer ${credentials.accessToken}`)\n      });\n    }\n\n    return next.handle(request);\n  }\n}\n</code></pre>\n\n<p>Hopefully that helps!</p>\n"}, {"tags": [], "owner": {"reputation": 536, "user_id": 11081044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JV2t1.jpg?s=128&g=1", "display_name": "Tyler Church", "link": "https://stackoverflow.com/users/11081044/tyler-church"}, "is_accepted": false, "score": 0, "last_activity_date": 1550680063, "creation_date": 1550680063, "answer_id": 54791061, "question_id": 54790731, "link": "https://stackoverflow.com/questions/54790731/jwt-interceptor-removing-contentype-header/54791061#54791061", "title": "JWT interceptor removing contentype header", "body": "<p>In theory you should be able to add the header just like you've added the Authorization header:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    if (credentials &amp;&amp; credentials.accessToken) {\n      request = request.clone({\n        setHeaders: {\n          Authorization: `Bearer ${credentials.accessToken}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n    }\n</code></pre>\n\n<p>Alternatively, you might want to check the initiator of the request to verify that it's not the one setting incorrect headers in the first place.</p>\n\n<p>Looking at the angular source code ( <a href=\"https://github.com/angular/angular/blob/f8096d499324cf0961f092944bbaedd05364eea1/packages/common/http/src/request.ts#L369\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/blob/f8096d499324cf0961f092944bbaedd05364eea1/packages/common/http/src/request.ts#L369</a> ) setHeaders appears to add or update any existing headers, preserving any you don't mention:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    if (update.setHeaders !== undefined) {\n      // Set every requested header.\n      headers =\n          Object.keys(update.setHeaders)\n              .reduce((headers, name) =&gt; headers.set(name, update.setHeaders ![name]), headers);\n    }\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 334, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550680124, "creation_date": 1550679078, "question_id": 54790731, "link": "https://stackoverflow.com/questions/54790731/jwt-interceptor-removing-contentype-header", "title": "JWT interceptor removing contentype header", "body": "<p>I'm facing that I can not make api calls with the JWT interceptor. I'm getting :</p>\n\n<blockquote>\n  <p>Content type 'text/plain;charset=UTF-8' not supported</p>\n</blockquote>\n\n<p>And I guess is because the JWT interceptor is removing the headers and adding the Bearer stuff, this is my JWT interceptor.</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor\n} from \"@angular/common/http\";\nimport { Observable } from \"rxjs\";\n\n@Injectable()\nexport class JwtInterceptor implements HttpInterceptor {\n  intercept(\n    request: HttpRequest&lt;any&gt;,\n    next: HttpHandler\n  ): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    // add authorization header with jwt token if available\n    let credentials = JSON.parse(localStorage.getItem(\"credentials\"));\n    console.log(JSON.stringify(credentials.accessToken));\n    if (credentials &amp;&amp; credentials.accessToken) {\n      request = request.clone({\n        setHeaders: {\n          Authorization: `Bearer ${credentials.accessToken}`\n        }\n      });\n    }\n\n    return next.handle(request);\n  }\n\n}\n</code></pre>\n\n<p>I tried with postman and if I leave this header alone it says the same problem, but when I add <code>Content-Type application/json</code> it solves the problem, but here in Angular how do I <strong>add</strong> this header but replace? </p>\n"}, {"tags": ["angular", "typescript", "asp.net-web-api", "httpclient"], "comments": [{"owner": {"reputation": 1998, "user_id": 8048748, "user_type": "registered", "profile_image": "https://graph.facebook.com/1674282325934326/picture?type=large", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/8048748/tiago-silva"}, "edited": false, "score": 0, "creation_date": 1550679106, "post_id": 54790669, "comment_id": 96359643, "body": "Did you debugged it and confirmed that your value was not undefined ?"}, {"owner": {"reputation": 458, "user_id": 8961920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e0bc1e1ef0bded68f72ad2ae6ceb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hadfield", "link": "https://stackoverflow.com/users/8961920/chris-hadfield"}, "reply_to_user": {"reputation": 1998, "user_id": 8048748, "user_type": "registered", "profile_image": "https://graph.facebook.com/1674282325934326/picture?type=large", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/8048748/tiago-silva"}, "edited": false, "score": 0, "creation_date": 1550679179, "post_id": 54790669, "comment_id": 96359684, "body": "Yes sir. There value presented. It is being printed inside <code>addNewDairy</code> method"}, {"owner": {"reputation": 6783, "user_id": 5935112, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ymenn.jpg?s=128&g=1", "display_name": "Just Shadow", "link": "https://stackoverflow.com/users/5935112/just-shadow"}, "edited": false, "score": 0, "creation_date": 1550679279, "post_id": 54790669, "comment_id": 96359744, "body": "&quot;Http&quot; is deprecated. Could you please try using HttpClient instead?"}, {"owner": {"reputation": 458, "user_id": 8961920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e0bc1e1ef0bded68f72ad2ae6ceb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hadfield", "link": "https://stackoverflow.com/users/8961920/chris-hadfield"}, "edited": false, "score": 0, "creation_date": 1550679386, "post_id": 54790669, "comment_id": 96359809, "body": "has used the same <code>HttpClient</code> and imported from <code>@angular&#47;common&#47;http</code>"}], "answers": [{"comments": [{"owner": {"reputation": 458, "user_id": 8961920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e0bc1e1ef0bded68f72ad2ae6ceb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hadfield", "link": "https://stackoverflow.com/users/8961920/chris-hadfield"}, "edited": false, "score": 0, "creation_date": 1550717630, "post_id": 54792003, "comment_id": 96374449, "body": "I already enabled CORS at <code>startup.cs</code> using        ` app.UseCors(builder =&gt;          builder.WithOrigins(&quot;<a href=\"http://localhost:4200&quot;\" rel=\"nofollow noreferrer\">localhost:4200&quot;</a>));`"}], "tags": [], "owner": {"reputation": 125, "user_id": 299171, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd09b6f6009e01402720c94834ae94fb?s=128&d=identicon&r=PG", "display_name": "131nary", "link": "https://stackoverflow.com/users/299171/131nary"}, "is_accepted": true, "score": 0, "last_activity_date": 1550683148, "creation_date": 1550683148, "answer_id": 54792003, "question_id": 54790669, "link": "https://stackoverflow.com/questions/54790669/angular-7-not-sending-post-data-to-api/54792003#54792003", "title": "Angular 7 not sending post data to api", "body": "<p>The 204 is coming from the OPTIONS request that the browser sends as part of it being a cross-domain request. Once the OPTIONS request comes back successfully with a 200, your real request would go up. Postman would not be sending the OPTIONS request, since you are going directly to the API in that instance. Your Angular looks fine - I would verify in your asp.net backend has CORS enabled - see here <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/security/enabling-cross-origin-requests-in-web-api#enable-cors\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/web-api/overview/security/enabling-cross-origin-requests-in-web-api#enable-cors</a>.</p>\n"}], "owner": {"reputation": 458, "user_id": 8961920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e0bc1e1ef0bded68f72ad2ae6ceb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hadfield", "link": "https://stackoverflow.com/users/8961920/chris-hadfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 54792003, "answer_count": 1, "score": 0, "last_activity_date": 1550683148, "creation_date": 1550678903, "question_id": 54790669, "link": "https://stackoverflow.com/questions/54790669/angular-7-not-sending-post-data-to-api", "title": "Angular 7 not sending post data to api", "body": "<p>I have an <code>asp.net</code> backend service. The backend api is working fine from <code>postman</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/GvZxC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GvZxC.png\" alt=\"enter image description here\"></a></p>\n\n<p>but doing same thing from angular doesn't work. The body doesn't send to server. I am using angular 7. </p>\n\n<p>This is my code.</p>\n\n<p><strong>dairy service</strong></p>\n\n<pre><code>public addNewDairy(value) {\n    return this.http.post(this.apiUrl + \"dairy\", value)\n      .pipe(\n        map(success =&gt; success),\n        catchError(this.hes.handleError) // then handle the error\n      );\n  }\n</code></pre>\n\n<p>and the component</p>\n\n<pre><code>requestForRegistration(value) {\n    this.jqxLoader.open();\n    this.ds.addNewDairy(value).subscribe(res =&gt; {\n      this.jqxLoader.close();\n      this.message = \"Requested for activation.\";\n      this.notification.open();\n    }, error =&gt; {\n      console.log(error);\n      this.jqxLoader.close();\n      this.message = \"Something went wrong please try again!\";\n      this.notification.open();\n    });\n  }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ZA782.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZA782.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 1337906, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/gfAYa.jpg?s=128&g=1", "display_name": "Lord Midi", "link": "https://stackoverflow.com/users/1337906/lord-midi"}, "edited": false, "score": 0, "creation_date": 1550735897, "post_id": 54793403, "comment_id": 96380537, "body": "Thanks for answering. Yes the example from NgRx is not correct. On line 34 the variable gets another type which is &quot;TestHotObservable&quot; and which is not a subclass of &quot;Subject&quot; or &quot;ReplaySubject&quot;. So I think it&#39;s not possible to type the variable correctly with this example."}], "tags": [], "owner": {"reputation": 3854, "user_id": 1382409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa333da22902fa8f675be41a47d97ee9?s=128&d=identicon&r=PG", "display_name": "Mateusz Kocz", "link": "https://stackoverflow.com/users/1382409/mateusz-kocz"}, "is_accepted": false, "score": 0, "last_activity_date": 1550688936, "creation_date": 1550688936, "answer_id": 54793403, "question_id": 54790613, "link": "https://stackoverflow.com/questions/54790613/typing-variable-when-using-subclasses-in-typescript-rxjs/54793403#54793403", "title": "typing variable when using subclasses in TypeScript (RxJS)", "body": "<p>You should type <code>actions$</code> as <code>Subject&lt;any&gt;</code> or\u2014if you want even more specificity\u2014<code>ReplySubject&lt;any&gt;</code>. <code>Subject</code> extends <code>Observable</code>, so it will work for <code>hot</code> and <code>cold</code> functions if you're using <code>jasmine-marbles</code>.</p>\n\n<p>As for the documentation you referenced, I suspect the <code>actions</code> being typed as <code>Observable</code> is a mistake in print.</p>\n"}], "owner": {"reputation": 645, "user_id": 1337906, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/gfAYa.jpg?s=128&g=1", "display_name": "Lord Midi", "link": "https://stackoverflow.com/users/1337906/lord-midi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550688936, "creation_date": 1550678746, "question_id": 54790613, "link": "https://stackoverflow.com/questions/54790613/typing-variable-when-using-subclasses-in-typescript-rxjs", "title": "typing variable when using subclasses in TypeScript (RxJS)", "body": "<p>I have a problem while writing tests for Angular using RxJS.</p>\n\n<p>I have a variable which is used as a mocking provider (actions$) which is typed as \"Observable\". Now I assign an instance of a subclass to it (ReplaySubject). But now the method \"next\" is unknown (at least in Typescript) because it's not provided by \"Observable\" as it is from one of the subclasses \"Subject\".</p>\n\n<p>How can I type my variable \"actions$\" correctly or how can I cast correctly to fix the error message?</p>\n\n<p>online example: <a href=\"https://ngrx.io/guide/effects/testing\" rel=\"nofollow noreferrer\">https://ngrx.io/guide/effects/testing</a>\nsee line 12 vs 41</p>\n\n<p>RxJS implementation</p>\n\n<pre><code>export declare class ReplaySubject&lt;T&gt; extends Subject&lt;T&gt; {\n   ...\n}\n\nexport declare class Subject&lt;T&gt; extends Observable&lt;T&gt; implements SubscriptionLike {\n    ...\n    next(value?: T): void;\n    ...\n}\n</code></pre>\n\n<p>my code</p>\n\n<pre><code>let actions$: Observable&lt;any&gt;;\n\nactions$ = new ReplaySubject(1);\n\n// Property 'next' does not exist on type 'Observable&lt;any&gt;'.\nactions$.next(new someThing());\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "google-cloud-firestore", "google-cloud-functions", "firebase-storage"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7936804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ca8acc101c9c43585a005c05763b95?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hewitson", "link": "https://stackoverflow.com/users/7936804/a-hewitson"}, "edited": false, "score": 0, "creation_date": 1550698663, "post_id": 54794624, "comment_id": 96369296, "body": "That makes sense, I will get that implemented and see if it makes a difference. :) Thank you!"}], "tags": [], "owner": {"reputation": 2155, "user_id": 1931929, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/0hF7Y.png?s=128&g=1", "display_name": "augustzf", "link": "https://stackoverflow.com/users/1931929/augustzf"}, "is_accepted": false, "score": 1, "last_activity_date": 1550693989, "creation_date": 1550693989, "answer_id": 54794624, "question_id": 54790410, "link": "https://stackoverflow.com/questions/54790410/firebase-cloud-functions-promise-not-executing/54794624#54794624", "title": "Firebase Cloud Functions: Promise not Executing", "body": "<p>In general you should avoid using forEach with async methods. That's because forEach will start off every async call without keeping (and hence waiting for) the returned promise. </p>\n\n<p>In your case this seems to be a problem in your method right here:</p>\n\n<pre><code>contexts.forEach(async (context: Context) =&gt; {\n    try {\n    const contextDoc = await admin\n        .firestore()\n        .collection('FYP_CONTEXTS')\n        .add(context);\n    console.log(`Context Added: ${contextDoc}`);\n    } catch (error) {\n    console.error(error);\n    }\n});\n</code></pre>\n\n<p>Which would be better off like this:</p>\n\n<pre><code>for (const context of contexts) {\n    try {\n        const contextDoc = await admin\n            .firestore()\n            .collection('FYP_CONTEXTS')\n            .add(context);\n        console.log(`Context Added: ${contextDoc}`);\n    } catch (error) {\n        console.error(error);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7936804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ca8acc101c9c43585a005c05763b95?s=128&d=identicon&r=PG&f=1", "display_name": "A. Hewitson", "link": "https://stackoverflow.com/users/7936804/a-hewitson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551186181, "creation_date": 1550678167, "last_edit_date": 1551186181, "question_id": 54790410, "link": "https://stackoverflow.com/questions/54790410/firebase-cloud-functions-promise-not-executing", "title": "Firebase Cloud Functions: Promise not Executing", "body": "<p>I'm having some trouble with promises in firebase cloud functions.\nWhat I'm trying to do is take a document, extract the text from and search through that text for some search terms.</p>\n\n<p>The issue I'm having is with promises.</p>\n\n<p>EDIT:\nI have attached the current code that I am working with, I have moved away from using sub functions to break up the code and this is all in one big block now.</p>\n\n<p>This should help with debugging.</p>\n\n<p>It is currently getting stuck when trying to retrieve the search patterns on line 93. This is stopping the code after this point from executing, however I do not know why this firestore query is not working.</p>\n\n<p>I have added the fix proposed by @augustzf.</p>\n\n<pre><code>import functions = require('firebase-functions');\nimport admin = require('firebase-admin');\nimport path = require('path');\nimport suffixArray from './suffixArray';\n\ninterface suffix {\n  index: number;\n  rank: Array&lt;any&gt;;\n}\n\ninterface Location {\n  lid: string;\n  location_name: string;\n  location_type: string;\n  sentimental_value: number;\n}\n\ninterface Context {\n  lid: string;\n  context_string: string;\n  fid: string;\n}\n\nexport const processFile = functions.storage.object().onFinalize(async file =&gt; {\n  const fileBucket = file.bucket;\n  const filePath = file.name;\n\n  console.log(`File path ${filePath}`);\n\n  const serviceAccount = require(__dirname + '/../config/serviceAccount.json');\n\n  admin.initializeApp({\n    credential: admin.credential.cert(serviceAccount),\n    databaseURL: 'someDB'\n  });\n\n  const firestore = admin.firestore();\n  const settings = { timestampsInSnapshots: true };\n  firestore.settings(settings);\n\n  const fileDet = path.basename(filePath);\n  const fileNameSplit = fileDet.split('.');\n  const fileExt = fileNameSplit.pop();\n  const fileName = fileNameSplit.join('.');\n  const bucket = admin.storage().bucket(fileBucket);\n  const fileRef = bucket.file(filePath);\n  const searchTerms = file.metadata.searchTerms.split(', ');\n  let _path = '';\n  console.log('Getting Download URL');\n  try {\n    _path = `/tmp/${fileName}.${fileExt}`;\n    console.log(`Downloading to: ${_path}`);\n    await fileRef.download({ destination: _path });\n    console.log('File Saved');\n  } catch (e) {\n    console.error(e);\n  }\n  console.log(`Getting Details: ${_path}`);\n  let text: string = '';\n\n  switch (fileExt) {\n    case 'docx':\n    case 'doc':\n      const WordExtractor = require('word-extractor');\n      const extractor = new WordExtractor();\n      const extracted = await extractor.extract(_path);\n      text = extracted.getBody();\n      break;\n    case 'pdf':\n      break;\n    case 'txt':\n      const textract = require('textract');\n      textract.fromFileWithPath(_path, function(extractedError, string) {\n        if (extractedError) {\n          console.error(extractedError);\n        }\n        if (string !== null) {\n          text = string;\n        }\n      });\n      break;\n    default:\n      console.log('Unsupported File Type');\n      return null;\n  }\n  console.log(`Processing: ${fileName}`);\n  console.log('Creating Suffix Array');\n  const suffix_array = suffixArray(text);\n  console.log(`Suffix Array Created: ${suffix_array}`);\n  console.log('Getting Search Patterns');\n  let searchPatterns;\n  try {\n    searchPatterns = await admin\n      .firestore()\n      .collection('FYP_LOCATIONS')\n      .get();\n    } catch (error) {\n      console.error(error);\n    }\n    console.log(`Search Patterns Received: ${searchPatterns}`);\n    const contexts: Array&lt;Context&gt; = [];\n    console.log('Creating Contexts');\n    for (const searchPattern of searchPatterns.docs) {\n      const patternDoc = searchPattern.data();\n      const pattern: string = patternDoc.location_name.toLowerCase();\n      console.log(pattern);\n      console.log(`Beginning search for: ${pattern}`);\n      let start = 0;\n      let end = suffix_array.length;\n      const matchedIndexes: Array&lt;number&gt; = [];\n\n      while (start &lt; end) {\n        const mid: number = (end - 1) / 2;\n        const index: number = suffix_array[mid];\n        const finalIndex: number = index + pattern.length;\n        if (finalIndex &lt;= text.length) {\n          const substring: string = text.substring(index, finalIndex);\n          const match: number = pattern.localeCompare(substring);\n\n          if (match === 0) {\n            console.log(`Match Found at Index: ${index}`);\n            matchedIndexes.push(index);\n          } else if (match &lt; 0) {\n            end = mid;\n          } else if (match &gt; 0) {\n            start = mid;\n          }\n          console.log(matchedIndexes);\n        }\n      }\n\n      if (matchedIndexes.length === 0) {\n        console.log(`No matches found for search term: ${pattern}`);\n      }\n      for (const index of matchedIndexes) {\n        let left = index - 25;\n        let right = index + patternDoc.location_name.length + 25;\n        if (left &lt; 0) {\n          left = 0;\n        }\n        if (right &gt; text.length) {\n          right = text.length;\n        }\n        const context = text.substring(left, right);\n        contexts.push({\n          lid: patternDoc.lid,\n          context_string: context,\n          fid: fileName\n        });\n      }\n    }\n    for (const context of contexts) {\n      admin\n        .firestore()\n        .collection('FYP_CONTEXTS')\n        .add(context)\n        .then(contextDoc =&gt; {\n          console.log(`Context Added: ${contextDoc}`);\n        })\n        .catch(error =&gt; {\n          console.error(error);\n        });\n    }\n  const data = {\n    processed: 1\n  };\n  return admin\n    .firestore()\n    .doc('FYP_FILES/' + fileName)\n    .update(data);\n});\n</code></pre>\n\n<p>I've tried numerous approaches to try and solve this but haven't come up with anything, I have a feeling it's to do with the other existing promises in my code but I'm not sure.</p>\n\n<p>Any help that you can offer would be greatly appreciated. :)</p>\n\n<p>Thanks,\nAlex</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "numbers"], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 3, "last_activity_date": 1550686145, "last_edit_date": 1550686145, "creation_date": 1550678706, "answer_id": 54790596, "question_id": 54790404, "link": "https://stackoverflow.com/questions/54790404/how-to-initiate-checkbox-group-values-from-number-total/54790596#54790596", "title": "How to initiate checkbox group values from number total", "body": "<p>You could check the given value by taking <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_AND\" rel=\"nofollow noreferrer\">bitwise AND <code>&amp;</code></a> with a calculated value of one and the index with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#%3C%3C_(Left_shift)\" rel=\"nofollow noreferrer\"><code>&lt;&lt;</code> left shift operator</a>.</p>\n\n<p>If the result is truthy, then you got your day.</p>\n\n<p>It works by looking at a bit and compares this bit.</p>\n\n<blockquote>\n  <p>An example with <code>7</code> for <code>[\"Sun\", \"Mon\", \"Tue\"]</code></p>\n\n<pre><code>index  left shift  decimal   binary   bitw &amp;   decimal   binary  comment\n-----  ----------  -------  -------  --------  -------  -------  -------\n   0     1 &lt;&lt; 0         1         1   7 &amp;  1        1         1  take\n   1     1 &lt;&lt; 1         2        10   7 &amp;  2        2        10  take\n   2     1 &lt;&lt; 2         4       100   7 &amp;  4        4       100  take\n   3     1 &lt;&lt; 3         8      1000   7 &amp;  8        0         0\n   4     1 &lt;&lt; 4        16     10000   7 &amp; 16        0         0\n   5     1 &lt;&lt; 5        32    100000   7 &amp; 32        0         0\n   6     1 &lt;&lt; 6        64   1000000   7 &amp; 64        0         0\n</code></pre>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\r\n    getDays = value =&gt; ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\n        .filter((_, i) =&gt; value &amp; 1 &lt;&lt; i);\r\n\r\nconsole.log(getDays(7));  // [\"Sun\", \"Mon\", \"Tue\"]\r\nconsole.log(getDays(65)); // [\"Sun\", \"Sat\"]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 14180, "user_id": 1636522, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/SH1Jr.png?s=128&g=1", "display_name": "leaf", "link": "https://stackoverflow.com/users/1636522/leaf"}, "is_accepted": false, "score": 1, "last_activity_date": 1550816945, "last_edit_date": 1550816945, "creation_date": 1550702643, "answer_id": 54796433, "question_id": 54790404, "link": "https://stackoverflow.com/questions/54790404/how-to-initiate-checkbox-group-values-from-number-total/54796433#54796433", "title": "How to initiate checkbox group values from number total", "body": "<p>Here is a slight variation of Nina's answer with more pictures to help the reader figure out what's going on at bits level.</p>\n\n<h2>Prerequisites</h2>\n\n<p>Before starting, be aware that JavaScript can read bits thanks to the <code>0b</code> prefix, and try to get familiar with \"and\" (<code>&amp;</code>) and \"shift right\" (<code>&gt;&gt;</code>) bitwise operators (drop a comment if you need help):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt; | 0b1\n&lt; | 1\n&gt; | 0b111\n&lt; | 7\n&gt; | (7).toString(2)\n&lt; | \"111\"\n&gt; | 1 &amp; 1\n&lt; | 1\n&gt; | 1 &amp; 0\n&lt; | 0\n&gt; | (0b101 &amp; 0b110).toString(2)\n&lt; | \"100\"\n&gt; | (0b100 &gt;&gt; 1).toString(2)\n&lt; | \"10\"\n&gt; | (0b100 &gt;&gt; 2).toString(2)\n&lt; | \"1\"\n&gt; | (0b100 &gt;&gt; 3).toString(2)\n&lt; | \"0\"\n</code></pre>\n\n<p>In the expression <code>L &amp; R</code>, <code>L</code> is often called \"bit map\", and <code>R</code> is often called \"bit mask\". The bit map is a set of binary flags (0/1, off/on, false/true), and the bit mask is a selector:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>  flags  |   0000111 |   0000111 |   0000111\n&amp; mask   | &amp; 0000001 | &amp; 0000011 | &amp; 0100100\n= subset | = 0000001 | = 0000011 | = 0000100\n</code></pre>\n\n<p>In a binary number, the first bit (bit 0) is the rightmost one. The rightmost bit is called \"least significant bit\" (LSB), the leftmost bit is called \"most significant bit\" (MSB):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt; | 0b0000111 &gt;&gt; 0 &amp; 1 // reads bit 0 (LSB)\n&lt; | 1\n&gt; | 0b0000111 &gt;&gt; 6 &amp; 1 // reads bit 6 (MSB)\n&lt; | 0\n</code></pre>\n\n<h2>Encoding</h2>\n\n<p>Days code:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>  SFTWTMS &lt;---- read carefully\n0b0000001 =  1 = Sunday\n0b0000010 =  2 = Monday\n0b0000100 =  4 = Tuesday\n0b0001000 =  8 = Wednesday\n0b0010000 = 16 = Thursday\n0b0100000 = 32 = Friday\n0b1000000 = 64 = Saturday\n</code></pre>\n\n<p>Bit map of the selected days:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>    |     SFTWTMS |\n  1 |   0b0000001 |   Sunday\n+ 2 | + 0b0000010 | + Monday\n+ 4 | + 0b0000100 | + Tuesday\n= 7 | = 0b0000111 | = selection\n</code></pre>\n\n<p>Bit map of the selected days, rotated and annotated:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Sat 0 drop (bit 6) &lt;---- MSB\nFri 0 drop (bit 5)\nThu 0 drop (bit 4)\nWed 0 drop (bit 3)\nTue 1 take (bit 2)\nMon 1 take (bit 1)\nSun 1 take (bit 0) &lt;---- LSB\n</code></pre>\n\n<h2>Filtering</h2>\n\n<p>This algorithm reads the bit map from LSB to MSB:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>for i in [0-6] do: take ith day if bitmap &gt;&gt; i &amp; 1 equals 1\n</code></pre>\n\n<p>Long trace:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>                   SFTWTMS |   S\n0b0000111 &gt;&gt; 0 = 0b0000111 |   1\n               &amp; 0b0000001 | &amp; 1\n               = 0b0000001 | = 1 (take \"Sun\")\n                         ^ |\n                    SFTWTM |   M\n0b0000111 &gt;&gt; 1 = 0b0000011 |   1\n               &amp; 0b0000001 | &amp; 1\n               = 0b0000001 | = 1 (take \"Mon\")\n                         ^ |\n                     SFTWT |   T\n0b0000111 &gt;&gt; 2 = 0b0000001 |   1\n               &amp; 0b0000001 | &amp; 1\n               = 0b0000001 | = 1 (take \"Tue\")\n                         ^ |\n                      SFTW |   W\n0b0000111 &gt;&gt; 3 = 0b0000000 |   0\n               &amp; 0b0000001 | &amp; 1\n               = 0b0000000 | = 0 (drop \"Wed\")\n                         ^ |\n                          ...\n                 and so on until i = 6\n</code></pre>\n\n<p>Short trace:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0 | 0000111 SFTWTMS | take \"Sun\"\n1 |  000011  SFTWTM | take \"Mon\"\n2 |   00001   SFTWT | take \"Tue\"\n3 |    0000    SFTW | drop \"Wed\"\n4 |     000     SFT | drop \"Thu\"\n5 |      00      SF | drop \"Fri\"\n6 |       0       S | drop \"Sat\"\n          ^       ^\n</code></pre>\n\n<h2>Example</h2>\n\n<p>Real world example:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt; | Sun = 0b0000001\n&lt; | 1\n&gt; | Mon = 0b0000010\n&lt; | 2\n&gt; | Tue = 0b0000100\n&lt; | 4\n&gt; | bitmap = Sun + Mon + Tue\n&lt; | 7\n&gt; | days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n&lt; | [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n&gt; | days.filter((_, i) =&gt; bitmap &gt;&gt; i &amp; 1)\n&lt; | [\"Sun\", \"Mon\", \"Tue\"]\n</code></pre>\n\n<p>Note that the bit map is equivalent to an array of booleans:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt; | take = [true, true, true, false, false, false, false]\n&lt; | [true, true, true, false, false, false, false]\n&gt; | selection = []\n&lt; | []\n&gt; | for (i = 0; i &lt; days.length; i++) {\n  |   if (take[i]) selection.push(days[i]);\n  | }\n  | selection\n&lt; | [\"Sun\", \"Mon\", \"Tue\"]\n</code></pre>\n\n<p>And <code>bitmap &gt;&gt; i &amp; 1</code> (\"read the ith bit\") is equivalent to <code>take[i]</code> (\"read the ith element\"):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt; | for (i = 0; i &lt; 7; i++) {\n  |   console.log(i, bitmap &gt;&gt; i &amp; 1, take[i]);\n  | }\n  | 0 1 true\n  | 1 1 true\n  | 2 1 true\n  | 3 0 false\n  | ...\n</code></pre>\n\n<h2>Comparison</h2>\n\n<p>Nina's version is slightly different, indeed, I shift the bit <em>map</em> to the <em>right</em>, while Nina shifts the bit <em>mask</em> to the <em>left</em>, which returns different results:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Me   : (bitmap &gt;&gt; i) &amp; 1\nNina : bitmap &amp; (i &lt;&lt; 1)\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>      | bit map     | &amp; | bit mask\n------|-------------|---|----------\n Me   | bitmap &gt;&gt; i | &amp; | 1\n Nina | bitmap      | &amp; | 1 &lt;&lt; i\n</code></pre>\n\n<p>My own version returns always 0 or 1 (false/true, drop/take):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt; | 0b0000111 &gt;&gt; 0 &amp; 1 // = 0b0000111 &amp; 0b0000001\n&lt; | 1\n&gt; | 0b0000111 &gt;&gt; 1 &amp; 1 // = 0b0000011 &amp; 0b0000001\n&lt; | 1\n&gt; | 0b0000111 &gt;&gt; 2 &amp; 1 // = 0b0000001 &amp; 0b0000001\n&lt; | 1\n&gt; | 0b0000111 &gt;&gt; 3 &amp; 1 // = 0b0000000 &amp; 0b0000001\n&lt; | 0\n</code></pre>\n\n<p>Nina's version returns the selected day (a truthy value, take) or 0 (a falsy value, drop):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt; | 0b0000111 &amp; 1 &lt;&lt; 0 // = 0b0000111 &amp; 0b0000001\n&lt; | 1\n&gt; | 0b0000111 &amp; 1 &lt;&lt; 1 // = 0b0000111 &amp; 0b0000010\n&lt; | 2\n&gt; | 0b0000111 &amp; 1 &lt;&lt; 2 // = 0b0000111 &amp; 0b0000100\n&lt; | 4\n&gt; | 0b0000111 &amp; 1 &lt;&lt; 3 // = 0b0000111 &amp; 0b0001000\n&lt; | 0\n</code></pre>\n\n<p>This doesn't make a big difference in the context of the <code>filter</code> function, except that returning boolean values (0/1, false/true) sounds a bit more consistent. However, with Nina's version you can collect the selected checkboxes like so:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt; | bitmap = 0b0000111\n&lt; | 7\n&gt; | checkboxes = []\n&lt; | []\n&gt; | for (i = 0; i &lt; 7; i++) {\n  |   day = bitmap &amp; 1 &lt;&lt; i;\n  |   if (day) checkboxes.push(day);\n  | }\n  | checkboxes\n&lt; | [1, 2, 4]\n</code></pre>\n"}], "owner": {"reputation": 198, "user_id": 8587073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5dc86f7ca97795419b730fa76b8d15e?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck", "link": "https://stackoverflow.com/users/8587073/chuck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 54790596, "answer_count": 2, "score": 2, "last_activity_date": 1550816945, "creation_date": 1550678154, "last_edit_date": 1592644375, "question_id": 54790404, "link": "https://stackoverflow.com/questions/54790404/how-to-initiate-checkbox-group-values-from-number-total", "title": "How to initiate checkbox group values from number total", "body": "<p>I have a group of checkboxes with the values <code>1,2,4,8,16,32,64</code>. Each number is representative of a day of the week respectively (e.g. Sunday, Monday etc...)</p>\n<p>The checkbox group value is the sum of the selected checkboxes. Sun, Mon, Tue = 7.</p>\n<p>I have not been able to come up with a function that can breakdown the sum back into the appropriate numbers for the correct checkboxes to be selected on edit.</p>\n<p>(I cannot just change their values to strings- the back-end team set it up this way)</p>\n<h3>First Attempt</h3>\n<pre><code>`initSpecificDays(){\n    let specificDaysArr = [1,2,4,8,16,32,64];\n    let daysTotal = 44;\n    let selectedDays = specificDaysArr.map(num=&gt;{\n      return daysTotal / num;\n    })\n    console.log(selectedDays)\n  }`\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 11091056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dec37a50fe383454331adc6bd4dbcc7?s=128&d=identicon&r=PG&f=1", "display_name": "dontsave", "link": "https://stackoverflow.com/users/11091056/dontsave"}, "edited": false, "score": 1, "creation_date": 1550768755, "post_id": 54790716, "comment_id": 96401816, "body": "<code>HTMLDivElement</code> narrows the type to divs. I&#39;m looking for a way to use the ref for all <code>Elements</code>."}], "tags": [], "owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "is_accepted": false, "score": 0, "last_activity_date": 1550679037, "creation_date": 1550679037, "answer_id": 54790716, "question_id": 54790352, "link": "https://stackoverflow.com/questions/54790352/typescript-react-polymorphic-refs-for-any-htmlelement/54790716#54790716", "title": "typescript react: polymorphic refs for any HTMLElement", "body": "<p>Try this:</p>\n\n<pre><code>const r = createRef&lt;HTMLDivElement&gt;();\n</code></pre>\n\n<p>Then it should work.</p>\n"}], "owner": {"reputation": 41, "user_id": 11091056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dec37a50fe383454331adc6bd4dbcc7?s=128&d=identicon&r=PG&f=1", "display_name": "dontsave", "link": "https://stackoverflow.com/users/11091056/dontsave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1550679037, "creation_date": 1550678006, "question_id": 54790352, "link": "https://stackoverflow.com/questions/54790352/typescript-react-polymorphic-refs-for-any-htmlelement", "title": "typescript react: polymorphic refs for any HTMLElement", "body": "<p>is there a way to create polymorphic refs in functional components?</p>\n\n<p>currently:</p>\n\n<pre><code>const r = createRef&lt;Element&gt;();\n&lt;div ref={r}&gt;&lt;/div&gt;\n</code></pre>\n\n<p>fails with the dubious error that <code>RefObject&lt;Element&gt; is not assignable to LegacyRef&lt;HTMLDivElement&gt;</code></p>\n\n<p>this makes polymorphic refs impossible. Ideally there is a way to use createRef to accept any <code>Element</code> or <code>HTMLElement</code>. Am I missing something here?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5152, "user_id": 5168153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SkcO2.png?s=128&g=1", "display_name": "Alexis", "link": "https://stackoverflow.com/users/5168153/alexis"}, "edited": false, "score": 0, "creation_date": 1550678216, "post_id": 54790304, "comment_id": 96359089, "body": "This can help you <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/advanced-types.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 700, "user_id": 8008862, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0c1e60ffb45d72e4a72f0ad12b660032?s=128&d=identicon&r=PG&f=1", "display_name": "uioporqwerty", "link": "https://stackoverflow.com/users/8008862/uioporqwerty"}, "edited": false, "score": 1, "creation_date": 1550682383, "post_id": 54791752, "comment_id": 96361630, "body": "Any way to just to something as simple as if (this.props.x instanceof B)? Or maybe if (type of(this.props.x) == typeof(B))? Checking if x contains a certain people seems a bit flakey :/"}], "tags": [], "owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "is_accepted": false, "score": 2, "last_activity_date": 1550682211, "creation_date": 1550682211, "answer_id": 54791752, "question_id": 54790304, "link": "https://stackoverflow.com/questions/54790304/how-to-compare-two-interfaces-with-typescript/54791752#54791752", "title": "How to compare two interfaces with Typescript?", "body": "<p>In the union type as long as you can find a discriminator (something that has a specific type or only present in one of the types inside the union), you can use it inside a type guard:</p>\n\n<pre><code>interface A {\n  propA: string;\n  propB: string;\n}\n\ninterface B extends A {\n  propC: string;\n  propD: string;\n}\n\ninterface Props {\n  x: A | B\n}\n\nconst props: Props = {\n  x: null as any\n}\n\nif ('propC' in props.x) {\n  // TypeScript here assumes it is B \n  console.log(props.x.propC) // works\n  console.log(props.x.propD) // also works\n} else {\n  // TypeScript here assumes it is A \n  console.log(props.x.propC) // error\n  console.log(props.x.propD) // also error\n  console.log(props.x.propA) // works\n}\n</code></pre>\n"}], "owner": {"reputation": 700, "user_id": 8008862, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0c1e60ffb45d72e4a72f0ad12b660032?s=128&d=identicon&r=PG&f=1", "display_name": "uioporqwerty", "link": "https://stackoverflow.com/users/8008862/uioporqwerty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 826, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550682623, "creation_date": 1550677851, "last_edit_date": 1550682623, "question_id": 54790304, "link": "https://stackoverflow.com/questions/54790304/how-to-compare-two-interfaces-with-typescript", "title": "How to compare two interfaces with Typescript?", "body": "<p>If I have the following interfaces:</p>\n\n<pre><code>interface A {\n  propA: string;\n  propB: string;\n}\n\ninterface B extends A {\n  propC: string;\n}\n</code></pre>\n\n<p>And I have another property such as:</p>\n\n<pre><code>interface Props {\n  x: A | B\n}\n</code></pre>\n\n<p>How can I check if x is of interface type A or B? Would I need to do a deep compare in this case since these aren't classes?</p>\n\n<p>I was looking into a couple different methods like user defined type guards, or maybe using union types, but no dice.</p>\n"}, {"tags": ["typescript", "angular7"], "comments": [{"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550677801, "post_id": 54790224, "comment_id": 96358823, "body": "Where did you run the code"}, {"owner": {"reputation": 153, "user_id": 10724515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275cb88602df18b9496c19c422973d86?s=128&d=identicon&r=PG&f=1", "display_name": "CertainlyNotAdrian", "link": "https://stackoverflow.com/users/10724515/certainlynotadrian"}, "reply_to_user": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550677849, "post_id": 54790224, "comment_id": 96358859, "body": "@NguyenPhongThien within a function in the export class"}, {"owner": {"reputation": 153, "user_id": 10724515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275cb88602df18b9496c19c422973d86?s=128&d=identicon&r=PG&f=1", "display_name": "CertainlyNotAdrian", "link": "https://stackoverflow.com/users/10724515/certainlynotadrian"}, "reply_to_user": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550677931, "post_id": 54790224, "comment_id": 96358914, "body": "@NguyenPhongThien please see my edit"}, {"owner": {"reputation": 586, "user_id": 5723503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJdUi.jpg?s=128&g=1", "display_name": "Develobba", "link": "https://stackoverflow.com/users/5723503/develobba"}, "edited": false, "score": 0, "creation_date": 1550677934, "post_id": 54790224, "comment_id": 96358917, "body": "You do all wrong what you could do wrong. Use no jQuery with Angular! Use components, I think you have to do a \u201cHow to create first app\u201c"}, {"owner": {"reputation": 153, "user_id": 10724515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275cb88602df18b9496c19c422973d86?s=128&d=identicon&r=PG&f=1", "display_name": "CertainlyNotAdrian", "link": "https://stackoverflow.com/users/10724515/certainlynotadrian"}, "reply_to_user": {"reputation": 586, "user_id": 5723503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJdUi.jpg?s=128&g=1", "display_name": "Develobba", "link": "https://stackoverflow.com/users/5723503/develobba"}, "edited": false, "score": 0, "creation_date": 1550677980, "post_id": 54790224, "comment_id": 96358955, "body": "@CodeCrusha I&#39;m well aware, I&#39;m simply migrating some old code at the moment"}, {"owner": {"reputation": 586, "user_id": 5723503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJdUi.jpg?s=128&g=1", "display_name": "Develobba", "link": "https://stackoverflow.com/users/5723503/develobba"}, "edited": false, "score": 0, "creation_date": 1550678075, "post_id": 54790224, "comment_id": 96359011, "body": "In your init is the HTML not  rendered yet. Use ngAfterViewInit"}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 10724515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275cb88602df18b9496c19c422973d86?s=128&d=identicon&r=PG&f=1", "display_name": "CertainlyNotAdrian", "link": "https://stackoverflow.com/users/10724515/certainlynotadrian"}, "edited": false, "score": 0, "creation_date": 1550678050, "post_id": 54790349, "comment_id": 96358996, "body": "awesome, knew it was a lifecycle thing"}, {"owner": {"reputation": 153, "user_id": 10724515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275cb88602df18b9496c19c422973d86?s=128&d=identicon&r=PG&f=1", "display_name": "CertainlyNotAdrian", "link": "https://stackoverflow.com/users/10724515/certainlynotadrian"}, "edited": false, "score": 0, "creation_date": 1550678430, "post_id": 54790349, "comment_id": 96359215, "body": "implementing AfterViewInit is throwing an error? but the page is compiling (albeit without the intended content)"}], "tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": false, "score": 0, "last_activity_date": 1550677999, "creation_date": 1550677999, "answer_id": 54790349, "question_id": 54790224, "link": "https://stackoverflow.com/questions/54790224/how-to-append-children-to-divs-in-angular-7/54790349#54790349", "title": "How to append children to divs in Angular 7", "body": "<p>Your code is called in the component's constructor - before the view is generated. You need to call it in <code>ngAfterViewInit()</code> or later</p>\n\n<p>So you can do it like</p>\n\n<pre><code>ngAfterViewInit() {\n    this.container.className = 'shirt_Model_Div';\n    const modelDiv = document.getElementById('shirtModelDiv');\n    modelDiv.appendChild(this.container); //error occurs here\n    this.renderer.setSize($(modelDiv).width(), $(modelDiv).height(), $(modelDiv).maxHeight);\n}\n</code></pre>\n\n<p>And you need to implement AfterViewInit to the Component</p>\n\n<pre><code>export class AnyComponent implements AfterViewInit {\n...\n}\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 10724515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275cb88602df18b9496c19c422973d86?s=128&d=identicon&r=PG&f=1", "display_name": "CertainlyNotAdrian", "link": "https://stackoverflow.com/users/10724515/certainlynotadrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550677999, "creation_date": 1550677648, "last_edit_date": 1550677821, "question_id": 54790224, "link": "https://stackoverflow.com/questions/54790224/how-to-append-children-to-divs-in-angular-7", "title": "How to append children to divs in Angular 7", "body": "<p>I'm trying to append a child to a div defined in html in Angular 7 but the following error keeps getting thrown:</p>\n\n<pre><code>Cannot read property 'appendChild' of null\n</code></pre>\n\n<p>This is the code causing the issue</p>\n\n<pre><code>export class ProductComponent{\nconstructor(){ \nthis.init\n}\ninit(){\n    //private container : any = document.createElement('div');\n    this.container.className = 'shirt_Model_Div';\n            const modelDiv = document.getElementById('shirtModelDiv');\n            modelDiv.appendChild(this.container); //error occurs here\n            this.renderer.setSize($(modelDiv).width(), $(modelDiv).height(), $(modelDiv).maxHeight);\n}\n  }\n</code></pre>\n\n<p>my html:</p>\n\n<pre><code>&lt;h1&gt;3d Model Basic&lt;/h1&gt;\n&lt;div id=\"shirtModelDiv\" style=\"width: calc(100%);\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Perhaps I have defined the code in the wrong place? I'm not familiar with the lifecycle of angular components</p>\n"}, {"tags": ["reactjs", "typescript", "ecmascript-6", "state"], "answers": [{"comments": [{"owner": {"reputation": 172, "user_id": 6946822, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xv6KJrpFKtw/AAAAAAAAAAI/AAAAAAAABC0/C4_jbhR0__w/photo.jpg?sz=128", "display_name": "John Detlefs", "link": "https://stackoverflow.com/users/6946822/john-detlefs"}, "edited": false, "score": 0, "creation_date": 1550680603, "post_id": 54791026, "comment_id": 96360526, "body": "This is great, if you want to enforce no state I guess really the answer is that you should be using a function. But if you want to you can do <code>Foo extends Component&lt;Props, null&gt;</code>. I&#39;d just love some sort of linter error that tells you if you don&#39;t define state you should refactor to a function or define it explicitly. The whole implicit overloading seems like an anti pattern to me."}, {"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "reply_to_user": {"reputation": 172, "user_id": 6946822, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xv6KJrpFKtw/AAAAAAAAAAI/AAAAAAAABC0/C4_jbhR0__w/photo.jpg?sz=128", "display_name": "John Detlefs", "link": "https://stackoverflow.com/users/6946822/john-detlefs"}, "edited": false, "score": 0, "creation_date": 1550680684, "post_id": 54791026, "comment_id": 96360577, "body": "See: <a href=\"https://www.typescriptlang.org/docs/handbook/type-compatibility.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/type-compatibility.html</a> -- TypeScript made some decisions here, largely for compatibility with JavaScript. It&#39;s not implicit overloading, it&#39;s actually <i>explicit</i> excess property checking."}], "tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": true, "score": 2, "last_activity_date": 1550679949, "creation_date": 1550679949, "answer_id": 54791026, "question_id": 54789973, "link": "https://stackoverflow.com/questions/54789973/why-does-typescript-allow-me-to-override-an-empty-state-object/54791026#54791026", "title": "Why does typescript allow me to override an empty state object?", "body": "<p>This took some digging to figure out the main question as I see it: why does TypeScript allow you to assign an object with properties to a property declared as an empty object?</p>\n\n<p>The answer seems to be buried in the <a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#3111-apparent-members\" rel=\"nofollow noreferrer\">TypeScript spec a bit</a></p>\n\n<blockquote>\n  <p>In effect, a type's apparent members make it a subtype of the 'Object' or 'Function' interface unless the type defines members that are incompatible with those of the 'Object' or 'Function' interface.</p>\n</blockquote>\n\n<p>That is to say, <code>{}</code> is treated the same as <code>Object</code> for type purposes. This allows you to create an object with additional properties of type <code>{}</code> which is what you are doing. Note that <code>this.state.foo</code> should <em>not</em> be allowed since the property <code>foo</code> doesn't exist on <code>{}</code>. Similarly, you wouldn't be able to do <code>this.state.foo =</code>.</p>\n\n<p>As for why you can pass an object with unknown properties to <code>Object</code> or <code>setState</code>, that has to do with TypeScript's type compatibility. See: <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/interfaces.html</a> for one explanation</p>\n\n<blockquote>\n  <p>Notice that our object actually has more properties than this, but the compiler only checks that <em>at least</em> the ones required are present and match the types required.</p>\n</blockquote>\n\n<p>This also explains:</p>\n\n<blockquote>\n  <p>Object literals get special treatment and undergo <em>excess property checking</em> when assigning them to other variables, or passing them as arguments.</p>\n</blockquote>\n\n<p>So the answer to your question seems to be that where you're using <code>{}</code> here, TypeScript is treating it as if you're using <code>Object</code> which is <em>not</em> an object literal type.</p>\n\n<p>I'm not sure how you would enforce the state having no properties, but on the other hand, I'm not sure how that would be useful. If you want a component with no properties, use a stateless or function component.</p>\n"}], "owner": {"reputation": 172, "user_id": 6946822, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xv6KJrpFKtw/AAAAAAAAAAI/AAAAAAAABC0/C4_jbhR0__w/photo.jpg?sz=128", "display_name": "John Detlefs", "link": "https://stackoverflow.com/users/6946822/john-detlefs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 2, "accepted_answer_id": 54791026, "answer_count": 1, "score": 5, "last_activity_date": 1550679949, "creation_date": 1550676963, "question_id": 54789973, "link": "https://stackoverflow.com/questions/54789973/why-does-typescript-allow-me-to-override-an-empty-state-object", "title": "Why does typescript allow me to override an empty state object?", "body": "<p>I read this code as defining state to be empty, but when I write this code, nothing errors. </p>\n\n<pre><code>export default class extends Component&lt;Props, {}&gt; {\n  state = {\n    foo: \"bar\"\n  };\n}\n</code></pre>\n\n<p>This doesn't error either:</p>\n\n<pre><code>export default class extends Component&lt;Props, {}&gt; {\n  constructor(props) {\n    super(props);\n    this.setState({ foo: \"bar\" });\n  }\n</code></pre>\n\n<p>I'm clearly not understanding something about TypeScript here. If I add an argument to the state object that is passed, both error showing the state discrepancy. It seems like <code>{}</code> doesn't provide any guard against being overwritten. I want to ensure from a linting perspective that state is always typed and pass as an argument or as null in the extension of the React Component, how can I set that up?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "charts"], "comments": [{"owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1550676647, "post_id": 54789820, "comment_id": 96358091, "body": "You&#39;re meaning the <code>angular.json</code> instead of  <code>package.json</code>, right?"}, {"owner": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "edited": false, "score": 0, "creation_date": 1550676725, "post_id": 54789820, "comment_id": 96358133, "body": "<code>declare var Chart: any</code> try to declare a variable in your component where you want to use the chart"}], "answers": [{"comments": [{"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1550678233, "post_id": 54789985, "comment_id": 96359103, "body": "Look at the github repo, it&#39;s an addition <a href=\"https://github.com/jedtrow/Chart.js-Rounded-Bar-Charts\" rel=\"nofollow noreferrer\">github.com/jedtrow/Chart.js-Rounded-Bar-Charts</a> So I&#39;m wondering how to integrate it"}], "tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": false, "score": 0, "last_activity_date": 1550677006, "creation_date": 1550677006, "answer_id": 54789985, "question_id": 54789820, "link": "https://stackoverflow.com/questions/54789820/integrating-js-file-to-anuglar/54789985#54789985", "title": "Integrating js file to Anuglar", "body": "<p>Your options must follow the <code>ChartOptions</code> interface (refer to <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/chart.js/index.d.ts\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/chart.js/index.d.ts</a>)</p>\n\n<pre><code>    interface ChartOptions {\n        responsive?: boolean;\n        responsiveAnimationDuration?: number;\n        aspectRatio?: number;\n        maintainAspectRatio?: boolean;\n        events?: string[];\n        legendCallback?(chart: Chart): string;\n        onHover?(this: Chart, event: MouseEvent, activeElements: Array&lt;{}&gt;): any;\n        onClick?(event?: MouseEvent, activeElements?: Array&lt;{}&gt;): any;\n        onResize?(this: Chart, newSize: ChartSize): void;\n        title?: ChartTitleOptions;\n        legend?: ChartLegendOptions;\n        tooltips?: ChartTooltipOptions;\n        hover?: ChartHoverOptions;\n        animation?: ChartAnimationOptions;\n        elements?: ChartElementsOptions;\n        layout?: ChartLayoutOptions;\n        scales?: ChartScales;\n        showLines?: boolean;\n        spanGaps?: boolean;\n        cutoutPercentage?: number;\n        circumference?: number;\n        rotation?: number;\n        devicePixelRatio?: number;\n        plugins?: ChartPluginsOptions;\n    }\n</code></pre>\n\n<p>I can't see the whole object, but at least <code>conrnerRadius</code> is not a property of ChartOptions</p>\n"}], "owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550678181, "creation_date": 1550676480, "last_edit_date": 1550678181, "question_id": 54789820, "link": "https://stackoverflow.com/questions/54789820/integrating-js-file-to-anuglar", "title": "Integrating js file to Anuglar", "body": "<p>I would integrate this library <a href=\"https://github.com/jedtrow/Chart.js-Rounded-Bar-Charts\" rel=\"nofollow noreferrer\">on github</a> in my Angular project that adds a new option to my chartJS graph</p>\n\n<pre><code>@ViewChild('myChart') myChart: ElementRef;\nmyChartBis: Chart;\n....\n....\n\nconst ctx = this.myChart.nativeElement.getContext('2d');\nthis.myChartBis = new Chart(ctx, {\n  type: 'bar',\n  data: {\n    labels: this.labels,\n    datasets: [{\n      label: 'test',\n      showLine: true,\n      lineTension: 0,\n      data: this.data,\n      fill: false,\n      pointBorderColor: '#cd0037',\n      pointBackgroundColor: '#ffffff',\n      borderColor: [\n        '#747678',\n      ],\n      borderWidth: 0\n    }\n    ],\n  },\n  options: {\n    showLines: true,\n    legend: {\n      display: false,\n    },\n    responsive: true,\n    maintainAspectRatio: true,\n    cornerRadius: 20,\n    ...\n  }\n});\n</code></pre>\n\n<p>Here's the steps I made </p>\n\n<ol>\n<li><p>I have added the js file in <code>angular.json</code> under <code>build</code></p>\n\n<p><code>scripts\": [\n   \"src/assets/scripts/Chart.roundedBarCharts.js\"\n  ]</code></p></li>\n<li><p>add <code>cornerRadius: 20</code> to graph options</p></li>\n<li>restart app.</li>\n</ol>\n\n<p>I get an error that it does not recognize the new option :</p>\n\n<pre><code>Type '{ showLines: true; legend: { display: false; }; responsive: true; maintainAspectRatio: true; corn...' is not assignable to type 'ChartOptions'.\n</code></pre>\n\n<p>I gess that I have not well imported js file into Angular app</p>\n"}, {"tags": ["javascript", "typescript", "protractor"], "comments": [{"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1550715886, "post_id": 54789582, "comment_id": 96374010, "body": "Please show the function code of  <code>until.elementIsVisible</code>."}, {"owner": {"reputation": 18, "user_id": 11089950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXGvm.jpg?s=128&g=1", "display_name": "Winify", "link": "https://stackoverflow.com/users/11089950/winify"}, "reply_to_user": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1550739116, "post_id": 54789582, "comment_id": 96382336, "body": "The <code>until.elementIsVisible</code> code fragment is from the webdriver-js module that the protractor wraps around: <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/javascript/node/selenium-webdriver/lib/until.js#L301\" rel=\"nofollow noreferrer\">until.elementIsVisible source code</a>"}], "answers": [{"comments": [{"owner": {"reputation": 18, "user_id": 11089950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXGvm.jpg?s=128&g=1", "display_name": "Winify", "link": "https://stackoverflow.com/users/11089950/winify"}, "edited": false, "score": 0, "creation_date": 1550738464, "post_id": 54790527, "comment_id": 96381933, "body": "No, the until is from the basic webdriver-js module. The import are : <code>import { browser, by, element, ElementFinder, ExpectedConditions, until } from &#39;protractor&#39;;</code> (I edited the question as well.)"}], "tags": [], "owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "is_accepted": false, "score": 0, "last_activity_date": 1550678485, "creation_date": 1550678485, "answer_id": 54790527, "question_id": 54789582, "link": "https://stackoverflow.com/questions/54789582/protractor-using-expected-condition-as-parameter-in-typescript-callback-function/54790527#54790527", "title": "Protractor using Expected Condition as parameter in TypeScript callback functions", "body": "<p>I am assuming you have until defined similarly to<br>\n<code>import {ExpectedConditions as until} from 'protractor'</code>\nThis means that <code>ExpectedConditions.stuff</code> and <code>until.stuff</code> are basically the exact same.<br>\nHowever, <code>elementIsVisible</code> is not an ExpectedCondition. You are correct in using <code>visibilityOf</code>.<br>\nCheck out the <a href=\"https://www.protractortest.org/#/api?view=ProtractorExpectedConditions\" rel=\"nofollow noreferrer\">Expected Conditions Documentation</a></p>\n"}, {"comments": [{"owner": {"reputation": 18, "user_id": 11089950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXGvm.jpg?s=128&g=1", "display_name": "Winify", "link": "https://stackoverflow.com/users/11089950/winify"}, "edited": false, "score": 0, "creation_date": 1550756438, "post_id": 54805246, "comment_id": 96393365, "body": "Thank you! Your solution works as a charm! I had a notion that it has to do something with apply/bind/call, but I am quite a beginner in TS so I couldnt figure it out."}, {"owner": {"reputation": 18, "user_id": 11089950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXGvm.jpg?s=128&g=1", "display_name": "Winify", "link": "https://stackoverflow.com/users/11089950/winify"}, "edited": false, "score": 0, "creation_date": 1550758846, "post_id": 54805246, "comment_id": 96394947, "body": "The reason for the <code>&#47;selenium-webdriver&#47;lib&#47;until.js</code> block was to provide an example, that it somehow works without a <code>bind()</code>"}], "tags": [], "owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "is_accepted": true, "score": 0, "last_activity_date": 1550746102, "creation_date": 1550746102, "answer_id": 54805246, "question_id": 54789582, "link": "https://stackoverflow.com/questions/54789582/protractor-using-expected-condition-as-parameter-in-typescript-callback-function/54805246#54805246", "title": "Protractor using Expected Condition as parameter in TypeScript callback functions", "body": "<p>Your issue comes from the <code>this</code>, look at the <code>visibilityOf</code> definition at following or from <a href=\"https://github.com/angular/protractor/blob/5.4.1/lib/expectedConditions.ts#L393\" rel=\"nofollow noreferrer\">github</a></p>\n\n<pre><code>  visibilityOf(elementFinder: ElementFinder): Function {\n    return this.and(this.presenceOf(elementFinder), () =&gt; {\n      return elementFinder.isDisplayed().then(passBoolean, falseIfMissing);\n    });\n  }\n</code></pre>\n\n<p>As you see there is <code>this.and</code>.</p>\n\n<pre><code>ExpectedConditions.visibilityOf(searchBtn)\n//if you call visibilityOf() in one line, the `this` is not null/undefined\n//`this` has value, it's `ExpectedConditions` itself.\n\n// but if you do as following\n\nfunction callbackWait(condition, ele) {\n    browser.wait(condition(ele), 1000)\n}\n\nvar btn = element(by.css('#id'))\nvar cond1 = ExpectedConditions.visibilityOf\ncallbackWait(cond1, btn)\n\n// after you assign function `visibilityOf` to cond1\n// the `this` value missed, it will becomes undefined.\n// thus when you call cond1(ele) inside callbackWait, \n// this.and reports: Cannot read property 'and' of undefined\n</code></pre>\n\n<p>To fix the <code>this</code> value missing issue, you need to use <code>bind()</code> to bind a value to 'this'.</p>\n\n<pre><code>it('should work with EC callback', () =&gt; {\n    let cond = ExpectedConditions.visibilityOf.bind(ExpectedConditions);\n    // assign ExpectedConditions back to `this` via bind()\n    callbackWait(cond, searchBtn)\n});\n</code></pre>\n\n<p>Except <code>this</code> issue, your <code>callbackWait()</code> also has issue.</p>\n\n<pre><code>// for ExpectedConditions.xxxx, it's only accept ElementFinder type\n// if parameter: condition value like ExpectedConditions.visibilityOf\nfunction callbackWait(condition, element: any) {\n    browser.wait(condition(element), 1000)\n}\n\n// but for webdirver.util.xxxx, it's only accept WebEelment type\n// if parameter: condition value like util.elementIsVisible\nfunction callbackWait(condition, element: any) {\n    browser.wait(condition(element.getWebElement()), 1000)\n}\n</code></pre>\n\n<p>Actually, <code>ExpectedConditions</code> supply all features of <code>/selenium-webdriver/lib/until.js</code>, thus no need to mix them to use in script.</p>\n"}], "owner": {"reputation": 18, "user_id": 11089950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXGvm.jpg?s=128&g=1", "display_name": "Winify", "link": "https://stackoverflow.com/users/11089950/winify"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 0, "accepted_answer_id": 54805246, "answer_count": 2, "score": 0, "last_activity_date": 1550746102, "creation_date": 1550675687, "last_edit_date": 1550738552, "question_id": 54789582, "link": "https://stackoverflow.com/questions/54789582/protractor-using-expected-condition-as-parameter-in-typescript-callback-function", "title": "Protractor using Expected Condition as parameter in TypeScript callback functions", "body": "<p>I'm trying to pass an ExpectedConditions function as a parameter to a function.</p>\n\n<p>This way I could interchange the different conditions, and I wouldn't have to create functions for each one for easier usage.</p>\n\n<p>The problem is, that Protractor throws an error:</p>\n\n<blockquote>\n  <p>Failed: Cannot read property 'and' of undefined</p>\n</blockquote>\n\n<p>and it points to the ExpectedConditions implementation.</p>\n\n<p>Code that could reproduce the issue and shows my intent:</p>\n\n<pre><code>import { browser, by, element, ElementFinder, ExpectedConditions, until } from 'protractor';\n\ndescribe('wait on google page', () =&gt; {\n\n    const searchBtn = element.all(by.name('btnK')).last()\n\n    beforeEach(() =&gt; {\n        browser.get('https://www.google.com');\n    });\n\n    it('should work with until callback', () =&gt; {\n        callbackWait(until.elementIsVisible, searchBtn)\n    });\n\n    it('should work with ExpectedConditions', () =&gt; {\n        browser.wait(ExpectedConditions.visibilityOf(searchBtn), 1_000)\n    });\n\n    it('should work with EC callback', () =&gt; {\n        callbackWait(ExpectedConditions.visibilityOf, searchBtn)\n    });\n\n});\n\nfunction callbackWait(condition, element: ElementFinder) {\n    browser.wait(condition(element.getWebElement()), 1_000)\n}\n</code></pre>\n\n<p>With <code>until.elementIsVisible</code> the code works as intended, its the same if I use the ExpectedCondition in the <code>browser.wait()</code>, the error occurs if I use the ExpectedCondition as I use the <code>until.elementIsVisible</code>.</p>\n\n<p>Any suggestions for a workaround or tip for what did I do wrong?</p>\n\n<p>npm package.json dependencies:</p>\n\n<pre><code>  \"devDependencies\": {\n    \"@types/jasmine\": \"^3.3.0\",\n    \"@types/jasminewd2\": \"^2.0.6\",\n    \"jasmine\": \"^3.3.0\",\n    \"protractor\": \"^5.4.2\",\n    \"ts-node\": \"^7.0.1\",\n    \"typescript\": \"^3.1.6\"\n  }\n</code></pre>\n"}, {"tags": ["typescript", "protractor"], "comments": [{"owner": {"reputation": 1426, "user_id": 2260166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJzNE.png?s=128&g=1", "display_name": "itdoesntwork", "link": "https://stackoverflow.com/users/2260166/itdoesntwork"}, "edited": false, "score": 0, "creation_date": 1550676409, "post_id": 54789510, "comment_id": 96357945, "body": "please provide more details and a minimum sample so we can recreate your issue."}, {"owner": {"reputation": 123, "user_id": 11011124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6lokX.jpg?s=128&g=1", "display_name": "Muhammad Irfan", "link": "https://stackoverflow.com/users/11011124/muhammad-irfan"}, "reply_to_user": {"reputation": 1426, "user_id": 2260166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJzNE.png?s=128&g=1", "display_name": "itdoesntwork", "link": "https://stackoverflow.com/users/2260166/itdoesntwork"}, "edited": false, "score": 0, "creation_date": 1550773765, "post_id": 54789510, "comment_id": 96404306, "body": "I was trying to work out how to wait for AJAX calls to complete in Protractor."}, {"owner": {"reputation": 195, "user_id": 8037215, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209626011662386/picture?type=large", "display_name": "Farmijo", "link": "https://stackoverflow.com/users/8037215/farmijo"}, "edited": false, "score": 0, "creation_date": 1550841282, "post_id": 54789510, "comment_id": 96430551, "body": "Protractor, for angular apps, handles this for you. Can you provide more context?"}, {"owner": {"reputation": 1082, "user_id": 5591519, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lVfFbIebPdk/AAAAAAAAAAI/AAAAAAAAAC0/aJ-GcD8mvGE/photo.jpg?sz=128", "display_name": "Shivam Bharadwaj", "link": "https://stackoverflow.com/users/5591519/shivam-bharadwaj"}, "edited": false, "score": 0, "creation_date": 1585803925, "post_id": 54789510, "comment_id": 107892572, "body": "@MuhammadIrfan please provide more details"}], "owner": {"reputation": 123, "user_id": 11011124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6lokX.jpg?s=128&g=1", "display_name": "Muhammad Irfan", "link": "https://stackoverflow.com/users/11011124/muhammad-irfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550675491, "creation_date": 1550675491, "question_id": 54789510, "link": "https://stackoverflow.com/questions/54789510/protractor-how-to-wait-for-ajax-to-be-loaded", "title": "Protractor: How to wait for AJAX to be loaded", "body": "<p>How to wait for AJAX in Protractor. Question is, to wait for AJAX to be loaded.</p>\n"}, {"tags": ["angular", "typescript", "ng-class"], "comments": [{"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550675030, "post_id": 54789292, "comment_id": 96357002, "body": "Does the data returned correctly?"}, {"owner": {"reputation": 3991, "user_id": 6351733, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh6.googleusercontent.com/-7rlHnLUn8UY/AAAAAAAAAAI/AAAAAAAAAAA/muEcVvpCdcM/photo.jpg?sz=128", "display_name": "Maurice", "link": "https://stackoverflow.com/users/6351733/maurice"}, "reply_to_user": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550675167, "post_id": 54789292, "comment_id": 96357084, "body": "are all the socialMediaTypes fields populated with correct values? Yes. I can see sowhen i hover over each icon, The title then appears and this has the socialMediaType value as its content"}, {"owner": {"reputation": 1998, "user_id": 8048748, "user_type": "registered", "profile_image": "https://graph.facebook.com/1674282325934326/picture?type=large", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/8048748/tiago-silva"}, "edited": false, "score": 0, "creation_date": 1550675196, "post_id": 54789292, "comment_id": 96357102, "body": "Which is your version of font awesome? at least for versions 5.x+ there seems to be different declarations for example facebook its not like that <a href=\"https://fontawesome.com/icons?d=gallery&amp;q=facebook\" rel=\"nofollow noreferrer\">fontawesome.com/icons?d=gallery&amp;q=facebook</a>"}, {"owner": {"reputation": 3991, "user_id": 6351733, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh6.googleusercontent.com/-7rlHnLUn8UY/AAAAAAAAAAI/AAAAAAAAAAA/muEcVvpCdcM/photo.jpg?sz=128", "display_name": "Maurice", "link": "https://stackoverflow.com/users/6351733/maurice"}, "edited": false, "score": 0, "creation_date": 1550675259, "post_id": 54789292, "comment_id": 96357136, "body": "i&#39;m using 4.7.0"}, {"owner": {"reputation": 3991, "user_id": 6351733, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh6.googleusercontent.com/-7rlHnLUn8UY/AAAAAAAAAAI/AAAAAAAAAAA/muEcVvpCdcM/photo.jpg?sz=128", "display_name": "Maurice", "link": "https://stackoverflow.com/users/6351733/maurice"}, "edited": false, "score": 0, "creation_date": 1550675297, "post_id": 54789292, "comment_id": 96357160, "body": "@import &#39;<a href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" rel=\"nofollow noreferrer\">cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/&hellip;</a>&#39;;"}], "answers": [{"comments": [{"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550676345, "post_id": 54789556, "comment_id": 96357902, "body": "Nice, but can you explain how the fa is removed from the previous one? even the condition looks good"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "reply_to_user": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 1, "creation_date": 1550676536, "post_id": 54789556, "comment_id": 96358026, "body": "@NguyenPhongThien - If the value is <code>&#39;YOUTUBE&#39;</code>, the first condition sets <code>fa fa-youtube</code>. But the second conditon (for <code>&#39;FACEBOOK&#39;</code>) is false, and it removes <code>fa fa-facebook-official</code>. So, <code>fa</code> is removed in the process."}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550676681, "post_id": 54789556, "comment_id": 96358108, "body": "Oh, the engine is so weird, I thought it should take the whole string as a condition, not separate them like that. Thank you anyway @ConnorsFan"}], "tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 6, "last_activity_date": 1550683792, "last_edit_date": 1550683792, "creation_date": 1550675613, "answer_id": 54789556, "question_id": 54789292, "link": "https://stackoverflow.com/questions/54789292/only-one-font-awesome-icon-displaying-correctly-using-ngclass-conditions/54789556#54789556", "title": "Only one font awesome icon displaying correctly using [ngClass] conditions", "body": "<p>In your <code>ngClass</code> binding, if a condition is <code>true</code>, it sets the <code>fa</code> class. However, the following conditions, which are <code>false</code>, remove it. That is why the <code>fa</code> class is preserved only when the last condition is <code>true</code>.</p>\n\n<p>You should set the common class <code>fa</code> outside of the conditional <code>ngClass</code> binding:</p>\n\n<pre><code>&lt;i [title]=\"socialMediaLink.socialMediaType\" \n  class=\"fa\" \n  [ngClass]=\"{\n    'fa-youtube': socialMediaLink.socialMediaType === 'YOUTUBE',\n    'fa-facebook-official': socialMediaLink.socialMediaType === 'FACEBOOK',\n    'fa-twitter': socialMediaLink.socialMediaType === 'TWITTER',\n    'fa-reddit': socialMediaLink.socialMediaType === 'REDDIT',\n    'fa-pinterest': socialMediaLink.socialMediaType === 'PINTEREST',\n    'fa-linkedin-square': socialMediaLink.socialMediaType === 'LINKEDIN',\n    'fa-instagram': socialMediaLink.socialMediaType === 'INSTAGRAM',\n    'fa-google-plus': socialMediaLink.socialMediaType === 'GOOGLE_PLUS',\n    'fa-tumblr-square': socialMediaLink.socialMediaType === 'TUMBLR',\n    'fa-vimeo-square': socialMediaLink.socialMediaType === 'VIMEO',\n    'fa-vk': socialMediaLink.socialMediaType === 'VKONTAKTE',\n    'fa-weibo': socialMediaLink.socialMediaType === 'WEIBO',\n    'fa-renren': socialMediaLink.socialMediaType === 'RENREN',\n    'fa-odnoklassniki': socialMediaLink.socialMediaType === 'ODNOKLASSNIKI',\n    'fa-flickr': socialMediaLink.socialMediaType === 'FLICKR'\n  }\"&gt;&lt;/i&gt;\n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-mbxbct?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">this stackblitz</a> for a demo.</p>\n\n<hr/>\n\n<p>An alternative solution is to keep <code>fa</code> in the <code>ngClass</code> binding, and to set its condition to <code>true</code>:</p>\n\n<pre><code>&lt;i [title]=\"socialMediaLink.socialMediaType\" \n  [ngClass]=\"{\n    'fa': true,\n    'fa-youtube': socialMediaLink.socialMediaType === 'YOUTUBE',\n    ...\n  }\"&gt;&lt;/i&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3991, "user_id": 6351733, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh6.googleusercontent.com/-7rlHnLUn8UY/AAAAAAAAAAI/AAAAAAAAAAA/muEcVvpCdcM/photo.jpg?sz=128", "display_name": "Maurice", "link": "https://stackoverflow.com/users/6351733/maurice"}, "edited": false, "score": 0, "creation_date": 1586934808, "post_id": 61216275, "comment_id": 108307768, "body": "it would be best to turn this into a new question where you make a reference to ConnorFans&#39;s answer :) You will be much more likely to get an answer if you turn it into a new SO question."}, {"owner": {"reputation": 153, "user_id": 6860460, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/07a897f963bdba04ecf8bb89ff50f7ef?s=128&d=identicon&r=PG&f=1", "display_name": "coder101", "link": "https://stackoverflow.com/users/6860460/coder101"}, "reply_to_user": {"reputation": 3991, "user_id": 6351733, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh6.googleusercontent.com/-7rlHnLUn8UY/AAAAAAAAAAI/AAAAAAAAAAA/muEcVvpCdcM/photo.jpg?sz=128", "display_name": "Maurice", "link": "https://stackoverflow.com/users/6351733/maurice"}, "edited": false, "score": 0, "creation_date": 1586949561, "post_id": 61216275, "comment_id": 108315288, "body": "@Maurice - thanks for the suggestion.  I was also intending for my answer to be available to others looking for an alternative solution to this issue, hence this post."}], "tags": [], "owner": {"reputation": 153, "user_id": 6860460, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/07a897f963bdba04ecf8bb89ff50f7ef?s=128&d=identicon&r=PG&f=1", "display_name": "coder101", "link": "https://stackoverflow.com/users/6860460/coder101"}, "is_accepted": false, "score": 0, "last_activity_date": 1586895657, "last_edit_date": 1586895657, "creation_date": 1586894797, "answer_id": 61216275, "question_id": 54789292, "link": "https://stackoverflow.com/questions/54789292/only-one-font-awesome-icon-displaying-correctly-using-ngclass-conditions/61216275#61216275", "title": "Only one font awesome icon displaying correctly using [ngClass] conditions", "body": "<p>I tried the approach above from @ConnorsFun and unfortunately it didn't work for me.  This is my code for both of the approaches above (using font awesome 5 in which prefix 'fa' has been changed to 'fas):</p>\n\n<pre><code>&lt;i class='fas' [ngClass]=\"{'fa-plus': filterCategories[0]['collapse'], 'fa-minus': !filterCategories[0]['collapse']}\"&gt;&lt;/i&gt; {{filterCategories[0]['name']}}\n\n&lt;i [ngClass]=\"{'fas': true, 'fa-plus': filterCategories[0]['collapse'], 'fa-minus': !filterCategories[0]['collapse']}\"&gt;&lt;/i&gt; {{filterCategories[0]['name']}}\n</code></pre>\n\n<p>The code is supposed to change the icon from fa-minus (when value of <code>filterCategories[0]['collapse']</code> is false) to fa-plus (when value of <code>filterCategories[0]['collapse']</code> is true), but the icon remains stuck at fa-minus regardless of the <code>filterCategories[0]['collapse']</code> value.</p>\n\n<p>An alternative that I used is having multiple  elements with ngIf statements.  For example:</p>\n\n<pre><code>&lt;span *ngIf=\"socialMediaLink.socialMediaType === 'YOUTUBE'&gt;&lt;i class= 'fas fa-youtube'&gt;&lt;/span&gt;\n&lt;span *ngIf=\"socialMediaLink.socialMediaType === FACEBOOK&gt;&lt;i class= 'fas fa-facebook-official'&gt;&lt;/span&gt;\n</code></pre>\n\n<p>and so on \u2026</p>\n\n<p>Even though this approach works well, I personally prefer the response above from @ConnonrsFan if I can get it to work.</p>\n"}], "owner": {"reputation": 3991, "user_id": 6351733, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh6.googleusercontent.com/-7rlHnLUn8UY/AAAAAAAAAAI/AAAAAAAAAAA/muEcVvpCdcM/photo.jpg?sz=128", "display_name": "Maurice", "link": "https://stackoverflow.com/users/6351733/maurice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1198, "favorite_count": 1, "accepted_answer_id": 54789556, "answer_count": 2, "score": 2, "last_activity_date": 1586895657, "creation_date": 1550674817, "last_edit_date": 1550675328, "question_id": 54789292, "link": "https://stackoverflow.com/questions/54789292/only-one-font-awesome-icon-displaying-correctly-using-ngclass-conditions", "title": "Only one font awesome icon displaying correctly using [ngClass] conditions", "body": "<p>I am building a user profile where the user can submit links to his or her social media accounts. Each account is represented with a clickable link. Which icon should be chosen is decided by multiple conditions in [ngClass], heres the code:</p>\n\n<pre><code>    &lt;div *ngIf=\"socialMediaLinkList.length &gt; 0\" class=\"topic\"&gt;\n            &lt;strong&gt;can be followed on:&lt;/strong&gt;\n                &lt;a *ngFor=\"let socialMediaLink of socialMediaLinkList\" [href]=\"socialMediaLink.link\"&gt;\n                    &lt;i [title]=\"socialMediaLink.socialMediaType\" \n                    [ngClass]=\"{\n                        'fa fa-youtube':socialMediaLink.socialMediaType === 'YOUTUBE',\n                        'fa fa-facebook-official':socialMediaLink.socialMediaType === 'FACEBOOK',\n                        'fa fa-twitter':socialMediaLink.socialMediaType === 'TWITTER',\n                        'fa fa-reddit':socialMediaLink.socialMediaType === 'REDDIT',\n                        'fa fa-pinterest':socialMediaLink.socialMediaType === 'PINTEREST',\n                        'fa fa-linkedin-square':socialMediaLink.socialMediaType === 'LINKEDIN',\n                        'fa fa-instagram':socialMediaLink.socialMediaType === 'INSTAGRAM',\n                        'fa fa-google-plus':socialMediaLink.socialMediaType === 'GOOGLE_PLUS',\n                        'fa fa-tumblr-square':socialMediaLink.socialMediaType === 'TUMBLR',\n                        'fa fa-vimeo-square':socialMediaLink.socialMediaType === 'VIMEO',\n                        'fa fa-vk':socialMediaLink.socialMediaType === 'VKONTAKTE',\n                        'fa fa-weibo':socialMediaLink.socialMediaType === 'WEIBO',\n                        'fa fa-renren':socialMediaLink.socialMediaType === 'RENREN',\n                        'fa fa-odnoklassniki':socialMediaLink.socialMediaType === 'ODNOKLASSNIKI',\n                        'fa fa-flickr':socialMediaLink.socialMediaType === 'FLICKR'\n                }\"&gt;&lt;/i&gt;\n                &lt;/a&gt; \n        &lt;mat-divider&gt;&lt;/mat-divider&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>The problem is that only the last icon in the condition list is displaying correctly, all the others are displayed like uniform blocks like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Dn4Cd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dn4Cd.png\" alt=\"enter image description here\"></a></p>\n\n<p>And this is only because FLICKR happens to be in the list of randomly generated social media accounts. If FLICKR is not part of that list then all the social media account icons will be blocks. Things change if for example i swap the condition for ODNOKLASSNIKI with FLICKR, making ODNOKLASSNIKI be the last. Now Odnoklassniki is the only icon that will display correctly.</p>\n\n<p>I've followed the ngClass example here <a href=\"https://codecraft.tv/courses/angular/built-in-directives/ngstyle-and-ngclass/\" rel=\"nofollow noreferrer\">https://codecraft.tv/courses/angular/built-in-directives/ngstyle-and-ngclass/</a> and i as far as i'm concerned i'm not making any errors. </p>\n\n<p>Heres how the list is being initialized using the SocialMediaLink class</p>\n\n<pre><code>export class SocialMediaLink{\n  constructor(public socialMediaType:string, public link: string){}\n}\n\nif(this.aboutSection.socialMediaAccounts !== undefined){\n    this.selectedSocialMediaAccounts = new Map&lt;SocialMedia,string&gt;((&lt;any&gt;Object).entries(this.aboutSection.socialMediaAccounts));\n    this.selectedSocialMediaAccounts.forEach((link: string, socialMediaType:SocialMedia) =&gt; \n    this.socialMediaLinkList.push(new SocialMediaLink(socialMediaType.toString(), link)));\n} \n</code></pre>\n\n<p>Can anyone tell me how i can remedy this problem? Thank you</p>\n\n<p>EDIT: this is the font awesome cdn i'm using @import '<a href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" rel=\"nofollow noreferrer\">https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css</a>';</p>\n"}, {"tags": ["node.js", "typescript", "protractor", "ui-automation"], "comments": [{"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1551000453, "post_id": 54789265, "comment_id": 96473133, "body": "Are you importing all pageObjects for each test? If so is this required? Is there a possibility that there is a single function that is causing this problem, such as one looping over a huge number of iterations?"}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1551111828, "post_id": 54789265, "comment_id": 96511496, "body": "Yes. You are right. So when I comment the object created for a helper function, everything works fine. But I need them. I just don&#39;t know how to use them without running into the above problem."}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1551112139, "post_id": 54789265, "comment_id": 96511682, "body": "Are you referring to the framework helper functions or application helper functions? I assume these are separate files?"}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1551113116, "post_id": 54789265, "comment_id": 96512207, "body": "By framework, are you asking TS? I have a helpers file for the automation framework(approx 10 functions for like click, select dropdown, check if element is present, etc) and I have another project/application helper (approx 10 functions for functions like check if all 10 checkboxes are displayed, check if 4 buttons are displayed, etc.) Both are separate files."}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 1, "creation_date": 1551113735, "post_id": 54789265, "comment_id": 96512579, "body": "Ok, based on that it&#39;s highly unlikely you have too many functions. I have some page objects with 50+ methods which work just fine. Could you post an example of the structure of one of those helper files with a few sample functions?"}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1551114089, "post_id": 54789265, "comment_id": 96512785, "body": "I have added some sample code for your reference. :) 50 is ideal. I am nowhere near, which is what makes me wonder."}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1551115680, "post_id": 54789265, "comment_id": 96513608, "body": "Thanks for posting that, I was actually looking for some of the sample code from myAppHelper as that is likely where the issue is. Also, the debugger keyword will not work so you can comment that line out. I cannot recall why exactly but it is a known issue"}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1551116334, "post_id": 54789265, "comment_id": 96513871, "body": "Spot on. debugger; doesn&#39;t work in VSCode. Do you know why? Ok, I will paste the code."}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1551116989, "post_id": 54789265, "comment_id": 96514169, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/189012/discussion-between-williamtell-and-dublindev\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1551255673, "post_id": 54789265, "comment_id": 96569215, "body": "Not sure if you have seen it yet but I did respond in the chat with you william"}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 1, "creation_date": 1551454797, "post_id": 54789265, "comment_id": 96658520, "body": "Thanks for the help @DublinDev The error got resolved on its own when I checked out the same project in a different location. I have no idea how it got resolved. The same project in the previous location is still throwing the error. Weird. Sometimes, just copy pasting or checking out the same project in a different place just helps :)"}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1551456441, "post_id": 54789265, "comment_id": 96659482, "body": "Ha those weird errors are by far the most frustrating to debug. Glad you got it sorted anyway!"}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 1, "creation_date": 1551456545, "post_id": 54789265, "comment_id": 96659528, "body": "You bet. Thanks again. It is because of people like you and the help that you provide to the community, I keep coming back and return the favour to others. Have a good day :)"}], "answers": [{"tags": [], "owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "is_accepted": false, "score": 0, "last_activity_date": 1551456585, "creation_date": 1551456585, "answer_id": 54948356, "question_id": 54789265, "link": "https://stackoverflow.com/questions/54789265/getting-rangeerror-maximum-call-stack-size-exceeded-on-protractor-typescript-au/54948356#54948356", "title": "Getting RangeError: Maximum call stack size exceeded on Protractor Typescript Automation Framework", "body": "<p>The error got resolved on its own when I checked out the same project in a different location. I have no idea how it got resolved. The same project in the previous location is still throwing the error. Weird. Sometimes, just copy pasting or checking out the same project in a different place just helps :) </p>\n"}], "owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 289, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551456585, "creation_date": 1550674748, "last_edit_date": 1551116959, "question_id": 54789265, "link": "https://stackoverflow.com/questions/54789265/getting-rangeerror-maximum-call-stack-size-exceeded-on-protractor-typescript-au", "title": "Getting RangeError: Maximum call stack size exceeded on Protractor Typescript Automation Framework", "body": "<p>Here's the structure of my UI automation framework. It is Typescript compiling to Protractor.</p>\n\n<p><strong>3 Specs:</strong></p>\n\n<p>Each Import from page objects, application helpers and framework helpers</p>\n\n<p><strong>Page objects:</strong>\nImport functions from helper.\nImport functions from application helper. //Commenting this works wonders and doesn't throw errors</p>\n\n<p><strong>Framework Helper functions:</strong>\nJust functions.</p>\n\n<p><strong>Application Helper functions:</strong>\nImport functions from helper.</p>\n\n<p>I read that if there are too many functions this will happen. But this is necessary for my framework to not bloat into messy unmanageable code.</p>\n\n<p>How to avoid this? What are the best practices?</p>\n\n<p>Error:</p>\n\n<pre><code>\u00d7 encountered a declaration exception\n      - RangeError: Maximum call stack size exceeded\n</code></pre>\n\n<p>Additionally with such a complex framework,</p>\n\n<pre><code>debugger;\n</code></pre>\n\n<p>just doesn't work.</p>\n\n<p><strong>Sample Code:</strong></p>\n\n<pre><code>describe('My app', () =&gt; {\n    debugger;\n    let login = new LoginPage(),//Has a few functions\n        dashboard = new DashboardPage(); //Has a few functions\n    // myApp: myAppHelper = new myAppHelper();//Has a few functions. Called in all the page object files. If commented everywhere except 1 then works fine.\n\n    //There are just 3 spec files and 3 page objects. No infinite loops anywhere and everything is quite straightforward.\n\n    beforeEach(async () =&gt; {\n        browser.ignoreSynchronization = true;\n    });\n    afterEach(async () =&gt; {\n        await console.log(\"Step completed.\")\n    });\n\n\n    it('open all admin pages', async () =&gt; {\n        try {\n            browser.pause();\n            // await myApp.login();\n            await login.loginToMyApp('UserID', 'Password');\n            await browser.sleep(5000);\n            // await dashboard.openAdminPurposes();\n            await browser.sleep(5000);\n            // await dashboard.openAdminmyAppProcesses();\n            await browser.sleep(5000);\n        }\n        catch (error) {\n            console.log(\"Open admin pages failed.\" + error);\n        }\n    });\n\n</code></pre>\n\n<p><strong>Application Helper</strong></p>\n\n<pre><code>/**\n * A library of reusable functions that can be used across the abc.\n * Do NOT add any functions that are related to the automation framework.\n */\nimport { browser, by, WebElement, element } from 'protractor';\nimport { Helper } from './helper';\nimport { DashboardPage } from './page-objects/abc/dashboard-page';\n\n\nexport class myAppHelper {\n    helper: Helper = new Helper();\n    dashboardPage: DashboardPage = new DashboardPage();\n    currentEnvironment: string = \"beta\";\n    serverURL: string = this.setServerURL(this.currentEnvironment);\n    subSt: string = \"/v3/abc/view/\";\n    adminSt: string = \"/v3/abc/admin/\";\n    URL: string = this.serverURL;\n\n    setServerURL(env: string): string {\n        if (env.toLowerCase() == \"beta\") {\n            return this.serverURL = \"https://beta-abcde.abc.com\";\n        }\n        else {\n            return this.serverURL = \"https://abcde.abc.com\";\n        }\n    }\n\n    async login(): Promise&lt;void&gt; {\n        await browser.get(this.URL);\n    }\n\n    async gotoDashboard(): Promise&lt;void&gt; {\n        await browser.get(this.URL + this.subSt + \"dashboard\");\n        await this.helper.compareText(this.dashboardPage.dashboardHeader, \"Dashboard\");\n    }\n\n    async gotoProjectsList(): Promise&lt;void&gt; {\n        await browser.get(this.URL + this.subSt + \"projects\");\n    }\n\n    //Admin Pages\n    async gotoAdminPurposes(): Promise&lt;void&gt; {\n        await browser.get(this.URL + this.adminSt + \"purposes\");\n    }\n\n    }\n\n    //The rest of the functions are application specific but you get the idea.\n}\n</code></pre>\n\n<p><strong>Helper</strong></p>\n\n<pre><code>/**\n * A library of reusable functions that can be used across the framework.\n * Do NOT add any functions that are project/module specific.\n */\nimport { browser, WebElement } from 'protractor';\n\n\nexport class Helper {\n    async enterText(aelement: WebElement, textToEnter: string): Promise&lt;void&gt; {\n        await browser.sleep(1000);\n        await aelement.sendKeys(textToEnter);\n    }\n\n    async click(aelement: WebElement): Promise&lt;void&gt; {\n\n        try {\n            await browser.sleep(1500);\n            await aelement.click();\n        }\n        catch (error) {\n            console.log(\"Error in click: \" + error);\n        }\n    }\n\n    async readText(element: WebElement): Promise&lt;string&gt; {\n\n        var elementText = await element.getText().then(function(text) {\n            console.log(\"ReadText is : \" + text);\n            return text;\n        });\n        return elementText;\n    });\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1550674628, "post_id": 54789126, "comment_id": 96356744, "body": "what does <code>allowedLocalAreaCodes</code> look like? The issue is most likely how you are accessing it within the subscription block"}, {"owner": {"reputation": 8341, "user_id": 4350275, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh4.googleusercontent.com/-Mo6YiD_JPIc/AAAAAAAAAAI/AAAAAAAAHB4/TgdGmvza868/photo.jpg?sz=128", "display_name": "Prerak Sola", "link": "https://stackoverflow.com/users/4350275/prerak-sola"}, "edited": false, "score": 0, "creation_date": 1550674636, "post_id": 54789126, "comment_id": 96356749, "body": "The issue is with <code>this.allowedLocalAreaCodes</code>."}, {"owner": {"reputation": 256, "user_id": 4520493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ULlDU.jpg?s=128&g=1", "display_name": "Viresh Mathad", "link": "https://stackoverflow.com/users/4520493/viresh-mathad"}, "edited": false, "score": 0, "creation_date": 1550674677, "post_id": 54789126, "comment_id": 96356774, "body": "this.allowedLocalAreaCodes is null. Assign &quot;this&quot; instance to a variable before calling subscribe function."}, {"owner": {"reputation": 357, "user_id": 9793169, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "modusTollens", "link": "https://stackoverflow.com/users/9793169/modustollens"}, "reply_to_user": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1550674965, "post_id": 54789126, "comment_id": 96356948, "body": "Please see edit @MikeTung"}, {"owner": {"reputation": 357, "user_id": 9793169, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "modusTollens", "link": "https://stackoverflow.com/users/9793169/modustollens"}, "reply_to_user": {"reputation": 256, "user_id": 4520493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ULlDU.jpg?s=128&g=1", "display_name": "Viresh Mathad", "link": "https://stackoverflow.com/users/4520493/viresh-mathad"}, "edited": false, "score": 0, "creation_date": 1550674972, "post_id": 54789126, "comment_id": 96356952, "body": "@VireshMathad ^"}, {"owner": {"reputation": 357, "user_id": 9793169, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "modusTollens", "link": "https://stackoverflow.com/users/9793169/modustollens"}, "reply_to_user": {"reputation": 8341, "user_id": 4350275, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh4.googleusercontent.com/-Mo6YiD_JPIc/AAAAAAAAAAI/AAAAAAAAHB4/TgdGmvza868/photo.jpg?sz=128", "display_name": "Prerak Sola", "link": "https://stackoverflow.com/users/4350275/prerak-sola"}, "edited": false, "score": 0, "creation_date": 1550674995, "post_id": 54789126, "comment_id": 96356970, "body": "@PrerakSola see edit :)"}, {"owner": {"reputation": 411, "user_id": 1584465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4f0f8fca08185e99f6c3905eef9b0ec?s=128&d=identicon&r=PG", "display_name": "Karabur", "link": "https://stackoverflow.com/users/1584465/karabur"}, "edited": false, "score": 0, "creation_date": 1550675182, "post_id": 54789126, "comment_id": 96357096, "body": "<code>this.allowedLocalAreaCodes</code> clearly undefined there for some reason.  console log it before if. Better if you just put a breakpoint and check it, also check what <code>this</code> is really are ."}, {"owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1550675317, "post_id": 54789126, "comment_id": 96357176, "body": "I would console log the <code>v</code> in <code>subscribe</code>"}, {"owner": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 0, "creation_date": 1550677058, "post_id": 54789126, "comment_id": 96358333, "body": "I don&#39;t see you setting <code>allowedLocalAreaCodes</code> anywhere."}, {"owner": {"reputation": 256, "user_id": 4520493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ULlDU.jpg?s=128&g=1", "display_name": "Viresh Mathad", "link": "https://stackoverflow.com/users/4520493/viresh-mathad"}, "edited": false, "score": 0, "creation_date": 1550725135, "post_id": 54789126, "comment_id": 96376229, "body": "@Mark Assign &quot;this&quot; to a variable and use.  let instance = this; this.addressService.getPostcodeData(postcode)     .subscribe((v) =&gt; {        if (instance.allowedLocalAreaCodes.includes(v.result.codes.admi&zwnj;&#8203;n_district)) {         console.log(&#39;yes&#39;);       }"}], "owner": {"reputation": 357, "user_id": 9793169, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "modusTollens", "link": "https://stackoverflow.com/users/9793169/modustollens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 762, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550674942, "creation_date": 1550674398, "last_edit_date": 1550674942, "question_id": 54789126, "link": "https://stackoverflow.com/questions/54789126/angular-6-subscribe-cannot-read-property-includes-of-undefined", "title": "Angular 6 subscribe: Cannot read property &#39;includes&#39; of undefined", "body": "<p>I am trying to find out if a returned value from a service is in an array. </p>\n\n<p>I have this code in my <code>component.ts</code> file. </p>\n\n<pre><code>this.addressService.getPostcodeData(postcode)\n    .subscribe((v) =&gt; {\n       if (this.allowedLocalAreaCodes.includes(v.result.codes.admin_district)) {\n        console.log('yes');\n      }\n</code></pre>\n\n<p>However, I am getting the error: </p>\n\n<blockquote>\n  <p>Cannot read property 'includes' of undefined</p>\n</blockquote>\n\n<p>If I console log that value above the if statement. I get the right code. This returns:</p>\n\n<blockquote>\n  <p>E07000179</p>\n</blockquote>\n\n<p>if I wrap it in an if to see if there is a value first like so: </p>\n\n<pre><code> if (v.result.codes.admin_district) {\n    console.log(v.result.codes.admin_district);\n  }\n</code></pre>\n\n<p>I also get:</p>\n\n<blockquote>\n  <p>E07000179</p>\n</blockquote>\n\n<p>then I do:</p>\n\n<pre><code> if (v.result.codes.admin_district) {\n\n    console.log(v.result.codes.admin_district);\n    if (this.allowedLocalAreaCodes.includes(v.result.codes.admin_district)) {\n        console.log('yes');\n    }\n  }\n</code></pre>\n\n<p>and I get the error. </p>\n\n<p>For some reason the include fails. Anyone know why? </p>\n\n<p>Edit: allowedLocalAreaCodes is:</p>\n\n<pre><code>allowedLocalAreaCodes = ['E06000028', 'E09000025', 'E09000030', 'E09000012', 'S12000036', 'S12000046'];\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "web", "mean"], "comments": [{"owner": {"reputation": 749, "user_id": 7630248, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ETP740wvjNU/AAAAAAAAAAI/AAAAAAAAAP8/dgRqBB-7_c8/photo.jpg?sz=128", "display_name": "Chris Tapay", "link": "https://stackoverflow.com/users/7630248/chris-tapay"}, "edited": false, "score": 0, "creation_date": 1550674382, "post_id": 54789065, "comment_id": 96356593, "body": "What version of ng-bootstrap are you using?"}, {"owner": {"reputation": 8341, "user_id": 4350275, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh4.googleusercontent.com/-Mo6YiD_JPIc/AAAAAAAAAAI/AAAAAAAAHB4/TgdGmvza868/photo.jpg?sz=128", "display_name": "Prerak Sola", "link": "https://stackoverflow.com/users/4350275/prerak-sola"}, "edited": false, "score": 0, "creation_date": 1550674514, "post_id": 54789065, "comment_id": 96356677, "body": "I can see <code>maxDate</code> option here: <a href=\"https://ng-bootstrap.github.io/#/components/datepicker/api\" rel=\"nofollow noreferrer\">ng-bootstrap.github.io/#/components/datepicker/api</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "reply_to_user": {"reputation": 749, "user_id": 7630248, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ETP740wvjNU/AAAAAAAAAAI/AAAAAAAAAP8/dgRqBB-7_c8/photo.jpg?sz=128", "display_name": "Chris Tapay", "link": "https://stackoverflow.com/users/7630248/chris-tapay"}, "edited": false, "score": 0, "creation_date": 1550674624, "post_id": 54789065, "comment_id": 96356740, "body": "@ChrisTapay 1.0.0-alpha.26"}, {"owner": {"reputation": 749, "user_id": 7630248, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ETP740wvjNU/AAAAAAAAAAI/AAAAAAAAAP8/dgRqBB-7_c8/photo.jpg?sz=128", "display_name": "Chris Tapay", "link": "https://stackoverflow.com/users/7630248/chris-tapay"}, "edited": false, "score": 0, "creation_date": 1550674835, "post_id": 54789065, "comment_id": 96356868, "body": "Thanks @UsmanSaleem. I just put an answer, we can go further from that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "reply_to_user": {"reputation": 8341, "user_id": 4350275, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh4.googleusercontent.com/-Mo6YiD_JPIc/AAAAAAAAAAI/AAAAAAAAHB4/TgdGmvza868/photo.jpg?sz=128", "display_name": "Prerak Sola", "link": "https://stackoverflow.com/users/4350275/prerak-sola"}, "edited": false, "score": 0, "creation_date": 1550674877, "post_id": 54789065, "comment_id": 96356894, "body": "@PrerakSola i tried to add it but it did not work"}, {"owner": {"reputation": 8341, "user_id": 4350275, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh4.googleusercontent.com/-Mo6YiD_JPIc/AAAAAAAAAAI/AAAAAAAAHB4/TgdGmvza868/photo.jpg?sz=128", "display_name": "Prerak Sola", "link": "https://stackoverflow.com/users/4350275/prerak-sola"}, "edited": false, "score": 0, "creation_date": 1550674958, "post_id": 54789065, "comment_id": 96356945, "body": "Could you please add the code in which you added it?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "edited": false, "score": 0, "creation_date": 1550675384, "post_id": 54789065, "comment_id": 96357230, "body": "tried it in html like max = {{maxDate}} but did not help"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "edited": false, "score": 0, "creation_date": 1550675254, "post_id": 54789241, "comment_id": 96357131, "body": "requirement is user can add manual date too but when add future it should give an error. right now it does not give anything"}, {"owner": {"reputation": 749, "user_id": 7630248, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ETP740wvjNU/AAAAAAAAAAI/AAAAAAAAAP8/dgRqBB-7_c8/photo.jpg?sz=128", "display_name": "Chris Tapay", "link": "https://stackoverflow.com/users/7630248/chris-tapay"}, "edited": false, "score": 0, "creation_date": 1550675483, "post_id": 54789241, "comment_id": 96357301, "body": "Then, I recommend to use Reactive Forms and define a custom validator."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "edited": false, "score": 0, "creation_date": 1550675722, "post_id": 54789241, "comment_id": 96357465, "body": "is there any other way without reactive form? @Chris Tapay"}, {"owner": {"reputation": 749, "user_id": 7630248, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ETP740wvjNU/AAAAAAAAAAI/AAAAAAAAAP8/dgRqBB-7_c8/photo.jpg?sz=128", "display_name": "Chris Tapay", "link": "https://stackoverflow.com/users/7630248/chris-tapay"}, "edited": false, "score": 0, "creation_date": 1550675996, "post_id": 54789241, "comment_id": 96357664, "body": "Yes, you may try using a regular expression to match your date format, and then parse it as Date object (you can use momentjs for that) and finally, compare with the actual date to make sure if not higher than that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "edited": false, "score": 0, "creation_date": 1550678138, "post_id": 54789241, "comment_id": 96359057, "body": "how exactly? i tried that but did not work either @Chris Tapay"}], "tags": [], "owner": {"reputation": 749, "user_id": 7630248, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ETP740wvjNU/AAAAAAAAAAI/AAAAAAAAAP8/dgRqBB-7_c8/photo.jpg?sz=128", "display_name": "Chris Tapay", "link": "https://stackoverflow.com/users/7630248/chris-tapay"}, "is_accepted": false, "score": -1, "last_activity_date": 1550674707, "creation_date": 1550674707, "answer_id": 54789241, "question_id": 54789065, "link": "https://stackoverflow.com/questions/54789065/how-to-prevent-from-entering-future-date-angular-4/54789241#54789241", "title": "How to prevent from entering future date angular 4", "body": "<p>Since you're using a ngbDatepicker, one option is to set the <code>maxDate</code> attribute and add the <code>readonly</code> attribute too. That way, the users will be forced to use the datepicker and do not type directly anything else into the input field.</p>\n\n<p><code>[maxDate]=\"maxDate\" readonly</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10796734"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 663, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550674707, "creation_date": 1550674217, "question_id": 54789065, "link": "https://stackoverflow.com/questions/54789065/how-to-prevent-from-entering-future-date-angular-4", "title": "How to prevent from entering future date angular 4", "body": "<p>i wanna add inline validation to prevent user from entering future date \nlike if i add 2022 i should give me an error like you add wrong date or something</p>\n\n<p><strong>this is my html code</strong></p>\n\n<pre><code>&lt;div class=\"form-group datepicker\"&gt;\n      &lt;label for=\"dob\"&gt;Date of Birth*&lt;/label&gt;\n      &lt;div class=\"row input-group\"&gt;\n        &lt;input\n          ngbDatepicker\n          #d=\"ngbDatepicker\"\n          #dobF=\"ngModel\"\n          class=\"form-control input-underline input-lg\"\n          id=\"dob\"\n          [(ngModel)]=\"dateOfBirth\"\n          placeholder=\"yyyy-mm-dd\"\n          name=\"dp\"\n          [ngClass]=\"{\n            invalid:\n              (dobF.value === null || isString(dobF.value)) &amp;&amp; dobF.touched\n          }\"\n          required\n        /&gt;\n        &lt;div class=\"input-group-append\"&gt;\n          &lt;button\n            class=\"btn btn-outline-secondary calendar\"\n            (click)=\"d.toggle()\"\n            type=\"button\"\n          &gt;&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div\n        *ngIf=\"\n          (dobF.value === null || isString(dobF.value)) &amp;&amp; dobF.touched\n        \"\n        class=\"error\"\n      &gt;\n        Please enter a valid date of birth.\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p><strong>this is my Ts file</strong></p>\n\n<p>where i defined dateOfBirth </p>\n\n<pre><code>public dateOfBirth: { year: number; month: number; day: number };\n constructor(\npublic router: Router,\npublic route: ActivatedRoute,\nprivate modalService: NgbModal,\nprivate store: Store&lt;any&gt;,\nprivate authService: AuthService,\npublic config: NgbDatepickerConfig,\nprivate duplicateFinderService: DuplicateFinderService\n) \n{\nconst currentDate = new Date();\nconst day = currentDate.getDate();\nconst month = currentDate.getMonth() + 1;\nconst year = currentDate.getFullYear();\n// customize default values of datepickers used by this component tree\nthis.config.minDate = { year: 1900, month: 1, day: 1 };\nthis.config.maxDate = { year, month, day };\n// days that don't belong to current month are not visible\nthis.config.outsideDays = \"hidden\";\n}\n</code></pre>\n\n<p>i cant seem to find any help on the internet.\ncan someone help me? Thanks </p>\n"}, {"tags": ["javascript", "typescript", "observable", "es6-promise", "nestjs"], "comments": [{"owner": {"reputation": 153, "user_id": 10634638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJGEM.jpg?s=128&g=1", "display_name": "bestinamir", "link": "https://stackoverflow.com/users/10634638/bestinamir"}, "edited": false, "score": 0, "creation_date": 1550674686, "post_id": 54788978, "comment_id": 96356778, "body": "In the service inside try{} don\u2019t you need a return statement similar to your catch{}.."}, {"owner": {"reputation": 174, "user_id": 6099584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85b7ba3c925fa415af129afb90f6750e?s=128&d=identicon&r=PG&f=1", "display_name": "Klaxx", "link": "https://stackoverflow.com/users/6099584/klaxx"}, "reply_to_user": {"reputation": 153, "user_id": 10634638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJGEM.jpg?s=128&g=1", "display_name": "bestinamir", "link": "https://stackoverflow.com/users/10634638/bestinamir"}, "edited": false, "score": 0, "creation_date": 1550675035, "post_id": 54788978, "comment_id": 96357009, "body": "I tried that. My IDE is marking the line red then with this message: &quot;Type &#39;Promise&lt;foos[]&gt;&#39; is missing the following properties from type &#39;Observable&lt;foos[]&gt;&#39;: _isScalar, soure, operator, lift and 6 more."}, {"owner": {"reputation": 174, "user_id": 6099584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85b7ba3c925fa415af129afb90f6750e?s=128&d=identicon&r=PG&f=1", "display_name": "Klaxx", "link": "https://stackoverflow.com/users/6099584/klaxx"}, "reply_to_user": {"reputation": 153, "user_id": 10634638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJGEM.jpg?s=128&g=1", "display_name": "bestinamir", "link": "https://stackoverflow.com/users/10634638/bestinamir"}, "edited": false, "score": 0, "creation_date": 1550675088, "post_id": 54788978, "comment_id": 96357040, "body": "I dont know why it expects a promise still?!"}, {"owner": {"reputation": 153, "user_id": 10634638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJGEM.jpg?s=128&g=1", "display_name": "bestinamir", "link": "https://stackoverflow.com/users/10634638/bestinamir"}, "edited": false, "score": 1, "creation_date": 1550677569, "post_id": 54788978, "comment_id": 96358659, "body": "What about not using observable as shown here <a href=\"https://stackoverflow.com/a/54770820/10634638\">stackoverflow.com/a/54770820/10634638</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9452, "user_id": 9662601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DFvyV.png?s=128&g=1", "display_name": "Samuel Philipp", "link": "https://stackoverflow.com/users/9662601/samuel-philipp"}, "is_accepted": true, "score": 3, "last_activity_date": 1550685022, "last_edit_date": 1550685022, "creation_date": 1550677677, "answer_id": 54790236, "question_id": 54788978, "link": "https://stackoverflow.com/questions/54788978/how-to-change-a-promise-with-async-await-function-to-observable/54790236#54790236", "title": "How to change a promise with async await function to observable?", "body": "<p>A Promise can not be cast as Observable. Create an observable with <code>Observable.from()</code> method (<a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-from\" rel=\"nofollow noreferrer\">docs</a>).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getAllFoos(): Observable&lt;foos[]&gt; {\n    return Observable.from(this.fooModel.find().exec());\n}\n</code></pre>\n\n<p><strong>rxjs versions &lt; 6:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getAllFoos(): Observable&lt;foos[]&gt; {\n    return Observable.fromPromise(this.fooModel.find().exec());\n}\n</code></pre>\n"}], "owner": {"reputation": 174, "user_id": 6099584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85b7ba3c925fa415af129afb90f6750e?s=128&d=identicon&r=PG&f=1", "display_name": "Klaxx", "link": "https://stackoverflow.com/users/6099584/klaxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1164, "favorite_count": 1, "accepted_answer_id": 54790236, "answer_count": 1, "score": 2, "last_activity_date": 1550685022, "creation_date": 1550673948, "last_edit_date": 1550677255, "question_id": 54788978, "link": "https://stackoverflow.com/questions/54788978/how-to-change-a-promise-with-async-await-function-to-observable", "title": "How to change a promise with async await function to observable?", "body": "<p>I have a Nestjs rest server with a controller and a service.</p>\n\n<p>In my controller, there is the get function, when someone makes a get request:</p>\n\n<pre><code>@Get()\ngetAllFoos() {\n    return this.fooService.getAllFoos();\n}\n</code></pre>\n\n<p>In my service, there is this function to get the documents from a database</p>\n\n<pre><code> async getAllFoos(): Promise&lt;foos[]&gt; {\n    try {\n        return await this.fooModel.find().exec();\n    } catch(e) {\n        return e;\n    }\n</code></pre>\n\n<p>This works!\nI now need to change this to make it work with observables.\nI changed the controller to:</p>\n\n<pre><code>@Get()\ngetAllFoos() {\n    this.fooService.getAllFoos().subscribe(\n        response =&gt; {\n            console.log(response);\n\n        },\n        error =&gt; {\n            console.log(error);\n        },\n        () =&gt; {\n            console.log('completed');\n\n    });\n}\n</code></pre>\n\n<p>And the service to this:</p>\n\n<pre><code>    getAllFoos(): Observable&lt;foos[]&gt; {\n        try {\n            this.fooModel.find().exec();\n        } catch(e) {\n            return e;\n        }\n    }\n</code></pre>\n\n<p>The error I get is</p>\n\n<pre><code>[Nest] 7120   - 2019-2-20 15:29:51   [ExceptionsHandler] Cannot read property 'subscribe' of undefined +4126ms\n</code></pre>\n\n<p>The error comes from </p>\n\n<pre><code>this.fooService.getAllFoos().subscribe(\n</code></pre>\n\n<p>this line from the controller. I really have no clue, what to change to make it work now.</p>\n\n<p>Any help or idea is appreciated!</p>\n"}, {"tags": ["javascript", "html", "css", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 1573, "user_id": 6038796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8tUBN.png?s=128&g=1", "display_name": "DaggeJ", "link": "https://stackoverflow.com/users/6038796/daggej"}, "edited": false, "score": 1, "creation_date": 1550673466, "post_id": 54788784, "comment_id": 96356003, "body": "Check the encoding of the file itself (use for example notepad and select &#39;Save As&#39; to see encoding)."}, {"owner": {"reputation": 172, "user_id": 8282493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tb1uP.jpg?s=128&g=1", "display_name": "Lirianna", "link": "https://stackoverflow.com/users/8282493/lirianna"}, "reply_to_user": {"reputation": 1573, "user_id": 6038796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8tUBN.png?s=128&g=1", "display_name": "DaggeJ", "link": "https://stackoverflow.com/users/6038796/daggej"}, "edited": false, "score": 0, "creation_date": 1550673747, "post_id": 54788784, "comment_id": 96366979, "body": "This should be the correct way (as you also mentioned in your question). <code>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text&#47;html; charset=UTF-8&quot;&gt;</code> Try checking you files encoding like @DaggeJ suggests."}, {"owner": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "edited": false, "score": 3, "creation_date": 1550673948, "post_id": 54788784, "comment_id": 96356306, "body": "If you open the HTML file with a text editor like Notepad++, you can check &amp; change the encoding. Try to save the file with the UTF-8 encoding."}, {"owner": {"reputation": 3, "user_id": 10812457, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IvB0SQ_BBh4/AAAAAAAAAAI/AAAAAAAATRI/SBZjtwncZ8A/photo.jpg?sz=128", "display_name": "Naveen Shanmukhappa", "link": "https://stackoverflow.com/users/10812457/naveen-shanmukhappa"}, "edited": false, "score": 0, "creation_date": 1550827409, "post_id": 54788784, "comment_id": 96422326, "body": "Issue is fixed. From the File menu, choose Save File As, and then click the drop-down button next to the Save button.  The Advanced Save Options dialog box is displayed.  Under Encoding, select the encoding to use for the file.  Optionally, under Line endings, select the format for end-of-line characters.  This option is useful if you intend to exchange the file with users of a different operating system."}], "owner": {"reputation": 3, "user_id": 10812457, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IvB0SQ_BBh4/AAAAAAAAAAI/AAAAAAAATRI/SBZjtwncZ8A/photo.jpg?sz=128", "display_name": "Naveen Shanmukhappa", "link": "https://stackoverflow.com/users/10812457/naveen-shanmukhappa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "closed_date": 1550674311, "answer_count": 0, "score": 0, "last_activity_date": 1550674572, "creation_date": 1550673326, "last_edit_date": 1550673347, "question_id": 54788784, "link": "https://stackoverflow.com/questions/54788784/appears-when-trying-to-load-text-file-having-german-characters-like-%c3%b6-%c3%a4-%c3%bc", "closed_reason": "Duplicate", "title": "\ufffd appears when trying to load text file having German characters like &#246;,&#228;,&#252;", "body": "<p>I have following code in my code</p>\n\n<pre><code>&lt;meta charset=\"UTF-8\" /&gt;\n</code></pre>\n\n<p>used:</p>\n\n<pre><code>&lt;META HTTP-EQUIV=\"content-type\" CONTENT=\"text/html; charset=utf-8\"&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"/&gt;\n</code></pre>\n\n<p>non of the are working.</p>\n"}, {"tags": ["angular", "typescript", "bootstrap-4", "radio-button"], "answers": [{"comments": [{"owner": {"reputation": 3369, "user_id": 9953550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTQBj.jpg?s=128&g=1", "display_name": "YulePale", "link": "https://stackoverflow.com/users/9953550/yulepale"}, "edited": false, "score": 0, "creation_date": 1550686682, "post_id": 54792135, "comment_id": 96363694, "body": "Thank you but this doesn\u2019t answer my question. I have updated the question to make it more clear..."}, {"owner": {"reputation": 379, "user_id": 9945674, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iSoYEK-ZqA8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3fvnXMBwICQ1du6ykC6MMcz7bD7A/mo/photo.jpg?sz=128", "display_name": "GaryB", "link": "https://stackoverflow.com/users/9945674/garyb"}, "reply_to_user": {"reputation": 3369, "user_id": 9953550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTQBj.jpg?s=128&g=1", "display_name": "YulePale", "link": "https://stackoverflow.com/users/9953550/yulepale"}, "edited": false, "score": 0, "creation_date": 1550740733, "post_id": 54792135, "comment_id": 96383317, "body": "you can use index in the for loop like this: &lt;div *ngFor=&quot;let radio of data; index as i&quot; class=&quot;btn-group-toggle&quot; data-toggle=&quot;buttons&quot;&gt; later if I have some time I&#39;ll update my answer"}, {"owner": {"reputation": 3369, "user_id": 9953550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTQBj.jpg?s=128&g=1", "display_name": "YulePale", "link": "https://stackoverflow.com/users/9953550/yulepale"}, "edited": false, "score": 0, "creation_date": 1551807332, "post_id": 54792135, "comment_id": 96772029, "body": "Thanks but I found a better scalable solution. I really appreciate you help though. Thank you."}], "tags": [], "owner": {"reputation": 379, "user_id": 9945674, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iSoYEK-ZqA8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3fvnXMBwICQ1du6ykC6MMcz7bD7A/mo/photo.jpg?sz=128", "display_name": "GaryB", "link": "https://stackoverflow.com/users/9945674/garyb"}, "is_accepted": false, "score": 0, "last_activity_date": 1550745390, "last_edit_date": 1550745390, "creation_date": 1550683647, "answer_id": 54792135, "question_id": 54788763, "link": "https://stackoverflow.com/questions/54788763/uncheck-radio-button-angular-7-bootstrap-4/54792135#54792135", "title": "Uncheck radio button Angular 7 Bootstrap 4", "body": "<p>update:\nIts a bit hard coded, but its a good start:\n.ts:</p>\n\n<pre><code>  status: boolean = false;\n  option=\"\"\n  option1=[false, false, false]\n  option2=[false, false, false]\n  option3=[false, false, false]\n\n  constructor(private renderer: Renderer2){}\n\n\n  data = [{\n    id:\"1a\",\n    One:\"Yes-1a\",\n    Two:\"Maybe-1b\",\n    Three:\"No-1c\"\n  },{\n    id:\"2a\",\n    One:\"Yes-2a\",\n    Two:\"Maybe-2b\",\n    Three:\"No-2c\"\n  },\n  {\n    id:\"3a\",\n    One:\"Yes-3a\",\n    Two:\"Maybe-3b\",\n    Three:\"No-3c\"\n  }\n  ]\n\n  clickEvent1(i){\n    this.option = 'option1 : ' + this.option1\n    if(this.option1[i] == true){\n      this.option1[i] = false\n    }else{\n      this.option1[i] = true\n    }  \n    this.option2[i] = false; this.option3[i] = false\n\n\n}\n  clickEvent2(i){\n\n    this.option = 'option2 : ' + this.option2\n    if(this.option2[i] == true){\n        this.option2[i] = false\n     } else{\n        this.option2[i] =true\n     }\n      this.option1[i] = false; this.option3[i] = false\n}\n  clickEvent3(i){\n\n    this.option = 'option3 : ' + this.option3\n    if(this.option3[i] == true){\n      this.option3[i] = false\n    }else{\n      this.option3[i] = true\n    }\n      this.option1[i] = false; this.option2[i] = false} \n}\n</code></pre>\n\n<p>.html:</p>\n\n<pre><code>&lt;div class=\"card\" style=\"height:400px\"&gt;\n  &lt;div class=\"card-body no-gutters\"&gt;\n\n    &lt;div *ngFor=\"let radio of data\" class=\"btn-group-toggle\" data-toggle=\"buttons\"&gt;\n      &lt;div class=\"row\"&gt;\n        &lt;label class=\"btn btn-secondary col-4\" \n        [ngClass]=\"option1 ? 'bbb' : ''\"&gt;\n          &lt;input (click)=\"clickEvent1()\" \n          type=\"radio\" name=\"options\" id=\"option1\"&gt;\n          {{radio.One}}\n        &lt;/label&gt;\n        &lt;label class=\"btn btn-secondary col-4\"\n        [ngClass]=\"option2 ? 'bbb' : ''\"&gt;\n          &lt;input (click)=\"clickEvent2()\"\n          type=\"radio\" name=\"options\" id=\"option2\" autocomplete=\"off\"&gt; {{radio.Two}}\n        &lt;/label&gt;\n        &lt;label class=\"btn btn-secondary col-4\"\n        [ngClass]=\"option3 ? 'bbb' : ''\"&gt;\n          &lt;input (click)=\"clickEvent3()\"\n          type=\"radio\" name=\"options\" id=\"option3\" autocomplete=\"off\"&gt; {{radio.Three}}\n        &lt;/label&gt;\n        {{option}}\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>//sorry I dont know how to save the changes on stackblitz :(</p>\n"}, {"tags": [], "owner": {"reputation": 3369, "user_id": 9953550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTQBj.jpg?s=128&g=1", "display_name": "YulePale", "link": "https://stackoverflow.com/users/9953550/yulepale"}, "is_accepted": true, "score": 0, "last_activity_date": 1551807252, "creation_date": 1551807252, "answer_id": 55008520, "question_id": 54788763, "link": "https://stackoverflow.com/questions/54788763/uncheck-radio-button-angular-7-bootstrap-4/55008520#55008520", "title": "Uncheck radio button Angular 7 Bootstrap 4", "body": "<p>Finally I found a working solution to my problem. This is it : <a href=\"https://stackoverflow.com/questions/55005641/how-to-uncheck-a-radio-button-on-its-second-click-angular-2\">How to uncheck a radio button on its second click Angular 2+</a>. </p>\n\n<p>This is a simple and scalable solution that works well.</p>\n"}], "owner": {"reputation": 3369, "user_id": 9953550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTQBj.jpg?s=128&g=1", "display_name": "YulePale", "link": "https://stackoverflow.com/users/9953550/yulepale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6079, "favorite_count": 0, "accepted_answer_id": 55008520, "answer_count": 2, "score": 0, "last_activity_date": 1551807252, "creation_date": 1550673261, "last_edit_date": 1550686607, "question_id": 54788763, "link": "https://stackoverflow.com/questions/54788763/uncheck-radio-button-angular-7-bootstrap-4", "title": "Uncheck radio button Angular 7 Bootstrap 4", "body": "<p>I am using Angular 7 and Bootstrap 4. I am trying to have radio buttons that toggle but can be unchecked when clicked twice. Like shown <a href=\"https://stackoverflow.com/a/46166448/9953550\">in this answer</a>. Here is <a href=\"https://stackblitz.com/edit/angular5-bootstrap4-crud-device-list-simple-6xbtuc?file=app/app.component.html\" rel=\"nofollow noreferrer\">my current implementation</a>.</p>\n\n<p>In my example you can see I can untoggle the button on clicking twice but I have a new problem. I would like to have an implementation that isolates the rows. In the sense that if you are answering a questionnaire you can pick a different answer in every row or leave the row blank. </p>\n\n<p>My question is: how can I pick a different answer(button) in every row or leave the row blank? How can I uniquely identify a row in my code?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["angular", "typescript", "function", "generics", "parameters"], "comments": [{"owner": {"reputation": 3162, "user_id": 5729813, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/543553a29a670d036966954eebda5a27?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Walzade", "link": "https://stackoverflow.com/users/5729813/tushar-walzade"}, "edited": false, "score": 1, "creation_date": 1550672877, "post_id": 54788556, "comment_id": 96355627, "body": "You could always create a class instance &amp; use it!"}, {"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 1, "creation_date": 1550672928, "post_id": 54788556, "comment_id": 96355665, "body": "can you use generics, something like <code>get&lt;T&gt;(reference: T, endpoint: string): Observable&lt;T[]&gt;</code>? though not sure what you want to do exactly."}], "answers": [{"tags": [], "owner": {"reputation": 1738, "user_id": 3321016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2282720cdf4fc64b92ea5cb1663c1988?s=128&d=identicon&r=PG&f=1", "display_name": "Alex K", "link": "https://stackoverflow.com/users/3321016/alex-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1550673792, "creation_date": 1550673792, "answer_id": 54788923, "question_id": 54788556, "link": "https://stackoverflow.com/questions/54788556/typescript-angular-static-class-reference-as-function-parameter/54788923#54788923", "title": "Typescript/Angular: static class reference as function parameter", "body": "<p>I think you're looking for <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">Generics</a>.</p>\n\n<pre><code>// child\ngetMovies(): Observable&lt;Movie[]&gt; {\n  return this.super.get&lt;Movie[]&gt;(this.endpoint);\n}\n\n// parent\nget&lt;T&gt;(endpoint: string): Observable&lt;T&gt; {\n    return this.http.get&lt;T&gt;(endpoint);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 274, "user_id": 1379414, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/a51646562b62278dd714d9a298c280b3?s=128&d=identicon&r=PG", "display_name": "maxsoulard", "link": "https://stackoverflow.com/users/1379414/maxsoulard"}, "is_accepted": false, "score": 0, "last_activity_date": 1550673880, "creation_date": 1550673880, "answer_id": 54788947, "question_id": 54788556, "link": "https://stackoverflow.com/questions/54788556/typescript-angular-static-class-reference-as-function-parameter/54788947#54788947", "title": "Typescript/Angular: static class reference as function parameter", "body": "<p>I can't see the point of adding an abstraction layer to httpClient or whatever you are trying to do. Nevertheless you should have a look at <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">Generics in Typescript</a>.</p>\n\n<pre><code>function identity&lt;T&gt;(arg: T): T {\n  return arg;\n}\n</code></pre>\n"}], "owner": {"reputation": 585, "user_id": 4623578, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CJIiv.png?s=128&g=1", "display_name": "Kyrre", "link": "https://stackoverflow.com/users/4623578/kyrre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1550678968, "creation_date": 1550672548, "last_edit_date": 1550678968, "question_id": 54788556, "link": "https://stackoverflow.com/questions/54788556/typescript-angular-static-class-reference-as-function-parameter", "title": "Typescript/Angular: static class reference as function parameter", "body": "<p>I'm quite new to typescript, and found that mapping an http response to a class was really nifty, like</p>\n\n<pre><code>getMovies(): Observable&lt;Movie[]&gt; {\n  return this.http.get&lt;Movie[]&gt;(this.endpoint);\n}\n</code></pre>\n\n<p>returning a populated array of <code>Movie</code> classes (just an example)</p>\n\n<p>That made me attempt to generalize this somewhat, by calling on a hypothetical <code>get</code> method in a parent class, like</p>\n\n<pre><code>// child\ngetMovies(): Observable&lt;Movie[]&gt; {\n  return this.super.get(class_reference_here, this.endpoint);\n}\n\n// parent\nget(reference: any, endpoint: string): Observable&lt;any&gt; /* or &lt;any[]&gt; ?? */  {\n    return this.http.get&lt;reference[]&gt;(endpoint);\n}\n</code></pre>\n\n<p>Is there a way to achieve something like this? Is there a way to populate <code>class_reference_here</code> with something sensible? Does it spit in the face of Typescript? I don't know! Any help is greatly appreciated. </p>\n"}, {"tags": ["json", "angular", "typescript", "export", "angular-material-table"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550672758, "post_id": 54788495, "comment_id": 96355544, "body": "Your JSON is your <code>ELEMENT_DATA</code> variable, not your array."}, {"owner": {"reputation": 1882, "user_id": 6936929, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-vYky8U-65os/AAAAAAAAAAI/AAAAAAAAAf0/4P2hzFKxxpA/photo.jpg?sz=128", "display_name": "Jonas Praem", "link": "https://stackoverflow.com/users/6936929/jonas-praem"}, "edited": false, "score": 0, "creation_date": 1550673043, "post_id": 54788495, "comment_id": 96355727, "body": "@trichetriche <code>ELEMENT_DATA</code> is an object. To convert an object to json you can use <code>JSON.stringify(object)</code> - <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\" rel=\"nofollow noreferrer\">docs</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1882, "user_id": 6936929, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-vYky8U-65os/AAAAAAAAAAI/AAAAAAAAAf0/4P2hzFKxxpA/photo.jpg?sz=128", "display_name": "Jonas Praem", "link": "https://stackoverflow.com/users/6936929/jonas-praem"}, "edited": false, "score": 0, "creation_date": 1550673137, "post_id": 54788495, "comment_id": 96355791, "body": "@JonasPraem actually he wants t oexport to CSV so you should use an algorithm to construct the CSV file. But my comment was more about what to translate, the data or the HTML array"}, {"owner": {"reputation": 55, "user_id": 5990175, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef5240dc5a70c1f8ff8f88065cf2c750?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Uttur", "link": "https://stackoverflow.com/users/5990175/akshay-uttur"}, "edited": false, "score": 0, "creation_date": 1550731511, "post_id": 54788495, "comment_id": 96378487, "body": "@trichetriche you are correct but we know in <b>jquery.tableToJson.js</b> we have a method like <code>$(&#39;#table&#39;).tableToJson()</code> which gives json of html table but the same thing I want it from <b>Angular Material Table</b> instead <b>HTML Table</b>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550734443, "post_id": 54788495, "comment_id": 96379780, "body": "@AkshayUttur and I&#39;m telling you there isn&#39;t and it&#39;s a bad practice, because material tables aren&#39;t tables. So use your data directly instead of trying to do something terrible."}, {"owner": {"reputation": 55, "user_id": 5990175, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef5240dc5a70c1f8ff8f88065cf2c750?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Uttur", "link": "https://stackoverflow.com/users/5990175/akshay-uttur"}, "edited": false, "score": 0, "creation_date": 1550738832, "post_id": 54788495, "comment_id": 96382166, "body": "@trichetriche ok if you think this is bad practice then i will drop my logic. Thanks for your words. :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550739370, "post_id": 54788495, "comment_id": 96382505, "body": "@AkshayUttur I don&#39;t think it is, it is <b>a fact</b>. You can not rely on your HTML to make what you want. You already have formatted data, what you&#39;re trying to do is put it in your HTML, then get it back as JSON, then convert it to CSV (TS \u2192 HTML \u2192 JSON \u2192 CSV). My solution is converting your data directly to CSV (TS \u2192 CSV). Don&#39;t you see how flawed it is ?"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5990175, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef5240dc5a70c1f8ff8f88065cf2c750?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Uttur", "link": "https://stackoverflow.com/users/5990175/akshay-uttur"}, "edited": false, "score": 0, "creation_date": 1550729375, "post_id": 54789475, "comment_id": 96377629, "body": "Yeah I agree with this approach but in my excel sheet headers will appear as present in ELEMENT_DATA, actually headers should appear as present in <code>&lt;mat-header-cell *matHeaderCellDef&gt; some name&lt;&#47;mat-header-cell&gt;</code>"}, {"owner": {"reputation": 55, "user_id": 5990175, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef5240dc5a70c1f8ff8f88065cf2c750?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Uttur", "link": "https://stackoverflow.com/users/5990175/akshay-uttur"}, "edited": false, "score": 0, "creation_date": 1550731214, "post_id": 54789475, "comment_id": 96378350, "body": "also the approach you suggested will not work for nested array."}, {"owner": {"reputation": 91, "user_id": 11008707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0RbtGuHImQc/AAAAAAAAAAI/AAAAAAAAAcA/WYjPX5OgdC4/photo.jpg?sz=128", "display_name": "Karthik_Siddh", "link": "https://stackoverflow.com/users/11008707/karthik-siddh"}, "reply_to_user": {"reputation": 55, "user_id": 5990175, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef5240dc5a70c1f8ff8f88065cf2c750?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Uttur", "link": "https://stackoverflow.com/users/5990175/akshay-uttur"}, "edited": false, "score": 0, "creation_date": 1550755326, "post_id": 54789475, "comment_id": 96392608, "body": "@AkshayUttur Just try with the updated <code>DownloadAsExcel()</code> function &amp; see whether it&#39;s what you expect."}, {"owner": {"reputation": 55, "user_id": 5990175, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef5240dc5a70c1f8ff8f88065cf2c750?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Uttur", "link": "https://stackoverflow.com/users/5990175/akshay-uttur"}, "edited": false, "score": 0, "creation_date": 1550815827, "post_id": 54789475, "comment_id": 96417076, "body": "Yeah I tried but it still doesn&#39;t work. I tried this before posting this question."}], "tags": [], "owner": {"reputation": 91, "user_id": 11008707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0RbtGuHImQc/AAAAAAAAAAI/AAAAAAAAAcA/WYjPX5OgdC4/photo.jpg?sz=128", "display_name": "Karthik_Siddh", "link": "https://stackoverflow.com/users/11008707/karthik-siddh"}, "is_accepted": true, "score": 0, "last_activity_date": 1550755222, "last_edit_date": 1550755222, "creation_date": 1550675371, "answer_id": 54789475, "question_id": 54788495, "link": "https://stackoverflow.com/questions/54788495/generate-json-array-object-or-json-object-from-angular-material-table/54789475#54789475", "title": "generate json array object or json object from angular material table", "body": "<p>If your ultimate aim is to download excel sheet, then you can do so directly from the <code>ELEMENT_DATA</code> instead of doing it from material table.</p>\n\n<p>ts file</p>\n\n<pre><code>const Element=[  \n{position: 1, name: 'Hydrogen', weight: 1.0079, symbol: 'H'},\n{position: 2, name: 'Helium', weight: 4.0026, symbol: 'He'},\n{position: 3, name: 'Lithium', weight: 6.941, symbol: 'Li'},\n{position: 4, name: 'Beryllium', weight: 9.0122, symbol: 'Be'},\n{position: 5, name: 'Boron', weight: 10.811, symbol: 'B'}\n];\nDownloadAsExcel()\n{\nconst worksheet: XLSX.WorkSheet=XLSX.utils.table_to_sheet(this.table.nativeElement);\nconst tbltojson = (JSON.parse(JSON.stringify(worksheet)));\nconst workbook: XLSX.WorkbBook = XLSX.utils.book_new();\nXLSX.utils.book_append_sheet(workbook, worksheet, 'Sheet1');  //can use 'tbltojson' instead of 'worksheet'to download excel from a JSON object. Both work similarly\n/* save to file */\nXLSX.writeFile(workbook, 'YourFileName.xlsx');\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wrDOD.png\" rel=\"nofollow noreferrer\">Your downloaded excel looks like this:</a>\nalso import the xlsx module, so that the code doesn't show any error.</p>\n\n<p>or if you need a json object then try converting the <code>ELEMENT_DATA</code> into a json like:</p>\n\n<pre><code>JSON.parse(JSON.stringify(Element));\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/IjDyF.png\" rel=\"nofollow noreferrer\">the JSON will be like:</a></p>\n"}], "owner": {"reputation": 55, "user_id": 5990175, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef5240dc5a70c1f8ff8f88065cf2c750?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Uttur", "link": "https://stackoverflow.com/users/5990175/akshay-uttur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1383, "favorite_count": 0, "accepted_answer_id": 54789475, "answer_count": 1, "score": 0, "last_activity_date": 1550755222, "creation_date": 1550672344, "last_edit_date": 1550684197, "question_id": 54788495, "link": "https://stackoverflow.com/questions/54788495/generate-json-array-object-or-json-object-from-angular-material-table", "title": "generate json array object or json object from angular material table", "body": "<p>Actually the requirement is to generate json array object or json object from angular material table so that I can use this object and export to Excel sheet.</p>\n\n<p>Below is the data.</p>\n\n<pre><code>const ELEMENT_DATA: Element[] = [\n  {position: 1, name: 'Hydrogen', weight: 1.0079, symbol: 'H'},\n  {position: 2, name: 'Helium', weight: 4.0026, symbol: 'He'},\n  {position: 3, name: 'Lithium', weight: 6.941, symbol: 'Li'},\n  {position: 4, name: 'Beryllium', weight: 9.0122, symbol: 'Be'},\n  {position: 5, name: 'Boron', weight: 10.811, symbol: 'B'},\n  {position: 6, name: 'Carbon', weight: 12.0107, symbol: 'C'},\n  {position: 7, name: 'Nitrogen', weight: 14.0067, symbol: 'N'},\n  {position: 8, name: 'Oxygen', weight: 15.9994, symbol: 'O'},\n  {position: 9, name: 'Fluorine', weight: 18.9984, symbol: 'F'},\n  {position: 10, name: 'Neon', weight: 20.1797, symbol: 'Ne'},\n  {position: 11, name: 'Sodium', weight: 22.9897, symbol: 'Na'},\n  {position: 12, name: 'Magnesium', weight: 24.305, symbol: 'Mg'},\n  {position: 13, name: 'Aluminum', weight: 26.9815, symbol: 'Al'},\n  {position: 14, name: 'Silicon', weight: 28.0855, symbol: 'Si'},\n  {position: 15, name: 'Phosphorus', weight: 30.9738, symbol: 'P'},\n  {position: 16, name: 'Sulfur', weight: 32.065, symbol: 'S'},\n  {position: 17, name: 'Chlorine', weight: 35.453, symbol: 'Cl'},\n  {position: 18, name: 'Argon', weight: 39.948, symbol: 'Ar'},\n  {position: 19, name: 'Potassium', weight: 39.0983, symbol: 'K'},\n  {position: 20, name: 'Calcium', weight: 40.078, symbol: 'Ca'},\n];\n</code></pre>\n\n<p>Below is the Material table.</p>\n\n<pre><code>&lt;div class=\"example-container mat-elevation-z8\"&gt;\n  &lt;mat-table #table [dataSource]=\"dataSource\"&gt;\n\n    &lt;!--- Note that these columns can be defined in any order.\n          The actual rendered columns are set as a property on the row definition\" --&gt;\n\n    &lt;!-- Position Column --&gt;\n    &lt;ng-container matColumnDef=\"position\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; No. &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.position}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;!-- Name Column --&gt;\n    &lt;ng-container matColumnDef=\"name\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Name &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.name}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;!-- Weight Column --&gt;\n    &lt;ng-container matColumnDef=\"weight\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Weight &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.weight}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;!-- Symbol Column --&gt;\n    &lt;ng-container matColumnDef=\"symbol\"&gt;\n      &lt;mat-header-cell *matHeaderCellDef&gt; Symbol &lt;/mat-header-cell&gt;\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.symbol}} &lt;/mat-cell&gt;\n    &lt;/ng-container&gt;\n\n    &lt;mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/mat-header-row&gt;\n    &lt;mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/mat-row&gt;\n  &lt;/mat-table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I want to generate json object of this material table.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "chart.js"], "answers": [{"comments": [{"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1550679164, "post_id": 54790458, "comment_id": 96359677, "body": "I get an error message saying that cornerRadius is not a defined option of chart as I mentioned it  ` Object literal may only specify known properties, and &#39;cornerRadius&#39; does not exist in type &#39;ChartOptions&#39;`"}, {"owner": {"reputation": 238, "user_id": 10967487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f4c8ccd16e56ada0f6e7d1c6f4dcb7?s=128&d=identicon&r=PG&f=1", "display_name": "Alien", "link": "https://stackoverflow.com/users/10967487/alien"}, "reply_to_user": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1550679569, "post_id": 54790458, "comment_id": 96359930, "body": "Are you sure that files are included? I&#39;ve tried make chart with this plugin, see <a href=\"https://imgur.com/a/ILmpgVI\" rel=\"nofollow noreferrer\">imgur.com/a/ILmpgVI</a>."}, {"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1550766790, "post_id": 54790458, "comment_id": 96400646, "body": "Are you using angular ?"}, {"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1551203638, "post_id": 54790458, "comment_id": 96551864, "body": "It&#39;s working but I get this warning message in angular ` Types of property &#39;options&#39; are incompatible.     Type &#39;{ &#39;cornerRadius&#39;: number; showLines: true; legend: { display: false; }; responsive: true; maintai...&#39; is not assignable to type &#39;ChartOptions&#39;.       Object literal may only specify known properties, and &#39;&#39;cornerRadius&#39;&#39; does not exist in type &#39;ChartOptions&#39;."}], "tags": [], "owner": {"reputation": 238, "user_id": 10967487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f4c8ccd16e56ada0f6e7d1c6f4dcb7?s=128&d=identicon&r=PG&f=1", "display_name": "Alien", "link": "https://stackoverflow.com/users/10967487/alien"}, "is_accepted": true, "score": 2, "last_activity_date": 1550678296, "creation_date": 1550678296, "answer_id": 54790458, "question_id": 54788335, "link": "https://stackoverflow.com/questions/54788335/create-a-rounded-bar-graph-with-angular-and-chartjs/54790458#54790458", "title": "Create a rounded bar graph with Angular and chartJS", "body": "<p>You can use what you have mentioned already <a href=\"https://github.com/jedtrow/Chart.js-Rounded-Bar-Charts\" rel=\"nofollow noreferrer\">https://github.com/jedtrow/Chart.js-Rounded-Bar-Charts</a>. What you need to do is add both files <code>Chart.roundedBarCharts.js</code> and <code>Chart.roundedBarChart.min.js</code> (just copy them in your project folder, and include them).\nThen after you have included this, you can use:</p>\n\n<pre><code>var options = {\n    cornerRadius: 20,\n};\n</code></pre>\n\n<p>For tiny bars like you have on photo you shoul add <code>barPercentage</code>, then your code will look like:</p>\n\n<pre><code>var options = {\n    cornerRadius: 20,\n    scales: {\n        xAxes: [{\n            barPercentage: 0.4\n        }]\n    }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2372, "user_id": 7245145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/njfat.png?s=128&g=1", "display_name": "Steffi Keran Rani J", "link": "https://stackoverflow.com/users/7245145/steffi-keran-rani-j"}, "edited": false, "score": 0, "creation_date": 1616948954, "post_id": 61137944, "comment_id": 118156540, "body": "Would be helpful if you could provide some explanation to the logic behind your code"}], "tags": [], "owner": {"reputation": 59, "user_id": 11366940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d21b59e3f99d9ad395f6fd23d5c0fc6?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/11366940/charlie"}, "is_accepted": false, "score": 2, "last_activity_date": 1586512885, "creation_date": 1586512885, "answer_id": 61137944, "question_id": 54788335, "link": "https://stackoverflow.com/questions/54788335/create-a-rounded-bar-graph-with-angular-and-chartjs/61137944#61137944", "title": "Create a rounded bar graph with Angular and chartJS", "body": "<p>Angular 7 , chart.js bar chart corner rounded</p>\n\n<pre><code>                HTML \n                    &lt;div style=\"width: 40%\"&gt;\n                        &lt;canvas id=\"barChart\"&gt;&lt;/canvas&gt;\n                    &lt;/div&gt;\n\n                .ts\n\n                 chartColors = {\n                    red: 'rgb(255, 99, 132)',\n                    orange: 'rgb(255, 159, 64)',\n                    yellow: 'rgb(255, 205, 86)',\n                    green: 'rgb(75, 192, 192)',\n                    blue: 'rgb(54, 162, 235)',\n                    purple: 'rgb(153, 102, 255)',\n                    grey: 'rgb(231,233,237)'\n                  };\n\n              ngAfterViewInit() {\n                this.canvas = document.getElementById('barChart');\n                this.ctx = this.canvas.getContext('2d');\n                  Chart.elements.Rectangle.prototype.draw = function() {\n                    var ctx = this._chart.ctx;\n                    var vm = this._view;\n                    var left, right, top, bottom, signX, signY, borderSkipped, radius;\n                    var borderWidth = vm.borderWidth;\n\n                    // If radius is less than 0 or is large enough to cause drawing errors a maxhttp://jsfiddle.net/adammoisa/v0dthnyr/7/#\n                    //      radius is imposed. If cornerRadius is not defined set it to 0.\n                    var cornerRadius = this._chart.config.options.cornerRadius;\n                    var fullCornerRadius = this._chart.config.options.fullCornerRadius;\n                    var stackedRounded = this._chart.config.options.stackedRounded;\n                    var typeOfChart = this._chart.config.type;\n\n                    if (cornerRadius &lt; 0) {\n                      cornerRadius = 0;\n                    }\n                    if (typeof cornerRadius == 'undefined') {\n                      cornerRadius = 0;\n                    }\n                    if (typeof fullCornerRadius == 'undefined') {\n                      fullCornerRadius = false;\n                    }\n                    if (typeof stackedRounded == 'undefined') {\n                      stackedRounded = false;\n                    }\n\n                    if (!vm.horizontal) {\n                      // bar\n                      left = vm.x - vm.width / 2;\n                      right = vm.x + vm.width / 2;\n                      top = vm.y;\n                      bottom = vm.base;\n                      signX = 1;\n                      signY = bottom &gt; top ? 1 : -1;\n                      borderSkipped = vm.borderSkipped || 'bottom';\n                    } else {\n                      // horizontal bar\n                      left = vm.base;\n                      right = vm.x;\n                      top = vm.y - vm.height / 2;\n                      bottom = vm.y + vm.height / 2;\n                      signX = right &gt; left ? 1 : -1;\n                      signY = 1;\n                      borderSkipped = vm.borderSkipped || 'left';\n                    }\n\n                    // Canvas doesn't allow us to stroke inside the width so we can\n                    // adjust the sizes to fit if we're setting a stroke on the line\n                    if (borderWidth) {\n                      // borderWidth shold be less than bar width and bar height.\n                      var barSize = Math.min(Math.abs(left - right), Math.abs(top - bottom));\n                      borderWidth = borderWidth &gt; barSize ? barSize : borderWidth;\n                      var halfStroke = borderWidth / 2;\n                      // Adjust borderWidth when bar top position is near vm.base(zero).\n                      var borderLeft = left + (borderSkipped !== 'left' ? halfStroke * signX : 0);\n                      var borderRight = right + (borderSkipped !== 'right' ? -halfStroke * signX : 0);\n                      var borderTop = top + (borderSkipped !== 'top' ? halfStroke * signY : 0);\n                      var borderBottom = bottom + (borderSkipped !== 'bottom' ? -halfStroke * signY : 0);\n                      // not become a vertical line?\n                      if (borderLeft !== borderRight) {\n                        top = borderTop;\n                        bottom = borderBottom;\n                      }\n                      // not become a horizontal line?\n                      if (borderTop !== borderBottom) {\n                        left = borderLeft;\n                        right = borderRight;\n                      }\n                    }\n\n                    ctx.beginPath();\n                    ctx.fillStyle = vm.backgroundColor;\n                    ctx.strokeStyle = vm.borderColor;\n                    ctx.lineWidth = borderWidth;\n\n                    // Corner points, from bottom-left to bottom-right clockwise\n                    // | 1 2 |\n                    // | 0 3 |\n                    var corners = [\n                      [left, bottom],\n                      [left, top],\n                      [right, top],\n                      [right, bottom]\n                    ];\n\n                    // Find first (starting) corner with fallback to 'bottom'\n                    var borders = ['bottom', 'left', 'top', 'right'];\n                    var startCorner = borders.indexOf(borderSkipped, 0);\n                    if (startCorner === -1) {\n                      startCorner = 0;\n                    }\n\n                    function cornerAt(index) {\n                      return corners[(startCorner + index) % 4];\n                    }\n\n                    // Draw rectangle from 'startCorner'\n                    var corner = cornerAt(0);\n                    ctx.moveTo(corner[0], corner[1]);\n\n\n                    var nextCornerId, nextCorner, width, height, x, y;\n                    for (var i = 1; i &lt; 4; i++) {\n                      corner = cornerAt(i);\n                      nextCornerId = i + 1;\n                      if (nextCornerId == 4) {\n                        nextCornerId = 0\n                      }\n\n                      nextCorner = cornerAt(nextCornerId);\n\n                      width = corners[2][0] - corners[1][0];\n                      height = corners[0][1] - corners[1][1];\n                      x = corners[1][0];\n                      y = corners[1][1];\n\n                      var radius = cornerRadius;\n                      // Fix radius being too large\n                      if (radius &gt; Math.abs(height) / 2) {\n                        radius = Math.floor(Math.abs(height) / 2);\n                      }\n                      if (radius &gt; Math.abs(width) / 2) {\n                        radius = Math.floor(Math.abs(width) / 2);\n                      }\n\n                      var x_tl, x_tr, y_tl, y_tr, x_bl, x_br, y_bl, y_br;\n                      if (height &lt; 0) {\n                        // Negative values in a standard bar chart\n                        x_tl = x;\n                        x_tr = x + width;\n                        y_tl = y + height;\n                        y_tr = y + height;\n\n                        x_bl = x;\n                        x_br = x + width;\n                        y_bl = y;\n                        y_br = y;\n\n                        // Draw\n                        ctx.moveTo(x_bl + radius, y_bl);\n\n                        ctx.lineTo(x_br - radius, y_br);\n\n                        // bottom right\n                        ctx.quadraticCurveTo(x_br, y_br, x_br, y_br - radius);\n\n\n                        ctx.lineTo(x_tr, y_tr + radius);\n\n                        // top right\n                        fullCornerRadius ? ctx.quadraticCurveTo(x_tr, y_tr, x_tr - radius, y_tr) : ctx.lineTo(x_tr, y_tr, x_tr - radius, y_tr);\n\n\n                        ctx.lineTo(x_tl + radius, y_tl);\n\n                        // top left\n                        fullCornerRadius ? ctx.quadraticCurveTo(x_tl, y_tl, x_tl, y_tl + radius) : ctx.lineTo(x_tl, y_tl, x_tl, y_tl + radius);\n\n\n                        ctx.lineTo(x_bl, y_bl - radius);\n\n                        //  bottom left\n                        ctx.quadraticCurveTo(x_bl, y_bl, x_bl + radius, y_bl);\n\n                      } else if (width &lt; 0) {\n                        // Negative values in a horizontal bar chart\n                        x_tl = x + width;\n                        x_tr = x;\n                        y_tl = y;\n                        y_tr = y;\n\n                        x_bl = x + width;\n                        x_br = x;\n                        y_bl = y + height;\n                        y_br = y + height;\n\n                        // Draw\n                        ctx.moveTo(x_bl + radius, y_bl);\n\n                        ctx.lineTo(x_br - radius, y_br);\n\n                        //  Bottom right corner\n                        fullCornerRadius ? ctx.quadraticCurveTo(x_br, y_br, x_br, y_br - radius) : ctx.lineTo(x_br, y_br, x_br, y_br - radius);\n\n                        ctx.lineTo(x_tr, y_tr + radius);\n\n                        // top right Corner\n                        fullCornerRadius ? ctx.quadraticCurveTo(x_tr, y_tr, x_tr - radius, y_tr) : ctx.lineTo(x_tr, y_tr, x_tr - radius, y_tr);\n\n                        ctx.lineTo(x_tl + radius, y_tl);\n\n                        // top left corner\n                        ctx.quadraticCurveTo(x_tl, y_tl, x_tl, y_tl + radius);\n\n                        ctx.lineTo(x_bl, y_bl - radius);\n\n                        //  bttom left corner\n                        ctx.quadraticCurveTo(x_bl, y_bl, x_bl + radius, y_bl);\n\n                      } else {\n\n                        var lastVisible = 0;\n                        for (var findLast = 0, findLastTo = this._chart.data.datasets.length; findLast &lt; findLastTo; findLast++) {\n                          if (!this._chart.getDatasetMeta(findLast).hidden) {\n                            lastVisible = findLast;\n                          }\n                        }\n                        var rounded = this._datasetIndex === lastVisible;\n\n                        if (rounded) {\n                          //Positive Value\n                          ctx.moveTo(x + radius, y);\n\n                          ctx.lineTo(x + width - radius, y);\n\n                          // top right\n                          ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\n\n                          ctx.lineTo(x + width, y + height - radius);\n\n                          // bottom right\n                          if (fullCornerRadius || typeOfChart == 'horizontalBar')\n                            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n                          else\n                            ctx.lineTo(x + width, y + height, x + width - radius, y + height);\n\n\n                          ctx.lineTo(x + radius, y + height);\n\n                          // bottom left\n                          if (fullCornerRadius)\n                            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n                          else\n                            ctx.lineTo(x, y + height, x, y + height - radius);\n\n\n                          ctx.lineTo(x, y + radius);\n\n                          // top left\n                          if (fullCornerRadius || typeOfChart == 'bar')\n                            ctx.quadraticCurveTo(x, y, x + radius, y);\n                          else\n                            ctx.lineTo(x, y, x + radius, y);\n                        } else {\n                          ctx.moveTo(x, y);\n                          ctx.lineTo(x + width, y);\n                          ctx.lineTo(x + width, y + height);\n                          ctx.lineTo(x, y + height);\n                          ctx.lineTo(x, y);\n                        }\n                      }\n\n                    }\n\n                    ctx.fill();\n                    if (borderWidth) {\n                      ctx.stroke();\n                    }\n                  };\n\n                  /**Chart Data**/\n                  var data = {\n                    labels: [\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\"],\n                    datasets: [{\n                      label: 'data 0',\n                      data: [12, 19, 3, 5, 2, 3],\n                      backgroundColor: [\n                        'rgba(255, 99, 132, 1)',\n                        'rgba(54, 162, 235, 1)',\n                        'rgba(255, 206, 86, 1)',\n                        'rgba(75, 192, 192, 1)',\n                        'rgba(153, 102, 255, 1)',\n                        'rgba(255, 159, 64, 1)'\n                      ],\n                      borderWidth: 0\n                    }, {\n                      label: 'data 1',\n                      data: [20, 24, 10, 15, 12, 13],\n                      backgroundColor: [\n                        'rgba(255, 159, 64, 1)',\n                        'rgba(255, 99, 132, 1)',\n                        'rgba(255, 206, 86, 1)',\n\n                        'rgba(54, 162, 235, 1)',\n                        'rgba(153, 102, 255, 1)',\n                        'rgba(75, 192, 192, 1)'\n\n                      ],\n                      borderWidth: 0\n                    }, {\n                      label: 'data 2',\n                      data: [20, 30, 30, 20, 14, 20],\n                      backgroundColor: [\n                        'rgba(75, 192, 192, 1)',\n                        'rgba(255, 159, 64, 1)',\n                        'rgba(255, 99, 132, 1)',\n                        'rgba(255, 206, 86, 1)',\n\n                        'rgba(54, 162, 235, 1)',\n                        'rgba(153, 102, 255, 1)'\n\n\n                      ],\n                      borderWidth: 0\n                    }]\n                  };\n\n                  /**Chart Options - Radius options are here**/\n                  var options = {\n                    //Border radius; Default: 0; If a negative value is passed, it will overwrite to 0;\n                    cornerRadius: 20,\n                    //Default: false; if true, this would round all corners of final box;\n                    fullCornerRadius: false,\n                    //Default: false; if true, this rounds each box in the stack instead of only final box;\n                    stackedRounded: false,\n                    legend: {\n                      display: false\n                  },\n                    elements: {\n                      point: {\n                        radius: 25,\n                        hoverRadius: 35,\n                        pointStyle: 'rectRounded',\n\n                      }\n                    },\n                    scales: {\n                      yAxes: [{\n                        gridLines: {\n                          display:false\n                      },\n                        ticks: {\n                          beginAtZero: true\n                        },\n                        stacked: true,\n                        radius: 25\n                      }],\n                      xAxes: [{\n                        gridLines: {\n                          display:false\n                        },\n                        ticks: {\n                          beginAtZero: true\n                        },\n                        stacked: true,\n\n                      }]\n                    }\n                  };\n\n                  /**Generate Chart**/\n                  // var ctxBar = document.getElementById(\"myChart\");\n                  var myBarChart = new Chart(this.ctx, {\n                    type: 'bar',\n                    data: data,\n                    options:options\n                  });\n                 }\n</code></pre>\n"}], "owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3111, "favorite_count": 0, "accepted_answer_id": 54790458, "answer_count": 2, "score": 5, "last_activity_date": 1586512885, "creation_date": 1550671854, "last_edit_date": 1550676554, "question_id": 54788335, "link": "https://stackoverflow.com/questions/54788335/create-a-rounded-bar-graph-with-angular-and-chartjs", "title": "Create a rounded bar graph with Angular and chartJS", "body": "<p>I would transform my ordinary bar type chart to a rounded thin bars exactly like the photo bellow </p>\n\n<p><a href=\"https://i.stack.imgur.com/uugJV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uugJV.png\" alt=\"Rounded bars\"></a></p>\n\n<p>I saw many examples suggesting to draw/extend new chart but I don't get how to do it inside angular framework, here's an <a href=\"https://codepen.io/jedtrow/pen/ygRYgo\" rel=\"noreferrer\">example</a>.</p>\n\n<p>Here's my actual graph bar : </p>\n\n<pre><code>const ctx = this.myChart.nativeElement.getContext('2d');\nthis.myChartBis = new Chart(ctx, {\n  type: 'bar',\n  data: {\n    labels: this.labels,\n    datasets: [{\n      label: 'test',\n      showLine: true,\n      lineTension: 0,\n      data: this.data,\n      fill: false,\n      pointBorderColor: '#cd0037',\n      pointBackgroundColor: '#ffffff',\n      borderColor: [\n        '#747678',\n      ],\n      borderWidth: 0\n    }\n    ],\n  },\n  options: {\n    showLines: true,\n    legend: {\n      display: false,\n    },\n    responsive: true,\n    maintainAspectRatio: true,\n    tooltips: {\n      yPadding: -2,\n      xPadding: 10,\n      footerMarginTop: 5,\n      titleFontColor: 'rgba(0, 0, 255, 0.0)',\n      displayColors: false,\n      borderWidth: 1,\n      bodyFontSize: 16,\n      bodyFontFamily: 'Avenir',\n      backgroundColor: '#FFF',\n      borderColor: '#d7d7d7',\n      bodyFontColor: '#0088ce',\n    scales: {\n      yAxes: [{\n        display: false,\n        gridLines: {\n          drawBorder: false\n        },\n        ticks: {\n          maxTicksLimit: 5,\n          display: true,\n          autoSkip: false,\n          min: 0,\n          max: 100,\n        }\n      }],\n      xAxes: [{\n        display: false,\n        gridLines: {\n          display: false\n        },\n        ticks: {\n          beginAtZero: true,\n          autoSkip: false,\n          callback: (value: any) =&gt; {\n              return value;\n          }\n        }\n      }]\n    }\n  }\n});\n</code></pre>\n\n<p>What I expect is a rounded bars like in the photo with an extra condition : id no value print a grey dot ( but the proiority is to make rounded bars )</p>\n"}, {"tags": ["typescript", "react-native", "promise", "jsx"], "comments": [{"owner": {"reputation": 5150, "user_id": 5068574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75744c36ce5324c7831298fe9a80cecf?s=128&d=identicon&r=PG&f=1", "display_name": "dentemm", "link": "https://stackoverflow.com/users/5068574/dentemm"}, "edited": false, "score": 1, "creation_date": 1550672219, "post_id": 54788263, "comment_id": 96355187, "body": "<code>this.lessons</code> does not exist, it should be <code>this.state.lessons</code>"}, {"owner": {"reputation": 13259, "user_id": 1207049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/445e3d8cb8ef7471a15bdeda0b573de6?s=128&d=identicon&r=PG", "display_name": "marekful", "link": "https://stackoverflow.com/users/1207049/marekful"}, "edited": false, "score": 1, "creation_date": 1550672232, "post_id": 54788263, "comment_id": 96355201, "body": "Typo <code>this.lessons.map</code> -&gt; <code>this.state.lessons.map</code> ?"}, {"owner": {"reputation": 349, "user_id": 9461258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEWh4.png?s=128&g=1", "display_name": "askemeline", "link": "https://stackoverflow.com/users/9461258/askemeline"}, "edited": false, "score": 0, "creation_date": 1550673616, "post_id": 54788263, "comment_id": 96356090, "body": "Thanks for your answer the error is disappear but nothing appear there are not lessons :/"}, {"owner": {"reputation": 5150, "user_id": 5068574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75744c36ce5324c7831298fe9a80cecf?s=128&d=identicon&r=PG&f=1", "display_name": "dentemm", "link": "https://stackoverflow.com/users/5068574/dentemm"}, "edited": false, "score": 0, "creation_date": 1550676934, "post_id": 54788263, "comment_id": 96358252, "body": "Second mistake: in componentDidMount you are setting <code>this.setState({lesson: ...}</code>, which should be <code>this.setState({lessons: ... </code>}"}], "answers": [{"tags": [], "owner": {"reputation": 3571, "user_id": 6141587, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/GAMZ3.jpg?s=128&g=1", "display_name": "deadcoder0904", "link": "https://stackoverflow.com/users/6141587/deadcoder0904"}, "is_accepted": false, "score": 1, "last_activity_date": 1550673621, "creation_date": 1550673621, "answer_id": 54788876, "question_id": 54788263, "link": "https://stackoverflow.com/questions/54788263/how-to-use-promise-with-map-in-react-native/54788876#54788876", "title": "How to use promise with map() in react native", "body": "<p>As others have pointed out <code>this.lessons</code> should be <code>this.state.lessons</code></p>\n"}, {"tags": [], "owner": {"reputation": 5150, "user_id": 5068574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75744c36ce5324c7831298fe9a80cecf?s=128&d=identicon&r=PG&f=1", "display_name": "dentemm", "link": "https://stackoverflow.com/users/5068574/dentemm"}, "is_accepted": true, "score": 1, "last_activity_date": 1550677088, "creation_date": 1550677088, "answer_id": 54790013, "question_id": 54788263, "link": "https://stackoverflow.com/questions/54788263/how-to-use-promise-with-map-in-react-native/54790013#54790013", "title": "How to use promise with map() in react native", "body": "<p>There are several typos in your code:</p>\n\n<pre><code>export class ExploreScreen extends Component {    \n\n  public async componentDidMount() {\n    // Typo here:\n    this.setState({lessons: await ExploreData.getData()});\n  }   \n  public render() {\n    let block\n    if(this.state.lessons === null) {\n      block = &lt;View&gt;&lt;Text&gt;Loader&lt;/Text&gt;&lt;/View&gt;;\n    }else{\n      block=(&lt;ScrollView&gt;\n      {\n      // Typo here:\n      this.state.lessons.map((lesson: ILesson) =&gt; (\n        &lt;LessonListItem\n          key={lesson.id}\n          lesson={lesson}\n        /&gt;\n        ))\n      }\n    &lt;/ScrollView&gt;\n      );\n    }\n    return (\n      &lt;View&gt;\n        {block}\n      &lt;/View&gt;\n    );\n\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 9461258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEWh4.png?s=128&g=1", "display_name": "askemeline", "link": "https://stackoverflow.com/users/9461258/askemeline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 1, "accepted_answer_id": 54790013, "answer_count": 2, "score": 0, "last_activity_date": 1550677088, "creation_date": 1550671610, "last_edit_date": 1550677014, "question_id": 54788263, "link": "https://stackoverflow.com/questions/54788263/how-to-use-promise-with-map-in-react-native", "title": "How to use promise with map() in react native", "body": "<p>I'm new to React Native and I'm learning it.\nI would like to use Promise with map(), It's not very clean for me and I've got an error :</p>\n\n<blockquote>\n  <p>\"TypeError: Type Error: undefined is not an object (evaluating\n  'this.lessons.map')\"</p>\n</blockquote>\n\n<p>in ExploreScreen</p>\n\n<pre><code>interface IProps {\n  navigation: NavigationScreenProp&lt;any, any&gt;;\n}\n\ninterface IState {\n  lessons: ILesson | [];\n}\n\nexport class ExploreScreen extends Component&lt;IProps, IState&gt; {    \n  constructor(props: any) {\n    super(props);\n    this.state = {lessons: []}\n  }\n  public async componentDidMount() {\n    this.setState({lesson: await ExploreData.getData()});\n  }   \n  public render() {\n    let block\n    if(this.state.lessons === null) {\n      block = &lt;View&gt;&lt;Text&gt;Loader&lt;/Text&gt;&lt;/View&gt;;\n    } else {\n      block = (\n        &lt;ScrollView&gt;\n          {this.lessons.map((lesson: ILesson) =&gt; (\n            &lt;LessonListItem\n              key={lesson.id}\n              lesson={lesson}\n            /&gt;))}\n        &lt;/ScrollView&gt;\n      );\n    }\n    return (\n      &lt;View&gt;\n        {block}\n      &lt;/View&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>In ExploreData</p>\n\n<pre><code>export class ExploreData extends CoreData {\n  public static async getData(id: string): Promise&lt;ILesson[]&gt;{\n    await ExploreData.wait();\n    const data = [];\n    for (let i = 0; i &lt; 25; i++) {\n      data.push(CoreData.getLesson());\n    }\n    return data;\n  }\n  private static wait(): Promise&lt;{}&gt; {\n    const promise = new Promise((resolve, reject) =&gt; {\n      setTimeout(() =&gt; resolve(), 2000);\n    });\n    return promise;\n  }\n}\n</code></pre>\n\n<p>If someone can help me It's would be very nice. Thank you</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "request-queueing"], "comments": [{"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1550671960, "post_id": 54788236, "comment_id": 96355010, "body": "concat should work if order is a concern, why do you think that&#39;s not right?"}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1550672022, "post_id": 54788236, "comment_id": 96355051, "body": "@ABOS first of all it chains all methods and makes them in order, meanwhile I could benefit from simultaneous requests. Moreover it&#39;s an observable of observable result which doesn&#39;t seem right."}, {"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1550672086, "post_id": 54788236, "comment_id": 96355099, "body": "if order is not a concern, you can use forkJoin."}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1550672562, "post_id": 54788236, "comment_id": 96355415, "body": "Thanks. That worked for me. You may post it as an answer I will mark it."}], "answers": [{"tags": [], "owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "is_accepted": true, "score": 1, "last_activity_date": 1550672705, "creation_date": 1550672705, "answer_id": 54788597, "question_id": 54788236, "link": "https://stackoverflow.com/questions/54788236/rxjs-chaining-observables-with-subscriptions/54788597#54788597", "title": "RxJs chaining observables with subscriptions", "body": "<p>If order is not a concern, you can use forkJoin from rxjs, which works similar to Promise.all,</p>\n\n<pre><code> forkJoin([...requests])\n   .subscribe(_ =&gt; this.loading = false;) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 386, "user_id": 1215613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7835eeedd44c2ec619530a6e1904c015?s=128&d=identicon&r=PG", "display_name": "Ankur Shah", "link": "https://stackoverflow.com/users/1215613/ankur-shah"}, "is_accepted": false, "score": -1, "last_activity_date": 1550673088, "creation_date": 1550673088, "answer_id": 54788711, "question_id": 54788236, "link": "https://stackoverflow.com/questions/54788236/rxjs-chaining-observables-with-subscriptions/54788711#54788711", "title": "RxJs chaining observables with subscriptions", "body": "<p>Please use the forkjoin from RxJs</p>\n\n<p><a href=\"https://plnkr.co/edit/ElTrOg8NfR3WbbAfjBXQ?p=preview\" rel=\"nofollow noreferrer\">Plunker Demo link</a></p>\n\n<pre><code> ngOnInit() {\n    forkJoin(\n      this._myService.makeRequest('Request One', 2000),\n      this._myService.makeRequest('Request Two', 1000) \n      this._myService.makeRequest('Request Three', 3000) \n    )\n    .subscribe(([res1, res2, res3]) =&gt; {\n      this.propOne = res1;\n      this.propTwo = res2;\n      this.propThree = res3;\n    });\n  }\n</code></pre>\n\n<p><a href=\"http://%20https://www.learnrxjs.io/operators/combination/forkjoin.html\" rel=\"nofollow noreferrer\">Ref from :</a></p>\n"}], "owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 54788597, "answer_count": 2, "score": 0, "last_activity_date": 1550673088, "creation_date": 1550671539, "question_id": 54788236, "link": "https://stackoverflow.com/questions/54788236/rxjs-chaining-observables-with-subscriptions", "title": "RxJs chaining observables with subscriptions", "body": "<p>I have a form which consists of blocks which are retrieved by calls to API.</p>\n\n<p>I need to process each call accordingly to that specific call (I'm creating a formGroup part based on that call).</p>\n\n<p>What I want is to have some kind of global observable/status which will be completed when all calls are made and processed.</p>\n\n<p>Now I'm doing it by creating a BehaviorSubject counter and on each request I increment this. When this counter reaches some value I change <code>loading</code> to <code>false</code> and show a form then. Is there a better way?</p>\n\n<p>It looks like</p>\n\n<pre><code>o1.subscribe(() =&gt; {... this.counter.next(this.counter.value + 1) });\no2.subscribe(() =&gt; {... this.counter.next(this.counter.value + 1) });\no3.subscribe(() =&gt; {... this.counter.next(this.counter.value + 1) });\n</code></pre>\n\n<p>.</p>\n\n<pre><code>this.counter.subscribe(val =&gt; if (val === 3) { this.loading = false; }\n</code></pre>\n\n<p>I've thought of creating <code>of()</code> wrapper and using <code>concat()</code> around them but I don't think that it's right.</p>\n"}, {"tags": ["node.js", "sql-server", "typescript", "visual-studio-code", "typescript-typings"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1550671266, "post_id": 54787959, "comment_id": 96354555, "body": "<code>--esModuleInterop</code> or <code>import sql = require(&quot;mssql&quot;);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4725, "user_id": 9931092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dDivw.jpg?s=128&g=1", "display_name": "Amit Baranes", "link": "https://stackoverflow.com/users/9931092/amit-baranes"}, "is_accepted": false, "score": 0, "last_activity_date": 1550671367, "creation_date": 1550671367, "answer_id": 54788181, "question_id": 54787959, "link": "https://stackoverflow.com/questions/54787959/typescript-visual-studio-code-cant-get-the-correct-typings-for-mssql/54788181#54788181", "title": "typescript: visual studio code can&#39;t get the correct typings for mssql", "body": "<p>Have you tried using msnodesqlv8?\nthat fixed my problems !</p>\n\n<p>Implementing :\nnpm install mssql\nnpm install msnodesqlv8</p>\n\n<p>const sql = require(\"mssql/msnodesqlv8\");</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> const connection = new sql.ConnectionPool({\r\n    server: ServerName,\r\n    driver: \"msnodesqlv8\",\r\n    options: {\r\n      trustedConnection: true\r\n    }\r\n  });\r\n  connection.connect().then(() =&gt; {\r\n    connection.query(\r\n      `select * from xxxtable`,\r\n      (err, result) =&gt; {\r\n        if (err) {\r\n          console.log(err);\r\n        } else {\t\r\n\t\tconsole.log(result);\r\n        }\r\n      }\r\n    );\r\n  });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 52402, "user_id": 47633, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b072fc2897196b3bafcd337bc9c91e2d?s=128&d=identicon&r=PG", "display_name": "opensas", "link": "https://stackoverflow.com/users/47633/opensas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550671367, "creation_date": 1550670691, "question_id": 54787959, "link": "https://stackoverflow.com/questions/54787959/typescript-visual-studio-code-cant-get-the-correct-typings-for-mssql", "title": "typescript: visual studio code can&#39;t get the correct typings for mssql", "body": "<p>I'm trying to follow <a href=\"https://www.npmjs.com/package/mssql#quick-example\" rel=\"nofollow noreferrer\">this</a> quick example to work with sql server db from node.</p>\n\n<p>I already ran</p>\n\n<pre><code>npm install mssql -s\nnpm install @types/mssql -s\n</code></pre>\n\n<p>and I try with this example</p>\n\n<pre><code>import sql from 'mssql';\n\n(async () =&gt; {\n  try {\n    await sql.connect('mssql://xxxxuser:xxxpass!@localhost/xxxdb');\n    const result = await sql.query`select * from xxxtable`;\n    console.dir(result);\n  } catch (err) {\n    console.log(err);\n  }\n})();\n</code></pre>\n\n<p>the example works fine, but visual studio code gives me the following warning on <code>sql.connect</code> and <code>sql.query</code>:</p>\n\n<pre><code>[ts] Property 'connect' does not exist on type 'typeof import(\"xxx/db_crawler/node_modules/@types/mssql/index\")'. [2339]\n----\nany\n</code></pre>\n\n<p>Any idea how can I troubleshoot this?</p>\n"}, {"tags": ["node.js", "typescript", "oop", "decorator"], "answers": [{"tags": [], "owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "is_accepted": false, "score": 0, "last_activity_date": 1550670515, "creation_date": 1550670515, "answer_id": 54787896, "question_id": 54787895, "link": "https://stackoverflow.com/questions/54787895/how-to-access-all-arguments-of-a-method-in-typescript/54787896#54787896", "title": "How to access all arguments of a method in typescript?", "body": "<p>You can store a function as a variable and store your arguments inside an array. Then you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\" rel=\"nofollow noreferrer\"><code>function.apply</code></a> like so:</p>\n\n<pre><code>class MyDecorator implements MyServiceInterface {\n    constructor(private service: MyServiceInterface) {\n    }\n\n    public doFoo(param1: string, param2: number): string {\n        const args = [param1, param2];\n\n        return this.handleErrorCase(this.service.doFoo, args);\n    }\n\n    public doBar(otherParam: number): string {\n        const args = [otherParam];\n\n        return this.handleErrorCase(this.service.doBar, args);\n    }\n\n    private handleErrorCase&lt;T&gt;(fn: any, args: any[]): string {\n        try {\n            return fn.apply(this.service, args) as string;\n        } catch (e) {\n            return \"THIS SPECIAL CASE IS NOW RESOLVED\";\n        }\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550670515, "creation_date": 1550670515, "question_id": 54787895, "link": "https://stackoverflow.com/questions/54787895/how-to-access-all-arguments-of-a-method-in-typescript", "title": "How to access all arguments of a method in typescript?", "body": "<p>I have built a decorator to handle a certain error in a service of mine. I have achieved it like this:</p>\n\n<pre><code>interface MyServiceInterface {\n    doBar(otherParam: number): string;\n\n    doFoo(param1: string, param2: number): string;\n}\n\nclass MyServiceClass implements MyServiceInterface {\n\n    doFoo(param1: string, param2: number): string {\n        throw new Error(\"I SHOULD BE CAUGHT\");\n    }\n\n    doBar(otherParam: number): string {\n        throw new Error(\"I SHOULD BE CAUGHT\");\n    }\n}\n\nclass MyDecorator implements MyServiceInterface {\n    constructor(private service: MyServiceInterface) {\n    }\n\n    public doFoo(param1: string, param2: number): string {\n        try {\n            return this.service.doFoo(param1, param2);\n        } catch (e) {\n            return \"THIS SPECIAL CASE IS NOW RESOLVED\";\n        }\n    }\n\n    public doBar(otherParam: number): string {\n        try {\n            return this.service.doBar(otherParam);\n        } catch (e) {\n            return \"THIS SPECIAL CASE IS NOW RESOLVED\";\n        }\n    }\n}\n\nconst instance = new MyDecorator(new MyServiceClass());\n\nconsole.log([\n    instance.doBar(1),\n    instance.doFoo(\"biz\", 2),\n].join(\"\\n\"));\n</code></pre>\n\n<p>I dislike repeating myself in the decorator, and hence I want my catch block to be more dynamic. I want to pass through the function and all arguments into one function, as my error handling will be the same.</p>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 5, "creation_date": 1550670333, "post_id": 54787804, "comment_id": 96353973, "body": "<code>Breadcrumb.url</code> - missed the capital <code>B</code>"}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "reply_to_user": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 0, "creation_date": 1550670466, "post_id": 54787804, "comment_id": 96354053, "body": "if that  was it I was going to scream but it wasn&#39;t it was a mistake in my code to"}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "reply_to_user": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 0, "creation_date": 1550672219, "post_id": 54787804, "comment_id": 96355188, "body": "it doesn&#39;t work like that but your answer works thanks I tried it because I knew they where nested array&#39;s but I thought I tried that but I don&#39;t think so because now no errors"}], "answers": [{"tags": [], "owner": {"reputation": 3162, "user_id": 5729813, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/543553a29a670d036966954eebda5a27?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Walzade", "link": "https://stackoverflow.com/users/5729813/tushar-walzade"}, "is_accepted": true, "score": 2, "last_activity_date": 1550671906, "creation_date": 1550671906, "answer_id": 54788356, "question_id": 54787804, "link": "https://stackoverflow.com/questions/54787804/unable-to-iterate-over-an-array-within-my-html/54788356#54788356", "title": "unable to iterate over an array within my html", "body": "<blockquote>\n  <p>If I'm not wrong, you want to push into <code>breadcrumburl</code> array as -</p>\n</blockquote>\n\n<pre><code>this.breadcrumburl.push({name: bread, url: i + \"/\" + bread});\n</code></pre>\n\n<p>Currently, you created nested arrays &amp; pushed 2 elements in all nested arrays in <code>breadcrumburl</code></p>\n"}], "owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 54788356, "answer_count": 1, "score": 0, "last_activity_date": 1550674529, "creation_date": 1550670283, "last_edit_date": 1550674529, "question_id": 54787804, "link": "https://stackoverflow.com/questions/54787804/unable-to-iterate-over-an-array-within-my-html", "title": "unable to iterate over an array within my html", "body": "<p>I am trying to make a breadcrumb component for angular7 but I can't get my array to properly show into my HTML and would like some tips because I can't find it on the internet. if you would be so kind as to help me I am still new to angular and can't think of a better way to make a breadcrumb component.</p>\n\n<p>my component.ts -</p>\n\n<pre><code>breadcrumbLists: Array &lt;any&gt; = [];\nbreadcrumburl: Array &lt;any&gt; = [];\n\nconstructor(private _router: Router) { }\n\nngOnInit() {\n    this.listenrouting();\n}\n\nlistenrouting(): void {\n    let routerUrl: string, routerList: Array &lt; any &gt; ;\n    let i;\n    let done;\n    this._router.events.subscribe((router: any) =&gt; {\n        routerUrl = router.urlAfterRedirects;\n        if (routerUrl &amp;&amp; typeof routerUrl === 'string') {\n            this.breadcrumbLists.length = 0;\n            routerList = routerUrl.slice(1).split('/');\n            this.breadcrumbLists = routerList;\n\n            if (done != false) {\n\n                this.breadcrumbLists.forEach(bread =&gt; {\n\n                    if (i != null) {\n                        this.breadcrumburl.push([{ name: bread }, { url: i + \"/\" + bread }])\n                    } else {\n                        this.breadcrumburl.push([{ name: bread }, { url: \"/\" + bread }])\n                    }\n\n                    i = \"/\" + bread\n\n                });\n            }\n\n            console.log(\"url\", this.breadcrumburl)\n            console.log(this.breadcrumbLists)\n            done = false;\n        }\n    });\n}\n</code></pre>\n\n<p>and then my HTML -</p>\n\n<pre><code>&lt;nav&gt;\n    &lt;div&gt;\n        &lt;li *ngFor=\"let Breadcrumb of breadcrumburl\"&gt;\n            &lt;a routerLink=\"{{Breadcrumb.url}}\"&gt;{{Breadcrumb.name}}&lt;/a&gt;\n        &lt;/li&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "types", "interface"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1550681262, "post_id": 54787749, "comment_id": 96360927, "body": "Look into literal types and intersection types. An interface can&#39;t express this but there are types that can"}], "answers": [{"comments": [{"owner": {"reputation": 304, "user_id": 9838291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a4jVg.jpg?s=128&g=1", "display_name": "Diyorbek Sadullaev", "link": "https://stackoverflow.com/users/9838291/diyorbek-sadullaev"}, "edited": false, "score": 0, "creation_date": 1550742754, "post_id": 54788347, "comment_id": 96384622, "body": "I also considered using <code>interface State { [field: string]: ITEM | ITEM[] | null }</code> but my component is quite big and has methods which accept only <code>ITEM</code> or <code>ITEM[]</code>. This was the real reason of  asking this question. <code>state</code> holds both collections and items from each of the collections. That&#39;s why the methods accept different types of arguments.  I went on with the second option <code>interface State { [field: string]: any }</code> as I am checking for types while fetching data, as well as, inside the methods. I hope it will not cause any serious type issues."}], "tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1550671880, "creation_date": 1550671880, "answer_id": 54788347, "question_id": 54787749, "link": "https://stackoverflow.com/questions/54787749/indexable-type-interface-containing-values-with-various-types/54788347#54788347", "title": "Indexable type interface containing values with various types", "body": "<p><strong>Explanation</strong></p>\n\n<blockquote>\n  <p>indexable types in typescript only accept values with the exact same\n  type</p>\n</blockquote>\n\n<p>That's very close, but not exactly correct \u2014 the <em>index signature</em> must <em>contain</em> all types that appear on the right-hand side. It means the type used for indexing can be exactly the same as your values, but can also be wider.</p>\n\n<p>What does it mean for a type to be wider? You can think of types are sets. For example, a specific string like <code>\"foo\"</code> belongs to the set of all strings, so <code>string</code> is wider than <code>\"foo\"</code>. The types at the top (<code>any</code> and <code>unknown</code>) contain almost everything, meaning everything can be assigned to them.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>You must use an index signature that contains all possible types of the values.</p>\n\n<pre><code>interface State {\n  [field: string]: ITEM | ITEM[] | null\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>interface State {\n  [field: string]: any;\n}\n</code></pre>\n\n<p>However, this will destroy any code completion. If it suits your use case, you could also try this approach:</p>\n\n<pre><code>type Foo = {\n    foo: number[]\n    bar: string[]\n    [index: string]: unknown;\n}\n\nconst foo: Foo = {\n    foo: [1, 2, 3],\n    bar: [\"a\", \"b\", \"c\"],\n    baz: Window\n}\n</code></pre>\n\n<p>In this example, we get correct code hints for <code>foo</code> and <code>bar</code>, and any excess properties are of type <code>unknown</code>. This means they need to be verified before they can be used.</p>\n\n<pre><code>let unrecognized = foo[\"baz\"]\n\nif (unrecognized instanceof Window) {\n    console.log(unrecognized.document);\n}\n</code></pre>\n"}], "owner": {"reputation": 304, "user_id": 9838291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a4jVg.jpg?s=128&g=1", "display_name": "Diyorbek Sadullaev", "link": "https://stackoverflow.com/users/9838291/diyorbek-sadullaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550671880, "creation_date": 1550670128, "last_edit_date": 1550670702, "question_id": 54787749, "link": "https://stackoverflow.com/questions/54787749/indexable-type-interface-containing-values-with-various-types", "title": "Indexable type interface containing values with various types", "body": "<p>Is there any way of achieving type variety in indexable type interfaces?</p>\n\n<p>I have a state which contains fields with different types.</p>\n\n<pre><code>public state:State = {\n  item: {...},\n  item1: {...},\n  ...\n  itemCollection: [],\n  itemCollection1: [] \n  ...\n}\n</code></pre>\n\n<p>In the code above <code>item</code> is some specific name which I want to access to the state with it like <code>this.state['item']</code>. But, as far as I realized, indexable types in typescript only accept values with the exact same type.</p>\n\n<p>I have an interface like:</p>\n\n<pre><code>interface State{\n  [field:string]: ITEM | ITEM[] | null\n}\n</code></pre>\n\n<p>, which I want to be able to turn into something like this:</p>\n\n<pre><code>interface State{\n  [field:string]: ITEM | null\n  [field:string]: ITEM[] | null\n}\n</code></pre>\n\n<p>I know it looks stupid. As I am new to TypeScript, I wonder if I could do it like I used to do in JavaScript.</p>\n"}, {"tags": ["html", "typescript", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "edited": false, "score": 0, "creation_date": 1552470705, "post_id": 54787158, "comment_id": 97018067, "body": "by doing this i am not able to open the modal popup.   <code>@HostListener(&#39;click&#39;, [&#39;$event.target&#39;])   onClick(btn) {     if(this.settingsDisplay === &#39;block&#39;){       this.settingsDisplay = &#39;none&#39;;     }       }</code>"}, {"owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "edited": false, "score": 0, "creation_date": 1552470813, "post_id": 54787158, "comment_id": 97018143, "body": "i guess i need to validate some other condition can you please guide me in from the above code. @distante"}, {"owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "reply_to_user": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "edited": false, "score": 0, "creation_date": 1552489059, "post_id": 54787158, "comment_id": 97030339, "body": "Why are you using <code>$event.target</code> ??"}], "tags": [], "owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "is_accepted": false, "score": 0, "last_activity_date": 1550668251, "creation_date": 1550668251, "answer_id": 54787158, "question_id": 54787057, "link": "https://stackoverflow.com/questions/54787057/modal-popup-do-not-close-if-i-click-anywhere-on-screen/54787158#54787158", "title": "Modal Popup do not close if i click anywhere on screen", "body": "<p>You need to use <code>@HostListener</code> (<a href=\"https://angular.io/api/core/HostListener\" rel=\"nofollow noreferrer\">HostListener Docs</a>)</p>\n\n<pre><code>@HostListener('document:click', ['$event'])\nclickOnDocument(event) {\n  if(SOME_TEST_DO_YOU_WANT_TO_MAKE_PROBABLY_WITH_THE_event_TARGET){\n     this.display = 'none';\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "edited": false, "score": 0, "creation_date": 1552548278, "post_id": 54787247, "comment_id": 97053150, "body": "That is not a good way to do it in Angular because you could build yourself a memory leak."}], "tags": [], "owner": {"reputation": 199, "user_id": 8800309, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AnRBRu3aVLc/AAAAAAAAAAI/AAAAAAAADrU/gjELgBXTnqA/photo.jpg?sz=128", "display_name": "IndPendent", "link": "https://stackoverflow.com/users/8800309/indpendent"}, "is_accepted": false, "score": 0, "last_activity_date": 1550668535, "creation_date": 1550668535, "answer_id": 54787247, "question_id": 54787057, "link": "https://stackoverflow.com/questions/54787057/modal-popup-do-not-close-if-i-click-anywhere-on-screen/54787247#54787247", "title": "Modal Popup do not close if i click anywhere on screen", "body": "<p>Maybe this helps, it's made with vanilla JS.</p>\n\n<pre><code>document.addEventListener('click', (evt) =&gt; {\n    target = evt.target;\n    var modalContainer = document.getElementById('acc-del-form');\n    var modal = document.getElementById('modal_block');\n    if (target !== modal) {\n        modalContainer.style.display = \"none\"\n    }\n})\n</code></pre>\n\n<p>When clicking anywhere outside the modal block it will remove the <code>display</code> attribute.</p>\n"}], "owner": {"reputation": 417, "user_id": 9745982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c513d1c336ea9be0078556cad28a428?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/9745982/santhosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550668535, "creation_date": 1550667874, "last_edit_date": 1550668321, "question_id": 54787057, "link": "https://stackoverflow.com/questions/54787057/modal-popup-do-not-close-if-i-click-anywhere-on-screen", "title": "Modal Popup do not close if i click anywhere on screen", "body": "\n\n<pre class=\"lang-html prettyprint-override\"><code> &lt;div class=\"modal fade in\" id=\"acc-del-form\" role=\"dialog\" style=\"background: rgba(0, 0, 0, 0.55);\" [ngStyle]=\"{'display':display}\" data-keyboard=\"false\" data-backdrop=\"false\"&gt;\n      &lt;div class=\"modal-dialog modal-sm\"&gt;\n        &lt;div class=\"modal-content\"&gt;\n          &lt;div class=\"modal-header\" style=\"background: #05668D; color:#fff\"&gt;\n            &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" (click)=\"onCloseDeleteTagging()\"&gt;\u00d7&lt;/button&gt;\n            &lt;h4 class=\"modal-title\"&gt;Update!&lt;/h4&gt;\n          &lt;/div&gt;\n          &lt;div class=\"modal-body\"&gt;\n            &lt;h5&gt;Do you want to update tags&lt;/h5&gt;\n          &lt;/div&gt;\n          &lt;div class=\"modal-footer\"&gt;\n            &lt;button type=\"button\" class=\"btn btn-default btn-info btn-fill btn-sm\" data-dismiss=\"modal\" (click)=\"updateTaggingData()\"&gt;Yes&lt;/button&gt;\n            &lt;button type=\"button\" class=\"btn btn-default btn-warning btn-fill btn-sm\" data-dismiss=\"modal\" (click)=\"onCloseDeleteTagging()\"&gt;No&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>This is my above modal popup it closes when i click on <strong>onCloseDeleteTagging()</strong> method </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>onCloseDeleteTagging() {\n    this.display = 'none';\n  }\n</code></pre>\n\n<p>i want to close the modal pop to close when i click anywhere on the screen rather than clicking \"X\" button</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>  &lt;div class=\"pull-right\" style=\"padding-top:15px;\" [ngStyle]=\"{'display':TaggingUserDisplay}\"&gt;\n\n    &lt;button type=\"button\" title= \"Save Tags\" class=\"btn btn-warning btn-fill btn-xs\" id=\"save_btn\" (click)= \"updateTaggingDataPopup()\" [ngStyle]=\"{'display': 'updateTagBoList.length !== 0 '}\"&gt;&lt;i class=\"fa fa-save\"&gt;&lt;/i&gt;&lt;/button&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>this is my code to open modal popup </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  updateTaggingDataPopup() {\n    this.display = \"block\";\n  }\n</code></pre>\n\n<p>can any one help me in closing the popup when i click anywhere on the screen.</p>\n"}, {"tags": ["typescript", "import", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "is_accepted": false, "score": 1, "last_activity_date": 1550667953, "creation_date": 1550667953, "answer_id": 54787078, "question_id": 54787010, "link": "https://stackoverflow.com/questions/54787010/typescript-how-to-export-function-and-interfaces/54787078#54787078", "title": "typescript: how to export function and interfaces", "body": "<p><strong>some-file.ts</strong></p>\n\n<pre><code>export interface IConfig {\n  db: string,\n  table: string,\n  connstring: string,\n  sources: Array&lt;{\n    db: string,\n    connstring: string\n  }&gt;\n}\n\nexport function readConfig(configFile: string = 'configuration.yml'): IConfig {\n  const config: IConfig = safeLoad(readFileSync(configFile, 'utf8'));\n  return config;\n}\n</code></pre>\n\n<p><strong>some-other-file.ts</strong></p>\n\n<pre><code>import { safeLoad } from 'js-yaml';\nimport { readFileSync } from 'fs';\nimport { IConfig, readConfig} from 'some-file'\n\nconst config: IConfig = readConfig();\n\n// [do stuff with config]\n</code></pre>\n"}], "owner": {"reputation": 52402, "user_id": 47633, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b072fc2897196b3bafcd337bc9c91e2d?s=128&d=identicon&r=PG", "display_name": "opensas", "link": "https://stackoverflow.com/users/47633/opensas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1205, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550667953, "creation_date": 1550667729, "question_id": 54787010, "link": "https://stackoverflow.com/questions/54787010/typescript-how-to-export-function-and-interfaces", "title": "typescript: how to export function and interfaces", "body": "<p>I need a basic example about how to export functions and associated types (interfaces) in typescript.</p>\n\n<p>For example, I have the following readConfig function that returns an IConfig, and I'd like to know how to put that function and interface into a separate config.ts file, and then import it.</p>\n\n<pre><code>interface IConfig {\n  db: string,\n  table: string,\n  connstring: string,\n  sources: Array&lt;{\n    db: string,\n    connstring: string\n  }&gt;\n}\n\nimport { safeLoad } from 'js-yaml';\nimport { readFileSync } from 'fs';\n\nconst config: IConfig = readConfig();\n\n// [do stuff with config]\n\n\nfunction readConfig(configFile: string = 'configuration.yml'): IConfig {\n  const config: IConfig = safeLoad(readFileSync(configFile, 'utf8'));\n  return config;\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "angular4-httpclient"], "comments": [{"owner": {"reputation": 1391, "user_id": 7561290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6zJw.png?s=128&g=1", "display_name": "Javascript Hupp Technologies", "link": "https://stackoverflow.com/users/7561290/javascript-hupp-technologies"}, "edited": false, "score": 0, "creation_date": 1550668454, "post_id": 54787003, "comment_id": 96352752, "body": "<code>&lt;div *ngFor=&#39;let product of products&#39;&gt;&lt;h2&gt;{{product.prod_name | uppercase}} Details&lt;&#47;h2&gt;&lt;div&gt;&lt;span&gt;Description: &lt;&#47;span&gt;{{product.prod_desc}}&lt;&#47;div&gt;&lt;&#47;div&gt;</code> Use this template to iterate array in html."}, {"owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "reply_to_user": {"reputation": 1391, "user_id": 7561290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6zJw.png?s=128&g=1", "display_name": "Javascript Hupp Technologies", "link": "https://stackoverflow.com/users/7561290/javascript-hupp-technologies"}, "edited": false, "score": 0, "creation_date": 1550668603, "post_id": 54787003, "comment_id": 96352852, "body": "@JavascriptHuppTechnologies i am  not able to access products inside an HTML. its only showing when you hover on debugger but when you print it its not."}, {"owner": {"reputation": 1391, "user_id": 7561290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6zJw.png?s=128&g=1", "display_name": "Javascript Hupp Technologies", "link": "https://stackoverflow.com/users/7561290/javascript-hupp-technologies"}, "edited": false, "score": 0, "creation_date": 1550668779, "post_id": 54787003, "comment_id": 96352972, "body": "Sorry i am not getting what you are trying to say but if you have added debugger before <code>this.products = data;</code> and expecting to view in html then it should not. Try removing debugger and see what&#39;s happen with answer below added that same as my comment."}, {"owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "reply_to_user": {"reputation": 1391, "user_id": 7561290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6zJw.png?s=128&g=1", "display_name": "Javascript Hupp Technologies", "link": "https://stackoverflow.com/users/7561290/javascript-hupp-technologies"}, "edited": false, "score": 0, "creation_date": 1550669042, "post_id": 54787003, "comment_id": 96353135, "body": "i meant to say i have kept a breakpoint in chrome debugging and checked, it was showing value only on hover but the same data is not printing inside a HTML"}], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "edited": false, "score": 0, "creation_date": 1550668433, "post_id": 54787087, "comment_id": 96352745, "body": "Problem  is i am not able to retrieve products in html"}, {"owner": {"reputation": 2143, "user_id": 1727357, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2BG0t.jpg?s=128&g=1", "display_name": "YaakovHatam", "link": "https://stackoverflow.com/users/1727357/yaakovhatam"}, "reply_to_user": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "edited": false, "score": 0, "creation_date": 1550668551, "post_id": 54787087, "comment_id": 96352822, "body": "Take a look and the second part of the answer @Onera"}], "tags": [], "owner": {"reputation": 2143, "user_id": 1727357, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2BG0t.jpg?s=128&g=1", "display_name": "YaakovHatam", "link": "https://stackoverflow.com/users/1727357/yaakovhatam"}, "is_accepted": false, "score": 0, "last_activity_date": 1550668524, "last_edit_date": 1550668524, "creation_date": 1550667989, "answer_id": 54787087, "question_id": 54787003, "link": "https://stackoverflow.com/questions/54787003/variable-data-not-retained-to-bind-in-html-even-after-assigning-data-to-it-insid/54787087#54787087", "title": "Variable data not retained to bind in HTML even after assigning data to it inside a subscribe() function", "body": "<p>Your are trying to use <code>product</code> in template (<code>*ngIf=\"product\"</code>) while the data is inside <code>products</code> variable.</p>\n\n<p>and, you should call <code>getProducts()</code> function to fetch the values inside your array variable.</p>\n\n<p>Import OnInit Interface and call the fucntion:</p>\n\n<pre><code>export class ProductComponent implements OnInit {\n\n   products:any = [];\n\n   constructor(public rest: RestService){}\n\n   ngOnInit() {\n          this.getProducts();\n   }\n   getProducts() {\n     this.products = [];\n     this.rest.getProducts().subscribe((data: {}) =&gt; {\n     console.log(data); // data is printing in console\n      this.products = data; // tried keeping debugger here \n   });\n}\n</code></pre>\n\n<h2>update due comment</h2>\n\n<p>if you want show array in your template you have to iterate over the array:</p>\n\n<pre><code>template: `\n    &lt;div *ngFor='let product of products'&gt;\n      &lt;h2&gt;{{product.prod_name | uppercase}} Details&lt;/h2&gt;\n      &lt;div&gt;&lt;span&gt;Description: &lt;/span&gt;{{product.prod_desc}}&lt;/div&gt;\n    &lt;/div&gt;`\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 277, "user_id": 6045210, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7a58a9b03130286b7c143dc2f61d97f6?s=128&d=identicon&r=PG&f=1", "display_name": "tamim abweini", "link": "https://stackoverflow.com/users/6045210/tamim-abweini"}, "is_accepted": false, "score": 0, "last_activity_date": 1550669670, "creation_date": 1550669670, "answer_id": 54787591, "question_id": 54787003, "link": "https://stackoverflow.com/questions/54787003/variable-data-not-retained-to-bind-in-html-even-after-assigning-data-to-it-insid/54787591#54787591", "title": "Variable data not retained to bind in HTML even after assigning data to it inside a subscribe() function", "body": "<pre><code>@Component({\n   selector: 'app-product',\n   template: `\n   &lt;div *ngFor='let product of products'&gt;\n      &lt;h2&gt;{{product.prod_name | uppercase}} Details&lt;/h2&gt;\n      &lt;div&gt;&lt;span&gt;Description: &lt;/span&gt;{{product.prod_desc}}&lt;/div&gt;\n   &lt;/div&gt;`\n })\n\nexport class ProductComponent {\n\n   products:{}[] = [];\n\n   constructor(public rest: RestService){ this.getProducts() }\n\n   getProducts() {\n     this.products = [];\n     this.rest.getProducts().subscribe((data: {}[]) =&gt; {\n     this.products = data;\n     console.log(this.products); // this should not be undifind\n   });\n}\n</code></pre>\n\n<p>otherwise check your spelling</p>\n"}, {"tags": [], "owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "is_accepted": true, "score": 1, "last_activity_date": 1550735222, "creation_date": 1550735222, "answer_id": 54801779, "question_id": 54787003, "link": "https://stackoverflow.com/questions/54787003/variable-data-not-retained-to-bind-in-html-even-after-assigning-data-to-it-insid/54801779#54801779", "title": "Variable data not retained to bind in HTML even after assigning data to it inside a subscribe() function", "body": "<p>Since the service was in other module i had to create single sharing tree for access that return values.\nSo the code must be placed inside the export shared module block as below:</p>\n\n<pre><code>static forRoot(): ModuleWithProviders {\nreturn {\n  ngModule: SharedModule\n};\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 501, "user_id": 6462896, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aea43f3cdff8c9201ae5cfc2c435b2f0?s=128&d=identicon&r=PG&f=1", "display_name": "Onera", "link": "https://stackoverflow.com/users/6462896/onera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 54801779, "answer_count": 3, "score": 1, "last_activity_date": 1550735222, "creation_date": 1550667716, "last_edit_date": 1550668085, "question_id": 54787003, "link": "https://stackoverflow.com/questions/54787003/variable-data-not-retained-to-bind-in-html-even-after-assigning-data-to-it-insid", "title": "Variable data not retained to bind in HTML even after assigning data to it inside a subscribe() function", "body": "<p>I have below <strong>app-product.ts</strong> code written as below:</p>\n\n<pre><code>@Component({\n   selector: 'app-product',\n   template: `\n    &lt;div&gt;\n      &lt;h2&gt;{{products.prod_name | uppercase}} Details&lt;/h2&gt;\n      &lt;div&gt;&lt;span&gt;Description: &lt;/span&gt;{{products.prod_desc}}&lt;/div&gt;\n    &lt;/div&gt;`\n })\n\nexport class ProductComponent {\n\n   products:any = [];\n\n   constructor(public rest: RestService){ this.getProducts() }\n\n   getProducts() {\n     this.products = [];\n     this.rest.getProducts().subscribe((data: {}) =&gt; {\n     console.log(data); // data is printing in console\n      this.products = data; // tried keeping debugger here \n   });\n}\n</code></pre>\n\n<p>In the above code I am able to print the data in console but the variable products is not accessible in my template.\nI also tried to keep a debugger at the point and I tried to print the products but it was showing as undefined every time. </p>\n\n<p>Below is my angular service file for consuming REST API using Http Client as below:</p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\n\nexport class CarApiService {\n\n  getProducts(): Observable&lt;any&gt; {\n    return this.http.get(endpoint + 'products').pipe(\n    map(this.extractData));\n  }\n}\n</code></pre>\n\n<p>I also tried to analyse if there is any callback issues in the code but could not figure what is the real cause of this problem.</p>\n\n<p>I also tried looking into few threads like:\n<a href=\"https://stackoverflow.com/questions/39899595/component-variables-inside-a-rxjs-subscribe-function-are-undefined\">component variables inside a RxJS subscribe() function are undefined</a>\nbut could not find any help. Can anyone please help me out?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1550667768, "post_id": 54786922, "comment_id": 96352350, "body": "Take a look at <a href=\"https://stackoverflow.com/q/41308826/1009922\">this question</a>."}, {"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1550667939, "post_id": 54786922, "comment_id": 96352441, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44299632/rxjs-debounce-on-react-text-input-component\">Rxjs debounce on react text input component</a>"}, {"owner": {"reputation": 1335, "user_id": 1261764, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a223548a288659768f2592a494196d?s=128&d=identicon&r=PG", "display_name": "abidinberkay", "link": "https://stackoverflow.com/users/1261764/abidinberkay"}, "edited": false, "score": 0, "creation_date": 1550668617, "post_id": 54786922, "comment_id": 96352857, "body": "no they are not same i think."}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1550668964, "post_id": 54786922, "comment_id": 96353076, "body": "No, they are completely the same."}, {"owner": {"reputation": 1335, "user_id": 1261764, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a223548a288659768f2592a494196d?s=128&d=identicon&r=PG", "display_name": "abidinberkay", "link": "https://stackoverflow.com/users/1261764/abidinberkay"}, "edited": false, "score": 0, "creation_date": 1550669210, "post_id": 54786922, "comment_id": 96353226, "body": "i tried already like in the answers you suggested but pipe,subscribe,oberve does not exist on type void error comes. I tried as in the question update in last part."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1550673572, "post_id": 54786922, "comment_id": 96356068, "body": "Using a FormControl <a href=\"https://stackoverflow.com/questions/50732416/rxjs-distinctuntilchanged-with-keyup-event/50734973?noredirect=1#comment96296332_50734973\" title=\"rxjs distinctuntilchanged with keyup event\">stackoverflow.com/questions/50732416/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 344, "user_id": 2887472, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e200f5baec38af1ab42b9f934818515f?s=128&d=identicon&r=PG", "display_name": "pas2al", "link": "https://stackoverflow.com/users/2887472/pas2al"}, "is_accepted": false, "score": 3, "last_activity_date": 1557847547, "last_edit_date": 1557847547, "creation_date": 1550669435, "answer_id": 54787510, "question_id": 54786922, "link": "https://stackoverflow.com/questions/54786922/how-to-add-debounce-time-to-in-input-search-box-in-typescript/54787510#54787510", "title": "How to add debounce time to in input search box in typescript?", "body": "<p>Template:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input matInput (input)=\"terms$.next($event.target.value)\" type=\"text\" \n  placeholder=\"Search element\"&gt;\n</code></pre>\n\n<p>Component:  </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>private terms$ = new Subject&lt;string&gt;();\n\nngOnInit () {\n  this.terms$.pipe(\n    debounceTime(400), // discard emitted values that take less than the specified time between output\n    distinctUntilChanged() // only emit when value has changed\n  ).subscribe(term =&gt; {\n    // do your search with the term\n  });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "is_accepted": true, "score": 3, "last_activity_date": 1550669735, "creation_date": 1550669735, "answer_id": 54787610, "question_id": 54786922, "link": "https://stackoverflow.com/questions/54786922/how-to-add-debounce-time-to-in-input-search-box-in-typescript/54787610#54787610", "title": "How to add debounce time to in input search box in typescript?", "body": "<p>You are using pipe operator against a string. You can only use pipe against an Observable. So, You should create a <code>Subject</code> in your component. <code>Subject</code> in RxJS acts as both an Observable and Observer. In other words, it emits the value as well as listen for that value when the value changes.</p>\n\n<pre><code>private searchSub$ = new Subject&lt;string&gt;();\n\napplyFilter(filterValue: string) {\n    this.searchSub$.next(filterValue)\n}\n\nngOnInit() {\n   this.searchSub$.pipe(\n     debounceTime(400),\n     distinctUntilChanged()\n   ).subscribe((filterValue: string) =&gt; {\n     this.tableDataSource.filter = filterValue.trim().toLowerCase();\n   });\n}\n</code></pre>\n\n<p>When the <code>applyFilter()</code> method calls on every key press, the Subject emits the filterValue. In your <code>ngOnInit()</code>, you should listen / subscribe to you Subject, so there you can use the <code>pipe</code> operator and <code>debounceTime</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 5630054, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203735297101261/picture?type=large", "display_name": "Patrik Kelemen", "link": "https://stackoverflow.com/users/5630054/patrik-kelemen"}, "is_accepted": false, "score": 1, "last_activity_date": 1551966867, "last_edit_date": 1551966867, "creation_date": 1550671575, "answer_id": 54788246, "question_id": 54786922, "link": "https://stackoverflow.com/questions/54786922/how-to-add-debounce-time-to-in-input-search-box-in-typescript/54788246#54788246", "title": "How to add debounce time to in input search box in typescript?", "body": "<p>Simply use <a href=\"https://www.npmjs.com/package/lodash-decorators\" rel=\"nofollow noreferrer\">lodash-decorators</a> and lodash </p>\n\n<pre><code>import { Debounce } from 'lodash-decorators';\n\nclass AnyClass {\n  constructor() {\n    ...\n  }\n\n  @Debounce(100)\n  filterData(filterValue: string) {\n    ...\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1335, "user_id": 1261764, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a223548a288659768f2592a494196d?s=128&d=identicon&r=PG", "display_name": "abidinberkay", "link": "https://stackoverflow.com/users/1261764/abidinberkay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3579, "favorite_count": 0, "accepted_answer_id": 54787610, "answer_count": 3, "score": 2, "last_activity_date": 1557847547, "creation_date": 1550667432, "last_edit_date": 1550671422, "question_id": 54786922, "link": "https://stackoverflow.com/questions/54786922/how-to-add-debounce-time-to-in-input-search-box-in-typescript", "title": "How to add debounce time to in input search box in typescript?", "body": "<p>How can i add debounce time to dynamic search box that searches data on table data ? I have looked at some solution on the site but my code is little bit different, I do not use any throttle or something else so I am just confused.</p>\n\n<p>my template code:</p>\n\n<pre><code>&lt;input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Search element\"&gt;\n</code></pre>\n\n<p>and typescript for that is:</p>\n\n<pre><code>applyFilter(filterValue: string) {\n    this.tableDataSource.filter = filterValue.trim().toLowerCase();\n}\n</code></pre>\n\n<p>I want to add debounce time for that the search will be made every 2 seconds and not sending lots of request for every change.</p>\n\n<p>Thanks in advance</p>\n\n<p>I have tried to call the method from another method with pipe</p>\n\n<pre><code>filterData(filterValue: string) {\n    this.applyFilter(filterValue).pipe(debounceTime(2000))\n}\n</code></pre>\n\n<p>but now it says, <em>pipe does not exist on type void</em></p>\n"}, {"tags": ["typescript", "ramda.js"], "comments": [{"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 1, "creation_date": 1550682564, "post_id": 54786890, "comment_id": 96361737, "body": "There are several TS typing files for Ramda out there, but, as I understand it, TS does not yet have the capability to handle some of the higher-order manipulations done by Ramda.  <code>compose</code> is probably top of the list.  But I don&#39;t know the details."}, {"owner": {"reputation": 6912, "user_id": 560383, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/FrYu3.jpg?s=128&g=1", "display_name": "thomas-peter", "link": "https://stackoverflow.com/users/560383/thomas-peter"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 1, "creation_date": 1550829291, "post_id": 54786890, "comment_id": 96423576, "body": "Thanks Scott, it makes no sense to use TypeScript in my opinion but I have don&#39;t have a choice."}], "answers": [{"tags": [], "owner": {"reputation": 239, "user_id": 4326262, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eUb0InkNRHk/AAAAAAAAAAI/AAAAAAAABFk/0FhC1Z681Mg/photo.jpg?sz=128", "display_name": "Peak", "link": "https://stackoverflow.com/users/4326262/peak"}, "is_accepted": true, "score": 11, "last_activity_date": 1550684018, "last_edit_date": 1550684018, "creation_date": 1550683018, "answer_id": 54791963, "question_id": 54786890, "link": "https://stackoverflow.com/questions/54786890/how-do-i-use-compose-in-typescript/54791963#54791963", "title": "How do I use compose in Typescript?", "body": "<p>Have you tried leveraging the typing of compose itself? You can give it the arguments and the return values of each function in the compose like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const rawHeaders = R.compose&lt;\n  { [key: string]: string | number }, // Argument\n  Array&lt;[string, string]&gt;, // Return of toPairs\n  string[], // Return of map\n  string // Return of join\n&gt;(\n  R.join('\\n'),\n  R.map(x =&gt; `${x[0]}: ${x[1]}`),\n  R.toPairs\n);\n</code></pre>\n\n<p>Personally I prefer to use <code>pipe</code> as the typings match up to the argument order within <code>pipe</code>, compared to <code>compose</code> which is backwards:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const rawHeaders = R.pipe&lt;\n  { [key: string]: string | number }, //Argument\n  Array&lt;[string, string]&gt;, // return of toPairs\n  string[], // return of map\n  string // return of join\n&gt;(\n  R.toPairs,\n  R.map(x =&gt; `${x[0]}: ${x[1]}`),\n  R.join('\\n')\n);\n</code></pre>\n\n<p>Either way, each function in the pipe/compose gets the right value and you don't need to decorate the function within the pipe exclusively(unless you start using something like <code>R.flip</code>). It's verbose, but it works.</p>\n\n<p>(you can specify as many args as you need for the first function, the overloads will handle the rest btw)</p>\n"}], "owner": {"reputation": 6912, "user_id": 560383, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/FrYu3.jpg?s=128&g=1", "display_name": "thomas-peter", "link": "https://stackoverflow.com/users/560383/thomas-peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1520, "favorite_count": 2, "accepted_answer_id": 54791963, "answer_count": 1, "score": 4, "last_activity_date": 1550684018, "creation_date": 1550667326, "last_edit_date": 1550679666, "question_id": 54786890, "link": "https://stackoverflow.com/questions/54786890/how-do-i-use-compose-in-typescript", "title": "How do I use compose in Typescript?", "body": "<p>Im having problems using compose in Typescript....</p>\n\n<pre><code>const rawHeaders = R.compose(\n  R.join('\\n'),\n  R.map(x=&gt;`${x[0]}: ${x[1]}`),\n  R.toPairs\n)\n</code></pre>\n\n<p>I have tried the below, but it's brutal. Anyone know a way to make this work more elegantly?</p>\n\n<pre><code>const rawHeaders:Function = R.compose(\n  R.join('\\n'),\n  R.map((x:[String, String]) =&gt;`${x[0]}: ${x[1]}`),\n  (x:{s:String})=&gt;R.toPairs(x))\n)\n</code></pre>\n\n<p>I have also tried to use ts-ignore, which at present seems to be the best option.</p>\n\n<pre><code>const rawHeaders = R.compose(\n  R.join('\\n'),\n  // @ts-ignore\n  R.map(x=&gt;`${x[0]}: ${x[1]}`),\n  // @ts-ignore\n  R.toPairs\n)\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1550666921, "post_id": 54786677, "comment_id": 96351875, "body": "What you are doing is overloading the return method. I&#39;m working on something... It would help me and maybe others if your interface names were CamelCased."}, {"owner": {"reputation": 27, "user_id": 11089982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e5a0e7a89dabaae561d9aec2c5473d?s=128&d=identicon&r=PG&f=1", "display_name": "somerberdy", "link": "https://stackoverflow.com/users/11089982/somerberdy"}, "reply_to_user": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1550667128, "post_id": 54786677, "comment_id": 96351996, "body": "ok switched to CamelCase"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1550667978, "post_id": 54786677, "comment_id": 96352463, "body": "By the way, the condensed question form should be the title of your question. Helps others with the same problem find it."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1550667296, "creation_date": 1550667296, "answer_id": 54786881, "question_id": 54786677, "link": "https://stackoverflow.com/questions/54786677/typescript-type-check-in-switch-statement-feature-request-or-am-i-doing-it-wron/54786881#54786881", "title": "Typescript type check in switch statement, feature request or am I doing it wrong?", "body": "<p>Typescript will not do this king of analysis.  When it tries to figure out what <code>f1</code> returns it will just look at the signature of the function. In the signature there is no clear relation between <code>anyStringObj</code> and <code>string</code> (the fact that they are on the same position in the parameter and return unions does not a relationship make).</p>\n\n<p>To help the compiler with this task you can use overloads or conditional types:</p>\n\n<p>Overload version:</p>\n\n<pre><code>interface f {\n    (s: specificStringObj): string;\n    (s: anyStringObj): number;\n    (s: anyStringObj | specificStringObj): string | number;\n}\n\ninterface anyStringObj {\n    text: string;\n}\n\ninterface specificStringObj {\n    text: \"specificity\";\n}\n\nconst f1: f = ((s:anyStringObj | specificStringObj): string | number =&gt; {\n    switch (s.text) {\n        case \"specificity\":\n            return \"s\";\n        default:\n            return 1;\n    }\n}) as f;\n\nconst stringObj: specificStringObj = {\n    text: \"specificity\"\n};\n\nconst newStringObj: anyStringObj = { text: f1(stringObj) };\n</code></pre>\n\n<p>Conditional type version </p>\n\n<pre><code>interface f {\n    &lt;T extends anyStringObj | specificStringObj&gt;(s: T):  T extends specificStringObj ? string : number;\n}\n\ninterface anyStringObj {\n    text: string;\n}\n\ninterface specificStringObj {\n    text: \"specificity\";\n}\n\nconst f1: f = ((s:anyStringObj | specificStringObj): string | number =&gt; {\n    switch (s.text) {\n        case \"specificity\":\n            return \"s\";\n        default:\n            return 1;\n    }\n}) as f;\n\nconst stringObj: specificStringObj = {\n    text: \"specificity\"\n};\n\nconst newStringObj: anyStringObj = { text: f1(stringObj) };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "reply_to_user": {"reputation": 27, "user_id": 11089982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e5a0e7a89dabaae561d9aec2c5473d?s=128&d=identicon&r=PG&f=1", "display_name": "somerberdy", "link": "https://stackoverflow.com/users/11089982/somerberdy"}, "edited": false, "score": 0, "creation_date": 1550667465, "post_id": 54786885, "comment_id": 96352197, "body": "The casts were not needed, they had remained in there as I tried to work with interfaces but later switched to regular function overloads"}, {"owner": {"reputation": 27, "user_id": 11089982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e5a0e7a89dabaae561d9aec2c5473d?s=128&d=identicon&r=PG&f=1", "display_name": "somerberdy", "link": "https://stackoverflow.com/users/11089982/somerberdy"}, "edited": false, "score": 0, "creation_date": 1550667595, "post_id": 54786885, "comment_id": 96352265, "body": "oh ok I see thank you, Titians&#39; answer was more verbose though"}], "tags": [], "owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "is_accepted": true, "score": 2, "last_activity_date": 1550667690, "last_edit_date": 1550667690, "creation_date": 1550667303, "answer_id": 54786885, "question_id": 54786677, "link": "https://stackoverflow.com/questions/54786677/typescript-type-check-in-switch-statement-feature-request-or-am-i-doing-it-wron/54786885#54786885", "title": "Typescript type check in switch statement, feature request or am I doing it wrong?", "body": "<p>You are looking for <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">function overloading</a>.</p>\n\n<pre><code>interface AnyStringObj {\n  text: string;\n}\n\ninterface SpecificStringObj {\n  text: \"specificity\";\n}\n\nfunction f1(s: SpecificStringObj): string;  \nfunction f1(s: AnyStringObj): number;\nfunction f1(s: AnyStringObj | SpecificStringObj): string | number { \n  switch (s.text) {\n    case \"specificity\":\n          return \"s\";\n    default:\n      return 1;\n  }\n}\n\n\nconst stringObj: SpecificStringObj = {\n  text: \"specificity\"\n};\n\nconst newStringObj: AnyStringObj = { text: f1(stringObj) };\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=%0D%0Ainterface%20AnyStringObj%20%7B%0D%0A%20%20text%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20SpecificStringObj%20%7B%0D%0A%20%20text%3A%20%22specificity%22%3B%0D%0A%7D%0D%0A%0D%0Afunction%20f1(s%3A%20SpecificStringObj)%3A%20string%3B%20%20%0D%0Afunction%20f1(s%3A%20AnyStringObj)%3A%20number%3B%0D%0Afunction%20f1(s%3A%20AnyStringObj%20%7C%20SpecificStringObj)%3A%20string%20%7C%20number%20%7B%20%0D%0A%20%20switch%20(s.text)%20%7B%0D%0A%20%20%20%20case%20%22specificity%22%3A%0D%0A%20%20%20%20%20%20%20%20%20%20return%20%22s%22%3B%0D%0A%20%20%20%20default%3A%0D%0A%20%20%20%20%20%20return%201%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0Aconst%20stringObj%3A%20SpecificStringObj%20%3D%20%7B%0D%0A%20%20text%3A%20%22specificity%22%0D%0A%7D%3B%0D%0A%0D%0Aconst%20newStringObj%3A%20AnyStringObj%20%3D%20%7B%20text%3A%20f1(stringObj)%20%7D%3B\" rel=\"nofollow noreferrer\">Live example</a></p>\n"}], "owner": {"reputation": 27, "user_id": 11089982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e5a0e7a89dabaae561d9aec2c5473d?s=128&d=identicon&r=PG&f=1", "display_name": "somerberdy", "link": "https://stackoverflow.com/users/11089982/somerberdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 54786885, "answer_count": 2, "score": 2, "last_activity_date": 1550692668, "creation_date": 1550666631, "last_edit_date": 1550692668, "question_id": 54786677, "link": "https://stackoverflow.com/questions/54786677/typescript-type-check-in-switch-statement-feature-request-or-am-i-doing-it-wron", "title": "Typescript type check in switch statement, feature request or am I doing it wrong?", "body": "<p>Why doesnt typescript know <code>f1</code> returns string when passed argument of \"SpecificStringObj\" type?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface F {\n  (s: AnyStringObj | SpecificStringObj): string | number;\n}\n\ninterface AnyStringObj {\n  text: string;\n}\n\ninterface SpecificStringObj {\n  text: \"specificity\";\n}\n\nconst f1: F = s =&gt; {\n  switch (s.text) {\n    case \"specificity\":\n      return \"s\";\n    default:\n      return 1;\n  }\n};\n\nconst stringObj: SpecificStringObj = {\n  text: \"specificity\"\n};\n\nconst newStringObj: AnyStringObj = { text: f1(stringObj) };\n</code></pre>\n\n<p>This Typescript code fails on the last line <strong><code>.text</code></strong> in the object, the error message is: </p>\n\n<pre><code>[ts]\nType 'string | number' is not assignable to type 'string'.\n  Type 'number' is not assignable to type 'string'. [2322]\nt.tsx(6, 3): The expected type comes from property 'text' which is declared here on type 'AnyStringObj'\n(property) AnyStringObj.text: string\n</code></pre>\n\n<p>I could solve this with: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const newStringObj: AnyStringObj = { text: f1(stringObj) as string };\n</code></pre>\n\n<p>My question is: Why doesn't typescript know that since im passing a \"SpecificStringObj\" that the function will return string?</p>\n\n<hr>\n\n<p>Additional question: Is this appropriate for feature request?</p>\n"}, {"tags": ["javascript", "html", "css", "typescript"], "comments": [{"owner": {"reputation": 501, "user_id": 2350598, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c8973fc8f7c76e1d255e1017f4b659b6?s=128&d=identicon&r=PG", "display_name": "Muhammad Umar Farooq", "link": "https://stackoverflow.com/users/2350598/muhammad-umar-farooq"}, "edited": false, "score": 0, "creation_date": 1550666756, "post_id": 54786555, "comment_id": 96351774, "body": "sharing some image of desired behavior might help in better understanding"}, {"owner": {"reputation": 42447, "user_id": 1016716, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1c83d772b1c065603c7f20975d8d3552?s=128&d=identicon&r=PG", "display_name": "Mr Lister", "link": "https://stackoverflow.com/users/1016716/mr-lister"}, "edited": false, "score": 0, "creation_date": 1550667126, "post_id": 54786555, "comment_id": 96351995, "body": "How are you implementing those &quot;tiles&quot;? Can you post some code? Preferably a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Normally, clicking somewhere and then shift-clicking somewhere else does select everything in between; this is normal behaviour on all browsers."}, {"owner": {"reputation": 567, "user_id": 6599694, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/TpnK6.jpg?s=128&g=1", "display_name": "izSaad", "link": "https://stackoverflow.com/users/6599694/izsaad"}, "edited": false, "score": 0, "creation_date": 1550668462, "post_id": 54786555, "comment_id": 96352758, "body": "Adding the code for the tile seems unnecessary not only because it is a huge combination of react props and states, but also, I mainly want to know why the -ms-user-select fails on the text fields that have direct relation to the tiles, as shown in the screenshots."}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1550669133, "post_id": 54786555, "comment_id": 96353183, "body": "<a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "answers": [{"tags": [], "owner": {"reputation": 567, "user_id": 6599694, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/TpnK6.jpg?s=128&g=1", "display_name": "izSaad", "link": "https://stackoverflow.com/users/6599694/izsaad"}, "is_accepted": false, "score": 0, "last_activity_date": 1550729945, "creation_date": 1550729945, "answer_id": 54800484, "question_id": 54786555, "link": "https://stackoverflow.com/questions/54786555/text-gets-highlighted-if-clicked-with-shift-ie-11/54800484#54800484", "title": "Text gets highlighted if clicked with shift IE-11", "body": "<p>The trick was to use event.PreventDefault() not only in the <em>onClick()</em> event but also for the <em>mouseDown()</em> event. Otherwise, the text will be highlighted as long as the click isn't released.</p>\n"}], "owner": {"reputation": 567, "user_id": 6599694, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/TpnK6.jpg?s=128&g=1", "display_name": "izSaad", "link": "https://stackoverflow.com/users/6599694/izsaad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 276, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1550729945, "creation_date": 1550666209, "last_edit_date": 1550667892, "question_id": 54786555, "link": "https://stackoverflow.com/questions/54786555/text-gets-highlighted-if-clicked-with-shift-ie-11", "title": "Text gets highlighted if clicked with shift IE-11", "body": "<p>I have a page with multiple tiles implementing shift-key multi-select. The problem occurring only in IE-11 is that if any text field is clicked shift-key multi-selecting, the whole browser's text gets highlighted. I have read other answers and none seem to work, including <strong>-ms-user-select: none</strong>, <strong>removeAllRanges()</strong> etc. One thing to note is that if I try and highlight a text field without pressing shift, it doesn't get highlighted ( apparently the user-select: none is working here). is there any css-only solution available then?</p>\n\n<p><strong>Without clicking any text:</strong>\n<a href=\"https://i.stack.imgur.com/fMIQ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fMIQ7.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>If any text is clicked:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/oIX01.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oIX01.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "routing", "angular-routing"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1550665804, "post_id": 54786345, "comment_id": 96351199, "body": "Missing <code>\\</code> after stages in <code>navigateTo()</code> function?"}, {"owner": {"reputation": 160, "user_id": 11045189, "user_type": "registered", "profile_image": "https://graph.facebook.com/2046011095695976/picture?type=large", "display_name": "Oleg Shchegolev", "link": "https://stackoverflow.com/users/11045189/oleg-shchegolev"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1550665947, "post_id": 54786345, "comment_id": 96351280, "body": "What do you mean?"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 1, "creation_date": 1550665956, "post_id": 54786345, "comment_id": 96351292, "body": "try: <code>this.router.navigate([&#39;&#47;stages&#47;&#39;, selectedItem]);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "is_accepted": false, "score": 0, "last_activity_date": 1550666412, "creation_date": 1550666412, "answer_id": 54786615, "question_id": 54786345, "link": "https://stackoverflow.com/questions/54786345/routing-with-parametrs-in-angular/54786615#54786615", "title": "Routing with parametrs in Angular", "body": "<p>Add <code>/</code> after <code>stages</code> will solve your problem. </p>\n\n<pre><code>navigateTo(selectedItem) {\n      this.router.navigate(['stages/', selectedItem]);\n     // selectedItem is dropdown value\n  }\n</code></pre>\n\n<p>Hope this will help!</p>\n"}, {"tags": [], "owner": {"reputation": 1690, "user_id": 9741961, "user_type": "registered", "profile_image": "https://graph.facebook.com/1594875933938084/picture?type=large", "display_name": "Stefan Morcodeanu", "link": "https://stackoverflow.com/users/9741961/stefan-morcodeanu"}, "is_accepted": false, "score": 0, "last_activity_date": 1564957718, "creation_date": 1564957718, "answer_id": 57350618, "question_id": 54786345, "link": "https://stackoverflow.com/questions/54786345/routing-with-parametrs-in-angular/57350618#57350618", "title": "Routing with parametrs in Angular", "body": "<p>basically what you've did here is all routes goes to <code>stages/:name</code> and other routes bellow them is never accessed and you have to delete just this line <br/>\n<code>{ path: ':name', component: StageComponent }\n</code> and everything will work fine as you expected</p>\n\n<pre><code>const routes: Routes = [\n{ path: 'stages', component: StagesComponent, children: [\n    { path: ':name', component: StageComponent }, // Delete this line\n    { path: 'programm', component: ProgrammComponent },\n    { path: 'jury', component: JuryComponent },\n    { path: 'finalists', component: FinalistsComponent },\n    { path: 'results', component: ResultsComponent },\n    { path: 'photo', component: PhotoComponent },\n    { path: 'partners', component: PartnersComponent },\n    { path: 'contacts', component: ContactsComponent},\n    ]}\n];\n</code></pre>\n\n<p>Error here is Angular routes is reading from top to bottom and first child routes expected a param <code>name</code> and everything what goes after <code>stages/whatever</code> will render <code>StagesComponent</code> and other routes is never touched.</p>\n\n<p>You can add this line of code at the end of childrend array this mean first it will chec if is</p>\n\n<pre><code>'stages/programm' if isn't this route go to next one\n'stages/jury' if isn't this route go to next one \n...\n// and so one till the end of array\n// and if no child routes find then will display default component which is 'StageComponent' \n\n// so your routes array should be something like this\nconst routes: Routes = [\n{ path: 'stages', component: StagesComponent, children: [\n    { path: 'programm', component: ProgrammComponent },\n    { path: 'jury', component: JuryComponent },\n    { path: 'finalists', component: FinalistsComponent },\n    { path: 'results', component: ResultsComponent },\n    { path: 'photo', component: PhotoComponent },\n    { path: 'partners', component: PartnersComponent },\n    { path: 'contacts', component: ContactsComponent},\n    { path: ':name', component: StageComponent }, // if no child routes found then display default\n    ]}\n];\n\nOr you can delete this line and if user write anything else that you have in children array then redirect it to 404 page .\nFor more info please read docs on Angular https://angular.io/guide/router they have really good explanation of how things works in angular.\n\n</code></pre>\n"}], "owner": {"reputation": 160, "user_id": 11045189, "user_type": "registered", "profile_image": "https://graph.facebook.com/2046011095695976/picture?type=large", "display_name": "Oleg Shchegolev", "link": "https://stackoverflow.com/users/11045189/oleg-shchegolev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1564957718, "creation_date": 1550665446, "question_id": 54786345, "link": "https://stackoverflow.com/questions/54786345/routing-with-parametrs-in-angular", "title": "Routing with parametrs in Angular", "body": "<p>I've got problems with my routing configuration. My app logic - I've got a dropdown in header which controls navigation. Dropdown options navigate to page with extra navigation bar under dropdown. Routing parameter is passing when you click on dropdown option. Problem is that I need to load component which isn't on navigation bar, but used as default screen after dropdown navigation.</p>\n\n<p>First navigation \"layer\" is dropdown. After that URL is <strong>index/Param#</strong>. </p>\n\n<p>Second navigation \"layer\" is nav bar, which loaded on pages with url <strong>index/Param#</strong>. On that pages I've got component (\"default screen\"), which loaded when url is <strong>index/Param#</strong>. But this component doesn't have any links on nav bar. </p>\n\n<p>When I click links on navbar url becomes <strong>index/Param#/params</strong> or <strong>index/Param#/results</strong> etc.\n<a href=\"https://i.stack.imgur.com/ztxFs.jpg\" rel=\"nofollow noreferrer\">My app logic</a></p>\n\n<p>App-routing.module.ts</p>\n\n<pre><code>const routes: Routes = [\n   { path: '', component: MainComponent },\n   { path: 'stages', component: StagesComponent }\n];\n</code></pre>\n\n<p>Stages-routing.module.ts</p>\n\n<pre><code>const routes: Routes = [\n{ path: 'stages', component: StagesComponent, children: [\n    { path: ':name', component: StageComponent },\n    { path: 'programm', component: ProgrammComponent },\n    { path: 'jury', component: JuryComponent },\n    { path: 'finalists', component: FinalistsComponent },\n    { path: 'results', component: ResultsComponent },\n    { path: 'photo', component: PhotoComponent },\n    { path: 'partners', component: PartnersComponent },\n    { path: 'contacts', component: ContactsComponent},\n    ]}\n];\n</code></pre>\n\n<p>myService.ts</p>\n\n<pre><code>navigateTo(selectedItem) {\n      this.router.navigate(['stages', selectedItem]);\n     // selectedItem is dropdown value\n  }\n</code></pre>\n\n<p>When I navigate for example to \"programm\" Angular can't resolve this path. What should I do?</p>\n"}, {"tags": ["javascript", "typescript", "async-await", "mocha.js", "sinon"], "answers": [{"tags": [], "owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "is_accepted": true, "score": 4, "last_activity_date": 1550679363, "last_edit_date": 1550679363, "creation_date": 1550678235, "answer_id": 54790432, "question_id": 54785893, "link": "https://stackoverflow.com/questions/54785893/how-to-spy-an-async-function-and-assert-that-it-throws-an-error-by-sinon/54790432#54790432", "title": "How to spy an async function and assert that it throws an error by sinon?", "body": "<p>Your function is an <code>async</code> function.</p>\n\n<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function#Return_value\" rel=\"nofollow noreferrer\">docs</a> for <code>async</code> functions state that they will return:</p>\n\n<blockquote>\n  <p>A <code>Promise</code> which will be resolved with the value returned by the async function, or rejected with an uncaught exception thrown from within the async function.</p>\n</blockquote>\n\n<hr>\n\n<p>In other words, your function does not throw an error, <em>it returns a <code>Promise</code> that will reject with the error</em>.</p>\n\n<hr>\n\n<p>Since you are using <code>Mocha</code> you can use something like <code>.rejected</code> from <a href=\"https://www.npmjs.com/package/chai-as-promised#how-to-use\" rel=\"nofollow noreferrer\"><code>chai-as-promised</code></a> to test that the <code>Promise</code> returned by your <code>async</code> function rejects:</p>\n\n<pre><code>it(\"The case of invalid\", async () =&gt; {\n  const theObject = new MyClass();\n\n  await theObject.businessFunction(undefined).should.be.rejected;  // SUCCESS\n  await theObject.businessFunction(null).should.be.rejected;  // SUCCESS\n});\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 1526549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4067bc9ed191da1bfc8d06ad306b8dfb?s=128&d=identicon&r=PG", "display_name": "hlv_trinh", "link": "https://stackoverflow.com/users/1526549/hlv-trinh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1064, "favorite_count": 0, "accepted_answer_id": 54790432, "answer_count": 1, "score": 3, "last_activity_date": 1550679363, "creation_date": 1550663963, "question_id": 54785893, "link": "https://stackoverflow.com/questions/54785893/how-to-spy-an-async-function-and-assert-that-it-throws-an-error-by-sinon", "title": "How to spy an async function and assert that it throws an error by sinon?", "body": "<p>I'm trying to use Mocha with ts-node to write unit-test in TypeScript for my project.\nWhen I use sinon to make a spy to an async function, I can't get the test pass.\nBelow is my code</p>\n\n<pre><code>class MyClass {\n    async businessFunction(param): Promise&lt;void&gt; {\n        if (!param)  //Validate the input\n          throw new Error(\"input must be valid\");\n\n        // Then do my business\n    }\n}\n</code></pre>\n\n<p>And the unit-test</p>\n\n<pre><code>describe(\"The feature name\", () =&gt; {\n    it(\"The case of invalid\", async () =&gt; {\n        const theObject = new MyClass();\n        const theSpider = sinon.spy(theObject, \"businessFunction\");\n        try {\n            await theObject.businessFunction(undefined);\n        } catch (error) {/* Expected error */}\n        try {\n            await theObject.businessFunction(null);\n        } catch (error) {/* Expected error */}\n\n        sinon.assert.calledTwice(theSpider); // =&gt; Passed\n        sinon.assert.alwaysThrew(theSpider); // =&gt; Failed, why?\n\n        theSpider.restore();\n    });\n});\n</code></pre>\n\n<p>Has anyone had experience to deal with this?\nI've been suggested to make checks with catched errors, but it seems be complex and make the check code be duplicated unnecessarily.</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "class", "properties"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10490374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5957154c71f097f741e271e4baba3a9?s=128&d=identicon&r=PG&f=1", "display_name": "stinsfire", "link": "https://stackoverflow.com/users/10490374/stinsfire"}, "edited": false, "score": 0, "creation_date": 1550672248, "post_id": 54785917, "comment_id": 96355212, "body": "Thank you for the quick help! Sometimes solutions can be so easy."}], "tags": [], "owner": {"reputation": 2627, "user_id": 6757576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBQqS.png?s=128&g=1", "display_name": "Samuel Vaillant", "link": "https://stackoverflow.com/users/6757576/samuel-vaillant"}, "is_accepted": false, "score": 1, "last_activity_date": 1550664516, "last_edit_date": 1550664516, "creation_date": 1550664037, "answer_id": 54785917, "question_id": 54785811, "link": "https://stackoverflow.com/questions/54785811/typescript-array-property-causes-this-error-when-being-filled-typeerror-cann/54785917#54785917", "title": "TypeScript: array property causes this error when being filled: &quot;TypeError: Cannot set property &#39;0&#39; of undefined&quot;", "body": "<p>The class <code>FileSystemStatistics</code> you've created don't have any initial value. Which means that <code>fsObject.name</code> is <code>undefined</code>. You can avoid this issue by providing an initial value to the <code>name</code> property.</p>\n\n<pre><code>class FileSystemStatistics{\n    public name: string[] = [];\n}\n</code></pre>\n\n<p>You can see the output inside <a href=\"https://www.typescriptlang.org/play/index.html#src=class%20FileSystemStatistics%7B%0D%0A%20%20%20%20public%20name%3A%20string%5B%5D%20%3D%20%5B%5D%3B%0D%0A%7D%0D%0A%0D%0Aconst%20cs%20%3D%20new%20FileSystemStatistics()%3B%0D%0A%0D%0Acs.name%5B0%5D%20%3D%20&#39;Test&#39;%3B\" rel=\"nofollow noreferrer\">the TypeScript playground</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 10490374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5957154c71f097f741e271e4baba3a9?s=128&d=identicon&r=PG&f=1", "display_name": "stinsfire", "link": "https://stackoverflow.com/users/10490374/stinsfire"}, "edited": false, "score": 0, "creation_date": 1550672215, "post_id": 54785966, "comment_id": 96355186, "body": "Thank you for your elaborate answer. This is the first time I am working with classes in TS/JS and I assumed declaring name as string[] would create an array without values right away. Guess I was wrong ;)"}], "tags": [], "owner": {"reputation": 61, "user_id": 9993229, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_Kl-MDwDs5Q/AAAAAAAAAAI/AAAAAAAAAAc/alxP9m9YbTY/photo.jpg?sz=128", "display_name": "Sergey Khrolenok", "link": "https://stackoverflow.com/users/9993229/sergey-khrolenok"}, "is_accepted": true, "score": 2, "last_activity_date": 1550664556, "last_edit_date": 1550664556, "creation_date": 1550664203, "answer_id": 54785966, "question_id": 54785811, "link": "https://stackoverflow.com/questions/54785811/typescript-array-property-causes-this-error-when-being-filled-typeerror-cann/54785966#54785966", "title": "TypeScript: array property causes this error when being filled: &quot;TypeError: Cannot set property &#39;0&#39; of undefined&quot;", "body": "<p>The problem is not actually in typescript, but in the way how you treat your class.\nYou have to manually assign empty array to your name property, so instead of </p>\n\n<pre><code>class FileSystemStatistics{\n    public number: number;\n    public name: string[];\n    public size: number;\n    public used: number;\n    public usedPercent: number;\n    public physicalLocation: string;\n}\n</code></pre>\n\n<p>it should be at least</p>\n\n<pre><code>class FileSystemStatistics{\n    public number: number;\n    public name: string[] = [];\n    public size: number;\n    public used: number;\n    public usedPercent: number;\n    public physicalLocation: string;\n}\n</code></pre>\n\n<p>What you did with <code>public name: string[]</code> expression is that you only mark that name property should be an array (or undefined/void) but not an array with numbers for instance   </p>\n\n<pre><code>...\npublic name: string[] = [1,2,3]; // would gave an error\n</code></pre>\n\n<p>Try to check what code you will have at runtime in playground \n<a href=\"https://www.typescriptlang.org/play/index.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/play/index.html</a></p>\n\n<p>Treat typescript as a superset of javascript, which only exists before compilation and generate javascript.\nIn terms of runtime code, which you actually tested and what gave you an error in your post - you had a plain function as constructor, which generate you an empty object</p>\n\n<p>and what you tried to achieve is to use your empty object named <code>fsObject</code>\nin expression like this</p>\n\n<pre><code>fsObject; // {}\nfsObject.name // which is already undefined\nfsObject.name[0] // this is where you get runtime error with undefined treated as array\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 10490374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5957154c71f097f741e271e4baba3a9?s=128&d=identicon&r=PG&f=1", "display_name": "stinsfire", "link": "https://stackoverflow.com/users/10490374/stinsfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 54785966, "answer_count": 2, "score": 0, "last_activity_date": 1550664556, "creation_date": 1550663697, "question_id": 54785811, "link": "https://stackoverflow.com/questions/54785811/typescript-array-property-causes-this-error-when-being-filled-typeerror-cann", "title": "TypeScript: array property causes this error when being filled: &quot;TypeError: Cannot set property &#39;0&#39; of undefined&quot;", "body": "<p>I am working with typescript for the first time and here is my problem.</p>\n\n<p>I have the following class:</p>\n\n<pre><code>class FileSystemStatistics{\n    public number: number;\n    public name: string[];\n    public size: number;\n    public used: number;\n    public usedPercent: number;\n    public physicalLocation: string;\n}\n</code></pre>\n\n<p>I analyze the PC for hardrives and as expected it returns an array of them. For testing purpose I just made the name property an array of the type string. Now i simply want to assign name[0] the name of first harddrive, name[1] the name of second harddrive etc.</p>\n\n<p>I am doing the following to achieve this:</p>\n\n<pre><code>var fsObject = new FileSystemStatistics();\n//testing if HDs are returned as an array consisting of objects. fs is the name (e.g. C:) \nconsole.log(fsSize[0].fs); //--&gt; C:\nconsole.log(fsSize[1].fs); //--&gt; G:\nfsObject.name[0] = fsSize[0].fs;\nfsObject.name[0] = fsSize[0].fs;\n</code></pre>\n\n<p>There are no mistakes marked in my code but when I want to run it I get the error:  </p>\n\n<blockquote>\n  <p>\"UnhandledPromiseRejectionWarning: TypeError: Cannot set property '0'\n  of undefined\"</p>\n</blockquote>\n\n<p>I am pretty sure I am making a beginner mistake but I cannot solve it even after googling.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1550663612, "post_id": 54785736, "comment_id": 96349784, "body": "show <code>fetch</code> method"}, {"owner": {"reputation": 45, "user_id": 11071159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38a46fe42144b0bbe7c498aa13231?s=128&d=identicon&r=PG&f=1", "display_name": "y3v2btr93iq", "link": "https://stackoverflow.com/users/11071159/y3v2btr93iq"}, "reply_to_user": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1550663856, "post_id": 54785736, "comment_id": 96349929, "body": "How can I show it? I just used the method based on angular documentation."}, {"owner": {"reputation": 1391, "user_id": 7561290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6zJw.png?s=128&g=1", "display_name": "Javascript Hupp Technologies", "link": "https://stackoverflow.com/users/7561290/javascript-hupp-technologies"}, "edited": false, "score": 0, "creation_date": 1550664119, "post_id": 54785736, "comment_id": 96350076, "body": "Use angular reactive forms way. you can learn more <a href=\"https://medium.com/@agoiabeladeyemi/gentle-introduction-to-reactive-forms-in-angular-c3cb01b90037\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 45, "user_id": 11071159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38a46fe42144b0bbe7c498aa13231?s=128&d=identicon&r=PG&f=1", "display_name": "y3v2btr93iq", "link": "https://stackoverflow.com/users/11071159/y3v2btr93iq"}, "reply_to_user": {"reputation": 1391, "user_id": 7561290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6zJw.png?s=128&g=1", "display_name": "Javascript Hupp Technologies", "link": "https://stackoverflow.com/users/7561290/javascript-hupp-technologies"}, "edited": false, "score": 0, "creation_date": 1550664658, "post_id": 54785736, "comment_id": 96350454, "body": "@JavascriptHuppTechnologies I have a task to do it using POST method, that&#39;s why I&#39;m doing it that way."}, {"owner": {"reputation": 1391, "user_id": 7561290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6zJw.png?s=128&g=1", "display_name": "Javascript Hupp Technologies", "link": "https://stackoverflow.com/users/7561290/javascript-hupp-technologies"}, "edited": false, "score": 0, "creation_date": 1550664895, "post_id": 54785736, "comment_id": 96350615, "body": "@Mavinter Yes that&#39;s fine but issue is not in post, issue is you are not binding input value correctly so that&#39;s why it&#39;s empty when you console in addForm(). So for data binding you should use FormsModule or reactive forms that i gave link. Also you should first know how two way data binding works in angular."}], "answers": [{"tags": [], "owner": {"reputation": 2226, "user_id": 5228065, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IFCZqfiTt9Y/AAAAAAAAAAI/AAAAAAAAAA8/TlI4NJB0DHE/photo.jpg?sz=128", "display_name": "Akif Hadziabdic", "link": "https://stackoverflow.com/users/5228065/akif-hadziabdic"}, "is_accepted": false, "score": 0, "last_activity_date": 1550664321, "creation_date": 1550664321, "answer_id": 54786001, "question_id": 54785736, "link": "https://stackoverflow.com/questions/54785736/post-method-not-logging-input-information/54786001#54786001", "title": "POST method not logging input information", "body": "<pre><code>fetch(this.formUrl, {...})\n    .then(response =&gt; response.json())\n    .then(json =&gt; console.log(json))\n</code></pre>\n\n<p>This mean: print response from server. Server can change values or provide new set of data depending of server implementation.\nIf you want to print request you can do it before sending http request like:</p>\n\n<pre><code>console.log({ id: this.forms.id, body: this.forms.body })\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 11071159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38a46fe42144b0bbe7c498aa13231?s=128&d=identicon&r=PG&f=1", "display_name": "y3v2btr93iq", "link": "https://stackoverflow.com/users/11071159/y3v2btr93iq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550664321, "creation_date": 1550663485, "question_id": 54785736, "link": "https://stackoverflow.com/questions/54785736/post-method-not-logging-input-information", "title": "POST method not logging input information", "body": "<p>I created a form with 'title' and 'body' and the plan is that whenever I write something in them and submit, it should be displayed in the console.log. I tried to do it, but it gives me only this: </p>\n\n<blockquote>\n  <p>{id: 0, title: \"\", body: \"\", userId: 0}</p>\n</blockquote>\n\n<p>Here is my form-add.component.ts:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { form } from '../forms/form-interface';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-form-add',\n  templateUrl: './form-add.component.html',\n  styleUrls: ['./form-add.component.css']\n})\nexport class FormAddComponent implements OnInit {\n  private formUrl = \"https://jsonplaceholder.typicode.com/posts\";\n\n  forms: form = {\n    \"id\": 0,\n    \"userId\": 0,\n    \"title\": '',\n    \"body\": ''\n  };\n\n\n  constructor(private http: HttpClient, private route: ActivatedRoute,\n    private router: Router ) { }\n\n  ngOnInit() {\n\n  }\n\n      addForm() {\n        fetch(this.formUrl, {\n          method: 'POST',\n          body: JSON.stringify({\n            id: this.forms.id,\n            title: this.forms.title,\n            body: this.forms.body,\n            userId:  this.forms.userId\n          }),\n          headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\"\n          }\n        })\n        .then(response =&gt; response.json())\n        .then(json =&gt; console.log(json))\n    }\n\n\n  }\n</code></pre>\n\n<p>here is my HTML code:</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;a class=\"btn btn-primary pull-right\" routerLink = '/posts' &gt;\n    Back\n    &lt;/a&gt;\n&lt;/div&gt;\n\n&lt;div class=\"container\"&gt;\n  &lt;h2&gt;Add New Form:&lt;/h2&gt;\n&lt;/div&gt;\n\n&lt;div class=\"forms container\"&gt;\n&lt;form #postForm=\"ngForm\"&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"title\"&gt;Title&lt;/label&gt;\n        &lt;input  \n        name=\"title\"  \n        id=\"title\" \n        type=\"text\" \n        class=\"form-control\"\n        &gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"body\"&gt;Body&lt;/label&gt;\n      &lt;textarea  \n      name= \"body\" \n      id=\"body\" \n      cols=\"30\" \n      rows=\"10\" \n      class=\"form-control\"\n      &gt;&lt;/textarea&gt;\n    &lt;/div&gt;\n    &lt;button class=\"btn btn-success\" (click) = addForm()&gt;Add&lt;/button&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And here is my form-interface:</p>\n\n<pre><code>export interface form  {\n    \"userId\": number,\n    \"id\": number,\n    \"title\": string,\n    \"body\": string\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 5635, "user_id": 11078857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uxzIepvZYsk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOeV6JqyiQjDi54sRNklV1znUgZmQ/mo/photo.jpg?sz=128", "display_name": "Andrei", "link": "https://stackoverflow.com/users/11078857/andrei"}, "edited": false, "score": 0, "creation_date": 1550663620, "post_id": 54785655, "comment_id": 96349788, "body": "these types are incompatible. is field onTranslationChange used for subscription from outside of the component?"}], "answers": [{"comments": [{"owner": {"reputation": 1084, "user_id": 1959238, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/3fe07a5610429dfebdbeb95f2fc91c3b?s=128&d=identicon&r=PG", "display_name": "Franki1986", "link": "https://stackoverflow.com/users/1959238/franki1986"}, "edited": false, "score": 0, "creation_date": 1550663817, "post_id": 54785806, "comment_id": 96349896, "body": "Thanks for the answer. Basically I copied the translation pipe from the original code. So their should be changed something in the next release of it! <a href=\"https://github.com/ngx-translate/core/blob/2c2679329643e2fb4eb7c6e8515b536387f6fefb/projects/ngx-translate/core/src/lib/translate.pipe.ts#L80\" rel=\"nofollow noreferrer\">github.com/ngx-translate/core/blob/&hellip;</a>"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 1084, "user_id": 1959238, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/3fe07a5610429dfebdbeb95f2fc91c3b?s=128&d=identicon&r=PG", "display_name": "Franki1986", "link": "https://stackoverflow.com/users/1959238/franki1986"}, "edited": false, "score": 0, "creation_date": 1550671002, "post_id": 54785806, "comment_id": 96354397, "body": "@Franki1986 absolutely right, in that case, you need to go for the bottom solution. You could post a pull request if you want to change it for them :)"}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 2, "last_activity_date": 1550663684, "creation_date": 1550663684, "answer_id": 54785806, "question_id": 54785655, "link": "https://stackoverflow.com/questions/54785655/angular-7-2-5-assign-subscription-to-eventemitter-fails-error-ts2740/54785806#54785806", "title": "Angular 7.2.5 assign Subscription to EventEmitter fails error TS2740", "body": "<p>You should not use EventEmitter inside a pipe. These are solely used for the <code>@Ouput()</code> decorator on directives and components. Besides that, a <code>.subscribe</code> call, returns a <code>Subscription</code>. This is not an observable, but a subscription to an observable.</p>\n\n<p><code>EventEmitter</code> is something that extends Observable, so my guess is you want the code to be like this:</p>\n\n<pre><code>readonly onTranslationChange = this.translate.onTranslationChange.pipe(\n  tap((event: TranslationChangeEvent) =&gt; {\n    if (this.lastKey &amp;&amp; event.lang === this.translate.currentLang) {\n      this.lastKey = null;\n      this.updateValue(query);\n    }\n  })\n);\n</code></pre>\n\n<p>If this is not the case, and you just want to keep it a subscription, you should change it to this:</p>\n\n<pre><code>onTranslationChange: Subscription;\n</code></pre>\n"}], "owner": {"reputation": 1084, "user_id": 1959238, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/3fe07a5610429dfebdbeb95f2fc91c3b?s=128&d=identicon&r=PG", "display_name": "Franki1986", "link": "https://stackoverflow.com/users/1959238/franki1986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 614, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550663684, "creation_date": 1550663239, "question_id": 54785655, "link": "https://stackoverflow.com/questions/54785655/angular-7-2-5-assign-subscription-to-eventemitter-fails-error-ts2740", "title": "Angular 7.2.5 assign Subscription to EventEmitter fails error TS2740", "body": "<p>I am using ngx-translate with angular and have creaeted a Pipe based on the translation pipe.\nNow I have updated from Angular 7.0 to 7.2.5 with TypeScript 3.2.4.\nAnd the folowing code gives an error:</p>\n\n<p>...</p>\n\n<pre><code>onTranslationChange: EventEmitter&lt;TranslationChangeEvent&gt;;\n\n\nif (!this.onTranslationChange) {\n      this.onTranslationChange = this.translate.onTranslationChange.subscribe((event: TranslationChangeEvent) =&gt; {\n        if (this.lastKey &amp;&amp; event.lang === this.translate.currentLang) {\n          this.lastKey = null;\n          this.updateValue(query);\n        }\n      });\n    }\n</code></pre>\n\n<p>This is giving the error :</p>\n\n<pre><code>error TS2740: Type 'Subscription' is missing the following properties from type 'EventEmitter&lt;TranslationChangeEvent&gt;': __isAsync, emit, subscribe, observers, and 18 more.\n</code></pre>\n\n<p>Before my update everything worked fine.</p>\n"}, {"tags": ["jquery", "angular", "typescript", "asp.net-core", ".net-core"], "comments": [{"owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "edited": false, "score": 0, "creation_date": 1550662906, "post_id": 54785487, "comment_id": 96349387, "body": "It would appear so, but it entirely depends on why the calls are failing after the inactivity. I&#39;d suggest implementing rolling authentication tokens if you don&#39;t want to have to detect auth expiration"}, {"owner": {"reputation": 955, "user_id": 1775009, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/kBUTI.jpg?s=128&g=1", "display_name": "Sagar K", "link": "https://stackoverflow.com/users/1775009/sagar-k"}, "reply_to_user": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "edited": false, "score": 0, "creation_date": 1550663248, "post_id": 54785487, "comment_id": 96349579, "body": "@RoryMcCrossan can you please give some links about rolling authentication technique ?"}, {"owner": {"reputation": 793, "user_id": 4371525, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1fp8o.jpg?s=128&g=1", "display_name": "Shy Agam", "link": "https://stackoverflow.com/users/4371525/shy-agam"}, "edited": false, "score": 0, "creation_date": 1550665469, "post_id": 54785487, "comment_id": 96350990, "body": "How are you implementing OpenID Connect?"}, {"owner": {"reputation": 955, "user_id": 1775009, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/kBUTI.jpg?s=128&g=1", "display_name": "Sagar K", "link": "https://stackoverflow.com/users/1775009/sagar-k"}, "reply_to_user": {"reputation": 793, "user_id": 4371525, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1fp8o.jpg?s=128&g=1", "display_name": "Shy Agam", "link": "https://stackoverflow.com/users/4371525/shy-agam"}, "edited": false, "score": 0, "creation_date": 1550665940, "post_id": 54785487, "comment_id": 96351277, "body": "@ShyAgam Updated the question with configuration code"}, {"owner": {"reputation": 793, "user_id": 4371525, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1fp8o.jpg?s=128&g=1", "display_name": "Shy Agam", "link": "https://stackoverflow.com/users/4371525/shy-agam"}, "edited": false, "score": 0, "creation_date": 1550667445, "post_id": 54785487, "comment_id": 96352183, "body": "Did you try configuring DataProtection? Take a look at this: <a href=\"https://github.com/openiddict/openiddict-core/issues/512\" rel=\"nofollow noreferrer\">github.com/openiddict/openiddict-core/issues/512</a>"}, {"owner": {"reputation": 955, "user_id": 1775009, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/kBUTI.jpg?s=128&g=1", "display_name": "Sagar K", "link": "https://stackoverflow.com/users/1775009/sagar-k"}, "reply_to_user": {"reputation": 793, "user_id": 4371525, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1fp8o.jpg?s=128&g=1", "display_name": "Shy Agam", "link": "https://stackoverflow.com/users/4371525/shy-agam"}, "edited": false, "score": 0, "creation_date": 1550749986, "post_id": 54785487, "comment_id": 96389137, "body": "@ShyAgam yes i have used AddDataProtection"}], "owner": {"reputation": 955, "user_id": 1775009, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/kBUTI.jpg?s=128&g=1", "display_name": "Sagar K", "link": "https://stackoverflow.com/users/1775009/sagar-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550728094, "creation_date": 1550662770, "last_edit_date": 1550728094, "question_id": 54785487, "link": "https://stackoverflow.com/questions/54785487/if-application-is-kept-idle-for-long-time-then-server-side-call-fails", "title": "If application is kept idle for long time then server side call fails", "body": "<p>We use OpenID Connect (OAuth 2.0) authentication.</p>\n\n<p>If we keep application idle for 5 minutes and then perform any server call (post) then call happens but the object that get bound to server is null and thus get null exception error.</p>\n\n<p>OpenID connect Settings:</p>\n\n<pre><code>services.AddAuthentication(options =&gt; {\n  options.DefaultScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n  options.DefaultChallengeScheme = OpenIdConnectDefaults.AuthenticationScheme;\n  options.DefaultSignInScheme = CookieAuthenticationDefaults.AuthenticationScheme;\n })\n .AddCookie()\n\n // Configure the OWIN pipeline to use OpenID Connect auth.\n // https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-protocols-openid-connect-code\n .AddOpenIdConnect(options =&gt; {\n  options.ClientId = azureAdConfig.ClientId;\n  options.ClientSecret = azureAdConfig.ClientSecret;\n  options.Authority = string.Format(azureAdConfig.AADInstance, azureAdConfig.Tenant);\n  options.ResponseType = OpenIdConnectResponseType.CodeIdToken;\n  options.Resource = azureAdConfig.ResourceURI_Graph;\n\n  // PostLogoutRedirectUri = Configuration[\"AzureAd:PostLogoutRedirectUri\"],\n  options.Events = new AuthEvents(azureAdConfig, connectionStringsConfig);\n });\n</code></pre>\n\n<p>Do I need to prompt user to refresh the application after certain amount of time?</p>\n"}, {"tags": ["typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10841658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48598839d7450c47c89f5a3275b5adc7?s=128&d=identicon&r=PG&f=1", "display_name": "kunal", "link": "https://stackoverflow.com/users/10841658/kunal"}, "edited": false, "score": 0, "creation_date": 1550798611, "post_id": 54785853, "comment_id": 96413163, "body": "I have already done with service and observable data is  comming on component but not updating the view."}], "tags": [], "owner": {"reputation": 2226, "user_id": 5228065, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IFCZqfiTt9Y/AAAAAAAAAAI/AAAAAAAAAA8/TlI4NJB0DHE/photo.jpg?sz=128", "display_name": "Akif Hadziabdic", "link": "https://stackoverflow.com/users/5228065/akif-hadziabdic"}, "is_accepted": false, "score": 0, "last_activity_date": 1550663820, "creation_date": 1550663820, "answer_id": 54785853, "question_id": 54785354, "link": "https://stackoverflow.com/questions/54785354/angular-6-update-view-once-data-is-changed-in-service/54785853#54785853", "title": "Angular 6: Update view once data is changed in service", "body": "<ul>\n<li>Fast implementation solution: You could move data from service to components.\nData can be shared between components with @Input, @Output, EventEmitter and \nother ways depending of expectations and logic.</li>\n<li>Slow implementation solution: User redux and central state with data on one place.</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 10841658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48598839d7450c47c89f5a3275b5adc7?s=128&d=identicon&r=PG&f=1", "display_name": "kunal", "link": "https://stackoverflow.com/users/10841658/kunal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550663820, "creation_date": 1550662408, "question_id": 54785354, "link": "https://stackoverflow.com/questions/54785354/angular-6-update-view-once-data-is-changed-in-service", "title": "Angular 6: Update view once data is changed in service", "body": "<p>I have multiple components side bar and view and a service. On click of side bar element component is shown. Once data in component added on service a check sign with ngClass should be on side bar. But it when data is added on service sign checked is not done dynamically when i am clicking on sidebar then only it is showing on side bar. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;div class=\"index-layout\"\r\n    [ngClass]=\"{'disableDiv': globalArray.getStageArrayEnabled(1)==false, 'active':globalArray.getStageArrayHighlight(1)==true}\"&gt;\r\n    &lt;p class=\"font-type\" [ngClass]=\"getSidebarClass(1)\" (click)=\"showForm('PAN')\"&gt;\r\n      &lt;span class=\"padd_align\" [ngClass]=\"{'checked': globalArray.getStageArrayHide(1)==true}\"&gt;1&lt;/span&gt;\r\n      PAN\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"index-layout\"\r\n    [ngClass]=\"{'disableDiv':  globalArray.getStageArrayEnabled(3)==false, 'active':globalArray.getStageArrayHighlight(2)==true}\"&gt;\r\n    &lt;p class=\"font-type\" [ngClass]=\"getSidebarClass(2)\" (click)=\"showForm('Aadhaar')\"&gt;\r\n      &lt;span class=\"padd_align\" [ngClass]=\"{'checked': globalArray.getStageArrayHide(2)==true}\"&gt;2&lt;/span&gt;\r\n      Aadhaar\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"index-layout\"\r\n    [ngClass]=\"{'disableDiv':  globalArray.getStageArrayEnabled(3)==false, 'active':globalArray.getStageArrayHighlight(3)==true}\"&gt;\r\n    &lt;p class=\"font-type\" [ngClass]=\"getSidebarClass(3)\" (click)=\"showForm('Basic Details')\"&gt;\r\n      &lt;span class=\"padd_align\" [ngClass]=\"{'checked': globalArray.getStageArrayHide(3)==true}\"&gt;3&lt;/span&gt;\r\n      Basic Details\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"index-layout\"\r\n    [ngClass]=\"{'disableDiv':  globalArray.getStageArrayEnabled(4)==false, 'active':globalArray.getStageArrayHighlight(4)==true}\"&gt;\r\n    &lt;p class=\"font-type\" [ngClass]=\"getSidebarClass(4)\" (click)=\"showForm('Address')\"&gt;\r\n      &lt;span class=\"padd_align\" [ngClass]=\"{'checked': globalArray.getStageArrayHide(4)==true}\"&gt;4&lt;/span&gt;\r\n      Address\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"index-layout\"\r\n    [ngClass]=\"{'disableDiv':  globalArray.getStageArrayEnabled(5)==false, 'active':globalArray.getStageArrayHighlight(5)==true}\"&gt;\r\n    &lt;p class=\"font-type\" [ngClass]=\"getSidebarClass(5)\" (click)=\"showForm('Regulatory Info')\"&gt;\r\n      &lt;span class=\"padd_align\" [ngClass]=\"{'checked': globalArray.getStageArrayHide(5)==true}\"&gt;5&lt;/span&gt;\r\n      Regulatory Info\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"index-layout\"\r\n    [ngClass]=\"{'disableDiv':  globalArray.getStageArrayEnabled(6)==false, 'active':globalArray.getStageArrayHighlight(6)==true}\"&gt;\r\n    &lt;p class=\"font-type\" [ngClass]=\"getSidebarClass(6)\" (click)=\"showForm('Segments')\"&gt;\r\n      &lt;span class=\"padd_align\" [ngClass]=\"{'checked': globalArray.getStageArrayHide(6)==true}\"&gt;6&lt;/span&gt;\r\n      Segments\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"index-layout\"\r\n    [ngClass]=\"{'disableDiv':  globalArray.getStageArrayEnabled(7)==false, 'active':globalArray.getStageArrayHighlight(7)==true}\"&gt;\r\n    &lt;p class=\"font-type\" [ngClass]=\"getSidebarClass(7)\" (click)=\"showForm('Document Upload')\"&gt;\r\n      &lt;span class=\"padd_align\" [ngClass]=\"{'checked': globalArray.getStageArrayHide(7)==true}\"&gt;7&lt;/span&gt;\r\n      Document Upload\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"index-layout\"\r\n    [ngClass]=\"{'disableDiv':  globalArray.getStageArrayEnabled(8)==false, 'active':globalArray.getStageArrayHighlight(8)==true}\"&gt;\r\n    &lt;p class=\"font-type\" [ngClass]=\"getSidebarClass(8)\" (click)=\"showForm('Brokerage')\"&gt;\r\n      &lt;span class=\"padd_align\" [ngClass]=\"{'checked': globalArray.getStageArrayHide(8)==true}\"&gt;8&lt;/span&gt;\r\n      Brokerage\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"index-layout\"\r\n    [ngClass]=\"{'disableDiv':  globalArray.getStageArrayEnabled(9)==false, 'active':globalArray.getStageArrayHighlight(9)==true}\"&gt;\r\n    &lt;p class=\"font-type\" [ngClass]=\"getSidebarClass(9)\" (click)=\"showForm('Review')\"&gt;\r\n      &lt;span class=\"padd_align\" [ngClass]=\"{'checked': globalArray.getStageArrayHide(9)==true}\"&gt;9&lt;/span&gt;\r\n      Review\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"index-layout\"\r\n    [ngClass]=\"{'disableDiv':  globalArray.getStageArrayEnabled(10)==false, 'active':globalArray.getStageArrayHighlight(10)==true}\"&gt;\r\n    &lt;p class=\"font-type\" [ngClass]=\"getSidebarClass(10)\" (click)=\"showForm('Televerification')\"&gt;\r\n      &lt;span class=\"padd_align\" [ngClass]=\"{'checked': globalArray.getStageArrayHide(10)==true}\"&gt;10&lt;/span&gt;\r\n      Televerification\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Please help me If possible. </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1550662834, "post_id": 54785329, "comment_id": 96349345, "body": "I think Typescript has you covered with &quot;union types&quot;. Declare <code>type ActualApiResponse&lt;T&gt; = IApiResponse&lt;T&gt; | T</code> and return that instead? Using <code>ActualApiResponse&lt;T&gt;</code> as return type means return type can be either <code>IApiResponse&lt;T&gt;</code> <b><i>or</i></b> <code>T</code>"}, {"owner": {"reputation": 717, "user_id": 8971260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bed23b54d922f0ffb5b192ef5d74e57f?s=128&d=identicon&r=PG&f=1", "display_name": "Giacomo", "link": "https://stackoverflow.com/users/8971260/giacomo"}, "reply_to_user": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1550693532, "post_id": 54785329, "comment_id": 96367026, "body": "That did it, thank you!"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1550716463, "post_id": 54785329, "comment_id": 96374141, "body": "Glad to help. I posted an answer now we got to the bottom of it."}], "answers": [{"comments": [{"owner": {"reputation": 717, "user_id": 8971260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bed23b54d922f0ffb5b192ef5d74e57f?s=128&d=identicon&r=PG&f=1", "display_name": "Giacomo", "link": "https://stackoverflow.com/users/8971260/giacomo"}, "edited": false, "score": 0, "creation_date": 1550662622, "post_id": 54785378, "comment_id": 96349224, "body": "That still doesn&#39;t solve my issue because that get is still returning the <code>Promise&lt;IApiResponse&gt;</code> which is not true, becuse it could just be a <code>Promise&lt;any&gt;</code> or <code>Promise&lt;T&gt;</code> in this case"}], "tags": [], "owner": {"reputation": 11158, "user_id": 664533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/334ec1c870f94909732b69b940ae9213?s=128&d=identicon&r=PG", "display_name": "Wayne Maurer", "link": "https://stackoverflow.com/users/664533/wayne-maurer"}, "is_accepted": false, "score": 2, "last_activity_date": 1550662483, "creation_date": 1550662483, "answer_id": 54785378, "question_id": 54785329, "link": "https://stackoverflow.com/questions/54785329/typescript-function-return-promise/54785378#54785378", "title": "Typescript function return promise", "body": "<p>You could change your \"get\" method signature to:</p>\n\n<pre><code>async function get&lt;T&gt;(baseProperty: string): Promise&lt;IApiResponse&lt;T&gt;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "is_accepted": true, "score": 2, "last_activity_date": 1550716423, "creation_date": 1550716423, "answer_id": 54798348, "question_id": 54785329, "link": "https://stackoverflow.com/questions/54785329/typescript-function-return-promise/54798348#54798348", "title": "Typescript function return promise", "body": "<p>Typescript has you covered with <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">union types</a>. </p>\n\n<p>You might choose to declare a new union type</p>\n\n<pre><code>type ActualApiResponse&lt;T&gt; = IApiResponse&lt;T&gt; | T\n</code></pre>\n\n<p>and use it as follows:</p>\n\n<pre><code>async function fetchStuff(): Promise&lt;ActualApiResponse&lt;IStuff[]&gt;&gt; {\n    // ...\n}\n</code></pre>\n\n<p>or simply take the more direct approach of:</p>\n\n<pre><code>async function fetchStuff(): Promise&lt;IApiResponse&lt;IStuff[]&gt; | IStuff[]&gt; {\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 717, "user_id": 8971260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bed23b54d922f0ffb5b192ef5d74e57f?s=128&d=identicon&r=PG&f=1", "display_name": "Giacomo", "link": "https://stackoverflow.com/users/8971260/giacomo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2466, "favorite_count": 0, "accepted_answer_id": 54798348, "answer_count": 2, "score": 0, "last_activity_date": 1550716423, "creation_date": 1550662334, "question_id": 54785329, "link": "https://stackoverflow.com/questions/54785329/typescript-function-return-promise", "title": "Typescript function return promise", "body": "<p>I'm having a hard time understanding how to set the return type on a function. </p>\n\n<p>The issue is that this function (api call) could return an array of objects <code>[{}, {}, {}]</code></p>\n\n<p>or and object with some properties, and than the array.</p>\n\n<pre><code>{\n  \"count\": 311,\n  \"next\": \"http://127.0.0.1:8000/....\",\n  \"previous\": \"http://127.0.0.1:8000/...\",\n  \"results\": [{}, {}, {}]\n}\n</code></pre>\n\n<p>What I have is the specific API-call function</p>\n\n<pre><code>async function fetchStuff(): Promise&lt;IApiResponse&lt;IStuff[]&gt;&gt; {\n    return get({ baseProperty: 'stuff' })\n}\n</code></pre>\n\n<p>Which calls the general \"get\" method that I created</p>\n\n<pre><code>async function get(baseProperty: string): Promise&lt;IApiResponse&lt;any&gt;&gt; {\n    try {\n        const { data } = await Vue.$axios.get(baseProperty)\n        return data\n    } catch (err) {\n        console.error(err)\n        throw err\n    }\n}\n</code></pre>\n\n<p>The interface I created is this</p>\n\n<pre><code>export interface IApiResponse&lt;T&gt; {\n    count: number\n    next: string\n    previous: string\n    results: T\n}\n</code></pre>\n\n<p>The problem, as I said is that not all the api calls will return the same thing, how can I allow for different return types in my <code>get</code> method?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1550823889, "last_edit_date": 1550823889, "creation_date": 1550663095, "answer_id": 54785602, "question_id": 54785277, "link": "https://stackoverflow.com/questions/54785277/how-to-use-typeof-to-get-runtime-type-of-an-object/54785602#54785602", "title": "How to use typeof to get &quot;runtime&quot; type of an object?", "body": "<p>Your conditional types are ok, the only problem you have is preserving the actual type of <code>configMap</code>. if you have an explicit type annotation that will be the final type of the variable and the type of the object literal will not play into it. The best way to keep both the constraint and infer the type from the object literal is to use a generic function :</p>\n\n<pre><code>interface ConfigVar&lt;T extends 'string' | 'number' | 'boolean'&gt; {\n  env: string;\n  type: T;\n}\n\ninterface ConfigMap {\n  [key: string]: ConfigVar&lt;'string'&gt; | ConfigVar&lt;'number'&gt; | ConfigVar&lt;'boolean'&gt;;\n}\n\ntype ConfigType&lt;T extends ConfigMap&gt; = {\n  [P in Extract&lt;keyof T, string&gt;]:\n    T[P] extends ConfigVar&lt;'string'&gt; ? string :\n    T[P] extends ConfigVar&lt;'boolean'&gt; ? boolean :\n    T[P] extends ConfigVar&lt;'number'&gt; ? number :\n    never;\n};\n\n// usage\n\nconst configMap = (&lt;T extends ConfigMap&gt;(o:T)=&gt; o)({\n  var1: {\n    env: 'VAR1',\n    type: 'string',\n  },\n});\n\ntype ConfigMapType = ConfigType&lt;typeof configMap&gt;;\n\nconst config: ConfigMapType = {\n\n  var1: 'str\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": false, "score": 1, "last_activity_date": 1550664157, "creation_date": 1550664157, "answer_id": 54785954, "question_id": 54785277, "link": "https://stackoverflow.com/questions/54785277/how-to-use-typeof-to-get-runtime-type-of-an-object/54785954#54785954", "title": "How to use typeof to get &quot;runtime&quot; type of an object?", "body": "<p>Both <code>configMap</code> and <code>var1</code> are the values, not types. Therefore, TypeScript cannot verify it. You need to put <code>var1</code> in one of the type definition, somewhere, like:</p>\n\n<pre><code>type ConfigMapType = ConfigType&lt;{ var1: ConfigVar&lt;'string'&gt; }&gt;;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>interface ConfigVar&lt;T extends 'string' | 'number' | 'boolean' = 'string'&gt; {\n    env: string;\n    type: T;\n}\n\ntype ConfigType&lt;T&gt; = {\n    [P in Extract&lt;keyof T, string&gt;]:\n    T[P] extends ConfigVar&lt;'string'&gt; ? string :\n    T[P] extends ConfigVar&lt;'boolean'&gt; ? boolean :\n    T[P] extends ConfigVar&lt;'number'&gt; ? number :\n    never;\n};\n\nconst configMap = {\n    var1: &lt;ConfigVar&gt;{\n        env: 'VAR1',\n        type: 'string',\n    },\n};\n\ntype ConfigMapType = ConfigType&lt;typeof configMap&gt;;\n\nconst config: ConfigMapType = {\n    var1: 'string',\n};\n</code></pre>\n"}], "owner": {"reputation": 11614, "user_id": 606521, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/404cac89fd136db453824b07452899ca?s=128&d=identicon&r=PG", "display_name": "user606521", "link": "https://stackoverflow.com/users/606521/user606521"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 54785602, "answer_count": 2, "score": 0, "last_activity_date": 1550823889, "creation_date": 1550662151, "question_id": 54785277, "link": "https://stackoverflow.com/questions/54785277/how-to-use-typeof-to-get-runtime-type-of-an-object", "title": "How to use typeof to get &quot;runtime&quot; type of an object?", "body": "<p>I want to get type of object with already declared keys/values.\nI have following code:</p>\n\n<pre><code>interface ConfigVar&lt;T extends 'string' | 'number' | 'boolean'&gt; {\n  env: string;\n  type: T;\n}\n\ninterface ConfigMap {\n  [key: string]: ConfigVar&lt;'string'&gt; | ConfigVar&lt;'number'&gt; | ConfigVar&lt;'boolean'&gt;;\n}\n\ntype ConfigType&lt;T extends ConfigMap&gt; = {\n  [P in Extract&lt;keyof T, string&gt;]:\n    T[P] extends ConfigVar&lt;'string'&gt; ? string :\n    T[P] extends ConfigVar&lt;'boolean'&gt; ? boolean :\n    T[P] extends ConfigVar&lt;'number'&gt; ? number :\n    never;\n};\n\n// usage\n\nconst configMap: ConfigMap = {\n  var1: {\n    env: 'VAR1',\n    type: 'string',\n  },\n};\n\ntype ConfigMapType = ConfigType&lt;typeof configMap&gt;;\n\nconst config: ConfigMapType = {\n  var1: true, // Type 'boolean' is not assignable to type 'never'\n  // var1: 'str', // Type 'string' is not assignable to type 'never'\n};\n</code></pre>\n\n<p>My goal is to make <code>ConfigMapType</code> allow only <code>{ var1: string }</code>. Is that possible with typescript?</p>\n"}, {"tags": ["angular", "typescript", "generic-constraints"], "comments": [{"owner": {"reputation": 988, "user_id": 1931563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3MpO.png?s=128&g=1", "display_name": "AlokeT", "link": "https://stackoverflow.com/users/1931563/aloket"}, "edited": false, "score": 0, "creation_date": 1550662970, "post_id": 54785002, "comment_id": 96349427, "body": "Just make a Stack Blitz demo. It will help us to better understand the situation."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11010433"}, "edited": false, "score": 1, "creation_date": 1550787623, "post_id": 54785002, "comment_id": 96410515, "body": "I think <a href=\"https://github.com/Microsoft/TypeScript/issues/29952\" rel=\"nofollow noreferrer\">this</a> is a similar case."}, {"owner": {"reputation": 497, "user_id": 2189332, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f9e7019ade49af4fa1f0575066672a08?s=128&d=identicon&r=PG", "display_name": "toms", "link": "https://stackoverflow.com/users/2189332/toms"}, "edited": false, "score": 0, "creation_date": 1550830872, "post_id": 54785002, "comment_id": 96424551, "body": "@joseph-climber YES it is. That does explain the issue and the reason for it. Do you want to post it as an answer for future typescripters?"}], "owner": {"reputation": 497, "user_id": 2189332, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f9e7019ade49af4fa1f0575066672a08?s=128&d=identicon&r=PG", "display_name": "toms", "link": "https://stackoverflow.com/users/2189332/toms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550661289, "creation_date": 1550661289, "question_id": 54785002, "link": "https://stackoverflow.com/questions/54785002/typescript-generic-constraints-not-accepting-object-literal-of-matching-type", "title": "Typescript - Generic Constraints - not accepting object literal of matching type", "body": "<p>Using typescript 3, in angular 7 framework.</p>\n\n<p>I'm trying to prepare my local Store array elements for firebase, using an object's Id property as it's key in a wrapping object, and vise versa when fetching from firestore.</p>\n\n<p>I've set up an interface that should work with any of my local Store elements, as they all have an id property:</p>\n\n<pre><code>interface localItem {id:string, [x:string]:any}\n</code></pre>\n\n<p>and a firebase equivalent, as they all use the id as key</p>\n\n<pre><code>interface firebaseItem {[id:string]:{[x:string]:any}}\n</code></pre>\n\n<p>I'm trying to iterate the firebase item, and turning it into an array again but i'm getting a type error:</p>\n\n<pre><code>    unwrapForLocalStore&lt;T extends localItem&gt;(firebaseItems:firebaseItem):T[]{\n            let itemArray: T[] = [];\n            for(let item in firebaseItems){\n                let newItem:T = {id:item, ...firebaseItems[item]} \n                /* \n                   [ts] Type '{ id: string; }' is not assignable to type 'T'. [2322] \n                   let newItem: T extends localItem\n                */\n                itemArray.push(newItem)\n            }\n            return itemArray\n        }\n</code></pre>\n\n<p>I've read the <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">typescript docs</a>, and unless i'm missing something I don't see why the object literal I create is not assignable to type T. I know I can typecase  on my object literal, which would resolve it, but I don't understand why I need it. Typescript has all the information to find the types match.</p>\n\n<p>What's the reason it is not recognised in this instance?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "angular7"], "comments": [{"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1550661745, "post_id": 54784980, "comment_id": 96348741, "body": "can you add a live example base of you example ? <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">stackblitz.com</a>"}, {"owner": {"reputation": 730, "user_id": 10636628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2cc5a31034c216ec5c582293980414?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/10636628/anonymous"}, "reply_to_user": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1550666580, "post_id": 54784980, "comment_id": 96351672, "body": "Reference from <a href=\"https://medium.com/@mirokoczka/3-ways-to-communicate-between-angular-components-a1e3f3304ecb\" rel=\"nofollow noreferrer\">medium.com/@mirokoczka/&hellip;</a> @malbarmawi"}], "answers": [{"comments": [{"owner": {"reputation": 5635, "user_id": 11078857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uxzIepvZYsk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOeV6JqyiQjDi54sRNklV1znUgZmQ/mo/photo.jpg?sz=128", "display_name": "Andrei", "link": "https://stackoverflow.com/users/11078857/andrei"}, "reply_to_user": {"reputation": 730, "user_id": 10636628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2cc5a31034c216ec5c582293980414?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/10636628/anonymous"}, "edited": false, "score": 0, "creation_date": 1550732431, "post_id": 54787680, "comment_id": 96378894, "body": "could you please provide a stackblitz with your case?"}, {"owner": {"reputation": 730, "user_id": 10636628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2cc5a31034c216ec5c582293980414?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/10636628/anonymous"}, "edited": false, "score": 0, "creation_date": 1550732863, "post_id": 54787680, "comment_id": 96379095, "body": "Sorry I can&#39;t. @Andrei"}], "tags": [], "owner": {"reputation": 5635, "user_id": 11078857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uxzIepvZYsk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOeV6JqyiQjDi54sRNklV1znUgZmQ/mo/photo.jpg?sz=128", "display_name": "Andrei", "link": "https://stackoverflow.com/users/11078857/andrei"}, "is_accepted": true, "score": 2, "last_activity_date": 1550669980, "creation_date": 1550669980, "answer_id": 54787680, "question_id": 54784980, "link": "https://stackoverflow.com/questions/54784980/angular-7-communication-through-service-subscribe-method-called-twice/54787680#54787680", "title": "Angular 7 Communication through service subscribe method called twice", "body": "<p>as I see you have 3 fields with exact the same name in your service. 2 of them are missed. you could do </p>\n\n<pre><code>value=false; \nsearch: EventEmitter &lt; boolean &gt; = new EventEmitter();\ntoggle() {\n   this.value = !this.value;\n   this.search.emit(this.value);\n}\n</code></pre>\n\n<p>in your service and in component:</p>\n\n<pre><code>ngOnInit() {    \n  this.service.search.subscribe(value =&gt; {\n       //some code here\n  }\n}\n</code></pre>\n\n<p>note that I removed @Output() decorator. it is used only inside components just for parent-child communication.</p>\n"}], "owner": {"reputation": 730, "user_id": 10636628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2cc5a31034c216ec5c582293980414?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/10636628/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 54787680, "answer_count": 1, "score": 0, "last_activity_date": 1576059456, "creation_date": 1550661220, "last_edit_date": 1576059456, "question_id": 54784980, "link": "https://stackoverflow.com/questions/54784980/angular-7-communication-through-service-subscribe-method-called-twice", "title": "Angular 7 Communication through service subscribe method called twice", "body": "<p>I'm using angular, trying to communicate to a component that is not parent-child. So I'm communicating it through service </p>\n\n<p>service.ts</p>\n\n<pre><code>Istoggle=false; \n@Output() change: EventEmitter &lt; boolean &gt; = new EventEmitter();\ntoggle() {\n    this.Istoggle= !this.Istoggle;\n    this.toggle.emit(this.Istoggle);\n}\n</code></pre>\n\n<p>search.ts</p>\n\n<pre><code>submit():void{\n  this.service.toggle();\n}\n</code></pre>\n\n<p>Home.ts</p>\n\n<pre><code>ngOnInit() {    \n   this.service.change.subscribe(_toggle=&gt; {\n           //some code here\n    }\n}\n</code></pre>\n\n<p>so when I click on submit in Home component toggle subscribe get hit twice</p>\n"}, {"tags": ["javascript", "typescript", "jestjs", "ts-jest"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1550661237, "post_id": 54784970, "comment_id": 96348417, "body": "Have you updated <code>@types&#47;jest</code>, too? <code>todo</code> is <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/8a8fe2ba56b3cbb22c31d8450f417a9bd93d7596/types/jest/index.d.ts#L293\" rel=\"nofollow noreferrer\">DefinitelyThere</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3532, "user_id": 2477872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/aa9a40ed999e685eb4faeb5c6316ae4e?s=128&d=identicon&r=PG", "display_name": "Tom Aalbers", "link": "https://stackoverflow.com/users/2477872/tom-aalbers"}, "edited": false, "score": 2, "creation_date": 1554032777, "post_id": 54785116, "comment_id": 97597438, "body": "<code>npm i @types&#47;jest@latest --save-dev</code> for the npm users :)"}], "tags": [], "owner": {"reputation": 1713, "user_id": 243831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/11f7be0cc892437ea95733a3ecdc9398?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/243831/mark"}, "is_accepted": true, "score": 9, "last_activity_date": 1550661626, "creation_date": 1550661626, "answer_id": 54785116, "question_id": 54784970, "link": "https://stackoverflow.com/questions/54784970/using-jests-todo-feature/54785116#54785116", "title": "Using Jest&#39;s todo feature", "body": "<p>Thanks to the comment from @jonrsharpe I ran <code>yarn upgrade @types/jest --latest</code> and that resolved my problem. Urgh -- could not see the wood for the trees!</p>\n"}, {"tags": [], "owner": {"reputation": 10923, "user_id": 9449426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f65f424fd34b2e1a7e875f9311f88c?s=128&d=identicon&r=PG&f=1", "display_name": "NearHuscarl", "link": "https://stackoverflow.com/users/9449426/nearhuscarl"}, "is_accepted": false, "score": 0, "last_activity_date": 1603394969, "last_edit_date": 1603394969, "creation_date": 1603394485, "answer_id": 64489155, "question_id": 54784970, "link": "https://stackoverflow.com/questions/54784970/using-jests-todo-feature/64489155#64489155", "title": "Using Jest&#39;s todo feature", "body": "<p>I feel pretty dumb for a while because my test was failing after adding the <a href=\"https://jestjs.io/docs/en/api#testtodoname\" rel=\"nofollow noreferrer\"><code>todo()</code></a>. I shoud've read the documentation more thoroughly. Here is my problematic code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>test(&quot;should show progress indicator when authorizing&quot;, () =&gt; {\n  test.todo(&quot;should show progress indicator when authorizing&quot;)\n})\n</code></pre>\n<p>But it need to be like the below. Passing callback when using <code>todo</code> and nested <code>test()</code> in the callback are not allowed.</p>\n<pre class=\"lang-js prettyprint-override\"><code>test.todo(&quot;should show progress indicator when authorizing&quot;)\n</code></pre>\n"}], "owner": {"reputation": 1713, "user_id": 243831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/11f7be0cc892437ea95733a3ecdc9398?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/243831/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2352, "favorite_count": 0, "accepted_answer_id": 54785116, "answer_count": 2, "score": 8, "last_activity_date": 1603394969, "creation_date": 1550661170, "question_id": 54784970, "link": "https://stackoverflow.com/questions/54784970/using-jests-todo-feature", "title": "Using Jest&#39;s todo feature", "body": "<p>The <a href=\"https://jestjs.io/blog/2019/01/25/jest-24-refreshing-polished-typescript-friendly#testtodo\" rel=\"noreferrer\">release notes for Jest 24</a> highlighted a new feature that I want to make use of: <code>test.todo</code>. However, for the life of my I am unable to use it.</p>\n\n<p>For example, I want to sketch out tests in my <code>subscriptions.test.ts</code> file so I create the following:</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>describe('Subscription Tests', () =&gt; {\n    test.todo('... a name');\n});\n</code></pre>\n\n<p>The TypeScript compiler then promptly presents me with a red line under <code>todo</code> saying, <code>Property 'todo' does not exist on type 'It'.</code></p>\n\n<p>I am sure I am missing something obvious but I've hit the wall at this point. Can someone help?</p>\n"}, {"tags": ["angular", "typescript", "angular-event-emitter"], "comments": [{"owner": {"reputation": 11538, "user_id": 885626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADFuG.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/885626/ric"}, "edited": false, "score": 0, "creation_date": 1550660637, "post_id": 54784558, "comment_id": 96348002, "body": "Use a shared service and observables? A few ways of doing this."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 7554288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9887be26f703afbfcab014823aed1c4b?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/7554288/anna"}, "edited": false, "score": 0, "creation_date": 1550660991, "post_id": 54784726, "comment_id": 96348244, "body": "Thank you! I have an error: Failed to compile.  ./node_modules/saucelabs/index.js. Do you know why?"}, {"owner": {"reputation": 1998, "user_id": 8048748, "user_type": "registered", "profile_image": "https://graph.facebook.com/1674282325934326/picture?type=large", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/8048748/tiago-silva"}, "reply_to_user": {"reputation": 27, "user_id": 7554288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9887be26f703afbfcab014823aed1c4b?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/7554288/anna"}, "edited": false, "score": 0, "creation_date": 1550661180, "post_id": 54784726, "comment_id": 96348382, "body": "No I don&#39;t, unfortunately never used that library saucelabs"}], "tags": [], "owner": {"reputation": 1998, "user_id": 8048748, "user_type": "registered", "profile_image": "https://graph.facebook.com/1674282325934326/picture?type=large", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/8048748/tiago-silva"}, "is_accepted": true, "score": 0, "last_activity_date": 1550660419, "creation_date": 1550660419, "answer_id": 54784726, "question_id": 54784558, "link": "https://stackoverflow.com/questions/54784558/change-the-name-of-a-button-in-the-parent-component-after-clicking-on-a-button-i/54784726#54784726", "title": "Change the name of a button in the parent component after clicking on a button inside modal (Angular 7)", "body": "<p>The way to communicate from Child to Parent component is via Event Emitters, first you define the event output in your child component like so :</p>\n\n<pre><code>@Output() clickedButton = new EventEmitter&lt;Observable&lt;any&gt;&gt;();\n</code></pre>\n\n<p>and next when hit the button the method that implements that button action should emit the event like so </p>\n\n<pre><code>this.clickedButton.emit(/* here goes any data you wanna pass to the parent component if its the case otherwise can be empty*/);\n</code></pre>\n\n<p>next on the parent component template just add (clickedButton)=\"your function to change the button text\" like so :</p>\n\n<pre><code>&lt;child-component (clickedButton)=\"changeButtonText($event)\"&gt;&lt;/child-component&gt;\n</code></pre>\n\n<p>and in your parent component you can change the button text to another text as you like, as long as the button text is a variable or you can access the button component and change the text but that sounds more complex than you need it to be</p>\n\n<pre><code>changeButtonText($event:any){\nthis.buttonTextVariable = 'C'\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7554288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9887be26f703afbfcab014823aed1c4b?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/7554288/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 54784726, "answer_count": 1, "score": 0, "last_activity_date": 1550664709, "creation_date": 1550659909, "last_edit_date": 1550664709, "question_id": 54784558, "link": "https://stackoverflow.com/questions/54784558/change-the-name-of-a-button-in-the-parent-component-after-clicking-on-a-button-i", "title": "Change the name of a button in the parent component after clicking on a button inside modal (Angular 7)", "body": "<p>I am working on an Angular 7 project and I want to change the name of a button from the parent component after clicking on a button from within the child component, which is a modal.</p>\n\n<p>Currently, when I click on \"Button A\" from the parent, the modal opens. After that, when I click on \"Button B\" from within the modal, I want \"Button A\" from the parent to change its name to \"C\", for instance. I have tried using localStorage but it didn't work. Do you have any ideas on how to do that?</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["angular", "forms", "typescript", "binding", "angular6"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1550660740, "post_id": 54784420, "comment_id": 96348069, "body": "Requesting to share Stackblitz if possible!"}, {"owner": {"reputation": 139, "user_id": 11070708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WF7sydKd4Cc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMSAyNPNuJ7XHDfUExCBxT8jTFVGw/mo/photo.jpg?sz=128", "display_name": "WebMaster", "link": "https://stackoverflow.com/users/11070708/webmaster"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1550662857, "post_id": 54784420, "comment_id": 96349358, "body": "My issue is that my control is not getting value from my model class"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1550663529, "post_id": 54784420, "comment_id": 96349727, "body": "That is why requested for Stackblitz!"}], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 3242379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E33s3.jpg?s=128&g=1", "display_name": "Emre HIZLI", "link": "https://stackoverflow.com/users/3242379/emre-hizli"}, "edited": false, "score": 0, "creation_date": 1550661608, "post_id": 54784954, "comment_id": 96348667, "body": "this is not a javascript problem bro. &quot;this&quot; keyword is used for component in angular."}, {"owner": {"reputation": 139, "user_id": 11070708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WF7sydKd4Cc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMSAyNPNuJ7XHDfUExCBxT8jTFVGw/mo/photo.jpg?sz=128", "display_name": "WebMaster", "link": "https://stackoverflow.com/users/11070708/webmaster"}, "edited": false, "score": 0, "creation_date": 1550662853, "post_id": 54784954, "comment_id": 96349356, "body": "My issue is that my control is not getting value from my model class"}], "tags": [], "owner": {"reputation": 5367, "user_id": 11011793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p7CT.jpg?s=128&g=1", "display_name": "MoxxiManagarm", "link": "https://stackoverflow.com/users/11011793/moxximanagarm"}, "is_accepted": false, "score": 0, "last_activity_date": 1550661116, "creation_date": 1550661116, "answer_id": 54784954, "question_id": 54784420, "link": "https://stackoverflow.com/questions/54784420/my-control-is-not-getting-value-from-model-class-angular-6-ts/54784954#54784954", "title": "My Control is not getting value from Model class Angular 6 TS", "body": "<p>This in callback functions is not necessarily the same. try</p>\n\n<pre><code>updateFinancialDetailsbyCompID(CompanyID: number){\n  let self = this;\n  self.companyFinancialDetailsService.GetAllbyCompID(CompanyID).subscribe(\n    res =&gt; {\n      self.objCompanyFinancialDetails = res;\n      console.log(self.objCompanyFinancialDetails);\n    }\n  );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 11070708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WF7sydKd4Cc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMSAyNPNuJ7XHDfUExCBxT8jTFVGw/mo/photo.jpg?sz=128", "display_name": "WebMaster", "link": "https://stackoverflow.com/users/11070708/webmaster"}, "edited": false, "score": 0, "creation_date": 1550662846, "post_id": 54785053, "comment_id": 96349352, "body": "My issue is that my control is not getting value from my model class"}, {"owner": {"reputation": 429, "user_id": 3242379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E33s3.jpg?s=128&g=1", "display_name": "Emre HIZLI", "link": "https://stackoverflow.com/users/3242379/emre-hizli"}, "reply_to_user": {"reputation": 139, "user_id": 11070708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WF7sydKd4Cc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMSAyNPNuJ7XHDfUExCBxT8jTFVGw/mo/photo.jpg?sz=128", "display_name": "WebMaster", "link": "https://stackoverflow.com/users/11070708/webmaster"}, "edited": false, "score": 0, "creation_date": 1550663484, "post_id": 54785053, "comment_id": 96349697, "body": "this problem is due to javascript&#39;s mutable immutable states. if u want use ngmodel you change your model immutability. you can use lodash. _.assign(this.objCompanyFinancialDetails, res)"}, {"owner": {"reputation": 429, "user_id": 3242379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E33s3.jpg?s=128&g=1", "display_name": "Emre HIZLI", "link": "https://stackoverflow.com/users/3242379/emre-hizli"}, "reply_to_user": {"reputation": 139, "user_id": 11070708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WF7sydKd4Cc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMSAyNPNuJ7XHDfUExCBxT8jTFVGw/mo/photo.jpg?sz=128", "display_name": "WebMaster", "link": "https://stackoverflow.com/users/11070708/webmaster"}, "edited": false, "score": 0, "creation_date": 1550664491, "post_id": 54785053, "comment_id": 96350319, "body": "Firstly, install lodash from npm; &gt; npm i lodash   Import lodash your own component; &gt; import * as _ from &#39;lodash&#39;  and change your code like this;   this.objCompanyFinancialDetails = res;  change to    _.assign(this.objCompanyFinancialDetails, res);"}], "tags": [], "owner": {"reputation": 429, "user_id": 3242379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E33s3.jpg?s=128&g=1", "display_name": "Emre HIZLI", "link": "https://stackoverflow.com/users/3242379/emre-hizli"}, "is_accepted": false, "score": 0, "last_activity_date": 1550661764, "last_edit_date": 1550661764, "creation_date": 1550661447, "answer_id": 54785053, "question_id": 54784420, "link": "https://stackoverflow.com/questions/54784420/my-control-is-not-getting-value-from-model-class-angular-6-ts/54785053#54785053", "title": "My Control is not getting value from Model class Angular 6 TS", "body": "<p>You can use FormGroup via FormBuilder. for an example;</p>\n\n<pre><code>testForm: FormGroup;\n\nconstructor(private _formBuilder: FormBuilder, private _demoService: DemoService) {\n\n    this.testForm = this.createForm();\n\n}\n\nprivate createForm(): FormGroup { \n     return this._formBuilder.group({\n           Name: [null, Validators.required],\n           Lastname: [null, Validators.requider]\n     });\n}\n\nupdateForm(): void {\n\n      this._demoService.getFormValues().subscribe((response) =&gt; {\n\n           this.testForm.controls['Name'].setValue(response.Name);\n           this.testForm.controls['Lastname'].setValue(response.Lastname);\n\n      });\n\n}\n</code></pre>\n\n<p>here is html template;</p>\n\n<pre><code>&lt;form name=\"testForm\"   [formGroup]=\"testForm\"&gt;\n\n    &lt;mat-form-field&gt;\n            &lt;mat-label&gt;Name&lt;/mat-label&gt;\n            &lt;input  type=\"text\"\n                    matInput\n            formControlName=\"Name\"&gt;\n    &lt;/mat-form-field&gt;\n\n    &lt;mat-form-field&gt;\n            &lt;mat-label&gt;Lastname&lt;/mat-label&gt;\n            &lt;input  type=\"text\"\n                    matInput\n            formControlName=\"Lastname\"&gt;\n    &lt;/mat-form-field&gt;\n\n&lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 11070708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WF7sydKd4Cc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMSAyNPNuJ7XHDfUExCBxT8jTFVGw/mo/photo.jpg?sz=128", "display_name": "WebMaster", "link": "https://stackoverflow.com/users/11070708/webmaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550661764, "creation_date": 1550659462, "question_id": 54784420, "link": "https://stackoverflow.com/questions/54784420/my-control-is-not-getting-value-from-model-class-angular-6-ts", "title": "My Control is not getting value from Model class Angular 6 TS", "body": "<p>I'm passing data to my model class when user click on button. Data is going to model class correctly when I console it so it shows me all fields with values but the issue is my input fields is not getting that values, Fields are empty. Kindly share any solution for it. \nThe value are correct in my console but input fields are not getting them.</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;form #form2=\"ngForm\"&gt;\n                &lt;div class=\"row\"&gt;\n                  &lt;input type=\"hidden\" name=\"ID\" #ID=\"ngModel\" [(ngModel)]=\"objCompanyFinancialDetails.ID\"\n                    class=\"form-control\" /&gt;\n                  &lt;div class=\"col-md-4\"&gt;\n                    &lt;div class=\"form-group\"&gt;\n                      &lt;label&gt;Conversation Date Year&lt;/label&gt;\n                      &lt;mat-select placeholder=\"Please Select\" name=\"FDConversationDateYear\" class=\"form-control\" #FDConversationDateYear=\"ngModel\"\n                      [(ngModel)]=\"objCompanyFinancialDetails.FDConversationDateYear\"&gt;\n                      &lt;mat-option value=\"2019\"&gt;2019&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2018\"&gt;2018&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2017\"&gt;2017&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2016\"&gt;2016&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2015\"&gt;2015&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2014\"&gt;2014&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2013\"&gt;2013&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2012\"&gt;2012&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2011\"&gt;2011&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2010\"&gt;2010&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2009\"&gt;2009&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2008\"&gt;2008&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2007\"&gt;2007&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2006\"&gt;2006&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2005\"&gt;2005&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2004\"&gt;2004&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2003\"&gt;2003&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2002\"&gt;2002&lt;/mat-option&gt;\n                    &lt;/mat-select&gt;\n                      &lt;!-- &lt;input name=\"FDConversationDateYear\" class=\"form-control\" #FDConversationDateYear=\"ngModel\"\n                        [(ngModel)]=\"objCompanyFinancialDetails.FDConversationDateYear\" /&gt;\n                      &lt;div class=\"validation-error\" *ngIf=\"FDConversationDateYear.invalid &amp;&amp; FDConversationDateYear.touched\"&gt;This field is required.&lt;/div&gt;  --&gt;\n\n                      &lt;!-- &lt;div class=\"datepicker-cover\"&gt;\n                      &lt;input class=\"form-control\"  [matDatepicker]=\"dp\" placeholder=\"Month and Year\" [formControl]=\"date\" required&gt;\n                        &lt;mat-datepicker-toggle class=\"datepicker-toggler\" matSuffix [for]=\"dp\"&gt;&lt;/mat-datepicker-toggle&gt;\n                        &lt;mat-datepicker #dp\n                                        startView=\"multi-year\"\n                                        (yearSelected)=\"chosenYearHandler($event, dp)\"\n                                        panelClass=\"example-month-picker\"&gt;\n                        &lt;/mat-datepicker&gt;\n                      &lt;/div&gt; --&gt;\n                      &lt;!-- K&lt;div class=\"validation-error\" *ngIf=\"FDConversationDateYear.invalid &amp;&amp; FDConversationDateYear.touched\"&gt;This field is required.&lt;/div&gt;  --&gt;\n                    &lt;/div&gt;\n                  &lt;/div&gt; \n\n                  &lt;div class=\"col-md-4\"&gt;\n                    &lt;div class=\"form-group\"&gt;\n                      &lt;label&gt;Conversion Date Month&lt;/label&gt;\n                      &lt;mat-select placeholder=\"Please Select\" name=\"FD_Conversion_Date_Month\" class=\"form-control\" #FD_Conversion_Date_Month=\"ngModel\"\n                      [(ngModel)]=\"objCompanyFinancialDetails.FD_Conversion_Date_Month\"&gt;\n                      &lt;mat-option value=\"1\"&gt;January&lt;/mat-option&gt;\n                      &lt;mat-option value=\"2\"&gt;Febuary&lt;/mat-option&gt;\n                      &lt;mat-option value=\"3\"&gt;March&lt;/mat-option&gt;\n                      &lt;mat-option value=\"4\"&gt;April&lt;/mat-option&gt;\n                      &lt;mat-option value=\"5\"&gt;May&lt;/mat-option&gt;\n                      &lt;mat-option value=\"6\"&gt;June&lt;/mat-option&gt;\n                      &lt;mat-option value=\"7\"&gt;July&lt;/mat-option&gt;\n                      &lt;mat-option value=\"8\"&gt;August&lt;/mat-option&gt;\n                      &lt;mat-option value=\"9\"&gt;September&lt;/mat-option&gt;\n                      &lt;mat-option value=\"10\"&gt;October&lt;/mat-option&gt;\n                      &lt;mat-option value=\"11\"&gt;November&lt;/mat-option&gt;\n                      &lt;mat-option value=\"12\"&gt;December&lt;/mat-option&gt;\n                    &lt;/mat-select&gt;\n                      &lt;!-- &lt;input name=\"FD_Conversion_Date_Month\" class=\"form-control\" #FD_Conversion_Date_Month=\"ngModel\"\n                        [(ngModel)]=\"objCompanyFinancialDetails.FD_Conversion_Date_Month\" /&gt; --&gt;\n\n                       &lt;!-- &lt;div class=\"validation-error\" *ngIf=\"FD_Conversion_Date_Month.invalid &amp;&amp; FD_Conversion_Date_Month.touched\"&gt;This field is required.&lt;/div&gt;  --&gt;\n                    &lt;/div&gt;\n                  &lt;/div&gt;\n                  &lt;div class=\"col-md-4\"&gt;\n                    &lt;div class=\"form-group\"&gt;\n                      &lt;label&gt;Financials Year End Date&lt;/label&gt;\n                        &lt;div class=\"datepicker-cover\"&gt;\n                          &lt;input name=\"FD_Financials_year_end_date\" #FD_Financials_year_end_date=\"ngModel\"\n                        [(ngModel)]=\"objCompanyFinancialDetails.FD_Financials_year_end_date\" class=\"form-control\"\n                        required [matDatepicker]=\"picker2\"/&gt;\n                            &lt;mat-datepicker-toggle class=\"datepicker-toggler\" [for]=\"picker2\"&gt;&lt;/mat-datepicker-toggle&gt;\n                            &lt;mat-datepicker #picker2&gt;&lt;/mat-datepicker&gt;\n                          &lt;/div&gt;\n                      &lt;!-- &lt;div class=\"validation-error\" *ngIf=\"FD_Financials_year_end_date.invalid &amp;&amp; FD_Financials_year_end_date.touched\"&gt;This field is required.&lt;/div&gt; --&gt;\n                    &lt;/div&gt;\n                  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Component.ts <code>//Method for getting ID onclick</code></p>\n\n<pre><code>updateFinancialDetailsbyCompID(CompanyID: number){\n    this.companyFinancialDetailsService.GetAllbyCompID(CompanyID).subscribe(res =&gt; {\n      this.objCompanyFinancialDetails = res;\n      console.log(this.objCompanyFinancialDetails);\n    });;\n  }\n</code></pre>\n\n<p>onclick method </p>\n\n<pre><code>populateItem(element) {\n    this.updateFinancialDetailsbyCompID(element.ID);\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550659505, "post_id": 54784378, "comment_id": 96347297, "body": "Create a service, that will hold the number of modals. Your directive will have access to this service, and on click on the Esc key, will close the last opened modal. Apart from that, it&#39;s usually a bad idea to stack up the modals, maybe you should tackle this issue instead."}, {"owner": {"reputation": 1170, "user_id": 6848923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1181f52e611d02616d9beee2197eac5?s=128&d=identicon&r=PG&f=1", "display_name": "Gourav Pokharkar", "link": "https://stackoverflow.com/users/6848923/gourav-pokharkar"}, "edited": false, "score": 0, "creation_date": 1550659653, "post_id": 54784378, "comment_id": 96347407, "body": "There is a need to have a confirmation modal on one of the main modal for deletion. Will you please provide a code snippet for the service?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550659680, "post_id": 54784378, "comment_id": 96347427, "body": "Then close the first modal and open the second one. On it for the example."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 3, "last_activity_date": 1550659838, "creation_date": 1550659838, "answer_id": 54784543, "question_id": 54784378, "link": "https://stackoverflow.com/questions/54784378/allow-angular-directive-to-execute-on-single-element-at-a-time/54784543#54784543", "title": "Allow Angular directive to execute on single element at a time", "body": "<p>Create a service that will be your source of truth : </p>\n\n<pre><code>export class ModalService {\n  modals = [];\n\n  openModal() {\n   // Code to open a modal, then\n   this.modals.push(modalRef);\n  }\n\n  closeLastModal() {\n    const lastModal = this.modals.pop();\n    lastModal.close();\n  }\n}\n</code></pre>\n\n<p>Your directive would then look like</p>\n\n<pre><code>export class ModalDirective {\n  constructor(private service: ModalService) {\n\n  }\n\n  @HostListener('window:keypress.escape', [$event])\n  closeModal(event) {\n    this.service.closeLastModal();\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1170, "user_id": 6848923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1181f52e611d02616d9beee2197eac5?s=128&d=identicon&r=PG&f=1", "display_name": "Gourav Pokharkar", "link": "https://stackoverflow.com/users/6848923/gourav-pokharkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 54784543, "answer_count": 1, "score": 0, "last_activity_date": 1550659845, "creation_date": 1550659354, "last_edit_date": 1550659845, "question_id": 54784378, "link": "https://stackoverflow.com/questions/54784378/allow-angular-directive-to-execute-on-single-element-at-a-time", "title": "Allow Angular directive to execute on single element at a time", "body": "<p>I have created a directive to close a modal on pressing <code>Esc</code> button. But, when I have 2 overlaying modals, and I press <code>Esc</code>. My both modals are getting closed. Ideally, only topmost (say Confirmation modal) modal should have been closed. Is it possible to execute directive on a single element at a time.</p>\n\n<p>Below is the code snippet of directive:</p>\n\n<pre><code>import {Directive, HostListener, Input} from '@angular/core';\n\n@Directive({\n  selector: '[appModal]',\n})\nexport class ModalOperationsDirective {\n  @Input() appModal;\n  count: number = 0;\n\n  @HostListener('document:keyup', ['$event']) handleKeyUp(event) {\n    if (event.keyCode === 27) {\n      this.appModal.close();\n    }\n  }\n}\n</code></pre>\n\n<p>P.S.: I'm using <a href=\"https://www.npmjs.com/package/ng2-bootstrap-modal\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ng2-bootstrap-modal</a> library for modals.</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 174, "user_id": 8018586, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154877621308509/picture?type=large", "display_name": "Kutlu Ozel", "link": "https://stackoverflow.com/users/8018586/kutlu-ozel"}, "is_accepted": false, "score": -1, "last_activity_date": 1550659653, "creation_date": 1550659653, "answer_id": 54784492, "question_id": 54784336, "link": "https://stackoverflow.com/questions/54784336/angular-6-a-global-check-validation-for-all-inputs-of-type-text/54784492#54784492", "title": "Angular 6 - A Global Check/Validation for all inputs of type Text", "body": "<p>Make a new component that accepts a string as an input, and belonging html contains only input tag. </p>\n\n<p>use regular expression to validate. </p>\n\n<p>If you do not want to use a new component then you may use a filter like </p>\n\n<pre><code>   export class aFilter implements PipeTransform {\n        transform(items: any[], aFilter: any, renkFilter:number): any {\n\n\n            if ( \"your regular expression comes here\" ) {\n\n                return false;\n\n            }\nelse return true;\n\n}\n</code></pre>\n\n<p>in html </p>\n\n<pre><code>&lt;input&gt; {{variable | aFilter  : yourinputvariable }} &lt;/input&gt;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8097463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a0156837335847ab225d039bad93b30?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Eskandar", "link": "https://stackoverflow.com/users/8097463/peter-eskandar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550659653, "creation_date": 1550659220, "question_id": 54784336, "link": "https://stackoverflow.com/questions/54784336/angular-6-a-global-check-validation-for-all-inputs-of-type-text", "title": "Angular 6 - A Global Check/Validation for all inputs of type Text", "body": "<p>I am working on an application using Angular 6.\nI am looking for a way to add a global control/Validation for all inputs of type text not to accept specific special characters.\nis there a way to apply this check globally for all app inputs of type text or I have to make a directive and it to all inputs ?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1550659211, "post_id": 54784218, "comment_id": 96347099, "body": "Your two parameters have strictly different types; <code>&#39;1&#39; === 1</code> is always false, for example. If they could be the same type, you need to express that in the function signature."}], "answers": [{"tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": true, "score": 2, "last_activity_date": 1550659433, "creation_date": 1550659433, "answer_id": 54784408, "question_id": 54784218, "link": "https://stackoverflow.com/questions/54784218/why-typescript-doesnt-allow-to-check-equality-of-two-generic-varaibles/54784408#54784408", "title": "Why typescript doesn&#39;t allow to check equality of two generic varaibles?", "body": "<p>The answer is in the message itself. In your case, T and U have no overlap because they represent two different types. TypeScript purpose is to help you to prevent those cases.</p>\n\n<p>So it would work if you tell the compiler that y could be possible to be x. Like</p>\n\n<pre><code>function f1&lt;T, U&gt;(x: T, y: U | T) {\n    return x === y;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>\nfunction f1&lt;T, U extends T&gt;(x: T, y: U) {\n    return x === y;\n}\n</code></pre>\n"}], "owner": {"reputation": 10523, "user_id": 806963, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gSzvm.jpg?s=128&g=1", "display_name": "Stav Alfi", "link": "https://stackoverflow.com/users/806963/stav-alfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 54784408, "answer_count": 1, "score": -1, "last_activity_date": 1550659433, "creation_date": 1550658838, "question_id": 54784218, "link": "https://stackoverflow.com/questions/54784218/why-typescript-doesnt-allow-to-check-equality-of-two-generic-varaibles", "title": "Why typescript doesn&#39;t allow to check equality of two generic varaibles?", "body": "<pre><code>function f1&lt;T, U&gt;(x: T, y: U) {\n  return x === y\n}\n</code></pre>\n\n<p>Why does Typescript complain? I'm not sure I fully understand what does the compilation error message means.</p>\n\n<p>Compilation error:</p>\n\n<blockquote>\n  <p>TS2367: This condition will always return 'false' since the types 'T' and 'U' have no overlap.</p>\n</blockquote>\n"}, {"tags": ["typescript", "visual-studio-code", "refactoring"], "comments": [{"owner": {"reputation": 554, "user_id": 3502743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgYpc.jpg?s=128&g=1", "display_name": "Kip", "link": "https://stackoverflow.com/users/3502743/kip"}, "edited": false, "score": 0, "creation_date": 1574776037, "post_id": 54783893, "comment_id": 104344668, "body": "I have the same error you do, but I wanted to point out in case you didn&#39;t notice, you can still do certain &quot;refactoring&quot; activities, such as Rename Symbol (F2) to rename a variable."}], "owner": {"reputation": 359, "user_id": 764167, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dBhsz.gif?s=128&g=1", "display_name": "MaxAxeHax", "link": "https://stackoverflow.com/users/764167/maxaxehax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550657932, "creation_date": 1550657932, "question_id": 54783893, "link": "https://stackoverflow.com/questions/54783893/no-refactorings-available-for-typescript-files", "title": "No refactorings available for Typescript files", "body": "<p>For some reason, although it's supposed to be bundled into VSCode, I <em>always</em> see the message \"No refactorings available\" when I select some code in a Typescript file and trigger the \"Refactor...\" command.</p>\n\n<p>This happens both using the hotkey (Ctrl+Shift+R) and using the context menu (right click on selection, choose \"Refactor\"...).</p>\n\n<p>How could I go about about diagnosing this issue?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "edited": false, "score": 1, "creation_date": 1550660932, "post_id": 54784064, "comment_id": 96348210, "body": "You should probably combine the two arrays to one. Havingtwo arrays that are <b>required</b> to match their order is not a good pattern."}, {"owner": {"reputation": 3518, "user_id": 4959547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIjar.png?s=128&g=1", "display_name": "molamk", "link": "https://stackoverflow.com/users/4959547/molamk"}, "edited": false, "score": 1, "creation_date": 1550661676, "post_id": 54784064, "comment_id": 96348695, "body": "Yes that&#39;s the <b>right way to do it</b> even if this works. I included a link to your answer instead of editing mine because then it will be exactly like yours (which you thought of first)"}], "tags": [], "owner": {"reputation": 3518, "user_id": 4959547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIjar.png?s=128&g=1", "display_name": "molamk", "link": "https://stackoverflow.com/users/4959547/molamk"}, "is_accepted": true, "score": 2, "last_activity_date": 1550661484, "last_edit_date": 1550661484, "creation_date": 1550658438, "answer_id": 54784064, "question_id": 54783875, "link": "https://stackoverflow.com/questions/54783875/more-efficient-way-of-writing-multiple-react-components/54784064#54784064", "title": "More efficient way of writing multiple React components?", "body": "<ol>\n<li>Create an array containing your numbers in <code>string</code> format</li>\n<li>Create another array that will hold your <code>Step1, Step2, ...</code> <strong>variables</strong></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">Map</a> those items into <code>&lt;Item&gt;</code> Components based on the <code>current string</code> and its <code>index</code> in the previously described array</li>\n</ol>\n\n<hr>\n\n<p>You'll have something that looks like this</p>\n\n<pre><code>const numbers = ['one', 'two', 'three'];\nconst steps = [Step1, Step2, Step3];     // These need to be defined before\n\nreturn (\n  &lt;div&gt;\n    {numbers.map((s, i) =&gt; (\n      &lt;Item key={i} classModifier='step' image={steps[i]} heading={Copy[s].heading}&gt;\n    ))}\n  &lt;/div&gt;\n);\n</code></pre>\n\n<h1>Edit</h1>\n\n<ul>\n<li>This <strong>requires</strong> that your two arrays are sorted in the same order. Otherwise it will fail to match the steps with their correspondant number</li>\n<li>To avoid that you should put objects instead of raw strings in your array. <strong><a href=\"https://stackoverflow.com/questions/54783875/more-efficient-way-of-writing-multiple-react-components/54784070#54784070\">Check out Gabriele's answer for a more robust &amp; maintainable implementation</a></strong></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "is_accepted": false, "score": 2, "last_activity_date": 1550658462, "creation_date": 1550658462, "answer_id": 54784070, "question_id": 54783875, "link": "https://stackoverflow.com/questions/54783875/more-efficient-way-of-writing-multiple-react-components/54784070#54784070", "title": "More efficient way of writing multiple React components?", "body": "<p>You could create an array and map over it returning the Components</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>render(){\r\n    const Items = [\r\n      {step:Step1, heading: Copy.one.heading},\r\n      {step:Step2, heading: Copy.two.heading},\r\n      {step:Step3, heading: Copy.three.heading}\r\n    ]\r\n\r\n   \r\n    return Items.map(({step, heading},index)=&gt;&lt;Item \r\n      key={index}\r\n      classModifier=\"step\"\r\n      image={step}\r\n      heading={heading}\r\n    /&gt;)\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>The index used for the <code>key</code> prop is usually an anti-pattern although in this case where the array is manually build it should not pose any issues.<br>\nAlso, I do not know more about where <code>Step1</code> and <code>Copy</code> are coming and their format, so i just manually built the array. Perhaps the format you have allows you to directly map over some list and have access to that info.</p>\n"}, {"tags": [], "owner": {"reputation": 1207, "user_id": 1501643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iYmYd.jpg?s=128&g=1", "display_name": "henrik123", "link": "https://stackoverflow.com/users/1501643/henrik123"}, "is_accepted": false, "score": 0, "last_activity_date": 1550658583, "creation_date": 1550658583, "answer_id": 54784110, "question_id": 54783875, "link": "https://stackoverflow.com/questions/54783875/more-efficient-way-of-writing-multiple-react-components/54784110#54784110", "title": "More efficient way of writing multiple React components?", "body": "<p>Without know exactly how the data is structured or if you can edit the structure, a common pattern is to use map().</p>\n\n<pre><code>render(){\n   const data = [\n      {\n         image: \"a.jpg\",\n         heading: \"A\",\n         key: 0\n      }, \n      {\n         image: \"b.jpg\",\n         heading: \"B\",\n         key: 1\n      }\n   ];\n   const someComponents = data.map(d =&gt; (\n      &lt;Item key={d.key} classModifier=\"step\" image={d.image} /&gt;\n   ));\n   return (\n      &lt;div&gt;{someComponents}&lt;/div&gt;\n   )\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1395, "user_id": 9428471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e2965d1071bfce36bd94a0405a2fca0?s=128&d=identicon&r=PG&f=1", "display_name": "wang", "link": "https://stackoverflow.com/users/9428471/wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1550658663, "creation_date": 1550658663, "answer_id": 54784146, "question_id": 54783875, "link": "https://stackoverflow.com/questions/54783875/more-efficient-way-of-writing-multiple-react-components/54784146#54784146", "title": "More efficient way of writing multiple React components?", "body": "<p>separate data and view. and render view by iterating data.</p>\n\n<pre><code>data = [\n    { image: Step1, heading: Copy.one.heading },\n    { image: Step2, heading: Copy.two.heading },\n    { image: Step3, heading: Copy.three.heading },\n]\ndata.map((obj, index) =&gt; {\n    return &lt;Item\n        key={index}\n        classModifier=\"step\"\n        image={obj.index}\n        heading={obj.heading}\n    /&gt;\n})\n</code></pre>\n"}], "owner": {"reputation": 9337, "user_id": 766532, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/277034df7d9c9912e9d1c4d8e9101b4f?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/766532/liam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 2, "accepted_answer_id": 54784064, "answer_count": 4, "score": 2, "last_activity_date": 1550661484, "creation_date": 1550657864, "question_id": 54783875, "link": "https://stackoverflow.com/questions/54783875/more-efficient-way-of-writing-multiple-react-components", "title": "More efficient way of writing multiple React components?", "body": "<p>I have a page where I render 8 components, the only thing different is an the values iterates...</p>\n\n<pre><code>&lt;Item\n  classModifier=\"step\"\n  image={Step1}\n  heading={Copy.one.heading}\n /&gt;\n &lt;Item\n  classModifier=\"step\"\n  image={Step2}\n  heading={Copy.two.heading}\n /&gt;\n &lt;Item\n  classModifier=\"step\"\n  image={Step3}\n  heading={Copy.three.heading}\n /&gt;\n</code></pre>\n\n<p>The above works, but is there a more efficient way of writing this? I'm aware this probably doesn't adhere to DRY methodology!</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ecmascript-6", "types"], "answers": [{"tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": true, "score": 6, "last_activity_date": 1550658429, "creation_date": 1550658429, "answer_id": 54784062, "question_id": 54783783, "link": "https://stackoverflow.com/questions/54783783/type-usestate-setter-in-child-component/54784062#54784062", "title": "type useState setter in child component", "body": "<p>You can specify that the <code>setCount</code> prop function expects a number as first argument and the error will go away.</p>\n\n<pre><code>type Props = {\n  count: number;\n  setCount: (num: number) =&gt; void;\n}\n</code></pre>\n"}], "owner": {"reputation": 5940, "user_id": 4756106, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c6fb8e412e1f802fde077ee236379829?s=128&d=identicon&r=PG&f=1", "display_name": "peter flanagan", "link": "https://stackoverflow.com/users/4756106/peter-flanagan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1514, "favorite_count": 0, "accepted_answer_id": 54784062, "answer_count": 1, "score": 3, "last_activity_date": 1550658429, "creation_date": 1550657547, "last_edit_date": 1550657744, "question_id": 54783783, "link": "https://stackoverflow.com/questions/54783783/type-usestate-setter-in-child-component", "title": "type useState setter in child component", "body": "<p>I am trying to pass a <code>useState</code> setter to a child component, but unsure how to type this.</p>\n\n<pre><code>const Parent = () =&gt; {\n   const [count, setCount] = useState(0);\n   return(\n     Child count={count} setCount={setCount} /&gt;\n   );\n}\n</code></pre>\n\n<p>Then in the <code>Child</code> component I am trying to type the setter but I am seeing the following error.</p>\n\n<blockquote>\n  <p>Type 'Dispatch&lt; SetStateAction&lt; string[] > >'is not assignable to type '() => void'. </p>\n</blockquote>\n\n<p>My code looks like this</p>\n\n<pre><code>type Props = {\n  count: number;\n  // the issue is the line below\n  setCount: () =&gt; void;\n}\n\nconst Child = ({ count, setCount }: Props) =&gt; {\n    .... code here\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1550656936, "creation_date": 1550656936, "answer_id": 54783594, "question_id": 54783467, "link": "https://stackoverflow.com/questions/54783467/how-to-remove-dynamic-key-from-a-predefined-base-class-in-typescript/54783594#54783594", "title": "how to remove dynamic key from a predefined base class in typescript?", "body": "<p>You can't unfortunately get the keys in the non-dynamic part of a type. <code>keyof</code> will always return <code>string</code> for <code>Base</code>. However, we can use <code>Pick</code> to get the properties of the non-dynamic keys. If you don't mind spelling out all the keys (and I realize that is a big if) you can do the following:</p>\n\n<pre><code>export declare class Base {\n    [k: string]: any;\n    foo(): number;\n    bar(): number;\n};\n\nconst SafeBase = Base as (new () =&gt; Pick&lt;Base, 'foo' | 'bar'&gt;)\nclass Child extends SafeBase {\n    // remove all dynamic keys\n    // well dont actually delete it, just make it non-accessible from my ts-code.\n    bzx(): number { return 3; }\n}\n\nconst b = new Child();\nb.foo() // OK;\nb.bzx() // OK;\nb.baz() // not allowed;\n</code></pre>\n"}], "owner": {"reputation": 264, "user_id": 1815964, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/4ePsM.jpg?s=128&g=1", "display_name": "Ramadoka", "link": "https://stackoverflow.com/users/1815964/ramadoka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 54783594, "answer_count": 1, "score": 2, "last_activity_date": 1552725812, "creation_date": 1550656608, "last_edit_date": 1552725812, "question_id": 54783467, "link": "https://stackoverflow.com/questions/54783467/how-to-remove-dynamic-key-from-a-predefined-base-class-in-typescript", "title": "how to remove dynamic key from a predefined base class in typescript?", "body": "<p>suppose I have my 3rd party base class like the following example:</p>\n\n<pre><code>export class Base {\n    [k: string]: any;\n    foo(): number;\n    bar(): number;\n};\n</code></pre>\n\n<p>which then I'll need to inherit from, but I dont want a dynamic key in my object, is it possible?</p>\n\n<p>e.g, I want to be able to type-safely do something like:</p>\n\n<pre><code>class Child extends Base {\n    // remove all dynamic keys\n    // well dont actually delete it, just make it non-accessible from my ts-code.\n    bzx(): number { return 3; }\n}\n\nconst b = new Child();\nb.foo() // OK;\nb.bzx() // OK;\nb.baz() // not allowed;\n</code></pre>\n\n<p>I have tried following the example for <code>FunctionProperties&lt;T&gt;</code> in <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html</a></p>\n\n<p>but it seems it failed again if <code>T</code> has <code>[k: string]:any</code>;</p>\n\n<p>resolved:\nso yeah, following the suggestion of the accepted answe,r in the end, I endup copying the whole d.ts of the base class, except the:\n<code>[k: string]: any</code></p>\n\n<p>and make it an interface instead of a class.</p>\n\n<p>so, yeah the idea, is, it goes like:</p>\n\n<pre><code>import { Base } from 'Base';\nimport { IBase } from 'my/own/custom/IBase.ts'\nclass Child extends (Base as (new () =&gt; IBase)){ ... }\n</code></pre>\n\n<p>well, I believe it is slightly better in actual code because mixins were involved, so it is something closer to:</p>\n\n<pre><code>function mix&lt;C extends IBase&gt;(base: Constructor&lt;IBase&gt;){ \n   return class extends base { .... }\n}\n\nclass Child extends mix(Base){ ... }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "unit-testing", "testing", "jasmine"], "comments": [{"owner": {"reputation": 775, "user_id": 2661253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dk3N3.png?s=128&g=1", "display_name": "Zak", "link": "https://stackoverflow.com/users/2661253/zak"}, "edited": false, "score": 1, "creation_date": 1550656758, "post_id": 54783445, "comment_id": 96345417, "body": "Dup : <a href=\"https://stackoverflow.com/questions/35987055/how-to-write-unit-testing-for-angular-2-typescript-for-private-methods-with-ja\" title=\"how to write unit testing for angular 2 typescript for private methods with ja\">stackoverflow.com/questions/35987055/&hellip;</a>"}, {"owner": {"reputation": 940, "user_id": 1195028, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iSGVt.jpg?s=128&g=1", "display_name": "Normunds Kalnberzins", "link": "https://stackoverflow.com/users/1195028/normunds-kalnberzins"}, "edited": false, "score": 0, "creation_date": 1550657142, "post_id": 54783445, "comment_id": 96345684, "body": "frankly @trichetriche the link you claim to be a duplicate answers the question in a sense of testing. However if OP want to add a spy on them it does not show how."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 940, "user_id": 1195028, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iSGVt.jpg?s=128&g=1", "display_name": "Normunds Kalnberzins", "link": "https://stackoverflow.com/users/1195028/normunds-kalnberzins"}, "edited": false, "score": 0, "creation_date": 1550657286, "post_id": 54783445, "comment_id": 96345784, "body": "@NormundsKalnberzins I&#39;ve undeleted my answer so that he can see it, it should be enough."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 940, "user_id": 1195028, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iSGVt.jpg?s=128&g=1", "display_name": "Normunds Kalnberzins", "link": "https://stackoverflow.com/users/1195028/normunds-kalnberzins"}, "edited": false, "score": 0, "creation_date": 1550657374, "post_id": 54783445, "comment_id": 96345840, "body": "@NormundsKalnberzins by the way, the duplicate do explain how to access private members of the class."}], "answers": [{"comments": [{"owner": {"reputation": 940, "user_id": 1195028, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iSGVt.jpg?s=128&g=1", "display_name": "Normunds Kalnberzins", "link": "https://stackoverflow.com/users/1195028/normunds-kalnberzins"}, "edited": false, "score": 0, "creation_date": 1550658033, "post_id": 54783518, "comment_id": 96346283, "body": "it&#39;s true, &quot;should not be tested&quot;. I assume it&#39;s a sin, but I&#39;ve used spies on private methods (like you describe) to mock up a state (say use return value) or verify that certain action has been taken without need to create any more complicated environment these private methods might interact with."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 940, "user_id": 1195028, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iSGVt.jpg?s=128&g=1", "display_name": "Normunds Kalnberzins", "link": "https://stackoverflow.com/users/1195028/normunds-kalnberzins"}, "edited": false, "score": 0, "creation_date": 1550658213, "post_id": 54783518, "comment_id": 96346410, "body": "@NormundsKalnberzins instead of mocking the private methods, you should mock the providers (<code>HttpClient</code> most of the times) and leave your private methods as is. I&#39;m talking about best practice here, I&#39;m not forcing you to do it, you do what you want. I&#39;m just telling you what a clean and easy to maintain code looks like."}, {"owner": {"reputation": 940, "user_id": 1195028, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iSGVt.jpg?s=128&g=1", "display_name": "Normunds Kalnberzins", "link": "https://stackoverflow.com/users/1195028/normunds-kalnberzins"}, "edited": false, "score": 0, "creation_date": 1550658784, "post_id": 54783518, "comment_id": 96346810, "body": "well requests to HttpClient is the easy one since we have HttpTestController. Otherwise mocking external dependency used by a private method or spying on a private method to override is a matter of syntax/looks not substance"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 940, "user_id": 1195028, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iSGVt.jpg?s=128&g=1", "display_name": "Normunds Kalnberzins", "link": "https://stackoverflow.com/users/1195028/normunds-kalnberzins"}, "edited": false, "score": 0, "creation_date": 1550659076, "post_id": 54783518, "comment_id": 96347018, "body": "@NormundsKalnberzins it is a matter of substance. Mocking the methods implies that on the slightest change, you have to remock your spies. Mocking the dependency means that if the slightest change occurs, you just have to edit the dependency, and changes would be repercuted all over the tests. Again, I&#39;m not telling you how to code, I&#39;m merely explaining best practices. There&#39;s reasons for them being best practices, no matter your arguments, you can&#39;t go against them."}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1550663038, "post_id": 54783518, "comment_id": 96349461, "body": "The problem is that my private methods cannot become public and are interconnected."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1550663089, "post_id": 54783518, "comment_id": 96349496, "body": "@Sergey then it&#39;s either a bad design, or as said before, an implementation detail. But at least now you know how to bypass linting errors !"}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1561460220, "post_id": 54783518, "comment_id": 100062481, "body": "&quot;Only testing public methods&quot; doesn&#39;t really apply for directives which lacks a public API but only performs some things without a testable end result in the class itself."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1561460429, "post_id": 54783518, "comment_id": 100062615, "body": "@Chrillewoodz they lack a public API because you chose to, not by design. You can totally test a directive with only its public properties if you have implemented them."}, {"owner": {"reputation": 3069, "user_id": 1394981, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8bc6f5d86a2a8d7ed90dea48ca7c67e2?s=128&d=identicon&r=PG", "display_name": "Matt Westlake", "link": "https://stackoverflow.com/users/1394981/matt-westlake"}, "edited": false, "score": 0, "creation_date": 1613786680, "post_id": 54783518, "comment_id": 117191953, "body": "How do you unit test individual calculations then?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 2, "last_activity_date": 1550656715, "creation_date": 1550656715, "answer_id": 54783518, "question_id": 54783445, "link": "https://stackoverflow.com/questions/54783445/angular-testing-private-methods/54783518#54783518", "title": "Angular testing private methods", "body": "<p>You can use <code>spyOn&lt;any&gt;(myService, 'privateMethod')</code> to bypass that. </p>\n\n<p>But if your methods are private, they shouldn't be tested, they should be implementation details. You should instead test the end result of your public functions.</p>\n"}], "owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5568, "favorite_count": 0, "closed_date": 1550656811, "accepted_answer_id": 54783518, "answer_count": 1, "score": -1, "last_activity_date": 1550656715, "creation_date": 1550656538, "question_id": 54783445, "link": "https://stackoverflow.com/questions/54783445/angular-testing-private-methods", "closed_reason": "Duplicate", "title": "Angular testing private methods", "body": "<p>I've built a kinda Queue manager which works with RxJs observables and executes them one by one. Now I want to test this, however all the methods that I want to test are private.</p>\n\n<p>Public interface has only two methods that create an observable and add it to the queue manager.</p>\n\n<p>If I try to make something like <code>spyOn(myService, 'privateMethod')</code> PhpStorm analysis says that it is not assignable to type (and refers to public methods).</p>\n\n<p>I can't extract this into something where these would become public because it's a complicated logic which should not be interrupted from the outside.</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms"], "answers": [{"tags": [], "owner": {"reputation": 1630, "user_id": 3096156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pAtsL.jpg?s=128&g=1", "display_name": "Julien Ambos", "link": "https://stackoverflow.com/users/3096156/julien-ambos"}, "is_accepted": false, "score": 2, "last_activity_date": 1550656328, "creation_date": 1550656328, "answer_id": 54783355, "question_id": 54783220, "link": "https://stackoverflow.com/questions/54783220/reset-angular-reactive-form-exclude-particular-field/54783355#54783355", "title": "Reset angular reactive form exclude particular field", "body": "<p>You can iterate over the controls of a <code>FormGroup</code>, and if the controls name matches the one in your exclude list, you don't reset it:</p>\n\n<pre><code>const exclude: string[] = ['formControlName1', 'formControlName2'];\n\nObject.keys(this.form.controls).forEach(key =&gt; {\n   if (exclude.findIndex(q =&gt; q === key) === -1) {\n       this.form.get(key).reset();\n   }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 2, "last_activity_date": 1550656548, "creation_date": 1550656548, "answer_id": 54783447, "question_id": 54783220, "link": "https://stackoverflow.com/questions/54783220/reset-angular-reactive-form-exclude-particular-field/54783447#54783447", "title": "Reset angular reactive form exclude particular field", "body": "<p>You can provide a reset value to the reset function. Simply give the value of your two fields to it, and the rest should be empty. </p>\n\n<pre><code>const resetValue = {};\n\nfor (const key of this.form.value) {\n  resetValue[key] = '';\n}\n\nresetValue.firstFieldToKeep = this.form.get('firstFieldToKeep').value;\nresetValue.secondFieldToKeep = this.form.get('secondFieldToKeep').value;\n\nthis.form.reset(resetValue);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 598, "user_id": 9958724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23bd2bafb668c74acede81fdcf29be1?s=128&d=identicon&r=PG&f=1", "display_name": "Roman \u0160im&#237;k", "link": "https://stackoverflow.com/users/9958724/roman-%c5%a0im%c3%adk"}, "is_accepted": false, "score": 4, "last_activity_date": 1550660673, "last_edit_date": 1550660673, "creation_date": 1550656685, "answer_id": 54783506, "question_id": 54783220, "link": "https://stackoverflow.com/questions/54783220/reset-angular-reactive-form-exclude-particular-field/54783506#54783506", "title": "Reset angular reactive form exclude particular field", "body": "<p>Just look at the <code>onReset()</code> method. This code will reset everything except the <code>name</code> and <code>description</code> fields</p>\n\n<pre><code>formGroup: FormGroup = /* init the formGroup... */\n\nonReset() {\n    this.formGroup.reset({\n        name: this.formGroup.get('email').value, \n        description: this.formGroup.get('description').value\n    });\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/example-angular-material-reactive-form-qk5u68\" rel=\"nofollow noreferrer\">Stackblitz repro</a></p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 9928900, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OG2nhGSW7ZA/AAAAAAAAAAI/AAAAAAAAAAA/SXutDhlx0Ro/photo.jpg?sz=128", "display_name": "Michal Vodicka", "link": "https://stackoverflow.com/users/9928900/michal-vodicka"}, "is_accepted": false, "score": 0, "last_activity_date": 1550656803, "creation_date": 1550656803, "answer_id": 54783546, "question_id": 54783220, "link": "https://stackoverflow.com/questions/54783220/reset-angular-reactive-form-exclude-particular-field/54783546#54783546", "title": "Reset angular reactive form exclude particular field", "body": "<p>I would keep those two inputs value, reset form and just patch those two again. </p>\n\n<pre><code>const keepValues = [\n   this.form.controls.keepThis1.value,\n   this.form.controls.keepThis2.value,\n];\nthis.form.reset();\nthis.form.controls.keepThis1.patchValue(keepValues[0]);\nthis.form.controls.keepThis2.patchValue(keepValues[1]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 648, "user_id": 8995178, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JlmaiLtG5fg/AAAAAAAAAAI/AAAAAAAABcg/B27MwlEfxI8/photo.jpg?sz=128", "display_name": "Sami Haroon", "link": "https://stackoverflow.com/users/8995178/sami-haroon"}, "is_accepted": false, "score": 0, "last_activity_date": 1550664190, "creation_date": 1550664190, "answer_id": 54785958, "question_id": 54783220, "link": "https://stackoverflow.com/questions/54783220/reset-angular-reactive-form-exclude-particular-field/54785958#54785958", "title": "Reset angular reactive form exclude particular field", "body": "<p>Hey make a function reset()\nand reset the <code>18</code> fields by using syntax like below.</p>\n\n<pre><code> resetForm(){\n\n    this.form.controls.formField1.reset(\"\");\n    this.form.controls.formField2.reset(\"\");\n    .\n    .\n    this.form.controls.formField18.reset(\"\");\n }\n</code></pre>\n\n<p>Thank You.</p>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 10527471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-il_w_2tHYME/AAAAAAAAAAI/AAAAAAAANQg/a41IbWZ-uOM/photo.jpg?sz=128", "display_name": "Samarth Saxena", "link": "https://stackoverflow.com/users/10527471/samarth-saxena"}, "is_accepted": false, "score": 1, "last_activity_date": 1591688288, "creation_date": 1591688288, "answer_id": 62277390, "question_id": 54783220, "link": "https://stackoverflow.com/questions/54783220/reset-angular-reactive-form-exclude-particular-field/62277390#62277390", "title": "Reset angular reactive form exclude particular field", "body": "<p>You can pass an object to the reset function with Key as the formControl and value as the value you would like the control to have on reset.</p>\n\n<pre><code>this.form.reset({\n  fomrControl1:value1,\n  formControl2:value2\n});\n</code></pre>\n\n<p>If you want to change the behavior of the field such as disabled or enabled, just pass in an Object instead of a value. For example:</p>\n\n<pre><code>this.form.reset({\n  fomrControl1:{value:value1, disabled:true}, // disables this field on reset\n  formControl2:value2\n});\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 6642878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ed170b88571dba550ea276e8c7a9f48?s=128&d=identicon&r=PG&f=1", "display_name": "Thiyagarajan", "link": "https://stackoverflow.com/users/6642878/thiyagarajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4457, "favorite_count": 0, "answer_count": 6, "score": 3, "last_activity_date": 1591688288, "creation_date": 1550655927, "last_edit_date": 1550656566, "question_id": 54783220, "link": "https://stackoverflow.com/questions/54783220/reset-angular-reactive-form-exclude-particular-field", "title": "Reset angular reactive form exclude particular field", "body": "<p>with reference(<code>https://stackoverflow.com/questions/50197347/how-to-reset-only-specific-fields-of-form-in-angular-5</code>) , I have 20 fields in form, If user click reset option I need to reset form exclude 2 fields, If am using this.form.reset() means it reset every thing, Any help appreciated</p>\n"}, {"tags": ["reactjs", "typescript", "react-native", "ecmascript-6"], "comments": [{"owner": {"reputation": 4041, "user_id": 2026768, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e48ee03566f6034c90888ef76ad6fac0?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2026768/dan"}, "edited": false, "score": 2, "creation_date": 1550655846, "post_id": 54783159, "comment_id": 96344898, "body": "Change <code>this.state.Data.map(function (data, index) {</code> to <code>this.state.Data.map((data, index) =&gt; {</code>. Your problem here is that the context of <code>this</code> isn&#39;t quite what you are expecting. When you use arrow functions, the context of <code>this</code> is lexically scoped."}, {"owner": {"reputation": 1394, "user_id": 5088774, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/e5d9d6b64946ab4aa2a61249eb76168b?s=128&d=identicon&r=PG&f=1", "display_name": "DIGITAL JEDI", "link": "https://stackoverflow.com/users/5088774/digital-jedi"}, "reply_to_user": {"reputation": 4041, "user_id": 2026768, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e48ee03566f6034c90888ef76ad6fac0?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2026768/dan"}, "edited": false, "score": 0, "creation_date": 1550656094, "post_id": 54783159, "comment_id": 96345039, "body": "still same issue..."}, {"owner": {"reputation": 1303, "user_id": 9799857, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Un8oP52iS7o/AAAAAAAAAAI/AAAAAAAAAGI/MLCSiItmk5E/photo.jpg?sz=128", "display_name": "Firu", "link": "https://stackoverflow.com/users/9799857/firu"}, "edited": false, "score": 0, "creation_date": 1550656930, "post_id": 54783159, "comment_id": 96345547, "body": "did you tried <code>this.fetchData.bind(this)</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 18553, "user_id": 5508175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sXjHS.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5508175/andrew"}, "is_accepted": false, "score": 2, "last_activity_date": 1550658216, "creation_date": 1550658216, "answer_id": 54783999, "question_id": 54783159, "link": "https://stackoverflow.com/questions/54783159/react-native-touchableopacity-onpress-not-working-with-loop/54783999#54783999", "title": "React Native TouchableOpacity OnPress not Working with loop", "body": "<p>The issue is coming from your <code>.map</code>. Basically you are losing the value of <code>this</code> as you are not using an arrow function. If you change your <code>.map(function(data, index)</code> to <code>.map((data,index) =&gt;</code> it should work.</p>\n\n<pre><code>import * as React from 'react';\nimport { Text, View, StyleSheet, ScrollView, TouchableOpacity, Image } from 'react-native';\nimport { Constants } from 'expo';\n\nexport default class App extends React.Component {\n\n  state = {\n    Data: [\n      {imageSrc :'https://randomuser.me/api/portraits/men/39.jpg'},\n      {imageSrc: 'https://randomuser.me/api/portraits/women/38.jpg'},\n      {imageSrc: 'https://randomuser.me/api/portraits/men/37.jpg'},\n      {imageSrc: 'https://randomuser.me/api/portraits/women/36.jpg'},\n      {imageSrc: 'https://randomuser.me/api/portraits/men/35.jpg'},\n      {imageSrc: 'https://randomuser.me/api/portraits/women/34.jpg'},\n    ]\n  }\n\n  // let's pass something so that we know that it is working\n  fetchData = (index) =&gt; {\n    alert(`you pressed ${index}`)\n  }\n\n  _renderView = () =&gt; {\n    return (\n      &lt;View style={{flex: 1, padding: 20}}&gt;\n        &lt;View style={styles.container}&gt;\n        &lt;ScrollView horizontal={true} showsHorizontalScrollIndicator={false} &gt;\n            {\n              this.state.Data.map((data, index) =&gt;  { // change this to an arrow function\n                  return (\n                      &lt;TouchableOpacity key={index} onPress={() =&gt; this.fetchData(index)}&gt; \n                          &lt;Image source={{uri: data.imageSrc}} \n                                  resizeMode={'cover'}\n                                  style={{width: 100, height: 100}}\n                          /&gt;\n                      &lt;/TouchableOpacity&gt;\n                  );\n              })\n            }\n          &lt;/ScrollView&gt;\n        &lt;/View&gt;\n      &lt;/View&gt;\n    );\n  }\n\n  render() {\n    return (\n      this._renderView()\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#ecf0f1',\n    padding: 8,\n  }\n});\n</code></pre>\n\n<p>You can see it working in the following snack <a href=\"https://snack.expo.io/@andypandy/map-with-arrow-function\" rel=\"nofollow noreferrer\">https://snack.expo.io/@andypandy/map-with-arrow-function</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7204528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee731d57d859706bacae4f068cb3e86d?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/7204528/gaurav"}, "is_accepted": false, "score": 0, "last_activity_date": 1560238162, "creation_date": 1560238162, "answer_id": 56538603, "question_id": 54783159, "link": "https://stackoverflow.com/questions/54783159/react-native-touchableopacity-onpress-not-working-with-loop/56538603#56538603", "title": "React Native TouchableOpacity OnPress not Working with loop", "body": "<p>Try keyboardShouldPersistTaps={true} under ScrollView. <code>&lt;ScrollView keyboardShouldPersistTaps={true}&gt;</code></p>\n"}], "owner": {"reputation": 1394, "user_id": 5088774, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/e5d9d6b64946ab4aa2a61249eb76168b?s=128&d=identicon&r=PG&f=1", "display_name": "DIGITAL JEDI", "link": "https://stackoverflow.com/users/5088774/digital-jedi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1113, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1560238162, "creation_date": 1550655728, "question_id": 54783159, "link": "https://stackoverflow.com/questions/54783159/react-native-touchableopacity-onpress-not-working-with-loop", "title": "React Native TouchableOpacity OnPress not Working with loop", "body": "<p>I have a scrollview in which multiple items are generated with loop. I added TouchableOpacity above these items because i want these objects to be touchable. But when i add a method on onPress method it shows error <strong>not a function , is undefined</strong></p>\n\n<p><strong>List_Data Component:</strong></p>\n\n<pre><code>class List_Data extends React.Component {\n\n    fetchData = () =&gt; {\n        console.log(\"DONE\");\n    }\n\n    _renderView = () =&gt; {\n        return (\n            &lt;View style={{flex:1, padding: 20}}&gt;\n                        &lt;View style={styles.container}&gt;\n                            &lt;ScrollView horizontal={true} showsHorizontalScrollIndicator={false} &gt;\n                                {\n                                    this.state.Data.map(function (data, index) {\n                                        return (\n                                            &lt;TouchableOpacity key={index} onPress={() =&gt; this.fetchData()}&gt;\n                                                &lt;Image source={{uri: data.imageSrc}}\n                                                       resizeMode={'cover'}\n                                                       style={{width: '100%', height: imageHeight}}\n                                                /&gt;\n                                            &lt;/TouchableOpacity&gt;\n                                        );\n                                    })\n                                }\n                            &lt;/ScrollView&gt;\n                        &lt;/View&gt;\n                    &lt;/View&gt;\n        )\n    }\n\n\n    render() {\n        return (\n            {this._renderView()}\n        );\n    }\n}\n</code></pre>\n\n<p>I don't know whats the issue, it just a method which prints on console. </p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 10662, "user_id": 1959054, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fdf89c4b3b6f44a6b324e670fb9461aa?s=128&d=identicon&r=PG", "display_name": "TKoL", "link": "https://stackoverflow.com/users/1959054/tkol"}, "edited": false, "score": 0, "creation_date": 1550655876, "post_id": 54783144, "comment_id": 96344912, "body": "Webstorm would probably recognize it if you did <code>this.constObj = constObj;</code> in the constructor"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 10662, "user_id": 1959054, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fdf89c4b3b6f44a6b324e670fb9461aa?s=128&d=identicon&r=PG", "display_name": "TKoL", "link": "https://stackoverflow.com/users/1959054/tkol"}, "edited": false, "score": 0, "creation_date": 1550656313, "post_id": 54783144, "comment_id": 96345155, "body": "@TKoL - For WebStorm, but not for TypeScript."}], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 8, "last_activity_date": 1550656280, "last_edit_date": 1550656280, "creation_date": 1550655947, "answer_id": 54783232, "question_id": 54783144, "link": "https://stackoverflow.com/questions/54783144/why-to-declare-variable-in-the-class-even-assigning-that-variable-to-this-in-th/54783232#54783232", "title": "Why to declare variable in the class, even assigning that variable to this in the constructor", "body": "<blockquote>\n  <p>Is declaring the variable is mandatory...</p>\n</blockquote>\n\n<p>It's not a variable, it's a property.</p>\n\n<p><strong>The answer for TypeScript</strong>: Yes, it's mandatory, so that TypeScript knows that <code>Test</code> has that property for the purposes of doing its static type checks. (Note that the <em>way</em> you've done it is just one of the possible ways of declaring that property. But you do need to declare it.)</p>\n\n<p><strong>The answer for JavaScript</strong>: No, it's not mandatory\u00b9, because JavaScript doesn't do static type checks.</p>\n\n<hr>\n\n<p>\u00b9 (and it's not possible per the <em>current</em> specification, but it <a href=\"https://github.com/tc39/proposal-class-fields\" rel=\"nofollow noreferrer\">soon will be</a> and is commonly transpiled with tools like <a href=\"https://babeljs.io\" rel=\"nofollow noreferrer\">Babel</a>)</p>\n"}], "owner": {"reputation": 3978, "user_id": 8593983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RMZOu.jpg?s=128&g=1", "display_name": "Sivakumar Tadisetti", "link": "https://stackoverflow.com/users/8593983/sivakumar-tadisetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 54783232, "answer_count": 1, "score": 3, "last_activity_date": 1550656651, "creation_date": 1550655688, "last_edit_date": 1550656651, "question_id": 54783144, "link": "https://stackoverflow.com/questions/54783144/why-to-declare-variable-in-the-class-even-assigning-that-variable-to-this-in-th", "title": "Why to declare variable in the class, even assigning that variable to this in the constructor", "body": "<p>In the code below, as you can see I declared a variable <code>constObj</code> in the <code>Test</code> class. And at the same time assigning <code>constObj</code> object to <code>this</code> in the constructor.</p>\n\n<p>Why do we need to declare the variable again, even though we already assigning it to <code>this</code> in the constructor?</p>\n\n<p>In the <code>webstorm</code> IDE, it is throwing error <code>doesn't have the property constObj</code>, if I do <code>this.constObj</code>, if the variable is not declared. But the code is working fine without issues.</p>\n\n<p>Is declaring the variable mandatory, even if we are assigning that to <code>this</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const constObj = {\r\n  a: function() {\r\n    console.log(\"sivakumar\");\r\n  }\r\n};\r\n\r\nclass Test {\r\n  constObj: any; // Is this line mandatory? I mean declaring it???\r\n\r\n  constructor() {\r\n    Object.assign(this, {\r\n      constObj\r\n    });\r\n  }\r\n\r\n  callMethod() {\r\n    this.constObj.a();\r\n  }\r\n}\r\n\r\nnew Test().callMethod();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Please let know, what will happen, if we don't declare.</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 2223, "user_id": 8433471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5050b487a92ece30c34c817359c22fee?s=128&d=identicon&r=PG&f=1", "display_name": "ManavM", "link": "https://stackoverflow.com/users/8433471/manavm"}, "edited": false, "score": 2, "creation_date": 1550655041, "post_id": 54782934, "comment_id": 96344400, "body": "try <code>React.ReactElement</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2223, "user_id": 8433471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5050b487a92ece30c34c817359c22fee?s=128&d=identicon&r=PG&f=1", "display_name": "ManavM", "link": "https://stackoverflow.com/users/8433471/manavm"}, "is_accepted": false, "score": 0, "last_activity_date": 1550655191, "creation_date": 1550655191, "answer_id": 54783001, "question_id": 54782934, "link": "https://stackoverflow.com/questions/54782934/typescript-how-to-define-the-type-when-pass-component-in-props-in-react/54783001#54783001", "title": "TypeScript: How to define the type when pass component in props in React?", "body": "<p>You are passing <code>&lt;Header title='header' /&gt;</code> which is a React Element not <code>Header</code> which is a Component Class.</p>\n"}, {"comments": [{"owner": {"reputation": 1784, "user_id": 2810565, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/95e3w.png?s=128&g=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/2810565/anna"}, "edited": false, "score": 0, "creation_date": 1576838235, "post_id": 54783003, "comment_id": 105033852, "body": "<code>React.ReactNode</code> worked, but got new TS error: <code>JSX element type &#39;Tag&#39; does not have any construct or call signatures.</code>"}], "tags": [], "owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "is_accepted": true, "score": 6, "last_activity_date": 1550655208, "creation_date": 1550655208, "answer_id": 54783003, "question_id": 54782934, "link": "https://stackoverflow.com/questions/54782934/typescript-how-to-define-the-type-when-pass-component-in-props-in-react/54783003#54783003", "title": "TypeScript: How to define the type when pass component in props in React?", "body": "<p>A React \"renderable\" is not <code>React.ComponentClass</code> but <code>React.ReactNode</code>.</p>\n\n<p>Ask for <code>React.ReactNode</code> in your <code>Cpnt</code> prop.</p>\n"}], "owner": {"reputation": 5661, "user_id": 741395, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c34350a8abe65aa5abcca172bb608378?s=128&d=identicon&r=PG&f=1", "display_name": "SPG", "link": "https://stackoverflow.com/users/741395/spg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2988, "favorite_count": 1, "accepted_answer_id": 54783003, "answer_count": 2, "score": 4, "last_activity_date": 1550657497, "creation_date": 1550654981, "last_edit_date": 1550657497, "question_id": 54782934, "link": "https://stackoverflow.com/questions/54782934/typescript-how-to-define-the-type-when-pass-component-in-props-in-react", "title": "TypeScript: How to define the type when pass component in props in React?", "body": "<p>Here's the code sample and the JS version is working correctly. </p>\n\n<p>The issue I encountered happening in TS :</p>\n\n<pre><code>import React from 'react'\n\nclass Parent extends React.Component {\n    render() {\n      return (\n        &lt;Child Cpnt={&lt;Header title='Header' /&gt;} /&gt;\n        /* TS error on Cpnt */\n      )\n    }\n  }\n\ninterface ChildProps {\n    Cpnt: React.ComponentClass\n}\n\nclass Child extends React.Component &lt;ChildProps&gt; {\n    render () {\n        const { Cpnt } = this.props\n        return (\n            &lt;div&gt;\n                {{Cpnt}}\n            &lt;/div&gt;\n        )\n    }\n}\n\ninterface HeaderProps {\n    title: string\n}\n\nclass Header extends React.Component &lt;HeaderProps&gt; {\n    render () {\n        const { title } = this.props\n        return (\n            &lt;p&gt;{title}&lt;/p&gt;\n        )\n    }\n}\n</code></pre>\n\n<p>I got an error on <code>&lt;Child Cpnt</code></p>\n\n<pre><code>[ts]\nType 'Element' is not assignable to type 'ComponentClass&lt;{}, any&gt;'.\n  Type 'Element' provides no match for the signature 'new (props: {}, context?: any): Component&lt;{}, any, any&gt;'. [2322]\n</code></pre>\n\n<p>What type should I defind here?</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing", "web-deployment", "angular2-forms"], "comments": [{"owner": {"reputation": 906, "user_id": 7088848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/inQcY.jpg?s=128&g=1", "display_name": "Shreenil Patel", "link": "https://stackoverflow.com/users/7088848/shreenil-patel"}, "edited": false, "score": 0, "creation_date": 1550654442, "post_id": 54782701, "comment_id": 96344013, "body": "You can use <code>(keypress)</code>,<code>(keydown)</code> and <code>(keyup)</code> events."}], "answers": [{"tags": [], "owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "is_accepted": false, "score": 1, "last_activity_date": 1550654528, "creation_date": 1550654528, "answer_id": 54782788, "question_id": 54782701, "link": "https://stackoverflow.com/questions/54782701/change-working-only-after-pressing-enter-in-angular-2/54782788#54782788", "title": "(change) Working only after pressing enter in angular 2", "body": "<p>You can use ngmodelChange event.</p>\n\n<pre><code>&lt;td&gt;&lt;input type = \"text\" [ngModel] = \"writerSuggest\" (ngModelChange) = \"getWriterList($event)\" /&gt;&lt;/td&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 783, "user_id": 9811681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "paras shah", "link": "https://stackoverflow.com/users/9811681/paras-shah"}, "is_accepted": false, "score": 1, "last_activity_date": 1550654942, "creation_date": 1550654942, "answer_id": 54782921, "question_id": 54782701, "link": "https://stackoverflow.com/questions/54782701/change-working-only-after-pressing-enter-in-angular-2/54782921#54782921", "title": "(change) Working only after pressing enter in angular 2", "body": "<p>Use ng modelChange which detects change of bound variables's value.\nlike</p>\n\n<pre><code>&lt;input type = \"text\" [(ngModel)] = \"writerSuggest\" (ngModelChange) = \"getWriterList($event)\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 6481897, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-5UwBxNurCEw/AAAAAAAAAAI/AAAAAAAAAMg/WaTAO2U992s/photo.jpg?sz=128", "display_name": "Nithin P.H", "link": "https://stackoverflow.com/users/6481897/nithin-p-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1550655259, "creation_date": 1550655259, "answer_id": 54783011, "question_id": 54782701, "link": "https://stackoverflow.com/questions/54782701/change-working-only-after-pressing-enter-in-angular-2/54783011#54783011", "title": "(change) Working only after pressing enter in angular 2", "body": "<p>You can try <code>ngModelChange</code></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-iqdbs8?embed=1&amp;file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">example</a></p>\n"}], "owner": {"reputation": 816, "user_id": 11016275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ji36N.png?s=128&g=1", "display_name": "Ajeet Eppakayala", "link": "https://stackoverflow.com/users/11016275/ajeet-eppakayala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1550655259, "creation_date": 1550654286, "question_id": 54782701, "link": "https://stackoverflow.com/questions/54782701/change-working-only-after-pressing-enter-in-angular-2", "title": "(change) Working only after pressing enter in angular 2", "body": "<p>I want to show a list which shows the rows matching the user entered value in the text box.\nList must keep changing dynamically as user keeps inputting values.\nthat's why I tried using (change) event listener on the input text box.\nbut list changes only after I press 'Enter' button.\nHere's the code.</p>\n\n<pre><code>&lt;tr&gt;\n        &lt;td&gt;&lt;input type = \"text\" [(ngModel)] = \"writerSuggest\" (change) = \"getWriterList($event)\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr *ngFor=\"let writers of writerListShow\"&gt;\n        &lt;td style=\"cursor: pointer;\" (click) = \"onWriterClick(writers.name)\"&gt;{{writers.name}}&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n        &lt;td *ngIf = 'writerErr' &gt;No writers with given name&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1550656604, "post_id": 54782407, "comment_id": 96345310, "body": "where you are storing token ?"}, {"owner": {"reputation": 1, "user_id": 8964364, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-63Do4WrCH38/AAAAAAAAAAI/AAAAAAAAAvU/NdCPrRbIE5c/photo.jpg?sz=128", "display_name": "klejz0r", "link": "https://stackoverflow.com/users/8964364/klejz0r"}, "reply_to_user": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1550736526, "post_id": 54782407, "comment_id": 96380884, "body": "Hm....mssql or localstorage."}], "owner": {"reputation": 1, "user_id": 8964364, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-63Do4WrCH38/AAAAAAAAAAI/AAAAAAAAAvU/NdCPrRbIE5c/photo.jpg?sz=128", "display_name": "klejz0r", "link": "https://stackoverflow.com/users/8964364/klejz0r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550655038, "creation_date": 1550653335, "last_edit_date": 1550655038, "question_id": 54782407, "link": "https://stackoverflow.com/questions/54782407/how-to-make-login-token-for-certain-time-such-as-1h-or-1d-in-this-login-ts-fil", "title": "How to make login token for certain time , such as 1h or 1d in this login.ts file?", "body": "<p>1) How to make token login generator for certain time in this login.ts file ?</p>\n\n<p>2) Also I need to setItem to localStorage if no internet connection for user on terrain.</p>\n\n<p>Thanks a lot for help.</p>\n\n<pre><code> login() {\n        let user = {\n          \"username\": this.username,\n          \"password\": this.password\n        }\n\n        this.peopleProvider.callWebApi(user)\n          .subscribe(\n          result =&gt; {\n\n            console.log('Result from server:', result);\n\n            if (result.result == \"true\") {\n              this.presentLoading();\n\n              localStorage.setItem(\"username\", result.username);\n              localStorage.setItem(\"password\", result.password);\n              localStorage.setItem(\"firstname\", result.firstname);\n              localStorage.setItem(\"lastname\", result.lastname);\n              localStorage.setItem(\"userId\", result.userId);\n\n\n               this.navCtrl.push(HomePage);\n\n              this.loader.dismiss();\n\n            }\n\n            else {\n\n              this.presentAlert();\n              //this.loader.dismiss();\n              this.invalidLogin = true;\n\n            }\n          },\n          error =&gt; {\n\n          }\n          );\n   }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular7", "ng2-charts"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10103856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8645cc28b0b3ae4c360f4fc532ba7753?s=128&d=identicon&r=PG&f=1", "display_name": "Yerima", "link": "https://stackoverflow.com/users/10103856/yerima"}, "is_accepted": false, "score": 0, "last_activity_date": 1550739452, "creation_date": 1550739452, "answer_id": 54802929, "question_id": 54782387, "link": "https://stackoverflow.com/questions/54782387/not-able-to-convert-data-to-ng2-chart-bar-chart/54802929#54802929", "title": "Not able to convert data to ng2-chart [ Bar Chart ]", "body": "<p>Hi hope this help : \"<a href=\"https://github.com/valor-software/ng2-charts/issues/662\" rel=\"nofollow noreferrer\">https://github.com/valor-software/ng2-charts/issues/662</a>\"\nthis issue has been closed in the link above.</p>\n"}], "owner": {"reputation": 102, "user_id": 10666568, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4JW_HRmw-qc/AAAAAAAAAAI/AAAAAAAAAkc/o7JtmsPF_O8/photo.jpg?sz=128", "display_name": "Mysterious Coder", "link": "https://stackoverflow.com/users/10666568/mysterious-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551021410, "creation_date": 1550653276, "last_edit_date": 1551021410, "question_id": 54782387, "link": "https://stackoverflow.com/questions/54782387/not-able-to-convert-data-to-ng2-chart-bar-chart", "title": "Not able to convert data to ng2-chart [ Bar Chart ]", "body": "<p>I am new to angular and I am using Angular 7 and I need to convert my api data to the ng2-charts format.</p>\n\n<p>Below is my api data:</p>\n\n<pre><code>{\n    \"status\": 200,\n    \"message\": \"Fetched Successfully\",\n    \"data\": [\n      {\n        \"1\": [\n          {\n            \"productid\": \"5c595f1c736429312f1ee15b\",\n            \"totalQty\": 5\n          },\n          {\n            \"productid\": \"5c595f1c736429312f1ee158\",\n            \"totalQty\": 54\n          },\n          {\n            \"productid\": \"5c595f1c736429312f1ee157\",\n            \"totalQty\": 156\n          }\n        ],\n        \"2\": [\n          {\n            \"productid\": \"5c595e3b736429312f1ee155\",\n            \"totalQty\": 15\n          },\n          {\n            \"productid\": \"5c595f1c736429312f1ee157\",\n            \"totalQty\": 42\n          }\n        ],\n        \"5\": [\n          {\n            \"productid\": \"5c595e3b736429312f1ee155\",\n            \"totalQty\": 50\n          },\n          {\n            \"productid\": \"5c595f1c736429312f1ee157\",\n            \"totalQty\": 70\n          }\n        ],\n        \"12\": [\n          {\n            \"productid\": \"5c595e3b736429312f1ee145\",\n            \"totalQty\": 17\n          },\n          {\n            \"productid\": \"5c595f1c736429312f1ee157\",\n            \"totalQty\": 5\n          }\n        ]\n      }\n    ]\n  }\n</code></pre>\n\n<p>Below is my expected output format:</p>\n\n<pre><code>  public barChartLabels = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12']; // all months \n  public barChartType = 'bar';\n  public barChartLegend = true;\n\n  public barChartData = [ \n    { data: [5], label: '5c595f1c736429312f1ee15b' },\n    { data: [54], label: '5c595f1c736429312f1ee158' },\n    { data: [156, 42, , , 70, , , , , , , 5], label: '5c595f1c736429312f1ee157' },\n    { data: [, 15, , , 50], label: '5c595e3b736429312f1ee155' },\n    { data: [, , , , , , , , , , , 17], label: '5c595e3b736429312f1ee145' },\n    { data: [, 15], label: '5c595e3b736429312f1ee145' }\n  ];\n</code></pre>\n\n<p>I want to make chart dynamic because there will be dynamic data from the api.</p>\n\n<p>I have tried using loops but it makes complexity more and takes time so looking for a efficient solution.</p>\n\n<p>Thanks in advance</p>\n"}]