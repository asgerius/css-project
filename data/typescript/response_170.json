[{"tags": ["javascript", "angular", "typescript", "ecmascript-6", "lodash"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 3, "creation_date": 1523489583, "post_id": 49785816, "comment_id": 86587090, "body": "Have you tried anything at all? If so, please share that."}, {"owner": {"reputation": 1805, "user_id": 5865712, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-Y5Rum91W6os/AAAAAAAAAAI/AAAAAAAAAGI/J3TK0_uwiHw/photo.jpg?sz=128", "display_name": "Chris Sharp", "link": "https://stackoverflow.com/users/5865712/chris-sharp"}, "edited": false, "score": 1, "creation_date": 1523490844, "post_id": 49785816, "comment_id": 86587372, "body": "This should help you.  <a href=\"https://stackoverflow.com/questions/921789/how-to-loop-through-plain-javascript-object-with-objects-as-members\" title=\"how to loop through plain javascript object with objects as members\">stackoverflow.com/questions/921789/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "is_accepted": false, "score": 0, "last_activity_date": 1523534264, "creation_date": 1523534264, "answer_id": 49795943, "question_id": 49785816, "link": "https://stackoverflow.com/questions/49785816/deep-conditional-merge-of-js-objects/49795943#49795943", "title": "deep, conditional merge of js objects", "body": "<p>Using the rxjs functions would help you in this kind of concerns.</p>\n\n<p>Here is code suggestion to get vehicules with detail using <a href=\"https://www.learnrxjs.io/operators/combination/combinelatest.html\" rel=\"nofollow noreferrer\">combineLatest</a> (code for demonstration, not tested) :</p>\n\n<pre><code>// The first observable pushed value would be\n// and array of the pushed values by the Observables\ncombineLatest(this.getVehiclesDetails(),this.getVehicles())\n.pipe(\n    // Using the returned values, you could transform them to what you want\n    map(([vehicules, details]) =&gt;\n        // Here we transform our vehicules array to vehiculesWithDetail array\n        vehicules.map(vehicule =&gt; {\n            // We get the detail for the processed vehicule\n            const detail = details.find(d =&gt; d.vdId == vehicule.vdId);\n            // We merge the two objects in one\n            return Object.Assign(vehicule, detail);\n        })\n    )\n)\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 7583451, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2n05jf1r760/AAAAAAAAAAI/AAAAAAAABWY/tGQWQ0IdFfY/photo.jpg?sz=128", "display_name": "rennyB", "link": "https://stackoverflow.com/users/7583451/rennyb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523534264, "creation_date": 1523489267, "last_edit_date": 1523503940, "question_id": 49785816, "link": "https://stackoverflow.com/questions/49785816/deep-conditional-merge-of-js-objects", "title": "deep, conditional merge of js objects", "body": "<p>I'm trying to conditionally merge data from two http request together into a single object. Please consider these objects.</p>\n\n<pre><code>vehicles: [\n{\n  vId: 1,\n  color: 'green',\n  passengers: [\n    {\n      name: 'Joe',\n      age: 22\n    },\n    {\n      name: 'Jack',\n      age: 32\n    }\n  ]\n}\nmore vehicles....]\n\n\n\npDetails: [\n  {\n    vId: 1,\n    detail: tall\n  },\n  {\n    vId: 1,\n    detail: 'fat'\n  },\n  { \n    vId 2,\n    detail: 'sad'\n  } more details.....\n]\n</code></pre>\n\n<p>Where the vIds match between two objects I want to push the pDetails object into a new array in the matching object in the vehicles array. I'm using Angular 5, TS and have added Lodash to my project. I'm getting hung up on how to iterate through nested arrays. I'm new to JS an not yet very familiar with the apis. Is there something in TS, ES6, Angular, or Lodash that might make this easier?</p>\n\n<p>Here's the closest I've gotten so far:</p>\n\n<pre><code>this.getVehicles().subscribe(\n      data =&gt; { v = data.result.objects },\n      err =&gt; console.error(err),\n      () =&gt; Object.keys(v).forEach(key =&gt; {\n      console.log(v[key]); //mapping logic here\n    })\n</code></pre>\n\n<p>This successfully iterates through the vehicles array but what I think I want to do is integrate though each v.passenger object and for each do a search on the pDetails array, copy matches, push to a temp array and then assign to v.passengers. I'm still having trouble figuring out how to iterate each vehicle's passenger array.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 4, "last_activity_date": 1523488857, "creation_date": 1523488857, "answer_id": 49785758, "question_id": 49785619, "link": "https://stackoverflow.com/questions/49785619/typescript-complains-either-about-implicit-any-or-possibly-undefined-even-if/49785758#49785758", "title": "TypeScript complains either about &#39;implicit any&#39; or &#39;possibly undefined&#39; even if it is not possible", "body": "<p>In Typescript all properties of a type with an index signature have to adhere to that signature, which is why it requires you to include <code>undefined</code> as part of the index value. This is a mechanism to make sure that the type of a property is consistent regardless of if you access it using bracket notation (<code>status[\"burning\"]</code>) or with dot notation (<code>status.burning</code>).</p>\n\n<p>But you can get around this by using an intersection type to combine the index signature and your other properties:</p>\n\n<pre><code>type IStatus = {\n  [key: string]: number; // &lt;= No undefined here anymore\n} &amp; {\n  burning?: number;\n  firing?: number;\n}\n</code></pre>\n\n<p>Using that, <code>this.status[key]</code> is inferred to have type <code>number</code>, but <code>this.status.burning</code> is inferred to have type <code>number | undefined</code>.</p>\n\n<p>As noted earlier, you'll want to be careful since now you can change the inferred type of the <code>burning</code> property by how you access it. If you use <code>this.status[\"burning\"]</code>, the type is inferred as just <code>number</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 2, "last_activity_date": 1523489312, "creation_date": 1523489312, "answer_id": 49785822, "question_id": 49785619, "link": "https://stackoverflow.com/questions/49785619/typescript-complains-either-about-implicit-any-or-possibly-undefined-even-if/49785822#49785822", "title": "TypeScript complains either about &#39;implicit any&#39; or &#39;possibly undefined&#39; even if it is not possible", "body": "<p><code>Object is possibly 'undefined'</code> error can be eliminated by using <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> (exclamation sign):</p>\n\n<pre><code>  if (\n    ...\n    this.status[key]! &gt; 0\n  ) {\n    this.status[key]!--;\n  }\n</code></pre>\n\n<p>If it's possible to address the problem by proper typing (as another answer suggests), that's the preferable way.</p>\n"}, {"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 2, "last_activity_date": 1523489382, "creation_date": 1523489382, "answer_id": 49785829, "question_id": 49785619, "link": "https://stackoverflow.com/questions/49785619/typescript-complains-either-about-implicit-any-or-possibly-undefined-even-if/49785829#49785829", "title": "TypeScript complains either about &#39;implicit any&#39; or &#39;possibly undefined&#39; even if it is not possible", "body": "<p>Compiler does not \"remember\" the result of <code>this.status[key] !== undefined</code> check, it's a known <a href=\"https://github.com/Microsoft/TypeScript/issues/15582\" rel=\"nofollow noreferrer\">issue</a> / <a href=\"https://github.com/Microsoft/TypeScript/issues/10530\" rel=\"nofollow noreferrer\">limitation</a>. The workaround is to use intermediate variable:</p>\n\n<pre><code>interface IStatus {\n  [key: string]: number | undefined; // &lt;= I don't want undefined here but it complains since the params are optional\n  burning?: number;\n  firing?: number;\n}\n\nclass Thing {\n  public status: IStatus = {};\n  private processStatus() {\n      for (const key in this.status) {\n          const value = this.status[key];  \n          if (value !== undefined &amp;&amp; value &gt; 0) {\n              this.status[key] = value - 1;\n          }\n      }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 7251, "user_id": 2407212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OXj1N.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/2407212/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 49785758, "answer_count": 3, "score": 2, "last_activity_date": 1523489382, "creation_date": 1523487936, "question_id": 49785619, "link": "https://stackoverflow.com/questions/49785619/typescript-complains-either-about-implicit-any-or-possibly-undefined-even-if", "title": "TypeScript complains either about &#39;implicit any&#39; or &#39;possibly undefined&#39; even if it is not possible", "body": "<p>I'm trying to decrease a property in an object by 1 if it exists and is greater than 0 but TypeScript won't compile this code whatever I try.</p>\n\n<pre><code>interface IStatus {\n  [key: string]: number | undefined; // &lt;= I don't want undefined here but it complains since the params are optional\n  burning?: number;\n  firing?: number;\n}\n\nclass Thing {\n  public status: IStatus = {};\n  private processStatus() {\n    for (const key in this.status) {\n      if (\n        this.status.hasOwnProperty(key) &amp;&amp;\n        this !== undefined &amp;&amp;\n        this.status !== undefined &amp;&amp;\n        this.status[key] !== undefined &amp;&amp; // &lt;= Complains about implicit any without the index signature\n        this.status[key] &gt; 0 // &lt;= Complains about possibly undefined with the index signature\n      ) {\n        this.status[key]--;\n      }\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "lint", "tslint"], "comments": [{"owner": {"reputation": 1347, "user_id": 890624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a355e7d29b580cc1fbb9c70bff46e87d?s=128&d=identicon&r=PG", "display_name": "ecraig12345", "link": "https://stackoverflow.com/users/890624/ecraig12345"}, "edited": false, "score": 3, "creation_date": 1523590090, "post_id": 49785618, "comment_id": 86632537, "body": "If either answer helped, can you please mark one as accepted? (or comment if you&#39;d like clarification)"}], "answers": [{"comments": [{"owner": {"reputation": 2885, "user_id": 1903781, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/61Mu1.jpg?s=128&g=1", "display_name": "Adrian Moisa", "link": "https://stackoverflow.com/users/1903781/adrian-moisa"}, "edited": false, "score": 0, "creation_date": 1549556873, "post_id": 49787112, "comment_id": 95953230, "body": "Thanks for sharing the output tslint trick. Found an issue there and fixed my <code>tslint.json</code>."}, {"owner": {"reputation": 2363, "user_id": 1217998, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/536ab18f11a1222292ccfbc9d1cdda75?s=128&d=identicon&r=PG", "display_name": "Souradeep Nanda", "link": "https://stackoverflow.com/users/1217998/souradeep-nanda"}, "edited": false, "score": 0, "creation_date": 1576553363, "post_id": 49787112, "comment_id": 104928045, "body": "I dont have the tslint option in outputs."}], "tags": [], "owner": {"reputation": 1347, "user_id": 890624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a355e7d29b580cc1fbb9c70bff46e87d?s=128&d=identicon&r=PG", "display_name": "ecraig12345", "link": "https://stackoverflow.com/users/890624/ecraig12345"}, "is_accepted": false, "score": 16, "last_activity_date": 1523501001, "last_edit_date": 1523501001, "creation_date": 1523500645, "answer_id": 49787112, "question_id": 49785618, "link": "https://stackoverflow.com/questions/49785618/tslint-not-working-in-vs-code/49787112#49787112", "title": "TSLint not working in VS Code", "body": "<p><code>tslint-react</code> is a tslint extension which has to be installed separately: <code>npm install -g tslint-react</code>. After installing, reload your VS Code window, and linting should work.</p>\n\n<hr>\n\n<p>How I found the problem: I copied your config file into a project, went to View > Output to check for errors from the tslint process, and saw this. (be sure to select tslint from the dropdown near the top right)</p>\n\n<p><a href=\"https://i.stack.imgur.com/wfmnB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wfmnB.png\" alt=\"Invalid &quot;extends&quot; configuration value - could not require &quot;tslint-react&quot;\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 9904, "user_id": 2172547, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RpxLD.jpg?s=128&g=1", "display_name": "Sunil Garg", "link": "https://stackoverflow.com/users/2172547/sunil-garg"}, "edited": false, "score": 0, "creation_date": 1598087259, "post_id": 49787204, "comment_id": 112347909, "body": "not worked for me, installed tslint, and there is tslint.json"}], "tags": [], "owner": {"reputation": 1097, "user_id": 6352475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/31443253635d7cb33d3f4c4be58663fa?s=128&d=identicon&r=PG", "display_name": "badarshahzad", "link": "https://stackoverflow.com/users/6352475/badarshahzad"}, "is_accepted": false, "score": 2, "last_activity_date": 1523501362, "creation_date": 1523501362, "answer_id": 49787204, "question_id": 49785618, "link": "https://stackoverflow.com/questions/49785618/tslint-not-working-in-vs-code/49787204#49787204", "title": "TSLint not working in VS Code", "body": "<p>Include the dependency in the package.json</p>\n\n<p>This is package.json and its working for me.</p>\n\n<pre><code>{\n  \"name\": \"functions\",\n  \"scripts\": {\n    \"lint\": \"tslint --project tsconfig.json\",\n    \"build\": \"tsc\",\n    \"serve\": \"npm run build &amp;&amp; firebase serve --only functions\",\n    \"shell\": \"npm run build &amp;&amp; firebase experimental:functions:shell\",\n    \"start\": \"npm run shell\",\n    \"deploy\": \"firebase deploy --only functions\",\n    \"logs\": \"firebase functions:log\"\n  },\n  \"main\": \"lib/index.js\",\n  \"dependencies\": {\n    \"firebase-admin\": \"~5.11.0\",\n    \"firebase-functions\": \"^1.0.0\"\n  },\n  \"devDependencies\": {\n    \"tslint\": \"^5.8.0\",\n    \"typescript\": \"^2.5.3\"\n  },\n  \"private\": true\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 7871111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e1fafe8e89a144fe110e060e953a21a?s=128&d=identicon&r=PG&f=1", "display_name": "Tharun208", "link": "https://stackoverflow.com/users/7871111/tharun208"}, "is_accepted": false, "score": 1, "last_activity_date": 1612335440, "last_edit_date": 1612335440, "creation_date": 1530786956, "answer_id": 51189146, "question_id": 49785618, "link": "https://stackoverflow.com/questions/49785618/tslint-not-working-in-vs-code/51189146#51189146", "title": "TSLint not working in VS Code", "body": "<p>Add the following in package.json\n<code>&quot;lint&quot;: &quot;tslint --project tslint.json&quot;</code> fixed the issue for me.</p>\n"}], "owner": {"reputation": 3249, "user_id": 3102993, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nwAIr.jpg?s=128&g=1", "display_name": "blankface", "link": "https://stackoverflow.com/users/3102993/blankface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27684, "favorite_count": 0, "answer_count": 3, "score": 23, "last_activity_date": 1612335440, "creation_date": 1523487930, "last_edit_date": 1523535350, "question_id": 49785618, "link": "https://stackoverflow.com/questions/49785618/tslint-not-working-in-vs-code", "title": "TSLint not working in VS Code", "body": "<p>I added TSLint to my React/TypeScript project using the tslint VSCode extension. I also installed both typescript and tslint globally according to TSLint docs <code>npm install -g tslint typescript</code></p>\n\n<p>This is my tslint.json file:</p>\n\n<pre><code>{\n  \"extends\": [\"tslint:latest\", \"tslint-react\"],\n  \"rules\": {\n    // override tslint-react rules here\n    \"jsx-wrap-multiline\": false,\n    \"max-line-length\": false,\n    \"no-implicit-dependencies\": [true, \"dev\"],\n    \"no-var-requires\": false,\n    \"indent\": false\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "webpack", "postcss"], "comments": [{"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1523487813, "post_id": 49785595, "comment_id": 86586628, "body": "Did you omit your <code>export</code> statement in your <code>App.tsx</code> file...?"}, {"owner": {"reputation": 1372, "user_id": 3183170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c61a5a5b406e6209d0e8b1f845830259?s=128&d=identicon&r=PG", "display_name": "adrice727", "link": "https://stackoverflow.com/users/3183170/adrice727"}, "reply_to_user": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1523487978, "post_id": 49785595, "comment_id": 86586671, "body": "@Andrew No, I just didn&#39;t include it in the code snippet.  I&#39;ll make an edit so it&#39;s not confusing."}], "answers": [{"comments": [{"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1523488754, "post_id": 49785729, "comment_id": 86586862, "body": "Apologies, but upon closer inspection, I&#39;m very confused as to what is going where. This might be incorrect then."}, {"owner": {"reputation": 1372, "user_id": 3183170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c61a5a5b406e6209d0e8b1f845830259?s=128&d=identicon&r=PG", "display_name": "adrice727", "link": "https://stackoverflow.com/users/3183170/adrice727"}, "edited": false, "score": 0, "creation_date": 1523488940, "post_id": 49785729, "comment_id": 86586899, "body": "The duplicate <code>index.ts</code> files are a little confusing.  <code>src&#47;components&#47;Button&#47;index.ts</code> exports the <code>default</code> from <code>Button.tsx</code>.  <code>src&#47;index.ts</code> picks up that import and exports it."}], "tags": [], "owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "is_accepted": false, "score": 1, "last_activity_date": 1523488627, "creation_date": 1523488627, "answer_id": 49785729, "question_id": 49785595, "link": "https://stackoverflow.com/questions/49785595/typescript-react-element-type-is-invalid-expected-a-string-for-built-in-com/49785729#49785729", "title": "TypeScript + React: Element type is invalid: expected a string (for built-in components)", "body": "<p>It looks like you made a small mistake importing in <code>index.ts</code>. Since it's a default export, no curly braces should be used.</p>\n\n<pre><code>import Button from './components/Button';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1372, "user_id": 3183170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c61a5a5b406e6209d0e8b1f845830259?s=128&d=identicon&r=PG", "display_name": "adrice727", "link": "https://stackoverflow.com/users/3183170/adrice727"}, "is_accepted": true, "score": 5, "last_activity_date": 1523846197, "creation_date": 1523846197, "answer_id": 49848907, "question_id": 49785595, "link": "https://stackoverflow.com/questions/49785595/typescript-react-element-type-is-invalid-expected-a-string-for-built-in-com/49848907#49848907", "title": "TypeScript + React: Element type is invalid: expected a string (for built-in components)", "body": "<p>As it turns out, this was due to an issue with my <code>webpack</code> config.  Adding the following lines to <code>output</code> fixed the error:</p>\n\n<pre><code>  output: {\n    . . . \n    library: \"opentok-ux-components\",\n    libraryTarget: 'umd',\n    umdNamedDefine: true\n  },\n</code></pre>\n"}], "owner": {"reputation": 1372, "user_id": 3183170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c61a5a5b406e6209d0e8b1f845830259?s=128&d=identicon&r=PG", "display_name": "adrice727", "link": "https://stackoverflow.com/users/3183170/adrice727"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2001, "favorite_count": 0, "accepted_answer_id": 49848907, "answer_count": 2, "score": 2, "last_activity_date": 1523846197, "creation_date": 1523487722, "last_edit_date": 1523488088, "question_id": 49785595, "link": "https://stackoverflow.com/questions/49785595/typescript-react-element-type-is-invalid-expected-a-string-for-built-in-com", "title": "TypeScript + React: Element type is invalid: expected a string (for built-in components)", "body": "<p>I realize that there are several questions related to this error floating around, but as far as I can tell this is a unique situation and not related to an incorrect <code>import</code> statement.</p>\n\n<p>I'm building a <code>React</code> component library with <code>TypeScript</code> and <code>webpack</code>.  </p>\n\n<p>My directory structure:</p>\n\n<pre><code>- src\n  - index.ts\n  - components\n    - Button\n      - Button.tsx\n      - index.ts\n      - Button.css\n      - Button.d.css (generated by webpack plugin)\n- package.json\n- tsconfig.json\n- webpack.config.js\n- postcss.config.js\n</code></pre>\n\n<p>My <code>tsconfig.json</code>: </p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowSyntheticDefaultImports\": true,\n    \"module\": \"es2015\",\n    \"target\": \"es5\",\n    \"lib\": [\"es6\", \"dom\"],\n    \"sourceMap\": true,\n    \"allowJs\": false,\n    \"jsx\": \"react\",\n    \"moduleResolution\": \"node\",\n    \"rootDir\": \"src\",\n    \"outDir\": \"dist\",\n    \"noImplicitReturns\": true,\n    \"noImplicitThis\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true,\n    \"declaration\": true\n  },\n  \"include\": [\n    \"src/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"build\",\n    \"dist\",\n    \"scripts\",\n    \"acceptance-tests\",\n    \"webpack\",\n    \"jest\",\n    \"src/setupTests.ts\",\n    \"**/*/*.test.ts\",\n    \"examples\"\n  ]\n}\n</code></pre>\n\n<p>My <code>webpack.config.js</code>:</p>\n\n<pre><code>const path = require(\"path\");\nconst ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\nconst MiniCssExtractPlugin = require(\"mini-css-extract-plugin\");\n\nmodule.exports = {\n  entry: \"./src/index.ts\",\n  output: {\n    path: path.resolve(__dirname, \"dist\"),\n    filename: \"index.js\"\n  },\n  mode: \"development\",\n  module: {\n    rules: [\n      {\n        test: /\\.tsx?$/,\n        loader: \"awesome-typescript-loader\",\n      },\n      {\n        test: /\\.css$/,\n        use: [\n          MiniCssExtractPlugin.loader,\n          {\n            loader: 'typings-for-css-modules-loader',\n            options: {\n              modules: true,\n              namedExport: true,\n              banner: \"/* This file is generated during the webpack build. Please do not edit/remove. */\",\n              localIdentName: '[name]__[local]'\n            }\n          },\n          {\n            loader: 'postcss-loader',\n            options: {\n              config: {\n                path: './postcss.config.js'\n              }\n            }\n          }\n        ]\n      },\n      {\n        test: /\\.(jpg|png|gif|svg)$/,\n        use: [\n          {\n            loader: \"file-loader\",\n            options: {\n              name: \"[name].[ext]\"\n            }\n          }\n        ]\n      }\n    ]\n  },\n  plugins: [\n    new MiniCssExtractPlugin({\n      filename: \"[name].css\",\n      chunkFilename: \"[id].css\"\n    })\n  ],\n  devtool: \"source-map\",\n  resolve: {\n    extensions: [\".js\", \".ts\", \".tsx\", \".css\"]\n  }\n};\n</code></pre>\n\n<p>My <code>postcss.config.js</code>:</p>\n\n<pre><code>module.exports = {\n    modules: true,\n    plugins: [\n        require('precss'),\n        require('postcss-simple-vars'),\n        require('autoprefixer'),\n        require('postcss-nested'),\n    ]\n}\n</code></pre>\n\n<p><code>src/index.ts</code> is simply:</p>\n\n<pre><code>import { Button } from './components/Button';\n\nexport {\n  Button,\n};\n</code></pre>\n\n<p><code>src/components/Button/index.ts</code>:</p>\n\n<pre><code>import Button from './Button';\n\nexport { Button };\n</code></pre>\n\n<p>and <code>src/components/Button/Button.tsx</code>:</p>\n\n<pre><code>import * as React from 'react';\nimport { ReactNode } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as styles from './Button.css';\n\nexport interface IButtonPropTypes {\n  onClick?: React.MouseEventHandler&lt;any&gt;;\n  label: string;\n  children?: ReactNode[] | string;\n  kind?: 'link' | 'action';\n  style?: { [key: string]: string };\n  href?: string;\n  target?: string;\n  className?: string;\n}\n\nexport default function Button({\n  onClick,\n  label,\n  children,\n  kind = 'action',\n  style = {},\n  href,\n  target,\n  className,\n}: IButtonPropTypes) {\n  const text = label || children;\n  const kindStyle = styles[kind] || '';\n  const classes = className || '';\n  if (href) {\n    return (\n      &lt;Link\n        className={`${style.btn} ${kindStyle} ${classes}`}\n        to={href}\n        target={target}\n        onClick={onClick}\n        style={style}\n      &gt;\n        &lt;span className={style.background} /&gt;\n        &lt;span&gt;{text}&lt;/span&gt;\n      &lt;/Link&gt;\n    );\n  }\n\n  return (\n    &lt;button className={`${style.btn} ${kindStyle}`} onClick={onClick} style={style}&gt;\n      &lt;div&gt;{text}&lt;/div&gt;\n    &lt;/button&gt;\n  );\n}\n</code></pre>\n\n<p>My <code>dist</code> folder after running <code>webpack</code> looks like:</p>\n\n<pre><code>- dist\n  - index.js\n  - index.js.map\n  - index.d.ts\n  - main.css\n  - main.css.map\n  - components\n    - Button\n      - Button.d.ts\n      - index.d.ts\n</code></pre>\n\n<p>and <a href=\"https://gist.github.com/adrice727/685ea1abb8ba1dcbe47ef5014f88e4d0\" rel=\"nofollow noreferrer\"><code>dist/index.js</code></a> seems to be compiled correctly by <code>webpack</code>.  In <code>package.json</code>, I have:</p>\n\n<pre><code>  \"main\": \"dist/index.js\",\n  \"types\": \"dist/index.d.ts\",\n  \"files\": [\"dist\"]\n</code></pre>\n\n<p>After running <code>yarn link</code>, I import and use my <code>Button</code> component in a standalone app like so:</p>\n\n<pre><code>import { Button } from 'my-components';\n\nclass App extends React.Component {\n  render() {\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;Button label=\"click me\" /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default App;\n</code></pre>\n\n<p>and receive the following error:</p>\n\n<blockquote>\n<pre><code>Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got:\n</code></pre>\n  \n  <p>undefined. You likely forgot to export your component from the file\n  it's defined in, or you might have mixed up default and named imports.</p>\n\n<pre><code>Check the render method of `App`.\n</code></pre>\n</blockquote>\n\n<p>If I remove the <code>Button</code> component, <code>App</code> renders without any errors.</p>\n\n<p><em>Testing by publishing a throwaway module to <code>npm</code> yields the same error.</em></p>\n\n<p>Additionally, if anyone has any suggestions as to better ways to bundle this library, I'd love to hear them as this is my first time using <code>postcss</code>.</p>\n"}, {"tags": ["typescript", "protractor"], "comments": [{"owner": {"reputation": 327, "user_id": 9503949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be09aea1fd1ba1f7980c029aaf507c86?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Gabriel", "link": "https://stackoverflow.com/users/9503949/leonardo-gabriel"}, "edited": false, "score": 0, "creation_date": 1523488027, "post_id": 49785333, "comment_id": 86586691, "body": "And if you try to remove the comma from newfilter.isPresent().then((isPresent: boolean,)? It seems that you are trying to pass &quot;isPresent: boolean, other parameter&quot;. I made myself understood?"}, {"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1523495359, "post_id": 49785333, "comment_id": 86588306, "body": "Agree with @Gabriel, it should be <code>(isPresent: boolean)</code>. One more <code>,</code> after <code>boolean</code> should be removed."}], "owner": {"reputation": 1, "user_id": 9041213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61dc06ceef3a060286234d50d6b6358c?s=128&d=identicon&r=PG&f=1", "display_name": "Palki Dutta", "link": "https://stackoverflow.com/users/9041213/palki-dutta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523495148, "creation_date": 1523485935, "last_edit_date": 1523495148, "question_id": 49785333, "link": "https://stackoverflow.com/questions/49785333/how-to-write-if-else-statements-using-protractor-in-typescript", "title": "How to write if else statements using protractor in typescript", "body": "<pre><code> var newfilter = browser.$('.filter-names')\n                        .$('ul sd-action-trigger[text=\"New Filter  \"]')\n                        .$('a');\n\n newfilter.isPresent().then((isPresent: boolean,) =&gt; {\n     if (isPresent) {\n\n     } else {\n\n     }\n });\n</code></pre>\n\n<p>I dont know but it gives me error.Basically i want to chck in my code id New filter is present do if part otherwise else part.It gives me error that expected 2 arguments but got 1</p>\n"}, {"tags": ["javascript", "html", "typescript", "vue.js", "vue-component"], "comments": [{"owner": {"reputation": 3060, "user_id": 6516044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uL1tn.jpg?s=128&g=1", "display_name": "Yago Azedias", "link": "https://stackoverflow.com/users/6516044/yago-azedias"}, "edited": false, "score": 0, "creation_date": 1523485396, "post_id": 49785185, "comment_id": 86585928, "body": "You should post a link for the code sample, instead of just a link for a code sample print."}, {"owner": {"reputation": 13, "user_id": 7164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80360337ee0fbabe2306df46e40423e1?s=128&d=identicon&r=PG&f=1", "display_name": "Sindhu G", "link": "https://stackoverflow.com/users/7164252/sindhu-g"}, "reply_to_user": {"reputation": 3060, "user_id": 6516044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uL1tn.jpg?s=128&g=1", "display_name": "Yago Azedias", "link": "https://stackoverflow.com/users/6516044/yago-azedias"}, "edited": false, "score": 0, "creation_date": 1523485584, "post_id": 49785185, "comment_id": 86585982, "body": "Just posted the link. Kindly have a look and thanks for the feedback. @YagoAzedias"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80360337ee0fbabe2306df46e40423e1?s=128&d=identicon&r=PG&f=1", "display_name": "Sindhu G", "link": "https://stackoverflow.com/users/7164252/sindhu-g"}, "edited": false, "score": 0, "creation_date": 1523487399, "post_id": 49785352, "comment_id": 86586518, "body": "Yes that works in this example but in my condition each field has different values to be displayed - &lt;tbody&gt;   &lt;tr v-if=&quot;!isLoading&quot; v-for=&quot;(f, index) in formatted&quot;&gt;     &lt;td :class=&quot;c.ClassName&quot; v-for=&quot;(c, index) in columnsDisplay&quot; v-html=&quot;c.Description&quot;&gt;     &lt;/td&gt;   &lt;/tr&gt; &lt;/tbody&gt;  columnsDisplay.push(  { FieldName: &quot;StateCode&quot;, ClassName: &quot;tracking-state&quot;, Description: &quot;{{f.StateCode}}&quot; }, { FieldName: &quot;EnrollmentDate&quot;, ClassName: &quot;tracking-enrolled&quot;, Description: &quot;&lt;span&gt;{{f.EnrollmentDate}}&lt;/span&gt;&lt;span class=&#39;tracking-cell-subtitle&#39;&gt; {{ f.TimeSinceEnrollment }}&lt;/span&gt;&quot; });"}, {"owner": {"reputation": 1105, "user_id": 8273686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mBqSF.png?s=128&g=1", "display_name": "Frish", "link": "https://stackoverflow.com/users/8273686/frish"}, "reply_to_user": {"reputation": 13, "user_id": 7164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80360337ee0fbabe2306df46e40423e1?s=128&d=identicon&r=PG&f=1", "display_name": "Sindhu G", "link": "https://stackoverflow.com/users/7164252/sindhu-g"}, "edited": false, "score": 0, "creation_date": 1523489205, "post_id": 49785352, "comment_id": 86586974, "body": "@SindhuG Hmmm, I&#39;m not convinced it wouldn&#39;t work if you use computed methods instead of inserting the values into strings. ex: Description: {{ computedDescription }}. I haven&#39;t tried however so I can&#39;t prove it... have you? :)"}, {"owner": {"reputation": 1105, "user_id": 8273686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mBqSF.png?s=128&g=1", "display_name": "Frish", "link": "https://stackoverflow.com/users/8273686/frish"}, "reply_to_user": {"reputation": 13, "user_id": 7164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80360337ee0fbabe2306df46e40423e1?s=128&d=identicon&r=PG&f=1", "display_name": "Sindhu G", "link": "https://stackoverflow.com/users/7164252/sindhu-g"}, "edited": false, "score": 0, "creation_date": 1523489284, "post_id": 49785352, "comment_id": 86587007, "body": "Also, <i>disclaimer</i>: Not a Vue.js expert --&gt;"}], "tags": [], "owner": {"reputation": 1105, "user_id": 8273686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mBqSF.png?s=128&g=1", "display_name": "Frish", "link": "https://stackoverflow.com/users/8273686/frish"}, "is_accepted": true, "score": 2, "last_activity_date": 1523486040, "creation_date": 1523486040, "answer_id": 49785352, "question_id": 49785185, "link": "https://stackoverflow.com/questions/49785185/rendering-elements-from-code-behind-to-v-html-in-vuejs/49785352#49785352", "title": "Rendering elements from code-behind to v-html in VueJs", "body": "<p>Consider a <a href=\"https://vuejs.org/v2/guide/computed.html#Computed-Properties\" rel=\"nofollow noreferrer\">computed property</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Vue({\r\n  el: '#app',\r\n  data: {\r\n    text: 'world'\r\n  },\r\n  computed: {\r\n  \thtml: function() {\r\n    \treturn `&lt;h1&gt;Hello ${ this.text }&lt;/h1&gt;`;\r\n    }\r\n  }\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/vue\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"app\" v-html=\"html\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I couldn't find a source to indicate best practice, so perhaps you could also use <a href=\"https://vuejs.org/v2/guide/syntax.html\" rel=\"nofollow noreferrer\">templates</a>, or something else entirely!</p>\n"}], "owner": {"reputation": 13, "user_id": 7164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80360337ee0fbabe2306df46e40423e1?s=128&d=identicon&r=PG&f=1", "display_name": "Sindhu G", "link": "https://stackoverflow.com/users/7164252/sindhu-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1089, "favorite_count": 1, "accepted_answer_id": 49785352, "answer_count": 1, "score": 0, "last_activity_date": 1523487686, "creation_date": 1523484968, "last_edit_date": 1523487686, "question_id": 49785185, "link": "https://stackoverflow.com/questions/49785185/rendering-elements-from-code-behind-to-v-html-in-vuejs", "title": "Rendering elements from code-behind to v-html in VueJs", "body": "<p>How is it possible to get both the value and html from the code-behind to display effectively?</p>\n\n<p>Example: </p>\n\n<pre><code>html: &lt;div id=\"app\" v-html=\"html\"&gt;&lt;/div&gt;\n\njs: new Vue({\n      el: '#app',\n      data: {\n      html: '&lt;h1&gt;Hello {{text}}&lt;/h1&gt;',\n      text: 'world'\n      }\n    })\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/Lct8uz4o/214/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/Lct8uz4o/214/</a></p>\n\n<p>Tried using v-text, v-html, {{..}}, {{{..}}}, but nothing worked. </p>\n\n<p>This is just an example, I have to display various div elements with different html syntax and each consist of a value(s) to be displayed. Can you help?</p>\n\n<p>Below is the piece of code from the real issue:</p>\n\n<pre><code>&lt;tbody&gt;\n  &lt;tr v-if=\"!isLoading\" v-for=\"(f, index) in formatted\"&gt;\n    &lt;td :class=\"c.ClassName\" v-for=\"(c, index) in columnsDisplay\" v-html=\"c.Description\"&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/tbody&gt;\n\ncolumnsDisplay.push( \n{\n   FieldName: \"StateCode\",\n   ClassName: \"tracking-state\",\n   Description: \"{{f.StateCode}}\"\n},\n{\n   FieldName: \"EnrollmentDate\",\n   ClassName: \"tracking-enrolled\",\n   Description: \"&lt;span&gt;{{f.EnrollmentDate}}&lt;/span&gt;&lt;span class='tracking-cell-subtitle'&gt; {{ f.TimeSinceEnrollment }}&lt;/span&gt;\"\n},\n{\n   FieldName: \"LastActivity\",\n   ClassName: \"tracking-activity\",\n   Description: \"&lt;span&gt;{{f.LastActivity}}&lt;/span&gt;&lt;span class='tracking-cell-subtitle'&gt;{{f.TimeSinceLastActivity}}&lt;/span&gt;&lt;/td&gt;\"\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "is_accepted": true, "score": 2, "last_activity_date": 1523484843, "creation_date": 1523484843, "answer_id": 49785167, "question_id": 49785093, "link": "https://stackoverflow.com/questions/49785093/angular2-access-value-of-template-variable/49785167#49785167", "title": "angular2 access value of template variable,", "body": "<p>You are using the <code>[(ngModel)]</code> two way binding on the <code>&lt;mat-select&gt;</code> component. It means that the <code>IPMIDisplayTimeSelection</code> will always match the current <code>&lt;mat-select&gt;</code> value.</p>\n\n<p>You do not need the <code>@ViewChild</code> decorator and the <code>#IPMIDisplayTime</code> template variable.</p>\n\n<pre><code>someFn() {\n  // this is the value of your select component\n  console.log(this.IPMIDisplayTimeSelection);\n}\n</code></pre>\n"}], "owner": {"reputation": 777, "user_id": 1234419, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/44b28a82e9785233801ad999b57770a2?s=128&d=identicon&r=PG", "display_name": "Vaibhav Chauhan", "link": "https://stackoverflow.com/users/1234419/vaibhav-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 49785167, "answer_count": 1, "score": 2, "last_activity_date": 1523484843, "creation_date": 1523484392, "question_id": 49785093, "link": "https://stackoverflow.com/questions/49785093/angular2-access-value-of-template-variable", "title": "angular2 access value of template variable,", "body": "<p>I would like to understand on how can I access the values of selected items in templates. specifically I would like to know how I can access the selected value of  <code>IPMIDisplayTime</code> and <code>IPMIDisplayTime</code> in the template and use that down the road.</p>\n\n<pre><code> import {ViewChild, ElementRef} from '@angular/core';\n\n@Component({\n  selector: 'app-select-dialog',\n  template:`&lt;h1 mat-dialog-title&gt;\n  {{ title | translate }}\n&lt;/h1&gt;\n&lt;div mat-dialog-content&gt;\n  &lt;mat-select  #IPMIDisplayTime name=\"name\" placeholder=\"optionPlaceHolder\" [(ngModel)]=\"IPMIDisplayTimeSelection\"&gt;\n      &lt;mat-option *ngFor=\"let option of options\" [value]=\"options.value\"&gt;\n          {{ option.label }}\n      &lt;/mat-option&gt;\n  &lt;/mat-select&gt;  \n&lt;/div&gt;\n&lt;div mat-dialog-actions&gt;\n  &amp;nbsp;\n  &lt;span fxFlex&gt;&lt;/span&gt;\n  &lt;button class=\"mat-raised-button mat-accent\" (click)=\"dialogRef.close(false)\"&gt;{{\"Close\" | translate}}&lt;/button&gt;\n  &lt;span fxFlex&gt;&lt;/span&gt;\n  &lt;button class=\"mat-raised-button mat-accent\" (click)=\"dialogRef.close(true)\"&gt;{{\"OK\" | translate}}&lt;/button&gt; \n&lt;/div&gt;`,\n  styleUrls : [ './select-dialog.component.scss' ]\n})\nexport class SelectDialogComponent {\n\n  public title: string;\n  public options: Array&lt;{ label: string, value: string }&gt;;\n  public optionPlaceHolder: string;\n  public method: string;\n  public params: string;\n  @ViewChild('IPMIDisplayTime') IPMIDisplayTimeSelect: ElementRef;\n  IPMIDisplayTimeSelection: string;\n\n\n  constructor(public dialogRef: MatDialogRef &lt; SelectDialogComponent &gt;, protected translate: TranslateService ) {\n\n  }\n\n\n\n\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "generics", "decorator", "es6-class"], "answers": [{"comments": [{"owner": {"reputation": 612, "user_id": 2000501, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/300e000ea32ccfe1f64d0c0917250760?s=128&d=identicon&r=PG", "display_name": "Moritz Gunz", "link": "https://stackoverflow.com/users/2000501/moritz-gunz"}, "edited": false, "score": 0, "creation_date": 1523639910, "post_id": 49799151, "comment_id": 86659731, "body": "&gt; You want Test3 to be the same type as Test2 but you want t3Prop to be a different type from t2Prop, which just doesn&#39;t work.  If we could somehow make the type generic, as in <code>MixinReturnType&lt;HTMLElement, number&gt;</code> this would work."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 612, "user_id": 2000501, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/300e000ea32ccfe1f64d0c0917250760?s=128&d=identicon&r=PG", "display_name": "Moritz Gunz", "link": "https://stackoverflow.com/users/2000501/moritz-gunz"}, "edited": false, "score": 0, "creation_date": 1523640451, "post_id": 49799151, "comment_id": 86660021, "body": "You can define it as <code>type MixinReturnType&lt;E extends HTMLElement, T&gt; =  ClassConstructor&lt;E &amp; { prop: T }&gt;</code>, but <code>MixinReturnType</code> by itself is not a concrete type anymore and cannot be the annotated type of a variable."}, {"owner": {"reputation": 612, "user_id": 2000501, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/300e000ea32ccfe1f64d0c0917250760?s=128&d=identicon&r=PG", "display_name": "Moritz Gunz", "link": "https://stackoverflow.com/users/2000501/moritz-gunz"}, "edited": false, "score": 0, "creation_date": 1523640523, "post_id": 49799151, "comment_id": 86660063, "body": "While this approach works, its not as nice as being able to infer the return type based on the arguments, since you&#39;ll basically have to declare the class twice, and you also cannot reason about static members that way."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 612, "user_id": 2000501, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/300e000ea32ccfe1f64d0c0917250760?s=128&d=identicon&r=PG", "display_name": "Moritz Gunz", "link": "https://stackoverflow.com/users/2000501/moritz-gunz"}, "edited": false, "score": 0, "creation_date": 1523641119, "post_id": 49799151, "comment_id": 86660380, "body": "I don&#39;t see static members in your code.  You don&#39;t have to use <code>ClassConstuctor&lt;&gt;</code>; you can make it your own type with every static member you care about.  Declaring the class twice: I can&#39;t think of a way around that.  If someone has a better suggestion I&#39;d love to see it."}, {"owner": {"reputation": 612, "user_id": 2000501, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/300e000ea32ccfe1f64d0c0917250760?s=128&d=identicon&r=PG", "display_name": "Moritz Gunz", "link": "https://stackoverflow.com/users/2000501/moritz-gunz"}, "edited": false, "score": 0, "creation_date": 1523641212, "post_id": 49799151, "comment_id": 86660423, "body": "Yes, my examples didn&#39;t contain any. I am using the decorator for web components, so most instances have something like <code>static get observedAttributes(): string[]</code>.   Anyway, I&#39;ve had troubles with TS telling me <code>type MixinReturnType&lt;E extends HTMLElement, T&gt; = ClassConstructor&lt;E &amp; { prop: T }&gt;</code> this isn&#39;t a constructor function anymore, when using it in the mixin, but I have worked around that now. Thanks for all the help!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 0, "last_activity_date": 1523543248, "creation_date": 1523543248, "answer_id": 49799151, "question_id": 49784598, "link": "https://stackoverflow.com/questions/49784598/naming-the-return-type-of-a-generic-function/49799151#49799151", "title": "Naming the return type of a generic function", "body": "<p>Here's my take on what's going on.  If you explicitly annotate the type of a variable with a wider type than its value, the compiler (usually*) forgets the narrower type of the value and treats the variable as the wider type only.  For example:</p>\n\n<pre><code>interface General {\n  foo: string;\n}\ninterface Specific extends General {\n  bar: number\n}\ndeclare function getSpecific(): Specific;\ndeclare function acceptSpecific(x: Specific): void;\n\nconst implicitlyTyped = getSpecific();\nacceptSpecific(implicitlyTyped); // okay\n\nconst explicitlyTyped: General = getSpecific();\nacceptSpecific(explicitlyTyped); // error!\n</code></pre>\n\n<p>The <code>explicitlyTyped</code> variable is only understood by the compiler to be of type <code>General</code>, and so it is an error to call <code>acceptSpecific(explicitlyTyped)</code>.  This is responsible for the problem where the widened <code>MixinReturnType</code> causes all subsequent inspections of <code>Test2</code> to disappoint you.</p>\n\n<p>Therefore the solution cannot be to find a version of <code>MixinReturnType</code> that is somehow generic/wide enough to accept all outputs of <code>mixin()</code> but narrow enough to preserve the exact type of each specific output of <code>mixin()</code>.  No such type exists:</p>\n\n<pre><code>const Test2: MixinReturnType = mixin(HTMLElement, 10); \nconst t2Prop = new Test2().prop;\n\nconst Test3: MixinReturnType = mixin(HTMLElement, \"hey\");\nconst t3Prop = new Test3().prop;\n</code></pre>\n\n<p>You want <code>Test3</code> to be the same type as <code>Test2</code> but you want <code>t3Prop</code> to be a different type from <code>t2Prop</code>, which just doesn't work.  </p>\n\n<p><sub> *<a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html#control-flow-based-type-analysis\" rel=\"nofollow noreferrer\">Control flow analysis</a> will sometimes narrow a variable to string/number/boolean literals or single constituents of a union, but that is not applicable here. </sub></p>\n\n<hr>\n\n<p>Here's something that might work (depending on what you're trying to do).  Use a generic helper function that just passes the input through to the output, but  requires the input to be assignable to <code>MixinReturnType</code>, like this:</p>\n\n<pre><code>const requireMixinReturnType = &lt;M extends MixinReturnType&gt;(m: M) =&gt; m;\n</code></pre>\n\n<p>Note that this function is generic in <code>M</code>; so if <code>M</code> is narrower than <code>MixinReturnType</code>, the output will also be narrower.  Let's see it in action:</p>\n\n<pre><code>const Test2 = requireMixinReturnType(mixin(HTMLElement, 10));         \nconst t2Prop = new Test2().prop; // number\n</code></pre>\n\n<p>This is good, in that <code>t2Prop</code> is now known to be <code>number</code>.  You might wonder how this is any better than the implicitly typed <code>Test1</code>.  Well, it isn't really; after all, there's not really much point in writing <code>requireMixinReturnType(mixin(...))</code>.  But now you do have a way to prevent someone form passing you a bad mixin type without widening the input:</p>\n\n<pre><code>const BadMixin = requireMixinReturnType(HTMLElement); // error!\n// Property 'prop' is missing in type 'HTMLElement'.\n</code></pre>\n\n<p>So probably you wouldn't use <code>requireMixinReturnType()</code> unless you're trying to catch a bad type early.  </p>\n\n<hr>\n\n<p>More likely, you would take the function you care about that currently accepts a <code>MixinReturnType</code> and make it generic:</p>\n\n<pre><code>declare function doConcrete(m: MixinReturnType): void {\n   const p = new m().prop; // {}, oops\n}\n\ndeclare function doGeneric&lt;M extends MixinReturnType&gt;(m: M): void {\n       const p = new m().prop; // still {}, oops\n}\n</code></pre>\n\n<p>Uh oh, TypeScript is not smart enough to take the generic <code>M</code> and extract the type of <code>prop</code>.  There are some ways to deal with this.  The most straightforward is to forget about <code>MixinReturnType</code> and instead think about the generic definition we care about.  Something like this:</p>\n\n<pre><code>function doGeneric&lt;T, E extends HTMLElement&gt;(\n  m: ClassConstructor&lt;E &amp; { prop: T }&gt;\n): void {\n  const p = new m().prop; // T, that's good\n}\n</code></pre>\n\n<p>In this case, we're saying that the <code>m</code> parameter must be a constructor that returns something of type <code>E &amp; {prop: T}</code>, where <code>E</code> is something assignable to <code>HTMLElement</code> and <code>T</code> is anything.  Now the compiler realizes that <code>p</code> is of type <code>T</code>.  Let's try it out with something that returns something, like:</p>\n\n<pre><code>function getProp&lt;T, E extends HTMLElement&gt;(\n  m: ClassConstructor&lt;E &amp; { prop: T }&gt;\n): T {\n  return new m().prop; // type checks, yay!\n}\n\nconst t2Prop = getProp(Test2); // number, yay!\n</code></pre>\n\n<p>That works!  This was very long-winded; hope it makes sense and is of some help.  Good luck!</p>\n"}], "owner": {"reputation": 612, "user_id": 2000501, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/300e000ea32ccfe1f64d0c0917250760?s=128&d=identicon&r=PG", "display_name": "Moritz Gunz", "link": "https://stackoverflow.com/users/2000501/moritz-gunz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1523543248, "creation_date": 1523481360, "question_id": 49784598, "link": "https://stackoverflow.com/questions/49784598/naming-the-return-type-of-a-generic-function", "title": "Naming the return type of a generic function", "body": "<p>To not fall victim to the XY problem, here's what I want to accomplish: I have a generic decorator creator function that returns a generic decorator function (or ES6 mixin) (like <code>&lt;T1, T2&gt;(...args) =&gt; &lt;T3&gt;(base) =&gt; class extends base { ... };</code> and I want to name the type of the result depending on the generic parameters.\nThis is so I can restrict other generic parameters (in other functions) to have been passed through that decorator at least once.</p>\n\n<p>I eagerly waited for TS 2.8 and thought <code>ReturnType</code> would solve my problem, but I failed to be able to properly use it for this case. Naively I simply tried using <code>ReturnType&lt;ReturnType&lt;typeof myMixin&gt;&gt;</code>, but this doesn't work as all type parameters of <code>myMixin</code> are coerced to <code>{}</code>.</p>\n\n<p>The following (simpler) example illustrates the problem:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ClassConstructor&lt;T&gt; = new(...args: any[]) =&gt; T;\n\nconst mixin = &lt;B extends ClassConstructor&lt;HTMLElement&gt;, T&gt;(base: B, arg: T) =&gt; {\n    return class extends base {\n        prop: T = arg;\n    };\n};\n\nconst Test1 = mixin(HTMLElement, 10); // using inference\ntype Test1Prop = typeof (new Test1()).prop; // number\n\ntype MixinReturnType = ReturnType&lt;typeof mixin&gt;;\nconst Test2: MixinReturnType = mixin(HTMLElement, 10); // using explicit type annotation\ntype Test2Prop = typeof (new Test2()).prop; // {}\n</code></pre>\n\n<p>TypeScript inference correctly names the type of the instance property. As soon as I give it a name, however, it turns to garbage. Is there anything I can do?</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "edited": false, "score": 0, "creation_date": 1523484221, "post_id": 49784208, "comment_id": 86585554, "body": "I don&#39;t understand the downvotes. This is an interesting question. Unfortunately I am pretty sure that this kind of API does not exist."}], "answers": [{"tags": [], "owner": {"reputation": 768, "user_id": 8934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cH0mZ.jpg?s=128&g=1", "display_name": "Nobady", "link": "https://stackoverflow.com/users/8934481/nobady"}, "is_accepted": false, "score": 1, "last_activity_date": 1523539880, "creation_date": 1523539880, "answer_id": 49797914, "question_id": 49784208, "link": "https://stackoverflow.com/questions/49784208/reactiveforms-valuechanges-in-dom-vs-component/49797914#49797914", "title": "ReactiveForms valueChanges in dom vs component", "body": "<p>with the control \".touched\"</p>\n\n<blockquote>\n  <p>EXAMPLE:\n  <strong>YourModelForm</strong>.get('<strong>YourField</strong>').touched</p>\n</blockquote>\n\n<p>the value becomes true when the user enters a value (first click on the field, enter the value, tab or click out of the field).</p>\n\n<p>I tried with a call rest and the value remains to false, try it if you can possibly it works for your situation. :-)</p>\n"}, {"tags": [], "owner": {"reputation": 5897, "user_id": 1359553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4e487d9a7e2eff4a414f9e04368f9b9b?s=128&d=identicon&r=PG", "display_name": "jensengar", "link": "https://stackoverflow.com/users/1359553/jensengar"}, "is_accepted": true, "score": 1, "last_activity_date": 1523632432, "creation_date": 1523632432, "answer_id": 49820214, "question_id": 49784208, "link": "https://stackoverflow.com/questions/49784208/reactiveforms-valuechanges-in-dom-vs-component/49820214#49820214", "title": "ReactiveForms valueChanges in dom vs component", "body": "<p>Thanks to @Nobady, who inspired the idea. I found there's actually an option for <code>setValue</code> on the formControl called <code>emitEvent</code>. Using this, I can make it so if I update the value programmatically I can bypass the <code>valueChanges</code> getting called.</p>\n"}], "owner": {"reputation": 5897, "user_id": 1359553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4e487d9a7e2eff4a414f9e04368f9b9b?s=128&d=identicon&r=PG", "display_name": "jensengar", "link": "https://stackoverflow.com/users/1359553/jensengar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 49820214, "answer_count": 2, "score": 2, "last_activity_date": 1523632432, "creation_date": 1523479631, "question_id": 49784208, "link": "https://stackoverflow.com/questions/49784208/reactiveforms-valuechanges-in-dom-vs-component", "title": "ReactiveForms valueChanges in dom vs component", "body": "<p>I'm wonder if there's a way to know the difference whether <code>valueChanges</code> on a <code>FormControl</code> was triggered from the dom or the component itself. My use case is I need to do <code>stuff()</code> when the user changes the value, but I don't want to do <code>stuff()</code> if the value changed as a result of something else. Any thoughts?</p>\n"}, {"tags": ["javascript", "typescript", "jasmine", "jasmine-matchers"], "answers": [{"comments": [{"owner": {"reputation": 713, "user_id": 7509513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f88aecc7cacbd0182d1259a8e0feeeb3?s=128&d=identicon&r=PG&f=1", "display_name": "zelda", "link": "https://stackoverflow.com/users/7509513/zelda"}, "edited": false, "score": 0, "creation_date": 1523481315, "post_id": 49784419, "comment_id": 86584512, "body": "Sweet. But What if the <code>x</code> and <code>y</code> are not the properties of the object and they are <code>a</code> and <code>b</code>. How can I implement it generically which wouldn&#39;t rely on the hardcoded properties as implemented in this case?"}, {"owner": {"reputation": 371, "user_id": 8897209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7baccb23c8c6256404bd073d8bb5a301?s=128&d=identicon&r=PG&f=1", "display_name": "Murad Khan", "link": "https://stackoverflow.com/users/8897209/murad-khan"}, "reply_to_user": {"reputation": 713, "user_id": 7509513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f88aecc7cacbd0182d1259a8e0feeeb3?s=128&d=identicon&r=PG&f=1", "display_name": "zelda", "link": "https://stackoverflow.com/users/7509513/zelda"}, "edited": false, "score": 0, "creation_date": 1523481535, "post_id": 49784419, "comment_id": 86584593, "body": "I just edited my answer to account for that situation. You can use Object.keys to get an array of the property names in the object, but this assumes there will be only two keys in objExpected."}, {"owner": {"reputation": 713, "user_id": 7509513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f88aecc7cacbd0182d1259a8e0feeeb3?s=128&d=identicon&r=PG&f=1", "display_name": "zelda", "link": "https://stackoverflow.com/users/7509513/zelda"}, "edited": false, "score": 0, "creation_date": 1523484941, "post_id": 49784419, "comment_id": 86585771, "body": "Thanks a lot for the awesome answer :)"}], "tags": [], "owner": {"reputation": 371, "user_id": 8897209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7baccb23c8c6256404bd073d8bb5a301?s=128&d=identicon&r=PG&f=1", "display_name": "Murad Khan", "link": "https://stackoverflow.com/users/8897209/murad-khan"}, "is_accepted": true, "score": 4, "last_activity_date": 1523481485, "last_edit_date": 1523481485, "creation_date": 1523480536, "answer_id": 49784419, "question_id": 49784121, "link": "https://stackoverflow.com/questions/49784121/how-to-write-a-custom-matcher-for-jasmine-to-find-if-the-object-properties-lie-w/49784419#49784419", "title": "How to write a custom matcher for jasmine to find if the object properties lie within a range of object property values?", "body": "<p>It looks like you're on the right track with your <code>liesWithin</code> function, you just need to account for the situation where the <code>expected</code> object may not come back ordered how you expect. This code should cover those situations as well:</p>\n\n<pre><code>// Helper to reduce repeated code\nfunction isWithinRange(val, a, b) {\n    return (val &gt; a &amp;&amp; val &lt; b) || (val &gt; b &amp;&amp; val &lt; a);\n}\n\nfunction liesWithin&lt;T&gt;(objActual: T, objExpected: T[]): boolean {\n    if (objExpected) {\n        let props = Object.keys(objActual);\n        // Splitting X and Y checks into two for readability\n        let isInYRange = isWithinRange( objActual[ props[0] ], objExpected[0][ props[0] ], objExpected[1][ props[0] ] );\n        let isInXRange = isWithinRange( objActual[ props[1] ], objExpected[0][ props[1] ], objExpected[1][ props[1] ] );\n        return isInXRange &amp;&amp; isInYRange;\n    }\n    return;\n}\n</code></pre>\n"}], "owner": {"reputation": 713, "user_id": 7509513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f88aecc7cacbd0182d1259a8e0feeeb3?s=128&d=identicon&r=PG&f=1", "display_name": "zelda", "link": "https://stackoverflow.com/users/7509513/zelda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 49784419, "answer_count": 1, "score": 4, "last_activity_date": 1523485003, "creation_date": 1523479156, "last_edit_date": 1523485003, "question_id": 49784121, "link": "https://stackoverflow.com/questions/49784121/how-to-write-a-custom-matcher-for-jasmine-to-find-if-the-object-properties-lie-w", "title": "How to write a custom matcher for jasmine to find if the object properties lie within a range of object property values?", "body": "<p>I am trying to implement a custom matcher for Jasmine where I would like to check if the given object property values lie within the range of the other two object property values.</p>\n\n<p>Here is what I got so far:</p>\n\n<pre><code>let matcher = {\n            toLieWithin: function (util: jasmine.MatchersUtil, customEqualityTesters: Array&lt;jasmine.CustomEqualityTester&gt;): jasmine.CustomMatcher {\n                return {\n                    compare: function (actual: any, expected: any): jasmine.CustomMatcherResult {\n                        let result: jasmine.CustomMatcherResult = {\n                            pass: false,\n                            message: ''\n                        };\n\n                        result.pass = liesWithin(actual, expected);\n\n                        return result;\n                    }\n                }\n            }\n        }; \n\nfunction liesWithin&lt;T&gt;(objActual: T, objExpected: T[]): boolean {\n        let output: boolean;\n        if(objExpected) {\n          output = objActual.x &gt; objExpected[0].x &amp;&amp; objActual.x &lt; objExpected[1].x &amp;&amp; objActual.y &gt; objExpected[0].y &amp;&amp; objExpected[1].y;\n        }\nreturn output;    \n}\n</code></pre>\n\n<p>Here, I am assuming, the actual has two properties <code>x</code> and <code>y</code>. And the expected is an array of two objects which also has two properties each <code>x</code> and <code>y</code>.</p>\n\n<pre><code>actual = {x: -5, y: -10}; expected = [{x: -10, y: -17},{x: 0, y: 0}];\n</code></pre>\n\n<p>Now, this scenario works I believe for the above given simple example. But when I am trying to implement it as a generic, how do I find what properties does the object have? And is my approach correct? Could anyone give me some ideas how can I implement such a method.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["typescript", "generics", "casting"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1523479052, "post_id": 49784027, "comment_id": 86583561, "body": "Is typescript 2.8 an option? If so, you can use <code>InstanceType&lt;C&gt;</code> for your return type and cast."}, {"owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1523479122, "post_id": 49784027, "comment_id": 86583600, "body": "@CRice Yep! That looks good! Care to post an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 1, "last_activity_date": 1523479270, "creation_date": 1523479270, "answer_id": 49784147, "question_id": 49784027, "link": "https://stackoverflow.com/questions/49784027/typescript-cast-type-using-generics-and-constructor/49784147#49784147", "title": "TypeScript cast type using generics and constructor?", "body": "<p>Starting in Typescript 2.8, the type <code>InstanceType&lt;T&gt;</code> was added to the standard lib, which extracts from a constructor type <code>T</code> the type of its instance. So for your snippet, you can use that for your return type and cast:</p>\n\n<pre><code>function castOrNull&lt;\n    C extends typeof Type\n&gt;(value: Type, Constructor: C): InstanceType&lt;C&gt; | null {\n    if (value.id !== Constructor.ID) {\n        return null;\n    }\n    return value as InstanceType&lt;C&gt;;\n}\n\n// All good now\nconst list0castA = castOrNull(list0, TypeA);\nif (list0castA) {\n    list0asA.onlyA();\n}\n</code></pre>\n"}], "owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1339, "favorite_count": 0, "accepted_answer_id": 49784147, "answer_count": 1, "score": 0, "last_activity_date": 1523479270, "creation_date": 1523478686, "question_id": 49784027, "link": "https://stackoverflow.com/questions/49784027/typescript-cast-type-using-generics-and-constructor", "title": "TypeScript cast type using generics and constructor?", "body": "<p>I have a base class, and sub-classes there of.</p>\n\n<p>Instances of those classes get put in an collection with the type of the base class.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Type extends Object {\n    public static ID = 'type';\n    public id = 'type';\n    constructor() { super(); }\n}\n\nclass TypeA extends Type {\n    public static ID = 'type-a';\n    public id = 'type-a';\n    constructor() { super(); }\n    public onlyA() { return 'only A has this method'; }\n}\n\nclass TypeB extends Type {\n    public static ID = 'type-b';\n    public id = 'type-b';\n    constructor() { super(); }\n    public onlyB() { return 'only B has this method'; }\n}\n\n// Discards subclass type information:\nconst list: Type[] = [\n    new TypeA(),\n    new TypeB()\n];\n\n// Has inferred type: Type\nconst list0 = list[0];\n</code></pre>\n\n<p>Now if I know the correct type, I can use <code>as</code> to promote the type:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const list0asA = list0 as TypeA;\nlist0asA.onlyA();\n</code></pre>\n\n<p>What I'd like to do however is create a generic function that will dynamically check the instance, and return either the promoted type or <code>null</code> if it does not match.</p>\n\n<p>I came up with the following, but it's not quite right:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function castOrNull&lt;\n    C extends typeof Type\n&gt;(value: Type, Constructor: C): C | null {\n    if (value.id !== Constructor.ID) {\n        return null;\n    }\n    return value as C;\n}\n\nconst list0castA = castOrNull(list0, TypeA);\nif (list0castA) {\n    list0asA.onlyA();\n}\n</code></pre>\n\n<p>The problem is I'm not trying to cast the variable to the constructors type, but the type of an instance of that constructor, so the as and return types are not correct.</p>\n\n<p>Alternately, this does work, but it requires explicitly setting the generic type, meaning specifying the type twice when used, which is less-than-ideal.</p>\n\n<pre><code>function castOrNull&lt;\n    T extends Type\n&gt;(value: Type, Constructor: typeof Type): T | null {\n    if (value.id !== Constructor.ID) {\n        return null;\n    }\n    return value as T;\n}\n\nconst list0upA = castOrNull&lt;TypeA&gt;(list0, TypeA);\nif (list0castA) {\n    list0asA.onlyA();\n}\n</code></pre>\n\n<p>Is it possible to create this generic function without specifying the type twice?</p>\n"}, {"tags": ["reactjs", "typescript", "react-router", "material-ui"], "answers": [{"tags": [], "owner": {"reputation": 10043, "user_id": 5770132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08d37535f8b1f2d7c5785cfd21067b9?s=128&d=identicon&r=PG", "display_name": "Oblosys", "link": "https://stackoverflow.com/users/5770132/oblosys"}, "is_accepted": true, "score": 3, "last_activity_date": 1523479927, "creation_date": 1523479927, "answer_id": 49784273, "question_id": 49783307, "link": "https://stackoverflow.com/questions/49783307/how-to-pass-prop-to-custom-root-component-in-material-uinext-when-using-typescr/49784273#49784273", "title": "How to pass prop to custom root component in material-ui@next when using TypeScript?", "body": "<p>TypeScript doesn't reject extra props that are passed with the prop-spread syntax, so this works:</p>\n\n<pre><code>    &lt;ListItem {...{to: \"/profile\"}} component={Link}&gt;\n      Profile\n    &lt;/ListItem&gt;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9632550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e8ebca458372755b94e4983f063a695?s=128&d=identicon&r=PG&f=1", "display_name": "velocipedraptor", "link": "https://stackoverflow.com/users/9632550/velocipedraptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 610, "favorite_count": 1, "accepted_answer_id": 49784273, "answer_count": 1, "score": 4, "last_activity_date": 1523479927, "creation_date": 1523475890, "question_id": 49783307, "link": "https://stackoverflow.com/questions/49783307/how-to-pass-prop-to-custom-root-component-in-material-uinext-when-using-typescr", "title": "How to pass prop to custom root component in material-ui@next when using TypeScript?", "body": "<p>I want to render a <code>ListItem</code> component with react-router <code>Link</code> as a root component as follows:\n</p>\n\n<pre><code>        &lt;ListItem\n          to=\"/profile\"\n          component={Link}\n        &gt;\n          Profile\n        &lt;/ListItem&gt;\n</code></pre>\n\n<p>However, I get a TypeScript error:</p>\n\n<pre><code>(50,15): error TS2339: Property 'to' does not exist on type 'IntrinsicAttributes &amp; ListItemProps &amp; { children?: ReactNode; }'.\n</code></pre>\n\n<p>Obviously, the <code>to</code> prop used by the <code>Link</code> component is part of the <code>ListItem</code> props interface...</p>\n\n<p>How to work around it?</p>\n"}, {"tags": ["html", "css", "typescript", "angular5"], "comments": [{"owner": {"reputation": 712, "user_id": 7988112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214133d7d5818bbf738c207e58ff00d9?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Espinosa", "link": "https://stackoverflow.com/users/7988112/julian-espinosa"}, "edited": false, "score": 0, "creation_date": 1523474894, "post_id": 49783026, "comment_id": 86581369, "body": "Add this #loading{display: flex;     justify-content: center;     align-items: center;}"}, {"owner": {"reputation": 149, "user_id": 6297534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AYtMU5KVPuk/AAAAAAAAAAI/AAAAAAAAAsY/C5PHlxRjs0k/photo.jpg?sz=128", "display_name": "user6297534", "link": "https://stackoverflow.com/users/6297534/user6297534"}, "edited": false, "score": 0, "creation_date": 1523475084, "post_id": 49783026, "comment_id": 86581466, "body": "Remove absolute positioning from #loading. Just remove the code: #loading, #outlet {     width: 100%;     height: 100%;     position: absolute;}"}], "answers": [{"tags": [], "owner": {"reputation": 2344, "user_id": 5362270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cFwJF.jpg?s=128&g=1", "display_name": "Aryan Twanju", "link": "https://stackoverflow.com/users/5362270/aryan-twanju"}, "is_accepted": true, "score": 3, "last_activity_date": 1523475357, "creation_date": 1523475357, "answer_id": 49783167, "question_id": 49783026, "link": "https://stackoverflow.com/questions/49783026/how-do-i-centre-a-div-in-angular-5/49783167#49783167", "title": "How do i centre a div in angular 5", "body": "<p>The problem you are having is because of the <code>position: absolute</code> thing that you have assigned to both <code>#loading</code> and <code>#outlet</code>. You can solve the issue with this code. Try this.</p>\n\n<pre><code>&lt;div id=\"app\"&gt;\n&lt;div id=\"wrap\"&gt;\n    &lt;div id=\"outlet\"&gt;\n        &lt;router-outlet&gt;&lt;/router-outlet&gt;\n    &lt;/div&gt;\n    &lt;div id=\"loading\" *ngIf=\"data.Loading\"&gt;\n        &lt;h2&gt;Loading...&lt;/h2&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n#wrap {\n  margin: 0 auto;\n  width: 200px;\n}\n#loading, #outlet {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n}\n#loading{\n    z-index: 10;\n    height: 100px;\n    width: 200px;\n    background-color: rgba(255,255,255,0.85);\n    padding: 40px;\n    border: 1px solid #d3d3d3;\n    border-radius: 5px;\n    margin: 0 auto;\n    margin-bottom:10px;\n    box-shadow: 0px 1px 3px rgba(0,0,0,0.5);\n}\n#app{\n  position: relative;\n  width: 100%;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319, "user_id": 9454817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kwyBz.png?s=128&g=1", "display_name": "Lunbun", "link": "https://stackoverflow.com/users/9454817/lunbun"}, "is_accepted": false, "score": 0, "last_activity_date": 1523481895, "last_edit_date": 1523481895, "creation_date": 1523477790, "answer_id": 49783805, "question_id": 49783026, "link": "https://stackoverflow.com/questions/49783026/how-do-i-centre-a-div-in-angular-5/49783805#49783805", "title": "How do i centre a div in angular 5", "body": "<p>To align the text in the center, use <code>text-align: center</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#loading, #outlet {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n#loading{\r\n    z-index: 10;\r\n    height: 100px;\r\n    width: 200px;\r\n    background-color: rgba(255,255,255,0.85);\r\n    padding: 40px;\r\n    border: 1px solid #d3d3d3;\r\n    border-radius: 5px;\r\n    text-align: center;\r\n    margin-bottom:10px;\r\n    box-shadow: 0px 1px 3px rgba(0,0,0,0.5);\r\n}\r\n#app{\r\n  position: relative;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"app\"&gt;\r\n    &lt;div id=\"outlet\"&gt;\r\n        &lt;router-outlet&gt;&lt;/router-outlet&gt;\r\n    &lt;/div&gt;\r\n    &lt;div id=\"loading\" *ngIf=\"data.Loading\"&gt;\r\n        &lt;h2&gt;Loading...&lt;/h2&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To align the box in the center, use <code>margin: auto</code>, but <em>DO NOT</em> use <code>position: absolute</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#loading, #outlet {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n#loading{\r\n    z-index: 10;\r\n    height: 100px;\r\n    width: 200px;\r\n    background-color: rgba(255,255,255,0.85);\r\n    padding: 40px;\r\n    border: 1px solid #d3d3d3;\r\n    border-radius: 5px;\r\n    margin: auto;\r\n    margin-bottom:10px;\r\n    box-shadow: 0px 1px 3px rgba(0,0,0,0.5);\r\n}\r\n#app{\r\n  position: relative;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"app\"&gt;\r\n    &lt;div id=\"outlet\"&gt;\r\n        &lt;router-outlet&gt;&lt;/router-outlet&gt;\r\n    &lt;/div&gt;\r\n    &lt;div id=\"loading\" *ngIf=\"data.Loading\"&gt;\r\n        &lt;h2&gt;Loading...&lt;/h2&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Then if you put those two together, you get:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#loading, #outlet {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n#loading{\r\n    z-index: 10;\r\n    height: 100px;\r\n    width: 200px;\r\n    background-color: rgba(255,255,255,0.85);\r\n    padding: 40px;\r\n    border: 1px solid #d3d3d3;\r\n    border-radius: 5px;\r\n    margin: auto;\r\n    text-align: center;\r\n    margin-bottom:10px;\r\n    box-shadow: 0px 1px 3px rgba(0,0,0,0.5);\r\n}\r\n#app{\r\n  position: relative;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"app\"&gt;\r\n    &lt;div id=\"outlet\"&gt;\r\n        &lt;router-outlet&gt;&lt;/router-outlet&gt;\r\n    &lt;/div&gt;\r\n    &lt;div id=\"loading\" *ngIf=\"data.Loading\"&gt;\r\n        &lt;h2&gt;Loading...&lt;/h2&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9536240"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8205, "favorite_count": 0, "accepted_answer_id": 49783167, "answer_count": 2, "score": 1, "last_activity_date": 1523481895, "creation_date": 1523474707, "last_edit_date": 1523476951, "question_id": 49783026, "link": "https://stackoverflow.com/questions/49783026/how-do-i-centre-a-div-in-angular-5", "title": "How do i centre a div in angular 5", "body": "<p>I am using Angular5, and I have tried to set <code>margin: 0 auto</code> as well as setting <code>left: 50%</code> and <code>top: 50%</code> but the margin doesn't do anything and setting left to 50% only aligns the side of the div to the middle and doesn't move the div down at all.</p>\n\n<p>How do I align the div #loading to the middle?</p>\n\n<p>My code: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#loading, #outlet {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n}\r\n#loading{\r\n    z-index: 10;\r\n    height: 100px;\r\n    width: 200px;\r\n    background-color: rgba(255,255,255,0.85);\r\n    padding: 40px;\r\n    border: 1px solid #d3d3d3;\r\n    border-radius: 5px;\r\n    margin: 0 auto;\r\n    margin-bottom:10px;\r\n    box-shadow: 0px 1px 3px rgba(0,0,0,0.5);\r\n}\r\n#app{\r\n  position: relative;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"app\"&gt;\r\n    &lt;div id=\"outlet\"&gt;\r\n        &lt;router-outlet&gt;&lt;/router-outlet&gt;\r\n    &lt;/div&gt;\r\n    &lt;div id=\"loading\" *ngIf=\"data.Loading\"&gt;\r\n        &lt;h2&gt;Loading...&lt;/h2&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I am also overlaying the #loading div over #outlet.</p>\n"}, {"tags": ["arrays", "json", "angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 1, "creation_date": 1523472513, "post_id": 49782338, "comment_id": 86580142, "body": "your second array item only has <code>sub</code> and <code>subDesc</code> properties, so they&#39;re showing up in those template locations. Also, you&#39;ll want to handle the structure in the array and reference it from the loop as one variable, not do the concatenation in the template."}, {"owner": {"reputation": 35, "user_id": 5898069, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a8172ade98be07099a2b4e2d4bfc239?s=128&d=identicon&r=PG&f=1", "display_name": "sagar rokade", "link": "https://stackoverflow.com/users/5898069/sagar-rokade"}, "reply_to_user": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 0, "creation_date": 1523473011, "post_id": 49782338, "comment_id": 86580405, "body": "what i want is two print those two array item in same row because they both have equal size or say index of data"}, {"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 0, "creation_date": 1523473479, "post_id": 49782338, "comment_id": 86580647, "body": "...then you&#39;ll need to write some code to flatten out those items in the array instead of just concatenating them in the template."}, {"owner": {"reputation": 35, "user_id": 5898069, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a8172ade98be07099a2b4e2d4bfc239?s=128&d=identicon&r=PG&f=1", "display_name": "sagar rokade", "link": "https://stackoverflow.com/users/5898069/sagar-rokade"}, "reply_to_user": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 0, "creation_date": 1523474519, "post_id": 49782338, "comment_id": 86581152, "body": "can you please tell me the method i cant seems to figure it out"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5898069, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a8172ade98be07099a2b4e2d4bfc239?s=128&d=identicon&r=PG&f=1", "display_name": "sagar rokade", "link": "https://stackoverflow.com/users/5898069/sagar-rokade"}, "edited": false, "score": 0, "creation_date": 1523509342, "post_id": 49784037, "comment_id": 86591626, "body": "thanks this worked , map that  function right after i set the value of tableData."}, {"owner": {"reputation": 4739, "user_id": 264946, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/037534de70515727478cb707c28b6b5a?s=128&d=identicon&r=PG", "display_name": "Anshuman Jaiswal", "link": "https://stackoverflow.com/users/264946/anshuman-jaiswal"}, "reply_to_user": {"reputation": 35, "user_id": 5898069, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a8172ade98be07099a2b4e2d4bfc239?s=128&d=identicon&r=PG&f=1", "display_name": "sagar rokade", "link": "https://stackoverflow.com/users/5898069/sagar-rokade"}, "edited": false, "score": 0, "creation_date": 1523512752, "post_id": 49784037, "comment_id": 86592892, "body": "happy to hear that."}], "tags": [], "owner": {"reputation": 4739, "user_id": 264946, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/037534de70515727478cb707c28b6b5a?s=128&d=identicon&r=PG", "display_name": "Anshuman Jaiswal", "link": "https://stackoverflow.com/users/264946/anshuman-jaiswal"}, "is_accepted": true, "score": 1, "last_activity_date": 1523478729, "creation_date": 1523478729, "answer_id": 49784037, "question_id": 49782338, "link": "https://stackoverflow.com/questions/49782338/angular-5-ngfor-two-array-merge-objects-of-two-arrays-to-make-single-array-of/49784037#49784037", "title": "angular 5 *ngFor two array (merge objects of two arrays to make single array of objects)", "body": "<p>You can use following keeping in mind that length of both the arrays should be same otherwise it will generate error.</p>\n\n<pre><code>this.tableData.map((item, index) =&gt; {\n     return Object.assign(item, servers3[index]));\n});\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>...\n&lt;tr *ngFor=\"let item of tableData\"&gt;\n...\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5898069, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2a8172ade98be07099a2b4e2d4bfc239?s=128&d=identicon&r=PG&f=1", "display_name": "sagar rokade", "link": "https://stackoverflow.com/users/5898069/sagar-rokade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 0, "accepted_answer_id": 49784037, "answer_count": 1, "score": -2, "last_activity_date": 1523516430, "creation_date": 1523472122, "last_edit_date": 1523516430, "question_id": 49782338, "link": "https://stackoverflow.com/questions/49782338/angular-5-ngfor-two-array-merge-objects-of-two-arrays-to-make-single-array-of", "title": "angular 5 *ngFor two array (merge objects of two arrays to make single array of objects)", "body": "<p>I am getting array from two get method in angular 5. What i want is to combine those two arrays (JSON) into one array and print it in a single for loop</p>\n\n<p>my two arrays:-</p>\n\n<pre><code>servers3 =[\n{\n  sub:'sub',\n  subDesc:'subDesc'\n}];\n\npublic tableData:any;\n</code></pre>\n\n<p>i am using concat two combine two arrays like follows</p>\n\n<pre><code>&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th&gt;fileName&lt;/th&gt;\n    &lt;th&gt;icon&lt;/th&gt;\n    &lt;th&gt;fullPath&lt;/th&gt;\n    &lt;th&gt;sub&lt;/th&gt;\n    &lt;th&gt;subDesc&lt;/th&gt;\n    &lt;th&gt;image&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr *ngFor=\"let item of tableData.concat(servers3)\"&gt;\n    &lt;td&gt;{{item?.fileName}}&lt;/td&gt;\n    &lt;td&gt;{{item?.icon}} &lt;/td&gt;\n    &lt;td&gt;{{item?.fullPath}}&lt;/td&gt;\n    &lt;td&gt;{{item?.sub}}&lt;/td&gt;\n    &lt;td&gt;{{item?.subDesc}}&lt;/td&gt;\n    &lt;td&gt;&lt;img src=\"{{item?.fullPath}}\" width=\"200px\" height=\"200px\" alt=\"adawdawd\"/&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And i am getting output as follows:-</p>\n\n<p><a href=\"https://i.stack.imgur.com/wHVrd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wHVrd.png\" alt=\"enter image description here\"></a></p>\n\n<p>as you can see its not showing in one line \neach array completes individually</p>\n\n<p>please give me solution if any one know the answer\nthank you in advance </p>\n"}, {"tags": ["javascript", "angular", "typescript", "referenceerror"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1523472623, "post_id": 49782274, "comment_id": 86580206, "body": "Why is his click event not bound and handled within typescript?"}], "answers": [{"comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1523480387, "post_id": 49782405, "comment_id": 86584160, "body": "It&#39;s hard to give a helpful answer to subpar question. This one is more like verbose comment rather than answer. It doesn&#39;t answer the question."}, {"owner": {"reputation": 198, "user_id": 9632291, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0pWD-sRfCX8/AAAAAAAAAAI/AAAAAAAAAFw/sHoKRMvu6ME/photo.jpg?sz=128", "display_name": "Pedro Junior", "link": "https://stackoverflow.com/users/9632291/pedro-junior"}, "edited": false, "score": 0, "creation_date": 1523535148, "post_id": 49782405, "comment_id": 86606673, "body": "Thank you for your answer, but can you give and advise on how should I do it?!"}], "tags": [], "owner": {"reputation": 935, "user_id": 4576061, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1b0dcc7aaaf5f86a1f25a0fa671a1ea5?s=128&d=identicon&r=PG&f=1", "display_name": "Orodan", "link": "https://stackoverflow.com/users/4576061/orodan"}, "is_accepted": false, "score": 1, "last_activity_date": 1523472333, "creation_date": 1523472333, "answer_id": 49782405, "question_id": 49782274, "link": "https://stackoverflow.com/questions/49782274/calling-a-typescript-function-from-a-javascript-function/49782405#49782405", "title": "Calling a TypeScript function from a JavaScript function", "body": "<p>Yes you can, as long as your typescript is correctly compiled in Javascript, and your function is exported in the global scope.</p>\n\n<p>But I have to say, it seems wrong to do that in so many way. First exposing something in the global scope is never a good idea. Second, I don't see why you would want to wrote pure javascript scripts in an Angular application.</p>\n\n<p>But yes, technically, it's possible to do what you want, event though I strongly advise against it.</p>\n\n<p>Hope that helps</p>\n"}, {"tags": [], "owner": {"reputation": 610, "user_id": 2006598, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8a30aa1f86fbc3d1b2b2b7df292b508f?s=128&d=identicon&r=PG", "display_name": "Jedi Schmedi", "link": "https://stackoverflow.com/users/2006598/jedi-schmedi"}, "is_accepted": false, "score": 0, "last_activity_date": 1523472493, "creation_date": 1523472493, "answer_id": 49782449, "question_id": 49782274, "link": "https://stackoverflow.com/questions/49782274/calling-a-typescript-function-from-a-javascript-function/49782449#49782449", "title": "Calling a TypeScript function from a JavaScript function", "body": "<p>Think you'll find the answer here. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/41326567/uncaught-referenceerror-function-is-not-defined-at-htmlbuttonelement-onclick\">Uncaught ReferenceError: &lt;function&gt; is not defined at HTMLButtonElement.onclick</a></p>\n\n<p>Short answer is you need to add it to global scope. E.g add it to index.html and it should fire. But I recommend that you add it to your .ts-file and rewrite the function</p>\n"}], "owner": {"reputation": 198, "user_id": 9632291, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0pWD-sRfCX8/AAAAAAAAAAI/AAAAAAAAAFw/sHoKRMvu6ME/photo.jpg?sz=128", "display_name": "Pedro Junior", "link": "https://stackoverflow.com/users/9632291/pedro-junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3107, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1523476519, "creation_date": 1523471893, "last_edit_date": 1523476519, "question_id": 49782274, "link": "https://stackoverflow.com/questions/49782274/calling-a-typescript-function-from-a-javascript-function", "title": "Calling a TypeScript function from a JavaScript function", "body": "<p>On the file <code>app-component.html</code> there is a button:</p>\n\n<pre><code>&lt;button type=\"button\" onclick=\"confirmChanges()\"&gt;Save Changes&lt;/button&gt;\n</code></pre>\n\n<p>This <code>confirmChanges</code> calls a javascript function located on my <code>index.html</code> file:</p>\n\n<pre><code>&lt;script&gt;\n    function confirmChanges(){\n      var optionSelected = confirm('Are you sure?');\n      if(optionSelected == true){\n        alert('Changes were applied sucessfully!');\n        updateAddress();\n      } else{\n        alert('You discarded the changes!');\n      }\n    } \n  &lt;/script&gt;\n</code></pre>\n\n<p>The <code>updateAddress()</code> function its on my <code>app-component.ts</code> file. I would like to know how I could call a typescript function from a javascript function without getting <code>Uncaught ReferenceError</code>. Thank you.</p>\n"}, {"tags": ["typescript", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 5527293, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c4090049213e9dfa34f08378052a2491?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun Chua", "link": "https://stackoverflow.com/users/5527293/shaun-chua"}, "edited": false, "score": 0, "creation_date": 1523471044, "post_id": 49781990, "comment_id": 86579396, "body": "ok so what i want to understand is whether I have no choice but to manually turn each and every datestring into Date object inside the constructor"}, {"owner": {"reputation": 3023, "user_id": 580042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9de9c20ec2600c251befe649280678ae?s=128&d=identicon&r=PG", "display_name": "ideaboxer", "link": "https://stackoverflow.com/users/580042/ideaboxer"}, "reply_to_user": {"reputation": 527, "user_id": 5527293, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c4090049213e9dfa34f08378052a2491?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun Chua", "link": "https://stackoverflow.com/users/5527293/shaun-chua"}, "edited": false, "score": 0, "creation_date": 1523471248, "post_id": 49781990, "comment_id": 86579491, "body": "Yes unfortunately you have no choice. But you could consider avoiding <code>Date</code> objects and stick with date/time/date+time strings. Though <code>Date</code> objects offer benefits, they make things more complicated than necessary."}, {"owner": {"reputation": 527, "user_id": 5527293, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c4090049213e9dfa34f08378052a2491?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun Chua", "link": "https://stackoverflow.com/users/5527293/shaun-chua"}, "edited": false, "score": 0, "creation_date": 1523471509, "post_id": 49781990, "comment_id": 86579622, "body": "here&#39;s my follow up question, because with the new ngx bootstrap, they only accept Date objects as input for their Date fields, is there a quicker way of bypassing this process instead of the manual way?  Here is the documentation for the DatePicker module: <a href=\"https://valor-software.com/ngx-bootstrap/#/datepicker\" rel=\"nofollow noreferrer\">valor-software.com/ngx-bootstrap/#/datepicker</a>"}, {"owner": {"reputation": 3023, "user_id": 580042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9de9c20ec2600c251befe649280678ae?s=128&d=identicon&r=PG", "display_name": "ideaboxer", "link": "https://stackoverflow.com/users/580042/ideaboxer"}, "reply_to_user": {"reputation": 527, "user_id": 5527293, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c4090049213e9dfa34f08378052a2491?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun Chua", "link": "https://stackoverflow.com/users/5527293/shaun-chua"}, "edited": false, "score": 0, "creation_date": 1523472049, "post_id": 49781990, "comment_id": 86579882, "body": "I know that the standard type for date/time related controls is <code>Date</code>. But probably some of them accept date strings as alternative values. I am not sure about that. If the control of your choice is not that flexible, just provide it with a <code>new Date(yourDateString)</code> to make it happy. Of course you need to find a way of converting it back to a date string when saving the form."}, {"owner": {"reputation": 3023, "user_id": 580042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9de9c20ec2600c251befe649280678ae?s=128&d=identicon&r=PG", "display_name": "ideaboxer", "link": "https://stackoverflow.com/users/580042/ideaboxer"}, "reply_to_user": {"reputation": 527, "user_id": 5527293, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c4090049213e9dfa34f08378052a2491?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun Chua", "link": "https://stackoverflow.com/users/5527293/shaun-chua"}, "edited": false, "score": 0, "creation_date": 1523472319, "post_id": 49781990, "comment_id": 86580024, "body": "Unfortunately things like that are not really thought through by the makers of web technologies."}, {"owner": {"reputation": 3023, "user_id": 580042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9de9c20ec2600c251befe649280678ae?s=128&d=identicon&r=PG", "display_name": "ideaboxer", "link": "https://stackoverflow.com/users/580042/ideaboxer"}, "reply_to_user": {"reputation": 527, "user_id": 5527293, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c4090049213e9dfa34f08378052a2491?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun Chua", "link": "https://stackoverflow.com/users/5527293/shaun-chua"}, "edited": false, "score": 0, "creation_date": 1523472454, "post_id": 49781990, "comment_id": 86580102, "body": "Still I am interested what other people think about this topic."}], "tags": [], "owner": {"reputation": 3023, "user_id": 580042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9de9c20ec2600c251befe649280678ae?s=128&d=identicon&r=PG", "display_name": "ideaboxer", "link": "https://stackoverflow.com/users/580042/ideaboxer"}, "is_accepted": true, "score": 2, "last_activity_date": 1523473016, "last_edit_date": 1523473016, "creation_date": 1523470793, "answer_id": 49781990, "question_id": 49781947, "link": "https://stackoverflow.com/questions/49781947/object-assign-assigns-datestring-to-type-date-in-model/49781990#49781990", "title": "Object.assign assigns datestring to type Date in model", "body": "<p>The assignment happens during runtime where TypeScript is not active. It does type checking only during compilation.</p>\n\n<p>You have two choices:</p>\n\n<ul>\n<li>Do the type checks/conversions manually by the means of JavaScript.</li>\n<li>Use exactly the same types on server and client sides. This can be easily achieved if you choose TypeScript as your backend language, but should also be possible with other backend languages as long as there are class/interface autogenerators available for the language of your choice. But to benefit from that approach you need to go without <code>Date</code> objects and deal with date strings instead.</li>\n</ul>\n"}], "owner": {"reputation": 527, "user_id": 5527293, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c4090049213e9dfa34f08378052a2491?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun Chua", "link": "https://stackoverflow.com/users/5527293/shaun-chua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 1, "accepted_answer_id": 49781990, "answer_count": 1, "score": 2, "last_activity_date": 1523473016, "creation_date": 1523470643, "question_id": 49781947, "link": "https://stackoverflow.com/questions/49781947/object-assign-assigns-datestring-to-type-date-in-model", "title": "Object.assign assigns datestring to type Date in model", "body": "<p>I'm having trouble understanding why my model doesn't throw an error and instead freely assigned the datestring I get from the httpClient call to the Date type in my model.</p>\n\n<p>Here is the code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Data model\r\nexport class Data {\r\n  purpose: string = null;\r\n  percentSold: number = null;\r\n  originalTerm: number = null;\r\n  originatedBy: string = null;\r\n  noteDate: Date = null;\r\n  productType: string = null;\r\n  maturityDate: Date = null;\r\n  noteAmount: number = null;\r\n  disburseDate: Date = null;\r\n  interestRate: number = null;\r\n  number: number = null;\r\n  branch: string = null;\r\n  principal: number = null;\r\n  amountAdvanced: number = null;\r\n  code: Code;\r\n  mailingAddress: AccountAddress;\r\n\r\n  constructor() {\r\n    this.code = new Code();\r\n    this.mailingAddress = new AccountAddress();\r\n  }\r\n}\r\n\r\nlet data = new Data();\r\nObject.assign(data, someObjectFromRouteCall);\r\n\r\n// data object from Data model has noteDate and disimburseDate still be of type string</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [".net", "angular", "typescript", "core"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9632123, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pkFa9f6WSWE/AAAAAAAAAAI/AAAAAAAAAqI/XAaGT-lPQuI/photo.jpg?sz=128", "display_name": "Somya Rawal", "link": "https://stackoverflow.com/users/9632123/somya-rawal"}, "edited": false, "score": 0, "creation_date": 1524676924, "post_id": 49781965, "comment_id": 87072145, "body": "Thank you but what if I don&#39;t know the names of these properties (myGetSomeDataResponse.property1, myGetSomeDataResponse.property2). Is there any way by which I can iterate through the loop using myGetSomeDataResponse but without knowing properties names?. Please see my below response for detailed version."}, {"owner": {"reputation": 725, "user_id": 5884940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111243156a07f6ab1c9fb491851136e7?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5884940/kevin"}, "reply_to_user": {"reputation": 11, "user_id": 9632123, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pkFa9f6WSWE/AAAAAAAAAAI/AAAAAAAAAqI/XAaGT-lPQuI/photo.jpg?sz=128", "display_name": "Somya Rawal", "link": "https://stackoverflow.com/users/9632123/somya-rawal"}, "edited": false, "score": 0, "creation_date": 1524679378, "post_id": 49781965, "comment_id": 87073455, "body": "I&#39;ve updated my answer to get the property keys for the object, and then looping through those unknown property keys"}], "tags": [], "owner": {"reputation": 725, "user_id": 5884940, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111243156a07f6ab1c9fb491851136e7?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5884940/kevin"}, "is_accepted": false, "score": 0, "last_activity_date": 1524679349, "last_edit_date": 1524679349, "creation_date": 1523470694, "answer_id": 49781965, "question_id": 49781792, "link": "https://stackoverflow.com/questions/49781792/invoking-properites-of-a-class-in-typescript-without-defining-a-model-classtype/49781965#49781965", "title": "Invoking properites of a class in typescript without defining a model class(typescript)", "body": "<p>You don't have to declare a type. You can just subscribe to your api response like this in your component.ts:</p>\n\n<pre><code>myGetSomeDataResponse: any;\nobjectKeys = [];\n...\nthis.myService.getSomeData().subscribe(response =&gt; {\n   this.myGetSomeDataResponse = response;\n   this.objectKeys = Object.keys(this.myGetSomeDataResponse);\n});\n</code></pre>\n\n<p>In your component's html:</p>\n\n<pre><code>&lt;p *ngFor=\"let property of objectKeys\"&gt;{{myGetSomeDataResponse[property]}}&lt;/p&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9632123, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pkFa9f6WSWE/AAAAAAAAAAI/AAAAAAAAAqI/XAaGT-lPQuI/photo.jpg?sz=128", "display_name": "Somya Rawal", "link": "https://stackoverflow.com/users/9632123/somya-rawal"}, "is_accepted": false, "score": 0, "last_activity_date": 1523654973, "creation_date": 1523654973, "answer_id": 49825371, "question_id": 49781792, "link": "https://stackoverflow.com/questions/49781792/invoking-properites-of-a-class-in-typescript-without-defining-a-model-classtype/49825371#49825371", "title": "Invoking properites of a class in typescript without defining a model class(typescript)", "body": "<pre><code>May be, I was not clear with my question. What if I don't know the properties names of my entity? Is there any way to access these properties without using their names so instead of \n\n&lt;p&gt;myGetSomeDataResponse.property1&lt;/p&gt;\n&lt;p&gt;myGetSomeDataResponse.property2&lt;/p&gt;\n\nI would like to do something like \n\n  &lt;table&gt;\n        &lt;tr *ngFor=\"let AgeBandTableData of myGetSomeDataResponse\"&gt;\n            &lt;td&gt;{{AgeBandTableData.PolicyNumber}}&lt;/td&gt;\n            &lt;td&gt;{{AgeBandTableData.EffectiveDate}}&lt;/td&gt;\n            &lt;td&gt;{{AgeBandTableData.PolicyStatus}}&lt;/td&gt;\n            &lt;td&gt;{{AgeBandTableData.PlanName}}&lt;/td&gt;\n            &lt;td&gt;{{AgeBandTableData.Group}}&lt;/td&gt;\n            &lt;td&gt;&lt;button type=\"button\"&gt;Modify&lt;/button&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n\nbut without using these property names (PolicyNumber, EffectiveDate etc)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9632123, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pkFa9f6WSWE/AAAAAAAAAAI/AAAAAAAAAqI/XAaGT-lPQuI/photo.jpg?sz=128", "display_name": "Somya Rawal", "link": "https://stackoverflow.com/users/9632123/somya-rawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1524679349, "creation_date": 1523469983, "question_id": 49781792, "link": "https://stackoverflow.com/questions/49781792/invoking-properites-of-a-class-in-typescript-without-defining-a-model-classtype", "title": "Invoking properites of a class in typescript without defining a model class(typescript)", "body": "<p>I am working on angular 4 with .net core. I am passing data from server(oracle) to client side by using web API. Is there any way by which I can pass the data (using get/post or any other way) without creating a model class? The problem with defining structure for our entities is that we have huge data (many table with many columns) and manually defining all the entities will be very time consuming.\nDataflow is somewhat like this:\n      Model.cs->Controller.cs->Service.ts->Model.ts->Component.ts->component.html</p>\n\n<p>*want to get rid of model.ts.</p>\n"}, {"tags": ["angular", "typescript", "autocomplete", "angular-material"], "comments": [{"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1523468851, "post_id": 49781214, "comment_id": 86578265, "body": "You&#39;re probably calling the filter too soon. Show complete component code maybe, or at least when you filter the cities"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "reply_to_user": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1523469646, "post_id": 49781214, "comment_id": 86578687, "body": "David, I edit my post. Thank you"}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1523470179, "post_id": 49781214, "comment_id": 86578971, "body": "It&#39;s because you are user <code>this.cities</code> outside of the subscribe block. When your filter code executes, the <b>asynchronous</b> subscribe block has not been called yet, meaning your <code>cities</code> variable is undefined"}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1523470213, "post_id": 49781214, "comment_id": 86578991, "body": "what the <code>city_id</code> format look like?  you&#39;d better filter it in the <code>subscribe()</code> block due it is async invocation"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "reply_to_user": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1523470451, "post_id": 49781214, "comment_id": 86579103, "body": "@David I&#39;ve tried using the filter over constructor, like in demo example, but doesn&#39;t work. Please can you modify my code?"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "reply_to_user": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1523470662, "post_id": 49781214, "comment_id": 86579209, "body": "@haifzhan Yes I understand. Can you implement something please?"}], "owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1523471891, "creation_date": 1523467797, "last_edit_date": 1523469589, "question_id": 49781214, "link": "https://stackoverflow.com/questions/49781214/angular-filter-data-from-ws-showing-empty", "title": "Angular filter data from ws showing empty", "body": "<p>I get all city from ws correctly, but when I use in other filter cities are empty array. Please follow my code.</p>\n\n<pre><code>    client: Client;\n     cities: City[] = [];\n     selectedCity: string;\n     filteredOptionsCity: any;\n     city_id: FormControl = new FormControl();\n     myform: FormGroup;\n      constructor(public fb: FormBuilder) {\n\n\n    this.myform = this.fb.group({\n      'city_id': new FormControl('', Validators.required),\n      'client_name': new FormControl('', Validators.required),\n      'email': new FormControl('', Validators.required)\n    });\n  }\n\n    ngOnInit() {\n        this.populateForm();\n        this.ws.allcity().subscribe(\n            cities =&gt; {\n                this.cities = cities.map((city) =&gt; {\n                    return new City(city);\n                });\n                console.log(cities) //return all my city correctly\n            }\n        );\n        this.filteredOptionsCity = this.city_id.valueChanges.pipe(\n            startWith(''),\n            map(value =&gt; this.filterCity(value))\n        );\n        this.selectedCity = this.cities.filter(\n            x =&gt; x.city_id === this.client.city\n                .map(x =&gt; x.city_id)[0])\n            .map(y =&gt; y.name).join('')\n        console.log(this.cities) //cities are empty\n    }\n    }\n\n    populateForm() {\n        this.activatedRoute.params.subscribe(\n            params =&gt; {\n                this.ws.getClientById(params['id']).subscribe(\n                    client =&gt; {\n                        this.client = client;\n                        this.patchForm();\n                    }\n                );\n            }\n        );\n    }\n    patchForm() {\n        this.myform.controls['client_name'].setValue(this.client.clientName);\n        this.myform.controls['email'].setValue(this.client.email);\n        this.myform.controls['city_id'].setValue(this.client.city);\n    }\n    filterCity(val: string): City[] {\n        if (val) {\n            let filterValue = val.toString();\n            return this.cities.filter(city =&gt; city.name.toString().startsWith(filterValue));\n        }\n\n        return this.cities;\n    }\n</code></pre>\n\n<p>I want to filter cities, and I tried this to filter, but in this code, my cities are empty.</p>\n\n<pre><code>     this.selectedCity = this.cities .filter(\n          x =&gt; x.city_id === this.client.city\n          .map(x =&gt; x.city_id)[0])\n          .map(y =&gt; y.name).join('')\n          console.log(this.cities ) //cities are empty\n         }\n</code></pre>\n\n<p>I have an example that this logic works good, but when I used data from ws, this doesn't work for me. <a href=\"https://stackblitz.com/edit/angular-g2hcvs-gpfwjr?file=app%2Fautocomplete-overview-example.html\" rel=\"nofollow noreferrer\"><strong>DEMO Example</strong></a></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 12, "last_activity_date": 1523468486, "last_edit_date": 1523468486, "creation_date": 1523467622, "answer_id": 49781160, "question_id": 49781101, "link": "https://stackoverflow.com/questions/49781101/typescript-discriminating-union-parameter-of-discrimating-property-type/49781160#49781160", "title": "TypeScript discriminating union - parameter of discrimating property type", "body": "<p>You can retrieve the type of a field in another object type by using bracket notation. For your example, simply:</p>\n\n<pre><code>function useAnimalType(type: Animal[\"type\"]) {}\n</code></pre>\n\n<p>would suffice. In such case, <code>Animal[\"type\"]</code> is inferred to be <code>\"cat\" | \"dog\"</code>.</p>\n"}], "owner": {"reputation": 7307, "user_id": 472015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dd31c566b8e5e541810b1cfcdce25170?s=128&d=identicon&r=PG", "display_name": "Deathspike", "link": "https://stackoverflow.com/users/472015/deathspike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 2, "accepted_answer_id": 49781160, "answer_count": 1, "score": 8, "last_activity_date": 1523468486, "creation_date": 1523467369, "question_id": 49781101, "link": "https://stackoverflow.com/questions/49781101/typescript-discriminating-union-parameter-of-discrimating-property-type", "title": "TypeScript discriminating union - parameter of discrimating property type", "body": "<p>I have the following definitions:</p>\n\n<pre><code>interface Dog {\n  bark(): void;\n  type: 'dog';\n}\n\ninterface Cat {\n  meow(): void;\n  type: 'cat';\n}\n\ntype Animal = Cat | Dog;\n</code></pre>\n\n<p>Now I would like to make a function that uses <code>Animal.type</code> as a parameter:</p>\n\n<pre><code>function useAnimalType(type: string) {}\n</code></pre>\n\n<p>In this example, I used <code>string</code>, but I really mean <code>'cat' | 'dog'</code>. I realize I could write out all the possible <code>type</code> of <code>Animal</code>, but imagine a scenario when there are hundreds of animal types defined in <code>Animal</code>. How do I reuse the <code>Animal.type</code> as a parameter here?</p>\n"}, {"tags": ["angular", "function", "typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1523467856, "post_id": 49780994, "comment_id": 86577738, "body": "Have you looked into watching changes on your <code>check</code> input via the <code>OnChanges</code> life cycle hook?"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1523468523, "post_id": 49781295, "comment_id": 86578083, "body": "Thank you! the first comment actually did the job! but you expended a bit on it and I  appreciate it! thanks a bunch! i&#39;ll give those a try :)"}, {"owner": {"reputation": 2567, "user_id": 1060794, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e7bf181e292e585f6cc09aa2931e9a97?s=128&d=identicon&r=PG", "display_name": "Zzz", "link": "https://stackoverflow.com/users/1060794/zzz"}, "reply_to_user": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "edited": false, "score": 0, "creation_date": 1523468731, "post_id": 49781295, "comment_id": 86578206, "body": "No problem R&#39; Goren. Remember to select a correct answer. :)"}], "tags": [], "owner": {"reputation": 2567, "user_id": 1060794, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e7bf181e292e585f6cc09aa2931e9a97?s=128&d=identicon&r=PG", "display_name": "Zzz", "link": "https://stackoverflow.com/users/1060794/zzz"}, "is_accepted": false, "score": 0, "last_activity_date": 1523469213, "last_edit_date": 1523469213, "creation_date": 1523468104, "answer_id": 49781295, "question_id": 49780994, "link": "https://stackoverflow.com/questions/49780994/angular-4-parent-child-consistent-data-transfer/49781295#49781295", "title": "Angular 4 Parent-Child consistent data transfer", "body": "<p>There are two ways of detecting and acting when an input changes in the child component in angular, <code>ngOnChanges()</code> or the <code>input property setter</code></p>\n\n<ol>\n<li>The ngOnChanges() lifecycle:</li>\n</ol>\n\n<p>@Input() check: string;</p>\n\n<pre><code>ngOnChanges(changes: SimpleChanges) {\n\n    this.checkBranch(changes.check.currentValue);\n    // You can check.previousValue and check.firstChange for comparing the old and new value\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>The input property setter as follows</li>\n</ol>\n\n<p>private _check: string;</p>\n\n<pre><code>@Input() set check(value: string) {\n   this._check= value;\n   this.checkBranch(this._check);\n\n}\n\nget check(): string {\n    return this._check;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "is_accepted": false, "score": 0, "last_activity_date": 1523468136, "creation_date": 1523468136, "answer_id": 49781305, "question_id": 49780994, "link": "https://stackoverflow.com/questions/49780994/angular-4-parent-child-consistent-data-transfer/49781305#49781305", "title": "Angular 4 Parent-Child consistent data transfer", "body": "<p>I think that you should instead do your processing of the <code>check</code> input in the <code>OnChanges</code> life cycle hook instead of the <code>OnInit</code> one.</p>\n\n<pre><code>import { ... OnChanges, SimpleChanges } from '@angular/core';\n\n@Component(...)\nexport class CcaBankBranchesComponent implements OnInit, OnChanges {\n  ...\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['check']) {\n      this.branch = this.checkBranch(this.check);\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 7327135, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154851533786100/picture?type=large", "display_name": "Liad Goren", "link": "https://stackoverflow.com/users/7327135/liad-goren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523469213, "creation_date": 1523466985, "question_id": 49780994, "link": "https://stackoverflow.com/questions/49780994/angular-4-parent-child-consistent-data-transfer", "title": "Angular 4 Parent-Child consistent data transfer", "body": "<p>I'm having a problem with this small task while learning Angular 4.\nI've tried reading about data transfer between components and I've tried reading about 2 way binding - none seem to work.</p>\n\n<p>I'll post my Parent and Child component's .ts and .html files</p>\n\n<p>Parent .ts file :</p>\n\n<pre><code> import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-cca-bank',\n  templateUrl: './cca-bank.component.html',\n  styleUrls: ['./cca-bank.component.css']\n})\nexport class CcaBankComponent implements OnInit {\n\n  bank:string = 'asd';\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n\n<p>Parent .html file:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;h3&gt;Enter your Bank's name to see it's aviable branches&lt;/h3&gt;\n  &lt;input [(ngModel)]=\"bank\" placeholder=\"Enter your bank's name\"/&gt;\n&lt;/div&gt;\n&lt;app-cca-bank-branches [check]=\"bank\"&gt;&lt;/app-cca-bank-branches&gt;\n</code></pre>\n\n<p>Child .ts file:</p>\n\n<pre><code>import { Component, OnInit,Input,Output,EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-cca-bank-branches',\n  templateUrl: './cca-bank-branches.component.html',\n  styleUrls: ['./cca-bank-branches.component.css']\n})\nexport class CcaBankBranchesComponent implements OnInit {\n\n  constructor() { }\n\n  @Input() check:string;\n\n  branch:string;\n\n  checkBranch(check){\n    if(this.check == \"poalim\"){\n     this.branch = 'aviable branches are 1 2 3';\n     return this.branch\n    }else{\n      this.branch = 'error';\n      return this.branch\n    }\n  };\n  ngOnInit() {\n    this.branch = this.checkBranch(this.check);\n  }\n}\n</code></pre>\n\n<p>Child .html file:</p>\n\n<pre><code>&lt;div&gt;\n  List of aviable Branches :\n  {{branch}}&lt;br&gt;\n  {{check}}\n&lt;/div&gt;\n</code></pre>\n\n<p>What I am aiming for is that when ever the user writes into the parent input - the child gets that input and runs it in the \"checkBranch()\" function and checks its value : unless the user writes \"poalim\" it should always return and error.</p>\n\n<p>What happens is that the first value that the \"bank\" variable, in the parent's .ts file, is the value that the child gets. And no matter how many times I change it - it won't change dynamically - \nwhat happens is that unless the \"bank\" variable is set to \"poalim\" to begin with - no matter how many times I change the input - it won't change.\nI am pretty sure it has to do with the fact that I run the function in the NgOnInit part of the class - but I can't seem to find a way to run it differently...</p>\n\n<p>I must have the logic happening in the .ts file (Done it through the HTML file and it did work - now I need the ts file to preform the functionality of my code)</p>\n\n<p>Thanks in advance ! really, I've been trying for 5 hours now.</p>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 0, "last_activity_date": 1523468590, "creation_date": 1523468590, "answer_id": 49781423, "question_id": 49780826, "link": "https://stackoverflow.com/questions/49780826/why-does-classic-module-resolution-fail-to-find-only-one-of-my-installed-modules/49781423#49781423", "title": "Why does classic module resolution fail to find only one of my installed modules?", "body": "<p><code>log4js</code> has types specified in its <code>package.json</code>, but <code>classic</code> doesn't read <code>package.json</code> entries from non-<code>@types</code> folders.</p>\n\n<p>As the naming implies, this is the \"classic\" behavior rather than behavior someone might actually want and is provided mostly for back-compat reasons.</p>\n"}], "owner": {"reputation": 1839, "user_id": 242885, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vnNUv.jpg?s=128&g=1", "display_name": "duggulous", "link": "https://stackoverflow.com/users/242885/duggulous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 49781423, "answer_count": 1, "score": 1, "last_activity_date": 1523468590, "creation_date": 1523466314, "question_id": 49780826, "link": "https://stackoverflow.com/questions/49780826/why-does-classic-module-resolution-fail-to-find-only-one-of-my-installed-modules", "title": "Why does classic module resolution fail to find only one of my installed modules?", "body": "<p>I have a node project with a few modules installed.</p>\n\n<pre><code>\"dependencies\": {\n    \"@types/express\": \"^4.11.1\",\n    \"@types/express-fileupload\": \"^0.1.1\",\n    \"@types/mongodb\": \"^3.0.12\",\n    \"@types/npm\": \"^2.0.29\",\n    \"express\": \"^4.16.3\",\n    \"express-fileupload\": \"^0.4.0\",\n    \"log4js\": \"^2.5.3\",\n    \"mongodb\": \"^3.0.5\"\n  }\n</code></pre>\n\n<p>When I invoke the typescript compiler with tsc -p . I receive the following error:</p>\n\n<blockquote>\n  <p>app.ts(5,24): error TS2307: Cannot find module 'log4js'.</p>\n</blockquote>\n\n<p>I can get it to compile successfully by adding the following to my compiler options in tsconfig.json:</p>\n\n<pre><code>\"moduleResolution\": \"node\"\n</code></pre>\n\n<p>But why, under the default module resolution, is log4js the only module not found?  Since all the modules are in the same folder, I would the compiler to be able to locate either all, or none of them.</p>\n"}, {"tags": ["javascript", "typescript", "encryption", "cryptojs"], "comments": [{"owner": {"reputation": 134, "user_id": 7208862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/347501768951589/picture?type=large", "display_name": "Andrea Perelli", "link": "https://stackoverflow.com/users/7208862/andrea-perelli"}, "edited": false, "score": 0, "creation_date": 1531774637, "post_id": 49780633, "comment_id": 89712249, "body": "I think that you have to provide in which way you encrypt the string, we cannot help you now (e.g. if is sha256 you can&#39;t decrypt)."}], "owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 684, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1531775815, "creation_date": 1523465671, "last_edit_date": 1531775815, "question_id": 49780633, "link": "https://stackoverflow.com/questions/49780633/how-to-decrypt-using-crypto-js-with-typescript", "title": "How to decrypt using crypto-js with typescript?", "body": "<p>I have an encrypted code snippet, which I would like to decrypt by using <code>crypto-js</code>. Below I've tried to convert it w/o success. I dont see any response, any idea what is a correct way to decrypt?</p>\n\n<p>this is my code:</p>\n\n<pre><code>import * as CryptoJS from 'crypto-js';\nconst encryptedValue = \"MIIBCAQEAuPFrd+xVq/ciJKo5xQjL8KHtaDA/IHgWMuaeg2rB9FptbUa+nE7Qx9TL2HLaTDQvF\" \n\nprivate decryptStr(args): string {\n        const decrypted = CryptoJS.decrypt(args, {\n            keySize: 128 / 8,\n            mode: CryptoJS.mode.CBC,\n            padding: CryptoJS.pad.Pkcs7\n        });\n        return  console.log('EncryptMethod',  decrypted);\n    }\n\nthis.decryptStr(encryptedValue);\n</code></pre>\n"}, {"tags": ["typescript", "namespaces"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1523468552, "last_edit_date": 1523468552, "creation_date": 1523465866, "answer_id": 49780706, "question_id": 49780506, "link": "https://stackoverflow.com/questions/49780506/typescript-augument-interface-from-namespace-declared-in-types/49780706#49780706", "title": "typescript augument interface from namespace declared in @types", "body": "<p>There is a difference between augmenting a module and an ambient declaration. In your case the definitions for <code>datatables.net</code> just de declare a <code>namespace</code> and an <code>interface</code>. This means you can just redeclare these in another <code>d.ts</code> file and they will get merged:</p>\n\n<pre><code>// datatables.d.ts\ndeclare namespace DataTables {\n\n    interface Settings {\n        responsive : boolean\n    }\n}\n\n// usage.ts\n/// &lt;reference path=\"./node_modules/@types/datatables.net/index.d.ts\" /&gt;\n/// &lt;reference path=\"./datatables.d.ts\" /&gt;\n\nlet settings : DataTables.Settings = {\n    responsive: true, // ok, from us \n    autoWidth: true // from lib\n}\n</code></pre>\n\n<p>For module augmentation you can have a look <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">here</a> in the module augmentation section.</p>\n\n<p>PS: <em>tslint.json</em> should use at least <code>\"allow-declarations\"</code> for the rule <code>\"no-namespace\"</code> otherwise the IDE might trick you by invalidating the <code>declare</code> keyword (e.g. use <code>\"no-namespace\": [true, \"allow-declarations\"]</code>).</p>\n"}], "owner": {"reputation": 1852, "user_id": 4681265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pmOC.png?s=128&g=1", "display_name": "adrhc", "link": "https://stackoverflow.com/users/4681265/adrhc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 1, "accepted_answer_id": 49780706, "answer_count": 1, "score": 0, "last_activity_date": 1540377180, "creation_date": 1523465211, "last_edit_date": 1540377180, "question_id": 49780506, "link": "https://stackoverflow.com/questions/49780506/typescript-augument-interface-from-namespace-declared-in-types", "title": "typescript augument interface from namespace declared in @types", "body": "<p>I'm trying to add the e.g. <em>responsive</em> property into e.g. interface <em>Settings</em> from e.g. node_modules/@types/datatables.net/index.d.ts:</p>\n\n<pre><code>declare namespace DataTables {\n    ...\n    interface Settings {\n    ...\n</code></pre>\n\n<p>My project is based on <a href=\"https://github.com/gdi2290/angular-starter\" rel=\"nofollow noreferrer\">https://github.com/gdi2290/angular-starter</a> and I want to use that property with <em>datatables.net-responsive-bs4</em> which implements it. </p>\n\n<p>Q: How would I write the declaration for adding the <em>responsive</em> property?</p>\n\n<p>PS: I'm specifically interesting in learning how to write that kind of declaration into my project</p>\n"}, {"tags": ["typescript", "koa", "koa2", "koa-router"], "comments": [{"owner": {"reputation": 448, "user_id": 3355964, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/nNbpB.jpg?s=128&g=1", "display_name": "thesearentthedroids", "link": "https://stackoverflow.com/users/3355964/thesearentthedroids"}, "edited": false, "score": 0, "creation_date": 1524134550, "post_id": 49779757, "comment_id": 86853345, "body": "I think you have to disable the default error handler your router provides."}, {"owner": {"reputation": 545, "user_id": 2906175, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pAVNB.gif?s=128&g=1", "display_name": "peterschrott", "link": "https://stackoverflow.com/users/2906175/peterschrott"}, "reply_to_user": {"reputation": 448, "user_id": 3355964, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/nNbpB.jpg?s=128&g=1", "display_name": "thesearentthedroids", "link": "https://stackoverflow.com/users/3355964/thesearentthedroids"}, "edited": false, "score": 0, "creation_date": 1524223018, "post_id": 49779757, "comment_id": 86896404, "body": "@thesearentthedroids, unfortunately this is only true for express, when I do this for koa an error its thrown on the actual error and the handler does not kick in."}], "owner": {"reputation": 545, "user_id": 2906175, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pAVNB.gif?s=128&g=1", "display_name": "peterschrott", "link": "https://stackoverflow.com/users/2906175/peterschrott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523462948, "creation_date": 1523462635, "last_edit_date": 1523462948, "question_id": 49779757, "link": "https://stackoverflow.com/questions/49779757/error-handling-with-koa-and-routing-congrollers", "title": "Error Handling with Koa and routing-congrollers", "body": "<p>I am looking for a a solution of a generalised error handing when using the library <a href=\"https://github.com/typestack/routing-controllers\" rel=\"nofollow noreferrer\">routing-controllers</a>. </p>\n\n<p>My custom error handling should be able to catch any rejected <code>Promise</code>s coming from the <code>Controller</code>, build a response body from it and sets the HTTP code according to the type of the error on the response. I do not like the Koa default error handling, as I want to spit out my custom response body (not stack trace, etc...).</p>\n\n<p>On a simple setup like described in the <a href=\"https://github.com/typestack/routing-controllers#example-of-usage\" rel=\"nofollow noreferrer\">example</a> with passing the <code>Controller</code> on the initialisation of the app it is not longer possible to use a Koa error handling described in the <a href=\"https://github.com/koajs/koa/wiki/Error-Handling\" rel=\"nofollow noreferrer\">Koa wiki</a>.</p>\n\n<p>In detail, I set up the app like:</p>\n\n<pre><code>const app = createExpressServer({\n   controllers: [UserController]\n});\napp.listen(3000);\n</code></pre>\n\n<p>and try to add an error handler the following way:</p>\n\n<pre><code>app.use(async (ctx, next) =&gt; {\n  try {\n    await next();\n  } catch (err) {\n    console.log(err)\n  }\n});\n</code></pre>\n\n<p>I am not sure if I am doing something wrong or those two approaches are just not compatible. In case of the latter: Does anyone has a solution to the outlined problem?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": true, "score": 1, "last_activity_date": 1523462834, "creation_date": 1523462834, "answer_id": 49779825, "question_id": 49779674, "link": "https://stackoverflow.com/questions/49779674/how-to-solve-typescript-typing-issue-with-component-composition/49779825#49779825", "title": "How to solve TypeScript typing issue with component composition", "body": "<p>I think the short answer is that there is no way to declare the exact type you want (I would be interested to hear otherwise!).</p>\n\n<p>To be honest I would normally just go with:</p>\n\n<pre><code>export interface MenuBarProps {\n    items: React.ReactNode;\n}\n</code></pre>\n\n<p>And rely on consumers of the code to do the sensible thing.</p>\n\n<p>The only other thing I would consider is that perhaps you could use:</p>\n\n<pre><code>export interface MenuBarProps {\n    items: React.Component&lt;MenuItemProps&gt;;\n}\n</code></pre>\n\n<p>This would only make sense if the various different menu item components all shared a set of common props.</p>\n"}], "owner": {"reputation": 1812, "user_id": 1982441, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/deF2f.jpg?s=128&g=1", "display_name": "CookieMonster", "link": "https://stackoverflow.com/users/1982441/cookiemonster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 49779825, "answer_count": 1, "score": 0, "last_activity_date": 1523462834, "creation_date": 1523462404, "question_id": 49779674, "link": "https://stackoverflow.com/questions/49779674/how-to-solve-typescript-typing-issue-with-component-composition", "title": "How to solve TypeScript typing issue with component composition", "body": "<p>React promotes composition over inheritance, but I </p>\n\n<p>I have a React component in TypeScript that should host certain kinds of React components. For example, let's say I have a <code>MenuBar</code> component, and it takes an array of various <code>MenuBarItem</code> components it can host as a prop. I want to force all menu bar items to have the same root element structure, so they must be rendering the <code>MenuBarItem</code> component at the root.</p>\n\n<p>The problem I have is that, if I was using inheritance, I can achieve this by defining the prop as something like <code>items: MenuBarItem[]</code>, but I cannot figure this out how to enforce this with composition.</p>\n\n<p>By using composition, I created <code>FooMenuBarItem</code> and <code>BarMenuBarItem</code>, and let them render the <code>MenuBarItem</code> internally (See below). So, they don't share the common base class that I can use as a type.</p>\n\n<p>How would I solve this typing problem with composition?</p>\n\n<pre><code>export class MenuBarItem extends React.Component&lt;{}, {}&gt; {\n    render() { return /*...*/; }\n}\nexport class FooMenuBarItem extends React.Component&lt;{}, {}&gt; {\n    render() { return &lt;MenuBarItem&gt;Foo&lt;/MenuBarItem&gt;;}\n}\nexport class BarMenuBarItem extends React.Component&lt;{}, {}&gt; {\n    render() { return &lt;MenuBarItem&gt;Bar&lt;/MenuBarItem&gt;;}\n}\n\nexport interface MenuBarProps {\n    items: MenuBarItem[]; // This would only work if I use inheritance to get the common base type!\n}\nexport class MenuBar extends React.Component&lt;MenuBarProps , {}&gt; {\n    render() {\n        &lt;div&gt;{this.props.menuBarItems}&lt;/div&gt;\n    }\n}\n</code></pre>\n\n<p>I found a similar question <a href=\"https://stackoverflow.com/questions/42826548/how-to-validate-component-composition-base-component-rendered-root-compone\">here</a>, but with no answers.</p>\n"}, {"tags": ["typescript", "mocha.js", "sinon"], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 1, "last_activity_date": 1523469104, "creation_date": 1523469104, "answer_id": 49781556, "question_id": 49779648, "link": "https://stackoverflow.com/questions/49779648/unit-testing-in-typescript-with-mocha/49781556#49781556", "title": "Unit testing in typescript with mocha", "body": "<p>There is no <code>res.render</code> and it's not being called. <code>as sinon.SinonStub</code> type assertion was likely used to suppress type error that could be reported at compilation time otherwise.</p>\n\n<p>Since it is <code>res.json('OK')</code>, it should be:</p>\n\n<pre><code>sinon.assert.calledWith(res.json, 'OK');     \n</code></pre>\n"}], "owner": {"reputation": 537, "user_id": 2254469, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/03de4348d3fc47aeacfccadde6f383a8?s=128&d=identicon&r=PG", "display_name": "TLR", "link": "https://stackoverflow.com/users/2254469/tlr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523469104, "creation_date": 1523462344, "question_id": 49779648, "link": "https://stackoverflow.com/questions/49779648/unit-testing-in-typescript-with-mocha", "title": "Unit testing in typescript with mocha", "body": "<p>I'm starting with unit testings and I'd like to unit test my routes with sinon and mocha</p>\n\n<p>My controller looks like this :</p>\n\n<pre><code>import { NextFunction, Request, Response, Router } from 'express';\n\n\nexport default class Sample {\n\n  constructor(a: string) {\n    console.error('constructor',a);\n  }\n\n  public getAll(req: Request, res: Response, next: NextFunction) {\n    res.json('OK');\n  }\n}\n</code></pre>\n\n<p>This is what I did so far to test it :</p>\n\n<pre><code>import { expect } from 'chai';\nimport 'mocha';\nimport * as sinon from 'sinon';  \n\nimport Sample from './../controllers/Sample';\nimport { Response, Request, NextFunction } from 'express';\n\ndescribe('Hello function', () =&gt; {\n\n  it('should return hello world', async () =&gt; {\n    const sample = new Sample('sample');\n\n    const req: Partial&lt;Request&gt; = {};\n    const res: Partial&lt;Response&gt; = {\n      json: sinon.stub(),\n    };\n    const next: Partial&lt;NextFunction&gt; = {};\n\n    await sample.getAll(&lt;Request&gt;req, &lt;Response&gt;res, &lt;NextFunction&gt; next);\n    const expectedResult = 'OK';\n\n    sinon.assert.calledWith(\n      res.render as sinon.SinonStub, \n      'OK');      \n\n  });\n\n});\n</code></pre>\n\n<p>However I got the following error :</p>\n\n<pre><code>constructor sample\n    1) should return hello world\n\n\n  0 passing (39ms)\n  1 failing\n\n  1) Hello function\n       should return hello world:\n     AssertError: fake is not a spy\n      at Object.fail (node_modules/sinon/lib/sinon/assert.js:96:21)\n</code></pre>\n\n<p>What am I doing wrong ?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1523462252, "post_id": 49779571, "comment_id": 86574593, "body": "<code>this.getBooks.bind(this)</code>? This is JS binding behaviour, nothing to do with TS."}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1523464210, "post_id": 49779571, "comment_id": 86575850, "body": "That works as well.  Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 1, "creation_date": 1523462322, "post_id": 49779603, "comment_id": 86574660, "body": "Brilliant.  Thanks.  I&#39;ll accept the answer when I can."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1523462346, "last_edit_date": 1523462346, "creation_date": 1523462241, "answer_id": 49779603, "question_id": 49779571, "link": "https://stackoverflow.com/questions/49779571/passing-a-class-function-as-a-callback-and-having-this-be-set-in-typescript/49779603#49779603", "title": "Passing a class function as a callback and having this be set in typescript", "body": "<p>You can define <code>getBooks</code> as a field of type function, and assign it an arrow function, thus capturing the correct <code>this</code>:</p>\n\n<pre><code>export class BooksController {\n\n  constructor (private booksService: BooksService) { }\n\n  register(router: express.Router) {\n    router.get('/', this.getBooks);\n  }\n\n  private getBooks = (req: express.Request, rsp: express.Response, next: express.NextFunction) =&gt; {\n    rsp.json(this.booksService.getAllBooks());\n  }\n\n}\n</code></pre>\n\n<p>This does have some performance implications, as the function will be created in the constructor, but if you are just going to create an arrow function on each call anyway it should be worse.</p>\n"}], "owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 49779603, "answer_count": 1, "score": 0, "last_activity_date": 1523462346, "creation_date": 1523462127, "question_id": 49779571, "link": "https://stackoverflow.com/questions/49779571/passing-a-class-function-as-a-callback-and-having-this-be-set-in-typescript", "title": "Passing a class function as a callback and having this be set in typescript", "body": "<p>In my express application I have controllers which look something like:</p>\n\n<pre><code>import * as express from 'express';\nimport { BooksService } from '../services';\n\nexport class BooksController {\n\n  constructor (private booksService: BooksService) { }\n\n  register(router: express.Router) {\n    //LINE IN QUESTION\n    router.get('/', (req, rsp, next) =&gt; this.getBooks(req, rsp, next));\n  }\n\n  private getBooks(req: express.Request, rsp: express.Response, next: express.NextFunction) {\n    rsp.json(this.booksService.getAllBooks());\n  }\n\n}\n</code></pre>\n\n<p>However, I would really like to just write the line in question as:</p>\n\n<pre><code>router.get('/', this.getBooks);\n</code></pre>\n\n<p>...but of course then <code>this</code> will be undefined.</p>\n\n<p>I can also make <code>getBooks</code> a stateless function outside the class:</p>\n\n<pre><code>function getBooks(booksService: BooksService) {\n  return function(req: express.Request, rsp: express.Response, next: express.NextFunction) {\n    rsp.json(booksService.getAllBooks());\n  };\n}\n</code></pre>\n\n<p>Which allows me to rewrite the line in question as:</p>\n\n<pre><code>router.get('/', getBooks(this.booksService));\n</code></pre>\n\n<p>...but that is still a tedious amount of boilerplate, especially if <code>getBooks</code> requires access to more than one instance variable.</p>\n\n<p>Is there any way I can pass <code>this.getBooks</code> as a callback to express so that <code>this</code> will be defined when it is called?  I feel like I'm missing something simple.</p>\n"}, {"tags": ["typescript", "react-native", "react-native-firebase"], "comments": [{"owner": {"reputation": 11687, "user_id": 1680836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7bb9af77981f04237f59efd6826d949?s=128&d=identicon&r=PG", "display_name": "War10ck", "link": "https://stackoverflow.com/users/1680836/war10ck"}, "edited": false, "score": 0, "creation_date": 1523461332, "post_id": 49779253, "comment_id": 86573974, "body": "The <code>tsconfig.json</code> maybe useful in this case. If you could provide that, that would be great..."}, {"owner": {"reputation": 1322, "user_id": 716210, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/66b14b3c3cedf48f1ac03e3f39c5934e?s=128&d=identicon&r=PG", "display_name": "Aleski", "link": "https://stackoverflow.com/users/716210/aleski"}, "reply_to_user": {"reputation": 11687, "user_id": 1680836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7bb9af77981f04237f59efd6826d949?s=128&d=identicon&r=PG", "display_name": "War10ck", "link": "https://stackoverflow.com/users/1680836/war10ck"}, "edited": false, "score": 0, "creation_date": 1523483672, "post_id": 49779253, "comment_id": 86585390, "body": "Added <code>tsconfig.json</code> :)"}, {"owner": {"reputation": 1347, "user_id": 890624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a355e7d29b580cc1fbb9c70bff46e87d?s=128&d=identicon&r=PG", "display_name": "ecraig12345", "link": "https://stackoverflow.com/users/890624/ecraig12345"}, "edited": false, "score": 0, "creation_date": 1523589950, "post_id": 49779253, "comment_id": 86632509, "body": "@Aleski If either answer helped, can you please mark one as accepted? (or comment if you&#39;d like clarification)"}, {"owner": {"reputation": 1322, "user_id": 716210, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/66b14b3c3cedf48f1ac03e3f39c5934e?s=128&d=identicon&r=PG", "display_name": "Aleski", "link": "https://stackoverflow.com/users/716210/aleski"}, "edited": false, "score": 0, "creation_date": 1524050944, "post_id": 49779253, "comment_id": 86812512, "body": "My bad, yeh it was sorted by Chris below (not in 4.0.2 but eventually in 4.0.4 after some troubleshooting)"}], "answers": [{"tags": [], "owner": {"reputation": 1347, "user_id": 890624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a355e7d29b580cc1fbb9c70bff46e87d?s=128&d=identicon&r=PG", "display_name": "ecraig12345", "link": "https://stackoverflow.com/users/890624/ecraig12345"}, "is_accepted": false, "score": 0, "last_activity_date": 1523505534, "last_edit_date": 1523505534, "creation_date": 1523503310, "answer_id": 49787447, "question_id": 49779253, "link": "https://stackoverflow.com/questions/49779253/confusion-around-typescript-errors-when-typings-seemingly-exist/49787447#49787447", "title": "Confusion around typescript errors when typings seemingly exist", "body": "<p>Try calling <code>notifications</code> as a function: <code>firebase.notifications().Notification()</code></p>\n\n<hr>\n\n<p><strong>Why?</strong></p>\n\n<p>Looking at the error message:</p>\n\n<pre><code>[ts] Property 'Notification' does not exist on type '{ (): Notifications; \nnativeModuleExists: boolean }'\n</code></pre>\n\n<p>It means <code>firebase.notifications</code> is of type <code>{ (): Notifications; nativeModuleExists: boolean }</code>. </p>\n\n<p>What does the property <code>(): Notifications</code> mean? In an interface, a property <code>()</code> with no name indicates that <strong>the interface itself is callable/represents a function</strong>, in this a function which returns a <code>Notifications</code> object. These <a href=\"https://basarat.gitbooks.io/typescript/docs/types/callable.html\" rel=\"nofollow noreferrer\">callable interfaces</a> can also have other properties, such as <code>nativeModuleExists</code> here, because functions are first-class objects in JavaScript.</p>\n\n<p>Anyway, the error message tells precisely what went wrong, but the syntax it uses to do so is a bit obscure--making what's essentially a typo seem like a way more complicated problem.</p>\n"}, {"tags": [], "owner": {"reputation": 197, "user_id": 5909648, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KOJy-P_QoII/AAAAAAAAAAI/AAAAAAAADe4/ls847oLJmoA/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/5909648/chris"}, "is_accepted": true, "score": 2, "last_activity_date": 1523519567, "creation_date": 1523519567, "answer_id": 49790890, "question_id": 49779253, "link": "https://stackoverflow.com/questions/49779253/confusion-around-typescript-errors-when-typings-seemingly-exist/49790890#49790890", "title": "Confusion around typescript errors when typings seemingly exist", "body": "<p>This looks like an oversight on our part - we missed the static types from the Typescript definition.  I've just pushed up a fix which will land as part of v4.0.2 later today: <a href=\"https://github.com/invertase/react-native-firebase/commit/590d69ce8985842e830c234e18d020efc98e76c8\" rel=\"nofollow noreferrer\">https://github.com/invertase/react-native-firebase/commit/590d69ce8985842e830c234e18d020efc98e76c8</a></p>\n"}], "owner": {"reputation": 1322, "user_id": 716210, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/66b14b3c3cedf48f1ac03e3f39c5934e?s=128&d=identicon&r=PG", "display_name": "Aleski", "link": "https://stackoverflow.com/users/716210/aleski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 49790890, "answer_count": 2, "score": 0, "last_activity_date": 1523519567, "creation_date": 1523461228, "last_edit_date": 1523483656, "question_id": 49779253, "link": "https://stackoverflow.com/questions/49779253/confusion-around-typescript-errors-when-typings-seemingly-exist", "title": "Confusion around typescript errors when typings seemingly exist", "body": "<p>I'm working on a <code>react-native</code> project that is utilising the package <code>react-native-firebase</code> as a solution to providing remote and local notifications.</p>\n\n<p>All is well, if I do the following:</p>\n\n<pre><code>import firebase from 'react-native-firebase'\n\n...\nconst messagingPermission = await firebase.messaging().hasPermission()\n</code></pre>\n\n<p>The above code runs fine and has no complaints to be made. However,</p>\n\n<pre><code>import firebase from 'react-native-firebase'\n\n...\nconst customNotification = new firebase.notifications.Notification()\n</code></pre>\n\n<p>Complains with </p>\n\n<pre><code>[ts] Property 'Notification' does not exist on type '{ (): Notifications; \nnativeModuleExists: boolean }'\n</code></pre>\n\n<p>However if I follow through the typings (ctrl+click) then I can see the class <code>Notifications</code> there and typed up.</p>\n\n<p>Am I missing a vital Typescript lesson here or gotcha that I have overlooked? I'm positive the package is typed correctly so what is going on here?</p>\n\n<p>I can provide my <code>tsconfig.json</code> if you think it would be helpful.</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es2015\",\n        \"module\": \"es2015\",\n        \"moduleResolution\": \"node\",\n        \"allowSyntheticDefaultImports\": true,\n        \"noImplicitAny\": false,\n        \"preserveConstEnums\": true,\n        \"allowJs\": false,\n        \"sourceMap\": true,\n        \"noImplicitReturns\": true,\n        \"noUnusedParameters\": true,\n        \"noUnusedLocals\": true,\n        \"watch\": false,\n        \"skipLibCheck\": true,\n        \"jsx\": \"react\",\n        \"outDir\": \"artifacts\",\n        \"rootDir\": \"src\",\n        \"baseUrl\": \"src\",\n  },\n  \"filesGlob\": [\n      \"typings/index.d.ts\",\n      \"app/**/*.ts\",\n      \"app/**/*.tsx\"\n  ],\n  \"types\": [\n      \"react\",\n      \"react-native\",\n      \"jest\"\n  ],\n  \"exclude\": [\n      \"android\",\n      \"ios\",\n      \"build\",\n      \"node_modules\"\n  ],\n  \"compileOnSave\": true\n}\n</code></pre>\n\n<p>Edit: Added tsconfig</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1523460857, "post_id": 49778977, "comment_id": 86573631, "body": "<code>public versionConfiguration: Configuration = { ...</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2359, "user_id": 3716049, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/8a4ddc2596b218b0bc7b3814ffa46836?s=128&d=identicon&r=PG&f=1", "display_name": "User 5842", "link": "https://stackoverflow.com/users/3716049/user-5842"}, "edited": false, "score": 0, "creation_date": 1523469620, "post_id": 49779088, "comment_id": 86578670, "body": "is it possible to say that an object should foollow a certain type, no matter how many keys are entered? Instead of creating an interface with every <code>key: type</code> possible, can I do something like, &quot;for any number of keys in this object, they should all be of type <code>key: string</code> ?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 2359, "user_id": 3716049, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/8a4ddc2596b218b0bc7b3814ffa46836?s=128&d=identicon&r=PG&f=1", "display_name": "User 5842", "link": "https://stackoverflow.com/users/3716049/user-5842"}, "edited": false, "score": 0, "creation_date": 1523471074, "post_id": 49779088, "comment_id": 86579415, "body": "It&#39;s <code>{ [key: string]: any }</code>. It&#39;s not advisable to do that for objects that aren&#39;t supposed to be really free-form, because this eliminates type safety for the most part."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 1, "last_activity_date": 1523460719, "creation_date": 1523460719, "answer_id": 49779088, "question_id": 49778977, "link": "https://stackoverflow.com/questions/49778977/adding-specific-types-for-objects-in-typescript/49779088#49779088", "title": "Adding Specific Types for Objects in TypeScript", "body": "<p>If <code>versionConfiguration</code> a variable, it can be used as a type:</p>\n\n<pre><code>let foo: typeof versionConfiguration;\n</code></pre>\n\n<p>This won't work if the object is class property like in original post. In this case <code>interface</code> or <code>type</code> should be defined.</p>\n"}, {"tags": [], "owner": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "is_accepted": false, "score": 0, "last_activity_date": 1523461392, "creation_date": 1523461392, "answer_id": 49779307, "question_id": 49778977, "link": "https://stackoverflow.com/questions/49778977/adding-specific-types-for-objects-in-typescript/49779307#49779307", "title": "Adding Specific Types for Objects in TypeScript", "body": "<p>Overkill for this small example, but complete if you actually want something fancier:</p>\n\n<pre><code>interface Version {\n  textOne: \"textOne\" | \"textTwo\";\n}\n\ninterface VersionConfiguration {\n  VersionOne: Version;\n  VersionTwo: Version;\n}\n</code></pre>\n\n<p>Since you've mentioned this is a version configuration, I used an example of a <a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">string literal union type</a>. This is only appropriate if you know what possible values <code>textOne</code> may take ahead of time.</p>\n\n<p>Otherwise, just implement</p>\n\n<pre><code>interface Version {\n  textOne: string;\n}\n</code></pre>\n"}], "owner": {"reputation": 2359, "user_id": 3716049, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/8a4ddc2596b218b0bc7b3814ffa46836?s=128&d=identicon&r=PG&f=1", "display_name": "User 5842", "link": "https://stackoverflow.com/users/3716049/user-5842"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1523461413, "creation_date": 1523460370, "last_edit_date": 1523461413, "question_id": 49778977, "link": "https://stackoverflow.com/questions/49778977/adding-specific-types-for-objects-in-typescript", "title": "Adding Specific Types for Objects in TypeScript", "body": "<p>Suppose I have an object modeled as such:</p>\n\n<pre><code>public versionConfiguration = {\n    VersionOne: {\n        textOne: \"textOne\"\n    },\n    VersionTwo: {\n        textOne: \"textOne\"\n    }\n};\n</code></pre>\n\n<p>Is there a way to, using TypeScript, give this a specific type? Might it be better to create a custom interface to use?</p>\n"}, {"tags": ["typescript", "webpack", "babeljs"], "comments": [{"owner": {"reputation": 123, "user_id": 1587081, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4c0a8540dafa55d4cebb06636278b06e?s=128&d=identicon&r=PG", "display_name": "Lordrem", "link": "https://stackoverflow.com/users/1587081/lordrem"}, "edited": false, "score": 0, "creation_date": 1523463405, "post_id": 49778892, "comment_id": 86575320, "body": "The problem seems to be around the import <code>import * as $ from &#39;jquery;&#39;</code> instead of <code>import $ from &#39;jquery&#39;;</code>. The problem is that typescript says that there is no default export in jquery lib based on the d.ts file that goes with the lib"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 1587081, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4c0a8540dafa55d4cebb06636278b06e?s=128&d=identicon&r=PG", "display_name": "Lordrem", "link": "https://stackoverflow.com/users/1587081/lordrem"}, "is_accepted": true, "score": 0, "last_activity_date": 1523463742, "creation_date": 1523463742, "answer_id": 49780113, "question_id": 49778892, "link": "https://stackoverflow.com/questions/49778892/how-to-make-external-lib-work-in-webpack/49780113#49780113", "title": "How to make external lib work in webpack", "body": "<p>Ok, i managed to make it work. By looking at the generated code, i found that the function called in case of <code>import * as $ from 'jquery'</code> returns as expected a global variable that does not contain the default export even if it exists. Replacing all the calls by <code>let $ = require('jquery')</code> fixed it as it now looks for the default export.</p>\n"}], "owner": {"reputation": 123, "user_id": 1587081, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4c0a8540dafa55d4cebb06636278b06e?s=128&d=identicon&r=PG", "display_name": "Lordrem", "link": "https://stackoverflow.com/users/1587081/lordrem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 49780113, "answer_count": 1, "score": 1, "last_activity_date": 1523463742, "creation_date": 1523460117, "question_id": 49778892, "link": "https://stackoverflow.com/questions/49778892/how-to-make-external-lib-work-in-webpack", "title": "How to make external lib work in webpack", "body": "<p>I've been trying hard to make all my external libs as such in my webpack project. Everything seemed to worked until today, now everything crashes again and i don't get why. It's probably due to my config that was luckily working before in a previous version of webpack or something. Does someone know how to properly configure externals? Following webpack doc step by step leads to no result. Here is my relevant code :</p>\n\n<h3>webpack.config.js</h3>\n\n<pre><code>externals: {\n    jquery: 'jQuery',\n    d3: 'd3',\n    lodash : '_',\n    moment: 'moment',\n    backbone: 'Backbone',\n    \"pdfjs-dist\": \"window.pdfjsLib\"\n}\n</code></pre>\n\n<p>I also have a plugin about jquery</p>\n\n<pre><code>plugins: [\n    new webpack.ProvidePlugin({\n        $: 'jquery'\n    })\n]\n</code></pre>\n\n<h3>index.html</h3>\n\n<pre><code>&lt;script src=\"./vendor/lodash.js\"&gt;&lt;/script&gt;\n&lt;script src=\"./vendor/jquery.js\"&gt;&lt;/script&gt;\n&lt;script src=\"./vendor/d3.js\"&gt;&lt;/script&gt;\n&lt;script src=\"./vendor/moment.js\"&gt;&lt;/script&gt;\n&lt;script src=\"./vendor/backbone.js\"&gt;&lt;/script&gt;\n&lt;script src=\"./vendor/pdf/pdf.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"./app-asd98u9a8d.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Here is a sample of my main script. It crashes at the <code>$(document)</code> line</p>\n\n<pre><code>import * as $ from 'jquery';\n$(document).ready(function(){\n  ...\n}\n</code></pre>\n\n<p>The error is <code>Uncaught TypeError: $ is not a function</code></p>\n\n<p>It's very important to notice that $ is defined... but it's not the proper object. If i want the proper object at this point, it should be <code>$.default</code>. So it's like if the import doesn't give me the right object.</p>\n\n<p>What did i miss?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1523460317, "post_id": 49778890, "comment_id": 86573235, "body": "It can&#39;t just return an <code>Observable&lt;T&gt;</code>, <code>async</code> functions must return a promise or something that gets wrapped in a promise. It <i>could</i> return a <code>Promise&lt;T&gt;</code>, just use <code>.toPromise()</code>."}, {"owner": {"reputation": 6787, "user_id": 1584167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n5VTo.jpg?s=128&g=1", "display_name": "udalmik", "link": "https://stackoverflow.com/users/1584167/udalmik"}, "edited": false, "score": 0, "creation_date": 1523461079, "post_id": 49778890, "comment_id": 86573791, "body": "Hm, the question is a bit different from &quot;How can I <code>await</code> on an Rx Observable?&quot;. It is more &quot;How to wait for promise and emit observable after that&quot;."}, {"owner": {"reputation": 10240, "user_id": 1195036, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/xVYTl.jpg?s=128&g=1", "display_name": "MgSam", "link": "https://stackoverflow.com/users/1195036/mgsam"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1523461110, "post_id": 49778890, "comment_id": 86573813, "body": "@jonrsharpe I don&#39;t want it to return a promise. It provides a stream of values (thus an Observable). And the function doesn&#39;t need to be <code>async</code>. Using something like <code>Observable.defer</code> the async function could be an inner function passed to Observable and the outer function is then not async."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1523461136, "post_id": 49778890, "comment_id": 86573841, "body": "Then you can&#39;t use an async function, just return the observable."}, {"owner": {"reputation": 6787, "user_id": 1584167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n5VTo.jpg?s=128&g=1", "display_name": "udalmik", "link": "https://stackoverflow.com/users/1584167/udalmik"}, "edited": false, "score": 1, "creation_date": 1523461473, "post_id": 49778890, "comment_id": 86574075, "body": "There should be something similar to <code>Observable.fromPromise(foo()).flatMap(any =&gt; getObservableFromSomewhereElse());</code>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1523461715, "post_id": 49778890, "comment_id": 86574231, "body": "Just asserting isn&#39;t a particularly helpful response. Please explain <i>why</i> the duplicate doesn&#39;t solve the problem. If returning a promise isn&#39;t what you want, why use an async function to start with? If you want to convert a promise to an Observable, rather than vice versa, <i>search for that</i>. And, as always, please <a href=\"https://stackoverflow.com/help/be-nice\">be nice</a>."}, {"owner": {"reputation": 1596, "user_id": 4917881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ccd2073f7be170038eeda1016e4b57?s=128&d=identicon&r=PG", "display_name": "aventurin", "link": "https://stackoverflow.com/users/4917881/aventurin"}, "edited": false, "score": 0, "creation_date": 1523480294, "post_id": 49778890, "comment_id": 86584114, "body": "There&#39;s no \u02cbawait&#180; without \u02cbasync\u02cb, the god of syntactic sugar says."}, {"owner": {"reputation": 10240, "user_id": 1195036, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/xVYTl.jpg?s=128&g=1", "display_name": "MgSam", "link": "https://stackoverflow.com/users/1195036/mgsam"}, "reply_to_user": {"reputation": 6787, "user_id": 1584167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n5VTo.jpg?s=128&g=1", "display_name": "udalmik", "link": "https://stackoverflow.com/users/1584167/udalmik"}, "edited": false, "score": 0, "creation_date": 1523724528, "post_id": 49778890, "comment_id": 86682900, "body": "@udalmik Thank you for the answer. If you make it a real answer I&#39;ll accept it."}, {"owner": {"reputation": 10240, "user_id": 1195036, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/xVYTl.jpg?s=128&g=1", "display_name": "MgSam", "link": "https://stackoverflow.com/users/1195036/mgsam"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1523724802, "post_id": 49778890, "comment_id": 86683002, "body": "@jonrsharpe No you have it completely backwards. It is not the responsibility of the people using the site looking for <b>help</b> to <b>prove</b>  they don&#39;t have a duplicate. It&#39;s the responsibility of the self-appointed &quot;moderators&quot; to prove it is a duplicate. You and others routinely close and vote down questions without even bothering to read them first. Your moderation is little more than repeating what the &quot;similar questions&quot; algorithm already does. My question was perfectly clear as evidenced by the only real answer I got, from udalmik, answered it correctly."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1523726510, "post_id": 49778890, "comment_id": 86683565, "body": "Three people voted to close against that duplicate. I&#39;m not sure whose responsibility you think it is to make your questions clear, or why you&#39;re so opposed to actually clarifying it in an edit. But if you have a problem or query, I&#39;d suggest you take it to <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>."}], "answers": [{"tags": [], "owner": {"reputation": 6787, "user_id": 1584167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n5VTo.jpg?s=128&g=1", "display_name": "udalmik", "link": "https://stackoverflow.com/users/1584167/udalmik"}, "is_accepted": true, "score": 2, "last_activity_date": 1523746928, "creation_date": 1523746928, "answer_id": 49836976, "question_id": 49778890, "link": "https://stackoverflow.com/questions/49778890/flatten-promiseobserablet/49836976#49836976", "title": "Flatten Promise&lt;Obserable&lt;T&gt;&gt;", "body": "<p>As mentioned in comments thread - you can leave <code>foo</code> function as <code>async</code> and reuse its promise result in separate function with</p>\n\n<pre><code>async function foo() {\n    await doSomething();\n}\n\nfunction bar() {\n    return Observable\n       // emits one value from resolved promise\n       .fromPromise(foo())\n       // maps it to your observable stream\n       .flatMap(() =&gt; getObservableFromSomewhereElse());\n}\n</code></pre>\n"}], "owner": {"reputation": 10240, "user_id": 1195036, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/xVYTl.jpg?s=128&g=1", "display_name": "MgSam", "link": "https://stackoverflow.com/users/1195036/mgsam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 49836976, "answer_count": 1, "score": 2, "last_activity_date": 1523746928, "creation_date": 1523460113, "last_edit_date": 1523476939, "question_id": 49778890, "link": "https://stackoverflow.com/questions/49778890/flatten-promiseobserablet", "title": "Flatten Promise&lt;Obserable&lt;T&gt;&gt;", "body": "<p>I have a function that does something like the following:</p>\n\n<pre><code>async foo() {\n    await doSomething();\n\n    return getObservableFromSomewhereElse();\n}\n</code></pre>\n\n<p>The problem is that the <code>await</code> makes the signature a <code>Promise&lt;Observable&lt;T&gt;&gt;</code>. Because I'm already returning an Observable, I'd just like to fold the Promise into the Observable so that the signature is <code>Observable&lt;T&gt;</code>. </p>\n\n<p>Note: <code>doSomething()</code> <em>must</em> occur before <code>getObservableFromSomewhereElse()</code>.</p>\n\n<p>I think <code>Observable.defer()</code> might help with this but I'm not certain.</p>\n\n<p>Any ideas on how to make this function just return <code>Observable&lt;T&gt;</code>?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1058, "user_id": 2296564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e3b211065fc909c66d26b2844cdf58c?s=128&d=identicon&r=PG", "display_name": "bc1105", "link": "https://stackoverflow.com/users/2296564/bc1105"}, "edited": false, "score": 0, "creation_date": 1523643046, "post_id": 49778609, "comment_id": 86661341, "body": "How are you benchmarking this? A better question would be if you made improvements, how would you know they perform better? A simple solution would be to memoize the function."}, {"owner": {"reputation": 4442, "user_id": 1504964, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a06b19efdeb2d06f2897f7d25a455383?s=128&d=identicon&r=PG", "display_name": "Kyle V.", "link": "https://stackoverflow.com/users/1504964/kyle-v"}, "reply_to_user": {"reputation": 1058, "user_id": 2296564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e3b211065fc909c66d26b2844cdf58c?s=128&d=identicon&r=PG", "display_name": "bc1105", "link": "https://stackoverflow.com/users/2296564/bc1105"}, "edited": false, "score": 0, "creation_date": 1523648835, "post_id": 49778609, "comment_id": 86664179, "body": "@bc1105 my specific use case is to prevent a cell value from having to be recalculated every digest cycle in a third-party data grid control component. It&#39;s a virtual-scrolling grid so every time that cell came in and out of view it had to be recalculated and it was noticeably slow. In your opinion, knowing my specific use case, would you still recommend memoization over caching?"}, {"owner": {"reputation": 1058, "user_id": 2296564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e3b211065fc909c66d26b2844cdf58c?s=128&d=identicon&r=PG", "display_name": "bc1105", "link": "https://stackoverflow.com/users/2296564/bc1105"}, "edited": false, "score": 0, "creation_date": 1523649315, "post_id": 49778609, "comment_id": 86664403, "body": "That&#39;s not bad...the main thread is too busy hence the poor rendering. I would suggest trying memoization as it may be a quick win for you. Besides that a key/value cache to lookup the values and skip calculation may take the performance further. The best solution: offload the calculations to Service Worker."}], "answers": [{"comments": [{"owner": {"reputation": 4442, "user_id": 1504964, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a06b19efdeb2d06f2897f7d25a455383?s=128&d=identicon&r=PG", "display_name": "Kyle V.", "link": "https://stackoverflow.com/users/1504964/kyle-v"}, "edited": false, "score": 0, "creation_date": 1523543790, "post_id": 49778966, "comment_id": 86613327, "body": "How do I manage that cache though? I don&#39;t want the cache to grow unchecked the longer the user has the application open and I don&#39;t want to clear items from the cache prematurely so they have to be recalculated."}, {"owner": {"reputation": 5638, "user_id": 491436, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7f135fc2f9806c62f37cb777f3adbbaa?s=128&d=identicon&r=PG", "display_name": "cobolstinks", "link": "https://stackoverflow.com/users/491436/cobolstinks"}, "reply_to_user": {"reputation": 4442, "user_id": 1504964, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a06b19efdeb2d06f2897f7d25a455383?s=128&d=identicon&r=PG", "display_name": "Kyle V.", "link": "https://stackoverflow.com/users/1504964/kyle-v"}, "edited": false, "score": 0, "creation_date": 1523547223, "post_id": 49778966, "comment_id": 86615853, "body": "You have to come up with how you want to manage that yourself and how you solve the problem depends somewhat on what your data structures look like, and how fresh your data needs to be.  If you use NGRX and you need to update an element in the store, you can dispatch an action which will then get a new value from the server (through an effect) and then update the store.  Then all things subscribed to that part of the store will get the new value."}, {"owner": {"reputation": 4442, "user_id": 1504964, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a06b19efdeb2d06f2897f7d25a455383?s=128&d=identicon&r=PG", "display_name": "Kyle V.", "link": "https://stackoverflow.com/users/1504964/kyle-v"}, "edited": false, "score": 0, "creation_date": 1523556927, "post_id": 49778966, "comment_id": 86621240, "body": "I&#39;m actually not even sure how to structure the cache its self. I want to do something like use an array but with strings as keys to quickly query the cache but I also want to be able to limit the size of this data structure so that older entries get bumped out of the array as newer ones are added."}], "tags": [], "owner": {"reputation": 5638, "user_id": 491436, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7f135fc2f9806c62f37cb777f3adbbaa?s=128&d=identicon&r=PG", "display_name": "cobolstinks", "link": "https://stackoverflow.com/users/491436/cobolstinks"}, "is_accepted": false, "score": 1, "last_activity_date": 1523460340, "creation_date": 1523460340, "answer_id": 49778966, "question_id": 49778609, "link": "https://stackoverflow.com/questions/49778609/caching-calculated-data-for-the-ui-in-an-angular-service/49778966#49778966", "title": "Caching calculated data for the UI in an Angular service?", "body": "<p>There are several ways to cache state in your angular application.  You can do something like in a service serialize an object or objects and store them in sessionStorage, localStore, or a cookie.  Then when retrieving the description first check in your cache for the object, if its there great use it, if its not go retrieve it and stick it in the cache.</p>\n\n<p>If you want something more elaborate and robust I would look at implementing <a href=\"https://github.com/ngrx/platform/blob/master/docs/store/README.md\" rel=\"nofollow noreferrer\">ngrx</a>.  It's a global redux store and provides your application with a global immutable store for holding your application state.  The idea in your case would be to calculate the descriptions once, stick them in the store, and then have whatever components or services that care about the description subscribe to the store and get the value.</p>\n"}, {"comments": [{"owner": {"reputation": 4442, "user_id": 1504964, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a06b19efdeb2d06f2897f7d25a455383?s=128&d=identicon&r=PG", "display_name": "Kyle V.", "link": "https://stackoverflow.com/users/1504964/kyle-v"}, "edited": false, "score": 0, "creation_date": 1523892778, "post_id": 49829010, "comment_id": 86737294, "body": "This solution worked for me, thanks! As for your side note -- I assume that you were suggesting OnPush for the component that calls the service. I&#39;m unable to do this since the third-party data grid control is deciding when to call the service for me. :/"}], "tags": [], "owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "is_accepted": true, "score": 1, "last_activity_date": 1523700423, "last_edit_date": 1523700423, "creation_date": 1523691315, "answer_id": 49829010, "question_id": 49778609, "link": "https://stackoverflow.com/questions/49778609/caching-calculated-data-for-the-ui-in-an-angular-service/49829010#49829010", "title": "Caching calculated data for the UI in an Angular service?", "body": "<p>It depends on how long the data should be available.</p>\n\n<p><strong>Data available on page refresh /  across multiple tabs</strong></p>\n\n<p>If you need the data data to persis across page refresh, or be available when the user opens multiple tabs, I'd say to just use <code>localStorage</code>, <a href=\"https://stackoverflow.com/questions/2989284/what-is-the-max-size-of-localstorage-values\">which can store a few MBs</a>. If you are just storing a schedule id as a key and a description as value, you should have enough for tens of thousands of descriptions. </p>\n\n<p>You could manage a list and delete the oldest entries when the list has reached a certain size or when there is no more space in <code>localStorage</code>.  I don't think you need to worry too much on retrieval time though, unless you litteraly call this object thousands of time on the page</p>\n\n<p>Note: If you are planning on using angular universal, <code>localStorage</code> will not be available server-side.</p>\n\n<p><strong>Data available for session duration</strong></p>\n\n<p>You could just store the values in a JS object, or a Map object.</p>\n\n<p><strong>using a map</strong></p>\n\n<pre><code>class ScheduleDescriptionService\n{\n    private map : Map&lt;number, string&gt; = new Map&lt;number,string&gt;();\n    getScheduleDescription(schedule: Schedule)\n    {\n        let desc = this.map.get(schedule.id);\n        if(!desc)\n        {\n            desc = this.internationalizationService.getDescription(schedule);\n            this.map.set(schedule.id, desc);\n        }\n        return  desc;\n    }\n}\n</code></pre>\n\n<p><strong>Side note</strong>\nIf you are not already doing it, you could also use <a href=\"https://blog.angular-university.io/onpush-change-detection-how-it-works/\" rel=\"nofollow noreferrer\">OnPush detection change strategy</a> to try reducing the number of times the description service is called </p>\n"}, {"tags": [], "owner": {"reputation": 11144, "user_id": 4099454, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hjZGE.png?s=128&g=1", "display_name": "Hitmands", "link": "https://stackoverflow.com/users/4099454/hitmands"}, "is_accepted": false, "score": 2, "last_activity_date": 1523693776, "last_edit_date": 1523693776, "creation_date": 1523692830, "answer_id": 49829191, "question_id": 49778609, "link": "https://stackoverflow.com/questions/49778609/caching-calculated-data-for-the-ui-in-an-angular-service/49829191#49829191", "title": "Caching calculated data for the UI in an Angular service?", "body": "<p>I'd suggest to use <code>memoization</code>, so, you can basically wrap your expensive function with a further function which will cache its result and <code>serve the cached output as long as its parameters don't change</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function veryExpensive(arg) {  \r\n  for(let i = 0; i &lt; 3000000000; i++);\r\n  return `result of ${arg}`;\r\n}\r\n\r\n\r\nfunction memoize(worker) {\r\n  let res, previousArgs;\r\n  \r\n  return (...args) =&gt; {\r\n    console.time(`memoize(worker)(\"${args}\")`);\r\n  \r\n    // shallow comparison\r\n    const cacheable = previousArgs &amp;&amp; args.every((arg, index) =&gt; arg === previousArgs[index]);\r\n    \r\n    if(!cacheable) {\r\n      previousArgs = args;\r\n      res = worker(...args);\r\n    }\r\n    \r\n    console.timeEnd(`memoize(worker)(\"${args}\")`);\r\n    return res;\r\n  };\r\n}\r\n\r\nconst memoized = memoize(veryExpensive);\r\n\r\nmemoized('Cache Function');\r\nmemoized('Cache Function');\r\nmemoized('Cache Function');\r\nmemoized('Cache Function');\r\nmemoized('Cache Function');\r\nmemoized('Cache Function');\r\nmemoized('Cache Function');\r\nmemoized('Cache Function');\r\nmemoized('Cache Function');\r\nmemoized('Cache Function');\r\nmemoized('Cache Function');\r\n\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');\r\nmemoized('One More Cache');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4442, "user_id": 1504964, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a06b19efdeb2d06f2897f7d25a455383?s=128&d=identicon&r=PG", "display_name": "Kyle V.", "link": "https://stackoverflow.com/users/1504964/kyle-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 49829010, "answer_count": 3, "score": 3, "last_activity_date": 1523700423, "creation_date": 1523459219, "question_id": 49778609, "link": "https://stackoverflow.com/questions/49778609/caching-calculated-data-for-the-ui-in-an-angular-service", "title": "Caching calculated data for the UI in an Angular service?", "body": "<p>In my application I have these TypeScript classes called <code>Schedule</code> and in the UI I would like to be able to represent these objects as natural language descriptions such as <em>\"Every 2nd Monday of the month at 6:00 AM\"</em>.</p>\n\n<p>To calculate these \"Schedule Descriptions\" I have an Angular service <code>ScheduleDescriptionService</code> which I call <code>getScheduleDescription()</code> and I pass it a <code>Schedule</code> and it returns the description back as a <code>string</code>.</p>\n\n<p>Unfortunately I learned that this <code>getScheduleDescription()</code> function is very expensive and it gets called a lot in some parts of the application. What I want to do is to solve the performance issue by caching the descriptions after they're generated so they don't have to be generated every time the UI wants to display them.</p>\n\n<p>The reason I put this function into an Angular service is because I need the function that generates these descriptions to have access to an internationalization service and as far as I know I can't inject an Angular service into a normal TypeScript class like <code>Schedule</code> otherwise I might have put <code>getScheduleDescription()</code> into the <code>Schedule</code> class that way I can just deal with each <code>Schedule</code> caching its own description.</p>\n\n<p>I can't use an Angular pipe because I need to be able to get the descriptions in my code-behind so I need to somehow manage caching for a lot of schedule descriptions and I can't just handle the caching in any one Angular component because I will need to display these descriptions all over the place in my application. So that leaves me to believe that I have to cache these descriptions in my <code>ScheduleDescriptionService</code> Angular service.</p>\n\n<p>Is this the right way to go? If so, how do I cache in this situation? If the service lasts the lifetime of my application what if my user looks at a <em>lot</em> of descriptions? Should I clear the cache if they stop looking at a page with schedule descriptions? How do I manage change detection?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "edited": false, "score": 0, "creation_date": 1523512566, "post_id": 49778345, "comment_id": 86592811, "body": "@toxic, what issue you faced in above answer?"}], "tags": [], "owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "is_accepted": false, "score": 0, "last_activity_date": 1523458813, "last_edit_date": 1523458813, "creation_date": 1523458464, "answer_id": 49778345, "question_id": 49778222, "link": "https://stackoverflow.com/questions/49778222/in-angular-check-value-if-equivalent-to-one-of-array-value-before-assigning-to/49778345#49778345", "title": "In Angular, check value if equivalent to one of array value before assigning to object property", "body": "<p><strong>Issue 1:</strong></p>\n\n<p>Your <code>form</code> should be an <strong>instance of form group</strong> so use,  <code>myForm: FormGroup;</code></p>\n\n<p><strong>Component:</strong></p>\n\n<pre><code> import {FormGroup, FormBuilder, Validators} from '@angular/forms';\n\n myForm: FormGroup;\n  constructor(private formBuilder: FormBuilder) {\n    this.myForm = this.formBuilder.group({\n      title: ['', [Validators.required, Validators.minLength(5)]],\n      description: [''],\n    });\n  }\n</code></pre>\n\n<p><strong>Html:</strong></p>\n\n<pre><code> &lt;form [formGroup]=\"myForm\" (ngSubmit)=\"logForm()\"&gt;\n</code></pre>\n\n<p><strong>Issue 2:</strong></p>\n\n<p>Since you are using normal <code>function</code> using <code>this</code> inside that will not work.</p>\n\n<p>Use arrow function instead if it is <code>typescript</code></p>\n\n<pre><code> options: questionsList[key].answerOptions.map((item) =&gt; {                                                \n       return {\"name\": item.ReferenceKey, \"key\": item.preDefineAnswerOptionId, \"value\": item.text, \"optionSelected\": this.contains(questionsList[key].answer, item.preDefineAnswerOptionId)} // need help here, throw error\n    }),\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "edited": false, "score": 0, "creation_date": 1523458644, "post_id": 49778386, "comment_id": 86571978, "body": "this answer is same as mine."}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "reply_to_user": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "edited": false, "score": 1, "creation_date": 1523458715, "post_id": 49778386, "comment_id": 86572035, "body": "Posted it the same time as you did... happens from time to time."}, {"owner": {"reputation": 4349, "user_id": 1892256, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jLTLT.png?s=128&g=1", "display_name": "Toxic", "link": "https://stackoverflow.com/users/1892256/toxic"}, "edited": false, "score": 0, "creation_date": 1523458816, "post_id": 49778386, "comment_id": 86572114, "body": "I am new to Angular, when I change contain() to function contain(a,obj), i got error --&gt; unexpected token, A constructor method , accessor, or property was expected. ??"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1523459075, "post_id": 49778386, "comment_id": 86572294, "body": "Can you provide more details above on how you are setting the function up? (e.g. is it part of a class or on its own, etc.) This is not enough."}, {"owner": {"reputation": 4349, "user_id": 1892256, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jLTLT.png?s=128&g=1", "display_name": "Toxic", "link": "https://stackoverflow.com/users/1892256/toxic"}, "edited": false, "score": 0, "creation_date": 1523459294, "post_id": 49778386, "comment_id": 86572452, "body": "refer to code under Checkbox class heading, and contain function above in my code"}, {"owner": {"reputation": 4349, "user_id": 1892256, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jLTLT.png?s=128&g=1", "display_name": "Toxic", "link": "https://stackoverflow.com/users/1892256/toxic"}, "edited": false, "score": 0, "creation_date": 1523459324, "post_id": 49778386, "comment_id": 86572485, "body": "contain function in component"}, {"owner": {"reputation": 4349, "user_id": 1892256, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jLTLT.png?s=128&g=1", "display_name": "Toxic", "link": "https://stackoverflow.com/users/1892256/toxic"}, "edited": false, "score": 0, "creation_date": 1523459786, "post_id": 49778386, "comment_id": 86572853, "body": "I am struggling to apply (item) =&gt; { ... } above in my code"}, {"owner": {"reputation": 4349, "user_id": 1892256, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jLTLT.png?s=128&g=1", "display_name": "Toxic", "link": "https://stackoverflow.com/users/1892256/toxic"}, "edited": false, "score": 0, "creation_date": 1523461729, "post_id": 49778386, "comment_id": 86574241, "body": "any suggestion?"}], "tags": [], "owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "is_accepted": false, "score": 0, "last_activity_date": 1523458569, "creation_date": 1523458569, "answer_id": 49778386, "question_id": 49778222, "link": "https://stackoverflow.com/questions/49778222/in-angular-check-value-if-equivalent-to-one-of-array-value-before-assigning-to/49778386#49778386", "title": "In Angular, check value if equivalent to one of array value before assigning to object property", "body": "<p>You need to change this:</p>\n\n<pre><code>function(item) { ... }\n</code></pre>\n\n<p>to use the arrow notation (to hold onto the <code>this</code> reference):</p>\n\n<pre><code>(item) =&gt; { ... }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4349, "user_id": 1892256, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jLTLT.png?s=128&g=1", "display_name": "Toxic", "link": "https://stackoverflow.com/users/1892256/toxic"}, "is_accepted": true, "score": 0, "last_activity_date": 1523462677, "creation_date": 1523462677, "answer_id": 49779775, "question_id": 49778222, "link": "https://stackoverflow.com/questions/49778222/in-angular-check-value-if-equivalent-to-one-of-array-value-before-assigning-to/49779775#49779775", "title": "In Angular, check value if equivalent to one of array value before assigning to object property", "body": "<p>I found answer, </p>\n\n<pre><code>options: questionsList[key].answerOptions.map(function(item){                                                \n       return {\"name\": item.ReferenceKey, \"key\": item.preDefineAnswerOptionId, \"value\": item.text, \"optionSelected\": this.contains(questionsList[key].answer, item.preDefineAnswerOptionId)}\n}.bind(this)),\n</code></pre>\n"}], "owner": {"reputation": 4349, "user_id": 1892256, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jLTLT.png?s=128&g=1", "display_name": "Toxic", "link": "https://stackoverflow.com/users/1892256/toxic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 49779775, "answer_count": 3, "score": 0, "last_activity_date": 1523462702, "creation_date": 1523458151, "last_edit_date": 1523462702, "question_id": 49778222, "link": "https://stackoverflow.com/questions/49778222/in-angular-check-value-if-equivalent-to-one-of-array-value-before-assigning-to", "title": "In Angular, check value if equivalent to one of array value before assigning to object property", "body": "<p>I have object instance of class 'CheckBoxQuestion'. I need to assign values to its properties. there is property call option[] and here I am assembling key values for  type checklist. Now my issue here is need to compare if item.preDefineAnswerOptionId key value, i.e if exist in array and for this I have separate function 'contain(a, obj) which I calling to get Boolean result  </p>\n\n<p>this contain function works fine for following test code;</p>\n\n<h2>test code</h2>\n\n<pre><code>for(var item in questionsList[key].answer)\n   {\n     var dd = this.contains(questionsList[key].answer, questionsList[key].answer[item].answerValue)\n   }\n</code></pre>\n\n<p>but when I do for 'optionSelected' property, it throw error</p>\n\n<h2>component</h2>\n\n<pre><code> else  if(questionElementType==\"checkbox\")\n {\n\n   let _checkBox = new CheckBoxQuestion ({\n     consultationId: questionsList[key].consultationId,\n     questionId: questionsList[key].questionId,\n     questionElementType: questionsList[key].questionElementType[0].title,           \n     questionType: questionsList[key].questionType,\n     title:questionsList[key].title,\n     displayId: questionsList[key].displayId,\n     key: questionsList[key].questionId,     \n     value: questionsList[key].answer.length&lt;=0? null : questionsList[key].answer[0].answerValue.toLowerCase(),\n     label: questionsList[key].title, \n     order: 7,\n     options: questionsList[key].answerOptions.map(function(item){                                                \n       return {\"name\": item.ReferenceKey, \"key\": item.preDefineAnswerOptionId, \"value\": item.text, \"optionSelected\": this.contains(questionsList[key].answer, item.preDefineAnswerOptionId)} // need help here, throw error\n    }),\n   }); \n     this.mappedQuestions.push(_checkBox);\n }\n</code></pre>\n\n<h2>Contain function</h2>\n\n<pre><code>contains(a, obj)\n{\n\nlet f:string[]=[];\n\nif(a.length&gt;0)\n{\n  for(var item in a)\n  {\n    var answerKey = a[item].answerValue.toLowerCase();\n\n    f.push(answerKey)\n  } \n\n  var i = f.length;\n  while (i--) {\n     if (f[i] === obj.toLowerCase()) {\n         return true;\n     }\n  }\n}\n\nreturn false;\n</code></pre>\n\n<p>}</p>\n\n<h2>error</h2>\n\n<pre><code> error 1-`formGroup expects a FormGroup instance. Please pass one in.`\n error 2- Cannot read property 'contains' of undefined\n</code></pre>\n"}, {"tags": ["javascript", "cordova", "typescript", "plugins"], "owner": {"reputation": 946, "user_id": 5548351, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209042932424009/picture?type=large", "display_name": "neiya", "link": "https://stackoverflow.com/users/5548351/neiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 420, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1523458142, "creation_date": 1523458142, "question_id": 49778216, "link": "https://stackoverflow.com/questions/49778216/how-to-use-cordova-plugins-in-with-typescript", "title": "How to use cordova plugins in with typescript", "body": "<p>I am doing an app for Android using Cordova and Typescript. I can't manage to make cordova plugins work with it, although it was working when I was doing it just using Javascript. For now I am trying to convert my old Javascript code to Typescript and organize it with modules, but I am not comfortable with it.</p>\n\n<p>For example with this <a href=\"https://github.com/floatinghotpot/cordova-plugin-sms/\" rel=\"nofollow noreferrer\">cordova-plugin-sms</a>, I still get this error : <code>www/js/manageSMS.ts(23,13): error TS2304: Cannot find name 'SMS'</code>, both in my IDE (PHPStorm) and in the console when I try to run the app. The plugin is well installed, and I managed to make it work before, using Javascript. There're no types for this plugin, but I can still use it right ? </p>\n\n<p>I have two ts files, one index.ts (main) and one manageSMS.ts (module).</p>\n\n<p>Here's the index.ts :\n</p>\n\n<pre><code>import {SMSManager} from \"./manageSMS\";\n\nexport class CordovaApp {\n    constructor() {\n        document.addEventListener('deviceready', this.onDeviceReady, false);\n        let blockSentences = document.querySelector('#blockSentences');\n    }\n\n    onDeviceReady() {\n        console.log(\"The device is ready\");\n        let sms = new SMSManager();\n\n    }\n}\n\nlet instance = new CordovaApp();\n</code></pre>\n\n<p>Here's my manageSMS.ts :</p>\n\n<pre><code>export class SMSManager {\n\nconstructor() {\n    let filter = {\n        box : 'inbox', \n        maxCount : 20, \n    };\n}\n\ngetAllSMS(filter) {\n    if (SMS) SMS.listSMS(filter, function(data){\n        console.log(data);\n    }, function(err){\n        console.log('error list sms: ' + err);\n    });\n}\n\n}\n</code></pre>\n\n<p>My config.ts :</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"target\": \"es5\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\n      \"es6\",\n      \"dom\"\n    ],\n    \"removeComments\": true,\n    \"noImplicitAny\": false,\n    \"allowJs\": false,\n    \"forceConsistentCasingInFileNames\": true,\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ]\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"plugins\",\n    \"platforms\",\n    \"typings\",\n    \".idea\"\n  ]\n}\n</code></pre>\n\n<p>Let me know if you need any more file.</p>\n"}, {"tags": ["angular", "typescript", "express", "angular-ui-router"], "comments": [{"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1523457801, "post_id": 49777685, "comment_id": 86571279, "body": "which webserver do you use for angular side?"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1523457821, "post_id": 49777685, "comment_id": 86571289, "body": "That seems an error from Angular router, not express. It seems that you are accessing your Angular app, but  in your routes there are no route that matches <code>&#47;executions&#47;190</code>. By browing to that URL you should receive JSON or a server error, not any JavaScript at all. If you&#39;re getting JavaScript errors, you are in a web page"}], "answers": [{"comments": [{"owner": {"reputation": 8802, "user_id": 3111149, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ez4Kx.png?s=128&g=1", "display_name": "Matteo NNZ", "link": "https://stackoverflow.com/users/3111149/matteo-nnz"}, "edited": false, "score": 0, "creation_date": 1523459458, "post_id": 49778191, "comment_id": 86572588, "body": "You were right, I was just navigating the page with a relative href, hence I was on the localhost:4200 instead of the backend!"}], "tags": [], "owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "is_accepted": true, "score": 3, "last_activity_date": 1523458087, "creation_date": 1523458087, "answer_id": 49778191, "question_id": 49777685, "link": "https://stackoverflow.com/questions/49777685/error-uncaught-in-promise-error-cannot-match-any-routes-url-segment-exec/49778191#49778191", "title": "Error: Uncaught (in promise): Error: Cannot match any routes. URL Segment: &#39;executions/190&#39;", "body": "<p>You have to differentiate angular routes and backend routes. For me it looks like you are navigating to <code>/executions/xxx</code> on the host/port corresponding to angular app. This <code>executions</code> route probably does not exists on the angular app, hence why the error</p>\n\n<p>You need to navigate to that route on the host/port used by nodejs for your back end.</p>\n\n<p>Assuming you are in dev and using angular-cli, your angular app will be on localhost:4200 and your back end on localhost:4000 for instance; so you'd need to navigate to <code>http://localhost:4000/executions/xxx</code></p>\n\n<p>If you are also using express to serve the angular app, with the same host/same port, then you need to make sure you register the <code>/executions</code> route in express before registering the routes for angular.</p>\n"}], "owner": {"reputation": 8802, "user_id": 3111149, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ez4Kx.png?s=128&g=1", "display_name": "Matteo NNZ", "link": "https://stackoverflow.com/users/3111149/matteo-nnz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 784, "favorite_count": 0, "accepted_answer_id": 49778191, "answer_count": 1, "score": 1, "last_activity_date": 1523458087, "creation_date": 1523456737, "question_id": 49777685, "link": "https://stackoverflow.com/questions/49777685/error-uncaught-in-promise-error-cannot-match-any-routes-url-segment-exec", "title": "Error: Uncaught (in promise): Error: Cannot match any routes. URL Segment: &#39;executions/190&#39;", "body": "<p>I'm trying to mock my back-end to develop the front end, and I'm doing that using the library <code>expressjs</code>. </p>\n\n<p>I have a file named <code>data.json</code> which contains objects like these: </p>\n\n<pre><code>\"singleExecutions\":[\n    {\"executionId\":190, \"label\":\"exe_190\"},\n    {\"executionId\":191, \"label\":\"exe_191\"}, \n    ...]\n</code></pre>\n\n<p>I would like to route my requests of type <code>/executions/executionId</code> to get the corresponding object in the list <code>singleExecutions</code> having that specific Id I'm requiring. </p>\n\n<p>Reading at the documentations of <code>expressjs</code>, it seems that I should do something like this: </p>\n\n<pre><code>const express = require('express');\nconst data = require('./data');\n\n// 1. Create an express router.\nconst router = express.Router();\n\n// 2. Handle the requests.\nrouter.get('/executions/:executionId', (req, res) =&gt; {\n  res.json(data.singleExecutions);\n});\n\n// 3. Start the server.\nmockBackend.start(router); \n</code></pre>\n\n<p>Note: some variables above (such as <code>mockBackend</code>) are skipped in the code snippet, but they're ok since other requests not shown above are correctly routed. </p>\n\n<p>When I navigate the url <code>/executions/190</code> (for example), I get the below exception: </p>\n\n<pre><code>ERROR Error: Uncaught (in promise): Error: Cannot match any routes. URL Segment: 'executions/190'\nError: Cannot match any routes. URL Segment: 'executions/190'\n    at ApplyRedirects.noMatchError (webpack-internal:///../../../router/esm5/router.js:1848)\n    at CatchSubscriber.eval [as selector] (webpack-internal:///../../../router/esm5/router.js:1813)\n    at CatchSubscriber.error (webpack-internal:///../../../../rxjs/_esm5/operators/catchError.js:108)\n    at MapSubscriber.Subscriber._error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:136)\n    at MapSubscriber.Subscriber.error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:110)\n    at MapSubscriber.Subscriber._error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:136)\n    at MapSubscriber.Subscriber.error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:110)\n    at MapSubscriber.Subscriber._error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:136)\n    at MapSubscriber.Subscriber.error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:110)\n    at LastSubscriber.Subscriber._error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:136)\n    at ApplyRedirects.noMatchError (webpack-internal:///../../../router/esm5/router.js:1848)\n    at CatchSubscriber.eval [as selector] (webpack-internal:///../../../router/esm5/router.js:1813)\n    at CatchSubscriber.error (webpack-internal:///../../../../rxjs/_esm5/operators/catchError.js:108)\n    at MapSubscriber.Subscriber._error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:136)\n    at MapSubscriber.Subscriber.error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:110)\n    at MapSubscriber.Subscriber._error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:136)\n    at MapSubscriber.Subscriber.error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:110)\n    at MapSubscriber.Subscriber._error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:136)\n    at MapSubscriber.Subscriber.error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:110)\n    at LastSubscriber.Subscriber._error (webpack-internal:///../../../../rxjs/_esm5/Subscriber.js:136)\n    at resolvePromise (webpack-internal:///../../../../zone.js/dist/zone.js:809)\n    at resolvePromise (webpack-internal:///../../../../zone.js/dist/zone.js:775)\n    at eval (webpack-internal:///../../../../zone.js/dist/zone.js:858)\n    at ZoneDelegate.invokeTask (webpack-internal:///../../../../zone.js/dist/zone.js:421)\n    at Object.onInvokeTask (webpack-internal:///../../../core/esm5/core.js:4956)\n    at ZoneDelegate.invokeTask (webpack-internal:///../../../../zone.js/dist/zone.js:420)\n    at Zone.runTask (webpack-internal:///../../../../zone.js/dist/zone.js:188)\n    at drainMicroTaskQueue (webpack-internal:///../../../../zone.js/dist/zone.js:595)\n</code></pre>\n\n<p>There must definitely be something incorrectly configured in my <code>router.get()</code> but I can't understand what... can anyone please help?</p>\n\n<p>Note: in the same code, if I navigate the GET request <code>/executions</code>, it is correctly routed by this: </p>\n\n<pre><code>router.get('/executions', (req, res) =&gt; {\n  res.json(data.executions);\n}); \n</code></pre>\n\n<p>... all the rest being the same. </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1523458236, "post_id": 49778111, "comment_id": 86571625, "body": "I could see how a flat object may solve this but I am not sure how to incorporate it into my <code>ngFor</code> loop. The object that I am looping over needs to remain the same but I need the filter to some how handle it differently."}, {"owner": {"reputation": 383, "user_id": 3077921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827ebc3c200acfb3c619d86380ff1777?s=128&d=identicon&r=PG&f=1", "display_name": "zelda11", "link": "https://stackoverflow.com/users/3077921/zelda11"}, "reply_to_user": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1523459720, "post_id": 49778111, "comment_id": 86572794, "body": "If you have the flattenObject function in your .ts, you could do <code>*ngFor=&quot;let x of flattenObject(data)</code>"}, {"owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1523460226, "post_id": 49778111, "comment_id": 86573158, "body": "Ah sorry I misunderstood - I&#39;m afraid I can&#39;t flatten the object at this point, its structure is heavily used throughout the remaining code. I was hoping that I could just adjust the filter to look through a flattened structure without actually changing the data."}, {"owner": {"reputation": 383, "user_id": 3077921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827ebc3c200acfb3c619d86380ff1777?s=128&d=identicon&r=PG&f=1", "display_name": "zelda11", "link": "https://stackoverflow.com/users/3077921/zelda11"}, "reply_to_user": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1523460360, "post_id": 49778111, "comment_id": 86573260, "body": "in this case I wrote you are not keeping this changes, these are only applied for the loop :)"}, {"owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1523460482, "post_id": 49778111, "comment_id": 86573350, "body": "I get that but the 10 other components that this data is being received by is depending on its current structure to handle its iterations and displaying of values. I am unable to change all of the other code that is depending on the structure of this data."}], "tags": [], "owner": {"reputation": 383, "user_id": 3077921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827ebc3c200acfb3c619d86380ff1777?s=128&d=identicon&r=PG&f=1", "display_name": "zelda11", "link": "https://stackoverflow.com/users/3077921/zelda11"}, "is_accepted": false, "score": 0, "last_activity_date": 1523457892, "creation_date": 1523457892, "answer_id": 49778111, "question_id": 49777660, "link": "https://stackoverflow.com/questions/49777660/angular-ng-model-filter-using-nested-data-vs-top-layer/49778111#49778111", "title": "Angular ng-model &amp; filter using nested data vs top layer", "body": "<p>If I understand well the question, I think that to flat the data will help you:</p>\n\n<pre><code>var flattenObject = function(ob) {\n    var toReturn = {};\n\n    for (var i in ob) {\n        if (!ob.hasOwnProperty(i)) continue;\n\n        if ((typeof ob[i]) == 'object') {\n            var flatObject = flattenObject(ob[i]);\n            for (var x in flatObject) {\n                if (!flatObject.hasOwnProperty(x)) continue;\n\n                toReturn[i + '.' + x] = flatObject[x];\n            }\n        } else {\n            toReturn[i] = ob[i];\n        }\n    }\n    return toReturn;\n};\n\nlet newData = flattenObject(data);\n</code></pre>\n\n<p>Code source: <a href=\"https://gist.github.com/penguinboy/762197\" rel=\"nofollow noreferrer\">https://gist.github.com/penguinboy/762197</a></p>\n"}, {"tags": [], "owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1523462318, "creation_date": 1523462318, "answer_id": 49779636, "question_id": 49777660, "link": "https://stackoverflow.com/questions/49777660/angular-ng-model-filter-using-nested-data-vs-top-layer/49779636#49779636", "title": "Angular ng-model &amp; filter using nested data vs top layer", "body": "<p>To achieve expected result , use below option </p>\n\n<p>1.In your component below variable</p>\n\n<pre><code>jsonVal:any=JSON; // for using JSON.stringify and indexOf\n</code></pre>\n\n<ol start=\"2\">\n<li>Use <strong>*ngIf</strong> to filter value from input with indexOf</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;input type=\"text\" [(ngModel)]=\"filterString\"&gt;\r\n    &lt;div *ngFor=\"let data of result\"&gt;\r\n      &lt;div *ngIf=\"jsonVal.stringify(data).indexOf(filterString)!= -1\"&gt;{{data| json}}&lt;/div&gt;\r\n      &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>code sample for reference - <a href=\"https://stackblitz.com/edit/angular-ht2afv?file=app/app.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ht2afv?file=app/app.component.html</a></p>\n\n<p>Just for testing , I have added another Object with Campus2 and Omaha2</p>\n"}, {"tags": [], "owner": {"reputation": 919, "user_id": 3052195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49f3f4ec7b73e220df3bcd7098506383?s=128&d=identicon&r=PG&f=1", "display_name": "Loke", "link": "https://stackoverflow.com/users/3052195/loke"}, "is_accepted": false, "score": 0, "last_activity_date": 1523464218, "last_edit_date": 1523464218, "creation_date": 1523463717, "answer_id": 49780103, "question_id": 49777660, "link": "https://stackoverflow.com/questions/49777660/angular-ng-model-filter-using-nested-data-vs-top-layer/49780103#49780103", "title": "Angular ng-model &amp; filter using nested data vs top layer", "body": "<p>When filtering on a nested property of data you can use the <code>map</code> function or similar.</p>\n\n<p>This will be in your component and not the template. Filtering using pipes in the template is <a href=\"https://angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe\" rel=\"nofollow noreferrer\">discouraged</a> by the Angular team for performance reasons. </p>\n\n<p>Instead I would do something like this:</p>\n\n<pre><code>const data = [{//your data}]\n\nlet filteredData = [];\n\ndata.map(val =&gt; {\n          if (val.Attribute.filter(name =&gt; name.AttributeName === \"Foo\").length &gt; 0) {\n            filteredData.push(val)\n          }\n        });\n</code></pre>\n\n<p>I am assuming your data is an array of objects.</p>\n\n<p>Beware I am mutating my data object. To avoid this you do this:</p>\n\n<pre><code>const data = [{//your original data}]\nconst dataToFilter = JSON.Parse(JSON.stringify(data))\n</code></pre>\n\n<p>This will make copy of your data without references to your original object. Useful if you want to clear your filter. Not useful if your data object contains functions.</p>\n\n<p>On re-reading your question I think this is not the solution you were looking for but rather a method to look anywhere in the data. For this you should probably flatten your data as suggested by Zelda7. Another approach would be to extend a filtering method to explicitly filter on all relevant fields.</p>\n"}], "owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1523479976, "creation_date": 1523456662, "last_edit_date": 1523479976, "question_id": 49777660, "link": "https://stackoverflow.com/questions/49777660/angular-ng-model-filter-using-nested-data-vs-top-layer", "title": "Angular ng-model &amp; filter using nested data vs top layer", "body": "<p>I have a list of data displayed on my page that is broken down into <code>divs</code>. Each div represents an array of data in my object, pretty common.</p>\n\n<p>I am trying to add a text box to my page where I can filter out the data and it will narrow down the results shown on the page as more data is entered into the text box.</p>\n\n<p>For that, I added a filter on my <code>ngFor</code> like so: <code>*ngFor=\"let x of data | filter: filterString\"</code>.</p>\n\n<p>My text-box then uses <code>ngModel</code> to filter that data down:</p>\n\n<pre><code>&lt;input type=\"text\" class=\"form-control\" placeholder=\"Filter...\" name=\"ruleFilter\" id=\"ruleFilter\" [(ngModel)]=\"filterString\" (keyup)=\"onFilter($event)\"&gt;\n</code></pre>\n\n<p>The issue I am having is that the filter seems to only be working with the top layer of data in my object. For example, the data below is what one of the results looks like in my <code>ngFor</code> loop. I can search <code>Omaha</code> just fine since its in the top level and it filters it down correctly.</p>\n\n<p>However, If I look for something like <code>Campus</code> which is nested inside <code>Attribute</code>, it doesn't find it in the filter and no results are shown.</p>\n\n<pre><code>{\n  \"RuleParentID\": \"618\",\n  \"RuleVersionID\": \"18\",\n  \"MappedValue\": \"1\",\n  \"ProcessingOrder\": 1,\n  \"KeyID\": \"1\",\n  \"Value\": \"Omaha\",\n  \"IsRuleRetired\": \"0\",\n  \"UserImpactCount\": \"0\",\n  \"Attribute\": [\n    {\n      \"AttributeID\": \"6\",\n      \"AttributeName\": \"Campus\",\n      \"Operator\": {\n        \"OperatorID\": \"3\",\n        \"OperatorName\": \"In List\",\n        \"SqlOperator\": \"IN\"\n      },\n      \"AttributeValue\": [\n        {\n          \"AttrValue\": \"1\",\n          \"Value\": \"Omaha\",\n          \"IsValueRetired\": \"0\",\n          \"disabled\": \"False\"\n        }\n      ]\n    },\n    {\n      \"AttributeID\": \"14\",\n      \"AttributeName\": \"Grade\",\n      \"Operator\": {\n        \"OperatorID\": \"1\",\n        \"OperatorName\": \"Greater Than\",\n        \"SqlOperator\": \"&gt;\"\n      },\n      \"AttributeValue\": [\n        {\n          \"AttrValue\": \"14\",\n          \"Value\": \"14\",\n          \"IsValueRetired\": \"0\",\n          \"disabled\": \"False\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n\n<p>Is there any way to have the model look at all layers of the object for my binding instead of just the top layer (which I only assume its doing at this time) ?</p>\n\n<p>Update: Here is a plunker of what my basic setup is like: <a href=\"https://plnkr.co/edit/eywuWmPRseUkmVPbTEOf?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/eywuWmPRseUkmVPbTEOf?p=preview</a></p>\n\n<p>You will see the data model that searches by the top level properties just fine, but when I search for something nested, I don't get any results back.</p>\n"}, {"tags": ["angular", "typescript", "angular5", "angular2-aot"], "comments": [{"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1523455582, "post_id": 49777196, "comment_id": 86569596, "body": "Can you post your <code>tsconfig.json</code> files (all of them, if you have more than one) and your <code>compiler-cli.json</code> (if you&#39;re using the CLI, which I assume you are)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1523455732, "post_id": 49777196, "comment_id": 86569703, "body": "@OscarPaz I believe the <code>compiler-cli</code> file doesn&#39;t exist, but <code>angular-cli</code> does !"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1523455768, "post_id": 49777196, "comment_id": 86569742, "body": "Well, yes, that one. My mistake."}, {"owner": {"reputation": 919, "user_id": 3052195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49f3f4ec7b73e220df3bcd7098506383?s=128&d=identicon&r=PG&f=1", "display_name": "Loke", "link": "https://stackoverflow.com/users/3052195/loke"}, "edited": false, "score": 0, "creation_date": 1523456154, "post_id": 49777196, "comment_id": 86570034, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39685179/angular-2-no-ngmodule-metadata-found\">Angular 2 : No NgModule metadata found</a>"}, {"owner": {"reputation": 2494, "user_id": 1540505, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/43grk.png?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/1540505/jim"}, "edited": false, "score": 0, "creation_date": 1523456968, "post_id": 49777196, "comment_id": 86570635, "body": "I have added both the tsconfig and angular-cli.json files to the original question"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1523457462, "post_id": 49777196, "comment_id": 86571046, "body": "Tell me, when in <code>main.ts</code> you&#39;re importing <code>AppModule</code> from <code>.&#47;app</code>, you are importing it from an <code>index.ts</code> file that re-rexports it from <code>app.module.ts</code>?"}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "edited": false, "score": 0, "creation_date": 1523521248, "post_id": 49777196, "comment_id": 86597472, "body": "what version of angularcli are you using?"}, {"owner": {"reputation": 2494, "user_id": 1540505, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/43grk.png?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/1540505/jim"}, "edited": false, "score": 0, "creation_date": 1523527792, "post_id": 49777196, "comment_id": 86601865, "body": "&quot;@angular/cli&quot;: &quot;1.7.4&quot;,"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1523528968, "post_id": 49777196, "comment_id": 86602635, "body": "Please, answer the question in my previous comment: are you importing <code>AppModule</code> in <code>main.ts</code> from a file that re-exports it instead of where it is defined (<code>app.module.ts</code>, I assume)?"}], "owner": {"reputation": 2494, "user_id": 1540505, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/43grk.png?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/1540505/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523456951, "creation_date": 1523455441, "last_edit_date": 1523456951, "question_id": 49777196, "link": "https://stackoverflow.com/questions/49777196/angular-5-aot-compilation-throws-an-error", "title": "Angular 5 AOT compilation throws an error", "body": "<p>I am attempting to start my Angular5 application for the first time using AOT compilation and have the following error occur when I try this.</p>\n\n<pre><code>compiler.js:20242 Uncaught Error: No NgModule metadata found for 'AppModule'.\n    at NgModuleResolver.resolve (compiler.js:20242)\n    at CompileMetadataResolver.getNgModuleMetadata (compiler.js:15195)\n    at JitCompiler._loadModules (compiler.js:34405)\n    at JitCompiler._compileModuleAndComponents (compiler.js:34366)\n    at JitCompiler.compileModuleAsync (compiler.js:34260)\n    at CompilerImpl.compileModuleAsync (platform-browser-dynamic.js:239)\n    at PlatformRef.bootstrapModule (core.js:5567)\n    at eval (main.ts:14)\n    at Object../src/main.ts (main.bundle.js:269)\n    at __webpack_require__ (inline.bundle.js:55)\n</code></pre>\n\n<p>This is when I run the following to start the application:</p>\n\n<pre><code>ng serve --aot true\n</code></pre>\n\n<p>When I start the application without the --aot true flag the application bootstraps correctly and works without error.</p>\n\n<p>As this is my first attempt at AOT compilation I don't know where to start. </p>\n\n<p>Here is my app.module file:</p>\n\n<pre><code>import { NgModule, ErrorHandler, APP_INITIALIZER } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { LayoutModule } from './layout/layout.module';\nimport { RoutesModule } from './routes/routes.module';\nimport { CoreModule } from './core/core.module';\n\nimport { PreLoaderService } from './core/preLoader/preLoader.service';\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    BrowserAnimationsModule,\n    CoreModule,\n    RoutesModule,\n    LayoutModule\n  ],\n  providers: [\n    PreLoaderService\n  ],\n  bootstrap: [\n    AppComponent\n  ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>And my main.ts file:</p>\n\n<pre><code>import './polyfills.ts';\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { AppModule } from './app/';\n\nconst platform = platformBrowserDynamic();\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatform.bootstrapModule(AppModule);\n</code></pre>\n\n<p>My .tsconfig file</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ]\n  }\n}\n</code></pre>\n\n<p>And my angular-cli.json file</p>\n\n<pre><code>{\n  \"project\": {\n    \"version\": \"1.0.0-beta.19-3\",\n    \"name\": \"q2c-shell\"\n  },\n  \"apps\": [{\n    \"root\": \"src\",\n    \"outDir\": \"dist\",\n    \"assets\": [\n      \"assets\",\n      \"favicon.png\"\n    ],\n    \"index\": \"index.html\",\n    \"main\": \"main.ts\",\n    \"test\": \"test.ts\",\n    \"tsconfig\": \"tsconfig.json\",\n    \"prefix\": \"app\",\n    \"mobile\": false,\n    \"styles\": [\n      \"styles.scss\",\n      \"../node_modules/openlayers/css/ol.css\",\n      \"../node_modules/loaders.css/loaders.css\"\n    ],\n    \"scripts\": [\n      \"../node_modules/jquery/dist/jquery.js\",\n      \"../node_modules/bootstrap/js/tab.js\",\n      \"../node_modules/bootstrap/js/dropdown.js\",\n      \"../node_modules/openlayers/dist/ol.js\",\n      \"../node_modules/proj4/dist/proj4.js\",\n      \"../node_modules/web-animations-js/web-animations.min.js\",\n      \"../node_modules/jsts/dist/jsts.min.js\",\n      \"../node_modules/blob-util/dist/blob-util.min.js\",\n      \"./assets/js/fontawesome-all.min.js\",\n      \"./assets/js/fa-v4-shims.min.js\"\n    ],\n    \"environmentSource\": \"environments/environment.ts\",\n    \"environments\": {\n      \"source\": \"environments/environment.ts\",\n      \"dev\": \"environments/environment.ts\",\n      \"bvt\": \"environments/environment.bvt.ts\",\n      \"uat\": \"environments/environment.uat.ts\",\n      \"prod\": \"environments/environment.prod.ts\"\n    }\n  }],\n  \"addons\": [],\n  \"packages\": [],\n  \"e2e\": {\n    \"protractor\": {\n      \"config\": \"./protractor.conf.js\"\n    }\n  },\n  \"test\": {\n    \"karma\": {\n      \"config\": \"./karma.conf.js\"\n    }\n  },\n  \"defaults\": {\n    \"styleExt\": \"scss\",\n    \"prefixInterfaces\": false,\n    \"inline\": {\n      \"style\": false,\n      \"template\": false\n    },\n    \"spec\": {\n      \"class\": false,\n      \"component\": true,\n      \"directive\": true,\n      \"module\": false,\n      \"pipe\": true,\n      \"service\": true\n    }\n  }\n}\n</code></pre>\n\n<p>Can anyone see why this error may be happening?\nthanks</p>\n"}, {"tags": ["typescript", "vue.js"], "comments": [{"owner": {"reputation": 1, "user_id": 8396862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-awid6cEBpLA/AAAAAAAAAAI/AAAAAAAAABA/xtFC5LkBDkw/photo.jpg?sz=128", "display_name": "\u6bdb\u9e4f\u7a0b", "link": "https://stackoverflow.com/users/8396862/%e6%af%9b%e9%b9%8f%e7%a8%8b"}, "edited": false, "score": 0, "creation_date": 1523454845, "post_id": 49776920, "comment_id": 86569059, "body": "And it can run only the prompt make me feel not good"}, {"owner": {"reputation": 3766, "user_id": 1771634, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4b45e1cd66fdab4d80f85e413f141380?s=128&d=identicon&r=PG", "display_name": "Adrien Brunelat", "link": "https://stackoverflow.com/users/1771634/adrien-brunelat"}, "edited": false, "score": 0, "creation_date": 1523454860, "post_id": 49776920, "comment_id": 86569070, "body": "Use the code blocks, not images to show your code."}, {"owner": {"reputation": 1, "user_id": 8396862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-awid6cEBpLA/AAAAAAAAAAI/AAAAAAAAABA/xtFC5LkBDkw/photo.jpg?sz=128", "display_name": "\u6bdb\u9e4f\u7a0b", "link": "https://stackoverflow.com/users/8396862/%e6%af%9b%e9%b9%8f%e7%a8%8b"}, "reply_to_user": {"reputation": 3766, "user_id": 1771634, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4b45e1cd66fdab4d80f85e413f141380?s=128&d=identicon&r=PG", "display_name": "Adrien Brunelat", "link": "https://stackoverflow.com/users/1771634/adrien-brunelat"}, "edited": false, "score": 0, "creation_date": 1523458738, "post_id": 49776920, "comment_id": 86572056, "body": "@AdrienBrunelat  I have updated it."}, {"owner": {"reputation": 1, "user_id": 8396862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-awid6cEBpLA/AAAAAAAAAAI/AAAAAAAAABA/xtFC5LkBDkw/photo.jpg?sz=128", "display_name": "\u6bdb\u9e4f\u7a0b", "link": "https://stackoverflow.com/users/8396862/%e6%af%9b%e9%b9%8f%e7%a8%8b"}, "reply_to_user": {"reputation": 3766, "user_id": 1771634, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4b45e1cd66fdab4d80f85e413f141380?s=128&d=identicon&r=PG", "display_name": "Adrien Brunelat", "link": "https://stackoverflow.com/users/1771634/adrien-brunelat"}, "edited": false, "score": 0, "creation_date": 1523458796, "post_id": 49776920, "comment_id": 86572096, "body": "@AdrienBrunelat It can run,  but it prompt wrong."}], "owner": {"reputation": 1, "user_id": 8396862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-awid6cEBpLA/AAAAAAAAAAI/AAAAAAAAABA/xtFC5LkBDkw/photo.jpg?sz=128", "display_name": "\u6bdb\u9e4f\u7a0b", "link": "https://stackoverflow.com/users/8396862/%e6%af%9b%e9%b9%8f%e7%a8%8b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523457319, "creation_date": 1523454674, "last_edit_date": 1523457319, "question_id": 49776920, "link": "https://stackoverflow.com/questions/49776920/i-use-typescript-and-vue-but-the-intellisense-is-wrong", "title": "I use typescript and vue but the IntelliSense is wrong", "body": "<p><img src=\"https://i.stack.imgur.com/QpmEB.png\" alt=\"enter image description here\"></p>\n\n<pre><code>export class AuthService {\n  constructor() {}\n  test: string = 'asdasd'\n  lala: string = 'we'\n  test2: string = 'ada'\n</code></pre>\n\n<p>}</p>\n\n<p>In my .ts file, i define a class and it has a test2 property.</p>\n\n<p><img src=\"https://i.stack.imgur.com/m6i9V.png\" alt=\"enter image description here\"></p>\n\n<pre><code>&lt;script lang=\"ts\"&gt;\n  import { AuthService } from './authService.service.ts'\n\n  new AuthService().test2\n&lt;script&gt;\n</code></pre>\n\n<p>but in my .vue file, when i use the class, i find it is wrong.\nIt is saying i have not define the test2 property.</p>\n\n<p>I am using vetor extensions.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 1, "creation_date": 1523454559, "post_id": 49776851, "comment_id": 86568846, "body": "Which error are you getting?"}], "answers": [{"tags": [], "owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "is_accepted": true, "score": 1, "last_activity_date": 1523455212, "creation_date": 1523455212, "answer_id": 49777125, "question_id": 49776851, "link": "https://stackoverflow.com/questions/49776851/initialising-in-constructor-parameter-vs-new-keyword-in-angular-5/49777125#49777125", "title": "initialising in constructor parameter vs new Keyword in Angular 5?", "body": "<p>In your first code,</p>\n\n<pre><code>export class AppComponent {\n    list: number[] = [1, 2, 3];\n    constructor(a:exampleClass) {\n      a.hello();\n    }\n }\n</code></pre>\n\n<p>The <code>exampleClass</code> should be a <code>service</code> and <code>services</code> can be injected into the <code>constructor</code> as a <code>parameter</code>.</p>\n\n<p>So, you might get the error  <strong>No provider for HeroDetailComponent</strong></p>\n\n<p>So, if <code>exampleClass</code> was a service it might have worked.</p>\n"}, {"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 1, "last_activity_date": 1523455387, "creation_date": 1523455387, "answer_id": 49777182, "question_id": 49776851, "link": "https://stackoverflow.com/questions/49776851/initialising-in-constructor-parameter-vs-new-keyword-in-angular-5/49777182#49777182", "title": "initialising in constructor parameter vs new Keyword in Angular 5?", "body": "<p>You may want to read about <strong>Dependency Injection</strong> in Angular: <a href=\"https://angular.io/guide/dependency-injection-pattern\" rel=\"nofollow noreferrer\">https://angular.io/guide/dependency-injection-pattern</a> (and maybe in general, too).</p>\n\n<p>In the first case, <code>AppComponent</code> does not need to know anything about the details of <code>exampleClass</code>. In the second case, you are deciding what class exactly are you using.</p>\n\n<p>In the first case, when <code>AppComponent</code> is instantiated, Angular will take care of the parameters for you, instantiating the needed class. The advantage os this approach is that you may not want to always use the same class there. Maybe in your tests you want to use another mocked class. In the second case, you can't do that: <code>AppComponent</code> is tightly coupled with <code>exampleClass</code>.</p>\n\n<p>In the first case, you decide what kind of instance the component will receive, without affecting the component. In the second case, that is not true. If you wanted to pass not <code>exampleClass</code>, but a derived class, you should have to touch it. In fact, if those classes's constructors were not parameterless, <code>AppComponent</code> should have to know how to instantiate them, too.</p>\n\n<p>And the reason you receive an error is, I assume, that you haven't decorated <code>exampleClass</code> with <code>@Injectable()</code>. This decorator tells Angular that this class might be instantiated via dependency injection.</p>\n\n<p>Besides, you should add <code>exampleClass</code> to the <code>providers</code> section of your <code>AppModule</code></p>\n\n<pre><code>@Injectable() export class exampleClass { ... }\n\n@NgModule({\n    providers: [exampleClass],\n    ...\n})\nexport class AppModule { }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 675, "user_id": 4583018, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RX7HV.jpg?s=128&g=1", "display_name": "The Segfault", "link": "https://stackoverflow.com/users/4583018/the-segfault"}, "is_accepted": false, "score": 1, "last_activity_date": 1523460647, "creation_date": 1523460647, "answer_id": 49779065, "question_id": 49776851, "link": "https://stackoverflow.com/questions/49776851/initialising-in-constructor-parameter-vs-new-keyword-in-angular-5/49779065#49779065", "title": "initialising in constructor parameter vs new Keyword in Angular 5?", "body": "<p>The code 1 is when you want a service to be <strong>shared between components</strong>.</p>\n\n<p>For storing data for example -> If you do this.service.data = 'test';\nAll others component with code 1 will be able to </p>\n\n<pre><code>console.log(this.service.data); // print 'test'\n</code></pre>\n\n<p>The code 2 you instantiate it so the service is <strong>a new instance scoped into your component</strong>.</p>\n"}], "owner": {"reputation": 675, "user_id": 8490514, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/411d2498778720f4ee58fda0a8f9d51a?s=128&d=identicon&r=PG&f=1", "display_name": "Amey", "link": "https://stackoverflow.com/users/8490514/amey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 1, "accepted_answer_id": 49777125, "answer_count": 3, "score": -1, "last_activity_date": 1523460647, "creation_date": 1523454469, "question_id": 49776851, "link": "https://stackoverflow.com/questions/49776851/initialising-in-constructor-parameter-vs-new-keyword-in-angular-5", "title": "initialising in constructor parameter vs new Keyword in Angular 5?", "body": "<p>CODE 1 :</p>\n\n<pre><code> import { Component,OnInit } from '@angular/core';\n    import {exampleClass} from './exampleClass'\n    @Component({\n      selector: 'app-root',\n      templateUrl: './app.component.html',\n      styleUrls: ['./app.component.css']\n    })\n    export class AppComponent {\n       list: number[] = [1, 2, 3];\n\n       constructor(a:exampleClass) {\n        a.hello();\n       }\n    }\n</code></pre>\n\n<p>Code 2 :</p>\n\n<pre><code>import { Component,OnInit } from '@angular/core';\nimport {exampleClass} from './exampleClass'\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n   list: number[] = [1, 2, 3];\n\n   constructor() {\n     const a = new exampleClass ;\n\n   }\n\n}\n</code></pre>\n\n<p>exampleClass.ts Cose :</p>\n\n<pre><code>export class exampleClass {\n    hello(){\n        console.log(\"A\");\n    }\n}\n</code></pre>\n\n<p>why code 1 gives error and code prints A In Console And Whats The Difference Between Two initialisation Method ?</p>\n"}, {"tags": ["angular", "typescript", "angular5", "angular-reactive-forms"], "answers": [{"comments": [{"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1523454601, "post_id": 49776837, "comment_id": 86568885, "body": "Thanks @Titian , but beside that compile time safety , is it wrong practice to use a generic data type for the form ? is there any other serious issue? cause I searched everywhere &amp; never found explanation for this, also I am validating the form so I feel safe using it this way without extra model"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 1, "creation_date": 1523454776, "post_id": 49776837, "comment_id": 86569014, "body": "@AhmedElkoussy It&#39;s your choice, the primary selling point of typescript is compile time safety. At runtime types are erased so they should behave the same. But I recommend you use the model version. It will pay off in the long run."}, {"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1523454897, "post_id": 49776837, "comment_id": 86569091, "body": "Thanks a lot for your helpful explanation"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1523454434, "creation_date": 1523454434, "answer_id": 49776837, "question_id": 49776739, "link": "https://stackoverflow.com/questions/49776739/angular-5-forms-creating-a-model-for-the-form-group-inputs-or-leaving-it-as-gene/49776837#49776837", "title": "Angular 5 forms creating a model for the form group inputs or leaving it as generic variable with 2 way binding", "body": "<p>Sure you can use <code>any</code> for any variable/field/parameter, the problem is if you do this you will not get any safety from the typescript compiler.</p>\n\n<pre><code>interface Attorney  {\n    name: string\n}\nclass Comp {\n    attorney: Attorney = {\n        Name: 'Test' // compile time error which is good\n    }\n}\n</code></pre>\n\n<p>If you use <code>any</code> you can access any field on the object, which can lead to errors, </p>\n\n<pre><code>    attorney: any= {\n        Name: 'Test' // compile time error which is good\n        age: 10\n    }\n    console.log(this.name + ' '+this.age.trim('0')) // will be a runtime error instead of a compile time one\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1523455740, "post_id": 49776950, "comment_id": 86569714, "body": "Thanks for illustration, now I find that way I used in the example to be easier, is there any concern with that mixing I am doing ? I felt it is making things quicker"}, {"owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "reply_to_user": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 1, "creation_date": 1523455855, "post_id": 49776950, "comment_id": 86569807, "body": "Well my question to you would be &quot;why?&quot;. You are not using the form group at all.. there are no validators on it, and you are not extracting values from it anywhere (I assume you&#39;ll use the <code>attorney</code> class property to extra the value when submitting). So what is the point in even using the <code>FormBuilder</code> here? My response to your question depends on your answer to this question."}, {"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1523456695, "post_id": 49776950, "comment_id": 86570412, "body": "Great, I will still add more validations on it, maybe with some custom error messages, I felt it is easier to use the ReactiveForms approach to allow this, it turned out strange but it works well, so I am very hesitant in changing it, btw I am using that FormGroup in a stepper (wizard) so it is easier to bind to the formGroup than making custom @Viewchild to check the form validity"}, {"owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "reply_to_user": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 1, "creation_date": 1523457337, "post_id": 49776950, "comment_id": 86570940, "body": "I agree with the use of a form group. I use them myself. I am just wondering why you are binding to the attorney property <i>as well</i> as using the form group. What does that give you that a form group doesn&#39;t?"}, {"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1523526690, "post_id": 49776950, "comment_id": 86601060, "body": "it is just due to me being beginner :) , I found it easier to use in the material stepper, but as you said I am refactoring it to use template driven forms instead , much cleaner , thanks bro"}], "tags": [], "owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "is_accepted": false, "score": 1, "last_activity_date": 1523454766, "creation_date": 1523454766, "answer_id": 49776950, "question_id": 49776739, "link": "https://stackoverflow.com/questions/49776739/angular-5-forms-creating-a-model-for-the-form-group-inputs-or-leaving-it-as-gene/49776950#49776950", "title": "Angular 5 forms creating a model for the form group inputs or leaving it as generic variable with 2 way binding", "body": "<p>There is no right or wrong way to do any of this. If you want to use a custom type, use a custom type. If you want to use <code>any</code>, use <code>any</code>.</p>\n\n<p>Just understand that each approach has costs and benefits. @Titan makes a good argument for using a custom type. Let the compiler do all the work for you.</p>\n\n<p>You should use the approach that makes the most sense to you. If you don't see any reason why not to use <code>any</code> for your use case, and it makes your life easier, then use <code>any</code>. When you come to a point where <code>any</code> is not well suited and a custom type would be better, then you can switch.</p>\n\n<p>Or you can try both now and see which one you like better for the particular feature you are building.</p>\n\n<hr>\n\n<p>That being said, in your StackBlitz example, you are mixing template-driven forms with reactive forms. If you are using the <code>FormBuilder</code>, do not use <code>ngModel</code> to bind to your properties for the same form object values... just use <code>formControlName</code> or something. When you are working with plain objects, then it makes sense to use <code>ngModel</code> because that is the only way you'll get the binding.</p>\n"}], "owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 614, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523454766, "creation_date": 1523454129, "question_id": 49776739, "link": "https://stackoverflow.com/questions/49776739/angular-5-forms-creating-a-model-for-the-form-group-inputs-or-leaving-it-as-gene", "title": "Angular 5 forms creating a model for the form group inputs or leaving it as generic variable with 2 way binding", "body": "<p>I am new to Angular, I don't understand why most courses or tutorials are using a model or interface for the data that is taken from a form, for me I found it working well (&amp; easier) to use generic variable with 2 way data binding to fill it.</p>\n\n<p>Can someone explain why we should define a model for the form data ?</p>\n\n<p>I mean instead of using </p>\n\n<pre><code>  attorney: any = {\n  };\n</code></pre>\n\n<p>usually the courses use this:</p>\n\n<pre><code>attorney: Attorney = {...}\n//where the Attorney is a class defined with many parameters\n</code></pre>\n\n<p>You can find my working code below for this.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-xkcgng?file=app%2Fapp.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-xkcgng?file=app%2Fapp.component.html</a></p>\n"}, {"tags": ["typescript", "observable", "typescript2.0", "angular2-observables"], "comments": [{"owner": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "edited": false, "score": 0, "creation_date": 1523452032, "post_id": 49775833, "comment_id": 86566879, "body": "I can put <code>a.getClasses();</code> inside: <code>.subscribe(data =&gt; {}</code> but I need call this outside"}], "answers": [{"comments": [{"owner": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "edited": false, "score": 0, "creation_date": 1523452234, "post_id": 49775988, "comment_id": 86567048, "body": "Yes, I realize that, you recommend to add observer to <code>getClassesAndSubjects</code> and subscribe on this?"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "reply_to_user": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "edited": false, "score": 0, "creation_date": 1523452627, "post_id": 49775988, "comment_id": 86567348, "body": "Yes. In fact, is the only solution. Well, you could use async/await, but in essence does exactly the same, only a bit more elegantly. I can add that to my answer"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523453259, "post_id": 49775988, "comment_id": 86567844, "body": "@OscarPaz I want to like this, but the <code>any</code>s are killing me. Just leave the type off and let the compiler infer it, especially when not knowing anything better from the context (question)"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 0, "creation_date": 1523454111, "post_id": 49775988, "comment_id": 86568470, "body": "You can remove the <code>any</code>s and put yourself the types, or let the compiler infer them, if it is possible. I put <code>any</code> in the examples just because I don&#39;t know the types, not because I like <code>any</code> at all."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523454284, "post_id": 49775988, "comment_id": 86568626, "body": "@OscarPaz that&#39;s what I mean. Many readers don&#39;t realize that or know better. I see <code>const x: any = { a: 1, b:2 };</code> all the damn time and it gets my goat. So I would advise leaving the annotation off when, as those answering the question, we do not know the type anyway."}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "edited": false, "score": 1, "creation_date": 1523454479, "post_id": 49775988, "comment_id": 86568775, "body": "If it irks you so much, I changed the <code>any</code> for the placeholder <code>your-type</code> :-)"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523454600, "post_id": 49775988, "comment_id": 86568882, "body": "I appreciate it ;p"}, {"owner": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "edited": false, "score": 0, "creation_date": 1523455564, "post_id": 49775988, "comment_id": 86569585, "body": "Your example with <code>return observable;</code> call this function twice"}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 1, "last_activity_date": 1523454454, "last_edit_date": 1523454454, "creation_date": 1523452120, "answer_id": 49775988, "question_id": 49775833, "link": "https://stackoverflow.com/questions/49775833/how-to-wait-loading-of-data-in-typescript-observer/49775988#49775988", "title": "How to wait loading of data in TypeScript observer?", "body": "<p><code>getClassesAndSubjects</code> performs an asynchronous operation, so, when you call <code>getClasses</code> the operation has not yet finished. You need to return an observable or a promise from <code>getClassesAndSubjects</code>:</p>\n\n<pre><code>public getClassesAndSubjects(school: number, whenData: string): Observable&lt;your-type&gt; {\n    const observable = this.classService.GetClassesAndSubjects(school, whenDate);\n    observable.subscribe(data =&gt; {\n      if (!data.hasOwnProperty('errors')) {\n        this.classesSubjects = data;\n\n      }\n    }, error =&gt; {\n      console.log(\"ERROR loading GetClassesAndSubjects: \" + error);\n    });\n\n    return observable;\n}\n</code></pre>\n\n<p>Now:</p>\n\n<pre><code>a.getClassesAndSubjects(1,'2018-01-01').subscribe(value =&gt; {\n     a.getClasses();\n});\n</code></pre>\n\n<p>If a function performs asynchronous operations, any action that depends of the results of such operation, must take into account that, and wait for the operation to complete.</p>\n\n<p>You can also use <code>async/await</code>. In this case, the asynchronous function must return a <code>Promise</code>:</p>\n\n<pre><code>public async getClassesAndSubjects(school: number, whenData: string): Promise&lt;your-type&gt; {\n    const observable = this.classService.GetClassesAndSubjects(school, whenDate);\n    observable.subscribe(data =&gt; {\n      if (!data.hasOwnProperty('errors')) {\n        this.classesSubjects = data;\n\n      }\n    }, error =&gt; {\n      console.log(\"ERROR loading GetClassesAndSubjects: \" + error);\n    });\n\n    return observable.toPromise();\n}\n</code></pre>\n\n<p>And now, wherever you want to use it:</p>\n\n<pre><code>async function whatever() {\n    // ...\n    await a.getClassesAndSubjects(1, '2018-01-01');\n    a.getClasses();\n}\n</code></pre>\n\n<p>By doing this, the execution of function <code>whatever</code> gets suspended until the promise returned by <code>a.getClassesAndSubjects</code> is fulfilled or rejected, so, when <code>a.getClasses</code> is executed, the data is there. Of course, the fact that this function gets 'suspended' does not mean the application get suspended, too. What happens is that, under the hood, the async function gets broken into parts, and the second part (after the <code>await</code>) gets executed inside a <code>Promise.then</code> method. But the compiler doest that for you, so the solution is much more elegant.</p>\n\n<p>You need to remember that any function in which you use <code>await</code> must be declared as <code>async</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1523454198, "last_edit_date": 1523454198, "creation_date": 1523452778, "answer_id": 49776223, "question_id": 49775833, "link": "https://stackoverflow.com/questions/49775833/how-to-wait-loading-of-data-in-typescript-observer/49776223#49776223", "title": "How to wait loading of data in TypeScript observer?", "body": "<p>You should generalize <code>getClassesAndSubjects</code> adjusting it to return a value, in this case an <code>Observable</code>. Instead of having it call <code>subscribe</code>, it will now be composable.</p>\n\n<pre><code>getClassesAndSubjects(school: number, whenDate: string) {\n  return this.classService.getClassesAndSubjects(school, whenDate)\n    .map(data =&gt; {\n      if ('errors' in data) { // type guard\n        throw Error(data.errors);\n      }\n      return data;\n    });\n}\n\nconst c = new ClassObj();\n\nc.getClassesAndSubjects(1,'2018-01-01').subscribe(classesAndSubjects =&gt; {\n  this.classesAndSubjects = classesAndSubjects;\n}, handleError);\n\n\n// outside of the class!\nexport function handleError(error: any) {\n  console.log(\"ERROR loading GetClassesAndSubjects: \" + error);\n}\n</code></pre>\n\n<p>Note that <code>getClasses</code> was a pointless method, it may as well not exist and if it were to, a <code>get</code> property would be cleaner. Also, it has a most confusing name in the context of its sister method <code>getClassesAndSubjects</code> given what it returns. So I just removed the method.</p>\n\n<p><strong>Addendum:</strong></p>\n\n<p><code>async</code>/<code>await</code> having been brought up and being an elegant way to lift writing asynchronous programming from the tedium and unmaintainability of callbacks, I'll just show how this would work with <code>async</code>/<code>await</code> over standard Promises.</p>\n\n<pre><code>import 'rxjs/add/operator/toPromise';\n// ...\n\nasync getClassesAndSubjects(school: number, whenDate: string) {\n  const data = await this.classService.getClassesAndSubjects(school, whenDate)\n    .toPromise();\n  if ('errors' in data) { // type guard\n    throw Error(data.errors);\n  }\n  return data;\n}\n\n// ...\n\nconst c = new ClassObj();\n\ntry {\n  this.classesAndSubjects = await this.getClassesAndSubjects(1,'2018-01-01');\n}\ncatch (e) {\n  handleError(e);\n}\n</code></pre>\n\n<p>The advantages are strong, being able to use standard syntactic constructs without any adjustments, maintaining the clarity of linear control flow over, and above all dealing with regular values and exceptions the whole way down. There is no need for the <code>subscribe</code> vs <code>return</code> dilemma with this approach as everything is compositional. In that way we sidestep the entire reason for the question. Sure it's less powerful, but its also simpler.</p>\n"}, {"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1523453093, "post_id": 49776270, "comment_id": 86567702, "body": "Sound advice. For 95% of cases <code>async</code>/<code>await</code> backed by Promises leads to straightforward, maintainable, and highly readable code, while Observables, powerful as they are, are frankly unnecessary. In some projects I&#39;ve added a <code>SimpleHttpClient</code> that is about 6 lines of code that delegates to the underlying Angular <code>HttpClient</code>."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523454937, "post_id": 49776270, "comment_id": 86569135, "body": "I updated my answer to contrast the <code>async</code>/<code>await</code> approach. Ironically, it not only works well, but invalidates the inception of the question itself."}, {"owner": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "edited": false, "score": 0, "creation_date": 1523457577, "post_id": 49776270, "comment_id": 86571122, "body": "Man my observer is called twice"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "edited": false, "score": 0, "creation_date": 1523506130, "post_id": 49776270, "comment_id": 86590684, "body": "@dooglu there&#39;s no code in this answer so I don&#39;t see how it&#39;s possible that the author could be responsible. If you use the code that I wrote in my answer then I can promise you it won&#39;t cause double subscription"}], "tags": [], "owner": {"reputation": 9691, "user_id": 101251, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d983612a465ed6bedaaf89005cc6e85e?s=128&d=identicon&r=PG", "display_name": "kctang", "link": "https://stackoverflow.com/users/101251/kctang"}, "is_accepted": true, "score": 2, "last_activity_date": 1523452879, "creation_date": 1523452879, "answer_id": 49776270, "question_id": 49775833, "link": "https://stackoverflow.com/questions/49775833/how-to-wait-loading-of-data-in-typescript-observer/49776270#49776270", "title": "How to wait loading of data in TypeScript observer?", "body": "<p><strong>Short answer:</strong></p>\n\n<p>Let <code>getClassesAndSubjects</code> return an <code>Observable</code>. Whenever you need to value stored in <code>classesSubjects</code>, subscribe to <code>getClassesAndSubjects()</code>.</p>\n\n<p>However, while it will syntactically work, it may not be the best option. The best option, depends. :-)</p>\n\n<p><strong>Long answer:</strong></p>\n\n<p>The problem is due to async code execution.</p>\n\n<p>In JavaScript/TypeScript, there are a couple of ways to deal with these things. Which option to take, depend on your needs:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">Promises</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">async/await</a></li>\n<li><a href=\"http://reactivex.io/rxjs/\" rel=\"nofollow noreferrer\">Observables (RxJS)</a></li>\n</ul>\n\n<p>I highly recommend reading (and trying) tutorials on these topics BEFORE fixing your code. Investing time upfront to understand these prerequisite concepts will save you lots of bug fixing/debugging time in the future.</p>\n"}], "owner": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4403, "favorite_count": 2, "accepted_answer_id": 49776270, "answer_count": 3, "score": 0, "last_activity_date": 1523454454, "creation_date": 1523451590, "question_id": 49775833, "link": "https://stackoverflow.com/questions/49775833/how-to-wait-loading-of-data-in-typescript-observer", "title": "How to wait loading of data in TypeScript observer?", "body": "<p>I have method in class that load retrieve information from server:</p>\n\n<pre><code>public getClassesAndSubjects(school: number, whenDate: string) {\n    this.classService.GetClassesAndSubjects(school, whenDate).subscribe(data =&gt; {\n      if (!data.hasOwnProperty('errors')) {\n        this.classesSubjects = data;\n\n      }\n    }, error =&gt; {\n      console.log(\"ERROR loading GetClassesAndSubjects: \" + error);\n    });\n  }\n</code></pre>\n\n<p>In successful result it fills object: <code>this.class Subjects</code>.</p>\n\n<p>There is another method then returns this data:</p>\n\n<pre><code>public getClasses() {\n    return this.classesSubjects;\n  }\n</code></pre>\n\n<p>So, then I use this consistently:</p>\n\n<pre><code>let a = new ClassObj();\na.getClassesAndSubjects(1,'2018-01-01');\na.getClasses();\n</code></pre>\n\n<p>When I call <code>a.getClasses();</code> it returns empty object because previous method is not give response from server.</p>\n"}, {"tags": ["typescript", "debugging", "intellij-idea", "protractor"], "comments": [{"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1523468978, "post_id": 49775535, "comment_id": 86578323, "body": "Why are you using node.js run configuration? Did you try using <a href=\"https://www.jetbrains.com/help/webstorm/protractor.html#ws_protractor_running\" rel=\"nofollow noreferrer\">protractor</a> configuration instead?"}, {"owner": {"reputation": 57, "user_id": 8166858, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HKIdKIzqrw8/AAAAAAAAAAI/AAAAAAAAAIM/PRKA6rXqnnE/photo.jpg?sz=128", "display_name": "Lucy", "link": "https://stackoverflow.com/users/8166858/lucy"}, "reply_to_user": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1523514517, "post_id": 49775535, "comment_id": 86593767, "body": "Hi, yes I have :( And there is an error which says that &quot;Starting inspector on 127.0.0.1:49878 failed: address already in use&quot;. So my way to work-around it from what I have read is to run it through node.js and pass --inspect=0, which should make sure only open ports are used."}, {"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1523633933, "post_id": 49775535, "comment_id": 86656311, "body": "I&#39;m not aware of such issues using protractor, so this must be smth specific to your setup... &quot;address already in use&quot; is usually thrown when forking child process without execargv specified - in such cases, child process uses the execargv of the parent, thus the problem occurs... But I don&#39;t have such problems when debugging protractor, so it must have taken care of it..."}, {"owner": {"reputation": 57, "user_id": 8166858, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HKIdKIzqrw8/AAAAAAAAAAI/AAAAAAAAAIM/PRKA6rXqnnE/photo.jpg?sz=128", "display_name": "Lucy", "link": "https://stackoverflow.com/users/8166858/lucy"}, "reply_to_user": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1523730524, "post_id": 49775535, "comment_id": 86684695, "body": "Yes, in fact I was able to breakpoint at bprunner, apparently it is where the blocking proxy is being started - as a forked child process. This is where it&#39;s inspect is given the same port... I haven&#39;t figured out how to fix this and whether the issue is coming from project configurqtions. I tried disabling blocking proxy by passing use blocking proxy=false in the config but it didn&#39;t work"}, {"owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1523731409, "post_id": 49775535, "comment_id": 86684968, "body": "<a href=\"https://github.com/angular/protractor/pull/4398\" rel=\"nofollow noreferrer\">github.com/angular/protractor/pull/4398</a> should fix the issue, but it&#39;s not yet accepted afaik..."}, {"owner": {"reputation": 57, "user_id": 8166858, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HKIdKIzqrw8/AAAAAAAAAAI/AAAAAAAAAIM/PRKA6rXqnnE/photo.jpg?sz=128", "display_name": "Lucy", "link": "https://stackoverflow.com/users/8166858/lucy"}, "reply_to_user": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 1, "creation_date": 1523861583, "post_id": 49775535, "comment_id": 86716828, "body": "@lena Thank you so much, this actually fixes the issue! Wonder why the pull request hasn&#39;t been accepted."}], "owner": {"reputation": 57, "user_id": 8166858, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HKIdKIzqrw8/AAAAAAAAAAI/AAAAAAAAAIM/PRKA6rXqnnE/photo.jpg?sz=128", "display_name": "Lucy", "link": "https://stackoverflow.com/users/8166858/lucy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 518, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523450696, "creation_date": 1523450696, "question_id": 49775535, "link": "https://stackoverflow.com/questions/49775535/protractor-debug-configuration-in-intellij", "title": "Protractor debug configuration in IntelliJ", "body": "<p>I've been trying to setup a node JS run/debug configuration in IntelliJ to run my protractor tests. At first, I've been getting the following error upon debugging(note: run works flawlessly)</p>\n\n<pre><code>    Waiting for the debugger to disconnect...\n15:37:45] I/launcher - Running 1 instances of WebDriver\n[15:37:45] I/hosted - Using the selenium server at http://localhost:4444/wd/hub\n[15:37:45] I/BlockingProxy - Starting BlockingProxy with args: --fork,--seleniumAddress,http://localhost:4444/wd/hub,--logDir,bp-logs,--highlightDelay,80\n[15:37:45] E/BlockingProxy - Starting inspector on 127.0.0.1:65281 failed: address already in use\n[15:37:45] E/BlockingProxy - Exited with 12\n[15:37:45] E/BlockingProxy - signal null\n[15:37:45] E/launcher - Error: Error: BP exited with 12\n    at ChildProcess.bpProcess.on.on.on (C:\\.............)\n    at emitTwo (events.js:126:13)\n    at ChildProcess.emit (events.js:214:7)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:198:12)\n[15:37:45] E/launcher - Process exited with error code 100\n</code></pre>\n\n<p>Basically after some reasearch I figured I need to add the --inspect=0 parameter to the node parameters, so that debugging happens on a free port, and it worked, but now when I debug it doesn't actually start the execution. It just says that the debugger is attached, but nothing else. </p>\n\n<p>Has anyone else had any issues with hanging debugger / child processes ports etc. when debugging protractor?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript", "oop", "inheritance", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 3947, "user_id": 5690396, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ah9ok.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5690396/adam"}, "edited": false, "score": 0, "creation_date": 1523450935, "post_id": 49775588, "comment_id": 86566031, "body": "Yep, but in this case I have to redeclare <code>myMember</code> which I would no like to do."}], "tags": [], "owner": {"reputation": 302, "user_id": 2900305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004246599256/picture?type=large", "display_name": "Igor Dimchevski", "link": "https://stackoverflow.com/users/2900305/igor-dimchevski"}, "is_accepted": false, "score": 2, "last_activity_date": 1523450890, "creation_date": 1523450890, "answer_id": 49775588, "question_id": 49775508, "link": "https://stackoverflow.com/questions/49775508/typescript-can-not-access-member-value-in-inherited-class-constructor/49775588#49775588", "title": "Typescript: can not access member value in inherited class constructor", "body": "<p>Try this:</p>\n\n<pre><code>class A {\n    constructor() {\n        this.init();\n    }\n    init() { }\n}\n\nclass B extends A {\n    private myMember = { 'value': 1 };\n    constructor() {\n        super();\n    }\n    init() {\n        this.myMember = { 'value': 1 };\n        console.log(this.myMember.value);\n    }\n}\n\nconst x = new B();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3947, "user_id": 5690396, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ah9ok.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5690396/adam"}, "edited": false, "score": 0, "creation_date": 1523451144, "post_id": 49775619, "comment_id": 86566210, "body": "It does the same. <code>init()</code> will be called before <code>this.myMember</code> is declared."}, {"owner": {"reputation": 19084, "user_id": 2854908, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/snzI5.jpg?s=128&g=1", "display_name": "libik", "link": "https://stackoverflow.com/users/2854908/libik"}, "reply_to_user": {"reputation": 3947, "user_id": 5690396, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ah9ok.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5690396/adam"}, "edited": false, "score": 0, "creation_date": 1523451176, "post_id": 49775619, "comment_id": 86566234, "body": "@Adam - read the answer once more, I have posted the .js file that was created by typescript."}, {"owner": {"reputation": 3947, "user_id": 5690396, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ah9ok.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5690396/adam"}, "edited": false, "score": 1, "creation_date": 1523451293, "post_id": 49775619, "comment_id": 86566332, "body": "ok, thats right, sorry. but it is not a solution for my problem :-/"}, {"owner": {"reputation": 19084, "user_id": 2854908, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/snzI5.jpg?s=128&g=1", "display_name": "libik", "link": "https://stackoverflow.com/users/2854908/libik"}, "reply_to_user": {"reputation": 3947, "user_id": 5690396, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ah9ok.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5690396/adam"}, "edited": false, "score": 1, "creation_date": 1523451597, "post_id": 49775619, "comment_id": 86566548, "body": "@Adam - there is no solution, you cannot use it like this"}], "tags": [], "owner": {"reputation": 19084, "user_id": 2854908, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/snzI5.jpg?s=128&g=1", "display_name": "libik", "link": "https://stackoverflow.com/users/2854908/libik"}, "is_accepted": false, "score": 2, "last_activity_date": 1523450956, "creation_date": 1523450956, "answer_id": 49775619, "question_id": 49775508, "link": "https://stackoverflow.com/questions/49775508/typescript-can-not-access-member-value-in-inherited-class-constructor/49775619#49775619", "title": "Typescript: can not access member value in inherited class constructor", "body": "<p>Super has to be first command. Remeber that typescript is more \"javascript with documentation of types\" rather than language on its own.</p>\n\n<p>If you look to the transpiled code .js it is clearly visible:</p>\n\n<pre><code>class A {\n    constructor() {\n        this.init();\n    }\n    init() {\n    }\n}\nclass B extends A {\n    constructor() {\n        super();\n        this.myMember = { value: 1 };\n    }\n    init() {\n        console.log(this.myMember.value);\n    }\n}\nconst x = new B();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 18, "last_activity_date": 1523453090, "last_edit_date": 1523453090, "creation_date": 1523451166, "answer_id": 49775700, "question_id": 49775508, "link": "https://stackoverflow.com/questions/49775508/typescript-can-not-access-member-value-in-inherited-class-constructor/49775700#49775700", "title": "Typescript: can not access member value in inherited class constructor", "body": "<p>This is why in some languages (cough C#) code analysis tools flag usage of virtual members inside constructors.</p>\n\n<p>In Typescript field initializations happen in the constructor, after the call to the base constructor. The fact that field initializations are written near the field is just syntactic sugar. If we look at the generated code the problem becomes clear:</p>\n\n<pre><code>function B() {\n    var _this = _super.call(this) || this; // base call here, field has not been set, init will be called\n    _this.myMember = { value: 1 }; // field init here\n    return _this;\n}\n</code></pre>\n\n<p>You should consider a solution where init is either called from outside the instance, and not in the constructor:</p>\n\n<pre><code>class A {\n    constructor(){\n    }\n    init(){}\n}\n\nclass B extends A {\n    private myMember = {value:1};\n    constructor(){\n        super();\n    }\n    init(){\n        console.log(this.myMember.value);\n    }\n}\n\nconst x = new B();\nx.init();   \n</code></pre>\n\n<p>Or you can have an extra parameter to your constructor that specifies whether to call <code>init</code> and not call it in the derived class as well.</p>\n\n<pre><code>class A {\n    constructor()\n    constructor(doInit: boolean)\n    constructor(doInit?: boolean){\n        if(doInit || true)this.init();\n    }\n    init(){}\n}\n\nclass B extends A {\n    private myMember = {value:1};\n    constructor()\n    constructor(doInit: boolean)\n    constructor(doInit?: boolean){\n        super(false);\n        if(doInit || true)this.init();\n    }\n    init(){\n        console.log(this.myMember.value);\n    }\n}\n\nconst x = new B();\n</code></pre>\n\n<p>Or the very very very dirty solution of <code>setTimeout</code>, which will defer initialization until the current frame completes. This will let the parent constructor call to complete, but there will be an interim between constructor call and when the timeout expires when the object has not been <code>init</code>ed</p>\n\n<pre><code>class A {\n    constructor(){\n        setTimeout(()=&gt; this.init(), 1);\n    }\n    init(){}\n}\n\nclass B extends A {\n    private myMember = {value:1};\n    constructor(){\n        super();\n    }\n    init(){\n        console.log(this.myMember.value);\n    }\n}\n\nconst x = new B();\n// x is not yet inited ! but will be soon \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3021, "user_id": 9208197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e545ac8c6a4f6c5cad3832d7463c15?s=128&d=identicon&r=PG&f=1", "display_name": "L&#233;o R.", "link": "https://stackoverflow.com/users/9208197/l%c3%a9o-r"}, "is_accepted": false, "score": -1, "last_activity_date": 1523451334, "creation_date": 1523451334, "answer_id": 49775761, "question_id": 49775508, "link": "https://stackoverflow.com/questions/49775508/typescript-can-not-access-member-value-in-inherited-class-constructor/49775761#49775761", "title": "Typescript: can not access member value in inherited class constructor", "body": "<p>Like this :</p>\n\n<pre><code> class A\n{\n     myMember; \n    constructor() {\n\n    }\n\n    show() {\n        alert(this.myMember.value);\n    }\n}\n\nclass B extends A {\n    public myMember = {value:1};\n\n    constructor() {\n        super();\n    }\n}\n\nconst test = new B;\ntest.show();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16005, "user_id": 4867993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4d924e65b84f1572ea3598437aa5559?s=128&d=identicon&r=PG&f=1", "display_name": "Julien Gr&#233;goire", "link": "https://stackoverflow.com/users/4867993/julien-gr%c3%a9goire"}, "is_accepted": false, "score": 3, "last_activity_date": 1523900857, "last_edit_date": 1523900857, "creation_date": 1523889705, "answer_id": 49860065, "question_id": 49775508, "link": "https://stackoverflow.com/questions/49775508/typescript-can-not-access-member-value-in-inherited-class-constructor/49860065#49860065", "title": "Typescript: can not access member value in inherited class constructor", "body": "<p>One approach you could take is use a getter/setter for <strong>myMember</strong> and manage the default value in the getter. This would prevent the undefined problem and allow you to keep almost exactly the same structure you have. Like this:</p>\n\n<pre><code>class A {\n    constructor(){\n        this.init();\n    }\n    init(){}\n}\n\nclass B extends A {\n    private _myMember;\n    constructor(){\n        super();\n    }\n    init(){\n        console.log(this.myMember.value);\n    }\n\n    get myMember() {\n        return this._myMember || { value: 1 };\n    }\n\n    set myMember(val) {\n        this._myMember = val;\n    }\n}\n\nconst x = new B();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 8723472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8TUNk0SpNFE/AAAAAAAAAAI/AAAAAAAAB7A/yGLxLbnP8fo/photo.jpg?sz=128", "display_name": "Carlos Augusto Grispan", "link": "https://stackoverflow.com/users/8723472/carlos-augusto-grispan"}, "is_accepted": false, "score": 2, "last_activity_date": 1524274492, "creation_date": 1524274492, "answer_id": 49951559, "question_id": 49775508, "link": "https://stackoverflow.com/questions/49775508/typescript-can-not-access-member-value-in-inherited-class-constructor/49951559#49951559", "title": "Typescript: can not access member value in inherited class constructor", "body": "<p>Do you have to call init in class A?</p>\n\n<p>That works fine, but I don't know if you have different requirements:</p>\n\n<pre><code>class A {\n  constructor(){}\n  init(){}\n}\n\nclass B extends A {\n  private myMember = {value:1};\n  constructor(){\n      super();\n      this.init();\n  }\n  init(){\n      console.log(this.myMember.value);\n  }\n}\n\nconst x = new B();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 6, "last_activity_date": 1524401107, "last_edit_date": 1524401107, "creation_date": 1524398853, "answer_id": 49965732, "question_id": 49775508, "link": "https://stackoverflow.com/questions/49775508/typescript-can-not-access-member-value-in-inherited-class-constructor/49965732#49965732", "title": "Typescript: can not access member value in inherited class constructor", "body": "<p>Because <code>myMember</code> property is accessed in parent constructor (<code>init()</code> is called during <code>super()</code> call), there is no way how it can be defined in child constructor without hitting a race condition.</p>\n\n<p>There are several alternative approaches.</p>\n\n<h1><code>init</code> hook</h1>\n\n<p><code>init</code> is considered a hook that shouldn't be called in class constructor. Instead, it is called explicitly:</p>\n\n<pre><code>new B();\nB.init();\n</code></pre>\n\n<p>Or it is called implicitly by the framework, as a part of application lifecycle.</p>\n\n<h1>Static property</h1>\n\n<p>If a property is supposed to be a constant, it can be static property.</p>\n\n<p>This is the most efficient way because this is what static members are for, but the syntax may be not that attractive because it requires to use <code>this.constructor</code> instead of class name if static property should be properly referred in child classes:</p>\n\n<pre><code>class B extends A {\n    static readonly myMember = { value: 1 };\n\n    init() {\n        console.log((this.constructor as typeof B).myMember.value);\n    }\n}\n</code></pre>\n\n<h1>Property getter/setter</h1>\n\n<p>Property descriptor can be defined on class prototype with <code>get</code>/<code>set</code> syntax. If a property is supposed to be primitive constant, it can be just a getter:</p>\n\n<pre><code>class B extends A {\n    get myMember() {\n        return 1;\n    }\n\n    init() {\n        console.log(this.myMember);\n    }\n}\n</code></pre>\n\n<p>It becomes more hacky if the property is not constant or primitive:</p>\n\n<pre><code>class B extends A {\n    private _myMember?: { value: number };\n\n    get myMember() {\n        if (!('_myMember' in this)) {\n            this._myMember = { value: 1 }; \n        }\n\n        return this._myMember!;\n    }\n    set myMember(v) {\n        this._myMember = v;\n    }\n\n    init() {\n        console.log(this.myMember.value);\n    }\n}\n</code></pre>\n\n<h1>In-place initialization</h1>\n\n<p>A property may be initialized where it's accessed first. If this happens in <code>init</code> method where <code>this</code> can be accessed prior to <code>B</code> class constructor, this should happen there:</p>\n\n<pre><code>class B extends A {\n    private myMember?: { value: number };\n\n    init() {\n        this.myMember = { value: 1 }; \n        console.log(this.myMember.value);\n    }\n}\n</code></pre>\n\n<h1>Asynchronous initialization</h1>\n\n<p><code>init</code> method may become asynchronous. Initialization state should be trackable, so the class should implement some API for that, e.g. promise-based:</p>\n\n<pre><code>class A {\n    initialization = Promise.resolve();\n    constructor(){\n        this.init();\n    }\n    init(){}\n}\n\nclass B extends A {\n    private myMember = {value:1};\n\n    init(){\n        this.initialization = this.initialization.then(() =&gt; {\n            console.log(this.myMember.value);\n        });\n    }\n}\n\nconst x = new B();\nx.initialization.then(() =&gt; {\n    // class is initialized\n})\n</code></pre>\n\n<p>This approach may be considered antipattern for this particular case because initialization routine is intrinsically synchronous, but it may be suitable for asynchronous initialization routines.</p>\n\n<h1>Desugared class</h1>\n\n<p>Since ES6 classes have limitations on the use of <code>this</code> prior to <code>super</code>, child class can be desugared to a function to evade this limitation:</p>\n\n<pre><code>interface B extends A {}\ninterface BPrivate extends B {\n    myMember: { value: number };\n}\ninterface BStatic extends A {\n    new(): B;\n}\nconst B = &lt;BStatic&gt;&lt;Function&gt;function B(this: BPrivate) {\n    this.myMember = { value: 1 };\n    return A.call(this); \n}\n\nB.prototype.init = function () {\n    console.log(this.myMember.value);\n}\n</code></pre>\n\n<p>This is rarely a good option, because desugared class should be additionally typed in TypeScript. This also won't work with native parent classes (TypeScript <code>es6</code> and <code>esnext</code> target).</p>\n"}], "owner": {"reputation": 3947, "user_id": 5690396, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ah9ok.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5690396/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3772, "favorite_count": 1, "accepted_answer_id": 49775700, "answer_count": 7, "score": 21, "last_activity_date": 1524403597, "creation_date": 1523450621, "last_edit_date": 1524403597, "question_id": 49775508, "link": "https://stackoverflow.com/questions/49775508/typescript-can-not-access-member-value-in-inherited-class-constructor", "title": "Typescript: can not access member value in inherited class constructor", "body": "<p>I have a class <code>A</code>, and a class <code>B</code> inherited from it. </p>\n\n<pre><code>class A {\n    constructor(){\n        this.init();\n    }\n    init(){}\n}\n\nclass B extends A {\n    private myMember = {value:1};\n    constructor(){\n        super();\n    }\n    init(){\n        console.log(this.myMember.value);\n    }\n}\n\nconst x = new B();\n</code></pre>\n\n<p>When I run this code, I get the following error:</p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'value' of undefined\n</code></pre>\n\n<p>How can I avoid this error?</p>\n\n<p>It's clear for me that the JavaScript code will call the <code>init</code> method before it creates the <code>myMember</code>, but there should be some practice/pattern to make it work.</p>\n"}, {"tags": ["angular", "unit-testing", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 458, "user_id": 1033953, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3272a1c6ef40f33c169fbf8fde60d867?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1033953/greg"}, "edited": false, "score": 0, "creation_date": 1523451498, "post_id": 49775677, "comment_id": 86566480, "body": "Absolutely agree with your last point.. working on someone else&#39;s tests.. and they&#39;re definitely more &quot;integration&quot; tests than unit tests.    This fixed my immediately issue, but now other is failing.  I think I need a partialMock."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 458, "user_id": 1033953, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3272a1c6ef40f33c169fbf8fde60d867?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1033953/greg"}, "edited": false, "score": 1, "creation_date": 1523451582, "post_id": 49775677, "comment_id": 86566536, "body": "Well this looks like unit tests to me ! But if you have another issue, don&#39;t hesitate to make another question, or even edit this one (and notify me if you do)"}, {"owner": {"reputation": 458, "user_id": 1033953, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3272a1c6ef40f33c169fbf8fde60d867?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1033953/greg"}, "edited": false, "score": 0, "creation_date": 1523451583, "post_id": 49775677, "comment_id": 86566537, "body": "Just to clarify.. so if I provide a service1, and provide {service2, useClass:mockservice2}, then service1 calls service2; but it doesn&#39;t respect the testbed provide?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 458, "user_id": 1033953, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3272a1c6ef40f33c169fbf8fde60d867?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1033953/greg"}, "edited": false, "score": 0, "creation_date": 1523451846, "post_id": 49775677, "comment_id": 86566734, "body": "If your component <code>ProjectAnalystComponent</code> doesn&#39;t have the second service in its constructor (as a dependency), then you don&#39;t even have to provide it. That&#39;s why mocking is important. Does your component use service 2, or does your component use service 2 through service 1 ?"}, {"owner": {"reputation": 458, "user_id": 1033953, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3272a1c6ef40f33c169fbf8fde60d867?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1033953/greg"}, "edited": false, "score": 0, "creation_date": 1523451978, "post_id": 49775677, "comment_id": 86566840, "body": "The component uses service1 through service1.  Your example fixed my issue.. but the result that is returned by getAllUsers is an Observable.. so I had to create an observable to return instead of just null.  Thanks so much for your help @trichetriche  This was really getting me down."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 458, "user_id": 1033953, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3272a1c6ef40f33c169fbf8fde60d867?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1033953/greg"}, "edited": false, "score": 0, "creation_date": 1523452093, "post_id": 49775677, "comment_id": 86566929, "body": "So if it uses service 2 (I guess it&#39;s what you meant) through service 1, then you can delete the service 2 from your testbed, it will make no difference. And I did not know the signature of your function, sorry ... Glad I could help any way !"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 4, "last_activity_date": 1523451104, "last_edit_date": 1592644375, "creation_date": 1523451104, "answer_id": 49775677, "question_id": 49775474, "link": "https://stackoverflow.com/questions/49775474/spyon-in-angular-testing/49775677#49775677", "title": "SpyOn in Angular testing", "body": "<p><strong>TL;DR</strong> Mock your service.</p>\n<h3>Explanation</h3>\n<p>In your testbed, you provide the actual service :</p>\n<pre><code>providers:[ServiceProvidersHTTPService, ...\n</code></pre>\n<p>This means you actually <strong>call the real methods of your service</strong>.</p>\n<p>If you mock your service, like you did there :</p>\n<pre><code>{provide: AppConfigService, useClass: MockAppConfigService }\n</code></pre>\n<p>Then you call <strong>random functions that you declare in your mock</strong>.</p>\n<p>Another advantage of mocking, you get rid of the dependencies of your dependencies.</p>\n<p>As you said, your service calls another service : if you mock your first service, <strong>you don't have to add the dependencies of this service into your testbed</strong>.</p>\n<p>So, they way to go :</p>\n<pre><code>const mock = {\n  provide: ServiceProvidersHTTPService,\n  useValue: {\n    getAllUsers: () =&gt; null\n  }\n};\n</code></pre>\n<p>In your testbed now :</p>\n<pre><code>providers: [mock, ...\n</code></pre>\n<p>In <code>useValue</code>, you must put <strong>all the variables and all the functions of your actual service, and mock them</strong>.</p>\n<p>In this case, instead of making HTTP calls, your function <code>getAllUsers</code> will simply return null. You can make it return anything you want (the good practice is to return a value that is the same type of the value that should be returned).</p>\n<p>Last piece of advice : your unit tests should test <strong>only the functions and methods of your actual feature</strong> (here being <code>ProjectAnalystComponent</code>). You should not test if your service call the other service here : you should test that <strong>in the unit testing of your service</strong>.</p>\n<p>If you have any questions, feel free to ask !</p>\n"}], "owner": {"reputation": 458, "user_id": 1033953, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3272a1c6ef40f33c169fbf8fde60d867?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1033953/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11742, "favorite_count": 1, "accepted_answer_id": 49775677, "answer_count": 1, "score": 1, "last_activity_date": 1523451104, "creation_date": 1523450506, "question_id": 49775474, "link": "https://stackoverflow.com/questions/49775474/spyon-in-angular-testing", "title": "SpyOn in Angular testing", "body": "<p>First, I apologize.  I'm really new to Angular and am not sure I know enough to ask a good question, let alone provide some small working examples.</p>\n\n<p>I'm trying to use spyOn in a unit test, and not having much luck.</p>\n\n<p>Basically, my unit test calls a method on component that calls a service1, that calls another service2.</p>\n\n<p>When I try to spyOn on service1, it doesn't use the mock value that I provide.  It calls the \"real\" ServiceProvidersHTTPService.getAllUsers and uses AppConfigService instead of MockAppConfigService.</p>\n\n<p>I'll start by copying my Test.</p>\n\n<pre><code>describe('ProjectAnalystComponent', () =&gt; {\n  let component: ProjectAnalystComponent;\nlet fixture: ComponentFixture&lt;ProjectAnalystComponent&gt;;\nlet service: ServiceProvidersHTTPService ;\n\n  beforeEach(async(() =&gt; {\nTestBed.configureTestingModule({\n  imports: [HttpClientModule, RouterTestingModule],\n    declarations: [ ProjectAnalystComponent ],\n  providers: \n  [\n    ServiceProvidersHTTPService, \n    CurrentCreateProjectService, \n    NotificationService, \n    MessageService,\n    ProjectLeadAnalystHTTPService,\n      ExceptionService,\n      {provide: AppConfigService, useClass: MockAppConfigService }\n\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA]\n})\n.compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\nfixture = TestBed.createComponent(ProjectAnalystComponent);\n  component = fixture.componentInstance;\n  fixture.detectChanges();\n  });\n\nit('should create', () =&gt; {\n    console.log(\"######### Did this run\");\n    let service = fixture.debugElement.injector.get(ServiceProvidersHTTPService);\n    spyOn(service, 'getAllUsers').and.returnValue('{}');\n\n    expect(component).toBeTruthy();\n  });\n});\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 4250, "user_id": 2804362, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/MVxXV.jpg?s=128&g=1", "display_name": "iam batman", "link": "https://stackoverflow.com/users/2804362/iam-batman"}, "edited": false, "score": 1, "creation_date": 1523450705, "post_id": 49775438, "comment_id": 86565844, "body": "Use  rxjs observable to notify the changes in your variable"}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 1, "creation_date": 1523450740, "post_id": 49775438, "comment_id": 86565871, "body": "You can implement a Message service based on observables to broadcast a message from your own service to the component"}, {"owner": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "reply_to_user": {"reputation": 4250, "user_id": 2804362, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/MVxXV.jpg?s=128&g=1", "display_name": "iam batman", "link": "https://stackoverflow.com/users/2804362/iam-batman"}, "edited": false, "score": 0, "creation_date": 1523451124, "post_id": 49775438, "comment_id": 86566193, "body": "Thanks @iambatman and David I will check it out"}], "answers": [{"comments": [{"owner": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "edited": false, "score": 0, "creation_date": 1523453158, "post_id": 49776119, "comment_id": 86567766, "body": "Perfect! Thanks Nour! :-)"}, {"owner": {"reputation": 4143, "user_id": 3135151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eGQq.jpg?s=128&g=1", "display_name": "Nour", "link": "https://stackoverflow.com/users/3135151/nour"}, "reply_to_user": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "edited": false, "score": 0, "creation_date": 1523453294, "post_id": 49776119, "comment_id": 86567872, "body": "Glad to help! :)"}], "tags": [], "owner": {"reputation": 4143, "user_id": 3135151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eGQq.jpg?s=128&g=1", "display_name": "Nour", "link": "https://stackoverflow.com/users/3135151/nour"}, "is_accepted": true, "score": 1, "last_activity_date": 1523452461, "creation_date": 1523452461, "answer_id": 49776119, "question_id": 49775438, "link": "https://stackoverflow.com/questions/49775438/modifying-components-variable-value-through-service/49776119#49776119", "title": "Modifying component&#39;s variable value through service", "body": "<p>Okay i will answer you briefly:</p>\n\n<p>In you service that will make an api call:</p>\n\n<pre><code>import {Subject} from 'rxjs/Subject';\n\n\nexport class yourService {\n     private messageSubject:Subject&lt;boolean&gt; = new Subject();\n\n     public getMessageSubject():Subject&lt;boolean&gt;{\n            return this.messageSubject:Subject;\n     }\n\n\n    private callApi(){\n         http.whatEver.map(() =&gt; { this.messageSubject.next(true);})\n    }\n}\n</code></pre>\n\n<p>In your component:</p>\n\n<pre><code>export class yourComponent{\n   constructor(private service:yourService){\n      this.service.getMessageSubject.subscribe((value:boolean) =&gt; {\n            this.isEligibleForBenefits = true; // or = value;\n      });\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 49776119, "answer_count": 1, "score": 0, "last_activity_date": 1523452461, "creation_date": 1523450418, "question_id": 49775438, "link": "https://stackoverflow.com/questions/49775438/modifying-components-variable-value-through-service", "title": "Modifying component&#39;s variable value through service", "body": "<p>I have a group component in my application named <code>CustomerListComponent</code> where in which I've a boolean variable named <code>isEligibleForBenefits</code> and which is defaulted to <code>false</code> while initializing.</p>\n\n<p>Now I'm in a situation where I need to invoke a <code>REST</code> call in one of my service and on the success event of that call I need to make this <code>isEligibleForBenefits</code> variable to true.</p>\n\n<p>The question here is, manipulating a group component's value from a service allowed?, If so how can that be achieved?</p>\n\n<p>Can someone help?</p>\n"}, {"tags": ["typescript", "intellij-idea", "webpack"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1523449937, "post_id": 49775232, "comment_id": 86565242, "body": "The Typescript compiler provides the language services, and the language service knows how to use <code>tsconfig.json</code> I don&#39;t expect there is a way to do this"}, {"owner": {"reputation": 2596, "user_id": 9083959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bd949592c76ac8d7427eb45b8caa368?s=128&d=identicon&r=PG", "display_name": "lukas-reineke", "link": "https://stackoverflow.com/users/9083959/lukas-reineke"}, "edited": false, "score": 1, "creation_date": 1523454567, "post_id": 49775232, "comment_id": 86568852, "body": "Why don&#39;t you want to add them in your tsconfig? You just have to add them there and it will work."}, {"owner": {"reputation": 31, "user_id": 9630492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fa0ac99261e94a73c09d1737cadea50?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey N.", "link": "https://stackoverflow.com/users/9630492/sergey-n"}, "edited": false, "score": 0, "creation_date": 1523504941, "post_id": 49775232, "comment_id": 86590368, "body": "Okay, some details is here:  The thing is that I generate aliases dynamically, while I form webpack config. and it works perfect, all imports work correctly for JS and TS as well. because I add { resolve: { alias: myAliases } } for webpack and { CompilerOptions: { paths: myAliases } } for my ts-loader but my IDE does not know about it, so&#39;m looking for the way how to provide aliases for IDE. My idea was to dump webpack-like aliases into cached file, and then IDE started to complete my code, but it only works for Javascript. Can&#39;t find solution for Typescript files"}], "answers": [{"tags": [], "owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": false, "score": 1, "last_activity_date": 1523458911, "creation_date": 1523458911, "answer_id": 49778487, "question_id": 49775232, "link": "https://stackoverflow.com/questions/49775232/force-ide-to-use-webpack-resolve-aliases-for-typescript-modules/49778487#49778487", "title": "Force IDE to use Webpack resolve aliases for Typescript modules", "body": "<p>webpack aliases are only supported for JavaScript. Current TypeScript implementation uses only the TypeScript resolution logic because we need to keep integration with the TypeScript service. You can configure the same mappings in <code>tsconfig.json</code> file using <code>\"paths\": {}</code>. \nPlease vote for <a href=\"https://youtrack.jetbrains.com/issue/WEB-29207\" rel=\"nofollow noreferrer\">WEB-29207</a> to be notified on any progress with it.</p>\n"}], "owner": {"reputation": 31, "user_id": 9630492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fa0ac99261e94a73c09d1737cadea50?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey N.", "link": "https://stackoverflow.com/users/9630492/sergey-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1523458911, "creation_date": 1523449836, "question_id": 49775232, "link": "https://stackoverflow.com/questions/49775232/force-ide-to-use-webpack-resolve-aliases-for-typescript-modules", "title": "Force IDE to use Webpack resolve aliases for Typescript modules", "body": "<p>I do love using Typescript in my projects.</p>\n\n<p>And I also have <strong>Resolve Aliases</strong> in my <strong>webpack config</strong>. The thing is that my IDE (let's say <strong>Intellij Idea</strong>). And my IDE is happy to autocomplete all aliases stuff in for me in <strong>Javascript</strong> modules. </p>\n\n<p>In fact i want the same for <strong>Typescript</strong> modules, but my IDE pushes me to fill out <strong>tsconfig.json -> compilerOprions -> paths</strong>, which I don't want to do.</p>\n\n<p>Can I somehow teach my IDE to use webpack's aliases in typescript modules?</p>\n"}, {"tags": ["unit-testing", "typescript", "meteor", "import", "server-side"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7116395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJgE3.jpg?s=128&g=1", "display_name": "Tibs245", "link": "https://stackoverflow.com/users/7116395/tibs245"}, "is_accepted": false, "score": 0, "last_activity_date": 1523454505, "creation_date": 1523454505, "answer_id": 49776863, "question_id": 49774915, "link": "https://stackoverflow.com/questions/49774915/unit-test-on-meteor-server-side-typescript/49776863#49776863", "title": "Unit test on Meteor server side TypeScript", "body": "<p>My problems is with Article.find({}) result of type Observable with Meteor.observable.</p>\n\n<p>My new test is the next </p>\n\n<pre><code>    it('can delete owned article', async done =&gt; {\n\n        let fixFindToPromise: number  = 0;\n\n        const articleId = await Articles.insert({\n            title: \"string\",\n            content: \"string\",\n            owner: userId,\n            picture_url: \"string\",\n            source: \"string\",\n            createdAt: new Date()\n        }).toPromise();\n        // console.log('A2', articleId2);\n\n        const deleteArticle = Meteor.server.method_handlers[\"removeArticle\"];\n        // Run the method with `this` set to the fake invocation\n        deleteArticle.apply({userId}, [articleId]);\n\n\n        // Find the internal implementation of the task method so we can\n        console.log(\"ArticleId:\", articleId);\n\n        Articles.find().subscribe((countLog) =&gt; {\n            fixFindToPromise++;\n\n            if (fixFindToPromise == 1 ) {\n                if ( countLog.length == 0 ) {\n                    done();\n                } else {\n                    done(\"Count not correct\");\n                }\n            }\n        });\n</code></pre>\n\n<p>It's possible use find method with promise compatibilty result for better syntax and use assert and expect ?\nAnd exists a project or solution for import package on typescript unit test server side ?</p>\n\n<p>Thank for your response</p>\n"}], "owner": {"reputation": 1, "user_id": 7116395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jJgE3.jpg?s=128&g=1", "display_name": "Tibs245", "link": "https://stackoverflow.com/users/7116395/tibs245"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523454505, "creation_date": 1523449054, "question_id": 49774915, "link": "https://stackoverflow.com/questions/49774915/unit-test-on-meteor-server-side-typescript", "title": "Unit test on Meteor server side TypeScript", "body": "<p>I have a problem with my unit tests on server side.</p>\n\n<p>My test is the next : </p>\n\n<pre><code>import { Meteor } from 'meteor/meteor';\nimport { Article } from '../../../imports/models/article';\nimport { Articles } from '../../../imports/collections/articles';\nimport './articles';\nimport { Random } from 'meteor/random';\nimport {Rate} from \"../../../imports/models/rate.model\";\nimport { expect, assert } from 'chai';\nimport {Observable} from \"rxjs/Observable\";\n\nif (Meteor.isServer) {\n    describe('Articles', () =&gt; {\n\n        const userId = Random.id();\n\n        beforeEach(() =&gt; {\n            StubCollections.add([Articles]);\n            StubCollections.stub();\n            Articles.remove({});\n        });\n\n        it('can delete owned article', async (done) =&gt; {\n\n            const articleId = await Articles.insert({\n                title: \"string\",\n                content: \"string\",\n                owner: userId,\n                picture_url: \"string\",\n                source: \"string\",\n                createdAt: new Date()\n            }).toPromise();\n\n\n            const deleteArticle = Meteor.server.method_handlers[\"removeArticle\"];\n            // // Run the method with `this` set to the fake invocation\n            //`enter code here`\n            const invocation = {userId};\n\n            deleteArticle.apply(invocation, [articleId]);\n\n            console.log(articleId);\n\n            const count = await Articles.find({}).count().toPromise();\n\n            // Verify that the method does what we expected\n            expect(count).equal(0);\n            StubCollections.restore();\n            done()\n        });\n    });\n}\n</code></pre>\n\n<p>And I can't import stub-collection because typescript not found it.</p>\n\n<p>I have try to had meteor server package on tsconfig.json but I did not suceed.</p>\n\n<p>And when I delete StubCollection I have a Timeout of 2 seconde when \"Articles.find({})\"</p>\n\n<p>Have you a idea for resolve it ?</p>\n"}, {"tags": ["javascript", "css", "angular", "typescript", "tags"], "answers": [{"comments": [{"owner": {"reputation": 104, "user_id": 8194779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9465d6a93806a8062c66ec38f03fa462?s=128&d=identicon&r=PG&f=1", "display_name": "Gabax", "link": "https://stackoverflow.com/users/8194779/gabax"}, "edited": false, "score": 0, "creation_date": 1523451894, "post_id": 49775636, "comment_id": 86566771, "body": "Thank you. It&#39;s just what I was looking for. :D"}], "tags": [], "owner": {"reputation": 686, "user_id": 6632235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VbXn7.jpg?s=128&g=1", "display_name": "nilay jha", "link": "https://stackoverflow.com/users/6632235/nilay-jha"}, "is_accepted": true, "score": 4, "last_activity_date": 1523450995, "creation_date": 1523450995, "answer_id": 49775636, "question_id": 49774844, "link": "https://stackoverflow.com/questions/49774844/open-list-on-click-on-input-and-creating-an-array-based-on-options-choosen/49775636#49775636", "title": "open list on click on input and creating an array based on options choosen", "body": "<p>If you are interested in using a library instead of creating it from scratch then, the below-mentioned libraries can help:</p>\n\n<ul>\n<li><a href=\"https://github.com/ng-select/ng-select\" rel=\"nofollow noreferrer\">ng-select/ng-select</a></li>\n<li><a href=\"https://github.com/roolebo/ng2-select-compat\" rel=\"nofollow noreferrer\">roolebo/ng2-select-compat</a></li>\n</ul>\n"}], "owner": {"reputation": 104, "user_id": 8194779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9465d6a93806a8062c66ec38f03fa462?s=128&d=identicon&r=PG&f=1", "display_name": "Gabax", "link": "https://stackoverflow.com/users/8194779/gabax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 49775636, "answer_count": 1, "score": 0, "last_activity_date": 1523450995, "creation_date": 1523448837, "question_id": 49774844, "link": "https://stackoverflow.com/questions/49774844/open-list-on-click-on-input-and-creating-an-array-based-on-options-choosen", "title": "open list on click on input and creating an array based on options choosen", "body": "<p>I have to do an input that, once clicked, it shows a list of options available and the user can choose multiple options. Once the option is choosen, it's added to an array and it's shown as a tag inside the input, just like the input to choose tags when you ask a question on Stack Overflow. Obviously I'd like remove the tags just like Stack Overflow. The multiple options are retrieved via an http request to the server.</p>\n\n<p>P.S: the binding by \"click\" below is just for example. I don't know if it's correct or if I should change.</p>\n\n<p>This is the HTML I thought to contain the input and the list when the user click on it:</p>\n\n<pre><code>&lt;div class=\"form-group row\"&gt;\n  &lt;label for=\"role\" class=\"col-md-3 col-form-label\"&gt;Roles&lt;/label&gt;\n  &lt;div class=\"col-md-9\"&gt;\n    &lt;input type=\"text\" id=\"role\" name=\"role\" class=\"form-control\"&gt;\n    &lt;div class=\"container-fluid\"&gt;\n      &lt;div class=\"row\" *ngFor=\"let role of roles\"&gt;\n        &lt;div (click)=\"getRole()\"&gt;{{role.name}}&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is the JSON I get from http request and I'd like the array with the chosen tags to have the same structure:</p>\n\n<pre><code>[  \n  {  \n    \"id\": 1,\n    \"name\": \"name1\",\n  }\n  {  \n    \"id\": 2,\n    \"name\": \"name2\",\n  }\n]\n</code></pre>\n\n<p>I'm using Angular 5.2.8 and Bootstrap 4.</p>\n\n<p>So my questions are:</p>\n\n<ul>\n<li>What should the connected function do (function \"click\") to perform what I asked?</li>\n<li>Do I need to use JQuery or any other libraries?</li>\n</ul>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "pdfjs"], "comments": [{"owner": {"reputation": 3640, "user_id": 1193622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9babeb0756cd6ea48d8633aa76a43ca?s=128&d=identicon&r=PG", "display_name": "Ben West", "link": "https://stackoverflow.com/users/1193622/ben-west"}, "edited": false, "score": 0, "creation_date": 1523448839, "post_id": 49774780, "comment_id": 86564436, "body": "Are the pages side by side one <code>&lt;canvas&gt;</code> or two?"}, {"owner": {"reputation": 1123, "user_id": 9145082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JObRO.jpg?s=128&g=1", "display_name": "Ravi Kumar B", "link": "https://stackoverflow.com/users/9145082/ravi-kumar-b"}, "reply_to_user": {"reputation": 3640, "user_id": 1193622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9babeb0756cd6ea48d8633aa76a43ca?s=128&d=identicon&r=PG", "display_name": "Ben West", "link": "https://stackoverflow.com/users/1193622/ben-west"}, "edited": false, "score": 0, "creation_date": 1523451511, "post_id": 49774780, "comment_id": 86566493, "body": "Hi @BenWest,Sorry, I didn&#39;t get your question properly. The two &lt;canvas&gt; elements are coming side by side. That is what my problem is. It is like 1st &lt;canvas&gt; element then below that two &lt;canvas&gt; elements and below that next two &lt;canvas&gt; elements and so on."}], "answers": [{"comments": [{"owner": {"reputation": 1123, "user_id": 9145082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JObRO.jpg?s=128&g=1", "display_name": "Ravi Kumar B", "link": "https://stackoverflow.com/users/9145082/ravi-kumar-b"}, "edited": false, "score": 0, "creation_date": 1523517505, "post_id": 49777705, "comment_id": 86595384, "body": "Hi @BenWest, I tried this CSS code as well. But it didn&#39;t solve the problem. when I minimize the window it is working but if I maximize the window then again it is the same issue."}, {"owner": {"reputation": 3640, "user_id": 1193622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9babeb0756cd6ea48d8633aa76a43ca?s=128&d=identicon&r=PG", "display_name": "Ben West", "link": "https://stackoverflow.com/users/1193622/ben-west"}, "reply_to_user": {"reputation": 1123, "user_id": 9145082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JObRO.jpg?s=128&g=1", "display_name": "Ravi Kumar B", "link": "https://stackoverflow.com/users/9145082/ravi-kumar-b"}, "edited": false, "score": 0, "creation_date": 1523608044, "post_id": 49777705, "comment_id": 86639346, "body": "@RaviKumarB What CSS styles are applied to the <code>&lt;canvas&gt;</code>es?"}, {"owner": {"reputation": 1123, "user_id": 9145082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JObRO.jpg?s=128&g=1", "display_name": "Ravi Kumar B", "link": "https://stackoverflow.com/users/9145082/ravi-kumar-b"}, "edited": false, "score": 0, "creation_date": 1523617592, "post_id": 49777705, "comment_id": 86645290, "body": "hi @BenWest, Please have look into Updated question. I&#39;m facing new issue."}, {"owner": {"reputation": 3640, "user_id": 1193622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9babeb0756cd6ea48d8633aa76a43ca?s=128&d=identicon&r=PG", "display_name": "Ben West", "link": "https://stackoverflow.com/users/1193622/ben-west"}, "reply_to_user": {"reputation": 1123, "user_id": 9145082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JObRO.jpg?s=128&g=1", "display_name": "Ravi Kumar B", "link": "https://stackoverflow.com/users/9145082/ravi-kumar-b"}, "edited": false, "score": 0, "creation_date": 1523623749, "post_id": 49777705, "comment_id": 86649235, "body": "@RaviKumarB Still need to see your CSS. If there were no styles applied to your <code>&lt;canvas&gt;</code> elements, they would stack like you want them to - so there must be styles which make them lay out differently."}], "tags": [], "owner": {"reputation": 3640, "user_id": 1193622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9babeb0756cd6ea48d8633aa76a43ca?s=128&d=identicon&r=PG", "display_name": "Ben West", "link": "https://stackoverflow.com/users/1193622/ben-west"}, "is_accepted": false, "score": 0, "last_activity_date": 1523456791, "creation_date": 1523456791, "answer_id": 49777705, "question_id": 49774780, "link": "https://stackoverflow.com/questions/49774780/getting-all-the-pages-at-once-using-pdf-js/49777705#49777705", "title": "Getting all the pages at once using PDF.js", "body": "<p>Your JS all looks fine, so the layout probably comes from CSS. <code>.pdf-page-canvas { display: block }</code> should do it.</p>\n"}], "owner": {"reputation": 1123, "user_id": 9145082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JObRO.jpg?s=128&g=1", "display_name": "Ravi Kumar B", "link": "https://stackoverflow.com/users/9145082/ravi-kumar-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1802, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523617529, "creation_date": 1523448587, "last_edit_date": 1523617529, "question_id": 49774780, "link": "https://stackoverflow.com/questions/49774780/getting-all-the-pages-at-once-using-pdf-js", "title": "Getting all the pages at once using PDF.js", "body": "<p>I'm developing PDFViewer using PDF.js in Angular 5. I'm facing problem while displaying the Pdf all pages at time. </p>\n\n<p><strong>Problem Description</strong>:\nFirst page is coming normal but remaining pages are coming side by side.</p>\n\n<p><strong>Screenshots of the problem</strong>:<a href=\"https://i.stack.imgur.com/ikjo0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ikjo0.png\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/4jFoc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4jFoc.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm trying to figure out that where I'm doing wrong. Any suggestion?\nThanks in Advance!!</p>\n\n<p>Here is my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>PDFJS.getDocument(src1).then((_pdfDoc) =&gt; {\r\n        this.pdf = _pdfDoc;\r\n        this.totalPages = this.pdf.pdfInfo.numPages;\r\n        let viewer = document.getElementById('viewer');\r\n        for(let page = 1; page &lt;= this.totalPages; page++) {\r\n                let canvas = document.createElement(\"canvas\");    \r\n                canvas.className = 'pdf-page-canvas';      \r\n                viewer.appendChild(canvas);    \r\n                this.renderPage(page, canvas);\r\n         }\r\n});\r\nrenderPage(pageNumber, canvas) {\r\n    this.pdf.getPage(pageNumber).then(function(page) {\r\n      let viewport = page.getViewport(1);\r\n      canvas.height = viewport.height;\r\n      canvas.width = viewport.width;          \r\n      page.render({canvasContext: canvas.getContext('2d'), viewport: viewport});\r\n});\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id =\"viewer\" class=\"pdfViewer\"&gt; &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>UPDATED QUESTION</strong>:</p>\n\n<ul>\n<li>The Problem (i.e., pages coming side by side) has been fixed by\nadding additional div tag in the page. Have a look at my code</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>PDFJS.getDocument(src1).then((_pdfDoc) =&gt; {\r\n        this.pdf = _pdfDoc;\r\n        this.totalPages = this.pdf.pdfInfo.numPages;\r\n        let viewer = document.getElementById('viewer');\r\n            for(let page = 1; page &lt;= this.totalPages; page++)\r\n            {\r\n                        let childViewer=document.createElement(\"div\");\r\n                        childViewer.className='childviewer';\r\n                        childViewer.align=\"center\";\r\n                        let canvas = document.createElement(\"canvas\");    \r\n                        canvas.className = 'pdf-page-canvas'; \r\n                        childViewer.appendChild(canvas);\r\n                        viewer.appendChild(childViewer);    \r\n                        this.renderPage(page, canvas);\r\n            }\r\n  });\r\n renderPage(pageNumber, canvas) {\r\n        this.pdf.getPage(pageNumber).then(function(page) {\r\n          let viewport = page.getViewport(1);\r\n          canvas.height = viewport.height;\r\n          canvas.width = viewport.width;              \r\n          page.render({canvasContext: canvas.getContext('2d'), viewport:    viewport});\r\n    });\r\n    \r\n }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id =\"viewer\"  align=\"center\" class=\"pdfViewer2\"&gt;        \r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ul>\n<li>But I'm facing new issue i.e., First page is not aligned with rest of the pages.There is a small position mismatch between first page and remaining pages and rest of the pages are coming perfectly.\nPlease have a look here.\n. <a href=\"https://i.stack.imgur.com/SwA82.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SwA82.png\" alt=\"enter image description here\"></a></li>\n</ul>\n"}, {"tags": ["typescript", "functional-programming", "rxjs", "observable"], "comments": [{"owner": {"reputation": 168, "user_id": 5884884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/459e0313933b0701f9c775d970ad6580?s=128&d=identicon&r=PG&f=1", "display_name": "LordAlpaca", "link": "https://stackoverflow.com/users/5884884/lordalpaca"}, "edited": false, "score": 3, "creation_date": 1523449411, "post_id": 49774676, "comment_id": 86564864, "body": "<a href=\"https://www.learnrxjs.io/operators/combination/forkjoin.html\" rel=\"nofollow noreferrer\">forkJoin</a> is used exactly for that purpose."}, {"owner": {"reputation": 1859, "user_id": 2889642, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c5d5195acc9f791ee59a1f9eeb2bad57?s=128&d=identicon&r=PG", "display_name": "uloco", "link": "https://stackoverflow.com/users/2889642/uloco"}, "reply_to_user": {"reputation": 168, "user_id": 5884884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/459e0313933b0701f9c775d970ad6580?s=128&d=identicon&r=PG&f=1", "display_name": "LordAlpaca", "link": "https://stackoverflow.com/users/5884884/lordalpaca"}, "edited": false, "score": 0, "creation_date": 1523449736, "post_id": 49774676, "comment_id": 86565119, "body": "Works! Thank you very much :)))) Please post an answer, so I can accept ;)"}, {"owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "edited": false, "score": 1, "creation_date": 1533940560, "post_id": 49774676, "comment_id": 90547141, "body": "withLatestFrom is easier here - see my answer - great question btw +1"}], "answers": [{"comments": [{"owner": {"reputation": 1859, "user_id": 2889642, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c5d5195acc9f791ee59a1f9eeb2bad57?s=128&d=identicon&r=PG", "display_name": "uloco", "link": "https://stackoverflow.com/users/2889642/uloco"}, "edited": false, "score": 1, "creation_date": 1523449382, "post_id": 49774980, "comment_id": 86564832, "body": "I think this should work, but it is not elegant imho... The two observable sequences could be done in parallel. Is <code>zip</code> the right tool for this?"}, {"owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "reply_to_user": {"reputation": 1859, "user_id": 2889642, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c5d5195acc9f791ee59a1f9eeb2bad57?s=128&d=identicon&r=PG", "display_name": "uloco", "link": "https://stackoverflow.com/users/2889642/uloco"}, "edited": false, "score": 0, "creation_date": 1523452757, "post_id": 49774980, "comment_id": 86567445, "body": "You are right. You can <code>zip</code> too. I have updated the answer"}, {"owner": {"reputation": 1469, "user_id": 1465881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5760808ce972b3569b4d06d1b7209fa?s=128&d=identicon&r=PG", "display_name": "breez", "link": "https://stackoverflow.com/users/1465881/breez"}, "edited": false, "score": 0, "creation_date": 1603867978, "post_id": 49774980, "comment_id": 114168898, "body": "With RxJS 5 you would use the resultSelector argument of mergeMap. In RxJS 6 the resultSelector is deprecated and they advice you to use &quot;inner map&quot; as an alternative. I think it&#39;s a matter of preference but I like the &quot;map&quot; option more than the &quot;zip&quot; option. But I may be biased because I&#39;m mainly a C# developer..."}], "tags": [], "owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "is_accepted": false, "score": 4, "last_activity_date": 1523452588, "last_edit_date": 1523452588, "creation_date": 1523449211, "answer_id": 49774980, "question_id": 49774676, "link": "https://stackoverflow.com/questions/49774676/passing-through-multiple-parameters-to-rxjs-operator/49774980#49774980", "title": "Passing through multiple parameters to rxjs operator", "body": "<p>You may want to try something like this</p>\n\n<pre><code>private getHeaders(): Observable&lt;any&gt; {\n  return this.appInfo.getVersion()\n    .pipe(\n      mergeMap(version =&gt; this.storage.get('access_token')\n                          .map(token =&gt; ({version, token})),\n      map(data =&gt; this.createHeaders(data.version, data.token))\n    );\n}\n</code></pre>\n\n<p><strong>ALTERNATIVE VERSION WITH ZIP</strong></p>\n\n<pre><code>private getHeaders(): Observable&lt;any&gt; {\n  const versionObs = this.appInfo.getVersion();\n  const tokenObs = this.storage.get('access_token');\n  return Observable.zip(versionObs, tokenObs)\n    .pipe(\n      map(data =&gt; this.createHeaders(data[0], data[1]))\n    );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 5884884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/459e0313933b0701f9c775d970ad6580?s=128&d=identicon&r=PG&f=1", "display_name": "LordAlpaca", "link": "https://stackoverflow.com/users/5884884/lordalpaca"}, "is_accepted": true, "score": 6, "last_activity_date": 1523472350, "creation_date": 1523472350, "answer_id": 49782412, "question_id": 49774676, "link": "https://stackoverflow.com/questions/49774676/passing-through-multiple-parameters-to-rxjs-operator/49782412#49782412", "title": "Passing through multiple parameters to rxjs operator", "body": "<p>Use <a href=\"https://www.learnrxjs.io/operators/combination/forkjoin.html\" rel=\"noreferrer\">forkJoin</a>, it's designed for this type of situation.</p>\n"}, {"comments": [{"owner": {"reputation": 605, "user_id": 1833375, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-fDVU1oE52OQ/AAAAAAAAAAI/AAAAAAAAAB0/vttX9bxzSiM/photo.jpg?sz=128", "display_name": "John White", "link": "https://stackoverflow.com/users/1833375/john-white"}, "edited": false, "score": 1, "creation_date": 1547726722, "post_id": 51794783, "comment_id": 95295671, "body": "forkJoin seems deprecated"}, {"owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "reply_to_user": {"reputation": 605, "user_id": 1833375, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-fDVU1oE52OQ/AAAAAAAAAAI/AAAAAAAAAB0/vttX9bxzSiM/photo.jpg?sz=128", "display_name": "John White", "link": "https://stackoverflow.com/users/1833375/john-white"}, "edited": false, "score": 2, "creation_date": 1613009424, "post_id": 51794783, "comment_id": 116946748, "body": "forkJoin is not deprecated, it just takes an array now instead of comma separated args - the old comma separated args approach is deprecated"}], "tags": [], "owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "is_accepted": false, "score": 12, "last_activity_date": 1533940432, "creation_date": 1533940432, "answer_id": 51794783, "question_id": 49774676, "link": "https://stackoverflow.com/questions/49774676/passing-through-multiple-parameters-to-rxjs-operator/51794783#51794783", "title": "Passing through multiple parameters to rxjs operator", "body": "<p>Using <code>forkJoin</code>:</p>\n\n<pre><code>.pipe(\n  mergeMap((appVersion) =&gt; forkJoin(\n    of(appVersion),\n    this.storage.get('access_token').take(1)\n  )),\n  mergeMap(([version, token]) =&gt; {\n    this.createHeaders(version, token)\n  })\n)\n</code></pre>\n\n<p>But even easier with <code>withLatestFrom</code>:</p>\n\n<pre><code>.pipe(\n  withLatestFrom(this.storage.get('access_token')),\n  mergeMap(([version, token]) =&gt; {\n    this.createHeaders(version, token)\n  })\n)\n</code></pre>\n\n<p>I have included both because <code>withLatestFrom</code> is easier but <code>forkJoin</code> should be used where you need to access the initial parameter. For example, if you were doing <code>this.storage.get(appVersion)</code></p>\n"}], "owner": {"reputation": 1859, "user_id": 2889642, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c5d5195acc9f791ee59a1f9eeb2bad57?s=128&d=identicon&r=PG", "display_name": "uloco", "link": "https://stackoverflow.com/users/2889642/uloco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10439, "favorite_count": 2, "accepted_answer_id": 49782412, "answer_count": 3, "score": 11, "last_activity_date": 1533940432, "creation_date": 1523448303, "last_edit_date": 1523448687, "question_id": 49774676, "link": "https://stackoverflow.com/questions/49774676/passing-through-multiple-parameters-to-rxjs-operator", "title": "Passing through multiple parameters to rxjs operator", "body": "<p>Is there a more elegant way of doing the following?</p>\n\n<pre><code>private getHeaders(): Observable&lt;any&gt; {\n  let version;\n  let token;\n  return this.appInfo.getVersion()\n    .pipe(\n      tap(appVersion =&gt; version = appVersion),\n      mergeMap(() =&gt; this.storage.get('access_token')),\n      tap(accessToken =&gt; token = accessToken),\n      mergeMap(accessToken =&gt; of(this.createHeaders(version, token)))\n    );\n}\n</code></pre>\n\n<p>How can I more <em>fluently</em> remember the two return values of <code>this.appInfo.getVersion()</code> and <code>this.storage.get('access_token')</code> without writing them to temporary variables with the power of rxjs?</p>\n\n<p>Perhaps merging some observables into one?\nThere are so many rxjs operators and stuff...</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "is_accepted": true, "score": 1, "last_activity_date": 1523448255, "creation_date": 1523448255, "answer_id": 49774662, "question_id": 49774566, "link": "https://stackoverflow.com/questions/49774566/simple-notifications-options-dont-set/49774662#49774662", "title": "simple-notifications options don&#39;t set", "body": "<p>You can set your options when you are importing the module to your app module like this,</p>\n\n<pre><code>imports: [\n// your other modules\nSimpleNotificationsModule.forRoot({\n    ...options\n})\n]\n</code></pre>\n"}], "owner": {"reputation": 260, "user_id": 8016500, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u2sRQdpcli4/AAAAAAAAAAI/AAAAAAAAACk/CQCzN95zXUs/photo.jpg?sz=128", "display_name": "Nikita", "link": "https://stackoverflow.com/users/8016500/nikita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "accepted_answer_id": 49774662, "answer_count": 1, "score": 0, "last_activity_date": 1526157575, "creation_date": 1523448008, "last_edit_date": 1526157575, "question_id": 49774566, "link": "https://stackoverflow.com/questions/49774566/simple-notifications-options-dont-set", "title": "simple-notifications options don&#39;t set", "body": "<p>I have added <code>simple-notifications</code> plugin to my project. When I call notification, it appears but with default options. My options don't set.</p>\n\n<p><strong>app.module.ts:</strong></p>\n\n<pre><code>@NgModule({\n  declarations: [\n    // components\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    RouterModule.forRoot(routes),\n    SimpleNotificationsModule.forRoot(),\n  ],\n  providers: [ ItemsService ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p><strong>app.component.ts:</strong></p>\n\n<pre><code>export class AppComponent {\n\n  public options = {\n    position: [\"bottom\", \"right\"],\n    timeOut: 3000,\n    lastOnBottom: true,\n    maxStack: 3,\n    animate: \"fromBottom\"\n  }\n}\n</code></pre>\n\n<p><strong>app.component.html:</strong></p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n&lt;simple-notifications [options]=\"options\"&gt;&lt;/simple-notifications&gt;    \n&lt;router-outlet&gt;&lt;/router-outlet&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>When I call notification, it appears but without my options. Why options don't set, what am I doing wrong?</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "object"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1523447083, "post_id": 49774256, "comment_id": 86563252, "body": "...do you have a question? SO isn&#39;t a code-writing service."}, {"owner": {"reputation": 83, "user_id": 4554975, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d53e8a3a8c3b52b1d5e9bbd1ef144a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4554975/stefan"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1523447155, "post_id": 49774256, "comment_id": 86563299, "body": "@jonrsharpe How would you iterate through each level and add it to it&#39;s corresponding hierarchy level?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1523447234, "post_id": 49774256, "comment_id": 86563359, "body": "And which part of that exactly are you stuck on? Do you know how to iterate over the array, for example? If not, an introductory tutorial would be more appropriate than an SO question. Please give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing what you&#39;ve tried and where precisely you&#39;ve got to."}, {"owner": {"reputation": 83, "user_id": 4554975, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d53e8a3a8c3b52b1d5e9bbd1ef144a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4554975/stefan"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1523447413, "post_id": 49774256, "comment_id": 86563491, "body": "Yes i&#39;m able to iterate over the array and find which hierarchy i&#39;m currently on. However, i&#39;m not able to add the row to the nested <code>children</code> property as the levels go on"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4554975, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d53e8a3a8c3b52b1d5e9bbd1ef144a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4554975/stefan"}, "edited": false, "score": 0, "creation_date": 1523452672, "post_id": 49774711, "comment_id": 86567392, "body": "Thanks for the response. Question: Why is the parameter <code>level</code> passed though on the <code>getTree</code> function as I believe it&#39;s not being used? Also, when I try to run this, I get the error <b>Property <code>children</code> does not exist on type &#39;<code>{}</code>&#39;</b>, do you know why?"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 83, "user_id": 4554975, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d53e8a3a8c3b52b1d5e9bbd1ef144a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4554975/stefan"}, "edited": false, "score": 0, "creation_date": 1523452948, "post_id": 49774711, "comment_id": 86567583, "body": "the parameter was leftover of a try to use a variable for the key of level. the other problem shoud not occur with levels starting with one and all levels have no holes, like level 5 follows after level 3, without level 4."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 2, "last_activity_date": 1523452773, "last_edit_date": 1523452773, "creation_date": 1523448414, "answer_id": 49774711, "question_id": 49774256, "link": "https://stackoverflow.com/questions/49774256/nest-array-of-objects-by-hierarchy-level-javascript-typescript/49774711#49774711", "title": "Nest array of objects by hierarchy level JavaScript/TypeScript", "body": "<p>You could use the level property <code>HIERARCHY_LEVEL</code> for indicating the nested position in a helper array.</p>\n\n<p>Then iterate the data and build children arrays, if necessary.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getTree(array) {\r\n    var levels = [{}];\r\n    array.forEach(function (o) {\r\n        levels.length = o.HIERARCHY_LEVEL;\r\n        levels[o.HIERARCHY_LEVEL - 1].children = levels[o.HIERARCHY_LEVEL - 1].children || [];\r\n        levels[o.HIERARCHY_LEVEL - 1].children.push(o);\r\n        levels[o.HIERARCHY_LEVEL] = o;\r\n    });\r\n    return levels[0].children;\r\n}\r\n\r\nvar data = [{ ID: 0, Value: 10, HIERARCHY_LEVEL: 1 }, { ID: 1, Value: 20, HIERARCHY_LEVEL: 2 }, { ID: 2, Value: 55, HIERARCHY_LEVEL: 3 }, { ID: 3, Value: 77, HIERARCHY_LEVEL: 2 }, { ID: 4, Value: 29, HIERARCHY_LEVEL: 3 }, { ID: 5, Value: 44, HIERARCHY_LEVEL: 4 }, { ID: 6, Value: 34, HIERARCHY_LEVEL: 5 }, { ID: 7, Value: 56, HIERARCHY_LEVEL: 4 }, { ID: 8, Value: 23, HIERARCHY_LEVEL: 2 }, { ID: 9, Value: 23, HIERARCHY_LEVEL: 3 }, { ID: 10, Value: 23, HIERARCHY_LEVEL: 1 }, { ID: 11, Value: 23, HIERARCHY_LEVEL: 2 }, { ID: 12, Value: 23, HIERARCHY_LEVEL: 2 }, { ID: 13, Value: 23, HIERARCHY_LEVEL: 3 }];\r\n\r\nconsole.log(getTree(data));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 83, "user_id": 4554975, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d53e8a3a8c3b52b1d5e9bbd1ef144a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4554975/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 49774711, "answer_count": 1, "score": 0, "last_activity_date": 1523452773, "creation_date": 1523447024, "last_edit_date": 1523447645, "question_id": 49774256, "link": "https://stackoverflow.com/questions/49774256/nest-array-of-objects-by-hierarchy-level-javascript-typescript", "title": "Nest array of objects by hierarchy level JavaScript/TypeScript", "body": "<p>I have a dataset similar to the one below:</p>\n\n<pre><code>dataSet = {rows: [\n    {\"ID\":0, \"Value\":10, \"HIERARCHY_LEVEL\":1},\n    {\"ID\":1, \"Value\":20, \"HIERARCHY_LEVEL\":2},\n    {\"ID\":2, \"Value\":55, \"HIERARCHY_LEVEL\":3},\n    {\"ID\":3, \"Value\":77, \"HIERARCHY_LEVEL\":2},\n    {\"ID\":4, \"Value\":29, \"HIERARCHY_LEVEL\":3},\n    {\"ID\":5, \"Value\":44, \"HIERARCHY_LEVEL\":4},\n    {\"ID\":6, \"Value\":34, \"HIERARCHY_LEVEL\":5},\n    {\"ID\":7, \"Value\":56, \"HIERARCHY_LEVEL\":4},\n    {\"ID\":8, \"Value\":23, \"HIERARCHY_LEVEL\":2},\n    {\"ID\":9, \"Value\":23, \"HIERARCHY_LEVEL\":3},\n    {\"ID\":10, \"Value\":23, \"HIERARCHY_LEVEL\":1},\n    {\"ID\":11, \"Value\":23, \"HIERARCHY_LEVEL\":2},\n    {\"ID\":12, \"Value\":23, \"HIERARCHY_LEVEL\":2},\n    {\"ID\":13, \"Value\":23, \"HIERARCHY_LEVEL\":3},\n]}\n</code></pre>\n\n<p>I would like to re-arrange this dataSet by the hierarchy level, so each level is put into a <code>children</code> property array of the previous object like below:</p>\n\n<blockquote>\n  <p>NOTE: The dataSet is loaded in, as is (in-order). Also, it does not matter if all objects have the <code>children</code> property.</p>\n</blockquote>\n\n<p>(I have tried to format it for easier reading)</p>\n\n<pre><code>newDataSet = [\n    {\"ID\":0, \"Value\":10, \"HIERARCHY_LEVEL\":1, \"children\":[\n        {\"ID\":1, \"Value\":20, \"HIERARCHY_LEVEL\":2, \"children\":[\n            {\"ID\":2, \"Value\":55, \"HIERARCHY_LEVEL\":3}\n        ]},\n        {\"ID\":3, \"Value\":77, \"HIERARCHY_LEVEL\":2, \"children\":[\n            {\"ID\":4, \"Value\":29, \"HIERARCHY_LEVEL\":3, \"children\":[\n                {\"ID\":5, \"Value\":44, \"HIERARCHY_LEVEL\":4, \"children\":[\n                    {\"ID\":6, \"Value\":34, \"HIERARCHY_LEVEL\":5}\n                ]},\n                {\"ID\":7, \"Value\":56, \"HIERARCHY_LEVEL\":4}\n            ]}\n        ]},\n        {\"ID\":8, \"Value\":23, \"HIERARCHY_LEVEL\":2, \"children\":[\n            {\"ID\":9, \"Value\":23, \"HIERARCHY_LEVEL\":3}\n        ]}\n    ]},\n    {\"ID\":10, \"Value\":23, \"HIERARCHY_LEVEL\":1, \"children\":[\n        {\"ID\":11, \"Value\":23, \"HIERARCHY_LEVEL\":2},\n        {\"ID\":12, \"Value\":23, \"HIERARCHY_LEVEL\":2, \"children\":[\n            {\"ID\":13, \"Value\":23, \"HIERARCHY_LEVEL\":3}\n        ]}\n    ]}\n]\n</code></pre>\n\n<h1>Edit</h1>\n\n<h2>My current code</h2>\n\n<pre><code>let newResults = [];\nlet topHierarchyLevel = 1;\nlet resultCounter = (newResults.length - 1); //Get the 2nd last element of newResults\nlet currentLevel = 2;\nlet loopCounter = 0;\nfor (loopCounter; loopCounter &lt; dataSet.rows.length; loopCounter++) {\n    let row = dataSet.rows[loopCounter];\n    row[\"children\"] = [];\n    if (row.HIERARCHY_LEVEL == topHierarchyLevel) {\n        newResults.push(row);\n        resultCounter++;\n    } else {\n        if (row.HIERARCHY_LEVEL == 2) {\n            newResults[resultCounter].children.push(row);\n            currentLevel++;\n        } else if (row.HIERARCHY_LEVEL &gt; 2) {\n            newResults[resultCounter-1].children.children.push(row);\n            currentLevel++;\n            resultCounter++;\n        } else {\n            currentLevel--;\n            resultCounter--;\n            loopCounter--;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 6515, "user_id": 3034932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/d8ZYg.jpg?s=128&g=1", "display_name": "Radonirina Maminiaina", "link": "https://stackoverflow.com/users/3034932/radonirina-maminiaina"}, "edited": false, "score": 0, "creation_date": 1523446652, "post_id": 49773982, "comment_id": 86562956, "body": "JS here represent what class?"}, {"owner": {"reputation": 357, "user_id": 6040765, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/06afe3c81e0995ffcd4a1bee892ea179?s=128&d=identicon&r=PG&f=1", "display_name": "Aisatora", "link": "https://stackoverflow.com/users/6040765/aisatora"}, "reply_to_user": {"reputation": 6515, "user_id": 3034932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/d8ZYg.jpg?s=128&g=1", "display_name": "Radonirina Maminiaina", "link": "https://stackoverflow.com/users/3034932/radonirina-maminiaina"}, "edited": false, "score": 0, "creation_date": 1523446692, "post_id": 49773982, "comment_id": 86562980, "body": "It&#39;s a JS object from a external JS library.    const JS= window[&#39;JS&#39;];"}, {"owner": {"reputation": 6515, "user_id": 3034932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/d8ZYg.jpg?s=128&g=1", "display_name": "Radonirina Maminiaina", "link": "https://stackoverflow.com/users/3034932/radonirina-maminiaina"}, "edited": false, "score": 0, "creation_date": 1523446748, "post_id": 49773982, "comment_id": 86563014, "body": "And this JS has method service()? Can you post some code of your JS const?"}, {"owner": {"reputation": 5278, "user_id": 7393478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gNAVs.jpg?s=128&g=1", "display_name": "Kaddath", "link": "https://stackoverflow.com/users/7393478/kaddath"}, "edited": false, "score": 0, "creation_date": 1523447086, "post_id": 49773982, "comment_id": 86563253, "body": "Your title is not really appropriate, it&#39;s more a scope problem (was expecting &quot;typescript IS javascript&quot; answers from people not reading the question, still none though). Do you have the same issue using a classic function syntax for <code>callback</code>, or a closure? By the way, do you get expected result when displaying <code>region</code> inside <code>showRegion</code>?"}, {"owner": {"reputation": 357, "user_id": 6040765, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/06afe3c81e0995ffcd4a1bee892ea179?s=128&d=identicon&r=PG&f=1", "display_name": "Aisatora", "link": "https://stackoverflow.com/users/6040765/aisatora"}, "edited": false, "score": 0, "creation_date": 1523447205, "post_id": 49773982, "comment_id": 86563333, "body": "Well, this a third party library &quot;heremaps&quot;, I have change the names of the variables for simplicity. Yes. service and provider exists and they work when I am not using this region var. The only thing that I cannot do is getting/using region variable on the callback defined on the json as a constructor parameter for provider."}, {"owner": {"reputation": 357, "user_id": 6040765, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/06afe3c81e0995ffcd4a1bee892ea179?s=128&d=identicon&r=PG&f=1", "display_name": "Aisatora", "link": "https://stackoverflow.com/users/6040765/aisatora"}, "reply_to_user": {"reputation": 5278, "user_id": 7393478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gNAVs.jpg?s=128&g=1", "display_name": "Kaddath", "link": "https://stackoverflow.com/users/7393478/kaddath"}, "edited": false, "score": 0, "creation_date": 1523447309, "post_id": 49773982, "comment_id": 86563421, "body": "@Kaddath  Yes I can use region inside showRegion but not inside the callback."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1523447476, "post_id": 49773982, "comment_id": 86563541, "body": "@AitorMolina you need to read about TypeScript. You can start at <a href=\"http://typescriptlang.org\" rel=\"nofollow noreferrer\">typescriptlang.org</a>. You should know that there is no such thing, for example, as TypeScript &lt;=&gt; JavaScript interop because TypeScript <i>is</i> JavaScript."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1523448909, "post_id": 49773982, "comment_id": 86564482, "body": "The question lacks <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> . Please, provide a way to replicate this error. <code>region</code> exists and can&#39;t toggle error like <code>cannot read region variable</code> if <code>callback</code> was called regularly and not with <code>eval</code>."}, {"owner": {"reputation": 5278, "user_id": 7393478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gNAVs.jpg?s=128&g=1", "display_name": "Kaddath", "link": "https://stackoverflow.com/users/7393478/kaddath"}, "edited": false, "score": 0, "creation_date": 1523449316, "post_id": 49773982, "comment_id": 86564775, "body": "The problem may be in <code>JS.provider</code> rather than in the shown code. If i use a classic function syntax to emulate a JS object with things you are using inside, i have no problem to get <code>region</code>. <a href=\"https://jsfiddle.net/maz2grgh/\" rel=\"nofollow noreferrer\">See example here</a>"}], "owner": {"reputation": 357, "user_id": 6040765, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/06afe3c81e0995ffcd4a1bee892ea179?s=128&d=identicon&r=PG&f=1", "display_name": "Aisatora", "link": "https://stackoverflow.com/users/6040765/aisatora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523447281, "creation_date": 1523446282, "last_edit_date": 1523447281, "question_id": 49773982, "link": "https://stackoverflow.com/questions/49773982/using-javascript-in-angular-typescript-component", "title": "using javascript in angular typescript component", "body": "<p>I am trying to use the <code>region</code> variable inside the callback however there is no way I can get the value of it.</p>\n\n<p>As you might be already aware I am instantiating a JS objects using TS and the callback is part of the definition of this JS object.</p>\n\n<p>I am already being able to use JS in my Angular components using <code>() =&gt; {</code> in those methods where I need to use any reference to 'this' inside JS callbacks but for this particular case it does not work at all.</p>\n\n<pre><code>showRegion = (region: string) =&gt; {\n        var service = new JS.service();\n        var prov = new JS.provider(service, {\n            callback: (data) =&gt; {\n                // cannot read region variable\n            }\n    })\n</code></pre>\n\n<p>Thanks,</p>\n"}, {"tags": ["typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1523445007, "post_id": 49773483, "comment_id": 86561848, "body": "if <code>this.functionInside</code> accepts only  <code>SchoolClass[]</code> type then why are you using a union type as <code>classes: ClassesAndSubjects[] | SchoolClass[]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 2, "last_activity_date": 1523447250, "last_edit_date": 1523447250, "creation_date": 1523446530, "answer_id": 49774092, "question_id": 49773483, "link": "https://stackoverflow.com/questions/49773483/differs-type-parameters-in-typescript/49774092#49774092", "title": "Differs type parameters in Typescript?", "body": "<p>You can have a function that accepts a union type and call a function inside that only accepts one of them, you only have to use a <strong>type guard</strong>, so that function is only called when the true type of the argument is what that function expects:</p>\n\n<pre><code>public getClassesNumbers(classes: ClassesAndSubjects[] | SchoolClass[]) {\n    if (classes &amp;&amp; (classes[0] instanceof SchoolClass)) {\n       // we can safely call functionInside:\n       functionInside(classes as SchoolClass[]);\n    } else { \n       // ... something ...\n    }\n}\n</code></pre>\n\n<p>This works if <code>ClassesAndSubjects</code> and <code>SchoolClass</code> are classes. If they were interfaces, you won't be able to use <code>instanceof</code>, so you should have to use a different type guard. For example, if <code>SchoolClass</code> has a property <code>someProp</code> that <code>ClassesAndSubjects</code> does not:</p>\n\n<pre><code>public getClassesNumbers(classes: ClassesAndSubjects[] | SchoolClass[]) {\n    if (classes &amp;&amp; classes[0] &amp;&amp; ('someProp' in classes[0])) {\n       // we can safely call functionInside:\n       functionInside(classes as SchoolClass[]);\n    } else { \n       // ... something ...\n    }\n}\n</code></pre>\n\n<p>The third option is defining a true <strong>type guard</strong>:</p>\n\n<pre><code>function isSchoolClassArray(x: any[]): x is SchoolClass[] {\n    return (x !== null &amp;&amp; x.length &gt; 0) ? ('someProp' in x[0]): false;\n}\n\npublic getClassesNumbers(classes: ClassesAndSubjects[] | SchoolClass[]) {\n    if (isSchoolClassArray(classes)) {\n       // we can safely call functionInside:\n       functionInside(classes);\n    } else { \n       // ... something ...\n    }\n}\n</code></pre>\n\n<p>The advantage of the last option is that TypeScript will know what type <code>classes</code> is inside the <code>if</code> and <code>else</code>, so no need for type assertions.</p>\n\n<p>Of course, in both these cases, if the array is empty the type guards will fail, but in that case it won't matter because <code>functionInside</code> will also receive an empty array</p>\n"}], "owner": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 1, "accepted_answer_id": 49774092, "answer_count": 1, "score": 0, "last_activity_date": 1523447250, "creation_date": 1523444807, "question_id": 49773483, "link": "https://stackoverflow.com/questions/49773483/differs-type-parameters-in-typescript", "title": "Differs type parameters in Typescript?", "body": "<p>TypeScript allows to pass differs type parameters like:</p>\n\n<pre><code>public getClassesNumbers(classes: ClassesAndSubjects[] | SchoolClass[]) {}\n</code></pre>\n\n<p>But what I function inside expects only <code>SchoolClass[]</code> parameter type for <code>classes</code>?</p>\n\n<pre><code>this.functionInside(classes: SchoolClass[], true)\n</code></pre>\n\n<p>Is it obligatorily to specify <code>ClassesAndSubjects[] | SchoolClass[]</code> type also fo function inside? </p>\n\n<p>It forces to make duplicates of code.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 6454, "user_id": 1822977, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f284bfaeb62b097f29923b81cea9bb93?s=128&d=identicon&r=PG&f=1", "display_name": "blub", "link": "https://stackoverflow.com/users/1822977/blub"}, "is_accepted": true, "score": 3, "last_activity_date": 1523444699, "creation_date": 1523444699, "answer_id": 49773435, "question_id": 49773434, "link": "https://stackoverflow.com/questions/49773434/typescript-why-is-number-string-assignable-to-null/49773435#49773435", "title": "Typescript: Why is number/string/... assignable to null?", "body": "<p>And immediately found the answer:</p>\n\n<p>By default the option <code>strictNullChecks</code> is disabled in tsconfig.json.</p>\n"}], "owner": {"reputation": 6454, "user_id": 1822977, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f284bfaeb62b097f29923b81cea9bb93?s=128&d=identicon&r=PG&f=1", "display_name": "blub", "link": "https://stackoverflow.com/users/1822977/blub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 49773435, "answer_count": 1, "score": 2, "last_activity_date": 1523445455, "creation_date": 1523444699, "last_edit_date": 1523445455, "question_id": 49773434, "link": "https://stackoverflow.com/questions/49773434/typescript-why-is-number-string-assignable-to-null", "title": "Typescript: Why is number/string/... assignable to null?", "body": "<p>Why is TypeScript only showing errors when assigning a string to a number, but not when assigning null to a number? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export type ArrayWithNumberOrString = Array&lt;number | string&gt;;\r\nexport type ArrayWithNumberOrNull = Array&lt;number | null&gt;;\r\n\r\n\r\nfunction doSomethingWithNumbersOnly(array: number[]): number[] {\r\n  return array;\r\n};\r\n\r\nconst numbersAndString: ArrayWithNumberOrString = [1, 2, 3, 'string'];\r\nconst numbersAndNull: ArrayWithNumberOrNull = [1, 2, 3, null];\r\n\r\ndoSomethingWithNumbersOnly(numbersAndString);\r\ndoSomethingWithNumbersOnly(numbersAndNull);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=%0D%0Aexport%20type%20ArrayWithNumberOrString%20%3D%20Array%3Cnumber%20%7C%20string%3E%3B%0D%0Aexport%20type%20ArrayWithNumberOrNull%20%3D%20Array%3Cnumber%20%7C%20null%3E%3B%0D%0A%0D%0A%0D%0Afunction%20doSomethingWithNumbersOnly(array%3A%20number%5B%5D)%3A%20number%5B%5D%20%7B%0D%0A%20%20return%20array%3B%0D%0A%7D%3B%0D%0A%0D%0Aconst%20numbersAndString%3A%20ArrayWithNumberOrString%20%3D%20%5B1%2C%202%2C%203%2C%20&#39;string&#39;%5D%3B%0D%0Aconst%20numbersAndNull%3A%20ArrayWithNumberOrNull%20%3D%20%5B1%2C%202%2C%203%2C%20null%5D%3B%0D%0A%0D%0AdoSomethingWithNumbersOnly(numbersAndString)%3B%0D%0AdoSomethingWithNumbersOnly(numbersAndNull)%3B\" rel=\"nofollow noreferrer\">Typescript sandbox</a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 2516, "user_id": 5951420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoPAz.jpg?s=128&g=1", "display_name": "kimy82", "link": "https://stackoverflow.com/users/5951420/kimy82"}, "edited": false, "score": 1, "creation_date": 1523444329, "post_id": 49773231, "comment_id": 86561398, "body": "They are not functions."}], "answers": [{"tags": [], "owner": {"reputation": 9691, "user_id": 101251, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d983612a465ed6bedaaf89005cc6e85e?s=128&d=identicon&r=PG", "display_name": "kctang", "link": "https://stackoverflow.com/users/101251/kctang"}, "is_accepted": true, "score": 8, "last_activity_date": 1523444336, "creation_date": 1523444336, "answer_id": 49773306, "question_id": 49773231, "link": "https://stackoverflow.com/questions/49773231/typescriptcannot-invoke-an-expression-whose-type-lacks-a-call-signature-type/49773306#49773306", "title": "Typescript:Cannot invoke an expression whose type lacks a call signature. Type &#39;Number&#39; has no compatible call signatures", "body": "<p><code>bird.age()</code> does not work because it is a number. <code>console.log(bird.age)</code> will work.</p>\n\n<p><code>bird.fly()</code> works because it is a function.</p>\n\n<p>Similar pattern for all other issues.</p>\n"}, {"comments": [{"owner": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "edited": false, "score": 0, "creation_date": 1540040820, "post_id": 49773323, "comment_id": 92722596, "body": "In a similar vein, it&#39;s worth remembering that getters and setters are also <i>not accessed as a function</i>.. which I may have briefly forgotten. (\uff0d\u2038\u10da)"}], "tags": [], "owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "is_accepted": false, "score": 3, "last_activity_date": 1523444380, "creation_date": 1523444380, "answer_id": 49773323, "question_id": 49773231, "link": "https://stackoverflow.com/questions/49773231/typescriptcannot-invoke-an-expression-whose-type-lacks-a-call-signature-type/49773323#49773323", "title": "Typescript:Cannot invoke an expression whose type lacks a call signature. Type &#39;Number&#39; has no compatible call signatures", "body": "<p>Your problem is not with imports or exports, that looks OK. This:</p>\n\n<pre><code>Cannot invoke an expression whose type lacks a call signature. Type 'Number' has no compatible call signatures\n</code></pre>\n\n<p>says it all. You use <code>age()</code>, so you are using age as if it is a function (has a call signature). But age is a number - you can add it, print it, etc., but you can't \"call\" it. That's why the other lines don't fail - You can call them properly.</p>\n"}, {"tags": [], "owner": {"reputation": 2968, "user_id": 4480993, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lHC4g.jpg?s=128&g=1", "display_name": "AhammadaliPK", "link": "https://stackoverflow.com/users/4480993/ahammadalipk"}, "is_accepted": false, "score": 1, "last_activity_date": 1537259653, "creation_date": 1537259653, "answer_id": 52382286, "question_id": 49773231, "link": "https://stackoverflow.com/questions/49773231/typescriptcannot-invoke-an-expression-whose-type-lacks-a-call-signature-type/52382286#52382286", "title": "Typescript:Cannot invoke an expression whose type lacks a call signature. Type &#39;Number&#39; has no compatible call signatures", "body": "<p>This error will also happen when you tried to access a property of a class with parenthesis . For example you have created a property in a class like ,</p>\n\n<pre><code>private get printTemplateDetailsUrl(): string {        \n      return `${this._baseHref}://getUserPrintTemplateDetailsJson`;\n  } \n</code></pre>\n\n<p>and you have tried to access that property like this ,</p>\n\n<pre><code>let url = this.printTemplateDetailsUrl();\n</code></pre>\n\n<p>so it will give an error as ,</p>\n\n<pre><code>Cannot invoke an expression whose type lacks a call signature. Type 'String' has no compatible call signatures\n</code></pre>\n\n<p>so if you want to access that property , you don't need trailing parenthesis , you can access like this , </p>\n\n<pre><code>let url = this.printTemplateDetailsUrl;\n</code></pre>\n"}], "owner": {"reputation": 1384, "user_id": 9247465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-q9Lq4aEZoms/AAAAAAAAAAI/AAAAAAAAANg/KR9sPMb4MdM/photo.jpg?sz=128", "display_name": "AConsumer", "link": "https://stackoverflow.com/users/9247465/aconsumer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29092, "favorite_count": 3, "accepted_answer_id": 49773306, "answer_count": 3, "score": 6, "last_activity_date": 1537259653, "creation_date": 1523444128, "question_id": 49773231, "link": "https://stackoverflow.com/questions/49773231/typescriptcannot-invoke-an-expression-whose-type-lacks-a-call-signature-type", "title": "Typescript:Cannot invoke an expression whose type lacks a call signature. Type &#39;Number&#39; has no compatible call signatures", "body": "<p>I know these type of questions are asked before but still it is not clear to me.</p>\n\n<p>I am a beginner and i was trying to learn import and export in typescript. So i have written the following code. Kindly have a look in to this.</p>\n\n<p>I have three files:-</p>\n\n<pre><code> 1.animal.ts  \n 2.bird.ts \n 3.application.ts\n</code></pre>\n\n<p>Animal.ts:-</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class Animal {\r\n    name:string\r\n    age:number\r\n    constructor(name:string,age:number){\r\n        this.name=name;\r\n        this.age=age\r\n    }\r\n    \r\n    sleep(){\r\n        console.log(\"I do sleep\")\r\n    }\r\n\r\n    eat(){\r\n        console.log(\"I do eat\")\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>bird.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {Animal} from \"./animal\"\r\n\r\nexport class Bird extends Animal{\r\n\r\n    constructor(name:string,age:number){\r\n        super(name,age)\r\n    }\r\n\r\n    fly(){\r\n        console.log(\"I can fly also\")\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>aplication.ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Animal } from \"./animal\"\r\nimport { Bird } from \"./bird\"\r\n\r\nclass Application {\r\n\r\n    constructor() {\r\n        console.log(\"Hi i am a bird !!\")\r\n    }\r\n}\r\n\r\nvar animal = new Animal(\"Rhino\", 10);\r\nvar bird = new Bird(\"Pigeon\", 3)\r\n\r\nanimal.age();   //Cannot invoke an expression whose type lacks a call signature. Type 'Number' has no compatible call signatures\r\nanimal.name();  //Cannot invoke an expression whose type lacks a call signature. Type 'String' has no compatible call signatures.\r\n\r\nbird.age();     //Cannot invoke an expression whose type lacks a call signature. Type 'Number' has no compatible call signatures\r\nbird.fly();\r\nbird.sleep();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How do i solve this problem ? and what this error actually means ? </p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "reply_to_user": {"reputation": 4349, "user_id": 1892256, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jLTLT.png?s=128&g=1", "display_name": "Toxic", "link": "https://stackoverflow.com/users/1892256/toxic"}, "edited": false, "score": 0, "creation_date": 1523444352, "post_id": 49773154, "comment_id": 86561408, "body": "Glad I could help :)"}], "tags": [], "owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "is_accepted": true, "score": 2, "last_activity_date": 1523444270, "last_edit_date": 1523444270, "creation_date": 1523443881, "answer_id": 49773154, "question_id": 49772972, "link": "https://stackoverflow.com/questions/49772972/angular-bind-input-type-checkbox-checked-by-default/49773154#49773154", "title": "Angular, bind input type Checkbox, checked by default", "body": "<p>If you want the checkbox to be unchecked, its <code>[value]</code> binding must be falsy. </p>\n\n<p>Both <code>\"true\"</code> and <code>\"false\"</code> are non empty strings, which means that they evaluate to <code>true</code>. </p>\n\n<p>Convert <code>\"false\"</code> to <code>false</code> and it will work as expected.</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  template: `\n&lt;input type=\"checkbox\" [(ngModel)]=\"checkbox1\" /&gt; \"true\"\n&lt;input type=\"checkbox\" [(ngModel)]=\"checkbox2\" /&gt; \"false\"\n&lt;input type=\"checkbox\" [(ngModel)]=\"checkbox3\" /&gt; true\n&lt;input type=\"checkbox\" [(ngModel)]=\"checkbox4\" /&gt; false\n  `,\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  checkbox1 = 'true';\n  checkbox2 = 'false';\n  checkbox3 = true;\n  checkbox4 =  false;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pLXuW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pLXuW.png\" alt=\"checkbox example\"></a></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-4iizjm\" rel=\"nofollow noreferrer\">Live demo</a></p>\n"}], "owner": {"reputation": 4349, "user_id": 1892256, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jLTLT.png?s=128&g=1", "display_name": "Toxic", "link": "https://stackoverflow.com/users/1892256/toxic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5197, "favorite_count": 0, "accepted_answer_id": 49773154, "answer_count": 1, "score": 1, "last_activity_date": 1523444270, "creation_date": 1523443311, "question_id": 49772972, "link": "https://stackoverflow.com/questions/49772972/angular-bind-input-type-checkbox-checked-by-default", "title": "Angular, bind input type Checkbox, checked by default", "body": "<p>I am working on Angular 5 application with checkbox. I have data coming from database, followed by mapped to javaScript object. I am trying to configure 'Selected' value but unable to do so. In my result, I got all boxes checked which should be. </p>\n\n<p>in following code, option: [] --> 'optionSelected' defined if is selected value by true or false, </p>\n\n<p>produced schema as following;</p>\n\n<p><a href=\"https://i.stack.imgur.com/VlDpe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VlDpe.png\" alt=\"enter image description here\"></a></p>\n\n<h2>Template</h2>\n\n<pre><code> &lt;div *ngSwitchCase=\"'checkbox'\"&gt; &lt;small&gt;checkbox&lt;/small&gt;\n       &lt;div *ngFor=\"let opt of question.options\" &gt;\n            &lt;label class=\"container-vertical\"&gt; {{opt.value}}\n                &lt;input type=\"checkbox\" [formControlName]=\"question.key\" [name]=\"opt.name\" [value]=\"opt.key\" [checked]=\"opt.optionSelected\" /&gt; \n                &lt;span class=\"checkmark2\"&gt;&lt;/span&gt;\n            &lt;/label&gt;\n       &lt;/div&gt;      \n &lt;/div&gt; \n</code></pre>\n\n<p>also tried with ngModel as in my component, property 'value' holds id of selected key but still final result checked all boxes</p>\n\n<pre><code>&lt;input type=\"checkbox\" [formControlName]=\"question.key\" [name]=\"opt.name\" [value]=\"opt.key\" [(ngModel)]=\"question.value\" /&gt;\n</code></pre>\n\n<h2>component</h2>\n\n<pre><code> else  if(questionElementType==\"checkbox\")\n {\n   let _checkBox = new CheckBoxQuestion ({\n     consultationId: questionsList[key].consultationId,\n     questionId: questionsList[key].questionId,\n     questionElementType: questionsList[key].questionElementType[0].title,           \n     questionType: questionsList[key].questionType,\n     title:questionsList[key].title,\n     displayId: questionsList[key].displayId,\n     key: questionsList[key].questionId,     \n     value: questionsList[key].answer.length&lt;=0? null : questionsList[key].answer[0].answerValue.toLowerCase(),\n     label: questionsList[key].title, \n     order: 7,\n     options: questionsList[key].answerOptions.map(function(item){\n       return {\"name\": item.ReferenceKey, \"key\": item.preDefineAnswerOptionId, \"value\": item.text, \"optionSelected\": item.preDefineAnswerOptionId==questionsList[key].answer[0].answerValue? \"true\": \"false\"}\n    }),\n   });\n\n     this.mappedQuestions.push(_checkBox);\n }\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "ionic-framework", "firebase-realtime-database", "ionic3"], "comments": [{"owner": {"reputation": 742, "user_id": 8340339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb69568e5deaed66c42f230befc2ce3?s=128&d=identicon&r=PG&f=1", "display_name": "AntonioGarc&#237;a", "link": "https://stackoverflow.com/users/8340339/antoniogarc%c3%ada"}, "edited": false, "score": 0, "creation_date": 1523442803, "post_id": 49772732, "comment_id": 86560380, "body": "Is &#39;vaccApp-f7771&#39; the name of a node in your firebase database? Try setting it to &#39;/&#39; and updating your question."}, {"owner": {"reputation": 41, "user_id": 8779712, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mkcftvLP5yw/AAAAAAAAAAI/AAAAAAAAB2s/3NmDpuFPqZc/photo.jpg?sz=128", "display_name": "Anish Kapuskar", "link": "https://stackoverflow.com/users/8779712/anish-kapuskar"}, "reply_to_user": {"reputation": 742, "user_id": 8340339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb69568e5deaed66c42f230befc2ce3?s=128&d=identicon&r=PG&f=1", "display_name": "AntonioGarc&#237;a", "link": "https://stackoverflow.com/users/8340339/antoniogarc%c3%ada"}, "edited": false, "score": 0, "creation_date": 1523442960, "post_id": 49772732, "comment_id": 86560482, "body": "i have done it its giving same"}, {"owner": {"reputation": 41, "user_id": 8779712, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mkcftvLP5yw/AAAAAAAAAAI/AAAAAAAAB2s/3NmDpuFPqZc/photo.jpg?sz=128", "display_name": "Anish Kapuskar", "link": "https://stackoverflow.com/users/8779712/anish-kapuskar"}, "reply_to_user": {"reputation": 742, "user_id": 8340339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb69568e5deaed66c42f230befc2ce3?s=128&d=identicon&r=PG&f=1", "display_name": "AntonioGarc&#237;a", "link": "https://stackoverflow.com/users/8340339/antoniogarc%c3%ada"}, "edited": false, "score": 0, "creation_date": 1523444189, "post_id": 49772732, "comment_id": 86561301, "body": "@AntonioGarc&#237;a any help plz"}, {"owner": {"reputation": 742, "user_id": 8340339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb69568e5deaed66c42f230befc2ce3?s=128&d=identicon&r=PG&f=1", "display_name": "AntonioGarc&#237;a", "link": "https://stackoverflow.com/users/8340339/antoniogarc%c3%ada"}, "edited": false, "score": 0, "creation_date": 1523449640, "post_id": 49772732, "comment_id": 86565044, "body": "I&#39;m going to need some more information. Could you show me the structure of your database? Also, is &#39;vaccApp-f7771&#39; the name of your node or is it the name of your project?"}, {"owner": {"reputation": 41, "user_id": 8779712, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mkcftvLP5yw/AAAAAAAAAAI/AAAAAAAAB2s/3NmDpuFPqZc/photo.jpg?sz=128", "display_name": "Anish Kapuskar", "link": "https://stackoverflow.com/users/8779712/anish-kapuskar"}, "reply_to_user": {"reputation": 742, "user_id": 8340339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb69568e5deaed66c42f230befc2ce3?s=128&d=identicon&r=PG&f=1", "display_name": "AntonioGarc&#237;a", "link": "https://stackoverflow.com/users/8340339/antoniogarc%c3%ada"}, "edited": false, "score": 0, "creation_date": 1523511141, "post_id": 49772732, "comment_id": 86592233, "body": "its the name of my json in firebase"}], "owner": {"reputation": 41, "user_id": 8779712, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mkcftvLP5yw/AAAAAAAAAAI/AAAAAAAAB2s/3NmDpuFPqZc/photo.jpg?sz=128", "display_name": "Anish Kapuskar", "link": "https://stackoverflow.com/users/8779712/anish-kapuskar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523442944, "creation_date": 1523442602, "last_edit_date": 1523442944, "question_id": 49772732, "link": "https://stackoverflow.com/questions/49772732/not-getting-correct-data-from-firebase-in-ionic-3", "title": "not getting correct data from firebase in ionic 3", "body": "<p>I am working on an ionic app for backend I am using firebase,\nI want to get the data from the firebase I have created an provider in which I have written a function as follow</p>\n\n<pre><code>loadData() {\n    return this.afd.list('/vaccApp-f7771').valueChanges();\n    }\n</code></pre>\n\n<p>I am calling this function in the constructor of an another page as follows</p>\n\n<pre><code>constructor(public navCtrl: NavController, public navParams: NavParams,public data: FirebaseProvider) {\n\n   this.data.loadData().subscribe(k =&gt; {\n   console.log(k);\n\n  });\n  }\n</code></pre>\n\n<p>but in console i am not getting correct data I am getting some array like this </p>\n\n<pre><code>[]length: 0__proto__: Array(0)concat: \u0192 concat()constructor: \u0192 Array()copyWithin: \u0192 copyWithin()entries: \u0192 entries()every: \u0192 every()fill: \u0192 fill()filter: \u0192 filter()find: \u0192 find()findIndex: \u0192 findIndex()forEach: \u0192 forEach()includes: \u0192 includes()indexOf: \u0192 indexOf()join: \u0192 join()keys: \u0192 keys()lastIndexOf: \u0192 lastIndexOf()length: 0map: \u0192 map()pop: \u0192 pop()push: \u0192 push()reduce: \u0192 reduce()reduceRight: \u0192 reduceRight()reverse: \u0192 reverse()shift: \u0192 shift()slice: \u0192 slice()some: \u0192 some()sort: \u0192 sort()splice: \u0192 splice()toLocaleString: \u0192 toLocaleString()toString: \u0192 toString()unshift: \u0192 unshift()values: \u0192 values()Symbol(Symbol.iterator): \u0192 values()Symbol(Symbol.unscopables): {copyWithin: true, entries: true, fill: true, find: true, findIndex: true,\u00a0\u2026}__proto__: Object\n</code></pre>\n\n<p>any help??</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1865, "user_id": 7745173, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tx8YG.png?s=128&g=1", "display_name": "Logan Wlv", "link": "https://stackoverflow.com/users/7745173/logan-wlv"}, "edited": false, "score": 0, "creation_date": 1536931248, "post_id": 49771753, "comment_id": 91612513, "body": "I still do not understand what was causing this issue? Why by adding .post&lt;string&gt; could resolve to a conflict with reponseType: &#39;text&#39; ?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1865, "user_id": 7745173, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tx8YG.png?s=128&g=1", "display_name": "Logan Wlv", "link": "https://stackoverflow.com/users/7745173/logan-wlv"}, "edited": false, "score": 3, "creation_date": 1536931458, "post_id": 49771753, "comment_id": 91612639, "body": "@LoganWlv because there are multiple overloads, and the overload with <code>responseType: &#39;text&#39;</code> is not generic, and the overload that is generic that is generic only allows <code>&#39;json&#39;</code> for <code>responseType</code>"}, {"owner": {"reputation": 538, "user_id": 6410464, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-y7mjry8PRRc/AAAAAAAAAAI/AAAAAAAAInw/5GWDMQgGWis/photo.jpg?sz=128", "display_name": "atb00ker", "link": "https://stackoverflow.com/users/6410464/atb00ker"}, "edited": false, "score": 0, "creation_date": 1584277872, "post_id": 49771753, "comment_id": 107381696, "body": "It&#39;s not working for me in Angular 9, here is what I had to do: <a href=\"https://stackoverflow.com/a/60693216/6410464\">stackoverflow.com/a/60693216/6410464</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 38, "last_activity_date": 1523439909, "creation_date": 1523439909, "answer_id": 49771753, "question_id": 49771603, "link": "https://stackoverflow.com/questions/49771603/types-of-property-responsetype-are-incompatible/49771753#49771753", "title": "Types of property &#39;responseType&#39; are incompatible", "body": "<p>The version of <code>post</code> accepting <code>responseType:'text'</code> is not generic, since the result type is already clear (ie <code>string</code>)</p>\n\n<pre><code>this.http\n.post(this.loginUrl, this.user, {responseType: 'text'}) // no generic parameter\n.subscribe(\n    (data) =&gt; this.success(data), // data is string\n    (error) =&gt; this.failure(error)\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 538, "user_id": 6410464, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-y7mjry8PRRc/AAAAAAAAAAI/AAAAAAAAInw/5GWDMQgGWis/photo.jpg?sz=128", "display_name": "atb00ker", "link": "https://stackoverflow.com/users/6410464/atb00ker"}, "edited": false, "score": 0, "creation_date": 1584277816, "post_id": 53024988, "comment_id": 107381679, "body": "This is only a hack. I don&#39;t know if at the time of asking the question a better solution was possible or not, but today certainly you can do <a href=\"https://stackoverflow.com/a/60693216/6410464\">stackoverflow.com/a/60693216/6410464</a>"}], "tags": [], "owner": {"reputation": 343, "user_id": 9883118, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BVUquv6iIm0/AAAAAAAAAAI/AAAAAAAAABg/SVblqXmfpZ0/photo.jpg?sz=128", "display_name": "Tanzeel Saleem", "link": "https://stackoverflow.com/users/9883118/tanzeel-saleem"}, "is_accepted": false, "score": 12, "last_activity_date": 1561645414, "last_edit_date": 1561645414, "creation_date": 1540664493, "answer_id": 53024988, "question_id": 49771603, "link": "https://stackoverflow.com/questions/49771603/types-of-property-responsetype-are-incompatible/53024988#53024988", "title": "Types of property &#39;responseType&#39; are incompatible", "body": "<p>Just remove \"<strong>string</strong>\" from your request. Try this:</p>\n\n<pre><code>this.http.post(this.loginUrl, this.user, {responseType: 'text'}).subscribe(\n    (data) =&gt; this.success(data),\n    (error) =&gt; this.failure(error)\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "edited": false, "score": 0, "creation_date": 1553532037, "post_id": 55342291, "comment_id": 97410116, "body": "Can you add description?"}, {"owner": {"reputation": 1320, "user_id": 1999217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574817f0262cfdea1c206ab252a1d84b?s=128&d=identicon&r=PG", "display_name": "Michael Hudson", "link": "https://stackoverflow.com/users/1999217/michael-hudson"}, "edited": false, "score": 0, "creation_date": 1570507483, "post_id": 55342291, "comment_id": 102925877, "body": "This fixed the issue for me, no idea why we can&#39;t create the header options separately for reusability etc. Inline only if you want to customize responseType"}], "tags": [], "owner": {"reputation": 401, "user_id": 6764504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d4d3324a31d0754369057e42655a57e?s=128&d=identicon&r=PG&f=1", "display_name": "Chandan Kumar", "link": "https://stackoverflow.com/users/6764504/chandan-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1553606061, "last_edit_date": 1553606061, "creation_date": 1553531067, "answer_id": 55342291, "question_id": 49771603, "link": "https://stackoverflow.com/questions/49771603/types-of-property-responsetype-are-incompatible/55342291#55342291", "title": "Types of property &#39;responseType&#39; are incompatible", "body": "<pre><code>this.http.post(this.loginUrl,this.user,{headers:\nnew HttpHeaders({'content-type':'application/json'}), responseType:'text'})\n.subscribe((r)=&gt;{console.log(r)})\n</code></pre>\n\n<p>Edit </p>\n\n<p>It is wierd but creating header object separately like below snippet</p>\n\n<pre><code>let headerOptions = {\n headers: new HttpHeaders(\n     {'content-type':'application/json'}),\n       responseType:'text'\n }\nthis.http.post(this.loginUrl,this.user, headerOptions)\n .subscribe((r)=&gt;{console.log(r)})\n</code></pre>\n\n<p>would throw error in VS code, so the idea is to pass the entire object in inline post request like above would solve the compilation error.</p>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 4959110, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/842537222461776/picture?type=large", "display_name": "St&#246;ger", "link": "https://stackoverflow.com/users/4959110/st%c3%b6ger"}, "is_accepted": false, "score": 3, "last_activity_date": 1556776656, "last_edit_date": 1556776656, "creation_date": 1556629948, "answer_id": 55921704, "question_id": 49771603, "link": "https://stackoverflow.com/questions/49771603/types-of-property-responsetype-are-incompatible/55921704#55921704", "title": "Types of property &#39;responseType&#39; are incompatible", "body": "<p>I just ran into this particular issue today myself. After searching for a little and figuring that the responseType option <em>should</em> exist, I managed to get it work as below:</p>\n\n<pre><code>let requestOptions: Object = { \n    headers: new HttpHeaders().set('Authorization', 'Basic ' + credentials),\n    responseType: 'text'\n}    \n\nreturn this.httpClient.get&lt;any&gt;(\n                this.environment.tokenHost + this.environment.authenticationURL,\n                requestOptions\n            )\n            .subscribe(result =&gt; {\n                // do stuff\n            });\n</code></pre>\n\n<p>Setting the <code>responseType</code> like that makes it work, compared to configuring it in the 'request' itself.</p>\n\n<p>Regards.</p>\n"}, {"comments": [{"owner": {"reputation": 134, "user_id": 4128634, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e683004ecafbe293faadf0383d0b80e0?s=128&d=identicon&r=PG&f=1", "display_name": "Flaom", "link": "https://stackoverflow.com/users/4128634/flaom"}, "edited": false, "score": 0, "creation_date": 1615925141, "post_id": 60693216, "comment_id": 117842177, "body": "I don&#39;t see how removing <code>&lt;string&gt;</code> is any more of a hack than setting the responseType to <code>&#39;text&#39; as &#39;json&#39;</code>. Is there any functional difference between the two?"}, {"owner": {"reputation": 538, "user_id": 6410464, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-y7mjry8PRRc/AAAAAAAAAAI/AAAAAAAAInw/5GWDMQgGWis/photo.jpg?sz=128", "display_name": "atb00ker", "link": "https://stackoverflow.com/users/6410464/atb00ker"}, "reply_to_user": {"reputation": 134, "user_id": 4128634, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e683004ecafbe293faadf0383d0b80e0?s=128&d=identicon&r=PG&f=1", "display_name": "Flaom", "link": "https://stackoverflow.com/users/4128634/flaom"}, "edited": false, "score": 0, "creation_date": 1616236650, "post_id": 60693216, "comment_id": 117942385, "body": "I don&#39;t think there should be a functional difference. The only reason I would call it a better approach is in typescript, explicit mention of datatype is preferred; which is not violated here."}], "tags": [], "owner": {"reputation": 538, "user_id": 6410464, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-y7mjry8PRRc/AAAAAAAAAAI/AAAAAAAAInw/5GWDMQgGWis/photo.jpg?sz=128", "display_name": "atb00ker", "link": "https://stackoverflow.com/users/6410464/atb00ker"}, "is_accepted": false, "score": 8, "last_activity_date": 1584277694, "creation_date": 1584277694, "answer_id": 60693216, "question_id": 49771603, "link": "https://stackoverflow.com/questions/49771603/types-of-property-responsetype-are-incompatible/60693216#60693216", "title": "Types of property &#39;responseType&#39; are incompatible", "body": "<p>Removing <code>&lt;string&gt;</code> or other similar solutions are hacks and I wouldn't recommend it for production.</p>\n\n<p>Here is a better approach:</p>\n\n<pre><code>    const httpOptions = {\n      headers: new HttpHeaders({\n        'Accept': 'text/plain, */*',\n        'Content-Type': 'application/json' // We send JSON\n      }),\n      responseType: 'text' as 'json'  // We accept plain text as response.\n    };\n    return this.http.post&lt;string&gt;(this.setBaseUrl, body, httpOptions);\n</code></pre>\n\n<p>Replace <code>text</code> with <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType\" rel=\"noreferrer\">valid responseType</a> according the data that you want to receive.</p>\n"}], "owner": {"reputation": 423, "user_id": 4491666, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SZHxcbzaPNE/AAAAAAAAAAI/AAAAAAAAAM4/tY118qIpbvo/photo.jpg?sz=128", "display_name": "Jitendra Kumar", "link": "https://stackoverflow.com/users/4491666/jitendra-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17552, "favorite_count": 1, "accepted_answer_id": 49771753, "answer_count": 5, "score": 27, "last_activity_date": 1584277694, "creation_date": 1523439449, "question_id": 49771603, "link": "https://stackoverflow.com/questions/49771603/types-of-property-responsetype-are-incompatible", "title": "Types of property &#39;responseType&#39; are incompatible", "body": "<p>I am unable to make a POST request in Angular 5 that accepts <code>text/plain</code> as response. Angular is calling a method which expects <code>JSON</code> as response and hence throws an error when response comes while trying to parse the response.</p>\n\n<p>I tried calling method with parameter <code>{responseType: 'text'}</code> but VS code is showing it as an error and I am also getting an error in the console when the application is compiled.</p>\n\n<p>Below is the Angular 5 code for a POST request that expects a response as <code>text/plain</code>.</p>\n\n<pre><code>this.http\n.post&lt;string&gt;(this.loginUrl, this.user, {responseType: 'text'}) // error in this line\n.subscribe(\n    (data) =&gt; this.success(data),\n    (error) =&gt; this.failure(error)\n);\n</code></pre>\n\n<p>While compilation the following error show in the console:</p>\n\n<pre><code>ERROR in src/app/login/login.component.ts(47,47): error TS2345: Argument of type '{ responseType: \"text\"; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\n  Types of property 'responseType' are incompatible.\n    Type '\"text\"' is not assignable to type '\"json\"'.\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 13, "user_id": 9169566, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f11SWnUS-Fs/AAAAAAAAAAI/AAAAAAAAADY/kgTaq0sMmIk/photo.jpg?sz=128", "display_name": "Hoary", "link": "https://stackoverflow.com/users/9169566/hoary"}, "edited": false, "score": 0, "creation_date": 1523439022, "post_id": 49771420, "comment_id": 86557736, "body": "var bw = this.allBondedWarehouse1.filter(x =&gt; x.id === event);   it does not work that way either."}, {"owner": {"reputation": 1680, "user_id": 5049472, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/imoWX.jpg?s=128&g=1", "display_name": "Powkachu", "link": "https://stackoverflow.com/users/5049472/powkachu"}, "edited": false, "score": 0, "creation_date": 1523439559, "post_id": 49771420, "comment_id": 86558134, "body": "Is .allBondedWarehouse1_types a property of your object? The filter function returns an array so you should use an index like this.allBondedWarehouse1.filter(x =&gt; x.id === event)[0].allBondedWarehouse1_types"}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 9169566, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f11SWnUS-Fs/AAAAAAAAAAI/AAAAAAAAADY/kgTaq0sMmIk/photo.jpg?sz=128", "display_name": "Hoary", "link": "https://stackoverflow.com/users/9169566/hoary"}, "is_accepted": false, "score": 0, "last_activity_date": 1524043298, "creation_date": 1524043298, "answer_id": 49895899, "question_id": 49771420, "link": "https://stackoverflow.com/questions/49771420/i-can-not-use-array-properties-in-angular/49895899#49895899", "title": "I can not use array properties in Angular", "body": "<p>I solved the problem. It took me a while, I'm filling the current sequence with another area.</p>\n\n<pre><code>var bw = this.allBondedWarehouse1.filter(x =&gt; x.id == event.id);\n</code></pre>\n\n<p>the above code snippet solved my problem. Thank you for your time. I hope no one will fall into such an obvious fault, even if you made an error does not waste so much time.</p>\n"}], "owner": {"reputation": 13, "user_id": 9169566, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f11SWnUS-Fs/AAAAAAAAAAI/AAAAAAAAADY/kgTaq0sMmIk/photo.jpg?sz=128", "display_name": "Hoary", "link": "https://stackoverflow.com/users/9169566/hoary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524043298, "creation_date": 1523438944, "question_id": 49771420, "link": "https://stackoverflow.com/questions/49771420/i-can-not-use-array-properties-in-angular", "title": "I can not use array properties in Angular", "body": "<pre><code>allBondedWarehouse1: any;\n</code></pre>\n\n<p>in this way, there is a variant that meets any type</p>\n\n<pre><code>this.allBondedWarehouse = new DataSource({\n      load: (loadOptions) =&gt; {\n\n\n        return this.service.getBondedWarehouseTrioKeyValueGridData(null).toPromise().then(response =&gt; {\n          debugger;\n          this.allBondedWarehouse1 = response;\n          //this.allBondedWarehouse1 = new ArrayStore({\n          //  data: response,\n          //  key: 'id'\n          //});\n\n\n          this.bondedWarehouseIdsStirng = this.requestModel.bondedWarehouseIds.split(',');\n\n          for (var item in this.bondedWarehouseIdsStirng) {\n            if (parseInt(item)) {\n               //this.allBondedWarehouseGridData.push(item);\n              this.addBondedWarehouse(parseInt(item));\n            }\n          }\n\n          return response;\n        }\n        )\n      }\n    });\n</code></pre>\n\n<p>I did a couple of steps as shown and threw the variable return variable.</p>\n\n<pre><code> &lt;div class=\"form-group\" [hidden]=\"isImportCreate\"&gt;\n                        &lt;bl-atlas-common-bonded-warehouse-grid [placeHolder]=\"'Antrepo'\"\n                                                               [(bindModel)]=\"requestModel.bondedWarehouseId\"\n                                                               [isValidated]=\"true\"\n                                                               (customHouseIdChange)=\"customHouseIdChange($event)\"\n                                                               (bindModelChange)=\"addBondedWarehouse($event)\"&gt;&lt;/bl-atlas-common-bonded-warehouse-grid&gt;\n</code></pre>\n\n<p>I'm triggering a method with this component bindModelChange.</p>\n\n<pre><code>addBondedWarehouse(event) {\n    var bw = this.allBondedWarehouse1.filter(x =&gt; x.id === event).allBondedWarehouse1_types;\n\n\n    debugger;\n\n    if (bw != null) {\n      if (this.allBondedWarehouseGridData.filter(x =&gt; x.id == bw.id).length == 0) {\n        this.allBondedWarehouseGridData.push(bw);\n        this.addOfferBondedWarehouseList.push(bw.id);\n      }\n\n    }\n    //this.requestModel.customHouseIds = null;\n\n\n  }\n</code></pre>\n\n<p>I can not filter on this line.</p>\n\n<p><a href=\"https://i.stack.imgur.com/eSpyh.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>In this picture, if the bw variable is undefined and x => x.id is undefined, can you help?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "tree", "expression"], "answers": [{"comments": [{"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1523439448, "post_id": 49771487, "comment_id": 86558040, "body": "Perfect, give me a second to try this out"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1524345085, "post_id": 49771487, "comment_id": 86937005, "body": "Sorry that tooks so long"}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 1, "last_activity_date": 1523439149, "creation_date": 1523439149, "answer_id": 49771487, "question_id": 49770897, "link": "https://stackoverflow.com/questions/49770897/angular-bind-viewchild-to-property-in-class/49771487#49771487", "title": "Angular bind ViewChild to Property in Class", "body": "<p>Use an <code>EventEmitter</code>.</p>\n\n<p>In <code>OdataSimpleFilterComponent</code></p>\n\n<pre><code>@Output() odataExpressionChange = new EventEmitter&lt;ODataExpressionDescriptor&gt;();\n</code></pre>\n\n<p>Then, whenever tha value changes internally in the component, you do:</p>\n\n<pre><code>this.odataExpressionChange.emit(this.odataExpression);\n</code></pre>\n\n<p>In the main component, you'll have to do in <code>ngAfterViewInit</code> (or <code>ngAfterViewChecked</code>), to make sure that <code>leftExpression</code> is initialised:</p>\n\n<pre><code>ngAfterViewInit() {\n    leftExpression.odataExpressionChange.subscribe(data =&gt; {\n        this.binaryExpression.left = data;\n    }\n}\n</code></pre>\n\n<p>This way, whenever the value changes in the child component, you'll receive a notification (via the subsrcription to the <code>EventEmitter</code>) and can react accordingly.</p>\n\n<p>Of course some details might change, as I can't know all of the details of your implementation.</p>\n"}], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 49771487, "answer_count": 1, "score": 0, "last_activity_date": 1523439149, "creation_date": 1523437464, "question_id": 49770897, "link": "https://stackoverflow.com/questions/49770897/angular-bind-viewchild-to-property-in-class", "title": "Angular bind ViewChild to Property in Class", "body": "<p>I'm trying to figure out how to bind a view child to a child component of a class inside of my view.</p>\n\n<p>I have a models that emulates binary expression:</p>\n\n<pre><code>export interface IODataExpression{\n\n}\n\nexport class ODataExpressionDescriptor implements IODataExpression{\n    property: ODataProperty;\n    selectedFunction: ODataFunctionDescriptor;\n    value: any;\n    isNegated: boolean = false;\n}\n\nexport class ODataBinaryExpressionDescriptor implements IODataExpression{\n    left: IODataExpression;\n    right: IODataExpression;\n    operator: ODataBinaryOperators;\n}\n</code></pre>\n\n<p>I have a component class which looks like so:</p>\n\n<pre><code> binaryExpression: ODataBinaryExpressionDescriptor = new ODataBinaryExpressionDescriptor();\n binaryOperatorKeys: any;\n\n binaryOperators = ODataBinaryOperators;\n\n @ViewChild('left') leftExpression: OdataSimpleFilterComponent;\n</code></pre>\n\n<p>the left property points to a component which internally has a property:</p>\n\n<pre><code>odataExpression: ODataExpressionDescriptor = new ODataExpressionDescriptor();\n</code></pre>\n\n<p>How can I make it so that the <code>binaryExpression.left</code> always equals the view childs <code>leftExpression.odataExpression</code>?</p>\n"}, {"tags": ["typescript", "webdriver", "protractor", "ocr"], "comments": [{"owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "edited": false, "score": 1, "creation_date": 1523454107, "post_id": 49770739, "comment_id": 86568465, "body": "I don&#39;t believe there is any package with built in OCR that directly works with protractor. However, you could use the <a href=\"http://www.protractortest.org/#/api?view=webdriver.WebElement.prototype.takeScreenshot\" rel=\"nofollow noreferrer\">screenshot</a> function, and then send it off to a non protractor function."}, {"owner": {"reputation": 19, "user_id": 9591294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673dd83416f25e1b7b907344db8ffd3?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny", "link": "https://stackoverflow.com/users/9591294/jonny"}, "reply_to_user": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "edited": false, "score": 0, "creation_date": 1523603806, "post_id": 49770739, "comment_id": 86637178, "body": "Ben, it can be a solution."}], "owner": {"reputation": 19, "user_id": 9591294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c673dd83416f25e1b7b907344db8ffd3?s=128&d=identicon&r=PG&f=1", "display_name": "Jonny", "link": "https://stackoverflow.com/users/9591294/jonny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523436987, "creation_date": 1523436987, "question_id": 49770739, "link": "https://stackoverflow.com/questions/49770739/optical-character-recognition-for-protractor", "title": "Optical Character Recognition for protractor", "body": "<p>Is way to get text from image using protractor? something like Optical Character Recognition from automation tests?</p>\n"}, {"tags": ["angular", "typescript", "mean-stack"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1523854501, "post_id": 49769969, "comment_id": 86714245, "body": "Can you demonstrate your issue on stackblitz?"}, {"owner": {"reputation": 1131, "user_id": 1929511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P7bIP.jpg?s=128&g=1", "display_name": "Sagar Guhe", "link": "https://stackoverflow.com/users/1929511/sagar-guhe"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1523866231, "post_id": 49769969, "comment_id": 86719324, "body": "@yurzui I have edited my question to add Stackblitz demo"}, {"owner": {"reputation": 18068, "user_id": 3375906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdecf2bb6e58644b47527e4d6f483226?s=128&d=identicon&r=PG", "display_name": "trungk18", "link": "https://stackoverflow.com/users/3375906/trungk18"}, "edited": false, "score": 1, "creation_date": 1523870526, "post_id": 49769969, "comment_id": 86721865, "body": "Check the code, but I still didn&#39;t understand what is the problem. WHEN do you to know how many records are there for ServiceExtras?"}, {"owner": {"reputation": 1477, "user_id": 8607382, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/r9vYE.jpg?s=128&g=1", "display_name": "gauravbhai daxini", "link": "https://stackoverflow.com/users/8607382/gauravbhai-daxini"}, "edited": false, "score": 0, "creation_date": 1523871798, "post_id": 49769969, "comment_id": 86722769, "body": "Do you want this counting? <a href=\"https://drive.google.com/file/d/1aTsX4pwRkLTntGJUWNhvpRlFqrTru12T/view?usp=drivesdk\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1aTsX4pwRkLTntGJUWNhvpRlFqrTru12T/&hellip;</a>"}, {"owner": {"reputation": 1131, "user_id": 1929511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P7bIP.jpg?s=128&g=1", "display_name": "Sagar Guhe", "link": "https://stackoverflow.com/users/1929511/sagar-guhe"}, "reply_to_user": {"reputation": 18068, "user_id": 3375906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fdecf2bb6e58644b47527e4d6f483226?s=128&d=identicon&r=PG", "display_name": "trungk18", "link": "https://stackoverflow.com/users/3375906/trungk18"}, "edited": false, "score": 0, "creation_date": 1523872765, "post_id": 49769969, "comment_id": 86723416, "body": "@trungk18 actually the issue is if their are 2 records coming for service extra then it is populating only one and this happening because I am pushing 1 form group to the <code>service_extra</code> <code>&lt;FormArray&gt;</code>... My problem is I cannot detect how many service_extra records are coming from API so that I can generate those many <code>FormGroups</code> and and push is to <code>&lt;FromArray&gt;service_extras</code>, makes sense?"}, {"owner": {"reputation": 1477, "user_id": 8607382, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/r9vYE.jpg?s=128&g=1", "display_name": "gauravbhai daxini", "link": "https://stackoverflow.com/users/8607382/gauravbhai-daxini"}, "edited": false, "score": 0, "creation_date": 1523873516, "post_id": 49769969, "comment_id": 86723896, "body": "so you want print this in addnew function?"}, {"owner": {"reputation": 1477, "user_id": 8607382, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/r9vYE.jpg?s=128&g=1", "display_name": "gauravbhai daxini", "link": "https://stackoverflow.com/users/8607382/gauravbhai-daxini"}, "edited": false, "score": 0, "creation_date": 1523874905, "post_id": 49769969, "comment_id": 86724749, "body": "You can get count of field like below: console.log(this.serviceForm.value.service_extras.length+1);"}, {"owner": {"reputation": 1131, "user_id": 1929511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P7bIP.jpg?s=128&g=1", "display_name": "Sagar Guhe", "link": "https://stackoverflow.com/users/1929511/sagar-guhe"}, "edited": false, "score": 0, "creation_date": 1523875422, "post_id": 49769969, "comment_id": 86725080, "body": "This doesn&#39;t solve my issue, please read my edit 2."}, {"owner": {"reputation": 1477, "user_id": 8607382, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/r9vYE.jpg?s=128&g=1", "display_name": "gauravbhai daxini", "link": "https://stackoverflow.com/users/8607382/gauravbhai-daxini"}, "edited": false, "score": 0, "creation_date": 1523875928, "post_id": 49769969, "comment_id": 86725384, "body": "@SagarGuhe please check this link may be helpful to you: <a href=\"https://stackoverflow.com/questions/43520010/angular-4-form-formarray-add-a-button-to-add-or-delete-a-form-input-row\" title=\"angular 4 form formarray add a button to add or delete a form input row\">stackoverflow.com/questions/43520010/&hellip;</a>"}, {"owner": {"reputation": 1131, "user_id": 1929511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P7bIP.jpg?s=128&g=1", "display_name": "Sagar Guhe", "link": "https://stackoverflow.com/users/1929511/sagar-guhe"}, "reply_to_user": {"reputation": 1477, "user_id": 8607382, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/r9vYE.jpg?s=128&g=1", "display_name": "gauravbhai daxini", "link": "https://stackoverflow.com/users/8607382/gauravbhai-daxini"}, "edited": false, "score": 0, "creation_date": 1523876512, "post_id": 49769969, "comment_id": 86725739, "body": "@dgpoo buddy if you have seen my Stackblitz demo then you would know I have already achieved this..."}], "answers": [{"comments": [{"owner": {"reputation": 1131, "user_id": 1929511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P7bIP.jpg?s=128&g=1", "display_name": "Sagar Guhe", "link": "https://stackoverflow.com/users/1929511/sagar-guhe"}, "edited": false, "score": 0, "creation_date": 1523946717, "post_id": 49861767, "comment_id": 86757765, "body": "the solution is working for me, also the solution provided by @Yerkon is working fine. I am now confused which to mark as accepted and to which award a bounty. I really appreciate your valuable inputs"}, {"owner": {"reputation": 5936, "user_id": 8881420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pf80t.jpg?s=128&g=1", "display_name": "Pierre Mallet", "link": "https://stackoverflow.com/users/8881420/pierre-mallet"}, "reply_to_user": {"reputation": 1131, "user_id": 1929511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P7bIP.jpg?s=128&g=1", "display_name": "Sagar Guhe", "link": "https://stackoverflow.com/users/1929511/sagar-guhe"}, "edited": false, "score": 3, "creation_date": 1523947663, "post_id": 49861767, "comment_id": 86758254, "body": "Take yerkon&#39;s. \ud83d\ude0a"}], "tags": [], "owner": {"reputation": 5936, "user_id": 8881420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pf80t.jpg?s=128&g=1", "display_name": "Pierre Mallet", "link": "https://stackoverflow.com/users/8881420/pierre-mallet"}, "is_accepted": true, "score": 1, "last_activity_date": 1523894951, "creation_date": 1523894951, "answer_id": 49861767, "question_id": 49769969, "link": "https://stackoverflow.com/questions/49769969/angular5-4-populate-nested-reactiveform-using-api-call/49861767#49861767", "title": "Angular5/4+: Populate nested ReactiveForm using API call", "body": "<p>Here is a fix ( stackblitz <a href=\"https://stackblitz.com/edit/angular-mwys5m\" rel=\"nofollow noreferrer\">here</a> )</p>\n\n<p>Explanation of the problematic behavior : </p>\n\n<p>Your input is declared this way : </p>\n\n<pre><code>&lt;service-extra-form [serviceForm]=\"serviceForm\" [extraFormData]=\"serviceForm.value.service_extra\"&gt;&lt;/service-extra-form&gt;\n</code></pre>\n\n<p>So the input is the value of the form, not the value from the api.</p>\n\n<p>But as you populate your form after an async call to the api, the first value \"sent\" to  <code>ServiceExtraComponent</code> is <code>undefined</code> and in the <code>ServiceExtraComponent</code> <code>ngOnInit</code> you call</p>\n\n<pre><code>this.addNew();\nthis.extras.patchValue(data); \n</code></pre>\n\n<p>with <code>data = undefined</code></p>\n\n<p>It creates a new formGroup in the formArray, then patch with undefined.</p>\n\n<p>So when the API responds your form is already created with a formArray containing one item, so the <code>patchValue</code> truncate your service_extra array to match your form. </p>\n\n<p>A correction could be to bind the return of the API directly as <code>ServiceExtraComponent</code> <code>Input</code> aka : </p>\n\n<pre><code>&lt;service-extra-form [serviceForm]=\"serviceForm\" [extraFormData]=\"serviceFormData.service_extras\"&gt;&lt;/service-extra-form&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1131, "user_id": 1929511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P7bIP.jpg?s=128&g=1", "display_name": "Sagar Guhe", "link": "https://stackoverflow.com/users/1929511/sagar-guhe"}, "edited": false, "score": 0, "creation_date": 1523930345, "post_id": 49862116, "comment_id": 86752920, "body": "Thanks for the answer I will take a look at the answer and let you know."}, {"owner": {"reputation": 1131, "user_id": 1929511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P7bIP.jpg?s=128&g=1", "display_name": "Sagar Guhe", "link": "https://stackoverflow.com/users/1929511/sagar-guhe"}, "edited": false, "score": 0, "creation_date": 1523946597, "post_id": 49862116, "comment_id": 86757717, "body": "the solution is working for me, also the solution provided by @PierreMallet is working fine. I am now confused which to mark as accepted and to which award a bounty. Really appreciate your valuable inputs"}, {"owner": {"reputation": 3562, "user_id": 5677886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsmW.jpg?s=128&g=1", "display_name": "Yerkon", "link": "https://stackoverflow.com/users/5677886/yerkon"}, "reply_to_user": {"reputation": 1131, "user_id": 1929511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P7bIP.jpg?s=128&g=1", "display_name": "Sagar Guhe", "link": "https://stackoverflow.com/users/1929511/sagar-guhe"}, "edited": false, "score": 1, "creation_date": 1523951345, "post_id": 49862116, "comment_id": 86760330, "body": "@SagarGuhe, glad to help\u270c\ud83d\ude42"}], "tags": [], "owner": {"reputation": 3562, "user_id": 5677886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsmW.jpg?s=128&g=1", "display_name": "Yerkon", "link": "https://stackoverflow.com/users/5677886/yerkon"}, "is_accepted": false, "score": 2, "last_activity_date": 1523897272, "last_edit_date": 1523897272, "creation_date": 1523896192, "answer_id": 49862116, "question_id": 49769969, "link": "https://stackoverflow.com/questions/49769969/angular5-4-populate-nested-reactiveform-using-api-call/49862116#49862116", "title": "Angular5/4+: Populate nested ReactiveForm using API call", "body": "<p>In <code>service-form.component.html</code>, you bind <code>serviceForm.value.service_extras</code> property to   <code>extraFormData</code>. But before <code>service-extra-form</code> component initialized <code>serviceForm</code> doesn't have <strong>service_extras</strong> formArray. And after init. of  <code>service-extra-form</code> component, you call <code>addRow()</code> method which fill form with one row exactly:</p>\n\n<p><strong>service-extra.component.ts</strong>: </p>\n\n<pre><code> ngOnInit()\n  {\n    this.serviceForm.addControl('service_extras', new FormArray([]));    \n    this._extraFormData.subscribe(data =&gt; {\n      console.log('service_extra_data', data);\n      this.addNew();\n      this.extras.patchValue(data);\n    });\n\n  }\n</code></pre>\n\n<p><strong>service-form.component.html:</strong></p>\n\n<pre><code>&lt;service-extra-form [serviceForm]=\"serviceForm\" \n                    [extraFormData]=\"serviceForm.value.service_extras\"&gt;\n &lt;/service-extra-form&gt; \n</code></pre>\n\n<p>Passing [serviceForm] to <code>service-extra-form</code> is sufficent. Why you pass <code>serviceForm.value.service_extras</code>, if you already pass <code>form</code>?</p>\n\n<h2>Fix, removing extra \u0441odes. Do the same with less code \ud83d\ude03</h2>\n\n<p><strong>ServiceExtraComponent</strong>:</p>\n\n<pre><code>export class ServiceExtraComponent implements OnInit {\n  @Input() serviceForm: FormGroup;\n  @Input() extraFormData: ServiceExtra[];\n\n  public extrasForm: FormGroup;\n\n  constructor(private fb: FormBuilder) { }\n\n ngOnChanges(data) {\n    //console.log('ngOnChanges', data);\n\n    // if changes only extraFormData\n    if (data.extraFormData) {\n      this.extras.setValue([]); // reset\n      let newExtraArr = data.extraFormData.currentValue;\n\n      for (let i = 0; i &lt; newExtraArr.length; i++) {\n        this.addNew();\n        this.extras.patchValue(newExtraArr);\n      }\n    }\n  } \n\n  ngOnInit() {\n    this.serviceForm.addControl('service_extras', new FormArray([]));\n  }\n</code></pre>\n\n<p><code>@Input() extraFormData: ServiceExtra[];</code> here pass <code>extra_data</code> from <strong>api</strong> and on <code>ngOnChanges</code> lyfecycle hook, resetting serviceForm's <code>service_extras</code> <code>formArray</code></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-populate-nested-reactiveform-using-api-call\" rel=\"nofollow noreferrer\">StackBlitz Demo</a></p>\n"}], "owner": {"reputation": 1131, "user_id": 1929511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P7bIP.jpg?s=128&g=1", "display_name": "Sagar Guhe", "link": "https://stackoverflow.com/users/1929511/sagar-guhe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 3, "accepted_answer_id": 49861767, "answer_count": 2, "score": 1, "last_activity_date": 1523897272, "creation_date": 1523434677, "last_edit_date": 1523876763, "question_id": 49769969, "link": "https://stackoverflow.com/questions/49769969/angular5-4-populate-nested-reactiveform-using-api-call", "title": "Angular5/4+: Populate nested ReactiveForm using API call", "body": "<p>I am trying to populate nested <code>ReactiveForm</code> which is split into several child form components. Once the API request is completed I am able to populate parent form but cannot loop child <code>FormArray</code> exactly to the count of child data. Below are the snippets from my code:</p>\n\n<p><strong>Edit View: edit.component.ts</strong></p>\n\n<pre><code>@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.scss']\n})\nexport class EditComponent implements OnInit {\n\n  public data: Service = new Service({\n            id: '',\n            title: '',\n            description: '',\n            service_extras: []\n        });    \n  public routeParams: any = {};    \n  constructor ( \n    private route: ActivatedRoute,\n    private service: ServicesService\n  ) { }\n\n  ngOnInit() {\n    this.setRouteParams();\n  }\n\n  setRouteParams() {\n    this.route.params.subscribe(params =&gt; {\n        this.routeParams = params;\n      // getting services using api call\n        this.getService(this.routeParams);\n    });\n  }\n\n  getService(params) {\n    this.service\n    .getService(params.id)\n    .subscribe((service: Service) =&gt; {\n        this.data = service;\n    });\n  }\n\n}\n</code></pre>\n\n<p>I am requesting data in base <code>edit.component.ts</code> component and passing the data received to the parent form component which is child of <code>EditComponent</code></p>\n\n<p><strong>edit.component.html</strong></p>\n\n<pre><code>&lt;service-form [serviceFormData]=\"data\"&gt;&lt;/service-form&gt;\n</code></pre>\n\n<p><strong>service-form.component.ts</strong></p>\n\n<pre><code>@Component({\n    selector: 'service-form',\n    templateUrl: './service-form.component.html',\n    styleUrls: ['./service-form.component.scss']\n})\nexport class ServiceFormComponent implements OnInit {\n\n    private _serviceFormData = new BehaviorSubject&lt;Service&gt;(null);    \n    @Input()\n    set serviceFormData(value) {\n        this._serviceFormData.next(value);\n    }        \n    get serviceFormData() {\n        return this._serviceFormData.getValue();\n    }    \n    public service: Service;\n    public serviceForm: FormGroup;\n\n    constructor(\n        private fb: FormBuilder\n    ) { }\n\n    ngOnInit() {    \n        this.serviceForm = this.toFormGroup();\n        this._serviceFormData.subscribe(data =&gt; {\n            this.serviceForm.patchValue(data);\n        });\n    }\n\n    private toFormGroup(): FormGroup {           \n        const formGroup = this.fb.group({\n            id: [ '' ],\n            title: [ '' ],\n            description: [ '' ]\n        });    \n        return formGroup;\n    }\n}\n</code></pre>\n\n<p>I have here receiving data with the help of <code>@Input</code> var by subscribing to its changes and then patching value to the form, now everything works fine upto this as all the fields gets filled once the data is received. Problem is here below:</p>\n\n<p><strong>service-extra.component.ts</strong></p>\n\n<pre><code>@Component({\n  selector: 'service-extra-form',\n  templateUrl: './service-extra.component.html',\n  styleUrls: ['./service-extra.component.scss']\n})\nexport class ServiceExtraComponent implements OnInit {    \n  private _extraFormData = new BehaviorSubject&lt;ServiceExtra[]&gt;([]);\n\n  @Input() serviceForm: FormGroup;    \n  @Input() \n  set extraFormData(value: ServiceExtra[]) {\n    this._extraFormData.next(value);\n  }    \n  get extraFormData() {\n    return this._extraFormData.getValue();\n  }\n\n  public extrasForm: FormGroup;\n\n  constructor(private fb: FormBuilder) { }\n\n  ngOnInit()\n  {\n    this.serviceForm.addControl('service_extras', new FormArray([]));    \n    this._extraFormData.subscribe(data =&gt; {\n      this.addNew();\n      this.extras.patchValue(data);\n    });\n\n  }\n\n  private toFormGroup()\n  {\n    const formGroup = this.fb.group({\n      id: [''],\n      service_id: [''],\n      title: ['']\n    });    \n    return formGroup;\n  }\n\n  public addNew()\n  {\n    this.extrasForm = this.toFormGroup();        (&lt;FormArray&gt;this.serviceForm.controls.service_extras).push(this.extrasForm);\n  }\n\n  public removeThis(i: number)\n  {\n    (&lt;FormArray&gt;this.serviceForm.controls.service_extras).removeAt(i);\n  }\n\n\n  get extras(): FormArray {\n     return this.serviceForm.get('service_extras') as FormArray;\n  }\n\n}\n</code></pre>\n\n<p>Above <code>ngOnInit</code> code does nothing but adds the single extras form (even if there are two records) and populate that form, this case is same even if I remove subscribe part and only use <code>this.addNew()</code>. How do I know how many records are there for <code>ServiceExtras</code> so that I can add that much <code>FormGroups</code> to <code>FormArray</code>.</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>Stackblitz <a href=\"https://stackblitz.com/edit/angular-gqzcov\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p><strong>Edit 2</strong></p>\n\n<p>Issue is if there are two records coming from API for service extra then I am not able to generate two <code>FormGroups</code> and populate them with data, Because at the time of rendering I cannot detect how many records are coming for service extras from API.</p>\n"}, {"tags": ["typescript", "dictionary", "vector", "openlayers", "topojson"], "comments": [{"owner": {"reputation": 4332, "user_id": 304179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50ff1a6bb356c8f162acb27f393800f6?s=128&d=identicon&r=PG", "display_name": "dube", "link": "https://stackoverflow.com/users/304179/dube"}, "edited": false, "score": 0, "creation_date": 1523818206, "post_id": 49769770, "comment_id": 86706057, "body": "If the features are there but you cannot see them, it is most likely a styling issue. Try using the default style or check that you actually set the correct style types."}, {"owner": {"reputation": 74, "user_id": 6097468, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zIJhdg1lJ2Y/AAAAAAAAAAI/AAAAAAAAABI/4DL_z384Bs0/photo.jpg?sz=128", "display_name": "Peter Andreus", "link": "https://stackoverflow.com/users/6097468/peter-andreus"}, "reply_to_user": {"reputation": 4332, "user_id": 304179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50ff1a6bb356c8f162acb27f393800f6?s=128&d=identicon&r=PG", "display_name": "dube", "link": "https://stackoverflow.com/users/304179/dube"}, "edited": false, "score": 0, "creation_date": 1523960635, "post_id": 49769770, "comment_id": 86766580, "body": "through the time i tried that, but it wasnt styling issue. It looks like issue with loader part in source, because if i use url instead of loader it works fine. Hovewer i need some refactoring of feature in loader, so url doesnt suits me"}, {"owner": {"reputation": 4332, "user_id": 304179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50ff1a6bb356c8f162acb27f393800f6?s=128&d=identicon&r=PG", "display_name": "dube", "link": "https://stackoverflow.com/users/304179/dube"}, "edited": false, "score": 0, "creation_date": 1523961087, "post_id": 49769770, "comment_id": 86766878, "body": "I don&#39;t see any obvious mistakes. Maybe it&#39;s just a data problem, e.g. wrong projection or inverted coordinates. Anyway, we would need a minimal runnable example to help you."}], "owner": {"reputation": 74, "user_id": 6097468, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zIJhdg1lJ2Y/AAAAAAAAAAI/AAAAAAAAABI/4DL_z384Bs0/photo.jpg?sz=128", "display_name": "Peter Andreus", "link": "https://stackoverflow.com/users/6097468/peter-andreus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 572, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523434107, "creation_date": 1523434107, "question_id": 49769770, "link": "https://stackoverflow.com/questions/49769770/openlayers-4-wont-display-vector-layer", "title": "OpenLayers 4 wont display vector layer", "body": "<p>Im porting my map game from OpenLayers 3 and Dojo to Angular and OpenLayers 4. However map doesnt show any vector data i fill to vector layer through ol.format.TopoJSON</p>\n\n<p>Map:</p>\n\n<pre><code>this.map = new ol.Map({\n  layers: [\n    this.vectorLayer,\n  ],\n  view: new ol.View({\n    center: ol.proj.fromLonLat([19, 48]),\n    extent: [-9999999999, -20920774, 99999999999, 18800987],\n    zoom: 5,\n    maxZoom: 11,\n    minZoom: 3\n  })\n});\n</code></pre>\n\n<p>Vector Layer:</p>\n\n<pre><code>this.vectorLayer = new ol.layer.Vector({\n  updateWhileAnimating: true,\n  updateWhileInteracting: true,\n  source: new ol.source.Vector({\n    loader: function () {\n      http.get(topoJsonUrl)\n        .subscribe(data =&gt; self.setupData(data));\n    }\n  }),\n  style: function (feature) {\n    return self.fillCountry(true);\n  }\n});\n</code></pre>\n\n<p>Data preparation:</p>\n\n<pre><code>setupData(data): void {\n  let features = this.dataFormat.readFeatures(data);\n  this.vectorLayer.getSource().addFeatures(features);  \n}\n\ndataFormat = new ol.format.TopoJSON({defaultDataProjection: 'EPSG:3857'});\n\nfillCountry(simple): any {\n  let color = 'rgba(255, 255, 255, 0.2)';\n  let stroke = 'rgba(255,255,255, 1)';\n  if (simple) {\n    color = '#FFF8E1';\n    stroke = 'rgba(0,0,0, 1)';\n  }\n  const s = new ol.style.Style({\n    fill: new ol.style.Fill({\n      color: color\n    }),\n    stroke: new ol.style.Stroke({\n      color: stroke,\n      width: 0.4\n    })\n  });\n  return s;\n}\n</code></pre>\n\n<p>Map get its target in <code>ngOnInit()</code> .</p>\n\n<p>When i try to add sample source like </p>\n\n<pre><code>this.vectorSource = new ol.source.Vector({\n  url: 'https://openlayers.org/en/v4.6.5/examples/data/geojson/countries.geojson',\n  format: new ol.format.GeoJSON()\n});\n</code></pre>\n\n<p>map works fine.\nAlso when i look for my features from TopoJSON in source after map is loaded with debug console <code>this.map.getLayers().getArray()[0].getSource().getFeatures()</code> i see all features loaded (so it appears they are corrected loaded and parsed), but cannot see anything in view.</p>\n\n<p>Thought it might be problem with asynchronous data loading, but features are added to vector layer through <code>addFeatures()</code> so i assume its correct approach.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523434663, "post_id": 49769844, "comment_id": 86554761, "body": "I have placed <code>this.loadComponent</code> in an <code>ngAfterViewInit</code> and I still get the exact same error."}, {"owner": {"reputation": 3784, "user_id": 6182569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/595afc3cb368ac51e5643e7e71dfdb4d?s=128&d=identicon&r=PG", "display_name": "Mihailo", "link": "https://stackoverflow.com/users/6182569/mihailo"}, "reply_to_user": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523434945, "post_id": 49769844, "comment_id": 86554925, "body": "@LuukWuijster Have you tried setting the default: <code>@ViewChild(ChecklistDirective) appHost = new ChecklistDirective();</code>"}, {"owner": {"reputation": 244, "user_id": 1556903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HsKFr.jpg?s=128&g=1", "display_name": "Du\u0161an Stankovi\u0107", "link": "https://stackoverflow.com/users/1556903/du%c5%a1an-stankovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1523435647, "post_id": 49769844, "comment_id": 86555374, "body": "AfterViewInit should work, I tried in my project very similar structure and it works.  Just be sure to implement apropriate interface.  <code>export class ChecklistComponent implements AfterViewInit</code>"}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "reply_to_user": {"reputation": 244, "user_id": 1556903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HsKFr.jpg?s=128&g=1", "display_name": "Du\u0161an Stankovi\u0107", "link": "https://stackoverflow.com/users/1556903/du%c5%a1an-stankovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1523435928, "post_id": 49769844, "comment_id": 86555543, "body": "@Du\u0161anStankovi\u0107 This is my code now: <code>ngAfterViewInit() { this.loadComponent(); }</code> And yes I have implemented <code>AfterViewInit</code>"}, {"owner": {"reputation": 1287, "user_id": 3949174, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aaa2ac0c1317597afc42eaa1177d10e1?s=128&d=identicon&r=PG", "display_name": "Osman Cea", "link": "https://stackoverflow.com/users/3949174/osman-cea"}, "edited": false, "score": 0, "creation_date": 1523438923, "post_id": 49769844, "comment_id": 86557662, "body": "My guess then is that your <code>#modalTemplate</code> is not being rendered yet"}], "tags": [], "owner": {"reputation": 1287, "user_id": 3949174, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aaa2ac0c1317597afc42eaa1177d10e1?s=128&d=identicon&r=PG", "display_name": "Osman Cea", "link": "https://stackoverflow.com/users/3949174/osman-cea"}, "is_accepted": false, "score": 2, "last_activity_date": 1523434360, "creation_date": 1523434360, "answer_id": 49769844, "question_id": 49769750, "link": "https://stackoverflow.com/questions/49769750/angular-5-dynamic-component-loader-cannot-read-property-viewcontainerref-o/49769844#49769844", "title": "Angular 5 - Dynamic component loader - Cannot read property &#39;viewContainerRef&#39; of undefined", "body": "<p><code>@ViewChild()</code> decorated properties will only be available after <code>ngAfterViewInit</code> lifecycle hook and you're calling your load component function on <code>ngOnInit</code>, which happens to execute before your <code>@ViewChild()</code> is available.  </p>\n"}, {"comments": [{"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523438239, "post_id": 49770986, "comment_id": 86557176, "body": "Okay... I understand the problem now, but I still have no Idea how I can solve it..."}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "reply_to_user": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523438792, "post_id": 49770986, "comment_id": 86557586, "body": "it depends on how you want to use your component. what is the purpose of the outer <code>ng-template</code>? I assume you want to display your component in a modal dialog?"}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523439126, "post_id": 49770986, "comment_id": 86557812, "body": "Correct. I have a modal dialog and in it I want to dynamic load multiple components."}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "reply_to_user": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523440172, "post_id": 49770986, "comment_id": 86558565, "body": "I updated my answer, hope it helps. I don&#39;t know if <code>AfterViewInit</code> is too late for your case or not (see <a href=\"https://angular.io/guide/lifecycle-hooks\" rel=\"nofollow noreferrer\">angular.io/guide/lifecycle-hooks</a> for other possibilites)"}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523440839, "post_id": 49770986, "comment_id": 86559070, "body": "While I do not get any errors anymore it also still does not load."}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523441061, "post_id": 49770986, "comment_id": 86559236, "body": "And I appears to load something, because when I place a <code>console.log</code> in the <code>ngOnInit</code> of my <code>ChecklistMainComponent</code> it does log. Its just not showing it I suppose"}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "reply_to_user": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523445363, "post_id": 49770986, "comment_id": 86562110, "body": "is <code>ChecklistMainComponent </code> your parent component?"}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523445584, "post_id": 49770986, "comment_id": 86562262, "body": "No, thats the component I want to load in the modal"}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "reply_to_user": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523451144, "post_id": 49770986, "comment_id": 86566211, "body": "could you add the code and markup for <code>ChecklistMainComponent</code>?"}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523457777, "post_id": 49770986, "comment_id": 86571261, "body": "Okay, this is really weird. I just noticed that it is loading it, but just not in the modal. It&#39;s placing the HTML of the modal just on the page..."}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523458270, "post_id": 49770986, "comment_id": 86571655, "body": "This is what happens right now: <a href=\"https://gyazo.com/e0fe1bc3047f4dd7330d88700497d253\" rel=\"nofollow noreferrer\">gyazo.com/e0fe1bc3047f4dd7330d88700497d253</a>"}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "reply_to_user": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523514954, "post_id": 49770986, "comment_id": 86593977, "body": "is it just displayed outside of the modal (could be a css issue) or also rendered outside the modal (in the dom)?"}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523515155, "post_id": 49770986, "comment_id": 86594091, "body": "I don&#39;t think it&#39;s a css issue. The whole modal is just placed on the page as you can see in the gyazo. The Part you see below is what should be a modal"}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "reply_to_user": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523515545, "post_id": 49770986, "comment_id": 86594308, "body": "I see that but where is it inserted into the DOM?"}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523515723, "post_id": 49770986, "comment_id": 86594406, "body": "The background you see is the <code>task-table.component.html</code> at the bottom of the html I have this: <code>&lt;app-checklist #appChecklist&gt;&lt;&#47;app-checklist&gt;</code> and it gets just <i>below</i> that rule inserted"}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "reply_to_user": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523519576, "post_id": 49770986, "comment_id": 86596544, "body": "you are experiencing the following behavior -&gt; <a href=\"https://github.com/angular/angular/issues/9035\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/9035</a>  Maybe you could work around that by using <code>ng-container</code> or a simple div and use <code>*ngIf</code> to toggle its rendering.  Maybe there are even better/cleaner ways, I have no knowledge of"}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523520496, "post_id": 49770986, "comment_id": 86597056, "body": "<code>ng-container</code> does not work, and I do not want to use <code>*ngIf</code> to toggle components."}, {"owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "edited": false, "score": 0, "creation_date": 1523521218, "post_id": 49770986, "comment_id": 86597461, "body": "I have opened a new question and I will accept this answer because it did solve the initial problem. This is the new question: <a href=\"https://stackoverflow.com/questions/49791210/angular-5-dynamic-component-loading-component-placed-outside-of-ng-template\" title=\"angular 5 dynamic component loading component placed outside of ng template\">stackoverflow.com/questions/49791210/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "is_accepted": true, "score": 2, "last_activity_date": 1523440026, "last_edit_date": 1523440026, "creation_date": 1523437719, "answer_id": 49770986, "question_id": 49769750, "link": "https://stackoverflow.com/questions/49769750/angular-5-dynamic-component-loader-cannot-read-property-viewcontainerref-o/49770986#49770986", "title": "Angular 5 - Dynamic component loader - Cannot read property &#39;viewContainerRef&#39; of undefined", "body": "<p>you are using <code>ng-template</code> (<code>&lt;ng-template #modalElement let-c=\"close\" let-d=\"dismiss\"&gt;</code>) which will not be rendered until you tell angular to do so.\nthis means the second/nested <code>ng-template</code> which uses the directive is never rendered because the outer <code>ng-template</code> is not rendered.</p>\n\n<p>Have a look at <a href=\"https://stackblitz.com/edit/angular-tjr4uq\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-tjr4uq</a> \nif you remove the code in <code>ngOnInit</code> you'll see that a) nothing within the outer <code>ng-template</code>  is rendered and b) <code>element</code> will be undefined in <code>ngAfterViewInit</code></p>\n\n<p>EDIT (maybe try that):</p>\n\n<pre><code>import {\n  AfterViewInit, ViewContainerRef, Component, ComponentFactoryResolver, Input, OnInit, ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport { ChecklistDirective } from \"./checklist.directive\";\nimport { ChecklistMainComponent } from \"./checklist-main/checklist-main.component\";\n\n@Component({\n  selector: 'app-checklist',\n  templateUrl: './checklist.component.html',\n  styleUrls: ['./checklist.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ChecklistComponent implements OnInit {\n\n  @ViewChild('modalElement') modalElement;\n  @ViewChild(ChecklistDirective) appHost: ChecklistDirective;\n\n  constructor(private vc: ViewContainerRef, private componentFactoryResolver: ComponentFactoryResolver) {\n  }\n\n  ngOnInit() {\n    this.vc.createEmbeddedView(this.modalElement);\n  }\n\n  ngAfterViewInit() {\n    this.loadComponent();\n  }\n\n  loadComponent() {\n\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(ChecklistMainComponent);\n    const viewContainerRef = this.appHost.viewContainerRef;\n    viewContainerRef.clear();\n    const componentRef = viewContainerRef.createComponent(componentFactory);\n\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 5586, "user_id": 7267640, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oBhYX.jpg?s=128&g=1", "display_name": "Luuk Wuijster", "link": "https://stackoverflow.com/users/7267640/luuk-wuijster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3902, "favorite_count": 0, "accepted_answer_id": 49770986, "answer_count": 2, "score": 3, "last_activity_date": 1523451784, "creation_date": 1523434045, "last_edit_date": 1523451784, "question_id": 49769750, "link": "https://stackoverflow.com/questions/49769750/angular-5-dynamic-component-loader-cannot-read-property-viewcontainerref-o", "title": "Angular 5 - Dynamic component loader - Cannot read property &#39;viewContainerRef&#39; of undefined", "body": "<p>I am trying to make the dynamically load components in Angular 5. I use the <a href=\"https://angular.io/guide/dynamic-component-loader\" rel=\"nofollow noreferrer\">Angular Guide</a> for this, but I am stuck now. The thing is; I get the following error:</p>\n\n<blockquote>\n  <p>ERROR TypeError: Cannot read property 'viewContainerRef' of undefined</p>\n</blockquote>\n\n<p>The error is in my <code>ChecklistComponent</code> at</p>\n\n<pre><code>const viewContainerRef = this.appHost.viewContainerRef;\n</code></pre>\n\n<p>For some reason <code>appHost</code> is undefined and I have no idea why.</p>\n\n<p>Here is the rest of my code:</p>\n\n<p><strong>checklist.component.ts</strong></p>\n\n<pre><code>import {\n    AfterViewInit, Component, ComponentFactoryResolver, Input, OnInit, ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport {ChecklistDirective} from \"./checklist.directive\";\nimport {ChecklistMainComponent} from \"./checklist-main/checklist-main.component\";\n\n@Component({\n    selector: 'app-checklist',\n    templateUrl: './checklist.component.html',\n    styleUrls: ['./checklist.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class ChecklistComponent implements OnInit {\n\n    @ViewChild('modalElement') modalElement;\n    @ViewChild(ChecklistDirective) appHost: ChecklistDirective;\n\n    constructor(private componentFactoryResolver: ComponentFactoryResolver) {\n    }\n\n    ngOnInit() {\n        this.loadComponent();\n    }\n\n    loadComponent() {\n\n        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(ChecklistMainComponent);\n        const viewContainerRef = this.appHost.viewContainerRef;\n        viewContainerRef.clear();\n        const componentRef = viewContainerRef.createComponent(componentFactory);\n\n    }\n\n}\n</code></pre>\n\n<p><strong>checklist.component.html</strong></p>\n\n<pre><code>&lt;ng-template #modalElement let-c=\"close\" let-d=\"dismiss\"&gt;\n    &lt;div class=\"modal-header\"&gt;\n        &lt;h4 class=\"modal-title\"&gt;{{ 'Checklist'| translate }}&lt;/h4&gt;\n        &lt;button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"d('Cross click')\"&gt;\n            &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-body\"&gt;\n        &lt;ng-template appHost&gt;&lt;/ng-template&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-footer\"&gt;\n        &lt;button type=\"button\" class=\"btn btn-default\" (click)=\"c('Close click')\"&gt;{{ 'Close'| translate }}&lt;/button&gt;\n        &lt;button type=\"button\" class=\"btn btn-primary\" (click)=\"onConfirm($event)\"&gt;{{ 'Confirm'| translate }}&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p><strong>checklist.directive.ts</strong></p>\n\n<pre><code>import {Directive, ViewContainerRef} from '@angular/core';\n\n@Directive({\n  selector: '[appHost]'\n})\nexport class ChecklistDirective {\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n\n}\n</code></pre>\n\n<p><strong>checklist.module.ts</strong></p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ChecklistComponent } from './checklist.component';\nimport {DirectivesModule} from '../../theme/directives/directives.module';\nimport {TranslateModule} from '@ngx-translate/core';\nimport {AppCommonPipesModule} from '../../pipes/common.pipes.module';\nimport {SharedTaskModule} from '../task/shared.task.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DirectivesModule,\n    SharedTaskModule,\n    TranslateModule,\n    AppCommonPipesModule,\n  ],\n  declarations: [\n    ChecklistComponent\n  ]\n})\nexport class ChecklistModule { }\n</code></pre>\n\n<p><strong>shared.checklist.module.ts</strong></p>\n\n<pre><code>import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {PerfectScrollbarModule} from 'ngx-perfect-scrollbar';\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {FormModule} from '../../components/form/form.module';\nimport { MultiselectDropdownModule } from 'angular-2-dropdown-multiselect';\nimport {DirectivesModule} from '../../theme/directives/directives.module';\nimport { OwlDateTimeModule, OwlNativeDateTimeModule } from 'ng-pick-datetime';\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport {SharedModalModule} from '../../components/model/shared.modal.module';\nimport {AppCommonPipesModule} from '../../pipes/common.pipes.module';\nimport {SharedDirectiveModule} from '../../directives/shared.directive.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport {ChecklistComponent} from \"./checklist.component\";\nimport {ChecklistMainComponent} from \"./checklist-main/checklist-main.component\";\nimport {ChecklistViewComponent} from \"./checklist-view/checklist-view.component\";\nimport {ChecklistMutateComponent} from \"./checklist-mutate/checklist-mutate.component\";\nimport {ChecklistDirective} from \"./checklist.directive\";\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PerfectScrollbarModule,\n        NgxDatatableModule,\n        FormsModule,\n        FormModule,\n        ReactiveFormsModule,\n        MultiselectDropdownModule,\n        DirectivesModule,\n        OwlDateTimeModule,\n        OwlNativeDateTimeModule,\n        NgbModule,\n        SharedModalModule,\n        TranslateModule,\n        AppCommonPipesModule,\n        SharedDirectiveModule\n    ],\n    declarations: [\n        ChecklistComponent,\n        ChecklistMainComponent,\n        ChecklistViewComponent,\n        ChecklistMutateComponent,\n        ChecklistDirective\n    ],\n    exports: [\n        ChecklistComponent,\n        ChecklistMainComponent,\n        ChecklistViewComponent,\n        ChecklistMutateComponent,\n        ChecklistDirective\n    ],\n    entryComponents: [ChecklistMainComponent]\n})\n\nexport class SharedChecklistModule {\n}\n</code></pre>\n\n<p><strong>checklist-main.component.ts</strong></p>\n\n<pre><code>import {Component, EventEmitter, Input, OnInit, Output, ViewChild, ViewEncapsulation} from '@angular/core';\nimport {\n    CollectionHttpRequestOptions, CollectionHttpResponse,\n    OrderByRequestOptions\n} from '../../../services/http.service';\nimport {ChecklistModel} from '../../../models/checklist.models';\nimport {ChecklistService} from '../../../services/checklist.service';\n\n@Component({\n    selector: 'app-checklist-main',\n    templateUrl: './checklist-main.component.html',\n    styleUrls: ['./checklist-main.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class ChecklistMainComponent implements OnInit {\n\n    isLoading = false;\n    tableInfo: any = {offset: 0, limit: 10};\n    collectionRequestModel = new CollectionHttpRequestOptions();\n    collectionResponseModel = new CollectionHttpResponse&lt;ChecklistModel&gt;();\n\n    @ViewChild('myTable') table: any;\n    @Input() formData: ChecklistModel = new ChecklistModel();\n    @Output() activate = new EventEmitter();\n\n    constructor(private checklistService: ChecklistService) {}\n\n    ngOnInit() {\n        this.setPage(this.tableInfo);\n    }\n\n    public onSearch(event) {\n        this.collectionRequestModel.page = 1;\n        this.collectionRequestModel.search = event.target.value;\n        this.load();\n    }\n\n    load() {\n        this.isLoading = true;\n        this.checklistService.getCollection(this.collectionRequestModel).subscribe(response =&gt; {\n            this.collectionResponseModel = response;\n            this.isLoading = false;\n        });\n    }\n\n    onActivate(event) {\n        this.activate.emit(event);\n\n        if (event.type === \"click\") {\n            this.loadChecklist(event);\n        }\n    }\n\n    setPage(pageInfo: any) {\n        this.collectionRequestModel.page = (pageInfo.offset + 1);\n        this.collectionRequestModel.itemsPerPage = pageInfo.limit;\n        this.load();\n    }\n\n    onSort(event: any) {\n        const sort = event.sorts[0];\n        const orderBy = new OrderByRequestOptions();\n        orderBy.key = sort.prop;\n        orderBy.direction = sort.dir.toUpperCase();\n\n        this.collectionRequestModel.orderBy = [orderBy];\n\n        this.load();\n    }\n\n    loadChecklist(event) {\n        console.log(\"Yay\");\n    }\n\n}\n</code></pre>\n\n<p><strong>checklist-main.component.html</strong></p>\n\n<pre><code>&lt;div class=\"header\"&gt;\n    &lt;button class=\"btn btn-outline-success new-checklist-btn\"&gt;{{ 'New Checklist'| translate }}&lt;/button&gt;\n&lt;/div&gt;\n\n&lt;div class=\"body\"&gt;\n    &lt;h5&gt;Current Checklists&lt;/h5&gt;\n\n    &lt;ngx-datatable #myTable class=\"material\" [rows]=\"collectionResponseModel.items\" [columnMode]=\"'force'\"\n                   [headerHeight]=\"50\"\n                   [footerHeight]=\"50\" [rowHeight]=\"'fixed'\" [externalPaging]=\"true\"\n                   [count]=\"collectionResponseModel.totalCount\" [offset]=\"tableInfo.offset\"\n                   [limit]=\"tableInfo.limit\" [loadingIndicator]=\"isLoading\" (activate)=\"onActivate($event)\"\n                   (page)='setPage($event)' (sort)='onSort($event)'&gt;\n\n        &lt;ngx-datatable-column name=\"Naam\" prop=\"name\" [flexGrow]=\"1\"&gt;\n            &lt;ng-template let-row=\"row\" let-value=\"value\" ngx-datatable-cell-template&gt;\n                {{value}}\n            &lt;/ng-template&gt;\n        &lt;/ngx-datatable-column&gt;\n\n    &lt;/ngx-datatable&gt;\n\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 4739, "user_id": 264946, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/037534de70515727478cb707c28b6b5a?s=128&d=identicon&r=PG", "display_name": "Anshuman Jaiswal", "link": "https://stackoverflow.com/users/264946/anshuman-jaiswal"}, "is_accepted": false, "score": 1, "last_activity_date": 1523434275, "creation_date": 1523434275, "answer_id": 49769817, "question_id": 49769712, "link": "https://stackoverflow.com/questions/49769712/how-to-keep-the-checkbox-checked-if-it-has-been-already-checked-using-angular2/49769817#49769817", "title": "how to keep the checkbox checked if it has been already checked using Angular2", "body": "<p>You will have to add <code>checked</code> attribute.</p>\n\n<pre><code>&lt;td&gt;\n   &lt;input type=\"checkbox\" [checked]=\"pin.checked\" [(ngModel)]=\"pin.checked\" (change)=\"fav(pin)\" style=\"margin-top: 10px;\"&gt;\n&lt;/td&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "is_accepted": true, "score": 1, "last_activity_date": 1523445000, "creation_date": 1523445000, "answer_id": 49773562, "question_id": 49769712, "link": "https://stackoverflow.com/questions/49769712/how-to-keep-the-checkbox-checked-if-it-has-been-already-checked-using-angular2/49773562#49773562", "title": "how to keep the checkbox checked if it has been already checked using Angular2", "body": "<p>From your question you are sending <code>pin_id</code> as <code>data</code> to <code>api</code> so, you need to compare <code>pin_id</code> instead of <code>_id</code></p>\n\n<p>Here you are sending <code>pin_id</code>\nvar data = {\n      \"user_id\":user_id,\n      \"pin_id\":pin._id\n}</p>\n\n<p>So you should use,</p>\n\n<pre><code> if(favouratePins &amp;&amp; favouratePins.length &gt; 0) {\n    pins.data.map(function(pin) {\n      favouratePins.map(function(item) {\n       if(pin._id == item._id) {\n            pin.checked = true;\n        }\n       })\n      })            \n     }\n     this.pins = pins.data;\n }\n</code></pre>\n"}], "owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 49773562, "answer_count": 2, "score": 0, "last_activity_date": 1523445000, "creation_date": 1523433938, "last_edit_date": 1523444914, "question_id": 49769712, "link": "https://stackoverflow.com/questions/49769712/how-to-keep-the-checkbox-checked-if-it-has-been-already-checked-using-angular2", "title": "how to keep the checkbox checked if it has been already checked using Angular2", "body": "<p>I have a input checkbox field, when i <code>check</code> the box the functions work fine but after refresh the tick mark disappears in the box.\nSo can i get the tick mark be <code>true</code> if it has been already selected and the data saved in other page.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;td&gt;&lt;input type=\"checkbox\" [(ngModel)]=\"pin.checked\" (change)=\"fav(pin)\" style=\"margin-top: 10px;\"&gt;&lt;/td&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code>loadAllPins() {\n  var favouratePins = this.storage.favouratePins; \n  console.log(favouratePins);\n  this.ApiService\n      .getAllPins(this.guide_id)\n      .subscribe(\n        pins  =&gt; {\n          if(favouratePins &amp;&amp; favouratePins.length &gt; 0) {\n            pins.data.map(function(pin) {\n              favouratePins.map(function(item) {\n                if(pin._id == item._id) {\n                  pin.checked = true;\n                }\n              })\n            })            \n          }\n          this.pins = pins.data;\n\n        },error =&gt; {\n          console.log(error);\n        });\n}\n</code></pre>\n\n<p>in the first page what all i have checked had been and saved in another page, so the items which have been stored already in another page contents needs to be marked checked in the first page </p>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "answers": [{"tags": [], "owner": {"reputation": 305, "user_id": 6693799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGaRW.jpg?s=128&g=1", "display_name": "Al Francis", "link": "https://stackoverflow.com/users/6693799/al-francis"}, "is_accepted": false, "score": 0, "last_activity_date": 1543895316, "creation_date": 1543895316, "answer_id": 53605409, "question_id": 49769598, "link": "https://stackoverflow.com/questions/49769598/ionic-3-otp-autoverfication/53605409#53605409", "title": "Ionic 3 otp autoverfication", "body": "<p>I will give you and idea which hows auto otp verifications. Sometimes it will use for forgot password</p>\n\n<pre><code>Pre requisites:\n\n 1. Backend Server\n 2. SMS Server\n 3. Ionic app\n 4. Idea on REST API\n</code></pre>\n\n<p>You can setup two restapi url which triggered the backend to send the SMS OTP heres my example</p>\n\n<pre><code> 1. /sendOtp - backend api which ionic call to send the OTP\n\n  ionic app -&gt; sendOTP api -&gt; SMS server -&gt; ionic app.\n\n  a. ionic app : send info like phone number, type ex. reset-password and generated reference code\n  b. sendOTP api :  it will generate a 6 digit otp and save in the database and send to SMS server\n  c. SMS server : it will send to phone number\n  d. ionic app : it will open otp page while waiting the OTP\n\n\n 2. /verifyOtp - backend api which verify the otp generated from backend and match to the database.\n\n  ionic app -&gt; verifyOtp api -&gt; SMS server -&gt; ionic app\n\n  a. ionic app : after receiving the otp digit i will send the otp with reference code to verifyOtp api\n  b. verifyOtp api : i will accept and check if will match in the database and generate temporary password\n  c. SMS Server : i will send the temporary password to the ionic app.\n  d. ionic app : you can prompt thank you page or redirect to change password\n</code></pre>\n\n<p>You can designed the api defends on what you need.</p>\n"}], "owner": {"reputation": 31, "user_id": 5624411, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3ab81ebce7c47ed9983155b8199f02cd?s=128&d=identicon&r=PG&f=1", "display_name": "sachin.g", "link": "https://stackoverflow.com/users/5624411/sachin-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 387, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543895316, "creation_date": 1523433533, "question_id": 49769598, "link": "https://stackoverflow.com/questions/49769598/ionic-3-otp-autoverfication", "title": "Ionic 3 otp autoverfication", "body": "<p>Hi I am working on a project that needs auto otp verification,Once the user enters phone no.I have checked on the internet,examples are there for ionic 1 angular 1.I need examples for ionic 3 with typescript.Please help me with some examples.</p>\n"}, {"tags": ["typescript", "exception-handling"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523433737, "post_id": 49769565, "comment_id": 86554208, "body": "<code>typeof</code> returns a string. I suggest you rethink your design. Hint: any design that would accommodate this in TypeScript would work equally well in JavaScript"}, {"owner": {"reputation": 447, "user_id": 9233940, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b721ca3ef99cccf342d918d8fee00095?s=128&d=identicon&r=PG&f=1", "display_name": "Niranjan", "link": "https://stackoverflow.com/users/9233940/niranjan"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523433961, "post_id": 49769565, "comment_id": 86554333, "body": "okay thanks. May I know is there any way to handle this condition?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523434192, "post_id": 49769565, "comment_id": 86554487, "body": "You can store an arbitrary string anywhere in your response and test it against whatever you want. Its fairly arbitrary however. You should, as much as possible, use http status codes (as you have already with 401) to delineate errors. Also, <i>please</i> remember that there is nothing TypeScript specific here, it is all about JavaScript."}], "answers": [{"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 1, "last_activity_date": 1523434780, "creation_date": 1523434780, "answer_id": 49770000, "question_id": 49769565, "link": "https://stackoverflow.com/questions/49769565/how-to-check-type-of-object-received-from-api-in-type-script/49770000#49770000", "title": "How to check type of object received from API in Type script?", "body": "<p>Your approach won't work.</p>\n\n<p>For starters, <code>typeof error</code> will most surely return <code>'object'</code> always, except if <code>error</code> is <code>undefined</code>. Then it will return <code>'undefined'</code>.</p>\n\n<p>You might be thinking of <code>instanceof</code>, that works more similarly to what you want: <code>(new Number(23)) instanceof Number</code> -> <code>true</code>.</p>\n\n<p>However, the problem is that if that <code>ErrorDTO</code> is an interface, then when transpiling the code the type information will disapperar (you can't use <code>instanceof</code> with an interface). You could declare it as class, but, if the object <code>error</code> is the result of parsing the JSON returned by a service (and I assume it is), then it will always be just a plain <code>object</code>. <code>instanceof</code>, after all, uses prototypes to determine whether an object is an instance of another. Every object that results from parsin JSON has <code>Object.prototype</code> as its prototype:</p>\n\n<p>You might have something like:</p>\n\n<pre><code>class ErrorDTO { ... }\n\n// in a service:\n(...).subscribe({ error: error =&gt; error as ErrorDTO});\n</code></pre>\n\n<p>That might work in TypeScript, but, if you do:</p>\n\n<pre><code>error instanceof ErrorDTO\n</code></pre>\n\n<p>You'll get <code>false</code>, because you're telling TypeScript that <code>error</code> is of type <code>ErrorDTO</code>, but the truth is that it isn't, even if it shares the same properties.</p>\n\n<p>My advice is that you determine your errors in another way. Maybe have your errors have a <code>errorCode</code> property in your backend, then, you can have an interface in your client code:</p>\n\n<pre><code>interface BaseError {\n    errorCode: number\n    status: number\n    // ... other props ...\n}\n</code></pre>\n\n<p>You could have other error interfaces derive from <code>BaseError</code>. Then, your <code>handleError</code> method would accept an object of type <code>BaseError</code>:</p>\n\n<pre><code>protected handleError(error: BaseError, continuation: () =&gt; Observable&lt;any&gt;) {\n    if (error.status === 401) {\n        ...\n    } else switch (error.errorCode) {\n          case XXX:\n             ...\n             break;\n          case YYY:\n             ...\n             break;\n    }\n}\n</code></pre>\n\n<p>Hope this helps you.</p>\n"}], "owner": {"reputation": 447, "user_id": 9233940, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b721ca3ef99cccf342d918d8fee00095?s=128&d=identicon&r=PG&f=1", "display_name": "Niranjan", "link": "https://stackoverflow.com/users/9233940/niranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 841, "favorite_count": 0, "accepted_answer_id": 49770000, "answer_count": 1, "score": 0, "last_activity_date": 1523434780, "creation_date": 1523433439, "question_id": 49769565, "link": "https://stackoverflow.com/questions/49769565/how-to-check-type-of-object-received-from-api-in-type-script", "title": "How to check type of object received from API in Type script?", "body": "<p>Hi I am developing web application in angular 2. I am working on exception handling mechanism. I have created one model which is same as object I will be receiving from server(ERROR DTO).</p>\n\n<p>Below is my code for error handler.</p>\n\n<pre><code>protected handleError(error, continuation: () =&gt; Observable&lt;any&gt;) {\n        if (error.status == 401) {\n            this.appContextService.redirectForLogin();\n        }\n        else if (typeof error == ErrorDTO) {\n            return Observable.throw(error);\n        }\n        else {\n\n            return Observable.throw(error);\n        }\n    }\n</code></pre>\n\n<p>APIs can throw objects other than my ErrorDTO also. I want to to handle this condition. The second else statement typeof error == ErrorDTO not working. Here I want to check whether error DTO I am getting is same type of ErrorDTO. This particular statement is throwing error Operator ==cannot be applied to types string andtype of error DTO. Can someone help me to fix this? Thanks. </p>\n"}, {"tags": ["angular", "typescript", "asynchronous", "subscription"], "comments": [{"owner": {"reputation": 1290, "user_id": 4078143, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3gRwU.jpg?s=128&g=1", "display_name": "mxr7350", "link": "https://stackoverflow.com/users/4078143/mxr7350"}, "edited": false, "score": 1, "creation_date": 1523433485, "post_id": 49769544, "comment_id": 86554081, "body": "You are missing error block"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8653311"}, "reply_to_user": {"reputation": 1290, "user_id": 4078143, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3gRwU.jpg?s=128&g=1", "display_name": "mxr7350", "link": "https://stackoverflow.com/users/4078143/mxr7350"}, "edited": false, "score": 0, "creation_date": 1523436375, "post_id": 49769544, "comment_id": 86555861, "body": "Thank you. I got it already @mxr7350"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8653311"}, "edited": false, "score": 0, "creation_date": 1523433568, "post_id": 49769571, "comment_id": 86554114, "body": "So you mean that part is still the error handling and I should do it in the third parameter?"}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "edited": false, "score": 1, "creation_date": 1523433584, "post_id": 49769571, "comment_id": 86554120, "body": "Yes I mean that."}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "edited": false, "score": 0, "creation_date": 1523433697, "post_id": 49769571, "comment_id": 86554192, "body": "Also if you do an http request, observable will be completed automatically, but if you use custom written observable, you need to complete it explicitly to let the third function work"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1523433456, "creation_date": 1523433456, "answer_id": 49769571, "question_id": 49769544, "link": "https://stackoverflow.com/questions/49769544/finish-parameter-in-angular-2-didnt-work/49769571#49769571", "title": "finish parameter in angular 2 didn&#39;t work", "body": "<p>This function </p>\n\n<pre><code>() =&gt; {\n    console.log('display');\n    this.displayClockDetail();\n}\n</code></pre>\n\n<p>will work only if the request is failed (some errors happen) and is not correctly handled before it.</p>\n\n<p>If you want a function to work when the observable is completed, you can pass as the third parameter to the <code>subscribe</code> function.</p>\n\n<pre><code>.subscibe(() =&gt; { ok }, () =&gt; { error }, () =&gt; { completed })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2910, "user_id": 6406090, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BeTM7ACdj74/AAAAAAAAAAI/AAAAAAAAACU/Kocil2RNr5M/photo.jpg?sz=128", "display_name": "yala ramesh", "link": "https://stackoverflow.com/users/6406090/yala-ramesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1523433999, "creation_date": 1523433999, "answer_id": 49769733, "question_id": 49769544, "link": "https://stackoverflow.com/questions/49769544/finish-parameter-in-angular-2-didnt-work/49769733#49769733", "title": "finish parameter in angular 2 didn&#39;t work", "body": "<p>Try something like this, after check in console what message displayed </p>\n\n<pre><code> this.attRecService.getAgendaData(moment(this.viewDate).format('YYYY-MM'))\n .subscribe((res: any) =&gt; {\n     if(res) {\n       for (let item of resp) {\n            if (item.schedule) {\n                for (let sched of item.schedule) {\n                    this.events.push({\n                        'start': new Date(moment(item.date).format('YYYY-MM-DD')),\n                        'title': sched.title \n                    });\n                }\n            }\n        }\n        console.log('display');\n      }\n }, (error?: any) =&gt; {\n     console.log('error');\n});\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8653311"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 49769571, "answer_count": 2, "score": 0, "last_activity_date": 1523433999, "creation_date": 1523433382, "question_id": 49769544, "link": "https://stackoverflow.com/questions/49769544/finish-parameter-in-angular-2-didnt-work", "title": "finish parameter in angular 2 didn&#39;t work", "body": "<p>I use subscribe to perform lines of codes after getting the result from API. Here are my codes</p>\n\n<pre><code>this.attRecService.getAgendaData(moment(this.viewDate).format('YYYY-MM')).subscribe(\n        resp =&gt; {\n            this.agendaData = resp;\n\n            for (let item of resp) {\n                if (item.schedule) {\n                    for (let sched of item.schedule) {\n                        this.events.push({\n                            'start': new Date(moment(item.date).format('YYYY-MM-DD')),\n                            'title': sched.title \n                        });\n                    }\n                }\n            }\n        },\n        () =&gt; {\n            console.log('display');\n            this.displayClockDetail();\n        }\n    );\n</code></pre>\n\n<p>But in the part where I tried to console log the word <strong><em>display</em></strong>, it seems like it won' t get into that parameter. What is wrong?</p>\n"}, {"tags": ["typescript", "scroll", "styles", "ionic3"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1523439854, "post_id": 49769403, "comment_id": 86558327, "body": "what is not happening? the change in color? or making it transparent again?"}, {"owner": {"reputation": 427, "user_id": 6574088, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/n8Chx.jpg?s=128&g=1", "display_name": "Midhunsai", "link": "https://stackoverflow.com/users/6574088/midhunsai"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1523441618, "post_id": 49769403, "comment_id": 86559617, "body": "both are not happening,it is not working, showing some error of <code>cannot append of string</code> @Suraj Rao"}], "owner": {"reputation": 427, "user_id": 6574088, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/n8Chx.jpg?s=128&g=1", "display_name": "Midhunsai", "link": "https://stackoverflow.com/users/6574088/midhunsai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543295552, "creation_date": 1523433007, "question_id": 49769403, "link": "https://stackoverflow.com/questions/49769403/append-color-to-ion-header-when-scrolltop-is-greater-than-40-in-ionic3", "title": "append color to ion-header when scrollTop is greater than 40 in ionic3", "body": "<p>iam trying to add a color to ion-header when the scrollTop is greater than 40, \n and again if i scrool to top is 0 then again my header wants to be transparent but it is not happening..</p>\n\n<p><strong>what i tried is</strong></p>\n\n<pre><code>import {DOCUMENT} from '@angular/platform-browser';\n\nexport class AboutTripPage {\n  constructor(){}\n\n    scrollHandler(event){\n    console.log(\"####SCROLL EVENT : \",event.scrollTop)\n    if(event.scrollTop &gt; 40){\n      let css = \".toolbar-background {background-color: #D3300E !important;}\";\n      this.document.body.innerHTML.append = this.document.body.innerHTML + \"&lt;div&gt;&lt;style&gt;\" + css + \"&lt;/style&gt;&lt;/div&gt;\";\n    }\n  }\n}\n</code></pre>\n\n<h2>my html</h2>\n\n<pre><code>&lt;ion-header no-border&gt;\n  &lt;ion-navbar transparent  class=\"cus-header\"&gt; // here i made the header transparent\n    &lt;ion-title &gt;My Trips&lt;/ion-title&gt;\n  &lt;/ion-navbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content  (ionScroll)=\"scrollHandler($event)\"&gt; // here if when i scroll then i want to add a different color and i again scrollTop is 0 again my header want to transparent \n\n&lt;/ion-content&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "typescript", "datepicker"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 9623552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e0a3e009781004cf71063facb9e0dc?s=128&d=identicon&r=PG&f=1", "display_name": "Silco", "link": "https://stackoverflow.com/users/9623552/silco"}, "edited": false, "score": 0, "creation_date": 1523434533, "post_id": 49769877, "comment_id": 86554695, "body": "I cannot use selectDate in options?"}, {"owner": {"reputation": 24, "user_id": 9629308, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/05dfd0e7cfd778c7abe526949bd91bdb?s=128&d=identicon&r=PG", "display_name": "phoedez", "link": "https://stackoverflow.com/users/9629308/phoedez"}, "reply_to_user": {"reputation": 59, "user_id": 9623552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e0a3e009781004cf71063facb9e0dc?s=128&d=identicon&r=PG&f=1", "display_name": "Silco", "link": "https://stackoverflow.com/users/9623552/silco"}, "edited": false, "score": 0, "creation_date": 1523437478, "post_id": 49769877, "comment_id": 86556630, "body": "In the documentation there isn&#39;t an option called selectDate."}, {"owner": {"reputation": 386, "user_id": 4481235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXGHE.png?s=128&g=1", "display_name": "jdme", "link": "https://stackoverflow.com/users/4481235/jdme"}, "edited": false, "score": 0, "creation_date": 1581558661, "post_id": 49769877, "comment_id": 106478638, "body": "comments from the future :D grabbed from Air Datepicker docs (<a href=\"http://t1m0n.name/air-datepicker/docs/#sub-section-51\" rel=\"nofollow noreferrer\">t1m0n.name/air-datepicker/docs/#sub-section-51</a>) <code>selectDate(date) dateDate|Array- JavaScript Date() , or array of dates.</code> usage: <a href=\"http://t1m0n.name/air-datepicker/docs/#example-custom-content\" rel=\"nofollow noreferrer\">t1m0n.name/air-datepicker/docs/#example-custom-content</a>"}], "tags": [], "owner": {"reputation": 24, "user_id": 9629308, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/05dfd0e7cfd778c7abe526949bd91bdb?s=128&d=identicon&r=PG", "display_name": "phoedez", "link": "https://stackoverflow.com/users/9629308/phoedez"}, "is_accepted": true, "score": 0, "last_activity_date": 1523434454, "creation_date": 1523434454, "answer_id": 49769877, "question_id": 49769346, "link": "https://stackoverflow.com/questions/49769346/set-default-date-air-datepicker/49769877#49769877", "title": "set default date air-datepicker", "body": "<p>As you can read in the documentation, selectDate is a function, so you must use it in this way:</p>\n\n<pre><code>leg_1_datepicker.selectDate(new Date(2018, 3, 11));\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 9623552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e0a3e009781004cf71063facb9e0dc?s=128&d=identicon&r=PG&f=1", "display_name": "Silco", "link": "https://stackoverflow.com/users/9623552/silco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3036, "favorite_count": 0, "accepted_answer_id": 49769877, "answer_count": 1, "score": 0, "last_activity_date": 1523434467, "creation_date": 1523432801, "last_edit_date": 1523434467, "question_id": 49769346, "link": "https://stackoverflow.com/questions/49769346/set-default-date-air-datepicker", "title": "set default date air-datepicker", "body": "<p>I am using <a href=\"http://t1m0n.name/air-datepicker/docs/\" rel=\"nofollow noreferrer\">air-datepicker inline</a>.</p>\n\n<p>I need to set the start date for it.</p>\n\n<p>Here is the script and how I am trying to do it.</p>\n\n<pre><code>export function load_datepickers_inline():void {\nconst search_legs_0_datepicker = $(\"#search_legs_0_datepicker\");\nconst leg_0_datepicker = $(\"#search_legs_0_datepicker\").datepicker({\n  language: gon.locale,\n  classes: 'inline-picker',\n  selectOtherMonths: true,\n  showOtherMonths: true,\n  changeMonth: true,\n  changeYear:true,\n  altField: '#search_legs_0_date',\n  selectDate: new Date(search_legs_0_datepicker.attr(\"data-defaultDate\")),\n  minDate: new Date(search_legs_0_datepicker.attr('data-mindate')),\n  maxDate: new Date(search_legs_0_datepicker.attr('data-maxdate')),\n  altFormat: 'yy-mm-dd',\n  onSelect: (dateText, inst) =&gt; {\n    const date = new Date(dateText);\n    if (!leg_0_datepicker) { return false; }\n    leg_1_datepicker.datepicker(\"option\", \"minDate\", date);\n    if ($(\"#search_legs_0_hotel_date\").length &gt; 0) {\n      $('#search_legs_0_hotel_date').datepicker().data('datepicker').update('minDate', date);\n      $('#search_legs_0_hotel_date').datepicker().data('datepicker').datepicker(\"setDate\", date);\n      $('#search_legs_1_hotel_date').datepicker().data('datepicker').update('minDate', date);\n    }\n  }\n})\n\nconst search_legs_1_datepicker = $(\"#search_legs_1_datepicker\");\nvar leg_1_datepicker = $(\"#search_legs_1_datepicker\").datepicker({\n  selectOtherMonths: true,\n  showOtherMonths: true,\n  language: gon.locale,\n  changeMonth: true,\n  changeYear:true,\n  classes: 'inline-picker',\n  altField: '#search_legs_1_date',\n  selectDate: new Date(search_legs_1_datepicker.attr(\"data-defaultDate\")),\n  minDate: new Date(search_legs_1_datepicker.attr('data-mindate')),\n  maxDate: new Date(search_legs_1_datepicker.attr('data-maxdate')),\n  altFormat: 'yy-mm-dd',\n  onSelect: (formattedDate, date, inst) =&gt; {\n    if ($(\"#search_legs_1_hotel_date\").length &gt; 0) {\n      $('#search_legs_0_hotel_date').datepicker().data('datepicker').update('maxDate', date);\n      $('#search_legs_1_hotel_date').datepicker().data('datepicker').update('maxDate', date);\n      $('#search_legs_1_hotel_date').datepicker().data('datepicker').datepicker(\"setDate\", date);\n    }\n  }\n})\n</code></pre>\n\n<p>All is okay, but default date is not hidhlighted. Do I need to set it?</p>\n\n<p>Thank's for help.</p>\n"}, {"tags": ["javascript", "cordova", "typescript", "node-modules", "apache-cordova"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523433009, "post_id": 49769333, "comment_id": 86553807, "body": "You placed <code>@aerogearservices&#47;core</code> in the wrong dependency section. That&#39;s all. You absolutely don&#39;t need to bundle it. It goes under <code>dependencies</code> and not under <code>devDependencies</code> because it is dependency that is needed to use your package not to develop it."}, {"owner": {"reputation": 3038, "user_id": 5466997, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/7JLBW.jpg?s=128&g=1", "display_name": "josemigallas", "link": "https://stackoverflow.com/users/5466997/josemigallas"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523433598, "post_id": 49769333, "comment_id": 86554133, "body": "@AluanHaddad thanks for replying, I tried this but it didn&#39;t fix it, I still see the same error. Cordova doesn&#39;t look into node_modules so that&#39;s not the issue."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11601853, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZZHBuj4ISIc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcN3pkPKhtUs-UY64oqwhA65PWIzg/mo/photo.jpg?sz=128", "display_name": "Justin Berman", "link": "https://stackoverflow.com/users/11601853/justin-berman"}, "is_accepted": false, "score": 0, "last_activity_date": 1609386582, "last_edit_date": 1609386582, "creation_date": 1609386128, "answer_id": 65516355, "question_id": 49769333, "link": "https://stackoverflow.com/questions/49769333/how-to-include-npm-dependencies-in-your-cordova-plugin/65516355#65516355", "title": "How to include npm dependencies in your Cordova plugin", "body": "<p>Solved the empty object issue using <code>webpack</code> to bundle the module, and setting the <code>libraryTarget</code> to <code>'window'</code> in my webpack config.</p>\n<p>From the <a href=\"https://webpack.js.org/configuration/output/#expose-via-object-assignment\" rel=\"nofollow noreferrer\">webpack docs</a>:</p>\n<blockquote>\n<p><code>libraryTarget: 'window'</code> - The return value of your entry point will be assigned to the window object using the output.library value.</p>\n</blockquote>\n<p>Without this setting, the bundled script wouldn't export in a way that it could be read from my plugin. I think this is because when Cordova loads the JS, it wraps it with another function, which prevents the implicit assignment to the window object the script would do otherwise upon loading. Also, since my bundled script wasn't actually exporting anything, Cordova wouldn't pick anything up to assign to the window object from the <code>clobbers</code> tag.</p>\n<p>Note with this setting, you can remove the <code>clobbers</code> tag as well.</p>\n"}], "owner": {"reputation": 3038, "user_id": 5466997, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/7JLBW.jpg?s=128&g=1", "display_name": "josemigallas", "link": "https://stackoverflow.com/users/5466997/josemigallas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1609386582, "creation_date": 1523432750, "question_id": 49769333, "link": "https://stackoverflow.com/questions/49769333/how-to-include-npm-dependencies-in-your-cordova-plugin", "title": "How to include npm dependencies in your Cordova plugin", "body": "<p>I'm currently implementing a plugin for Cordova named <code>core-cordova</code> <a href=\"https://github.com/josemigallas/aerogear-js-sdk/tree/agcordova-212/packages/core-cordova\" rel=\"nofollow noreferrer\">(source code)</a> that has also a dependency from another NPM package.</p>\n\n<p>The problem is after installing the plugin in my app using</p>\n\n<pre><code>$ cordova plugin add @aerogearservices/core-cordova\n</code></pre>\n\n<p>I have this error on the console:</p>\n\n<blockquote>\n  <p>Uncaught module @aerogearservices/core not found</p>\n</blockquote>\n\n<p>I think I have to bundle this dependency somehow into the plugin JS files but I haven't found out how. So far I've tried using <code>Browserify</code> to bundle everything into a <code>dist/core-cordova.js</code> and define this in the <code>Plugin.xml</code> as:</p>\n\n<pre><code>&lt;js-module src=\"dist/core-cordova.js\" name=\"MetricsService\"&gt;\n    &lt;clobbers target=\"cordova.aerogear\" /&gt;\n&lt;/js-module&gt;\n</code></pre>\n\n<p>Using this approach doesn't throw me any error however <code>aerogear</code> is an empty object:</p>\n\n<pre><code>// Browser's dev console\n\n&gt; window.cordova.aerogear;\n-&gt; {}\n\n&gt; window.cordova.aerogear.MetricsService;\n-&gt; undefined\n</code></pre>\n\n<p>I don't have a clue how to solve this, any ideas?</p>\n\n<blockquote>\n  <p><strong>NOTE</strong>: the source code is a work in progress, there might be changes or errors.</p>\n</blockquote>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1523434235, "creation_date": 1523434235, "answer_id": 49769807, "question_id": 49769314, "link": "https://stackoverflow.com/questions/49769314/typescript-confusion-in-generic-keyof-extends-keyof-typeof-and-others/49769807#49769807", "title": "Typescript confusion in generic `keyof` `extends keyof` `typeof` and others", "body": "<p>For the first issue, the problem with your approach for the <code>V</code> parameter is that you specify the default for it, but that does not mean <code>V</code> MUST extend <code>T[P]</code>, just that that is the default, you can invoke the constructor with really any type parameter for <code>V</code>. Just use <code>T[P]</code> where appropriate, as even if you constrain it properly (<code>V  extends T[P] = T[P]</code>) the compiler it will still not be able to correctly follow that <code>V</code> is assignable from <code>T[P]</code>.</p>\n\n<pre><code>export class ModelProperty&lt;T, P extends keyof T&gt; {\n    constructor(public name: P, public value: T[P]) { }\n    fun(t: T){\n        let value = t[this.name]; // is T[P]\n    }\n}\n</code></pre>\n\n<p>As for your second issue of repetition, this is an unfortunate side effect of the way type parameters and inference work, if you specify a default for the generic parameter, that default will be used and no inference will take place. If you don't specify the default for <code>K</code>, you can't specify just the value for <code>T</code>, you must also specify <code>K</code>. The simple workaround is to use a two function approach :</p>\n\n<pre><code>export class ModelProperty&lt;T, P extends keyof T&gt; {\n    constructor(public name: P, public value: T[P]) { }\n\n    static for&lt;T&gt;() {\n        return function &lt;P extends keyof T&gt;(name: P, value: T[P]){\n            new ModelProperty&lt;T, P&gt;(name, value);\n        } \n    }\n}\nconst carModelCreator = ModelProperty.for&lt;Car&gt;();\nlet engine2 = carModelCreator('engine','22'); // Gives error as '22' should be number.. working great.\nlet engine1 = carModelCreator('engine',2); // But there is repeatation 'engine', 'engine'\n</code></pre>\n\n<p>As for the third issue of nested paths, classes can't have a variable number of type parameters, so you have the option of creating dedicated classes for each path length. </p>\n\n<pre><code>export class ModelProperty2&lt;T, P extends keyof T,  P2 extends keyof T[P]&gt; {\n    constructor(public name: [P, P2], public value: T[P][P2]) { }\n\n    static for&lt;T&gt;() {\n        return function &lt;P extends keyof T, P2 extends keyof T[P]&gt;(name: [P, P2],  value: T[P][P2]){\n            new ModelProperty2&lt;T, P, P2&gt;(name, value);\n        } \n    }\n}\nconst carModelCreator = ModelProperty2.for&lt;Car&gt;();\nlet engine2 = carModelCreator(['detials', 'good'],'22'); //error \nlet engine2 = carModelCreator(['detials', 'good'],'Boy'); //ok\n</code></pre>\n\n<p>Or if you want you can create a single overloaded function that returns an instance <code>ModelProperty</code> where the only type parameter is the value of the last property, and the path is string[]. You get type safety when you create the instance but the info is lost after </p>\n\n<pre><code>export class ModelProperty&lt;T, V&gt; {\n    constructor(public name: string[], public value: V) { }\n\n\n    static for&lt;T&gt;() {\n        function helper&lt;P extends keyof T, P2 extends keyof T[P]&gt;(name: [P, P2],  value: T[P][P2])\n        function helper&lt;P extends keyof T&gt;(name: [P],  value: T[P])\n        function helper(name: string[],  value: any){\n            return new ModelProperty&lt;T, any&gt;(name, value);\n        } \n\n        return helper;\n    }\n}\nconst carModelCreator = ModelProperty.for&lt;Car&gt;();\nlet engine1 = carModelCreator(['engine'], 22); // ok\nlet engine2 = carModelCreator(['detials', 'good'],'Boy'); //ok\n</code></pre>\n"}], "owner": {"reputation": 5306, "user_id": 2903466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73a1642f48317c13cf1b6d2075ab15ee?s=128&d=identicon&r=PG", "display_name": "amit77309", "link": "https://stackoverflow.com/users/2903466/amit77309"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3642, "favorite_count": 0, "accepted_answer_id": 49769807, "answer_count": 1, "score": 8, "last_activity_date": 1523434235, "creation_date": 1523432696, "question_id": 49769314, "link": "https://stackoverflow.com/questions/49769314/typescript-confusion-in-generic-keyof-extends-keyof-typeof-and-others", "title": "Typescript confusion in generic `keyof` `extends keyof` `typeof` and others", "body": "<pre><code>class Car {\n    engine:number;\n    detials:{\n        good:'Boy'\n    }\n}\n</code></pre>\n\n<p>Class <code>ModelProperty&lt;T&gt;</code> when constructed with <code>new ModelProperty&lt;Car&gt;('engine',22);</code> should work as <code>engine</code> is a property of <code>Car</code> and <code>22</code> as same type as <code>engine</code> i.e. <code>number</code>.</p>\n\n<pre><code>export class ModelProperty&lt;T, P extends keyof T, V  = T[P]&gt; {\n    constructor(public name: P, public value: V) { }\n    fun(t: T){\n        let value: any = t[this.name]; // Should not be any\n        let valueWhyError: V = t[this.name]; //Error.. Why?\n    }\n}\nlet engine2 = new ModelProperty&lt;Car,'engine'&gt;('engine','22'); // Gives error as '22' should be number.. working great.\nlet engine1 = new ModelProperty&lt;Car,'engine'&gt;('engine',2); // But there is repeatation 'engine', 'engine'\n</code></pre>\n\n<ol>\n<li>In case of <code>engine</code> <code>V</code> should mean <code>number</code>. But that line in function <code>do</code> gives error.</li>\n<li>Constructor should not be <code>&lt;Car,'engine'&gt;</code> but only <code>&lt;Car&gt;</code>. Its following properties should be by default depending upon the argument.</li>\n<li>How to make it work for nested property like <code>new ModelProperty&lt;Car&gt;(['details','good'],'Girl')</code>.</li>\n</ol>\n"}, {"tags": ["typescript", "ionic-framework", "ionic2", "ionic3"], "comments": [{"owner": {"reputation": 1840, "user_id": 6628404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoLQt.jpg?s=128&g=1", "display_name": "Utpaul", "link": "https://stackoverflow.com/users/6628404/utpaul"}, "edited": false, "score": 0, "creation_date": 1523432962, "post_id": 49769232, "comment_id": 86553782, "body": "run once mean??? who call it ?? And also your purpose??"}, {"owner": {"reputation": 1840, "user_id": 6628404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoLQt.jpg?s=128&g=1", "display_name": "Utpaul", "link": "https://stackoverflow.com/users/6628404/utpaul"}, "edited": false, "score": 0, "creation_date": 1523433447, "post_id": 49769232, "comment_id": 86554061, "body": "What type of output you need and which output now given ...."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1523436646, "post_id": 49769232, "comment_id": 86556025, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11488014/asynchronous-process-inside-a-javascript-for-loop\">Asynchronous Process inside a javascript for loop</a>"}], "owner": {"reputation": 275, "user_id": 9354059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0b61e5016a80de4aa0966aadcbc4761?s=128&d=identicon&r=PG&f=1", "display_name": "Adam ", "link": "https://stackoverflow.com/users/9354059/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523433260, "creation_date": 1523432460, "last_edit_date": 1523433260, "question_id": 49769232, "link": "https://stackoverflow.com/questions/49769232/ionic-storage-get-run-only-once-in-for-loop", "title": "ionic storage.get run only once in for loop", "body": "<p>I used MacOS 10.13 and my ionic info CLI packages:</p>\n\n<p>(/usr/local/lib/node_modules)</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>@ionic/cli-utils  : 1.19.2\nionic (Ionic CLI) : 3.20.0\n</code></pre>\n\n<p>Global packages:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>cordova (Cordova CLI) : 8.0.0 \n</code></pre>\n\n<p>Local packages:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>@ionic/app-scripts : 3.1.8\nCordova Platforms  : android 6.3.0\nIonic Framework    : ionic-angular 3.9.2\n</code></pre>\n\n<p>System:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Node : v8.11.0\nnpm  : 5.6.0 \nOS   : macOS High Sierra\n</code></pre>\n\n<p>Environment Variables:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ANDROID_HOME : not set\n</code></pre>\n\n<p>Misc:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>backend : pro\n</code></pre>\n\n<p>mycode.ts</p>\n\n<pre><code>this.storage.get('waitmsg').then((waitmsg) =&gt; {\n    if (waitmsg != null) {\n        this.http.post(link, data, httpOptions)\n          .subscribe(data =&gt; {\n            this.storage.ready().then(() =&gt; {\n                var msglist = {}\n                for(var msg in waitmsg) {\n                    var receiveuser = waitmsg[msg]['receiveuser']\n                    var mypk = waitmsg[msg]['userpk']\n                    var content = waitmsg[msg]['content']\n                    let setmsg = {\n                        userpk: mypk,\n                        receiveuser: receiveuser,\n                        content: content,\n                        createDate: new Date(),\n                        read: 1\n                    }\n                    this.storage.get(receiveuser + \":\" + mypk).then((data) =&gt; {\n                        data.push(setmsg)\n                        this.storage.set(receiveuser + \":\" + mypk, data)\n                    });\n                }\n                this.storage.remove('waitmsg')\n            });\n        }, error =&gt; {\n            alert(\"error\")\n        });\n    }\n});\n</code></pre>\n\n<p>waitmsg</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>[{'userpk': '11', 'receiveuser': '9', 'content': '1'}, \n {'userpk': '11', 'receiveuser': '9', 'content': '2'}, \n {'userpk': '11', 'receiveuser': '9', 'content': '3'}, \n {'userpk': '11', 'receiveuser': '3', 'content': '4'},\n {'userpk': '11', 'receiveuser': '3', 'content': '5'},\n {'userpk': '11', 'receiveuser': '9', 'content': '6'}, \n {'userpk':'11', 'receiveuser': '3', 'content': '7'}]\n</code></pre>\n\n<p>I tested this code. <code>this.storage.get</code> is run once at least. I want it to run all the time, how can I acheve this?</p>\n"}, {"tags": ["angular", "typescript", "autocomplete", "angular-material", "angular-material2"], "comments": [{"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1523434043, "post_id": 49769184, "comment_id": 86554391, "body": "it&#39;s because you have <code>city_id: &#39;3&#39;,</code> in client array which you are patching to formcontrol"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "reply_to_user": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1523434249, "post_id": 49769184, "comment_id": 86554520, "body": "Can you tried something how to solve this?"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1523434552, "post_id": 49769184, "comment_id": 86554702, "body": "Do you want to show the city name by default before typing anything in the autocomplete?"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "reply_to_user": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1523434670, "post_id": 49769184, "comment_id": 86554773, "body": "Yes, I want to show city name by default. In this exp. Florida"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "reply_to_user": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1523435894, "post_id": 49769184, "comment_id": 86555524, "body": "Can you please?"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1523436492, "post_id": 49769184, "comment_id": 86555937, "body": "Check my answer.if this is something you are looking for. Also updated the stackblitz"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1523438626, "post_id": 49769184, "comment_id": 86557463, "body": "..I have posted my answer. it should resolve your issue"}], "answers": [{"comments": [{"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523440908, "post_id": 49770571, "comment_id": 86559123, "body": "Thank you for your answer. In stackblitz works good, but in my realy project not function. Please if you can, look my edit post and suggest me, what is the problem in my project. Thank you so much"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523441521, "post_id": 49770571, "comment_id": 86559553, "body": "you are setting <code>city_id</code> to an array <code>this.client.city</code> in <code>this.editClientForm.controls[&#39;city_id&#39;].setValue(this.client&zwnj;&#8203;.city);</code> it should be a single value like <code>this.client.city.map(x =&gt; x.city_id).join(&quot;&quot;);</code>"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523442382, "post_id": 49770571, "comment_id": 86560106, "body": "selectedCity:string = this.cityes.filter(x=&gt; x.city_id == this.client.city).map(x =&gt; x.city_id).join(&#39;&#39;); --&gt;Operator &#39;==&#39; cannot be applied to types &#39;string&#39; and &#39;City[]&#39;"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523444085, "post_id": 49770571, "comment_id": 86561243, "body": "have you used <code>ngModel</code> like in the example above? what is cityes? why are you filtering it"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523444376, "post_id": 49770571, "comment_id": 86561431, "body": "it should be <code>selectedCity:string = this.cityes.filter(x=&gt; x.city_id == this.client.city.map(x =&gt; x.city_id)[0]).map(x =&gt; x.city.name).join(&#39;&#39;);</code>"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523444441, "post_id": 49770571, "comment_id": 86561475, "body": "@OnaBi try with my above code selectedCity, you also need to use <code>ngModel</code>"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523448002, "post_id": 49770571, "comment_id": 86563882, "body": "In html --&gt;         &lt;input formControlName=&quot;city_id&quot; placeholder=&quot;City&quot; [(ngModel)] = &quot;selectedCity&quot; aria-label=&quot;State&quot; [matAutocomplete]=&quot;auto1&quot;         autoActiveFirstOption [formControl]=&quot;city_id&quot;&gt;"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523448036, "post_id": 49770571, "comment_id": 86563911, "body": "in ts --&gt;     cityes: City[] = []; selectedCity: string = this.cityes.filter(x =&gt; x.city_id === this.client.city.map(x =&gt; x.city_id)[0]).map(x =&gt; x.name).join(&#39;&#39;);"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523448368, "post_id": 49770571, "comment_id": 86564139, "body": "Show only city_id"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523448859, "post_id": 49770571, "comment_id": 86564449, "body": "console.log(this.cityes.filter(x =&gt; x.city_id === this.client.city.map(x =&gt; x.city_id)[0]).map(x =&gt; x.name).join(&#39;&#39;)) Is empty"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523451212, "post_id": 49770571, "comment_id": 86566264, "body": "@OnaBi can you post the conent of  <code>this.cityes</code> maybe there is not data yet in that array when you are using filter in it."}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523451530, "post_id": 49770571, "comment_id": 86566504, "body": "Yes, I can see now, this cityes is empty, why!!!! ws get me all city. Please I edit my post. What is the problem in my code?!"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523451768, "post_id": 49770571, "comment_id": 86566669, "body": "@OnaBi set the value of  <code>this.selectedCity</code> inside <code>populateForm() </code> just before where you are calling <code>this.patchForm();</code> .. or you can do after that also ."}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523452568, "post_id": 49770571, "comment_id": 86567308, "body": "I set code inside   patchForm() { }  like in my update post but is empty in input"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523454182, "post_id": 49770571, "comment_id": 86568545, "body": "@OnaBi when are you calling the <code>populateForm()</code> ? can you post that?"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523454484, "post_id": 49770571, "comment_id": 86568784, "body": "populateForm() is in  ngOnInit() {}  My input is empty, I think because the cities are empty"}, {"owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "edited": false, "score": 0, "creation_date": 1523460301, "post_id": 49770571, "comment_id": 86573222, "body": "please can you suggest me, what is the problem with my code?"}], "tags": [], "owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "is_accepted": false, "score": 0, "last_activity_date": 1523436479, "creation_date": 1523436479, "answer_id": 49770571, "question_id": 49769184, "link": "https://stackoverflow.com/questions/49769184/patchform-autocomplete-material-in-typescript/49770571#49770571", "title": "Patchform autocomplete material in typescript", "body": "<p>I have added <code>[(ngModel)] = \"selectedCity\"</code> to set the default value in the textbox before typing in the autocomplete . I have set the value of the property <code>selectedCity</code> in ts file. I have also changed <code>[formControl]=\"city_id\"</code> to match it with the ts file formControl property. Now <code>Florida</code> will be displayed by default. </p>\n\n<p>Below is the full code - </p>\n\n<p><strong>autocomplete-overview-example.html</strong> </p>\n\n<pre><code>&lt;form [formGroup]=\"myform\"&gt;\n    &lt;input formControlName=\"client_name\"  placeholder=\"name\"&gt;\n    &lt;input formControlName=\"email\"  placeholder=\"email\" &gt;\n    &lt;input formControlName=\"city_id\" placeholder=\"City\" [(ngModel)] = \"selectedCity\" aria-label=\"State\" [matAutocomplete]=\"auto\" Input [formControl]=\"city_id\"&gt;\n    &lt;mat-autocomplete #auto=\"matAutocomplete\"&gt;\n      &lt;mat-option *ngFor=\"let item of filteredOptionsCity | async\" [value]=\"item.name\"&gt;\n        &lt;span&gt;{{ item.name }}&lt;/span&gt; \n      &lt;/mat-option&gt;\n    &lt;/mat-autocomplete&gt; \n  &lt;/form&gt;\n</code></pre>\n\n<p><strong>autocomplete-overview-example.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { FormControl, FormGroup, FormBuilder, Validators } from '@angular/forms';\n\nimport { Observable } from 'rxjs/Observable';\nimport { startWith } from 'rxjs/operators/startWith';\nimport { map } from 'rxjs/operators/map';\n\nexport class City {\n  constructor(public name: string, public city_id: string) { }\n}\nexport class Client {\n  constructor(public client_name: string, public city_id: string, public email: string) { }\n}\n/**\n * @title Autocomplete overview\n */\n@Component({\n  selector: 'autocomplete-overview-example',\n  templateUrl: 'autocomplete-overview-example.html',\n  styleUrls: ['autocomplete-overview-example.css']\n})\nexport class AutocompleteOverviewExample {\n  stateCtrl: FormControl;\n  filteredStates: Observable&lt;any[]&gt;;\n filteredOptionsCity: any;\n  city_id: FormControl = new FormControl();\n  myform: FormGroup;\n\n\n  city: City[] = [\n    {\n      name: 'Arkansas',\n      city_id: '1'\n    },\n    {\n      name: 'California',\n      city_id: '2'\n    },\n    {\n      name: 'Florida',\n      city_id: '3'\n    },\n    {\n      name: 'Texas',\n      city_id: '4'\n    }\n  ];\n  client: Client[] = [\n    {\n      client_name: 'MyName',\n      city_id: '3',\n      email: 'myemail@gmail.com'\n    }\n  ];\n  selectedCity:string = this.city.filter(x=&gt; x.city_id == this.client.map(x =&gt; x.city_id)[0]).map( y =&gt; y.name).join(\"\");\n\n  constructor(public fb: FormBuilder) {\n\n\n    this.myform = this.fb.group({\n      'city_id': new FormControl('', Validators.required),\n      'client_name': new FormControl('', Validators.required),\n      'email': new FormControl('', Validators.required)\n    });\n  }\n\nngOnInit(){\n   this.populateForm();\n   this.filteredOptionsCity = this.city_id.valueChanges.pipe(\n      startWith(''),\n      map(value =&gt; this.filterCity(value))\n    );\n\n}\nfilterCity(val: string): City[] {\n    if (val) {\n      let filterValue = val.toLowerCase();\n      console.log(this.city)\n      return this.city.filter(city =&gt; city.name.toLowerCase().startsWith(filterValue));\n    }\n\n    return this.city;\n  }\n  populateForm() {\n\n    this.myform.patchValue({\n      city_id: this.client.map(x =&gt; x.city_id),\n      email: this.client.map(x =&gt; x.email),\n      client_name: this.client.map(x =&gt; x.client_name)\n\n    });\n\n    console.log(this.myform.controls);\n\n  }\n\n}\n</code></pre>\n\n<p>Here is working updated link for stackblitz </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-g2hcvs-gpfwjr\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-g2hcvs-gpfwjr</a></p>\n"}], "owner": {"reputation": 194, "user_id": 9574263, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "OnnaB", "link": "https://stackoverflow.com/users/9574263/onnab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 464, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1523454305, "creation_date": 1523432275, "last_edit_date": 1523454305, "question_id": 49769184, "link": "https://stackoverflow.com/questions/49769184/patchform-autocomplete-material-in-typescript", "title": "Patchform autocomplete material in typescript", "body": "<p>I have this example <a href=\"https://stackblitz.com/edit/angular-g2hcvs-jd4bxn?file=app/autocomplete-overview-example.ts\" rel=\"nofollow noreferrer\"><strong>Demo</strong></a></p>\n\n<p>I tried to display Florida in City, but for me doesn't work, I can display only 3, city_id.  For this I used this code:</p>\n\n<p>I have 2 Class, Client and City </p>\n\n<pre><code>  city: City[] = [\n    {\n      name: 'Arkansas',\n      city_id: '1'\n    },\n    {\n      name: 'California',\n      city_id: '2'\n    },\n    {\n      name: 'Florida',\n      city_id: '3'\n    },\n    {\n      name: 'Texas',\n      city_id: '4'\n    }\n  ];\n  client: Client[] = [\n    {\n      client_name: 'MyName',\n      city_id: '3',\n      email: 'myemail@gmail.com'\n    }\n  ];\n</code></pre>\n\n<p>This value I tried to display in html with this function:</p>\n\n<pre><code>  populateForm() {\n      this.myform.patchValue({\n      city_id: this.client.map(x =&gt; x.city_id),\n      email: this.client.map(x =&gt; x.email),\n      client_name: this.client.map(x =&gt; x.client_name)\n\n    })\n  }\n</code></pre>\n\n<p>email and client_name can display in html, but city_id no.</p>\n\n<p>My html  code:</p>\n\n<pre><code>&lt;form [formGroup]=\"myform\"&gt;\n    &lt;input formControlName=\"client_name\"  placeholder=\"name\"&gt;\n    &lt;input formControlName=\"email\"  placeholder=\"email\" &gt;\n    &lt;input formControlName=\"city_id\" Input placeholder=\"City\" aria-label=\"State\" [matAutocomplete]=\"auto\" [formControl]=\"cityy\"&gt;\n    &lt;mat-autocomplete #auto=\"matAutocomplete\"&gt;\n      &lt;mat-option *ngFor=\"let item of filteredOptionsCity | async\" [value]=\"item.name\"&gt;\n        &lt;span&gt;{{ item.name }}&lt;/span&gt; \n      &lt;/mat-option&gt;\n    &lt;/mat-autocomplete&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>My result :</p>\n\n<p><a href=\"https://i.stack.imgur.com/mDOf2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mDOf2.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to show: </p>\n\n<p>**`</p>\n\n<blockquote>\n  <p>client_name: MyName  city_id: Florida    email: myemail@gmail.com</p>\n</blockquote>\n\n<p>`**</p>\n\n<p>I'm waiting for your suggestion.</p>\n\n<p>Thank you\nEdit:</p>\n\n<pre><code>  client: Client;\n      populateForm() {\n        this.activatedRoute.params.subscribe(\n          params =&gt; {\n            this.ws.getClientById(params['id']).subscribe(\n              client =&gt; {\n                this.client = client;\n                this.patchForm();\n              }\n            );\n          }\n        );\n      }\n\n      patchForm() {\n        this.myform.controls['client_name'].setValue(this.client.clientName);\n        this.editClientForm.controls['city_id'].setValue(this.client.city);\n        this.editClientForm.controls['email'].setValue(this.client.email);\n    }\n</code></pre>\n\n<p>Class:</p>\n\n<pre><code>export class Client {\n   clientName: string;\n   email: string;\n   city: City[];}\n\nexport class City {\n  city_id: string;\n  name: string;}\n</code></pre>\n\n<p>Cityes </p>\n\n<pre><code>    cityes: City[] = [];\n\n    selectedCity: string;\n\n ngOnInit() {\n    this.ws.getAllCity().subscribe(\n      cityes =&gt; {\n          this.cityes = cityes.map((city) =&gt; {\n          return new City(city);\n        });\n          console.log(cityes) //return all my city\n      }\n    );\n\n this.selectedCity = this.cityes.filter(\n      x =&gt; x.city_id === this.client.city\n      .map(x =&gt; x.city_id)[0])\n      .map(y =&gt; y.name).join('')\n      console.log(this.cityes) //cityes is empty\n     }\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<pre><code>  patchForm() {\n    this.myform.controls['client_name'].setValue(this.client.clientName);\n    this.editClientForm.controls['email'].setValue(this.client.email);\n    this.editClientForm.controls['city_id'].setValue(this.selectedCity = this.cityes.filter(\n     x =&gt; x.city_id === this.client.city\n     .map(x =&gt; x.city_id)[0])\n     .map(y =&gt; y.name).join(''))\n }\n}\n</code></pre>\n"}, {"tags": ["c#", "angular", "typescript"], "comments": [{"owner": {"reputation": 11092, "user_id": 982149, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LdDoZ.png?s=128&g=1", "display_name": "Fildor", "link": "https://stackoverflow.com/users/982149/fildor"}, "edited": false, "score": 1, "creation_date": 1523432005, "post_id": 49768869, "comment_id": 86553212, "body": "<i>&quot;would like to encrypt my image with secret key&quot;</i> You <i>encrypt</i> with the public key and <i>decrypt</i> with the secret key, usually. But what makes you think you need this?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4401437, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-12Cl9JQuPw8/AAAAAAAAAAI/AAAAAAAAABU/VPadYTYB8m0/photo.jpg?sz=128", "display_name": "Navya Sri", "link": "https://stackoverflow.com/users/4401437/navya-sri"}, "edited": false, "score": 0, "creation_date": 1523433478, "post_id": 49768996, "comment_id": 86554076, "body": "hello sir, i have added my code. Used RSA encryption, but am getting am error"}], "tags": [], "owner": {"reputation": 6712, "user_id": 9483405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ec19c15095a06428d49156fda4c481a?s=128&d=identicon&r=PG", "display_name": "Yanis-git", "link": "https://stackoverflow.com/users/9483405/yanis-git"}, "is_accepted": false, "score": -1, "last_activity_date": 1523431705, "creation_date": 1523431705, "answer_id": 49768996, "question_id": 49768869, "link": "https://stackoverflow.com/questions/49768869/encrypt-image-in-c-and-decrypt-in-typescript/49768996#49768996", "title": "Encrypt Image in c# and decrypt in typescript", "body": "<p>Hello you can use any Crypto engine in both side.</p>\n\n<p>For exemple you can use:</p>\n\n<h1>RSA (Public / Private Key)</h1>\n\n<p><strong>For TypeScript side :</strong>\n<a href=\"https://stackoverflow.com/questions/44887294/rsa-library-with-angular\">RSA library with angular</a></p>\n\n<p><strong>For C# Side :</strong>\n<a href=\"https://stackoverflow.com/questions/17128038/c-sharp-rsa-encryption-decryption-with-transmission\">C# RSA encryption/decryption with transmission</a></p>\n\n<h1>AES (Password) :</h1>\n\n<p><strong>For typescript side :</strong>\nuse <a href=\"https://github.com/ricmoo/aes-js\" rel=\"nofollow noreferrer\">https://github.com/ricmoo/aes-js</a> and just do :</p>\n\n<p><code>import 'aes-js'; declare var aesjs: any;</code></p>\n\n<p><strong>For C# side :</strong>\nMore information here <a href=\"https://stackoverflow.com/questions/273452/using-aes-encryption-in-c-sharp\">Using AES encryption in C#</a></p>\n\n<p>Because all crypto algo have many configuration parameter, be careful to have matching configuration in C# and Typescript side.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 4923118, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-k2FpU5F2iEM/AAAAAAAAAAI/AAAAAAAAADU/nrqKVeZQciI/photo.jpg?sz=128", "display_name": "Navya Sri Gurram", "link": "https://stackoverflow.com/users/4923118/navya-sri-gurram"}, "is_accepted": false, "score": 1, "last_activity_date": 1523857938, "creation_date": 1523857938, "answer_id": 49850389, "question_id": 49768869, "link": "https://stackoverflow.com/questions/49768869/encrypt-image-in-c-and-decrypt-in-typescript/49850389#49850389", "title": "Encrypt Image in c# and decrypt in typescript", "body": "<p>Encrypting in C#</p>\n\n<pre><code>public string EncryptData(string imageBytesBase64, string Encryptionkey)\n    {\n        RijndaelManaged objrij = new RijndaelManaged();\n\n        objrij.Mode = CipherMode.CBC;\n\n        objrij.Padding = PaddingMode.PKCS7;\n\n        byte[] keyBytes = Encoding.UTF8.GetBytes(Encryptionkey);\n\n        byte[] ivBytes = Encoding.UTF8.GetBytes(Encryptionkey.Substring(0, 16));\n\n        int len = keyBytes.Length;\n\n        if (len &gt; ivBytes.Length)\n            len = ivBytes.Length;\n\n        Array.Copy(keyBytes, ivBytes, len);\n\n        objrij.Key = keyBytes;\n\n        objrij.IV = ivBytes;\n\n        ICryptoTransform objtransform = objrij.CreateEncryptor();\n\n        byte[] textDataByte = Encoding.UTF8.GetBytes(imageBytesBase64);\n\n        return Convert.ToBase64String(objtransform.TransformFinalBlock(textDataByte, 0, textDataByte.Length));\n\n    }\n</code></pre>\n\n<p>Descrypt in TypeScript</p>\n\n<pre><code>var decryptedTxt = CryptoJS.AES.decrypt(encryptedText, key, {\n        keySize: 128 / 8,\n        iv: iv,\n        mode: CryptoJS.mode.CBC,\n        padding: CryptoJS.pad.Pkcs7\n    });\n\n    this.decryptedText = decryptedTxt.toString(CryptoJS.enc.Utf8)\n\n    this.ImageSrc = 'data:image/jpg;base64,' + this.decryptedText;\n</code></pre>\n\n<p>Here Encryptionkey in c# and key in typescript are same</p>\n"}], "owner": {"reputation": 31, "user_id": 4401437, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-12Cl9JQuPw8/AAAAAAAAAAI/AAAAAAAAABU/VPadYTYB8m0/photo.jpg?sz=128", "display_name": "Navya Sri", "link": "https://stackoverflow.com/users/4401437/navya-sri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1210, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1523857938, "creation_date": 1523431263, "last_edit_date": 1523433406, "question_id": 49768869, "link": "https://stackoverflow.com/questions/49768869/encrypt-image-in-c-and-decrypt-in-typescript", "title": "Encrypt Image in c# and decrypt in typescript", "body": "<p>Am new to angular 2. I would like to encrypt my image with secret key in c# and decrypt it in typescript. Is that possible. If yes can anyone help me out.\nThanks in advance.</p>\n\n<p>Code to encrypt </p>\n\n<pre><code>public string EncryptImage(byte[] imageBytes)\n    {\n        var csp = new RSACryptoServiceProvider(2048);\n\n        var privKey = csp.ExportParameters(true);\n\n        var pubKey = csp.ExportParameters(false);\n\n\n        string pubKeyString;\n        {\n            var sw = new System.IO.StringWriter();\n\n            var xs = new System.Xml.Serialization.XmlSerializer(typeof(RSAParameters));\n\n            xs.Serialize(sw, pubKey);\n\n            pubKeyString = sw.ToString();\n\n        }\n        {\n            var sr = new System.IO.StringReader(pubKeyString);\n\n            var xs = new System.Xml.Serialization.XmlSerializer(typeof(RSAParameters));\n\n            pubKey = (RSAParameters)xs.Deserialize(sr);\n        }\n\n        csp = new RSACryptoServiceProvider();\n        csp.ImportParameters(pubKey);\n\n        var bytesCypherText = csp.Encrypt(imageBytes, false);\n\n        var cypherText = Convert.ToBase64String(bytesCypherText);\n\n        return cypherText;\n    }\n</code></pre>\n\n<p>Getting error at </p>\n\n<pre><code>    var bytesCypherText = csp.Encrypt(imageBytes, false); \n</code></pre>\n\n<p>as bad length</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1523431252, "post_id": 49768849, "comment_id": 86552770, "body": "That&#39;s not how you supply the specific type - did you mean <code>Array&lt;string&gt;</code>? Or just use <code>string[]</code>."}, {"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1523431317, "post_id": 49768849, "comment_id": 86552813, "body": "try to define array like this: <code>nameOfStudents : string[] = [];</code>"}], "answers": [{"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 4, "last_activity_date": 1523431872, "creation_date": 1523431872, "answer_id": 49769057, "question_id": 49768849, "link": "https://stackoverflow.com/questions/49768849/typescripterror-ts2314-generic-type-arrayt-requires-1-type-arguments/49769057#49769057", "title": "Typescript:error TS2314: Generic type &#39;Array&lt;T&gt;&#39; requires 1 type argument(s)", "body": "<p>Generic arrays must be defined as:</p>\n\n<ul>\n<li><code>const arr = new Array&lt;string&gt;()</code></li>\n<li><code>const arr = string[]</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 675, "user_id": 4583018, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RX7HV.jpg?s=128&g=1", "display_name": "The Segfault", "link": "https://stackoverflow.com/users/4583018/the-segfault"}, "is_accepted": false, "score": 1, "last_activity_date": 1523432394, "creation_date": 1523432394, "answer_id": 49769218, "question_id": 49768849, "link": "https://stackoverflow.com/questions/49768849/typescripterror-ts2314-generic-type-arrayt-requires-1-type-arguments/49769218#49769218", "title": "Typescript:error TS2314: Generic type &#39;Array&lt;T&gt;&#39; requires 1 type argument(s)", "body": "<p>Using the T[] sythax is recommended over Array&lt; T > synthax</p>\n\n<p>TSlint <a href=\"http://ttps://palantir.github.io/tslint/rules/array-type/\" rel=\"nofollow noreferrer\">rule</a> \"array-type\": [true, \"array\"]: </p>\n\n<p>For your code, Array[string] should be Array &lt; string > in order to compile.</p>\n\n<pre><code>nameOfStudents: Array&lt;string&gt;;\nnoOfteachers: number\n\nconstructor(name: Array&lt;string&gt;, no: number) {\n    this.nameOfStudents = name;\n    this.noOfteachers = no;\n}\n</code></pre>\n\n<p>The best practice would be something like this</p>\n\n<pre><code>class School {\n\n    nameOfStudents: string[];\n    noOfteachers: number;\n\n    constructor(name: string[], no: number) {\n        this.nameOfStudents = name;\n        this.noOfteachers = no;\n    }\n\n    printName(): void {\n        for (const studentName of this.nameOfStudents) {\n            console.log(studentName);\n    }\n}\n</code></pre>\n\n<p>I higly recommend you to install <a href=\"https://palantir.github.io/tslint/rules/\" rel=\"nofollow noreferrer\">tslint</a> for your project, it will help you to write clean Typescript code.</p>\n"}], "owner": {"reputation": 1384, "user_id": 9247465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-q9Lq4aEZoms/AAAAAAAAAAI/AAAAAAAAANg/KR9sPMb4MdM/photo.jpg?sz=128", "display_name": "AConsumer", "link": "https://stackoverflow.com/users/9247465/aconsumer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7437, "favorite_count": 0, "accepted_answer_id": 49769057, "answer_count": 2, "score": 1, "last_activity_date": 1523432394, "creation_date": 1523431190, "question_id": 49768849, "link": "https://stackoverflow.com/questions/49768849/typescripterror-ts2314-generic-type-arrayt-requires-1-type-arguments", "title": "Typescript:error TS2314: Generic type &#39;Array&lt;T&gt;&#39; requires 1 type argument(s)", "body": "<p>I am learning typescript and i have written very basic code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class School {\r\n\r\n    nameOfStudents: Array[string];\r\n    noOfteachers: number\r\n\r\n    constructor(name: Array[string], no: number) {\r\n        this.nameOfStudents = name;\r\n        this.noOfteachers = no;\r\n    }\r\n\r\n    printName():void{\r\n\r\n        for(let i=0;i&lt;this.nameOfStudents.length;i++){\r\n            console.log(this.nameOfStudents[i])\r\n        }\r\n    }\r\n}\r\nlet arr=[\"a\",\"b\",\"c\",\"d\",\"e\"]\r\nlet school = new School(arr,100);\r\n\r\nschool.printName();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Where ever i have used the array i am getting the following error:</p>\n\n<p>error TS2314: Generic type 'Array' requires 1 type argument(s)\nWhere i am doing wrong ?</p>\n"}, {"tags": ["angular", "typescript", "websocket"], "answers": [{"tags": [], "owner": {"reputation": 8396, "user_id": 7361479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/soT91.jpg?s=128&g=1", "display_name": "kshetline", "link": "https://stackoverflow.com/users/7361479/kshetline"}, "is_accepted": false, "score": 1, "last_activity_date": 1523429600, "creation_date": 1523429600, "answer_id": 49768375, "question_id": 49768293, "link": "https://stackoverflow.com/questions/49768293/how-to-make-reconnecting-a-websocket-in-typescript/49768375#49768375", "title": "How to make reconnecting a websocket in typescript?", "body": "<p>Try adding:</p>\n\n<pre><code>import \"rxjs/add/operator/retry\";\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 3104589, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3c111be2d61ede82dd52081126045e2d?s=128&d=identicon&r=PG&f=1", "display_name": "user3104589", "link": "https://stackoverflow.com/users/3104589/user3104589"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1523429655, "creation_date": 1523429315, "last_edit_date": 1523429655, "question_id": 49768293, "link": "https://stackoverflow.com/questions/49768293/how-to-make-reconnecting-a-websocket-in-typescript", "title": "How to make reconnecting a websocket in typescript?", "body": "<p>Adding a \"retry()\" causes an error:</p>\n\n<blockquote>\n  <p>ERROR in src/app/films.service.ts(28,20): error TS2339: Property 'retry' does not exist on type 'WebSocketSubject'.</p>\n</blockquote>\n\n<pre><code> this.wsSubject.retry().subscribe(\n  (msg) =&gt; this.parseAnswer(msg),\n  (err) =&gt; console.log(err),\n  () =&gt; console.log('complete')\n);\n</code></pre>\n\n<p><a href=\"https://github.com/Astrgan/ngSite03/blob/master/src/app/films.service.ts\" rel=\"nofollow noreferrer\">All source</a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1523428459, "post_id": 49767920, "comment_id": 86551270, "body": "Sorry not working, but I changed the newsletter: !company.newsletter as in other answer and it worked"}], "tags": [], "owner": {"reputation": 392, "user_id": 6785981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3de49bd367f6efe30e32c01ba831b438?s=128&d=identicon&r=PG&f=1", "display_name": "Lakshmi Prasanna", "link": "https://stackoverflow.com/users/6785981/lakshmi-prasanna"}, "is_accepted": false, "score": 0, "last_activity_date": 1523427900, "creation_date": 1523427900, "answer_id": 49767920, "question_id": 49767562, "link": "https://stackoverflow.com/questions/49767562/how-to-update-the-edited-toggle-using-angular2/49767920#49767920", "title": "How to update the edited toggle using angular2", "body": "<p>You are calling the service to update the news letter service but you are not toggling the company.newsletter ngModel value. Try wth that</p>\n\n<pre><code>openPopup(event,company) {\nvar userData:any = {\n  _id: company._id,\n  email: company.email,\n  active: company.active,\n  newsletter:company.newsletter\n};\n  this.ApiService\n      .editUserToggle(userData._id,userData)\n      .subscribe(\n          user =&gt; {\n            console.log(user);\n            this.toasterService.pop('success', 'User subscribed Successfully');\n          }, error =&gt; {\n            if(error.data &amp;&amp; error.data.length &gt; 0) {\n              this.toasterService.pop('error', error.data);\n            } else {\n              this.toasterService.pop('error', 'Something went wrong!');\n        }\n     })\n</code></pre>\n\n<p>} </p>\n"}, {"tags": [], "owner": {"reputation": 16757, "user_id": 5654404, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/746f3e19ba3d2c092e951129a114391a?s=128&d=identicon&r=PG&f=1", "display_name": "Sravan", "link": "https://stackoverflow.com/users/5654404/sravan"}, "is_accepted": true, "score": 1, "last_activity_date": 1523428312, "creation_date": 1523428312, "answer_id": 49768033, "question_id": 49767562, "link": "https://stackoverflow.com/questions/49767562/how-to-update-the-edited-toggle-using-angular2/49768033#49768033", "title": "How to update the edited toggle using angular2", "body": "<p>You might be getting success message from the <code>update api</code>, but it will be the same value what you send so you will always get false, </p>\n\n<p>try changing the newsletter value,</p>\n\n<p><strong><code>var userData:any = { newsletter: !company.newsletter };</code></strong></p>\n\n<pre><code>openPopup(event,company) {\n    console.log(company);\n    if(!this.loggedIn){\n        event.preventDefault();\n        this.signIn.show();\n    }\n    var userData:any = { \n        _id: company._id,\n        email: company.email,\n        active: company.active,\n        newsletter: !company.newsletter\n    };\n    console.log(userData);\n    this.ApiService\n    .editUserToggle(userData._id,userData)\n    .subscribe(\n    user =&gt; {\n        console.log(user);\n        this.toasterService.pop('success', 'User subscribed Successfully');\n        this.newsletter = userData.newsletter;\n        }, error =&gt; {\n        if(error.data &amp;&amp; error.data.length &gt; 0) {\n        this.toasterService.pop('error', error.data);\n        } else {\n        this.toasterService.pop('error', 'Something went wrong!');\n        }\n    })\n}\n</code></pre>\n\n<p>But still you didnt change the model value, so what you should do is, after you get the success message, add </p>\n\n<p><code>this.newsletter = userData.newsletter;</code></p>\n"}], "owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 49768033, "answer_count": 2, "score": 0, "last_activity_date": 1523428312, "creation_date": 1523426421, "question_id": 49767562, "link": "https://stackoverflow.com/questions/49767562/how-to-update-the-edited-toggle-using-angular2", "title": "How to update the edited toggle using angular2", "body": "<p>i have a newsletter subscription, initially it is set according to newsletter i get when the user login.</p>\n\n<p>when i toggle the newsletter thing, it gives me succesfully updated message but the newsletter is still set to false even though i had made it to true. Can anyone help me to sort it out.</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div class=\"col-lg-4 col-md-4 col-sm-4 col-xs-12 text-center\"&gt;\n        &lt;span style=\"font-weight: 100;\"&gt;Newsletter{{company.newsletter|json}}&lt;/span&gt;\n        &lt;ul class=\"toggle\"&gt;\n          &lt;li&gt;\n            &lt;mat-slide-toggle class=\"showToggle\" name=\"subscribe\" [(ngModel)]=\"company.newsletter\" #slider required (click)=\"openPopup($event,company)\"&gt;\n            &lt;/mat-slide-toggle&gt;\n          &lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/div&gt;\n</code></pre>\n\n<p>Ts:</p>\n\n<pre><code>**Checklogin:**\nthis.ApiService\n      .checklogin()\n      .subscribe(\n        user  =&gt; {\n          this.company= user.data[0];\n        }, error =&gt; {\n          console.log(error);\n        });\n\n**newsletter toggle**\n        openPopup(event,company) {\n    var userData:any = {\n      _id: company._id,\n      email: company.email,\n      active: company.active,\n      newsletter:company.newsletter\n    };\n      this.ApiService\n          .editUserToggle(userData._id,userData)\n          .subscribe(\n              user =&gt; {\n                console.log(user);\n                this.toasterService.pop('success', 'User subscribed Successfully');\n              }, error =&gt; {\n                if(error.data &amp;&amp; error.data.length &gt; 0) {\n                  this.toasterService.pop('error', error.data);\n                } else {\n                  this.toasterService.pop('error', 'Something went wrong!');\n            }\n         })\n  } \n</code></pre>\n\n<p>Even after i get success message the newsletter will still be false</p>\n"}, {"tags": ["javascript", "angular", "typescript", "webpack"], "comments": [{"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1523453620, "post_id": 49766968, "comment_id": 86568112, "body": "did it resolve your issue"}], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 2, "last_activity_date": 1523423939, "creation_date": 1523423939, "answer_id": 49767034, "question_id": 49766968, "link": "https://stackoverflow.com/questions/49766968/typescript-error-ts1128-declaration-or-statement-expected/49767034#49767034", "title": "Typescript ERROR TS1128: Declaration or statement expected", "body": "<p>If you look at your code it has an issue inside the <strong><code>ngOnInit()</code></strong> where you have few misplaced paranthesis, change it as</p>\n\n<pre><code>ngOnInit() {\n  this.route.params.forEach((urlParameters) =&gt; {\n            this.gameKey = urlParameters['id'];\n        });      \n  this.gameService.getGameByKey(this.gameKey)\n  .subscribe(dataLastEmittedFromObserver =&gt; {\n            this.gameDetail = dataLastEmittedFromObserver;\n        });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 9626388, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UDrhbOOf7oE/AAAAAAAAAAI/AAAAAAAAADY/oodeMFhc9EQ/photo.jpg?sz=128", "display_name": "Marcin Zi\u0119ba", "link": "https://stackoverflow.com/users/9626388/marcin-zi%c4%99ba"}, "is_accepted": false, "score": 0, "last_activity_date": 1523423968, "creation_date": 1523423968, "answer_id": 49767043, "question_id": 49766968, "link": "https://stackoverflow.com/questions/49766968/typescript-error-ts1128-declaration-or-statement-expected/49767043#49767043", "title": "Typescript ERROR TS1128: Declaration or statement expected", "body": "<p>What you did is not close the bracket between parenthesis.  Or misplaced the parenthesis. Depends on what you wanted to do. </p>\n"}, {"tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1523424067, "creation_date": 1523424067, "answer_id": 49767063, "question_id": 49766968, "link": "https://stackoverflow.com/questions/49766968/typescript-error-ts1128-declaration-or-statement-expected/49767063#49767063", "title": "Typescript ERROR TS1128: Declaration or statement expected", "body": "<p>You misplaced your brackets.</p>\n\n<p>Try this:</p>\n\n<pre><code>this.gameService.getGameByKey(this.gameKey).subscribe(dataLastEmittedFromObserver =&gt; {\n        this.gameDetail = dataLastEmittedFromObserver;\n       });\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 9628516, "user_type": "registered", "profile_image": "https://graph.facebook.com/1831370170216567/picture?type=large", "display_name": "Nicko Dela Cruz", "link": "https://stackoverflow.com/users/9628516/nicko-dela-cruz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16033, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1523424067, "creation_date": 1523423683, "question_id": 49766968, "link": "https://stackoverflow.com/questions/49766968/typescript-error-ts1128-declaration-or-statement-expected", "title": "Typescript ERROR TS1128: Declaration or statement expected", "body": "<p>Getting a typescript error that I spent a couple hours trying to fix. It's pointing at my game-details.component.ts(26,54) and it looks totally fine to me.</p>\n\n<p>Also when I CTR + S in my game-detail.component webpack Compiles successfully and my program works fine. Can anyone explain to me why it works like that?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { Location } from '@angular/common';\n\nimport { GameService } from '../../game.service';\nimport { UserComment } from '../../comment.model';\n\n@Component({\n  selector: 'app-game-detail',\n  templateUrl: './game-detail.component.html',\n  styleUrls: ['./game-detail.component.css'],\n  providers: [GameService]\n})\nexport class GameDetailComponent implements OnInit {\n\n  gameKey: string;\n  gameDetail;\n\n  constructor(private route: ActivatedRoute, private location: Location, private gameService: GameService) { }\n\n  ngOnInit() {\n    this.route.params.forEach((urlParameters)=&gt; {\n      this.gameKey = urlParameters['id'];\n    });\n    this.gameService.getGameByKey(this.gameKey).subscribe(dataLastEmittedFromObserver =&gt; {\n       this.gameDetail = dataLastEmittedFromObserver;);\n      }\n\n      addComment(com: string) {\n      const newComment: UserComment = new UserComment(com);\n      this.gameDetail.comments.push(newComment);\n      this.gameService.updateComments(this.gameDetail);\n      // this.toggleDisplay();\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "datepicker", "angular-material"], "comments": [{"owner": {"reputation": 38402, "user_id": 1838048, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cb5NP.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/1838048/oliver"}, "edited": false, "score": 0, "creation_date": 1523430505, "post_id": 49766893, "comment_id": 86552368, "body": "if your date is a simple string, did you try to wrap it into a <code>new Date(&#39;myDate&#39;)</code> before using it in your datepicker?"}, {"owner": {"reputation": 175, "user_id": 2251652, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c312bc02bedbc490f5242bf366f251da?s=128&d=identicon&r=PG", "display_name": "PiyaModi", "link": "https://stackoverflow.com/users/2251652/piyamodi"}, "reply_to_user": {"reputation": 38402, "user_id": 1838048, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cb5NP.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/1838048/oliver"}, "edited": false, "score": 0, "creation_date": 1523490783, "post_id": 49766893, "comment_id": 86587360, "body": "Yes, I tried. But it always gives an error saying &quot;Invalid Date&quot;."}, {"owner": {"reputation": 38402, "user_id": 1838048, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cb5NP.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/1838048/oliver"}, "edited": false, "score": 0, "creation_date": 1523512951, "post_id": 49766893, "comment_id": 86592979, "body": "I tried both strings in <code>new Date()</code>, but both saying <i>Invalid Date</i>. After removing the <code>[UTC]</code> from the string, both would be correctly read as a date time instance in UTC time. So simply strip of the brackets part and everything should work."}], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 2251652, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c312bc02bedbc490f5242bf366f251da?s=128&d=identicon&r=PG", "display_name": "PiyaModi", "link": "https://stackoverflow.com/users/2251652/piyamodi"}, "is_accepted": true, "score": 1, "last_activity_date": 1524529650, "creation_date": 1524529650, "answer_id": 49991713, "question_id": 49766893, "link": "https://stackoverflow.com/questions/49766893/angular-2-4-5-bind-utc-formatted-date-to-datepicker/49991713#49991713", "title": "Angular 2/4/5 - Bind UTC formatted date to datepicker", "body": "<p>So, basically, you can convert this date with javascript function <strong>toISOString()</strong>.</p>\n\n<p>or just by creating <strong>new Date()</strong> object.</p>\n\n<p><em>In my case date was converting into some wrong format and so was getting an error.</em></p>\n"}], "owner": {"reputation": 175, "user_id": 2251652, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c312bc02bedbc490f5242bf366f251da?s=128&d=identicon&r=PG", "display_name": "PiyaModi", "link": "https://stackoverflow.com/users/2251652/piyamodi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3048, "favorite_count": 0, "accepted_answer_id": 49991713, "answer_count": 1, "score": 0, "last_activity_date": 1524529650, "creation_date": 1523423302, "last_edit_date": 1523427161, "question_id": 49766893, "link": "https://stackoverflow.com/questions/49766893/angular-2-4-5-bind-utc-formatted-date-to-datepicker", "title": "Angular 2/4/5 - Bind UTC formatted date to datepicker", "body": "<p>I am very new to Angular and Angular Material.</p>\n\n<p>For the dates my backend wants it to be in zonedDate Format.\n(e.g.: 2018-04-11T02:12:04.455Z[UTC])</p>\n\n<p>So I am getting value in the above format, which is not binding to mat-datepicker.</p>\n\n<p>Here is html code:</p>\n\n<pre><code>&lt;mat-form-field class=\"fx-cell-1\" floatLabel=\"never\"&gt;\n    &lt;input matInput name=\"myDate\" [matDatepicker]=\"myDate\" placeholder=\"Date of Expense\"\n    [(ngModel)]=\"myDate\" #myDate=\"ngModel\" [max]=\"maxDate\" required &gt;\n    &lt;mat-datepicker-toggle matSuffix [for]=\"myDate\"&gt;&lt;/mat-datepicker-toggle&gt;\n    &lt;mat-datepicker #myDate&gt;&lt;/mat-datepicker&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>So here ngModel is not binding value to datepicker.</p>\n\n<p>After some more observation, I realized that:</p>\n\n<p>The date with value \"<strong>2018-04-11T02:12:04.455Z[UTC]</strong>\" is <strong>binding</strong> to the datepicker.</p>\n\n<p>The date with value \"<strong>2018-04-02T14:00Z[UTC]</strong>\" is <strong>not binding</strong> to the datepicker.</p>\n\n<p>Any suggestion???</p>\n"}, {"tags": ["angular", "typescript", "charts", "decimal", "scatter"], "answers": [{"comments": [{"owner": {"reputation": 2201, "user_id": 8328785, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-HwuWtaHb7w4/AAAAAAAAAAI/AAAAAAAAAEI/A8ebK_1RLXQ/photo.jpg?sz=128", "display_name": "Jake Lam", "link": "https://stackoverflow.com/users/8328785/jake-lam"}, "edited": false, "score": 0, "creation_date": 1523585633, "post_id": 49772284, "comment_id": 86631534, "body": "Thanks man , the pattern works for me. however , do you know is there anyway to change the range of the axis to decimal range.  What I mean is if the table changes to only 2 values of       [ 3.25,      3.535778],[ 3, 3.535678] the graph not auto zoom in for better display"}, {"owner": {"reputation": 2509, "user_id": 4046274, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/f4aeF.jpg?s=128&g=1", "display_name": "Pirate X", "link": "https://stackoverflow.com/users/4046274/pirate-x"}, "reply_to_user": {"reputation": 2201, "user_id": 8328785, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-HwuWtaHb7w4/AAAAAAAAAAI/AAAAAAAAAEI/A8ebK_1RLXQ/photo.jpg?sz=128", "display_name": "Jake Lam", "link": "https://stackoverflow.com/users/8328785/jake-lam"}, "edited": false, "score": 0, "creation_date": 1523600633, "post_id": 49772284, "comment_id": 86635580, "body": "@NgocTuanLam Raise another question, I&#39;ll give it a shot. Even if I&#39;m not able to, someone else will :)"}], "tags": [], "owner": {"reputation": 2509, "user_id": 4046274, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/f4aeF.jpg?s=128&g=1", "display_name": "Pirate X", "link": "https://stackoverflow.com/users/4046274/pirate-x"}, "is_accepted": true, "score": 1, "last_activity_date": 1523442195, "last_edit_date": 1523442195, "creation_date": 1523441407, "answer_id": 49772284, "question_id": 49766493, "link": "https://stackoverflow.com/questions/49766493/rounding-value-in-google-chart/49772284#49772284", "title": "rounding value in google chart", "body": "<p>Use <a href=\"https://developers.google.com/chart/interactive/docs/reference#numberformat\" rel=\"nofollow noreferrer\">NumberFormat</a> to show exact values or define pattern for values</p>\n\n<p><strong>Add this bit after the datatable creation</strong></p>\n\n<pre><code>var NumberFormat = new google.visualization.NumberFormat(\n//You can explore various type of patterns in Documentation\n{pattern:'##.#######'}\n);\nNumberFormat.format(data, 1);\n</code></pre>\n\n<p><code>NumberFormat</code> accepts data table and the column which is supposed to have the pattern <code>format(dataTable, columnIndex)</code></p>\n\n<p><strong>Overall Code</strong></p>\n\n<pre><code>  google.charts.load('current', {'packages':['corechart']});\n  google.charts.setOnLoadCallback(drawChart);\n\n  function drawChart() {\n    var data = google.visualization.arrayToDataTable([\n      ['Age', 'Weight'],\n      [ 8,      3.535778],\n      [ 4,      5.5],\n      [ 11,     14],\n      [ 4,      5],\n      [ 3,      3.535678],\n      [ 6.5,    7]\n    ]);\n\n   var NumberFormat = new google.visualization.NumberFormat(\n   //You can explore various type of patterns in Documentation\n   {pattern:'##.#######'}\n   );\n   NumberFormat.format(data, 1); // Apply formatter to second column\n\n    var options = {\n      title: 'Age vs. Weight comparison',\n      hAxis: {title: 'Age', minValue: 0, maxValue: 15},\n      vAxis: {title: 'Weight', minValue: 0, maxValue: 15},\n      legend: 'none'\n    };\n\n    var chart = new google.visualization.ScatterChart(document.getElementById('chart_div'));\n\n    chart.draw(data, options);\n  }\n</code></pre>\n\n<p>See the demo here - <a href=\"https://jsfiddle.net/xo7mtdL5/\" rel=\"nofollow noreferrer\">JSFiddle</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/KQvpV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KQvpV.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2201, "user_id": 8328785, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-HwuWtaHb7w4/AAAAAAAAAAI/AAAAAAAAAEI/A8ebK_1RLXQ/photo.jpg?sz=128", "display_name": "Jake Lam", "link": "https://stackoverflow.com/users/8328785/jake-lam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1019, "favorite_count": 0, "accepted_answer_id": 49772284, "answer_count": 1, "score": 1, "last_activity_date": 1523442195, "creation_date": 1523420788, "question_id": 49766493, "link": "https://stackoverflow.com/questions/49766493/rounding-value-in-google-chart", "title": "rounding value in google chart", "body": "<p>I'm using google chart and when doing with very accurate decimal number, GG chart tends to round it to 3 decimal number</p>\n\n<p>You can see it this example : </p>\n\n<pre><code>      google.charts.load('current', {'packages':['corechart']});\n  google.charts.setOnLoadCallback(drawChart);\n\n  function drawChart() {\n    var data = google.visualization.arrayToDataTable([\n      ['Age', 'Weight'],\n      [ 8,      3.535778],\n      [ 4,      5.5],\n      [ 11,     14],\n      [ 4,      5],\n      [ 3,      3.535678],\n      [ 6.5,    7]\n    ]);\n\n    var options = {\n      title: 'Age vs. Weight comparison',\n      hAxis: {title: 'Age', minValue: 0, maxValue: 15},\n      vAxis: {title: 'Weight', minValue: 0, maxValue: 15},\n      legend: 'none'\n    };\n\n    var chart = new google.visualization.ScatterChart(document.getElementById('chart_div'));\n\n    chart.draw(data, options);\n  }\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/00a1sut0/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/00a1sut0/2/</a></p>\n\n<p>In the data , there are 2 number which values are 3.535778 and 3.535678 and GG chart marks it all as 3.536 </p>\n\n<p>I want to show the correct decimal number</p>\n\n<p>Anyone with any idea ??</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "is_accepted": false, "score": 0, "last_activity_date": 1523419797, "creation_date": 1523419797, "answer_id": 49766358, "question_id": 49766229, "link": "https://stackoverflow.com/questions/49766229/angular-subscribe-using-defined-function/49766358#49766358", "title": "Angular subscribe using defined function", "body": "<p>Yes, that is the correct way. If you use the format <code>this.comService.currentMembers.subscribe(this.sortMembers);</code> you are simply passing the reference to a function and it will have no <code>this</code> reference which I'm assuming was the problem you were running into. You can get around this by binding the <code>this</code> reference tho (but your first format is probably the best to use): <code>this.comService.currentMembers.subscribe(this.sortMembers.bind(this));</code></p>\n"}, {"tags": [], "owner": {"reputation": 3562, "user_id": 5677886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsmW.jpg?s=128&g=1", "display_name": "Yerkon", "link": "https://stackoverflow.com/users/5677886/yerkon"}, "is_accepted": false, "score": 0, "last_activity_date": 1523421317, "last_edit_date": 1523421317, "creation_date": 1523420596, "answer_id": 49766465, "question_id": 49766229, "link": "https://stackoverflow.com/questions/49766229/angular-subscribe-using-defined-function/49766465#49766465", "title": "Angular subscribe using defined function", "body": "<p>It's a good question. Another way, if you want to use like <code>this.comService.currentMembers.subscribe(this.sortMembers);</code></p>\n\n<p>You can change method to <a href=\"https://github.com/Microsoft/TypeScript/wiki/&#39;this&#39;-in-TypeScript#use-instance-functions\" rel=\"nofollow noreferrer\"><code>instance arrow function</code></a> to preserve <code>this</code>:</p>\n\n<pre><code>sortMembers = (members: IProfile[]) =&gt; {\n    this.members = members.slice().sort((profile1, profile2) =&gt; {\n        if (profile1.name &gt; profile2.name)\n            return 1;\n        if (profile1.name &lt; profile2.name)\n            return -1;\n        return 0;\n    });\n}\n</code></pre>\n\n<p>This approach has <strong>pros and cons</strong>. As @Daniel W Strimpel said above:</p>\n\n<blockquote>\n  <p>but your first format is probably the best to use</p>\n</blockquote>\n\n<p>to avoid side effects</p>\n"}], "owner": {"reputation": 481, "user_id": 7556011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84fbb1e08caf743d4904f0ec1fad21b7?s=128&d=identicon&r=PG&f=1", "display_name": "Drei", "link": "https://stackoverflow.com/users/7556011/drei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1523421317, "creation_date": 1523418808, "question_id": 49766229, "link": "https://stackoverflow.com/questions/49766229/angular-subscribe-using-defined-function", "title": "Angular subscribe using defined function", "body": "<p>This is rather simple but I haven't seen it asked yet so; I am using a service like this:</p>\n\n<pre><code>this.comService.currentMembers.subscribe(members =&gt; this.sortMembers(members));\n</code></pre>\n\n<p>and I have sortMembers defined below (no need to read it, just for reference):</p>\n\n<pre><code>sortMembers(members: IProfile[]): void {\n    this.members = members.slice().sort((profile1, profile2) =&gt; {\n        if (profile1.name &gt; profile2.name)\n            return 1;\n        if (profile1.name &lt; profile2.name)\n            return -1;\n        return 0;\n    });\n}\n</code></pre>\n\n<p>Is the inline function above, <code>members =&gt; this.sortMembers(members)</code>, the correct way to call the function I have defined because <code>this.comService.currentMembers.subscribe(this.sortMembers);</code> does not work like I had expected it to.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1523418680, "post_id": 49766155, "comment_id": 86547817, "body": "Where is this service provided"}, {"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "reply_to_user": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1523418936, "post_id": 49766155, "comment_id": 86547887, "body": "@bryan60 In my app.module.ts"}, {"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1523419188, "post_id": 49766155, "comment_id": 86547963, "body": "Looks like update data never gets run then"}], "answers": [{"comments": [{"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1523418813, "post_id": 49766217, "comment_id": 86547852, "body": "Not sure where you are getting message from.. all im trying to do is pass an object from one component to the other"}], "tags": [], "owner": {"reputation": 135, "user_id": 6229150, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1df722c64924da9ef815c530c4c72a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Rex", "link": "https://stackoverflow.com/users/6229150/rex"}, "is_accepted": false, "score": 0, "last_activity_date": 1523418866, "last_edit_date": 1523418866, "creation_date": 1523418705, "answer_id": 49766217, "question_id": 49766155, "link": "https://stackoverflow.com/questions/49766155/passing-object-between-sibling-components-angular-5/49766217#49766217", "title": "Passing object { } between sibling components Angular 5", "body": "<p>This one creates a service to handle the message events.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\n\n@Injectable()\nexport class MessageService {\n  private subject = new Subject&lt;Message&gt;();\n\n  send(key: string, value: any) {\n    this.subject.next({ key, value });\n  }\n\n  get(): Observable&lt;Message&gt; {\n    return this.subject.asObservable();\n  }\n}\n\nclass Message {\n  constructor(\n    public key: string,\n    public value: any) { }\n}\n</code></pre>\n\n<hr>\n\n<p>This one listen to the events and when get the events execute sth.</p>\n\n<pre><code>import { Subscription } from 'rxjs/Subscription';\nprivate subscription: Subscription;\n\nconstructor(\n  private messageService: MessageService,\n) {}\n\nngOnInit() {\n  this.subscription = this.messageService.get().subscribe(message =&gt; {\n    if (message.key === 'what message you want') {\n      this.dosth()\n    }\n  });\n}\n</code></pre>\n\n<hr>\n\n<p>When you want to send the object from one service to another service, call the send in the message service and subscribe in the service you want.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11017965, "user_type": "registered", "profile_image": "https://graph.facebook.com/2466464046715057/picture?type=large", "display_name": "Nitish Negi", "link": "https://stackoverflow.com/users/11017965/nitish-negi"}, "is_accepted": false, "score": 0, "last_activity_date": 1549377740, "last_edit_date": 1549377740, "creation_date": 1549374911, "answer_id": 54536024, "question_id": 49766155, "link": "https://stackoverflow.com/questions/49766155/passing-object-between-sibling-components-angular-5/54536024#54536024", "title": "Passing object { } between sibling components Angular 5", "body": "<p>I faced the similar problem when I had to implement the identical scenario. </p>\n\n<p>The solution to it is that, you should not receive the data in the receiving component inside the <code>onInit()</code> method. Rather, receive it through an <code>onChanges()</code> method or through an event (like a <strong>button click</strong>). It will return you the object with values in it.</p>\n"}], "owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 539, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1549377740, "creation_date": 1523418133, "last_edit_date": 1523420545, "question_id": 49766155, "link": "https://stackoverflow.com/questions/49766155/passing-object-between-sibling-components-angular-5", "title": "Passing object { } between sibling components Angular 5", "body": "<p>I'm not sure what I'm doing wrong here...</p>\n\n<p>Basically I have 2 sibling components the first component gets some data and I want to share that data with the sibling component so I have made a service</p>\n\n<p><strong>service</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\n@Injectable()\nexport class DataService {\n    // Individual Data Source\n    private dataSource = new BehaviorSubject&lt;Object&gt;({});\n    // Individual Data Source\n    data = this.dataSource.asObservable();\n    // Individual Data Source\n    updateData(data) {\n        this.dataSource.next(data);\n    }\n}\n</code></pre>\n\n<p>then in my first component...</p>\n\n<pre><code>this.activatedRoute.params.subscribe(params =&gt; {\n  this.id = params.id;\n  this._dataNotification.getSingledataNotification(this.id)\n    .subscribe(result =&gt; {\n      this.data = result;\n      this._dataService.updateData(this.data);\n    });\n});\n</code></pre>\n\n<p>then in my second component..</p>\n\n<pre><code>getData() {\n    this._dataService.data.subscribe((result) =&gt; {\n        this.data = result;\n        console.log(this.data);\n    });\n}\n</code></pre>\n\n<p>basically what Is happening is in my first component im getting data object back and passing it to the updateData function then In my second component Im getting that data but when I console log I only get back an empty object??</p>\n\n<p>any ideas what I'm doing wrong?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I put the updateData function in a onChanges lifecycle event and now It works..</p>\n\n<p>Thanks Guys</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 5, "last_activity_date": 1523410875, "creation_date": 1523410875, "answer_id": 49765172, "question_id": 49764953, "link": "https://stackoverflow.com/questions/49764953/typescript-type-safe-class-decorator-that-handles-static-methods/49765172#49765172", "title": "TypeScript: type-safe class decorator that handles static methods?", "body": "<p>The return type of the decorator must be compatible with the class type it is decorating as the return value of the decorator will replace the class at runtime. To achieve this, we must use a generic parameter representing the class itself, that will be both the type of the parameter and the return type. We will thus be returning a class with the same structure as the input class (including the statics) and the compiler will be satisfied:</p>\n\n<pre><code>function decorate&lt;TCtor extends ITypeOf&lt;any&gt;&gt;(cls: TCtor): TCtor {\n    return cls\n}\n\n@decorate\nclass Foo {\n    static bar() {\n        return 42\n    }\n}\n</code></pre>\n\n<p>To add restrictions on the class to be decorated we can be more restrictive of the type parameter to <code>ITypeOf</code>:</p>\n\n<pre><code>// decorated class must have a field x: numeber\nfunction decorate&lt;TCtor extends ITypeOf&lt;{ x: number }&gt;&gt;(cls: TCtor): TCtor {\n    return cls\n}\n\n@decorate // error no instance x\nclass Foo { }\n@decorate // ok\nclass Boo { x!: number }\n</code></pre>\n\n<p>We can also add restrictions as to static members</p>\n\n<pre><code>// decorated class must have a static field x: numeber\nfunction decorate&lt;TCtor extends ITypeOf&lt;any&gt; &amp; { x: number }&gt;(cls: TCtor): TCtor {\n    return cls\n}\n\n@decorate // error no static x\nclass Foo { }\n@decorate // ok\nclass Boo { static x: number }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1523426601, "post_id": 49765811, "comment_id": 86550396, "body": "I considered the two parameter approach but I am not sure what value it adds. If you need the instance type inside the decorator you can use <code>InstanceType</code> and for restricting the decorated class restricting the argument to <code>ITypeOf</code> will work as well. I actually tried calling the decorator with two generic parameters manually (ie <code>decorate(Foo)</code>), and even though type constraints are enforced, <code>I</code> would get inferred to the smallest possible type (ie <code>{}</code> if no constraint is applied) so that prompted me to decide to remove it."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1523427609, "post_id": 49765811, "comment_id": 86550853, "body": "<code>ITypeOf</code> as defined in the question is pretty universal and is better known as <code>type Constructor&lt;T&gt;=...</code>, <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#putting-all-of-the-above-rules-together-in-an-example\" rel=\"nofollow noreferrer\">introduced for example here</a>. If you have several different decorators, each requiring its own restrictions, two parameter approach allows you to declare restrictions in-place together with decorator definition. Restricting argument to <code>ITypeOf</code> will require additional interface definition for every kind of restriction. Not much difference though,I agree."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 0, "last_activity_date": 1523415683, "creation_date": 1523415683, "answer_id": 49765811, "question_id": 49764953, "link": "https://stackoverflow.com/questions/49764953/typescript-type-safe-class-decorator-that-handles-static-methods/49765811#49765811", "title": "TypeScript: type-safe class decorator that handles static methods?", "body": "<blockquote>\n  <p>How can I write a type-safe class decorator that works for classes\n  with static members?</p>\n</blockquote>\n\n<p>It depends on what are you going to do inside the decorator.</p>\n\n<p>You can simply have <code>decorator</code> completely generic like this:</p>\n\n<pre><code>function decorate&lt;C&gt;(cls: C) {\n    return cls;\n}\n</code></pre>\n\n<p>However this does not capture any information about <code>C</code>, so you can't do much with <code>cls</code> inside <code>decorate</code>.</p>\n\n<p>Or you can have separate generic parameters, one for the \"instance side\" of <code>cls</code> and another one for the \"static side\":</p>\n\n<pre><code>interface ITypeOf&lt;T&gt; {\n    new(...args: any[]): T\n}\n\nfunction decorate&lt;I, S extends ITypeOf&lt;I&gt;&gt;(cls: S): S {\n    return cls\n}\n\n\n@decorate\nclass Foo {\n    static bar() {\n        return 42\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 129273, "user_id": 71522, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f0e286ba0482e57904e89e753a4b36e6?s=128&d=identicon&r=PG", "display_name": "David Wolever", "link": "https://stackoverflow.com/users/71522/david-wolever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1423, "favorite_count": 0, "accepted_answer_id": 49765172, "answer_count": 2, "score": 3, "last_activity_date": 1523415683, "creation_date": 1523409116, "question_id": 49764953, "link": "https://stackoverflow.com/questions/49764953/typescript-type-safe-class-decorator-that-handles-static-methods", "title": "TypeScript: type-safe class decorator that handles static methods?", "body": "<p>How can I write a type-safe class decorator that correctly handles static methods?</p>\n\n<p>Specifically, this decorator will work for classes <em>without</em> static methods:</p>\n\n<pre><code>interface ITypeOf&lt;T&gt; {\n    new(...args: any[]): T\n}\n\nfunction decorate&lt;T&gt;(cls: ITypeOf&lt;T&gt;): ITypeOf&lt;T&gt; {\n    return cls\n}\n</code></pre>\n\n<p>But <code>ITypeOf</code> doesn't consider static attributes, so the compile fails with this error when it's applied to a class with static attributes:</p>\n\n<pre><code>@decorate\nclass Foo {\n    static bar() {\n        return 42\n    }\n}\n</code></pre>\n\n<p>Yields the error:</p>\n\n<pre><code>Unable to resolve signature of class decorator when called as an expression.\n  Type 'ITypeOf&lt;Foo&gt;' is not assignable to type 'typeof Foo'.\n    Property 'bar' is missing in type 'ITypeOf&lt;Foo&gt;'.\nfunction decorate&lt;T&gt;(cls: ITypeOf&lt;T&gt;): ITypeOf&lt;T&gt;\n</code></pre>\n\n<p>Here's a working example: <a href=\"http://www.typescriptlang.org/play/#src=interface%20ITypeOf%3CT%3E%20%7B%0D%0A%20%20%20%20new(...args%3A%20any%5B%5D)%3A%20T%0D%0A%7D%0D%0A%0D%0Afunction%20decorate%3CT%3E(cls%3A%20ITypeOf%3CT%3E)%3A%20ITypeOf%3CT%3E%20%7B%0D%0A%20%20%20%20return%20cls%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Note%20the%20error%20here%3A%20%22&#39;bar&#39;%20is%20missing%20from%20ITypeOf%3CFoo%3E%22%0D%0A%2F%2F%20How%20can%20I%20write%20a%20generic%20class%20decorator%20that%20can%20handle%0D%0A%2F%2F%20static%20methods%3F%0D%0A%40decorate%0D%0Aclass%20Foo%20%7B%0D%0A%20%20%20%20static%20bar()%20%7B%0D%0A%20%20%20%20%20%20%20%20return%2042%0D%0A%20%20%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">\nhttp://www.typescriptlang.org/play/#src=interface\u2026</a></p>\n\n<p>How can I write a type-safe class decorator that works for classes with static members?</p>\n"}, {"tags": ["typescript", "exception-handling"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1523425281, "post_id": 49764616, "comment_id": 86549819, "body": "Worth mentioning : It is conventional to <code>throw new Error(message)</code> \ud83c\udf39"}, {"owner": {"reputation": 3344, "user_id": 1154965, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/5f8a52beb8105e50dd8ece9a50b752c9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Schnerring", "link": "https://stackoverflow.com/users/1154965/michael-schnerring"}, "reply_to_user": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1523434077, "post_id": 49764616, "comment_id": 86554414, "body": "The IT world seems quite small sometimes, I have just <a href=\"https://medium.com/@basarat/null-vs-undefined-in-typescript-land-dc0c7a5f240a\" rel=\"nofollow noreferrer\">read one of your articles</a> and now see your comment below my most recent question. Do you mean instead of rethrowing like I do, I should just wrap the exceptions&#39; error message?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1523477773, "post_id": 49764616, "comment_id": 86582925, "body": "Was talking about original throws. To summarise: Original-throw <code>throw new Error(message)</code>. Re-throw <code>throw e</code> \ud83c\udf39"}], "answers": [{"comments": [{"owner": {"reputation": 3344, "user_id": 1154965, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/5f8a52beb8105e50dd8ece9a50b752c9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Schnerring", "link": "https://stackoverflow.com/users/1154965/michael-schnerring"}, "edited": false, "score": 0, "creation_date": 1523406924, "post_id": 49764690, "comment_id": 86544916, "body": "such a simple answer, I&#39;m really wondering how I couldn&#39;t see that. I have already thrown plain strings..."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 8, "last_activity_date": 1523417271, "last_edit_date": 1523417271, "creation_date": 1523406668, "answer_id": 49764690, "question_id": 49764616, "link": "https://stackoverflow.com/questions/49764616/is-there-a-difference-between-throwe-and-throw-e-in-typescript/49764690#49764690", "title": "Is there a difference between &quot;throw(e)&quot; and &quot;throw e&quot; in typescript?", "body": "<p><code>throw</code> in TypeScript (and in javascript) can throw arbitrary expression. Unlike <code>if</code>, <code>while</code> and <code>for</code>, <code>throw</code> can be followed by the expression immediately, without surrounding the expression in <code>()</code>.</p>\n\n<p>From the expression semantic point of view, these two expressions are identical:</p>\n\n<pre><code>e\n</code></pre>\n\n<p>and</p>\n\n<pre><code>(e)\n</code></pre>\n"}], "owner": {"reputation": 3344, "user_id": 1154965, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/5f8a52beb8105e50dd8ece9a50b752c9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Schnerring", "link": "https://stackoverflow.com/users/1154965/michael-schnerring"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "accepted_answer_id": 49764690, "answer_count": 1, "score": 1, "last_activity_date": 1523417271, "creation_date": 1523406048, "question_id": 49764616, "link": "https://stackoverflow.com/questions/49764616/is-there-a-difference-between-throwe-and-throw-e-in-typescript", "title": "Is there a difference between &quot;throw(e)&quot; and &quot;throw e&quot; in typescript?", "body": "<p>I couldn't find any information regarding the throwing syntax in typescript, so I am just wondering if those two are semantically identical? From what I've tested both methods keep the callstack.</p>\n\n<pre><code>try {\n    throw new Error(\"You can't recover from this.\");\n} catch (e) {\n    console.error(e);\n    throw e;\n}\ntry {\n    throw new Error(\"You can't recover from this.\");\n} catch (e) {\n    console.error(e);\n    throw(e);\n}\n</code></pre>\n\n<p>Doing it that way in C# would stomp the callstack, so I just want to be absolutely sure. The proper C# way is this:</p>\n\n<pre><code>try {\n    throw new Exception(\"You can't recover from this.\");\ncatch (Exception e)\n    _logger.LogError(e);\n    throw;\n}\n</code></pre>\n"}, {"tags": ["angular", "forms", "typescript", "angular-ngmodel", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 1, "creation_date": 1523408027, "post_id": 49764137, "comment_id": 86545197, "body": "Why are you doing <code>pipes[i]</code>? <code>i</code> is your index for your <code>pipelines</code> array and <code>pipes</code> is the current object at that index."}, {"owner": {"reputation": 381, "user_id": 3020656, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/50bf630f1e6e79ba518572f0bcb7b83f?s=128&d=identicon&r=PG&f=1", "display_name": "AYa", "link": "https://stackoverflow.com/users/3020656/aya"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1523419196, "post_id": 49764137, "comment_id": 86547966, "body": "Oh. Yes. Such a silly mistake."}], "owner": {"reputation": 381, "user_id": 3020656, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/50bf630f1e6e79ba518572f0bcb7b83f?s=128&d=identicon&r=PG&f=1", "display_name": "AYa", "link": "https://stackoverflow.com/users/3020656/aya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523402088, "creation_date": 1523402088, "question_id": 49764137, "link": "https://stackoverflow.com/questions/49764137/filling-in-array-of-objects-in-form", "title": "Filling in array of objects in form", "body": "<p>I have a function that gets called on click and I have an array of objects that I am trying to pass to my form.</p>\n\n<pre><code>[{baseline: true, order: 0, query: \"string\", sourceId: \"string\", sourcePath: \"string\", sourceType:'value1'}, {baseline: false, order: 1, query: \"string\", sourceId: \"string\", sourcePath: \"string\", sourceType:'value2'},{baseline: false, order: 1, query: \"string\", sourceId: \"string\", sourcePath: \"string\", sourceType:'value2'}]\n</code></pre>\n\n<p>my function is as below:</p>\n\n<pre><code>pipelines = [];\nconstructor( private _fb: FormBuilder) {\nthis.newForm = _fb.group({\n   query:'',\n   sourceId:'',\n   sourcePath:'',\n   sourceType: ''\n   });\n}\n\n\ngetFormgroup(name): boolean {\nlet val = name;\nlet index = this.getdata.findIndex(obj =&gt; obj.configName === val);\nconsole.log(this.getdata[index]['sources']);\nthis.pipelines = this.getdata[index]['sources'];\nconsole.log(this.pipelines);\nreturn true;\n</code></pre>\n\n<p>}</p>\n\n<pre><code>   a (click)=\"getFormgroup(mem.configName) ? addtionalInfo = true  addtionalInfo = false\" class=\"clickable\"&gt;{{mem.configName}}&lt;/a&gt;\n    &lt;form [formGroup] =\"newForm\"&gt;\n             &lt;div *ngFor=\"let pipes of pipelines; let i=index;\"&gt;\n    &lt;select name = \"sourceType\" formControlName=\"sourceType [(ngModel)]=\"pipes[i].sourceType\"&gt;\n       &lt;option disabled selected value=\"\"&gt;Select Source Type&lt;/option&gt;\n       &lt;option value=\"value1\"&gt;value1&lt;/option&gt;\n       &lt;option value=\"value2\"&gt;value2&lt;/option&gt;\n       &lt;option value=\"value3\"&gt;value3&lt;/option&gt;\n   &lt;/select&gt;\n     &lt;input name = \"sourceId\" formControlName=\"sourceId\" [(ngModel)]=\"pipes[i].sourceId\" type=\"text\"&gt;\n\n    &lt;input name=\"sourcePath\" formControlName=\"sourcePath\" [(ngModel)]=\"pipes[i].sourcePath\"&gt;\n\n    &lt;textarea name=\"query\" formControlName=\"query\" [(ngModel)]=\"pipes[i].query\"&gt;{{query}}&lt;/textarea&gt;\n\n    &lt;/div&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>So basically I am storing array of objects in <code>pipelines</code> and when the function is called, I try to loop over pipelines and display the values in the dropdown and textboxes.\nHowever, I get <code>Cannot read property 'sourceType' of undefined</code> error and the boxes are empty without any values filled.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1523413551, "post_id": 49764106, "comment_id": 86546588, "body": "TypeScript is a superset of JavaScript, meaning any valid JS is valid TS.  Is there a reason that using the HTML encoding provided in other JS answers on StackOverflow isn&#39;t working for you?"}, {"owner": {"reputation": 7135, "user_id": 11768, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bc0d35aa0f058db77e5e78179124228d?s=128&d=identicon&r=PG", "display_name": "st78", "link": "https://stackoverflow.com/users/11768/st78"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1523421835, "post_id": 49764106, "comment_id": 86548691, "body": "@DanielWStrimpel typical JS advice I found is to use JQuery, e.g. $(&#39;&lt;div&gt;&#39;).text(unsafestring).html()"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 1, "creation_date": 1523422147, "post_id": 49764106, "comment_id": 86548773, "body": "There are non-jQuery examples on SO posts:  <a href=\"https://stackoverflow.com/a/7124052\">stackoverflow.com/a/7124052</a>"}], "owner": {"reputation": 7135, "user_id": 11768, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bc0d35aa0f058db77e5e78179124228d?s=128&d=identicon&r=PG", "display_name": "st78", "link": "https://stackoverflow.com/users/11768/st78"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1389, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565279649, "creation_date": 1523401818, "last_edit_date": 1523402175, "question_id": 49764106, "link": "https://stackoverflow.com/questions/49764106/how-to-do-html-encoding-in-typescript", "title": "How to do Html encoding in typescript?", "body": "<p>Surprised that I cannot find such simple need in 15 minutes.</p>\n\n<p>I am forming string based on user input and it might have some special characters, like &lt; or /. To be safe I want to add html encoding to such line of code (typescript):</p>\n\n<p><code>const suggest: any = { id: '', title: `Suggest ${q} ${type}`, type: type, query: q };\n</code></p>\n\n<p><strong>title</strong> later used as <strong>typeaheadOptionField</strong> and I do not see an easy way to use innerHTML.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript", "angular-promise"], "comments": [{"owner": {"reputation": 1276, "user_id": 3954928, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a580b624983d6009fd4eaaecc488f5?s=128&d=identicon&r=PG&f=1", "display_name": "avechuche", "link": "https://stackoverflow.com/users/3954928/avechuche"}, "edited": false, "score": 0, "creation_date": 1523403872, "post_id": 49764058, "comment_id": 86544247, "body": "I fixed it, it was a conflict because I have classes with the same name."}], "owner": {"reputation": 1276, "user_id": 3954928, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a580b624983d6009fd4eaaecc488f5?s=128&d=identicon&r=PG&f=1", "display_name": "avechuche", "link": "https://stackoverflow.com/users/3954928/avechuche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523405259, "creation_date": 1523401454, "last_edit_date": 1523405259, "question_id": 49764058, "link": "https://stackoverflow.com/questions/49764058/promise-response-angular-2-5", "title": "Promise response - Angular 2/5", "body": "<p>I have a promise that returns an array of marker, but when I want to assign the response in a variable, I get an error.</p>\n\n<p><strong>This is the method to get the marker array</strong></p>\n\n<pre><code>@Injectable()\nexport class MyService {\n\n    load(currentOptions: Array&lt;Option&gt;): Promise&lt;Array&lt;Marker&gt;&gt; {\n        return new Promise&lt;Array&lt;Marker&gt;&gt;(onResolve =&gt; {\n          let currentMarkers = new Array&lt;Marker&gt;();\n          ...\n          ...\n          onResolve(currentMarkers);\n        });\n    }\n\n}\n</code></pre>\n\n<p><strong>From another \".ts\" I try to get the data like this</strong></p>\n\n<pre><code>markerList: Array&lt;Marker&gt; = new Array&lt;Marker&gt;();\n\n\nngAfterViewInit() {\n    this.MyService.load(OptionsArray).then(x =&gt; {\n        this.markerList = x;\n    })\n}\n</code></pre>\n\n<p>Sorry for the error in Spanish. The translation would be something like this:\n<strong>The type \"Marker []\" can not be assigned to the type \"Marker []\". There are two different types with this name, but they are not related</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/9AJwY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9AJwY.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "http"], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523403103, "post_id": 49764207, "comment_id": 86544069, "body": "<code>Promise.all</code> isn&#39;t the right method because it allows the concurrency. To serialized them use <code>await</code> or <code>then</code>."}, {"owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523403545, "post_id": 49764207, "comment_id": 86544166, "body": "@AluanHaddad Yes, you&#39;re right. I didn&#39;t explain it correctly, <code>Promise.all</code> should be used instead of the recursive functions, something like: <code>registerLocation(() =&gt; Promise.all(...fanZoneAdminArray).then(() =&gt; Promise.all(...locationAdminArray)))</code>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523403623, "post_id": 49764207, "comment_id": 86544182, "body": "yes that makes more sense. However, since the OP is already using a transpiler await would be more readable.  but you would still use all yes"}, {"owner": {"reputation": 905, "user_id": 8560600, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-zQ0B8tCv38k/AAAAAAAAAAI/AAAAAAAAAAw/bWWd0qZVS8I/photo.jpg?sz=128", "display_name": "Stefan Radonjic", "link": "https://stackoverflow.com/users/8560600/stefan-radonjic"}, "edited": false, "score": 0, "creation_date": 1523435640, "post_id": 49764207, "comment_id": 86555367, "body": "Thank you so much for your help guys! I&#39;ve fixed the issue based on your solution!"}], "tags": [], "owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "is_accepted": true, "score": 2, "last_activity_date": 1523403223, "last_edit_date": 1523403223, "creation_date": 1523402770, "answer_id": 49764207, "question_id": 49764044, "link": "https://stackoverflow.com/questions/49764044/angular-5-sending-an-array-of-http-request-that-need-to-be-executed-in-sequent/49764207#49764207", "title": "Angular 5 : Sending an array of HTTP request that need to be executed in sequential order", "body": "<p>You can send the next request once the response to the current request comes in.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>let fanZoneAdminArray = this.registerFanZoneAdminForm.get('fanZoneAdminArray').value;\nlet locationAdminArray = this.registerLocationAdminForm.get('locationAdminArray').value;\n\nthis.locationService.registerLocation(this.location).subscribe((response: Response) =&gt; {\n    fanZoneAdminRecursion(0, fanZoneAdminArray, () =&gt; {\n        locationAdminRecursion(0, locationAdminArray, () =&gt; {\n            // All requests were sent.\n        });\n    });\n  });\n\n\nlet fanZoneAdminRecursion = (index, array, onDone) =&gt; {\n\n    let fanZoneAdmin = new User(element.username,element.password,element.email,element.firstName,element.lastName,element.city,element.phoneNumber, null,null,null,null, null,this.location.fanZone,null,new Role(\"FZA\"),null);\n\n    this.usersService.registerFanZoneAdmin(fanZoneAdmin).subscribe((response: Response) =&gt; {\n      if(index &lt; array.length - 1){\n          fanZoneAdminRecursion(++index, array, onDone);\n      }else{\n         onDone();\n      }\n   });      \n}\n\n\nlet locationAdminRecursion = (index, array, onDone) =&gt; {\n\n  let locationAdmin = new User(element.username,element.password,element.email,element.firstName,element.lastName,element.city,element.phoneNumber,  null, null,null, null, null,null,this.location, new Role(\"LA\"),null);\n\n  this.usersService.registerLocationAdmin(locationAdmin).subscribe((response: Response) =&gt; {\n      if(index &lt; array.length - 1){\n          locationAdminRecursion(++index, array, onDone);\n      }else{\n          onDone();\n      }\n  });\n}\n</code></pre>\n\n<p>Here I'm using recursion to call a function that processes the next element in the array once the response for the previous element comes in.</p>\n\n<p>This can be made a lot less complex using <code>Promise</code>. With promises, this will be as easy as <code>Promise.all(firstCall, secondCall, ....)</code>.</p>\n"}], "owner": {"reputation": 905, "user_id": 8560600, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-zQ0B8tCv38k/AAAAAAAAAAI/AAAAAAAAAAw/bWWd0qZVS8I/photo.jpg?sz=128", "display_name": "Stefan Radonjic", "link": "https://stackoverflow.com/users/8560600/stefan-radonjic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 49764207, "answer_count": 1, "score": -1, "last_activity_date": 1523403223, "creation_date": 1523401353, "last_edit_date": 1592644375, "question_id": 49764044, "link": "https://stackoverflow.com/questions/49764044/angular-5-sending-an-array-of-http-request-that-need-to-be-executed-in-sequent", "title": "Angular 5 : Sending an array of HTTP request that need to be executed in sequential order", "body": "<p>I am trying to send an array of HTTP requests which need to be executed in sequential order, but i have no clue on how to do that. Below are details of my application.</p>\n<p>Application Entities :</p>\n<ul>\n<li>Location - an entity which can has the following attributes:<code>FanZone fanZone</code>, <code>List&lt;LocationAdministrator&gt; locationAdmins</code></li>\n<li>FanZone - an entity which has the following attributes: <code>List&lt;FanZoneAdministrator&gt; fanZoneAdmins</code></li>\n</ul>\n<p>Idea:</p>\n<ul>\n<li>By filling the form on the picture below, and clicking &quot;NEXT&quot; button, i am saving an Location object in one of my Angular services, because i dont want to POST it until the application user completes filling up administrator information ( form for filling in admin information is presented to the user after clicking on &quot;NEXT&quot; button ).</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/guA4I.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/guA4I.jpg\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>After application user successfully fills in the Location Information form presented on picture above, he has to fill in the information on Location Administrators and Fan Zone Administrators. The form is presented in the picture below.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/EHqpF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EHqpF.jpg\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>When application user successfully fills in administrator forms presented in the picture above, I would like to register Location entity ( send POST request ), and AFTER that same Location entity has been posted to the Database, i want to send an array of HTTP POST requests in order to register list of <code>LocationAdministrator</code> and list of <code>FanZoneAdministrator</code> entities.</li>\n</ul>\n<p>Angular code:</p>\n<pre><code>next() {\n\n    this.locationService.registerLocation(this.location).subscribe(\n      (response: Response) =&gt; {\n        console.log('Successfully registered Location!');\n        console.log(response.json());\n      },\n      (error: Response) =&gt; {\n        console.log('Error occured while trying to register new Location');\n      }\n    );\n\n    var fanZoneAdmin: User;\n\n    this.registerFanZoneAdminForm.get('fanZoneAdminArray').value.forEach(element =&gt; {\n      console.log(element);\n      fanZoneAdmin = new User(element.username,element.password,element.email,element.firstName,element.lastName,element.city,element.phoneNumber, null,null,null,null, null,this.location.fanZone,null,new Role(&quot;FZA&quot;),null);\n\n      this.usersService.registerFanZoneAdmin(fanZoneAdmin).subscribe(\n        (response: Response) =&gt; {\n          console.log('Successfully registered Fan Zone Administrator!');\n          console.log(response.json());\n\n        },\n        (error: Response) =&gt; {\n          console.log('Error occured while trying to register new Fan Zone Administrator');\n        }\n      );\n    });\n\n    console.log('Submitting Location Administrator!')\n    var locationAdmin: Location;\n\n    this.registerLocationAdminForm.get('locationAdminArray').value.forEach(element =&gt; {\n      console.log(element);\n      locationAdmin = new User(element.username,element.password,element.email,element.firstName,element.lastName,element.city,element.phoneNumber,  null, null,null, null, null,null,this.location, new Role(&quot;LA&quot;),null);\n\n      this.usersService.registerLocationAdmin(locationAdmin).subscribe(\n        (response: Response) =&gt; {\n          console.log('Successfully registered Fan Zone Administrator!');\n          console.log(response.json());\n        },\n        (error: Response) =&gt; {\n          console.log('Error occured while trying to register new Fan Zone Administrator');\n        }\n      );\n    });\n\n    console.log('DONE!')\n\n  }\n</code></pre>\n<p>NOTE:  <code>this.registerFanZoneAdminForm.get('fanZoneAdminArray').value.forEach(element =&gt; {..})</code> is there because I used <code>FormArray</code>. Here value is an <code>Array&lt;FanZoneAdministrators&gt;</code> and element is single <code>FanZoneAdministrator</code>\n(Same goes for <code>registerLocationAdminForm.get('locationAdminArray').value.forEach(element=&gt;{..})</code>)</p>\n<p>Sequence of HTTP requests should be like in the code : Location - &gt; List of Fan Zone Administratos - &gt; List of Location Administrators</p>\n<p>Any kind of help will be appreciated!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 1, "creation_date": 1523421425, "post_id": 49764040, "comment_id": 86548565, "body": "What have you tried so far? You can get the distinct values for your IDs using the <code>map</code> operator along with this: <a href=\"https://stackoverflow.com/questions/1960473/get-all-unique-values-in-an-array-remove-duplicates\" title=\"get all unique values in an array remove duplicates\">stackoverflow.com/questions/1960473/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 9620802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76943c36f2a8da45b6c1c4458a25b53?s=128&d=identicon&r=PG&f=1", "display_name": "MistryN", "link": "https://stackoverflow.com/users/9620802/mistryn"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1523470237, "post_id": 49764040, "comment_id": 86579000, "body": "Thank you! I was able to use pipe to get unique stepNames and aoiNames."}], "owner": {"reputation": 1, "user_id": 9620802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76943c36f2a8da45b6c1c4458a25b53?s=128&d=identicon&r=PG&f=1", "display_name": "MistryN", "link": "https://stackoverflow.com/users/9620802/mistryn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523483801, "creation_date": 1523401332, "last_edit_date": 1523483801, "question_id": 49764040, "link": "https://stackoverflow.com/questions/49764040/creating-matrix-using-typescript-array", "title": "Creating matrix using typescript array", "body": "<p>My typescript code has an array which has <code>stepid</code>, <code>stepName</code>, <code>aoiId</code>, <code>aoiName</code>, <code>isChecked</code> and <code>isStepForAoi</code>.  Each combination is unique with <code>stepId</code> and <code>aoiId</code>.  I need to display this in a matrix with column made up of <code>AoiNames</code> and rows made up of <code>stepNames</code>.  </p>\n\n<pre><code>allStepAoiList =\n[\n    {\n        stepId: \"1\",\n        stepName: \"Phase 1\",\n        aoiId: \"10\",\n        aoiName: \"AOI 1\",\n        isChecked: false,\n        isStepForAoi: true\n    },\n    {\n        stepId: \"1\",\n        stepName: \"Phase 1\",\n        aoiId: \"11\",\n        aoiName: \"AOI 2\",\n        isChecked: false,\n        isStepForAoi: true\n    },\n    {\n        stepId: \"1\",\n        stepName: \"Phase 1\",\n        aoiId: \"12\",\n        aoiName: \"AOI 3\",\n        isChecked: false,\n        isStepForAoi: true\n    },\n    {\n        stepId: \"2\",\n        stepName: \"Phase 2\",\n        aoiId: \"10\",\n        aoiName: \"AOI 1\",\n        isChecked: false,\n        isStepForAoi: true\n    },\n    {\n        stepId: \"2\",\n        stepName: \"Phase 2\",\n        aoiId: \"11\",\n        aoiName: \"AOI 2\",\n        isChecked: false,\n        isStepForAoi: true\n    },\n    {\n        stepId: \"2\",\n        stepName: \"Phase 2\",\n        aoiId: \"12\",\n        aoiName: \"AOI 3\",\n        isChecked: false,\n        isStepForAoi: true\n    },\n    {\n        stepId: \"3\",\n        stepName: \"Phase 2 Consensus\",\n        aoiId: \"10\",\n        aoiName: \"AOI 1\",\n        isChecked: false,\n        isStepForAoi: false\n    },\n    {\n        stepId: \"3\",\n        stepName: \"Phase 2 Consesus\",\n        aoiId: \"11\",\n        aoiName: \"AOI 2\",\n        isChecked: false,\n        isStepForAoi: false\n    },\n    {\n        stepId: \"3\",\n        stepName: \"Phase 2 Consensus\",\n        aoiId: \"12\",\n        aoiName: \"AOI 3\",\n        isChecked: false,\n        isStepForAoi: false\n    },\n];\n</code></pre>\n\n<p>My html to display the matrix</p>\n\n<pre><code>              &lt;table class=\"k-grid\"&gt;\n                    &lt;tr class=\"k-alt\"&gt;\n                        &lt;td&gt;Step&lt;/td&gt;\n                        &lt;td&gt;Select All&lt;/td&gt;\n                        &lt;td *ngFor=\"let item of allStepAoiList;\"&gt;\n                            {{ item.aoiName }}\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr class=\"k-alt\"&gt;\n                        &lt;td&gt;&lt;/td&gt;\n                        &lt;td&gt;&lt;input type=\"checkbox\" /&gt;&lt;/td&gt;\n                        &lt;td *ngFor=\"let item of allStepAoiList;\"&gt;\n                            &lt;input type=\"checkbox\" /&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr *ngFor=\"let item of allStepAoiList; let odd = odd;\" [ngClass]=\"{ 'k-alt': odd}\"&gt;\n                        &lt;td style=\"text-align:left\"&gt;{{ item.stepName }}&lt;/td&gt;\n                        &lt;td style=\"text-align:center\"&gt;&lt;input type=\"checkbox\" /&gt;&lt;/td&gt;\n                        &lt;td *ngFor=\"let item of allStepAoiList;\" style=\"text-align:center\"&gt;\n                            &lt;div *ngIf=\"item.isStepForAoi\"&gt;\n                                &lt;input type=\"checkbox\"\n                                       (change)=\"getStepAoiDataList($event,aoi,advisorStep)\" /&gt;\n                            &lt;/div&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/table&gt;\n</code></pre>\n\n<p>Right now it displays 9 columns for AOI and 9 rows of steps:  I want it to display only 3 distinct aoi columns and 3 distinct step rows with 9 checkboxes.  Any suggestions?</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 2, "creation_date": 1523414006, "post_id": 49763492, "comment_id": 86546705, "body": "Your <code>latitude</code> and <code>longitude</code> variables are block scoped because of the <code>let</code> keyword used. Did you verify this line is working properly? <code>return {location, longitude, latitude};</code> Also have you tried to use <code>map</code> instead of <code>mergeMap</code>? I think that is where the error is coming from"}, {"owner": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "edited": false, "score": 0, "creation_date": 1523418453, "post_id": 49763492, "comment_id": 86547758, "body": "U cant access <code>longitude</code> and <code>latitude</code> outside if as you have declared them using <code>let</code> thats why <code>mergemap</code> returns undefined .. you should move ur return statement inside if.. and return something inside else..."}, {"owner": {"reputation": 1709, "user_id": 4775738, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/81c2476bdbca21bfdca3fe4bab715a2b?s=128&d=identicon&r=PG&f=1", "display_name": "curious95", "link": "https://stackoverflow.com/users/4775738/curious95"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1523653277, "post_id": 49763492, "comment_id": 86665975, "body": "@DanielWStrimpel @Rahul Thanks! That was not the main problem at the end. Problem is that <code>geocoder.geocode</code> has no return value, while <code>mergemap</code> is expecting <code>Promise</code>, <code>Observable</code> etc. Posting answer to my question soon."}], "answers": [{"tags": [], "owner": {"reputation": 1709, "user_id": 4775738, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/81c2476bdbca21bfdca3fe4bab715a2b?s=128&d=identicon&r=PG&f=1", "display_name": "curious95", "link": "https://stackoverflow.com/users/4775738/curious95"}, "is_accepted": true, "score": 1, "last_activity_date": 1523653680, "creation_date": 1523653680, "answer_id": 49825152, "question_id": 49763492, "link": "https://stackoverflow.com/questions/49763492/provided-undefined-where-stream-was-expected/49825152#49825152", "title": "Provided &#39;undefined&#39; where stream was expected", "body": "<p>I solved it... Problem is that <code>geocoder.geocode()</code> function has no return value, while <code>mergeMap()</code> is expecting an <code>Promise</code>,<code>Observable</code> etc, <code>geocoder.geocode()</code> returned <code>undefined</code>. My solution is to wrap this function with <code>Promise</code>.</p>\n\n<pre><code>    declare const require : any;\n\n        @Injectable()\n        export class GoogleMapLocationResolver implements Resolve&lt;{location: Location, longitude: number, latitude: number }&gt; {\n\n        constructor( private locationService: LocationService, \n                     private route: ActivatedRoute, \n                     private router: Router){}\n\n        resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): {location: Location, longitude: number, latitude: number } | Observable&lt;{location: Location, longitude:number, latitude: number }&gt; | Promise&lt;{location: Location, longitude: number, latitude: number }&gt; {\n\n            let geocoder = require('geocoder');\n\n            return this.locationService.getLocation(route.params['id']).map(\n                (response: Response)=&gt; { return response.json() }\n            ).mergeMap( location =&gt; new Promise&lt;any&gt;((resolve, reject) =&gt; {geocoder.geocode(location.address, function(err, data){\n                let latitude\n                let longitude\n                if(data.status === 'OK'){\n                    console.log('Status ok: ')\n                    console.log(data)\n                    let results = data.results;\n                    latitude = results[0].geometry.location.lat;\n                    longitude = results[0].geometry.location.lng;\n                    console.log(latitude); \n                    console.log(longitude); \n                }                  \n                resolve({location, longitude, latitude}(;\n    })\n            })).catch(error =&gt; {\n                this.router.navigate(['/not-found'])\n                return Observable.throw(error);\n            })  \n          }\n</code></pre>\n"}], "owner": {"reputation": 1709, "user_id": 4775738, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/81c2476bdbca21bfdca3fe4bab715a2b?s=128&d=identicon&r=PG&f=1", "display_name": "curious95", "link": "https://stackoverflow.com/users/4775738/curious95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15770, "favorite_count": 0, "accepted_answer_id": 49825152, "answer_count": 1, "score": 0, "last_activity_date": 1523653680, "creation_date": 1523397696, "last_edit_date": 1523653156, "question_id": 49763492, "link": "https://stackoverflow.com/questions/49763492/provided-undefined-where-stream-was-expected", "title": "Provided &#39;undefined&#39; where stream was expected", "body": "<p>I am trying to send chained http requests using Rxjs, but I am getting this error...</p>\n\n<blockquote>\n  <p>Error: Uncaught (in promise): TypeError: You provided 'undefined' where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.\n  TypeError: You provided 'undefined' where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.</p>\n</blockquote>\n\n<p>I want to get location object from my API, then I want to get latitude and longitude based on <code>location.address</code>.</p>\n\n<pre><code>declare const require : any;\n\n@Injectable()\nexport class GoogleMapLocationResolver implements Resolve&lt;{location: Location, longitude: number, latitude: number }&gt; {\n\nconstructor( private locationService: LocationService, \n             private route: ActivatedRoute, \n             private router: Router){}\n\nresolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): {location: Location, longitude: number, latitude: number } | Observable&lt;{location: Location, longitude:number, latitude: number }&gt; | Promise&lt;{location: Location, longitude: number, latitude: number }&gt; {\n\n    let geocoder = require('geocoder');\n\n    return this.locationService.getLocation(route.params['id']).map(\n        (response: Response)=&gt; { return response.json() }\n    ).mergeMap(location =&gt; geocoder.geocode(location.address, function(err, data){\n        let latitude\n        let longitude\n        if(data.status === 'OK'){\n            console.log('Status ok: ')\n            console.log(data)\n            let results = data.results;\n            latitude = results[0].geometry.location.lat;\n            longitude = results[0].geometry.location.lng;\n            console.log(latitude); // PRINTS CORRECT\n            console.log(longitude); // PRINTS CORRECT\n        }                  \n        return {location, longitude, latitude};\n    })).catch(error =&gt; {\n        this.router.navigate(['/not-found'])\n        return Observable.throw(error);\n    })  \n  }\n}\n</code></pre>\n\n<p><strong>NOTE:</strong> Whats very weird is that after this error, console prints latitude and longitude correct! ('// PRINTS CORRECT' comment)</p>\n\n<p>EDIT: Yep my mistake, I declared variables in if, but that was not a problem at the end. Posting solution soon.</p>\n"}, {"tags": ["typescript", "mocha.js", "ts-node"], "answers": [{"comments": [{"owner": {"reputation": 4157, "user_id": 2115971, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zkMcT.jpg?s=128&g=1", "display_name": "richbai90", "link": "https://stackoverflow.com/users/2115971/richbai90"}, "edited": false, "score": 0, "creation_date": 1523462865, "post_id": 49774218, "comment_id": 86575033, "body": "Thanks for the advice, if the issue resurfaces and my answer doesn&#39;t fix it, I&#39;ll remember this."}], "tags": [], "owner": {"reputation": 441, "user_id": 2347763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e6ffcb0fec3f9ceca8f020698bc53d?s=128&d=identicon&r=PG", "display_name": "user2347763", "link": "https://stackoverflow.com/users/2347763/user2347763"}, "is_accepted": false, "score": 1, "last_activity_date": 1523446902, "creation_date": 1523446902, "answer_id": 49774218, "question_id": 49763251, "link": "https://stackoverflow.com/questions/49763251/cannot-test-typescript-with-mocha-syntax-error/49774218#49774218", "title": "Cannot test typescript with mocha syntax error", "body": "<ol>\n<li><p>Use <code>mocha -compilers &lt;path to ts-node&gt;</code> <strong>eg. node_modules\\ts-node\\register</strong> <code>test/test-node-hooks.ts</code></p></li>\n<li><p>If the above does not work, recompile the .ts file with tsc test-node-hooks.ts and run the mocha command again.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 4157, "user_id": 2115971, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zkMcT.jpg?s=128&g=1", "display_name": "richbai90", "link": "https://stackoverflow.com/users/2115971/richbai90"}, "is_accepted": true, "score": 0, "last_activity_date": 1548269343, "last_edit_date": 1548269343, "creation_date": 1523462840, "answer_id": 49779826, "question_id": 49763251, "link": "https://stackoverflow.com/questions/49763251/cannot-test-typescript-with-mocha-syntax-error/49779826#49779826", "title": "Cannot test typescript with mocha syntax error", "body": "<p>In my case it was a simple issue of an existing globally installed <code>ts-node</code> that I had forgotten about. Uninstalling that fixed the problem.</p>\n"}], "owner": {"reputation": 4157, "user_id": 2115971, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zkMcT.jpg?s=128&g=1", "display_name": "richbai90", "link": "https://stackoverflow.com/users/2115971/richbai90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 0, "accepted_answer_id": 49779826, "answer_count": 2, "score": 1, "last_activity_date": 1548269343, "creation_date": 1523396420, "question_id": 49763251, "link": "https://stackoverflow.com/questions/49763251/cannot-test-typescript-with-mocha-syntax-error", "title": "Cannot test typescript with mocha syntax error", "body": "<p>I've set up my mocha test command like so</p>\n\n<pre><code>mocha --require test/ts-node-hooks.js test/**/*.spec.ts\n</code></pre>\n\n<p>And my <code>ts-node-hooks.js</code> file like so</p>\n\n<pre><code>const path = require('path');\nrequire(\"ts-node\").register({\n    project: path.resolve(__dirname, 'tsconfig.json'),\n});\n</code></pre>\n\n<p>My <code>tsconfig.json</code> file in the <code>/test</code> directory is set to use <code>ESNEXT</code> as the javascript target</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    /* Basic Options */\n    \"target\": \"ESNEXT\",                          /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', or 'ESNEXT'. */\n    \"module\": \"commonjs\",                     /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */\n    \"types\": [\"@3846masa/axios-cookiejar-support\"]                           /* Type declaration files to be included in compilation. */\n  }\n}\n</code></pre>\n\n<p>But I keep getting this error</p>\n\n<pre><code>$ mocha --require test/ts-node-hooks.js test/**/*.spec.ts\n/src/Call.ts:41\n            return (async () =&gt; this._callClass = await this.getCallValue('callclass'))();\n                          ^\nSyntaxError: Unexpected token (\n</code></pre>\n\n<p><code>tsc version 2.6.2</code> has no problem compiling the code.</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "iframe"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523393760, "post_id": 49762504, "comment_id": 86540990, "body": "Please do not attempt to learn from <a href=\"https://www.w3schools.com\" rel=\"nofollow noreferrer\">w3schools.com</a>"}, {"owner": {"reputation": 364, "user_id": 4672234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a78f7ea1957b53050deced2a7e4e36b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/4672234/steve"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1527785855, "post_id": 49762504, "comment_id": 88268579, "body": "@AluanHaddad why?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 364, "user_id": 4672234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a78f7ea1957b53050deced2a7e4e36b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/4672234/steve"}, "edited": false, "score": 0, "creation_date": 1529154987, "post_id": 49762504, "comment_id": 88777789, "body": "@Steve because it provides incorrect information and promotes exceptionally bad practices to this day."}], "answers": [{"tags": [], "owner": {"reputation": 463, "user_id": 2250700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/edLk5.jpg?s=128&g=1", "display_name": "Michael Kucinski", "link": "https://stackoverflow.com/users/2250700/michael-kucinski"}, "is_accepted": true, "score": 3, "last_activity_date": 1523411439, "creation_date": 1523411439, "answer_id": 49765263, "question_id": 49762504, "link": "https://stackoverflow.com/questions/49762504/how-to-iframe-in-angular4/49765263#49765263", "title": "How to iframe in angular4?", "body": "<p>If you were to look in your console, you'd probably see this message:</p>\n\n<pre><code>Refused to display 'https://www.w3schools.com/' in a frame because it set 'X-Frame-Options' to 'sameorigin'.\n</code></pre>\n\n<p>The <code>X-Frame-Options</code> header allows websites to prevent sites with differing origins (domains) from using them within an <code>&lt;iframe/&gt;</code>. This basically means that only pages hosted on <code>www.w3schools.com</code> can use that url in an <code>&lt;iframe/&gt;</code> source. <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options\" rel=\"nofollow noreferrer\">You can read more about it here</a>.</p>\n\n<p>You code (which you neglected so share much of) is most likely okay syntactically. You can try another url for your <code>&lt;iframe/&gt;</code>.</p>\n"}], "owner": {"reputation": 737, "user_id": 8747207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-R1BCkXtE1t4/AAAAAAAAAAI/AAAAAAAAABk/04aQ8PYOW6s/photo.jpg?sz=128", "display_name": "Sergio Mendez", "link": "https://stackoverflow.com/users/8747207/sergio-mendez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 858, "favorite_count": 0, "accepted_answer_id": 49765263, "answer_count": 1, "score": 0, "last_activity_date": 1529155049, "creation_date": 1523392683, "last_edit_date": 1529155049, "question_id": 49762504, "link": "https://stackoverflow.com/questions/49762504/how-to-iframe-in-angular4", "title": "How to iframe in angular4?", "body": "<p>I got this in my angular2 v4 app:</p>\n\n<pre><code>&lt;iframe src=\"https://www.w3schools.com\" style=\"width: 100%; height: 500px\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>but it doesn't work. How can I make this work? I tried using <code>| safe</code> but it does not work either. Please help</p>\n"}, {"tags": ["javascript", "angular", "typescript", "dependency-injection", "httpclient"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1523392238, "post_id": 49762369, "comment_id": 86540197, "body": "I think you have to use <code>public http: HttpClient</code> (or <code>private</code>) for dependency injection"}, {"owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 1, "creation_date": 1523392396, "post_id": 49762369, "comment_id": 86540280, "body": "not necessarily. public or private only makes them a class level property."}, {"owner": {"reputation": 116, "user_id": 7846682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bf3d519235f18e09d74ab3a39b066b?s=128&d=identicon&r=PG&f=1", "display_name": "BSchnitzel", "link": "https://stackoverflow.com/users/7846682/bschnitzel"}, "edited": false, "score": 0, "creation_date": 1523392670, "post_id": 49762369, "comment_id": 86540394, "body": "Does this help? <a href=\"https://stackoverflow.com/questions/45372318/argument-of-type-http-is-not-assignable-to-parameter-of-type-http-in-ionic-n\">link</a>"}, {"owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "edited": false, "score": 0, "creation_date": 1523392806, "post_id": 49762369, "comment_id": 86540478, "body": "I saw that too and actually had that issue a while ago. lol It does not help though as that questions deals with the deprecated @angular/http."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523392994, "post_id": 49762369, "comment_id": 86540584, "body": "Please add the superclass Constructor. Also I&#39;d like to see the imports in both modules. I agree that this is probably a dependency issue"}, {"owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523393419, "post_id": 49762369, "comment_id": 86540822, "body": "@AluanHaddad If you look at the last part, the bare minimum code, that is exactly how the super class constructor looks like. Just previously declared private properties and assigned within the constructor. They both import HttpClient from &#39;@angular/common/http&#39;"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523393660, "post_id": 49762369, "comment_id": 86540939, "body": "@AnjilDhamala I think I see what it is. Are you using a linked to develop the local package? Are all of your angular dependencies peers?"}, {"owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "edited": false, "score": 0, "creation_date": 1523394141, "post_id": 49762369, "comment_id": 86541150, "body": "I&#39;m not sure I understand your question. The AuthenticationService comes from a local shared module that holds a lot of providers (Injectables) that is shared between a mobile app and website. The module is installed as a dependency via npm and I&#39;ve linked it to the mobile moudle I&#39;m working on (via npm link). Both the mobile app and the shared local module have their own package.json with same @angular components (common, compiler, core...) versions."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523394545, "post_id": 49762369, "comment_id": 86541322, "body": "@AnjilDhamala that&#39;s what I thought you meant indeed. Do all the packages lisr Angular under peeeDependencies  and with the same version"}, {"owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "edited": false, "score": 0, "creation_date": 1523394625, "post_id": 49762369, "comment_id": 86541357, "body": "No, the shared module doesn&#39;t list angular under peerDependencies. Neither does the mobile."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523395068, "post_id": 49762369, "comment_id": 86541548, "body": "@AnjilDhamala well they should. Also try <code>--preserveSymlinks</code>"}, {"owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1523395976, "post_id": 49762369, "comment_id": 86541926, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/168683/discussion-between-anjil-dhamala-and-aluan-haddad\">continue this discussion in chat</a>."}], "owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 768, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523393216, "creation_date": 1523392105, "last_edit_date": 1523393216, "question_id": 49762369, "link": "https://stackoverflow.com/questions/49762369/angular-dependency-injection-super-call", "title": "Angular Dependency Injection/Super() call", "body": "<p>I am trying to extend a class and replace a dependency with another class that extends the aforementioned dependency. However, I am getting this error when I pass the injected instance of http to the super call.</p>\n\n<blockquote>\n  <p>Argument of the type 'HttpClient' is not assignable to the parameter\n  of the type 'HttpClient'. Types have separate declarations of a\n  private property 'handler''.</p>\n</blockquote>\n\n<p>This is the provider that I want to use instead of AuthenticationService because it is injected with MobileAppConfig dependency instead of AppConfig. </p>\n\n<pre><code>@Injectable()\nexport class MobileAuthenticationService extends AuthenticationService {\n\n    constructor(appConfig: MobileAppConfig, http: HttpClient, cookieService: CookieService, userSession: UserSession, someService: SomeService){\n        super(appConfig, http, cookieService, userSession, someService);\n    }\n}\n</code></pre>\n\n<p>This is my MobileAppConfig class.</p>\n\n<pre><code>@Injectable()\nexport class MobileAppConfig extends AppConfig{\n\n    constructor(private platform: Platform) {\n        super();\n        this.baseUrl = Servers.STAGE.url;\n    }\n\n    set baseURL(server: string) {\n        switch (server) {\n            case Servers.PROD.key:\n                this.baseUrl = Servers.PROD.url;\n                break;\n            case Servers.STAGE.key:\n                this.baseUrl = Servers.STAGE.url;\n                break;\n            case Servers.QA.key:\n                this.baseUrl = Servers.QA.url;\n                break;\n            default:\n                this.baseUrl = Servers.DEV.url;\n                break;\n        }\n    }\n}\n</code></pre>\n\n<p>I'd like to mention that AuthenticationService is a local dependency module and has angular/common 5.1.1, same as the project I am working on. </p>\n\n<p>If there is another way to accomplish what I am trying to achieve, then I would welcome those suggestions too. </p>\n\n<p>Just did a bare minimum testing to see if I could produce the error in another scenario and I was not able to. No errors here.</p>\n\n<pre><code>@Injectable()\nexport class HttpInjectedClass {\n    httpClient: HttpClient;\n    constructor(httpClient: HttpClient) {\n        this.httpClient = httpClient;\n    }\n}\n\n@Injectable()\nexport class MobileAuthenticationService extends HttpInjectedClass {\n\n    constructor(http: HttpClient) {\n        super(http);\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "dom"], "answers": [{"comments": [{"owner": {"reputation": 734, "user_id": 5557043, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7260f64fa53d381899eb7ed44651b3bf?s=128&d=identicon&r=PG&f=1", "display_name": "CodeMan03", "link": "https://stackoverflow.com/users/5557043/codeman03"}, "edited": false, "score": 0, "creation_date": 1523400020, "post_id": 49762325, "comment_id": 86543308, "body": "This isn&#39;t working either. So what is happening here is once the event is unsubscribed the window loses scope. I tested in debug mode with var clipboardContent = window.getSelection().toString(); in the subscribe event the content is set properly but soon as the event leaves the content dissappears"}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": false, "score": 0, "last_activity_date": 1523391939, "creation_date": 1523391939, "answer_id": 49762325, "question_id": 49762082, "link": "https://stackoverflow.com/questions/49762082/clipboard-copy-event-losing-scope-inside-subscribe-event/49762325#49762325", "title": "Clipboard Copy Event losing scope inside Subscribe event", "body": "<p>Try to call another method out of the subscription and hand in the sqlString as a parameter.</p>\n\n<pre><code>getAllUserDetail() {\n  this._service.getUserDetails(this.model).subscribe(jentries =&gt; {\n      this.applyValues(jentries);\n   });\n}\n\napplyValues(sqlString: string) {\n\n    const selBox = document.createElement('textarea');\n\n    selBox.style.position = 'fixed';\n\n    selBox.style.left = '0';\n\n    selBox.style.top = '0';\n\n    selBox.style.opacity = '0';\n\n    selBox.value = sqlString;\n\n\n\n    document.body.appendChild(selBox);\n\n    selBox.focus();\n\n    selBox.select();\n\n    document.execCommand('copy');\n\n    document.body.removeChild(selBox);\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 734, "user_id": 5557043, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7260f64fa53d381899eb7ed44651b3bf?s=128&d=identicon&r=PG&f=1", "display_name": "CodeMan03", "link": "https://stackoverflow.com/users/5557043/codeman03"}, "is_accepted": true, "score": 0, "last_activity_date": 1523543964, "creation_date": 1523543964, "answer_id": 49799429, "question_id": 49762082, "link": "https://stackoverflow.com/questions/49762082/clipboard-copy-event-losing-scope-inside-subscribe-event/49799429#49799429", "title": "Clipboard Copy Event losing scope inside Subscribe event", "body": "<p>I had to call my subscribe event from another function and assign the entries to a class variable.</p>\n\n<p>Then when the user hit the button i copied the text to the clipboard that way by using the already assigned class variable. </p>\n\n<p>It wasn't what I was looking for but it got the job done.</p>\n"}], "owner": {"reputation": 734, "user_id": 5557043, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7260f64fa53d381899eb7ed44651b3bf?s=128&d=identicon&r=PG&f=1", "display_name": "CodeMan03", "link": "https://stackoverflow.com/users/5557043/codeman03"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 49799429, "answer_count": 2, "score": 1, "last_activity_date": 1523543964, "creation_date": 1523390715, "last_edit_date": 1523453194, "question_id": 49762082, "link": "https://stackoverflow.com/questions/49762082/clipboard-copy-event-losing-scope-inside-subscribe-event", "title": "Clipboard Copy Event losing scope inside Subscribe event", "body": "<p>Ok I am trying to copy text to the clipboard in angular 2. This is my function on button press. It goes out to the database to return a bunch of data. I format this into readable strings and copy it to the clipboard automatically.</p>\n\n<p>\u00a0</p>\n\n<p>The problem is it works fine outside of the subscribe event but if it is inside the subscribe event then nothing gets copied to the clipboard. </p>\n\n<p>So what is happening here is once the event is unsubscribed the window loses scope and the clipboard becomes empty. I tested in debug mode with var clipboardContent = window.getSelection().toString(); in the subscribe event the content is set properly but soon as the event leaves the content disappears </p>\n\n<p>\u00a0</p>\n\n<pre><code>getAllUserDetail() {\n\n\u00a0\n\n\u00a0\u00a0 const selBox = document.createElement('textarea');\n\n\u00a0 this._service.getUserDetails(this.model)\n\n\u00a0 .subscribe(jentries =&gt; {\n\n\u00a0\u00a0\u00a0 const entryText = jentries;\n\n\u00a0\u00a0\u00a0 selBox.style.position = 'fixed';\n\n\u00a0\u00a0\u00a0 selBox.style.left = '0';\n\n\u00a0\u00a0\u00a0 selBox.style.top = '0';\n\n\u00a0\u00a0\u00a0 selBox.style.opacity = '0';\n\n\u00a0\u00a0\u00a0 selBox.value = sqlString;\n\n\u00a0\n\n\u00a0\u00a0\u00a0 document.body.appendChild(selBox);\n\n\u00a0\u00a0\u00a0 selBox.focus();\n\n\u00a0\u00a0\u00a0 selBox.select();\n\n\u00a0\n\n\u00a0\u00a0\u00a0 document.execCommand('copy');\n\n\u00a0\u00a0\u00a0 document.body.removeChild(selBox);\n\n}\n</code></pre>\n\n<p>but this works but not what I need</p>\n\n<p>\u00a0</p>\n\n<p>\u00a0\u00a0\u00a0\u00a0</p>\n\n<pre><code> getAllUserDetail() {\n\n\u00a0\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 const entryText = 'TEST DATA;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 selBox.style.position = 'fixed';\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 selBox.style.left = '0';\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 selBox.style.top = '0';\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 selBox.style.opacity = '0';\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 selBox.value = sqlString;\n\n\u00a0\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 document.body.appendChild(selBox);\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 selBox.focus();\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 selBox.select();\n\n\u00a0\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 document.execCommand('copy');\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 document.body.removeChild(selBox);\n\n\u00a0\n\n\u00a0\n\n\u00a0\u00a0\u00a0 this._service.getUserDetails(this.model)\n\n\u00a0\u00a0\u00a0\u00a0\u00a0 .subscribe(jentries =&gt; { });\n\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 1, "creation_date": 1523390540, "post_id": 49761972, "comment_id": 86539376, "body": "As of yet, I haven&#39;t found a case where <code>enum</code> worked better, more clearly or more safely than a string literal type. One advantage of string literals is that you can leverage generics with <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"nofollow noreferrer\">pick/keyof</a>. I don&#39;t think you can do that with an <code>enum</code>."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 9, "creation_date": 1523390791, "post_id": 49761972, "comment_id": 86539483, "body": "One thing to consider is maintainability: if the values of the strings are subject to change then using a string-enum means only changing 1 string literal, whereas using a string-type means changing them everywhere they&#39;re used."}], "answers": [{"comments": [{"owner": {"reputation": 3450, "user_id": 6191996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504f78646955fcac7085b880890cd82e?s=128&d=identicon&r=PG&f=1", "display_name": "jowey", "link": "https://stackoverflow.com/users/6191996/jowey"}, "edited": false, "score": 5, "creation_date": 1523391275, "post_id": 49762118, "comment_id": 86539735, "body": "So you would say there is no real difference in the way they act (they both achieve the same goal), but Enums give some extra abstraction that might be helpfull in later stages of a project e.g. for refactoring?"}, {"owner": {"reputation": 700, "user_id": 10606984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47cf578253acbd008e9eb2e207872833?s=128&d=identicon&r=PG&f=1", "display_name": "colemars", "link": "https://stackoverflow.com/users/10606984/colemars"}, "reply_to_user": {"reputation": 3450, "user_id": 6191996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504f78646955fcac7085b880890cd82e?s=128&d=identicon&r=PG&f=1", "display_name": "jowey", "link": "https://stackoverflow.com/users/6191996/jowey"}, "edited": false, "score": 0, "creation_date": 1596212690, "post_id": 49762118, "comment_id": 111749590, "body": "@jowey if you were building a component library for example you want to expose the literal string I think."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 43, "last_activity_date": 1523427931, "last_edit_date": 1523427931, "creation_date": 1523390888, "answer_id": 49762118, "question_id": 49761972, "link": "https://stackoverflow.com/questions/49761972/difference-between-string-enums-and-string-literal-types-in-ts/49762118#49762118", "title": "Difference between string enums and string literal types in TS", "body": "<p>The key thing to understand is that <em>the values of string enums are opaque</em>.</p>\n\n<p>The intended use case for a string enum is that you don't want other code to know or care what the literal string backing <code>MyKeyType.FOO</code> is. This means that you won't be able to, say, pass the <em>literal string</em> <code>\"bar\"</code> to a function accepting a <code>MyKeyType</code> -- you'll have to write <code>MyKeyType.BAR</code> instead.</p>\n"}, {"comments": [{"owner": {"reputation": 3450, "user_id": 6191996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504f78646955fcac7085b880890cd82e?s=128&d=identicon&r=PG&f=1", "display_name": "jowey", "link": "https://stackoverflow.com/users/6191996/jowey"}, "edited": false, "score": 2, "creation_date": 1523438738, "post_id": 49762122, "comment_id": 86557542, "body": "good points and you answered my question in the comments of Ryans answer, but his gave me deeper understanding"}, {"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "reply_to_user": {"reputation": 3450, "user_id": 6191996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504f78646955fcac7085b880890cd82e?s=128&d=identicon&r=PG&f=1", "display_name": "jowey", "link": "https://stackoverflow.com/users/6191996/jowey"}, "edited": false, "score": 0, "creation_date": 1523439073, "post_id": 49762122, "comment_id": 86557778, "body": "Sure, I was only intending to supplement his answer :)"}], "tags": [], "owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "is_accepted": false, "score": 13, "last_activity_date": 1550603668, "last_edit_date": 1550603668, "creation_date": 1523390913, "answer_id": 49762122, "question_id": 49761972, "link": "https://stackoverflow.com/questions/49761972/difference-between-string-enums-and-string-literal-types-in-ts/49762122#49762122", "title": "Difference between string enums and string literal types in TS", "body": "<p>One benefit for an enum at development time is that you will see the list of options easily via intellisense:</p>\n\n<p><a href=\"https://i.stack.imgur.com/X3IJr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/X3IJr.png\" alt=\"enter image description here\"></a></p>\n\n<p>Similarly, you could change an enum value easily using refactoring tools, instead of changing a string everywhere.</p>\n\n<p>Edit: In VS 2017 and TypeScript >=3.2.4, intellisense works with string literal types:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZeRsx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZeRsx.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 3450, "user_id": 6191996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504f78646955fcac7085b880890cd82e?s=128&d=identicon&r=PG&f=1", "display_name": "jowey", "link": "https://stackoverflow.com/users/6191996/jowey"}, "edited": false, "score": 2, "creation_date": 1586982017, "post_id": 54455743, "comment_id": 108334403, "body": "Thank you for the informative addition. I just wanted to remark that when using <i>const enum</i> you lose some of the capabilities of <i>numeric enums</i> or <i>string enums</i> (e.g. you can&#39;t loop them anymore). If you try nevertheless, the TS compiler complains <i>&#39;const&#39; enums can only be used in property or index access expressions or the right hand side of an import declaration or export assignment or type query</i>. With your example it&#39;s obvious why this is the case."}, {"owner": {"reputation": 724, "user_id": 1959148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ffbc9bf6a30e0f8a3e283c734b7152f?s=128&d=identicon&r=PG", "display_name": "zeachco", "link": "https://stackoverflow.com/users/1959148/zeachco"}, "edited": false, "score": 2, "creation_date": 1587491861, "post_id": 54455743, "comment_id": 108531233, "body": "just a little note about <code>const enum</code>: For transpiling TS with Babel, since version 7, we can&#39;t use <code>const enum</code> anymore. Until they fix it (<a href=\"https://github.com/babel/babel/issues/8741\" rel=\"nofollow noreferrer\">github.com/babel/babel/issues/8741</a>) you might see your project break when it gets migrated to newer builds systems. Note that babel7 over babel6 transpilation is close to twice as fast to compile TS so it&#39;s likely that most developpers would push for that migration and have to refactor all const enum to enums adding all that extra code in your production bundle."}], "tags": [], "owner": {"reputation": 740, "user_id": 3784703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/75222e01b42f92e25d99f5d33495f49d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel R", "link": "https://stackoverflow.com/users/3784703/daniel-r"}, "is_accepted": false, "score": 40, "last_activity_date": 1548923041, "last_edit_date": 1548923041, "creation_date": 1548921307, "answer_id": 54455743, "question_id": 49761972, "link": "https://stackoverflow.com/questions/49761972/difference-between-string-enums-and-string-literal-types-in-ts/54455743#54455743", "title": "Difference between string enums and string literal types in TS", "body": "<p>Well, there is a <strong>difference</strong> between string enums and literal types in the transpiled code.</p>\n\n<p>Compare the <strong>Typescript</strong> Code</p>\n\n<pre><code>// with a String Literal Type \ntype MyKeyType1 = 'foo' | 'bar' | 'baz';\n\n// or with a String Enum   \nenum MyKeyType2 {\n   FOO = 'foo',\n   BAR = 'bar',\n   BAZ = 'baz'\n}\n</code></pre>\n\n<p>With the <strong>transpiled JavaScript</strong> Code</p>\n\n<pre><code>// or with a String Enum   \nvar MyKeyType2;\n(function (MyKeyType2) {\n    MyKeyType2[\"FOO\"] = \"foo\";\n    MyKeyType2[\"BAR\"] = \"bar\";\n    MyKeyType2[\"BAZ\"] = \"baz\";\n})(MyKeyType2 || (MyKeyType2 = {}));\n</code></pre>\n\n<p>What you can see is, there is no generated code for the string literal. Because Typescripts Transpiler is only using for type safety while transpiling. At runtime string literals are \"generated to dumb\" strings. No references between the definition of the literal and the usages.</p>\n\n<p>So there is a third alternative called <strong>const enum</strong></p>\n\n<p>Look at this</p>\n\n<pre><code>// with a String Literal Type \ntype MyKeyType1 = 'foo' | 'bar' | 'baz';\n\n// or with a String Enum   \nenum MyKeyType2 {\n   FOO = 'foo',\n   BAR = 'bar',\n   BAZ = 'baz'\n}\n\n// or with a Const String Enum   \nconst enum MyKeyType3 {\n   FOO = 'foo',\n   BAR = 'bar',\n   BAZ = 'baz'\n}\n\nvar a : MyKeyType1 = \"bar\" \nvar b: MyKeyType2 = MyKeyType2.BAR\nvar c: MyKeyType3 = MyKeyType3.BAR\n</code></pre>\n\n<p>will be transpiled to</p>\n\n<pre><code>// or with a String Enum   \nvar MyKeyType2;\n(function (MyKeyType2) {\n    MyKeyType2[\"FOO\"] = \"foo\";\n    MyKeyType2[\"BAR\"] = \"bar\";\n    MyKeyType2[\"BAZ\"] = \"baz\";\n})(MyKeyType2 || (MyKeyType2 = {}));\nvar a = \"bar\";\nvar b = MyKeyType2.BAR;\nvar c = \"bar\" /* BAR */;\n</code></pre>\n\n<p><strong>For further playing you can check this <a href=\"http://www.typescriptlang.org/play/index.html#src=%20%20%20%2F%2F%20with%20a%20String%20Literal%20Type%20%0D%0A%20%20%20type%20MyKeyType1%20%3D%20&#39;foo&#39;%20%7C%20&#39;bar&#39;%20%7C%20&#39;baz&#39;%3B%0D%0A%0D%0A%20%20%20%20%2F%2F%20or%20with%20a%20String%20Enum%20%20%20%0D%0A%20%20%20%20enum%20MyKeyType2%20%7B%0D%0A%20%20%20%20%20%20%20FOO%20%3D%20&#39;foo&#39;%2C%0D%0A%20%20%20%20%20%20%20BAR%20%3D%20&#39;bar&#39;%2C%0D%0A%20%20%20%20%20%20%20BAZ%20%3D%20&#39;baz&#39;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20%2F%2F%20or%20with%20a%20String%20Enum%20%20%20%0D%0A%20%20%20%20const%20enum%20MyKeyType3%20%7B%0D%0A%20%20%20%20%20%20%20FOO%20%3D%20&#39;foo&#39;%2C%0D%0A%20%20%20%20%20%20%20BAR%20%3D%20&#39;bar&#39;%2C%0D%0A%20%20%20%20%20%20%20BAZ%20%3D%20&#39;baz&#39;%0D%0A%7D%0D%0A%20%20%20%20%0D%0A%0D%0Avar%20a%20%3A%20MyKeyType1%20%3D%20%22bar%22%20%0D%0Avar%20b%3A%20MyKeyType2%20%3D%20MyKeyType2.BAR%0D%0Avar%20c%3A%20MyKeyType3%20%3D%20MyKeyType3.BAR%0D%0A%0D%0A\" rel=\"noreferrer\">link</a></strong></p>\n\n<p>I prefer the const enum case, because of the convenient way of typing Enum.Value. Typescript will do the rest for me to get the highest performance when transpiling.</p>\n"}, {"comments": [{"owner": {"reputation": 16662, "user_id": 9119186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFjFW.png?s=128&g=1", "display_name": "Vencovsky", "link": "https://stackoverflow.com/users/9119186/vencovsky"}, "edited": false, "score": 0, "creation_date": 1610926563, "post_id": 65394213, "comment_id": 116279958, "body": "The fact that you can assign any value to the variable is something very important to notice. It&#39;s also kind of weird, why there isn&#39;t a compiler error?"}, {"owner": {"reputation": 3450, "user_id": 6191996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504f78646955fcac7085b880890cd82e?s=128&d=identicon&r=PG&f=1", "display_name": "jowey", "link": "https://stackoverflow.com/users/6191996/jowey"}, "edited": false, "score": 0, "creation_date": 1611089317, "post_id": 65394213, "comment_id": 116337295, "body": "This drawback seems to be intentional, to support bit flags - <a href=\"https://stackoverflow.com/a/57334710/6191996\">see answer here</a>."}], "tags": [], "owner": {"reputation": 781, "user_id": 271889, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/d45dfa94b011c7b1cffcf682ca6cc551?s=128&d=identicon&r=PG", "display_name": "Andrea Scarafoni", "link": "https://stackoverflow.com/users/271889/andrea-scarafoni"}, "is_accepted": false, "score": 1, "last_activity_date": 1608559592, "creation_date": 1608559592, "answer_id": 65394213, "question_id": 49761972, "link": "https://stackoverflow.com/questions/49761972/difference-between-string-enums-and-string-literal-types-in-ts/65394213#65394213", "title": "Difference between string enums and string literal types in TS", "body": "<p>A big downside of enum is that if you use number instead of string, the entirely enum is not safety in my opinion: i can always assign any number value to a variable of this kind</p>\n<pre><code>enum TYPE {MAN = 1, WOMAN = 2, BOY = 3, GIRL = 4};\nlet foo: TYPE = TYPE.MAN;\nfoo = 37.14; //no problem for compiler\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1765, "user_id": 1434301, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d8de9f3bd3f0ca6d0d32e63696c52bf3?s=128&d=identicon&r=PG", "display_name": "yantrab", "link": "https://stackoverflow.com/users/1434301/yantrab"}, "is_accepted": false, "score": 0, "last_activity_date": 1612171920, "creation_date": 1612171920, "answer_id": 65990202, "question_id": 49761972, "link": "https://stackoverflow.com/questions/49761972/difference-between-string-enums-and-string-literal-types-in-ts/65990202#65990202", "title": "Difference between string enums and string literal types in TS", "body": "<p>One benefit by using enum instead of string literal is that you can use it also in places that you don't declare the types.</p>\n<p>for example -</p>\n<pre><code>assert.equal(result.keyType, KeyType.FOO)\n</code></pre>\n"}], "owner": {"reputation": 3450, "user_id": 6191996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504f78646955fcac7085b880890cd82e?s=128&d=identicon&r=PG&f=1", "display_name": "jowey", "link": "https://stackoverflow.com/users/6191996/jowey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12477, "favorite_count": 4, "accepted_answer_id": 49762118, "answer_count": 5, "score": 83, "last_activity_date": 1612171920, "creation_date": 1523390326, "last_edit_date": 1523390759, "question_id": 49761972, "link": "https://stackoverflow.com/questions/49761972/difference-between-string-enums-and-string-literal-types-in-ts", "title": "Difference between string enums and string literal types in TS", "body": "<p>Assuming I want to ensure that <code>myKey</code> in <code>{ myKey: '' }</code> only contains the strings <code>foo</code>, <code>bar</code>, <code>baz</code>, I could achieve this in two ways.</p>\n\n<pre><code>   // with a String Literal Type \n   type MyKeyType = 'foo' | 'bar' | 'baz';\n\n    // or with a String Enum   \n    enum MyKeyType {\n       FOO = 'foo',\n       BAR = 'bar',\n       BAZ = 'baz'\n    }\n</code></pre>\n\n<p>I wonder where the pros and cons of one over the other are, as both look the same to me (exept from the way I would access the values for e.g. a condition check).</p>\n\n<p>The only difference I found in the TS documentation is that Enums are real objects at runtime, what might be desirable in some cases.</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "class"], "comments": [{"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1523389541, "post_id": 49761744, "comment_id": 86538873, "body": "What did you try?"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1523389560, "post_id": 49761744, "comment_id": 86538888, "body": "Just add an array property to <code>AnotherClass</code> as well as a <code>fill</code> method?"}], "answers": [{"tags": [], "owner": {"reputation": 49343, "user_id": 2082673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gmyMb.jpg?s=128&g=1", "display_name": "dave", "link": "https://stackoverflow.com/users/2082673/dave"}, "is_accepted": true, "score": 1, "last_activity_date": 1523389970, "creation_date": 1523389970, "answer_id": 49761874, "question_id": 49761744, "link": "https://stackoverflow.com/questions/49761744/typescript-class-to-another-class/49761874#49761874", "title": "TypeScript class to another class", "body": "<p>You have to tell <code>values</code> what <code>this</code> refers to.  I'm not sure what <code>.fill</code> does, but you could probably just use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call\" rel=\"nofollow noreferrer\">.call</a>, and do it like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var ad = {}\r\n\r\nfunction values(data1,data2){\r\n    this.one = data1;\r\n    this.sec = data2;\r\n}\r\n\r\n values.call(ad, 1, 2);\r\n values.call(ad, 5, 2)\r\n\r\n console.log(ad); // {one: 5, sec: 2}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 9626914, "user_type": "registered", "profile_image": "https://graph.facebook.com/1651435384924375/picture?type=large", "display_name": "P&#225;l Farkas", "link": "https://stackoverflow.com/users/9626914/p%c3%a1l-farkas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 49761874, "answer_count": 1, "score": 0, "last_activity_date": 1536341886, "creation_date": 1523389389, "last_edit_date": 1536341886, "question_id": 49761744, "link": "https://stackoverflow.com/questions/49761744/typescript-class-to-another-class", "title": "TypeScript class to another class", "body": "<p>I have class values and I want to store it another class.</p>\n\n<pre><code>function values(data1,data2){\n   this.one = data1;\n   this.sec = data2;\n}\n</code></pre>\n\n<p>I want store in another class this class values like -></p>\n\n<pre><code>let ad = AnotherClass();\nad.fill(values(1,2));\nad.fill(values(5,2));\n</code></pre>\n\n<p>And I don't know how to build this AnotherClass() to store this values, thanks for the help!</p>\n"}, {"tags": ["javascript", "html", "typescript", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "edited": false, "score": 0, "creation_date": 1523391984, "post_id": 49762271, "comment_id": 86540080, "body": "Do you mean a totally new component for each faq? or just one template? (sorry very new to this)"}, {"owner": {"reputation": 174, "user_id": 4959530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6514f43d9dc042d9fc0bb34110494163?s=128&d=identicon&r=PG", "display_name": "Conan Tzou", "link": "https://stackoverflow.com/users/4959530/conan-tzou"}, "reply_to_user": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "edited": false, "score": 0, "creation_date": 1523392051, "post_id": 49762271, "comment_id": 86540102, "body": "No worries! Nope. I mean just a single reusable component. I added a use case for your example."}, {"owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "edited": false, "score": 0, "creation_date": 1523392144, "post_id": 49762271, "comment_id": 86540148, "body": "How do i import that new component into my current one?"}, {"owner": {"reputation": 174, "user_id": 4959530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6514f43d9dc042d9fc0bb34110494163?s=128&d=identicon&r=PG", "display_name": "Conan Tzou", "link": "https://stackoverflow.com/users/4959530/conan-tzou"}, "reply_to_user": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "edited": false, "score": 0, "creation_date": 1523392369, "post_id": 49762271, "comment_id": 86540267, "body": "I was assuming you had a app module file (typically app.module.ts). In there, you could declare the new my-faq component, and it&#39;d by available everywhere else in your app and useable in other components&#39; templates without having to import anything."}, {"owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "edited": false, "score": 0, "creation_date": 1523393038, "post_id": 49762271, "comment_id": 86540610, "body": "ah yes of course! so that works, the only thing not working now is that my classes no longer work? any ideas?"}, {"owner": {"reputation": 174, "user_id": 4959530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6514f43d9dc042d9fc0bb34110494163?s=128&d=identicon&r=PG", "display_name": "Conan Tzou", "link": "https://stackoverflow.com/users/4959530/conan-tzou"}, "reply_to_user": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "edited": false, "score": 0, "creation_date": 1523393186, "post_id": 49762271, "comment_id": 86540692, "body": "hmm, can you clarify the error? Which classes do you mean?"}, {"owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "edited": false, "score": 0, "creation_date": 1523393325, "post_id": 49762271, "comment_id": 86540774, "body": "&quot;accordion-toggle&quot; and &quot;accordion-content&quot; no longer have the styling I had set for them"}, {"owner": {"reputation": 174, "user_id": 4959530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6514f43d9dc042d9fc0bb34110494163?s=128&d=identicon&r=PG", "display_name": "Conan Tzou", "link": "https://stackoverflow.com/users/4959530/conan-tzou"}, "reply_to_user": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "edited": false, "score": 0, "creation_date": 1523393936, "post_id": 49762271, "comment_id": 86541066, "body": "Edited. When componentizing, your css rules are encapsulated within each component, so a typical way is to define each component&#39;s stylings like so."}], "tags": [], "owner": {"reputation": 174, "user_id": 4959530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6514f43d9dc042d9fc0bb34110494163?s=128&d=identicon&r=PG", "display_name": "Conan Tzou", "link": "https://stackoverflow.com/users/4959530/conan-tzou"}, "is_accepted": true, "score": 0, "last_activity_date": 1523393836, "last_edit_date": 1523393836, "creation_date": 1523391677, "answer_id": 49762271, "question_id": 49761718, "link": "https://stackoverflow.com/questions/49761718/click-event-happening-on-all-divs-instead-of-one-at-a-time-angular5/49762271#49762271", "title": "click event happening on all divs instead of one at a time - Angular5", "body": "<p>One way, you could start by refactoring each faq into a faq component. That way you can isolate each one</p>\n\n<p>in /src/app/my-faq/my-faq.component.ts</p>\n\n<pre><code>import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'my-faq',\n  templateUrl: './my-faq.component.html',\n  styleUrls: ['./my-faq.component.scss']\n})\nexport class MyFaqComponent {\n  @Input() title: string;\n  @Input() content: string;\n  show_content = false;\n\n  constructor() {}\n\n  showContent() {\n    this.show_content = !this.show_content;\n  }\n}\n</code></pre>\n\n<p>in /src/app/my-faq/my-faq.component.html:</p>\n\n<pre><code>&lt;h4 class=\"accordion-toggle\" (click)=\"showContent()\"&gt;{{ title }}&lt;/h4&gt; \n&lt;hr&gt;\n&lt;div class=\"accordion-content\" *ngIf=\"!show_content\"&gt;\n  &lt;p&gt;{{ content }}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>in /src/app/my-faq/my-faq.component.scss</p>\n\n<pre><code>.accordion-toggle {\n  // your css here\n}\n.accordion-content {\n  // your css here\n}\n</code></pre>\n\n<p>in /src/app/app.module.ts add:</p>\n\n<pre><code>...\nimport { MyFaqComponent } from './my-faq/my-faq.component.ts'\n...\n\n@NgModule({\n  declarations: [\n    ...,\n    MyFaqComponent\n  ]\n...\n</code></pre>\n\n<p>After declaring the component in your app, in your html, now you can just do:</p>\n\n<pre><code>&lt;my-faq [title]=\"'When is the app ready for download?\" [content]=\"'Cras malesuada ultrices augue molestie risus.'\"&gt;&lt;/my-faq&gt;\n&lt;my-faq [title]=\"'When is the app ready for download?\" [content]=\"'Cras malesuada ultrices augue molestie risus.'\"&gt;&lt;/my-faq&gt;\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 1, "accepted_answer_id": 49762271, "answer_count": 1, "score": 0, "last_activity_date": 1523393836, "creation_date": 1523389281, "question_id": 49761718, "link": "https://stackoverflow.com/questions/49761718/click-event-happening-on-all-divs-instead-of-one-at-a-time-angular5", "title": "click event happening on all divs instead of one at a time - Angular5", "body": "<p>I am very new to working with angular and have come across an issue! I have made a click event on an faq page that I am making in angular 5. The problem I am having is that when i click on one faq they all open up, instead of just the targeted one. </p>\n\n<p>This is my ts: </p>\n\n<pre><code>public show_content = true;\n  showContent () {\n    this.show_content = !this.show_content;\n  }\n</code></pre>\n\n<p>and my html:</p>\n\n<pre><code>&lt;h4 class=\"accordion-toggle\" (click)=\"showContent()\"&gt;When is the app ready for download?&lt;/h4&gt;\n      &lt;hr&gt;\n            &lt;div class=\"accordion-content\" *ngIf=\"!show_content\"&gt;\n                &lt;p&gt;\n                    Cras malesuada ultrices augue molestie risus.\n                &lt;/p&gt;\n            &lt;/div&gt;\n      &lt;h4 class=\"accordion-toggle\" (click)=\"showContent()\"&gt;When is the app ready for download?&lt;/h4&gt;\n      &lt;hr&gt;\n            &lt;div class=\"accordion-content\" *ngIf=\"!show_content\"&gt;\n                &lt;p&gt;\n                    Cras malesuada ultrices augue molestie risus.\n                &lt;/p&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>I understand that I am using the same *ngIf on both which is why this is happening. The question I am asking is: is there a way to do this without creating multiple variables for each faq? I get that creating a new function like so:</p>\n\n<pre><code>showContent2 () {\n    this.show_content2 = !this.show_content2;\n\n  }\n</code></pre>\n\n<p>and then having this in my html: </p>\n\n<pre><code>  &lt;h4 class=\"accordion-toggle\" (click)=\"showContent2()\"&gt;When is the app ready for download?&lt;/h4&gt;\n      &lt;hr&gt;\n            &lt;div class=\"accordion-content\" *ngIf=\"!show_content2\"&gt;\n</code></pre>\n\n<p>this does do the trick however I was wondering if there was a better way of doing this as this does seem very long winded. </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 116, "user_id": 7846682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bf3d519235f18e09d74ab3a39b066b?s=128&d=identicon&r=PG&f=1", "display_name": "BSchnitzel", "link": "https://stackoverflow.com/users/7846682/bschnitzel"}, "edited": false, "score": 0, "creation_date": 1523389893, "post_id": 49761223, "comment_id": 86539047, "body": "So I&#39;m assuming you need a condition when you first go to the route, or is it after you have arrived at the route?"}, {"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "reply_to_user": {"reputation": 116, "user_id": 7846682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bf3d519235f18e09d74ab3a39b066b?s=128&d=identicon&r=PG&f=1", "display_name": "BSchnitzel", "link": "https://stackoverflow.com/users/7846682/bschnitzel"}, "edited": false, "score": 0, "creation_date": 1523390832, "post_id": 49761223, "comment_id": 86539508, "body": "I need a condition when I go first to the route. your assumption is right."}], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "edited": false, "score": 1, "creation_date": 1523486050, "post_id": 49762213, "comment_id": 86586126, "body": "Thanks. I actually end-up doing by updating my route config and putting an condition in the resolver resolve method itself.  +1 for another approach."}], "tags": [], "owner": {"reputation": 116, "user_id": 7846682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bf3d519235f18e09d74ab3a39b066b?s=128&d=identicon&r=PG&f=1", "display_name": "BSchnitzel", "link": "https://stackoverflow.com/users/7846682/bschnitzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1523391452, "creation_date": 1523391452, "answer_id": 49762213, "question_id": 49761223, "link": "https://stackoverflow.com/questions/49761223/executing-resolver-on-demand-in-angular-5/49762213#49762213", "title": "executing resolver on demand in angular 5", "body": "<p>I'll give it a shot. Just a generalization since you haven't posted any actual code. I used a simple ternary to get a task done earlier this year</p>\n\n<p>app.module.ts provider excerpt of Resolver</p>\n\n<pre><code>  {\n        provide: 'conditionResolver', useValue: (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) =&gt; {\n            //Something like this\n            window.open((route.data as any).otherUrl);\n        }\n    }\n</code></pre>\n\n<p>app.router.ts route excerpt of Implementation</p>\n\n<pre><code>    path: 'SomeComponentURL', component: SomeComponent, resolve: {\n        url: 'conditionResolver'\n    },\n    data: {\n        condition: (someCondition != '#/SomeComponent')\n            ? 'doSomething()' : orDoSomethingElse()\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "is_accepted": true, "score": 0, "last_activity_date": 1523667912, "creation_date": 1523667912, "answer_id": 49826921, "question_id": 49761223, "link": "https://stackoverflow.com/questions/49761223/executing-resolver-on-demand-in-angular-5/49826921#49826921", "title": "executing resolver on demand in angular 5", "body": "<p>I actually end-up doing by updating my route config and putting an condition in the resolver's resolve method itself. </p>\n"}], "owner": {"reputation": 810, "user_id": 7988437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/01DqH.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/7988437/akash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 49826921, "answer_count": 2, "score": 0, "last_activity_date": 1523667912, "creation_date": 1523387256, "question_id": 49761223, "link": "https://stackoverflow.com/questions/49761223/executing-resolver-on-demand-in-angular-5", "title": "executing resolver on demand in angular 5", "body": "<p>I am working on an angular app which I recently converted into angular 5 from angular 4.2( although I am not using any feature of angular 5 yet).</p>\n\n<p>I need to execute an resolver on a particular route on demand ( from the code when a certain condition met). for example</p>\n\n<pre><code>if ( a === b) {\n     //execute resolver\n  }\n</code></pre>\n\n<p>I am not sure, what is the right way of doing that as resolver is a class just like any other typescript class.</p>\n"}]