[{"tags": ["angular", "typescript", "promise", "angular-promise"], "answers": [{"comments": [{"owner": {"reputation": 1777, "user_id": 1149830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/289a17a421e9333bce66f637ca9dce53?s=128&d=identicon&r=PG", "display_name": "Jerome P Mrozak", "link": "https://stackoverflow.com/users/1149830/jerome-p-mrozak"}, "edited": false, "score": 0, "creation_date": 1483580173, "post_id": 41475468, "comment_id": 70158032, "body": "This is working for me.  In terms of my example above the getOrgs().then() changes to be .then(response =&gt; response.json().data.map((d: any) =&gt; new Org(d)) as Org[]).  Thank you so much!"}], "tags": [], "owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "is_accepted": true, "score": 1, "last_activity_date": 1483576218, "creation_date": 1483576218, "answer_id": 41475468, "question_id": 41475204, "link": "https://stackoverflow.com/questions/41475204/angularjs-2-a-promise-resolve-loses-class-identity-upon-feching/41475468#41475468", "title": "AngularJS 2 a Promise resolve loses class identity upon feching", "body": "<p>Construct the <code>Org</code> instance from the JSON.</p>\n\n<p>Something like:</p>\n\n<pre><code>.then(response =&gt; {\n   // validate response\n   return response.json().data.map(d =&gt; new Org(d))\n})\n</code></pre>\n\n<p>Then define how to construct an <code>Org</code> instance in the class declaration e.g:</p>\n\n<pre><code>export class Org {\n  id: number;\n  donor: boolean;\n  name: string = \"\";\n\n  constructor(data: any) {\n     // validate data\n     this.id = data.id;\n     this.donor = data.donor;\n     this.name = data.name;\n  }\n  ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1777, "user_id": 1149830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/289a17a421e9333bce66f637ca9dce53?s=128&d=identicon&r=PG", "display_name": "Jerome P Mrozak", "link": "https://stackoverflow.com/users/1149830/jerome-p-mrozak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 41475468, "answer_count": 1, "score": 2, "last_activity_date": 1483576822, "creation_date": 1483574211, "last_edit_date": 1483576822, "question_id": 41475204, "link": "https://stackoverflow.com/questions/41475204/angularjs-2-a-promise-resolve-loses-class-identity-upon-feching", "title": "AngularJS 2 a Promise resolve loses class identity upon feching", "body": "<p>SUMMARY:\nI supposedly fetch some Org objects which have class methods.  But when I fetch my data I'm seeing Object instances, not Org instances.  Is this the best available result?  Or can I convince my program to give me Org objects?</p>\n\n<p>DETAILS:\nI'm working with a recent version of Angular 2.  My code slightly modifies some tutorial code.  Here is part of my org.service.ts:</p>\n\n<pre><code>getOrgs(): Promise&lt;Org[]&gt; {\n  return this.http\n    .get(this.orgUrl)\n    .toPromise()\n    .then(response =&gt; response.json().data as Org[])\n    .catch(this.handleError);\n}\n\ngetOrg(id: number): Promise&lt;Org&gt; {\n  return this.getOrgs()\n    .then((orgs: Org[]) : Org =&gt; orgs.find(org =&gt; org.id === id));\n}\n</code></pre>\n\n<p>Here is part of my resolver:</p>\n\n<pre><code>resolve(route: ActivatedRouteSnapshot): Promise&lt;Org&gt;|boolean {\n  let id = this.authService.user.orgId;\n\n  return this.orgService.getOrg(id).then((org: Org) : Org|boolean =&gt; {\n\n    if(org) { // &lt;-- Breakpoint here\n      return org;\n    } else { \n      // If  the Org isn't available then the edit page isn't appropriate.\n      this.router.navigate(['/provider/home']);\n      return false;\n    }\n\n  });\n}\n</code></pre>\n\n<p>I'm fetching my data through an in-memory service:</p>\n\n<pre><code>export class InMemoryDataService {\n\n  createDb() {\n    let org1 = new Org();\n    org1.id = 12;\n    org1.donor = true;\n    org1.name = 'Great Actors Theater';\n    let org2 = new Org();\n    org2.id = 19;\n    org2.donor = false;\n    org2.name = 'Sunnyside Group Home';\n    let org: Org[] = [];\n    org.push(org1);\n    org.push(org2);\n[SNIP]\n</code></pre>\n\n<p>And my Org class is like this:</p>\n\n<pre><code>export class Org {\n  id: number;\n  donor: boolean;\n  name: string = \"\";\n\n  deepCopy(): Org { ... }\n\n  equals(other: Org): boolean { ... }\n}\n</code></pre>\n\n<p>When I look at my data at the breakpoint I see an object that has the fields (id, donor, name) but no functions.  I also don't see a definition of Org there -- if I call \"org instanceof Org\" I get an error that Org can't be found.  And \"typeof org\" yields \"object\".</p>\n\n<p>I wish to have equals(), etc, as an Org class method.  But at present I have only Javascript objects that are <em>like</em> Org only by duck-typing.  Can I get better out of it?</p>\n\n<p>Thanks,\nJerome.</p>\n"}, {"tags": ["typescript", "knockout.js", "typescript-typings", "typescript2.0"], "comments": [{"owner": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "edited": false, "score": 0, "creation_date": 1483673311, "post_id": 41474704, "comment_id": 70202813, "body": "The problem with updating the Knockout type declarations is that there&#39;s a long string of globally-written declaration files for things like JQuery and the like that somehow depend on them. I suspect that&#39;s why it hasn&#39;t been rewritten."}, {"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "reply_to_user": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "edited": false, "score": 0, "creation_date": 1483690279, "post_id": 41474704, "comment_id": 70208212, "body": "Actually <code>knockout</code> doesn&#39;t depend on anything, although you have a good point in general."}, {"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "reply_to_user": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "edited": false, "score": 0, "creation_date": 1483690404, "post_id": 41474704, "comment_id": 70208250, "body": "In the meantime I asked a more general technical question about guidance to update existing typing files to match the current recommendations <a href=\"https://github.com/Microsoft/TypeScript/issues/13294\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/13294</a>"}, {"owner": {"reputation": 16348, "user_id": 1287183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d77d4eb94f1394ff4da699b6f65b743?s=128&d=identicon&r=PG", "display_name": "Michael Best", "link": "https://stackoverflow.com/users/1287183/michael-best"}, "edited": false, "score": 1, "creation_date": 1525205301, "post_id": 41474704, "comment_id": 87264233, "body": "Knockout 3.5 will include a TypeScript declaration file using modern techniques."}, {"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "reply_to_user": {"reputation": 16348, "user_id": 1287183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d77d4eb94f1394ff4da699b6f65b743?s=128&d=identicon&r=PG", "display_name": "Michael Best", "link": "https://stackoverflow.com/users/1287183/michael-best"}, "edited": false, "score": 0, "creation_date": 1525250121, "post_id": 41474704, "comment_id": 87278367, "body": "@MichaelBest yeah I know, thanks for pointing this out here. Would you please post it as an answer, so I can close this question?"}], "owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1483572615, "creation_date": 1483571004, "last_edit_date": 1483572615, "question_id": 41474704, "link": "https://stackoverflow.com/questions/41474704/how-could-i-update-the-knockout-typing-file-to-be-typescript-2-0-friendly", "title": "How could I update the Knockout typing file to be TypeScript 2.0 friendly?", "body": "<p>I've started to work on modernizing the <code>knockout</code> library's TypeScript declaration file which is provided by the <code>DefinitelyTyped</code> project.</p>\n\n<p>The declaration file uses some deprecated techniques, and because of this, it's inconvenient to consume it in a TypeScript 2.0+ application.</p>\n\n<p>The current declaration file contains an interface called <code>KnockoutStatic</code>. Everything inside this should basically get exported with using the <code>export declare</code> <code>var</code>/<code>function</code> format (if I understand correctly the new declaration file best practices). Then at the end of the file there should be an <code>export as namespace ko;</code> statement to be able to consume it as an ambient module.</p>\n\n<p>But rewriting the whole interface to this format is a lot of boring work, so I'm wondering if there exists any trick or syntax to grab this whole interface, and export it's members like they were on the top-level.</p>\n\n<p>I tried several things, for example something like</p>\n\n<pre><code>declare var ko: KnockoutStatic;\nexport default ko;\n</code></pre>\n\n<p>But this of course resulted in having two problems.</p>\n\n<ol>\n<li>If I import using <code>import ko from \"knockout\"</code>, then I can use my <code>ko</code> object just fine, but I don't have access to the interfaces like <code>KnockoutObservable&lt;T&gt;</code>, etc.</li>\n<li>If I import using <code>import * as ko from \"knockout;</code> then I have access to interfaces via <code>ko.KnockoutObservable&lt;T&gt;</code> which is completely fine, BUT when I want to access the <em>static</em>, runtime ko stuff, I end up having another level of <code>ko</code> object when consuming, like <code>ko.ko.observable</code>, etc.</li>\n</ol>\n\n<p>Another problem is that if I move all the <code>KnockoutStatic</code> stuff to the top level, then one can no longer add methods to <code>ko</code> for example, as one canot augment a module by adding top-level exports to it (at least this was a TypeScript limitation a few months ago inspired by an ES6 limitation). So from this point of view, the interface solution is better.</p>\n\n<p>I's an important note, that this problem is quite common, as typings of lots of popular libraries suffer from this phenomenon (even ones like <code>jQuery</code>). For example <code>jQuery</code> has a <code>JQueryStatic</code> interface too which should be entirely \"lifted\" up one level IMO.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1483570520, "post_id": 41474445, "comment_id": 70155147, "body": "You&#39;ll have to go back a long way to find a browser that doesn&#39;t natively support XHR."}, {"owner": {"reputation": 3930, "user_id": 3142408, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6cd35619033c220fadfaef5ea5683b14?s=128&d=identicon&r=PG", "display_name": "Dawid Zbi\u0144ski", "link": "https://stackoverflow.com/users/3142408/dawid-zbi%c5%84ski"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1483570673, "post_id": 41474445, "comment_id": 70155214, "body": "Of course, I understand that, but I was just curious. I&#39;m actually making it not only for me, but also for my friend and I&#39;m not sure of the versions of the browsers they&#39;re using. I saw the win XP on one of their machines, so it&#39;s better to be prepared for that :)"}], "answers": [{"tags": [], "owner": {"reputation": 7830, "user_id": 6427646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c06f0759a0d9a9df970063a6d2aa1557?s=128&d=identicon&r=PG", "display_name": "Tha&#39;er M. Al-Ajlouni", "link": "https://stackoverflow.com/users/6427646/thaer-m-al-ajlouni"}, "is_accepted": true, "score": 15, "last_activity_date": 1483570695, "last_edit_date": 1483570695, "creation_date": 1483570148, "answer_id": 41474541, "question_id": 41474445, "link": "https://stackoverflow.com/questions/41474445/xmlhttprequest-does-not-exist-on-type-window/41474541#41474541", "title": "XMLHttpRequest does not exist on type Window", "body": "<p>Try this:</p>\n\n<pre><code>if ((&lt;any&gt;window).XMLHttpRequest) {\n    xmlhttp = new XMLHttpRequest();\n} else {\n    xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n}\n</code></pre>\n\n<p>The thing is that <code>Typescript</code> has a type for every object where it defines the properties of that type, sometimes there are missing properties (or properties that are added dynamically later) from those definitions, if you cast it to type <code>any</code> then it will deal with it as an anonymous type.</p>\n"}], "owner": {"reputation": 3930, "user_id": 3142408, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6cd35619033c220fadfaef5ea5683b14?s=128&d=identicon&r=PG", "display_name": "Dawid Zbi\u0144ski", "link": "https://stackoverflow.com/users/3142408/dawid-zbi%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5319, "favorite_count": 0, "accepted_answer_id": 41474541, "answer_count": 1, "score": 6, "last_activity_date": 1483570784, "creation_date": 1483569607, "last_edit_date": 1483570784, "question_id": 41474445, "link": "https://stackoverflow.com/questions/41474445/xmlhttprequest-does-not-exist-on-type-window", "title": "XMLHttpRequest does not exist on type Window", "body": "<p>I'm working on a small async library for my projects. I decided to code it in TypeScript, but my compiler is throwing me an error that <code>'XMLHttpRequest' does not exist on type 'Window'</code>, as the title says. </p>\n\n<p>What I wanted to achieve is creation of ActiveXObject if window has no XMLHttprequest. </p>\n\n<pre><code>if (window.XMLHttpRequest) {\n    xmlhttp = new XMLHttpRequest();\n } else {\n    xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n}\n</code></pre>\n\n<p>It's not really necessary for me to include it, but I'm wondering why is that?</p>\n\n<hr>\n\n<p>IDE I'm using is VS Code (which also shows me the error) and I'm compiling with <code>gulp-tsify</code></p>\n"}, {"tags": ["javascript", "typescript", "javascript-objects"], "comments": [{"owner": {"reputation": 183, "user_id": 723985, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af4d069d9b8f0c3c27d2ae4872f57651?s=128&d=identicon&r=PG", "display_name": "dcoli", "link": "https://stackoverflow.com/users/723985/dcoli"}, "edited": false, "score": 0, "creation_date": 1483566518, "post_id": 41473440, "comment_id": 70153413, "body": "Note, this is part of an Angular 2 app. I don&#39;t think that matters here, though."}, {"owner": {"reputation": 183, "user_id": 723985, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af4d069d9b8f0c3c27d2ae4872f57651?s=128&d=identicon&r=PG", "display_name": "dcoli", "link": "https://stackoverflow.com/users/723985/dcoli"}, "edited": false, "score": 0, "creation_date": 1483631487, "post_id": 41473440, "comment_id": 70183834, "body": "I think this is actually a bug in Chrome. It&#39;s just the console that&#39;s weird. I found that my app&#39;s issue was due to something else, but that was being hidden by this bad debug info."}], "answers": [{"comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1483631963, "post_id": 41489226, "comment_id": 70184170, "body": "Hover over the <code>i</code> next to Menu. It&#39;s not a bug, it&#39;s a misunderstanding of what toggling that arrow does."}, {"owner": {"reputation": 183, "user_id": 723985, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af4d069d9b8f0c3c27d2ae4872f57651?s=128&d=identicon&r=PG", "display_name": "dcoli", "link": "https://stackoverflow.com/users/723985/dcoli"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1483649128, "post_id": 41489226, "comment_id": 70194756, "body": "Thanks. I just poured through the Chrome console docs, and there is no mention of what exactly is shown when you click that arrow. There is a bit about the fact that you can get it to show it in xml, etc., but nothing about when that object is being calculated. And why would calculating it later mean that the arrays were empty? If the arrays were empty the app would be updated to those effects, and it&#39;s not."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1483651285, "post_id": 41489226, "comment_id": 70195893, "body": "I would suggest logging something like <code>JSON.stringify(m)</code> (if there&#39;s no circular references); that will get you the object structure as it was when the log occurred. I didn&#39;t look into why your problem was occurring, just wanted to give you the heads up that the initial log and the values in the object are out of sync."}], "tags": [], "owner": {"reputation": 183, "user_id": 723985, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af4d069d9b8f0c3c27d2ae4872f57651?s=128&d=identicon&r=PG", "display_name": "dcoli", "link": "https://stackoverflow.com/users/723985/dcoli"}, "is_accepted": false, "score": 0, "last_activity_date": 1483631524, "creation_date": 1483631524, "answer_id": 41489226, "question_id": 41473440, "link": "https://stackoverflow.com/questions/41473440/typescript-object-property-has-data-parent-object-shows-same-property-as-empty/41489226#41489226", "title": "typescript object property has data, parent object shows same property as empty", "body": "<p>I think this is actually a bug in Chrome. It's just the console that's weird. I found that my app's issue was due to something else, but that was being hidden by this bad debug info.</p>\n"}], "owner": {"reputation": 183, "user_id": 723985, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af4d069d9b8f0c3c27d2ae4872f57651?s=128&d=identicon&r=PG", "display_name": "dcoli", "link": "https://stackoverflow.com/users/723985/dcoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483631524, "creation_date": 1483564896, "last_edit_date": 1483626829, "question_id": 41473440, "link": "https://stackoverflow.com/questions/41473440/typescript-object-property-has-data-parent-object-shows-same-property-as-empty", "title": "typescript object property has data, parent object shows same property as empty", "body": "<p>I'm seeing some strange behavior where an array which is the property of an object appears populated when logged to the console (and used in other places), but when the parent object is logged, it shows the property as being empty. When this parent object is returned to the calling function, the property remains empty.</p>\n\n<p>Here's the Menu class:</p>\n\n<pre><code>import { MenuItem } from './menu-item';\n\nexport class Menu {\n  category: string;\n  label?: string;\n  itemArray: MenuItem[] = [];\n  displayArray: MenuItem[] = [];\n  masterArray: MenuItem[] = [];\n  singleChoice: boolean = false;\n  isDisplaying: boolean = true;\n  isCategory( s: string ) { return this.category = s; };\n}\n</code></pre>\n\n<p>Here's the MenuItem class (it can be used in a more elaborate fashion than shown here):</p>\n\n<pre><code>import { Menu } from './menu';\n\nexport class MenuItem {\n  label: string;\n  value: string;\n  children: MenuItem[] = [];\n  parentMenu: Menu;\n  isSelected: boolean = false;\n  isCategory( s: string ) { return this.parentMenu.category = s; };\n  hideFromMenu: boolean = false;\n}\n</code></pre>\n\n<p>And here's some code that constructs these objects. Note that when the category is \"date\", and the item's properties are hard-coded, the itemArray is populated both by itself and when viewed through its parent object in the console. It's for all other categories that it fails.</p>\n\n<pre><code>initializeMenu(category: string, categoryName: string): Menu {\n  let m = new Menu();\n  m.category = category;\n  m.label = this.categoryNameArray[this.categoryArray.indexOf(category)]? this.categoryNameArray[this.categoryArray.indexOf(category)]: category;\n  switch( category ) {\n    case \"date\":\n      let propArray = [\n                        {label:\"Today\",value:\"today\",hideFromMenu:false},\n                        {label:\"Day\",value:\"day\",hideFromMenu:true},\n                        {label:\"This Week\",value:\"this week\",hideFromMenu:false},\n                        {label:\"Next Week\",value:\"next week\",hideFromMenu:false},\n                        {label:\"This Month\",value:\"this month\",hideFromMenu:false},\n                        {label:\"Month\",value:\"month\",hideFromMenu:true}\n                      ];\n      for(let p of propArray) {\n        let i: MenuItem = new MenuItem();\n        i.label = p.label;\n        i.value = p.value;\n        i.hideFromMenu = p.hideFromMenu;\n        i.parentMenu = m;\n        m.itemArray.push(i);\n        // if( ! p.hideFromMenu ) m.displayArray.push(i);\n      }\n      m.isDisplaying = false;\n      m.singleChoice = true;\n      m.displayArray = this.getDisplayableDates(m.itemArray);\n      m.masterArray = m.itemArray;\n      return m;\n      // break;\n    default:\n      let categoryIDs = this.makeContentSet(this.getMenuItemIDs(this.contentItems,category));\n      for(let id of categoryIDs){\n        let mi = new MenuItem();\n        mi.parentMenu = m;\n        mi.label = id;\n        mi.value = id;\n        m.itemArray.push(mi);\n      }\n      m.displayArray = m.itemArray;\n      // m.displayArray = m.itemArray.filter(function(i){return ! i.hideFromMenu});\n      m.isDisplaying = false;\n      m.singleChoice = false;\n      m.masterArray = m.itemArray;\n// THIS IS WHERE IT GETS WEIRD. THE FIRST LOG SHOWS A POPULATED \n// m.displayArray, THE SECOND LOG SHOW A PARENT OBJECT WITH POPULATED   \n// VALUES FOR EACH ARRAY, THE THIRD LOG SHOWS EMPTY VALUES FOR THE ARRAYS\n// IN m. WEIRDER, m SHOWS POPULATED ARRAYS WHEN COLLAPSED IN THE CONSOLE, \n// BUT EMPTY ONES WHEN EXPANDED. SEE SCREENSHOT.\n      console.log(m.displayArray);\n      console.log(Object.values(m));\n      console.log(m);\n      return m;\n      // break;\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/AdqOX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AdqOX.png\" alt=\"screenshot of app and console log\"></a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 6863, "user_id": 886653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sqfjx.jpg?s=128&g=1", "display_name": "Pavel Zdenek", "link": "https://stackoverflow.com/users/886653/pavel-zdenek"}, "edited": false, "score": 0, "creation_date": 1483566475, "post_id": 41473386, "comment_id": 70153397, "body": "What is the value of <code>this.model.presupuesto.selected[1]</code> ? In other words, are you hunting a real bug, or just a weird misbehavior of the browser console?"}, {"owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "reply_to_user": {"reputation": 6863, "user_id": 886653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sqfjx.jpg?s=128&g=1", "display_name": "Pavel Zdenek", "link": "https://stackoverflow.com/users/886653/pavel-zdenek"}, "edited": false, "score": 0, "creation_date": 1483621928, "post_id": 41473386, "comment_id": 70176954, "body": "@PavelZdenek This is actually a real bug. The model&#39;s view is actually showing the array as <code>[0, 0]</code> and I don&#39;t know why"}, {"owner": {"reputation": 6863, "user_id": 886653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sqfjx.jpg?s=128&g=1", "display_name": "Pavel Zdenek", "link": "https://stackoverflow.com/users/886653/pavel-zdenek"}, "edited": false, "score": 0, "creation_date": 1483622933, "post_id": 41473386, "comment_id": 70177669, "body": "Are you more interested in what is the console showing, or what the value really holds? Try this <code>console.log(JSON.stringify(this.model.presupuesto))</code> and tell me what it shows."}, {"owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "reply_to_user": {"reputation": 6863, "user_id": 886653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sqfjx.jpg?s=128&g=1", "display_name": "Pavel Zdenek", "link": "https://stackoverflow.com/users/886653/pavel-zdenek"}, "edited": false, "score": 0, "creation_date": 1483624844, "post_id": 41473386, "comment_id": 70179008, "body": "@PavelZdenek <code>{&quot;type&quot;:1,&quot;value&quot;:{&quot;min&quot;:0,&quot;max&quot;:4000000},&quot;selected&quot;:[0,4000&zwnj;&#8203;000],&quot;title&quot;:&quot;Presup&zwnj;&#8203;uesto&quot;}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6863, "user_id": 886653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sqfjx.jpg?s=128&g=1", "display_name": "Pavel Zdenek", "link": "https://stackoverflow.com/users/886653/pavel-zdenek"}, "is_accepted": false, "score": 0, "last_activity_date": 1483626895, "creation_date": 1483626895, "answer_id": 41487639, "question_id": 41473386, "link": "https://stackoverflow.com/questions/41473386/logging-whole-model-shows-different-values-than-logging-specific-property/41487639#41487639", "title": "Logging whole model shows different values than logging specific property?", "body": "<p><code>console.log</code> is asynchronous. It must be, it can't afford to block the runtime single thread by serializing your whole complex data. So if the logged JS Object is fairly complex, <code>console.log</code> snapshots only the higher levels of it. When you drill down the structure by expanding arrows, you may reach the level where console fills the rest with the <em>latest data, not the data of the <code>console.log</code> moment</em>.</p>\n\n<p>So what happened in your case?</p>\n\n<ol>\n<li><code>maxBudget</code> was 4000000 and you filled <code>presupuesto</code>.</li>\n<li>you logged complex objects, and simple(r) values too. Arrays are simple enough to get serialized right away, objects not.</li>\n<li>milliseconds pass</li>\n<li>your webpage code sets <code>this.model.presupuesto.selected[1] = 0</code></li>\n<li>milliseconds pass</li>\n<li>you inspect the complex Object in browser console</li>\n</ol>\n\n<p><strong>Solution</strong>: do not log complex objects. Use <code>JSON.stringify</code> if you must. </p>\n"}], "owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1483626895, "creation_date": 1483564651, "last_edit_date": 1592644375, "question_id": 41473386, "link": "https://stackoverflow.com/questions/41473386/logging-whole-model-shows-different-values-than-logging-specific-property", "title": "Logging whole model shows different values than logging specific property?", "body": "<p>I'm sorry if I can't be of more help, but I appreciate any theories of what could be happening here.</p>\n<p>I have this piece of code inside my typescript file:</p>\n<pre><code>this.model.presupuesto.value = { min: minBudget, max: maxBudget };\nthis.model.presupuesto.selected = [ minBudget, maxBudget ];\n\nconsole.log('LOADED MODEL', this.model, this.model.presupuesto.selected);\n</code></pre>\n<p>There isn't anything in between those lines of code.</p>\n<p>I'm getting the following log:</p>\n<p><a href=\"https://i.stack.imgur.com/rijea.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rijea.png\" alt=\"Screenshot\" /></a></p>\n<p>How can these two values be different?</p>\n<p>As I understand, they should be pointing to the same object.</p>\n<h1>Update</h1>\n<p>Adding logs for:</p>\n<pre><code>console.log('LOADED MODEL', this.model, this.model.presupuesto, this.model.presupuesto.selected, this.model.presupuesto.selected[0], this.model.presupuesto.selected[1]);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MW0fj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MW0fj.png\" alt=\"Screenshot\" /></a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 11744, "user_id": 5914191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EqWhs.jpg?s=128&g=1", "display_name": "Teddy Sterne", "link": "https://stackoverflow.com/users/5914191/teddy-sterne"}, "edited": false, "score": 0, "creation_date": 1483563834, "post_id": 41472886, "comment_id": 70152103, "body": "Is this an issue with constructing the hour-table.component.html view?"}, {"owner": {"reputation": 3004, "user_id": 4090609, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-9Q16F9ifRcs/AAAAAAAAAAI/AAAAAAAAFBk/lkvZxK7zGBk/photo.jpg?sz=128", "display_name": "phicon", "link": "https://stackoverflow.com/users/4090609/phicon"}, "reply_to_user": {"reputation": 11744, "user_id": 5914191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EqWhs.jpg?s=128&g=1", "display_name": "Teddy Sterne", "link": "https://stackoverflow.com/users/5914191/teddy-sterne"}, "edited": false, "score": 0, "creation_date": 1483564193, "post_id": 41472886, "comment_id": 70152263, "body": "I would like to create a list containing the info of Hours[[ combined with the customers name from Customers[] Both objects have the field customer_id which can be used for the join"}], "answers": [{"comments": [{"owner": {"reputation": 3004, "user_id": 4090609, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-9Q16F9ifRcs/AAAAAAAAAAI/AAAAAAAAFBk/lkvZxK7zGBk/photo.jpg?sz=128", "display_name": "phicon", "link": "https://stackoverflow.com/users/4090609/phicon"}, "edited": false, "score": 0, "creation_date": 1483567623, "post_id": 41474010, "comment_id": 70153961, "body": "how would i create the list hourswithcustomer?"}, {"owner": {"reputation": 12547, "user_id": 4299560, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/84fd2bf8783aba24dd496c7fef48daad?s=128&d=identicon&r=PG&f=1", "display_name": "Ced", "link": "https://stackoverflow.com/users/4299560/ced"}, "reply_to_user": {"reputation": 3004, "user_id": 4090609, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-9Q16F9ifRcs/AAAAAAAAAAI/AAAAAAAAFBk/lkvZxK7zGBk/photo.jpg?sz=128", "display_name": "phicon", "link": "https://stackoverflow.com/users/4090609/phicon"}, "edited": false, "score": 0, "creation_date": 1483567994, "post_id": 41474010, "comment_id": 70154133, "body": "@phicon sry for the multiple edits, I hope you get the gist of it lol. just concatenate the two array into one array of object containing the two.."}], "tags": [], "owner": {"reputation": 12547, "user_id": 4299560, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/84fd2bf8783aba24dd496c7fef48daad?s=128&d=identicon&r=PG&f=1", "display_name": "Ced", "link": "https://stackoverflow.com/users/4299560/ced"}, "is_accepted": false, "score": 1, "last_activity_date": 1483567850, "last_edit_date": 1483567850, "creation_date": 1483567517, "answer_id": 41474010, "question_id": 41472886, "link": "https://stackoverflow.com/questions/41472886/angular-2-joins/41474010#41474010", "title": "Angular 2 - Joins", "body": "<p>I'm not sure this will work but maybe try this:</p>\n\n<pre><code> &lt;tr *ngFor=\"let h of hourswithcustomer\"&gt;\n    &lt;td &gt; {{h.hour.hour_id}}&lt;/td&gt;\n    &lt;td &gt; {{h.hour.hour_amount }}&lt;/td&gt;\n    &lt;td &gt; {{h.customer.customer_id}}&lt;/td&gt;\n    &lt;td &gt; {{h.customer.customer_customername}}&lt;/td&gt;\n&lt;/tr&gt;\n\n\nthis.hourswithcustomers = this.hours.map( hour =&gt; { \n    return {hour, customer: this.find(c.customerId)}\n});\n</code></pre>\n\n<p>where <code>find()</code> is a method to find the customer with the id. I don't know your code I can't invent how you find it.</p>\n"}, {"tags": [], "owner": {"reputation": 11744, "user_id": 5914191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EqWhs.jpg?s=128&g=1", "display_name": "Teddy Sterne", "link": "https://stackoverflow.com/users/5914191/teddy-sterne"}, "is_accepted": true, "score": 1, "last_activity_date": 1483622181, "last_edit_date": 1483622181, "creation_date": 1483567963, "answer_id": 41474101, "question_id": 41472886, "link": "https://stackoverflow.com/questions/41472886/angular-2-joins/41474101#41474101", "title": "Angular 2 - Joins", "body": "<p>The easiest way to merge the two would be a combination of a map of customerId <code>-&gt;</code> Customer. Then from there you can loop over the hours to populate the <code>hourswithcustomers</code> object.</p>\n\n<p>Mapping the Data:</p>\n\n<pre><code>var customerMap = {};\nthis.customer.forEach((customer) =&gt; {\n    customerMap[customer.customer_id] = customer;\n})\n\nthis.hourswithcustomers = this.hour.map((hour) =&gt; {\n     return {\n         hour: hour,\n         customer: customerMap[hour.customer_id]\n     };\n});\n</code></pre>\n\n<p>On your view you can display it like so:</p>\n\n<pre><code>&lt;tr *ngFor=\"let hwc of hourswithcustomers\"&gt;\n    &lt;td&gt;{{hwc.hour.hour_id}}&lt;/td&gt;\n    &lt;td&gt;{{hwc.hour.hour_amount }}&lt;/td&gt;\n    &lt;td&gt;{{hwc.hour.customer_id}}&lt;/td&gt;\n    &lt;td&gt;{{hwc.customer.customer_name}}&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"}], "owner": {"reputation": 3004, "user_id": 4090609, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-9Q16F9ifRcs/AAAAAAAAAAI/AAAAAAAAFBk/lkvZxK7zGBk/photo.jpg?sz=128", "display_name": "phicon", "link": "https://stackoverflow.com/users/4090609/phicon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 0, "accepted_answer_id": 41474101, "answer_count": 2, "score": 2, "last_activity_date": 1483622181, "creation_date": 1483562588, "last_edit_date": 1483567571, "question_id": 41472886, "link": "https://stackoverflow.com/questions/41472886/angular-2-joins", "title": "Angular 2 - Joins", "body": "<p>I have two objects - hours and customers.</p>\n\n<pre><code>this.customer = Customers[]\nthis.hour = Hours[]\n</code></pre>\n\n<p>In both objects i have the customer_id field - now i want to create a new list containing the detail from the hour list combined with the customer_name from the customer list.</p>\n\n<pre><code>this.hourswithcustomers[] = ?\n</code></pre>\n\n<p>How can i join these two objects/lists to a new list to get the following result?</p>\n\n<pre><code>| hour.hour_id | hour.hour_amount | hour.customer_id | customer.customer_name |\n| 1            | 500.00           | 99               | microsoft              |\n| 2            | 300.00           | 55               | apple                  |\n| 3            | 200.00           | 99               | microsoft              |\n</code></pre>\n"}, {"tags": ["generics", "typescript"], "comments": [{"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 1, "creation_date": 1483562897, "post_id": 41472824, "comment_id": 70151636, "body": "You need to add a constraint on <code>T</code>: <code>createModel&lt;T extends ObjectInterface&gt;(someArray: T[]): SomeInterface { ... }</code>"}, {"owner": {"reputation": 540, "user_id": 1370672, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dfa11c4169251844a2841e7b5eeddab1?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1370672/rob"}, "reply_to_user": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1483651463, "post_id": 41472824, "comment_id": 70195990, "body": "Thanks, I found this also in docs but somehow I was thinking that it is only for things that are not specifically set on interface like <code>.length</code>. I was thinking that if I will pass ObjectInterface then TS will just know that there is that key."}], "answers": [{"comments": [{"owner": {"reputation": 540, "user_id": 1370672, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dfa11c4169251844a2841e7b5eeddab1?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1370672/rob"}, "edited": false, "score": 0, "creation_date": 1483651602, "post_id": 41474458, "comment_id": 70196045, "body": "Thanks a lot. Under my question Lee wrote the same suggestion so I will just copy paste what I wrote there: I found this also in docs but somehow I was thinking that it is only for things that are not specifically set on interface like <code>.length</code>. I was thinking that if I will pass ObjectInterface then TS will just know that there is that key."}], "tags": [], "owner": {"reputation": 28286, "user_id": 1995300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GR7Be.jpg?s=128&g=1", "display_name": "helmbert", "link": "https://stackoverflow.com/users/1995300/helmbert"}, "is_accepted": true, "score": 0, "last_activity_date": 1483569669, "creation_date": 1483569669, "answer_id": 41474458, "question_id": 41472824, "link": "https://stackoverflow.com/questions/41472824/pass-generic-type-and-use-type-property/41474458#41474458", "title": "Pass generic type and use type property", "body": "<p>Currently, within your <code>createModel&lt;T&gt;</code> function, <code>T</code> can be literally anything (<code>any</code>). Because of this, it cannot be guaranteed at compile-time that a variable of type <code>T</code> actually contains a property <code>someKey</code>. For example, consider someone calling your method with <code>createModel&lt;SomeOtherInterface&gt;(...)</code> with <code>SomeOtherInterface</code> not having a <code>someKey</code> property, or even with <code>createModel&lt;string&gt;(...)</code>.</p>\n\n<p>You can enforce that any type parameter used for <code>T</code> needs to be a subtype of <code>ObjectInterface</code> by formulating a <em>constaint</em>  on that type parameter:</p>\n\n<pre><code>createModel&lt;T extends ObjectInterface&gt;(someArray: T[]): SomeInterface {\n    // ...\n}\n</code></pre>\n\n<p>Have a look at <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">the respective section of the documentation</a> for more information on generics.</p>\n"}], "owner": {"reputation": 540, "user_id": 1370672, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dfa11c4169251844a2841e7b5eeddab1?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1370672/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2465, "favorite_count": 0, "accepted_answer_id": 41474458, "answer_count": 1, "score": 0, "last_activity_date": 1483569669, "creation_date": 1483562314, "last_edit_date": 1483562471, "question_id": 41472824, "link": "https://stackoverflow.com/questions/41472824/pass-generic-type-and-use-type-property", "title": "Pass generic type and use type property", "body": "<p>I'm quite new in TypeScript and despite that I've red docs I simply cannot achieve what I want with generics.</p>\n\n<p>I want to do something like that:</p>\n\n<pre><code>declare interface ObjectInterface {\n    someKey: string\n}\n\nconst model: SomeInterface = createModel&lt;ObjectInterface&gt;(someArrayOfObjects);\n</code></pre>\n\n<p>and here is <code>createModel</code> method:</p>\n\n<pre><code>private createModel&lt;T&gt;(someArray: T[]): SomeInterface {\n    const model: SomeInterface = (...someCode...);\n\n    someArray.forEach((obj: T) =&gt; { model.doSomething(obj.someKey) });\n\n    return model;\n}\n</code></pre>\n\n<p>and TypeScript throws me an error: <code>error TS2339: Property 'someKey' does not exist on type 'T'.\n</code>\nHere is the part which I don't get it. If <code>ObjectInterface</code> has <code>someKey</code> and is passed as generic type to <code>createModel</code> then why <code>obj</code> doesn't 'see' it as it's property?</p>\n\n<p>If there is an answer in google then please give me a hint what keys should I search? ;)</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 12633, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 2, "last_activity_date": 1483560211, "creation_date": 1483560211, "answer_id": 41472334, "question_id": 41472297, "link": "https://stackoverflow.com/questions/41472297/angular-2-template-parsing-error/41472334#41472334", "title": "Angular 2 Template Parsing Error", "body": "<p>Your slashes is in the wrong direction. Correct:</p>\n\n<pre><code>&lt;li&gt;&lt;a routerLink='/usaddchild'&gt;Add Child&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p><a href=\"https://angular.io/docs/ts/latest/guide/router.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/guide/router.html</a></p>\n\n<p>Angular2 thinks it's some kind of unicode character, which do start with <code>\\u</code>:\n<a href=\"http://www.rapidtables.com/code/text/unicode-characters.htm\" rel=\"nofollow noreferrer\">http://www.rapidtables.com/code/text/unicode-characters.htm</a></p>\n"}], "owner": {"reputation": 386, "user_id": 421193, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e26b355aeb99e077b746bf33d07f34c8?s=128&d=identicon&r=PG", "display_name": "TommyK", "link": "https://stackoverflow.com/users/421193/tommyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 41472334, "answer_count": 1, "score": 0, "last_activity_date": 1483560897, "creation_date": 1483560070, "last_edit_date": 1483560897, "question_id": 41472297, "link": "https://stackoverflow.com/questions/41472297/angular-2-template-parsing-error", "title": "Angular 2 Template Parsing Error", "body": "<p>I am getting a parsing error when compiling my angular 2 app (version 2.4.1)</p>\n\n<blockquote>\n  <p>assets/app/app.component.ts(13,42): error TS1125: Hexadecimal digit\n  expected</p>\n</blockquote>\n\n<p>the code is </p>\n\n<pre><code>&lt;ul&gt;                   \n    &lt;li&gt;&lt;a routerLink='\\usaddchild'&gt;Add Child&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>and the line is specific that is causing issues is below</p>\n\n<pre><code>&lt;li&gt;&lt;a routerLink='\\usaddchild'&gt;Add Child&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>there seems to be an an issue with the \\us. </p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 254, "user_id": 3555985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zvElV.jpg?s=128&g=1", "display_name": "Kordon", "link": "https://stackoverflow.com/users/3555985/kordon"}, "is_accepted": true, "score": 6, "last_activity_date": 1483559551, "creation_date": 1483559551, "answer_id": 41472168, "question_id": 41472127, "link": "https://stackoverflow.com/questions/41472127/using-arrow-functions-with-socket-io/41472168#41472168", "title": "Using arrow functions with socket.io", "body": "<p>You have to call the function inside the arrow function.</p>\n\n<pre><code>socket.on(this.onLogin.name, (data: LoginDetails) =&gt; this.onLogin(data));\n</code></pre>\n"}], "owner": {"reputation": 1171, "user_id": 4503491, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8bc2496a0d125b26ca26b150dad3b78?s=128&d=identicon&r=PG&f=1", "display_name": "Red Riding Hood", "link": "https://stackoverflow.com/users/4503491/red-riding-hood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "accepted_answer_id": 41472168, "answer_count": 1, "score": 1, "last_activity_date": 1483559551, "creation_date": 1483559410, "question_id": 41472127, "link": "https://stackoverflow.com/questions/41472127/using-arrow-functions-with-socket-io", "title": "Using arrow functions with socket.io", "body": "<p>I was wondering how arrow functions can be used to replace bind. It was my understanding the I could use the arrow function to lexically call <code>this</code> in a function, but the function doesn't even get called anymore.</p>\n\n<p>The strange thing is I don't get any errors, if I use the arrow function it just fails silently.</p>\n\n<pre><code>constructor(socket: SocketIO.Socket\n{\n    // Works\n    socket.on(this.onLogin.name, this.onLogin.bind(this));\n\n    // Doesn't work?\n    socket.on(this.onLogin.name, (data: LoginDetails) =&gt; this.onLogin);\n}\n\n\npublic onLogin(loginDetails: LoginDetails) {\n    console.log(this.onLogin.name + \" \" + this.socketID);\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1483557010, "creation_date": 1483557010, "answer_id": 41471510, "question_id": 41470999, "link": "https://stackoverflow.com/questions/41470999/reload-app-component-on-change-in-shared-component/41471510#41471510", "title": "Reload app component on change in shared component", "body": "<p>You can't trigger a components constructor at all and especially not the one from the AppComponent. They are only called by Angulars DI when a new instance is created.</p>\n\n<p>You can move the code out of the constructor to another method and call this method in the constructor and by other means that you think fits the purpose. For example a subscription to an observable of a shared service.</p>\n"}], "owner": {"reputation": 12595, "user_id": 517406, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7c909834bc613d5a83e4b283e65d88fe?s=128&d=identicon&r=PG", "display_name": "user517406", "link": "https://stackoverflow.com/users/517406/user517406"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 840, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483641109, "creation_date": 1483555111, "last_edit_date": 1483641109, "question_id": 41470999, "link": "https://stackoverflow.com/questions/41470999/reload-app-component-on-change-in-shared-component", "title": "Reload app component on change in shared component", "body": "<p>I have a main menu in my app.component.ts, and I have added a language selector shared component which works fine in all the components that use my shared module.  But now I want to localise my main menu. Since app.component does not include the shared module, when I change the language in my language selector it is not reflected in the menu.  I thought that I can put the selected language into local storage and in the app component constructor I could assign the translations to different variables and use those in the front end.  But I do not know how to trigger the app component constructor in my shared component, or if I should use that approach.  </p>\n\n<p>Here are the relevant parts of my app component :</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n    selector: 'main-app',\n    template: `\n    &lt;div&gt;\n        &lt;div class=\"navbar navbar-inverse navbar-fixed-top\"&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;div class=\"navbar-header\"&gt;\n                    &lt;button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#navbarHeaderCollapse\"&gt;\n                        &lt;span class=\"sr-only\"&gt;Toggle navigation&lt;/span&gt;\n                        &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                        &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                        &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                    &lt;/button&gt;\n                &lt;/div&gt;\n                &lt;div class=\"navbar-collapse collapse\" id=\"navbarHeaderCollapse\"&gt;\n                    &lt;ul class=\"nav navbar-nav\"&gt;\n                        &lt;li&gt;&lt;a [routerLink]=\"['/Home']\" data-toggle=\"collapse\" data-target=\".navbar-collapse\"&gt;{{home}}&lt;/a&gt;&lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"container body-content\" style=\"margin-top:80px;\"&gt;\n            &lt;router-outlet&gt;&lt;/router-outlet&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    `\n})\n\nexport class AppComponent {\n    home: string;\n\n    constructor() {\n        var selectedLang = JSON.parse(localStorage.getItem('selectedLang'));\n\n        if (selectedLang === null) {\n\n            this.home = \"Home\";\n        }\n        else {\n            if (selectedLang.lang === 'fi')\n            {\n                this.home = \"Koti\";\n            }\n            else {\n                this.home = \"Home\";\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And here are the relevant parts of my shared component :</p>\n\n<pre><code>   import { Component } from '@angular/core';\nimport { TranslateService } from 'ng2-translate';\n\n@Component({\n    selector: 'language-selector',\n    templateUrl: '../app/shared/components/language-selector.component.html'\n})\n\nexport class LanguageSelectorComponent {\n\n    languageSelectorClicked(lang: string): void {\n        localStorage.setItem('selectedLang', JSON.stringify({ lang: lang }));\n        this.translate.currentLang = lang;\n        this.translate.use(lang);\n    }\n\n    constructor(public translate: TranslateService) {\n    }\n}\n</code></pre>\n\n<p>Can anybody help with this, or suggest a better approach?</p>\n"}, {"tags": ["node.js", "typescript", "firebase", "firebase-authentication"], "answers": [{"comments": [{"owner": {"reputation": 3823, "user_id": 2955366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be7220383285819c14f11ecd617e22d?s=128&d=identicon&r=PG", "display_name": "jwngr", "link": "https://stackoverflow.com/users/2955366/jwngr"}, "edited": false, "score": 2, "creation_date": 1483573649, "post_id": 41472768, "comment_id": 70156284, "body": "Hey, Jacob from the Firebase team here. There are a handful of known issues with the TypeScript typings for the Admin Node.js SDK. I actually spent a bunch of time today fixing them up and the next release of the SDK should work much better. In the meantime, use the <code>any</code> trick to get TypeScript to accept your typings. Sorry for the inconvenience. Expect a new release in the coming week or two."}, {"owner": {"reputation": 2365, "user_id": 1349766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/520cf30971b904d42258e21db5b6d813?s=128&d=identicon&r=PG", "display_name": "Michael M. Myers", "link": "https://stackoverflow.com/users/1349766/michael-m-myers"}, "edited": false, "score": 1, "creation_date": 1483920140, "post_id": 41472768, "comment_id": 70283770, "body": "If you also have the normal Firebase SDK in your project, I found that you can cast it to the Firebase Database type, which gives you a little better type safety: <code>let database: firebase.database.Database = admin.database() as any;</code>"}, {"owner": {"reputation": 3823, "user_id": 2955366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be7220383285819c14f11ecd617e22d?s=128&d=identicon&r=PG", "display_name": "jwngr", "link": "https://stackoverflow.com/users/2955366/jwngr"}, "edited": false, "score": 2, "creation_date": 1484695767, "post_id": 41472768, "comment_id": 70613195, "body": "We released <a href=\"https://firebase.google.com/support/release-notes/admin/node#4.0.5\" rel=\"nofollow noreferrer\">version 4.0.5 of the Firebase Admin Node.js SDK</a> earlier today which has a bunch of fixes for the TypeScript typings, including this particular issue. Please upgrade to this latest version and hopefully your issue just goes away."}], "tags": [], "owner": {"reputation": 278, "user_id": 4654515, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-mZaNj5Sbojk/AAAAAAAAAAI/AAAAAAAAHII/wrnyrB6-0iQ/photo.jpg?sz=128", "display_name": "Jim Lowell", "link": "https://stackoverflow.com/users/4654515/jim-lowell"}, "is_accepted": false, "score": 2, "last_activity_date": 1483562111, "creation_date": 1483562111, "answer_id": 41472768, "question_id": 41470524, "link": "https://stackoverflow.com/questions/41470524/firebase-admin-auth-createuser-error-nodejstypescriptfirebase-admin/41472768#41472768", "title": "Firebase admin.auth.createUser error ( nodejs+Typescript+firebase-admin)", "body": "<p>I just ran into the same problem with the database() object being identified as a FirebaseServiceInterface and I'm 99% sure it is a problem with the typings for this version of firebase-admin. Hopefully it will be resolved soon in a future update.</p>\n\n<p>I was able to ignore the error and everything worked fine. I was also able to eliminate the error by typing my database object as <code>&lt;any&gt;</code>, so instead of this:</p>\n\n<pre><code>var fbDatabase = admin.database();\n</code></pre>\n\n<p>I did this:</p>\n\n<pre><code>var fbDatabase: any = admin.database();\n</code></pre>\n\n<p>That eliminated the error but also disabled Intellisense for the database object (can't have it both ways).</p>\n"}, {"comments": [{"owner": {"reputation": 364, "user_id": 1834127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b42d1b516912dbf7cd893e05f5a4dce?s=128&d=identicon&r=PG", "display_name": "nkigen", "link": "https://stackoverflow.com/users/1834127/nkigen"}, "edited": false, "score": 0, "creation_date": 1484767935, "post_id": 41708893, "comment_id": 70650228, "body": "Thanks. I&#39;ll try it out today"}], "tags": [], "owner": {"reputation": 3823, "user_id": 2955366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be7220383285819c14f11ecd617e22d?s=128&d=identicon&r=PG", "display_name": "jwngr", "link": "https://stackoverflow.com/users/2955366/jwngr"}, "is_accepted": true, "score": 3, "last_activity_date": 1484695839, "creation_date": 1484695839, "answer_id": 41708893, "question_id": 41470524, "link": "https://stackoverflow.com/questions/41470524/firebase-admin-auth-createuser-error-nodejstypescriptfirebase-admin/41708893#41708893", "title": "Firebase admin.auth.createUser error ( nodejs+Typescript+firebase-admin)", "body": "<p>Upgrade to at least <a href=\"https://firebase.google.com/support/release-notes/admin/node#4.0.5\" rel=\"nofollow noreferrer\">version 4.0.5 of the Firebase Admin Node.js SDK</a>. That version included a bunch of fixes for the TypeScript typings, including this particular issue. Simply upgrading to at least that version should make your issue just go away.</p>\n"}, {"tags": [], "owner": {"reputation": 10591, "user_id": 1070732, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f3b78bf78395f804c4b64531d3ac42e9?s=128&d=identicon&r=PG", "display_name": "Tahir Yasin", "link": "https://stackoverflow.com/users/1070732/tahir-yasin"}, "is_accepted": false, "score": 1, "last_activity_date": 1551299205, "creation_date": 1551299205, "answer_id": 54913930, "question_id": 41470524, "link": "https://stackoverflow.com/questions/41470524/firebase-admin-auth-createuser-error-nodejstypescriptfirebase-admin/54913930#54913930", "title": "Firebase admin.auth.createUser error ( nodejs+Typescript+firebase-admin)", "body": "<p>If you are using node.js and working with firebase cloud functions, you may create user like this</p>\n\n<pre><code>admin.auth().createUser({\n  email: \"user@example.com\",\n  emailVerified: false,\n  phoneNumber: \"+11234567890\",\n  password: \"secretPassword\",\n  displayName: \"John Doe\",\n  photoURL: \"http://www.example.com/12345678/photo.png\",\n  disabled: false\n})\n  .then(function(userRecord) {\n    // See the UserRecord reference doc for the contents of userRecord.\n    console.log(\"Successfully created new user:\", userRecord.uid);\n  })\n  .catch(function(error) {\n    console.log(\"Error creating new user:\", error);\n  });\n</code></pre>\n\n<p>ref: <a href=\"https://firebase.google.com/docs/auth/admin/manage-users#create_a_user\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/admin/manage-users#create_a_user</a></p>\n"}], "owner": {"reputation": 364, "user_id": 1834127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b42d1b516912dbf7cd893e05f5a4dce?s=128&d=identicon&r=PG", "display_name": "nkigen", "link": "https://stackoverflow.com/users/1834127/nkigen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 1, "accepted_answer_id": 41708893, "answer_count": 3, "score": 1, "last_activity_date": 1551299205, "creation_date": 1483553425, "question_id": 41470524, "link": "https://stackoverflow.com/questions/41470524/firebase-admin-auth-createuser-error-nodejstypescriptfirebase-admin", "title": "Firebase admin.auth.createUser error ( nodejs+Typescript+firebase-admin)", "body": "<p>I get an error <code>error TS2339: Property 'createUser' does not exist on type 'FirebaseServiceInterface'.</code> when I try to transpile Typescript on nodejs. I'm using <code>firebase-admin 4.0.4</code> and typescript <code>2.0.6</code>. What could be the problem</p>\n"}, {"tags": ["angular", "typescript", "angular2-aot"], "comments": [{"owner": {"reputation": 15339, "user_id": 1949099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EfWob.jpg?s=128&g=1", "display_name": "Kris Hollenbeck", "link": "https://stackoverflow.com/users/1949099/kris-hollenbeck"}, "edited": false, "score": 0, "creation_date": 1483561103, "post_id": 41470359, "comment_id": 70150790, "body": "I am not familiar with Visual Studio setup (intellij user). But maybe try using. <code>&quot;lib&quot;: [ &quot;es6&quot;, &quot;dom&quot; ],</code> Or possibly remove <code>&quot;lib&quot;: [ &quot;es20125&quot;, &quot;dom&quot; ],</code> completely and try using core-js @types. Look at my answer here on how to use core-js. <a href=\"http://stackoverflow.com/questions/35660498/angular-2-cant-find-promise-map-set-and-iterator/38876022#38876022\" title=\"angular 2 cant find promise map set and iterator\">stackoverflow.com/questions/35660498/&hellip;</a>"}, {"owner": {"reputation": 2659, "user_id": 1044858, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/72632ab377a3840f05e4f6b06ed1d6d6?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1044858/bryan"}, "reply_to_user": {"reputation": 15339, "user_id": 1949099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EfWob.jpg?s=128&g=1", "display_name": "Kris Hollenbeck", "link": "https://stackoverflow.com/users/1949099/kris-hollenbeck"}, "edited": false, "score": 0, "creation_date": 1483564197, "post_id": 41470359, "comment_id": 70152266, "body": "Isn&#39;t there browser compatibility issues with es6?"}, {"owner": {"reputation": 15339, "user_id": 1949099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EfWob.jpg?s=128&g=1", "display_name": "Kris Hollenbeck", "link": "https://stackoverflow.com/users/1949099/kris-hollenbeck"}, "edited": false, "score": 0, "creation_date": 1483564427, "post_id": 41470359, "comment_id": 70152359, "body": "Well that is what es6 or core-js does. They are pollyfills for the incompatibilities. So you can use es6 syntax in your code."}, {"owner": {"reputation": 15339, "user_id": 1949099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EfWob.jpg?s=128&g=1", "display_name": "Kris Hollenbeck", "link": "https://stackoverflow.com/users/1949099/kris-hollenbeck"}, "edited": false, "score": 0, "creation_date": 1483564607, "post_id": 41470359, "comment_id": 70152460, "body": "take this for example.. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>. Notice at the bottom of the documentation there is a pollyfill example. core-js and es6 are the pollyfills."}, {"owner": {"reputation": 15339, "user_id": 1949099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EfWob.jpg?s=128&g=1", "display_name": "Kris Hollenbeck", "link": "https://stackoverflow.com/users/1949099/kris-hollenbeck"}, "edited": false, "score": 0, "creation_date": 1483564662, "post_id": 41470359, "comment_id": 70152481, "body": "Couple more references. <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/compiler-options.html</a> <a href=\"https://www.npmjs.com/package/core-js\" rel=\"nofollow noreferrer\">npmjs.com/package/core-js</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15339, "user_id": 1949099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EfWob.jpg?s=128&g=1", "display_name": "Kris Hollenbeck", "link": "https://stackoverflow.com/users/1949099/kris-hollenbeck"}, "is_accepted": false, "score": 0, "last_activity_date": 1483564978, "last_edit_date": 1495535466, "creation_date": 1483564978, "answer_id": 41473457, "question_id": 41470359, "link": "https://stackoverflow.com/questions/41470359/errors-after-updating-tsconfig-json-and-package-json/41473457#41473457", "title": "Errors after updating tsconfig.json and package.json", "body": "<blockquote>\n  <p>I am not familiar with Visual Studio setup (intellij user). But maybe\n  try using. \"lib\": [ \"es6\", \"dom\" ], Or possibly remove \"lib\": [\n  \"es20125\", \"dom\" ], completely and try using core-js @types. Look at\n  my answer here on how to use core-js.</p>\n</blockquote>\n\n<p><strong>Related Answer:</strong> </p>\n\n<p><a href=\"https://stackoverflow.com/questions/35660498/angular-2-cant-find-promise-map-set-and-iterator/38876022#38876022\">Angular 2 can&#39;t find Promise,Map,Set and Iterator</a></p>\n\n<p><code>Cannot find name 'Promise'</code> This error leads me to believe you are missing the type definitions for ES6. </p>\n\n<p><strong>Promise, Map, and Set are es6 specification.</strong></p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set</a></li>\n</ul>\n\n<p>You should be using an ES6 pollyfill library.</p>\n"}], "owner": {"reputation": 2659, "user_id": 1044858, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/72632ab377a3840f05e4f6b06ed1d6d6?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1044858/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1158, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1507129737, "creation_date": 1483552762, "last_edit_date": 1592644375, "question_id": 41470359, "link": "https://stackoverflow.com/questions/41470359/errors-after-updating-tsconfig-json-and-package-json", "title": "Errors after updating tsconfig.json and package.json", "body": "<p>For some context, I just began running through the Ahead-of-time compilation cookbook found here, though I don't believe my errors are directly related to it: <a href=\"https://angular.io/guide/aot-compiler\" rel=\"nofollow noreferrer\">https://angular.io/guide/aot-compiler</a></p>\n<p>I am using Visual Studio 2015 and updated my Angular 2 project to the newly released 2.4 and everything built just fine. I then, however, changed my tsconfig.json file to add <code>&quot;lib&quot;: [ &quot;es2015&quot;, &quot;dom&quot; ]</code> to my compilerOptions. The file now looks like this:</p>\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    &quot;target&quot;: &quot;es5&quot;,\n    &quot;module&quot;: &quot;commonjs&quot;,\n    &quot;moduleResolution&quot;: &quot;node&quot;,\n    &quot;sourceMap&quot;: true,\n    &quot;emitDecoratorMetadata&quot;: true,\n    &quot;experimentalDecorators&quot;: true,\n    &quot;lib&quot;: [ &quot;es2015&quot;, &quot;dom&quot; ],\n    &quot;removeComments&quot;: false,\n    &quot;noImplicitAny&quot;: true,\n    &quot;outDir&quot;: &quot;dist&quot;,\n    &quot;suppressImplicitAnyIndexErrors&quot;: true\n  },\n  &quot;compileOnSave&quot;: true\n}\n</code></pre>\n<p>After this change, I re-built and got the following build error:</p>\n<blockquote>\n<p>Build: duplicate identifier 'PropertyKey'.</p>\n</blockquote>\n<p>I did some research and decided to remove <code>&quot;@types/core-js&quot;: &quot;^0.9.34&quot;</code> from my package.json file, which seems to have resolved that error, but I now have several instances of the following new errors:</p>\n<blockquote>\n<p>Build: Cannot find name 'Set'</p>\n<p>Build: Cannot find name 'Promise'</p>\n<p>Build: Cannot find name 'Map'</p>\n</blockquote>\n<p>Here is my full package.json file:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;angular2-quickstart&quot;,\n  &quot;version&quot;: &quot;1.0.0&quot;,\n  &quot;scripts&quot;: {\n    &quot;start&quot;: &quot;tsc &amp;&amp; concurrently \\&quot;tsc -w\\&quot; \\&quot;lite-server\\&quot; &quot;,\n    &quot;docker-build&quot;: &quot;docker build -t ng2-quickstart .&quot;,\n    &quot;docker&quot;: &quot;npm run docker-build &amp;&amp; docker run -it --rm -p 3000:3000 -p 3001:3001 ng2-quickstart&quot;,\n    &quot;pree2e&quot;: &quot;npm run webdriver:update&quot;,\n    &quot;e2e&quot;: &quot;tsc &amp;&amp; concurrently \\&quot;http-server -s\\&quot; \\&quot;protractor protractor.config.js\\&quot; --kill-others --success first&quot;,\n    &quot;lint&quot;: &quot;tslint ./app/**/*.ts -t verbose&quot;,\n    &quot;lite&quot;: &quot;lite-server&quot;,\n    &quot;postinstall&quot;: &quot;typings install&quot;,\n    &quot;test&quot;: &quot;tsc &amp;&amp; concurrently \\&quot;tsc -w\\&quot; \\&quot;karma start karma.conf.js\\&quot;&quot;,\n    &quot;test-once&quot;: &quot;tsc &amp;&amp; karma start karma.conf.js --single-run&quot;,\n    &quot;tsc&quot;: &quot;tsc&quot;,\n    &quot;tsc:w&quot;: &quot;tsc -w&quot;,\n    &quot;typings&quot;: &quot;typings&quot;,\n    &quot;webdriver:update&quot;: &quot;webdriver-manager update&quot;\n  },\n  &quot;license&quot;: &quot;MIT&quot;,\n  &quot;dependencies&quot;: {\n    &quot;@angular/common&quot;: &quot;~2.4.0&quot;,\n    &quot;@angular/compiler&quot;: &quot;~2.4.0&quot;,\n    &quot;@angular/compiler-cli&quot;: &quot;^2.4.1&quot;,\n    &quot;@angular/core&quot;: &quot;~2.4.0&quot;,\n    &quot;@angular/forms&quot;: &quot;~2.4.0&quot;,\n    &quot;@angular/http&quot;: &quot;~2.4.0&quot;,\n    &quot;@angular/platform-browser&quot;: &quot;~2.4.0&quot;,\n    &quot;@angular/platform-browser-dynamic&quot;: &quot;~2.4.0&quot;,\n    &quot;@angular/platform-server&quot;: &quot;^2.4.1&quot;,\n    &quot;@angular/router&quot;: &quot;~3.4.0&quot;,\n    &quot;@angular/upgrade&quot;: &quot;~2.4.0&quot;,\n    &quot;angular-in-memory-web-api&quot;: &quot;~0.1.16&quot;,\n    &quot;bootstrap&quot;: &quot;^3.3.7&quot;,\n    &quot;core-js&quot;: &quot;^2.4.1&quot;,\n    &quot;reflect-metadata&quot;: &quot;^0.1.8&quot;,\n    &quot;rxjs&quot;: &quot;5.0.1&quot;,\n    &quot;systemjs&quot;: &quot;0.19.39&quot;,\n    &quot;zone.js&quot;: &quot;^0.7.4&quot;\n  },\n  &quot;devDependencies&quot;: {\n    &quot;@types/node&quot;: &quot;^6.0.45&quot;,\n    &quot;concurrently&quot;: &quot;^3.0.0&quot;,\n    &quot;lite-server&quot;: &quot;^2.2.2&quot;,\n    &quot;typescript&quot;: &quot;^2.0.3&quot;\n  },\n  &quot;repository&quot;: {}\n}\n</code></pre>\n<p>To keep updated on new releases, I've pretty much been copying the dependencies portion of the example package.json file here: <a href=\"https://angular.io/guide/quickstart\" rel=\"nofollow noreferrer\">https://angular.io/guide/quickstart</a></p>\n<p>That link is for the JavaScript version because that is the only one I can find, but I'm actually using TypeScript 2.1.4. Because of that, I probably have some parts of this file that are out of date. I'm just not sure how to determine specifically which parts.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1473, "user_id": 2509778, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/607ae83f5c128f287ee5966393c5fcbc?s=128&d=identicon&r=PG", "display_name": "longbow", "link": "https://stackoverflow.com/users/2509778/longbow"}, "edited": false, "score": 1, "creation_date": 1483552545, "post_id": 41470212, "comment_id": 70146294, "body": "what should &quot;block ui&quot; accomplish? lock down the entire page? disable certain items?"}, {"owner": {"reputation": 581, "user_id": 5910153, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1268645989818021/picture?type=large", "display_name": "Zack Lucky", "link": "https://stackoverflow.com/users/5910153/zack-lucky"}, "reply_to_user": {"reputation": 1473, "user_id": 2509778, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/607ae83f5c128f287ee5966393c5fcbc?s=128&d=identicon&r=PG", "display_name": "longbow", "link": "https://stackoverflow.com/users/2509778/longbow"}, "edited": false, "score": 0, "creation_date": 1483552615, "post_id": 41470212, "comment_id": 70146336, "body": "disable user interaction with the component, no click, keyboard, selection, etc."}], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 5910153, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1268645989818021/picture?type=large", "display_name": "Zack Lucky", "link": "https://stackoverflow.com/users/5910153/zack-lucky"}, "edited": false, "score": 0, "creation_date": 1483554704, "post_id": 41470755, "comment_id": 70147467, "body": "I tried out the first option since I don&#39;t have nested components and it worked well, now how would I set it back to enable it? I need it to be dynamic as to whether it is disabled or not"}], "tags": [], "owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "is_accepted": true, "score": 2, "last_activity_date": 1483556891, "last_edit_date": 1483556891, "creation_date": 1483554237, "answer_id": 41470755, "question_id": 41470212, "link": "https://stackoverflow.com/questions/41470212/angular-2-block-ui-component/41470755#41470755", "title": "Angular 2 block ui component", "body": "<p>In the component's less file put:</p>\n\n<pre><code>:host {\n    pointer-events: none;\n}\n</code></pre>\n\n<p>If you have components below, they will get the clicks, if you'd like to prevent this, instead of the css do:</p>\n\n<pre><code>&lt;component (click)=\"$event.preventDefault()\"&gt;\n</code></pre>\n\n<p>to make it dynamic, assuming you use less and have a variable called <code>notInteractive</code>:</p>\n\n<p></p>\n\n<pre><code>:host {\n  &amp;.not-interactive {\n    pointer-events: none;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 5910153, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1268645989818021/picture?type=large", "display_name": "Zack Lucky", "link": "https://stackoverflow.com/users/5910153/zack-lucky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 0, "accepted_answer_id": 41470755, "answer_count": 1, "score": 1, "last_activity_date": 1483556891, "creation_date": 1483552258, "question_id": 41470212, "link": "https://stackoverflow.com/questions/41470212/angular-2-block-ui-component", "title": "Angular 2 block ui component", "body": "<p>What is the proper way to block the ui of a component in Angular 2?</p>\n\n<p>Something like this</p>\n\n<pre><code>&lt;component [blockUI]=\"true\"&gt;&lt;/component&gt;\n</code></pre>\n"}, {"tags": ["php", "json", "angular", "typescript", "http-post"], "comments": [{"owner": {"reputation": 17540, "user_id": 1007220, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/htE7h.jpg?s=128&g=1", "display_name": "aynber", "link": "https://stackoverflow.com/users/1007220/aynber"}, "edited": false, "score": 0, "creation_date": 1483552499, "post_id": 41470203, "comment_id": 70146278, "body": "Not sure where you&#39;re getting this error, but right above it, put <code>console.log()</code>, and echo out whatever data you&#39;re trying to decode. You may be getting XML instead of JSON."}, {"owner": {"reputation": 14599, "user_id": 333074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6825a369234ffd708b9f4446c8f6653f?s=128&d=identicon&r=PG", "display_name": "Jonathan Kuhn", "link": "https://stackoverflow.com/users/333074/jonathan-kuhn"}, "edited": false, "score": 0, "creation_date": 1483552778, "post_id": 41470203, "comment_id": 70146453, "body": "What you need to do is look at whatever data is being sent across with the request. Open developer tools, go to the network tab and trigger the ajax to fire. You can look at the request headers and body. I would just be guessing, but I assume you are sending some extra data like html along with the ajax request. If that looks fine, look at the response information. Perhaps you have some php error being sent back, complete with html."}, {"owner": {"reputation": 539, "user_id": 4147361, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3c4a14ee08c5276cb395c05216237c6d?s=128&d=identicon&r=PG&f=1", "display_name": "LadyT", "link": "https://stackoverflow.com/users/4147361/ladyt"}, "reply_to_user": {"reputation": 14599, "user_id": 333074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6825a369234ffd708b9f4446c8f6653f?s=128&d=identicon&r=PG", "display_name": "Jonathan Kuhn", "link": "https://stackoverflow.com/users/333074/jonathan-kuhn"}, "edited": false, "score": 0, "creation_date": 1483553014, "post_id": 41470203, "comment_id": 70146583, "body": "@JonathanKuhn Ok. I sent the request and checked the network tab and it says status 200,  I see the form data as a json object. Is there anything specific I should look for?"}, {"owner": {"reputation": 14599, "user_id": 333074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6825a369234ffd708b9f4446c8f6653f?s=128&d=identicon&r=PG", "display_name": "Jonathan Kuhn", "link": "https://stackoverflow.com/users/333074/jonathan-kuhn"}, "edited": false, "score": 0, "creation_date": 1483553110, "post_id": 41470203, "comment_id": 70146640, "body": "Where are you getting this error? On the client (e.g. console) or from php?"}, {"owner": {"reputation": 539, "user_id": 4147361, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3c4a14ee08c5276cb395c05216237c6d?s=128&d=identicon&r=PG&f=1", "display_name": "LadyT", "link": "https://stackoverflow.com/users/4147361/ladyt"}, "reply_to_user": {"reputation": 14599, "user_id": 333074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6825a369234ffd708b9f4446c8f6653f?s=128&d=identicon&r=PG", "display_name": "Jonathan Kuhn", "link": "https://stackoverflow.com/users/333074/jonathan-kuhn"}, "edited": false, "score": 0, "creation_date": 1483553208, "post_id": 41470203, "comment_id": 70146688, "body": "@JonathanKuhn  Two errors. from client it says &quot;SyntaxError: Unexpected token &lt; in JSON at position 0&quot; and from php it says &quot;Notice: Trying to get property of non-object&quot;"}, {"owner": {"reputation": 14599, "user_id": 333074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6825a369234ffd708b9f4446c8f6653f?s=128&d=identicon&r=PG", "display_name": "Jonathan Kuhn", "link": "https://stackoverflow.com/users/333074/jonathan-kuhn"}, "edited": false, "score": 1, "creation_date": 1483554849, "post_id": 41470203, "comment_id": 70147537, "body": "well there you go. Make sure that the data you are sending over is valid json. Else json_decode won&#39;t work for you. You can dump out the raw sent over information in php with something like <code>var_dump($postdata )</code>. Does that look like valid json? If it isn&#39;t, then the client side isn&#39;t sending json data. You can also <code>var_dump($request)</code> to see what that variable has in it. It is obviously not an object which is why you are getting that error. json_decode will return true, false and null if those values are sent over or an object if valid json."}, {"owner": {"reputation": 539, "user_id": 4147361, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3c4a14ee08c5276cb395c05216237c6d?s=128&d=identicon&r=PG&f=1", "display_name": "LadyT", "link": "https://stackoverflow.com/users/4147361/ladyt"}, "reply_to_user": {"reputation": 14599, "user_id": 333074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6825a369234ffd708b9f4446c8f6653f?s=128&d=identicon&r=PG", "display_name": "Jonathan Kuhn", "link": "https://stackoverflow.com/users/333074/jonathan-kuhn"}, "edited": false, "score": 0, "creation_date": 1483557424, "post_id": 41470203, "comment_id": 70148959, "body": "@JonathanKuhn So I var_dump the request and I get &quot;object(stdClass)[1]   public &#39;name&#39; =&gt; string &#39;person&#39; (length=6)&quot;, but when I echo it out, it gives me the non-object error."}, {"owner": {"reputation": 14599, "user_id": 333074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6825a369234ffd708b9f4446c8f6653f?s=128&d=identicon&r=PG", "display_name": "Jonathan Kuhn", "link": "https://stackoverflow.com/users/333074/jonathan-kuhn"}, "edited": false, "score": 0, "creation_date": 1483558933, "post_id": 41470203, "comment_id": 70149729, "body": "Well, I don&#39;t know then and can&#39;t reproduce it. Here is a copy/paste of the code above with nothing but a manual json array that has the same data structure (assumed based on the var_dump data above): <a href=\"https://3v4l.org/q2dVl\" rel=\"nofollow noreferrer\">3v4l.org/q2dVl</a>. I would suggest just making sure you have spelled everything right, php is case sensitive for things like key names. You could also try using an array instead of an object by passing <code>true</code> as the second argument to json_decode. Then access the property like <code>$request[&#39;name&#39;]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3250, "user_id": 4801289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/I0puU.jpg?s=128&g=1", "display_name": "Ismail H", "link": "https://stackoverflow.com/users/4801289/ismail-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1483552412, "creation_date": 1483552412, "answer_id": 41470258, "question_id": 41470203, "link": "https://stackoverflow.com/questions/41470203/syntaxerror-unexpected-token-in-json-at-position-0-angular-post-request-to/41470258#41470258", "title": "SyntaxError: Unexpected token &lt; in JSON at position 0 - Angular Post Request to PHP", "body": "<p>The problem come from the fact that in the PHP (server-side I assume) there is no response returned.</p>\n"}], "owner": {"reputation": 539, "user_id": 4147361, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3c4a14ee08c5276cb395c05216237c6d?s=128&d=identicon&r=PG&f=1", "display_name": "LadyT", "link": "https://stackoverflow.com/users/4147361/ladyt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2521, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483552412, "creation_date": 1483552238, "question_id": 41470203, "link": "https://stackoverflow.com/questions/41470203/syntaxerror-unexpected-token-in-json-at-position-0-angular-post-request-to", "title": "SyntaxError: Unexpected token &lt; in JSON at position 0 - Angular Post Request to PHP", "body": "<p>I am using angular 2, and I am trying to send data from angular through a post request to a php file on my server. When I try, I get this error \"SyntaxError: Unexpected token &lt; in JSON at position 0\". Here is the code I have so far. Any assistance would be appreciated. Thanks!</p>\n\n<p><strong>App component button</strong></p>\n\n<pre><code>&lt;button class=\"btn btn-primary btn-lg\" (click)=\"postData()\"&gt; Make Post Request &lt;/button&gt;\n</code></pre>\n\n<p><strong>app component code</strong> I use this function and call it on a button in the template to send the request</p>\n\n<pre><code>postData(){\nthis.requestService.postSomeData()\n  .subscribe(\n    data =&gt; this.postRequest = data,\n    error =&gt; console.log('There is an error: ' + error),\n    () =&gt; console.log(\"Completed Post Request!\")\n  );\n}\n</code></pre>\n\n<p><strong>Request Service code</strong> -- Here is the service I am calling in the app component</p>\n\n<pre><code>postSomeData(){\n   let url = 'link to php file here';\n   let jsonData = {\n       name: 'my Name'\n   };\n   let headers = new Headers();\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\n\n    return this.http.post(url, jsonData, {headers: headers})\n          .map(res =&gt; res.json());\n }\n</code></pre>\n\n<p>PHP File </p>\n\n<pre><code>&lt;?php\n\n $postdata = file_get_contents(\"php://input\");\n $request = json_decode($postdata);\n $name = $request-&gt;name;\n echo \"Name: \".$name;\n\n ?&gt;\n</code></pre>\n"}, {"tags": ["typescript", "aurelia"], "answers": [{"tags": [], "owner": {"reputation": 11504, "user_id": 1148153, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PnJGH.jpg?s=128&g=1", "display_name": "Fabio Luz", "link": "https://stackoverflow.com/users/1148153/fabio-luz"}, "is_accepted": true, "score": 1, "last_activity_date": 1483556171, "creation_date": 1483556171, "answer_id": 41471292, "question_id": 41469757, "link": "https://stackoverflow.com/questions/41469757/aurelia-child-parent-communication-without-events/41471292#41471292", "title": "Aurelia child parent communication without events", "body": "<p>Bindable properties are one-way by default. You have to use <code>two-way</code> instead of <code>bind</code> or set the default binding mode as <code>twoWay</code>.</p>\n\n<p>You can do this:</p>\n\n<pre><code>&lt;search-select placeholder=\"Customer's Name\" results.two-way=\"customers\"&gt;&lt;/search-select&gt;\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>import { bindable, bindingMode } from 'aurelia-framework';\n\nexport class SearchSelect {\n    @bindable placeholder: string; \n    @bindable({ defaultBindingMode: bindingMode.twoWay }) results: string[];\n    query: string;\n\n    select(value) {\n        this.result = value;\n    }\n}\n\n&lt;search-select placeholder=\"Customer's Name\" results.bind=\"customers\"&gt;&lt;/search-select&gt;\n</code></pre>\n"}], "owner": {"reputation": 2479, "user_id": 3666882, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d6c91065605fbddcd17db1556134b37?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo", "link": "https://stackoverflow.com/users/3666882/rodrigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "accepted_answer_id": 41471292, "answer_count": 1, "score": 1, "last_activity_date": 1483556171, "creation_date": 1483550544, "question_id": 41469757, "link": "https://stackoverflow.com/questions/41469757/aurelia-child-parent-communication-without-events", "title": "Aurelia child parent communication without events", "body": "<p>I'm creating a search select component. This is the set up I have so far</p>\n\n<p>Parent Element:</p>\n\n<p>Typescript</p>\n\n<pre><code>export class ParentElement {\n    customers: string[] = ['jon', 'mary', 'jane'];\n}\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;template&gt;\n    &lt;search-select placeholder=\"Customer's Name\" results.bind=\"customers\"&gt;&lt;/search-select&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>SearchSelectElement:</p>\n\n<p>Typescript</p>\n\n<pre><code>import { bindable } from 'aurelia-framework';\n\nexport class SearchSelect {\n    @bindable placeholder: string; \n    @bindable results: string[];\n    query: string;\n}\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;template&gt;\n    &lt;input type=\"search\" value.bind=\"query\" placeholder.bind=\"placeholder\" /&gt;\n    &lt;div class=\"result\" repeat.for=\"r of results\"&gt;\n        ${r}\n    &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>Now what I'm trying to accomplish is whenever a <code>result</code> is selected from the list of results to update a property on the parent element. So I tried this:</p>\n\n<p>SearchSelectElement:</p>\n\n<p>Typescript I added a bindable <code>result</code> property. And I <code>select()</code> method for whenever a <code>result</code> is selected (clicked on)</p>\n\n<pre><code>import { bindable } from 'aurelia-framework';\n\nexport class SearchSelect {\n    @bindable placeholder: string; \n    @bindable results: string[];\n    @bindable result: string;\n    query: string;\n\n    select(value) {\n        this.result = value;\n    }\n}\n</code></pre>\n\n<p>HTML I added a click event listener for the list of results</p>\n\n<pre><code>&lt;template&gt;\n    &lt;input type=\"search\" value.bind=\"query\" placeholder.bind=\"placeholder\" /&gt;\n    &lt;div class=\"result\" repeat.for=\"r of results\"  click.delegate=\"select(r)\"&gt;\n        ${r}\n    &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>ParentElement:</p>\n\n<p>Typescript I added a <code>selected</code> property. And a <code>selectedChanged</code> for whenever the selected value is updated.</p>\n\n<pre><code>export class ParentElement {\n    selected: string;\n    customers: string[] = ['jon', 'mary', 'jane'];\n\n    selectedChanged(value) {\n        alert(value);\n    }\n}\n</code></pre>\n\n<p>HTML I added a result attribute to the child element</p>\n\n<pre><code>&lt;search-select placeholder=\"Customer's Name\" results.bind=\"customers\" result.bind=\"selected\"&gt;&lt;/search-select&gt;\n</code></pre>\n\n<p>This did not work. I also tried binding a <code>.call</code> but haven't been able to figure that one out yet. How can I achieve what I'm trying to do. I don't want to use <code>events</code> because that to me just doesn't feel right or how a web component should behave </p>\n"}, {"tags": ["typescript", "ionic2", "infinite-scroll", "pouchdb", "searchbar"], "comments": [{"owner": {"reputation": 1802, "user_id": 3717076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzk8N.png?s=128&g=1", "display_name": "amin arghavani", "link": "https://stackoverflow.com/users/3717076/amin-arghavani"}, "edited": false, "score": 0, "creation_date": 1483552684, "post_id": 41469497, "comment_id": 70146387, "body": "you need to get new values from server inside your &quot;getItems&quot; method."}, {"owner": {"reputation": 113, "user_id": 5906314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c7b6cadfcf93f801c752c7455dec5965?s=128&d=identicon&r=PG&f=1", "display_name": "Akmal", "link": "https://stackoverflow.com/users/5906314/akmal"}, "reply_to_user": {"reputation": 1802, "user_id": 3717076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzk8N.png?s=128&g=1", "display_name": "amin arghavani", "link": "https://stackoverflow.com/users/3717076/amin-arghavani"}, "edited": false, "score": 0, "creation_date": 1483579169, "post_id": 41469497, "comment_id": 70157788, "body": "what do you mean by new values from server? I don&#39;t get it"}, {"owner": {"reputation": 1802, "user_id": 3717076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzk8N.png?s=128&g=1", "display_name": "amin arghavani", "link": "https://stackoverflow.com/users/3717076/amin-arghavani"}, "edited": false, "score": 0, "creation_date": 1483602350, "post_id": 41469497, "comment_id": 70164637, "body": "create another method in your providers.ts like this getUsers(skip,limit,filter). i mean if you like to filter record on your data source you need to query them with filter. your code just filter loaded data as you said."}, {"owner": {"reputation": 113, "user_id": 5906314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c7b6cadfcf93f801c752c7455dec5965?s=128&d=identicon&r=PG&f=1", "display_name": "Akmal", "link": "https://stackoverflow.com/users/5906314/akmal"}, "reply_to_user": {"reputation": 1802, "user_id": 3717076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzk8N.png?s=128&g=1", "display_name": "amin arghavani", "link": "https://stackoverflow.com/users/3717076/amin-arghavani"}, "edited": false, "score": 0, "creation_date": 1483604006, "post_id": 41469497, "comment_id": 70165393, "body": "I need to add filter function in my provider?"}, {"owner": {"reputation": 1802, "user_id": 3717076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzk8N.png?s=128&g=1", "display_name": "amin arghavani", "link": "https://stackoverflow.com/users/3717076/amin-arghavani"}, "edited": false, "score": 0, "creation_date": 1483608504, "post_id": 41469497, "comment_id": 70167807, "body": "can you explain the process of loading document to your view from PouchDB  step by step?"}, {"owner": {"reputation": 113, "user_id": 5906314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c7b6cadfcf93f801c752c7455dec5965?s=128&d=identicon&r=PG&f=1", "display_name": "Akmal", "link": "https://stackoverflow.com/users/5906314/akmal"}, "reply_to_user": {"reputation": 1802, "user_id": 3717076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzk8N.png?s=128&g=1", "display_name": "amin arghavani", "link": "https://stackoverflow.com/users/3717076/amin-arghavani"}, "edited": false, "score": 0, "creation_date": 1483633110, "post_id": 41469497, "comment_id": 70184993, "body": "What my code did is, in home.ts file, first I get the data from my user provider. I send the the limit as parameter to view the data based on limit that I send because if I not set the limit, it will take a long time to load all the data. So I set the limit and use infinite scroll, so that the data will load more if i scroll. For the filter part, I refer to this link <a href=\"http://stackoverflow.com/questions/39055621/searchbar-with-filter-and-from-json-data-with-ionic-2\" title=\"searchbar with filter and from json data with ionic 2\">stackoverflow.com/questions/39055621/&hellip;</a>. My problem is, I only can search the data that already view but I want search all the data from my database."}, {"owner": {"reputation": 113, "user_id": 5906314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c7b6cadfcf93f801c752c7455dec5965?s=128&d=identicon&r=PG&f=1", "display_name": "Akmal", "link": "https://stackoverflow.com/users/5906314/akmal"}, "reply_to_user": {"reputation": 1802, "user_id": 3717076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzk8N.png?s=128&g=1", "display_name": "amin arghavani", "link": "https://stackoverflow.com/users/3717076/amin-arghavani"}, "edited": false, "score": 0, "creation_date": 1483633399, "post_id": 41469497, "comment_id": 70185235, "body": "and this is what I actually want make but its using Ionic 1 and angular 1 <a href=\"http://embed.plnkr.co/ikUeQS37R5wUXHY76KPE/\" rel=\"nofollow noreferrer\">embed.plnkr.co/ikUeQS37R5wUXHY76KPE</a>"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 5906314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c7b6cadfcf93f801c752c7455dec5965?s=128&d=identicon&r=PG&f=1", "display_name": "Akmal", "link": "https://stackoverflow.com/users/5906314/akmal"}, "edited": false, "score": 0, "creation_date": 1483632382, "post_id": 41486594, "comment_id": 70184445, "body": "what do you mean by send filter?you mean i need to send search query as parameter to my provider?"}, {"owner": {"reputation": 1802, "user_id": 3717076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzk8N.png?s=128&g=1", "display_name": "amin arghavani", "link": "https://stackoverflow.com/users/3717076/amin-arghavani"}, "edited": false, "score": 0, "creation_date": 1483638324, "post_id": 41486594, "comment_id": 70188562, "body": "it&#39;s exactly what i told in comment. an your answer:yes."}], "tags": [], "owner": {"reputation": 1, "user_id": 7379426, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--z_a6w4kfY4/AAAAAAAAAAI/AAAAAAAADHI/okbj6XUZRek/photo.jpg?sz=128", "display_name": "Amin MZ", "link": "https://stackoverflow.com/users/7379426/amin-mz"}, "is_accepted": false, "score": 0, "last_activity_date": 1483623668, "creation_date": 1483623668, "answer_id": 41486594, "question_id": 41469497, "link": "https://stackoverflow.com/questions/41469497/ionic-2-filter-search-in-infinite-scroll/41486594#41486594", "title": "Ionic 2 - Filter search in infinite scroll", "body": "<p>From your code, you call query by send extra parameter which is skip and limit. Thats mean you will get data only 40 data per query. </p>\n\n<ol>\n<li><p>If you want to filter at client side (such as data table) you need to get all data and than manipulate it at client side (filter, paging)</p></li>\n<li><p>If you want to stick with your way (send limit and skip parameter to query function), you must send your filter too, and then reset you limit and skip parameter to 0</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 102, "user_id": 3083411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBcCG.png?s=128&g=1", "display_name": "Apuig", "link": "https://stackoverflow.com/users/3083411/apuig"}, "is_accepted": false, "score": 0, "last_activity_date": 1557827959, "creation_date": 1557827959, "answer_id": 56127746, "question_id": 41469497, "link": "https://stackoverflow.com/questions/41469497/ionic-2-filter-search-in-infinite-scroll/56127746#56127746", "title": "Ionic 2 - Filter search in infinite scroll", "body": "<p>I had the same issue recently and I will explain the solution from the beginning.</p>\n\n<p><em>Ionic 2 &amp; 3 have the same procedure.</em></p>\n\n<p><strong>1. Infinite Scrolling</strong></p>\n\n<p>Render your list using the Ionic docs is so simple:\n<a href=\"https://ionicframework.com/docs/v3/api/components/infinite-scroll/InfiniteScroll/\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/v3/api/components/infinite-scroll/InfiniteScroll/</a></p>\n\n<p><strong>2. Searchbar</strong></p>\n\n<p>The same, follow the Ionic docs to configure the searchbar:\n<a href=\"https://ionicframework.com/docs/v3/api/components/searchbar/Searchbar/\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/v3/api/components/searchbar/Searchbar/</a></p>\n\n<p><strong>3. Pipe</strong></p>\n\n<p>It is good to use a pipe <strong>to filter elements</strong> and you will be able to use it in both places, templates and controllers, and reuse it in another components.</p>\n\n<p>For small lists that I do not need the infinite scroll I put it directly in a template:</p>\n\n<pre><code>&lt;ion-list&gt;                                                                                                                                                                     \n  &lt;button *ngFor=\"let item of items | search : searchbarValue:searchbarFilters\"&gt;\n</code></pre>\n\n<p>For long cases in a controller:</p>\n\n<pre><code>let filteredOptions = new SearchPipe().transform(this.items, this.searchbarValue, this.searchbarFilters);\n</code></pre>\n\n<p><strong>My Real Case</strong></p>\n\n<p>In my situation, <code>this.items</code> contains 2.000 values and for that reason I can not render them, so I render only the filtered elements using the infinite scroll.</p>\n\n<p>I paste my own code to show you how it looks all together.</p>\n\n<p><em>template.html</em></p>\n\n<pre><code>&lt;ion-searchbar                                                                                                                                                               \n  [placeholder]=\"searchbarPlaceholder\"                                                                                                                                       \n  (ionInput)=\"onSearch($event)\"                                                                                                                                              \n  [(ngModel)]=\"searchbarValue\"&gt;                                                                                                                                              \n&lt;/ion-searchbar&gt;\n\n&lt;!-- List filtered elements --&gt;\n&lt;ion-list&gt;                                                                                                                                                                     \n  &lt;button *ngFor=\"let item of filteredItems\"&gt;\n</code></pre>\n\n<p><em>controller.ts</em></p>\n\n<pre><code>dynamicOffset: number = 0;\ndynamicLimit: number = 30;\noffset: number = 0;\nlimit: number = 30;\n\n/**\n * This function is called when some new value is placed in the searchbar.\n * I have two arrays:\n * - Original list with 2.000 values (this.items)\n * - Filtered list empty (this.filteredItems)\n */\nonSearch(): void {\n  // on every search I reset my filtered list                                                                                                                                                       \n  this.filteredItems.length = 0;\n  // I call the pipe passing by parameter the ORIGINAL list of items,\n  // the searchbarValue and the properties to look them for.\n  // I receive the filtered items.\n  let filteredItems = new SearchPipe().transform(this.items, this.searchbarValue, this.searchbarFilters);                                                                  \n  // I reset the limits of the infinite scroll because I will be filtering in a new list\n  this.dynamicOffset = this.offset;                                                                                                                                            \n  this.dynamicLimit = this.limit;                                                                                                                                                                                                                                                                                                                             \n\n  this.loadItems(filteredItems);                                                                                                                                           } \n\n/**                                                                                                                                                                            \n* Load items.                                                                                                                                                                 \n*/                                                                                                                                                                            \nloadItems(items: any = []): void {                                                                                                                                           \n  let item;                                                                                                                                                                    \n  while (this.dynamicOffset &lt; this.dynamicLimit) {                                                                                                                             \n    item = items[this.dynamicOffset];                                                                                                                                        \n    if (!item) break;                                                                                                                                                          \n    this.filteredItems.push(item);                                                                                                                                           \n    this.dynamicOffset++;                                                                                                                                                      \n  }\n\n  this.dynamicLimit = this.dynamicLimit + this.limit;                                                                                                                          \n}\n</code></pre>\n\n<p>Anyway, this is an idea how you can resolve this issue. There are more options but, in my case, this code resolved my worries.</p>\n"}], "owner": {"reputation": 113, "user_id": 5906314, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c7b6cadfcf93f801c752c7455dec5965?s=128&d=identicon&r=PG&f=1", "display_name": "Akmal", "link": "https://stackoverflow.com/users/5906314/akmal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1764, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557827959, "creation_date": 1483549593, "last_edit_date": 1483632621, "question_id": 41469497, "link": "https://stackoverflow.com/questions/41469497/ionic-2-filter-search-in-infinite-scroll", "title": "Ionic 2 - Filter search in infinite scroll", "body": "<p>I am using PouchDB for database and I'm already implement infinite scroll in my project. For the first load, only 40 document will be display and for next scroll, it will load 40 more document. The total document in my database is about 3000 document. I dont have problem in doing infinite scroll, but I have problem in filter data by using infinite scroll. I can search data that already display/viewed but I cannot search data that is not viewed. It's only can filter the data that already loaded. Below is my code. </p>\n\n<p>providers.ts</p>\n\n<pre><code>constructor(public http: Http) {\n\n\nthis.db = new PouchDB('location');\nconsole.log('Hello User Provider',this.db);\nthis.remote = 'http://data/location';\n\nlet options = {\n    live: true,\n    retry: true\n};\n\nthis.db.sync(this.remote, options)\n  .on('change', function(change){\n    console.log('Users provider change!', change);\n  })\n  .on('paused', function(info){\n    console.log('Users provider paused!', info);\n  })\n  .on('active', function(info){\n    console.log('Users provider active!', info);\n  })\n  .on('error', function(err){\n    console.log('users provider error!', err)\n  });\n\n}\n\ngetUsers(skip,limit){\n\nvar total;\n\nreturn new Promise(resolve =&gt; {\n\n  this.db.info().then(function (info) {\n\n    total = info.doc_count;\n  })\n\n\n  this.db.allDocs({\n    include_docs: true,\n    descending:true,\n    limit: limit,\n    skip:skip\n  })\n  .then((result) =&gt; {\n    this.data = [];\n\n      result.rows.map((row) =&gt; {\n        if(row.doc._id.substring(0,8) !== '_design/'){\n          this.data.push(row.doc);\n        }\n      })\n\n\n    resolve(this.data);\n\n    this.db.changes({live: true, since: 'now', include_docs: true})\n    .on('change', (change) =&gt; {\n      this.handleChange(change);\n    })\n\n  })\n  .catch((error) =&gt; {\n\n    console.log('Error when getUsers!', error);\n\n  })\n\n})\n\n}\n</code></pre>\n\n<p>home.html </p>\n\n<pre><code>&lt;ion-content class=\"sample-modal-page\"&gt;\n  &lt;ion-searchbar (ionInput)=\"getItems($event)\"&gt;\n  &lt;/ion-searchbar&gt;\n  &lt;ion-item *ngFor = \"let user of users (click)=\"dismiss(user.Description)\"&gt;\n    &lt;h3&gt;{{user.Description}}&lt;/h3&gt;\n    &lt;h4&gt;{{user.code}}&lt;/h4&gt;\n    &lt;h4&gt;{{user.branch}}&lt;/h4&gt;\n  &lt;/ion-item&gt;\n\n  &lt;ion-infinite-scroll (ionInfinite)=\"doInfinite($event)\"&gt;\n    &lt;ion-infinite-scroll-content\n      loadingSpinner=\"bubbles\"\n      loadingText=\"Loading more data...\"&gt;\n    &lt;/ion-infinite-scroll-content&gt;\n  &lt;/ion-infinite-scroll&gt;\n</code></pre>\n\n<p>home.ts</p>\n\n<pre><code>users: any = [];\nstaff: any = [];\nsearchQuery: string = '';\n\nskip : any = 0;\nlimit : any = 40;\n\nconstructor(public user: User,public loadingCtrl: LoadingController, public viewCtrl: ViewController, public navCtrl: NavController, public navParams: NavParams)\n{\n  let loadingPopup = this.loadingCtrl.create({\n    content: 'Loading data...'\n  });\n\n  loadingPopup.present();\n\n  //get data from user provider\n  this.user.getUsers(this.skip,this.limit).then(data =&gt; {\n\n    this.staff = data;\n\n    this.initializeItems();\n\n    loadingPopup.dismiss();\n  });\n}\n\ninitializeItems() {\n\n  this.users = this.staff;\n}\n\ngetItems(ev) {\n\n  this.initializeItems();\n\n  var val = ev.target.value;\n\n  if (val &amp;&amp; val.trim() != '') {\n    this.users = this.users.filter((user) =&gt; {\n\n      return (user.Description.toLowerCase().indexOf(val.toLowerCase()) &gt; -1);\n    })\n  }\n}\n\ndoInfinite(infiniteScroll){\n\n  setTimeout(() =&gt; {\n\n    this.skip = this.skip + this.limit;\n\n    this.user.getUsers(this.skip,this.limit).then((data) =&gt; {\n\n      for (var i = 0; i &lt; this.limit; i++) {\n        this.users.push(data[i]);\n        console.log('Apa ini sebenarnya',this.users);\n      }\n\n    });\n\n    console.log('Sync end');\n    infiniteScroll.complete();\n  },250);\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings", "typescript2.0", "definitelytyped"], "answers": [{"comments": [{"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1483549609, "post_id": 41469429, "comment_id": 70144583, "body": "Thank you for your detailed answer, I really appreciate it. I&#39;ll take another look at all of my current mess tomorrow and give some feedback."}, {"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1483616472, "post_id": 41469429, "comment_id": 70173025, "body": "Thank you again, I&#39;ll accept your answer as it technically answers my questions and gave me some good hints. However, I got stuck with a follow-up question, please see it here if you have a few minutes. <a href=\"http://stackoverflow.com/questions/41474704/how-could-i-update-the-knockout-typing-file-to-be-typescript-2-0-friendly\" title=\"how could i update the knockout typing file to be typescript 2 0 friendly\">stackoverflow.com/questions/41474704/&hellip;</a>"}], "tags": [], "owner": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "is_accepted": true, "score": 4, "last_activity_date": 1483549713, "last_edit_date": 1495541330, "creation_date": 1483549408, "answer_id": 41469429, "question_id": 41469047, "link": "https://stackoverflow.com/questions/41469047/how-to-use-the-new-types-packages-for-typescript-typings/41469429#41469429", "title": "How to use the new @types packages for TypeScript typings?", "body": "<p>The current way things are done is definitely production-ready; however, there's a few things which aren't obvious and that isn't your fault.</p>\n\n<p>Let me try to answer your questions one-by-one.</p>\n\n<blockquote>\n  <ol>\n  <li>Lots of libraries don't even have typings there.</li>\n  </ol>\n</blockquote>\n\n<p>In TypeScript 2.1, as long as you have a package installed in <code>node_modules</code> and you don't have <code>noImplicitAny</code> turned on, you can just import whatever you want.</p>\n\n<p>If you do want to use <code>noImplicitAny</code> (which I would recommend for any project that you expect to grow over time), you can just always create a <code>declarations.d.ts</code> in your project source folder that declares the modules as you need:</p>\n\n<pre><code>// do anything you want when you import `\"foo\"` now.\ndeclare module \"foo\";\n\n// can only access the `hello` export when importing `\"bar\"`.\ndeclare module \"bar\" {\n    export var hello;\n}\n</code></pre>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>Lots of libraries have completely outdated typings there.</li>\n  </ol>\n</blockquote>\n\n<p>You should definitely feel free to send a pull request to DefinitelyTyped, but if you're really strapped for time, you can just use the approach I gave for point (1).</p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>Lots of libraries have a <code>global</code> typings file, resulting that I cannot <code>import</code> it because TS complains that it's not a module.</li>\n  </ol>\n</blockquote>\n\n<p>If you need to use a global declaration file from DefinitelyTyped, and it's not automatically included in your project, you may have to add it to the <code>types</code> field in your <code>tsconfig.json</code>.\nSee my other answer <a href=\"https://stackoverflow.com/questions/41416539/typescript-error-cannot-find-name-gapi-transpile-failed/41416926#41416926\">here</a>, but the crux of it is that if you need to include global declarations for the <code>foo</code> and <code>bar</code> packages, and you have <code>@types/foo</code> and <code>@types/bar</code> installed, you can write the following in your <code>tsconfig.json</code>.</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"types\": [\"foo\", \"bar\"]\n    }\n}\n</code></pre>\n\n<blockquote>\n  <ol start=\"4\">\n  <li>When a library has a <code>module</code> shaped typing file correctly included in it's NPM package (like <code>moment.js</code>), TS still seems to be unable to find it, and errors the line <code>import * as moment from 'moment'</code> saying module is not found.</li>\n  </ol>\n</blockquote>\n\n<p>I believe that this has to do with the fact that you're targetting ES6. Try changing your <code>\"moduleResolution\"</code> option to <code>\"node\"</code> in your <code>tsconfig.json</code>.</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"moduleResolution\": \"node\"\n    }\n}\n</code></pre>\n\n<p>Sorry that that is a gotcha.\nThe rationale is that the only module loading system that actually has this resolution semantics is CommonJS (the strategy that Node uses).\nI agree that that could be improved.</p>\n"}], "owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 907, "favorite_count": 1, "accepted_answer_id": 41469429, "answer_count": 1, "score": 2, "last_activity_date": 1483549713, "creation_date": 1483548210, "question_id": 41469047, "link": "https://stackoverflow.com/questions/41469047/how-to-use-the-new-types-packages-for-typescript-typings", "title": "How to use the new @types packages for TypeScript typings?", "body": "<p>I've started to migrate a large existing, <code>namespace</code> and <code>&lt;reference&gt;</code> based TypeScript application to use <code>modules</code> and the <code>@types</code> NPM repository. However, I'm running into problems in every second.</p>\n\n<ol>\n<li>Lots of libraries don't even have typings there.</li>\n<li>Lots of libraries have completely outdated typings there.</li>\n<li>Lots of libraries have a <code>global</code> typings file, resulting that I cannot <code>import</code> it because TS complains that it's not a module.</li>\n<li>When a library has a <code>module</code> shaped typing file correctly included in it's NPM package (like <code>moment.js</code>), TS still seems to be unable to find it, and errors the line <code>import * as moment from 'moment'</code> saying module is not found.</li>\n</ol>\n\n<p>What is the current state of this technique? As I see it at first glance, it seems to be far from being production ready.</p>\n\n<p>What are the hacks and techniques to overcome these issues?</p>\n\n<p>I'm targetting <code>es5</code> and using <code>es6</code> as <code>modules</code> configuration. Can this be the problem? As far as I know TS supports the <code>es6</code> module syntax for <code>es5</code> output as well.</p>\n"}, {"tags": ["javascript", "angularjs", "angular", "typescript"], "comments": [{"owner": {"reputation": 7526, "user_id": 6872499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4588d5f475cab63f2e2f2add35c9b9ff?s=128&d=identicon&r=PG&f=1", "display_name": "silentsod", "link": "https://stackoverflow.com/users/6872499/silentsod"}, "edited": false, "score": 0, "creation_date": 1483549931, "post_id": 41468718, "comment_id": 70144817, "body": "Read the manual: <a href=\"https://angular.io/docs/ts/latest/guide/user-input.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/user-input.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1346, "user_id": 1734678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sDCCX.jpg?s=128&g=1", "display_name": "Evans M.", "link": "https://stackoverflow.com/users/1734678/evans-m"}, "is_accepted": true, "score": 3, "last_activity_date": 1483547444, "creation_date": 1483547444, "answer_id": 41468789, "question_id": 41468718, "link": "https://stackoverflow.com/questions/41468718/call-angular2-component-function-from-html-by-clicking-on-a-button/41468789#41468789", "title": "Call Angular2 component function from HTML by clicking on a button", "body": "<p>you need to call the function like this (click)=\"componentFunctionName()\" See below example.</p>\n\n<pre><code>&lt;button (click)=\"locateHotelOnMap()\"&gt;Click Me!&lt;/button&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 3564909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rx01N.jpg?s=128&g=1", "display_name": "Django", "link": "https://stackoverflow.com/users/3564909/django"}, "edited": false, "score": 0, "creation_date": 1483565086, "post_id": 41468837, "comment_id": 70152712, "body": "Thanks Ali.   Appreciate it.   Regards, Dejan"}], "tags": [], "owner": {"reputation": 3517, "user_id": 1619693, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/PaNv0.jpg?s=128&g=1", "display_name": "Ali Baig", "link": "https://stackoverflow.com/users/1619693/ali-baig"}, "is_accepted": false, "score": 0, "last_activity_date": 1483547578, "creation_date": 1483547578, "answer_id": 41468837, "question_id": 41468718, "link": "https://stackoverflow.com/questions/41468718/call-angular2-component-function-from-html-by-clicking-on-a-button/41468837#41468837", "title": "Call Angular2 component function from HTML by clicking on a button", "body": "<p>In Angular 2, the events can be called using () around normal javascript handlers like</p>\n\n<pre><code>&lt;button (click)=\"locateHotelOnMap()\"&gt;Hello World&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3564909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rx01N.jpg?s=128&g=1", "display_name": "Django", "link": "https://stackoverflow.com/users/3564909/django"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3749, "favorite_count": 0, "accepted_answer_id": 41468789, "answer_count": 2, "score": -5, "last_activity_date": 1483547578, "creation_date": 1483547244, "question_id": 41468718, "link": "https://stackoverflow.com/questions/41468718/call-angular2-component-function-from-html-by-clicking-on-a-button", "title": "Call Angular2 component function from HTML by clicking on a button", "body": "<p>I am pretty much new in TypeScript and Angular2. I have a problem when I want to call a component function by clicking on the button in HTML. </p>\n\n<p>If I use <code>**onclick=\"locateHotelOnMap()\"**</code> on HTML button element I get this error:</p>\n\n<blockquote>\n  <p>ReferenceError: locateHotelOnMap is not defined\n      at HTMLButtonElement.onclick</p>\n</blockquote>\n\n<p>Can someone help me with this? \nIn Angular1, I've called my controller funtions using directive <strong>ng-click</strong>. </p>\n\n<p>How should I do it now?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["html", "css", "node.js", "angular", "typescript"], "comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1483546294, "post_id": 41468324, "comment_id": 70142178, "body": "how is the service returning the data <b>getChatMessages</b>?"}, {"owner": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "reply_to_user": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1483546464, "post_id": 41468324, "comment_id": 70142299, "body": "added websocket services with the getChatMessages"}, {"owner": {"reputation": 592, "user_id": 4982097, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3hkzx.png?s=128&g=1", "display_name": "Engin", "link": "https://stackoverflow.com/users/4982097/engin"}, "edited": false, "score": 1, "creation_date": 1483546469, "post_id": 41468324, "comment_id": 70142302, "body": "text-align: bottom is not available try vertical-align instead, check this <a href=\"http://www.w3schools.com/cssref/pr_pos_vertical-align.asp\" rel=\"nofollow noreferrer\">w3schools.com/cssref/pr_pos_vertical-align.asp</a>"}, {"owner": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "reply_to_user": {"reputation": 592, "user_id": 4982097, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3hkzx.png?s=128&g=1", "display_name": "Engin", "link": "https://stackoverflow.com/users/4982097/engin"}, "edited": false, "score": 0, "creation_date": 1483546764, "post_id": 41468324, "comment_id": 70142538, "body": "@enucar tried vertical-align: text-bottom and bottom and none worked"}, {"owner": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "edited": false, "score": 0, "creation_date": 1483547334, "post_id": 41468324, "comment_id": 70142971, "body": "Thank you... and any ideia to pin them to the bottom?"}], "answers": [{"comments": [{"owner": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "edited": false, "score": 0, "creation_date": 1483546941, "post_id": 41468546, "comment_id": 70142675, "body": "That worked, thank you :) Do you know how I can invert the order of the messages?"}, {"owner": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "edited": false, "score": 0, "creation_date": 1483547322, "post_id": 41468546, "comment_id": 70142958, "body": "Thank you... and any ideia to pin them to the bottom?"}, {"owner": {"reputation": 695, "user_id": 6870430, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NexQyIMRrjA/AAAAAAAAAAI/AAAAAAAAADs/ZNbDaO-R0MA/photo.jpg?sz=128", "display_name": "K3v1n", "link": "https://stackoverflow.com/users/6870430/k3v1n"}, "reply_to_user": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "edited": false, "score": 0, "creation_date": 1483547421, "post_id": 41468546, "comment_id": 70143038, "body": "@Jo&#227;oSilva pin in what way?"}, {"owner": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "edited": false, "score": 0, "creation_date": 1483547496, "post_id": 41468546, "comment_id": 70143103, "body": "instead of the messages show from the top to the bottom, show them from the bottom to the top... thats what I meant about invert the order..."}], "tags": [], "owner": {"reputation": 695, "user_id": 6870430, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NexQyIMRrjA/AAAAAAAAAAI/AAAAAAAAADs/ZNbDaO-R0MA/photo.jpg?sz=128", "display_name": "K3v1n", "link": "https://stackoverflow.com/users/6870430/k3v1n"}, "is_accepted": false, "score": 1, "last_activity_date": 1483547883, "last_edit_date": 1495541857, "creation_date": 1483546750, "answer_id": 41468546, "question_id": 41468324, "link": "https://stackoverflow.com/questions/41468324/angular-2-chatbox-message-from-bottom-to-top/41468546#41468546", "title": "Angular 2 chatbox message from bottom to top", "body": "<p>This should be a plain CSS solution. Set a fixed height to <code>div.chatbox</code> and add <code>overflow-y: auto</code>. As for the messages to stay at the bottom, you can add <code>position: relative</code> to <code>div.chatbox</code> and <code>position: absolute; bottom: 0</code> to <code>div.chatbox &gt; p</code>.</p>\n\n<p>Like this:</p>\n\n<pre><code>.chatbox {\n    height: 400px; /* reasonable estimate */\n    overflow-y: auto; /* show scrollbar only when text overflows vertically */\n    position: relative;\n}\n\n.chatbox &gt; p {\n    position: absolute;\n    bottom: 0;\n}\n</code></pre>\n\n<p>EDIT: To reverse the order, you can either create a custom pipe or use a prebuilt pipe from the ng-pipes module (<a href=\"https://stackoverflow.com/questions/40618519/angular-2-ngfor-reverse-order-of-output-using-the-index\">Angular 2 ngFor - reverse order of output using the index</a>)</p>\n\n<p>Custom (courtesy of <a href=\"http://www.devsplanet.com/question/35703258\" rel=\"nofollow noreferrer\">http://www.devsplanet.com/question/35703258</a>):</p>\n\n<pre><code>@Pipe({\n  name: 'reverse'\n})\nexport class ReversePipe {\n  transform(value) {\n    return value.slice().reverse();\n  }\n}\n</code></pre>\n\n<p>Cheers!</p>\n"}, {"comments": [{"owner": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "edited": false, "score": 0, "creation_date": 1483547335, "post_id": 41468728, "comment_id": 70142972, "body": "Thank you... and any ideia to pin them to the bottom?"}, {"owner": {"reputation": 1346, "user_id": 1734678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sDCCX.jpg?s=128&g=1", "display_name": "Evans M.", "link": "https://stackoverflow.com/users/1734678/evans-m"}, "reply_to_user": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "edited": false, "score": 0, "creation_date": 1483549967, "post_id": 41468728, "comment_id": 70144847, "body": "can be done in css using display table and verticle align to bottom.  &lt;div id=&quot;parent&quot;&gt;   &lt;div id=&quot;child&quot;&gt;Content here&lt;/div&gt; &lt;/div&gt;  #parent {display: table}  #child {   display: table-cell;   vertical-align: bottom;  }"}, {"owner": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "edited": false, "score": 0, "creation_date": 1483550705, "post_id": 41468728, "comment_id": 70145264, "body": "M, I tried it but the cells get all in the same row... I managed to make them one per row but there was also a problem... The table auto size itself so the first messages got a lot of space between them until there are enought message to make it look just like a decent &lt;p&gt;"}, {"owner": {"reputation": 1346, "user_id": 1734678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sDCCX.jpg?s=128&g=1", "display_name": "Evans M.", "link": "https://stackoverflow.com/users/1734678/evans-m"}, "reply_to_user": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "edited": false, "score": 1, "creation_date": 1483554621, "post_id": 41468728, "comment_id": 70147410, "body": "This all can be fixed with plain css. see this JSFiddle for an example. Also avoid using the p tag to display a list of items. <a href=\"https://jsfiddle.net/4o07aqj3/5/\" rel=\"nofollow noreferrer\">jsfiddle.net/4o07aqj3/5</a>"}, {"owner": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "edited": false, "score": 0, "creation_date": 1483618271, "post_id": 41468728, "comment_id": 70174268, "body": "I just noticed a problem now with this solution... It worked but the overflow got messed... if there are to many msgs instead of there is a scroll it just keep getting the chat bigger"}, {"owner": {"reputation": 1346, "user_id": 1734678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sDCCX.jpg?s=128&g=1", "display_name": "Evans M.", "link": "https://stackoverflow.com/users/1734678/evans-m"}, "reply_to_user": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "edited": false, "score": 0, "creation_date": 1483721893, "post_id": 41468728, "comment_id": 70226876, "body": "We are only supposed to help you when you are stuck, not create the solution for you. You should adapt the code to work for your scenario <a href=\"https://jsfiddle.net/evansmwendwa/4o07aqj3/9/\" rel=\"nofollow noreferrer\">jsfiddle.net/evansmwendwa/4o07aqj3/9</a>"}], "tags": [], "owner": {"reputation": 1346, "user_id": 1734678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sDCCX.jpg?s=128&g=1", "display_name": "Evans M.", "link": "https://stackoverflow.com/users/1734678/evans-m"}, "is_accepted": true, "score": 2, "last_activity_date": 1483550278, "last_edit_date": 1495540926, "creation_date": 1483547263, "answer_id": 41468728, "question_id": 41468324, "link": "https://stackoverflow.com/questions/41468324/angular-2-chatbox-message-from-bottom-to-top/41468728#41468728", "title": "Angular 2 chatbox message from bottom to top", "body": "<p>You can invert the order of the messages by simply sorting the array using something like added date, array index e.t.c or replacing push with unshift to add new messages to the beginning of the array.</p>\n\n<p>See this for a simple order pipe: <a href=\"https://stackoverflow.com/questions/32882013/angular-2-sort-and-filter\">angular 2 sort and filter</a></p>\n\n<p>Aligning the messages themselves to the bottom of screen or container (use css)</p>\n\n<pre><code>.chatbox{\n  display:table;\n}\n.chatbox p{\n  display:table-cell;\n  vertical-align:bottom;\n}\n</code></pre>\n"}], "owner": {"reputation": 557, "user_id": 2486919, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df0af94b9098940d0161739a985d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Silva", "link": "https://stackoverflow.com/users/2486919/jo%c3%a3o-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2949, "favorite_count": 1, "accepted_answer_id": 41468728, "answer_count": 2, "score": 0, "last_activity_date": 1483550278, "creation_date": 1483546063, "last_edit_date": 1483546538, "question_id": 41468324, "link": "https://stackoverflow.com/questions/41468324/angular-2-chatbox-message-from-bottom-to-top", "title": "Angular 2 chatbox message from bottom to top", "body": "<p>I'm new using typescript, I'm working in an angular 2 project and I'm trying to do a chatbox where the new messages should be in the bottom and the old ones go one line up instead of this:\n<a href=\"https://i.stack.imgur.com/70LBZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/70LBZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also, I wanted them to don't leave the div and when it's full and instead of that, I wanted just to use the scroll to view the old messages...</p>\n\n<p>This is what I have:</p>\n\n<p>chatroom.component.html:</p>\n\n<pre><code>&lt;h2&gt;Player Notifications&lt;/h2&gt;\n  &lt;p *ngFor=\"let m of playersChannel\"&gt;{{m}}&lt;/p&gt;\n\n&lt;h2&gt;Chat history&lt;/h2&gt;\n&lt;div class='chatbox'&gt;\n  &lt;p *ngFor=\"let m of chatChannel\"&gt;{{m}}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>chatroom.component.css:</p>\n\n<pre><code>.chatbox{\n    width: 100%;\n    height: 500px;\n}\n\n.chatbox p{ \n    text-align: bottom;\n\n}\n</code></pre>\n\n<p>chatroom.component.ts:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\nimport {WebSocketService } from './websocket.service';\n\n@Component({\n    moduleId: module.id,\n    selector: 'chat',\n    styleUrls: [ 'chatroom.component.css' ],\n    templateUrl: 'chatroom.component.html'\n})\nexport class ChatroomComponent implements OnInit {\n    playersChannel: string[] = [];\n    chatChannel: string[] = [];    \n\n    constructor(private websocketService: WebSocketService){\n    }\n\n    ngOnInit() {\n        this.websocketService\n            .getChatMessages()\n            .subscribe((m:any) =&gt; this.chatChannel.push(&lt;string&gt;m));\n        this.websocketService\n            .getPlayersMessages()\n            .subscribe((m:any) =&gt; this.playersChannel.push(&lt;string&gt;m));\n    }\n\n}\n</code></pre>\n\n<p>websocket.service.ts:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport {\u00a0Http, Response } from '@angular/http';\n\nimport {Observable} from 'rxjs/Observable';\n\nimport * as io from 'socket.io-client';\n\n@Injectable()\nexport class WebSocketService {\n    private socket: SocketIOClient.Socket;\n    constructor() {\n        if (!this.socket) {\n            this.socket = io(`http://${window.location.hostname}:${window.location.port}`);\n        }\n    }\n\n    sendChatMessage(message: any) {\n        this.socket.emit('chat', this.getUserTime() + message);\n    }\n\n    getPlayersMessages(): Observable&lt;any&gt; {\n        return this.createObservable('players');\n    }\n\n    getChatMessages(): Observable&lt;any&gt; {\n        return this.createObservable('chat');\n    }\n\n     getUserTime(){\n         let now = Date.now();\n         let date = new Date(now);\n         let hours = date.getHours();\n         let mins = date.getMinutes();\n         let secs = date.getSeconds();\n        return hours + \":\" + mins + \":\" + secs + \": \";\n    } \n\n    private createObservable(channel: string): Observable&lt;any&gt; {\n        return new Observable((observer:any) =&gt; {\n            this.socket.on(channel, (data:any) =&gt; {\n                observer.next(data);\n            });\n            return () =&gt; this.socket.disconnect();\n        });\n\n    }\n}\n</code></pre>\n\n<p>server.websocket.ts:</p>\n\n<pre><code>const io = require('socket.io');\n\nexport class WebSocketServer {\n    public io: any;\n\n\n\n\n    public init = (server: any) =&gt; {\n        this.io = io.listen(server);\n        this.io.sockets.on('connection', (client: any) =&gt; {\n            client.emit('players', Date.now() + ': Welcome to battleship');\n            client.broadcast.emit('players', Date.now() + ': A new player has arrived');\n            client.on('chat', (data) =&gt; this.io.emit('chat', data));\n\n        });\n    };\n   public notifyAll = (channel: string, message: any) =&gt; {\n        this.io.sockets.emit(channel, message);\n    };\n\n\n};\n</code></pre>\n"}, {"tags": ["typescript", "configuration-files"], "comments": [{"owner": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "edited": false, "score": 0, "creation_date": 1483549959, "post_id": 41467801, "comment_id": 70144834, "body": "A separate <code>config.ts</code> file seems fine."}], "answers": [{"tags": [], "owner": {"reputation": 1429, "user_id": 2194590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/513c6d38af3d9c3b2d10b7fcc0b6092d?s=128&d=identicon&r=PG", "display_name": "HolgerJeromin", "link": "https://stackoverflow.com/users/2194590/holgerjeromin"}, "is_accepted": true, "score": 6, "last_activity_date": 1483547139, "creation_date": 1483547139, "answer_id": 41468681, "question_id": 41467801, "link": "https://stackoverflow.com/questions/41467801/how-to-create-an-application-specific-config-file-for-typescript/41468681#41468681", "title": "How to create an application-specific config file for TypeScript?", "body": "<p>As Typescript is transpiled into JavaScript there is no difference in your usecase.\nThe browser does not get the TS code but the JS.</p>\n"}, {"comments": [{"owner": {"reputation": 5561, "user_id": 2377920, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q6Vzy.png?s=128&g=1", "display_name": "roo2", "link": "https://stackoverflow.com/users/2377920/roo2"}, "edited": false, "score": 1, "creation_date": 1515469584, "post_id": 41470466, "comment_id": 83301783, "body": "I think that in the interface &#39;Config&#39;, you cannot use the public modifier, it should just be <code>uriPath: string;</code> etc. Thanks for the approach though!"}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": false, "score": 51, "last_activity_date": 1515493804, "last_edit_date": 1515493804, "creation_date": 1483553196, "answer_id": 41470466, "question_id": 41467801, "link": "https://stackoverflow.com/questions/41467801/how-to-create-an-application-specific-config-file-for-typescript/41470466#41470466", "title": "How to create an application-specific config file for TypeScript?", "body": "<p>You can do it the following way.</p>\n\n<p>First define structure of your config file, in lets say config.ts:</p>\n\n<pre><code>export interface Config\n{\n    uriPath: string;   \n    port: number;   \n    settings: string[];\n}\n</code></pre>\n\n<p>Then create config.json that actually holds the data:</p>\n\n<pre><code>{\n    \"uriPath\": \"mgNation\",\n    \"port\": 1506,\n    \"settings\": [\n        \"=[tor.start]\",\n        \"=[copp.start]\"\n    ]\n}\n</code></pre>\n\n<p>And consume it in your app.ts:</p>\n\n<pre><code>let config: Config = require('./path/to/config.json');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1302, "user_id": 9614175, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tnNUij-vf-8/AAAAAAAAAAI/AAAAAAAAAD8/ZcmJEOrHqKk/photo.jpg?sz=128", "display_name": "St&#233;phane Veyret", "link": "https://stackoverflow.com/users/9614175/st%c3%a9phane-veyret"}, "is_accepted": false, "score": 0, "last_activity_date": 1582887656, "creation_date": 1582887656, "answer_id": 60450400, "question_id": 41467801, "link": "https://stackoverflow.com/questions/41467801/how-to-create-an-application-specific-config-file-for-typescript/60450400#60450400", "title": "How to create an application-specific config file for TypeScript?", "body": "<p>I know this is an old thread, but for people arriving here after a Google search (and looking for a full solution), there is the <a href=\"https://www.npmjs.com/package/confinode\" rel=\"nofollow noreferrer\">confinode</a> package which fully manages the configuration file for you.</p>\n"}], "owner": {"reputation": 620, "user_id": 1707123, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f55c66705c1b1d350548894efd67f1cd?s=128&d=identicon&r=PG", "display_name": "r0estir0bbe", "link": "https://stackoverflow.com/users/1707123/r0estir0bbe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16972, "favorite_count": 2, "accepted_answer_id": 41468681, "answer_count": 3, "score": 18, "last_activity_date": 1582887656, "creation_date": 1483544667, "question_id": 41467801, "link": "https://stackoverflow.com/questions/41467801/how-to-create-an-application-specific-config-file-for-typescript", "title": "How to create an application-specific config file for TypeScript?", "body": "<p>I am working on a web application using TypeScript. For some parts of the application, I would like to define a simple configuration file that specifies certain aspects (for example the color palette).</p>\n\n<p>How would I create such a configuration file? In JavaScript, creating <code>config.js</code> and referencing it in the HTML code is a very simple solution. What would be the best solution for TypeScript? Maybe a separate <code>Config.ts</code> file?</p>\n"}, {"tags": ["angular", "typescript", "http-get"], "comments": [{"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1483546401, "post_id": 41467454, "comment_id": 70142255, "body": "Where is name field in items array ?and can you please help me with the stack trace if any"}, {"owner": {"reputation": 37, "user_id": 7146022, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b5e7ad2d4199af5cbff9fe197f018bde?s=128&d=identicon&r=PG&f=1", "display_name": "suresh t", "link": "https://stackoverflow.com/users/7146022/suresh-t"}, "reply_to_user": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1483596349, "post_id": 41467454, "comment_id": 70162046, "body": "@RahulSingh name is for leftside menu its working and i struck in update data in content whch is next part in same template(i m new in angular)."}], "answers": [{"tags": [], "owner": {"reputation": 986, "user_id": 7375155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f26844ea283f2e23ae65ff490e7b1d29?s=128&d=identicon&r=PG", "display_name": "Roberc", "link": "https://stackoverflow.com/users/7375155/roberc"}, "is_accepted": false, "score": 0, "last_activity_date": 1483618889, "last_edit_date": 1483618889, "creation_date": 1483546282, "answer_id": 41468388, "question_id": 41467454, "link": "https://stackoverflow.com/questions/41467454/how-to-update-a-div-based-on-http-get-request-in-angular-2/41468388#41468388", "title": "How to update a div based on http.get request in Angular 2", "body": "<p>You have ngOnInit in your class.\nBut it will not be executed unless it's not implemented by OnInit.</p>\n\n<p>To use it properly (to be sure it'll be launched) you have to extend your class as implements OnInit. Change the first line of your class title like this:</p>\n\n<pre><code>export class HTTPTestComponent implements OnInit {\n</code></pre>\n\n<p>and add the OnInit to imports line like this:</p>\n\n<pre><code>import {Component, OnInit} from 'angular2/core';\n</code></pre>\n\n<p>And your functions getStack() and getPosts() will be executed at start</p>\n"}], "owner": {"reputation": 37, "user_id": 7146022, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b5e7ad2d4199af5cbff9fe197f018bde?s=128&d=identicon&r=PG&f=1", "display_name": "suresh t", "link": "https://stackoverflow.com/users/7146022/suresh-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 520, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483618889, "creation_date": 1483543780, "last_edit_date": 1483596687, "question_id": 41467454, "link": "https://stackoverflow.com/questions/41467454/how-to-update-a-div-based-on-http-get-request-in-angular-2", "title": "How to update a div based on http.get request in Angular 2", "body": "<p>I have menu column in left side and content part in right side.\nwhenever i click on menus in left side , http.get request is performed and i received response data but i dont know how to replace in content div.\nThanks if anyone help me...</p>\n\n<p>component ts</p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {Http} from \"angular2/http\";\nimport {HTTPTestService} from \"./http-test.service\";\nimport {HTTPSecondComponent} from \"./http_second.component\";\nimport {Observable} from 'rxjs/Rx';\n@Component({\n    selector: 'http-test',\n    template: ` &lt;div class=\"leftside\"&gt;\n      &lt;ul&gt; //left side menu iteration\n               &lt;li *ngFor=\"#item of getData?.items\" (click)=\"getPosts()\"&gt;  \n                        &lt;a href=\"#\"&gt;{{item.name}} \n               &lt;/a&gt;\n               &lt;/li&gt;   \n      &lt;/ul&gt;\n            //content to display ======= where i struggle to update data\n           &lt;div *ngFor=\"#data of postData?.datas\"&gt; {{data.creation_date}}\n            &lt;/div&gt;\n      &lt;/div&gt;\n     `,\n       directives: [HTTPSecondComponent],\n     providers:[HTTPTestService],\n      styleUrls:[\"../src/css/http-style.css\"]   \n})\nexport class HTTPTestComponent {\n    public getData;\n    public postData;\n    public displayName;\n    public creationDate;\n    constructor (private _httpService: HTTPTestService){}\n     getStack()\n      {\n          this._httpService.getItemData()\n         .subscribe(             \n             data =&gt;this.getData = (data),\n                // console.log(this.httpData);},\n             error =&gt; alert(error),\n             () =&gt;console.log(\"finished\")\n         );\n     }\n   getPosts(){\n\n              this._httpService.getPostData()\n         .subscribe(             \n             data =&gt;this.postData = (data),\n                // console.log(this.httpData);},\n             error =&gt; alert(error),\n             () =&gt;console.log(\"finished\")\n     );\n   }\n     ngOnInit() {\n    this.getStack();\n    this.getPosts();\n  }\n}\n</code></pre>\n\n<p>service ts</p>\n\n<pre><code>import {Injectable} from \"angular2/core\";\nimport {Http} from \"angular2/http\";\nimport 'rxjs/add/operator/map';\n@Injectable()\nexport class HTTPTestService {\n    constructor(private _http: Http) { }\n    getItemData(){\n        return this._http.get('https://api.stackexchange.com/2.2/sites').map(res =&gt; res.json());\n    }  \ngetPostData(){\n    return this._http.get('https://api.stackexchange.com/2.2/posts?order=desc&amp;sort=activity&amp;site=stackoverflow').map(res=&gt;res.json());\n}\n}\n</code></pre>\n\n<p><strong>Receiving Data for content when i click menu link</strong></p>\n\n<pre><code>    {\n    \"datas\": [\n        {\n            \"owner\": {\n                \"reputation\": 3589,\n                \"user_id\": 1376277,\n                \"user_type\": \"registered\",\n                \"accept_rate\": 34,\n                \"profile_image\": \"https://www.gravatar.com/avatar/195fcc7db00488b207c67ccfee6a2c5b?s=128&amp;d=identicon&amp;r=PG\",\n                \"display_name\": \"Rahul Gupta\",\n                \"link\": \"http://stackoverflow.com/users/1376277/rahul-gupta\"\n            },\n            \"score\": 1,\n            \"last_edit_date\": 1483342788,\n            \"last_activity_date\": 1483342788,\n            \"creation_date\": 1423733190,\n            \"post_type\": \"question\",\n            \"post_id\": 28473725,\n            \"link\": \"http://stackoverflow.com/q/28473725\"\n        }\n    ]\n}\n</code></pre>\n"}, {"tags": ["typescript", "singleton"], "comments": [{"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "edited": false, "score": 0, "creation_date": 1483543373, "post_id": 41467150, "comment_id": 70140122, "body": "Have a look here: <a href=\"http://blog.eexit.net/js-singleton-as-module/\" rel=\"nofollow noreferrer\">blog.eexit.net/js-singleton-as-module</a>"}, {"owner": {"reputation": 65, "user_id": 1475799, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/anDZx.jpg?s=128&g=1", "display_name": "Senthil S", "link": "https://stackoverflow.com/users/1475799/senthil-s"}, "reply_to_user": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "edited": false, "score": 0, "creation_date": 1483549546, "post_id": 41467150, "comment_id": 70144536, "body": "@Amid - I thought that is what I am doing in my type script class. The example is in java script, so when I do the same in type script, it does not work as I wanted. Am I missing something?"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "edited": false, "score": 0, "creation_date": 1483552648, "post_id": 41467150, "comment_id": 70146354, "body": "No exactly. See my post as answer."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 1475799, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/anDZx.jpg?s=128&g=1", "display_name": "Senthil S", "link": "https://stackoverflow.com/users/1475799/senthil-s"}, "edited": false, "score": 0, "creation_date": 1483554366, "post_id": 41470315, "comment_id": 70147268, "body": "Thanks a lot @Amid. Excellent. I started using static variables which also works for my case but I like this way to be consistent with the type script modules."}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": true, "score": 1, "last_activity_date": 1483552605, "last_edit_date": 1592644375, "creation_date": 1483552605, "answer_id": 41470315, "question_id": 41467150, "link": "https://stackoverflow.com/questions/41467150/common-object-in-typescript/41470315#41470315", "title": "Common object in TypeScript", "body": "<p>First off, have a look here: <a href=\"http://blog.eexit.net/js-singleton-as-module/\" rel=\"nofollow noreferrer\">singleton</a>.</p>\n<p>Then regarding your code, do the following changes:</p>\n<ol>\n<li>Remove all attempts to implement singleton from UserDetails class ( <code>_instance</code> static field and so on)</li>\n<li>In the end of the UserDetails.ts export singleton instance like this:</li>\n</ol>\n<p><code>export const DefaultUser = new UserDetails();</code></p>\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 65, "user_id": 1475799, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/anDZx.jpg?s=128&g=1", "display_name": "Senthil S", "link": "https://stackoverflow.com/users/1475799/senthil-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 41470315, "answer_count": 1, "score": 0, "last_activity_date": 1483552605, "creation_date": 1483542922, "question_id": 41467150, "link": "https://stackoverflow.com/questions/41467150/common-object-in-typescript", "title": "Common object in TypeScript", "body": "<p>I am trying to use a global object in TypeScript. For example, when a remote call is done, the user details gets populated. I would like it to be available throughout the application and be bindable. Can someone point to an example how it can be done?</p>\n\n<p>I am implementing this type of singleton class for the user details class.</p>\n\n<p>User Details:</p>\n\n<pre><code>export class UserDetails {\n//Gets populated for all the remote calls\nuserGuid: string;\nfirstName: string;\nlastName: string;\nfullName: string;\nisAuthenticated: boolean;\n\nprivate static  _instance: UserDetails = new UserDetails();\nconstructor() {\n    if (UserDetails._instance) {\n        throw new Error(\"Error: Instantiation failed: Use UserDetails.User instead of new.\");\n    }\n    UserDetails._instance = this;\n}\n\npublic static get User(): UserDetails {\n    return UserDetails._instance;\n}\n\n@computedFrom('fullName')\nget FullName(): string {\n    return this.fullName;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Other Page:</p>\n\n<pre><code>import {UserDetails} from 'models/userDetails';\nexport class Home {\n    /*@bindable*/router: Router;\n    //This does not have the values \n    //that gets populated after every remote call to the server\n    userDetails = UserDetails.User; \n}\n</code></pre>\n\n<p>Thanks in advance\nSenthil S</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "typescript2.0"], "answers": [{"comments": [{"owner": {"reputation": 448, "user_id": 5794266, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/46fxy.jpg?s=128&g=1", "display_name": "tiansivive", "link": "https://stackoverflow.com/users/5794266/tiansivive"}, "edited": false, "score": 0, "creation_date": 1483543316, "post_id": 41467178, "comment_id": 70140094, "body": "Right, but I thought the recommended syntax for node modules was import x = require(&#39;foo&#39;) and I remember using that in a previous project, so why don&#39;t that work here? Also, that requires me having to manually place ///&lt;rerference /&gt; in every file where I use a node module that does not have typings"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 448, "user_id": 5794266, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/46fxy.jpg?s=128&g=1", "display_name": "tiansivive", "link": "https://stackoverflow.com/users/5794266/tiansivive"}, "edited": false, "score": 0, "creation_date": 1483543555, "post_id": 41467178, "comment_id": 70140242, "body": "If typescript cannot infer type information and verify what you are importing - you cant use that syntax. You do not have to place //&lt;reference&gt; in any of the cases either. If you have typings and proper reference them in tsconfig - typescript will use them, otherwise with old syntax you just work in plain javascript with no typings"}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": true, "score": 3, "last_activity_date": 1483542977, "creation_date": 1483542977, "answer_id": 41467178, "question_id": 41466672, "link": "https://stackoverflow.com/questions/41466672/typescript-2-cannot-resolve-external-node-module/41467178#41467178", "title": "Typescript 2 cannot resolve external node module", "body": "<p>You should either get typings for <code>koa-morgan</code> and include them the same way as you did for <code>node</code>, or if they are not available and you have time and will - create one yourself. </p>\n\n<p>Otherwise just import then the defaul javascript way: </p>\n\n<pre><code>const Morgan = require('koa-morgan');\n</code></pre>\n\n<p>But that will leave you without type checks from typescript aswell</p>\n"}], "owner": {"reputation": 448, "user_id": 5794266, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/46fxy.jpg?s=128&g=1", "display_name": "tiansivive", "link": "https://stackoverflow.com/users/5794266/tiansivive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 599, "favorite_count": 0, "accepted_answer_id": 41467178, "answer_count": 1, "score": 0, "last_activity_date": 1483542977, "creation_date": 1483541365, "question_id": 41466672, "link": "https://stackoverflow.com/questions/41466672/typescript-2-cannot-resolve-external-node-module", "title": "Typescript 2 cannot resolve external node module", "body": "<p>I've been trying to do some prototyping using koa and Typescript2.0.</p>\n\n<p>I've set up a simple project with the following tsconfig.json :</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"outDir\": \"./bin/\",\n        \"sourceMap\": true,\n        \"noImplicitAny\": true,\n        \"module\": \"commonjs\",\n        \"target\": \"es6\",\n        \"jsx\": \"react\",\n        \"typeRoots\": [\n            \"node_modules/@types\"\n        ],\n        \"types\": [\n            \"node\"\n        ]\n    },\n    \"include\": [\n        \"./src/**/*\"\n    ]\n}\n</code></pre>\n\n<p>I installed the node definition file via <code>npm install --save @types/node</code> and I'm now trying to import a node module with <code>import Morgan = require('koa-morgan')</code> but this keeps throwing the error: <code>error TS7016: Could not find a declaration file for module 'koa-morgan'.</code>\nI'm using VScode and I properly updated the tsdk so that's not the issue.</p>\n\n<p>What am I missing?\nThanks in advance!</p>\n"}, {"tags": ["javascript", "typescript", "tsc"], "comments": [{"owner": {"reputation": 383, "user_id": 3251262, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/hMTNU.png?s=128&g=1", "display_name": "SASIKUMAR S", "link": "https://stackoverflow.com/users/3251262/sasikumar-s"}, "edited": false, "score": 0, "creation_date": 1483542398, "post_id": 41465954, "comment_id": 70139524, "body": "It doesn&#39;t make sense if you skip the node_modules where pre-defined dependencies were sitting on? If you wat o do it forecefully then nan you elaborate the scenario?"}], "answers": [{"comments": [{"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 2, "creation_date": 1483544436, "post_id": 41467062, "comment_id": 70140843, "body": "Whenever I&#39;m adding <code>&quot;exclude&quot;:[&quot;node_modules&quot;]</code> I get errors in my <code>.ts</code> files because atom typescript cannot find modules in <code>node_modules</code>."}], "tags": [], "owner": {"reputation": 2261, "user_id": 4671932, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/139ec751e6aa9bfe35342f2f4bcb06cb?s=128&d=identicon&r=PG", "display_name": "Andrew Luca", "link": "https://stackoverflow.com/users/4671932/andrew-luca"}, "is_accepted": false, "score": 15, "last_activity_date": 1483542602, "creation_date": 1483542602, "answer_id": 41467062, "question_id": 41465954, "link": "https://stackoverflow.com/questions/41465954/exclude-folder-when-compiling-typescript/41467062#41467062", "title": "Exclude folder when compiling typescript", "body": "<p>Use exclude property</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        ...\n    }\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n\n<blockquote>\n  <p>Files included using \"include\" can be filtered using the \"exclude\" property. However, files included explicitly using the \"files\" property are always included regardless of \"exclude\". The \"exclude\" property defaults to excluding the node_modules, bower_components, jspm_packages and  directories when not specified.  </p>\n</blockquote>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a></p>\n"}], "owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13737, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1483542602, "creation_date": 1483539352, "last_edit_date": 1483540269, "question_id": 41465954, "link": "https://stackoverflow.com/questions/41465954/exclude-folder-when-compiling-typescript", "title": "Exclude folder when compiling typescript", "body": "<p>I use Atom to write code. It uses <code>tsconfig.json</code> to include and exclude folders. In order to use intellisense I need <code>node_modules</code> to be included, but when I want to compile it to <code>js</code> I don't want <code>node_modules</code> to be compiled. \nSo I need to call <code>tsc</code> in the upper folder where the <code>config.ts</code> is, and this results in compiling the whole <code>node_modules</code>.</p>\n\n<p>My folder structure looks like this:</p>\n\n<pre><code>node_modules\nconfig.ts\nspec\n  |--test1.ts\n  |--test2.ts\n</code></pre>\n\n<p>Any idea how to exclude <code>node_modules</code> when compiling with <code>tsc</code> command?</p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "edited": false, "score": 0, "creation_date": 1483539585, "post_id": 41465938, "comment_id": 70137492, "body": "It may be a typo in your OP but please try by changing this line <code>Geolocation.getCurrentPosition().then((resp =&gt; {</code> to <code>Geolocation.getCurrentPosition().then((resp) =&gt; {</code> (closing the parenthesis after the <code>resp</code>). Please also notice that you&#39;ll need to remove a closing parenthesis at the end of the <code>then</code> method."}, {"owner": {"reputation": 21, "user_id": 7374516, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UIVPIuteqo0/AAAAAAAAAAI/AAAAAAAABeA/3Pk0Z8zpYAI/photo.jpg?sz=128", "display_name": "Alex arevalo martinez", "link": "https://stackoverflow.com/users/7374516/alex-arevalo-martinez"}, "reply_to_user": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "edited": false, "score": 0, "creation_date": 1483540345, "post_id": 41465938, "comment_id": 70138073, "body": "I fixed that but the issue still persist."}, {"owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "edited": false, "score": 0, "creation_date": 1483540517, "post_id": 41465938, "comment_id": 70138183, "body": "When/where are you calling the <code>getLocalPosition</code> method?"}, {"owner": {"reputation": 21, "user_id": 7374516, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UIVPIuteqo0/AAAAAAAAAAI/AAAAAAAABeA/3Pk0Z8zpYAI/photo.jpg?sz=128", "display_name": "Alex arevalo martinez", "link": "https://stackoverflow.com/users/7374516/alex-arevalo-martinez"}, "reply_to_user": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "edited": false, "score": 0, "creation_date": 1483541163, "post_id": 41465938, "comment_id": 70138648, "body": "when I press a button in the view"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7374516, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UIVPIuteqo0/AAAAAAAAAAI/AAAAAAAABeA/3Pk0Z8zpYAI/photo.jpg?sz=128", "display_name": "Alex arevalo martinez", "link": "https://stackoverflow.com/users/7374516/alex-arevalo-martinez"}, "is_accepted": true, "score": 0, "last_activity_date": 1483657515, "creation_date": 1483657515, "answer_id": 41496288, "question_id": 41465938, "link": "https://stackoverflow.com/questions/41465938/i-am-not-able-to-set-my-class-into-a-promise-on-ionic2/41496288#41496288", "title": "I am not able to set my class into a promise on Ionic2", "body": "<p>The problem was in this line  </p>\n\n<pre><code>this.storage.get('position').then((val) =&gt; {\n  this.position = val;\n}).catch((err) =&gt; {\n  console.log(err);\n});\n</code></pre>\n\n<p>I set this.position with val and after it's impossible to access to the method setLat because it doesn't exists.</p>\n"}], "owner": {"reputation": 21, "user_id": 7374516, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UIVPIuteqo0/AAAAAAAAAAI/AAAAAAAABeA/3Pk0Z8zpYAI/photo.jpg?sz=128", "display_name": "Alex arevalo martinez", "link": "https://stackoverflow.com/users/7374516/alex-arevalo-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 41496288, "answer_count": 1, "score": 2, "last_activity_date": 1483657515, "creation_date": 1483539299, "question_id": 41465938, "link": "https://stackoverflow.com/questions/41465938/i-am-not-able-to-set-my-class-into-a-promise-on-ionic2", "title": "I am not able to set my class into a promise on Ionic2", "body": "<p>when I've executed the function getLocalPosition() and inside I try to set my variable of class Position, I receive the next error.</p>\n\n<pre><code>TypeError: Cannot read property 'setLat' of null\n    at VM11086 main.js:52673\n    at t.invoke (VM11035 polyfills.js:3)\n    at Object.onInvoke (VM11086 main.js:34675)\n    at t.invoke (VM11035 polyfills.js:3)\n    at e.run (VM11035 polyfills.js:3)\n    at VM11035 polyfills.js:3\n    at t.invokeTask (VM11035 polyfills.js:3)\n    at Object.onInvokeTask (VM11086 main.js:34666)\n    at t.invokeTask (VM11035 polyfills.js:3)\n    at e.runTask (VM11035 polyfills.js:3)\nVM11086 main.js:52685 TypeError: Cannot read property 'setLon' of null\n    at VM11086 main.js:52681\n    at t.invoke (VM11035 polyfills.js:3)\n    at Object.onInvoke (VM11086 main.js:34675)\n    at t.invoke (VM11035 polyfills.js:3)\n    at e.run (VM11035 polyfills.js:3)\n    at VM11035 polyfills.js:3\n    at t.invokeTask (VM11035 polyfills.js:3)\n    at Object.onInvokeTask (VM11086 main.js:34666)\n    at t.invokeTask (VM11035 polyfills.js:3)\n    at e.runTask (VM11035 polyfills.js:3)\n</code></pre>\n\n<p>But if I set my class in the constructor is working fine.</p>\n\n<p>here is my .ts</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { Geolocation } from 'ionic-native';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Position } from './clases';\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n  private position = new Position();\r\n\r\n  constructor(public navCtrl: NavController, public storage: Storage) {\r\n    this.position.setLat(1234311);\r\n    console.log(this.position);\r\n    // Or to get a key/value pair\r\n    this.storage.get('position').then((val) =&gt; {\r\n      this.position = val;\r\n    }).catch((err) =&gt; {\r\n      console.log(err);\r\n    });\r\n  }\r\n  getLocalPosition() {\r\n    Geolocation.getCurrentPosition().then((resp =&gt; {\r\n\r\n      try {\r\n        this.position.setLat(resp.coords.latitude);\r\n      } catch (e) {\r\n        if (e instanceof TypeError) {\r\n          console.log(e);\r\n\r\n        }\r\n      }\r\n      try {\r\n        this.position.setLon(resp.coords.longitude);\r\n      } catch (e) {\r\n        if (e instanceof TypeError) {\r\n          console.log(e);\r\n\r\n        }\r\n      }\r\n\r\n      //this.storage.set('position', this.position);\r\n    }))\r\n  }\r\n\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and here my class</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class Position {\r\n    private lat: number;\r\n    private lon: number;\r\n\r\n    constructor(lat: number = 0, lon: number = 0) {\r\n        this.lat = lat;\r\n        this.lon = lon;\r\n\r\n    }\r\n    setLat(lat: number) {\r\n        this.lat = lat;\r\n    }\r\n    setLon(lon: number) {\r\n        this.lon = lon;\r\n    }\r\n    getLat() {\r\n        return this.lat;\r\n    }\r\n    getLon() {\r\n        return this.lon;\r\n    }\r\n\r\n    getPosition() {\r\n        let position = {\r\n            lat: this.lat,\r\n            lon: this.lon\r\n        }\r\n        return position;\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>thanks for your time</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-routing"], "answers": [{"tags": [], "owner": {"reputation": 2386, "user_id": 7285325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc0b4009f4bb657526dfe60e9ec2b24?s=128&d=identicon&r=PG&f=1", "display_name": "A. Tim", "link": "https://stackoverflow.com/users/7285325/a-tim"}, "is_accepted": false, "score": 3, "last_activity_date": 1492653068, "last_edit_date": 1492653068, "creation_date": 1483540588, "answer_id": 41466403, "question_id": 41465867, "link": "https://stackoverflow.com/questions/41465867/reset-service-variable-on-route-change-in-angular2/41466403#41466403", "title": "Reset service variable on route change in Angular2", "body": "<p>When you subscribe to events, you can track multiple navigation events. Please refer to API doc. One of these events is <code>NavigationStart</code>. Also you can inject Router service into your StyleService and subscribe to events there: </p>\n\n<pre><code>@Injectable()\nexport class StyleService{\n    constructor(private router: Router){\n        router.events.subscribe((val) =&gt; {\n            if (val instanceof NavigationStart) {\n                this.resetStyle();\n            }\n\n            if (val instanceof NavigationEnd) {\n                this.setStyle(router.routerState);\n            }\n        });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3583, "user_id": 3375368, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/sPkbV.jpg?s=128&g=1", "display_name": "demonofthemist", "link": "https://stackoverflow.com/users/3375368/demonofthemist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1846, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492653068, "creation_date": 1483539116, "last_edit_date": 1495540471, "question_id": 41465867, "link": "https://stackoverflow.com/questions/41465867/reset-service-variable-on-route-change-in-angular2", "title": "Reset service variable on route change in Angular2", "body": "<p>I am using a UI service to set the appearance on the element on my page. The member of this service are changed on each route to decide how header &amp; page styling will look.</p>\n\n<p><strong>Example:</strong><br>\nIf service member <code>headerStyle</code> is set to <em>dark</em>, the dark header theme is used for that route, &amp; if it is set to <em>light</em>, then light theme is used &amp; so on.</p>\n\n<p>The probelm I face is, when I change the route from '<em>route1</em>' to '<em>route2</em>', I have to manually reset the service member on '<em>route2</em>'. This is somewhat tedious because these new styles are applied for only 2-3 pages, but I have to call this service on all the pages! Otherwise the values in service wont change &amp; the style from the previous route stays as it is.</p>\n\n<p><strong>What I want to achieve is, as soon as route is change begin, reset all UI service styles to default, then when route change is complete, if new page contain new values for UI service then use those or render page using default styles.</strong></p>\n\n<p>This question is similar:<br>\n<a href=\"https://stackoverflow.com/questions/33520043/how-to-detect-route-change-in-angular-2\">How to detect a route change in Angular 2?</a></p>\n\n<p>But here route change event is fired after route change is done, thus no matter what code is on page, it overwrites it with default!</p>\n"}, {"tags": ["angular", "typescript"], "owner": {"reputation": 2072, "user_id": 2380470, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/42ef03fb39625b4f70d4374ea3900858?s=128&d=identicon&r=PG", "display_name": "Alexis", "link": "https://stackoverflow.com/users/2380470/alexis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1483539077, "creation_date": 1483538413, "last_edit_date": 1483539077, "question_id": 41465644, "link": "https://stackoverflow.com/questions/41465644/list-of-dynamic-components", "title": "List of dynamic components", "body": "<p>I'm new to angular2 and I'm trying to add form fields dynamically and recover all the user informations.</p>\n\n<p>I have this component (that I try to re-use)</p>\n\n<pre><code>import {Component, Input, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\n\n@Component({\n  selector: 'text-form',\n  templateUrl: './text.component.html'\n})\nexport class TextComponent implements OnInit{\n  textForm: FormGroup;\n  constructor(private formBuilder: FormBuilder) {}\n  ngOnInit() {\n    this.textForm = this.formBuilder.group({\n      value: ['', Validators.required],\n    });\n  }\n\n  submitForm(): void {\n    console.log(JSON.stringify(this.textForm.getRawValue()));\n  }\n\n}\n</code></pre>\n\n<p>I have then the following html (about.component.html)</p>\n\n<pre><code>&lt;p&gt;&lt;a class=\"btn btn-primary\" role=\"button\" (click)=\"addField(1)\"&gt;Add text!&lt;/a&gt;&lt;/p&gt;\n&lt;p *ngFor=\"let type of forms\"&gt;\n  &lt;text-form&gt;&lt;/text-form&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>and the associate ts for this page html (about.component.ts)</p>\n\n<pre><code>export class AboutComponent {  \n  forms: number[]=[];\n\n  constructor() {}\n\n   addField(type:number): void {\n     this.forms.push(type);\n  }\n\n}\n</code></pre>\n\n<p>When I press on the button, I have a new form in my html which is nice. But I have no idea how can I iterate over all my <code>text-form</code> in order to get back then content.</p>\n\n<p>I have also tried to instanciate directly the <code>TextComponent</code> and then iterate over it but it was not working as expected.</p>\n\n<p>about.component.ts</p>\n\n<pre><code>   addField(type:number): void {\n\n     let tmp = new TextComponent(new FormBuilder());\n     this.forms.push(tmp);\n}\n</code></pre>\n\n<p>But when I try to display the content I am just getting\n<code>[object Object]</code></p>\n\n<p>I have also tried to use this code: <a href=\"http://plnkr.co/edit/ZXsIWykqKZi5r75VMtw2?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/ZXsIWykqKZi5r75VMtw2?p=preview</a>\nI understand the setter part but I really don't know how to instanciate a new component (from a factory or directly)</p>\n\n<p>Thanks for your help</p>\n"}, {"tags": ["angular", "typescript", "angular2-inputs"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483536273, "post_id": 41464871, "comment_id": 70135304, "body": "Where do you set ` this.isSearchActive = false;` after it was set to <code>true</code> in <code>handleSearch()</code>?"}, {"owner": {"reputation": 3116, "user_id": 1542672, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18589c2ebe76db71dcb9137f12dc05b1?s=128&d=identicon&r=PG&f=1", "display_name": "Body", "link": "https://stackoverflow.com/users/1542672/body"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483536537, "post_id": 41464871, "comment_id": 70135453, "body": "in header/search.ts &#39;&lt;button  (click)=&quot;getSearchStatus = false&quot; class=&quot;close&quot;&gt;&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 3116, "user_id": 1542672, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18589c2ebe76db71dcb9137f12dc05b1?s=128&d=identicon&r=PG&f=1", "display_name": "Body", "link": "https://stackoverflow.com/users/1542672/body"}, "edited": false, "score": 0, "creation_date": 1483536766, "post_id": 41465022, "comment_id": 70135614, "body": "Thank you for your reply. Can you please update my plunker?"}, {"owner": {"reputation": 3116, "user_id": 1542672, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18589c2ebe76db71dcb9137f12dc05b1?s=128&d=identicon&r=PG&f=1", "display_name": "Body", "link": "https://stackoverflow.com/users/1542672/body"}, "edited": false, "score": 0, "creation_date": 1483537867, "post_id": 41465022, "comment_id": 70136328, "body": "Thank you again. Is this the only way to handle this scenario? Is there any other ways without using input/output combo?"}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "reply_to_user": {"reputation": 3116, "user_id": 1542672, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18589c2ebe76db71dcb9137f12dc05b1?s=128&d=identicon&r=PG&f=1", "display_name": "Body", "link": "https://stackoverflow.com/users/1542672/body"}, "edited": false, "score": 0, "creation_date": 1483538143, "post_id": 41465022, "comment_id": 70136496, "body": "That&#39;s the recommended way, the one which is used for <a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html#!#ngModel\" rel=\"nofollow noreferrer\"><code>[(ngModel)]</code></a>"}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "reply_to_user": {"reputation": 3116, "user_id": 1542672, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18589c2ebe76db71dcb9137f12dc05b1?s=128&d=identicon&r=PG&f=1", "display_name": "Body", "link": "https://stackoverflow.com/users/1542672/body"}, "edited": false, "score": 0, "creation_date": 1483538366, "post_id": 41465022, "comment_id": 70136652, "body": "there are other ways (like injecting parent into child) but they are useful only when you have a child component that couldn&#39;t leave without its parent (I think about a custom select/option combo, for example)."}, {"owner": {"reputation": 744, "user_id": 5921859, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1319109428114507/picture?type=large", "display_name": "Robert Vangor", "link": "https://stackoverflow.com/users/5921859/robert-vangor"}, "edited": false, "score": 0, "creation_date": 1506772010, "post_id": 41465022, "comment_id": 79958966, "body": "What about using subscribing to subject instead and calling subject.next(value) ?"}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "reply_to_user": {"reputation": 744, "user_id": 5921859, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1319109428114507/picture?type=large", "display_name": "Robert Vangor", "link": "https://stackoverflow.com/users/5921859/robert-vangor"}, "edited": false, "score": 1, "creation_date": 1506772404, "post_id": 41465022, "comment_id": 79959065, "body": "That will add extra work for the same behavior as using <code>@Output()</code>. That sounds like reinveting the wheel.  @RobertVangor"}, {"owner": {"reputation": 3564, "user_id": 3216970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec661ea7a240654ec958f063478c964?s=128&d=identicon&r=PG&f=1", "display_name": "mc01", "link": "https://stackoverflow.com/users/3216970/mc01"}, "edited": false, "score": 2, "creation_date": 1513974990, "post_id": 41465022, "comment_id": 82864072, "body": "When using ReactiveForms, even with my child property marked <code>public</code>, I could not use the &quot;banana box&quot; approach &amp; got errors that it wasn&#39;t a known property of the component ... Binding only to the <code>(propertyChanged)=&quot;setParentProp($event)&quot;</code> worked perfectly though."}, {"owner": {"reputation": 1984, "user_id": 1302582, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d3064ebabcc73e2fe72338451e937af4?s=128&d=identicon&r=PG&f=1", "display_name": "manojadams", "link": "https://stackoverflow.com/users/1302582/manojadams"}, "edited": false, "score": 0, "creation_date": 1529066946, "post_id": 41465022, "comment_id": 88753470, "body": "@n00dl3, the above way of updating parent properties causes the below console error: &quot;ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked&quot;. Any inputs on how to fix that?"}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "reply_to_user": {"reputation": 1984, "user_id": 1302582, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d3064ebabcc73e2fe72338451e937af4?s=128&d=identicon&r=PG&f=1", "display_name": "manojadams", "link": "https://stackoverflow.com/users/1302582/manojadams"}, "edited": false, "score": 1, "creation_date": 1529079082, "post_id": 41465022, "comment_id": 88760613, "body": "I can&#39;t answer to your question as it would deserve its own post. Your problem is that you are emitting change right after parent&#39;s change detection cycle. In other words you have managed to make change detection to trigger some changes which is not allowed by Angular. @manoj"}, {"owner": {"reputation": 1895, "user_id": 1343297, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fc2686e1ea3df77da352524c45cd5f3?s=128&d=identicon&r=PG", "display_name": "Chandrakant", "link": "https://stackoverflow.com/users/1343297/chandrakant"}, "edited": false, "score": 0, "creation_date": 1545981226, "post_id": 41465022, "comment_id": 94747968, "body": "Couple of question =&gt;  1. is &quot;Change&quot; is mandatory ?  2. I mean Can&#39;t I use other  suffix?  3. cant I write name like &quot;get_Search_Status_Change&quot; this?"}, {"owner": {"reputation": 351, "user_id": 3076151, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ZUGR4.jpg?s=128&g=1", "display_name": "Allwe", "link": "https://stackoverflow.com/users/3076151/allwe"}, "reply_to_user": {"reputation": 1895, "user_id": 1343297, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fc2686e1ea3df77da352524c45cd5f3?s=128&d=identicon&r=PG", "display_name": "Chandrakant", "link": "https://stackoverflow.com/users/1343297/chandrakant"}, "edited": false, "score": 2, "creation_date": 1568634423, "post_id": 41465022, "comment_id": 102324231, "body": "@Chandrakant nope, to use banana box syntax you have to use change suffix. For custom outputs, you can name it whatever you want. Banana box is just a very stupid syntax sugar which many people misuse"}], "tags": [], "owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "is_accepted": true, "score": 139, "last_activity_date": 1483537184, "last_edit_date": 1483537184, "creation_date": 1483536557, "answer_id": 41465022, "question_id": 41464871, "link": "https://stackoverflow.com/questions/41464871/update-parent-component-property-from-child-component-in-angular-2/41465022#41465022", "title": "Update parent component property from child component in Angular 2", "body": "<p>You need to use 2 way data-binding.</p>\n\n<p><code>@Input()</code> is one way data-binding.\nto enable 2 way data-binding you need to add an <code>@Output()</code> corresponding to the property, with a \"Change\" suffix</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Input() getSearchStatus: boolean;\n@Output() getSearchStatusChange = new EventEmitter&lt;boolean&gt;();\n</code></pre>\n\n<p>when you want to publish the change made to your property to the parent, you need to notify the parent with:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.getSearchStatusChange.emit(newValue)\n</code></pre>\n\n<p>and in the parent you need to use the banana-in-a-box notation for that property:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>[(getSearchStatus)]=\"myBoundProperty\"\n</code></pre>\n\n<p>you can also bind to the property and trigger a callback when it changes in child:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>[getSearchStatus]=\"myBoundProperty\" (getSearchStatusChange)=\"myCrazyCallback($event)\"\n</code></pre>\n\n<p>see the <a href=\"https://plnkr.co/edit/OTZLc7JSjog2DeI8WvKL?p=preview\" rel=\"noreferrer\">plnkr</a></p>\n"}, {"comments": [{"owner": {"reputation": 3116, "user_id": 1542672, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18589c2ebe76db71dcb9137f12dc05b1?s=128&d=identicon&r=PG&f=1", "display_name": "Body", "link": "https://stackoverflow.com/users/1542672/body"}, "edited": false, "score": 0, "creation_date": 1483537788, "post_id": 41465286, "comment_id": 70136269, "body": "Thank you. i want to update the parent property from search component. That&#39;s my use case."}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 3116, "user_id": 1542672, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18589c2ebe76db71dcb9137f12dc05b1?s=128&d=identicon&r=PG&f=1", "display_name": "Body", "link": "https://stackoverflow.com/users/1542672/body"}, "edited": false, "score": 0, "creation_date": 1483538139, "post_id": 41465286, "comment_id": 70136492, "body": "@Body Fine, but you should consider using the way I&#39;ve modified your buttons and clicking mechanism, together with n00dl3 solution."}], "tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": false, "score": 4, "last_activity_date": 1483537954, "last_edit_date": 1483537954, "creation_date": 1483537384, "answer_id": 41465286, "question_id": 41464871, "link": "https://stackoverflow.com/questions/41464871/update-parent-component-property-from-child-component-in-angular-2/41465286#41465286", "title": "Update parent component property from child component in Angular 2", "body": "<p>Edited your code a little bit, it works and looks simplier imo. Tell me if you like it.</p>\n\n<p><code></code><a href=\"https://plnkr.co/edit/oJOjEZfAfx8iKZmzB3NY?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/oJOjEZfAfx8iKZmzB3NY?p=preview</a></p>\n"}, {"tags": [], "owner": {"reputation": 901, "user_id": 3454273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/338e43beea2ce9625934b8c8f09b8443?s=128&d=identicon&r=PG&f=1", "display_name": "Timathon", "link": "https://stackoverflow.com/users/3454273/timathon"}, "is_accepted": false, "score": 7, "last_activity_date": 1483538411, "creation_date": 1483538411, "answer_id": 41465643, "question_id": 41464871, "link": "https://stackoverflow.com/questions/41464871/update-parent-component-property-from-child-component-in-angular-2/41465643#41465643", "title": "Update parent component property from child component in Angular 2", "body": "<p>Another approach: use rxjs/BehaviorSubject to pass status between different components.<br>\nHere's the <a href=\"https://plnkr.co/edit/Fc0pbIvS8n7aPOBDHqN0?p=preview\" rel=\"noreferrer\">plunkr</a>.<br>\nI name subject with a suffix 'Rxx', so the BehaviorSubject for searchStatus will be searchStatusRxx.   </p>\n\n<ol>\n<li>initialize it in parent component like <code>searchStatusRxx = new BehaviorSubject(false);</code>, </li>\n<li>pass it to child component using @Input  </li>\n<li>in child template, you do async pipe.</li>\n<li>in both parent and child, you do <code>searchStatusRxx.next(value)</code> to change the latest value.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 3116, "user_id": 1542672, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18589c2ebe76db71dcb9137f12dc05b1?s=128&d=identicon&r=PG&f=1", "display_name": "Body", "link": "https://stackoverflow.com/users/1542672/body"}, "edited": false, "score": 0, "creation_date": 1483543664, "post_id": 41466049, "comment_id": 70140323, "body": "This way is much better and simpler. Is this a valid way to proceed? Why Angular not promoting this method? I&#39;m searching for a solution since a week and everywhere i found input/output cases."}, {"owner": {"reputation": 901, "user_id": 3454273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/338e43beea2ce9625934b8c8f09b8443?s=128&d=identicon&r=PG&f=1", "display_name": "Timathon", "link": "https://stackoverflow.com/users/3454273/timathon"}, "reply_to_user": {"reputation": 3116, "user_id": 1542672, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18589c2ebe76db71dcb9137f12dc05b1?s=128&d=identicon&r=PG&f=1", "display_name": "Body", "link": "https://stackoverflow.com/users/1542672/body"}, "edited": false, "score": 0, "creation_date": 1483546098, "post_id": 41466049, "comment_id": 70142027, "body": "Let&#39;s call this as the &quot;Template reference variables&quot; way. It seems to be simple. But it may be a little bit harder to test and the parent/child components are coupling together which may not be a good thing. Personally, I prefer the BehaviorSubject way, which is easier to test and decouple and can be set as a property of complex object passing between parent and child. A sidenote: angular&#39;s eventEmitter is a Subject behind the scenes."}], "tags": [], "owner": {"reputation": 901, "user_id": 3454273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/338e43beea2ce9625934b8c8f09b8443?s=128&d=identicon&r=PG&f=1", "display_name": "Timathon", "link": "https://stackoverflow.com/users/3454273/timathon"}, "is_accepted": false, "score": 2, "last_activity_date": 1483539587, "creation_date": 1483539587, "answer_id": 41466049, "question_id": 41464871, "link": "https://stackoverflow.com/questions/41464871/update-parent-component-property-from-child-component-in-angular-2/41466049#41466049", "title": "Update parent component property from child component in Angular 2", "body": "<p>Yet another way. <a href=\"https://plnkr.co/edit/SrNDFsEcN48isdhOLC9a?p=preview\" rel=\"nofollow noreferrer\">Plunkr</a>. What we want is a single source of truth. We can put that in child this time.</p>\n\n<ul>\n<li>Init in child: <code>searchStatus = false</code></li>\n<li>In parent template, get the instance of child as <code>#as</code> or whatever name.</li>\n<li>Change searchStatus in parent using <code>#as.searchStatus</code> and in child <code>this.searchStatus</code>.</li>\n</ul>\n"}], "owner": {"reputation": 3116, "user_id": 1542672, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/18589c2ebe76db71dcb9137f12dc05b1?s=128&d=identicon&r=PG&f=1", "display_name": "Body", "link": "https://stackoverflow.com/users/1542672/body"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85132, "favorite_count": 19, "accepted_answer_id": 41465022, "answer_count": 4, "score": 83, "last_activity_date": 1505422410, "creation_date": 1483536179, "last_edit_date": 1483539824, "question_id": 41464871, "link": "https://stackoverflow.com/questions/41464871/update-parent-component-property-from-child-component-in-angular-2", "title": "Update parent component property from child component in Angular 2", "body": "<p>I'm using <code>@input</code> to receive a property from parent component in order to activate a CSS class in one of child component's element.</p>\n\n<p>I'm able to receive the property from parent and also activate the class. But this works only once. The property i'm receiving from parent is a boolean data typed and when I set the status of it to <code>false</code> from child component, it does not change in parent. </p>\n\n<p>Plunkr: <a href=\"https://plnkr.co/edit/58xuZ1uzvToPhPtOING2?p=preview\" rel=\"noreferrer\">https://plnkr.co/edit/58xuZ1uzvToPhPtOING2?p=preview</a></p>\n\n<p><strong>app.ts</strong></p>\n\n<pre><code>import {Component, NgModule} from '@angular/core'\nimport {BrowserModule} from '@angular/platform-browser'\nimport { HeaderComponent } from './header';\nimport { SearchComponent } from './header/search';\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;app-header&gt;&lt;/app-header&gt;\n  `,\n})\nexport class App {\n  name:string;\n  constructor() {\n  }\n}\n\n@NgModule({\n  imports: [ BrowserModule ],\n  declarations: [ App, HeaderComponent, SearchComponent ],\n  bootstrap: [ App ]\n})\nexport class AppModule {}\n</code></pre>\n\n<p><strong>header.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-header',\n  template: `&lt;header&gt;\n              &lt;app-search [getSearchStatus]=\"isSearchActive\"&gt;&lt;/app-search&gt;\n              &lt;button (click)=\"handleSearch()\"&gt;Open Search&lt;/button&gt;\n            &lt;/header&gt;`\n})\nexport class HeaderComponent implements OnInit {\n  isSearchActive = false;\n\n  handleSearch() {\n    this.isSearchActive = true\n    console.log(this.isSearchActive)\n  }\n\n  constructor() { }\n  ngOnInit() { }\n}\n</code></pre>\n\n<p><strong>header/search.ts</strong></p>\n\n<pre><code>import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-search',\n  template: `&lt;div id=\"search\" [class.toggled]=\"getSearchStatus\"&gt;\n              search \n              &lt;button  (click)=\"getSearchStatus = false\" class=\"close\"&gt;Close Search&lt;/button&gt;\n            &lt;/div&gt;`\n})\nexport class SearchComponent implements OnInit {\n  @Input() getSearchStatus: boolean;\n\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n}\n</code></pre>\n\n<p>Please check the above given plunker. The open search function works only once. After closing the search, it does not trigger again. </p>\n\n<p>Is <code>@input</code> is the proper use case for this scenario? Please help me fix this. (Please update the plunker).</p>\n"}, {"tags": ["javascript", "unit-testing", "angular", "typescript", "jasmine"], "answers": [{"comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1483611147, "post_id": 41466813, "comment_id": 70169546, "body": "I want to dynamically add an attribute to an element.. So I tried like .. <code>&lt;input type=&quot;{{input.type}}&quot; name=&quot;{{input.name}}&quot; class=&quot;form-control&quot; [attr.disabled]=&quot;input.disabled&quot; value=&quot;{{input.value}}&quot;&gt;</code> but it genrated <code>&lt;input .. disable=&quot;true&quot;&gt;</code> but I want <code>&lt;input disable&gt;</code> based on the boolean value of <code>input.disabled</code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1483611272, "post_id": 41466813, "comment_id": 70169621, "body": "You can&#39;t create just <code>disabled</code> using Angular2 binding, but <code>disabled</code> and <code>disabled=&quot;true&quot;</code> shouldn&#39;t matter. To remove it you need <code>null</code>, because <code>false</code> will result to <code>disabled=&quot;false&quot;</code> which is similar to <code>disabled</code>. <code>[attr.disabled]=&quot;input.disabled ? true : null&quot;</code> should do what you want."}, {"owner": {"reputation": 186, "user_id": 1921096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/596fb2364c72abf857b1c1bc7cd82802?s=128&d=identicon&r=PG", "display_name": "Hrushikesh Patel", "link": "https://stackoverflow.com/users/1921096/hrushikesh-patel"}, "edited": false, "score": 0, "creation_date": 1510829294, "post_id": 41466813, "comment_id": 81605977, "body": "Thanks this answer helped."}, {"owner": {"reputation": 700, "user_id": 3173748, "user_type": "registered", "profile_image": "https://graph.facebook.com/1368750610/picture?type=large", "display_name": "superjisan", "link": "https://stackoverflow.com/users/3173748/superjisan"}, "edited": false, "score": 1, "creation_date": 1523977210, "post_id": 41466813, "comment_id": 86778758, "body": "Thanks Man, just for the super stupid fellas like me, you do need to add the FormsModule on top of the file by  <code>import {FormsModule} from &#39;@angular&#47;forms&#39;;</code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 700, "user_id": 3173748, "user_type": "registered", "profile_image": "https://graph.facebook.com/1368750610/picture?type=large", "display_name": "superjisan", "link": "https://stackoverflow.com/users/3173748/superjisan"}, "edited": false, "score": 0, "creation_date": 1523978058, "post_id": 41466813, "comment_id": 86779358, "body": "@superjisan yes, everything needs to be imported, so I didn&#39;t add this explicitly. I assumed that the IDE suggests to add imports anyway, but it probably depends on the IDE."}, {"owner": {"reputation": 73, "user_id": 841732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f88e52288bde967de75eaf6076dd402?s=128&d=identicon&r=PG", "display_name": "pumpkinthehead", "link": "https://stackoverflow.com/users/841732/pumpkinthehead"}, "edited": false, "score": 0, "creation_date": 1576618056, "post_id": 41466813, "comment_id": 104956615, "body": "I had to import ReactiveFormsModule."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 24, "last_activity_date": 1483541818, "creation_date": 1483541818, "answer_id": 41466813, "question_id": 41463799, "link": "https://stackoverflow.com/questions/41463799/there-is-no-directive-with-exportas-set-to-ngform/41466813#41466813", "title": "There is no directive with &quot;exportAs&quot; set to &quot;ngForm&quot;", "body": "<p>Not sure what <code>@NgModule</code> decorator you added it to but I think it should be added in</p>\n\n<pre><code> TestBed.configureTestingModule({\n      imports: [HttpModule, FormsModule],\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 5648143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1133c6548499ac3037422a97a2d5a8f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/5648143/jason"}, "is_accepted": false, "score": 0, "last_activity_date": 1612002270, "creation_date": 1612002270, "answer_id": 65966866, "question_id": 41463799, "link": "https://stackoverflow.com/questions/41463799/there-is-no-directive-with-exportas-set-to-ngform/65966866#65966866", "title": "There is no directive with &quot;exportAs&quot; set to &quot;ngForm&quot;", "body": "<p>I had the exact same problem and I solved it by importing FormsModule in BOTH app.module.ts AND the sub-module the component sits on, which in my case was core.module.ts.</p>\n<p>I was following the Angular style guide and put the login component in the core module, so the folder structure for my login component was:   app/src/core/login/login.component.ts</p>\n<p>I did not need to import ReactiveFormsModule as some others have suggested.</p>\n"}, {"tags": [], "owner": {"reputation": 189, "user_id": 11598855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b17b1b33243836edfe938be8f658f34?s=128&d=identicon&r=PG", "display_name": "Baronvonbirra", "link": "https://stackoverflow.com/users/11598855/baronvonbirra"}, "is_accepted": false, "score": 0, "last_activity_date": 1617197349, "creation_date": 1617197349, "answer_id": 66888849, "question_id": 41463799, "link": "https://stackoverflow.com/questions/41463799/there-is-no-directive-with-exportas-set-to-ngform/66888849#66888849", "title": "There is no directive with &quot;exportAs&quot; set to &quot;ngForm&quot;", "body": "<p>The answer masked as accepted is currently outdated, as <em>HttpModule</em> is currently deprecated. An alternative could be using <em>HttpClientTestingModule</em> instead:</p>\n<pre><code> TestBed.configureTestingModule({\n      imports: [HttpClientTestingModule, FormsModule],\n</code></pre>\n"}], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10728, "favorite_count": 1, "accepted_answer_id": 41466813, "answer_count": 3, "score": 12, "last_activity_date": 1617197349, "creation_date": 1483532736, "last_edit_date": 1495535482, "question_id": 41463799, "link": "https://stackoverflow.com/questions/41463799/there-is-no-directive-with-exportas-set-to-ngform", "title": "There is no directive with &quot;exportAs&quot; set to &quot;ngForm&quot;", "body": "<p>Got the below error when I try to test <code>LoginComponent</code></p>\n\n<pre><code>PhantomJS 2.1.1 (Linux 0.0.0): Executed 3 of 55 (1 FAILED) (0 secs / 0.307 secs)\nPhantomJS 2.1.1 (Linux 0.0.0) LoginComponent should create FAILED\nFailed: Uncaught (in promise): Error: Template parse errors:\nThere is no directive with \"exportAs\" set to \"ngForm\" (\"iv class=\"col-md-4 col-sm-6 col-md-offset-4 col-sm-offset-3\"&gt;\n          &lt;form (ngSubmit)=\"login(f)\" [ERROR -&gt;]#f=\"ngForm\"&gt;\n            &lt;div class=\"card card-login\"&gt;\n              &lt;div class=\"card-header text-cen\"): LoginComponent@5:38\n</code></pre>\n\n<p>A part my component looks like, </p>\n\n<p><code>login.component.ts</code></p>\n\n<pre><code>export class LoginComponent {\n\n  isBusy: boolean = false;\n  user: User;\n\n  constructor(\n    private router: Router,\n    private notificationService: NotificationService,\n    private authService: AuthenticationService,\n    private sessionService: SessionService,\n  ) { }\n  ....\n}\n</code></pre>\n\n<p>And the corresponding spec looks like,</p>\n\n<p><code>login.component.spec.ts</code></p>\n\n<pre><code>describe('LoginComponent', () =&gt; {\n  let component: LoginComponent;\n  let fixture: ComponentFixture&lt;LoginComponent&gt;;\n\n  beforeEach(async(() =&gt; {\n    let routerStub = new RouterStub();\n\n    TestBed.configureTestingModule({\n      imports: [HttpModule],\n      declarations: [,\n        LoginComponent\n      ],\n      providers: [{\n        provide: Http, useFactory: (backend, options) =&gt; {\n          return new Http(backend, options);\n        },\n        deps: [MockBackend, BaseRequestOptions]\n      },\n      { provide: Router, useClass: class { navigate = jasmine.createSpy(\"navigate\"); } },\n        MockBackend,\n        BaseRequestOptions,\n        AuthenticationService,\n        SessionService,\n        NotificationService\n      ],\n      schemas: [NO_ERRORS_SCHEMA],\n    })\n    .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(LoginComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  it('should create', () =&gt; {\n    expect(component).toBeTruthy();\n  });\n});\n</code></pre>\n\n<p>seems like it fails to create a fake component using the above providers, declarations, etc. Like <a href=\"https://stackoverflow.com/a/39559318/3297613\">other's said</a>, I already included <code>FormsModule</code> inside <code>@NgModule</code> decorator.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 8336, "user_id": 4355342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4fbbcdbd1299d757a7568a7d1aa22ee?s=128&d=identicon&r=PG", "display_name": "Jyothi Babu Araja", "link": "https://stackoverflow.com/users/4355342/jyothi-babu-araja"}, "edited": false, "score": 2, "creation_date": 1483530082, "post_id": 41462915, "comment_id": 70131319, "body": "Then what it&#39;s returning? <code>undefined</code> or <code>[]</code> etc..?"}, {"owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "edited": false, "score": 0, "creation_date": 1483530192, "post_id": 41462915, "comment_id": 70131397, "body": "tru to put a public in front of  getTests(id:number)"}, {"owner": {"reputation": 43, "user_id": 7256227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f877e932f922d4633cc8e397b6d1b062?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7256227/alice"}, "edited": false, "score": 0, "creation_date": 1483531385, "post_id": 41462915, "comment_id": 70132126, "body": "if i do return TESTS it return all, it means that function is reachable."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 7256227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f877e932f922d4633cc8e397b6d1b062?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7256227/alice"}, "edited": false, "score": 0, "creation_date": 1483531242, "post_id": 41462981, "comment_id": 70132026, "body": "The same result, i didn&#39;t receive anything."}, {"owner": {"reputation": 43, "user_id": 7256227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f877e932f922d4633cc8e397b6d1b062?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7256227/alice"}, "edited": false, "score": 0, "creation_date": 1483531544, "post_id": 41462981, "comment_id": 70132236, "body": "ngOnInit() {    this.route.params       .switchMap((params: Params) =&gt; this.service.geTests(+params[&#39;id&#39;]))           .subscribe(tests =&gt; this.tests = tests);  if i do as you write, i have notification, that: Type Test is not assignable to type Test[]"}], "tags": [], "owner": {"reputation": 11191, "user_id": 5862315, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/PviZk.png?s=128&g=1", "display_name": "Eran Shabi", "link": "https://stackoverflow.com/users/5862315/eran-shabi"}, "is_accepted": false, "score": 5, "last_activity_date": 1483530180, "creation_date": 1483530180, "answer_id": 41462981, "question_id": 41462915, "link": "https://stackoverflow.com/questions/41462915/function-does-not-return-anything/41462981#41462981", "title": "Function does not return anything", "body": "<p>You need to initialize items:</p>\n\n<pre><code>  var items: Test[] = [];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 7256227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f877e932f922d4633cc8e397b6d1b062?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7256227/alice"}, "edited": false, "score": 0, "creation_date": 1483533586, "post_id": 41463822, "comment_id": 70133565, "body": "Then, make sure that TESTS, wherever it is declared, is available within the function  It doesn&#39;t available in that function:( But why? They are in one file.  let testPromise = Promise.resolve(TESTS); but this is availableto return. return testPromise"}, {"owner": {"reputation": 2854, "user_id": 6923555, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-N8FUb3l8l44/AAAAAAAAAAI/AAAAAAAAAio/1HlhcKxsTPo/photo.jpg?sz=128", "display_name": "rodrigocfd", "link": "https://stackoverflow.com/users/6923555/rodrigocfd"}, "reply_to_user": {"reputation": 43, "user_id": 7256227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f877e932f922d4633cc8e397b6d1b062?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7256227/alice"}, "edited": false, "score": 0, "creation_date": 1483533692, "post_id": 41463822, "comment_id": 70133625, "body": "Are you doing the <code>import</code> of it at the top of the file? Something like <code>import { TESTS } from &#39;the-tests-file&#39;;</code>."}, {"owner": {"reputation": 43, "user_id": 7256227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f877e932f922d4633cc8e397b6d1b062?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7256227/alice"}, "edited": false, "score": 0, "creation_date": 1483533946, "post_id": 41463822, "comment_id": 70133794, "body": "import { Injectable } from &#39;@angular/core&#39;; export class Test {   public id: number; public name: string; public fid: number } export const TESTS: Test[] = [   {id: 1, name: &#39;Cat&#39;, fid: 1},   {id: 2, name: &#39;Dog&#39;, fid: 1},   {id: 3, name: &#39;Elephant&#39;, fid: 1},   {id: 4, name: &#39;Bird&#39;, fid: 1},   {id: 5, name: &#39;Duck&#39;, fid: 2},   {id: 6, name: &#39;Snake&#39;, fid: 2} ];"}, {"owner": {"reputation": 43, "user_id": 7256227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f877e932f922d4633cc8e397b6d1b062?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7256227/alice"}, "edited": false, "score": 0, "creation_date": 1483533953, "post_id": 41463822, "comment_id": 70133800, "body": "let testsPromise = Promise.resolve(TESTS);  @Injectable() export class TestService {   getTests(id) {      let items: Test[] = [];     for(var i = 0; i &lt; TESTS.length; i++) {         if(TESTS[i].fid == id) {          items.push(TESTS[i])          }     }     return items;  }  }"}, {"owner": {"reputation": 43, "user_id": 7256227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f877e932f922d4633cc8e397b6d1b062?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7256227/alice"}, "edited": false, "score": 0, "creation_date": 1483534043, "post_id": 41463822, "comment_id": 70133871, "body": "Are you doing the import of it at the top of the file? Something like import { TESTS } from &#39;the-tests-file&#39;;   They are in one file"}, {"owner": {"reputation": 2854, "user_id": 6923555, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-N8FUb3l8l44/AAAAAAAAAAI/AAAAAAAAAio/1HlhcKxsTPo/photo.jpg?sz=128", "display_name": "rodrigocfd", "link": "https://stackoverflow.com/users/6923555/rodrigocfd"}, "reply_to_user": {"reputation": 43, "user_id": 7256227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f877e932f922d4633cc8e397b6d1b062?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7256227/alice"}, "edited": false, "score": 0, "creation_date": 1483534424, "post_id": 41463822, "comment_id": 70134113, "body": "Update your question with the whole file. The error is somewhere else."}, {"owner": {"reputation": 43, "user_id": 7256227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f877e932f922d4633cc8e397b6d1b062?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7256227/alice"}, "edited": false, "score": 0, "creation_date": 1483535265, "post_id": 41463822, "comment_id": 70134665, "body": "Bonus: if you want further refinement, you can rewrite your function in one line:  getTests(id: number): Test[] {     return TESTS.filter((oneTest: Test) =&gt; oneTest.fid === id); }   Can you advise me where i can read about this?It is very nice."}], "tags": [], "owner": {"reputation": 2854, "user_id": 6923555, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-N8FUb3l8l44/AAAAAAAAAAI/AAAAAAAAAio/1HlhcKxsTPo/photo.jpg?sz=128", "display_name": "rodrigocfd", "link": "https://stackoverflow.com/users/6923555/rodrigocfd"}, "is_accepted": true, "score": 2, "last_activity_date": 1483533400, "last_edit_date": 1483533400, "creation_date": 1483532827, "answer_id": 41463822, "question_id": 41462915, "link": "https://stackoverflow.com/questions/41462915/function-does-not-return-anything/41463822#41463822", "title": "Function does not return anything", "body": "<p>Is <code>Test</code> an interface like this?</p>\n\n<pre><code>interface Test {\n    id: number;\n    name: string;\n    fid: number;\n}\n</code></pre>\n\n<p>If so, you must initialize <code>items</code> array before the loop begins (note the use of <code>let</code>):</p>\n\n<pre><code>getTests(id: number) {\n    let items: Test[] = [];\n    // ...\n}\n</code></pre>\n\n<p>Then, make sure that <code>TESTS</code>, wherever it is declared, is <em>available</em> within the function:</p>\n\n<pre><code>getTests(id: number) {\n    console.log(TESTS); // do you see this output?\n    // ...\n}\n</code></pre>\n\n<p>With the above set, your code worked <strong>fine</strong> for me.</p>\n\n<hr>\n\n<p>Bonus: if you want further refinement, you can rewrite your function in one line:</p>\n\n<pre><code>getTests(id: number): Test[] {\n    return TESTS.filter((oneTest: Test) =&gt; oneTest.fid === id);\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7256227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f877e932f922d4633cc8e397b6d1b062?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/7256227/alice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 41463822, "answer_count": 2, "score": 0, "last_activity_date": 1483537378, "creation_date": 1483529939, "last_edit_date": 1483535131, "question_id": 41462915, "link": "https://stackoverflow.com/questions/41462915/function-does-not-return-anything", "title": "Function does not return anything", "body": "<pre><code>import { Injectable } from '@angular/core';\n\nexport class Test {\n  public id: number; public name: string; public fid: number\n};\n\nexport const TESTS: Test[] = [\n  {id: 1, name: 'Cat', fid: 1},\n  {id: 2, name: 'Dog', fid: 1},\n  {id: 3, name: 'Elephant', fid: 1},\n  {id: 4, name: 'Bird', fid: 1},\n  {id: 5, name: 'Duck', fid: 2},\n  {id: 6, name: 'Snake', fid: 2},\n  {id: 7, name: 'Rabbit', fid: 2},\n  {id: 8, name: 'Dolphin', fid: 2},\n  {id: 9, name: 'Sheep', fid: 3},\n  {id: 10, name: 'Cow', fid: 3},\n  {id: 11, name: 'Fish', fid: 3},\n  {id: 12, name: 'Monkey', fid: 3}];\n\nlet testsPromise = Promise.resolve(TESTS);\n\n@Injectable()\nexport class TestService {\n  getTests(id) { \n    let items: Test[] = [];\n    for(var i = 0; i &lt; TESTS.length; i++) {\n        if(TESTS[i].fid == id) { \n        items.push(TESTS[i]) \n        }\n    }\n    return items;\n }\n}\n</code></pre>\n\n<p>It seems that TESTS is unreachable in funciton getTests(id),\nbut testsPromise is available because i receive all data if do return testsPromise in getTests function. Why?</p>\n"}, {"tags": ["angular", "design-patterns", "sharepoint", "typescript"], "comments": [{"owner": {"reputation": 1893, "user_id": 2223260, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5071efdc4b75172b161f42f9758a019?s=128&d=identicon&r=PG", "display_name": "anshuVersatile", "link": "https://stackoverflow.com/users/2223260/anshuversatile"}, "edited": false, "score": 0, "creation_date": 1483529992, "post_id": 41462890, "comment_id": 70131266, "body": "where used <code>var spns = require(&quot;sp-pnp-js&quot;);</code>"}, {"owner": {"reputation": 23, "user_id": 3674161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30385626ef12ce39b362c1e4b581e69a?s=128&d=identicon&r=PG&f=1", "display_name": "user3674161", "link": "https://stackoverflow.com/users/3674161/user3674161"}, "reply_to_user": {"reputation": 1893, "user_id": 2223260, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5071efdc4b75172b161f42f9758a019?s=128&d=identicon&r=PG", "display_name": "anshuVersatile", "link": "https://stackoverflow.com/users/2223260/anshuversatile"}, "edited": false, "score": 0, "creation_date": 1483530232, "post_id": 41462890, "comment_id": 70131416, "body": "this is a generated code from ts to js"}], "owner": {"reputation": 23, "user_id": 3674161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30385626ef12ce39b362c1e4b581e69a?s=128&d=identicon&r=PG&f=1", "display_name": "user3674161", "link": "https://stackoverflow.com/users/3674161/user3674161"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1483576955, "creation_date": 1483529867, "last_edit_date": 1483576955, "question_id": 41462890, "link": "https://stackoverflow.com/questions/41462890/issue-when-importing-sp-pnp-js", "title": "Issue when importing Sp-PNP-JS", "body": "<p>Reg. unable to import sp-pnp-js</p>\n\n<p>I am getting error when importing: import * as spns from \"sp-pnp-js\";</p>\n\n<p>The error is Error: (SystemJS) Unexpected token &lt;  ... SyntaxError: Unexpected token &lt;\n        at eval ()\n        at Object.eval ...</p>\n\n<p>In js file i can see this happens when var spns = require(\"sp-pnp-js\");</p>\n\n<p>I have already installed sp-pnp-js </p>\n\n<p>I have uploaded all the ts/js and node_modules in the stylelibrary of SharePoint\nts compile is fine but at run time i get this error</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 0, "last_activity_date": 1483529897, "creation_date": 1483529897, "answer_id": 41462896, "question_id": 41462748, "link": "https://stackoverflow.com/questions/41462748/instantiate-an-interface-that-extends-a-class/41462896#41462896", "title": "Instantiate an interface that extends a class", "body": "<p>This works for me:</p>\n\n<pre><code>import http = require(\"http\");\nimport stream = require(\"stream\");\n\nlet response = new stream.Writable() as http.ServerResponse;\n</code></pre>\n"}], "owner": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483529897, "creation_date": 1483529397, "question_id": 41462748, "link": "https://stackoverflow.com/questions/41462748/instantiate-an-interface-that-extends-a-class", "title": "Instantiate an interface that extends a class", "body": "<p>I'm trying to port some code which is trying to make an instance of <code>http.ServerResponse</code>. But typescript complains:</p>\n\n<blockquote>\n  <p>[ts] Property 'ServerResponse' does not exist on type 'typeof \"http\"'.</p>\n</blockquote>\n\n<p>I've checked via the console and <code>http.ServerResponse</code> is definitely a class that can be instantiated in runtime. </p>\n\n<p>Within <code>@types/node</code> <code>http.ServerResponse</code> is typed as: </p>\n\n<pre><code>export interface ServerResponse extends stream.Writable`\n</code></pre>\n\n<p>where <code>stream.Writable</code> resolves to a <em>class</em> <code>internal.Writable</code></p>\n\n<p>So, is there a way to work around this (when an interface extends a class) or is is simply an issue with the definitely-typed typings? </p>\n"}, {"tags": ["typescript", "typescript2.0"], "answers": [{"tags": [], "owner": {"reputation": 1429, "user_id": 2194590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/513c6d38af3d9c3b2d10b7fcc0b6092d?s=128&d=identicon&r=PG", "display_name": "HolgerJeromin", "link": "https://stackoverflow.com/users/2194590/holgerjeromin"}, "is_accepted": true, "score": 5, "last_activity_date": 1501256003, "last_edit_date": 1501256003, "creation_date": 1483528293, "answer_id": 41462413, "question_id": 41461797, "link": "https://stackoverflow.com/questions/41461797/where-does-the-lib-come-from-in-typecsript/41462413#41462413", "title": "Where does the lib come from in typecsript?", "body": "<p>All values of the compiler options <code>lib</code> is referenced in the <a href=\"http://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">compiler option documentation</a>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>List of library files to be included in the \n\nPossible values are: \n\u25ba ES5 \n\u25ba ES6 \n\u25ba ES2015 \n\u25ba ES7 \n\u25ba ES2016 \n\u25ba ES2017 \n\u25ba ESNext \n\u25ba DOM \n\u25ba DOM.Iterable \n\u25ba WebWorker \n\u25ba ScriptHost \n\u25ba ES2015.Core \n\u25ba ES2015.Collection \n\u25ba ES2015.Generator \n\u25ba ES2015.Iterable \n\u25ba ES2015.Promise \n\u25ba ES2015.Proxy \n\u25ba ES2015.Reflect \n\u25ba ES2015.Symbol \n\u25ba ES2015.Symbol.WellKnown \n\u25ba ES2016.Array.Include \n\u25ba ES2017.object \n\u25ba ES2017.SharedMemory \n\u25ba esnext.asynciterable \n\nNote: If --lib is not specified a default library is injected. The default library injected is: \n\u25ba For --target ES5: DOM,ES5,ScriptHost\n\u25ba For --target ES6: DOM,ES6,DOM.Iterable,ScriptHost\n</code></pre>\n"}], "owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1767, "favorite_count": 0, "accepted_answer_id": 41462413, "answer_count": 1, "score": 1, "last_activity_date": 1501256003, "creation_date": 1483526386, "question_id": 41461797, "link": "https://stackoverflow.com/questions/41461797/where-does-the-lib-come-from-in-typecsript", "title": "Where does the lib come from in typecsript?", "body": "<p>I have a typescript@2 project. I wanted to use some ecma2017 features. I found out that one can apply a <code>lib</code> in the <code>compilerOptions</code> in the <code>tsconfig.json</code>:</p>\n\n<pre><code>\"target\": \"es6\",\n\"lib\": [\n    \"es2017\",\n    \"dom\"\n],\n</code></pre>\n\n<p>Yet why is this working? Where do these lib come from, what libs can one include?</p>\n\n<p>The closest to a documentation I could find was this <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#downlevel-async-functions\" rel=\"nofollow noreferrer\">this what's new entry</a>:</p>\n\n<blockquote>\n  <h1>Downlevel Async Functions</h1>\n  \n  <p>This feature was supported before TypeScript 2.1, but only when targeting ES6/ES2015. TypeScript 2.1 brings the capability to ES3 and\n  ES5 run-times, meaning you'll be free to take advantage of it no\n  matter what environment you're using.</p>\n  \n  <p>Note: first, we need to make sure our run-time has an ECMAScript-compliant Promise available globally. That might involve\n  grabbing a polyfill for Promise, or relying on one that you might have\n  in the run-time that you're targeting. We also need to make sure that\n  TypeScript knows Promise exists by setting your lib flag to something\n  like \"dom\", \"es2015\" or \"dom\", \"es2015.promise\", \"es5\"</p>\n</blockquote>\n\n<p>yet I didn't find it particular helpful.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "rxjs"], "comments": [{"owner": {"reputation": 1893, "user_id": 2223260, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5071efdc4b75172b161f42f9758a019?s=128&d=identicon&r=PG", "display_name": "anshuVersatile", "link": "https://stackoverflow.com/users/2223260/anshuversatile"}, "edited": false, "score": 0, "creation_date": 1483527125, "post_id": 41461778, "comment_id": 70129400, "body": "have you tried to implement on error methid ?"}], "answers": [{"comments": [{"owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "edited": false, "score": 0, "creation_date": 1483527447, "post_id": 41462082, "comment_id": 70129639, "body": "Yeah I should have tried map before asking. :) Thanks!"}, {"owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "reply_to_user": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "edited": false, "score": 0, "creation_date": 1483527497, "post_id": 41462082, "comment_id": 70129668, "body": "happy to helped you!"}], "tags": [], "owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "is_accepted": true, "score": 3, "last_activity_date": 1483527221, "creation_date": 1483527221, "answer_id": 41462082, "question_id": 41461778, "link": "https://stackoverflow.com/questions/41461778/how-to-handle-an-rxjs-observable-response-that-could-be-empty/41462082#41462082", "title": "How to handle an rxjs observable response that could be empty?", "body": "<p>Have you tried something like:</p>\n\n<pre><code>public Update = (itemToUpdate: any): Observable&lt;Response&gt; =&gt; {\n    return this._http\n        .put(\"htto://localhost/api/\", JSON.stringify(itemToUpdate))\n        .map(res =&gt; res ? res.json() : {});\n}\n</code></pre>\n"}], "owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2057, "favorite_count": 0, "accepted_answer_id": 41462082, "answer_count": 1, "score": 1, "last_activity_date": 1483527221, "creation_date": 1483526343, "last_edit_date": 1483526539, "question_id": 41461778, "link": "https://stackoverflow.com/questions/41461778/how-to-handle-an-rxjs-observable-response-that-could-be-empty", "title": "How to handle an rxjs observable response that could be empty?", "body": "<p>I'm using Angular2 and Ionic2 with typescript and would like to handle a response from the backend service where I can get</p>\n\n<ul>\n<li>an empty response with http 200</li>\n<li>or a json object containing an errormessage property with information to be displayed to the user.</li>\n</ul>\n\n<p>This is my request:</p>\n\n<pre><code>this.http.put(***).subscribe((data) =&gt; {\n</code></pre>\n\n<p>The problem is that if I give the data parameter, rxjs tries to serialize it from json and if that is empty, it throws an error. If I don't give the data parameter I can handle the empty response but how will I reach the errormessage property if I have one?</p>\n\n<p>I don't want to request change on the backend side to give proper http error codes in case of error. Is there a way I can handle this?</p>\n"}, {"tags": ["angular", "typescript", "oauth-2.0", "typescript-typings"], "comments": [{"owner": {"reputation": 3250, "user_id": 4801289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/I0puU.jpg?s=128&g=1", "display_name": "Ismail H", "link": "https://stackoverflow.com/users/4801289/ismail-h"}, "edited": false, "score": 0, "creation_date": 1483528049, "post_id": 41461413, "comment_id": 70130051, "body": "have you tried <a href=\"https://www.npmjs.com/package/angular2-oauth2\" rel=\"nofollow noreferrer\">npmjs.com/package/angular2-oauth2</a> ?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7703253, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/cb149d8527b4b5c26b6fd47f67878a7a?s=128&d=identicon&r=PG", "display_name": "user7703253", "link": "https://stackoverflow.com/users/7703253/user7703253"}, "is_accepted": false, "score": 0, "last_activity_date": 1489411680, "creation_date": 1489411680, "answer_id": 42764845, "question_id": 41461413, "link": "https://stackoverflow.com/questions/41461413/integrating-google-oauth2-api-in-angular2-typescript-app/42764845#42764845", "title": "Integrating Google OAuth2 API in Angular2 Typescript APP", "body": "<p>Installing</p>\n\n<p>From the root of your Apache Cordova project, execute the following:</p>\n\n<p>npm install ng2-cordova-oauth --save\nThis will install ng2-cordova-oauth and its dependencies.</p>\n\n<p>Injecting:</p>\n\n<p>There are 2 types of entities in the library: Platform (i.e., Cordova, Browser) and Provider (i.e., Facebook, LinkedIn, etc.). Each provider has it's own class. You need to inject the Platform class into every class in which you wish to use them. For example, if you wish to use Facebook oauth in a particular class, it would look something like:</p>\n\n<pre><code>import {Facebook, Google} from 'ng2-cordova-oauth/core';\nimport {OauthBrowser} from 'ng2-cordova-oauth/platform/browser'\n</code></pre>\n\n<p>// or</p>\n\n<pre><code>import {OauthCordova} from 'ng2-cordova-oauth/platform/cordova'\n\n\nimport {Component} from '@angular/core';\nimport {NavController, Platform} from 'ionic-angular';\nimport {Facebook, Google, LinkedIn} from \"ng2-cordova-oauth/core\";\nimport {OauthCordova} from 'ng2-cordova-oauth/platform/cordova';\n\n@Component({\n    templateUrl: 'build/pages/home/home.html'\n})\nexport class HomePage {\n\n    private oauth: OauthCordova = new OauthCordova();\n    private facebookProvider: Facebook = new Facebook({\n      clientId: \"CLIENT_ID_HERE\",\n      appScope: [\"email\"]\n    })\n\n    constructor(private navCtrl: NavController, private platform: Platform) { }\n\n    public facebook() {\n        this.platform.ready().then(() =&gt; {\n            this.oauth.logInVia(this.facebookProvider).then(success =&gt; {\n                console.log(\"RESULT: \" + JSON.stringify(success));\n            }, error =&gt; {\n                console.log(\"ERROR: \", error);\n            });\n        });\n    }\n\n}\n</code></pre>\n\n<p>Try this link <a href=\"https://github.com/nraboy/ng2-cordova-oauth\" rel=\"nofollow noreferrer\">https://github.com/nraboy/ng2-cordova-oauth</a></p>\n"}], "owner": {"reputation": 31, "user_id": 3742052, "user_type": "registered", "profile_image": "https://graph.facebook.com/522150858/picture?type=large", "display_name": "Hacki", "link": "https://stackoverflow.com/users/3742052/hacki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489411680, "creation_date": 1483525239, "question_id": 41461413, "link": "https://stackoverflow.com/questions/41461413/integrating-google-oauth2-api-in-angular2-typescript-app", "title": "Integrating Google OAuth2 API in Angular2 Typescript APP", "body": "<p>I try to integrate the Google oauth2 API and the Calender API into a Angular2 application. I cound not find any running samle that helps me todo the integration.</p>\n\n<p>Anyone knows a running sample?</p>\n\n<p>Regards Hacki</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1483524869, "post_id": 41461037, "comment_id": 70127923, "body": "There might be cases where other methods might be better (like using <code>mergeMap</code>) but there is nothing wrong with calling another method from within <code>subscribe()</code> callbacks."}, {"owner": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 1, "creation_date": 1483525187, "post_id": 41461037, "comment_id": 70128124, "body": "I am doing it the way you are doing (almost). Maybe I structure the methods a bit differently. If I have two separate HTTP-calls, but one needs information from the first, I do it similar to the way you are doing. If the methods are not depending on each other, but I have a third method I want to call after the data is loaded, I usually do a <code>forkJoin</code> instead, and then call the third method."}], "answers": [{"tags": [], "owner": {"reputation": 15213, "user_id": 1518765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YUfY8.jpg?s=128&g=1", "display_name": "olsn", "link": "https://stackoverflow.com/users/1518765/olsn"}, "is_accepted": false, "score": 3, "last_activity_date": 1483526058, "creation_date": 1483526058, "answer_id": 41461686, "question_id": 41461037, "link": "https://stackoverflow.com/questions/41461037/typescript-is-calling-another-method-inside-the-subscribe-good-or-bad-pract/41461686#41461686", "title": "Typescript - Is calling another method inside the .subscribe() good or bad practice?", "body": "<p>In general you can do this, I think in a Service this is okay to do it like this, however if your code is from a component and since you are asking for a \"good practice\", here are some options:</p>\n\n<p><strong>Option 1</strong></p>\n\n<p>You should try to avoid manual subscriptions, use <code>.do(...)</code> for those kind of operation. Also try to avoid \"hard chaining\" where you cannot use the parts separately, so try breaking up your streams into smaller ones, this makes it easier to test. With those points in mind I would write your parts like this:</p>\n\n<pre><code>private getPersonalInfo(): Observable&lt;PersonalInfo[]&gt; {\n    return this.Service.get(this.Id)\n        .catch(this.logger.log)\n        .do((customers: PersonalInfo[]) =&gt; this.customers = customers);\n}\n\nprivate getContactInfo(): Observable&lt;ContactInformation[]&gt; {\n    return this.Service.getContactInfo(this.Id)\n        .catch(this.logger.log)\n        .do((contactInfo: ContactInformation[]) =&gt; this.contactInfo = contactInfo);\n}\n\nprivate getData(): void {\n    this.getPersonalInfo()\n        .switchMap(() =&gt; this.getContactInfo())\n        .subscribe();\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Option 2</strong></p>\n\n<p>Since I'm assuming you are using this in a component, I would try to avoid things like <code>this.contactInfo = contactInfo</code> all together and try to use <code>| async</code> in the template (given that I use components only to display information and not do any calculations there)</p>\n\n<pre><code>id$: ReplaySubject&lt;string&gt; = new ReplaySubject&lt;string&gt;(1); // this comes possibly from a service or from an @Input\n\npersonalInfo$: Observable&lt;PersonalInfo[]&gt; = this.id$\n        .switchMap(id =&gt; this.Service.get(id))\n        .catch(this.logger.log)\n        .publishReplay(1)\n        .refCount();\n\ncontactInfo$: Observable&lt;ContactInformation[]&gt; = this.id$  // or start it with this.personalInfo$.switchMapTo(this.id$) if you want to make sure that it is executed AFTER the personalInfo was fetched\n        .switchMap(id =&gt; this.Service.get(id))\n        .getContactInfo(this.Id)\n        .catch(this.logger.log)\n        .publishReplay(1)\n        .refCount();\n</code></pre>\n\n<p>and in your template you would use it like this:</p>\n\n<pre><code>&lt;div *ngFor=\"let personalInfo of personalInfo$ | async\"&gt;\n    ...\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Option 3</strong></p>\n\n<p>Use some store-concept like <a href=\"https://github.com/ngrx/store\" rel=\"nofollow noreferrer\">ngrx</a> - which probably will cause quite a few refactorings.</p>\n"}], "owner": {"reputation": 11445, "user_id": 545877, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6947e7dba4ebdd9df088183de3420a03?s=128&d=identicon&r=PG", "display_name": "Funky", "link": "https://stackoverflow.com/users/545877/funky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2003, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1483526058, "creation_date": 1483524156, "question_id": 41461037, "link": "https://stackoverflow.com/questions/41461037/typescript-is-calling-another-method-inside-the-subscribe-good-or-bad-pract", "title": "Typescript - Is calling another method inside the .subscribe() good or bad practice?", "body": "<p>This works but I'm a little nervous about it as I'm not sure if it is just a hack or good practice. Can someone please let me know if this is a hack or good practice??</p>\n\n<p>I have done it this way to ensure that the first method runs completely before starting the second method.</p>\n\n<p>If this is bad practice, which I'm sure it is please provide a better way to implement it.</p>\n\n<p>I have one method which makes a call to a HTTP GET method then in the subscribe binds it and calls another method which calls another service using that data. </p>\n\n<pre><code> private bind(): void {\n\n        this.Service.get(this.Id)\n        .catch(this.logger.log)\n        .subscribe(\n        (customers: PersonalInfo[]) =&gt; { \n\n        this.customers = customers;               \n                this.bindContactInfo();           \n        }\n        );\n    }\n\nprivate bindContactInfo():void{       \n\n        this.Service.getContactInfo(this.Id)\n        .catch(this.logger.log)\n        .subscribe(   \n\n        (contactInfo: ContactInformation[]) =&gt; {\n\n         // stuff in here\n        }\n        );\n        }  \n</code></pre>\n"}, {"tags": ["angular", "typescript", "webpack", "angular-cli"], "comments": [{"owner": {"reputation": 1502, "user_id": 5788849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93fb7301455ed2ca07053c8127ee8368?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Kelwalkar", "link": "https://stackoverflow.com/users/5788849/pratik-kelwalkar"}, "edited": false, "score": 0, "creation_date": 1483524669, "post_id": 41460810, "comment_id": 70127774, "body": "FYI ive tried adding paths to tsconfig.json doesnt work `  &quot;paths&quot;: {       &quot;@components/*&quot;: [&quot;src/components/*&quot;]     }, ` and in the app.component ` import {TextInputConfiguration} from &quot;@components/configurations&quot;;`"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1483525047, "post_id": 41460810, "comment_id": 70128042, "body": "I think that&#39;s because your path for <code>@components</code> is wrong. See my answer; we have a <code>lib&#47;</code> directory in a similar place and it works fine."}], "answers": [{"comments": [{"owner": {"reputation": 1502, "user_id": 5788849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93fb7301455ed2ca07053c8127ee8368?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Kelwalkar", "link": "https://stackoverflow.com/users/5788849/pratik-kelwalkar"}, "edited": false, "score": 0, "creation_date": 1483525379, "post_id": 41460972, "comment_id": 70128248, "body": "Awesome! , configured it according to your new answer, sailed through!!"}, {"owner": {"reputation": 4360, "user_id": 3621001, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/M5X4Z.png?s=128&g=1", "display_name": "Syed Ali Taqi", "link": "https://stackoverflow.com/users/3621001/syed-ali-taqi"}, "edited": false, "score": 0, "creation_date": 1491810472, "post_id": 41460972, "comment_id": 73699507, "body": "for anyone else in future, I had to set the option of <code>baseUrl</code> along with the answer to get it work."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 4360, "user_id": 3621001, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/M5X4Z.png?s=128&g=1", "display_name": "Syed Ali Taqi", "link": "https://stackoverflow.com/users/3621001/syed-ali-taqi"}, "edited": false, "score": 0, "creation_date": 1491815029, "post_id": 41460972, "comment_id": 73702108, "body": "@SyedAliTaqi set it to what?"}, {"owner": {"reputation": 4360, "user_id": 3621001, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/M5X4Z.png?s=128&g=1", "display_name": "Syed Ali Taqi", "link": "https://stackoverflow.com/users/3621001/syed-ali-taqi"}, "edited": false, "score": 0, "creation_date": 1491815644, "post_id": 41460972, "comment_id": 73702527, "body": "@jonrsharpe: to root directory of my app. even after that, VS Code was able to resolve the dependency but <code>Webpack&#39;s ts loader</code> was still giving error of <code>unable to resolve module</code>. To fix that, I had to add <code>alias</code> and <code>modules</code> properties in my <code>webpack.config</code>"}, {"owner": {"reputation": 4360, "user_id": 3621001, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/M5X4Z.png?s=128&g=1", "display_name": "Syed Ali Taqi", "link": "https://stackoverflow.com/users/3621001/syed-ali-taqi"}, "edited": false, "score": 0, "creation_date": 1491815883, "post_id": 41460972, "comment_id": 73702676, "body": "yes, I tried with <code>&quot;.&quot;</code> but I had to explicitly add <code>baseUrl</code> and <code>paths</code> in webpack config to get it work."}, {"owner": {"reputation": 317, "user_id": 1150307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74677ac462b8f87ebc76abb1d6bfd106?s=128&d=identicon&r=PG", "display_name": "Drusantia", "link": "https://stackoverflow.com/users/1150307/drusantia"}, "edited": false, "score": 0, "creation_date": 1502524333, "post_id": 41460972, "comment_id": 78254292, "body": "I spent hours with this and finally gave up. Webpack is buggy. Even if I added the same paths to its resolve, it wouldn&#39;t run normally."}, {"owner": {"reputation": 6452, "user_id": 3547347, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/15780fe731005d0f3e5c56dedeb12039?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Gaskell", "link": "https://stackoverflow.com/users/3547347/douglas-gaskell"}, "edited": false, "score": 0, "creation_date": 1511479263, "post_id": 41460972, "comment_id": 81883553, "body": "Sadly this doesn&#39;t seme to work anymore? Using this verbatim, and it still can&#39;t seem to figure out the paths."}, {"owner": {"reputation": 2301, "user_id": 5117236, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh3.googleusercontent.com/-G6BMgWAersY/AAAAAAAAAAI/AAAAAAAAGG4/wnThVo0uWoA/photo.jpg?sz=128", "display_name": "Impulse The Fox", "link": "https://stackoverflow.com/users/5117236/impulse-the-fox"}, "edited": false, "score": 0, "creation_date": 1554928726, "post_id": 41460972, "comment_id": 97934869, "body": "It says <code>error TS2307: Cannot find module &#39;@service&#47;example&#47;example.service&#39;</code>. I&#39;ve got <code>&quot;baseUrl&quot;: &quot;.&#47;src&#47;app&#47;&quot;</code> and <code>&quot;paths&quot;: {&quot;@serivce&#47;*&quot;: [&quot;service&#47;*&quot;]}</code>"}, {"owner": {"reputation": 7928, "user_id": 958373, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/XmjH9.jpg?s=128&g=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/958373/stephane"}, "edited": false, "score": 0, "creation_date": 1563196375, "post_id": 41460972, "comment_id": 100608723, "body": "What if the project is a library ? How to export these paths mappings to the client application ?"}, {"owner": {"reputation": 1679, "user_id": 267874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007a9c64b82a001443ff463ef326366b?s=128&d=identicon&r=PG", "display_name": "Paul-Sebastian Manole", "link": "https://stackoverflow.com/users/267874/paul-sebastian-manole"}, "edited": false, "score": 0, "creation_date": 1589629120, "post_id": 41460972, "comment_id": 109372021, "body": "It&#39;s kind of pointless to specify the same path component in the key and in the value. The above example can be simplified/reduced as: <code>&quot;@&#47;*&quot;: [&quot;src&#47;app&#47;*&quot;]</code> and then you can import from <code>@&#47;components</code> or <code>@&#47;any_other_folder</code> with just that one path mapping. Also, I think you have an error in your config: your paths are relative to <code>.</code>, but angular <code>app</code> folder is in <code>.&#47;src&#47;app</code> not in <code>.&#47;app</code>."}, {"owner": {"reputation": 12440, "user_id": 308731, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/eQxFn.jpg?s=128&g=1", "display_name": "Eyeslandic", "link": "https://stackoverflow.com/users/308731/eyeslandic"}, "edited": false, "score": 0, "creation_date": 1604741998, "post_id": 41460972, "comment_id": 114443877, "body": "This works but VS Code doesn&#39;t pick up on it and gives a warning/error."}, {"owner": {"reputation": 422, "user_id": 6820042, "user_type": "registered", "accept_rate": 30, "profile_image": "https://lh6.googleusercontent.com/-3vKceLNB3U8/AAAAAAAAAAI/AAAAAAAAEYw/Zt7SuQvXKyA/photo.jpg?sz=128", "display_name": "Ethan SK", "link": "https://stackoverflow.com/users/6820042/ethan-sk"}, "edited": false, "score": 0, "creation_date": 1609174963, "post_id": 41460972, "comment_id": 115768080, "body": "remember to &#39;restart ts server&#39; in command palette in vscode"}], "tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": true, "score": 88, "last_activity_date": 1508508649, "last_edit_date": 1508508649, "creation_date": 1483523987, "answer_id": 41460972, "question_id": 41460810, "link": "https://stackoverflow.com/questions/41460810/avoiding-relative-paths-in-angular-cli/41460972#41460972", "title": "Avoiding relative paths in Angular CLI", "body": "<p>Per <a href=\"https://github.com/angular/angular-cli/issues/1465#issuecomment-236054952\" rel=\"noreferrer\">this comment</a>, you can add your application source via <code>paths</code> in <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    ...,  \n    \"baseUrl\": \".\",\n    \"paths\": {\n      ...,\n      \"@app/*\": [\"app/*\"],\n      \"@components/*\": [\"components/*\"]\n    }\n  }\n}\n</code></pre>\n\n<p>Then you can import absolutely from <code>app/</code> or <code>components/</code> instead of relative to the current file:</p>\n\n<pre><code>import {TextInputConfiguration} from \"@components/configurations\";\n</code></pre>\n\n<p>Note: <strong><code>baseUrl</code> must be specified if <code>paths</code> is.</strong></p>\n\n<p>See also</p>\n\n<ul>\n<li><a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 7928, "user_id": 958373, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/XmjH9.jpg?s=128&g=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/958373/stephane"}, "edited": false, "score": 0, "creation_date": 1563196510, "post_id": 43319965, "comment_id": 100608802, "body": "What if your project is a library ? How do you expose these mappings to the client application ?"}, {"owner": {"reputation": 4360, "user_id": 3621001, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/M5X4Z.png?s=128&g=1", "display_name": "Syed Ali Taqi", "link": "https://stackoverflow.com/users/3621001/syed-ali-taqi"}, "reply_to_user": {"reputation": 7928, "user_id": 958373, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/XmjH9.jpg?s=128&g=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/958373/stephane"}, "edited": false, "score": 1, "creation_date": 1589801994, "post_id": 43319965, "comment_id": 109428043, "body": "@Stephane have a look at <a href=\"https://stackoverflow.com/questions/51186867/how-to-use-secondary-endpoints-to-create-api-for-angular-library\">this</a> question."}], "tags": [], "owner": {"reputation": 4360, "user_id": 3621001, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/M5X4Z.png?s=128&g=1", "display_name": "Syed Ali Taqi", "link": "https://stackoverflow.com/users/3621001/syed-ali-taqi"}, "is_accepted": false, "score": 22, "last_activity_date": 1491817746, "last_edit_date": 1495541894, "creation_date": 1491817746, "answer_id": 43319965, "question_id": 41460810, "link": "https://stackoverflow.com/questions/41460810/avoiding-relative-paths-in-angular-cli/43319965#43319965", "title": "Avoiding relative paths in Angular CLI", "body": "<p>Thanks to <strong><a href=\"https://stackoverflow.com/a/41460972/3621001\">jonrsharpe's answer</a></strong> for pointing me in right direction. Although, after adding the <code>paths</code>, as defined in answer, I was still not able to make it work. For anyone else facing same problem as me in future, here's what I did to fix the issues.</p>\n\n<p>I have a <em>shared module</em> and its services are being used in multiple components, so... </p>\n\n<p><strong>tsconfig.json:</strong></p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        ...\n        \"baseUrl\": \".\", //had to add this too\n        \"paths\": {\n            \"@shared/*\": [\"src/app/modules/shared/*\"]\n        }\n    }\n}\n</code></pre>\n\n<p>After this, <em>VS Code</em> was able to resolve the <code>import</code> but I still got following error from <code>webpack</code> while compilation.</p>\n\n<blockquote>\n  <p>Module not found: Error: Can't resolve</p>\n</blockquote>\n\n<p>To fix this I had to add</p>\n\n<ol>\n<li><strong><code>baseUrl of tsconfig</code></strong> in <strong><code>webpack's resolve.modules</code></strong></li>\n<li><strong><code>paths of tsconfig</code></strong> in <strong><code>webpack's resolve.alias</code></strong></li>\n</ol>\n\n<p><strong>webpack.config.js:</strong></p>\n\n<pre><code>resolve: {\n  extensions: ['*', '.js', '.ts'],\n  modules: [\n    rootDir,\n    path.join(rootDir, 'node_modules')\n  ],\n  alias: {\n    '@shared': 'src/app/modules/shared'\n  }\n},\n</code></pre>\n\n<p><strong>component.ts:</strong></p>\n\n<pre><code>import { FooService } from '@shared/services/foo.service'\nimport { BarService } from '@shared/services/bar.service'\nimport { BazService } from '@shared/services/baz.service'\n</code></pre>\n\n<p>To make it even more cleaner, I added an <code>index.d.ts</code> inside <em>services</em> folder and exported all my services from there, like this:</p>\n\n<p><strong>index.d.ts:</strong></p>\n\n<pre><code>export * from './foo.service';\nexport * from './bar.service';\nexport * from './baz.service';\n</code></pre>\n\n<p>and now inside any <strong>component:</strong></p>\n\n<pre><code>import { FooService, BarService, BazService } from '@shared/services';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1064, "user_id": 1639453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2189d3fa55c77ca4f1e78b64334f1c7?s=128&d=identicon&r=PG", "display_name": "Blaze", "link": "https://stackoverflow.com/users/1639453/blaze"}, "edited": false, "score": 1, "creation_date": 1506672110, "post_id": 45348031, "comment_id": 79923071, "body": "thanks that solved it. Without baseUrl as &quot;src&quot; compiler was trying to resolve with respect to root."}, {"owner": {"reputation": 1462, "user_id": 605481, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bb93904f01cb52791c9dbf98bb930e59?s=128&d=identicon&r=PG", "display_name": "nephiw", "link": "https://stackoverflow.com/users/605481/nephiw"}, "edited": false, "score": 0, "creation_date": 1524330676, "post_id": 45348031, "comment_id": 86932748, "body": "I am using Angular CLI - so I don&#39;t want to edit the webpack files... this helped me a lot."}, {"owner": {"reputation": 2450, "user_id": 3668625, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/359c94469d13f9ec69b19083eafeba20?s=128&d=identicon&r=PG", "display_name": "MartinJH", "link": "https://stackoverflow.com/users/3668625/martinjh"}, "edited": false, "score": 0, "creation_date": 1526814306, "post_id": 45348031, "comment_id": 87882433, "body": "baseUrl set to src worked for me :) Otherwise the other answers were good."}, {"owner": {"reputation": 7928, "user_id": 958373, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/XmjH9.jpg?s=128&g=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/958373/stephane"}, "edited": false, "score": 0, "creation_date": 1563196440, "post_id": 45348031, "comment_id": 100608758, "body": "Did you try with <code>.&#47;</code> instead of <code>.</code> ?"}], "tags": [], "owner": {"reputation": 1250, "user_id": 3606872, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tUy2R.jpg?s=128&g=1", "display_name": "Viraj", "link": "https://stackoverflow.com/users/3606872/viraj"}, "is_accepted": false, "score": 16, "last_activity_date": 1514969306, "last_edit_date": 1514969306, "creation_date": 1501151061, "answer_id": 45348031, "question_id": 41460810, "link": "https://stackoverflow.com/questions/41460810/avoiding-relative-paths-in-angular-cli/45348031#45348031", "title": "Avoiding relative paths in Angular CLI", "body": "<p>Above all answer correct, but after struggling by searching over internet n trying to understand what exactly problem and trying different troubleshooting option, I came to know <strong>baseUrl</strong> and <strong>Path</strong> how works toghether</p>\n\n<p>If you use <strong>baseUrl:\".\"</strong> like below it works in VScode but not while compiling </p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"@myproject/*\": [\"src/app/*\"]\n    }    \n}\n</code></pre>\n\n<p>As per my understanding and my working app and checked in <em>angular aio</em> code,  I suggest use as <strong>baseUrl:\"src\"</strong> like below</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"baseUrl\": \"src\",\n    \"paths\": {\n      \"@myproject/*\": [\"app/*\"],\n      \"testing/*\": [\"testing/*\"]\n    }    \n}\n</code></pre>\n\n<p>By having base url as source(src directory), compiler properly resolves modules.</p>\n\n<p>I hope this helps to people resolve this kind of issue.</p>\n"}, {"tags": [], "owner": {"reputation": 7573, "user_id": 1601882, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f4e8acebc2b429de1f513f4d03ba07b?s=128&d=identicon&r=PG", "display_name": "Andy Braham", "link": "https://stackoverflow.com/users/1601882/andy-braham"}, "is_accepted": false, "score": 6, "last_activity_date": 1528954192, "last_edit_date": 1528954192, "creation_date": 1528953807, "answer_id": 50850117, "question_id": 41460810, "link": "https://stackoverflow.com/questions/41460810/avoiding-relative-paths-in-angular-cli/50850117#50850117", "title": "Avoiding relative paths in Angular CLI", "body": "<p>Not sure why but when I tried the other answers in VS2017, I was able to compile Angular without errors but I was still seeing errors in VS \"Cannot find Module ...\". When I set the baseUrl to <code>\"src\"</code> from <code>\".\"</code> everyone was happy.</p>\n\n<h2>tsconfig.json</h2>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"baseUrl\": \"src\",                 // Main source directory same level as tsconfig\n    \"paths\": {\n      \"app/*\": [ \"app/*\" ],           // src/app\n      \"ui/*\": [ \"ui/*\" ],             // src/ui       \n      \"services/*\": [ \"services/*\" ], // src/services\n      \"assests/*\": [ \"assests/*\" ],     // src/assests\n      \"models/*\": [ \"models/*\" ]      // src/models\n    },\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n\n<p>Then to import:</p>\n\n<pre><code>import { AppMenuComponent } from 'ui/app-menu/app-menu.component';\n</code></pre>\n\n<p><strong>Note:</strong> If Visual Studio is still throwing errors try either closing and reopening the file or restarting Visual Studio to get it to recognize the new paths.</p>\n"}, {"tags": [], "owner": {"reputation": 357, "user_id": 2701969, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/xzfUS.jpg?s=128&g=1", "display_name": "Martian.titan", "link": "https://stackoverflow.com/users/2701969/martian-titan"}, "is_accepted": false, "score": 4, "last_activity_date": 1566895089, "creation_date": 1566895089, "answer_id": 57670723, "question_id": 41460810, "link": "https://stackoverflow.com/questions/41460810/avoiding-relative-paths-in-angular-cli/57670723#57670723", "title": "Avoiding relative paths in Angular CLI", "body": "<p>In Angular 8, no need for the *. The * will cause error of <code>Cannot find module</code>\nadd this to you tsconfig.json file</p>\n\n<pre><code>\"baseUrl\": \"./\",\n\"paths\": {\n      \"@test\": [ \"src/app/test/\" ],\n      \"@somthing\": [ \"src/app/something/\" ],\n      \"@name\": [ \"src/app/name/\" ]\n    },\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3873, "user_id": 5555938, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7U96HX5rJ-M/AAAAAAAAAAI/AAAAAAAABTc/cfrSY69ZX5U/photo.jpg?sz=128", "display_name": "Stokely", "link": "https://stackoverflow.com/users/5555938/stokely"}, "is_accepted": false, "score": -1, "last_activity_date": 1585475765, "last_edit_date": 1585475765, "creation_date": 1585471545, "answer_id": 60911916, "question_id": 41460810, "link": "https://stackoverflow.com/questions/41460810/avoiding-relative-paths-in-angular-cli/60911916#60911916", "title": "Avoiding relative paths in Angular CLI", "body": "<p>Ive got a MUCH simpler solution to this problem. In your \"tsconfig.json\" simply set the baseURL to an empty string:</p>\n\n<pre><code>\"baseUrl\": \"\"\n</code></pre>\n\n<p>Now you can reference paths from one file to another from your root like so:</p>\n\n<pre><code>import { ProductService } from 'src/app/services/product.service'; \n</code></pre>\n\n<p>These are absolute paths but the way angular uses them they appear to be relative. But they work! I'm not a fan of the \"path\" shortcuts mentioned above as I like to know where everything is physically located and that's how and why absolute paths were invented.</p>\n\n<p>Keep in mind this fixes the path issues when referencing modules and components on import or when building your Angular project, but that doesn't fix the path problems related to templates, style paths, or assets like images which use a completely different path system in Angular when you build and compile your project.</p>\n\n<p>If this helps explain this goofy path system, the \"angular.json\" workspace file in the project root controls what the \"sourceRoot\" folder is, which is set by default to \"src\". So that is the start of your \"source root\" folder used by the Angular build piece. Keep in mind the Angular \"workspace root\" is the project folder above \"src\" and is the true root of the project and the compiler. So when you write \"src/app/...\" the root is really above \"src\". The angular.json apparently derives its starting folder from its current location so \"src/app/\" is really a relative local folder based on angular.json's  location. That is why \"/src/app\" will not work for the baseURL as its relative to angular.json, I believe.</p>\n\n<p>By default this \"src\" folder for Angular is what all the build paths resolve to when you build/compile your project. I suspect webpack looks at that same \"sourceRoot\" \"src\" value as well in angular.json when it resolves.</p>\n\n<p>After a lot of struggle I found by setting the baseURL in tsconfig to \"\" rather than \".\" or \"./\" you can now use these full paths as long as you start with the \"src\" folder. These types of absolute paths to me make more sense as now you know visually where everything is from the top root down, rather than going up and down trees of files. That's just crazy!</p>\n\n<p>I have no idea why the Angular kids use those goofy relative path systems. These \"./\" paths are completely useless and make navigating MUCH harder, in both the compiler path resolution system AND the HTML/URL path resolution systems they use. I think if they had taken the time to learn why and when developers used relative paths they might have realized its not very useful in a wide range of environments to assume every file references every other file from its local folder.</p>\n"}, {"tags": [], "owner": {"reputation": 1679, "user_id": 267874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007a9c64b82a001443ff463ef326366b?s=128&d=identicon&r=PG", "display_name": "Paul-Sebastian Manole", "link": "https://stackoverflow.com/users/267874/paul-sebastian-manole"}, "is_accepted": false, "score": 1, "last_activity_date": 1589628767, "creation_date": 1589628767, "answer_id": 61836067, "question_id": 41460810, "link": "https://stackoverflow.com/questions/41460810/avoiding-relative-paths-in-angular-cli/61836067#61836067", "title": "Avoiding relative paths in Angular CLI", "body": "<h1>Keeping it simple</h1>\n\n<p>Let's keep this simple with just a few things you need to know to be able to apply this solution to any future project.</p>\n\n<p>Preface: Angular doesn't set up the \"usual\" <code>@/</code> or <code>~/</code> <code>path mappings</code>, probably because it chose to be less opinionated on this matter.</p>\n\n<p>It does however set a <code>baseUrl</code> for all imports: <code>./</code> (which means the folder that <code>tsconfig.json</code> is located in).</p>\n\n<p>Which then means that any non-relative imports (those that don't start with <code>./</code> or <code>../</code>) are automatically prefixed by the <code>baseUrl</code>.</p>\n\n<p>So as long as you use paths that start at this base URL for your imports, you should already have a solution! You shouldn't have problems with refactoring as long as your refactoring tool recognizes the base URL and is able to correctly apply import path refactoring.</p>\n\n<p>So by default, with an unmodified TS config, your can use this kind of import and not worry about relative paths becoming a headache to manage:</p>\n\n<pre><code>// sample import taking into consideration that there is\n// a baseUrl set up for all imports which get prefixed to\n// all imports automatically:\n\nimport { ComingSoonComponentModule } from 'src/app/components/coming-soon/coming-soon.module';\n</code></pre>\n\n<h1>Another solution</h1>\n\n<p>But if you really want to use something like a <code>@/</code> prefix, you can just as easily do that with a simple <code>path mapping</code>, like this:</p>\n\n<pre><code>// tsconfig.json\n\n{\n  // ...\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    // notice that the mapping below is relative to the baseUrl: `src/app/*` is in fact `{baseUrl}src/app/*`, ie. `./src/app/*`.\n    \"paths\": { \"@/*\": [\"src/app/*\"] },\n    // ...\n  },\n  // ...\n}\n</code></pre>\n\n<p>Then you can import as either one of these:</p>\n\n<pre><code>import { ComingSoonComponentModule } from 'src/app/components/coming-soon/coming-soon.module';\nimport { ComingSoonComponentModule } from '@/components/coming-soon/coming-soon.module';\n</code></pre>\n\n<h3>Things to remember:</h3>\n\n<ol>\n<li><code>paths</code> tsconfig option is relative to <code>baseUrl</code> option (so keep in mind and use relative paths for the <code>paths</code> keys).</li>\n<li><code>*</code> - the star is the specified module path (as per your specification in code, where you import), everything else is a prefix or suffix to be added, as per your specification in tsconfig, to the final path.</li>\n</ol>\n"}], "owner": {"reputation": 1502, "user_id": 5788849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93fb7301455ed2ca07053c8127ee8368?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Kelwalkar", "link": "https://stackoverflow.com/users/5788849/pratik-kelwalkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54253, "favorite_count": 24, "accepted_answer_id": 41460972, "answer_count": 7, "score": 62, "last_activity_date": 1589628767, "creation_date": 1483523553, "last_edit_date": 1483524803, "question_id": 41460810, "link": "https://stackoverflow.com/questions/41460810/avoiding-relative-paths-in-angular-cli", "title": "Avoiding relative paths in Angular CLI", "body": "<p>I'm using the latest Angular CLI, and I've created a custom components folder which is a collection of all components.</p>\n\n<p>For example, <code>TextInputComponent</code> has a <code>TextInputConfiguration</code> class which is placed inside <code>src/components/configurations.ts</code>, and in <code>src/app/home/addnewuser/add.user.component.ts</code> where I use it there is:</p>\n\n<pre><code>import {TextInputConfiguration} from \"../../../components/configurations\";\n</code></pre>\n\n<p>This is fine but as my app gets larger and deeper the <code>../</code> increases, how do I handle this?</p>\n\n<p>Previously, for SystemJS, I would configure the path through <code>system.config.js</code> as below:</p>\n\n<pre><code>System.config({\n..\n map : {'ng_custom_widgets':'components' },\n packages : {'ng_custom_widgets':{main:'configurations.ts', defaultExtension: 'ts'},\n)};\n</code></pre>\n\n<p>How do I produce the same for webpack using Angular CLI?</p>\n"}, {"tags": ["javascript", "cordova", "typescript", "ionic-framework", "promise"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 1, "creation_date": 1483526480, "post_id": 41460771, "comment_id": 70128969, "body": "<i>by the time the Promises returned by Calendar resolve, the event object references the last item in the events array, which means that the Promises are modifying only the last event.</i> No, this will not happen. The problem must lie elsewhere."}, {"owner": {"reputation": 135, "user_id": 1991351, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/52018aef6ea27093d0d7c14da307f4e6?s=128&d=identicon&r=PG", "display_name": "Nikola Toshev", "link": "https://stackoverflow.com/users/1991351/nikola-toshev"}, "edited": false, "score": 0, "creation_date": 1483527566, "post_id": 41460771, "comment_id": 70129708, "body": "Thank you! I was curious whether my &quot;theory&quot; was correct. I hope someone will know what exactly is going on."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1483527648, "post_id": 41460771, "comment_id": 70129773, "body": "No, <code>forEach</code> does not do that. A <code>for</code> loop with a <code>var event</code> would do that."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1483527693, "post_id": 41460771, "comment_id": 70129809, "body": "Btw, don&#39;t use <code>forEach</code> with promises (actually don&#39;t use <code>forEach</code> at all). Use <code>Promise.all(array.map(\u2026))</code> instead."}, {"owner": {"reputation": 135, "user_id": 1991351, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/52018aef6ea27093d0d7c14da307f4e6?s=128&d=identicon&r=PG", "display_name": "Nikola Toshev", "link": "https://stackoverflow.com/users/1991351/nikola-toshev"}, "edited": false, "score": 0, "creation_date": 1483528002, "post_id": 41460771, "comment_id": 70130024, "body": "I looked at Promise.all and I have a question about it: in my case, what should I return from the map()?"}, {"owner": {"reputation": 4583, "user_id": 5379496, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9fOgDREqOyM/AAAAAAAAAAI/AAAAAAAAAU8/8dNQx8FK4hY/photo.jpg?sz=128", "display_name": "Ovidiu Dolha", "link": "https://stackoverflow.com/users/5379496/ovidiu-dolha"}, "edited": false, "score": 1, "creation_date": 1483528554, "post_id": 41460771, "comment_id": 70130386, "body": "If <code>createEvent</code> returns the event <code>Promise.all(this.events.map(e =&gt; Calendar.createEvent(e.title, e.location, ...))).then(createdEvents =&gt; createdEvents.forEach(e =&gt; e.isInCalendar = true))</code>"}, {"owner": {"reputation": 135, "user_id": 1991351, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/52018aef6ea27093d0d7c14da307f4e6?s=128&d=identicon&r=PG", "display_name": "Nikola Toshev", "link": "https://stackoverflow.com/users/1991351/nikola-toshev"}, "edited": false, "score": 0, "creation_date": 1483530540, "post_id": 41460771, "comment_id": 70131586, "body": "createEvent returns a Promise, so this wouldn&#39;t work :("}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1483533364, "post_id": 41460771, "comment_id": 70133422, "body": "it&#39;s because createEvent returns a promise that it DOES work"}, {"owner": {"reputation": 135, "user_id": 1991351, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/52018aef6ea27093d0d7c14da307f4e6?s=128&d=identicon&r=PG", "display_name": "Nikola Toshev", "link": "https://stackoverflow.com/users/1991351/nikola-toshev"}, "edited": false, "score": 0, "creation_date": 1483534062, "post_id": 41460771, "comment_id": 70133883, "body": "Still, the promise doesn&#39;t resolve to the event."}], "owner": {"reputation": 135, "user_id": 1991351, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/52018aef6ea27093d0d7c14da307f4e6?s=128&d=identicon&r=PG", "display_name": "Nikola Toshev", "link": "https://stackoverflow.com/users/1991351/nikola-toshev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 361, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1483527929, "creation_date": 1483523440, "last_edit_date": 1483527929, "question_id": 41460771, "link": "https://stackoverflow.com/questions/41460771/promise-inside-a-foreach-and-variable-references", "title": "Promise inside a forEach and variable references", "body": "<p>I'm trying to make a simple Calendar app using Ionic (Cordova). I want to have a list of calendar events and a button next to each one which allows the user to add the event to his/her calendar or to remove it if it is already there. Also, I have put a button to add all the events to the calendar, for ease of use.</p>\n\n<p>My problem is with using a Promise inside a forEach. Let me start with the code, which is from a Cordova (Ionic) app:</p>\n\n<pre><code>addAllEvents() {\n  this.events.forEach((event: CalendarEvent, index, array) =&gt; {\n\n    Calendar.createEvent(event.title, event.location, event.notes, event.startDate, event.endDate).then(\n      (msg) =&gt; {\n        console.log(msg);\n        event.isInCalendar = true;\n      },\n      (err) =&gt; {\n        console.log(err);\n      }\n    );\n\n  });\n}\n</code></pre>\n\n<p>What <code>addAllEvents()</code> should do is (upon a button being pressed on the page) add all of the CalendarEvents in the events array to the user's Calendar and update the event's isInCalendar property to true. <code>isInCalendar</code> is used to decide which button to show next to each event (Add or Remove):</p>\n\n<pre><code>&lt;button *ngIf=\"!event.isInCalendar;\" ion-button rounded (click)=\"addEventToCalendar(i);\"&gt;Add to calendar&lt;/button&gt;\n&lt;button *ngIf=\"event.isInCalendar;\" ion-button color=\"danger\" rounded (click)=\"removeEventFromCalendar(i);\"&gt;Remove from calendar&lt;/button&gt;\n</code></pre>\n\n<p>However, upon execution, <code>addAllEvents()</code> only changes the <code>isInCalendar</code> property of the last event! (judging by the fact that only the last button changes)</p>\n\n<p>What I suspect is happening is that forEach binds event to each consecutive item in the events array and by the time the Promises returned by Calendar resolve, the event object references the last item in the events array, which means that the Promises are modifying only the last event.</p>\n\n<p>Please help me resolve this confusion!</p>\n\n<p>P.S.</p>\n\n<p>The individual addEventToCalendar() and removeEventFromCalendar() functions are working correctly. Here is their code:</p>\n\n<pre><code>addEventToCalendar(index: number) {\n    let event = this.events[index];\n    Calendar.createEvent(event.title, event.location, event.notes, event.startDate, event.endDate).then(\n      (msg) =&gt; {\n        console.log(msg);\n        event.isInCalendar = true;\n      },\n      (err) =&gt; {\n        console.log(err);\n      }\n    );\n  }\n\nremoveEventFromCalendar(index: number) {\n    let event = this.events[index];\n    Calendar.deleteEvent(event.title, event.location, event.notes, event.startDate, event.endDate).then(\n      (msg) =&gt; {\n        console.log(msg);\n        event.isInCalendar = false;\n      },\n      (err) =&gt; {\n        console.log(err);\n      }\n    );\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 2457, "user_id": 2700582, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0FFtk.jpg?s=128&g=1", "display_name": "Karbos 538", "link": "https://stackoverflow.com/users/2700582/karbos-538"}, "edited": false, "score": 0, "creation_date": 1483522292, "post_id": 41460093, "comment_id": 70126344, "body": "Could you add your component html code ?"}, {"owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "edited": false, "score": 0, "creation_date": 1483522339, "post_id": 41460093, "comment_id": 70126379, "body": "why don&#39;t you get a result from your delete...and then in the promise call the routing to oher?"}, {"owner": {"reputation": 5463, "user_id": 4695064, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-KpAhKljoGO4/AAAAAAAAAAI/AAAAAAAAAHU/fb44qBeaDww/photo.jpg?sz=128", "display_name": "raj", "link": "https://stackoverflow.com/users/4695064/raj"}, "edited": false, "score": 1, "creation_date": 1483522396, "post_id": 41460093, "comment_id": 70126417, "body": "doesnt look like you  delete the post client side"}, {"owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "reply_to_user": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "edited": false, "score": 0, "creation_date": 1483522489, "post_id": 41460093, "comment_id": 70126479, "body": "I&#39;ve added the rest of component template. @federicoscamuzzi This is my first Angular2 app. I find that method in docs. How to call routing in the promise?"}, {"owner": {"reputation": 26889, "user_id": 369792, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fdc806d0a8834e57b2d9309849dea8cd?s=128&d=identicon&r=PG", "display_name": "Jason Goemaat", "link": "https://stackoverflow.com/users/369792/jason-goemaat"}, "edited": false, "score": 0, "creation_date": 1483523675, "post_id": 41460093, "comment_id": 70127189, "body": "I don&#39;t see the relevant bit, where you use your list of posts that should be missing the deleted post.  Where does that come from and how do you use it?  If you show a list of posts and you don&#39;t alter that list on the client, you can&#39;t expect it to be gone."}, {"owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "reply_to_user": {"reputation": 26889, "user_id": 369792, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fdc806d0a8834e57b2d9309849dea8cd?s=128&d=identicon&r=PG", "display_name": "Jason Goemaat", "link": "https://stackoverflow.com/users/369792/jason-goemaat"}, "edited": false, "score": 0, "creation_date": 1483524445, "post_id": 41460093, "comment_id": 70127649, "body": "@JasonGoemaat I added the parent component (post list). The delete button is <b>inside</b> the child - in post template. In the same button is routing to parent. Parent should fetch the data from api and display the post-list without the deleted one. But It doesn&#39;t do that."}, {"owner": {"reputation": 26889, "user_id": 369792, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fdc806d0a8834e57b2d9309849dea8cd?s=128&d=identicon&r=PG", "display_name": "Jason Goemaat", "link": "https://stackoverflow.com/users/369792/jason-goemaat"}, "edited": false, "score": 0, "creation_date": 1483649084, "post_id": 41460093, "comment_id": 70194729, "body": "So you need to update the <code>blogPosts</code> array in the parent.  One way would be to have your child component just emit a <code>delete()</code> output and handle that on the parent, then reload thge list on the parent or just remove the deleted item from <code>blogPosts</code> after the api call succeeds."}], "answers": [{"comments": [{"owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 0, "creation_date": 1483522851, "post_id": 41460515, "comment_id": 70126691, "body": "Oh, sorry, I&#39;ve added the rest of template. The post-list is a parent of current component. There is no iteration, delete is inside the component and I want to go &#39;up&#39; to parent component and see the refreshed list without the deleted one (as I see now without &#39;renavigate&#39; function)."}, {"owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 0, "creation_date": 1483523385, "post_id": 41460515, "comment_id": 70127003, "body": "It trows an error: <code>Property &#39;splice&#39; does not exist on type &#39;BlogComponent&#39;.</code>"}, {"owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 0, "creation_date": 1483524126, "post_id": 41460515, "comment_id": 70127446, "body": "And I don&#39;t have an array of posts, only the component to display the list of it."}, {"owner": {"reputation": 2457, "user_id": 2700582, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0FFtk.jpg?s=128&g=1", "display_name": "Karbos 538", "link": "https://stackoverflow.com/users/2700582/karbos-538"}, "reply_to_user": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 0, "creation_date": 1483525360, "post_id": 41460515, "comment_id": 70128237, "body": "OK the list is a subscription with results of something like http.get... ? So you have two options : 1- you cache the result and delete the item from the cache <i>BEFORE</i> the DELETE request ; 2- you do the subscription (the &quot;renavigate&quot; in your case) <i>AFTER</i>  the DELETE request (so where you wrote <code>.then(() =&gt; null)</code>)"}, {"owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 0, "creation_date": 1483527396, "post_id": 41460515, "comment_id": 70129603, "body": "I realise the issue is appeared only on Chrome. It doesn&#39;t refresh page so there is no http.get when app get back to post-list. I want to avoid refresh the page manually and I can&#39;t delete item from list before delete request, because there is no list on page with &quot;delete&quot; button."}, {"owner": {"reputation": 2457, "user_id": 2700582, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0FFtk.jpg?s=128&g=1", "display_name": "Karbos 538", "link": "https://stackoverflow.com/users/2700582/karbos-538"}, "reply_to_user": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 0, "creation_date": 1483527951, "post_id": 41460515, "comment_id": 70129995, "body": "If your http.get subscripiton is in your parent component initialization (ngOnInit() method for best practice), you will referesh the posts list at any time you reload the component. Note if you use angular router, you won&#39;t have to reload your app."}, {"owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 0, "creation_date": 1483528520, "post_id": 41460515, "comment_id": 70130364, "body": "But the problem is, it does not refresh automatically :) And only in Chrome."}, {"owner": {"reputation": 2457, "user_id": 2700582, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0FFtk.jpg?s=128&g=1", "display_name": "Karbos 538", "link": "https://stackoverflow.com/users/2700582/karbos-538"}, "reply_to_user": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 0, "creation_date": 1483535408, "post_id": 41460515, "comment_id": 70134760, "body": "I guess it&#39;s because Chrome use cache when you reload all your app. But there are solution to reload just a component. Did you try the edited above ?"}, {"owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 0, "creation_date": 1483537360, "post_id": 41460515, "comment_id": 70136019, "body": "The point is I don&#39;t want to use <code>renavigate()</code> at all. It&#39;s only because the page doesn&#39;t reload automatically because of Chrome cache feature. And removing the <code>.then(()...</code> as you did above trows error: <code>Error:(33, 16) TS2322:Type &#39;Promise&lt;Response&gt;&#39; is not assignable to type &#39;Promise&lt;void&gt;&#39;.   Type &#39;Response&#39; is not assignable to type &#39;void&#39;.</code>  I think putting a routing link to promise not in anchor link will solve the problem. But I don&#39;t know how to write that."}, {"owner": {"reputation": 2457, "user_id": 2700582, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0FFtk.jpg?s=128&g=1", "display_name": "Karbos 538", "link": "https://stackoverflow.com/users/2700582/karbos-538"}, "reply_to_user": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 0, "creation_date": 1483539031, "post_id": 41460515, "comment_id": 70137113, "body": "Sorry I miss that. I edited it again. For your &quot;anchor&quot; problem, you have to use Angular Router. Shortly you will add something like <code>RouterModule.forRoot([{ path: &#39;post&#39;, component: ParentComponent}, { path: &#39;post&#47;:postId&#39;, component: PostDetailComponent }})</code> in your app.module.ts and a routerOutlet in you main component. Here is a working example : <a href=\"http://embed.plnkr.co/smUy1twVS8v5YBdDa0c9/\" rel=\"nofollow noreferrer\">embed.plnkr.co/smUy1twVS8v5YBdDa0c9</a> (see hero and heroDetails) and here is the complete documentation : <a href=\"https://angular.io/docs/ts/latest/guide/router.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/router.html</a>"}, {"owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 0, "creation_date": 1483539517, "post_id": 41460515, "comment_id": 70137448, "body": "I&#39;ve already have a routing in my app. See in code above. The problem is that Chrome doesn&#39;t refresh cache on http request. I try to find another method, like add outing in promise."}, {"owner": {"reputation": 2457, "user_id": 2700582, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0FFtk.jpg?s=128&g=1", "display_name": "Karbos 538", "link": "https://stackoverflow.com/users/2700582/karbos-538"}, "reply_to_user": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "edited": false, "score": 1, "creation_date": 1483540245, "post_id": 41460515, "comment_id": 70138000, "body": "To prevent Chrome caching your request you could add a dummy parameter that changes any time. See: <code>http:&#47;&#47;localhost:3000&#47;posts?preventCache=${new Date()}</code>"}], "tags": [], "owner": {"reputation": 2457, "user_id": 2700582, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0FFtk.jpg?s=128&g=1", "display_name": "Karbos 538", "link": "https://stackoverflow.com/users/2700582/karbos-538"}, "is_accepted": false, "score": 1, "last_activity_date": 1483538442, "last_edit_date": 1483538442, "creation_date": 1483522672, "answer_id": 41460515, "question_id": 41460093, "link": "https://stackoverflow.com/questions/41460093/angular2-not-refreshing-parent-after-deleting-child/41460515#41460515", "title": "Angular2 not refreshing parent after deleting child", "body": "<p>Your problem is you \"renavigate\" before call your DELETE request. </p>\n\n<p>You may add the \"renavigate\" after your promise in your \"remove\" method  : </p>\n\n<pre><code>remove(id: number): void {\n    this.blogService.delete(id).then(() =&gt; this.renavigate());\n}\n</code></pre>\n\n<p>And then modify your service as the following :</p>\n\n<pre><code>public delete(id: number): Promise&lt;Response&gt; {\n    const url = `http://localhost:3000/posts/${id}`;\n    return this.http.delete(url, {headers: this.headers})\n        .toPromise())\n}\n</code></pre>\n"}], "owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1365, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483539902, "creation_date": 1483521416, "last_edit_date": 1483539902, "question_id": 41460093, "link": "https://stackoverflow.com/questions/41460093/angular2-not-refreshing-parent-after-deleting-child", "title": "Angular2 not refreshing parent after deleting child", "body": "<p>Recently I've made an example app with some features like: adding posts, adding comments to those posts, displaying list of posts.\nNow I want add a delete post method.</p>\n\n<p>My issue is that after deleting post and getting back to post list, the post list isn't refreshed. The deleted post is still there.</p>\n\n<p>I've added method <code>renavigate</code> for refresh the page, but this thing is loading so long! It's like 1-2s to view the list.</p>\n\n<p>How to view the refreshed component without invoked refreshing manually by <code>renavigate</code>?</p>\n\n<p>My button in component template - <code>/blog</code> is a list of posts component:</p>\n\n<pre><code>&lt;a [routerLink]=\"['/blog']\" routerLinkActive=\"active\"\n           (click)=\"remove(blog.id); renavigate();\"\n           class=\"btn btn-1 btn-1e\"&gt;Delete Post&lt;/a&gt;\n</code></pre>\n\n<p>Rest of component's template:</p>\n\n<pre><code>&lt;div *ngIf=\"isLoading\"&gt;\n    Loading&amp;hellip;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"error\"&gt;\n    Something went wrong!\n&lt;/div&gt;\n\n&lt;article *ngIf=\"blog\" class=\"post\"&gt;\n    &lt;header&gt;\n        &lt;h2&gt;{{ blog.id }}\\ {{ blog?.title }}&lt;/h2&gt;\n    &lt;/header&gt;\n    &lt;section class=\"article__content\"&gt;\n        {{ blog?.text }}\n        &lt;p class=\"author\"&gt; {{ blog?.name }}&lt;/p&gt;\n    &lt;/section&gt;\n    &lt;footer&gt;\n        &lt;a [routerLink]=\"['/blog']\" routerLinkActive=\"active\" class=\"btn btn-1 btn-1e\"&gt;Return&lt;/a&gt;\n        &lt;a [routerLink]=\"['/blog']\" routerLinkActive=\"active\"\n           (click)=\"remove(blog.id);\"\n           class=\"btn btn-1 btn-1e\"&gt;Delete Post&lt;/a&gt;\n\n    &lt;/footer&gt;\n\n    &lt;my-comment [blogId]=\"blog.id\"&gt;&lt;/my-comment&gt;\n    &lt;/article&gt;\n</code></pre>\n\n<p>Remove in component:</p>\n\n<pre><code>remove(id: number): void {\n        console.log(id);\n        this.blogService.delete(id)\n    }\n</code></pre>\n\n<p>Service delete function:</p>\n\n<pre><code> public delete(id: number): Promise&lt;void&gt; {\n        const url = `http://localhost:3000/posts/${id}`;\n        return this.http.delete(url, {headers: this.headers})\n            .toPromise()\n            .then(() =&gt; null)\n    }\n</code></pre>\n\n<p>The post-list component's template:</p>\n\n<pre><code> &lt;article *ngFor=\"let post of blogPosts\"&gt;\n        &lt;div&gt;\n        &lt;p&gt;{{ post.id}}&lt;/p&gt;\n    &lt;h2 class=\"cl-effect-21\"&gt;&lt;a [routerLink]=\"['/posts', post.id]\"&gt;\n        {{ post.title }}&lt;/a&gt;&lt;/h2&gt;\n            &lt;/div&gt;\n        &lt;div class=\"border\"&gt;\n    &lt;h5 class=\"date\"&gt;[{{ post.date }}]&lt;/h5&gt;, &lt;h4&gt;{{ post.name }}&lt;/h4&gt;\n            &lt;/div&gt;\n    &lt;/article&gt;\n</code></pre>\n\n<p>Edited:\nI realise the issue is with Chrome http cache. On Firefox the post is deleted after returned to post-list component page. Chrome doesn't fetch the new http request and displayed \"old\" post-list. Page have to be refreshed to see updated post-list component.</p>\n\n<p>How to fixed this issue in Angular?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 714, "user_id": 3464696, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1558026164/picture?type=large", "display_name": "Melou", "link": "https://stackoverflow.com/users/3464696/melou"}, "edited": false, "score": 0, "creation_date": 1483520536, "post_id": 41458792, "comment_id": 70125275, "body": "Is their a way of programatically knowning which class you want to create? Depending on a global variable, another service value.... Are the 2 instances created inside the same host component? Or in two different hosts?"}, {"owner": {"reputation": 2329, "user_id": 905865, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c40d3e7d7e38c539ed21f1db7e95a146?s=128&d=identicon&r=PG", "display_name": "koral", "link": "https://stackoverflow.com/users/905865/koral"}, "reply_to_user": {"reputation": 714, "user_id": 3464696, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1558026164/picture?type=large", "display_name": "Melou", "link": "https://stackoverflow.com/users/3464696/melou"}, "edited": false, "score": 0, "creation_date": 1483535590, "post_id": 41458792, "comment_id": 70134884, "body": "@Melou I&#39;ve edited my question with answers for you."}, {"owner": {"reputation": 714, "user_id": 3464696, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1558026164/picture?type=large", "display_name": "Melou", "link": "https://stackoverflow.com/users/3464696/melou"}, "edited": false, "score": 0, "creation_date": 1483544985, "post_id": 41458792, "comment_id": 70141258, "body": "Thanks. Does the answer of @Gunter Zochbauer is ok for you? That&#39;s why I was asking if the 2 instances are created inside the same host component."}], "answers": [{"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2329, "user_id": 905865, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c40d3e7d7e38c539ed21f1db7e95a146?s=128&d=identicon&r=PG", "display_name": "koral", "link": "https://stackoverflow.com/users/905865/koral"}, "edited": false, "score": 0, "creation_date": 1483602462, "post_id": 41464809, "comment_id": 70164682, "body": "I think my answer should contain enough information about what is possible using DI. I think you should just inject both services and decide inside the component which one to use (or a similar approach). DI doesn&#39;t provide what you want."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1483535952, "creation_date": 1483535952, "answer_id": 41464809, "question_id": 41458792, "link": "https://stackoverflow.com/questions/41458792/specialize-class-during-dependency-injection/41464809#41464809", "title": "specialize class during dependency injection", "body": "<p>You can add <code>Special1Service</code> to providers of the parent of one <code>MyComponent</code> and <code>Special2Service</code> to providers of the parent of the other <code>MyComponent</code>. This means that this only works if both components have a different parent.</p>\n\n<pre><code>@Component({\n  selector: 'parent1',\n  providers: [{provide: GeneralService, useExisting: Special1Service}],\n  template: `&lt;my-component&gt;&lt;/my-component&gt;`\n})\nexport class Parent1Component {\n  constructor(private generalService:GeneralService) {}\n}\n</code></pre>\n\n\n\n<pre><code>@Component({\n  selector: 'parent2',\n  providers: [{provide: GeneralService, useExisting: Special2Service}],\n  template: `&lt;my-component&gt;&lt;/my-component&gt;`\n})\nexport class Parent1Component {\n  constructor(private generalService:GeneralService) {}\n}\n</code></pre>\n\n\n\n<pre><code>@NgModule({\n  providers: [Special1Service, Special2Service]\n  ...\n})\nexport class AppModule {}\n</code></pre>\n"}], "owner": {"reputation": 2329, "user_id": 905865, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c40d3e7d7e38c539ed21f1db7e95a146?s=128&d=identicon&r=PG", "display_name": "koral", "link": "https://stackoverflow.com/users/905865/koral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483602102, "creation_date": 1483516509, "last_edit_date": 1483602102, "question_id": 41458792, "link": "https://stackoverflow.com/questions/41458792/specialize-class-during-dependency-injection", "title": "specialize class during dependency injection", "body": "<p>I have general service class and specialized service classes and common component which should use either of specialzied service, depending on module. </p>\n\n<p>I have <code>UpdateFormComponent</code> in <code>SharedModule</code> - common for all other modules in application. During instantiating I should pass descendant of <code>AbstractSaveService</code> - <code>Module1SaveService</code> and <code>Module2SaveService</code>. Those services are declared in other modules <code>Module1</code> and <code>Module2</code>.</p>\n\n<p>So file structure would be</p>\n\n<pre><code>\\shared\\shared.module.ts\n        update.form.component.ts\n        abstract.service.ts\n\\module1\\save1.service.ts (extends AbstractSaveService)\n         users.component.ts (use UpdateFormComponent and Module1SaveService)\n\\module2\\save2.service.ts (extends AbstractSaveService)\n         cameras.component.ts (use UpdateFormComponent and Module2SaveService)\n</code></pre>\n\n\n\n<pre><code>@Component({\n    selector: 'update-form-component'\n})\nclass UpdateFormComponent {\n    constructor (private s: AbstractSaveService) {}\n}\n</code></pre>\n\n\n\n<pre><code>@Component({\n    selector: 'users-component',\n    template: '&lt;update-form-component&gt;&lt;/update-form-component&gt;' // inject Module1SaveService\n})\nexport class UsersComponent {}\n</code></pre>\n\n\n\n<pre><code>@Component({\n    selector: 'cameras-component',\n    template: '&lt;update-form-component&gt;&lt;/update-form-component&gt;' // inject Module2SaveService\n})\nexport class CamerasComponent {}\n</code></pre>\n\n<p>When I'm showing page from <code>Module1</code> (<code>UsersComponent</code>) and user press button I want to show <code>UpdateFormComponent</code> with injected <code>Module1SaveService</code>. When I'm showing page from <code>Module2</code> (<code>CamerasComponent</code>) and user press button I want to show <code>UpdateFormComponent</code> with injected <code>Module2SaveService</code>. How can I achieve this?</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "javascript-objects"], "comments": [{"owner": {"reputation": 1344, "user_id": 4226967, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000095272882/picture?type=large", "display_name": "JoeriShoeby", "link": "https://stackoverflow.com/users/4226967/joerishoeby"}, "edited": false, "score": 1, "creation_date": 1483528475, "post_id": 41458400, "comment_id": 70130336, "body": "You could create a custom pipe for it"}, {"owner": {"reputation": 1434, "user_id": 4057143, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/zyY43.jpg?s=128&g=1", "display_name": "Ankit Maheshwari", "link": "https://stackoverflow.com/users/4057143/ankit-maheshwari"}, "reply_to_user": {"reputation": 1344, "user_id": 4226967, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000095272882/picture?type=large", "display_name": "JoeriShoeby", "link": "https://stackoverflow.com/users/4226967/joerishoeby"}, "edited": false, "score": 0, "creation_date": 1483548186, "post_id": 41458400, "comment_id": 70143624, "body": "How could I create a custom pipe for it ?"}, {"owner": {"reputation": 1344, "user_id": 4226967, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000095272882/picture?type=large", "display_name": "JoeriShoeby", "link": "https://stackoverflow.com/users/4226967/joerishoeby"}, "edited": false, "score": 0, "creation_date": 1483549396, "post_id": 41458400, "comment_id": 70144451, "body": "Implement the answer of Farooq into a custom pipe, then you&#39;re done"}], "answers": [{"comments": [{"owner": {"reputation": 1434, "user_id": 4057143, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/zyY43.jpg?s=128&g=1", "display_name": "Ankit Maheshwari", "link": "https://stackoverflow.com/users/4057143/ankit-maheshwari"}, "edited": false, "score": 0, "creation_date": 1483517866, "post_id": 41458579, "comment_id": 70123828, "body": "I don&#39;t want to loop through! Is there any solution to loop through directly in dom? (Otherwise double loop will be executed!)"}, {"owner": {"reputation": 3369, "user_id": 900032, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/s0kW7.jpg?s=128&g=1", "display_name": "Farooq Ahmed Khan", "link": "https://stackoverflow.com/users/900032/farooq-ahmed-khan"}, "reply_to_user": {"reputation": 1434, "user_id": 4057143, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/zyY43.jpg?s=128&g=1", "display_name": "Ankit Maheshwari", "link": "https://stackoverflow.com/users/4057143/ankit-maheshwari"}, "edited": false, "score": 0, "creation_date": 1483520440, "post_id": 41458579, "comment_id": 70125200, "body": "well, i don&#39;t have much knowledge about Ionic, but in Angular you can user  &#39;(key, value) in persons&#39; on iterator directives, hope it helps with your concern regarding direct manipulation of DOM avoiding a loop through."}, {"owner": {"reputation": 1434, "user_id": 4057143, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/zyY43.jpg?s=128&g=1", "display_name": "Ankit Maheshwari", "link": "https://stackoverflow.com/users/4057143/ankit-maheshwari"}, "edited": false, "score": 1, "creation_date": 1483548359, "post_id": 41458579, "comment_id": 70143740, "body": "(key, value) does not worked in Angular2 (Typescript - ES5) OR Object of Objects can&#39;t be looped through! I tried doesn&#39;t worked ;("}, {"owner": {"reputation": 3369, "user_id": 900032, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/s0kW7.jpg?s=128&g=1", "display_name": "Farooq Ahmed Khan", "link": "https://stackoverflow.com/users/900032/farooq-ahmed-khan"}, "reply_to_user": {"reputation": 1434, "user_id": 4057143, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/zyY43.jpg?s=128&g=1", "display_name": "Ankit Maheshwari", "link": "https://stackoverflow.com/users/4057143/ankit-maheshwari"}, "edited": false, "score": 0, "creation_date": 1483601159, "post_id": 41458579, "comment_id": 70164058, "body": "I created an example of how it works. Hope it helps  <a href=\"http://codepen.io/farooqkhan/pen/mRbMZV\" rel=\"nofollow noreferrer\">codepen.io/farooqkhan/pen/mRbMZV</a>"}, {"owner": {"reputation": 1434, "user_id": 4057143, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/zyY43.jpg?s=128&g=1", "display_name": "Ankit Maheshwari", "link": "https://stackoverflow.com/users/4057143/ankit-maheshwari"}, "edited": false, "score": 0, "creation_date": 1483691754, "post_id": 41458579, "comment_id": 70208800, "body": "Thanks Farooq. [ng-repeat=&quot;(key, value) in persons&quot;] works well in Angular, but in Angular2 using *ngFor that [(key, value) in persons] does not worked! Where &#39;persons&#39; is an Object of Objects (not Array) - as I shown in attached image of question."}], "tags": [], "owner": {"reputation": 3369, "user_id": 900032, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/s0kW7.jpg?s=128&g=1", "display_name": "Farooq Ahmed Khan", "link": "https://stackoverflow.com/users/900032/farooq-ahmed-khan"}, "is_accepted": true, "score": 48, "last_activity_date": 1516479694, "last_edit_date": 1516479694, "creation_date": 1483515633, "answer_id": 41458579, "question_id": 41458400, "link": "https://stackoverflow.com/questions/41458400/typescript-convert-object-to-array-because-ngfor-does-not-supports-iteration/41458579#41458579", "title": "Typescript Convert Object to Array - because *ngFor does not supports iteration of object", "body": "<p>You can use <strong>Object.keys(obj)</strong> to get named indexes. This will return an array structure which you can use/customize further. A sample use to iterate over object values may look like this</p>\n\n<pre><code>var persons = { \n    john: { age: 23, year:2010},\n    jack: { age: 22, year:2011},\n    jenny: { age: 21, year:2012}\n}\n</code></pre>\n\n<p>Getting an iterator</p>\n\n<pre><code>var resultArray = Object.keys(persons).map(function(personNamedIndex){\n    let person = persons[personNamedIndex];\n    // do something with person\n    return person;\n});\n\n// you have resultArray having iterated objects \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10311895, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hGh9KHVTRz8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMvtNmg3_kNRdTbd3Jo7gKJC8uDRQ/mo/photo.jpg?sz=128", "display_name": "Federico Valussi", "link": "https://stackoverflow.com/users/10311895/federico-valussi"}, "is_accepted": false, "score": -3, "last_activity_date": 1536006373, "creation_date": 1536006373, "answer_id": 52155863, "question_id": 41458400, "link": "https://stackoverflow.com/questions/41458400/typescript-convert-object-to-array-because-ngfor-does-not-supports-iteration/52155863#52155863", "title": "Typescript Convert Object to Array - because *ngFor does not supports iteration of object", "body": "<p>Adding toArray() on the pipe worked for me.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Import toArray function\r\nimport { toArray } from 'rxjs/operators';\r\n\r\n// Generic function to consume API\r\nsearchObjects(term: string): Observable&lt;theObject[]&gt; {\r\n  requestUrl = this.url + term;\r\n  return this.http.get&lt;theObject[]&gt;(requestUrl, httpOptions).pipe(\r\n      // convert object to array\r\n      toArray&lt;theObject&gt;()\r\n  );\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 589, "user_id": 1026038, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b51d51e7549cc3e84367c5d66ef56a1d?s=128&d=identicon&r=PG", "display_name": "TheTC", "link": "https://stackoverflow.com/users/1026038/thetc"}, "edited": false, "score": 2, "creation_date": 1567697748, "post_id": 56503803, "comment_id": 102049242, "body": "Perfect! This should be the accepted answer. Exactly what I was needing to figure out. Thank you!"}, {"owner": {"reputation": 374, "user_id": 4867299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IS7hd.jpg?s=128&g=1", "display_name": "DFSFOT", "link": "https://stackoverflow.com/users/4867299/dfsfot"}, "edited": false, "score": 0, "creation_date": 1578536264, "post_id": 56503803, "comment_id": 105473514, "body": "Also consider the programmatic version of this; 1) register KeyValuePipe in app.module 2) inject into constructor <code>private keyval: KeyValuePipe</code> 3) use it like this <code>let keyvalueData = this.keyval.transform(data);</code>"}], "tags": [], "owner": {"reputation": 859, "user_id": 106704, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f400e38a8ed574db5f5afa60f373470?s=128&d=identicon&r=PG", "display_name": "henry74", "link": "https://stackoverflow.com/users/106704/henry74"}, "is_accepted": false, "score": 14, "last_activity_date": 1559972451, "creation_date": 1559972451, "answer_id": 56503803, "question_id": 41458400, "link": "https://stackoverflow.com/questions/41458400/typescript-convert-object-to-array-because-ngfor-does-not-supports-iteration/56503803#56503803", "title": "Typescript Convert Object to Array - because *ngFor does not supports iteration of object", "body": "<p>Since Angular 6, there is now a keyvalue pipe operator.  Simple do the following:</p>\n\n<pre><code>*ngFor=\"for item in objectList | keyvalue\"\n\nitem.key # refers to the keys (134, 135...) in your example\nitem.value # refers to the object for each key\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 374, "user_id": 4867299, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IS7hd.jpg?s=128&g=1", "display_name": "DFSFOT", "link": "https://stackoverflow.com/users/4867299/dfsfot"}, "edited": false, "score": 0, "creation_date": 1578535693, "post_id": 59282443, "comment_id": 105473394, "body": "This won&#39;t work because it puts the entire &quot;list&quot; into the first entry of the array so you get like <code>[0:{object1: ...},{object2: ...}]</code>"}], "tags": [], "owner": {"reputation": 77, "user_id": 9657438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06e42a35422599828e0cd9d91acd8516?s=128&d=identicon&r=PG&f=1", "display_name": "vino", "link": "https://stackoverflow.com/users/9657438/vino"}, "is_accepted": false, "score": -1, "last_activity_date": 1576061311, "last_edit_date": 1576061311, "creation_date": 1576056222, "answer_id": 59282443, "question_id": 41458400, "link": "https://stackoverflow.com/questions/41458400/typescript-convert-object-to-array-because-ngfor-does-not-supports-iteration/59282443#59282443", "title": "Typescript Convert Object to Array - because *ngFor does not supports iteration of object", "body": "<p>Just put the response data inside a square bracket and save it in the class.</p>\n\n<pre><code>this.servicename.get_or_post().subscribe(data=&gt;\n   this.objectList = [data]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 13169799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39929d3089f51fc4ff5661bd30fdcfdb?s=128&d=identicon&r=PG&f=1", "display_name": "moez82", "link": "https://stackoverflow.com/users/13169799/moez82"}, "is_accepted": false, "score": 3, "last_activity_date": 1585664057, "creation_date": 1585664057, "answer_id": 60952716, "question_id": 41458400, "link": "https://stackoverflow.com/questions/41458400/typescript-convert-object-to-array-because-ngfor-does-not-supports-iteration/60952716#60952716", "title": "Typescript Convert Object to Array - because *ngFor does not supports iteration of object", "body": "<p>If you don't need the indexes, you can use Object.values(yourObject) to get an array of the inner objects.</p>\n"}], "owner": {"reputation": 1434, "user_id": 4057143, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/zyY43.jpg?s=128&g=1", "display_name": "Ankit Maheshwari", "link": "https://stackoverflow.com/users/4057143/ankit-maheshwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73297, "favorite_count": 5, "accepted_answer_id": 41458579, "answer_count": 5, "score": 16, "last_activity_date": 1585664057, "creation_date": 1483514933, "question_id": 41458400, "link": "https://stackoverflow.com/questions/41458400/typescript-convert-object-to-array-because-ngfor-does-not-supports-iteration", "title": "Typescript Convert Object to Array - because *ngFor does not supports iteration of object", "body": "<ul>\n<li><p>I don't want to use for loop to convert Object to Array like this! If doubled the process and slow down the performance of app (I'm using Ionic2 and Typescript, with Firebase)</p>\n\n<p>for(let key in data) {\n    array.push(value);\n}</p></li>\n</ul>\n\n<p>Is there any solution to iterate object itself(shown in picture attached) using *ngFor.</p>\n\n<p>Or I can convert this Object(shown in picture attached) to Array, so that can be iterable in *ngFor.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lzCUI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lzCUI.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["reactjs", "typescript", "symfony"], "owner": {"reputation": 1897, "user_id": 3818576, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/135744a5be76cd1890ccf76b9536cdb4?s=128&d=identicon&r=PG&f=1", "display_name": "user3818576", "link": "https://stackoverflow.com/users/3818576/user3818576"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1483514347, "creation_date": 1483514347, "question_id": 41458241, "link": "https://stackoverflow.com/questions/41458241/how-to-add-typescript-and-reactjs-in-symfony", "title": "How to add typescript and reactjs in symfony?", "body": "<p>I'm trying to find on how to add reactjs and typescript in symfony but I found nothing. I'm trying here if there is someone who can help me on how to do it. I try this <code>https://www.typescriptlang.org/docs/handbook/react-&amp;-webpack.html</code></p>\n\n<p>I'm confuse if this will work properly because it generates folders.\nI use this CDN for react.js</p>\n\n<pre><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react-dom.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>It works fine if I use react.js but no typescript added. I used PHPStorm for this.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 2, "creation_date": 1483514064, "post_id": 41458151, "comment_id": 70122126, "body": "Have you tried to call it in constructor? There are no angular2 hooks for regular class"}, {"owner": {"reputation": 1893, "user_id": 2223260, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5071efdc4b75172b161f42f9758a019?s=128&d=identicon&r=PG", "display_name": "anshuVersatile", "link": "https://stackoverflow.com/users/2223260/anshuversatile"}, "edited": false, "score": 2, "creation_date": 1483514066, "post_id": 41458151, "comment_id": 70122127, "body": "try <code>constructor()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 3437, "user_id": 5449709, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/805d0192b9c13bff71cec906d0aeb2f4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stradowski", "link": "https://stackoverflow.com/users/5449709/daniel-stradowski"}, "edited": false, "score": 0, "creation_date": 1483591058, "post_id": 41458191, "comment_id": 70160428, "body": "@DanielStradowski do you mean like everytime you inject this injectable, you want this constructor to run?"}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": true, "score": 5, "last_activity_date": 1483514146, "creation_date": 1483514146, "answer_id": 41458191, "question_id": 41458151, "link": "https://stackoverflow.com/questions/41458151/angular-2-run-service-function-before-other-functions/41458191#41458191", "title": "Angular 2 run service function before other functions", "body": "<p>Life-cycle hooks doesn't exist on injectables. So instead of using life-cycle hooks like <code>ngOnInit</code> in <code>@Injectables</code>, use the constructor.</p>\n\n<pre><code>@Injectable()\nexport class ChatService {\n  constructor() {\n      this.loadConfiguration();\n  }\n\n  loadConfiguration() {\n  }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Directive and component instances have a lifecycle as Angular creates, updates, and destroys them. Developers can tap into key moments in that lifecycle by implementing one or more of the Lifecycle Hook interfaces in the Angular core library.</p>\n</blockquote>\n\n<p>Ref: <a href=\"https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html\" rel=\"noreferrer\">https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html</a></p>\n"}], "owner": {"reputation": 3437, "user_id": 5449709, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/805d0192b9c13bff71cec906d0aeb2f4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stradowski", "link": "https://stackoverflow.com/users/5449709/daniel-stradowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1150, "favorite_count": 0, "accepted_answer_id": 41458191, "answer_count": 1, "score": 0, "last_activity_date": 1483519623, "creation_date": 1483513986, "last_edit_date": 1483519623, "question_id": 41458151, "link": "https://stackoverflow.com/questions/41458151/angular-2-run-service-function-before-other-functions", "title": "Angular 2 run service function before other functions", "body": "<p>In AngularJS I was able to do this: </p>\n\n<pre><code>angular.module('myApp').service('myService', [ function () {   \n    this.loadConfiguration = function () {\n    };\n\n    this.loadConfiguration();\n}]); \n</code></pre>\n\n<p>How do I achieve the same thing, call one function before others in a service, in Angular 2 in TypeScript?</p>\n\n<p>I tried:</p>\n\n<pre><code>@Injectable()\nexport class ChatService {\n  ngOnInit() {\n      this.loadConfiguration();\n  }\n\n  loadConfiguration() {\n  }\n\n}\n</code></pre>\n\n<p>And it doesn't work.</p>\n"}, {"tags": ["angular", "typescript", "observable", "rxjs5"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1483514694, "post_id": 41458117, "comment_id": 70122396, "body": "You first call <code>ngOnInit</code>, then filter <code>this.buildings</code>. Later on you call the same service and inside the callback <code>buildings</code> is <code>this.buildings</code>? Can you <code>console.log(buildings);</code> inside the subscribes?"}, {"owner": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1483517291, "post_id": 41458117, "comment_id": 70123565, "body": "@echonax I did console.log(buildings) inside getUnfilteredData. I am getting filtered data instead of unfiltered data."}], "answers": [{"comments": [{"owner": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "edited": false, "score": 0, "creation_date": 1483591846, "post_id": 41459064, "comment_id": 70160623, "body": "What If buildings array contains one more array inside? Looks like slice is not working with array inside an array."}, {"owner": {"reputation": 339, "user_id": 2111400, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UsLb9.jpg?s=128&g=1", "display_name": "Tudor-Radu Barbu", "link": "https://stackoverflow.com/users/2111400/tudor-radu-barbu"}, "edited": false, "score": 0, "creation_date": 1512643210, "post_id": 41459064, "comment_id": 82345311, "body": "How would you reset the cache for this?"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "reply_to_user": {"reputation": 339, "user_id": 2111400, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UsLb9.jpg?s=128&g=1", "display_name": "Tudor-Radu Barbu", "link": "https://stackoverflow.com/users/2111400/tudor-radu-barbu"}, "edited": false, "score": 1, "creation_date": 1512643521, "post_id": 41459064, "comment_id": 82345505, "body": "@Tudor-RaduBarbu hmm.. you can set <code>buildings$</code> to null... check <a href=\"http://www.syntaxsuccess.com/viewarticle/caching-with-rxjs-observables-in-angular-2.0\" rel=\"nofollow noreferrer\">syntaxsuccess.com/viewarticle/&hellip;</a>"}], "tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": true, "score": 2, "last_activity_date": 1483592141, "last_edit_date": 1483592141, "creation_date": 1483517536, "answer_id": 41459064, "question_id": 41458117, "link": "https://stackoverflow.com/questions/41458117/angular2-avoid-updating-reference-variable-also/41459064#41459064", "title": "angular2 avoid updating reference variable also", "body": "<p>You are using <code>.publishReplay(1).refCount();</code> to cache the data for multiple subscribers which is working. But in your <code>ngOninit</code> you are taking the original data reference into <code>this.buildings</code> and splicing it. So your cached data is also affected.</p>\n\n<p>Solution is to slice(make a copy) the array into <code>this.buildings</code> before filtering.</p>\n\n<pre><code> ngOnInit() {\n        this._buildingService.getData()\n        .subscribe(buildings =&gt; {\n            this.buildings = buildings.slice();//slice instead of taking reference\n            this.buildings.forEach((building, index){\n                if (building.id === 0) {\n                    this.buildings.splice(index, 1);\n                }\n            });\n        });     \n   }\n</code></pre>\n\n<p>Or you could do this:</p>\n\n<pre><code> ngOnInit() {\n            this.buildings = [];\n            this._buildingService.getData()\n            .subscribe(buildings =&gt; {\n\n                buildings.forEach((building){\n                    if (building.id !== 0) {\n                        this.buildings.push(building);\n                    }\n                });\n            });     \n       }\n</code></pre>\n"}], "owner": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 41459064, "answer_count": 1, "score": 0, "last_activity_date": 1483592141, "creation_date": 1483513824, "question_id": 41458117, "link": "https://stackoverflow.com/questions/41458117/angular2-avoid-updating-reference-variable-also", "title": "angular2 avoid updating reference variable also", "body": "<p>why angular2 is updating all the references of a variable? </p>\n\n<p><strong>Problem Statement:</strong>\nI have a service which returns observable on calling getData method</p>\n\n<pre><code>@Injectable()\nexport class BuildingService {\n\nconstructor(private http: Http){       \n  }\n\nbuildings$: Observable&lt;Building[]&gt;;\n\ngetData() : Observable&lt;Building[]&gt;{\n     if (this.buildings$) {\n        this.buildings$ = this.http.get('http://localhost:8080/buildings')\n         .map(this.extractData)\n         .publishReplay(1)\n         .refCount();     \n     }\n     return this.buildings$;\n  }\n\n private extractData(res: Response) {\n    let body = res.json();\n    return body;\n} \n}\n</code></pre>\n\n<p>in component I'm subscribing to observable returned from getData method and doing some filtering and it is working fine</p>\n\n<pre><code>export class Component1 implements onInit{\n\n   constructor(private _buildingService: BuildingService) {}\n\n   buildings: Building[] = [];\n\n   ngOnInit() {\n        this._buildingService.getData()\n        .subscribe(buildings =&gt; {\n            this.buildings = buildings;\n            this.buildings.forEach((building, index){\n                if (building.id === 0) {\n                    this.buildings.splice(index, 1);\n                }\n            });\n        });     \n   }\n\ngetUnfilteredData() {\n    this._buildingService.getData()\n        .subscribe(buildings =&gt; {\n            this.buildings = buildings;         \n        });\n   }\n}\n</code></pre>\n\n<p>but even when I call getUnfilteredData() also, I am getting previously filtered data. Can somebody please explain why is this behaviour and how to avoid this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "types"], "comments": [{"owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "edited": false, "score": 3, "creation_date": 1483508090, "post_id": 41456821, "comment_id": 70119761, "body": "as you have defined <code>test</code> of type <code>any[] | string</code> you must define <code>obj</code> to <code>any</code> or <code>any[] | string</code>"}], "answers": [{"tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": false, "score": 0, "last_activity_date": 1483514262, "creation_date": 1483514262, "answer_id": 41458221, "question_id": 41456821, "link": "https://stackoverflow.com/questions/41456821/typescript-union-types-typeguards/41458221#41458221", "title": "typescript union types typeguards", "body": "<p>Function <code>test()</code> returns 'wider' type that <code>any[]</code> declared by variable and as typescript so far cannot in advance verify that the function will always return an array instance - it complains. To fix the issue you should actually use the <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/typeGuard.html\" rel=\"nofollow noreferrer\">typeguards</a> you have mentioned, for example</p>\n\n<pre><code>function test(): any[] | string\n{\n    return [1, 2];\n}\n\nlet val = test();\nif (val instanceof Array)\n{//no error here\n    let obj: any[] = val;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "is_accepted": false, "score": 0, "last_activity_date": 1483515986, "creation_date": 1483515986, "answer_id": 41458672, "question_id": 41456821, "link": "https://stackoverflow.com/questions/41456821/typescript-union-types-typeguards/41458672#41458672", "title": "typescript union types typeguards", "body": "<p>With type guards, Typescript can narrow down a union type. You can simply use a narrowing condition, but adding a type guard function gives you additional reusability and flexibility:</p>\n\n<pre><code>function isAnyArray(value: any[] | string): value is any[] {\n    return value instanceof any[];\n}\n</code></pre>\n\n<p>So you can do your assignment regularly and then work in the scope provided by your type guard:</p>\n\n<pre><code>let obj: string | any[] = test();\n\nif (isAnyArray(obj)) {\n    //Use obj here as if it were an any[]\n}\n</code></pre>\n\n<p>Since you are using your union at multiple places, you could define a type for it and use it in place of the manual union type:</p>\n\n<pre><code>type StringOrAnyArray = string | any[];\n//...\nfunction isAnyArray(value: StringOrAnyArray): value is any[] {\n    return value instanceof any[];\n}\n//...\nlet obj: StringOrAnyArray = test();\n\nif (isAnyArray(obj)) {\n    //Use obj here as if it were an any[]\n}\n</code></pre>\n"}], "owner": {"reputation": 3078, "user_id": 1490278, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2CwyJ.jpg?s=128&g=1", "display_name": "beNerd", "link": "https://stackoverflow.com/users/1490278/benerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1483515986, "creation_date": 1483507888, "question_id": 41456821, "link": "https://stackoverflow.com/questions/41456821/typescript-union-types-typeguards", "title": "typescript union types typeguards", "body": "<p>I have a snippet like this:</p>\n\n<pre><code>function test(): any[] | string {\n  return [1,2]\n}\n\nlet obj: any[]  = test();\n</code></pre>\n\n<p>This gives the following error in vscode:</p>\n\n<pre><code>[ts] Type 'string | any[]' is not assignable to type 'any[]'.\n       Type 'string' is not assignable to type 'any[]'.\n</code></pre>\n\n<p>I understand that I have to put some kind of guard but not able to understand the concept here. Anyone please?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1483504093, "post_id": 41456180, "comment_id": 70118626, "body": "I think you are missing a <code>return</code>; you&#39;re not returning the composed observable in <code>canActivate</code>."}, {"owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "edited": false, "score": 0, "creation_date": 1483504247, "post_id": 41456180, "comment_id": 70118656, "body": "i am having an error, incorrect implement interface &#39;CanActivate&#39; with this changes"}, {"owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1483504505, "post_id": 41456180, "comment_id": 70118727, "body": "@cartant was right, with a return it fixed that error. Thanks!"}, {"owner": {"reputation": 901, "user_id": 3454273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/338e43beea2ce9625934b8c8f09b8443?s=128&d=identicon&r=PG&f=1", "display_name": "Timathon", "link": "https://stackoverflow.com/users/3454273/timathon"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1483506450, "post_id": 41456180, "comment_id": 70119233, "body": "Edited. Thanks @cartant"}], "tags": [], "owner": {"reputation": 901, "user_id": 3454273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/338e43beea2ce9625934b8c8f09b8443?s=128&d=identicon&r=PG&f=1", "display_name": "Timathon", "link": "https://stackoverflow.com/users/3454273/timathon"}, "is_accepted": true, "score": 1, "last_activity_date": 1483506435, "last_edit_date": 1483506435, "creation_date": 1483503763, "answer_id": 41456180, "question_id": 41456026, "link": "https://stackoverflow.com/questions/41456026/angular-2-organize-authguardcanactivate-and-authservice-code/41456180#41456180", "title": "Angular 2 Organize AuthGuard(canActivate) and AuthService code", "body": "<p>auth.guard.ts (version 3)</p>\n\n<pre><code>export class AuthGuard implements CanActivate {\n    constructor(private authService: AuthService, private router: Router, private http: Http) { }\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        return this.authService.authenticate().map((res) =&gt; {\n            if (res.response) {\n                return true;\n            } else {\n                this.router.navigate(['/register']);\n                return false;\n            }\n        })\n\n    }\n}\n</code></pre>\n\n<p>Above code will chain your observables. But there's another problem with your code -- <code>if(res.response) {return true}</code>, when there's response, it could be 'user exists and logged in' or 'user does not exists'. So you are returning <code>true</code> for both cases. That you need fix.</p>\n"}], "owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 41456180, "answer_count": 1, "score": 0, "last_activity_date": 1503910019, "creation_date": 1483502685, "last_edit_date": 1503910019, "question_id": 41456026, "link": "https://stackoverflow.com/questions/41456026/angular-2-organize-authguardcanactivate-and-authservice-code", "title": "Angular 2 Organize AuthGuard(canActivate) and AuthService code", "body": "<p>From my current code, when routing to a page with canActivate, I am able to achieve the authentication data from the server with the below</p>\n\n<p>auth.guard.ts (version 1)</p>\n\n<pre><code>import { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Headers, RequestOptions } from '@angular/http';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n    constructor(private router: Router, private http: Http) { }\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        let headers = new Headers({ 'Content-Type': 'application/json' });\n        let options = new RequestOptions({ headers: headers });\n\n        return this.http.post('/api/authenticate', options )\n            .map(res =&gt; res.json())\n            .map((res) =&gt; {\n                if (res.response) {\n                    return true;\n                } else {\n                    this.router.navigate(['/register']);\n                    return false;\n                }\n            });\n    }\n}\n</code></pre>\n\n<p>I would want to to separate the code inside canActivate to auth.service.ts as below, but it is does not wait for the http request to finish and return</p>\n\n<p>auth.service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Headers, RequestOptions } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { Observable } from 'rxjs/Observable';\n\n@Injectable()\nexport class AuthService {\n    constructor(private http: Http) { }\n\n    authenticate() :Observable&lt;any&gt;{\n        let headers = new Headers({ 'Content-Type': 'application/json' });\n        let options = new RequestOptions({ headers: headers });\n\n        return this.http.post('/api/authenticate', { options })\n            .map(res =&gt; res.json())\n    }\n}\n</code></pre>\n\n<p>auth.guard.ts (version 2)</p>\n\n<pre><code>    import { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Headers, RequestOptions } from '@angular/http';\nimport { AuthService } from './auth.service';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n    constructor(private authService: AuthService, private router: Router, private http: Http) { }\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        if(this.authService.authenticate()){\n            return true;\n        }else{\n            this.router.navigate(['/register])\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["javascript", "typescript", "promise", "pixi.js"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1483496733, "post_id": 41455028, "comment_id": 70116952, "body": "What does <code>fromImage</code> return?"}, {"owner": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1483496929, "post_id": 41455028, "comment_id": 70116991, "body": "@Phil, <code>fromImage</code> returns a <code>Texture</code> object, which is just an object built into pixi.js. You can read up on it here if you&#39;re interested: <a href=\"http://pixijs.download/release/docs/PIXI.Texture.html\" rel=\"nofollow noreferrer\">pixijs.download/release/docs/PIXI.Texture.html</a>. The most important thing is that I need that <code>Texture</code> object to be returned before I continue execution of my program."}, {"owner": {"reputation": 1858, "user_id": 672899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ArGpI.jpg?s=128&g=1", "display_name": "Hereblur", "link": "https://stackoverflow.com/users/672899/hereblur"}, "edited": false, "score": 1, "creation_date": 1483497333, "post_id": 41455028, "comment_id": 70117090, "body": "<code>PIXI.Texture.fromImage</code> is already synchronously return the <code>Texture</code> isn&#39;t it? You don&#39;t need promise or am I missing something?"}, {"owner": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "reply_to_user": {"reputation": 1858, "user_id": 672899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ArGpI.jpg?s=128&g=1", "display_name": "Hereblur", "link": "https://stackoverflow.com/users/672899/hereblur"}, "edited": false, "score": 0, "creation_date": 1483497530, "post_id": 41455028, "comment_id": 70117143, "body": "@Hereblur, no, <code>PIXI.Texture.fromImage</code> returns the texture asynchronously"}], "answers": [{"comments": [{"owner": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "edited": false, "score": 0, "creation_date": 1483498287, "post_id": 41455460, "comment_id": 70117292, "body": "What is the <code>Image</code> object in this case? It&#39;s not a pixi.js object, so is it really needed?"}, {"owner": {"reputation": 946, "user_id": 1241250, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/s3wz3.png?s=128&g=1", "display_name": "Qiaosen Huang", "link": "https://stackoverflow.com/users/1241250/qiaosen-huang"}, "reply_to_user": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "edited": false, "score": 0, "creation_date": 1483498486, "post_id": 41455460, "comment_id": 70117331, "body": "@PythonNewb it&#39;s <code>HTMLImageElement</code>, html builtin object. Since image is loaded asynchronously in web, you will need to wrap it around to get its size (only available after loaded). And <code>PIXI.Texture.fromImage</code> is synchronous, It handles the asynchronous loading process internally."}, {"owner": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "edited": false, "score": 0, "creation_date": 1483498913, "post_id": 41455460, "comment_id": 70117425, "body": "I think I understand. Where is the texture being assigned? Should it be done within the resolve function? Like <code>resolve(var _texture = PIXI.Texture.from(image); this.texture = _texture)</code> ?"}, {"owner": {"reputation": 946, "user_id": 1241250, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/s3wz3.png?s=128&g=1", "display_name": "Qiaosen Huang", "link": "https://stackoverflow.com/users/1241250/qiaosen-huang"}, "reply_to_user": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "edited": false, "score": 0, "creation_date": 1483499002, "post_id": 41455460, "comment_id": 70117441, "body": "@PythonNewb , see edited answer. resolve is like a <code>callback</code>, while only for success results, and reject for errors. so <code>resolve(var _texture = PIXI.Texture.from(image); this.texture = _texture)</code> won&#39;t work."}, {"owner": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "edited": false, "score": 0, "creation_date": 1483499044, "post_id": 41455460, "comment_id": 70117455, "body": "Thank you. What does the line <code>resolve(this.texture)</code> do?"}, {"owner": {"reputation": 946, "user_id": 1241250, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/s3wz3.png?s=128&g=1", "display_name": "Qiaosen Huang", "link": "https://stackoverflow.com/users/1241250/qiaosen-huang"}, "reply_to_user": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "edited": false, "score": 0, "creation_date": 1483499197, "post_id": 41455460, "comment_id": 70117496, "body": "@PythonNewb, it resolves the <code>Promise</code> from <code>pending</code> state. once you call <code>await loadTexture()</code>, code halts execution, until <code>Promise</code> is resolved. it&#39;s just like a callback function. <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">developer.mozilla.org/en/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 946, "user_id": 1241250, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/s3wz3.png?s=128&g=1", "display_name": "Qiaosen Huang", "link": "https://stackoverflow.com/users/1241250/qiaosen-huang"}, "reply_to_user": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "edited": false, "score": 0, "creation_date": 1483499304, "post_id": 41455460, "comment_id": 70117519, "body": "@PythonNewb, try <code>new PIXI.Texture(new PIXI.BaseTexture(image))</code>. There is something wrong with <code>PIXI.js</code> code, it handles <code>HTMLImageElement</code>, while it declares not taking it. <a href=\"http://pixijs.download/release/docs/core_textures_Texture.js.html#line373\" rel=\"nofollow noreferrer\">pixijs.download/release/docs/&hellip;</a> described it"}, {"owner": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "edited": false, "score": 0, "creation_date": 1483499305, "post_id": 41455460, "comment_id": 70117520, "body": "I see. I have tried your code, I get the error <code>Argument of type &#39;HTMLImageElement&#39; is not assignable to parameter of type &#39;string | number | BaseTexture | HTMLCanvasElement | HTMLVideoElement&#39;</code> I think using a <code>HTMLImageElement</code> will not work in this case."}, {"owner": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "edited": false, "score": 0, "creation_date": 1483499622, "post_id": 41455460, "comment_id": 70117607, "body": "Hmm, that&#39;s strange. I think it should be brought up in the pixi github repo. I tried <code>this.texture = new PIXI.Texture(new PIXI.BaseTexture(image));</code> and it seems to have worked, I&#39;ll test for a bit more to make sure before accepting your answer"}, {"owner": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "reply_to_user": {"reputation": 946, "user_id": 1241250, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/s3wz3.png?s=128&g=1", "display_name": "Qiaosen Huang", "link": "https://stackoverflow.com/users/1241250/qiaosen-huang"}, "edited": false, "score": 0, "creation_date": 1483500027, "post_id": 41455460, "comment_id": 70117724, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/132246/discussion-between-pythonnewb-and-qiaosen-huang\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 946, "user_id": 1241250, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/s3wz3.png?s=128&g=1", "display_name": "Qiaosen Huang", "link": "https://stackoverflow.com/users/1241250/qiaosen-huang"}, "is_accepted": true, "score": 4, "last_activity_date": 1483498985, "last_edit_date": 1483498985, "creation_date": 1483498155, "answer_id": 41455460, "question_id": 41455028, "link": "https://stackoverflow.com/questions/41455028/how-to-wrap-an-asynchronous-function-in-a-promise/41455460#41455460", "title": "How to wrap an asynchronous function in a promise?", "body": "<pre><code>loadTexture():Promise&lt;PIXI.Texture&gt; {  \n     return new Promise&lt;PIXI.Texture&gt;((resolve, reject) =&gt; {\n         var image = new Image();\n         image.src = this.imagePath;\n         image.onload = () =&gt; {\n             console.log(image.height);\n             this.texture = PIXI.Texture.from(image);\n             resolve(this.texture);\n         }\n         image.onerror = e =&gt; reject(e);\n     });\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "edited": false, "score": 0, "creation_date": 1483500603, "post_id": 41455689, "comment_id": 70117839, "body": "This also works well. I wanted to avoid callbacks as they can quickly make code messy. For some reason, assigning the height to a class attribute in my <code>OperationElement</code> class and then trying to retrieve it results in an <code>undefined</code>, though"}], "tags": [], "owner": {"reputation": 1858, "user_id": 672899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ArGpI.jpg?s=128&g=1", "display_name": "Hereblur", "link": "https://stackoverflow.com/users/672899/hereblur"}, "is_accepted": false, "score": 2, "last_activity_date": 1483499892, "creation_date": 1483499892, "answer_id": 41455689, "question_id": 41455028, "link": "https://stackoverflow.com/questions/41455028/how-to-wrap-an-asynchronous-function-in-a-promise/41455689#41455689", "title": "How to wrap an asynchronous function in a promise?", "body": "<p>You just need a simple callback.</p>\n\n<pre><code>onTextureLoaded(){\n\n    console.log( this.texture.height )\n    this.texture.off('update', this.onTextureLoaded, this);\n\n}\n\nloadTexture(){\n    var _texture = PIXI.Texture.fromImage(this.imagePath);\n    this.texture = _texture;\n\n    this.texture.on('update', this.onTextureLoaded, this);\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1889, "favorite_count": 0, "accepted_answer_id": 41455460, "answer_count": 2, "score": 0, "last_activity_date": 1483499892, "creation_date": 1483494734, "last_edit_date": 1483496369, "question_id": 41455028, "link": "https://stackoverflow.com/questions/41455028/how-to-wrap-an-asynchronous-function-in-a-promise", "title": "How to wrap an asynchronous function in a promise?", "body": "<p>I want to wrap an asynchronous function in a promise so that it can run synchronously. I need to do this because I need to retrieve a result that depends on the asynchronous function before continuing with the execution of my program.</p>\n\n<p>Here is my relevant code:</p>\n\n<pre><code>export abstract class OperationElement extends Sprite {\n\n    private imagePath;\n\n    abstract setPosition(mousePosition?, backgroundHeight?, backgroundWidth?) : void;\n\n    loadTexture(){\n         var _texture = PIXI.Texture.fromImage(this.imagePath);\n         this.texture = _texture;\n         console.log(this.height);\n    }\n\n    setImagePath(path : string){\n         this.imagePath = path;\n    }\n}\n</code></pre>\n\n<p>The part that runs async is the line <code>var _texture = PIXI.Texture.fromImage(this.imagePath);</code></p>\n\n<p>When the texture is loaded, I can get the height of the texture. I need the height of the texture before I can continue execution of my program. How can I wrap this with a promise so that it runs synchronously?</p>\n\n<p>I've taken a look at some other questions around here, the most relevant had a bunch of downvoted and out of date answers so I shy away from that.</p>\n"}, {"tags": ["javascript", "typescript", "velocity.js"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1483517917, "creation_date": 1483517917, "answer_id": 41459144, "question_id": 41454457, "link": "https://stackoverflow.com/questions/41454457/velocity-first-argument-was-not-a-property-map/41459144#41459144", "title": "Velocity: First Argument was not a property map", "body": "<p>I have got the <a href=\"http://codepen.io/anon/pen/PWoxmR\" rel=\"nofollow noreferrer\">example of this up and running</a>...</p>\n\n<p>The example is based on Jason Weaver's original example but has been updated to the latest version of Velocity and has the PUG syntactical error fixed.</p>\n\n<pre><code>  var el = document.querySelector(element), // cache click target\n    con = document.querySelector(container), // cache container target\n    up = 'slideUp', // store up command\n    down = 'slideDown'; // store down command\n\n  el.addEventListener('click', function(event) {\n\n    var active = el.classList.contains('active'); // store active state\n    el.classList.toggle('active'); // toggle click target active\n\n    Velocity(con, active ? up : down, { // test and init command\n      duration: duration, // duration set in function call params\n      easing: easing // easing set in function call params\n    });\n\n    event.preventDefault();\n\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 6910553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WqPI_HJJqZM/AAAAAAAAAAI/AAAAAAAADJI/B_OG216ix-A/photo.jpg?sz=128", "display_name": "Koffi Anderson Koffi", "link": "https://stackoverflow.com/users/6910553/koffi-anderson-koffi"}, "is_accepted": false, "score": 5, "last_activity_date": 1518136916, "creation_date": 1518136916, "answer_id": 48697059, "question_id": 41454457, "link": "https://stackoverflow.com/questions/41454457/velocity-first-argument-was-not-a-property-map/48697059#48697059", "title": "Velocity: First Argument was not a property map", "body": "<p>I got it to work by importing both velocity and velocity ui:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import Velocity from 'velocity-animate';\r\nimport 'velocity-animate/velocity.ui';</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 3328079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b06c12e72953e0edd3054a8645d76791?s=128&d=identicon&r=PG", "display_name": "Rycochet", "link": "https://stackoverflow.com/users/3328079/rycochet"}, "is_accepted": false, "score": 1, "last_activity_date": 1518366828, "creation_date": 1518366828, "answer_id": 48733758, "question_id": 41454457, "link": "https://stackoverflow.com/questions/41454457/velocity-first-argument-was-not-a-property-map/48733758#48733758", "title": "Velocity: First Argument was not a property map", "body": "<p>If you're using the beta Velocity V2 then this won't work yet - I removed the shortcuts such as this in favour of an extensible API - I'm working on sequences right now and will return to this answer when they are in there (within the next few weeks).</p>\n"}, {"tags": [], "owner": {"reputation": 110, "user_id": 10208474, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FVGDbzGB7Rg/AAAAAAAAAAI/AAAAAAAAAG4/OBrhCyDyWm4/photo.jpg?sz=128", "display_name": "St&#233;phane", "link": "https://stackoverflow.com/users/10208474/st%c3%a9phane"}, "is_accepted": false, "score": 0, "last_activity_date": 1601832946, "creation_date": 1601832946, "answer_id": 64197833, "question_id": 41454457, "link": "https://stackoverflow.com/questions/41454457/velocity-first-argument-was-not-a-property-map/64197833#64197833", "title": "Velocity: First Argument was not a property map", "body": "<p>You need to import both &quot;velocity&quot; and &quot;velocity ui&quot;:</p>\n<pre><code>&lt;script src=&quot;https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3780, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1601832946, "creation_date": 1483489923, "question_id": 41454457, "link": "https://stackoverflow.com/questions/41454457/velocity-first-argument-was-not-a-property-map", "title": "Velocity: First Argument was not a property map", "body": "<p>I am using Velocity to do some animations (without jQuery), and I am having an issue where I get the following error:</p>\n\n<blockquote>\n  <p>Velocity: First argument ([object HTMLDivElement]) was not a property map, a known action, or a registered redirect. Aborting.</p>\n</blockquote>\n\n<p>I have looked at other examples, and they seem to do it the same way I do, and thiers works. Why is mine not working?</p>\n\n<p>When I dump out the value of <code>rev.elem</code> I get a <code>HTMLDivElement</code></p>\n\n<pre><code>Velocity(rev.elem, 'slideUp', {\n    duration: 225,\n    queue: false,\n    easing: 'easeInOutQuad'\n});\n</code></pre>\n\n<p>This guy seems to use it the same way and it works for him:<br>\n<a href=\"http://jasonweaver.name/blog/velocity-js-vertical-slide-without-jquery\" rel=\"nofollow noreferrer\">http://jasonweaver.name/blog/velocity-js-vertical-slide-without-jquery</a></p>\n"}, {"tags": ["visual-studio", "typescript", "react-jsx"], "answers": [{"tags": [], "owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "is_accepted": true, "score": 0, "last_activity_date": 1486050135, "last_edit_date": 1486050135, "creation_date": 1483530416, "answer_id": 41463048, "question_id": 41454308, "link": "https://stackoverflow.com/questions/41454308/cant-add-tsx-files-to-node-js-web-application-project/41463048#41463048", "title": "Can&#39;t add .tsx files to Node.js Web Application project", "body": "<blockquote>\n  <p>I can fix the issue by manually editing the project's XML file, but no way I'm willing to do that for actual production in 2016, with hundreds of files.</p>\n</blockquote>\n\n<p>This has to do something with the project template, and is likely a bug. A possible workaround in the meantime is creating the new file as a <code>.ts</code> file, and <em>then</em> renaming it to <code>.tsx</code>.</p>\n"}], "owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "accepted_answer_id": 41463048, "answer_count": 1, "score": 0, "last_activity_date": 1486050135, "creation_date": 1483488513, "last_edit_date": 1483530278, "question_id": 41454308, "link": "https://stackoverflow.com/questions/41454308/cant-add-tsx-files-to-node-js-web-application-project", "title": "Can&#39;t add .tsx files to Node.js Web Application project", "body": "<p>I created a new <em>Blank Node.js Web Application</em> in Visual Studio 2015, and I'm unable to add <code>.tsx</code> files to my project and compile them. When I do so, the created <code>.tsx</code> file is put into a Virtual Project instead, even though it is present in the actual project as well. The project is set to compile <code>JSX</code> expressions as React calls.</p>\n\n<p>It took me some time to track down what's happening behind the scenes, and what happens is that when a <code>.tsx</code> file is created in the project (through Add -> New File), it is created as a <code>Content</code> entry in the project's XML file, instead of a <code>TypeScriptCompile</code> entry. This is clearly an error.</p>\n\n<p>I can fix the issue by manually editing the project's XML file, but no way I'm willing to do that for actual production in 2016, with hundreds of files.</p>\n\n<p><strong>Step-by-step guide to reproduce the error</strong></p>\n\n<ol>\n<li>Create a new <em>Blank Node.js Web Application</em> project</li>\n<li>Create a new <code>.ts</code> file in the new project</li>\n<li>Create a new <code>.tsx</code> file in the new project</li>\n</ol>\n\n<p>See that the displayed \"host project\" of the <code>.tsx</code> file (check the top-left corner of the editor window) says \"TypeScript/JavaScript Virtual Projects\".</p>\n\n<p><strong>How can I make it so that <code>.tsx</code> files are included in the project exactly how <code>.ts</code> files are?</strong></p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>This is not a problem with a <em>HTML Application with TypeScript</em> project, but that project type contains a lot of unnecessary C# bloat that I don't need.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1483515866, "post_id": 41456852, "comment_id": 70122946, "body": "unfortunately I got errors when I tried this.  But it led me on the right path to a solution that works.  Only difference is I called it in the ngOnInit using window.location.pathname as a variable to run the if condition you came up with.  I put it in the Oninit because once I got the Constructor picking up on it properly it wouldn&#39;t update the path when I went to another section."}], "tags": [], "owner": {"reputation": 2534, "user_id": 2524749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/bjsIn.png?s=128&g=1", "display_name": "Bhetzie", "link": "https://stackoverflow.com/users/2524749/bhetzie"}, "is_accepted": false, "score": 1, "last_activity_date": 1483508086, "creation_date": 1483508086, "answer_id": 41456852, "question_id": 41454297, "link": "https://stackoverflow.com/questions/41454297/indexof-creating-cannot-read-property-error-inside-of-ngif-statement-in-ang/41456852#41456852", "title": "indexOf() creating &quot;cannot read property&quot; error inside of *ngIf statement in Angular2", "body": "<p>You could do this in your ts file:</p>\n\n<pre><code>import { Router } from '@angular/router';\nexport class PointAssetsComponent {\n\npublic navExpand:boolean = false;\npublic navRebrand:boolean = false;\nconstructor(private router: Router) {\n\n    }\nif (this.router.url.substring(0,7) === '/expand'){\nthis.navExpand = true;\n} else if (this.router.url.substring(0,8) === '/rebrand'){\nthis.navRebrand = true;\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>@Component({\n    selector: 'asset-packs',\n    template: `&lt;h1&gt;Asset Packs&lt;/h1&gt;\n               &lt;asset-expand *ngIf=\"navExpand\"&gt;&lt;/asset-expand&gt;\n               &lt;asset-newbus *ngIf=\"navRebrand\"&gt;&lt;/asset-newbus&gt;\n          `\n})\n</code></pre>\n"}], "owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483632217, "creation_date": 1483488441, "last_edit_date": 1483632217, "question_id": 41454297, "link": "https://stackoverflow.com/questions/41454297/indexof-creating-cannot-read-property-error-inside-of-ngif-statement-in-ang", "title": "indexOf() creating &quot;cannot read property&quot; error inside of *ngIf statement in Angular2", "body": "<p>I have a component that's called in different areas of my site which has more components nested inside of it that I want to display depending on the route.  I came up with this solution.</p>\n\n<pre><code>import { Component }                        from '@angular/core';\n\nvar routeLocation = window.location.pathname;\n\n@Component({\n    selector: 'asset-packs',\n    template: `&lt;h1&gt;Asset Packs&lt;/h1&gt;\n               &lt;asset-expand *ngIf=\"routeLocation.indexOf('expand') &gt; 0\"&gt;&lt;/asset-expand&gt;\n               &lt;asset-newbus *ngIf=\"routeLocation.indexOf('rebrand') &gt; 0\"&gt;&lt;/asset-newbus&gt;\n          `\n})\n\nexport class PointAssetsComponent {\n\n}\n</code></pre>\n\n<p>my intention was to use</p>\n\n<blockquote>\n  <p>var routeLocation = window.location.pathname;</p>\n</blockquote>\n\n<p>to pull the url from the browser and save it into a variable which I could then call in the *ngIf statement as</p>\n\n<blockquote>\n  <p>*ngIf=\"routeLocation.indexOf('expand') > 0\"</p>\n</blockquote>\n\n<p>As you can see from the quoted out variables I've tried a few different ways of accessing the URL as well as swapping the exact text I want to look for for a variable with the text stored in it.  Either which way I'm getting the undefined error.</p>\n\n<p>So far I haven't been able to find any examples of</p>\n\n<blockquote>\n  <p>.indexOf()</p>\n</blockquote>\n\n<p>specifically being used in ngular 2, but from what I've seen about it I'm using the right syntax with it.  I was originally trying to use</p>\n\n<blockquote>\n  <p>.contains()</p>\n</blockquote>\n\n<p>and got the same error.  When I delete the ngIf statements both components show up without a problem.  It's just when I add them in that this problem starts occurring.</p>\n\n<p>I've come across a few other articles on this issue where they said it was a bug caused by AngularFire and FireBird modules in Node.  I checked and neither of those are in my app.</p>\n\n<p>The only thing I figure is it has to be something with the syntax or I'm not importing something that makes the</p>\n\n<blockquote>\n  <p>window.location.etc</p>\n</blockquote>\n\n<p>parts work.  Does anybody know what's causing this and how to fix it?</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "rxjs", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 7314065, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2034d04885f923619826e485f6d776ce?s=128&d=identicon&r=PG&f=1", "display_name": "idosh", "link": "https://stackoverflow.com/users/7314065/idosh"}, "edited": false, "score": 0, "creation_date": 1483525699, "post_id": 41459817, "comment_id": 70128455, "body": "Thank you so much for your time! only question left for me is - if i&#39;m dismissing it after &quot;first wave&quot;, wouldn&#39;t it cause error to dismiss it &quot;again&quot; after the second wave?"}, {"owner": {"reputation": 137, "user_id": 7314065, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2034d04885f923619826e485f6d776ce?s=128&d=identicon&r=PG&f=1", "display_name": "idosh", "link": "https://stackoverflow.com/users/7314065/idosh"}, "edited": false, "score": 0, "creation_date": 1483526912, "post_id": 41459817, "comment_id": 70129233, "body": "another small issue - what about loading.dismiss() vs loading.onDismiss()...? I just had so much back and forth around this issue, i want to make sure i&#39;m doing it right (once and for all) thank you!"}, {"owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "reply_to_user": {"reputation": 137, "user_id": 7314065, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2034d04885f923619826e485f6d776ce?s=128&d=identicon&r=PG&f=1", "display_name": "idosh", "link": "https://stackoverflow.com/users/7314065/idosh"}, "edited": false, "score": 1, "creation_date": 1483532045, "post_id": 41459817, "comment_id": 70132548, "body": "Nothing will happen if you try to dismiss the loader several times since that is being handled internally by Ionic (please check <a href=\"http://plnkr.co/edit/BGyNrSvJYoFxX3J7rCbi?p=preview\" rel=\"nofollow noreferrer\">this demo plunker</a>). Regarding the <code>loading.onDismiss()</code> method, I don&#39;t use it often with loadingCtrl, but I&#39;ve used it a lot with ModalCtrl to send information to the caller. I guess the best approach would be to use the <code>dismiss</code> method when you want to hide the loading alert, and also use the <code>loading.onDismiss()...</code> to handle things like android&#39;s physical button and some other strange scenarios."}, {"owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "reply_to_user": {"reputation": 137, "user_id": 7314065, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2034d04885f923619826e485f6d776ce?s=128&d=identicon&r=PG&f=1", "display_name": "idosh", "link": "https://stackoverflow.com/users/7314065/idosh"}, "edited": false, "score": 0, "creation_date": 1483532103, "post_id": 41459817, "comment_id": 70132577, "body": "Please also notice that <code>loading.dismiss() </code> will dismiss the loading, while <code>loading.onDismiss()...</code> will be executed when the alert is dismissed, but it won&#39;t dismiss it by itself."}], "tags": [], "owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "is_accepted": true, "score": 10, "last_activity_date": 1483520422, "creation_date": 1483520422, "answer_id": 41459817, "question_id": 41454020, "link": "https://stackoverflow.com/questions/41454020/when-to-dismiss-the-ionic-loading-controller-while-waiting-for-an-observable/41459817#41459817", "title": "When to dismiss the ionic loading controller while waiting for an observable", "body": "<blockquote>\n  <p>first question - how to present?</p>\n</blockquote>\n\n<p>The correct way to present the loader is by using <code>then</code>, because otherwise you can face some issues related to buggy animations and maybe some other weird issues as well. After all, if the method returns a promise, the correct way to use it will always be to do something else when the promise is done.</p>\n\n<pre><code>loader.present().then(() =&gt; { /* ... */ });\n</code></pre>\n\n<p>I also do the same when I need to dismiss the loading:</p>\n\n<pre><code>loading.dismiss().then(() =&gt; { /* ... */ });\n</code></pre>\n\n<blockquote>\n  <p>second question - when to dismiss?</p>\n</blockquote>\n\n<p>The idea if using a loading is to let the user know that something is happening in the background, so I think you should dismiss the loading after the <em>first wave</em>. </p>\n\n<p>If no response arrives (so the results are empty for instance) you can include an <code>*ngIf=\"result.items.length === 0\"</code> condition to show a div with a message saying that the results are empty. If a new <em>wave</em> arrives with some items in the result, that div will be hidden automatically. </p>\n\n<blockquote>\n  <p>third question - how to dismiss?</p>\n</blockquote>\n\n<p>Just like the <code>present</code> method, the <code>dismiss</code> also returns a promise. In this case, it's easier to see some buggy behavior in the animations if you don't use the <code>then</code>. So again, by just waiting to the dismiss method to end (by using the <code>then</code>) you can push a new page or do what you need to do and it should work properly:</p>\n\n<pre><code>loading.dismiss().then(() =&gt; { this.navCtrl.push(NewPage); });\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 7314065, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2034d04885f923619826e485f6d776ce?s=128&d=identicon&r=PG&f=1", "display_name": "idosh", "link": "https://stackoverflow.com/users/7314065/idosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9102, "favorite_count": 1, "accepted_answer_id": 41459817, "answer_count": 1, "score": 5, "last_activity_date": 1513197521, "creation_date": 1483486543, "last_edit_date": 1513197521, "question_id": 41454020, "link": "https://stackoverflow.com/questions/41454020/when-to-dismiss-the-ionic-loading-controller-while-waiting-for-an-observable", "title": "When to dismiss the ionic loading controller while waiting for an observable", "body": "<p>I'm wondering how to properly use the ionic-2 loading controller while waiting for async observable to arrive - as observable might arrive in none, single or many \"waves\" of responses.</p>\n\n<p><strong>first question - how to present</strong></p>\n\n<p>Should i use <code>loader.present()</code> or <code>loader.present().then(..</code>. i saw a lot of code examples that \"ignore\" the async nature of the loader (i even saw <code>loader.present(//function to execute)</code></p>\n\n<p><strong>second question - when to dismiss</strong></p>\n\n<p>As mentioned, a response from a subscription can arrive in unknown \"waves\" of responses - taking it into account, when should i dismiss the loader? what if no response arrives? what if there are couple of responses? \nfor example: </p>\n\n<pre><code>let loader = this.loadingController.create({content : \"something\"})\nloader.present().then(()=&gt;{\n    source.subscribe((school)=&gt;{\n        this.schools.push(school)\n        loader.dismiss()\n        }, err=&gt; loader.dismiss()\n    )\n })\n</code></pre>\n\n<p><strong>third question - how to dismiss</strong></p>\n\n<p>I noticed that there are a lot of issues regard the dismissing of the loading controller (e.g. <a href=\"https://stackoverflow.com/questions/39082539/ionic-2-loading-controller-doesnt-work\">Ionic 2 - Loading Controller doesn&#39;t work</a>). Is catch after the dismiss is enough..? What to do if after the loading i want to push to another page...?</p>\n\n<p>Thank you for your patience.</p>\n"}, {"tags": ["typescript", "rxjs", "observable", "discriminated-union"], "comments": [{"owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "edited": false, "score": 0, "creation_date": 1574141344, "post_id": 41454009, "comment_id": 104115081, "body": "It seems that this compiles fine now - the compiler is smarter now. There may still be some cases where you need to put <code>kind: &lt;circle&gt; &#39;circle&#39;</code> or the newer <code>kind: &lt;const&gt; &#39;circle&#39;</code> to force it to be the &#39;circle&#39; type as opposed to the &#39;circle&#39; string."}], "answers": [{"comments": [{"owner": {"reputation": 286, "user_id": 363968, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e5652f125c081a164dc8cd49ac125bd5?s=128&d=identicon&r=PG", "display_name": "lambdabutz", "link": "https://stackoverflow.com/users/363968/lambdabutz"}, "edited": false, "score": 0, "creation_date": 1483792753, "post_id": 41454955, "comment_id": 70248805, "body": "Is this because <code>Observable.of</code> is a static function?  Had I a <code>subject: Subject&lt;T&gt;</code> for instance, then it should be able to understand <code>typeof t === T</code> when calling <code>subject.next(t)</code>?"}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "reply_to_user": {"reputation": 286, "user_id": 363968, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e5652f125c081a164dc8cd49ac125bd5?s=128&d=identicon&r=PG", "display_name": "lambdabutz", "link": "https://stackoverflow.com/users/363968/lambdabutz"}, "edited": false, "score": 0, "creation_date": 1483793100, "post_id": 41454955, "comment_id": 70248927, "body": "Yep. If you had a <code>Subject&lt;Shape&gt;</code> its <code>next</code> would not effect the error mentioned in your question."}, {"owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "edited": false, "score": 1, "creation_date": 1574141483, "post_id": 41454955, "comment_id": 104115108, "body": "You could also put <code>of&lt;Circle&gt;(...)</code> and still have <code>Observable&lt;Shape&gt;</code> for the overall return type."}], "tags": [], "owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "is_accepted": true, "score": 3, "last_activity_date": 1483494097, "creation_date": 1483494097, "answer_id": 41454955, "question_id": 41454009, "link": "https://stackoverflow.com/questions/41454009/typescript-discriminated-union-types-with-observable-of/41454955#41454955", "title": "Typescript discriminated union types with Observable.of", "body": "<p>With a call like <code>Observable.of({ kind: \"center\" })</code>, TypeScript is unable to infer the type from the anonymous argument.</p>\n\n<p>You can solve your problem by specifying the <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">type variable</a> as <code>Shape</code> when calling the generic <code>of</code> method:</p>\n\n<pre><code>function shapeFactoryAsync(width: number): Observable&lt;Shape&gt; {\n  if (width &gt; 5) {\n    return Observable.of&lt;Shape&gt;({ kind: \"circle\", radius: width });\n  } else {\n    return Observable.of&lt;Shape&gt;({ kind: \"center\" });\n  }\n}\n</code></pre>\n\n<p>With the type variable specified, TypeScript no longer has to infer the type.</p>\n"}], "owner": {"reputation": 286, "user_id": 363968, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e5652f125c081a164dc8cd49ac125bd5?s=128&d=identicon&r=PG", "display_name": "lambdabutz", "link": "https://stackoverflow.com/users/363968/lambdabutz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1046, "favorite_count": 0, "accepted_answer_id": 41454955, "answer_count": 1, "score": 5, "last_activity_date": 1483494097, "creation_date": 1483486496, "question_id": 41454009, "link": "https://stackoverflow.com/questions/41454009/typescript-discriminated-union-types-with-observable-of", "title": "Typescript discriminated union types with Observable.of", "body": "<p>I'm trying to use Typescript 2.0's discriminated union types with RxJS, but I'm getting an error that the object I am returning is not of the one of the types of the union type.  </p>\n\n<p>Here are my types:</p>\n\n<pre><code>interface Square {\n  kind: \"square\";\n  width: number;\n}\n\ninterface Circle {\n  kind: \"circle\";\n  radius: number;\n}\n\ninterface Center {\n  kind: \"center\";\n}\n\ntype Shape = Square | Circle | Center;\n</code></pre>\n\n<p>This function where I just return a <code>Shape</code> not using an <code>Observable</code> compiles completely fine:</p>\n\n<pre><code>function shapeFactory(width: number): Shape {\n  if (width &gt; 5) {\n    return {kind: \"circle\", radius: width};\n  } else if (width &lt; 2) {\n    return {kind: \"square\", width: 3};\n  }\n\n  return {kind: \"center\"};\n}\n</code></pre>\n\n<p>When I instead try to return an <code>Observable&lt;Shape&gt;</code> like so:</p>\n\n<pre><code>function shapeFactoryAsync(width: number): Observable&lt;Shape&gt; {\n  if (width &gt; 5) {\n    return Observable.of({kind: \"circle\", radius: width});\n  } else {\n    return Observable.of({kind: \"center\"});\n  }\n}\n</code></pre>\n\n<p>I am met with the compilation error: </p>\n\n<pre><code>Type 'Observable&lt;{ kind: string; radius: number; }&gt;' is not assignable to type 'Observable&lt;Shape&gt;'.\n  Type '{ kind: string; radius: number; }' is not assignable to type 'Shape'.\n    Type '{ kind: string; radius: number; }' is not assignable to type 'Center'.\n      Types of property 'kind' are incompatible.\n        Type 'string' is not assignable to type '\"center\"'.\n</code></pre>\n\n<p>I expect that my first return would be of type <code>Observable&lt;{ kind: \"circle\"; radius: number; }&gt;</code>, since <code>kind</code> is the discriminate across all <code>Shape</code> types.  Strangely, it is okay with <code>Observable.of({kind: \"center\"})</code>, possibly because there's no other data associated with it?</p>\n\n<p>I am able to fix it if I explicitly assign the object and give the assignment a type like so:</p>\n\n<pre><code>let circle: Circle = {kind: \"circle\", radius: width};\nreturn Observable.of(circle);\n</code></pre>\n\n<p>Though this seems like it should be an unnecessary cast.</p>\n\n<p>Am I just doing this completely wrong or is that cast necessary in order to figure out that <code>kind</code> is supposed to be of value <code>\"circle\"</code> instead of type <code>string</code>? </p>\n"}, {"tags": ["node.js", "typescript", "koa", "koa2"], "comments": [{"owner": {"reputation": 21, "user_id": 5325700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dfabff02b9f153e997f0b28e3df08908?s=128&d=identicon&r=PG&f=1", "display_name": "Ravaniss", "link": "https://stackoverflow.com/users/5325700/ravaniss"}, "edited": false, "score": 0, "creation_date": 1483541608, "post_id": 41453837, "comment_id": 70138976, "body": "Someone can help me please ? I&#39;m really desperate with this koa-send, static or whatever..."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5325700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dfabff02b9f153e997f0b28e3df08908?s=128&d=identicon&r=PG&f=1", "display_name": "Ravaniss", "link": "https://stackoverflow.com/users/5325700/ravaniss"}, "edited": false, "score": 0, "creation_date": 1483532204, "post_id": 41462783, "comment_id": 70132647, "body": "Hello, thanks for the answer. I don&#39;t think my second error is because i&#39;ve used &quot;serve&quot; instead of &quot;send&quot; because i just modify the name. <code>import * as serve from &quot;koa-send&quot;;</code> to save time I modify just static for send and vice versa"}, {"owner": {"reputation": 2718, "user_id": 2405689, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0c6598c7de1ca20f0fb8d52a7cebb0fc?s=128&d=identicon&r=PG", "display_name": "ArchNoob", "link": "https://stackoverflow.com/users/2405689/archnoob"}, "reply_to_user": {"reputation": 21, "user_id": 5325700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dfabff02b9f153e997f0b28e3df08908?s=128&d=identicon&r=PG&f=1", "display_name": "Ravaniss", "link": "https://stackoverflow.com/users/5325700/ravaniss"}, "edited": false, "score": 0, "creation_date": 1483532718, "post_id": 41462783, "comment_id": 70132971, "body": "@Ravaniss ooh.. okay.  Have you tried doing some <code>console.logs</code> on what you are passing to make sure it is, in fact what you are looking for?  Also <code>path.join(__dirname, &#39;&#47;public&#39;)</code> ?"}, {"owner": {"reputation": 21, "user_id": 5325700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dfabff02b9f153e997f0b28e3df08908?s=128&d=identicon&r=PG&f=1", "display_name": "Ravaniss", "link": "https://stackoverflow.com/users/5325700/ravaniss"}, "edited": false, "score": 0, "creation_date": 1483532745, "post_id": 41462783, "comment_id": 70132995, "body": "I&#39;m getting error with koa-convert...  ` UnhandledPromiseRejectionWarning: Unhandled promise rejectio n (rejecd: 1): Error: Can&#39;t set headers after they are sent. (node:164072) DeprecationWarning: Unhandled promise rejections are depreca ted. In the future, promise rejections that are not handled will terminate  the Node.js process with a non-zero exit code.`"}, {"owner": {"reputation": 2718, "user_id": 2405689, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0c6598c7de1ca20f0fb8d52a7cebb0fc?s=128&d=identicon&r=PG", "display_name": "ArchNoob", "link": "https://stackoverflow.com/users/2405689/archnoob"}, "reply_to_user": {"reputation": 21, "user_id": 5325700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dfabff02b9f153e997f0b28e3df08908?s=128&d=identicon&r=PG&f=1", "display_name": "Ravaniss", "link": "https://stackoverflow.com/users/5325700/ravaniss"}, "edited": false, "score": 0, "creation_date": 1483532917, "post_id": 41462783, "comment_id": 70133105, "body": "@Ravaniss i&#39;ve updated my comment above.. ^    also you should update your question and include more code samples that you have on your code."}, {"owner": {"reputation": 21, "user_id": 5325700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dfabff02b9f153e997f0b28e3df08908?s=128&d=identicon&r=PG&f=1", "display_name": "Ravaniss", "link": "https://stackoverflow.com/users/5325700/ravaniss"}, "edited": false, "score": 0, "creation_date": 1483533227, "post_id": 41462783, "comment_id": 70133331, "body": "You have everything on the pastebin. And yes, the path is good with <code>path.join(__dirname, &#39;&#47;public&#39;);</code> I&#39;ve updated my code with this, more clear."}], "tags": [], "owner": {"reputation": 2718, "user_id": 2405689, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0c6598c7de1ca20f0fb8d52a7cebb0fc?s=128&d=identicon&r=PG", "display_name": "ArchNoob", "link": "https://stackoverflow.com/users/2405689/archnoob"}, "is_accepted": false, "score": 0, "last_activity_date": 1483529491, "creation_date": 1483529491, "answer_id": 41462783, "question_id": 41453837, "link": "https://stackoverflow.com/questions/41453837/node-js-typeerror-path-must-be-a-string-received-request/41462783#41462783", "title": "NODE JS - TypeError: Path must be a string. Received { request", "body": "<p>First of all you are getting <code>koa deprecated Support for generators will been removed in v3. See the documentation</code> because you are using a <code>koa v2</code> with a <code>koa v1</code> \"compatible\" middleware but you can easily go around this using <code>koa-convert</code> to convert all <code>generator</code> based middlewares to the new <code>koa v2</code> async/await standards and use it without a problem.</p>\n\n<p><strong>Example of koa convert</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const convert = require('koa-convert');\r\napp.use(convert(serve(__dirname + '/public')));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Lastly, I think you are facing that second error because you are using <code>serve</code> instead of <code>send</code> and that triggers the <code>koa-static</code> you just abandoned instead.</p>\n"}], "owner": {"reputation": 21, "user_id": 5325700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dfabff02b9f153e997f0b28e3df08908?s=128&d=identicon&r=PG&f=1", "display_name": "Ravaniss", "link": "https://stackoverflow.com/users/5325700/ravaniss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1715, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483623007, "creation_date": 1483485444, "last_edit_date": 1483623007, "question_id": 41453837, "link": "https://stackoverflow.com/questions/41453837/node-js-typeerror-path-must-be-a-string-received-request", "title": "NODE JS - TypeError: Path must be a string. Received { request", "body": "<p>Hello guys (and girls) ^^</p>\n\n<p>I'm using koa2, koa-router, koa-static (try..) and no koa-send... but nothing work and i need your help. :D</p>\n\n<p>So in fact, my js files are not find...\nand i have <a href=\"https://i.stack.imgur.com/zQUYY.png\" rel=\"nofollow noreferrer\">this</a> ...</p>\n\n<p>So i have installed koa-static and did this: </p>\n\n<pre><code>app.use(serve(__dirname + '/public'));\n</code></pre>\n\n<p>But a problem like this was appear :</p>\n\n<pre><code>koa deprecated Support for generators will been removed in v3. See the documentation for examples of how to convert old middleware //github.com/koajs/koa/tree/v2.x#old-signature-middleware-v1x server.js:18:5\n</code></pre>\n\n<p>I don't remember what i've tried but nothing worked... After 3 hours i've decided to change for koa-send !</p>\n\n<p>So i install the new package and i code this from the example...</p>\n\n<pre><code>app.use(async function(ctx){\n    await serve(ctx, ctx.path, { root: __dirname + '/public' });\n});\n</code></pre>\n\n<p>and now i get ... </p>\n\n<pre><code>TypeError: Path must be a string. Received { request:\n</code></pre>\n\n<p>Thanks to stackoverflow to lock me with 2 links because of reputation....\nso here the code of everything... <a href=\"http://pastebin.com/Gmvg5r9F\" rel=\"nofollow noreferrer\">http://pastebin.com/Gmvg5r9F</a></p>\n\n<p>Someone have an idea please ? How can i make this functionnal ? I'm desperate... if you have the answer, please... ^_^ </p>\n\n<p>And happy new year everyone :p</p>\n\n<p>EDIT : package.json if you need : \"http:\"//pastebin.com/cBg73WAF</p>\n\n<p>EDIT\u00b2: Srsly, i've tried every package and nothing works... My project is actually blocked...</p>\n"}, {"tags": ["angular", "typescript", "translation"], "answers": [{"tags": [], "owner": {"reputation": 124, "user_id": 6270421, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CH-MvM31OkE/AAAAAAAAAAI/AAAAAAAAEY0/KSIVPMLXux0/photo.jpg?sz=128", "display_name": "Ravi Teja", "link": "https://stackoverflow.com/users/6270421/ravi-teja"}, "is_accepted": false, "score": 0, "last_activity_date": 1533626226, "creation_date": 1533626226, "answer_id": 51720981, "question_id": 41453748, "link": "https://stackoverflow.com/questions/41453748/angular-2-translation-change-language-in-application/51720981#51720981", "title": "Angular 2 translation change language in application", "body": "<pre><code>// Best way to change language Globally is to use pipes and send the language parameter as an argument.\n// This would automatically change the Language across the components where the language pipe is utilized.\n// The following example can be used to supple multiple language at a time and can be used to change Language dynamically on a single click\n\n// for example: **language.pipe.ts**\n\n`import { Pipe, PipeTransform, OnInit, OnChanges } from '@angular/core';\nimport { LanguageService } from '../services/language.service';\n\n@Pipe({\n    name: 'language'\n})\nexport class LanguagePipe implements PipeTransform {\n\n    constructor(\n        public lang: LanguageService\n    ) { }\n\n    transform(value: string, args?: any): any {\n        return this.lang.getLang(value);\n    }\n}\n`\n\n// **language.service.ts**\n\n`import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n@Injectable()\nexport class LanguageService {\n\n    selectedLanguage = 'ch';\n    segmentsNames: any = {};\n    constantSegmentNames: any = {};\n    language = {\n        undefined: { 'en': '', 'ch': '' },\n        null: { 'en': '', 'ch': '' },\n        '': { 'en': '', 'ch': '' },\n        'hello': { 'en': 'Hello', 'ch': '\u4f60\u597d' },\n        'world': { 'en': 'World', 'ch': '\u4e16\u754c' }\n    };\n\n    constructor(private _http: HttpClient) { }\n\n    getLang(value: string, args?: any): any {\n        if (this.language[value]) {\n            return this.language[value][this.selectedLanguage];\n        }\n        return value;\n    }\n\n    /**\n     * @function that is used to toggle the selected language among 'en' and 'ch'\n     */\n    changeLanguage() {\n        if (this.selectedLanguage === 'en') {\n            this.selectedLanguage = 'ch';\n        } else {\n            this.selectedLanguage = 'en';\n        }\n    }\n}\n`\n\n// **Use Language Pipe in HTML AS**\n\n`&lt;strong&gt;{{'hello' | language:lang.selectedLanguage}}{{'world' | language:lang.selectedLanguage}}&lt;/strong&gt;`\n</code></pre>\n\n<p><strong>PS:</strong> Don't forget to import the pipe &amp; service in all the components where you want to use this functionality</p>\n"}], "owner": {"reputation": 643, "user_id": 2401004, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/7cbb84a2a8159da80922533dd39e6c4a?s=128&d=identicon&r=PG", "display_name": "Razvan.432", "link": "https://stackoverflow.com/users/2401004/razvan-432"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5364, "favorite_count": 5, "answer_count": 1, "score": 2, "last_activity_date": 1592434676, "creation_date": 1483484860, "last_edit_date": 1589391673, "question_id": 41453748, "link": "https://stackoverflow.com/questions/41453748/angular-2-translation-change-language-in-application", "title": "Angular 2 translation change language in application", "body": "<p>I am new to angular 2 and I am building my first app. I have problems understanding how to change the language globally, from a single place. Right now I can change the language in a Component. I am using a cookie to store selected language and is available globally via a service. From what I understand I think I have to use a listener for this but don't know how to put it in practice or if this is the correct way. An example will be much appreciated. </p>\n\n<p>Thanks</p>\n\n<pre><code>import {Component} from \"@angular/core\";\nimport {TranslateService} from \"ng2-translate\";\nimport {SettingsService} from \"../settings.service\";\n\n@Component({\n    selector: 'rn-header',\n    templateUrl: './header.html',\n    styleUrls: ['./header.scss']\n})\nexport class HeaderComponent {\n\n    constructor(private translate: TranslateService, private settings: SettingsService) {\n        translate.setDefaultLang(settings.getLanguage());\n        translate.use(settings.getLanguage());\n    }\n\n    changeLanguage(language) {\n        console.log('Language changed to: '+language);\n        this.settings.setLanguage(language);\n        this.translate.use(language);\n\n    }\n\n}\n</code></pre>\n\n<p>and the service</p>\n\n<pre><code>import {Injectable} from \"@angular/core\";\nimport {CookieService} from \"angular2-cookie/services/cookies.service\";\n\n@Injectable()\nexport class SettingsService {\n    defaultLanguage: string = 'en';\n\n    constructor(private _cookieService: CookieService) {\n\n    }\n\n    getLanguage() {\n        if (this._cookieService.get('RN_LANGUAGE_PREFERENCE')) {\n            return this._cookieService.get('RN_LANGUAGE_PREFERENCE');\n        }\n\n        return this.defaultLanguage;\n    }\n\n    setLanguage(language: string) {\n\n        this._cookieService.put(\"RN_LANGUAGE_PREFERENCE\", language);\n    }\n\n}\n</code></pre>\n"}, {"tags": ["validation", "angular", "typescript", "angular2-forms", "angular-material2"], "comments": [{"owner": {"reputation": 12951, "user_id": 345648, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/cbfa1f3db2bfa135c7e7c50a7ca3fdcf?s=128&d=identicon&r=PG", "display_name": "Alexander Taylor", "link": "https://stackoverflow.com/users/345648/alexander-taylor"}, "edited": false, "score": 0, "creation_date": 1485401711, "post_id": 41453604, "comment_id": 70914477, "body": "If this is still a problem for anyone, I&#39;d recommend making a plunker and submitting an issue on <a href=\"https://github.com/angular/material2\" rel=\"nofollow noreferrer\">github.com/angular/material2</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7273153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c452bc24ee4bac0071fb1788932d9701?s=128&d=identicon&r=PG&f=1", "display_name": "Nihad Salkic", "link": "https://stackoverflow.com/users/7273153/nihad-salkic"}, "is_accepted": false, "score": 0, "last_activity_date": 1486471630, "creation_date": 1486471630, "answer_id": 42090289, "question_id": 41453604, "link": "https://stackoverflow.com/questions/41453604/angular2-material-2-md-input-container-label-is-not-resetting-float-when-value/42090289#42090289", "title": "Angular2/material 2: md-input-container label is not resetting float when value is changed programmatically", "body": "<p>Try using md-input control instead of input wrapped in md-input-container.\nIt worked for me.</p>\n"}], "owner": {"reputation": 51, "user_id": 7371484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e3a150e175023a835596e277f5d2f9?s=128&d=identicon&r=PG&f=1", "display_name": "kyle", "link": "https://stackoverflow.com/users/7371484/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 615, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1505023389, "creation_date": 1483483851, "last_edit_date": 1505023389, "question_id": 41453604, "link": "https://stackoverflow.com/questions/41453604/angular2-material-2-md-input-container-label-is-not-resetting-float-when-value", "title": "Angular2/material 2: md-input-container label is not resetting float when value is changed programmatically", "body": "<p>I'm having an issue using @angular/material's <code>md-input-containers</code> and reactive forms module.</p>\n\n<p>I am making a login form with three <code>md-inputs</code> that are all tied to values using the <code>FormBuilder</code>'s <code>FormGroup</code>. Everything there works fine. </p>\n\n<p>My problem is that on the <code>ngSubmit</code> function, I am having the form reset if the credentials entered are invalid. Using the <code>.reset()</code> method of the <code>FormGroup</code> will reset the values to default, but the floating labels in the <code>md-input-containers</code> are not resetting to their original place, as they should be on an empty field. I am guessing the Material Design directives are looking for a blur event to update this but I can't tell, and I don't know how to force that to happen. </p>\n\n<p>Here's the <code>ngSubmit</code> function:</p>\n\n<pre><code>  submitForm(username: string, password: string, companyID: any):void {\n\n    this.userService.login(username, password, companyId)\n      .then(() =&gt; {\n        this.router.navigate(['main']);\n      })\n      .catch(() =&gt; {\n        this.loginForm.reset();\n      })\n    }\n</code></pre>\n\n<p>and upon the <code>this.loginForm.reset()</code> being called, the forms will reset to default (empty strings), but the labels will still float:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aeOPU.png\" rel=\"nofollow noreferrer\">Labels still float. I reset Company ID for reference.</a></p>\n\n<p>Any idea on how to fix this? I don't really want to invoke an <code>ElementRef</code>, though I have already tried doing so to force a blur and that didn't solve it.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 26597, "user_id": 172363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eb96a4dcb7314d7c9993cbc824123be0?s=128&d=identicon&r=PG", "display_name": "Andrew Eisenberg", "link": "https://stackoverflow.com/users/172363/andrew-eisenberg"}, "edited": false, "score": 0, "creation_date": 1483486073, "post_id": 41453570, "comment_id": 70114332, "body": "Interesting. I didn&#39;t know this operator even existed."}, {"owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "edited": false, "score": 0, "creation_date": 1485352793, "post_id": 41453570, "comment_id": 70890665, "body": "Actually, there&#39;s nothing preventing you from doing this: x.foo.bar = null; x.foo = null;, despite the fact that the type of x is { bar: string }"}], "answers": [{"tags": [], "owner": {"reputation": 1354, "user_id": 122006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1dea8d214010d893fac6d759c546850?s=128&d=identicon&r=PG", "display_name": "Michael Sondergaard", "link": "https://stackoverflow.com/users/122006/michael-sondergaard"}, "is_accepted": false, "score": 0, "last_activity_date": 1485786434, "creation_date": 1485786434, "answer_id": 41938298, "question_id": 41453570, "link": "https://stackoverflow.com/questions/41453570/can-typescript-warn-me-about-superfluous-uses-of-the-non-null-assertion-operator/41938298#41938298", "title": "Can TypeScript warn me about superfluous uses of the non-null assertion operator?", "body": "<p>No, it does not seem like it currently can. In the interest of getting into the compiler codebase, I made it do so on my fork here: <a href=\"https://github.com/Sheeo/TypeScript/commit/e6d1651e4d28493b6e5f20d027ad8e86f7451552\" rel=\"nofollow noreferrer\">https://github.com/Sheeo/TypeScript/commit/e6d1651e4d28493b6e5f20d027ad8e86f7451552</a></p>\n\n<p>You can run it by cloning the repo and using that version of the compiler -- remember to enable strictNullChecks :)</p>\n"}, {"tags": [], "owner": {"reputation": 8956, "user_id": 1535629, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b69cab018771fa05b34d500d54e32fd6?s=128&d=identicon&r=PG", "display_name": "senshin", "link": "https://stackoverflow.com/users/1535629/senshin"}, "is_accepted": false, "score": 3, "last_activity_date": 1534813514, "last_edit_date": 1534813514, "creation_date": 1534812981, "answer_id": 51940236, "question_id": 41453570, "link": "https://stackoverflow.com/questions/41453570/can-typescript-warn-me-about-superfluous-uses-of-the-non-null-assertion-operator/51940236#51940236", "title": "Can TypeScript warn me about superfluous uses of the non-null assertion operator?", "body": "<p>TSLint does this now, via the <a href=\"https://palantir.github.io/tslint/rules/no-unnecessary-type-assertion/\" rel=\"nofollow noreferrer\"><code>no-unnecessary-type-assertion</code> rule</a>. </p>\n\n<p>Code like this:</p>\n\n<pre><code>const x: string = \"foo\";\nconst y = x!.indexOf(\"f\"); // &lt;-- x is of type string; no need to assert non-null\n</code></pre>\n\n<p>Will trigger a warning something like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>This assertion is unnecessary since it does not change the type of the expression.\n</code></pre>\n"}], "owner": {"reputation": 8956, "user_id": 1535629, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b69cab018771fa05b34d500d54e32fd6?s=128&d=identicon&r=PG", "display_name": "senshin", "link": "https://stackoverflow.com/users/1535629/senshin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1895, "favorite_count": 0, "answer_count": 2, "score": 10, "last_activity_date": 1534813514, "creation_date": 1483483645, "last_edit_date": 1483511465, "question_id": 41453570, "link": "https://stackoverflow.com/questions/41453570/can-typescript-warn-me-about-superfluous-uses-of-the-non-null-assertion-operator", "title": "Can TypeScript warn me about superfluous uses of the non-null assertion operator?", "body": "<p>Consider the following TypeScript code:</p>\n\n<pre><code>let x = { foo: { bar: \"baz\" } };\nconsole.log(x.foo!.bar);\n</code></pre>\n\n<p>Here, the inferred type of <code>x.foo</code> is <code>{ bar: string }</code>, and so there is no need for the use of the non-null assertion operator <code>!</code> (see e.g. <a href=\"https://github.com/Microsoft/TypeScript/issues/7395\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/7395</a>): the compiler <em>already</em> knows that <code>x.foo</code> cannot be null.</p>\n\n<p>Can tsc (or possibly a widely-used third party tool like TSLint) warn me about these superfluous uses of <code>!</code>, and/or is this a planned feature?</p>\n\n<p>I'm sure this is feasible in principle (seems like this'd just be a matter of using the TypeScript compiler API to identify places where <code>!</code> is used on variables whose type is not <code>T | null</code> or <code>T | undefined</code>); I'm just wondering if the heavy lifting has already been done. Or, I guess, a pointer to the relevant parts of the TypeScript compiler API would work too - it's tough finding documentation for it (I guess because it's not yet stable).</p>\n\n<p>(The reason I ask is that I'm concerned that I'm going to end up having to deal with code where <s>past me</s> some idiot sprinkled <code>!</code> everywhere to make <code>tsc --strictNullChecks</code> stop issuing errors, without actually thinking about whether the asserted variable actually <em>will</em> be non-null at runtime. If it does end up null at runtime, voila! A bug that we could've caught at compile time, but didn't because of overzealous <code>!</code>. The presence of <code>!</code>s on variables already known to be non-null would strongly hint that the code is overusing <code>!</code>, likely incorrectly.)</p>\n"}, {"tags": ["typescript", "quill", "parchment"], "answers": [{"tags": [], "owner": {"reputation": 1325, "user_id": 208022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f7260737d0f0098738ec7e788ec4bfe5?s=128&d=identicon&r=PG", "display_name": "brianc", "link": "https://stackoverflow.com/users/208022/brianc"}, "is_accepted": false, "score": 0, "last_activity_date": 1490192952, "creation_date": 1490192952, "answer_id": 42954544, "question_id": 41453494, "link": "https://stackoverflow.com/questions/41453494/making-a-custom-blot-in-typescript/42954544#42954544", "title": "Making a custom blot in typescript", "body": "<p>Something like this has worked for me:</p>\n\n<pre><code>const BlockEmbed = Quill.import('blots/block/embed') as { new (node, value): Object };\nexport class DividerBlot extends BlockEmbed {\n    static blotName = 'divider';\n    static tagName = 'hr';\n}\n</code></pre>\n"}], "owner": {"reputation": 1160, "user_id": 2130130, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/32f5b3b60c6dcc54b25397e2f2d5c0e3?s=128&d=identicon&r=PG", "display_name": "pixelpax", "link": "https://stackoverflow.com/users/2130130/pixelpax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 776, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490192952, "creation_date": 1483483240, "question_id": 41453494, "link": "https://stackoverflow.com/questions/41453494/making-a-custom-blot-in-typescript", "title": "Making a custom blot in typescript", "body": "<p>I'd like to be able to extend native blots as seen in <a href=\"https://quilljs.com/guides/cloning-medium-with-parchment/\" rel=\"nofollow noreferrer\">cloning medium w/ parchment</a>. I am using angular2 with typescript, and typescript does not believe that <code>BlockEmbed</code> is a real constructor. </p>\n\n<p>Using the following code (pretty much directly from above tutorial):\n    let BlockEmbed = Quill.import('blots/block/embed');</p>\n\n<pre><code>class DividerBlot extends BlockEmbed { }\nDividerBlot.blotName = 'divider';\nDividerBlot.tagName = 'hr';\n</code></pre>\n"}, {"tags": ["http", "angular", "express", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 946, "user_id": 1241250, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/s3wz3.png?s=128&g=1", "display_name": "Qiaosen Huang", "link": "https://stackoverflow.com/users/1241250/qiaosen-huang"}, "edited": false, "score": 0, "creation_date": 1483498854, "post_id": 41452675, "comment_id": 70117412, "body": "this is neither <code>typescript</code> nor <code>angular</code> problem. it&#39;s just simply malformed JSON."}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1483506397, "post_id": 41452675, "comment_id": 70119218, "body": "If you can share the network tab where you get the response, the html file you&#39;re using and the ts file you&#39;re using that&#39;d be good."}], "owner": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 669, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1484157142, "creation_date": 1483479000, "last_edit_date": 1484157142, "question_id": 41452675, "link": "https://stackoverflow.com/questions/41452675/unexpected-token-in-json-at-position-0-mongodb-express-angular2-angula", "title": "Unexpected token &lt; in JSON at position 0: MongoDB =&gt; Express =&gt; Angular2 (Angular CLI)", "body": "<p>I'm pretty good with Angular2 now but I've never worked with Express or REST. I think I have the server set up correctly now, but I'm having trouble getting my services to transform the data properly.</p>\n\n<p>The reason I'm confident that the server works is because I can navigate to my express route <code>http://localhost:3000/api/foods</code> and I can observer my rest api there: </p>\n\n<p><a href=\"https://i.stack.imgur.com/Fz12v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fz12v.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've followed the Angular2 <a href=\"https://angular.io/docs/ts/latest/guide/server-communication.html#!#fetch-data-with-http-get\" rel=\"nofollow noreferrer\">HTTP Client</a> <strong><em>Doc to Fetch data with http.get</em></strong> but I'm getting the error: </p>\n\n<blockquote>\n  <p>Unexpected token &lt; in JSON at position 0</p>\n</blockquote>\n\n<p>I assume this is because of the <code>&lt;html&gt;</code> that can be seen in the image above, but the Docs say that <code>res.json();</code> should manage that.</p>\n\n<p>The problem is that I'm an Express/REST noob and I don't know how to transform the data properly. I'm not sure if this an Express issue, a MongoDB issue, or an Angular/Angular CLI configuration issue, and I'm not sure how to find out which it is.</p>\n\n<p>Here is the relevant code:</p>\n\n<p><strong>food.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Food } from '../../interfaces/diet/food'\nimport { Observable } from \"rxjs/Rx\";\nimport { Http, Response } from '@angular/http';\n\n@Injectable()\nexport class FoodsService {\n\n  constructor(private http: Http) { }\n\n  getMongoFoods(): Observable&lt;Food[]&gt;{\n    console.log('called getMongoFoods');\n    return this.http.get('api/foods')\n                .map(this.extractData)\n                .catch(this.handleError);\n  }\n    private extractData(res: Response) {\n    let body = res.json();\n    console.log(body);\n    return body.data || { };\n  }\n\n  private handleError (error: Response | any) {\n    let errMsg: string;\n    if (error instanceof Response) {\n      const body = error.json() || '';\n      const err = body.error || JSON.stringify(body);\n      errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n    } else {\n      errMsg = error.message ? error.message : error.toString();\n    }\n    console.error(errMsg);\n    return Observable.throw(errMsg);\n  }\n}\n</code></pre>\n\n<p><strong>server.js</strong></p>\n\n<pre><code>var express = require('express');\nvar app = express();\nvar bodyParser = require('body-parser');\nvar mongoose = require('mongoose');\n\nvar logger = require('morgan');\nvar cookieParser = require('cookie-parser');\nvar path = require('path');\n\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'ejs');\napp.engine('html', require('ejs').renderFile);\napp.use(logger('dev'));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n    extended: false\n}));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\n\nFood = require('./routes/foods');\n\nmongoose.connect('mongodb://localhost/cutcal');\nvar db = mongoose.connection;\n\napp.get('/', function(req, res){\n  res.send('Please use /api/foods');\n});\n\napp.get('/api/foods', function(req, res){\n  Food.getFoods(function(err, foods){\n    if (err) { throw err; }\n    res.json(foods);\n  });\n});\n\napp.listen(3000);\nconsole.log('running on port 3000');\n</code></pre>\n\n<p><strong>foods.js</strong></p>\n\n<pre><code>var mongoose = require('mongoose');\n\nvar foodSchema = mongoose.Schema({\n  name: {\n    type: String,\n    require: true\n  }\n});\n\nvar Food = module.exports = mongoose.model('Food', foodSchema);\n\nmodule.exports.getFoods = function(callback, limit){\n  Food.find(callback).limit(limit);\n};\n</code></pre>\n"}, {"tags": ["html", "css", "angular", "typescript", "angular-directive"], "comments": [{"owner": {"reputation": 441, "user_id": 5666637, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ae07aa09d6f41b6ae0b48c4ceaf92cbf?s=128&d=identicon&r=PG&f=1", "display_name": "Xenohs", "link": "https://stackoverflow.com/users/5666637/xenohs"}, "reply_to_user": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1483544375, "post_id": 41452208, "comment_id": 70140805, "body": "@isherwood I added the other directive and a small explanation of why it wasn&#39;t working for me. It does work when I have the ReadMoreDirective set on a parent div of the ReadMoreTriggerDirective but in this case they are sibling div&#39;s."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483544394, "post_id": 41452208, "comment_id": 70140816, "body": "Where and how do you add <code>ReadMoreTriggerDirective</code> to the DOM? I can&#39;t find <code>appReadMoreTrigger</code> (the selector of the directive) anywhere in your code."}, {"owner": {"reputation": 441, "user_id": 5666637, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ae07aa09d6f41b6ae0b48c4ceaf92cbf?s=128&d=identicon&r=PG&f=1", "display_name": "Xenohs", "link": "https://stackoverflow.com/users/5666637/xenohs"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483544700, "post_id": 41452208, "comment_id": 70141049, "body": "@G&#252;nterZ&#246;chbauer Sorry I forgot to re-add it to my code above. I added the appReadMoreTrigger selector to the button."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483544931, "post_id": 41452208, "comment_id": 70141216, "body": "There are multiple <code>ReadMoreDirective</code>s. Which one do you want to address?"}, {"owner": {"reputation": 441, "user_id": 5666637, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ae07aa09d6f41b6ae0b48c4ceaf92cbf?s=128&d=identicon&r=PG&f=1", "display_name": "Xenohs", "link": "https://stackoverflow.com/users/5666637/xenohs"}, "edited": false, "score": 0, "creation_date": 1483545052, "post_id": 41452208, "comment_id": 70141297, "body": "If possible, I would like to activate both of them with one click. So when I click the button, both will open or close."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1483545339, "post_id": 41452208, "comment_id": 70141494, "body": "There are many ways. How many <code>appReadMore</code> could there be? Only 2 or a lot more?"}, {"owner": {"reputation": 441, "user_id": 5666637, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ae07aa09d6f41b6ae0b48c4ceaf92cbf?s=128&d=identicon&r=PG&f=1", "display_name": "Xenohs", "link": "https://stackoverflow.com/users/5666637/xenohs"}, "edited": false, "score": 0, "creation_date": 1483545784, "post_id": 41452208, "comment_id": 70141820, "body": "There will only be two <code>appReadMore</code> selectors and one <code>appReadMoreTrigger</code> button per item in the <code>*ngFor</code> loop."}], "answers": [{"comments": [{"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1483481289, "post_id": 41453098, "comment_id": 70112732, "body": "The function should toggle component properties (<code>isClosed</code>), not classes. That&#39;s not &quot;the Angular way&quot;."}, {"owner": {"reputation": 725, "user_id": 3736990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b36179cc3350851f97e62f728b8b9b?s=128&d=identicon&r=PG", "display_name": "ndcweb", "link": "https://stackoverflow.com/users/3736990/ndcweb"}, "reply_to_user": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1483481460, "post_id": 41453098, "comment_id": 70112806, "body": "Yeah, but the button is not in the scope of the directive. Anyway, I was just trying to help"}], "tags": [], "owner": {"reputation": 725, "user_id": 3736990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b36179cc3350851f97e62f728b8b9b?s=128&d=identicon&r=PG", "display_name": "ndcweb", "link": "https://stackoverflow.com/users/3736990/ndcweb"}, "is_accepted": false, "score": -1, "last_activity_date": 1483480970, "creation_date": 1483480970, "answer_id": 41453098, "question_id": 41452208, "link": "https://stackoverflow.com/questions/41452208/how-can-i-assign-a-click-event-to-an-element-outside-a-directive/41453098#41453098", "title": "How can I assign a click event to an element outside a directive?", "body": "<p>Try something like this on button click event:</p>\n\n<pre><code>document.querySelectorAll('[appReadMore]').classList.toggle('truncate-text')\n</code></pre>\n"}], "owner": {"reputation": 441, "user_id": 5666637, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ae07aa09d6f41b6ae0b48c4ceaf92cbf?s=128&d=identicon&r=PG&f=1", "display_name": "Xenohs", "link": "https://stackoverflow.com/users/5666637/xenohs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483545142, "creation_date": 1483476924, "last_edit_date": 1483545142, "question_id": 41452208, "link": "https://stackoverflow.com/questions/41452208/how-can-i-assign-a-click-event-to-an-element-outside-a-directive", "title": "How can I assign a click event to an element outside a directive?", "body": "<p>I currently have a custom directive that truncates the text if it's longer than 3 lines. Right now it works if you click directly on the text itself but I would like to assign the click event to a button. This is my current code:</p>\n\n<pre><code>@Directive({\n  selector: '[appReadMore]'\n})\nexport class ReadMoreDirective {\n\n  constructor() { }\n\n  @HostBinding('class.truncate-text') get opened() {\n    return this.isClosed;\n  }\n  @HostListener('click') open() {\n    this.isClosed = (this.isClosed === true ? false : true);\n  }\n\n  private isClosed = true;\n\n}\n</code></pre>\n\n<p>In my html file I have: </p>\n\n<pre><code>&lt;div class=\"container\" *ngFor=\"let book of books\"&gt;\n  &lt;div&gt;\n    &lt;p appReadMore&gt;\n      {{Text 1}}\n    &lt;/p&gt;\n    &lt;p appReadMore&gt;\n      {{Text 2}}\n    &lt;/p&gt;\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;button appReadMoreTrigger&gt;Read more&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and my css: </p>\n\n<pre><code>.truncate-text {\n   overflow: hidden;\n   display: -webkit-box;\n   -webkit-line-clamp: 3;\n   -webkit-box-orient: vertical;\n}\n</code></pre>\n\n<p>When I click on each individual <code>&lt;p&gt;</code> content the <code>truncate-text</code> class is applied and removed every other click but I would like that to happen to both <code>&lt;p&gt;</code> tags when I click on the Read More button instead.</p>\n\n<p>I tried creating a button directive to set the ReadMoreDirective isClosed value to true/false but it doesn't seem to work correctly (maybe because it's not in the scope of ReadMoreDirective?):</p>\n\n<pre><code>@Directive({\n  selector: '[appReadMoreTrigger]',\n})\nexport class ReadMoreTriggerDirective{\n\n  constructor(private readMore:ReadMoreDirective) {}\n\n  @HostListener('click') open() { \n    this.readMore.open();\n  }\n}\n</code></pre>\n\n<p>When I try this it throws an error saying \"No provider for appReadMoreDirective\" and when I do put it in the list of providers, it seems like it creates a new ReadMoreDirective instance.</p>\n\n<p>Thanks </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2569, "user_id": 1804496, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/019cc474134664e2fc7f50068a1aa33d?s=128&d=identicon&r=PG", "display_name": "Zack", "link": "https://stackoverflow.com/users/1804496/zack"}, "edited": false, "score": 0, "creation_date": 1483474299, "post_id": 41451507, "comment_id": 70109511, "body": "Can you include some code to show your actual usage of the TimeoutService class?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1483474482, "post_id": 41451507, "comment_id": 70109608, "body": "Just as a best practice, I would advise you always initialize your variables. In the case of the timer (since you are checking for its existence later), I would initialize it to <code>null</code> (i.e. <code>private timer = null;</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 1101, "user_id": 887164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWP3O.jpg?s=128&g=1", "display_name": "Larry Williamson", "link": "https://stackoverflow.com/users/887164/larry-williamson"}, "is_accepted": false, "score": 1, "last_activity_date": 1483474499, "creation_date": 1483474499, "answer_id": 41451603, "question_id": 41451507, "link": "https://stackoverflow.com/questions/41451507/cleartimeout-fails-sporadically/41451603#41451603", "title": "clearTimeout fails sporadically", "body": "<p>I would move the call to <code>clearTimer</code> into the <code>setTimer</code> function and see if that helps.</p>\n"}, {"comments": [{"owner": {"reputation": 589, "user_id": 5661048, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/535f66d832e4f118fc590f1487076490?s=128&d=identicon&r=PG&f=1", "display_name": "Nat Webb", "link": "https://stackoverflow.com/users/5661048/nat-webb"}, "edited": false, "score": 0, "creation_date": 1483476211, "post_id": 41451637, "comment_id": 70110443, "body": "Thank you for your thoughts, I&#39;ve integrated them into the code as best practices."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": 2, "last_activity_date": 1483474615, "creation_date": 1483474615, "answer_id": 41451637, "question_id": 41451507, "link": "https://stackoverflow.com/questions/41451507/cleartimeout-fails-sporadically/41451637#41451637", "title": "clearTimeout fails sporadically", "body": "<p>In your <code>clearTimeout</code> function, you not only want to clear the timer, but you also want to reset your <code>timer</code> variable:</p>\n\n<pre><code>public clearTimer() {\n    clearTimeout(this.timer);\n    this.timer = null; // &lt;-- You also want your variable to become null here.\n}\n</code></pre>\n\n<p>Then, any code that runs after a call to <code>clearTimer()</code> will correctly evaluate the <code>timer</code> variable as <code>null</code> which correctly indicates that no timer exists. Simply stopping the running timer isn't enough for your wrapper.</p>\n\n<p>Also (FYI), as I said in the comments, it's a very good best-practice to initialize all your variables so no \"surprise\" values appear out of no where. </p>\n\n<pre><code> private timer;\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code> private timer = null;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 589, "user_id": 5661048, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/535f66d832e4f118fc590f1487076490?s=128&d=identicon&r=PG&f=1", "display_name": "Nat Webb", "link": "https://stackoverflow.com/users/5661048/nat-webb"}, "edited": false, "score": 0, "creation_date": 1483476005, "post_id": 41451663, "comment_id": 70110345, "body": "Got it in one! Thanks very much."}], "tags": [], "owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "is_accepted": true, "score": 6, "last_activity_date": 1483475119, "last_edit_date": 1483475119, "creation_date": 1483474768, "answer_id": 41451663, "question_id": 41451507, "link": "https://stackoverflow.com/questions/41451507/cleartimeout-fails-sporadically/41451663#41451663", "title": "clearTimeout fails sporadically", "body": "<p>In <code>refreshTimer</code> you take care of calling <code>this.clearTimer()</code> before calling <code>this.setTimer()</code>. </p>\n\n<p>However, in <code>startTimer</code>, you do not call <code>this.clearTimer()</code>. So if the calling code calls <code>startTimer</code> more than once without doing anything that calls <code>this.clearTimer</code> in between, you're going to start multiple timeouts, but <strong>only the last one will be remembered by your class and cancelled</strong> when <code>this.clearTimer</code> is called again.</p>\n"}], "owner": {"reputation": 589, "user_id": 5661048, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/535f66d832e4f118fc590f1487076490?s=128&d=identicon&r=PG&f=1", "display_name": "Nat Webb", "link": "https://stackoverflow.com/users/5661048/nat-webb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 41451663, "answer_count": 3, "score": 4, "last_activity_date": 1483475119, "creation_date": 1483474092, "question_id": 41451507, "link": "https://stackoverflow.com/questions/41451507/cleartimeout-fails-sporadically", "title": "clearTimeout fails sporadically", "body": "<p>I'm trying to manage a timer in an Angular 2 environment, and clearTimeout seems to only work correctly about half the time. I am writing in TypeScript.</p>\n\n<p>I keep the timer in its own service:</p>\n\n<pre><code>export class TimeoutService {\n    constructor(\n        private router: Router,\n        private httpService: HttpService\n    ) {}\n\n    //Properties\n    private timer;\n\n    //Methods\n    public clearTimer() {\n        clearTimeout(this.timer);\n    }\n\n    private logOut() {\n        return this.httpService.Post('api/session/logout', '');\n    }\n\n    private redirectToTimeoutPage() {\n        this.router.navigate(['/timeout']);\n    }\n\n    public refreshTimer() {\n        console.log('refreshing timer');\n\n        if (this.timer) {\n            this.clearTimer();\n            this.setTimer();\n        }\n    }\n\n    public startTimer() {\n        this.setTimer();\n    }\n\n    private setTimer() {\n        this.timer = setTimeout(() =&gt; {\n            this.logOut()\n                .then(() =&gt; {\n                    this.clearTimer();\n                    this.redirectToTimeoutPage();\n                });\n        }, 30000);\n    }\n}\n</code></pre>\n\n<p>I know from the console.log in the refreshTimer method that it is being called when I expect it to be, and not otherwise. However, most of the time, earlier timers will not be canceled by the clearTimeout call, and will fire once their thirty seconds is up even though they should have been replaced by a new timer.</p>\n\n<p>I've been through the other SO questions about this and none applies to my situation as far as I can see.</p>\n\n<p>The one clue I've got, which I can't decipher, is that if I remove the call to <code>this.setTimer()</code> within refreshTimer, then the clearTimeout call seems to work fine. In other words, creating a new timer is somehow causing the old one to survive. What am I missing here?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 12, "last_activity_date": 1483474785, "last_edit_date": 1483474785, "creation_date": 1483473740, "answer_id": 41451435, "question_id": 41451365, "link": "https://stackoverflow.com/questions/41451365/are-global-variables-accessible-in-angular-2-html-template-directly/41451435#41451435", "title": "Are global variables accessible in Angular 2 html template directly?", "body": "\n\n<p>No, the scope for code in the template is the component instance. You need to assign the value to a field in the component, or add a getter or method that forwards to the global variable in order to be able to use it from the template.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import { AppSettings } from '../../../app.settings';\n\n...\nexport class MyComponent {\n  get dateFormat() {\n    return AppSettings.DateFormat;\n  }\n}\n</code></pre>\n\n<p>then you can use it like</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>&lt;input [(ngModel)]=\"Holiday\" [date-format]=\"dateFormat\"/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1483475087, "post_id": 41451657, "comment_id": 70109899, "body": "Note you could use exported constants in that AppConfig file as well if you&#39;re more comfortable with that."}], "tags": [], "owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "is_accepted": false, "score": 1, "last_activity_date": 1483474724, "creation_date": 1483474724, "answer_id": 41451657, "question_id": 41451365, "link": "https://stackoverflow.com/questions/41451365/are-global-variables-accessible-in-angular-2-html-template-directly/41451657#41451657", "title": "Are global variables accessible in Angular 2 html template directly?", "body": "<p>To the best of my knowledge, no, and that's by design. Templates are hooked up in conjunction with components, that's how they derive their scope and thereby access to bindable data. It's possible it could be hacked around, but even if you figure it out, this is a path you should not follow. </p>\n\n<p>I do this sort of thing with a class:</p>\n\n<pre><code>class AppConfig {}\n\nAppConfig.Globals = {\n    TEST_VAL: 'hey now here is the value'\n};\nexport { AppConfig }\n</code></pre>\n\n<p>And then use it like so:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { AppConfig } from '../../app/app.config';\n\nclass HomeComponent {\n    constructor() {\n        this.test_val = AppConfig.Globals.TEST_VAL;\n    }\n}\n\nHomeComponent.annotations = [\n    new Component ( {\n       templateUrl: './views/home/home.component.html'\n    } )\n];\n\nexport { HomeComponent }\n</code></pre>\n\n<p>In the template:</p>\n\n<pre><code>{{test_val}}\n</code></pre>\n\n<p>Works well for me. </p>\n"}, {"tags": [], "owner": {"reputation": 6967, "user_id": 5735030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8xypv.jpg?s=128&g=1", "display_name": "Alexandre Annic", "link": "https://stackoverflow.com/users/5735030/alexandre-annic"}, "is_accepted": false, "score": 4, "last_activity_date": 1561386045, "last_edit_date": 1561386045, "creation_date": 1525249153, "answer_id": 50130031, "question_id": 41451365, "link": "https://stackoverflow.com/questions/41451365/are-global-variables-accessible-in-angular-2-html-template-directly/50130031#50130031", "title": "Are global variables accessible in Angular 2 html template directly?", "body": "<p>It seems hacky but you can use pipe. It saves you from repeating injection or variable binding for each component.</p>\n\n<pre><code>@Pipe({\n    name: 'settings',\n})\nexport class GlobalVariablePipe implements PipeTransform {\n\n    transform(value: any): object {\n        return AppSettings;\n    }\n}\n</code></pre>\n\n<p>Then, once imported in your module, you can simply use the pipe as follows:</p>\n\n<pre><code>{{(''|settings).DateFormat}}\n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 5179734, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b0c8d87da07c16535e5a37410b1c08db?s=128&d=identicon&r=PG&f=1", "display_name": "NoStressDeveloper", "link": "https://stackoverflow.com/users/5179734/nostressdeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7975, "favorite_count": 1, "accepted_answer_id": 41451435, "answer_count": 3, "score": 11, "last_activity_date": 1561386045, "creation_date": 1483473458, "last_edit_date": 1545312529, "question_id": 41451365, "link": "https://stackoverflow.com/questions/41451365/are-global-variables-accessible-in-angular-2-html-template-directly", "title": "Are global variables accessible in Angular 2 html template directly?", "body": "<p>So I put in app.settings like</p>\n\n<pre><code>public static get DateFormat(): string { return 'MM/DD/YYYY';}\n</code></pre>\n\n<p>and then in one of my html template of a component I want to do something like this.</p>\n\n<pre><code>&lt;input [(ngModel)]=\"Holiday\" [date-format]=\"AppSettings.DateFormat\"/&gt;\n</code></pre>\n\n<p>In component I have </p>\n\n<pre><code>import { AppSettings } from '../../../app.settings';\n</code></pre>\n\n<p>Right now it's not accessible like this in html template. Is there any way?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1483470495, "post_id": 41450568, "comment_id": 70107727, "body": "<a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/cookbook/component-communication.h&zwnj;&#8203;tml</a>"}, {"owner": {"reputation": 15296, "user_id": 3508656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/I5vvG.jpg?s=128&g=1", "display_name": "Madhu Ranjan", "link": "https://stackoverflow.com/users/3508656/madhu-ranjan"}, "edited": false, "score": 0, "creation_date": 1483470779, "post_id": 41450568, "comment_id": 70107881, "body": "you may add a method in your <code>AuthenticationService</code>, which returns current user name like you are returning if the user is authenticated?"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1483471019, "post_id": 41450568, "comment_id": 70108006, "body": "Thanks but I have the username, because, as I mentioned, I&#39;m able to console.log it. My question is how to pass it from one component to another."}], "answers": [{"tags": [], "owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1483472163, "creation_date": 1483472163, "answer_id": 41451047, "question_id": 41450568, "link": "https://stackoverflow.com/questions/41450568/angular2-passing-value-from-one-component-to-another/41451047#41451047", "title": "Angular2: Passing Value from One Component to Another", "body": "<p>make use of @input tag in angular2 this will help you pass information between  components</p>\n\n<p>Look at this link for ref</p>\n\n<p><a href=\"http://www.thoughtdelimited.org/thoughts/post.cfm/learning-angular-2-tour-of-heroes-tutorial-lesson-5\" rel=\"nofollow noreferrer\">http://www.thoughtdelimited.org/thoughts/post.cfm/learning-angular-2-tour-of-heroes-tutorial-lesson-5</a></p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9903"}, "edited": false, "score": 0, "creation_date": 1483474216, "post_id": 41451160, "comment_id": 70109473, "body": "@BKD the same thing applies. in your component, instead of console.logging the username, store it in a variable and then pass it to the child/nested component"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 1, "creation_date": 1483474899, "post_id": 41451160, "comment_id": 70109810, "body": "Will try that. Thanks, Rudolph."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9903"}, "is_accepted": false, "score": 1, "last_activity_date": 1483472588, "creation_date": 1483472588, "answer_id": 41451160, "question_id": 41450568, "link": "https://stackoverflow.com/questions/41450568/angular2-passing-value-from-one-component-to-another/41451160#41451160", "title": "Angular2: Passing Value from One Component to Another", "body": "<p>In the login method of your AuthenticationService you're storing the user object in local storage, you should also store it in the authentication service so that when it is injected into the component, you are able to access the user object.</p>\n\n<p>You will need to add another method called getUsername to the AuthenticationService to get the username.</p>\n\n<p>It will look something like this:</p>\n\n<pre><code>@Injectable()\nexport class AuthenticationService {\n    private username: string;\n    constructor(private http: Http) {}\n\n    login(username: string, password: string) {\n        return this.http.post('/api/authenticate', JSON.stringify({ username: username, password: password }))\n            .map((response: Response) =&gt; {\n                // login successful if there's a jwt token in the response\n                let user = response.json();\n                if (user &amp;&amp; user.token) {\n                    // store user details and jwt token in local storage to keep user logged in between page refreshes\n                    localStorage.setItem('currentUser', JSON.stringify(user));\n\n                    // store username\n                    this.username = user.username;\n                }\n            });\n    }\n\n    getUsername(): string {\n        return this.username;\n    }\n</code></pre>\n"}], "owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1483474920, "creation_date": 1483470144, "last_edit_date": 1483474920, "question_id": 41450568, "link": "https://stackoverflow.com/questions/41450568/angular2-passing-value-from-one-component-to-another", "title": "Angular2: Passing Value from One Component to Another", "body": "<p>I have successfully implemented a login service for my Angular 2 app. What I want to do now is provide the username of the logged-in user from that component to a separate component - specifically the chat component.That way I can display the user's name when they are chatting with another user. I'm still a little hazy on how you pass values like this from one component to another in Angular 2. Here is the code from my login component:</p>\n\n<pre><code>import { AuthenticationService } from './../../data/authentication.service';\nimport { AlertService } from './../../data/alert.service';\nimport { Component, OnInit, Output } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'app-login',\n    templateUrl: 'app/views/login/login.component.html',\n    styleUrls: ['app/views/login/login.component.css']\n})\n\nexport class LoginComponent implements OnInit {\n    //@Output() username;\n    model: any = {};\n    loading = false;\n\n    constructor(\n        private router: Router,\n        private authenticationService: AuthenticationService,\n        private alertService: AlertService) { }\n\n    ngOnInit() {\n        // reset login status\n        this.authenticationService.logout();\n    }\n\n    login() {\n        this.loading = true;\n        this.authenticationService.login(this.model.username, this.model.password)\n            .subscribe(\n                data =&gt; {\n                    this.router.navigate(['/']);\n                    console.log('User logged in as: ' + this.model.username);\n                },\n                error =&gt; {\n                    this.alertService.error(error);\n                    this.loading = false;\n                });\n    }\n\n    reqPasswordReset() {\n        let popup = document.getElementById('myPopup');\n        popup.classList.toggle('show');\n    }\n}\n</code></pre>\n\n<p>This component make use of an authentication service, which looks like this:</p>\n\n<pre><code>import { LoginComponent } from './../views/login/login.component';\nimport { ContextMenu } from './../ui/context-menu.component';\nimport { Router, RouterLinkActive } from '@angular/router';\nimport { Injectable } from '@angular/core';\nimport { Http, Headers, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class AuthenticationService {\n\n    constructor(private http: Http) {}\n\n    login(username: string, password: string) {\n        return this.http.post('/api/authenticate', JSON.stringify({ username: username, password: password }))\n            .map((response: Response) =&gt; {\n                // login successful if there's a jwt token in the response\n                let user = response.json();\n                if (user &amp;&amp; user.token) {\n                    // store user details and jwt token in local storage to keep user logged in between page refreshes\n                    localStorage.setItem('currentUser', JSON.stringify(user));\n                }\n            });\n    }\n\n    isAuthenticated() {\n        if (localStorage.getItem('currentUser')) {\n            //console.log('User successfully authenticated...');\n            return true;\n        } else {\n            // console.log('User is not authenticated...');\n            return false;\n        }\n    }\n\n    logout() {\n        // remove user from local storage to log user out\n        localStorage.removeItem('currentUser');\n        console.log('User successfully logged out');\n    }\n}\n</code></pre>\n\n<p>I'm able to successfully log to the console the username, so I know I'm capturing that value. What I'd like to do is now pass that value from \"this.model.username\" to my room component, which currently looks like this:</p>\n\n<pre><code>import { ChatService } from './../chat/chat.service';\nimport { User } from './../../views/user/user';\nimport { Component, OnInit, Input } from '@angular/core';\nimport { AuthenticationService } from './../../data/authentication.service';\nimport { Http, Headers, Response } from '@angular/http';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-room',\n  templateUrl: './room.component.html',\n  styleUrls: ['./room.component.less']\n})\nexport class RoomComponent implements OnInit {\n\n  otherImg = 'app/img/photo-ph.png';\n  // otherImg = 'app/img/portrait-place-holder.svg';\n  model: any;\n  loading = false;\n\n  others = [\n    { id: 1, name: 'John Smith', avatar: 'app/img/photo-ph.png' },\n    { id: 2, name: 'Javier Sanchez', avatar: 'app/img/photo-ph.png' }\n  ];\n\n  user;\n  token;\n  name;\n  nickname;\n\n  constructor(private authenticationService: AuthenticationService,\n              private router: Router,\n              private http: Http,\n              private chatService: ChatService) { }\n\n\n  isLoggedIn() {\n    this.loading = true;\n    if (this.authenticationService.isAuthenticated()) {\n      return true;\n    }\n  }\n\n  gotoChat() {\n    this.chatService.gotoChat(this.user);\n  }\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n\n<p>The view for this component is looping through users (others) and displaying an icon for each \"other\" user. Here is that code:</p>\n\n<pre><code>&lt;div *ngIf=\"isLoggedIn()\" class=\"others\"&gt;\n    &lt;span *ngFor=\"let other of others\"&gt;&lt;i [ngClass]=\"'material-icons'\" (click)=\"gotoChat()\" [routerLink]=\"['/chat']\"&gt;person&lt;/i&gt;&lt;/span&gt;\n    &lt;a [routerLink]=\"['/login']\"&gt;Logout&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The ultimate goal here is for people to see others that are logged in, and be able to initiate a chat with them.</p>\n\n<p>Where I'm stuck is in how to pass the value (this.model.username) that I'm capturing in the login component, down to the room component.</p>\n"}, {"tags": ["c#", "typescript"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1483466346, "post_id": 41449284, "comment_id": 70105530, "body": "are you using <code>Razor</code>?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1483466369, "post_id": 41449284, "comment_id": 70105554, "body": "I see nothing indicating what UI technology you&#39;re using, which will influence what answers you get. Someone added the <code>asp.net-mvc</code> tag, but it wasn&#39;t you, so you should clarify."}, {"owner": {"reputation": 4473, "user_id": 4343318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TQHG.jpg?s=128&g=1", "display_name": "Santiago Hern&#225;ndez", "link": "https://stackoverflow.com/users/4343318/santiago-hern%c3%a1ndez"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1483466647, "post_id": 41449284, "comment_id": 70105697, "body": "@MikeMcCaughan <a href=\"http://stackoverflow.com/questions/tagged/razor\">razor</a> is a different tag (not added)... asp.net-mvc is server side, nothing to do with UI... btw you can use asp.net-mvc without razor"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 4473, "user_id": 4343318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TQHG.jpg?s=128&g=1", "display_name": "Santiago Hern&#225;ndez", "link": "https://stackoverflow.com/users/4343318/santiago-hern%c3%a1ndez"}, "edited": false, "score": 0, "creation_date": 1483467023, "post_id": 41449284, "comment_id": 70105890, "body": "@SantiagoHern&#225;ndez I&#39;m well aware of that, which is why I&#39;m asking the OP to update their question with the appropriate view engine..."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1483467049, "post_id": 41449284, "comment_id": 70105908, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/14866539/how-to-set-javascript-variables-using-mvc4-with-razor\">How to set javascript variables using MVC4 with Razor</a>"}, {"owner": {"reputation": 1651, "user_id": 244385, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ff1f7796781f4024fa0043eeb96a3918?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/244385/ken"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1483467399, "post_id": 41449284, "comment_id": 70106097, "body": "@DanielA.White no it is strictly a typescript class - there is razor files but the razor file grabs this typescript object - which I need to manipulate the internal of so I can get the desired output. See added code."}, {"owner": {"reputation": 1651, "user_id": 244385, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ff1f7796781f4024fa0043eeb96a3918?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/244385/ken"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1483467773, "post_id": 41449284, "comment_id": 70106275, "body": "@MikeMcCaughan see updated code samples. I am asking Typescript   but if it is possible I can perform the same function via the razor file I am all for it. However I think I would have an issue - because the razor loads once but the ts can refresh and filter client side and may not reproduce my desired result."}, {"owner": {"reputation": 1651, "user_id": 244385, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ff1f7796781f4024fa0043eeb96a3918?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/244385/ken"}, "reply_to_user": {"reputation": 4473, "user_id": 4343318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TQHG.jpg?s=128&g=1", "display_name": "Santiago Hern&#225;ndez", "link": "https://stackoverflow.com/users/4343318/santiago-hern%c3%a1ndez"}, "edited": false, "score": 0, "creation_date": 1483467873, "post_id": 41449284, "comment_id": 70106325, "body": "@SantiagoHern&#225;ndez you are correct I did not mention the razor tag on purpose."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1483468416, "post_id": 41449284, "comment_id": 70106647, "body": "TypeScript just compiles to JavaScript, which is then run in the browser. If you want to get data from the server-side (C#) to the client-side (JavaScript), you&#39;ll need to use Razor or some other method (e.g., ajax) to get the information from one to the other. There are many ways of doing so."}], "answers": [{"comments": [{"owner": {"reputation": 1581, "user_id": 2651417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81de0e4d4086e4b57bfad881a3da0d79?s=128&d=identicon&r=PG&f=1", "display_name": "Cem Mutlu", "link": "https://stackoverflow.com/users/2651417/cem-mutlu"}, "edited": false, "score": 1, "creation_date": 1483465916, "post_id": 41449346, "comment_id": 70105277, "body": "I think your answer is missing quotes: this.element.append(&#39;@MyCsharpStaticString&#39;);"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1483466426, "post_id": 41449346, "comment_id": 70105579, "body": "There is nothing in the question that indicates Razor was being used. Is there a reason you assumed that and then edited the question based on your assumption?"}, {"owner": {"reputation": 2710, "user_id": 7193132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3aAPt.jpg?s=128&g=1", "display_name": "Masoud Andalibi", "link": "https://stackoverflow.com/users/7193132/masoud-andalibi"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1483466541, "post_id": 41449346, "comment_id": 70105639, "body": "@MikeMcCaughan hey, he said he had being using MVC With C# tag, i assumed razor involved. might have been a shot in the dark :)"}, {"owner": {"reputation": 1651, "user_id": 244385, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ff1f7796781f4024fa0043eeb96a3918?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/244385/ken"}, "edited": false, "score": 0, "creation_date": 1483468021, "post_id": 41449346, "comment_id": 70106412, "body": "@Valkyriee -  while I have a razor file - client side can be updated and so I need the code to be in the client ts .. if it will go using razor I am open to trying it. BTW: cool moniker .."}, {"owner": {"reputation": 2710, "user_id": 7193132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3aAPt.jpg?s=128&g=1", "display_name": "Masoud Andalibi", "link": "https://stackoverflow.com/users/7193132/masoud-andalibi"}, "reply_to_user": {"reputation": 1651, "user_id": 244385, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ff1f7796781f4024fa0043eeb96a3918?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/244385/ken"}, "edited": false, "score": 0, "creation_date": 1483489630, "post_id": 41449346, "comment_id": 70115302, "body": "@Ken i am afraid mate its impossible without razor, and thanks =)"}], "tags": [], "owner": {"reputation": 2710, "user_id": 7193132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3aAPt.jpg?s=128&g=1", "display_name": "Masoud Andalibi", "link": "https://stackoverflow.com/users/7193132/masoud-andalibi"}, "is_accepted": false, "score": 0, "last_activity_date": 1483465969, "last_edit_date": 1483465969, "creation_date": 1483465498, "answer_id": 41449346, "question_id": 41449284, "link": "https://stackoverflow.com/questions/41449284/use-of-c-static-string-in-a-typescript-class/41449346#41449346", "title": "Use of C# static string in a typescript class", "body": "<p>If it does return a string you can bind it to your JavaScript method like:</p>\n\n<pre><code>&lt;script&gt;\nthis.element.append('@MyCsharpStaticString()');\n&lt;/script&gt;\n</code></pre>\n\n<p>Be sure you have included the model to your razor view. </p>\n"}], "owner": {"reputation": 1651, "user_id": 244385, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ff1f7796781f4024fa0043eeb96a3918?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/244385/ken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483467435, "creation_date": 1483465314, "last_edit_date": 1483467435, "question_id": 41449284, "link": "https://stackoverflow.com/questions/41449284/use-of-c-static-string-in-a-typescript-class", "title": "Use of C# static string in a typescript class", "body": "<p>I have an MVC project that is mixed with TypeScript. I need my TypeScript object to obtain a string from my C# class.</p>\n\n<p>I have a c# static class that produces a string from a <code>StringBuilder</code>. \nI have a typescript class that I need to be able to access this string.\nSo in my constructor of the TypeScript class I would like to be able to:</p>\n\n<pre><code>this.element.append(MyCSharpStaticString);\n</code></pre>\n\n<p>Is there any way that I can do this ? </p>\n\n<p>Relevant Code</p>\n\n<p>cshtml</p>\n\n<pre><code>&lt;div id=\"GridDiv\"&gt;&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    jQuery(function () {        \n         new Jobber.OrdersGrid($('#GridDiv'), {}).init();\n\n         Q.initFullHeightGridPage($('#GridDiv'));\n\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>typescript :</p>\n\n<pre><code>export class OrdersGrid extends Serenity.EntityGrid&lt;OrdersRow, any&gt; {\n\nprotected getHeaderHtml(reportName) { return OrderHeaderHtml.HtmlHeader(reportName); }\n\n       constructor(container: JQuery) {\n            super(container);\n\n          // Finds this element in the code and adds our HTML\n          this.element.find('.grid-container').prepend(this.getHeaderHtml(\"\"));\n\n        }\n}\n</code></pre>\n"}, {"tags": ["typescript", "import", "typescript2.0"], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 3642206, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/15af9f76f14f7fd274a21b372cdba8c8?s=128&d=identicon&r=PG&f=1", "display_name": "Esmail", "link": "https://stackoverflow.com/users/3642206/esmail"}, "is_accepted": true, "score": 0, "last_activity_date": 1483552944, "creation_date": 1483552944, "answer_id": 41470405, "question_id": 41449038, "link": "https://stackoverflow.com/questions/41449038/import-many-modules-in-a-separate-file-to-be-used-by-another-file/41470405#41470405", "title": "Import many modules in a separate file to be used by another file", "body": "<p>I ended up replacing all <strong>imports</strong> in the file created in step 1 with <strong>exports</strong>. This way there is no need for an extra intermediary file (step 2). Step three from the top is the same though I'm importing from the first file now.</p>\n"}], "owner": {"reputation": 75, "user_id": 3642206, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/15af9f76f14f7fd274a21b372cdba8c8?s=128&d=identicon&r=PG&f=1", "display_name": "Esmail", "link": "https://stackoverflow.com/users/3642206/esmail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 41470405, "answer_count": 1, "score": 0, "last_activity_date": 1483552944, "creation_date": 1483464373, "last_edit_date": 1495540426, "question_id": 41449038, "link": "https://stackoverflow.com/questions/41449038/import-many-modules-in-a-separate-file-to-be-used-by-another-file", "title": "Import many modules in a separate file to be used by another file", "body": "<p>I'm importing many modules from many files. Is there a way to have all the import files in a separate file? I'm using module type: es2015\nexample:</p>\n\n<pre><code>import {...} from '....1';\nimport {...} from '....2';\nimport {...} from '....';\nimport {...} from '....300';\n</code></pre>\n\n<p>I then import this file in the file that I need the imported modules like so:</p>\n\n<pre><code>import * as IMPORTS from '...'\n</code></pre>\n\n<p>Needless to say the references are not being found.  </p>\n\n<p>I also have tried the suggested way in <a href=\"https://stackoverflow.com/questions/33702949/typescript-read-import-statements-from-seperate-file&#39;%3E\">this stackoverlow thread</a> with no luck.</p>\n\n<hr>\n\n<p>Here's what I did so far:</p>\n\n<ol>\n<li>In a separate file have all the import files.    </li>\n<li>In another file have ///<code>&lt;reference path='path to file above' /&gt;</code> and export * from 'above'.</li>\n<li>In the file I want to use all those imports, have import * as ...\nfrom 'file from step 2'.</li>\n</ol>\n\n<p>I get a not found error on any of those modules that I try to import.</p>\n"}, {"tags": ["node.js", "angular", "typescript", "angular2-observables"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1483464291, "post_id": 41448950, "comment_id": 70104433, "body": "Are you sure that the observable returns an array? Can you check the network tab?"}, {"owner": {"reputation": 47160, "user_id": 573032, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/1nGGV.jpg?s=128&g=1", "display_name": "Roman C", "link": "https://stackoverflow.com/users/573032/roman-c"}, "edited": false, "score": 0, "creation_date": 1483464815, "post_id": 41448950, "comment_id": 70104705, "body": "What type of object?"}, {"owner": {"reputation": 509, "user_id": 1700969, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/9fa61e910c53aae8db364eaab6fb91c8?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1700969/sebastian"}, "edited": false, "score": 1, "creation_date": 1483465510, "post_id": 41448950, "comment_id": 70105053, "body": "try <code>{{lines | async | json}}</code> to see if your Observable really contains the expected data. Might help you to find the root of the problem. Here is an example: <a href=\"http://plnkr.co/edit/XqV1gYcYBDgquvh5CGKR?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/XqV1gYcYBDgquvh5CGKR?p=preview</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2602, "user_id": 3072366, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e05703551a89ed28e6950c498b6eea2c?s=128&d=identicon&r=PG&f=1", "display_name": "Pezetter", "link": "https://stackoverflow.com/users/3072366/pezetter"}, "is_accepted": false, "score": 4, "last_activity_date": 1483465780, "last_edit_date": 1495541857, "creation_date": 1483465358, "answer_id": 41449295, "question_id": 41448950, "link": "https://stackoverflow.com/questions/41448950/ngfor-with-observables/41449295#41449295", "title": "ngFor with Observables?", "body": "<p>Here is an example binding to an observable array. It would be helpful if you posted your controller/component code too.</p>\n\n<pre><code>@Component({\n   selector: 'my-app',\n   template: `\n   &lt;div&gt;\n     &lt;h2&gt;Wikipedia Search&lt;/h2&gt;\n     &lt;input type=\"text\" [formControl]=\"term\"/&gt;\n     &lt;ul&gt;\n       &lt;li *ngFor=\"let item of items | async\"&gt;{{item}}&lt;/li&gt;\n     &lt;/ul&gt;\n   &lt;/div&gt;\n `\n })\nexport class App {\n\n   items: Observable&lt;Array&lt;string&gt;&gt;;\n   term = new FormControl();\n\n   constructor(private wikipediaService: WikipediaService) {\n        this.items = this.term.valueChanges\n             .debounceTime(400)\n             .distinctUntilChanged()\n             .switchMap(term =&gt; this.wikipediaService.search(term));\n    }\n }\n</code></pre>\n\n<p><a href=\"http://blog.thoughtram.io/angular/2016/01/07/taking-advantage-of-observables-in-angular2-pt2.html\" rel=\"nofollow noreferrer\">http://blog.thoughtram.io/angular/2016/01/07/taking-advantage-of-observables-in-angular2-pt2.html</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/37669871/using-an-array-from-observable-object-with-ngfor-and-async-pipe-angular-2\">Using an array from Observable Object with ngFor and Async Pipe Angular 2</a></p>\n\n<p>The answer to the question above is this:</p>\n\n<pre><code>// in the service\ngetItems(){\n    return Observable.interval(2200).map(i=&gt; [{name: 'obj 1'},{name: 'obj 2'}])\n}\n\n// in the controller\nItems: Observable&lt;Array&lt;any&gt;&gt;\nngOnInit() {\n    this.items = this._itemService.getItems();\n}\n\n // in template\n &lt;div *ngFor='let item of items | async'&gt;\n      {{item.name}}\n &lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8112, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1483465780, "creation_date": 1483464060, "question_id": 41448950, "link": "https://stackoverflow.com/questions/41448950/ngfor-with-observables", "title": "ngFor with Observables?", "body": "<p>I am converting an angular 2 component to use asynchronous data sources. </p>\n\n<p>I had a <code>&lt;div class=\"col s4\" *ngFor=\"let line of lines; let i = index;\"&gt;</code> which worked when <code>lines</code> was an Array of Objects, however, lines is now an Observable of an Array of Objects. </p>\n\n<p>This causes error:</p>\n\n<blockquote>\n  <p>Cannot find a differ supporting object '[object Object]' of type 'object'. NgFor only supports binding to Iterables such as Arrays.</p>\n</blockquote>\n\n<p>I tried <code>&lt;div class=\"col s4\" *ngFor=\"let line of lines | async; let i = index;\"&gt;</code> however, that didn't seem to make a difference. </p>\n\n<p>How should I deal with this?</p>\n"}, {"tags": ["angular", "asynchronous", "typescript", "foreach"], "answers": [{"comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 2534, "user_id": 2524749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/bjsIn.png?s=128&g=1", "display_name": "Bhetzie", "link": "https://stackoverflow.com/users/2524749/bhetzie"}, "edited": false, "score": 0, "creation_date": 1483467741, "post_id": 41449099, "comment_id": 70106263, "body": "@Bhetzie Glad I could help!"}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": true, "score": 4, "last_activity_date": 1483467707, "last_edit_date": 1483467707, "creation_date": 1483464597, "answer_id": 41449099, "question_id": 41447976, "link": "https://stackoverflow.com/questions/41447976/angular-2-call-function-after-for-each/41449099#41449099", "title": "Angular 2 Call Function After For Each", "body": "<p>You can use <code>forkJoin</code> for this situation; it runs all observable sequences in parallel  before going into the callback. So for this you need an array of observables.</p>\n\n<pre><code>processData(){      \n  var observableArray:any = [];\n  this.myArray.forEach((item:any, index:any) =&gt; {\n\n    let urlSearchParams = new URLSearchParams();\n\n    //code that sets up my urlSearchParam\n    let body = urlSearchParams.toString();\n\n    observableArray.push( this.putService.putObjectWithBody(\"myapicall\", body) );\n  }\n\n  Observable.forkJoin(observableArray)\n        .subscribe(data =&gt; {\n            //this.myFunction(data[0], data[1]...);\n            this.redirect();\n        });\n}\n</code></pre>\n\n<p>Ref: <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/forkjoin.md\" rel=\"nofollow noreferrer\">https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/forkjoin.md</a></p>\n"}], "owner": {"reputation": 2534, "user_id": 2524749, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/bjsIn.png?s=128&g=1", "display_name": "Bhetzie", "link": "https://stackoverflow.com/users/2524749/bhetzie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2100, "favorite_count": 0, "accepted_answer_id": 41449099, "answer_count": 1, "score": 3, "last_activity_date": 1483467707, "creation_date": 1483460912, "last_edit_date": 1483464697, "question_id": 41447976, "link": "https://stackoverflow.com/questions/41447976/angular-2-call-function-after-for-each", "title": "Angular 2 Call Function After For Each", "body": "<p>I'm making an api call in a for each loop in angular 2. Once all of the calls are made I want to call another function that redirects the user via router. </p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>processData(){\nvar itemsToMove = this.myArray.length;\n\nthis.myArray.forEach((item:any, index:any) =&gt; {\n\nlet urlSearchParams = new URLSearchParams();\n\n//code that sets up my urlSearchParam\nlet body = urlSearchParams.toString();\nitemsToMove--;\n\nthis.putService.putObjectWithBody(\"myapicall\", body).subscribe(data =&gt; {\n if (itemsToMove === 0) {\n this.redirect();\n  }\n});\n}\n}\n</code></pre>\n\n<p>Is there a better way that I can ensure that the async data is processed before calling <code>this.redirect()</code>? This works, but it seems inefficient and messy</p>\n"}, {"tags": ["typescript", "tslint"], "comments": [{"owner": {"reputation": 2828, "user_id": 2445694, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ygIbI.jpg?s=128&g=1", "display_name": "luanped", "link": "https://stackoverflow.com/users/2445694/luanped"}, "edited": false, "score": 0, "creation_date": 1483460477, "post_id": 41447602, "comment_id": 70102028, "body": "Which IDE do you use? it can certainly be changed in some if not all"}], "answers": [{"tags": [], "owner": {"reputation": 2828, "user_id": 2445694, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ygIbI.jpg?s=128&g=1", "display_name": "luanped", "link": "https://stackoverflow.com/users/2445694/luanped"}, "is_accepted": false, "score": 8, "last_activity_date": 1483461431, "last_edit_date": 1483461431, "creation_date": 1483460832, "answer_id": 41447949, "question_id": 41447602, "link": "https://stackoverflow.com/questions/41447602/tslint-remove-missing-whitespace-rule-on-import/41447949#41447949", "title": "TSLINT: Remove Missing Whitespace rule on Import", "body": "<p>There is not a rule targeting the specific case you describe, but there is a more general rule: <a href=\"https://palantir.github.io/tslint/rules/whitespace/\" rel=\"noreferrer\">Whitespace</a></p>\n\n<p>And in the case you are using IntelliJ or Webstorm the editor settings  can be changed at: Settings -> Editor -> Code Style -> JavaScript -> Spaces -> Within ES6 Import/export braces</p>\n"}, {"tags": [], "owner": {"reputation": 15708, "user_id": 128662, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e25c1b1285205a14ec422c6eb9ab8736?s=128&d=identicon&r=PG", "display_name": "Cyril Gandon", "link": "https://stackoverflow.com/users/128662/cyril-gandon"}, "is_accepted": false, "score": 4, "last_activity_date": 1483462232, "last_edit_date": 1483462232, "creation_date": 1483461798, "answer_id": 41448285, "question_id": 41447602, "link": "https://stackoverflow.com/questions/41447602/tslint-remove-missing-whitespace-rule-on-import/41448285#41448285", "title": "TSLINT: Remove Missing Whitespace rule on Import", "body": "<p>To deactivate a rule, you need to modify your tslint.json.</p>\n\n<p>You have to remove <code>check-module</code> from the array in the <code>whitespace</code> property.</p>\n\n<p><a href=\"https://palantir.github.io/tslint/rules/whitespace/\" rel=\"nofollow noreferrer\">See the documentation:</a></p>\n\n<blockquote>\n  <p>\"check-module\" checks for whitespace in import &amp; export statements.</p>\n</blockquote>\n\n<p>So at the end you should have something like that:</p>\n\n<p><strong>tslint.json</strong> (other rules not appearing)</p>\n\n<pre><code>{\n \"rules\": {\n   \"whitespace\": [\n      true,\n      \"check-branch\",\n      \"check-decl\",\n      \"check-operator\",\n      \"check-separator\",\n      \"check-type\",\n      \"check-typecast\"\n    ]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15708, "user_id": 128662, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e25c1b1285205a14ec422c6eb9ab8736?s=128&d=identicon&r=PG", "display_name": "Cyril Gandon", "link": "https://stackoverflow.com/users/128662/cyril-gandon"}, "edited": false, "score": 0, "creation_date": 1483462471, "post_id": 41448394, "comment_id": 70103306, "body": "Using Visual Studio Code for Typescript is a lifesaver. Basically, the same guys doing typescript have done Visual Studio Code (kind of), so you can&#39;t go wrong with it."}, {"owner": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "reply_to_user": {"reputation": 15708, "user_id": 128662, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e25c1b1285205a14ec422c6eb9ab8736?s=128&d=identicon&r=PG", "display_name": "Cyril Gandon", "link": "https://stackoverflow.com/users/128662/cyril-gandon"}, "edited": false, "score": 0, "creation_date": 1483463340, "post_id": 41448394, "comment_id": 70103848, "body": "Does Visual Studio run on Debian? I honestly don&#39;t know."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 1, "creation_date": 1483466156, "post_id": 41448394, "comment_id": 70105413, "body": "Visual Studio Code runs on Ubuntu 14.04 (and even is open source), unlike regular Visual Studio"}], "tags": [], "owner": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "is_accepted": false, "score": 2, "last_activity_date": 1483462151, "creation_date": 1483462151, "answer_id": 41448394, "question_id": 41447602, "link": "https://stackoverflow.com/questions/41447602/tslint-remove-missing-whitespace-rule-on-import/41448394#41448394", "title": "TSLINT: Remove Missing Whitespace rule on Import", "body": "<p>I Started this before the previous responses. The first one is great for IJ but that wasn't really the question I asked. The other one Is correct and what I came to as well...</p>\n\n<pre><code>\"whitespace\": [\n  true,\n  \"check-branch\",\n  \"check-decl\",\n  \"check-operator\",\n  \"check-separator\",\n  \"check-type\"\n]\n</code></pre>\n\n<p>As long as you leave out <code>\"check-module\"</code> you shouldn't get those messages.</p>\n\n<p>But there is also another little nuance if you are using Angular. Angular declares this rule as well. So even if you disable this in TS lint the Angular Style guide will cause an error as well if you are using Codealyzer. Again the first response of changing IJ is still valid (Although my mind is blown IJ doesn't have proper defaults for TS). In that case you will need to make sure to include...</p>\n\n<p><code>\"import-destructuring-spacing\": false,</code></p>\n"}, {"tags": [], "owner": {"reputation": 3409, "user_id": 856468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LAmql.jpg?s=128&g=1", "display_name": "malix", "link": "https://stackoverflow.com/users/856468/malix"}, "is_accepted": false, "score": 3, "last_activity_date": 1507705192, "last_edit_date": 1507705192, "creation_date": 1501525356, "answer_id": 45422785, "question_id": 41447602, "link": "https://stackoverflow.com/questions/41447602/tslint-remove-missing-whitespace-rule-on-import/45422785#45422785", "title": "TSLINT: Remove Missing Whitespace rule on Import", "body": "<p>I have </p>\n\n<pre><code>\"whitespace\": [\n  true,\n  \"check-branch\",\n  \"check-decl\",\n  \"check-operator\",\n  \"check-separator\",\n  \"check-type\",\n  \"check-typecast\"\n],\n\"import-destructuring-spacing\": true,\n\"import-spacing\": true\n</code></pre>\n\n<p>and in IJ/WebStorm, enable it in Prefs > Editor > Code Style > TypeScript > Spaces > Within > ES6 import/export braces</p>\n"}], "owner": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9405, "favorite_count": 2, "answer_count": 4, "score": 8, "last_activity_date": 1507705192, "creation_date": 1483459682, "question_id": 41447602, "link": "https://stackoverflow.com/questions/41447602/tslint-remove-missing-whitespace-rule-on-import", "title": "TSLINT: Remove Missing Whitespace rule on Import", "body": "<p>TSLint requires an import like this...</p>\n\n<p><code>import { RouterModule } from \"@angular/router\";</code></p>\n\n<p>However, my IDE imports everything like this...</p>\n\n<p><code>import {RouterModule} from \"@angular/router\";</code></p>\n\n<p>Now I am sure I can configure the IDE to change this but it would seem to be easier just to turn off this rule. However, I am new to linting and I am not sure where to find the right rule to disable. I still want some enforcement of whitespace (properties etc) but just not this one.</p>\n\n<p>What is the proper setting to turn off just this rule?</p>\n"}, {"tags": ["angular", "typescript", "highcharts"], "answers": [{"comments": [{"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 1, "creation_date": 1555639542, "post_id": 42600166, "comment_id": 98187481, "body": "it still not work for me, it still use online export. is there any setting? can you show the exportChart function parameters?"}], "tags": [], "owner": {"reputation": 1249, "user_id": 2415379, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/55e8b9aba64eb9a19fce7846eef041c2?s=128&d=identicon&r=PG", "display_name": "patz", "link": "https://stackoverflow.com/users/2415379/patz"}, "is_accepted": true, "score": 4, "last_activity_date": 1506530047, "last_edit_date": 1506530047, "creation_date": 1488654656, "answer_id": 42600166, "question_id": 41447288, "link": "https://stackoverflow.com/questions/41447288/how-to-import-highcharts-offline-exporting-in-typescript/42600166#42600166", "title": "how to import highcharts offline-exporting in typescript", "body": "<p>here is a solution </p>\n\n<pre><code>import * as Highcharts from 'highcharts/highstock';\nimport * as HighchartsExporting from 'highcharts/modules/exporting';\nHighchartsExporting(Highcharts);\n</code></pre>\n\n<p>this is good enough to work, a separate require command is not required.</p>\n"}, {"tags": [], "owner": {"reputation": 1486, "user_id": 5171417, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-fPSv8TETmqU/AAAAAAAAAAI/AAAAAAAALmc/UyOO6totRsk/photo.jpg?sz=128", "display_name": "John Samuel", "link": "https://stackoverflow.com/users/5171417/john-samuel"}, "is_accepted": false, "score": 1, "last_activity_date": 1505285143, "last_edit_date": 1505285143, "creation_date": 1505282455, "answer_id": 46189912, "question_id": 41447288, "link": "https://stackoverflow.com/questions/41447288/how-to-import-highcharts-offline-exporting-in-typescript/46189912#46189912", "title": "how to import highcharts offline-exporting in typescript", "body": "<pre><code>import Highcharts from 'highcharts';\nimport exporting from 'highcharts/modules/exporting';\nexporting(Highcharts);\n</code></pre>\n\n<p>The above code worked for me. </p>\n\n<p>To export, use <code>chartName.exportChart()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 4219713, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000962594831/picture?type=large", "display_name": "Hung Le", "link": "https://stackoverflow.com/users/4219713/hung-le"}, "is_accepted": false, "score": 2, "last_activity_date": 1556829197, "creation_date": 1556829197, "answer_id": 55959862, "question_id": 41447288, "link": "https://stackoverflow.com/questions/41447288/how-to-import-highcharts-offline-exporting-in-typescript/55959862#55959862", "title": "how to import highcharts offline-exporting in typescript", "body": "<p>offline export highcharts:</p>\n\n<pre><code>import * as Highcharts from 'highcharts';\nimport exporting from 'highcharts/modules/exporting';\nimport offline from 'highcharts/modules/offline-exporting';\nexporting(Highcharts);\noffline(Highcharts);\n</code></pre>\n"}], "owner": {"reputation": 1249, "user_id": 2415379, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/55e8b9aba64eb9a19fce7846eef041c2?s=128&d=identicon&r=PG", "display_name": "patz", "link": "https://stackoverflow.com/users/2415379/patz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3329, "favorite_count": 2, "accepted_answer_id": 42600166, "answer_count": 3, "score": 4, "last_activity_date": 1557728983, "creation_date": 1483458693, "question_id": 41447288, "link": "https://stackoverflow.com/questions/41447288/how-to-import-highcharts-offline-exporting-in-typescript", "title": "how to import highcharts offline-exporting in typescript", "body": "<p>Tired out the following configurations but they dont seem to work.</p>\n\n<pre><code>import * as Highcharts from 'highcharts/highstock';\n/*import * as HighchartsExporting from 'highcharts/modules/exporting';\nHighchartsExporting(Highcharts);*/\nrequire('highcharts/modules/offline-exporting')(Highcharts);\n</code></pre>\n\n<p>get the following error:\nCannot invoke an expression whose type lacks a call signature. Type '{}' has no compatible call signatures.</p>\n\n<p>anyone knows how to get this working.</p>\n"}, {"tags": ["typescript", "knockout.js", "reset"], "answers": [{"tags": [], "owner": {"reputation": 4311, "user_id": 1669370, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/E2t7h.jpg?s=128&g=1", "display_name": "Regis Portalez", "link": "https://stackoverflow.com/users/1669370/regis-portalez"}, "is_accepted": true, "score": 3, "last_activity_date": 1483538784, "last_edit_date": 1483538784, "creation_date": 1483459085, "answer_id": 41447413, "question_id": 41447260, "link": "https://stackoverflow.com/questions/41447260/how-do-i-clear-fields-using-knockoutjs-and-typescript/41447413#41447413", "title": "How do I clear fields using KnockoutJs and typescript?", "body": "<p>Things are in fact way easier in knockout than with jquery, since view's properties can be bound to observables. </p>\n\n<p>That means each time something changes behind the scene (in the viewModel objects), the view can update accordingly automatically. </p>\n\n<p>In your particular case you need to create a viewModel object, which has a term property (<a href=\"http://knockoutjs.com/documentation/observables.html\" rel=\"nofollow noreferrer\">observable</a>), and a clearSearch function, which resets this observable : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var vm = function () {\r\n  var self = this;\r\n  self.term = ko.observable(\"default\");\r\n  self.clearSearch = function() {\r\n    self.term(\"\");\r\n  };\r\n};\r\n\r\nko.applyBindings(new vm());</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/knockout/3.2.0/knockout-min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"form_container\"&gt;\r\n        &lt;div class=\"label-n-input_container\"&gt;\r\n            &lt;div class=\"input_container\"&gt;\r\n                &lt;input type=\"text\" data-bind=\"textInput: $root.term\" /&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"clear-button_container\"&gt;\r\n            &lt;button class=\"\" data-bind=\"click: $root.clearSearch\"&gt;Clear search&lt;/label&gt;\r\n            &lt;/button&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This will work in both javascript and typescript (since the latter includes the former). </p>\n\n<p>However, if you want compile time type checks, automatic management of \"this\", and other typescript's goodness, you can write the following piece of code : </p>\n\n<pre><code>    // import actual knockout declarations from https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/knockout/index.d.ts\ninterface KnockoutObservable&lt;T&gt; {\n    (): T;\n    (value: T | null): void;\n}\n\ninterface Knockout {\n    applyBindings(vm: any): void;\n    observable&lt;T&gt;(value: T): KnockoutObservable&lt;T&gt;;\n}\n\ndeclare var ko: Knockout;\n\nclass vm  {\n    public term: KnockoutObservable&lt;string&gt;;\n    constructor() {\n        this.term = ko.observable(\"default\");\n    }\n\n    public clearSearch() {\n      this.term(\"\");\n    }\n}\n\nko.applyBindings(new vm());\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7370150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65c3c83cf3542ce01df3642efb0286f8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7370150/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "accepted_answer_id": 41447413, "answer_count": 1, "score": 0, "last_activity_date": 1483538784, "creation_date": 1483458608, "question_id": 41447260, "link": "https://stackoverflow.com/questions/41447260/how-do-i-clear-fields-using-knockoutjs-and-typescript", "title": "How do I clear fields using KnockoutJs and typescript?", "body": "<p>I know these things are very easy in jQuery, but I don't know how to do with KO and TS. Here's my code :</p>\n\n<p>Html\n  </p>\n\n<pre><code>    &lt;div class=\"form_container\"&gt;\n        &lt;div class=\"label-n-input_container\"&gt;\n            &lt;div class=\"input_container\"&gt;\n                &lt;input type=\"text\" data-bind=\"textInput: $root.term\" /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"clear-button_container\"&gt;\n            &lt;button class=\"\" data-bind=\"click: $root.clearSearch\"&gt;Clear search&lt;/label&gt;\n            &lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "require", "systemjs"], "comments": [{"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 2, "creation_date": 1483460592, "post_id": 41447135, "comment_id": 70102086, "body": "You&#39;re using SystemJS not RequireJS so I&#39;ve edited your tags accordingly. Be careful with that because that can seriously harm your question&#39;s visibility."}, {"owner": {"reputation": 8086, "user_id": 487356, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/faa4d2befdc2f080be1cf88af1448855?s=128&d=identicon&r=PG", "display_name": "Robert Hegner", "link": "https://stackoverflow.com/users/487356/robert-hegner"}, "reply_to_user": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1483460660, "post_id": 41447135, "comment_id": 70102125, "body": "Ok thanks for that edit! :)"}], "answers": [{"tags": [], "owner": {"reputation": 8086, "user_id": 487356, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/faa4d2befdc2f080be1cf88af1448855?s=128&d=identicon&r=PG", "display_name": "Robert Hegner", "link": "https://stackoverflow.com/users/487356/robert-hegner"}, "is_accepted": true, "score": 1, "last_activity_date": 1483607661, "last_edit_date": 1483607661, "creation_date": 1483518028, "answer_id": 41459167, "question_id": 41447135, "link": "https://stackoverflow.com/questions/41447135/load-javascript-file-in-angular2-app/41459167#41459167", "title": "Load JavaScript file in angular2 app", "body": "<p>I had to make sure that PluginMap is available in the global context. So the generated <code>plugin-map.js</code> has to look like this:</p>\n\n<pre><code>var some_component_1 = require('./plugins/some.component');\nPluginMap = {\n    'e690bec6-f8d1-46a5-abc4-ed784e4f0058': some_component_1.SomeComponent\n};\n</code></pre>\n\n<p>and not like this:</p>\n\n<pre><code>\"use strict\";\nvar some_component_1 = require('./plugins/some.component');\nexports.PluginMap = {\n    'e690bec6-f8d1-46a5-abc4-ed784e4f0058': some_component_1.SomeComponent\n};\n//# sourceMappingURL=plugin-map.js.map\n</code></pre>\n\n<p>Now it seems to work.</p>\n"}], "owner": {"reputation": 8086, "user_id": 487356, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/faa4d2befdc2f080be1cf88af1448855?s=128&d=identicon&r=PG", "display_name": "Robert Hegner", "link": "https://stackoverflow.com/users/487356/robert-hegner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "accepted_answer_id": 41459167, "answer_count": 1, "score": 0, "last_activity_date": 1483607661, "creation_date": 1483458180, "last_edit_date": 1483536475, "question_id": 41447135, "link": "https://stackoverflow.com/questions/41447135/load-javascript-file-in-angular2-app", "title": "Load JavaScript file in angular2 app", "body": "<p>I'm working on a angular2 application written in TypeScript.</p>\n\n<h2>This works:</h2>\n\n<p>I have a module called <code>plugin-map.ts</code> which looks something like this:</p>\n\n<pre><code>import { Type } from '@angular/core';\n\nimport { SomeComponent } from './plugins/some.component';\n\nexport const PluginMap: { [key: string]: Type&lt;any&gt; } = {\n    'e690bec6-f8d1-46a5-abc4-ed784e4f0058': SomeComponent\n};\n</code></pre>\n\n<p>It gets transpiled to a <code>plugin-map.js</code> which looks something like this:</p>\n\n<pre><code>\"use strict\";\nvar some_component_1 = require('./plugins/some.component');\nexports.PluginMap = {\n    'e690bec6-f8d1-46a5-abc4-ed784e4f0058': some_component_1.SomeComponent\n};\n//# sourceMappingURL=plugin-map.js.map\n</code></pre>\n\n<p>And in other modules I'm importing my <code>PluginMap</code> like this:</p>\n\n<pre><code>import { PluginMap } from './plugin-map';\n</code></pre>\n\n<h2>What I want:</h2>\n\n<p>Now I want to create <code>plugin-map.js</code> at runtime when my server starts. So I want to get rid of my <code>plugin-map.ts</code> and instead have only a (generated) <code>plugin-map.js</code>. And I don't want to have any transpile-time dependencies to that <code>plugin-map.js</code>.</p>\n\n<h2>What I tried:</h2>\n\n<p>In modules where I need to access the <code>PluginMap</code> I replaced the <code>import</code> statement with a declaration like this:</p>\n\n<pre><code>declare const PluginMap: { [key: string]: Type&lt;any&gt; }; \n</code></pre>\n\n<p>Now of course at runtime I get a <code>Error: (SystemJS) 'PluginMap' is undefined</code>. So my next step was to load <code>plugin-map.js</code> explicitly from my <code>index.html</code> like this:</p>\n\n<pre><code>...\n&lt;script src=\"js/system.src.js\"&gt;&lt;/script&gt;\n&lt;script src=\"systemjs.config.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n      System.import('./app/plugins/plugin-map.js').catch(function (err) { console.error(err); });\n      System.import('app').catch(function(err){ console.error(err); });\n&lt;/script&gt;\n...\n</code></pre>\n\n<p>When I start my application I can see that the browser actually requests the <code>plugin-map.js</code> file. But I still get the <code>Error: (SystemJS) 'PluginMap' is undefined</code>.</p>\n\n<h2>Question:</h2>\n\n<p>How/where do I have to load my generated <code>plugin-map.js</code> so that this works?</p>\n"}, {"tags": ["typescript", "bluebird"], "answers": [{"comments": [{"owner": {"reputation": 907, "user_id": 1476674, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3200e5875e2d40343f649b77a3c8ab15?s=128&d=identicon&r=PG", "display_name": "Rene Wooller", "link": "https://stackoverflow.com/users/1476674/rene-wooller"}, "edited": false, "score": 0, "creation_date": 1546923101, "post_id": 41445830, "comment_id": 95003833, "body": "if possible, using &quot;target&quot;: &quot;es2016&quot;, in the tsconfig will also work"}], "tags": [], "owner": {"reputation": 61, "user_id": 1904983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2H6v7.png?s=128&g=1", "display_name": "gantoci", "link": "https://stackoverflow.com/users/1904983/gantoci"}, "is_accepted": true, "score": 2, "last_activity_date": 1483460276, "last_edit_date": 1483460276, "creation_date": 1483453964, "answer_id": 41445830, "question_id": 41445829, "link": "https://stackoverflow.com/questions/41445829/bluebirds-filtered-catch-broken-when-js-is-generated-by-typescript-2-0/41445830#41445830", "title": "Bluebird&#39;s filtered catch broken when JS is generated by Typescript 2.0", "body": "<p>The cause is the latest upgrade to Typescript 2.0. \nSpecifically:</p>\n\n<blockquote>\n  <p>As part of substituting the value of this with the value returned by a\n  super(...) call, subclassing Error, Array, and others may no longer\n  work as expected. This is due to the fact that constructor functions\n  for Error, Array, and the like use ECMAScript 6's new.target to adjust\n  the prototype chain; however, there is no way to ensure a value for\n  new.target when invoking a constructor in ECMAScript 5. Other\n  downlevel compilers generally have the same limitation by default.</p>\n</blockquote>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work</a></p>\n\n<p>This workaround fixed the problem for me, although <strong>not for IE 10 and previous</strong>:\nAdd the following code after any super call.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>if (Object.setPrototypeOf) {\r\n  Object.setPrototypeOf(this, XHRError.prototype);\r\n} else {\r\n  this.__proto__ = XHRError.prototype;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 61, "user_id": 1904983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2H6v7.png?s=128&g=1", "display_name": "gantoci", "link": "https://stackoverflow.com/users/1904983/gantoci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 41445830, "answer_count": 1, "score": 1, "last_activity_date": 1483460276, "creation_date": 1483453964, "last_edit_date": 1495542297, "question_id": 41445829, "link": "https://stackoverflow.com/questions/41445829/bluebirds-filtered-catch-broken-when-js-is-generated-by-typescript-2-0", "title": "Bluebird&#39;s filtered catch broken when JS is generated by Typescript 2.0", "body": "<p>The error I see is identical to this (from here:<a href=\"https://stackoverflow.com/questions/38927394/catch-error-type-in-bluebird-not-working\">Catch Error Type in Bluebird Not Working</a>): </p>\n\n<blockquote>\n<pre><code>I have a custom error class:\n\nclass NetworkError extends Error {\n  constructor() {\n    super('Network Error');\n    this.name = 'NetworkError';\n  }\n}\n</code></pre>\n  \n  <p>And I want to handle it specifically:</p>\n\n<pre><code>import {NetworkError} from '../../common/errors';\nsomeFunc().catch(NetworkError, err =&gt; {\n  // this is missed\n}).catch(err =&gt; {\n  // this is hit\n});\n</code></pre>\n  \n  <p>But it's skipping my custom catch and hitting the general catch. If I\n  change it like so, it works:</p>\n\n<pre><code>someFunc().catch({name: 'NetworkError'}, err =&gt; {\n  // this is hit\n}).catch(err =&gt; {\n  // this is missed\n});\n</code></pre>\n  \n  <p>Obviously the first way is preferred. What am I missing here?</p>\n</blockquote>\n"}, {"tags": ["javascript", "angular", "typescript", "feature-detection"], "answers": [{"tags": [], "owner": {"reputation": 7329, "user_id": 127826, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/550d8e560b41ac68e1ba3df892095600?s=128&d=identicon&r=PG", "display_name": "Cobus Kruger", "link": "https://stackoverflow.com/users/127826/cobus-kruger"}, "is_accepted": true, "score": 1, "last_activity_date": 1483538452, "creation_date": 1483538452, "answer_id": 41465658, "question_id": 41445527, "link": "https://stackoverflow.com/questions/41445527/angular-universal-and-browser-feature-checks/41465658#41465658", "title": "Angular Universal and browser feature checks", "body": "<p>There are two ways to approach this:</p>\n\n<ol>\n<li>Do the check only once the server is done rendering and the client is completely initialised (including the replay of user events done by <code>preboot.js</code>).</li>\n<li>Return a reasonable default when the page is running on the server and perform the actual check only in the browser.</li>\n</ol>\n\n<p>I started looking at the first option, but none of the Angular2 life cycle events will help with this. In fact, you can clearly see them all executing on the server and only then on the client. </p>\n\n<p>I then started looking for something usable in <code>preboot.js</code> but quickly realised it was more complex than it needed to be.</p>\n\n<p>So onto option 2 I went. It turns out checking for the browser is as easy as importing and checking <code>isBrowser</code>.</p>\n\n<pre><code>import { isBrowser } from \"angular2-universal\";\n\n@Component({\n // All the usual stuff\n})\nexport class MyComponent {\n  // ...\n  hasFeature(): boolean {\n    return isBrowser &amp;&amp; 'oncopy' in document;\n  }\n  // ...\n}\n</code></pre>\n\n<p>And then use the template as I showed in the question.</p>\n\n<p>To check if you're running on the server, import and use <code>isNode</code> in exactly the same way. There doesn't seem to be an obvious way to distinguish between Node and ASP.NET Core, but perhaps it's best not to write too much code <em>that</em> specific to platform.</p>\n"}], "owner": {"reputation": 7329, "user_id": 127826, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/550d8e560b41ac68e1ba3df892095600?s=128&d=identicon&r=PG", "display_name": "Cobus Kruger", "link": "https://stackoverflow.com/users/127826/cobus-kruger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 1, "accepted_answer_id": 41465658, "answer_count": 1, "score": 5, "last_activity_date": 1483538452, "creation_date": 1483453065, "last_edit_date": 1483457040, "question_id": 41445527, "link": "https://stackoverflow.com/questions/41445527/angular-universal-and-browser-feature-checks", "title": "Angular Universal and browser feature checks", "body": "<p>When developing a web app with jQuery or normal JavaScript, it is commonplace to check for feature availability first. So for example, if I want to use the <code>document.oncopy</code> event, I should first have something like this to ensure my code doesn't break for lesser browsers:</p>\n\n<pre><code>if (\"oncopy\" in document) {\n  // Feature is available\n}\n</code></pre>\n\n<p>I'm a bit puzzled about how this would work in Angular2. I could still use the same if I expect to only run in the browser, but I'm specifically told to leave the DOM alone if I want to use Angular Universal and depend on templates or the DomRenderer instead. This allows the page to be pre-rendered on the server and provides a truly impressive performance gain.</p>\n\n<p>But suppose I want a specific div to be invisible if the <code>document.oncopy</code> is unavailable. My understanding is that this is not recommended:</p>\n\n<pre><code>&lt;div *ngIf=\"hasFeature()\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>hasFeature() {\n  return 'oncopy' in document;\n}\n</code></pre>\n\n<p>because then I'm still manipulating the DOM. Note that my example is about the <code>document.oncopy</code> but I could choose any feature whatsoever that doesn't have universal support.</p>\n\n<p>I tested this using <a href=\"https://scotch.io/tutorials/server-side-rendering-in-angular-2-with-angular-universal\" rel=\"nofollow noreferrer\">Chris Nwamba's tutorial</a> on Scotch and added the following to the end of his Home template:</p>\n\n<pre><code>&lt;div *ngIf=\"hasFeature()\"&gt;Feature is supported&lt;/div&gt;\n&lt;div *ngIf=\"!hasFeature()\"&gt;Feature is NOT supported&lt;/div&gt;\n</code></pre>\n\n<p><strong>Update:</strong> Interestingly, it gave different results on different browsers. On Chrome 55, it executed as it would normally and showed the \"Feature is supported\" message. On IE11, I received the \"not supported\" message. In both instances the server log shows a <code>EXCEPTION: document is not defined</code> message, but the page still seems perfectly okay.</p>\n\n<p>So what is the correct way to check for browser features if I want to use Angular Universal?</p>\n\n<p><strong>Update:</strong>\nI also toyed around with using a field in the template and assigning that field from one of the <a href=\"https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html\" rel=\"nofollow noreferrer\">life cycle hooks</a>. <code>ngAfterContentInit</code> seemed like a fine candidate, but also causes an error on the server. It still runs fine in the browser with no weird effects (that I have noticed so far).</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "edited": false, "score": 0, "creation_date": 1488630194, "post_id": 41445396, "comment_id": 72322971, "body": "x = &lt;Array&lt;keyof typeof foo&gt;&gt;Object.keys(foo)"}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1483454024, "last_edit_date": 1483454024, "creation_date": 1483453596, "answer_id": 41445725, "question_id": 41445396, "link": "https://stackoverflow.com/questions/41445396/keyof-foo-vs-object-keysfoo/41445725#41445725", "title": "keyof Foo vs Object.keys(Foo)", "body": "<p>The method <code>Object.keys(...)</code> returns an array of strings:</p>\n\n<pre><code>class Foo {\n    public foo: string;\n    public bar: string;\n}\n\nlet foo = new Foo(),\n    x: string[] = Object.keys(foo)\n</code></pre>\n\n<p>TypeScript doesn't fully evaluate what the result of <code>Object.keys</code> will be in order to guarantee the values will be the right ones... although you can see that they will be compatible in this example...</p>\n\n<pre><code>type example = keyof Foo; // \"foo\", \"bar\"\n</code></pre>\n\n<p>So your type annotation is correct in your original example, but TypeScript doesn't give such a specific type to the <code>Object.keys</code> result.</p>\n"}, {"comments": [{"owner": {"reputation": 487, "user_id": 1405910, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/8cb915a2c6d7dc9e0029a65753a8e9d1?s=128&d=identicon&r=PG", "display_name": "roemer", "link": "https://stackoverflow.com/users/1405910/roemer"}, "edited": false, "score": 0, "creation_date": 1483519052, "post_id": 41445738, "comment_id": 70124417, "body": "But shouldn&#39;t Foo be in the variable space as it is a Class?"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 487, "user_id": 1405910, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/8cb915a2c6d7dc9e0029a65753a8e9d1?s=128&d=identicon&r=PG", "display_name": "roemer", "link": "https://stackoverflow.com/users/1405910/roemer"}, "edited": false, "score": 1, "creation_date": 1483520116, "post_id": 41445738, "comment_id": 70124987, "body": "No, as it is class - it is in the declaration space, as it &#39;declares&#39; the type of the data. On the other hand the instance of the Foo will be in the variable space."}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": true, "score": 1, "last_activity_date": 1483453637, "creation_date": 1483453637, "answer_id": 41445738, "question_id": 41445396, "link": "https://stackoverflow.com/questions/41445396/keyof-foo-vs-object-keysfoo/41445738#41445738", "title": "keyof Foo vs Object.keys(Foo)", "body": "<p>I believe this is due to the fact that <code>keyof</code> operator operates in type declaration space whereas <code>Object.keys</code> returns you the variable that is from variable declaration space. And you cant simply assign values from different spaces to each other. </p>\n\n<p>More on the matter: <a href=\"https://basarat.gitbooks.io/typescript/content/docs/project/declarationspaces.html\" rel=\"nofollow noreferrer\">spaces</a></p>\n"}, {"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 2, "last_activity_date": 1483456389, "creation_date": 1483456389, "answer_id": 41446564, "question_id": 41445396, "link": "https://stackoverflow.com/questions/41445396/keyof-foo-vs-object-keysfoo/41446564#41446564", "title": "keyof Foo vs Object.keys(Foo)", "body": "<p>You can type assert it and then it's fine:</p>\n\n<pre><code>class Foo {\n    x: number;\n    y: number;\n}\n\ntype Keys = keyof Foo;\n\nlet foo = new Foo(),\n    x = Object.keys(foo) as Keys[];\n</code></pre>\n\n<p>(<a href=\"https://www.typescriptlang.org/play/#src=class%20Foo%20%7B%0A%20%20%20%20x%3A%20number%3B%0A%20%20%20%20y%3A%20number%3B%0A%7D%0A%0Atype%20Keys%20%3D%20keyof%20Foo%3B%0A%0Alet%20foo%20%3D%20new%20Foo()%2C%0A%20%20%20%20x%20%3D%20Object.keys(foo)%20as%20Keys%5B%5D%3B\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n\n<p>The problem is that you are trying to put <code>string[]</code> into (in my example) <code>('x' | 'y')[]</code> which is more specific.<br>\nThe same will happen here:</p>\n\n<pre><code>interface A {\n    x: number;\n}\n\ninterface B extends A {\n    y: number;\n}\n\nlet a: A = { x: 5 };\nlet b1: B = a; // error\nlet b2: B = a as B; // fine\n</code></pre>\n\n<p>When you want to turn something into a more specific type then you need to tell the compiler that you know what you're doing by type asserting it.</p>\n"}], "owner": {"reputation": 487, "user_id": 1405910, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/8cb915a2c6d7dc9e0029a65753a8e9d1?s=128&d=identicon&r=PG", "display_name": "roemer", "link": "https://stackoverflow.com/users/1405910/roemer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1008, "favorite_count": 0, "accepted_answer_id": 41445738, "answer_count": 3, "score": 1, "last_activity_date": 1483456389, "creation_date": 1483452614, "question_id": 41445396, "link": "https://stackoverflow.com/questions/41445396/keyof-foo-vs-object-keysfoo", "title": "keyof Foo vs Object.keys(Foo)", "body": "<p>Can anyone explain why this:</p>\n\n<pre><code>let foo = new Foo(),\n    x: (keyof Foo)[] = Object.keys(foo)\n</code></pre>\n\n<p>leads to:</p>\n\n<blockquote>\n  <p>Type 'string[]' is not assignable to type '\"bar\" | \"bar1\"...'</p>\n</blockquote>\n\n<p>(Using tsc 2.1.4)</p>\n"}, {"tags": ["json", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5342734, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043769432329988/picture?type=large", "display_name": "Wolfgang Jocel Furtado", "link": "https://stackoverflow.com/users/5342734/wolfgang-jocel-furtado"}, "edited": false, "score": 0, "creation_date": 1483496044, "post_id": 41445339, "comment_id": 70116808, "body": "thanks alot for the reply. The reason i decided to use class, inorder to specify strictNullChecks and after getting the api json data map to the class object i can use the class object for other operation in the app. Also i wanted runtime type cast check"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 11, "user_id": 5342734, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043769432329988/picture?type=large", "display_name": "Wolfgang Jocel Furtado", "link": "https://stackoverflow.com/users/5342734/wolfgang-jocel-furtado"}, "edited": false, "score": 0, "creation_date": 1483544181, "post_id": 41445339, "comment_id": 70140670, "body": "<code>strictNullChecks</code> are awesome. They have nothing to do with classes and are as applicable to interfaces."}, {"owner": {"reputation": 11, "user_id": 5342734, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043769432329988/picture?type=large", "display_name": "Wolfgang Jocel Furtado", "link": "https://stackoverflow.com/users/5342734/wolfgang-jocel-furtado"}, "edited": false, "score": 0, "creation_date": 1483584073, "post_id": 41445339, "comment_id": 70158956, "body": "if i use interface something like this:  <code>&lt;Book&gt;value.json();</code> This will not result in any errors if the server sends bad objects because of 2 reasons.  At compile time the transpiler does not know what the server will send. At runtime all type information is erased since everything gets compiled to javascript. so how to do the structure and type check??"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 11, "user_id": 5342734, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043769432329988/picture?type=large", "display_name": "Wolfgang Jocel Furtado", "link": "https://stackoverflow.com/users/5342734/wolfgang-jocel-furtado"}, "edited": false, "score": 0, "creation_date": 1483646409, "post_id": 41445339, "comment_id": 70193293, "body": "Using classes doesn&#39;t automatically validate. If you want to validate the structure of responses, you will need to write validation logic. In that case you could do so in a constructor or factory function that takes the JSON response."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 11, "user_id": 5342734, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043769432329988/picture?type=large", "display_name": "Wolfgang Jocel Furtado", "link": "https://stackoverflow.com/users/5342734/wolfgang-jocel-furtado"}, "edited": false, "score": 0, "creation_date": 1483647935, "post_id": 41445339, "comment_id": 70194108, "body": "&quot;so how to do the structure and type check??&quot; this is not possible. A class&#39;s type is as erased as an interface."}, {"owner": {"reputation": 11, "user_id": 5342734, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043769432329988/picture?type=large", "display_name": "Wolfgang Jocel Furtado", "link": "https://stackoverflow.com/users/5342734/wolfgang-jocel-furtado"}, "edited": false, "score": 0, "creation_date": 1483680089, "post_id": 41445339, "comment_id": 70204492, "body": "so during runtime anything can be assigned to class variable. Even the <code>strictNullChecks</code> will not hold any good during runtime.  correct?  so no library can solve this na?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 11, "user_id": 5342734, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043769432329988/picture?type=large", "display_name": "Wolfgang Jocel Furtado", "link": "https://stackoverflow.com/users/5342734/wolfgang-jocel-furtado"}, "edited": false, "score": 0, "creation_date": 1483680276, "post_id": 41445339, "comment_id": 70204544, "body": "You need to define a function, which could be a class constructor, or just a simple function, that  performs runtime validation of the values returned by the service call. The function can contain whatever validation you deem appropriate but may not include TypeScript types. Those are for compile time validation only."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 11, "user_id": 5342734, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043769432329988/picture?type=large", "display_name": "Wolfgang Jocel Furtado", "link": "https://stackoverflow.com/users/5342734/wolfgang-jocel-furtado"}, "edited": false, "score": 0, "creation_date": 1483680481, "post_id": 41445339, "comment_id": 70204603, "body": "StrictNullChecks are a TypeScript compile time check. If you want to ensure a value that came from a non typescript source, such as a web service, is not null or undefined at runtime, you need to test for that."}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 0, "last_activity_date": 1483686321, "last_edit_date": 1483686321, "creation_date": 1483452422, "answer_id": 41445339, "question_id": 41445053, "link": "https://stackoverflow.com/questions/41445053/angular-2-optimal-way-to-map-incoming-api-json-into-a-array-of-class-objects/41445339#41445339", "title": "angular 2 optimal way to map incoming api json into a array of class objects", "body": "<p>Indeed your thoughts on this matter are correct. Because the objects are created by JSON.parse it really makes no sense to use a class to describe their shape. The instance of tests will of course fail and it results in a misleading API.</p>\n\n<p>However there is a simple solution. Typescript has a notion interfaces which are used to describe the shape of various API but have no run-time manifestation. This is a perfect use case for an interface and not a class. Please note that interfaces in typescript are not at all related to interfaces in languages such as Java.</p>\n\n<p>I am aware that my advice is in conflict with the official style guide on this point. In general it makes some good recommendations but it is wrong on this one. Do not use classes to describe the shape of objects returned to remote services via JSON.</p>\n\n<p>You actually don't need to test the types of the objects coming back if you know and trust the end point that is serving them. Your current approach which asserts the type of the response using a generic is a good approach. Just use interface instead of a class.</p>\n\n<p>you can of course associate specific objects with specific interface types. You could correlate this based on server-side serialized fields so you have the option if you need to but you still wouldn't want to use a class for that on the client.</p>\n"}], "owner": {"reputation": 11, "user_id": 5342734, "user_type": "registered", "profile_image": "https://graph.facebook.com/1043769432329988/picture?type=large", "display_name": "Wolfgang Jocel Furtado", "link": "https://stackoverflow.com/users/5342734/wolfgang-jocel-furtado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 771, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483686321, "creation_date": 1483451473, "question_id": 41445053, "link": "https://stackoverflow.com/questions/41445053/angular-2-optimal-way-to-map-incoming-api-json-into-a-array-of-class-objects", "title": "angular 2 optimal way to map incoming api json into a array of class objects", "body": "<p>I'm working with Angular 2. I'm trying to figure out the correct way to map a incoming json object into a array of class </p>\n\n<p><strong>./book.ts</strong> </p>\n\n<pre><code>export class book{\n  constructor(\n    public id: number,\n    public title: string,\n    public publication_date: string){}\n}\n</code></pre>\n\n<p><strong>./book.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\nimport { RequestOptions, URLSearchParams,  QueryEncoder, Http, Headers, Response } from '@angular/http';\n\nimport { Trip } from './trip';\nimport {Observable} from 'rxjs/Observable';\n\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class BookService {\n  constructor(private http: Http) { }\n\n  fetchbooks(): Observable&lt;book[]&gt;{\n    return this.http.get('some_url')\n    .map((res: Response) =&gt; &lt;book[]&gt;res.json().books);\n  }\n}\n</code></pre>\n\n<p>but the </p>\n\n<blockquote>\n  <p>fetchbooks()</p>\n</blockquote>\n\n<p>doesn't map the incoming json to the book class object.. so i cant do type check.\nis there any other way to do this??</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1893, "user_id": 2223260, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5071efdc4b75172b161f42f9758a019?s=128&d=identicon&r=PG", "display_name": "anshuVersatile", "link": "https://stackoverflow.com/users/2223260/anshuversatile"}, "edited": false, "score": 0, "creation_date": 1483449568, "post_id": 41444379, "comment_id": 70095067, "body": "what problem you are facing ?"}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "reply_to_user": {"reputation": 1893, "user_id": 2223260, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5071efdc4b75172b161f42f9758a019?s=128&d=identicon&r=PG", "display_name": "anshuVersatile", "link": "https://stackoverflow.com/users/2223260/anshuversatile"}, "edited": false, "score": 0, "creation_date": 1483449896, "post_id": 41444379, "comment_id": 70095289, "body": "Thanks for reply.  Actually, Problem is is not to set the attribute..  But dynamically accessing the element from DOM"}, {"owner": {"reputation": 2386, "user_id": 7285325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc0b4009f4bb657526dfe60e9ec2b24?s=128&d=identicon&r=PG&f=1", "display_name": "A. Tim", "link": "https://stackoverflow.com/users/7285325/a-tim"}, "edited": false, "score": 0, "creation_date": 1483450284, "post_id": 41444379, "comment_id": 70095522, "body": "Your question is not clear. What exactly you want to change? Is it <code>&lt;option&gt;</code> tag? Or do you have multiple <code>&lt;ng-select&gt;</code> in your directive and you want to change (e.g. disable) one of them? Also please explain what exactly triggers that change? Is it button, ajax, select specific option?"}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483450765, "post_id": 41444379, "comment_id": 70095811, "body": "I want to change active attribute that belongs to ng2-select component, whose selector and use is &lt;ng-select #element{{Number}}&gt;  and i want to refer it dynamically in my TS and change use it like,  myReferenceOf( #element3 / #element4 ).active=My Value..  Using @ViewChild / Renderer / ElementRef"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483450013, "post_id": 41444500, "comment_id": 70095362, "body": "Thanks for reply,  But problem is not setting the attribute but dynamically accessing it from the DOM"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483450050, "post_id": 41444500, "comment_id": 70095389, "body": "What do you mean with &quot;dynamically accessing it from the DOM&quot;?"}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483450150, "post_id": 41444500, "comment_id": 70095449, "body": "Using @ViewChild i can refer to element, and change its corresponding value..  Like @ViewChild(&#39;#myElementIdInDom&#39;)  I want to do it dynamically because i cant pre declare the values that might come from ngFor"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483450304, "post_id": 41444500, "comment_id": 70095538, "body": "<code>@ViewChild()</code> doesn&#39;t support dynamic parameters. You can inject <code>elRef:ElementRef</code> and then use <code>this.elRef.nativeElement.querySelector(&#39;[&#39; + i &#39;]&#39;)</code> or similar"}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483450591, "post_id": 41444500, "comment_id": 70095709, "body": "does this.elRef.nativeElement.querySelector(&#39;#element&#39;+i) allow me to use it to set attribute corresponding to the component?  because from &lt;ng-select #element1&gt; finally what i want to do is myReference.active=&quot;My Value&quot; i.e. active attribute which belongs to that component.."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483450816, "post_id": 41444500, "comment_id": 70095844, "body": "So you want to pass a value to an input? &quot; set attribute of corresponding to the component&quot; is misleading. Only DOM elements have attributes. Components have inputs. If the value is a string it should work (not sure though). If you want to pass other values, you definitely can&#39;t use this approach. You can use <code>@ViewChildren(SelectComponent) selects:QueryList&lt;SelectComponent&gt;;</code> and then filter <code>this.selects</code> for the one component instance you want to access and then set a property of the component."}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483451152, "post_id": 41444500, "comment_id": 70096033, "body": "Sure.. Thanks for the knowledge. When i try to use elementRef.nativeElement.querySelector(&#39;#element&#39;).active=my&zwnj;&#8203;Value,  It doesnt detect the input and gives me error saying..  Cannot set Property active of null"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483451191, "post_id": 41444500, "comment_id": 70096049, "body": "Use <code>setAttribute()</code> as shown in my original answer."}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483451465, "post_id": 41444500, "comment_id": 70096226, "body": "Hey Seriously thanks for your time.. I know this is silly but could u tell me if i am supposed to pass a hash or not in querySelector like (&#39;#country&#39;) or (&#39;country&#39;) .. Also an example of html template would help a lot..  Reason : Its again saying - Cannot read property &#39;setAttribute&#39; of null"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483451583, "post_id": 41444500, "comment_id": 70096305, "body": "<code>&#39;#country&#39;</code> selects <code>&lt;some-element id=&quot;country&quot;&gt;&lt;&#47;some-element&gt;</code> while <code>&#39;country&#39;</code> selects <code>&lt;country&gt;&lt;&#47;country&gt;</code>. Sorry, for me it&#39;s still too vague what you actually try to accomplish for me to be able to make a more concrete example."}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483451756, "post_id": 41444500, "comment_id": 70096400, "body": "for now how i used it is  &lt;ng-select #country &gt;  and referenced to it as @ViewChild(&#39;country&#39;) xyz:SelectComponent;  and later xyz.active=myValue"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483451897, "post_id": 41444500, "comment_id": 70096476, "body": "You can&#39;t use <code>country</code> from <code>&lt;ng-select #country &gt;</code> in <code>querySelector</code>. You need to change it to <code>&lt;ng-select id=&quot;c1&quot;&gt;</code> and then use <code>querySelector(&#39;#c1&#39;)</code> the <code>#</code> in <code>querySelector</code> and in <code>&lt;ng-select #country&gt;</code> are entirely unrelated. The former is a CSS element id selector, the later is an Angular2 template variable. You can&#39;t use template variables with <code>querySelector</code>"}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483452018, "post_id": 41444500, "comment_id": 70096567, "body": "Ok Let me try it with id=&quot;country&quot;, meanwhile, is there any way to refer the angular 2 template variable and change the same?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483452162, "post_id": 41444500, "comment_id": 70096654, "body": "You can&#39;t change angular2 template variables. You can add them statically to a components template but not dynamically and not change them in any way. The only ways to refer to them is using <code>@ViewChild[ren](...)</code> <code>@ContentChild[ren](...)</code> and by name from within the same template loke <code>&lt;button (click)=&quot;country.setAttribute(&#39;active&#39;, false)&quot;</code>"}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483452607, "post_id": 41444500, "comment_id": 70096913, "body": "Ok, but is there no way to change the dynamically added angular template variable ids?"}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483452810, "post_id": 41444500, "comment_id": 70097042, "body": "Also, now it doesnt give me errors, But it doesnt change my select box text as required.. :(     i did &lt;ng-select id=&quot;country&quot;&gt;  and in ts,   elementRef.nativeElement.querySelector(&#39;#country&#39;).setAttrib&zwnj;&#8203;ute(&#39;active&#39;,&#39;myValu&zwnj;&#8203;e&#39;);"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483452935, "post_id": 41444500, "comment_id": 70097136, "body": "What is <code>&lt;ng-select&gt;</code>? Is that your own component or 3rd party?"}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483453032, "post_id": 41444500, "comment_id": 70097196, "body": "a third party component ng2-select that gives me searchable selectBox. For a better idea  <a href=\"https://valor-software.com/ng2-select/\" rel=\"nofollow noreferrer\">valor-software.com/ng2-select</a>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483453168, "post_id": 41444500, "comment_id": 70097281, "body": "<code>active</code> expects an array, not a string. You can&#39;t use <code>setAttribute</code>. Use instead the <code>@ViewChildren()</code> approach mentioned above."}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483453286, "post_id": 41444500, "comment_id": 70097356, "body": "ViewChildren, How can i use to dynamic angular template element ids? wait..       &lt;ng-select id=&#39;country&#39;  #country [items]=&quot;countries&quot;&gt;&lt;/ng-select&gt;  I want to refer it dynamically in a function and change it say  changeCountry(myArrayValue){ countryReference.active=myArrayValue }  problem is i want to declare it inside this function block and not globally inside my current component class.  because problem is not to set this #country but   &lt;div *ngFor=&quot;let item of items; let i=index&quot;&gt; &lt;ngselect #itemNumber{{ i }}   &gt; &lt;/ng-select&gt; &lt;/div&gt;"}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483453652, "post_id": 41444500, "comment_id": 70097588, "body": "and i want to refer that $itemNumber3 say and change it"}, {"owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "edited": false, "score": 0, "creation_date": 1483511513, "post_id": 41444500, "comment_id": 70121034, "body": "Hey Gunter. My problem still remains floating. Anycase, Thanks for your time bro."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1483450471, "last_edit_date": 1483450471, "creation_date": 1483449696, "answer_id": 41444500, "question_id": 41444379, "link": "https://stackoverflow.com/questions/41444379/refer-element-and-change-its-attribute-dyanmically-of-a-component-from-template/41444500#41444500", "title": "Refer #element and change its attribute dyanmically of a component from template of current component ( Angular 2 )", "body": "<p><strong>update</strong></p>\n\n<p><code>@ViewChild()</code> doesn't support dynamic parameters. You can inject </p>\n\n<pre><code>constructor(private elRef:ElementRef) {}\n</code></pre>\n\n<p>and then use </p>\n\n<pre><code>myFunction(i:number) {\n  this.elRef.nativeElement.querySelector('[' + i ']');\n}\n</code></pre>\n\n<p>Hint: Attribute names can't start with a number AFAIR.</p>\n\n<p><strong>original</strong></p>\n\n<pre><code>myFunction(i:number) {\n  this.select.setAttribute('id', i);\n  this.select.setAttribute('text', 'Aftrika');\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7369524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d570e2944d0d434a2fe226525557692a?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Sadavarte", "link": "https://stackoverflow.com/users/7369524/akash-sadavarte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1791, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483450471, "creation_date": 1483449287, "last_edit_date": 1483450337, "question_id": 41444379, "link": "https://stackoverflow.com/questions/41444379/refer-element-and-change-its-attribute-dyanmically-of-a-component-from-template", "title": "Refer #element and change its attribute dyanmically of a component from template of current component ( Angular 2 )", "body": "<p>Framework : <strong>Angular 2 Typescript</strong></p>\n\n<p>Component to Refer <strong>ng2-select</strong></p>\n\n<p><strong>Template :</strong> </p>\n\n<pre><code>&lt;div *ngFor=\"let item of items; let **i=index**;&gt;\n&lt;ng-select [items]=\"myItems\" #element**{{i}}**&gt;&lt;ng-select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Typescript:</strong></p>\n\n<p>If it was a single element</p>\n\n<pre><code>@ViewChild('element') select:SelectComponent;\n</code></pre>\n\n<p>and later</p>\n\n<p>this.select.active=[{ id: 0, text: 'Africa' }]    //Works But i want to use it like function below</p>\n\n<p><strong>But I want</strong></p>\n\n<p><em>In a function block i want to refer selected dynamic #element<strong>No</strong> and alter a value</em>\neg</p>\n\n<pre><code>myFunction(i:number){\n//Change active attribute of the corresponding element dynamically referenced from DOM using View Child / Renderer / Element Ref or anything that might help\n}\n</code></pre>\n\n<p>Please help me!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "lodash"], "answers": [{"comments": [{"owner": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "edited": false, "score": 0, "creation_date": 1483450209, "post_id": 41444322, "comment_id": 70095484, "body": "Thanks, how to actually make it fix without passing any as the type... here"}, {"owner": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "edited": false, "score": 0, "creation_date": 1483450564, "post_id": 41444322, "comment_id": 70095692, "body": "Also i am using lodash.. not underscore.js failed to update that."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "edited": false, "score": 0, "creation_date": 1483451122, "post_id": 41444322, "comment_id": 70096019, "body": "Check my revised answer"}, {"owner": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "edited": false, "score": 0, "creation_date": 1483451512, "post_id": 41444322, "comment_id": 70096266, "body": "Thanks... so we should define the Dictionary right? Typescript does not provide it by default..."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "edited": false, "score": 1, "creation_date": 1483455767, "post_id": 41444322, "comment_id": 70098944, "body": "Sorry, it should be: <code>_.Dictionary&lt;string&gt;</code>. I fixed it in my answer as well"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 2, "last_activity_date": 1483455748, "last_edit_date": 1483455748, "creation_date": 1483449100, "answer_id": 41444322, "question_id": 41443957, "link": "https://stackoverflow.com/questions/41443957/passing-an-object-to-map-in-typescript/41444322#41444322", "title": "Passing an object to ._map in typescript", "body": "<p>The definitions for the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/underscore/index.d.ts#L154\" rel=\"nofollow noreferrer\"><code>map</code> function are</a>:</p>\n\n<pre><code>map&lt;T, TResult&gt;(\n    list: _.List&lt;T&gt;,\n    iterator: _.ListIterator&lt;T, TResult&gt; | _.IterateePropertyShorthand | _.IterateeMatcherShorthand&lt;any&gt;,\n    context?: any): TResult[];\n\nmap&lt;T, TResult&gt;(\n    object: _.Dictionary&lt;T&gt;,\n    iterator: _.ObjectIterator&lt;T, TResult&gt;,\n    context?: any): TResult[];\n</code></pre>\n\n<p>As you can see, the passed object should be of types <code>_.List&lt;T&gt;</code> or <code>_.Dictionary&lt;T&gt;</code>.<br>\nIn your case it needs to be <code>_.Dictionary&lt;T&gt;</code>, which is defined like so:</p>\n\n<pre><code>interface Dictionary&lt;T&gt; extends Collection&lt;T&gt; {\n    [index: string]: T;\n}\n</code></pre>\n\n<p>Your <code>Config</code> interface doesn't have an index signature which is why the compiler complains.<br>\nTo get around that just cast it to <code>any</code>:</p>\n\n<pre><code>return _.map(configVariable as any, function(val, key) {\n    return key + \"=\" + val;\n}).join(\"&amp;\");\n</code></pre>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>The signatures for <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/lodash/index.d.ts#L8270\" rel=\"nofollow noreferrer\">map</a> in lodash are similar:</p>\n\n<pre><code>map&lt;T, TResult&gt;(\n    collection: List&lt;T&gt;,\n    iteratee?: ListIterator&lt;T, TResult&gt;\n): TResult[];\n\nmap&lt;T extends {}, TResult&gt;(\n    collection: Dictionary&lt;T&gt;,\n    iteratee?: DictionaryIterator&lt;T, TResult&gt;\n): TResult[];\n\nmap&lt;T extends {}, TResult&gt;(\n    collection: NumericDictionary&lt;T&gt;,\n    iteratee?: NumericDictionaryIterator&lt;T, TResult&gt;\n): TResult[];\n\nmap&lt;T, TResult&gt;(\n    collection: List&lt;T&gt;|Dictionary&lt;T&gt;|NumericDictionary&lt;T&gt;,\n    iteratee?: string\n): TResult[];\n\nmap&lt;T, TObject extends {}&gt;(\n    collection: List&lt;T&gt;|Dictionary&lt;T&gt;|NumericDictionary&lt;T&gt;,\n    iteratee?: TObject\n): boolean[];\n</code></pre>\n\n<p>The <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/lodash/index.d.ts#L19219\" rel=\"nofollow noreferrer\">Dictionary</a> is a bit different:</p>\n\n<pre><code>interface Dictionary&lt;T&gt; {\n    [index: string]: T;\n}\n</code></pre>\n\n<p>So it's the same problem.<br>\nAs for avoiding using <code>any</code>, you can do:</p>\n\n<pre><code>interface Config extends _.Dictionary&lt;string&gt; {\n    appName: string\n    line: string\n}\n</code></pre>\n\n<p>And then this:</p>\n\n<pre><code>return _.map(configVariable, function(val, key) {\n    return key + \"=\" + val;\n}).join(\"&amp;\");\n</code></pre>\n\n<p>Will compile with no errors.</p>\n"}], "owner": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2379, "favorite_count": 0, "accepted_answer_id": 41444322, "answer_count": 1, "score": 2, "last_activity_date": 1600927068, "creation_date": 1483447915, "last_edit_date": 1600927068, "question_id": 41443957, "link": "https://stackoverflow.com/questions/41443957/passing-an-object-to-map-in-typescript", "title": "Passing an object to ._map in typescript", "body": "<p>Below is my class with static member config. </p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport {Config} from '../shared/interfaces'\n\nexport class GlobalData {\n\n    static config:Config = {\n        appName: \"\",\n        line: \"\",\n    }\n\n    constructor(private app:PApplication){\n        GlobalData.config.appName = app.getData().Style? 'P_APP' : 'P_WEB'\n        GlobalData.config.line = 'PApp'\n    }\n\n}\n</code></pre>\n\n<p>Below is my interface Config</p>\n\n<pre><code>export interface Config {\n    appName: string\n    line: string\n}\n</code></pre>\n\n<p>I am trying to pass my static config object to below function: </p>\n\n<pre><code>var appConfig = this.appConfig(GlobalData.config);\n\nappConfig = (configVariable: Config) =&gt; {\n    return _.map(configVariable, function(val, key) {\n        return key + \"=\" + val;\n    }).join(\"&amp;\");\n}\n</code></pre>\n\n<p>I am getting the below error: </p>\n\n<blockquote>\n  <p>[ts] Argument of type 'Config' is not assignable to parameter of type\n  'List&lt;{}> | Dictionary&lt;{}> | NumericDictionary&lt;{}>'.   Type 'Config'\n  is not assignable to type 'NumericDictionary&lt;{}>'.\n      Index signature is missing in type 'Config'.</p>\n</blockquote>\n\n<p>Basically in <code>Javascript</code>, the config was a <code>global object</code>, which can be accessed in any <code>controller/services</code>. </p>\n\n<pre><code>var config = {appName: \"\", line: \"\" }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic2", "ngfor"], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 3142249, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6a3fa657913ece25faf01ff43e8420b7?s=128&d=identicon&r=PG", "display_name": "m1l05z", "link": "https://stackoverflow.com/users/3142249/m1l05z"}, "edited": false, "score": 0, "creation_date": 1483450078, "post_id": 41444072, "comment_id": 70095407, "body": "Thank you :) I&#39;ve seen it before but I did not think that it is so crucial :/ I tried to modify the code to use Observable and the solution was so simple.."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "reply_to_user": {"reputation": 319, "user_id": 3142249, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6a3fa657913ece25faf01ff43e8420b7?s=128&d=identicon&r=PG", "display_name": "m1l05z", "link": "https://stackoverflow.com/users/3142249/m1l05z"}, "edited": false, "score": 1, "creation_date": 1483450130, "post_id": 41444072, "comment_id": 70095436, "body": "I have been through the same thing. found it the hard way :)"}], "tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": true, "score": 3, "last_activity_date": 1483448312, "creation_date": 1483448312, "answer_id": 41444072, "question_id": 41443794, "link": "https://stackoverflow.com/questions/41443794/ionic-2-ngfor-update-data-in-view/41444072#41444072", "title": "Ionic 2 ngFor update data in view", "body": "<p>This is because you are using a 'pure pipe' which executes when the value or reference it is applied to changes. \nIt does not detect object property changes.In your case, the <code>mapToIterable</code> pipe is not aware of the changes occuring to properties of your object <a href=\"https://angular.io/docs/ts/latest/guide/pipes.html#!#Pure%20and%20Impure%20Pipes\" rel=\"nofollow noreferrer\">Check here</a></p>\n\n<p>Try</p>\n\n<pre><code>@Pipe({name: 'mapToIterable',pure:false})\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 3142249, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6a3fa657913ece25faf01ff43e8420b7?s=128&d=identicon&r=PG", "display_name": "m1l05z", "link": "https://stackoverflow.com/users/3142249/m1l05z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1220, "favorite_count": 1, "accepted_answer_id": 41444072, "answer_count": 1, "score": 2, "last_activity_date": 1483448312, "creation_date": 1483447284, "last_edit_date": 1483447600, "question_id": 41443794, "link": "https://stackoverflow.com/questions/41443794/ionic-2-ngfor-update-data-in-view", "title": "Ionic 2 ngFor update data in view", "body": "<p>In my project <strong>'Infinite scroll calendar'</strong> I use ngFor to interate over object using 'pipe' mapToIterable.</p>\n\n<p>Unfortunately, I notice when I add new properties to object on view variable is updated but ngFor not updating the list.\nThe thing is that when I enter the view it fills fine but when I scroll down it successfully retrieves data from API but not update the list in ngFor..</p>\n\n<p>I tried workaround problem by placing code in <code>zone.run()</code> without success.</p>\n\n<pre><code>#ionic info\n\nYour system information:\n\nCordova CLI: 6.4.0 \nIonic Framework Version: 2.0.0-rc.3\nIonic CLI Version: 2.1.18\nIonic App Lib Version: 2.1.9\nIonic App Scripts Version: 0.0.45\nios-deploy version: Not installed\nios-sim version: Not installed\nOS: Linux 4.4\nNode Version: v6.5.0\nXcode version: Not installed\n</code></pre>\n\n<p>Time for some code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// mapToIterable.pipe.ts\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({name: 'mapToIterable'})\nexport class MapToIterablePipe implements PipeTransform {\n  transform(value): any {\n    let keys = [];\n    for (let key in value) {\n      keys.push({ key: key, value: value[key]});\n    }\n    return keys;\n  }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>// index.ts\nexport class Appointments {\n  appointments = {};\n  current_date = new Date();\n  top_date: any = new Date(+new Date - 12096e5);  // 14 days past\n  bottom_date: any = new Date(+new Date + 12096e5);  // 14 day future\n  range = {\n    start_date: this.top_date,\n    end_date: this.bottom_date\n  }\n\n  generateDays = function (start, end) {\n    while(start &lt; end) {\n      start.setDate(start.getDate() + 1);\n      this.appointments[start.toISOString().slice(0, 10)] = [];\n    }\n  };\n\n  fillDays = function () {\n    this.appointmentService.all(this.range).map(res =&gt; res.json()).subscribe(\n      data =&gt; {\n        for (var appointment in data) {\n          this.appointments[appointment] = data[appointment];\n        }\n      },\n      err =&gt; {\n        console.log(JSON.parse(err._body));\n      }\n    );\n  };\n\n  constructor(\n    public navCtrl: Nav,\n    public appointmentService: AppointmentService,\n  ) {\n    var temp_date: any = new Date(this.top_date);\n    this.generateDays(temp_date, this.bottom_date);\n    this.fillDays();\n  }\n\n  moreFuture(infiniteScroll) {\n    setTimeout(() =&gt; {\n      var temp_date: any = new Date(this.bottom_date);\n      this.bottom_date = new Date(+temp_date + 12096e5); // add 14 days\n      this.range.start_date = temp_date;\n      this.range.end_date = this.bottom_date;\n      this.generateDays(temp_date, this.bottom_date);\n      this.fillDays();\n      infiniteScroll.complete();\n    }, 500);\n  };\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>// index.html\n &lt;ion-content padding&gt;\n  {{appointments | json}}\n  &lt;ion-list class=\"calendar-list\"&gt;\n    &lt;div *ngFor=\"let appointment of appointments | mapToIterable\" [id]=\"appointment.key\"&gt;\n      &lt;ion-item class=\"day past\"&gt;\n        &lt;ion-avatar class=\"date\" item-left&gt;\n          &lt;h1&gt;{{appointment.key | date: 'dd'}}&lt;/h1&gt;\n          &lt;h2&gt;{{appointment.key | date: 'MMM'}}&lt;/h2&gt;\n        &lt;/ion-avatar&gt;\n        &lt;div *ngIf=\"!!appointments[appointment.key].length\"&gt;\n          &lt;ion-avatar class=\"inline\" text-center padding&gt;\n            {{appointments[appointment.key][0].patient.first_name[0]}}{{appointments[appointment.key][0].patient.last_name[0]}}\n          &lt;/ion-avatar&gt;\n          &lt;div class=\"inline\"&gt;\n            &lt;h2 class=\"username\" text-wrap&gt;\n              {{appointments[appointment.key][0].patient.first_name}}\n              {{appointments[appointment.key][0].patient.last_name}}\n            &lt;/h2&gt;\n            &lt;p&gt;\n              &lt;ion-icon name=\"clock-gray\"&gt;&lt;/ion-icon&gt;\n              {{appointments[appointment.key][0].time_start | date: 'HH:mm'}}\n              -\n              {{appointments[appointment.key][0].time_end | date: 'HH:mm'}}\n            &lt;/p&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/ion-item&gt;\n    &lt;/div&gt;\n    &lt;ion-infinite-scroll (ionInfinite)=\"moreFuture($event)\"&gt;\n      &lt;ion-infinite-scroll-content&gt;&lt;/ion-infinite-scroll-content&gt;\n    &lt;/ion-infinite-scroll&gt;\n  &lt;/ion-list&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>The reason is that I'm using an object rather than an array?</p>\n\n<p>I will be grateful for every answer :)</p>\n"}, {"tags": ["node.js", "angular", "typescript", "angular2-observables"], "comments": [{"owner": {"reputation": 1893, "user_id": 2223260, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5071efdc4b75172b161f42f9758a019?s=128&d=identicon&r=PG", "display_name": "anshuVersatile", "link": "https://stackoverflow.com/users/2223260/anshuversatile"}, "edited": false, "score": 0, "creation_date": 1483448752, "post_id": 41443642, "comment_id": 70094488, "body": "<code>barChartData[0]?.data </code>"}], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1483448119, "creation_date": 1483448119, "answer_id": 41444026, "question_id": 41443642, "link": "https://stackoverflow.com/questions/41443642/populating-object-property-asyncronously-with-angular2-observables/41444026#41444026", "title": "Populating Object property asyncronously with angular2 observables?", "body": "<p>I think you need something like:</p>\n\n<pre><code>public barChartData: any[] = [\n    { data: null, \n      label: 'OEE' }\n];\nthis.dataService.getCellOEE('powders').subscribe(value =&gt; barChartData[0].data = value);\n</code></pre>\n"}], "owner": {"reputation": 7967, "user_id": 4620733, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-ajCsJtIDhCE/AAAAAAAAAAI/AAAAAAAAABU/VDLJ1dSAyvk/photo.jpg?sz=128", "display_name": "George Edwards", "link": "https://stackoverflow.com/users/4620733/george-edwards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "accepted_answer_id": 41444026, "answer_count": 1, "score": 1, "last_activity_date": 1483448119, "creation_date": 1483446767, "question_id": 41443642, "link": "https://stackoverflow.com/questions/41443642/populating-object-property-asyncronously-with-angular2-observables", "title": "Populating Object property asyncronously with angular2 observables?", "body": "<p>I am trying to convert an angular2 component to use asynchronous data calls. I am displaying the data as on a chart using a dedicated charting library. The chart needs to b passed the data in a certain format (shown below).  </p>\n\n<pre><code>public barChartData: any[] = [\n    { data: this.dataService.getCellOEE('powders'), \n      label: 'OEE' }\n];\n</code></pre>\n\n<p>The issue is that <code>this.dataService.getCellOEE('powders')</code> returns an observable. Which if I bind to the chart object like <code>[datasets]=\"(barChartData | async)\"</code>, throws an error because obviously barChartData is an object rather than an observable.</p>\n\n<p>How can I asynchronously populate part of my static object with the resolved Observable data and then bind that static object to the <code>datasets</code> property of my Chart UI component?</p>\n"}, {"tags": ["asp.net-mvc", "visual-studio", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 1, "creation_date": 1483446030, "post_id": 41443422, "comment_id": 70092780, "body": "Thanks for sharing your thoughts. I was thinking about it but it sounds a bit dirty to me. I&#39;ve just found the project type <code>HTML application with TypeScript</code>, I&#39;m experimenting with it now."}, {"owner": {"reputation": 76699, "user_id": 240733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0b55ab48c85a40ac1960c1fc4d5e2f99?s=128&d=identicon&r=PG&f=1", "display_name": "stakx - no longer contributing", "link": "https://stackoverflow.com/users/240733/stakx-no-longer-contributing"}, "reply_to_user": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1483446440, "post_id": 41443422, "comment_id": 70093041, "body": "Sounds good. If you find a way to merge that TypeScript project&#39;s <code>Web.config</code> with your ASP.NET MVC 5&#39;s <code>Web.config</code>, I&#39;d appreciate if you posted your solution as an answer here!"}, {"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1483446478, "post_id": 41443422, "comment_id": 70093066, "body": "The <code>HTML Application with TypeScript</code> project type seems to work. At first glance it seems like a little empty Web project with preconfigured TypeScript support. I&#39;ve just copied all the sources and typings and it seems to be working fine. I guess it wasn&#39;t present that time when you had to make the decision."}, {"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1483446576, "post_id": 41443422, "comment_id": 70093128, "body": "I don&#39;t see right now why I&#39;d need to merge the TypeScript project&#39;s <code>web.config</code> into the Web MVC project&#39;s one. While it is present in the TypeScript project indeed, it has almost no content, seems like just a <i>technical thing</i>. I think I&#39;ll even try to delete it as it has only a couple of seemingly irrelevant settings."}, {"owner": {"reputation": 76699, "user_id": 240733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0b55ab48c85a40ac1960c1fc4d5e2f99?s=128&d=identicon&r=PG&f=1", "display_name": "stakx - no longer contributing", "link": "https://stackoverflow.com/users/240733/stakx-no-longer-contributing"}, "reply_to_user": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1483446716, "post_id": 41443422, "comment_id": 70093216, "body": "@Zolt&#225;nTam&#225;si: For me, that project type was available, but I wasn&#39;t (and still am not) aware of any way to merge the two <code>Web.config</code> files. In the client-side project, I might need a <code>Web.config</code> e.g. to restrict certain URL paths to certain user groups (think &quot;admin console&quot;) using <code>&lt;location&gt;</code>, in the Web API project I need it to configure Web API, authentication, connection strings, etc. That&#39;s why I couldn&#39;t completely separate the client and server projects. But if you don&#39;t need a <code>Web.config</code> for your client-side code, then the TypeScript project appears to be the right way to go."}, {"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1483446986, "post_id": 41443422, "comment_id": 70093402, "body": "I see now what you mean. I plan to stay with publishing only the single MVC project. I&#39;ll copy all the outputs of the <i>client project</i> (like the compiled <code>js</code>, and <code>css</code> files, etc.) to the main MVC project using for example a simple post-build script, so this project will be really only a dev environment layer."}, {"owner": {"reputation": 76699, "user_id": 240733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0b55ab48c85a40ac1960c1fc4d5e2f99?s=128&d=identicon&r=PG&f=1", "display_name": "stakx - no longer contributing", "link": "https://stackoverflow.com/users/240733/stakx-no-longer-contributing"}, "reply_to_user": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1483447138, "post_id": 41443422, "comment_id": 70093499, "body": "@Zolt&#225;nTam&#225;si: Sounds reasonable. Be aware that as soon as you have build event scripts (such as <code>xcopy</code>-ing files between two project output directories), incremental builds might no longer work; Visual Studio will do full rebuilds every single time. (At least that was the case back in Visual Studio 2010.)"}, {"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1483447287, "post_id": 41443422, "comment_id": 70093609, "body": "Thanks for the tip, I didn&#39;t experience that so far fortunately. If you add the option to use the <code>HTML Application with TypeScript</code> project type to your answer for the sake of summarizing the comments, I&#39;ll accept it."}, {"owner": {"reputation": 76699, "user_id": 240733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0b55ab48c85a40ac1960c1fc4d5e2f99?s=128&d=identicon&r=PG&f=1", "display_name": "stakx - no longer contributing", "link": "https://stackoverflow.com/users/240733/stakx-no-longer-contributing"}, "reply_to_user": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 1, "creation_date": 1483447817, "post_id": 41443422, "comment_id": 70093933, "body": "@Zolt&#225;nTam&#225;si: Done. Good luck with your project, and a happy new year!"}], "tags": [], "owner": {"reputation": 76699, "user_id": 240733, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0b55ab48c85a40ac1960c1fc4d5e2f99?s=128&d=identicon&r=PG&f=1", "display_name": "stakx - no longer contributing", "link": "https://stackoverflow.com/users/240733/stakx-no-longer-contributing"}, "is_accepted": true, "score": 1, "last_activity_date": 1483447794, "last_edit_date": 1483447794, "creation_date": 1483445906, "answer_id": 41443422, "question_id": 41443297, "link": "https://stackoverflow.com/questions/41443297/how-to-put-typescript-sources-into-separate-vs-project/41443422#41443422", "title": "How to put TypeScript sources into separate VS project?", "body": "<p>First, if your client-side code (the TypeScript application) does not need its own <code>Web.config</code> file &mdash; that is, you don't need to configure IIS authorization, redirects, etc. &mdash; you can simply <strong>use the <em>\"HTML Application with TypeScript\"</em> project type in Visual Studio</strong>.</p>\n\n<p>However, if both your client and server code need their own <code>Web.config</code> and they get deployed to the same IIS web site, having two separate ASP.NET projects becomes more difficult, because one needs to merge two <code>Web.config</code> files&hellip; which is impossible, AFAIK.</p>\n\n<p>I was facing a similar problem, but in my case I had a AngularJS-based web application programmed in TypeScript, and an ASP.NET Web API backend.</p>\n\n<p>The best I could think of so far that doesn't require any additional build steps was to not move the TypeScript code into a separate project, but to <strong>move the Web API / MVC code instead</strong>. The client-side TypeScript ends up in the ASP.NET web project, the Web API goes into a class library.</p>\n\n<p>Two remaining pain points are the shared <code>Web.config</code> and bootstrapping Web API via <code>Global.asax</code>, which ends up in the \"wrong\" project. Regarding the <code>Web.config</code>, it might be possible to further extract Web API configuration into a separate <code>.config</code> file via the <code>configSource</code> mechanism. I don't see a way to get the Web API bootstrapping in <code>Global.asax</code> out of the (otherwise client-only code) ASP.NET project.</p>\n"}, {"comments": [{"owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "edited": false, "score": 0, "creation_date": 1483447431, "post_id": 41443795, "comment_id": 70093706, "body": "Thank you for the answer. I already have a thin controller layer with underlying business service layers, but still I need this separation for other reasons."}], "tags": [], "owner": {"reputation": 2592, "user_id": 1606208, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e15547719d80f1a93a4c3a037a76935a?s=128&d=identicon&r=PG", "display_name": "Sean", "link": "https://stackoverflow.com/users/1606208/sean"}, "is_accepted": false, "score": 0, "last_activity_date": 1483447284, "creation_date": 1483447284, "answer_id": 41443795, "question_id": 41443297, "link": "https://stackoverflow.com/questions/41443297/how-to-put-typescript-sources-into-separate-vs-project/41443795#41443795", "title": "How to put TypeScript sources into separate VS project?", "body": "<p>IMO, client side code like your javascript or css should be together with your \"backend\" code, the backend code doesn't mean to be your entire backend code, it should be a thin controller layer application which only handle http request and server side rendering</p>\n\n<p>you could separate your monolithic application into multiple <code>service layer</code> and one <code>frontend layer</code> which only handle httprequest and rendering   </p>\n\n<p>the problem to separate only javascript and css into a single project is </p>\n\n<ol>\n<li><p>it makes deployment complex, when you have incompatibility between your client code and server code, you don't know which should be deploy first</p></li>\n<li><p>you can't do js hash (you don't need to deal with client cache) when you separate your client code from backend</p></li>\n</ol>\n"}], "owner": {"reputation": 10414, "user_id": 1323504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8fqkP.jpg?s=128&g=1", "display_name": "Zolt&#225;n Tam&#225;si", "link": "https://stackoverflow.com/users/1323504/zolt%c3%a1n-tam%c3%a1si"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 41443422, "answer_count": 2, "score": 1, "last_activity_date": 1483447794, "creation_date": 1483445541, "question_id": 41443297, "link": "https://stackoverflow.com/questions/41443297/how-to-put-typescript-sources-into-separate-vs-project", "title": "How to put TypeScript sources into separate VS project?", "body": "<p>I have a long-running web project (3-4 years old), which is based on ASP.NET MVC 5. I have a large client-side codebase too, written in TypeScript. Due to earlier conventions, the TypeScript sources are part of the MVC 5 <code>csproj</code> project, so it gets compiled together with the back-end.</p>\n\n<p>This structure is very unfortunate due to many reasons. A few main ones are: violation of SRP, strongly coupled to backend, no way to separately maintain and build backend, no way to separately maintain and build front-end, etc.</p>\n\n<p>I'd like to separate the client-side codebase into a new Visual Studio project, however, I have no idea what the best way would be, as Visual Studio doesn't provide a way to have clean TypeScript projects (at least as far as I know).</p>\n\n<p>I'm using Visual Studio 2015 with TypeScript 2.0. What options do I have?</p>\n"}, {"tags": ["javascript", "unit-testing", "typescript", "jasmine"], "comments": [{"owner": {"reputation": 87, "user_id": 5547402, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154319694545968/picture?type=large", "display_name": "Shaked Tayeb", "link": "https://stackoverflow.com/users/5547402/shaked-tayeb"}, "edited": false, "score": 0, "creation_date": 1483443530, "post_id": 41442268, "comment_id": 70091271, "body": "I am not sure if this will be helpfull for anyone but what made this issue for me was that before that check there was an already defined spy for the function i tested. so i just moved the tests up, not the smothest of soultions but fixed the current issue."}], "answers": [{"tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 0, "last_activity_date": 1483444077, "creation_date": 1483444077, "answer_id": 41442839, "question_id": 41442268, "link": "https://stackoverflow.com/questions/41442268/jasmine-typescript-issue-with-testing-func-vs-let-item-func/41442839#41442839", "title": "Jasmine typescript - issue with testing func vs let item = func", "body": "<p>The method <code>addIframe</code> is defined on the <code>main</code> object because you are creating a new instance of the anonymous constructor function. So you have to use <code>main.addIframe()</code> instead of <code>addIframe()</code>:</p>\n\n<pre><code>expect(main.addIframe()).toBe(true);\n</code></pre>\n\n<p>Here's a working example: <a href=\"http://jsfiddle.net/bBL9P/508/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/bBL9P/508/</a></p>\n"}], "owner": {"reputation": 87, "user_id": 5547402, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154319694545968/picture?type=large", "display_name": "Shaked Tayeb", "link": "https://stackoverflow.com/users/5547402/shaked-tayeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 41442839, "answer_count": 1, "score": 3, "last_activity_date": 1483444077, "creation_date": 1483442229, "question_id": 41442268, "link": "https://stackoverflow.com/questions/41442268/jasmine-typescript-issue-with-testing-func-vs-let-item-func", "title": "Jasmine typescript - issue with testing func vs let item = func", "body": "<p>I am trying to Test a function in jasmine that is defined like this:</p>\n\n<pre><code>let main =  new function() {\n    this.addIframe = () =&gt; {\n        try {\n            $(\"body\").append(\"&lt;iframe id='myiframe'&gt; &lt;/iframe&gt;\");\n            return true;\n        } catch (err) {\n            dosomthing();\n            return false;\n        }\n    };\n};\n</code></pre>\n\n<p>I need this type of definition to later on set up spies and stuff like that in the test suit. But right now im stuck with an issue when trying to test the return statment using this code:</p>\n\n<pre><code>  describe(\"Function AddIframe\", ()=&gt; {\n    it(\"should return true if opened iframe\",()=&gt;{\n        expect(addIframe()).toBe(true);\n   });\n</code></pre>\n\n<p>The issue is i get Undefined, now i understand that it is becouse the way js work, with the 2 step run.</p>\n\n<p>I tried moving to a function(){} defintion but  i need that for my other test. \nI test the idea of putting it inside an object but still gets undefined even when using this.method.  </p>\n\n<p>Can any one tell me what am i missing here or how i can bypass this issue? </p>\n"}, {"tags": ["javascript", "typescript", "ramda.js"], "answers": [{"comments": [{"owner": {"reputation": 10985, "user_id": 231821, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d5bed99fd1db8db24640148a5032a47?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/231821/jim"}, "edited": false, "score": 0, "creation_date": 1483441837, "post_id": 41442103, "comment_id": 70090288, "body": "I get the error &#39;cannot use imports, exports, or module augmentations when &#39;--module&#39; is &#39;none&#39;. Which module option will get me closest to what I used to have with <code>&#47;&#47;&#47; &lt;reference &#47;&gt;</code>?"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "reply_to_user": {"reputation": 10985, "user_id": 231821, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d5bed99fd1db8db24640148a5032a47?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/231821/jim"}, "edited": false, "score": 0, "creation_date": 1483443028, "post_id": 41442103, "comment_id": 70090992, "body": "You can set <code>compilerOptions.module</code> as <code>commonjs</code> in your <code>tsconfig.json</code> and use <code>import</code>statements."}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 9, "last_activity_date": 1483441638, "creation_date": 1483441638, "answer_id": 41442103, "question_id": 41441999, "link": "https://stackoverflow.com/questions/41441999/import-r-ramda-into-typescript-ts-file/41442103#41442103", "title": "import R (ramda) into typescript .ts file", "body": "<p>You have to import it using the <code>import</code> statement:</p>\n\n<pre><code>import * as R from \"ramda\";\n</code></pre>\n\n<p>Also, you don't have to use <code>/// &lt;reference /&gt;</code> anymore, just do <code>npm install --save @types/ramda</code>.</p>\n"}], "owner": {"reputation": 10985, "user_id": 231821, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2d5bed99fd1db8db24640148a5032a47?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/231821/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3135, "favorite_count": 1, "accepted_answer_id": 41442103, "answer_count": 1, "score": 5, "last_activity_date": 1483442992, "creation_date": 1483441305, "question_id": 41441999, "link": "https://stackoverflow.com/questions/41441999/import-r-ramda-into-typescript-ts-file", "title": "import R (ramda) into typescript .ts file", "body": "<p>I am attempting to use <strong>Ramda.js</strong> as follows:</p>\n\n<pre><code>/// &lt;reference path=\"../../../node_modules/@types/ramda/index.d.ts\" /&gt;\nmodule App {\n    var settab = R.once((element) =&gt; current(element));  \n    function current(li: any) {\n        // ...\n    }    \n}\n</code></pre>\n\n<blockquote>\n  <p>I get error, <strong>Cannot find name 'R'</strong></p>\n</blockquote>\n\n<p>In the case of the <code>ramda/index.d.ts</code> file, the declaration (with detail omitted) is as follows:</p>\n\n<pre><code>declare var R: R.Static;    \ndeclare namespace R {\n    type Ord = number | string | boolean;\n    interface Static {\n        // .........\n    }\n}\n\nexport = R;\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "gulp", "webpack"], "comments": [{"owner": {"reputation": 14850, "user_id": 3891533, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f44eb6cec2fe7699a8b02db5c05e4f24?s=128&d=identicon&r=PG", "display_name": "Dieterg", "link": "https://stackoverflow.com/users/3891533/dieterg"}, "edited": false, "score": 0, "creation_date": 1483440322, "post_id": 41441642, "comment_id": 70089361, "body": "We&#39;ll need more info, how does your webpack.config and your entry file look like?"}, {"owner": {"reputation": 339, "user_id": 4972922, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WR7sAWRm4uQ/AAAAAAAAAAI/AAAAAAAAAKo/8tvykBOVcnw/photo.jpg?sz=128", "display_name": "Saurabh Mishra", "link": "https://stackoverflow.com/users/4972922/saurabh-mishra"}, "reply_to_user": {"reputation": 14850, "user_id": 3891533, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f44eb6cec2fe7699a8b02db5c05e4f24?s=128&d=identicon&r=PG", "display_name": "Dieterg", "link": "https://stackoverflow.com/users/3891533/dieterg"}, "edited": false, "score": 0, "creation_date": 1483440398, "post_id": 41441642, "comment_id": 70089398, "body": "@Dieterg I have added git repo link please clone it to see code"}, {"owner": {"reputation": 339, "user_id": 4972922, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WR7sAWRm4uQ/AAAAAAAAAAI/AAAAAAAAAKo/8tvykBOVcnw/photo.jpg?sz=128", "display_name": "Saurabh Mishra", "link": "https://stackoverflow.com/users/4972922/saurabh-mishra"}, "reply_to_user": {"reputation": 14850, "user_id": 3891533, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f44eb6cec2fe7699a8b02db5c05e4f24?s=128&d=identicon&r=PG", "display_name": "Dieterg", "link": "https://stackoverflow.com/users/3891533/dieterg"}, "edited": false, "score": 0, "creation_date": 1483449169, "post_id": 41441642, "comment_id": 70094781, "body": "@Dieterg I have further investigated this issue by disabling source map and I have found the problem. The above mentioned code compiles to exports.CoreModule = angular_1.default.module(&#39;app.core&#39;, []).name; where there is no property named default on angular_1"}], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 4972922, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WR7sAWRm4uQ/AAAAAAAAAAI/AAAAAAAAAKo/8tvykBOVcnw/photo.jpg?sz=128", "display_name": "Saurabh Mishra", "link": "https://stackoverflow.com/users/4972922/saurabh-mishra"}, "edited": false, "score": 0, "creation_date": 1483443032, "post_id": 41442430, "comment_id": 70090996, "body": "I am able to get angular object from console but as I step over <code>export const CoreModule = angular.module(&#39;app.core&#39;, []).name;</code> line the code I get the exception. I think that this error is misleading."}], "tags": [], "owner": {"reputation": 23, "user_id": 5584450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07395465ef8cd4d9b2ac93d83e7848ae?s=128&d=identicon&r=PG&f=1", "display_name": "DevX", "link": "https://stackoverflow.com/users/5584450/devx"}, "is_accepted": false, "score": 1, "last_activity_date": 1483442745, "creation_date": 1483442745, "answer_id": 41442430, "question_id": 41441642, "link": "https://stackoverflow.com/questions/41441642/angular-1-default-module-uncaught-typeerror-cannot-read-property-module-of-un/41442430#41442430", "title": "angular_1.default.module Uncaught TypeError: Cannot read property &#39;module&#39; of undefined", "body": "<p>Are you sure that AngularJS gets included before your script? The error means that the object angular hasn't been seen by Javascript yet and therefore module cannot be called on it.</p>\n"}, {"comments": [{"owner": {"reputation": 2096, "user_id": 2954463, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b12033e593a98a470a964d7a93297386?s=128&d=identicon&r=PG&f=1", "display_name": "user2954463", "link": "https://stackoverflow.com/users/2954463/user2954463"}, "edited": false, "score": 1, "creation_date": 1501691841, "post_id": 41444925, "comment_id": 77893633, "body": "But why is this necessary? I see a index.js file in <code>node_modules&#47;angular</code> that sets the default export to &#39;angular&#39; (this v 1.6)"}, {"owner": {"reputation": 2069, "user_id": 1591067, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kVfM7.png?s=128&g=1", "display_name": "Casey Dwayne", "link": "https://stackoverflow.com/users/1591067/casey-dwayne"}, "edited": false, "score": 0, "creation_date": 1523582118, "post_id": 41444925, "comment_id": 86630744, "body": "Magic fix for changing JS to TS in webpack 2.X."}], "tags": [], "owner": {"reputation": 339, "user_id": 4972922, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WR7sAWRm4uQ/AAAAAAAAAAI/AAAAAAAAAKo/8tvykBOVcnw/photo.jpg?sz=128", "display_name": "Saurabh Mishra", "link": "https://stackoverflow.com/users/4972922/saurabh-mishra"}, "is_accepted": false, "score": 5, "last_activity_date": 1483451087, "creation_date": 1483451087, "answer_id": 41444925, "question_id": 41441642, "link": "https://stackoverflow.com/questions/41441642/angular-1-default-module-uncaught-typeerror-cannot-read-property-module-of-un/41444925#41444925", "title": "angular_1.default.module Uncaught TypeError: Cannot read property &#39;module&#39; of undefined", "body": "<p>I have replaced <code>import angular from 'angular'</code> with <code>import * as angular from 'angular'</code> and now it is working fine.</p>\n"}, {"tags": [], "owner": {"reputation": 3227, "user_id": 1692341, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/uiHp6.jpg?s=128&g=1", "display_name": "Veluria", "link": "https://stackoverflow.com/users/1692341/veluria"}, "is_accepted": false, "score": 0, "last_activity_date": 1573141403, "creation_date": 1573141403, "answer_id": 58752267, "question_id": 41441642, "link": "https://stackoverflow.com/questions/41441642/angular-1-default-module-uncaught-typeerror-cannot-read-property-module-of-un/58752267#58752267", "title": "angular_1.default.module Uncaught TypeError: Cannot read property &#39;module&#39; of undefined", "body": "<p>You can also just add</p>\n\n<pre><code>\"esModuleInterop\": true,\n</code></pre>\n\n<p>to your <code>tsconfig.json</code> instead of using a star import everywhere.</p>\n"}], "owner": {"reputation": 339, "user_id": 4972922, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WR7sAWRm4uQ/AAAAAAAAAAI/AAAAAAAAAKo/8tvykBOVcnw/photo.jpg?sz=128", "display_name": "Saurabh Mishra", "link": "https://stackoverflow.com/users/4972922/saurabh-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1573141403, "creation_date": 1483440105, "last_edit_date": 1483449303, "question_id": 41441642, "link": "https://stackoverflow.com/questions/41441642/angular-1-default-module-uncaught-typeerror-cannot-read-property-module-of-un", "title": "angular_1.default.module Uncaught TypeError: Cannot read property &#39;module&#39; of undefined", "body": "<p>I am creating a starter template using angular 1.6, webpack, gulp and typescript. I am able to compile and build my application but app is not bootstrapping. The issue is weird as when I am debugging <code>angular.module</code> is defined and module can be created from console <code>angular.module('testModule', [])</code> but as resume debugger I get exception in <code>core.module.ts</code> at <code>export const CoreModule = angular.module('app.core', []).name;</code>.</p>\n\n<p>I have further investigated this issue by disabling source code and I have found the problem. The above mentioned code compiles to <code>exports.CoreModule = angular_1.default.module('app.core', []).name;</code> where there is no property named <code>default</code> on angular_1.\nFor code refer <a href=\"https://github.com/muditsaurabh/awesome-ng-starter\" rel=\"nofollow noreferrer\">https://github.com/muditsaurabh/awesome-ng-starter</a></p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'module' of undefined\n    at Object.&lt;anonymous&gt; (app.bundle.js?cd4d443\u2026:1)\n    at e (vendor.bundle.js?cd4d443\u2026:1)\n    at Object.&lt;anonymous&gt; (app.bundle.js?cd4d443\u2026:1)\n    at e (vendor.bundle.js?cd4d443\u2026:1)\n    at Object.&lt;anonymous&gt; (app.bundle.js?cd4d443\u2026:1)\n    at e (vendor.bundle.js?cd4d443\u2026:1)\n    at window.webpackJsonp (vendor.bundle.js?cd4d443\u2026:1)\n    at app.bundle.js?cd4d443\u2026:1\nvendor.bundle.js?cd4d443\u2026:6Uncaught Error: [$injector:modulerr] Failed to instantiate module app due to:\nError: [$injector:nomod] Module 'app' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.\nhttp://errors.angularjs.org/1.6.1/$injector/nomod?p0=app\n    at http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:377\n    at http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:11230\n    at n (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:10668)\n    at http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:11004\n    at http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:20796\n    at r (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:809)\n    at h (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:20644)\n    at le (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:22631)\n    at a (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:8560)\n    at st (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:8870)\nhttp://errors.angularjs.org/1.6.1/$injector/modulerr?p0=app&amp;p1=Error%3A%20%\u20262F%2Flocalhost%3A8000%2Fvendor.bundle.js%3Fcd4d4432605c6f5be56a%3A6%3A8870)\n    at http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:377\n    at http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:11230\n    at n (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:10668)\n    at http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:11004\n    at http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:20796\n    at r (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:809)\n    at h (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:20644)\n    at le (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:22631)\n    at a (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:8560)\n    at st (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:8870)\nhttp://errors.angularjs.org/1.6.1/$injector/modulerr?p0=app&amp;p1=Error%3A%20%\u20262F%2Flocalhost%3A8000%2Fvendor.bundle.js%3Fcd4d4432605c6f5be56a%3A6%3A8870)\n    at http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:377\n    at http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:21073\n    at r (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:809)\n    at h (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:20644)\n    at le (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:22631)\n    at a (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:8560)\n    at st (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:8870)\n    at at (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:8109)\n    at http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:11:13916\n    at HTMLDocument.n (http://localhost:8000/vendor.bundle.js?cd4d4432605c6f5be56a:6:17809)\n</code></pre>\n"}, {"tags": ["node.js", "angular", "typescript", "npm"], "comments": [{"owner": {"reputation": 718, "user_id": 4712818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYxBG.png?s=128&g=1", "display_name": "MatthieuLemoine", "link": "https://stackoverflow.com/users/4712818/matthieulemoine"}, "edited": false, "score": 0, "creation_date": 1483436041, "post_id": 41440322, "comment_id": 70086575, "body": "What is your <code>start</code>command ?"}, {"owner": {"reputation": 5268, "user_id": 2688699, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/48b4f8de1163b0c94ba92d34f632ef47?s=128&d=identicon&r=PG", "display_name": "Tuan Anh Tran", "link": "https://stackoverflow.com/users/2688699/tuan-anh-tran"}, "edited": false, "score": 1, "creation_date": 1483436183, "post_id": 41440322, "comment_id": 70086664, "body": "@AhmedRagheb what do you define for <code>npm start</code>? it&#39;s just a shortcut for command that you defined in package.json"}, {"owner": {"reputation": 1462, "user_id": 5118475, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DibeM.jpg?s=128&g=1", "display_name": "Ahmed Ragheb", "link": "https://stackoverflow.com/users/5118475/ahmed-ragheb"}, "edited": false, "score": 0, "creation_date": 1483436289, "post_id": 41440322, "comment_id": 70086731, "body": "Ok i got it .. my command is <code>tsc &amp;&amp; concurrently \\&quot;tsc -w\\&quot; \\&quot;lite-server\\&quot; </code>, i think i should remove -w ?!"}], "answers": [{"tags": [], "owner": {"reputation": 236, "user_id": 7325824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BaxgM.jpg?s=128&g=1", "display_name": "E. Hein", "link": "https://stackoverflow.com/users/7325824/e-hein"}, "is_accepted": false, "score": 0, "last_activity_date": 1483437813, "creation_date": 1483437813, "answer_id": 41440877, "question_id": 41440322, "link": "https://stackoverflow.com/questions/41440322/how-to-disable-auto-watch-in-npm/41440877#41440877", "title": "How to Disable auto watch in Npm", "body": "<p>place a bs-config.json file in your project folder containing:</p>\n\n<pre><code>{\n \"files\": [\"./src/**/*.{html,htm,css}\"]\n}\n</code></pre>\n\n<p>so it won't watch js files anymore</p>\n"}], "owner": {"reputation": 1462, "user_id": 5118475, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DibeM.jpg?s=128&g=1", "display_name": "Ahmed Ragheb", "link": "https://stackoverflow.com/users/5118475/ahmed-ragheb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 947, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483440540, "creation_date": 1483435996, "last_edit_date": 1483440540, "question_id": 41440322, "link": "https://stackoverflow.com/questions/41440322/how-to-disable-auto-watch-in-npm", "title": "How to Disable auto watch in Npm", "body": "<p>I use node <code>'npm start'</code> to compile my Angular 2 project, But I need to compile .tsc files manually not using the auto watch. </p>\n\n<p>I want to do that as I am using ASP.net with Angular and for a reason, solution don't see my changes</p>\n"}, {"tags": ["javascript", "unit-testing", "typescript", "jasmine", "automated-tests"], "comments": [{"owner": {"reputation": 3962, "user_id": 3588312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b791363c864e23e00bc9e74a20fea35?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir M", "link": "https://stackoverflow.com/users/3588312/vladimir-m"}, "edited": false, "score": 0, "creation_date": 1483434837, "post_id": 41439913, "comment_id": 70085898, "body": "I can see you do setup the test. but where do you call the getAndSet method in the test? (not saying that your setup is correct, btw)"}, {"owner": {"reputation": 87, "user_id": 5547402, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154319694545968/picture?type=large", "display_name": "Shaked Tayeb", "link": "https://stackoverflow.com/users/5547402/shaked-tayeb"}, "reply_to_user": {"reputation": 3962, "user_id": 3588312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b791363c864e23e00bc9e74a20fea35?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir M", "link": "https://stackoverflow.com/users/3588312/vladimir-m"}, "edited": false, "score": 0, "creation_date": 1483435086, "post_id": 41439913, "comment_id": 70086029, "body": "thanks i just noticed that, and  fixed it and still the same issue. also update the code to reflect that."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 5547402, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154319694545968/picture?type=large", "display_name": "Shaked Tayeb", "link": "https://stackoverflow.com/users/5547402/shaked-tayeb"}, "edited": false, "score": 0, "creation_date": 1483436968, "post_id": 41440194, "comment_id": 70087211, "body": "ty that fixed the issue."}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 0, "last_activity_date": 1483436164, "last_edit_date": 1483436164, "creation_date": 1483435583, "answer_id": 41440194, "question_id": 41439913, "link": "https://stackoverflow.com/questions/41439913/jasmine-javascript-basic-function-test-is-failing/41440194#41440194", "title": "jasmine javascript basic function test is failing", "body": "<p>The name for your spy is wrong. Your spy is called <code>getCountry2</code> whereas in the code the method is called <code>getCountry</code>:</p>\n\n<pre><code>getCountry = jasmine.createSpy(\"getCountry spy\");\ngetAndSet();\nexpect(getCountry).toHaveBeenCalled();\n</code></pre>\n\n<p>Here is a working example: <a href=\"http://jsfiddle.net/bBL9P/506/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/bBL9P/506/</a></p>\n"}], "owner": {"reputation": 87, "user_id": 5547402, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154319694545968/picture?type=large", "display_name": "Shaked Tayeb", "link": "https://stackoverflow.com/users/5547402/shaked-tayeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 1, "accepted_answer_id": 41440194, "answer_count": 1, "score": 0, "last_activity_date": 1483436164, "creation_date": 1483434471, "last_edit_date": 1483435036, "question_id": 41439913, "link": "https://stackoverflow.com/questions/41439913/jasmine-javascript-basic-function-test-is-failing", "title": "jasmine javascript basic function test is failing", "body": "<p>Hi i am trying to start a simple jasmine test(using typescript), which seem to not work. what im testing is to see if a function is called in the else section of an inner function if a variable is not empty.</p>\n\n<p>my function:</p>\n\n<pre><code>let getAndSet = () =&gt; {\n    if (main.getApiAcessToken() === \"\") {\n        main.addIframe();\n        main.getGraphToken();\n    } else {\n        getCountry();\n    }\n};\n</code></pre>\n\n<p>this is the test:</p>\n\n<pre><code>it(\"should call Function get country if token that was passed not empty\", () =&gt; {\n    let main2 = main;\n    main2.getApiAcessToken = jasmine.createSpy(\"getApiAcessToken spy\").and.returnValue(\"not empty\");\n    let getCountry2 = jasmine.createSpy(\"getCountry spy\");\n    getAndSet();\n    expect(getCountry2).toHaveBeenCalled();\n});\n</code></pre>\n\n<p>I don't seem to understand what might be the issue, i trying change to a normal js function or a this. function inside the main none of them seem to work it seems i'm missing somthing very basic in jasmine.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 695, "user_id": 3480833, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/823cbcfec52bb3d45dbbbd37b61616bf?s=128&d=identicon&r=PG&f=1", "display_name": "JSNinja", "link": "https://stackoverflow.com/users/3480833/jsninja"}, "edited": false, "score": 0, "creation_date": 1483434310, "post_id": 41439825, "comment_id": 70085613, "body": "Add your console.log in a setTimeout(()=&gt;{console.log(this.route)},0);"}], "answers": [{"comments": [{"owner": {"reputation": 11343, "user_id": 7129694, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beMK2.jpg?s=128&g=1", "display_name": "Ashutosh Jha", "link": "https://stackoverflow.com/users/7129694/ashutosh-jha"}, "edited": false, "score": 0, "creation_date": 1483435186, "post_id": 41439953, "comment_id": 70086091, "body": "should i need to send anything in route file also"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 11343, "user_id": 7129694, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beMK2.jpg?s=128&g=1", "display_name": "Ashutosh Jha", "link": "https://stackoverflow.com/users/7129694/ashutosh-jha"}, "edited": false, "score": 0, "creation_date": 1483435279, "post_id": 41439953, "comment_id": 70086146, "body": "no, that&#39;s all handled internally. Take a look at the documentation for an implementation"}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": true, "score": 14, "last_activity_date": 1570716399, "last_edit_date": 1570716399, "creation_date": 1483434648, "answer_id": 41439953, "question_id": 41439825, "link": "https://stackoverflow.com/questions/41439825/how-to-get-requesting-url-in-guard-angular-2/41439953#41439953", "title": "How to get requesting url in guard angular 2", "body": "<p>Within the <code>canActivate</code> function the <code>ActivatedRouteSnapshot</code> and the <code>RouterStateSnapshot</code> is passed through as arguments:</p>\n\n<pre><code>@Injectable()\nexport class HasPermissionService implements CanActivate {\n\n   private permissions = [];\n\n   constructor(private _core: CoreService) { \n     this.permissions = this._core.getPermission();\n   } \n\n   canActivate(\n      route: ActivatedRouteSnapshot,\n      state: RouterStateSnapshot\n    ): Observable&lt;boolean&gt;|Promise&lt;boolean&gt;|boolean {\n       //check here\n    }\n}\n</code></pre>\n\n<p>You should start there to look at which route is being activated. The URL segments matched by this route are inside the <code>route.url</code></p>\n\n<p><a href=\"https://angular.io/api/router/CanActivate\" rel=\"nofollow noreferrer\"><strong>CanActivate</strong></a></p>\n"}], "owner": {"reputation": 11343, "user_id": 7129694, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beMK2.jpg?s=128&g=1", "display_name": "Ashutosh Jha", "link": "https://stackoverflow.com/users/7129694/ashutosh-jha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6270, "favorite_count": 2, "accepted_answer_id": 41439953, "answer_count": 1, "score": 6, "last_activity_date": 1602412382, "creation_date": 1483434146, "last_edit_date": 1602412382, "question_id": 41439825, "link": "https://stackoverflow.com/questions/41439825/how-to-get-requesting-url-in-guard-angular-2", "title": "How to get requesting url in guard angular 2", "body": "<p>How to get requesting url in guard service </p>\n\n<p><strong>HasPermissionService</strong></p>\n\n<pre><code>@Injectable()\nexport class HasPermissionService implements CanActivate{\n  private permissions = [];\n\n  constructor(private _core:CoreService,private route1:Router, private _route:ActivatedRoute ,private route: ActivatedRouteSnapshot,private  state: RouterStateSnapshot) { \n    console.log('constructor calling ...');\n    // console.log(this.route.url);\n    this.permissions = this._core.getPermission();\n    console.log('inside guard');\n    console.log(this.permissions);\n  }\n\n  canActivate( ) {\n    console.log(this.route);\n    console.log(this._route);\n    return true;\n  }\n}\n</code></pre>\n\n<p>but I am getting old url , from which I am coming from. How to get the current url? </p>\n\n<p><strong>routes</strong></p>\n\n<pre><code>{path:'grade-listing',component:GradeListingComponent,canActivate:[HasPermissionService]}\n</code></pre>\n\n<p>I need to get 'grade-listing'</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 3033, "user_id": 421020, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/L87tK.jpg?s=128&g=1", "display_name": "Mark Sandman", "link": "https://stackoverflow.com/users/421020/mark-sandman"}, "edited": false, "score": 0, "creation_date": 1483433795, "post_id": 41439429, "comment_id": 70085367, "body": "That&#39;s great thanks... but I get that &#39; this.profile.map&#39; is not a function even though I have imported the map operator. I just want to do a simple if/then or a Switch statement on the value... is map the correct operator?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3033, "user_id": 421020, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/L87tK.jpg?s=128&g=1", "display_name": "Mark Sandman", "link": "https://stackoverflow.com/users/421020/mark-sandman"}, "edited": false, "score": 0, "creation_date": 1483434115, "post_id": 41439429, "comment_id": 70085524, "body": "Hard to tell. Your question doesn&#39;t contain any information (code) that demonstrates where <code>profile</code> comes from <code>[profile]=&quot;...&quot;</code>. You could try <code>ngOnChanges(changes)</code> instead of <code>ngOnInit()</code> and add a check <code>if(changes[&#39;profile&#39;]) { this.profile.map...;  }</code>"}, {"owner": {"reputation": 3033, "user_id": 421020, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/L87tK.jpg?s=128&g=1", "display_name": "Mark Sandman", "link": "https://stackoverflow.com/users/421020/mark-sandman"}, "edited": false, "score": 0, "creation_date": 1483444164, "post_id": 41439429, "comment_id": 70091609, "body": "Sorry, I will add that to the question, but I add my component into another compnent and pass the date throuh the HTML template like so &#180;&lt;app-profile-visitor [profile]=&quot;{ &#39;visitDate&#39;: visitorEntry.visitDate, &#39;visitType&#39;: visitorEntry.visitType }&quot;&gt;&lt;/app-profile-visitor&gt;&#180;"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3033, "user_id": 421020, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/L87tK.jpg?s=128&g=1", "display_name": "Mark Sandman", "link": "https://stackoverflow.com/users/421020/mark-sandman"}, "edited": false, "score": 0, "creation_date": 1483444478, "post_id": 41439429, "comment_id": 70091833, "body": "You are passing an object. <code>Object</code> doesn&#39;t have a map function <a href=\"http://stackoverflow.com/questions/14810506/map-function-for-objects-instead-of-arrays\" title=\"map function for objects instead of arrays\">stackoverflow.com/questions/14810506/&hellip;</a>. Perhaps you want <code>this.profile.keys.map(...)</code> or similar"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1483432721, "creation_date": 1483432721, "answer_id": 41439429, "question_id": 41439405, "link": "https://stackoverflow.com/questions/41439405/transforming-input-value-in-angular2-component-cannot-read-property-map-of-u/41439429#41439429", "title": "Transforming @Input value in Angular2 Component: Cannot read property &#39;map&#39; of undefined", "body": "\n\n<p>Inputs are not yet set when the constructor is called. Use the <code>ngOnInit()</code> lifecycle callback instead.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>ngOnInit() {\n    // how do I apply a switch or a check to modify the profile.visitorType\n    this.profile.map((x) =&gt; {\n        console.log(x);\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 3033, "user_id": 421020, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/L87tK.jpg?s=128&g=1", "display_name": "Mark Sandman", "link": "https://stackoverflow.com/users/421020/mark-sandman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 907, "favorite_count": 0, "accepted_answer_id": 41439429, "answer_count": 1, "score": 2, "last_activity_date": 1483444270, "creation_date": 1483432612, "last_edit_date": 1483444270, "question_id": 41439405, "link": "https://stackoverflow.com/questions/41439405/transforming-input-value-in-angular2-component-cannot-read-property-map-of-u", "title": "Transforming @Input value in Angular2 Component: Cannot read property &#39;map&#39; of undefined", "body": "\n\n<p>I have to admit I know very little about Angular2 and Observables... so I am coming back to Stackoverflow for help.</p>\n\n<p>I have a component like so:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import { Component, Input } from '@angular/core';\nimport { ProfileVisitor} from './profile-visitor';\nimport { Observable } from 'rxjs/Rx';\n\n@Component({\n  selector: 'app-profile-visitor',\n  templateUrl: './profile-visitor.component.html',\n  styleUrls: ['./profile-visitor.component.scss']\n})\nexport class ProfileVisitorComponent  {\n    @Input() profile: Observable&lt;ProfileVisitor&gt;;\n\n    constructor() {\n        // how do I apply a switch or a check to modify the profile.visitorType\n    }\n}\n</code></pre>\n\n<p>the html of the component, <code>'./profile-visitor.component.html'</code> looks like so...</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>&lt;div *ngIf=\"profile\"&gt;\n    Visited from {{ profile.visitType }} at {{ profile.visitDate | date }}\n&lt;/div&gt;\n</code></pre>\n\n<p>here is the type I created that is in <code>'./profile-visitor';</code></p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export interface ProfileVisitor {\n    visitorType: string;\n    visitorDate: string;\n}\n</code></pre>\n\n<p>Now this is all great but I need to perform some kind modification on the <code>visitorType</code> property, I assume I need to do this in the <code>ProfileVisitorComponent constructor()</code>. For example if <code>visitType</code> could be \"search\", \"suggestedLink\", \"refererFromContact\" and I need to make the wording a little better. So if visitorType was \"suggestedLink\" I would return \"Suggested Link\" or when it is \"refererFromContact\" I would return \"Reference from mutual friend\" and so on... normally I would just apply some kind of Switch case in the component / controller (I am more of an AngularJS guy) when I get the date from the backend... but with Angular2 and Observables I am a little in the dark.</p>\n\n<p>Even when I try to <code>console.log(this.profile.visitorType)</code> in the constructor I get the message that the item is undefined. This is true when I try to use map with the <code>this.profile.visitorType</code> too for example</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>constructor() {\n        // how do I apply a switch or a check to modify the profile.visitorType\n        this.profile.map((x) =&gt; {\n            console.log(x);\n        })\n    }\n</code></pre>\n\n<p>In the console....</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>Cannot read property 'map' of undefined\n</code></pre>\n\n<p>... can anyone tell me where and how I should apply a transform on the values I am given for the <code>profile.visitorType</code>?</p>\n\n<p>I pass the data by having my component nested in a parent component and the @Input is on the HTML... for example</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>&lt;app-profile-visitor [profile]=\"{ 'visitDate': visitorEntry.visitDate, 'visitType': visitorEntry.visitType }\"&gt;&lt;/app-profile-visitor&gt;\n</code></pre>\n\n<p>Thanks in advance and if I haven't explained myself well please say so and I will rewrite / explain my problem.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 642, "user_id": 3932734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MiRyl.png?s=128&g=1", "display_name": "Justin Tamblyn", "link": "https://stackoverflow.com/users/3932734/justin-tamblyn"}, "edited": false, "score": 1, "creation_date": 1483422601, "post_id": 41436990, "comment_id": 70080316, "body": "Have you declared your service under providers in your ngModule? Possibly in a file called app.module.ts"}, {"owner": {"reputation": 392, "user_id": 5507185, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-o2whJD6ciSU/AAAAAAAAAAI/AAAAAAAAAK8/z25kRWpZTOI/photo.jpg?sz=128", "display_name": "Priyanka Ahire", "link": "https://stackoverflow.com/users/5507185/priyanka-ahire"}, "reply_to_user": {"reputation": 642, "user_id": 3932734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MiRyl.png?s=128&g=1", "display_name": "Justin Tamblyn", "link": "https://stackoverflow.com/users/3932734/justin-tamblyn"}, "edited": false, "score": 0, "creation_date": 1483422806, "post_id": 41436990, "comment_id": 70080383, "body": "yes I already declared service and httpModule in app.module.ts"}, {"owner": {"reputation": 392, "user_id": 5507185, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-o2whJD6ciSU/AAAAAAAAAAI/AAAAAAAAAK8/z25kRWpZTOI/photo.jpg?sz=128", "display_name": "Priyanka Ahire", "link": "https://stackoverflow.com/users/5507185/priyanka-ahire"}, "reply_to_user": {"reputation": 642, "user_id": 3932734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MiRyl.png?s=128&g=1", "display_name": "Justin Tamblyn", "link": "https://stackoverflow.com/users/3932734/justin-tamblyn"}, "edited": false, "score": 0, "creation_date": 1483423079, "post_id": 41436990, "comment_id": 70080488, "body": "for dataService instantiated or not I am giving condition .and in console &quot;find services&quot; meassgae display .."}, {"owner": {"reputation": 392, "user_id": 5507185, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-o2whJD6ciSU/AAAAAAAAAAI/AAAAAAAAAK8/z25kRWpZTOI/photo.jpg?sz=128", "display_name": "Priyanka Ahire", "link": "https://stackoverflow.com/users/5507185/priyanka-ahire"}, "reply_to_user": {"reputation": 642, "user_id": 3932734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MiRyl.png?s=128&g=1", "display_name": "Justin Tamblyn", "link": "https://stackoverflow.com/users/3932734/justin-tamblyn"}, "edited": false, "score": 0, "creation_date": 1483429000, "post_id": 41436990, "comment_id": 70083169, "body": "Do you have another solution ?"}, {"owner": {"reputation": 17948, "user_id": 844322, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tdNEi.jpg?s=128&g=1", "display_name": "A.T.", "link": "https://stackoverflow.com/users/844322/a-t"}, "edited": false, "score": 0, "creation_date": 1483429656, "post_id": 41436990, "comment_id": 70083495, "body": "it looks fine by given code, can you please share app.module and service.ts, I think &quot;http&quot; is undefined here, I don&#39;t know what is &quot;@Inject(DataService)&quot; here. did you add decorator &quot;@Injectable()&quot; on service class ???"}, {"owner": {"reputation": 392, "user_id": 5507185, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-o2whJD6ciSU/AAAAAAAAAAI/AAAAAAAAAK8/z25kRWpZTOI/photo.jpg?sz=128", "display_name": "Priyanka Ahire", "link": "https://stackoverflow.com/users/5507185/priyanka-ahire"}, "edited": false, "score": 0, "creation_date": 1483433699, "post_id": 41436990, "comment_id": 70085327, "body": "yes I am already adding @injectable() on service class.but after that I am adding in component &quot;@Inject(DataService)&quot;.If not add it&#39;s giving  error  is &quot;Can&#39;t resolve all parameter in CustomersComponent(?)&quot; thats why I am adding &quot;@Inject(DataService)&quot;"}, {"owner": {"reputation": 392, "user_id": 5507185, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-o2whJD6ciSU/AAAAAAAAAAI/AAAAAAAAAK8/z25kRWpZTOI/photo.jpg?sz=128", "display_name": "Priyanka Ahire", "link": "https://stackoverflow.com/users/5507185/priyanka-ahire"}, "edited": false, "score": 0, "creation_date": 1483534848, "post_id": 41436990, "comment_id": 70134391, "body": "Actually I found out exact error..please help me to solve this. Error is in Http is not inject in DataService and which inject in component that&#39;s why this error is coming...."}], "answers": [{"comments": [{"owner": {"reputation": 392, "user_id": 5507185, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-o2whJD6ciSU/AAAAAAAAAAI/AAAAAAAAAK8/z25kRWpZTOI/photo.jpg?sz=128", "display_name": "Priyanka Ahire", "link": "https://stackoverflow.com/users/5507185/priyanka-ahire"}, "edited": false, "score": 0, "creation_date": 1483442112, "post_id": 41442180, "comment_id": 70090445, "body": "subscribe is property of observal and then is property of promise..if change subscribe instead of then. Then it&#39;s  give error"}, {"owner": {"reputation": 392, "user_id": 5507185, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-o2whJD6ciSU/AAAAAAAAAAI/AAAAAAAAAK8/z25kRWpZTOI/photo.jpg?sz=128", "display_name": "Priyanka Ahire", "link": "https://stackoverflow.com/users/5507185/priyanka-ahire"}, "edited": false, "score": 0, "creation_date": 1483531693, "post_id": 41442180, "comment_id": 70132321, "body": "Actuall I found out exact error..please help me to solve this"}, {"owner": {"reputation": 392, "user_id": 5507185, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-o2whJD6ciSU/AAAAAAAAAAI/AAAAAAAAAK8/z25kRWpZTOI/photo.jpg?sz=128", "display_name": "Priyanka Ahire", "link": "https://stackoverflow.com/users/5507185/priyanka-ahire"}, "edited": false, "score": 0, "creation_date": 1483607270, "post_id": 41442180, "comment_id": 70167061, "body": "Finally , It&#39;s working if we are inject service in component then no need to @Injectable() to service i.e DataService..just comment this @injectable() in service file..I will update code"}], "tags": [], "owner": {"reputation": 591, "user_id": 5928330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bad11e8ae3970783428971214c1a845c?s=128&d=identicon&r=PG&f=1", "display_name": "Trusha", "link": "https://stackoverflow.com/users/5928330/trusha"}, "is_accepted": false, "score": 1, "last_activity_date": 1483443720, "last_edit_date": 1483443720, "creation_date": 1483441918, "answer_id": 41442180, "question_id": 41436990, "link": "https://stackoverflow.com/questions/41436990/cannot-read-property-get-of-undefined-in-typescript/41442180#41442180", "title": "Cannot read property &#39;get&#39; of undefined in typescript", "body": "<p>just change your code as below..  </p>\n\n<pre><code>ngOnInit() {\nthis.title;\nthis.filterText = 'Filter Customers:';\nthis.dataService.getCustomers().subscribe(customers =&gt; this.customers = customers.slice(1, 5));\n</code></pre>\n\n<p>}</p>\n\n<p>In data.service.ts</p>\n\n<pre><code>getCustomers():  Observable&lt;ICustomer[][]&gt; {\n    return this.http.get(this.customersBaseUrl)\n        .map((response: Response) =&gt; &lt;ICustomer[]&gt;response.json())\n        .do(data =&gt; console.log(\"All: \" + JSON.stringify(data)))\n        .catch(this.handleError);\n}\n\nprivate handleError(error: Response) {\n    console.error(error);\n    return Observable.throw(error.json().error || 'Server error');\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 392, "user_id": 5507185, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-o2whJD6ciSU/AAAAAAAAAAI/AAAAAAAAAK8/z25kRWpZTOI/photo.jpg?sz=128", "display_name": "Priyanka Ahire", "link": "https://stackoverflow.com/users/5507185/priyanka-ahire"}, "is_accepted": false, "score": 0, "last_activity_date": 1483607752, "creation_date": 1483607752, "answer_id": 41481106, "question_id": 41436990, "link": "https://stackoverflow.com/questions/41436990/cannot-read-property-get-of-undefined-in-typescript/41481106#41481106", "title": "Cannot read property &#39;get&#39; of undefined in typescript", "body": "<p>comment to @Injectable() in DataService. if we are inject service in component then no need to inject in service</p>\n\n<pre><code>//@Injectable() \nexport class DataService {\n    constructor(public http: Http) { }\n    getCustomers(): Promise&lt;ICustomer[]&gt; {\n        return this.http.get(this.customersBaseUrl)\n                   .toPromise()\n                   .then(response =&gt; response.json().data as ICustomer[])\n                   .catch(this.handleError);\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 392, "user_id": 5507185, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-o2whJD6ciSU/AAAAAAAAAAI/AAAAAAAAAK8/z25kRWpZTOI/photo.jpg?sz=128", "display_name": "Priyanka Ahire", "link": "https://stackoverflow.com/users/5507185/priyanka-ahire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3911, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1483607752, "creation_date": 1483421501, "last_edit_date": 1483607495, "question_id": 41436990, "link": "https://stackoverflow.com/questions/41436990/cannot-read-property-get-of-undefined-in-typescript", "title": "Cannot read property &#39;get&#39; of undefined in typescript", "body": "<p>Here I want to display list of customers for that I am writing one services class in that class writing one function <strong>getCustomer()</strong> </p>\n\n<p><strong>data.service.ts</strong></p>\n\n<pre><code> //  @Injectable() // comment to this line in service if we are inject service in component\n    export class DataService {\n    constructor(public http: Http) { }\n    getCustomers(): Promise&lt;ICustomer[]&gt; {\n        return this.http.get(this.customersBaseUrl)\n                   .toPromise()\n                   .then(response =&gt; response.json().data as ICustomer[])\n                   .catch(this.handleError);\n      }\n}\n</code></pre>\n\n<p>In <strong>customer.component.ts</strong> call getCustomer()</p>\n\n<pre><code> constructor(@Inject(DataService) private dataService: DataService) { }\n ngOnInit() {\n    this.title;\n    this.filterText = 'Filter Customers:';\n    this.dataService.getCustomers().then(customers =&gt; this.customers = customers.slice(1, 5));\n}\n</code></pre>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>import { HttpModule } from '@angular/http';\n@NgModule({ \n    declarations: [\n        AppComponent,\n        CustomersComponent,\n    ],\n    imports: [ \n        HttpModule,\n        app_routing,\n        ..     \n    ],\n    providers: [\n     DataService,\n    ],\n    bootstrap: [AppComponent,NavbarComponent]\n})\n</code></pre>\n\n<p>Give me suggestion if i am wrong in any point.I am new in typescript so I don't have that much idea about this.Thanks in advance</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1483428764, "post_id": 41438102, "comment_id": 70083060, "body": "ok I think this might be on the right path.  Only thing was I plan to add a couple more components to this component that I want to toggle depending on what section this component is called in.  Since I posted this I&#39;ve been trying to figure out how to check the route and maybe store it in a variable and have the *ngIf commands on each component check to see if it matches the variable. if that makes sense"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 1, "creation_date": 1483428882, "post_id": 41438102, "comment_id": 70083120, "body": "Sure, makes sense. Using <code>ActivatedRoute</code> as mentioned by Karl might be a better idea though."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1483426954, "last_edit_date": 1495541391, "creation_date": 1483426954, "answer_id": 41438102, "question_id": 41436660, "link": "https://stackoverflow.com/questions/41436660/how-do-i-used-ngif-to-toggle-child-components-of-components-featured-in-more-th/41438102#41438102", "title": "How do I used *ngIf to toggle child components of components featured in more than one location?", "body": "<p>Binding to the router this ways seems quite inefficient. Angular change detection will cause <code>contains(...)</code> to be called on every change detection turn.</p>\n\n<p>I'd suggest using</p>\n\n<pre><code>@Component({\n    selector: 'asset-packs',\n    template: `&lt;h1&gt;Asset Packs&lt;/h1&gt;\n               &lt;asset-expand *ngIf=\"isExpandRoute\"&gt;&lt;/asset-expand&gt;\n              `,\n    directives:[\n        Router\n    ]\n})\nexport class PointAssetsComponent {\n\n    constructor(private router: Router){\n      router.events\n      .filter(event =&gt; event instanceof NavigationEnd)\n      .subscribe((event:Event) =&gt; {\n        this.isExpandRoute = router.urlTree.contains(router.createUrlTree(['/expand']));\n      });\n    }\n}\n</code></pre>\n\n<p>I don't know if this fixes your actual problem though.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/33520043/how-to-detect-route-change-in-angular-2/38080657#38080657\">How to detect a route change in Angular 2?</a></p>\n"}, {"comments": [{"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1483429109, "post_id": 41438331, "comment_id": 70083227, "body": "is there a way I just collect the current route in a variable and use the *ngIf to check against it?"}, {"owner": {"reputation": 2791, "user_id": 1550690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f8b9cca97680ea078dd57662b24b75?s=128&d=identicon&r=PG", "display_name": "Karl", "link": "https://stackoverflow.com/users/1550690/karl"}, "reply_to_user": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1483429295, "post_id": 41438331, "comment_id": 70083319, "body": "Haven&#39;t used it this way, but should also work. But method allows  more flexibility, because in real word application there are some more checks necessary for doing the toggling."}], "tags": [], "owner": {"reputation": 2791, "user_id": 1550690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f8b9cca97680ea078dd57662b24b75?s=128&d=identicon&r=PG", "display_name": "Karl", "link": "https://stackoverflow.com/users/1550690/karl"}, "is_accepted": false, "score": 2, "last_activity_date": 1483427943, "creation_date": 1483427943, "answer_id": 41438331, "question_id": 41436660, "link": "https://stackoverflow.com/questions/41436660/how-do-i-used-ngif-to-toggle-child-components-of-components-featured-in-more-th/41438331#41438331", "title": "How do I used *ngIf to toggle child components of components featured in more than one location?", "body": "<p>I'd use the \"ActivatedRoute\" for toggling components depending on route.</p>\n\n<pre><code>import { ActivatedRoute } from \"@angular/router\";\n//   \nconstructor(\n    public activatedRoute: ActivatedRoute\n)\n{\n    this.activatedRoute.url.subscribe(\n                (data: any) =&gt; {\n                    this.mycurrentUrl = \"\";\n                    for (let i of data) {\n                        this.mycurrentUrl = i.path;\n                    }\n                },\n                error =&gt; console.debug(\"URL ERROR\", error),\n                () =&gt; console.log('Current URL:' + this.mycurrentUrl));\n}\n// Check current route\nisExpandRoute() {\n    if (this.mycurrentUrl == 'expand' )\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1483427943, "creation_date": 1483419406, "question_id": 41436660, "link": "https://stackoverflow.com/questions/41436660/how-do-i-used-ngif-to-toggle-child-components-of-components-featured-in-more-th", "title": "How do I used *ngIf to toggle child components of components featured in more than one location?", "body": "<p>I have components that need to be flexible for other areas of my site and so far am thinking using </p>\n\n<blockquote>\n  <p>*ngIf</p>\n</blockquote>\n\n<p>to toggle the necessary child component linking to the route would be the easiest way to go about achieving it.</p>\n\n<p>To be more precise, I have two sections, one I call the \"Rebranding\" section and the other the \"Brand a New Business\" section.  I have 1 point I want to make to them both in two different ways.  Which I'm encompassing in a \"Fresh Start\" component.</p>\n\n<p>A \"fresh start\" for someone who's been in Business for 6 years is different from a \"fresh start\" for someone who's starting a new Business, therefor there's different key points I want to touch on.</p>\n\n<p>The reason I want to keep them housed in one component is because in the long run I can see it being easier to manage each \"point\" I want to make for each crowd I want to communicate it to.  I figured that would be cleaner and easier than having that many components all scattered around and wired into the routing.</p>\n\n<p>So far this is what I've been able to muster up for the area of my site I'm on now.</p>\n\n<pre><code>import { Component }                from '@angular/core';\nimport { Router }                   from '@angular/router';\n\n\n\n@Component({\n    selector: 'asset-packs',\n    template: `&lt;h1&gt;Asset Packs&lt;/h1&gt;\n               &lt;asset-expand *ngIf=\"router.urlTree.contains(router.createUrlTree(['/expand']))\"&gt;&lt;/asset-expand&gt;\n              `,\n    directives:[\n        Router\n    ]\n})\n\nexport class PointAssetsComponent {\n\n    constructor(private router: Router){};\n}\n</code></pre>\n\n<p>I have it all routed up in the module and didn't get any errors prior to trying this method.  I came across it on another answer on here that really didn't give much clarity in terms of what components I needed to import.  With that being said I already know this is incomplete, wasn't sure of where to add the constructor, I tried it both on top and bottom, not sure if I'm even using the router correctly.  without the *ngIf everything shows up perfectly fine.  I figured I'd start out with one nested component to make sure it shows up where I want it to and stays off on the other pages that use this component.  This in particular is for the \"assets\" component, which will be featured in 3 sections, but 2 of them will be the same, which means I'm also going to need to use an \"or\" statement or throw a \"!\" in there.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 3, "creation_date": 1483419132, "post_id": 41436600, "comment_id": 70079114, "body": "If you don&#39;t share the related code how can we know what&#39;s wrong?"}, {"owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "edited": false, "score": 2, "creation_date": 1483420841, "post_id": 41436600, "comment_id": 70079681, "body": "share your app module file code"}, {"owner": {"reputation": 2078, "user_id": 554021, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/Gef5G.jpg?s=128&g=1", "display_name": "Baruch", "link": "https://stackoverflow.com/users/554021/baruch"}, "edited": false, "score": 0, "creation_date": 1483422303, "post_id": 41436600, "comment_id": 70080235, "body": "Please provide specific Angular and Webpack versions. Also, this might help you <a href=\"https://github.com/angular/angular/issues/11438\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/11438</a>"}], "owner": {"reputation": 263, "user_id": 7135128, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/aSJHs.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7135128/ankita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1483421563, "creation_date": 1483419017, "last_edit_date": 1483421563, "question_id": 41436600, "link": "https://stackoverflow.com/questions/41436600/error-in-angular-2-project-unexpected-declaration", "title": "Error in angular 2 project, &#39;unexpected declaration", "body": "<p>I am doing a project in <code>angular 2.0</code>. And a error is coming up while declaring a component in <code>app.module</code> file.\nI can not recognize  where I am going wrong I am using <code>VS code</code> for coding purpose.</p>\n\n<p>The error is as follows-</p>\n\n<pre><code>dashboard:20 Error: (SystemJS) Unexpected value 'HeroDesignComponent' declared by the module 'AppModule'\n\nError: Unexpected value 'HeroDesignComponent' declared by the module 'AppModule'\n        at eval \n\n(http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:14725:29)\n        at Array.forEach (native)\n        at CompileMetadataResolver._loadNgModuleMetadata (http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:14702:56)\n        at CompileMetadataResolver.loadNgModuleMetadata (http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:14625:31)\n        at RuntimeCompiler._loadModules (http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:17420:43)\n        at RuntimeCompiler._compileModuleAndComponents (http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:17390:37)\n        at RuntimeCompiler.compileModuleAsync (http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:17380:23)\n        at PlatformRef_._bootstrapModuleWithZone (http://localhost:3000/node_modules/@angular/core/bundles/core.umd.js:6454:29)\n        at PlatformRef_.bootstrapModule (http://localhost:3000/node_modules/@angular/core/bundles/core.umd.js:6436:25)\n        at Object.eval (http://localhost:3000/app/main.js:4:53)\n    Evaluating http://localhost:3000/app/main.js\n    Error loading http://localhost:3000/app/main.js\n        at eval (http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:14725:29)\n        at Array.forEach (native)\n        at CompileMetadataResolver._loadNgModuleMetadata (http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:14702:56)\n        at CompileMetadataResolver.loadNgModuleMetadata (http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:14625:31)\n        at RuntimeCompiler._loadModules (http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:17420:43)\n        at RuntimeCompiler._compileModuleAndComponents (http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:17390:37)\n        at RuntimeCompiler.compileModuleAsync (http://localhost:3000/node_modules/@angular/compiler/bundles/compiler.umd.js:17380:23)\n        at PlatformRef_._bootstrapModuleWithZone (http://localhost:3000/node_modules/@angular/core/bundles/core.umd.js:6454:29)\n        at PlatformRef_.bootstrapModule (http://localhost:3000/node_modules/@angular/core/bundles/core.umd.js:6436:25)\n        at Object.eval (http://localhost:3000/app/main.js:4:53)\n    Evaluating http://localhost:3000/app/main.js\n    Error loading http://localhost:3000/app/main.js\n</code></pre>\n\n<p>Please help me in this.</p>\n\n<p>hero-design.component.ts</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { hero1 } from './hero1';\n\n  @Component({\n       moduleId: module.id,\n       selector : 'my-design',\n       templateUrl : 'hero-design.component.html',\n       styleUrls : ['hero-design.component.css']\n  })\n\n export class HeroDesignComponent{\n\n subjects = ['Appointment', 'Interview', 'regarding a post'];\n\n model =new  hero1(1,'Tony','tony@gmail.com','9988776655',this.subjects[0]);\n\n submitted = false;\n\n onsubmit() { this.submitted = true }\n\n newhero1() {\n this.model = new hero1(1,'','','','');\n }\n}\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>import { NgModule }           from '@angular/core';\nimport { FormsModule }        from '@angular/forms';\nimport { BrowserModule }      from '@angular/platform-browser';\n\nimport { AppComponent }        from './app.component';\nimport { HeroDetailComponent } from './hero-detail.component';\nimport { HeroesComponent }     from './heroes.component';\nimport { HeroDesignComponent } from './hero-design.component';\nimport { HeroService }         from './Hero.service';\nimport { DashboardComponent }  from './dashboard.component';\nimport { AppRoutingModule }    from './app-routing.module';\n\n\n@NgModule({ \n  imports:      [ \n    BrowserModule,\n    FormsModule,\n    AppRoutingModule\n    ],\n\n  declarations: [ \n    AppComponent,\n    DashboardComponent,\n    HeroDetailComponent,\n    HeroesComponent,\n    HeroDesignComponent\n    ],\n\n   providers:[\n     HeroService\n   ],\n\n  bootstrap:    [ \n    AppComponent \n   ]\n})\n\nexport class AppModule { }\n</code></pre>\n"}, {"tags": ["node.js", "angular", "express", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483415553, "post_id": 41436142, "comment_id": 70078178, "body": "how you&#39;re navigating got <code>register&#47;:id</code>?"}, {"owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483415649, "post_id": 41436142, "comment_id": 70078201, "body": "at the moment i&#39;ll just type in the url localhost:1000/register/1 to test"}, {"owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483415887, "post_id": 41436142, "comment_id": 70078259, "body": "@PankajParkar , I took your question into testing, using this.router.navigate([&#39;/register&#39;, &#39;1&#39;]); works. But shouldn&#39;t by typing on the URL do the same? will update the question"}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483415981, "post_id": 41436142, "comment_id": 70078279, "body": "were you using <code>html5mode</code>?"}, {"owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483416043, "post_id": 41436142, "comment_id": 70078290, "body": "@PankajParkar &lt;base href=&quot;/&quot;&gt; yes"}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483416132, "post_id": 41436142, "comment_id": 70078316, "body": "I guess you have to configure you server to work for any URL, so that your client side should not conflict with server side routing.. which platform you&#39;re using on server side?"}, {"owner": {"reputation": 901, "user_id": 3454273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/338e43beea2ce9625934b8c8f09b8443?s=128&d=identicon&r=PG&f=1", "display_name": "Timathon", "link": "https://stackoverflow.com/users/3454273/timathon"}, "edited": false, "score": 0, "creation_date": 1483416173, "post_id": 41436142, "comment_id": 70078332, "body": "@GeneLim, Could you add a screenshot of the error? And how you are building your angular 2 app? With angular-cli or starter repo?"}, {"owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483416173, "post_id": 41436142, "comment_id": 70078333, "body": "@PankajParkar Nodejs express."}, {"owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "reply_to_user": {"reputation": 901, "user_id": 3454273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/338e43beea2ce9625934b8c8f09b8443?s=128&d=identicon&r=PG&f=1", "display_name": "Timathon", "link": "https://stackoverflow.com/users/3454273/timathon"}, "edited": false, "score": 0, "creation_date": 1483416270, "post_id": 41436142, "comment_id": 70078353, "body": "@Timathon , updated the question with the screenshot error. i am using start repo with nodejs as my server"}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 1, "creation_date": 1483416427, "post_id": 41436142, "comment_id": 70078389, "body": "@GeneLim I guess <a href=\"http://stackoverflow.com/a/17783295/2435473\">this answer</a> would help you"}, {"owner": {"reputation": 901, "user_id": 3454273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/338e43beea2ce9625934b8c8f09b8443?s=128&d=identicon&r=PG&f=1", "display_name": "Timathon", "link": "https://stackoverflow.com/users/3454273/timathon"}, "edited": false, "score": 0, "creation_date": 1483416594, "post_id": 41436142, "comment_id": 70078424, "body": "Seems something to do with system.config.js. But I know nothing about that. I&#39;m learning angular 2 with angular-cli, which handles quite a lot in serving, building..."}, {"owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483416829, "post_id": 41436142, "comment_id": 70078482, "body": "@PankajParkar Looking into it."}, {"owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483418364, "post_id": 41436142, "comment_id": 70078905, "body": "@PankajParkar could you make it into a solution that I can accept as answer."}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483418466, "post_id": 41436142, "comment_id": 70078928, "body": "@GeneLim I guess that should have worked, correct?"}, {"owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483418505, "post_id": 41436142, "comment_id": 70078942, "body": "@PankajParkar That should be the solution, but it is not working yet. Still finding a way around it."}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483418598, "post_id": 41436142, "comment_id": 70078964, "body": "@GeneLim see until it get worked. I&#39;d suggest you to have this question open.. Let wait for opinion from other fellows as well"}, {"owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1483418731, "post_id": 41436142, "comment_id": 70079007, "body": "@PankajParkar Will do, updated with new image, the routing of the server side seems to be the problem."}], "owner": {"reputation": 864, "user_id": 2541144, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/513150168/picture?type=large", "display_name": "Gene Lim", "link": "https://stackoverflow.com/users/2541144/gene-lim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1483507823, "creation_date": 1483415355, "last_edit_date": 1483419412, "question_id": 41436142, "link": "https://stackoverflow.com/questions/41436142/system-is-not-defined-with-router-parameter-angular-2", "title": "System is not defined with Router Parameter - Angular 2", "body": "<p>I am trying to implement routing with id parameter on the url such as localhost:1000/register/id\nUsing that path will always trigger system is not defined while other urls without parameters are working fine. I even tried following the guide from angular.io's routing format doesn't seems to fix the problem. What am I missing in my code?</p>\n\n<p><a href=\"https://i.stack.imgur.com/0Ew5N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Ew5N.png\" alt=\"enter image description here\"></a></p>\n\n<p>app.routing.ts</p>\n\n<pre><code>import { ModuleWithProviders } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RegisterComponent } from './registration/register.component';\nimport { CodeComponent } from './registration/code.component';\n\nconst appRoutes: Routes = [\n    {\n        path: 'register/:id',\n        component: RegisterComponent\n    },\n    {\n        path: '',\n        component: CodeComponent\n    }\n];\n\nexport const routing: ModuleWithProviders = RouterModule.forRoot(appRoutes);\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { routing } from './app.routing';\nimport { AppComponent } from './app.component';\nimport { CodeComponent } from './registration/code.component';\nimport { RegisterComponent } from './registration/register.component';\n\n@NgModule({\n    imports: [BrowserModule, HttpModule, FormsModule, routing],\n    declarations: [AppComponent, CodeComponent, RegisterComponent],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>server.js</p>\n\n<pre><code>var express = require('express'),\n    app = express(),\n    mongoose = require('mongoose'),\n    bodyParser = require('body-parser'),\n    path = require('path'),\n    passport = require('passport'),\n    session = require('express-session'),\n    port = process.env.PORT || 1000;\n\ndb = require('./config/db');\nmongoose.Promise = global.Promise;\nmongoose.connect(db.url);\n\napp.use(session({\n    secret: 'test',\n    saveUninitialized: true,\n    resave: true\n}));\n\napp.use(passport.initialize());\napp.use(passport.session());\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\nrequire('./config/passport')(passport);\nrequire('./routes/main')(app, passport);\n\napp.use(express.static(path.join(__dirname)));\napp.use('/node_modules', express.static(path.join(__dirname+ '/node_modules')));\nconsole.log(path.join(__dirname+ '/node_modules'))\n\napp.all('/*', function (req, res, next) {\n    res.sendFile('/view/index.html', { root: __dirname });\n});\n\napp.listen(port);\nconsole.log('Magic happens on port ' + port);\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>By using this.router.navigate(['/register', '1']); works perfectly, but by typing on the url localhost:1000/register/1 is not working</p>\n\n<p><a href=\"https://i.stack.imgur.com/WLgUW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WLgUW.png\" alt=\"enter image description here\"></a></p>\n\n<p>From the picture above, there is mouse hover showing the url to be \nlocalhost:1000/register/node_modules/core-js....\n- I think there is something I've missed in my server NodeJS side. </p>\n\n<p>I've also added</p>\n\n<pre><code>app.use('/node_modules', express.static(__dirname + '/node_modules'));\n</code></pre>\n\n<p>But no changes </p>\n\n<p>Note:\nServer side (NodeJS,Express)</p>\n"}, {"tags": ["angular", "typescript", "upgrade", "grunt-browserify"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1483415189, "post_id": 41436102, "comment_id": 70078105, "body": "What files are being fed into <code>babelify</code>? Unless you are feeding JavaScript files that have already compiled from TypeScript, it won&#39;t work. If that is the case, you&#39;ll need to make some changes to your build process or look at using the <a href=\"https://github.com/TypeStrong/tsify\" rel=\"nofollow noreferrer\"><code>tsify</code></a> plugin for Browserify instead of <code>babelify</code>."}, {"owner": {"reputation": 51, "user_id": 2393510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be812b9ec159fde45fdfd85717d2eba3?s=128&d=identicon&r=PG", "display_name": "othanda", "link": "https://stackoverflow.com/users/2393510/othanda"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1483479421, "post_id": 41436102, "comment_id": 70111909, "body": "Babelify is consuming JavaScript files. I tried to replace Grunt-ts with Tsify + Babelify previously and it failed with an error message saying no compiled module was created for the .ts file."}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1483479747, "post_id": 41436102, "comment_id": 70112063, "body": "The <code>&#39;import&#39; and &#39;export&#39; may appear only with &#39;sourceType: module&#39;</code> is what&#39;s effected if Browserify see an ES6 module. I guess the it could also be coming from <code>browserify-shim</code> (I&#39;ve neither used nor looked at that transform). Try putting <code>browserify-shim</code> after <code>babelify</code>."}], "owner": {"reputation": 51, "user_id": 2393510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be812b9ec159fde45fdfd85717d2eba3?s=128&d=identicon&r=PG", "display_name": "othanda", "link": "https://stackoverflow.com/users/2393510/othanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1483414854, "creation_date": 1483414854, "question_id": 41436102, "link": "https://stackoverflow.com/questions/41436102/incremental-upgrade-of-spa-from-angular-1-5-to-2", "title": "Incremental upgrade of SPA from Angular 1.5 to 2", "body": "<p>I followed <a href=\"https://angular.io/docs/ts/latest/guide/upgrade.html#\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/guide/upgrade.html#</a> to use UpgradeModule from '@angular/upgrade/static'. </p>\n\n<p>Grunt-ts is used to transpile the TypeScript files. The app also uses grunt-browserify for compilation. When grunt is run, it throws errors at grunt-browserify with the following message:</p>\n\n<pre><code>&gt;&gt; export { downgradeComponent } from './src/aot/downgrade_component';\n&gt;&gt; ^ ParseError: 'import' and 'export' may appear only with 'sourceType: module'\n</code></pre>\n\n<p>I added babelify in grunt-browserify options:</p>\n\n<pre><code>\"transform\": [[\"browserify-shim\"], [\"babelify\", {\"presets\": [\"es2015\"]}]]\n</code></pre>\n\n<p>But I'm still getting the same error which is pointing to @angular/upgrade/static.js</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1483414502, "post_id": 41436018, "comment_id": 70077956, "body": "Thanks Pankaj! Basic one. didnt catch it."}], "tags": [], "owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "is_accepted": true, "score": 6, "last_activity_date": 1483414270, "creation_date": 1483414270, "answer_id": 41436018, "question_id": 41435923, "link": "https://stackoverflow.com/questions/41435923/cannot-find-the-module-angular2-typescript/41436018#41436018", "title": "Cannot find the module Angular2 Typescript", "body": "<p>As your <code>app.module</code> already there in <code>app</code> folder, you can directly navigate through <code>taskList</code> folder.</p>\n\n<pre><code>import { CreateTaskComponent} from './taskList/create-task.component';\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>import { CreateTaskComponent} from './../app/taskList/create-task.component';\n</code></pre>\n"}], "owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8970, "favorite_count": 0, "accepted_answer_id": 41436018, "answer_count": 1, "score": 1, "last_activity_date": 1483414270, "creation_date": 1483413518, "question_id": 41435923, "link": "https://stackoverflow.com/questions/41435923/cannot-find-the-module-angular2-typescript", "title": "Cannot find the module Angular2 Typescript", "body": "<p>My vscode shows error in the line <strong>Cannot find the module</strong> and highlights <strong>CreateTaskComponent</strong> line of <strong>app.module.ts</strong></p>\n\n<p>My code</p>\n\n<p>app.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent }  from './app.component';\nimport { CreateTaskComponent} from './app/taskList/create-task.component';\n@NgModule({\n  imports: [ BrowserModule ],\n  declarations: [ AppComponent, CreateTaskComponent ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>create-task.component.ts</p>\n\n<pre><code>import {Component} from '@angular/core';\n@Component({\n    selector:'create-task',\n    templateUrl: 'app/taskList/create-task.component.html'\n\n})\nexport class CreateTaskComponent{\n        pageTitle : string ='Create a Task';\n\n}\n</code></pre>\n\n<p>Folder structure is</p>\n\n<p><a href=\"https://i.stack.imgur.com/6knf8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6knf8.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["json", "http", "angular", "typescript", "observable"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7281513, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QUGS_B-c-fI/AAAAAAAAAAI/AAAAAAAAASg/4AjsfMx7Y1k/photo.jpg?sz=128", "display_name": "Diego Gutierrez", "link": "https://stackoverflow.com/users/7281513/diego-gutierrez"}, "edited": false, "score": 0, "creation_date": 1483407771, "post_id": 41435174, "comment_id": 70076621, "body": "Thank you pesskillet for yor reply. Good to know that..  I&#39;ll keep it on mind. I&#39;ve modified the function, updating the map call: .map(this.mapUsers.bind(this)); ... but now the console throws:  Uncaught Error: Module build failed: Error: /home/webdeveloper/Workspace/Angular2/unibague_directory_v2/&zwnj;&#8203;src/app/user.service&zwnj;&#8203;.ts (26,14): Type &#39;Observable&lt;{}&gt;&#39; is not assignable to type &#39;Observable&lt;User[]&gt;&#39;.   Type &#39;{}&#39; is not assignable to type &#39;User[]&#39;."}, {"owner": {"reputation": 1, "user_id": 7281513, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QUGS_B-c-fI/AAAAAAAAAAI/AAAAAAAAASg/4AjsfMx7Y1k/photo.jpg?sz=128", "display_name": "Diego Gutierrez", "link": "https://stackoverflow.com/users/7281513/diego-gutierrez"}, "edited": false, "score": 0, "creation_date": 1483408052, "post_id": 41435174, "comment_id": 70076687, "body": "And if I use the second option (res =&gt;) my code editor (visual studio) underlines the &quot;response&quot; word. (variable not declared)"}, {"owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "reply_to_user": {"reputation": 1, "user_id": 7281513, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QUGS_B-c-fI/AAAAAAAAAAI/AAAAAAAAASg/4AjsfMx7Y1k/photo.jpg?sz=128", "display_name": "Diego Gutierrez", "link": "https://stackoverflow.com/users/7281513/diego-gutierrez"}, "edited": false, "score": 0, "creation_date": 1483408184, "post_id": 41435174, "comment_id": 70076720, "body": "Well, yeah, it was a typo. It should be <code>response</code>, not <code>res</code>"}, {"owner": {"reputation": 1, "user_id": 7281513, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QUGS_B-c-fI/AAAAAAAAAAI/AAAAAAAAASg/4AjsfMx7Y1k/photo.jpg?sz=128", "display_name": "Diego Gutierrez", "link": "https://stackoverflow.com/users/7281513/diego-gutierrez"}, "edited": false, "score": 0, "creation_date": 1483408847, "post_id": 41435174, "comment_id": 70076857, "body": "Hey peeskillet, thank you very very much.. it works now. You made my day."}], "tags": [], "owner": {"reputation": 187577, "user_id": 2587435, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/w9jTN.jpg?s=128&g=1", "display_name": "Paul Samsotha", "link": "https://stackoverflow.com/users/2587435/paul-samsotha"}, "is_accepted": true, "score": 1, "last_activity_date": 1483406231, "creation_date": 1483406231, "answer_id": 41435174, "question_id": 41435053, "link": "https://stackoverflow.com/questions/41435053/error-trying-to-loop-observable-object-in-angular-2/41435174#41435174", "title": "Error trying to loop Observable Object in Angular 2", "body": "<p>The most likely reason is the way you are handling the <code>map</code> callback</p>\n\n<pre><code>getAll(): Observable&lt;User[]&gt;{\n  let users$ = this.http\n    .get(`${this.baseurl}/people`,{headers: this.getHeaders()})\n    .map(this.mapUsers);\n}\n\nmapUsers(response: Response): User[]{\n  return response.json().results.map(this.toUser);\n}\n\ntoUser() {}\n</code></pre>\n\n<p>You need to be careful when using <code>this</code> inside callback functions. The context  sometimes messes you up. In this case <code>this</code> in <code>.map(this.toUser)</code> does not point to the class instance. You need to bind it, i.e.</p>\n\n<pre><code>  let users$ = this.http\n    .get(`${this.baseurl}/people`,{headers: this.getHeaders()})\n    .map(this.mapUsers.bind(this));\n</code></pre>\n\n<p>When you use <code>bind(this)</code> you are saying that any uses of <code>this</code> inside the <code>mapUsers</code> function should be bound to the class instance.</p>\n\n<p>When you use arrow functions, you don't need to worry about this distinction, as it keeps the lexical scope context</p>\n\n<pre><code>let users$ = this.http\n  .get(`${this.baseurl}/people`,{headers: this.getHeaders()})\n  .map(res =&gt; response.json().results.map(this.toUser));\n</code></pre>\n\n<p>Also, even passing the <code>toUser</code> function has the same problem, as you are using <code>this.extractId(r)</code>. You also need to bind that</p>\n\n<pre><code>mapUsers(response: Response): User[]{\n  return response.json().results.map(this.toUser.bind(this));\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7281513, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QUGS_B-c-fI/AAAAAAAAAAI/AAAAAAAAASg/4AjsfMx7Y1k/photo.jpg?sz=128", "display_name": "Diego Gutierrez", "link": "https://stackoverflow.com/users/7281513/diego-gutierrez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 41435174, "answer_count": 1, "score": 0, "last_activity_date": 1483406231, "creation_date": 1483405040, "question_id": 41435053, "link": "https://stackoverflow.com/questions/41435053/error-trying-to-loop-observable-object-in-angular-2", "title": "Error trying to loop Observable Object in Angular 2", "body": "<p>I'm stuck here trying to loop the observable object on my users service. \nThe Chrome's console throws:</p>\n\n<blockquote>\n  <p>error_handler.js:47 EXCEPTION: undefined is not a function</p>\n</blockquote>\n\n<p>Here's my code:</p>\n\n<p>users.component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../user.service';\nimport { Observable } from 'rxjs/Rx';\nimport { User } from '../user';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent implements OnInit {\n\n people: Observable&lt;User[]&gt;;\n  constructor( private _userService: UserService) { }\n\n  ngOnInit() {\n        this.people = this._userService.getAll();\n        console.log(this.people);\n    }\n}\n</code></pre>\n\n<p>users.service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Response, Headers } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\nimport { ErrorObservable } from 'rxjs/observable/ErrorObservable';\nimport { User } from './user';\n\n\n@Injectable()\nexport class UserService {\n\n  private baseurl: string= 'http://swapi.co/api';\n\n  constructor(private http: Http) { \n      console.log(\"User service initialized\");\n  }\n\n\n  getAll(): Observable&lt;User[]&gt;{\n    let users$ = this.http\n      .get(`${this.baseurl}/people`,{headers: this.getHeaders()})\n      .map(this.mapUsers);\n\n      return users$;\n  }\n\n\n  private getHeaders(){\n    let headers = new Headers();\n    headers.append('Accept', 'application/json');\n    return headers;\n  }\n\n\n  mapUsers(response: Response): User[]{\n       return response.json().results.map(this.toUser);\n  }\n\n\n  toUser(r:any): User{\n    let user = &lt;User&gt;({\n        id: this.extractId(r),\n        name: r.name\n    });\n    console.log('Parsed user'+user.name);\n    return user;\n  }\n\n\nextractId(personData:any){\n    let extractedId = personData.url.replace('http://swapi.co/api/people/','').replace('/','');\n    return parseInt(extractedId);\n}\n\n}\n</code></pre>\n\n<p>users.component.html</p>\n\n<pre><code>&lt;ul class=\"people\"&gt;\n    &lt;li *ngFor=\"let person of people | async \" &gt;\n        &lt;a href=\"#\"&gt;\n          {{person.name}}\n        &lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>user.ts</p>\n\n<pre><code>export interface User{\n    id: number;\n    name: string;\n}\n</code></pre>\n\n<p>When I remove the HTML code from the template, everything works great (no errors on console) so, I guess there's something wrong with 'people' object, and obviously I can't iterative the response. Please guys, a hand would be appreciated here.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 4293, "user_id": 4069913, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/100007329305829/picture?type=large", "display_name": "Orest Savchak", "link": "https://stackoverflow.com/users/4069913/orest-savchak"}, "is_accepted": false, "score": 0, "last_activity_date": 1483402829, "creation_date": 1483402829, "answer_id": 41434866, "question_id": 41434831, "link": "https://stackoverflow.com/questions/41434831/typescript-argument-of-type-number-is-not-assignable-to-parameter-of-type-s/41434866#41434866", "title": "typescript - Argument of type &#39;number&#39; is not assignable to parameter of type &#39;string&#39;", "body": "<p>You try to call <code>parseInt((duration%1000)/100)</code>, where <code>(duration%1000)/100</code> is int already, so you can just drop this method, and use</p>\n\n<pre><code>var milliseconds:string = String((duration%1000)/100)\nvar seconds:string = String((duration/1000)%60)\nvar minutes:string = String((duration/(1000*60))%60)\nvar hours:string = String((duration/(1000*60*60))%24)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": true, "score": 2, "last_activity_date": 1483402925, "last_edit_date": 1483402925, "creation_date": 1483402868, "answer_id": 41434869, "question_id": 41434831, "link": "https://stackoverflow.com/questions/41434831/typescript-argument-of-type-number-is-not-assignable-to-parameter-of-type-s/41434869#41434869", "title": "typescript - Argument of type &#39;number&#39; is not assignable to parameter of type &#39;string&#39;", "body": "<p>Tried following code and compiler doesn't return any errors.</p>\n\n<pre><code>private msToTime(duration:any):string {\n    var milliseconds:string = String((duration%1000)/100)\n    var seconds:string = String((duration/1000)%60)\n    var minutes:string = String((duration/(1000*60))%60)\n    var hours:string = String((duration/(1000*60*60)%24)\n\n    hours   = (parseInt(hours) &lt; 10)   ? \"0\" + hours   : hours;\n    minutes = (parseInt(minutes) &lt; 10) ? \"0\" + minutes : minutes;\n    seconds = (parseInt(seconds) &lt; 10) ? \"0\" + seconds : seconds;\n\n    return hours + \":\" + minutes + \":\" + seconds;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 946, "user_id": 1241250, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/s3wz3.png?s=128&g=1", "display_name": "Qiaosen Huang", "link": "https://stackoverflow.com/users/1241250/qiaosen-huang"}, "is_accepted": false, "score": 0, "last_activity_date": 1483408049, "creation_date": 1483408049, "answer_id": 41435365, "question_id": 41434831, "link": "https://stackoverflow.com/questions/41434831/typescript-argument-of-type-number-is-not-assignable-to-parameter-of-type-s/41435365#41435365", "title": "typescript - Argument of type &#39;number&#39; is not assignable to parameter of type &#39;string&#39;", "body": "<p><code>parseInt()</code> takes a string input. For your purpose here, use <code>Math.floor()</code>, </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8330513, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/76cbef789f1d698d1bd18611f1094a39?s=128&d=identicon&r=PG", "display_name": "user8330513", "link": "https://stackoverflow.com/users/8330513/user8330513"}, "is_accepted": false, "score": -1, "last_activity_date": 1500455324, "creation_date": 1500455324, "answer_id": 45185921, "question_id": 41434831, "link": "https://stackoverflow.com/questions/41434831/typescript-argument-of-type-number-is-not-assignable-to-parameter-of-type-s/45185921#45185921", "title": "typescript - Argument of type &#39;number&#39; is not assignable to parameter of type &#39;string&#39;", "body": "<p>parseInt function Argument of type is string\nso , you can do like this :\nvar milliseconds:string =String(parseInt((duration%1000)/100).toString());</p>\n"}], "owner": {"reputation": 224, "user_id": 1704660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/519ac5a6d59aecf4d3ad8ee97a599d54?s=128&d=identicon&r=PG", "display_name": "winthers", "link": "https://stackoverflow.com/users/1704660/winthers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2491, "favorite_count": 0, "accepted_answer_id": 41434869, "answer_count": 4, "score": 0, "last_activity_date": 1500455324, "creation_date": 1483402445, "last_edit_date": 1483402933, "question_id": 41434831, "link": "https://stackoverflow.com/questions/41434831/typescript-argument-of-type-number-is-not-assignable-to-parameter-of-type-s", "title": "typescript - Argument of type &#39;number&#39; is not assignable to parameter of type &#39;string&#39;", "body": "<p>I can't figure out how to make this function not yield the compiler error.</p>\n\n<p>The function takes the duration in ms, and prepend hours/minutes/seconds with a 0 if the number is less than 10.</p>\n\n<pre><code>private msToTime(duration:any):string {\n    var milliseconds:string = String(parseInt((duration%1000)/100))\n    var seconds:string = String(parseInt((duration/1000)%60))\n    var minutes:string = String(parseInt((duration/(1000*60))%60))\n    var hours:string = String(parseInt((duration/(1000*60*60))%24))\n\n    hours   = (parseInt(hours) &lt; 10)   ? \"0\" + hours   : hours;\n    minutes = (parseInt(minutes) &lt; 10) ? \"0\" + minutes : minutes;\n    seconds = (parseInt(seconds) &lt; 10) ? \"0\" + seconds : seconds;\n\n    return hours + \":\" + minutes + \":\" + seconds;\n}\n</code></pre>\n"}, {"tags": ["css", "typescript", "stylesheet"], "comments": [{"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1483401348, "post_id": 41434683, "comment_id": 70075324, "body": "Replace <code>let stylesheet: CSSStyleSheet = document.styleSheets[0];</code> with  <code>stylesheet = document.styleSheets[0];</code>. By the way, what is <code>styleSheets</code>? Is it an array?"}, {"owner": {"reputation": 770, "user_id": 1538604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651306e755488a9a0d5d634a7d574827?s=128&d=identicon&r=PG", "display_name": "Alberto S.", "link": "https://stackoverflow.com/users/1538604/alberto-s"}, "edited": false, "score": 0, "creation_date": 1589909389, "post_id": 41434683, "comment_id": 109478462, "body": "Check out my answer, should work for u ;9"}], "answers": [{"tags": [], "owner": {"reputation": 592, "user_id": 4493079, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/13b37d5692bd0e0c729a92bc57127efa?s=128&d=identicon&r=PG", "display_name": "Script_Coded", "link": "https://stackoverflow.com/users/4493079/script-coded"}, "is_accepted": false, "score": 0, "last_activity_date": 1483401429, "last_edit_date": 1495542363, "creation_date": 1483401429, "answer_id": 41434724, "question_id": 41434683, "link": "https://stackoverflow.com/questions/41434683/cssstylesheet-type-issue-while-trying-to-insert-a-css-rule-with-typescript/41434724#41434724", "title": "CSSStyleSheet type issue while trying to insert a css rule with typescript", "body": "<p>Try this snippet for defining your stylesheet slightly modified from <a href=\"https://stackoverflow.com/a/24473183/4493079\">this answer</a>.</p>\n\n<pre><code>if (document.styleSheets[0].cssRules)\n    let stylesheet: CSSStyleSheet = document.styleSheets[0].cssRules[0];\nelse if (document.styleSheets[0].rules)\n    let stylesheet: CSSStyleSheet = document.styleSheets[0].rules[0];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 770, "user_id": 1538604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651306e755488a9a0d5d634a7d574827?s=128&d=identicon&r=PG", "display_name": "Alberto S.", "link": "https://stackoverflow.com/users/1538604/alberto-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1589909372, "creation_date": 1589909372, "answer_id": 61897216, "question_id": 41434683, "link": "https://stackoverflow.com/questions/41434683/cssstylesheet-type-issue-while-trying-to-insert-a-css-rule-with-typescript/61897216#61897216", "title": "CSSStyleSheet type issue while trying to insert a css rule with typescript", "body": "<p>You basically need to convert that var into a <code>CSSStyleSheet</code> , right after retrieving the current stylesheet.</p>\n\n<p>This code will work for you:</p>\n\n<pre><code>let stylesheet= document.styleSheets[0];\n(stylesheet as CSSStyleSheet).insertRule(\".scroll-content { overflow: hidden;}\",0);\n</code></pre>\n"}], "owner": {"reputation": 913, "user_id": 7254333, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a2e86d7d4f86088c40c02fea04669822?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier P", "link": "https://stackoverflow.com/users/7254333/olivier-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1493, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1589909372, "creation_date": 1483401038, "question_id": 41434683, "link": "https://stackoverflow.com/questions/41434683/cssstylesheet-type-issue-while-trying-to-insert-a-css-rule-with-typescript", "title": "CSSStyleSheet type issue while trying to insert a css rule with typescript", "body": "<p>I try to insert a css rule with typescript based on <a href=\"https://www.w3.org/wiki/Dynamic_style_-_manipulating_CSS_with_JavaScript\" rel=\"nofollow noreferrer\">https://www.w3.org/wiki/Dynamic_style_-_manipulating_CSS_with_JavaScript</a>. The method insertRule is not recognized. I have the following error : </p>\n\n<pre><code>Type 'StyleSheet' is not assignable to type 'CSSStyleSheet'. Property 'cssRules' is missing in type 'StyleSheet'.\n</code></pre>\n\n<p>Here is my code : </p>\n\n<pre><code>let stylesheet: CSSStyleSheet = document.styleSheets[0];\nstylesheet.insertRule(\".scroll-content { overflow: hidden;}\",0);\n</code></pre>\n\n<p>I'm working with ionic 2 and angular 2.</p>\n\n<p>Thank you for your help</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 47160, "user_id": 573032, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/1nGGV.jpg?s=128&g=1", "display_name": "Roman C", "link": "https://stackoverflow.com/users/573032/roman-c"}, "edited": false, "score": 0, "creation_date": 1483399889, "post_id": 41434409, "comment_id": 70074963, "body": "What exactly do you want to do if you can&#39;t unclick the event?"}], "answers": [{"comments": [{"owner": {"reputation": 4889, "user_id": 773259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VbxQI.jpg?s=128&g=1", "display_name": "SparK", "link": "https://stackoverflow.com/users/773259/spark"}, "edited": false, "score": 1, "creation_date": 1483400109, "post_id": 41434459, "comment_id": 70075019, "body": "I like guard clauses: <code>if(!this.bool) return;</code> ... looks cleaner."}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 4889, "user_id": 773259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VbxQI.jpg?s=128&g=1", "display_name": "SparK", "link": "https://stackoverflow.com/users/773259/spark"}, "edited": false, "score": 1, "creation_date": 1483400206, "post_id": 41434459, "comment_id": 70075048, "body": "@SparK Same here, but I just wanted to clarify the code as much as it possible."}, {"owner": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "edited": false, "score": 0, "creation_date": 1483403109, "post_id": 41434459, "comment_id": 70075710, "body": "It was so simple I didn&#39;t think about it! Thanks. I like guard too."}], "tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": false, "score": 6, "last_activity_date": 1483400131, "last_edit_date": 1483400131, "creation_date": 1483399280, "answer_id": 41434459, "question_id": 41434409, "link": "https://stackoverflow.com/questions/41434409/angular2-remove-click-event-binding-after-first-click/41434459#41434459", "title": "Angular2 remove click event binding after first click", "body": "<p><strong>Method 1</strong>:</p>\n\n<p>You can set a <code>boolean</code> variable, so if the user calls the function, <code>boolean</code> value changes and the user will be able to call the function on click again but actually nothing will happen.</p>\n\n<pre><code>bool: boolean = true;\n\ndoSomething($event) {\n  if (this.bool) {\n    // My method logic goes here\n    ...\n    ...\n    console.log('Method Logic');\n    this.bool = false;\n  }\n}\n</code></pre>\n\n<p><strong>Method 2</strong>:</p>\n\n<p>You can add a condition to your html component, if specified variable (in this case <code>bool</code>) is true, the function is going to be executed, but only once because the <code>bool</code> variable will be set to false and the <code>click</code> function will execute nothing (null) from now on.</p>\n\n<pre><code>bool: boolean = true;\n\ndoSomething($event) {\n  // My method logic goes here\n  ...\n  ...\n  console.log('Method Logic');\n  this.bool = false;\n}\n</code></pre>\n\n<p><code>(click)=\"bool ? doSomething($event) : null\"</code></p>\n"}, {"comments": [{"owner": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "edited": false, "score": 0, "creation_date": 1483964557, "post_id": 41540342, "comment_id": 70300668, "body": "I get your point on not removing the event itself. That I don&#39;t get is how the listen method in your code example is actually removing the event. It just redirects to <code>handleClick</code> which is the called method anyway no?"}, {"owner": {"reputation": 51, "user_id": 7376492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e792ed079537cce004292de73b32eaf8?s=128&d=identicon&r=PG&f=1", "display_name": "kryops", "link": "https://stackoverflow.com/users/7376492/kryops"}, "reply_to_user": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "edited": false, "score": 2, "creation_date": 1484008830, "post_id": 41540342, "comment_id": 70323854, "body": "The <code>Renderer.listen()</code> method returns a function. That function removes the event listener when called <a href=\"https://github.com/angular/angular/blob/master/modules/%40angular/platform-browser/src/dom/events/dom_events.ts#L20\" rel=\"nofollow noreferrer\">(Angular source)</a>. We assign that returned function to <code>this.cancelClick</code>. When we call that, the event listener is removed and <code>this.handleClick()</code> is never called again."}, {"owner": {"reputation": 10648, "user_id": 2107767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BVWr6.jpg?s=128&g=1", "display_name": "Alan C. S.", "link": "https://stackoverflow.com/users/2107767/alan-c-s"}, "edited": false, "score": 0, "creation_date": 1500495858, "post_id": 41540342, "comment_id": 77367832, "body": "+1. I used this technique for an array of children elements using @ViewChildren() and by storing the functions returned by Renderer.listen() in an array."}], "tags": [], "owner": {"reputation": 51, "user_id": 7376492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e792ed079537cce004292de73b32eaf8?s=128&d=identicon&r=PG&f=1", "display_name": "kryops", "link": "https://stackoverflow.com/users/7376492/kryops"}, "is_accepted": false, "score": 5, "last_activity_date": 1492769769, "last_edit_date": 1492769769, "creation_date": 1483930372, "answer_id": 41540342, "question_id": 41434409, "link": "https://stackoverflow.com/questions/41434409/angular2-remove-click-event-binding-after-first-click/41540342#41540342", "title": "Angular2 remove click event binding after first click", "body": "<p>The downside of just adding a guard variable for the execution is that the actual event listener is still in place and will trigger Angular's change detection when clicked, even though it doesn't do anything.</p>\n\n<p>To actually remove the event listener, you have to add it via the component's <code>Renderer</code>. This will return a function that removes the event listener when called:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Component, AfterViewInit, Renderer, ViewChild, ElementRef} from '@angular/core';\n\n@Component({\n  template: `&lt;button #button&gt;...&lt;/button&gt;`\n})\nexport class SampleComponent implements AfterViewInit {\n\n  @ViewChild('button') button: ElementRef;\n  private cancelClick: Function;\n\n  constructor(private renderer: Renderer) {}\n\n  ngAfterViewInit() {\n    this.cancelClick = this.renderer.listen(this.button.nativeElement, 'click',\n      ($event: any) =&gt; this.handleClick($event));\n  }\n\n  handleClick($event: any) {\n    this.cancelClick();\n    // ...\n  }\n}\n</code></pre>\n\n<p>If your goal is to just remove the event listener when the event is fired for the first time, this can be implemented as a plugin to Angular's event system. I added it as a part of my <a href=\"https://www.npmjs.com/package/ng2-events#once--only-fire-event-listener-once\" rel=\"nofollow noreferrer\">ng2-events</a> utility library <a href=\"https://github.com/kryops/ng2-events/blob/master/src/once/once.event.ts\" rel=\"nofollow noreferrer\">[source]</a>, which lets you now do the following:</p>\n\n<pre><code>&lt;button (once.click)=\"handleClick($event)\"&gt;...&lt;/button&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "is_accepted": false, "score": 3, "last_activity_date": 1492769816, "last_edit_date": 1492769816, "creation_date": 1492769154, "answer_id": 43539798, "question_id": 41434409, "link": "https://stackoverflow.com/questions/41434409/angular2-remove-click-event-binding-after-first-click/43539798#43539798", "title": "Angular2 remove click event binding after first click", "body": "<p>For people dealing with <code>Observable</code> / <code>Subject</code> for handling some events :</p>\n\n<pre><code>&lt;button (click)=\"clickEvents$.next($event)\"&gt;\n</code></pre>\n\n\n\n<pre><code>class MyComponent {\n  clickEvents$ = new Subject&lt;MouseEvent&gt;();\n  firstClick$ = this.clickEvents.take(1); // Observable of first click\n}\n</code></pre>\n"}], "owner": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13390, "favorite_count": 2, "answer_count": 3, "score": 6, "last_activity_date": 1492769816, "creation_date": 1483398945, "last_edit_date": 1483403142, "question_id": 41434409, "link": "https://stackoverflow.com/questions/41434409/angular2-remove-click-event-binding-after-first-click", "title": "Angular2 remove click event binding after first click", "body": "<p>In my application I have a button with a click even on it:</p>\n\n<pre><code>&lt;button class=\"btn btn-default\" (click)=\"doSomething()\"&gt;\n</code></pre>\n\n<p>From within the <code>doSomething</code> method, is there any way to remove the <code>(click)</code> event from the button (so the user can't trigger the functionnality anymore?).</p>\n\n<p>I tried to set a disabled prop on the button but it doesn't change Angular2 behavior.</p>\n\n<p>I tryed to use <code>(click)=\"doSomething($event)</code> and then </p>\n\n<pre><code>doSomething($event) {\n  // My method logic goes here\n  ...\n  ...\n  console.log('Method Logic');\n\n  //Attempt to overwrite click event\n  let target = event.target || event.srcElement || event.currentTarget;\n  this.renderer.listen(target, 'click', (event) =&gt; {\n      console.log('clic block');\n    });\n}\n</code></pre>\n\n<p>But It doesn't \"replace\" the click event. So after that, on click, both original logic and the \"click block\" console log are triggered!</p>\n"}, {"tags": ["node.js", "express", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 25774, "user_id": 1048479, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a9b214fab73f4c18ded501d976a2294c?s=128&d=identicon&r=PG", "display_name": "Nick Tomlin", "link": "https://stackoverflow.com/users/1048479/nick-tomlin"}, "is_accepted": true, "score": 2, "last_activity_date": 1483399034, "creation_date": 1483399034, "answer_id": 41434419, "question_id": 41434321, "link": "https://stackoverflow.com/questions/41434321/route-not-being-executed-in-my-nodejs-express-typescript-app/41434419#41434419", "title": "Route not being executed in my NodeJS / Express / Typescript app", "body": "<p>My TypeScript is rusty, but I believe you are passing your function <code>routes</code> to <code>app.use</code> instead of the router instance that it returns.</p>\n\n<pre><code>app.use('/api/Users', userRouter.routes);\n</code></pre>\n\n<p>Should become</p>\n\n<pre><code>app.use('/api/Users', userRouter.routes());\n</code></pre>\n"}], "owner": {"reputation": 38, "user_id": 5206615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f71585596b149963cbdc9d66d4d5b1?s=128&d=identicon&r=PG&f=1", "display_name": "wll_", "link": "https://stackoverflow.com/users/5206615/wll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 41434419, "answer_count": 1, "score": 0, "last_activity_date": 1483399034, "creation_date": 1483398453, "question_id": 41434321, "link": "https://stackoverflow.com/questions/41434321/route-not-being-executed-in-my-nodejs-express-typescript-app", "title": "Route not being executed in my NodeJS / Express / Typescript app", "body": "<p>I have a route '/api/users' that somehow is not being handled by my routes definition. I cannot spot what's wrong but every time I try to access /api/users from the browser, the browser stays in a constant loop.</p>\n\n<p>app.ts</p>\n\n<pre><code>import * as express from \"express\"\nimport * as bodyParser from \"body-parser\"\nimport * as mongoose from \"mongoose\"\nimport {Config as config} from \"./config\"\n\nlet app = express();\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n    extended: true\n})) \n\n//routes:\nimport * as userRouter from './Routes/userRoutes'\napp.use('/api/Users', userRouter.routes);\n\nvar server = app.listen(3000, function () {\n    console.log('server is up');\n})\n</code></pre>\n\n<p>userRoutes.ts</p>\n\n<pre><code>import * as express from \"express\"\n\nexport function routes() : express.Router {\n    let userRouter = express.Router();\n\n    userRouter.route('/')\n        .get(function(req,res ) {\n            res.send('blah')\n        }) \n\n    return userRouter;\n}\n</code></pre>\n"}, {"tags": ["javascript", "json", "serialization", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 725, "user_id": 1170608, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/PBdIU.png?s=128&g=1", "display_name": "Eddie Xie", "link": "https://stackoverflow.com/users/1170608/eddie-xie"}, "edited": false, "score": 0, "creation_date": 1483394177, "post_id": 41433749, "comment_id": 70073360, "body": "Thanks for the reply. even if it&#39;s an instance of a class it will have this behavior?"}, {"owner": {"reputation": 84649, "user_id": 670396, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545da9c5299e131c632f0914de5bd6d5?s=128&d=identicon&r=PG", "display_name": "elclanrs", "link": "https://stackoverflow.com/users/670396/elclanrs"}, "reply_to_user": {"reputation": 725, "user_id": 1170608, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/PBdIU.png?s=128&g=1", "display_name": "Eddie Xie", "link": "https://stackoverflow.com/users/1170608/eddie-xie"}, "edited": false, "score": 0, "creation_date": 1483394223, "post_id": 41433749, "comment_id": 70073376, "body": "An instance of a class is just an object. It will ignore the functions and stringify the own properties."}], "tags": [], "owner": {"reputation": 84649, "user_id": 670396, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545da9c5299e131c632f0914de5bd6d5?s=128&d=identicon&r=PG", "display_name": "elclanrs", "link": "https://stackoverflow.com/users/670396/elclanrs"}, "is_accepted": true, "score": 1, "last_activity_date": 1483394104, "creation_date": 1483394104, "answer_id": 41433749, "question_id": 41433724, "link": "https://stackoverflow.com/questions/41433724/typescript-automatically-serialized-a-class-instance/41433749#41433749", "title": "typescript automatically serialized a class instance?", "body": "<p>If it's an object or an array it will stringify it as JSON. From the Express docs:</p>\n\n<blockquote>\n  <p>When the parameter is an Array or Object, Express responds with the\n  JSON representation:</p>\n\n<pre><code>res.send({ user: 'tobi' });\nres.send([1,2,3]);\n</code></pre>\n</blockquote>\n\n<p><a href=\"https://expressjs.com/en/api.html#res.send\" rel=\"nofollow noreferrer\">https://expressjs.com/en/api.html#res.send</a></p>\n"}], "owner": {"reputation": 725, "user_id": 1170608, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/PBdIU.png?s=128&g=1", "display_name": "Eddie Xie", "link": "https://stackoverflow.com/users/1170608/eddie-xie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 41433749, "answer_count": 1, "score": 0, "last_activity_date": 1483394104, "creation_date": 1483393915, "question_id": 41433724, "link": "https://stackoverflow.com/questions/41433724/typescript-automatically-serialized-a-class-instance", "title": "typescript automatically serialized a class instance?", "body": "<p>I just implemented a serializer for a class as follow:</p>\n\n<pre><code>import {File} from './file'\nimport Serialization from './serializable'\n\nclass User implements Serialization&lt;User&gt; {\n  username: string\n  deserialize(input) {\n    this.username = input.username\n\n    return this\n  }\n</code></pre>\n\n<p>}</p>\n\n<p>Some details are omitted</p>\n\n<p>However, I thought to do serialization and convert this object into Json, I need to implement a serializer which is reverse to what I wrote in this deserializer</p>\n\n<p>But the puzzling thing is, when I do:</p>\n\n<pre><code>app.use('/abc', (req, res) =&gt; {\n  getLoggedInUser(sessionToken)\n    .then(\n      user =&gt; {\n        const tmp: User = s\n        res.send(tmp)\n      }\n    ).catch(\n      err =&gt; {\n        console.log(\"err =\" + JSON.stringify(err))\n      }\n  )\n</code></pre>\n\n<p>express actually returned the JSON version of this User object. </p>\n\n<p>I'm quite surprised by this behavior. Does that mean I don't need a serializer since it's done by typescript automatically? Or am I missing something?</p>\n"}, {"tags": ["node.js", "heroku", "typescript", "buildpack", "procfile"], "answers": [{"tags": [], "owner": {"reputation": 3269, "user_id": 967120, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nCi7.jpg?s=128&g=1", "display_name": "Simon Borsky", "link": "https://stackoverflow.com/users/967120/simon-borsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1514441040, "last_edit_date": 1514441040, "creation_date": 1483477963, "answer_id": 41452460, "question_id": 41433670, "link": "https://stackoverflow.com/questions/41433670/no-default-language-could-be-detected-for-this-app-while-using-multiple-buildp/41452460#41452460", "title": "&quot;No default language could be detected for this app&quot; while using multiple Buildpacks for an app on Heroku", "body": "<p>The issue was fixed after creation in the app root the package.json file -</p>\n\n<pre><code>{\n    \"name\": \"nodejs-express-app1\",\n    \"version\": \"0.0.0\",\n    \"description\": \"Multiple Buildpacks App\",\n    \"author\": { \"name\": \"SimonBor\" },\n    \"dependencies\": {\n        \"express\": \"~4.9.0\"\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p><em>Setting variable <code>BUILD_DIR</code> is not necessary step.</em></p>\n</blockquote>\n\n<p>Of course it is not the best practice solution but it allowed me to continue development.<br>\nI will be more then happy for a better solution.</p>\n\n<p>Best regards!</p>\n"}], "owner": {"reputation": 3269, "user_id": 967120, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nCi7.jpg?s=128&g=1", "display_name": "Simon Borsky", "link": "https://stackoverflow.com/users/967120/simon-borsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1009, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514441040, "creation_date": 1483393512, "last_edit_date": 1483966428, "question_id": 41433670, "link": "https://stackoverflow.com/questions/41433670/no-default-language-could-be-detected-for-this-app-while-using-multiple-buildp", "title": "&quot;No default language could be detected for this app&quot; while using multiple Buildpacks for an app on Heroku", "body": "<p>I deploy to Heroku two nodejs projects each one in own folder -<br>\n<code>NodejsExpressApp1</code> and <code>NodejsConsoleApp1</code>.  </p>\n\n<p>I have added to the app root the <code>Procfile</code> file with the following content -<br>\n<code>web: node NodejsExpressApp1/app.js</code><br>\n<code>worker: node NodejsConsoleApp1/app.js</code></p>\n\n<p>Also I have set the <code>BUILD_DIR</code> config var to the <code>NodejsExpressApp1</code> folder.</p>\n\n<p>Locally everything works fine.</p>\n\n<p>Below shown what I get while deploying -</p>\n\n<pre><code>c:\\ExpressMultiProjectApp2&gt;git push heroku master\nCounting objects: 1506, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (1401/1401), done.\nWriting objects: 100% (1506/1506), 4.85 MiB | 92.00 KiB/s, done.\nTotal 1506 (delta 269), reused 0 (delta 0)\nremote: Compressing source files... done.\nremote: Building source:\nremote:\nremote:  !     No default language could be detected for this app.\nremote:                         HINT: This occurs when Heroku cannot detect     the buildpack to use for this application automatically.\nremote:                         See     https://devcenter.heroku.com/articles/buildpacks\nremote:\nremote:  !     Push failed\nremote: Verifying deploy...\nremote:\nremote: !       Push rejected to sheltered-mesa-74202.\nremote:\nTo https://git.heroku.com/sheltered-mesa-74202.git\n ! [remote rejected] master -&gt; master (pre-receive hook declined)\nerror: failed to push some refs to 'https://git.heroku.com/sheltered-mesa-74202.git'`\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3868, "user_id": 1928266, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/459c81e52f517a0328b9286f18115619?s=128&d=identicon&r=PG", "display_name": "szpic", "link": "https://stackoverflow.com/users/1928266/szpic"}, "edited": false, "score": 0, "creation_date": 1483391053, "post_id": 41433208, "comment_id": 70072403, "body": "Thanks for the suggestion but are you sure about that? I thought that child module will be called after parent is constructed so that array should be already initialized."}, {"owner": {"reputation": 695, "user_id": 3480833, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/823cbcfec52bb3d45dbbbd37b61616bf?s=128&d=identicon&r=PG&f=1", "display_name": "JSNinja", "link": "https://stackoverflow.com/users/3480833/jsninja"}, "reply_to_user": {"reputation": 3868, "user_id": 1928266, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/459c81e52f517a0328b9286f18115619?s=128&d=identicon&r=PG", "display_name": "szpic", "link": "https://stackoverflow.com/users/1928266/szpic"}, "edited": false, "score": 0, "creation_date": 1483391211, "post_id": 41433208, "comment_id": 70072471, "body": "I have edited my answer. The array is not empty but &#39;this&#39; is not required in the template for interpolation. this.counter[1].value should be counter[1].value and also it is a good practice to use the safety operator to avoid undefined exceptions on arrays."}, {"owner": {"reputation": 3868, "user_id": 1928266, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/459c81e52f517a0328b9286f18115619?s=128&d=identicon&r=PG", "display_name": "szpic", "link": "https://stackoverflow.com/users/1928266/szpic"}, "edited": false, "score": 0, "creation_date": 1483392439, "post_id": 41433208, "comment_id": 70072850, "body": "unfortunately not but thanks for trying to help. I will post my answer in couple of minutes"}], "tags": [], "owner": {"reputation": 695, "user_id": 3480833, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/823cbcfec52bb3d45dbbbd37b61616bf?s=128&d=identicon&r=PG&f=1", "display_name": "JSNinja", "link": "https://stackoverflow.com/users/3480833/jsninja"}, "is_accepted": false, "score": 1, "last_activity_date": 1483393722, "last_edit_date": 1483393722, "creation_date": 1483390736, "answer_id": 41433208, "question_id": 41433087, "link": "https://stackoverflow.com/questions/41433087/emiting-event-from-component-to-parent-module-cousing-exception/41433208#41433208", "title": "Emiting event from component to parent module cousing exception", "body": "<p>In your CustomCounterComponent class the template has an issue.</p>\n\n<p>Try the following in your template:</p>\n\n<pre><code>template: `\n First counter\n&lt;button (click)=\"decrement()\"&gt;-&lt;/button&gt;\n&lt;span&gt;{{counter[1]?.value}}&lt;/span&gt;\n&lt;button (click)=\"increment()\"&gt;+&lt;/button&gt;\n`\n</code></pre>\n\n<p>? is a safety operator that would not throw an exception when counter[1] is undefined</p>\n\n<p>Also note this is not required with counter in the template</p>\n\n<p>The following method expects an an Array whereas it receives an object.</p>\n\n<pre><code> myValueChange(event:Counter[]) {\n   console.log(event);\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 695, "user_id": 3480833, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/823cbcfec52bb3d45dbbbd37b61616bf?s=128&d=identicon&r=PG&f=1", "display_name": "JSNinja", "link": "https://stackoverflow.com/users/3480833/jsninja"}, "edited": false, "score": 0, "creation_date": 1483393355, "post_id": 41433513, "comment_id": 70073121, "body": "That is because your event expects an object of type Counter[]. Where as the value you have passed is an object it should be an array of type Counter. Can you confirm if I&#39;m going in the right direction?"}, {"owner": {"reputation": 3868, "user_id": 1928266, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/459c81e52f517a0328b9286f18115619?s=128&d=identicon&r=PG", "display_name": "szpic", "link": "https://stackoverflow.com/users/1928266/szpic"}, "reply_to_user": {"reputation": 695, "user_id": 3480833, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/823cbcfec52bb3d45dbbbd37b61616bf?s=128&d=identicon&r=PG&f=1", "display_name": "JSNinja", "link": "https://stackoverflow.com/users/3480833/jsninja"}, "edited": false, "score": 0, "creation_date": 1483393527, "post_id": 41433513, "comment_id": 70073183, "body": "exception is saying about &#39;value&#39; parameter and not about id. Also i tried with type set to <code>any</code> and  i received same exception"}, {"owner": {"reputation": 695, "user_id": 3480833, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/823cbcfec52bb3d45dbbbd37b61616bf?s=128&d=identicon&r=PG&f=1", "display_name": "JSNinja", "link": "https://stackoverflow.com/users/3480833/jsninja"}, "edited": false, "score": 0, "creation_date": 1483393562, "post_id": 41433513, "comment_id": 70073190, "body": "you passed an object and not an array"}, {"owner": {"reputation": 1357, "user_id": 6804636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525564d88315242add2b47e6da976b46?s=128&d=identicon&r=PG&f=1", "display_name": "Floyd", "link": "https://stackoverflow.com/users/6804636/floyd"}, "edited": false, "score": 0, "creation_date": 1496364325, "post_id": 41433513, "comment_id": 75643726, "body": "For those interested, I&#39;ve created a simple example of how to pass data between parent and child components here: <a href=\"https://github.com/agenoria/simple_angular_input_output_example\" rel=\"nofollow noreferrer\">github.com/agenoria/simple_angular_input_output_example</a>. It is loosely based on this question and answer."}], "tags": [], "owner": {"reputation": 3868, "user_id": 1928266, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/459c81e52f517a0328b9286f18115619?s=128&d=identicon&r=PG", "display_name": "szpic", "link": "https://stackoverflow.com/users/1928266/szpic"}, "is_accepted": true, "score": 1, "last_activity_date": 1483392582, "creation_date": 1483392582, "answer_id": 41433513, "question_id": 41433087, "link": "https://stackoverflow.com/questions/41433087/emiting-event-from-component-to-parent-module-cousing-exception/41433513#41433513", "title": "Emiting event from component to parent module cousing exception", "body": "<p>Problem was in in-proper calling the emit method.</p>\n\n<p>Calling like this:</p>\n\n<pre><code>this.counterChange.emit({\n  value: this.counter\n})\n</code></pre>\n\n<p>was creating new object that was emited and that someway messed object binding. ( If anyone can explain this better then please do it).</p>\n\n<p>after changing call to this:</p>\n\n<pre><code>this.counterChange.emit(this.counter)\n</code></pre>\n\n<p>when I emit strait the input object everything started to be working.</p>\n"}], "owner": {"reputation": 3868, "user_id": 1928266, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/459c81e52f517a0328b9286f18115619?s=128&d=identicon&r=PG", "display_name": "szpic", "link": "https://stackoverflow.com/users/1928266/szpic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 41433513, "answer_count": 2, "score": 1, "last_activity_date": 1483393722, "creation_date": 1483389998, "question_id": 41433087, "link": "https://stackoverflow.com/questions/41433087/emiting-event-from-component-to-parent-module-cousing-exception", "title": "Emiting event from component to parent module cousing exception", "body": "<p>My app.component.ts</p>\n\n<pre><code>import { Component, Input, OnInit, OnChanges, SimpleChanges} from '@angular/core';\nimport {Counter } from './counter'\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;custom-counter [(counter)]=\"counterArray\" (counterChange)=\"myValueChange($event);\"&gt;&lt;/custom-counter&gt;\n&lt;p&gt;&lt;code&gt;counterValue = {{counterValue}}&lt;/code&gt;&lt;/p&gt;\n&lt;hr&gt;\n  `\n})\nexport class AppComponent implements OnChanges{\n    counterArray:Counter[]\n    counterValue = 5;\n    constructor(){\n      this.counterArray=[{id:0,value:0},{id:1,value:1}]\n    }\n    myValueChange(event:Counter[]) {\n       console.log(event);\n    }\n }\n</code></pre>\n\n<p>my counter.ts</p>\n\n<pre><code>export class Counter {\n  id: number;\n  value: number;\n}\n</code></pre>\n\n<p>and custom-counter  component:</p>\n\n<pre><code>import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Counter } from './counter';\n@Component({\n  selector: 'custom-counter',\n  template: `\n  First counter\n    &lt;button (click)=\"decrement()\"&gt;-&lt;/button&gt;\n    &lt;span&gt;{{this.counter[1].value}}&lt;/span&gt;\n    &lt;button (click)=\"increment()\"&gt;+&lt;/button&gt;\n  `\n})\nexport class CustomCounterComponent {\n  @Input() counter : Counter[];\n  @Output() counterChange = new EventEmitter();\n  decrement() {\n    this.counter[1].value--;\n        this.counterChange.emit({\n      value: this.counter\n    })\n  }\n\n  increment() {\n    this.counter[1].value++;\n        this.counterChange.emit({\n      value: this.counter\n    })\n  }\n}\n</code></pre>\n\n<p>My plan was that if user presses button on from the child component parent is informed about it and print something in console.\nunfortunately when  user press button error below is thrown:</p>\n\n<blockquote>\n  <p>\"Error in ./CustomCounterComponent class CustomCounterComponent - inline template:3:10 caused by: Cannot read property 'value' of undefined\"</p>\n</blockquote>\n\n<p>I know that this exception is quite strait forward but I can not find why something is undefined while I pass everything.</p>\n\n<p>If I comment out lines with <code>emit</code> no error occur but then I do not have any notifications for parent</p>\n"}]