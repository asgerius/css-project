[{"tags": ["javascript", "reactjs", "typescript", "google-chrome"], "answers": [{"comments": [{"owner": {"reputation": 642, "user_id": 8735352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a954491d5813e4271bc38fbb1b97e68a?s=128&d=identicon&r=PG&f=1", "display_name": "Danilo Fuchs", "link": "https://stackoverflow.com/users/8735352/danilo-fuchs"}, "edited": false, "score": 0, "creation_date": 1533238851, "post_id": 51643763, "comment_id": 90285510, "body": "Thanks a lot! Turns out I had a Promise inside another, so when I called .then() inside componentDidMount(), only one promise was resolved. As the first promise triggered a rerender but the second didn&#39;t (the reference was already there), it missed info."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 4, "last_activity_date": 1533167718, "creation_date": 1533167718, "answer_id": 51643763, "question_id": 51643445, "link": "https://stackoverflow.com/questions/51643445/different-symbols-for-debugging-arrays-between-renders-react/51643763#51643763", "title": "Different symbols for debugging arrays between renders React", "body": "<p><img src=\"https://i.stack.imgur.com/3eaBd.png\" alt=\"\"></p>\n\n<p>Facts: </p>\n\n<ul>\n<li><code>[]</code> means it's an empty array <em>AT the time of the <code>console.log</code></em></li>\n<li><code>[{...}]</code> means the array has 1 object <em>AT the time of the <code>console.log</code></em></li>\n</ul>\n\n<p>Your screenshot is only showing you <em>expanding</em> the array <em>after</em> it has been logged. Since it is the same array reference expanding <em>after</em> the mutation is showing you the same result. </p>\n"}], "owner": {"reputation": 642, "user_id": 8735352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a954491d5813e4271bc38fbb1b97e68a?s=128&d=identicon&r=PG&f=1", "display_name": "Danilo Fuchs", "link": "https://stackoverflow.com/users/8735352/danilo-fuchs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 1, "accepted_answer_id": 51643763, "answer_count": 1, "score": 0, "last_activity_date": 1533167718, "creation_date": 1533165100, "question_id": 51643445, "link": "https://stackoverflow.com/questions/51643445/different-symbols-for-debugging-arrays-between-renders-react", "title": "Different symbols for debugging arrays between renders React", "body": "<p>When evaluating an array of objects in the render method, console.log on Chrome prints an array of symbol <em>[ ]</em> and <strong>array.map does not work</strong>. After a re-render, the symbol is <em>[{...}]</em> and <strong>map does work</strong> as intended.</p>\n\n<p>I want to know what these different symbols represent, as <em>the objects inside are completely unchanged</em> throughout the renders.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3eaBd.png\" rel=\"nofollow noreferrer\">Chrome console screen</a></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 4910936, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/179a5a35289fb73c9a993a8d950381b4?s=128&d=identicon&r=PG&f=1", "display_name": "Pat", "link": "https://stackoverflow.com/users/4910936/pat"}, "edited": false, "score": 0, "creation_date": 1533163180, "post_id": 51643087, "comment_id": 90250709, "body": "Thats perfect. Thank you, i tried with arrow but i forgot to remove function keyword after onSelect. Thanks again"}], "tags": [], "owner": {"reputation": 639, "user_id": 3934988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRRGo.jpg?s=128&g=1", "display_name": "chairmanmow", "link": "https://stackoverflow.com/users/3934988/chairmanmow"}, "is_accepted": true, "score": 5, "last_activity_date": 1533162534, "creation_date": 1533162534, "answer_id": 51643087, "question_id": 51643005, "link": "https://stackoverflow.com/questions/51643005/how-to-call-typescript-function-from-jquery-datepicker-select/51643087#51643087", "title": "How to call typescript function from JQuery datepicker select", "body": "<p>You answered your own question but yes, instead of writing onSelect using the <code>function</code> tag, use an arrow function, which will preserve the scope of this to where it was called from.  When you use the <code>function</code> keyword, you're creating a new scope, where <code>this</code> will refer to variables inside that function's scope.</p>\n\n<p>Arrow functions are the way to go here, but some older approaches before those came along would be using <code>.bind(this)</code> or doing something like this before you create that function.</p>\n\n<pre><code>let self = this;  // create a reference to 'this' above isolate scope.\nonSelect: function(selected,evnt){\n    self.updateFunc(event)\n};\n</code></pre>\n\n<p>With arrow functions you shouldn't have to do this, just do:</p>\n\n<pre><code>onSelect:(selected,evnt) =&gt; { //arrow function passes the this into the new scope\n    this.updateFunc(event)\n}\n</code></pre>\n"}], "owner": {"reputation": 513, "user_id": 4910936, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/179a5a35289fb73c9a993a8d950381b4?s=128&d=identicon&r=PG&f=1", "display_name": "Pat", "link": "https://stackoverflow.com/users/4910936/pat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 51643087, "answer_count": 1, "score": -1, "last_activity_date": 1533162534, "creation_date": 1533161966, "question_id": 51643005, "link": "https://stackoverflow.com/questions/51643005/how-to-call-typescript-function-from-jquery-datepicker-select", "title": "How to call typescript function from JQuery datepicker select", "body": "<p>How do i call updateFunc from select below. </p>\n\n<pre><code>ngAfterViewChecked() {\n    $(\".datepicker\").datepicker({\n      changeMonth: true,\n      changeYear: true,\n     onSelect: function (selected, evnt) {\n        this.updateFunc(evnt);\n      }\n    });\n}\n\nupdateFunc(evnt: any) {\n    alert(\"hi\");\n}\n</code></pre>\n\n<p>This is not working, i should use => to call another function, this.function wont work?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 9, "last_activity_date": 1533161175, "creation_date": 1533161175, "answer_id": 51642889, "question_id": 51642830, "link": "https://stackoverflow.com/questions/51642830/ts2554-expected-x-arguments-but-got-y-w-function-overloading/51642889#51642889", "title": "TS2554: Expected X arguments, but got Y w/ function overloading", "body": "<p>When you have overload signatures, the signature of the actual function definition is the \"implementation signature\", which doesn't count as an overload signature.  If you want it to be an overload signature, you have to write it twice.  See the <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"noreferrer\">handbook</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "edited": false, "score": 1, "creation_date": 1585187610, "post_id": 60842337, "comment_id": 107677668, "body": "You&#39;ve missed the point of the question... and also you didn&#39;t use overloads at all?"}], "tags": [], "owner": {"reputation": 1, "user_id": 13098838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a351a6a14565b9224a5dd67b8d1ebd4?s=128&d=identicon&r=PG&f=1", "display_name": "Liu CZ", "link": "https://stackoverflow.com/users/13098838/liu-cz"}, "is_accepted": false, "score": -1, "last_activity_date": 1585104589, "creation_date": 1585104589, "answer_id": 60842337, "question_id": 51642830, "link": "https://stackoverflow.com/questions/51642830/ts2554-expected-x-arguments-but-got-y-w-function-overloading/60842337#60842337", "title": "TS2554: Expected X arguments, but got Y w/ function overloading", "body": "<pre><code>const fn=(...rest:any){\n console.log(arguments)\n}\n\nfn(1);\nfn(1,2);\nfn('a',1,1);\n</code></pre>\n\n<p>if you want to overload, try this.</p>\n"}], "owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2801, "favorite_count": 0, "accepted_answer_id": 51642889, "answer_count": 2, "score": 2, "last_activity_date": 1585104589, "creation_date": 1533160791, "question_id": 51642830, "link": "https://stackoverflow.com/questions/51642830/ts2554-expected-x-arguments-but-got-y-w-function-overloading", "title": "TS2554: Expected X arguments, but got Y w/ function overloading", "body": "<p>First, my functions:</p>\n\n<pre><code>function randIntIncl(max: number): number;\nfunction randIntIncl(min: number, max?: number): number {\n    if(max === undefined) {\n        max = min;\n        min = 0;\n    }\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \n}\n</code></pre>\n\n<p>(credit <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random\" rel=\"nofollow noreferrer\">MDN</a>)</p>\n\n<p>Called like:</p>\n\n<pre><code>randIntIncl(1,9999)\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>TS2554: Expected 1 arguments, but got 2.</p>\n</blockquote>\n\n<p>I'm <em>guessing</em> the TypeScript is matching the first overload and then erroring out. What I don't get is why it doesn't try the 2nd overload? <code>9999</code> is clearly a number, so it should match, no?</p>\n\n<p>I could simply omit the first overload and everything would work peachy because I made <code>max</code> optional anyway, but I put the overload there for documentation purposes. When called with one arg, that arg is the <em>max</em> not <em>min</em> as the 2nd overload suggests.</p>\n\n<p>So my questions are:</p>\n\n<ol>\n<li>Is there a way to make this work? Did I do something wrong?</li>\n<li>Or is this \"as designed\" and I simply shouldn't create ambiguous overloads?</li>\n</ol>\n"}, {"tags": ["angular", "typescript", "angular-routing"], "answers": [{"comments": [{"owner": {"reputation": 6807, "user_id": 2929562, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f7ea127833d314cefdd5acb40836237a?s=128&d=identicon&r=PG&f=1", "display_name": "Pra_A", "link": "https://stackoverflow.com/users/2929562/pra-a"}, "edited": false, "score": 1, "creation_date": 1570207672, "post_id": 51642875, "comment_id": 102853073, "body": "Does this works with load childen? as CanDeactivateGuard object shows null in my case"}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 5, "last_activity_date": 1533161102, "creation_date": 1533161102, "answer_id": 51642875, "question_id": 51642802, "link": "https://stackoverflow.com/questions/51642802/angular-candeactivate-isnt-working/51642875#51642875", "title": "Angular CanDeactivate isn&#39;t working", "body": "<p>You need to pass the guard as an array. (You could have more than one.)</p>\n\n<pre><code>{ path: 'catalog', component: CatalogViewComponent, canDeactivate: [CanDeactivateGuard] }\n</code></pre>\n\n<p>and also add the guard as a <code>provider</code>:</p>\n\n<pre><code>providers: [CanDeactivateGuard],\n</code></pre>\n"}], "owner": {"reputation": 1070, "user_id": 4279257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9e35a1def43b0730198d92fc8653c3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Koushik Ravulapelli", "link": "https://stackoverflow.com/users/4279257/koushik-ravulapelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4405, "favorite_count": 0, "accepted_answer_id": 51642875, "answer_count": 1, "score": 7, "last_activity_date": 1533161363, "creation_date": 1533160550, "last_edit_date": 1533161363, "question_id": 51642802, "link": "https://stackoverflow.com/questions/51642802/angular-candeactivate-isnt-working", "title": "Angular CanDeactivate isn&#39;t working", "body": "<p>I'm trying to use the <code>CanDeactivate</code> function in the routing but <code>canDeactivate</code> function is never called when invoked on another route.</p>\n\n<p><strong>CanDeactivateGuard :</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { CanDeactivate } from '@angular/router';\nimport { Observable } from 'rxjs/Observable';\n\nexport interface CanComponentDeactivate {\n  canDeactivate: () =&gt; Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean;\n}\n\n@Injectable()\nexport class CanDeactivateGuard implements  CanDeactivate&lt;CanComponentDeactivate&gt;{\n\n  canDeactivate(component: CanComponentDeactivate) {\n    return component.canDeactivate ? component.canDeactivate() : true;\n  }\n}\n</code></pre>\n\n<p><strong>CatalogViewComponent :</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Observable } from \"rxjs\";\nimport {CanComponentDeactivate} from '../../can-deactivate.guard';\n@Component({\n  selector: 'home',\n  template: `\n    &lt;h1&gt;Catalog&lt;/h1&gt;\n  `,\n})\nexport class CatalogViewComponent implements CanComponentDeactivate{\n  canDeactivate(): Observable&lt;boolean&gt; | boolean {\n    console.log('working');  // Not Entering this function when invoked another route\n    return false;\n  }\n}\n</code></pre>\n\n<p><strong>routing.module.ts :</strong></p>\n\n<pre><code> { path: 'catalog', component: CatalogViewComponent, canDeactivate: CanDeactivateGuard },\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-router-basic-example-bqtatw?file=app%2Fcan-deactivate.guard.ts\" rel=\"noreferrer\">Stackblitz Link</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "inheritance", "angular-services"], "comments": [{"owner": {"reputation": 1416, "user_id": 3993591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DXfB.jpg?s=128&g=1", "display_name": "Yousef khan", "link": "https://stackoverflow.com/users/3993591/yousef-khan"}, "edited": false, "score": 0, "creation_date": 1533160000, "post_id": 51642613, "comment_id": 90249809, "body": "Have you tried registering your services in the <code>module</code> instead of <code>providedIn</code>  flag?"}], "answers": [{"comments": [{"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 0, "creation_date": 1533160529, "post_id": 51642719, "comment_id": 90249985, "body": "I think the OP intention is to be able to use the superclass on its own too. If it is not annotated then it could not be used as a service. Maybe he/she needs to rethink the design if this is not possible."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 0, "creation_date": 1533160665, "post_id": 51642719, "comment_id": 90250019, "body": "I agree. What I intended to show was, that inheritance among services only works if only one <code>class</code> gets the Injectable annotation and this has to be the inheriting class."}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533160943, "post_id": 51642719, "comment_id": 90250089, "body": "In that case, make <code>AnimalService</code> an abstract class (without the @Injectable), and create a separate implementation of <code>AnimalService</code> (with the @Injectable). That way, <code>DogService</code> can still extend the abstract, and a separate injectable instance can be created"}, {"owner": {"reputation": 675, "user_id": 5403884, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c0e791ca8309d72ee75631760b0cf0c2?s=128&d=identicon&r=PG&f=1", "display_name": "Couim", "link": "https://stackoverflow.com/users/5403884/couim"}, "edited": false, "score": 0, "creation_date": 1533201663, "post_id": 51642719, "comment_id": 90263289, "body": "@Lynx Thanks for your answer. Yes I would like to continue to use AnimalService. So finally what I did is the following : I duplicated <code>AnimalService</code> in an abstract class <code>AbstractAnimalService</code> and I extended <code>DogService</code> on that. In that way I can continue to use AnimalService and if I want use DogService with all features (both implemented in the abstract class and the DogService himself). Don&#39;t hesitate to tell me if it&#39;s a good practice or not !"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1533203072, "post_id": 51642719, "comment_id": 90264202, "body": "Great to hear that it worked for you. :-) Yes, your approach with the abstract class that gets used by AnimalService and DogService is a good one. Really well done."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 1, "last_activity_date": 1533161681, "last_edit_date": 1533161681, "creation_date": 1533160126, "answer_id": 51642719, "question_id": 51642613, "link": "https://stackoverflow.com/questions/51642613/angular-allow-inheritance-service-declaration-in-constructor/51642719#51642719", "title": "Angular allow inheritance service declaration in constructor", "body": "<p>The problem is the annotation in your SuperClass. Don't annotate AnimalService. It must be an abstract simple class.</p>\n\n<pre><code>export abstract class AnimalService {\n    constructor() {}\n    move(): any {\n        console.log('move animal');\n    }\n}\n\n@Injectable({providedIn: 'root'})\nexport class DogService extends AnimalService {\n    constructor() {\n        super();\n    }\n    scream(): any {\n        console.log('il crie');\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 675, "user_id": 5403884, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c0e791ca8309d72ee75631760b0cf0c2?s=128&d=identicon&r=PG&f=1", "display_name": "Couim", "link": "https://stackoverflow.com/users/5403884/couim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 51642719, "answer_count": 1, "score": 2, "last_activity_date": 1533161681, "creation_date": 1533159542, "question_id": 51642613, "link": "https://stackoverflow.com/questions/51642613/angular-allow-inheritance-service-declaration-in-constructor", "title": "Angular allow inheritance service declaration in constructor", "body": "<p>I've a component HomeComponent and I have two services : AnimalService and DogService</p>\n\n<p>DogService extends AnimalService like that : </p>\n\n<pre><code>@Injectable({providedIn: 'root'})\nexport class AnimalService {\n    constructor() {}\n    move(): any {\n        console.log('move animal');\n    }\n}\n\n@Injectable({providedIn: 'root'})\nexport class DogService extends AnimalService {\n    constructor() {\n        super();\n    }\n    scream(): any {\n        console.log('il crie');\n    }\n}\n</code></pre>\n\n<p>And then I want to use it by calling scream function inside my component : </p>\n\n<pre><code>    @Component({\n        selector: 'jhi-home',\n        templateUrl: './home.component.html',\n        styleUrls: ['home.scss']\n    })\n    export class HomeComponent implements OnInit {\n\n        constructor(private dogService: DogService) {}\n\n        ngOnInit() {\n            this.dogService.scream(); // the error here : scream is not a function\n        }\n    }\n</code></pre>\n\n<p>But I have the following error : </p>\n\n<pre><code>this.dogService.scream is not a function\n</code></pre>\n\n<p>Maybe there is a subtility with angular, becaus of Injectable or something like that, I know that the constructor of DogService is not called, si my webbrowser undertands that it's an AnimalService. it's not the case if I do a <code>dogService = New DogService</code> instead of declaring it inside the constructor. But I don't understand why.</p>\n\n<p>Any ideas ? </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533159518, "post_id": 51642577, "comment_id": 90249661, "body": "Are each of the buttons in the same instance of the component? Or is there more than copy of the component?"}, {"owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533159948, "post_id": 51642577, "comment_id": 90249787, "body": "I&#39;m creating elements in recursive manner, I included whole class to question post"}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 1, "creation_date": 1533160036, "post_id": 51642577, "comment_id": 90249816, "body": "Different instances will not share the same instance of the variables, so each time a new <code>TreeViewComponent</code> is created, it will have a <code>null</code> copy of <code>firstTextSwap</code>"}, {"owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "reply_to_user": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1533160144, "post_id": 51642577, "comment_id": 90249860, "body": "Yeah I got it when I was posting my code :D Alright thanks a lot! Do you have any idea to resolve this problem? Additional singleton service instance just for keeping one variable sounds bad for me :P"}, {"owner": {"reputation": 3084, "user_id": 1941654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e446b8cae7132038fefdb922b7d233?s=128&d=identicon&r=PG", "display_name": "Mike Hill", "link": "https://stackoverflow.com/users/1941654/mike-hill"}, "edited": false, "score": 1, "creation_date": 1533160891, "post_id": 51642577, "comment_id": 90250077, "body": "A typical pattern for this would be to use a state management system (e.g., <a href=\"https://github.com/ngrx/platform\" rel=\"nofollow noreferrer\">NgRx</a>). A simple substitute would be a service as you suggested or to use a static field, although a static field would likely be frowned upon in this case."}], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "edited": false, "score": 0, "creation_date": 1533161344, "post_id": 51642853, "comment_id": 90250198, "body": "I created recursion because of no idea how many nest levels is in category.nestedCategories.nestedCategories..... etc :P thanks for answer :)"}], "tags": [], "owner": {"reputation": 639, "user_id": 3934988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRRGo.jpg?s=128&g=1", "display_name": "chairmanmow", "link": "https://stackoverflow.com/users/3934988/chairmanmow"}, "is_accepted": true, "score": 0, "last_activity_date": 1533161678, "last_edit_date": 1533161678, "creation_date": 1533160913, "answer_id": 51642853, "question_id": 51642577, "link": "https://stackoverflow.com/questions/51642577/angular-does-not-remember-variable-value/51642853#51642853", "title": "Angular does not remember variable value", "body": "<p>The reason this is happening is because your template is creating your \"TreeViewComponent\" (which appears to have a selector of <code>app-categories</code>) inside an <code>*ngFor</code> loop which will create a new instance of the component for each item, each item in the list having its own set of variables, setting to <code>null</code> on each instance.  I don't think this is what you want, I'm surprised it isn't throwing more of an error since it seems like a recursive template, since it's calling itself.  </p>\n\n<p>Hopefully that explains your error - I could go into more detail re-writing your example, but hopefully this makes some sense.  Some tips though, the <code>*ngFor=</code> should probably be on your <code>&lt;li&gt;</code> elements, and a component shouldn't call its template from inside itself unless there's some reason I'm not aware of.</p>\n"}], "owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 51642853, "answer_count": 1, "score": 0, "last_activity_date": 1533161678, "creation_date": 1533159322, "last_edit_date": 1533159910, "question_id": 51642577, "link": "https://stackoverflow.com/questions/51642577/angular-does-not-remember-variable-value", "title": "Angular does not remember variable value", "body": "<p>Hello I have a strange behavior with simple case. I'm checking n class variable on each click on the button, when it is null then I initialize it, in case it's not then I'm just printing this value but It works only in case I click the same button twice and as far as I understand the variable should be shared for each click.</p>\n\n<p>html:</p>\n\n<pre><code>    @Component({\n  selector: 'app-categories',\n  styleUrls: ['./tree-view.css'],\n  template: `\n      &lt;ul&gt;\n        &lt;li&gt;\n          &lt;button id={{categories.name}} [ngStyle]=\"hoverFlag ? matchHoverButtonColor(categories) : matchButtonColor(categories)\"\n          (mouseover)=\"hoverFlag = true\" (mouseout)=\"hoverFlag = false\" class=\"btn btn-radius\" type=\"button\"\n          (click)=\"markToSwap(categories.name)\"&gt; {{categories.name}} &lt;/button&gt;\n\n          &lt;ng-container *ngIf=\"categories.nestedCategories\"&gt;\n            &lt;app-categories *ngFor=\"let cat of categories.nestedCategories\" [categories]=\"cat\"&gt;&lt;/app-categories&gt;\n          &lt;/ng-container&gt;\n        &lt;/li&gt;\n      &lt;/ul&gt;\n  `,\n})\nexport class TreeViewComponent {\n  @Input() categories: AdminCategory;\n\n  fileNameDialogRef: MatDialogRef&lt;ModalCategoryComponent&gt;;\n\n  firstTextSwap = null;\n\n\n  constructor(private dialog: MatDialog, private categoryStylesService: CategoryStylesService) { }\n\n  matchButtonColor(category: AdminCategory) { return this.categoryStylesService.matchButtonColor(category); }\n\n  matchHoverButtonColor(category: AdminCategory) { return this.categoryStylesService.matchHoverButtonColor(category); }\n\n\n  markToSwap(categoryName: string) {\n    if (this.firstTextSwap === null) {\n      console.log(this.firstTextSwap);\n      this.firstTextSwap = document.getElementById(categoryName).textContent.trim();\n      console.log(this.firstTextSwap);\n    }\n  }\n}\n</code></pre>\n\n<p>And there is an console output from 2 clicks, each one on different button:</p>\n\n<pre><code>null\nasdadadadadad\nnull\nrrrrrrr\n</code></pre>\n\n<p>Why the <code>firstTextSwap</code> is null in 2nd click? The html and typescript code is in same file, I'm not reloading anything, also omitted code doesn't affect firstTextSwap</p>\n"}, {"tags": ["angular", "typescript", "ng-template", "ng-container"], "answers": [{"comments": [{"owner": {"reputation": 1041, "user_id": 160056, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/be806018b6399ea327e85d9aa2a71fad?s=128&d=identicon&r=PG", "display_name": "Nigel", "link": "https://stackoverflow.com/users/160056/nigel"}, "edited": false, "score": 0, "creation_date": 1555482623, "post_id": 51669613, "comment_id": 98121963, "body": "I&#39;ve been trying to do exactly the same thing. I did expect however, that the <code>ng-template</code> and <code>ng-container</code> inside the <code>ng-select</code> should be able to be combined probably using <code>[ngTemplateOutlet]</code> and <code>[ngTemplateOutletContext]</code>. I never managed to get this to work though. I&#39;d be interested to hear if anyone has any thoughts on this."}], "tags": [], "owner": {"reputation": 259, "user_id": 1810292, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9393caf9112065ca69eb872738a23d4c?s=128&d=identicon&r=PG", "display_name": "user1810292", "link": "https://stackoverflow.com/users/1810292/user1810292"}, "is_accepted": true, "score": 9, "last_activity_date": 1533288865, "creation_date": 1533288865, "answer_id": 51669613, "question_id": 51642459, "link": "https://stackoverflow.com/questions/51642459/how-to-wrap-an-angular-component-and-pass-ng-template-from-outer-to-inner-compon/51669613#51669613", "title": "How to wrap an Angular Component and pass ng-template from outer to inner component", "body": "<p>OK I got it working here's solution in case someone gets confused like I did. In IntelliJ when template input variables are functions it doesn't recognise them and says they are not callable. It does compile fine though. This also happens with ngBootstrap modals and the close and dismiss methods. Here's the ng-template I used which is now working</p>\n\n<pre><code>&lt;app-wrapper-select\n    [items]=\"cars\"\n    [(selected)]=\"selectedCars\"&gt;\n\n    &lt;ng-template #labelTemplate ng-label-tmp let-item=\"item\" let-clear=\"clear\"&gt;\n      &lt;span class=\"ng-value-label\"&gt;{{item.metadata.name}}&lt;/span&gt;\n      &lt;span class=\"ng-value-icon right\" (click)=\"clear(item)\" aria-hidden=\"true\"&gt;\u00d7&lt;/span&gt;\n    &lt;/ng-template&gt;\n\n    &lt;ng-template #optionTemplate ng-option-tmp let-item=\"item\"&gt;\n      &lt;span class=\"ng-value-label\"&gt;{{item.metadata.name}}&lt;/span&gt;\n    &lt;/ng-template&gt;\n&lt;/app-wrapper-select&gt;\n\n\n&lt;ng-select\n    [items]=\"items\"\n    [(ngModel)]=\"selected\"&gt;\n\n    &lt;ng-template ng-label-tmp let-item=\"item\" let-clear=\"clear\"&gt;\n      &lt;ng-container *ngTemplateOutlet=\"labelTemplate; context:{item: item, clear: clear}\"&gt;&lt;/ng-container&gt;\n    &lt;/ng-template&gt;\n\n    &lt;ng-template ng-option-tmp let-item=\"item\"&gt;\n      &lt;ng-container *ngTemplateOutlet=\"optionTemplate; context:{item: item}\"&gt;&lt;/ng-container&gt;\n    &lt;/ng-template&gt;\n&lt;/ng-select&gt;\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 1810292, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9393caf9112065ca69eb872738a23d4c?s=128&d=identicon&r=PG", "display_name": "user1810292", "link": "https://stackoverflow.com/users/1810292/user1810292"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3113, "favorite_count": 0, "accepted_answer_id": 51669613, "answer_count": 1, "score": 4, "last_activity_date": 1533288865, "creation_date": 1533158659, "question_id": 51642459, "link": "https://stackoverflow.com/questions/51642459/how-to-wrap-an-angular-component-and-pass-ng-template-from-outer-to-inner-compon", "title": "How to wrap an Angular Component and pass ng-template from outer to inner component", "body": "<p>I am using Angular 5 and trying to wrap <a href=\"https://github.com/ng-select/ng-select\" rel=\"nofollow noreferrer\">ng-select</a> in a custom component.\nMy reason is to encapsulate it so it could be easily replaced if needs be.\nIf there is a better way to do this please let me know.</p>\n\n<p>I created a custom component and I have various @Inputs() which in turn are passed to the inner ng-select.  This all works fine. </p>\n\n<p>My problem is how to correctly pass ng-select <a href=\"https://ng-select.github.io/ng-select#/templates\" rel=\"nofollow noreferrer\">custom templates</a> to the wrapped ng-select?</p>\n\n<p>Here's an example of what I have so far, I have left out some inputs for simplicity.</p>\n\n<p>This is how I call the wrapper passing in the custom templates:</p>\n\n<pre><code> &lt;app-wrapper-select\n    [items]=\"cars\"\n    [(selected)]=\"selectedCars\"&gt;\n\n    &lt;ng-template #labelTemplate ng-label-tmp let-item=\"item\"&gt;\n      &lt;span class=\"ng-value-label\"&gt;LABEL {{item.metadata.name}}&lt;/span&gt;\n      &lt;span class=\"ng-value-icon right\" aria-hidden=\"true\"&gt;\u00d7&lt;/span&gt;\n    &lt;/ng-template&gt;\n\n    &lt;ng-template #optionTemplate ng-option-tmp let-item=\"item\"&gt;\n      &lt;span class=\"ng-value-label\"&gt;OPTION {{item.metadata.name}}&lt;/span&gt;\n      &lt;span class=\"ng-value-icon right\" aria-hidden=\"true\"&gt;\u00d7&lt;/span&gt;\n    &lt;/ng-template&gt;\n\n  &lt;/app-wrapper-select&gt;\n</code></pre>\n\n<p>In the wrapper component I declare the templates as follows:</p>\n\n<pre><code>@ContentChild('labelTemplate', { read: TemplateRef }) labelTemplate: TemplateRef&lt;any&gt;;\n@ContentChild('optionTemplate', { read: TemplateRef }) optionTemplate: TemplateRef&lt;any&gt;;\n</code></pre>\n\n<p>Here's the wrapper components html:</p>\n\n<pre><code>&lt;ng-select\n  [items]=\"items\"\n  [(ngModel)]=\"selected\"&gt;\n\n  &lt;ng-template ng-label-tmp let-item=\"item\"&gt;\n    &lt;ng-container *ngTemplateOutlet=\"labelTemplate; context:{item: item}\"&gt;&lt;/ng-container&gt;\n  &lt;/ng-template&gt;\n\n   &lt;ng-template ng-option-tmp let-item=\"item\"&gt;\n    &lt;ng-container *ngTemplateOutlet=\"optionTemplate; context:{item: item}\"&gt;&lt;/ng-container&gt;\n  &lt;/ng-template&gt;\n\n&lt;/ng-select&gt;\n</code></pre>\n\n<p>The above does kind of render the templates but the labels and options have all their styles missing and just appear as text on a white background.</p>\n\n<p>I must be missing something, how can I get the styles to render properly?</p>\n\n<p>Another problem is ng-select has a close button on each label to remove it from the selected items and an associated clear() method - but when I use it in my template outside of ng-select it is not recognised e.g.</p>\n\n<pre><code>        &lt;ng-template #labelTemplate ng-label-tmp let-item=\"item\" let-clear=\"clear\"&gt;\n          &lt;span class=\"ng-value-label\"&gt;LABEL {{item.metadata.name}}&lt;/span&gt;\n          &lt;span class=\"ng-value-icon right\" (click)=\"clear(item)\" aria-hidden=\"true\"&gt;\u00d7&lt;/span&gt;\n        &lt;/ng-template&gt;\n</code></pre>\n\n<p>How can I use the clear() in a ng-template outside of ng-select, is there some way I can get a reference to it and call it?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["rest", "typescript", "post", "get"], "comments": [{"owner": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "edited": false, "score": 2, "creation_date": 1533160456, "post_id": 51642174, "comment_id": 90249959, "body": "<code>fetch</code> linked above is a built-in in most modern browsers and doesn&#39;t require any external libraries. If you&#39;re writing JS for the browser it probably <i>is</i> the most plain and simple way to consume a REST API.  Also note that there&#39;s nothing specific here re: TypeScript, as TS only provides typing, not runtime behavior."}], "answers": [{"comments": [{"owner": {"reputation": 16239, "user_id": 266535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QahmA.png?s=128&g=1", "display_name": "styfle", "link": "https://stackoverflow.com/users/266535/styfle"}, "edited": false, "score": 2, "creation_date": 1533218660, "post_id": 51643841, "comment_id": 90274745, "body": "Also try <code>isomorphic-fetch</code> which uses the browsers fetch or <code>node-fetch</code> when on the server."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 3, "last_activity_date": 1533168456, "creation_date": 1533168456, "answer_id": 51643841, "question_id": 51642174, "link": "https://stackoverflow.com/questions/51642174/how-to-consume-rest-with-get-and-post/51643841#51643841", "title": "How to consume REST with GET and POST", "body": "<blockquote>\n  <p>I wonder though if there is a plain an simple way from within TypeScript to consume a REST API.</p>\n</blockquote>\n\n<p>Lets simplify <code>REST API</code> to be *I want to make <code>GET</code> and <code>POST</code> requests. The fact that it is a <code>REST</code> <em>style</em> API is not relevant. </p>\n\n<blockquote>\n  <p>I want to make <code>GET</code> and <code>POST</code> requests</p>\n</blockquote>\n\n<p>Native ways of doing this depends on the JavaScript environment. e.g. Browser's traditional API has been <code>XMLHttpRqeuest</code> : <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest</a> which is <em>fully</em> supported by TypeScript. A newer API is <code>fetch</code> which is <em>also</em> supported by TypeScript but <em>might not be supported</em> by the browser you are targetting.</p>\n\n<p>On node you would use <code>http</code> module <a href=\"https://nodejs.org/api/http.html\" rel=\"nofollow noreferrer\">https://nodejs.org/api/http.html</a> </p>\n\n<h1>Suggestion</h1>\n\n<p>Now if you <em>want</em> an API that works across both node and old browsers you will need some library that abstracts the native features. One suggestion is axios which works with  TypeScript out of the box.</p>\n"}], "owner": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1571, "favorite_count": 0, "accepted_answer_id": 51643841, "answer_count": 1, "score": 0, "last_activity_date": 1533168456, "creation_date": 1533157125, "question_id": 51642174, "link": "https://stackoverflow.com/questions/51642174/how-to-consume-rest-with-get-and-post", "title": "How to consume REST with GET and POST", "body": "<p>Is there a standard out-of-the-box way to access an API using GET or POST in TypeScript?</p>\n\n<p>I only find libaries that do that like <code>fetch</code> or <code>superagent</code> suggested <a href=\"https://stackoverflow.com/questions/38510640/how-to-make-a-rest-post-call-from-reactjs-code\">here</a> when using React or <code>HttpClient</code> suggested <a href=\"https://stackoverflow.com/questions/50000930/typescript-rest-api-post-call-with-json-parameter\">here</a> when using React.</p>\n\n<p>I wonder though if there is a plain an simple way from within TypeScript to consume a REST API.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "edited": false, "score": 0, "creation_date": 1533160100, "post_id": 51642643, "comment_id": 90249841, "body": "Yup. That did it. Thought I needed that. Maybe that was before I added <code>@types&#47;node</code> to my project?  I guess add <code>@types&#47;xxx</code> is the preferred way to do things then? Strange that it accepted the root &quot;faker&quot; package but not &quot;faker/locale/en_CA&quot; if it was only looking for &quot;node&quot;."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1533159694, "creation_date": 1533159694, "answer_id": 51642643, "question_id": 51642159, "link": "https://stackoverflow.com/questions/51642159/ts7016-could-not-find-a-declaration-file-for-module-faker-locale-en-ca/51642643#51642643", "title": "TS7016: Could not find a declaration file for module &#39;faker/locale/en_CA&#39;", "body": "<p>Try removing <code>\"types\" : [\"node\"]</code> from tsconfig.json.  According to <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types\" rel=\"nofollow noreferrer\">the documentation</a>, that line is saying you don't want TypeScript to load types for any package other than <code>node</code>.</p>\n"}], "owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1405, "favorite_count": 0, "accepted_answer_id": 51642643, "answer_count": 1, "score": 1, "last_activity_date": 1533159694, "creation_date": 1533157083, "last_edit_date": 1533158247, "question_id": 51642159, "link": "https://stackoverflow.com/questions/51642159/ts7016-could-not-find-a-declaration-file-for-module-faker-locale-en-ca", "title": "TS7016: Could not find a declaration file for module &#39;faker/locale/en_CA&#39;", "body": "<p>I'm getting this error:</p>\n\n<blockquote>\n  <p>TS7016: Could not find a declaration file for module 'faker/locale/en_CA'. '.../myproject/node_modules/faker/locale/en_CA.js' implicitly has an 'any' type.</p>\n</blockquote>\n\n<p>With this code:</p>\n\n<pre><code>import * as faker from 'faker/locale/en_CA';\n</code></pre>\n\n<p>The thing is, I installed <code>@types/faker</code>, and I can see that <code>node_modules/@types/faker/index.d.ts</code> does in fact include:</p>\n\n<pre><code>declare module \"faker/locale/en_CA\" {\n    export = fakerStatic;\n}\n</code></pre>\n\n<p>So the module <em>has</em> been declared, but TS can't find it for some reason.</p>\n\n<p>Here's my tsconfig:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"strict\": true,\n        \"importHelpers\": false,\n        \"inlineSources\": true,\n        \"noEmitOnError\": true,\n        \"pretty\": true,\n        \"module\": \"commonjs\",\n        \"noImplicitAny\": true,\n        \"suppressImplicitAnyIndexErrors\": true,\n        \"removeComments\": true,\n        \"preserveConstEnums\": false,\n        \"sourceMap\": true,\n        \"lib\": [\"es2017\",\"esnext.asynciterable\"],\n        \"skipLibCheck\": true,\n        \"outDir\": \"dist\",\n        \"target\": \"es2018\",\n        \"declaration\": true,\n        \"types\" : [\"node\"],\n        \"resolveJsonModule\": true,\n        \"esModuleInterop\": false,\n        \"baseUrl\": \".\",\n        \"paths\": {\n            \"*\": [\"types/*\"]\n        }\n    },\n\n    \"files\": [\n        \"src/main\"\n    ],\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n\n<p>Am I missing something?</p>\n\n<hr>\n\n<p>Note that</p>\n\n<pre><code>import * as faker from 'faker';\n</code></pre>\n\n<p>Works perfectly fine.</p>\n\n<p>Both VSCode and PhpStorm can find <code>'faker/locale/en_CA'</code> no problemo, it's just <code>tsc</code> that can't.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "edited": false, "score": 1, "creation_date": 1533156323, "post_id": 51641979, "comment_id": 90248414, "body": "Can you post your code please. <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "reply_to_user": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "edited": false, "score": 0, "creation_date": 1533156629, "post_id": 51641979, "comment_id": 90248553, "body": "I&#39;m not sure what to post.  I try to type out myMap.keys() and I get an error.  Unless I do a screen shot, doesn&#39;t much help."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1533156934, "post_id": 51641979, "comment_id": 90248690, "body": "Sounds like your <code>tsconfig.json</code> might be weird.  What do you have in the <code>compilerOptions.lib</code> property?"}, {"owner": {"reputation": 3530, "user_id": 441209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce2b8ed18b8fe0a3dbafb09c49af7c64?s=128&d=identicon&r=PG", "display_name": "Christian Engel", "link": "https://stackoverflow.com/users/441209/christian-engel"}, "edited": false, "score": 0, "creation_date": 1533157146, "post_id": 51641979, "comment_id": 90248789, "body": "I would guess there is something fishy with your tsconfig. Did you try to explicitly define the type of &quot;a&quot; in the first line, like this?  <code>let a:Map&lt;String, Number&gt; = new Map(...</code>"}, {"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "reply_to_user": {"reputation": 3530, "user_id": 441209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce2b8ed18b8fe0a3dbafb09c49af7c64?s=128&d=identicon&r=PG", "display_name": "Christian Engel", "link": "https://stackoverflow.com/users/441209/christian-engel"}, "edited": false, "score": 0, "creation_date": 1533157575, "post_id": 51641979, "comment_id": 90248970, "body": "@ChristianEngel I just tried that and still throwing an error on <code>.keys()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 0, "creation_date": 1533157920, "post_id": 51642269, "comment_id": 90249106, "body": "I&#39;m doing this for Sharepoint Framework project.  This is the default values that the project is set up with.  I did change it tfrom the <code>es2015.collection</code> to just <code>es2015</code> and still throwing the error."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 0, "creation_date": 1533158641, "post_id": 51642269, "comment_id": 90249369, "body": "It should work, so your editor/compiler is not seeing the modification to the tsconfig.  Either you changed it in the wrong place, or the editor/compiler is using a stale version.  Not sure how to help you other than to suggest you make sure you are using the right tsconfig file and possibly refresh your editor/compiler to make sure it&#39;s not stuck"}, {"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 0, "creation_date": 1533159012, "post_id": 51642269, "comment_id": 90249505, "body": "Ha!  you were right.  Restarted VSCode and its working.  Thank you bud, much appreciated!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1533157623, "creation_date": 1533157623, "answer_id": 51642269, "question_id": 51641979, "link": "https://stackoverflow.com/questions/51641979/unable-to-use-map-keys-function/51642269#51642269", "title": "Unable to use Map.Keys() function", "body": "<p>In the <code>compilerOptions</code> for your <code>tsconfig.json</code> file, you have:</p>\n\n<pre><code>\"lib\": [\n  \"es5\",\n  \"dom\",\n  \"es2015.collection\"\n]\n</code></pre>\n\n<p>So <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\"><code>Map</code></a> was introduced in ECMAScript 2015, but you are explicitly including only the <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.9.1/lib/lib.es2015.collection.d.ts\" rel=\"nofollow noreferrer\"><code>es2015.collection</code></a> TypeScript library, instead of the <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.9.1/lib/lib.es2015.d.ts\" rel=\"nofollow noreferrer\">library for all of ECMAScript 2015</a>. \nThe particular methods you are missing are present in the <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.9.1/lib/lib.es2015.iterable.d.ts#L111-L129\" rel=\"nofollow noreferrer\"><code>es2015.iterable</code></a> library. I'd suggest that, if you are targeting an environment that supports all of ES2015, you should change <code>es2015.collection</code> to <code>es2015</code> so you get the whole thing instead of just pieces of it.  </p>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "accepted_answer_id": 51642269, "answer_count": 1, "score": 0, "last_activity_date": 1533158081, "creation_date": 1533156238, "last_edit_date": 1533158081, "question_id": 51641979, "link": "https://stackoverflow.com/questions/51641979/unable-to-use-map-keys-function", "title": "Unable to use Map.Keys() function", "body": "<p>I'm able to create and manipulate a <code>Map</code> object, but I do not have access to the <code>.keys()</code> or <code>.values()</code> functions.</p>\n\n<p>How can I figure why this is?</p>\n\n<pre><code>let a = new Map([['a', 1], ['b', 2]]);\na.set('c', 3);\n\nlet myArray = a.keys();\n</code></pre>\n\n<p>I get red underline under <code>keys()</code>.  </p>\n\n<p>Error:</p>\n\n<pre><code>[15:52:12] Error - typescript - src\\...TruckDeliverySchedule.tsx(102,21): error TS2339: Property 'keys' does not exist on type 'Map&lt;string, number&gt;'.\n</code></pre>\n\n<p>I'm not sure what else would be relevant.  Very new javascript programming.</p>\n\n<p>EDIT:</p>\n\n<pre><code>  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"forceConsistentCasingInFileNames\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"jsx\": \"react\",\n    \"declaration\": true,\n    \"sourceMap\": true,\n    \"experimentalDecorators\": true,\n    \"skipLibCheck\": true,\n    \"typeRoots\": [\n      \"./node_modules/@types\",\n      \"./node_modules/@microsoft\"\n    ],\n    \"types\": [\n      \"es6-promise\",\n      \"webpack-env\"\n    ],\n    \"lib\": [\n      \"es5\",\n      \"dom\",\n      //\"es2015.collection\"  // removed\n      \"es2015\"\n    ]\n</code></pre>\n\n<p>EDIT 2:</p>\n\n<p>Project was built for a Sharepoint Framework and using Visual Studio Code.</p>\n\n<p>When I try to look at the definition for <code>Map</code>, I takes me to:</p>\n\n<pre><code>// Backward compatibility with --target es5\ndeclare global {\n    interface Set&lt;T&gt; { }\n    interface Map&lt;K, V&gt; { }\n    interface WeakSet&lt;T&gt; { }\n    interface WeakMap&lt;K extends object, V&gt; { }\n}\n</code></pre>\n"}, {"tags": ["node.js", "angular", "typescript", "constructor", "ftp-client"], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 6506959, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/465a8b400b60d287e5019002e2a2ec33?s=128&d=identicon&r=PG&f=1", "display_name": "Jand", "link": "https://stackoverflow.com/users/6506959/jand"}, "edited": false, "score": 0, "creation_date": 1533229984, "post_id": 51645590, "comment_id": 90281527, "body": "The file path I listed there wasn&#39;t the actual one I tried to use. I&#39;m pretty sure that wouldn&#39;t of caused the error that I&#39;m facing if that was the case. I did double check my file paths in my code and they do seem correct."}], "tags": [], "owner": {"reputation": 165, "user_id": 3483984, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a9c8f531fb824a67fc0cb4375f9aa9fb?s=128&d=identicon&r=PG&f=1", "display_name": "Moms", "link": "https://stackoverflow.com/users/3483984/moms"}, "is_accepted": false, "score": 1, "last_activity_date": 1533188949, "last_edit_date": 1533188949, "creation_date": 1533184622, "answer_id": 51645590, "question_id": 51641736, "link": "https://stackoverflow.com/questions/51641736/typeerror-socket-is-not-a-constructor/51645590#51645590", "title": "TypeError: Socket is not a constructor", "body": "<p><strong>Initial Overview</strong></p>\n\n<p>There is an anomaly is your file path within the <code>client.download</code> method. The path <code>/stfFilepPath</code> seems to have an extra 'p'. Try removing it unless that is the actual name of the path. </p>\n\n<p>So;</p>\n\n<p><code>client.download('/sftFilepPath', './Downloads'</code></p>\n\n<p>becomes</p>\n\n<p><code>client.download('/sftFilePath', './Downloads'</code></p>\n\n<p>Try it out and let me know if it works. If not try Lynx's solution.</p>\n"}, {"comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1533185107, "post_id": 51645654, "comment_id": 90255213, "body": "Please, don&#39;t forget to mark this answer as solution if it solved your problem or answered your question."}, {"owner": {"reputation": 367, "user_id": 6506959, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/465a8b400b60d287e5019002e2a2ec33?s=128&d=identicon&r=PG&f=1", "display_name": "Jand", "link": "https://stackoverflow.com/users/6506959/jand"}, "edited": false, "score": 0, "creation_date": 1533230063, "post_id": 51645654, "comment_id": 90281563, "body": "That&#39;s fair. I&#39;ll try out jsftp and if it works I&#39;ll mark the answer accordingly."}, {"owner": {"reputation": 367, "user_id": 6506959, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/465a8b400b60d287e5019002e2a2ec33?s=128&d=identicon&r=PG&f=1", "display_name": "Jand", "link": "https://stackoverflow.com/users/6506959/jand"}, "edited": false, "score": 0, "creation_date": 1533236214, "post_id": 51645654, "comment_id": 90284384, "body": "I still cannot seem to get it to work. Now I&#39;m getting the error `TypeError: createConnection is not a function&#39; when the click event is fired. I posted another question using jsftp <a href=\"https://stackoverflow.com/questions/51660406/jsftp-typeerror-createconnection-is-not-a-function\">here</a>."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 367, "user_id": 6506959, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/465a8b400b60d287e5019002e2a2ec33?s=128&d=identicon&r=PG&f=1", "display_name": "Jand", "link": "https://stackoverflow.com/users/6506959/jand"}, "edited": false, "score": 1, "creation_date": 1533239836, "post_id": 51645654, "comment_id": 90285915, "body": "Browsing through some posts like this github.com/browserify/browserify/issues/1780 I guess that JS based FTP-Clients are not supposed to run in a browser for security reasons. You have to build up your own server and implement the client there. Only then you can access the Net module which is not reachable out of the browser and causes the error you mention. This seems to be a general issue."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 2, "last_activity_date": 1533185391, "last_edit_date": 1533185391, "creation_date": 1533185047, "answer_id": 51645654, "question_id": 51641736, "link": "https://stackoverflow.com/questions/51641736/typeerror-socket-is-not-a-constructor/51645654#51645654", "title": "TypeError: Socket is not a constructor", "body": "<p>My guess is that your ftp client is too old. System environments change more and more rapidly. But this client hasn't been updated since 2015. Try to use an up-to-date client like <a href=\"http://github.com/sergi/jsftp\" rel=\"nofollow noreferrer\">jsftp</a></p>\n"}], "owner": {"reputation": 367, "user_id": 6506959, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/465a8b400b60d287e5019002e2a2ec33?s=128&d=identicon&r=PG&f=1", "display_name": "Jand", "link": "https://stackoverflow.com/users/6506959/jand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2098, "favorite_count": 0, "accepted_answer_id": 51645654, "answer_count": 2, "score": 0, "last_activity_date": 1533188949, "creation_date": 1533155058, "question_id": 51641736, "link": "https://stackoverflow.com/questions/51641736/typeerror-socket-is-not-a-constructor", "title": "TypeError: Socket is not a constructor", "body": "<p>I'm new to Angular/Node and cannot seem to figure out a problem I'm having.</p>\n\n<p>I'm trying to connect to an ftp using <a href=\"https://github.com/noodny/node-ftp-client\" rel=\"nofollow noreferrer\">client-ftp</a> and am having trouble with the implementation. Essentially I'm creating a button on the front end like this:</p>\n\n<p><code>&lt;button class=\"btn btn-primary\" (click)=\"downloadFile()\"&gt;&lt;i class=\"fa fa-file-photo-o\"&gt;&lt;/i&gt; Download Screenshot&lt;/button&gt;</code></p>\n\n<p>And implementing trying to implement it via a click event like this:</p>\n\n<pre><code>downloadFile(){\n    console.log('Connecting to sftp...');\n    var ftpClient = require('ftp-client'),\n        config = {\n            host: 'localhost',\n            port: 22,\n            user: 'anonymous',\n            password: 'anonymous'\n        },\n        options = {\n            logging: 'basic'\n        },\n        client = new ftpClient(config, options);\n\n    console.log('Downloading Screenshot...');\n    client.connect(function () {\n        client.download('/sftFilepPath', './Downloads', {\n            overwrite: 'none'\n        }, function (result) {\n            console.log(result);\n        });\n    });\n}\n</code></pre>\n\n<p>I keep getting an error, however saying: <code>TypeError: Socket is not a constructor</code> whenever the button is pressed. I'm getting both of my console.log() calls to show in the debugger so I assume it has to do with where I'm trying to actually connect and download. </p>\n\n<p>I tried calling import for the FtpClient namespace and making a private client parameter in the constructor and working off of that, but that doesn't seem to work either.</p>\n\n<p>I know a constructor is implicitly called by the new keyword, but I don't reference 'Socket' anywhere in my code. Maybe I'm missing something?</p>\n\n<p>Here is my imports and constructor for reference:</p>\n\n<pre><code>import { Component, ElementRef, Input, OnInit, OnDestroy } from '@angular/core';\nimport { TestInstance, Test, TestDetails } from '../../objModules/index';\nimport { RunServices } from './run.services';\nimport { Observable } from 'rxjs/Rx';\nimport * as $ from 'jquery';\nimport * as _ from 'underscore';\nimport { ModalController } from './run.modal.controller';\n// import { FtpClient } from 'ftp-client';\n\n@Component({\n    templateUrl: './run.modal.component.html',\n    moduleId: module.id.toString(),\n    selector: 'app-test-data',\n    providers: [ RunServices ]\n})\n\nexport class ModalComponent implements OnInit, OnDestroy {\n    testInstance: TestDetails;\n    id: string;\n    private element: JQuery;\n\n    private runId: string;\n    private test$: Observable&lt;Test&gt;;\n    private testHistory$: Observable&lt;TestInstance[]&gt;;\n\n    private test: Test;\n    private testHistory: TestInstance[];\n    private selectedTest: TestInstance;\n    private latestRuns: TestInstance[];\n\n    private averagePass: number;\n    private averageFail: number;\n\n    services: RunServices;\n\n    constructor(private modalController: ModalController, private el: ElementRef, private runServices: RunServices) {\n        this.element = $(el.nativeElement);\n        this.services = runServices;\n\n        // Initialize these objects so we don't get any errors\n        this.test = new Test(' ', ' ', ' ', [' '], ' ', ' ');\n        this.testHistory = new Array&lt;TestInstance&gt;(new TestInstance(' ', ' ', ' ', 0, ' ', ' ', ' ', ' ', ' '));\n        this.testInstance = new TestDetails(' ', ' ', ' ', ' ', ' ', ' ', ' ', 0, null, ' ');\n        this.selectedTest = new TestInstance(' ', ' ', ' ', 0, ' ', ' ', ' ', ' ', ' ');\n    }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "variables", "types", "undefined"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1533155065, "post_id": 51641672, "comment_id": 90247843, "body": "What is &quot;the state they were before they got values&quot;, if not <code>undefined</code>?"}, {"owner": {"reputation": 1600, "user_id": 5214911, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zBF1E.jpg?s=128&g=1", "display_name": "tom", "link": "https://stackoverflow.com/users/5214911/tom"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1533156175, "post_id": 51641672, "comment_id": 90248347, "body": "@ConnorsFan this is what confuses me too. Because once I set <code>foo$</code> <code>undefined</code> Angular stops considering it as an Observable and even if new values are pushed into its stream again, its subscriptions won&#39;t work anymore."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1533157022, "post_id": 51641672, "comment_id": 90248730, "body": "Take a look at <a href=\"https://stackblitz.com/edit/angular-nykjye\" rel=\"nofollow noreferrer\">this stackblitz</a>. The <code>obs</code> variable is set to <code>undefined</code> after 5 seconds, and the Observable keeps working."}, {"owner": {"reputation": 1600, "user_id": 5214911, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zBF1E.jpg?s=128&g=1", "display_name": "tom", "link": "https://stackoverflow.com/users/5214911/tom"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1533157977, "post_id": 51641672, "comment_id": 90249137, "body": "Angular has <a href=\"https://angular.io/tutorial/toh-pt6#add-search-to-the-dashboard\" rel=\"nofollow noreferrer\">a tutorial</a> which is relevant here. It has a <a href=\"https://angular.io/generated/live-examples/toh-pt6/stackblitz.html\" rel=\"nofollow noreferrer\">live example</a>. In <i>hero-search.component.ts</i> look for the method <code>search(term: string)</code>. Add the following code in its body: <code>if(term == &#39;undef&#39;) this.heroes$ = undefined;</code>. Type &quot;undef&quot; in the search box. After that the search function stops working."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1533160529, "post_id": 51641672, "comment_id": 90249986, "body": "The view uses this loop to show the results: <code>&lt;li *ngFor=&quot;let hero of heroes$ | async&quot; &gt;</code>. The Observable probably stops because the <code>async</code> pipe does not have any Observable to subscribe to when <code>heroes$</code> is <code>undefined</code>. The <code>async</code> pipe <a href=\"https://angular.io/api/common/AsyncPipe#description\" rel=\"nofollow noreferrer\">unsubscribes automatically</a> when the component is destroyed, maybe also when the observable variable becomes <code>undefined</code>."}, {"owner": {"reputation": 1600, "user_id": 5214911, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zBF1E.jpg?s=128&g=1", "display_name": "tom", "link": "https://stackoverflow.com/users/5214911/tom"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1533161234, "post_id": 51641672, "comment_id": 90250168, "body": "Thanks for taking the time to investigate this. It&#39;s good news that this fault is not because the variable &quot;loses its type&quot; when set to <code>undefined</code> as I thought. And for my question the answer is then, just set them to <code>undefined</code>, right? Maybe you can post an answer so I can accept it."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1533161591, "post_id": 51641672, "comment_id": 90250270, "body": "I would say: you can set them to <code>undefined</code> if you don&#39;t use the Observables with the <code>async</code> pipe."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9772957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93be5e06b265788ae6b154da9a1964d8?s=128&d=identicon&r=PG&f=1", "display_name": "Sasa", "link": "https://stackoverflow.com/users/9772957/sasa"}, "is_accepted": false, "score": 0, "last_activity_date": 1533156006, "creation_date": 1533156006, "answer_id": 51641938, "question_id": 51641672, "link": "https://stackoverflow.com/questions/51641672/how-to-empty-a-component-property-in-angular-while-preserving-its-type-definitio/51641938#51641938", "title": "How to empty a component property in Angular while preserving its type definition?", "body": "<p>I suspect you can set the type to any rather than undefined. </p>\n\n<p>So for example,\nprivate foo$: Observable>;\nprivate bar: SomeOtherType;</p>\n"}, {"comments": [{"owner": {"reputation": 1600, "user_id": 5214911, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zBF1E.jpg?s=128&g=1", "display_name": "tom", "link": "https://stackoverflow.com/users/5214911/tom"}, "edited": false, "score": 0, "creation_date": 1533195918, "post_id": 51643132, "comment_id": 90259831, "body": "I think I&#39;ve found the reason why the observable stops working and I think it&#39;s not the async pipe but the code inside the <code>ngOnInit()</code> of <code>HeroSearchComponent</code>. Setting the observable <code>undefined</code> breaks that association between it and the subject. But if you call that piece of code again, it starts working again. I think this is what we overlooked. What do you think? ...Anyways, it&#39;s all not that important anymore. My original doubt with <code>undefined</code> is cleared."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "reply_to_user": {"reputation": 1600, "user_id": 5214911, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zBF1E.jpg?s=128&g=1", "display_name": "tom", "link": "https://stackoverflow.com/users/5214911/tom"}, "edited": false, "score": 1, "creation_date": 1533210896, "post_id": 51643132, "comment_id": 90269206, "body": "That code in <code>ngOnInit</code> is the same variable assignment that we discussed from the start. <a href=\"https://stackblitz.com/edit/angular-dx2fye\" rel=\"nofollow noreferrer\">This modified stackblitz</a> shows what happens without the <code>async</code> pipe. The subscription is done manually in <code>ngOnInit</code>. You can see in the console and in the view ouptut that the Observable keeps working after <code>heroes$</code> has been set to <code>undefined</code> (by typing <code>undef</code> in the input field)."}], "tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 1, "last_activity_date": 1533162893, "creation_date": 1533162893, "answer_id": 51643132, "question_id": 51641672, "link": "https://stackoverflow.com/questions/51641672/how-to-empty-a-component-property-in-angular-while-preserving-its-type-definitio/51643132#51643132", "title": "How to empty a component property in Angular while preserving its type definition?", "body": "<p>In order to \"set the variables back to the state they were before they got values\", set them to <code>undefined</code>:</p>\n\n<pre><code>this.foo$ = undefined;\nthis.bar = undefined;\n</code></pre>\n\n<p>In <a href=\"https://stackblitz.com/angular/xvoojjdxqao\" rel=\"nofollow noreferrer\">the stackblitz</a> that you took for your tests, the Observable <code>heroes$</code> is used with the <code>async</code> pipe:</p>\n\n<pre><code>&lt;li *ngFor=\"let hero of heroes$ | async\" &gt;\n</code></pre>\n\n<p>If <code>heroes$</code> is then set to <code>undefined</code>, the list disappears from the view and the Observable stops working. The <code>async</code> pipe <a href=\"https://angular.io/api/common/AsyncPipe#description\" rel=\"nofollow noreferrer\">unsubscribes automatically</a> when the component is destroyed; it appears to do the same when the Observable variable becomes <code>undefined</code>.</p>\n\n<p>Except for the case where the Observable is used with the <code>async</code> pipe, setting the variable to <code>undefined</code> does not stop the Observable from working, as shown in <a href=\"https://stackblitz.com/edit/angular-nykjye\" rel=\"nofollow noreferrer\">this stackblitz</a>.</p>\n"}], "owner": {"reputation": 1600, "user_id": 5214911, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zBF1E.jpg?s=128&g=1", "display_name": "tom", "link": "https://stackoverflow.com/users/5214911/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 51643132, "answer_count": 2, "score": 0, "last_activity_date": 1533162893, "creation_date": 1533154776, "question_id": 51641672, "link": "https://stackoverflow.com/questions/51641672/how-to-empty-a-component-property-in-angular-while-preserving-its-type-definitio", "title": "How to empty a component property in Angular while preserving its type definition?", "body": "<p>Let's say a component has the following properties:</p>\n\n<pre><code>private foo$: Observable&lt;Array&lt;SomeType&gt;&gt;;\nprivate bar: SomeOtherType;\n</code></pre>\n\n<hr>\n\n<p>Later on they get values...</p>\n\n<pre><code>this.foo$ = someSubject.pipe(switchMap(...whatever...\nthis.bar = new SomeOtherType(...whatever...\n</code></pre>\n\n<p>At some point I'd like to empty these two properties for whatever reason, and by emptying I mean remove their values, so set them back to the state they were before they got values.</p>\n\n<p>Making them <code>undefined</code> is not an option. If I do that they lose their \"type information\". I want TypeScript and Angular to know that they are still dealing with an Observable and an object of SomeOtherType.</p>\n\n<p>What options do I have?</p>\n"}, {"tags": ["angular", "typescript", "error-handling", "rxjs", "custom-error-handling"], "owner": {"reputation": 1317, "user_id": 6647188, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Ol4rA.jpg?s=128&g=1", "display_name": "Kyle Vassella", "link": "https://stackoverflow.com/users/6647188/kyle-vassella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533168173, "creation_date": 1533153972, "last_edit_date": 1533168173, "question_id": 51641505, "link": "https://stackoverflow.com/questions/51641505/angular-global-error-handing-specify-module-that-error-occurred-in", "title": "Angular global error handing - specify module that error occurred in", "body": "<p>I've got an Angular application that's built to house multiple child applications. In this app, I've implemented a <code>GlobalErrorHandlerService</code> which overrides Angular's default <code>ErrorHandler</code>:</p>\n\n<p><strong>global-error-handler.service.ts</strong></p>\n\n<pre><code>import { Injectable, ErrorHandler, Injector } from '@angular/core';\nimport {ErrorLogger} from '../services/error-logger.service';\nimport { HttpErrorResponse } from '@angular/common/http';\n\n// Global error handler for logging errors\n@Injectable()\nexport class GlobalErrorHandlerService extends ErrorHandler {\n    constructor(private injector : Injector, private errorLoggerService: ErrorLoggerService) {\n\n\n        super();\n    }\n\n    handleError(error: any) {\n      let loggerService = this.injector.get(ErrorLoggerService);\n      loggerService.logError(error)    \n      .subscribe(\n        data =&gt; console.warn(data),\n        error =&gt; {throw error},\n        () =&gt; console.log(\"empty\")\n      );\n\n  }\n}\n</code></pre>\n\n<p>This automatically catches all errors and sends them to a global <code>ErrorLoggerService</code> for logging these errors to a database:</p>\n\n<p><strong>error-logger.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpResponse, HttpRequest, HttpHeaders, HttpInterceptor, HttpHandler, HttpEvent, HttpParams, HttpErrorResponse} from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { from } from 'rxjs';\nimport { map, filter, catchError, mergeMap } from 'rxjs/operators';\nimport { AppConstants } from '../app-constants/app-constants';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ErrorLoggerService {\n\n  constructor(private http: HttpClient) { };\n\n  logError(error: any):Observable&lt;any&gt; {\n\n    const date = new Date().toUTCString();\n\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json'\n      }),\n      withCredentials: true\n    };\n\n    //******** log errors based on type ********//\n    if (error instanceof HttpErrorResponse) {\n\n      //** POST error to db **//\n      return this.http.post('http://path-to-my-api-model-which-logs-to-db',\n      { Date: date, type: error.type, message: error.message, stackTrace: \"testStackTraceSERVICE\", lineNumber: \"testLineNumber\", code: \"testCode\" },\n      httpOptions)\n\n    }\n    else if (error instanceof TypeError) {\n\n      //** POST error to db **//\n      return this.http.post('http://path-to-my-api-model-which-logs-to-db',\n      { Date: date, type: error.name, message: error.message, stackTrace: error.stack, lineNumber: \"TypeError lineNumber\", code: \"testCode\" },\n      httpOptions)\n    }\n    else if (error instanceof Error) {\n      console.error(date, AppConstants.generalError, error.message, error.stack);\n    }\n    else if(error instanceof ErrorEvent){\n      //A client-side or network error occurred. Handle it accordingly.\n      console.error(date, AppConstants.generalError, error.message, error.filename);\n    }\n    else {\n      console.error(date, AppConstants.somethingHappened, error.message, error.stack);\n    }\n  }\n}\n</code></pre>\n\n<p>This logs properly to the db. But in this database table which logs our errors, I'd like to create an <code>Application</code> column and hopefully fill this with the name of the child application the error occurred in.</p>\n\n<p>How can I accomplish this? Is there a way to pull the module that the error occured in, or similar? That way I can wrap my <code>ErrorLoggerService</code> conditionals in a larger if statement which reads something like: </p>\n\n<pre><code>if (error is from Application A) {\n    var appName = Application A; \n    //log errors to db\n} else if (error is from Application B) {\n    var appName = Application A:\n    //log errors to db\n}\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "intellisense"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 2, "creation_date": 1533153538, "post_id": 51641378, "comment_id": 90247204, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23072286/where-is-the-syntax-for-typescript-comments-documented\">Where is the syntax for TypeScript comments documented?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1674, "user_id": 5513532, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/H3Tx6.jpg?s=128&g=1", "display_name": "Eric Burel", "link": "https://stackoverflow.com/users/5513532/eric-burel"}, "edited": false, "score": 0, "creation_date": 1606378688, "post_id": 51641446, "comment_id": 114947440, "body": "Can you please confirm if it works with <code>&#47;&#47;</code> only? I guess <code>&#47;**</code> is the only valid syntax?"}, {"owner": {"reputation": 27561, "user_id": 214446, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/5deb6b87326686b1f2e9fdb37ceac210?s=128&d=identicon&r=PG", "display_name": "mb21", "link": "https://stackoverflow.com/users/214446/mb21"}, "edited": false, "score": 2, "creation_date": 1608974540, "post_id": 51641446, "comment_id": 115721309, "body": "can confirm this works in VSCode, but couldn&#39;t find it documented on <a href=\"https://tsdoc.org\" rel=\"nofollow noreferrer\">tsdoc.org</a>"}, {"owner": {"reputation": 1156, "user_id": 1222459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0160f320cd123abd10adab2b9209630e?s=128&d=identicon&r=PG", "display_name": "rushkeldon", "link": "https://stackoverflow.com/users/1222459/rushkeldon"}, "edited": false, "score": 0, "creation_date": 1619036993, "post_id": 51641446, "comment_id": 118786952, "body": "<code>&#47;** comment *&#47;</code> DOES show up in intelliJ IDEA when Editor &gt; Appearance &gt; Show documentation popup is checked."}], "tags": [], "owner": {"reputation": 20575, "user_id": 5228806, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/q4IOe.jpg?s=128&g=1", "display_name": "ffxsam", "link": "https://stackoverflow.com/users/5228806/ffxsam"}, "is_accepted": true, "score": 21, "last_activity_date": 1533153702, "creation_date": 1533153702, "answer_id": 51641446, "question_id": 51641378, "link": "https://stackoverflow.com/questions/51641378/is-there-a-way-to-document-fields-in-an-interface-in-typescript/51641446#51641446", "title": "Is there a way to document fields in an interface in TypeScript?", "body": "<p>Got it!</p>\n\n<pre><code>interface EditDialogField {\n  /** Explain label here */\n  label: string;\n  /** Explain prop here */\n  prop: string;\n  required?: boolean;\n  type: 'input';\n  validators?: Validator[];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3069, "user_id": 1301197, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/5b88772506e6235a8e3d8faff66f5464?s=128&d=identicon&r=PG", "display_name": "Ronan Quillevere", "link": "https://stackoverflow.com/users/1301197/ronan-quillevere"}, "is_accepted": false, "score": 6, "last_activity_date": 1597997989, "last_edit_date": 1597997989, "creation_date": 1597929928, "answer_id": 63506127, "question_id": 51641378, "link": "https://stackoverflow.com/questions/51641378/is-there-a-way-to-document-fields-in-an-interface-in-typescript/63506127#63506127", "title": "Is there a way to document fields in an interface in TypeScript?", "body": "<p>If you want to see it appearing when your mouse is hover in your editor, I suggest you document the interface and use the <code>@field</code> inside the documentation comment.</p>\n<p>Alternatively you could use <code>@member</code> maybe that gives a better syntax-highlighting for the doc</p>\n<pre><code>/**\n * This is the description of the interface\n *\n * @interface EditDialogField\n * @member {string} label is used for whatever reason\n * @field {string} prop is used for other reason\n */\ninterface EditDialogField {\n  label: string;\n  prop: string;\n  required?: boolean;\n  type: 'input';\n  validators?: Validator[];\n}\n</code></pre>\n<p>Result inside VSCode\n<a href=\"https://i.stack.imgur.com/1dIC5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1dIC5.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 20575, "user_id": 5228806, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/q4IOe.jpg?s=128&g=1", "display_name": "ffxsam", "link": "https://stackoverflow.com/users/5228806/ffxsam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3706, "favorite_count": 1, "accepted_answer_id": 51641446, "answer_count": 2, "score": 9, "last_activity_date": 1597997989, "creation_date": 1533153447, "question_id": 51641378, "link": "https://stackoverflow.com/questions/51641378/is-there-a-way-to-document-fields-in-an-interface-in-typescript", "title": "Is there a way to document fields in an interface in TypeScript?", "body": "<p>Say I have the following:</p>\n\n<pre><code>interface Validator {\n  validate: (value: string) =&gt; boolean;\n  errorMessage: string;\n}\n\ninterface EditDialogField {\n  label: string;\n  prop: string;\n  required?: boolean;\n  type: 'input';\n  validators?: Validator[];\n}\n</code></pre>\n\n<p>This is useful, as IntelliSense pops up suggestions when I use these interfaces, but I'd like the ability to add comments that also show up in IntelliSense (specifically VS Code). Is this possible?</p>\n"}, {"tags": ["typescript", "react-redux"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1533153000, "creation_date": 1533153000, "answer_id": 51641263, "question_id": 51641043, "link": "https://stackoverflow.com/questions/51641043/typescript-redux-connected-component-type-error/51641263#51641263", "title": "Typescript redux connected component type error", "body": "<p>I can't reproduce the error you got; I get a different one.  This compiles for me:</p>\n\n<pre><code>export default connect(mapStateToProps)(AuthenticatedLink);\n</code></pre>\n\n<p>If I understand react-redux correctly, you shouldn't be asserting the result back to <code>typeof AuthenticatedLink</code>.  The whole point of the <code>connect</code> is that it changes the props type of the component from <code>ExpandedAuthProps</code> to <code>LinkProps</code> because the <code>LoginStateProps</code> part is supplied by your <code>mapStateToProps</code> function.</p>\n"}], "owner": {"reputation": 1846, "user_id": 139200, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5cfc04977f66ed3ebcdfced6318bf3fd?s=128&d=identicon&r=PG", "display_name": "Joon", "link": "https://stackoverflow.com/users/139200/joon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 0, "accepted_answer_id": 51641263, "answer_count": 1, "score": 0, "last_activity_date": 1533153000, "creation_date": 1533151975, "question_id": 51641043, "link": "https://stackoverflow.com/questions/51641043/typescript-redux-connected-component-type-error", "title": "Typescript redux connected component type error", "body": "<p>I am trying to merge state from redux into properties in a react component defined in a tsx file.</p>\n\n<p>I have defined the type LoggedInUserState elsewhere, it is exported like this in its file:</p>\n\n<pre><code>import { Action, Reducer } from 'redux';\n\n// -----------------\n// STATE - This defines the type of data maintained in the Redux store.\n\nexport interface LoggedInUserState {\n    userName: string,\n    isAdmin: boolean,\n    isUserManager: boolean\n}\n</code></pre>\n\n<p>This is my tsx file:</p>\n\n<pre><code>import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { LoggedInUserState } from 'ClientApp/store/LoggedInUser';\nimport { NavLink } from 'react-router-dom';\n\n\nexport interface LinkProps {\n    routeTo: string,\n    name: string,\n    glyphIcon: string\n}\n\ninterface LoginStateProps {\n    isAuthenticated: boolean\n}\n\ntype ExpandedAuthProps =\n    LinkProps &amp; LoginStateProps;\n\nclass AuthenticatedLink extends React.Component&lt;ExpandedAuthProps, null&gt; {\n\n    public render() {\n        return this.props.isAuthenticated ?\n            &lt;NavLink exact to={this.props.routeTo} activeClassName='active'&gt;\n                &lt;span className={this.props.glyphIcon}&gt;&lt;/span&gt; {this.props.name}\n            &lt;/NavLink&gt; : \n            &lt;NavLink exact to={'/loginUser'} activeClassName='active'&gt;\n                &lt;span className='glyphicon glyphicon-ban-circle'&gt;&lt;/span&gt; {this.props.name}\n            &lt;/NavLink&gt;;\n    }\n}\n\nfunction mapStateToProps(state: LoggedInUserState, originalProps: LinkProps): ExpandedAuthProps {\n    return {\n        routeTo: originalProps.routeTo,\n        name: originalProps.name,\n        glyphIcon: originalProps.glyphIcon,\n        isAuthenticated: state.userName != ''\n    }\n}\n\nexport default connect&lt;LoggedInUserState, {}, LinkProps&gt;\n    (mapStateToProps)(AuthenticatedLink) as typeof AuthenticatedLink;\n</code></pre>\n\n<p>TypeScript shows the following type error on the final line (mapStateToProps) of my tsx file:</p>\n\n<blockquote>\n  <p>Argument of type '(state: LoggedInUserState, originalProps: LinkProps)\n  => ExpandedAuthProps' is not assignable to parameter of type 'MapStateToPropsParam'.   Type '(state:\n  LoggedInUserState, originalProps: LinkProps) => ExpandedAuthProps' is\n  not assignable to type 'MapStateToPropsFactory'.\n      Types of parameters 'originalProps' and 'ownProps' are incompatible.\n        Type 'LinkProps | undefined' is not assignable to type 'LinkProps'.\n          Type 'undefined' is not assignable to type 'LinkProps'.</p>\n</blockquote>\n\n<p>What is wrong with the declarations?</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 6021, "user_id": 4763793, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ma3NU.jpg?s=128&g=1", "display_name": "Rino Raj", "link": "https://stackoverflow.com/users/4763793/rino-raj"}, "edited": false, "score": 2, "creation_date": 1533150473, "post_id": 51640541, "comment_id": 90245690, "body": "Please improve your question by adding what you have tried"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10167502, "user_type": "registered", "profile_image": "https://graph.facebook.com/1811675645589170/picture?type=large", "display_name": "Houdhaifa Hamza", "link": "https://stackoverflow.com/users/10167502/houdhaifa-hamza"}, "is_accepted": false, "score": 0, "last_activity_date": 1533392165, "creation_date": 1533392165, "answer_id": 51686455, "question_id": 51640541, "link": "https://stackoverflow.com/questions/51640541/update-2-url-params-by-input-text-and-select/51686455#51686455", "title": "Update 2 url params by input text and select", "body": "<pre><code>getPopByCY(code: string, value : string): Observable&lt;Article[]&gt; {\n    //set request params\n    let params: URLSearchParams = new URLSearchParams();\n    params.set(\"article\", code);\n    params.set(\"year\", value);\n    //params.set(\"surname\", surname); for more params\n    this.options.search = params;  \n\n\n    let url = \"http://192.168.1.10:8080/RESTfulArticle/rest/article\";\n    console.log(\"url: \", url);\n\n    return this.httpClient.get(url,this.options)\n      .map((resp: Response) =&gt; resp.json() as Article[])\n      .catch(this.handleError);\n  }\n\n  private handleError(err) {\n    console.log(err);\n    return Observable.throw(err || 'Server error');\n  }\n\n\n\n}\n\n\narticle.component.ts\n\nGetPbyCodeandYears(code : string , value : string) {\n\n\n  this.countriesService.getPopByCY(code,value).subscribe(users =&gt; {\n      this.pops = users as Population[];\n      console.log(users);\n\n    });\n</code></pre>\n\n<p>i want to append params to this link :   <a href=\"http://192.168.1.10:8080/RESTfulArticle/rest/article?country=code&amp;year=value\" rel=\"nofollow noreferrer\">http://192.168.1.10:8080/RESTfulArticle/rest/article?country=code&amp;year=value</a></p>\n\n<p>Error : Types of property 'headers' are incompatible.\n    Type 'Headers' is not assignable to type 'HttpHeaders | { [header: string]: string | string[]; }'.</p>\n"}], "owner": {"reputation": 1, "user_id": 10167502, "user_type": "registered", "profile_image": "https://graph.facebook.com/1811675645589170/picture?type=large", "display_name": "Houdhaifa Hamza", "link": "https://stackoverflow.com/users/10167502/houdhaifa-hamza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533392165, "creation_date": 1533149951, "last_edit_date": 1533150446, "question_id": 51640541, "link": "https://stackoverflow.com/questions/51640541/update-2-url-params-by-input-text-and-select", "title": "Update 2 url params by input text and select", "body": "<p>I want to update 2 parameters in the URL of my service by input text and select </p>\n\n<p>Url :  <a href=\"http://localhost/?population/?article=code&amp;year=value\" rel=\"nofollow noreferrer\">http://localhost/?population/?article=code&amp;year=value</a></p>\n\n<p>How can I set the code and value by input text for code and select for value in Angular 5</p>\n\n<p>Thanks </p>\n"}, {"tags": ["javascript", "json", "typescript"], "comments": [{"owner": {"reputation": 1630, "user_id": 7654872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5e44463183ba050bdf1d1efbf69c3a?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/7654872/brian"}, "edited": false, "score": 0, "creation_date": 1533149771, "post_id": 51640375, "comment_id": 90245313, "body": "What does <code>getDetails</code> look like? <code>args</code> is not defined."}, {"owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "reply_to_user": {"reputation": 1630, "user_id": 7654872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5e44463183ba050bdf1d1efbf69c3a?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/7654872/brian"}, "edited": false, "score": 0, "creation_date": 1533150103, "post_id": 51640375, "comment_id": 90245499, "body": "args are coming from other methods that is working as expected just problem is with the response"}, {"owner": {"reputation": 1630, "user_id": 7654872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5e44463183ba050bdf1d1efbf69c3a?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/7654872/brian"}, "edited": false, "score": 0, "creation_date": 1533237693, "post_id": 51640375, "comment_id": 90285002, "body": "My apologies. It looks like the problem could be in your getDetails function, since trackResponse contains valid properties."}], "owner": {"reputation": 4677, "user_id": 6014098, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0b83dda8ad91c36572edab34a46d475f?s=128&d=identicon&r=PG&f=1", "display_name": "hussain", "link": "https://stackoverflow.com/users/6014098/hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533150068, "creation_date": 1533149339, "last_edit_date": 1533150068, "question_id": 51640375, "link": "https://stackoverflow.com/questions/51640375/how-to-access-data-from-json-wrapped-with-xml-characters", "title": "How to access data from json wrapped with xml characters?", "body": "<p>i have a response that i wanted to map to interface and send it back to client but it throws always undefined properties error , Any idea what is implemented wrong here ? I wanted to send back to client <code>soapenv:Body</code> object</p>\n\n<p>main.ts</p>\n\n<pre><code>public getData(args: ICarrierTrackingParam, data: any): Promise &lt; ICarrierTrackingResult &gt; {\n\n    console.log(\"DATA&gt;&gt;&gt;&gt;&gt;&gt;\", data.Details[\"soapenv:Envelope\"][\"soapenv:Body\"]);\n    // const parsedJson: ICarrierTrackingResult;\n\n    // parsedJson = JSON.parse(data);\n\n\n    const trackResponse: any = data.Details[\"soapenv:Envelope\"][\"soapenv:Body\"];\n    // const response: ICarrierTrackingResult  = data.Details.Envelope.Body;\n\n    console.log(\"BODYY\", trackResponse);\n\n    // const trimmedResponse = response[soapenv:Envelope][soapenv:Body][trk:TrackResponse];\n    return Promise.resolve(this.getDetails(args, trackResponse));\n}\n\ninterface.ts\n\n\n\nexport interface ICarrierTrackingResult {\n        Details: EnvelopBody;\n    }\n    export interface EnvelopBody {\n        \"soapenv:Envelope\": Envelope;\n    }\n    export interface Envelope {\n        $: $;\n        Header: string;\n        Body: Body;\n    }\n    export interface $ {\n        \"xmlns:soapenv\": string;\n    }\n\n    export interface Body {\n        \"soapenv:Body\": string;\n    }\n</code></pre>\n\n<p>data</p>\n\n<pre><code>{\n    \"Details\": {\n        \"soapenv:Envelope\": {\n            \"$\": {\n                \"xmlns:soapenv\": \"http://schemas.xmlsoap.org/soap/envelope/\"\n            },\n            \"soapenv:Header\": \"\",\n            \"soapenv:Body\": {\n                \"trk:TrackResponse\": {\n                    \"$\": {\n                        \"xmlns:trk\": \"http://www.ups.com/XMLSchema/XOLTWS/Track/v2.0\"\n                    },\n                    \"common:Response\": {\n                        \"$\": {\n                            \"xmlns:common\": \"http://www.ups.com/XMLSchema/XOLTWS/Common/v1.0\"\n                        },\n                        \"common:ResponseStatus\": {\n                            \"common:Code\": \"1\",\n                            \"common:Description\": \"Success\"\n                        },\n                        \"common:TransactionReference\": \"\"\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-dnd"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1533150548, "post_id": 51640348, "comment_id": 90245717, "body": "You may have something wrong with your import statement.  If you provide a code sample, we may be able to spot it."}, {"owner": {"reputation": 91, "user_id": 9410656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c5358727f01a6df265b915fbc9745b?s=128&d=identicon&r=PG&f=1", "display_name": "Devashree", "link": "https://stackoverflow.com/users/9410656/devashree"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533216133, "post_id": 51640348, "comment_id": 90272870, "body": "I have updated the code to show my import statements"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533216816, "post_id": 51640348, "comment_id": 90273389, "body": "On what code are you getting the error &quot;Namespace &#39;React&#39; has no exported member &#39;ConsumerProps&#39;, ProviderProps&quot;?  I don&#39;t see these things referenced at all in the code you&#39;ve posted."}, {"owner": {"reputation": 91, "user_id": 9410656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c5358727f01a6df265b915fbc9745b?s=128&d=identicon&r=PG&f=1", "display_name": "Devashree", "link": "https://stackoverflow.com/users/9410656/devashree"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533231350, "post_id": 51640348, "comment_id": 90282174, "body": "I get that error when I import  from &#39;react-dnd&#39;. If I comment out that statement, my code works fine. But I need react dnd for the  drag and drop functionality and I am unable to use it right now, because of this problem"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533232914, "post_id": 51640348, "comment_id": 90282886, "body": "I still can&#39;t reproduce the problem or figure out what is referencing ConsumerProps and ProviderProps.  Is there a filename associated with the error message?  Can you share your whole package.json and package-lock.json files (e.g., via GitHub Gist)?"}, {"owner": {"reputation": 91, "user_id": 9410656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c5358727f01a6df265b915fbc9745b?s=128&d=identicon&r=PG&f=1", "display_name": "Devashree", "link": "https://stackoverflow.com/users/9410656/devashree"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533235618, "post_id": 51640348, "comment_id": 90284143, "body": "Yes, there is a filename. It associates the &#39;DragDropContext.d.ts&#39; file located at node_modules/lib/react-dnd folder of the project with this error."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 9410656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c5358727f01a6df265b915fbc9745b?s=128&d=identicon&r=PG&f=1", "display_name": "Devashree", "link": "https://stackoverflow.com/users/9410656/devashree"}, "edited": false, "score": 0, "creation_date": 1533323996, "post_id": 51660405, "comment_id": 90320942, "body": "react-dnd 3.0.2 causes other packages from my project to get uninstalled. :("}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 91, "user_id": 9410656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c5358727f01a6df265b915fbc9745b?s=128&d=identicon&r=PG&f=1", "display_name": "Devashree", "link": "https://stackoverflow.com/users/9410656/devashree"}, "edited": false, "score": 0, "creation_date": 1533324841, "post_id": 51660405, "comment_id": 90321284, "body": "There&#39;s not much I can do about that, sorry.  You&#39;ll need to decide on a set of compatible package versions for your project."}, {"owner": {"reputation": 91, "user_id": 9410656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c5358727f01a6df265b915fbc9745b?s=128&d=identicon&r=PG&f=1", "display_name": "Devashree", "link": "https://stackoverflow.com/users/9410656/devashree"}, "edited": false, "score": 0, "creation_date": 1533326216, "post_id": 51660405, "comment_id": 90321867, "body": "Thanks for the help. I will find a package that may be suitable with my project."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1533236058, "creation_date": 1533236058, "answer_id": 51660405, "question_id": 51640348, "link": "https://stackoverflow.com/questions/51640348/namespace-react-has-no-exported-member-consumerprops-providerprops/51660405#51660405", "title": "Namespace &#39;React&#39; has no exported member &#39;ConsumerProps&#39;, ProviderProps", "body": "<p>The only way I can explain that error is if you're trying to use react-dnd 4 or newer with React 15, but react-dnd 4 states that it requires React 16.3 or newer.  You should have seen a warning like this when running <code>npm install</code>:</p>\n\n<pre><code>npm WARN react-dnd@4.0.0 requires a peer of react@&gt;= 16.3 but none is installed. You must install peer dependencies yourself.\n</code></pre>\n\n<p>I expect you may run into incompatibilities at runtime as well as the problem with type checking.  Try react-dnd version 3.0.2 instead.</p>\n"}], "owner": {"reputation": 91, "user_id": 9410656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c5358727f01a6df265b915fbc9745b?s=128&d=identicon&r=PG&f=1", "display_name": "Devashree", "link": "https://stackoverflow.com/users/9410656/devashree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1694, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1533236058, "creation_date": 1533149264, "last_edit_date": 1533154881, "question_id": 51640348, "link": "https://stackoverflow.com/questions/51640348/namespace-react-has-no-exported-member-consumerprops-providerprops", "title": "Namespace &#39;React&#39; has no exported member &#39;ConsumerProps&#39;, ProviderProps", "body": "<p>I am trying to install this library in visual studio and my react version is 15.0.35. Can I use this library fro this version of react? If not, is there any other library that is compatible with this version?</p>\n\n<pre><code>import * as React from 'react';\nimport { RouteComponentProps, NavLink } from 'react-router-dom';\nimport { DragEvent } from 'react';\nimport { ApplicationState } from '../store';\nimport * as NavMenuStore from '../store/NavMenu';\nimport { connect } from 'react-redux';\nimport D4AMenuItem from './D4AMenuItem';\nimport { State } from 'react-burger-menu';\nimport CardContainer from './CardContainer';\nimport {\nConnectDragSource,\nDragDropContext,\nDragSourceSpec,\nDragSource,\nDragSourceCollector,\nDragSourceConnector,\nDragSourceMonitor,\nDragElementWrapper,\nConnectDropTarget,\nDropTargetConnector,\nDropTargetMonitor,\nDropTargetSpec\n} from 'react-dnd';\n\n //render method\n\n public render() {\n\n    let dropped = this.props.SelectedMenuItems.map((menu: any) =&gt; {\n        return (\n            &lt;span \n                key={Math.random()}\n                draggable={true}\n                onDragStart={(e: DragEvent&lt;any&gt;) =&gt; this.onDragStart(e, menu.MenuText)}&gt;\n                &lt;NavLink to={menu.RoutePath} activeClassName='active' className='D4AMenuItemNew'&gt;\n                    &lt;img className='D4AIconNew' alt='Audit4Action_Icon' src={String(menu.IconPath)}&gt;&lt;/img&gt;\n                    &lt;span className='D4ATextNew'&gt;\n                    &lt;/span&gt; {menu.MenuText}\n\n                &lt;/NavLink&gt;\n\n           &lt;/span&gt;    \n        );\n    })\n    return &lt;div &gt;\n\n        &lt;div className='dropping_div' onDragOver={(e: any) =&gt; this.onDragOver(e)} onDrop={(e: DragEvent&lt;any&gt;) =&gt; this.onDrop(e)}&gt;{dropped}&lt;/div&gt;               \n\n        &lt;div&gt;&lt;h1&gt;Drag and Drop Containers Over Each Other to Swap Places&lt;/h1&gt;\n            &lt;CardContainer /&gt; { /*swap={() =&gt; this.swap()} drag={(e: DragEvent&lt;any&gt;) =&gt; this.drag(e)} cards={this.state.info}*/} &lt;/div&gt;\n\n    &lt;/div&gt;;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>export default connect(\n    (state: ApplicationState) => state.navmenu, // Selects which state properties are merged into the component's props\n    NavMenuStore.actionCreators                 // Selects which action creators are merged into the component's props\n)(Home as any);</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 469, "user_id": 10149820, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qiTUzDix29g/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ogHelhx3VThQj1ojDpHpa1le0g4w/mo/photo.jpg?sz=128", "display_name": "Diego Pedro", "link": "https://stackoverflow.com/users/10149820/diego-pedro"}, "is_accepted": false, "score": 0, "last_activity_date": 1533149569, "creation_date": 1533149569, "answer_id": 51640436, "question_id": 51640334, "link": "https://stackoverflow.com/questions/51640334/argument-of-type-typeof-logoavatar-is-not-assignable-to-parameter-of-type-com/51640436#51640436", "title": "Argument of type &#39;typeof LogoAvatar&#39; is not assignable to parameter of type &#39;ComponentType&lt;LogoProps &amp; Partial&lt;WithTheme&gt;", "body": "<p>You should check withStyles limitations in Typescript</p>\n\n<p><a href=\"https://material-ui.com/guides/typescript/#decorating-components\" rel=\"nofollow noreferrer\">https://material-ui.com/guides/typescript/#decorating-components</a></p>\n\n<p>Because of TS limitations you should use the function approach instead of this one.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 7711770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mLsay.jpg?s=128&g=1", "display_name": "J.Lara", "link": "https://stackoverflow.com/users/7711770/j-lara"}, "edited": false, "score": 0, "creation_date": 1533231028, "post_id": 51640659, "comment_id": 90282021, "body": "It worked!! Thanks so much! This was my first go at Typescript so I&#39;m still getting the hang of it :)"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1533150425, "creation_date": 1533150425, "answer_id": 51640659, "question_id": 51640334, "link": "https://stackoverflow.com/questions/51640334/argument-of-type-typeof-logoavatar-is-not-assignable-to-parameter-of-type-com/51640659#51640659", "title": "Argument of type &#39;typeof LogoAvatar&#39; is not assignable to parameter of type &#39;ComponentType&lt;LogoProps &amp; Partial&lt;WithTheme&gt;", "body": "<p>This compiles for me:</p>\n\n<pre><code>import * as React from \"react\";\n\nimport { withStyles, WithStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst styles = {\n avatar: {\n  margin: 10\n  }\n };\n\ninterface LogoProps extends WithStyles&lt;typeof styles&gt; {\n//                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  lender: string;\n  src: string;\n }\n\nclass LogoAvatar extends React.Component&lt;LogoProps&gt; {\n  render(): JSX.Element {\n    let l = this.props.lender;\n    let s = this.props.src;\n\nif (l === \"Seacoast\") {\n  s =\n    \"https://www.seacoastbank.com/hs-fs/hubfs/Seacoast-Dark-Logo-compressor.png?t=1532980735522&amp;width=472&amp;name=Seacoast-Dark-Logo-compressor.png\";\n}\n\nif (l === \"nbkc\") {\n  s = \"http://measuremedia.com/img/nbkclogo.jpg\";\n}\n\nreturn &lt;Avatar src={s} className=\"avatar\" /&gt;;\n  }\n}\nexport default withStyles(styles)(LogoAvatar);\n</code></pre>\n\n<p>See if it runs.</p>\n"}], "owner": {"reputation": 21, "user_id": 7711770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mLsay.jpg?s=128&g=1", "display_name": "J.Lara", "link": "https://stackoverflow.com/users/7711770/j-lara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1399, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533156502, "creation_date": 1533149198, "last_edit_date": 1533156502, "question_id": 51640334, "link": "https://stackoverflow.com/questions/51640334/argument-of-type-typeof-logoavatar-is-not-assignable-to-parameter-of-type-com", "title": "Argument of type &#39;typeof LogoAvatar&#39; is not assignable to parameter of type &#39;ComponentType&lt;LogoProps &amp; Partial&lt;WithTheme&gt;", "body": "<p>Why argument of type <code>typeof LogoAvatar</code> is not assignable to parameter of type <code>ComponentType&lt;LogoProps &amp; Partial&lt;WithTheme&gt;</code></p>\n\n<p>Code: </p>\n\n<pre><code>import * as React from \"react\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst styles = {\n avatar: {\n  margin: 10\n  }\n };\n\ninterface LogoProps {\n  lender: string;\n  src: string;\n }\n\nclass LogoAvatar extends React.Component&lt;LogoProps&gt; {\n  render(): JSX.Element {\n    let l = this.props.lender;\n    let s = this.props.src;\n\nif (l === \"Seacoast\") {\n  s =\n    \"https://www.seacoastbank.com/hs-fs/hubfs/Seacoast-Dark-Logo-compressor.png?t=1532980735522&amp;width=472&amp;name=Seacoast-Dark-Logo-compressor.png\";\n}\n\nif (l === \"nbkc\") {\n  s = \"http://measuremedia.com/img/nbkclogo.jpg\";\n}\n\nreturn &lt;Avatar src={s} className=\"avatar\" /&gt;;\n  }\n}\nexport default withStyles(styles)(LogoAvatar);\n</code></pre>\n\n<p>Error Message:</p>\n\n<pre><code>Argument of type 'typeof LogoAvatar' is not assignable to parameter of type 'ComponentType&lt;LogoProps &amp; Partial&lt;WithTheme&gt; &amp; { classes: Record&lt;\"row\" | \"avatar\", string&gt;; }&gt;'.\n  Type 'typeof LogoAvatar' is not assignable to type 'StatelessComponent&lt;LogoProps &amp; Partial&lt;WithTheme&gt; &amp; { classes: Record&lt;\"row\" | \"avatar\", string&gt;; }&gt;'.\n    Type 'typeof LogoAvatar' provides no match for the signature '(props: LogoProps &amp; Partial&lt;WithTheme&gt; &amp; { classes: Record&lt;\"row\" | \"avatar\", string&gt;; } &amp; { children?: ReactNode; }, context?: any): ReactElement&lt;any&gt; | null'.\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 8972, "user_id": 936651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b467475c5a06deb854ac8e5114d35b90?s=128&d=identicon&r=PG", "display_name": "SexyMF", "link": "https://stackoverflow.com/users/936651/sexymf"}, "edited": false, "score": 1, "creation_date": 1533150086, "post_id": 51640373, "comment_id": 90245487, "body": "Thanks, but this is not what I have asked, I have a native element in my hand, and I want to cast it back to a component. I used view child just to grab the native element for the sake of the example."}, {"owner": {"reputation": 8972, "user_id": 936651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b467475c5a06deb854ac8e5114d35b90?s=128&d=identicon&r=PG", "display_name": "SexyMF", "link": "https://stackoverflow.com/users/936651/sexymf"}, "edited": false, "score": 0, "creation_date": 1533151254, "post_id": 51640373, "comment_id": 90246077, "body": "So, Is it possible to cast from native element / Dom element back to component?"}, {"owner": {"reputation": 4159, "user_id": 6052255, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/10153876441400115/picture?type=large", "display_name": "David Anthony Acosta", "link": "https://stackoverflow.com/users/6052255/david-anthony-acosta"}, "reply_to_user": {"reputation": 8972, "user_id": 936651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b467475c5a06deb854ac8e5114d35b90?s=128&d=identicon&r=PG", "display_name": "SexyMF", "link": "https://stackoverflow.com/users/936651/sexymf"}, "edited": false, "score": 0, "creation_date": 1533151549, "post_id": 51640373, "comment_id": 90246233, "body": "No. You cannot, because you can&#39;t convert an HTML Element into a TypeScript class. That&#39;s why you must use something like ViewChild"}, {"owner": {"reputation": 533, "user_id": 2247232, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0f9d320b5dbdf38f315d43788a00074?s=128&d=identicon&r=PG", "display_name": "Amirreza", "link": "https://stackoverflow.com/users/2247232/amirreza"}, "edited": false, "score": 4, "creation_date": 1538674159, "post_id": 51640373, "comment_id": 92236488, "body": "i&#39;m in directive and getting elementref, so i can not use viewchild, any suggestion?"}], "tags": [], "owner": {"reputation": 4159, "user_id": 6052255, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/10153876441400115/picture?type=large", "display_name": "David Anthony Acosta", "link": "https://stackoverflow.com/users/6052255/david-anthony-acosta"}, "is_accepted": true, "score": 3, "last_activity_date": 1533149338, "creation_date": 1533149338, "answer_id": 51640373, "question_id": 51640307, "link": "https://stackoverflow.com/questions/51640307/angular-5-casting-back-elementref-to-component/51640373#51640373", "title": "Angular 5 Casting back ElementRef to Component", "body": "<p>You dont' have to cast an element to a component. Just use viewchild</p>\n\n<pre><code>import { Component,Input,ElementRef,ViewChild, AfterViewInit } from '@angular/core';\n\n@Component({\n  selector: 'sub-component',\n  template: `&lt;div&gt;{{name}}&lt;/div&gt;`,\n})\nexport class SubComponent  {\n  @Input() name : string\n}\n\n@Component({\n  selector: 'my-app',\n  template: `&lt;sub-component [name]=\"'test'\"&gt;&lt;/sub-component&gt;`,\n})\nexport class AppComponent implements AfterViewInit {\n\n@ViewChild(SubComponent) private subComponent: SubComponent;\n\n constructor(){}\n\n ngAfterViewInit() {\n   console.log(this.subComponent.name); // No longer undefined\n }\n}\n</code></pre>\n\n<p>working example <a href=\"https://stackblitz.com/edit/angular-axtulh?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-axtulh?file=src/app/app.component.ts</a></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7485468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Da35.png?s=128&g=1", "display_name": "Tomas Bilek", "link": "https://stackoverflow.com/users/7485468/tomas-bilek"}, "is_accepted": false, "score": 3, "last_activity_date": 1554369773, "creation_date": 1554369773, "answer_id": 55512267, "question_id": 51640307, "link": "https://stackoverflow.com/questions/51640307/angular-5-casting-back-elementref-to-component/55512267#55512267", "title": "Angular 5 Casting back ElementRef to Component", "body": "<p>answer to </p>\n\n<blockquote>\n  <p>i'm in directive and getting elementref, so i can not use viewchild,\n  any suggestion?</p>\n</blockquote>\n\n<p>can be found here <a href=\"https://github.com/angular/angular/issues/8277\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/8277</a>. </p>\n\n<pre><code>...\n    constructor(\n         @Host() @Self() @Optional() public hostCheckboxComponent : MdlCheckboxComponent\n        ,@Host() @Self() @Optional() public hostSliderComponent   : MdlSliderComponent\n    ){\n                if(this.hostCheckboxComponent) {\n                       console.log(\"host is a checkbox\");\n                } else if(this.hostSliderComponent) {\n                       console.log(\"host is a slider\");\n                }\n         }\n...\n</code></pre>\n\n<p>In your case you can only use\n<code>@Host() @Self() public myComponent : MyComponent</code></p>\n"}], "owner": {"reputation": 8972, "user_id": 936651, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b467475c5a06deb854ac8e5114d35b90?s=128&d=identicon&r=PG", "display_name": "SexyMF", "link": "https://stackoverflow.com/users/936651/sexymf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4589, "favorite_count": 1, "accepted_answer_id": 51640373, "answer_count": 2, "score": 4, "last_activity_date": 1554369773, "creation_date": 1533149100, "last_edit_date": 1533156527, "question_id": 51640307, "link": "https://stackoverflow.com/questions/51640307/angular-5-casting-back-elementref-to-component", "title": "Angular 5 Casting back ElementRef to Component", "body": "<p>Is it possible to cast back <code>ElementRef</code> to a component.<br>\nI have a situation where I have in my hand the <code>nativeElement</code> and I need to cast it to a component.\nHave a look at the console.log, I want to extract the <code>name</code>, Can I cast it back?\nThanks\n<a href=\"https://stackblitz.com/edit/angular-8aoq7f?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-8aoq7f?file=src%2Fapp%2Fapp.component.ts</a></p>\n\n<pre><code>@Component({\n  selector: 'my-app',\n  template: `&lt;sub-component [name]=\"'test'\"&gt;&lt;/sub-component&gt;`,\n})\nexport class AppComponent {\n constructor(private ref : ElementRef){\n    console.log((&lt;SubComponent&gt;this.ref.nativeElement).name); //&lt;--- .name is undefined\n }\n}\n\n@Component({\n  selector: 'sub-component',\n  template: `&lt;div&gt;{{name}}&lt;/div&gt;`,\n})\nexport class SubComponent  {\n  @Input() name : string\n}\n</code></pre>\n"}, {"tags": ["angular", "html", "typescript", "inline-editing"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 9193561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69264ac13852cd33c6af91b3b1458f?s=128&d=identicon&r=PG&f=1", "display_name": "Prabir Choudhury", "link": "https://stackoverflow.com/users/9193561/prabir-choudhury"}, "edited": false, "score": 1, "creation_date": 1533149758, "post_id": 51640387, "comment_id": 90245311, "body": "hi, yes, multiple persons editing won&#39;t be needed in my case here; So I suppose I can bind both the fields, my label/div as well as the input box to the variable addressVar and this way, it is gonna reflect the newly updated value spontaneously. right?"}, {"owner": {"reputation": 113, "user_id": 9193561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69264ac13852cd33c6af91b3b1458f?s=128&d=identicon&r=PG&f=1", "display_name": "Prabir Choudhury", "link": "https://stackoverflow.com/users/9193561/prabir-choudhury"}, "edited": false, "score": 0, "creation_date": 1533194999, "post_id": 51640387, "comment_id": 90259335, "body": "thanks @Michael yes I will implement it; but just for additional knowledge/option - is there another way that can be implemented as a more robust maybe? thanks,"}, {"owner": {"reputation": 113, "user_id": 9193561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69264ac13852cd33c6af91b3b1458f?s=128&d=identicon&r=PG&f=1", "display_name": "Prabir Choudhury", "link": "https://stackoverflow.com/users/9193561/prabir-choudhury"}, "edited": false, "score": 0, "creation_date": 1533216622, "post_id": 51640387, "comment_id": 90273245, "body": "Hi @MichaleMcPherson, yes I tried as you suggested; but it&#39;s still not showing the newly entered values. Only the old bound values. I have bound it to the variable instead of directly binding from the result response. I have updated my code listing too, so you can take a look if whatever I did was okay.....       so what next??"}, {"owner": {"reputation": 262, "user_id": 1585043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b65c9d385f83e31a17e9ed1c8f4b51f8?s=128&d=identicon&r=PG", "display_name": "Michael McPherson", "link": "https://stackoverflow.com/users/1585043/michael-mcpherson"}, "reply_to_user": {"reputation": 113, "user_id": 9193561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69264ac13852cd33c6af91b3b1458f?s=128&d=identicon&r=PG&f=1", "display_name": "Prabir Choudhury", "link": "https://stackoverflow.com/users/9193561/prabir-choudhury"}, "edited": false, "score": 0, "creation_date": 1533261364, "post_id": 51640387, "comment_id": 90291984, "body": "I&#39;d review @DeborahK&#39;s thought below, and make sure that your two way binding is working properly. If you could pare down your code enough for us to paste it into an IDE/JSFiddle and run/debug it, that would also help."}, {"owner": {"reputation": 113, "user_id": 9193561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69264ac13852cd33c6af91b3b1458f?s=128&d=identicon&r=PG&f=1", "display_name": "Prabir Choudhury", "link": "https://stackoverflow.com/users/9193561/prabir-choudhury"}, "edited": false, "score": 0, "creation_date": 1533281572, "post_id": 51640387, "comment_id": 90297691, "body": "hi Michael, okkay I will supply more of the code snippets so that I a fiddle can be made, no problem. Meanwhile let me just try out Deborah&#39;s @deborahk snippet, I have a hunch it is gonna solve the issue; using ngModel instead of [value]."}], "tags": [], "owner": {"reputation": 262, "user_id": 1585043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b65c9d385f83e31a17e9ed1c8f4b51f8?s=128&d=identicon&r=PG", "display_name": "Michael McPherson", "link": "https://stackoverflow.com/users/1585043/michael-mcpherson"}, "is_accepted": false, "score": 2, "last_activity_date": 1533149386, "creation_date": 1533149386, "answer_id": 51640387, "question_id": 51640173, "link": "https://stackoverflow.com/questions/51640173/reflect-updated-value-changes-during-inline-edit-functionality-angular-4/51640387#51640387", "title": "Reflect updated value changes during inline-edit functionality Angular 4 --", "body": "<p>If it was me, I'd bind the text box to a TS variable such as: </p>\n\n<pre><code>let addressVar = cObjx.customer_resaddress==null?'Not specified':cObjx.customer_resaddress;\n</code></pre>\n\n<p>Two way binding should make sure that updates properly during your edit functions, and if the database is updating properly, when you look at it later, the initial binding will continue to be correct.</p>\n\n<p>If you have multiple people editing the same information, that would present a problem, but that doesn't look like the case here.</p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 9193561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69264ac13852cd33c6af91b3b1458f?s=128&d=identicon&r=PG&f=1", "display_name": "Prabir Choudhury", "link": "https://stackoverflow.com/users/9193561/prabir-choudhury"}, "edited": false, "score": 0, "creation_date": 1533281626, "post_id": 51659440, "comment_id": 90297715, "body": "hi Deborah @deborahk, I am going to try this out. I&#39;ll report back with updates, thanks as always;"}, {"owner": {"reputation": 113, "user_id": 9193561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69264ac13852cd33c6af91b3b1458f?s=128&d=identicon&r=PG&f=1", "display_name": "Prabir Choudhury", "link": "https://stackoverflow.com/users/9193561/prabir-choudhury"}, "edited": false, "score": 0, "creation_date": 1533407892, "post_id": 51659440, "comment_id": 90338912, "body": "yes, using ngModel in place of [value] solves it just fine. The newly entered value reflects immediately cuz of the two way binding.  @deborahk thanks,"}], "tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": true, "score": 1, "last_activity_date": 1533231924, "creation_date": 1533231924, "answer_id": 51659440, "question_id": 51640173, "link": "https://stackoverflow.com/questions/51640173/reflect-updated-value-changes-during-inline-edit-functionality-angular-4/51659440#51659440", "title": "Reflect updated value changes during inline-edit functionality Angular 4 --", "body": "<p>It doesn't look like you are using two-way binding?</p>\n\n<p>Instead of this:</p>\n\n<pre><code>[value]=\"this.addressVar\"\n</code></pre>\n\n<p>Consider using this:</p>\n\n<pre><code>[(ngModel)]=\"this.addressVar\"\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 9193561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69264ac13852cd33c6af91b3b1458f?s=128&d=identicon&r=PG&f=1", "display_name": "Prabir Choudhury", "link": "https://stackoverflow.com/users/9193561/prabir-choudhury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 51659440, "answer_count": 2, "score": -1, "last_activity_date": 1533231924, "creation_date": 1533148618, "last_edit_date": 1533216490, "question_id": 51640173, "link": "https://stackoverflow.com/questions/51640173/reflect-updated-value-changes-during-inline-edit-functionality-angular-4", "title": "Reflect updated value changes during inline-edit functionality Angular 4 --", "body": "<p>my problem --</p>\n\n<p>I have a field for customer address and I am displaying the value for it by retrieving it from db and binding it. Now, I have tried to implement inline-edit functionality. When a user clicks on the address value, it turns into a textbox that is still showing the original value. Now after editing/changing some text, as the user clicks out of the texbox or 'tabs' away, it reverts back to the original label field again, but still showing only the old value and not the newly updated value. Of course I am updating the value in DB and it is perfectly updating. But I would like is to show the newly updated value bound to the label instead of the old one. And one way for this - is to call the retrieve and bind code all over again. WHICH I SIMPLY WANT TO AVOID. IT MAKES NO SENSE.</p>\n\n<p>So, what's the trick? How can this be done? \nI'll post some of the relevant code so that you get an idea.</p>\n\n<p>. some html markup</p>\n\n<pre><code>    &lt;tr style=\"margin-top:22px\"&gt;\n            &lt;td&gt;Address (Residential): &lt;/td&gt;\n            &lt;td&gt;\n                &lt;div *ngIf=\"ed3\"&gt;\n                    &lt;input type=\"text\" id=\"address_txt\" (blur)=\"setval3($event.target.value)\" [value]=\"this.addressVar\" class=\"form-control\" /&gt;\n                &lt;/div&gt;\n                &lt;div *ngIf=\"!ed3\"&gt;\n                    &lt;div title=\"Click to Edit\" class=\"inline-edit\" id=\"addr_div\" (click)=\"edit3(val)\" (focus)=\"edit3(val)\"&gt;{{this.addressVar}}&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n</code></pre>\n\n<p>. some of the TS code</p>\n\n<pre><code>    private ed3: boolean = false;\n    public addressVar: any = '';\n\n    edit3(value: any) {\n    if (this.disabled) {\n        return;\n    }\n\n    this.ed3 = true;\n}\n\n    setval3(value: any) {\n    this.ed3 = false;\n    this.fieldtoUpdate = 'customer_resaddress';\n    var body =\n        {\n            id: this.cus_id,\n            new_val: value,\n            field: this.fieldtoUpdate\n        }\n    var _Headers = new Headers();\n    _Headers.append('Content-Type', 'application/json');\n\n    public ngOnInit() {\n\n   //stuff I am doing to fetch and bind from DB\n   //as you can see, I am using the variables now\n\n    this.http.post('api/SampleData/GetCustomerAllDetails', JSON.stringify(body), { headers: _Headers })\n        .subscribe(result =&gt; {\n            this.cObjx = result.json() as CustomerD;\n            this.addressVar = this.cObjx.customer_resaddress == null ? 'Not specified' : this.cObjx.customer_resaddress;\n            this.phoneVar = this.cObjx.customer_phone;\n            this.mobileVar = this.cObjx.customer_mobile == null ? 'Not specified' : this.cObjx.customer_mobile;\n            this.officephnVar = this.cObjx.customer_officephone == null ? 'Not specified' : this.cObjx.customer_officephone;\n        },\n        error =&gt; console.error(error));\n\n\n} \n    this.http.post('api/SampleData/UpdateCustomerDetails/values', JSON.stringify(body), { headers: _Headers })\n        .take(1)\n        .subscribe((response: any) =&gt; {\n            if (response.success) {\n                console.log('Details updated!');\n            }\n            else {\n                console.log('Unable to update details!');\n            }\n        })\n}\n</code></pre>\n\n<p>As you can understand, calling the bind function again is not my aim. I am trying to avoid that. From some articles I read on this type of scenario, it appears I have to use some kind of third [temporary control] which would basically display the new value. Or maybe I am wrong with that and there's a better idea. I really need some guidance on this. Quite confused!       </p>\n"}, {"tags": ["angular", "typescript", "sorting", "http", "httpclient"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1533146117, "post_id": 51639441, "comment_id": 90243394, "body": "You didn&#39;t post the code of getConcept(). It retrns an Observable&lt;Object&gt;, and should instead return an Observable&lt;Array&lt;Something&gt;&gt;. Read the documentation: <a href=\"https://angular.io/guide/http#type-checking-the-response\" rel=\"nofollow noreferrer\">angular.io/guide/http#type-checking-the-response</a>"}, {"owner": {"reputation": 4159, "user_id": 6052255, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/10153876441400115/picture?type=large", "display_name": "David Anthony Acosta", "link": "https://stackoverflow.com/users/6052255/david-anthony-acosta"}, "edited": false, "score": 0, "creation_date": 1533146332, "post_id": 51639441, "comment_id": 90243497, "body": "You can&#39;t sort an object, So make sure your method is returning an array"}, {"owner": {"reputation": 325, "user_id": 10039240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234794857da4a2a68eb2d452a732960e?s=128&d=identicon&r=PG&f=1", "display_name": "prevox", "link": "https://stackoverflow.com/users/10039240/prevox"}, "edited": false, "score": 0, "creation_date": 1533147287, "post_id": 51639441, "comment_id": 90244015, "body": "getConcept() is just this.http.get(this.url)"}, {"owner": {"reputation": 469, "user_id": 10149820, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qiTUzDix29g/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ogHelhx3VThQj1ojDpHpa1le0g4w/mo/photo.jpg?sz=128", "display_name": "Diego Pedro", "link": "https://stackoverflow.com/users/10149820/diego-pedro"}, "edited": false, "score": 1, "creation_date": 1533147637, "post_id": 51639441, "comment_id": 90244213, "body": "You have a different code in there. With Http you map the response using the function extractData that may or may not transform the data. In the HttpClient version you should 1) Use that function to extract the data and return that type 2) If it only maps (which is now done automatically by get()) the subscribe parameter should be of the same type the extractData function returns"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1533148498, "post_id": 51639441, "comment_id": 90244696, "body": "what is the code for <code>this.extractData</code> ?"}, {"owner": {"reputation": 325, "user_id": 10039240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234794857da4a2a68eb2d452a732960e?s=128&d=identicon&r=PG&f=1", "display_name": "prevox", "link": "https://stackoverflow.com/users/10039240/prevox"}, "edited": false, "score": 0, "creation_date": 1533151484, "post_id": 51639441, "comment_id": 90246204, "body": "extractData(res: Response) { const body = res.json(); return body; }"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1533156681, "post_id": 51639441, "comment_id": 90248584, "body": "That&#39;s the problem. As explained in the documentation, that I linked to, it should be <code>return this.http.get&lt;Array&lt;Something&gt;&gt;(this.url)</code>. Again, read the documentation. That&#39;s what it&#39;s for: you take 10 minutes to read it, learn plenty of things, and then spare hours"}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 10039240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234794857da4a2a68eb2d452a732960e?s=128&d=identicon&r=PG&f=1", "display_name": "prevox", "link": "https://stackoverflow.com/users/10039240/prevox"}, "edited": false, "score": 0, "creation_date": 1533147262, "post_id": 51639586, "comment_id": 90244003, "body": "When trying to implement this solution I get:  A tuple type element list cannot be empty."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 325, "user_id": 10039240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234794857da4a2a68eb2d452a732960e?s=128&d=identicon&r=PG&f=1", "display_name": "prevox", "link": "https://stackoverflow.com/users/10039240/prevox"}, "edited": false, "score": 0, "creation_date": 1533147388, "post_id": 51639586, "comment_id": 90244068, "body": "You may want to create a stackblitz example so we can better help you."}, {"owner": {"reputation": 325, "user_id": 10039240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234794857da4a2a68eb2d452a732960e?s=128&d=identicon&r=PG&f=1", "display_name": "prevox", "link": "https://stackoverflow.com/users/10039240/prevox"}, "edited": false, "score": 1, "creation_date": 1533151525, "post_id": 51639586, "comment_id": 90246225, "body": "Got it working like this (res: any[]) instead of (res:[])"}, {"owner": {"reputation": 469, "user_id": 10149820, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qiTUzDix29g/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ogHelhx3VThQj1ojDpHpa1le0g4w/mo/photo.jpg?sz=128", "display_name": "Diego Pedro", "link": "https://stackoverflow.com/users/10149820/diego-pedro"}, "edited": false, "score": 2, "creation_date": 1533157733, "post_id": 51639586, "comment_id": 90249026, "body": "This should not be the accepted answer by any mean. Using any[] is telling the typesystem to ignore basically anything you are typing, for that matter you may use any. Please read the comments on your question."}], "tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": true, "score": 4, "last_activity_date": 1533146435, "creation_date": 1533146435, "answer_id": 51639586, "question_id": 51639441, "link": "https://stackoverflow.com/questions/51639441/cant-use-sort-with-httpclient-subscribe-property-sort-does-not-exist-on-ty/51639586#51639586", "title": "Can&#39;t use sort() with HttpClient subscribe, property &#39;sort&#39; does not exist on type &#39;Object&#39;", "body": "<p>I was able to get this to work by just specifying the type of <code>res</code> as <code>[]</code></p>\n\n<pre><code>this.getConcept().subscribe((res:[]) =&gt; {\n    res.sort((f, n): number =&gt; {\n        if (f.code &lt; n.code) return -1;\n        if (f.code &gt; n.code) return 1;\n\n        return 0;\n    }); \n    console.error(res);\n    this.arrConcept = res;\n});\n</code></pre>\n\n<p>The code then knows that res is an array and an array has a <code>sort</code> method.</p>\n\n<p>If you have an interface defined for the array, it would be better to use it. For example:</p>\n\n<pre><code>(res:IConcept[]) =&gt; { ... }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4888, "user_id": 2689491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Yf3q.jpg?s=128&g=1", "display_name": "Th&#233;o T. Carranza", "link": "https://stackoverflow.com/users/2689491/th%c3%a9o-t-carranza"}, "is_accepted": false, "score": 0, "last_activity_date": 1572227868, "creation_date": 1572227868, "answer_id": 58584969, "question_id": 51639441, "link": "https://stackoverflow.com/questions/51639441/cant-use-sort-with-httpclient-subscribe-property-sort-does-not-exist-on-ty/58584969#58584969", "title": "Can&#39;t use sort() with HttpClient subscribe, property &#39;sort&#39; does not exist on type &#39;Object&#39;", "body": "<p>.sort is a property of arrays or objects, you should type your return accordingly and the method will be then available. If you are unsure about the return of your method, give it a any[]. Something like:</p>\n\n<pre><code>this.getConcept().subscribe((res: any[]) =&gt; {\nres.sort((f, n): number =&gt; {\n    if (f.code &lt; n.code) return -1;\n    if (f.code &gt; n.code) return 1;\n\n    return 0;\n}); \nconsole.error(res);\nthis.arrConcept = res;\n});\n</code></pre>\n\n<p>But preferably you should rewrite your method to return an array of the appropriate type. Also, type the return of your function as well. In fact, if you want to use typescript, type everything - that is what typescript is for! =)</p>\n"}], "owner": {"reputation": 325, "user_id": 10039240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234794857da4a2a68eb2d452a732960e?s=128&d=identicon&r=PG&f=1", "display_name": "prevox", "link": "https://stackoverflow.com/users/10039240/prevox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3245, "favorite_count": 0, "accepted_answer_id": 51639586, "answer_count": 2, "score": 0, "last_activity_date": 1572227868, "creation_date": 1533145886, "question_id": 51639441, "link": "https://stackoverflow.com/questions/51639441/cant-use-sort-with-httpclient-subscribe-property-sort-does-not-exist-on-ty", "title": "Can&#39;t use sort() with HttpClient subscribe, property &#39;sort&#39; does not exist on type &#39;Object&#39;", "body": "<p>I'm moving from Http to HttpClient but I get some errors now that I can't use map() to sort the result. </p>\n\n<p>With HttpClient I get Property 'sort' does not exist on type 'Object'.</p>\n\n<pre><code>this.getConcept().subscribe(res =&gt; {\n    res.sort((f, n): number =&gt; {\n        if (f.code &lt; n.code) return -1;\n        if (f.code &gt; n.code) return 1;\n\n        return 0;\n    }); \n    console.error(res);\n    this.arrConcept = res;\n});\n</code></pre>\n\n<p>with Http I can sort it without problems</p>\n\n<pre><code>this.getConcept().map(this.extractData).subscribe(res =&gt; {\n    res.sort((f, n): number =&gt; {\n        if (f.code &lt; n.code) return -1;\n        if (f.code &gt; n.code) return 1;\n\n        return 0;\n    }); \n    console.error(res);\n    this.arrConcept = res;\n});\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1533146049, "post_id": 51639419, "comment_id": 90243350, "body": "The easiest (least amount of code which also leads to nice SoC IMO) is to map Json responses to interfaces (with no functionality). So do not use rich objects/types for these entities, leave that logic in the component or the html template."}, {"owner": {"reputation": 21279, "user_id": 507793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6G686.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/507793/matthew"}, "edited": false, "score": 1, "creation_date": 1533146064, "post_id": 51639419, "comment_id": 90243359, "body": "This isn&#39;t really specific to typescript, but when deserializing it&#39;s typical to have a default constructor.  For your class would it be possible to move the logic of concatenation into the <code>fullName</code> property instead of in the constructor?"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1533146288, "post_id": 51639419, "comment_id": 90243474, "body": "It would be possible, but if you can imagine, some of my other models require some other functions within the class to run in order to complete the object. For example, if the Person API return only a birthday, I would need to run a function to calculate age."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1533146629, "post_id": 51639419, "comment_id": 90243671, "body": "@mwilson - not sure why you can&#39;t do that in the component, a service, or in the template? You can do what you suggested, newing up for everything returned, but there is no magic LoC that will do it for you. So you either write the logic to do that and iterate over the returned object graph <i>or</i> you do as I suggested. Those are your 2 options...."}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1533147948, "post_id": 51639419, "comment_id": 90244409, "body": "@Igor: Yea, that&#39;s what I currently have setup. Everything is handeled within the service but was hoping there was a more elegant way to get something instantiated without all the code. I do see some really cool IDE extensions/plugins that allow you to paste in a JSON object and it creates the class/Interface for you. So that&#39;s cool i guess... (<a href=\"http://json2ts.com/\" rel=\"nofollow noreferrer\">json2ts.com</a>) Visual Studio also has this (and some others (<a href=\"https://marketplace.visualstudio.com/items?itemName=rafaelsalguero.csharp2ts\" rel=\"nofollow noreferrer\">marketplace.visualstudio.com/&hellip;</a>)"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1533152801, "post_id": 51639419, "comment_id": 90246882, "body": "(<a href=\"https://jsfiddle.net/acj28ego/8/\" rel=\"nofollow noreferrer\">jsfiddle.net/acj28ego/8</a>)"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1533172286, "post_id": 51639419, "comment_id": 90252548, "body": "@Igor: Excuse the newb question, but can you define <code>SoC</code> and <code>LoC</code>. Do you have a link? I&#39;m curious what those are..."}], "answers": [{"comments": [{"owner": {"reputation": 2221, "user_id": 3263519, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/a30868a12dbbc6de32f2a790ef8ec7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Hikmat G.", "link": "https://stackoverflow.com/users/3263519/hikmat-g"}, "edited": false, "score": 1, "creation_date": 1533148526, "post_id": 51639675, "comment_id": 90244710, "body": "This may remove messy code from logical components but I don&#39;t think solves the problem, because you still have to list properties in <code>fromIPerson</code>."}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "reply_to_user": {"reputation": 2221, "user_id": 3263519, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/a30868a12dbbc6de32f2a790ef8ec7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Hikmat G.", "link": "https://stackoverflow.com/users/3263519/hikmat-g"}, "edited": false, "score": 0, "creation_date": 1533151249, "post_id": 51639675, "comment_id": 90246074, "body": "@Hikmat G. I agree. However, I do like the concept of passing in the interface and letting the class new itself up and return that."}], "tags": [], "owner": {"reputation": 515, "user_id": 5469885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed99ece1a8fe696f9460c14043f0d09a?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Stiffler", "link": "https://stackoverflow.com/users/5469885/robert-stiffler"}, "is_accepted": false, "score": 3, "last_activity_date": 1533146745, "creation_date": 1533146745, "answer_id": 51639675, "question_id": 51639419, "link": "https://stackoverflow.com/questions/51639419/typescript-new-up-a-class-in-a-better-way/51639675#51639675", "title": "TypeScript - &#39;new up&#39; a class in a better way?", "body": "<p>Write a constructor that takes an <code>IPerson</code></p>\n\n<pre><code>interface IPerson {\n  firstName: string;\n  lastName: string;\n  fullName: string;\n}\n\nclass Person implements IPerson {\n  public firstName: string;\n  public lastName: string;\n  public fullName: string;\n  constructor(_firstName: string, _lastName: string) {\n    this.firstName = _firstName;\n    this.lastName = _lastName;\n    this.fullName = `${this.firstName} ${this.lastName}`;\n  }\n  public static fromIPerson(person: IPerson): Person {\n    return new Person(person.firstName, person.lastName);\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1533149539, "post_id": 51640106, "comment_id": 90245199, "body": "I definitely use a similar method when there are too many properties to list them one by one in the constructor. Instead of doing <code>Object.assign</code> I am just doing a <code>for in loop</code>. <code>Object.assign</code> looks 1,000 times more elegant than a loop."}, {"owner": {"reputation": 2221, "user_id": 3263519, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/a30868a12dbbc6de32f2a790ef8ec7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Hikmat G.", "link": "https://stackoverflow.com/users/3263519/hikmat-g"}, "reply_to_user": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1533149843, "post_id": 51640106, "comment_id": 90245345, "body": "so this isn&#39;t why you posted the question I think. am I right? You don&#39;t even wanna do <code>new Person(data)</code> manually every time yes?"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 1, "creation_date": 1533150768, "post_id": 51640106, "comment_id": 90245808, "body": "This is why I posted the question. The only thing I don&#39;t like about this solution is that if there are any &#39;extra&#39; properties that are found within data (which there usually are) then they get thrown into that model even though they aren&#39;t supposed to be there. But, generally speaking, this is the most attractive solution thus far. Example: <code>const p = new Person({firstName: &#39;frank&#39;, lastName:&#39;smith&#39;, someOtherProperty: 42});</code> // someOtherProperty will be a part of the object."}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1533153766, "post_id": 51640106, "comment_id": 90247309, "body": "Not a bad compromise. But, this would essentially mean that I would need to create a utils file so I can import that function into all my classes for usage."}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1533156153, "post_id": 51640106, "comment_id": 90248341, "body": "Nothing, really. It just kind of goes along with the other suggestions (some type of extra step to handle the <code>new Class(...)</code> part. I was hoping that there was some &#39;out of the box&#39; typescript feature I hadn&#39;t run across yet."}], "tags": [], "owner": {"reputation": 2221, "user_id": 3263519, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/a30868a12dbbc6de32f2a790ef8ec7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Hikmat G.", "link": "https://stackoverflow.com/users/3263519/hikmat-g"}, "is_accepted": false, "score": 2, "last_activity_date": 1533152978, "last_edit_date": 1533152978, "creation_date": 1533148375, "answer_id": 51640106, "question_id": 51639419, "link": "https://stackoverflow.com/questions/51639419/typescript-new-up-a-class-in-a-better-way/51640106#51640106", "title": "TypeScript - &#39;new up&#39; a class in a better way?", "body": "<p>You can use <code>Object.assign</code> in order not to list properties every time, but instead use data object itself. - <a href=\"https://stackblitz.com/edit/typescript-ym3h8z\" rel=\"nofollow noreferrer\">example</a></p>\n\n<p><strong>UPDATE:</strong>  declared a filter function to remove properties that not are not part of the class from source data. But there is drawback, that class properties have to have initial values in order them to appear in compiled javascript code. If they don't have initial values typescript class will be compiled empty, and there will no way of getting list of properties of typescript class in runtime.</p>\n\n<pre><code>function filter(obj, data) {\n  return Object.getOwnPropertyNames(obj).reduce((acc, k) =&gt; {\n    acc[k] = data[k];\n    return acc;\n  }, {})\n}\n\nclass Person implements IPerson {\n  public firstName: string = \"\";\n  public lastName: string = \"\";\n  public get fullName(): string {\n    return `${this.firstName} ${this.lastName}`;\n  }\n  constructor(data) {\n    Object.assign(this, filter(this, data))\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1533172380, "creation_date": 1533145805, "last_edit_date": 1533172380, "question_id": 51639419, "link": "https://stackoverflow.com/questions/51639419/typescript-new-up-a-class-in-a-better-way", "title": "TypeScript - &#39;new up&#39; a class in a better way?", "body": "<p>I have a ton of models that I have always been structuring like so:</p>\n\n<pre><code>interface IPerson {\n  firstName: string;\n  lastName: string;\n  fullName: string;\n}\n\nclass Person implements IPerson {\n  public firstName: string;\n  public lastName: string;\n  public fullName: string;\n  constructor(_firstName: string, _lastName: string) {\n    this.firstName = _firstName;\n    this.lastName = _lastName;\n    this.fullName = `${this.firstName} ${this.lastName}`;\n  }\n}\n</code></pre>\n\n<p>I then eventually call some api to return some json.</p>\n\n<p>Example Response:</p>\n\n<pre><code>{\n    \"data\": [\n    {\n      \u201cfirstName\u201d: \u201cJohn\u201d,\n      \u201clastName\u201d: \u201cDoe\u201d\n    },\n    {\n      \u201cfirstName\u201d: \u201cJane\u201d,\n      \u201clastName\u201d: \u201cDoe\u201d\n    }\n  ]\n}\n</code></pre>\n\n<p>After I get the response, I would then just 'new it up' by doing something simple like:</p>\n\n<p><code>return response.data.map( d =&gt; new Person(d.firstName, d.lastName));</code></p>\n\n<p>My question:</p>\n\n<p>I have some models that have quite a large set of properties and is seems extremely redundant to pass them in as parameters and bind them to the respective properties (at least that's what it feels like). Is there a more elegant way of doing this?</p>\n\n<p>I see a lot of things that are similar to the below examples, but none of them seems to actually 'new up' the object in the class so it behaves correctly (ie: concatenating firstName and lastName).</p>\n\n<p>Similar articles seems to mention something like this:</p>\n\n<pre><code>var modal: IModal = {\n    content: '',\n    form: '',\n    href: '',\n    $form: null,\n    $message: null,\n    $modal: null,\n    $submits: null\n};\n</code></pre>\n\n<p>other mention something along the lines of this:</p>\n\n<pre><code>modal: IModal = &lt;IModal&gt;{}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>var modal = {} as IModal \n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-ngselect"], "comments": [{"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1533145845, "post_id": 51639384, "comment_id": 90243250, "body": "You could try adding a debounce. There is an example here: <a href=\"https://angular.io/tutorial/toh-pt6#fix-the-herosearchcomponent-class\" rel=\"nofollow noreferrer\">angular.io/tutorial/toh-pt6#fix-the-herosearchcomponent-clas&zwnj;&#8203;s</a>"}, {"owner": {"reputation": 461, "user_id": 2551461, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6518487c72372d73940fc79a8386244e?s=128&d=identicon&r=PG", "display_name": "user", "link": "https://stackoverflow.com/users/2551461/user"}, "reply_to_user": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1533148881, "post_id": 51639384, "comment_id": 90244887, "body": "Already tried to add a delay, but nothing changed :("}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1533149799, "post_id": 51639384, "comment_id": 90245327, "body": "Consider building a stackblitz example of what you are trying to accomplish so we can better assist you."}], "answers": [{"tags": [], "owner": {"reputation": 469, "user_id": 10149820, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qiTUzDix29g/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ogHelhx3VThQj1ojDpHpa1le0g4w/mo/photo.jpg?sz=128", "display_name": "Diego Pedro", "link": "https://stackoverflow.com/users/10149820/diego-pedro"}, "is_accepted": false, "score": 2, "last_activity_date": 1533146123, "creation_date": 1533146123, "answer_id": 51639503, "question_id": 51639384, "link": "https://stackoverflow.com/questions/51639384/delays-in-displaying-search-results-using-ng-select/51639503#51639503", "title": "Delays in displaying search results using Ng-select", "body": "<p>Check the search example provided in the ng select repo (<a href=\"https://github.com/ng-select/ng-select/blob/master/demo/app/examples/search.component.ts\" rel=\"nofollow noreferrer\">https://github.com/ng-select/ng-select/blob/master/demo/app/examples/search.component.ts</a>) </p>\n\n<p>There you have the example using debounce and RxJS pipe.</p>\n"}], "owner": {"reputation": 461, "user_id": 2551461, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6518487c72372d73940fc79a8386244e?s=128&d=identicon&r=PG", "display_name": "user", "link": "https://stackoverflow.com/users/2551461/user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2994, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533146123, "creation_date": 1533145693, "question_id": 51639384, "link": "https://stackoverflow.com/questions/51639384/delays-in-displaying-search-results-using-ng-select", "title": "Delays in displaying search results using Ng-select", "body": "<p>I'm using the Ng-select component with a custom ajax search function on keyup event.</p>\n\n<p>Here's my code :</p>\n\n<pre><code>&lt;ng-select [items]=\"employes\"\n    bindLabel=\"displayName\"\n    [addTag]=\"false\"\n    [multiple]=\"true\"\n    [hideSelected]=\"true\"\n    labelForId=\"employesmultiselect\"\n    (keyup)=\"multiselectSearch($event)\"\n    [(ngModel)]=\"selectedEmploye\"\n    formControlName=\"multiselect\" name=\"multiselect\" id=\"multiselect\" &gt;\n&lt;/ng-select&gt;\n</code></pre>\n\n<p>And here's the search function :</p>\n\n<pre><code>multiselectSearch(event: any) {\n    const   employesmultiselect= ((document.getElementById(\"employesmultiselect\") as HTMLInputElement).value);\n    console.log(employesmultiselect);\n    if (event.keyCode !== 40 &amp;&amp; event.keyCode !== 38) {\n        if (employesmultiselect.length &gt; 2) {\n            this.employeService.getEmployes(employesmultiselect)\n            .subscribe(data =&gt; {\n                this.employes = &lt;IEmploye[]&gt;[];\n                this.employes = data;\n                console.log(employesmultiselect);\n            });\n        } else {\n            this.employes = &lt;IEmploye[]&gt;[];\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is when i type a text very fast, i don't get the expected results</p>\n\n<p>Example, if i type \"user\" fast, i get the results for \"use\", the results for use kind of overwrite the results for \"user\"</p>\n\n<p>Do you guys know how to fix this issue?</p>\n\n<p>Thanks a lot</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533145391, "post_id": 51639131, "comment_id": 90243001, "body": "&gt; it turns out TypeScript is <i>lying</i> about wanting a module called <code>org__napi-js</code>  Want to <a href=\"https://github.com/Microsoft/TypeScript/issues/\" rel=\"nofollow noreferrer\">file an issue</a> or shall I?"}, {"owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533146022, "post_id": 51639131, "comment_id": 90243335, "body": "@MattMcCutchen I was just typing one up actually, but then I found someone already created it: <a href=\"https://github.com/Microsoft/TypeScript/issues/23999\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/23999</a> Thanks for offering though!"}, {"owner": {"reputation": 1863, "user_id": 431522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a424e1b0ab3a8dee82c25ae0f0804107?s=128&d=identicon&r=PG", "display_name": "hendrikswan", "link": "https://stackoverflow.com/users/431522/hendrikswan"}, "edited": false, "score": 0, "creation_date": 1533636637, "post_id": 51639131, "comment_id": 90408615, "body": "@mpen, which version of TS are you using?"}, {"owner": {"reputation": 1863, "user_id": 431522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a424e1b0ab3a8dee82c25ae0f0804107?s=128&d=identicon&r=PG", "display_name": "hendrikswan", "link": "https://stackoverflow.com/users/431522/hendrikswan"}, "edited": false, "score": 0, "creation_date": 1533643837, "post_id": 51639131, "comment_id": 90413137, "body": "@mpen, how did you come to the conclusion that you have to add <code>paths</code> to your <code>tsconfig.json</code> file? I was under the impression that you should use <code>typeRoots</code>"}, {"owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "reply_to_user": {"reputation": 1863, "user_id": 431522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a424e1b0ab3a8dee82c25ae0f0804107?s=128&d=identicon&r=PG", "display_name": "hendrikswan", "link": "https://stackoverflow.com/users/431522/hendrikswan"}, "edited": false, "score": 0, "creation_date": 1533748554, "post_id": 51639131, "comment_id": 90464269, "body": "@hendrikswan I read somewhere that <code>typeRoots</code> was the old way of doing it and <code>paths</code> is the new hot thing. AFAICT, <code>typeRoots</code> means TS will try to load <i>everything</i> in those dirs, whereas <code>paths</code> is a little more specific, so I guess it&#39;s preferred?? Not sure. Just a noob here. Edit: <code>ts-node</code> <a href=\"https://github.com/TypeStrong/ts-node#help-my-types-are-missing\" rel=\"nofollow noreferrer\">says</a> to use <code>paths</code> for &quot;module definitions&quot; and <code>typeRoots</code> for global defs."}, {"owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "reply_to_user": {"reputation": 1863, "user_id": 431522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a424e1b0ab3a8dee82c25ae0f0804107?s=128&d=identicon&r=PG", "display_name": "hendrikswan", "link": "https://stackoverflow.com/users/431522/hendrikswan"}, "edited": false, "score": 0, "creation_date": 1533748947, "post_id": 51639131, "comment_id": 90464488, "body": "@hendrikswan I&#39;m using TypeScript 3.0.1"}, {"owner": {"reputation": 1863, "user_id": 431522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a424e1b0ab3a8dee82c25ae0f0804107?s=128&d=identicon&r=PG", "display_name": "hendrikswan", "link": "https://stackoverflow.com/users/431522/hendrikswan"}, "edited": false, "score": 0, "creation_date": 1533897406, "post_id": 51639131, "comment_id": 90526206, "body": "@mpen, thanks for letting me know! I managed to get our setup working using your approach in the end!"}], "tags": [], "owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "is_accepted": false, "score": 9, "last_activity_date": 1533144701, "creation_date": 1533144701, "answer_id": 51639131, "question_id": 51638818, "link": "https://stackoverflow.com/questions/51638818/how-to-properly-declare-a-module-ts7016/51639131#51639131", "title": "How to properly &quot;declare&quot; a module? (TS7016)", "body": "<p>OK, so through a lot of trial and error, it turns out TypeScript is <em>lying</em> about wanting a module called <code>org__napi-js</code>, what it <em>really</em> wants is <code>@org/napi-js</code>.</p>\n\n<p>And, if you're unfamiliar with how <code>paths</code> works as I was, TypeScript looks up the file as its needed based on the module name, so the paths <em>must match</em>, and that includes the <code>@org</code> directory.</p>\n\n<p>So, I was on the right track by updating my <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        ...\n        \"baseUrl\": \".\",\n        \"paths\": {\n            \"*\": [\"types/*\"]\n        }\n    },\n</code></pre>\n\n<p>That says look in the <code>types</code> dir for modules.</p>\n\n<p>Then create the module file, <code>types/@org/napi-js.d.ts</code>. All it needs is:</p>\n\n<pre><code>declare module '@org/napi-js';\n</code></pre>\n\n<p>Note how it <em>does</em> include the <code>@namespace/</code>.</p>\n\n<p>That's it. Your project should compile now.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10360803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7595dc4552687b3e76d4fa642a16c886?s=128&d=identicon&r=PG", "display_name": "rbokel", "link": "https://stackoverflow.com/users/10360803/rbokel"}, "is_accepted": false, "score": 3, "last_activity_date": 1536875027, "creation_date": 1536875027, "answer_id": 52322200, "question_id": 51638818, "link": "https://stackoverflow.com/questions/51638818/how-to-properly-declare-a-module-ts7016/52322200#52322200", "title": "How to properly &quot;declare&quot; a module? (TS7016)", "body": "<p>I had a similar problem with @google-cloud/some-lib and couldn't get it to work the way explained above. </p>\n\n<p>I ended up with a file in my src directory containing \"declare module '@google-cloud/some-lib';\" and no specific configuration, eg no paths or basePath configuration. The name of the file does not matter, as long as it ends .d.ts. </p>\n\n<p>Tested with Typescript 3.0.3 and 2.4.2</p>\n\n<p>Took me half day to fix. Thank you Typescript :)</p>\n"}, {"tags": [], "owner": {"reputation": 8353, "user_id": 91365, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b5b5e62e63d6bc80d4c3262426856ae?s=128&d=identicon&r=PG", "display_name": "Bryan Larsen", "link": "https://stackoverflow.com/users/91365/bryan-larsen"}, "is_accepted": false, "score": 13, "last_activity_date": 1563564154, "creation_date": 1563564154, "answer_id": 57118563, "question_id": 51638818, "link": "https://stackoverflow.com/questions/51638818/how-to-properly-declare-a-module-ts7016/57118563#57118563", "title": "How to properly &quot;declare&quot; a module? (TS7016)", "body": "<p>An alternative to creating an empty declaration is ts-ignore:</p>\n\n<pre><code>// @ts-ignore\nimport Napi from '@org/napi-js';\n</code></pre>\n"}], "owner": {"reputation": 235857, "user_id": 65387, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=128&d=identicon&r=PG", "display_name": "mpen", "link": "https://stackoverflow.com/users/65387/mpen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8422, "favorite_count": 4, "answer_count": 3, "score": 14, "last_activity_date": 1563564154, "creation_date": 1533143391, "question_id": 51638818, "link": "https://stackoverflow.com/questions/51638818/how-to-properly-declare-a-module-ts7016", "title": "How to properly &quot;declare&quot; a module? (TS7016)", "body": "<p>First, here's my <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"strict\": true,\n        \"importHelpers\": false,\n        \"inlineSources\": true,\n        \"noEmitOnError\": true,\n        \"pretty\": true,\n        \"module\": \"commonjs\",\n        \"noImplicitAny\": true,\n        \"suppressImplicitAnyIndexErrors\": false,\n        \"removeComments\": true,\n        \"preserveConstEnums\": false,\n        \"sourceMap\": true,\n        \"lib\": [\"es2017\",\"esnext.asynciterable\"],\n        \"skipLibCheck\": true,\n        \"outDir\": \"dist\",\n        \"target\": \"es2018\",\n        \"declaration\": true,\n        \"types\" : [\"node\"],\n        \"resolveJsonModule\": true,\n        \"esModuleInterop\": false\n    },\n    \"files\": [\n        \"src/DatabaseWrapper\"\n    ],\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n\n<p>Now I've tried to import a JavaScript library:</p>\n\n<pre><code> import Napi from '@org/napi-js';\n</code></pre>\n\n<p>And I get this error:</p>\n\n<blockquote>\n  <p>TS7016: Could not find a declaration file for module 'napi-js'. '/home/mpen/Projects/my-project/node_modules/@org/napi-js/dist/index.js' implicitly has an 'any' type.\n  Try <code>npm install @types/org__napi-js</code> if it exists or add a new declaration (.d.ts) file containing `declare module 'org__napi-js';</p>\n</blockquote>\n\n<p>The <code>@types/org__napi-js</code> doesn't exist, so that's no good. So how do I properly declare it?</p>\n\n<p>I've tried creating a file, <code>types/org__napi-js.d.ts'</code> with just this in it:</p>\n\n<pre><code>declare module 'org__napi-js';\n</code></pre>\n\n<p>And then I tried updating my <code>tsconfig.json</code> so it can find it:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        ...\n        \"baseUrl\": \"./\",\n        \"paths\": {\n            \"*\": [\"types/*\"]\n        }\n    },\n    ...\n</code></pre>\n\n<p>But that didn't help any.</p>\n\n<p>What am I supposed to do? Or, more explicitly:</p>\n\n<ol>\n<li>How do I tell TypeScript where to find my module?</li>\n<li>What's the minimum amount of code that needs to go in this module to just say the default export is <code>any</code>?</li>\n</ol>\n\n<p>I think I want to put all these stubs in <code>types/</code>, and my source in <code>src/</code> unless  there's some standard way to organize a TS project.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 0, "creation_date": 1533142898, "post_id": 51638569, "comment_id": 90241791, "body": "<code>.forEach</code> doesn&#39;t return an array in of itself, but it should return the <code>Map</code>&#39;s <code>value</code> which is an array.  I&#39;ve confirmed this outside of the render method by console.loging it."}, {"owner": {"reputation": 1358, "user_id": 3833591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dad967a2766e4c2d3e5c050912b0359?s=128&d=identicon&r=PG&f=1", "display_name": "jaredkwright", "link": "https://stackoverflow.com/users/3833591/jaredkwright"}, "reply_to_user": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 0, "creation_date": 1533143092, "post_id": 51638569, "comment_id": 90241895, "body": "If you check out the documentation of the <code>.forEach</code> method you will see that it returns <code>undefined</code>.  <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/forEach\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 1358, "user_id": 3833591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dad967a2766e4c2d3e5c050912b0359?s=128&d=identicon&r=PG&f=1", "display_name": "jaredkwright", "link": "https://stackoverflow.com/users/3833591/jaredkwright"}, "reply_to_user": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 0, "creation_date": 1533143488, "post_id": 51638569, "comment_id": 90242071, "body": "You can see this confirmed in this trivial example that I ran in the REPL. Notice when you check the value of <code>a</code> you get the Map, but when you check <code>b</code> you get nothing, i.e. undefined.  <a href=\"https://imgur.com/SjDtUIc\" rel=\"nofollow noreferrer\">imgur.com/SjDtUIc</a>"}, {"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 0, "creation_date": 1533149247, "post_id": 51638569, "comment_id": 90245056, "body": "Jared, your example is true.  When I do the `.forEach&#39; loop fore the render and console.log the variables, they have values.  JobsForDate logs as a array.  I&#39;ll update the question."}, {"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 1, "creation_date": 1533215064, "post_id": 51638569, "comment_id": 90272064, "body": "After more thought and playing with, I understand what you were saying.  While the array I need is avaible in the loop scope, the <code>.forEach</code> doesn&#39;t return anything to the <code>&lt;div&gt;</code> to display.  Thank you for your help."}], "tags": [], "owner": {"reputation": 1358, "user_id": 3833591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dad967a2766e4c2d3e5c050912b0359?s=128&d=identicon&r=PG&f=1", "display_name": "jaredkwright", "link": "https://stackoverflow.com/users/3833591/jaredkwright"}, "is_accepted": false, "score": 2, "last_activity_date": 1533142534, "last_edit_date": 1533142534, "creation_date": 1533142346, "answer_id": 51638569, "question_id": 51638508, "link": "https://stackoverflow.com/questions/51638508/looping-through-a-map-in-react/51638569#51638569", "title": "Looping through a Map in React", "body": "<p>All this warning is saying is that instead of using the syntax <code>function(jobsForDate, dateString) {}</code> you should use the syntax <code>(jobsForDate, dateString) =&gt; {}</code>.</p>\n\n<p>The reason could be the way <code>this</code> is scoped in arrow functions versus function expressions.  See <a href=\"https://stackoverflow.com/questions/34361379/arrow-function-vs-function-declaration-expressions-are-they-equivalent-exch\">this post.</a></p>\n\n<p>My guess as to the reason your first approach didn't work but your second one did is that <code>forEach</code> doesn't actually return an array, and if it did, calling <code>map</code> within <code>forEach</code> would return an array of arrays (but, again, it doesn't). Not sure how React would handle that, but React does know how to handle a single array, which is what your last approach returns.</p>\n"}, {"comments": [{"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 0, "creation_date": 1533217524, "post_id": 51642595, "comment_id": 90273875, "body": "I am fairly new to typescript/javascript development (I&#39;ve done 7 years of iOS) and I apologize, I don&#39;t completely understand the sample code you provided.  What are the <code>...</code>? And why is the <code>...dateJobMap.keys()</code> bracketed like that?  And I&#39;m not beholden to use <code>.forEach</code>, was just the first one I found."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 0, "creation_date": 1533218255, "post_id": 51642595, "comment_id": 90274454, "body": "As it&#39;s mentioned, it converts a map to an array. <code>dateJobMap.keys()</code> is <code>Map</code> method that returns <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol\" rel=\"nofollow noreferrer\">an iterable</a>, and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">... spread syntax</a> converts an iterable to an array when used with <code>[]</code> array literal.s"}, {"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 0, "creation_date": 1533219215, "post_id": 51642595, "comment_id": 90275127, "body": "Thanks for the links.  Much still to learn. I tried the block of code and I get an error; I updated the question. That&#39;s why I asked for clarification, I though it might have been shorthand for something I should already know."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 1, "creation_date": 1533219509, "post_id": 51642595, "comment_id": 90275345, "body": "I didn&#39;t notice typescript tag on the question. The problem is specific to TS. See <a href=\"https://stackoverflow.com/a/46605880/3731501\">stackoverflow.com/a/46605880/3731501</a> and <a href=\"https://stackoverflow.com/a/43964577/3731501\">stackoverflow.com/a/43964577/3731501</a> . You should either enable <code>downlevelIteration</code> compiler option or replace <code>[...dateJobMap.keys()]</code> with <code>Array.from(dateJobMap.keys())</code>."}, {"owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "edited": false, "score": 0, "creation_date": 1533219993, "post_id": 51642595, "comment_id": 90275679, "body": "Yep, that cleared the error.  I had to change it to <code>.values()</code> to get the array I needed.  The TruckJobComp is now being rendered!.  I think this is taking me in the right direction, thank you very much!"}, {"owner": {"reputation": 1070, "user_id": 4807443, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/pqVI8.jpg?s=128&g=1", "display_name": "shamila", "link": "https://stackoverflow.com/users/4807443/shamila"}, "edited": false, "score": 0, "creation_date": 1615637915, "post_id": 51642595, "comment_id": 117756155, "body": "saved my day!!!"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 11, "last_activity_date": 1533159424, "creation_date": 1533159424, "answer_id": 51642595, "question_id": 51638508, "link": "https://stackoverflow.com/questions/51638508/looping-through-a-map-in-react/51642595#51642595", "title": "Looping through a Map in React", "body": "<p><code>dateJobMap.forEach(...)</code> returns <code>undefined</code>, so it cannot be mapped to a collection of elements.</p>\n\n<p>ES6 maps have <code>forEach</code> method for compatibility purposes (generally <code>for..of</code> is preferred to iterate over iterables) and don't have <code>map</code> method. A map should be converted to array first, then it could be mapped to an element. Since values aren't used, only keys need to be retrieved:</p>\n\n<pre><code>  {\n    [...dateJobMap.keys()].map(jobsForDate =&gt;\n      jobsForDate.map(job =&gt; (\n        &lt;TruckJobComp job = { job } /&gt;\n      ))\n    )\n  }\n</code></pre>\n"}], "owner": {"reputation": 529, "user_id": 10059799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cc23dZ1Ab5k/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oWEL7CKcFcA34oiADuhpksVBLILw/mo/photo.jpg?sz=128", "display_name": "Holden1515", "link": "https://stackoverflow.com/users/10059799/holden1515"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17609, "favorite_count": 0, "accepted_answer_id": 51642595, "answer_count": 2, "score": 11, "last_activity_date": 1533219195, "creation_date": 1533142128, "last_edit_date": 1533219195, "question_id": 51638508, "link": "https://stackoverflow.com/questions/51638508/looping-through-a-map-in-react", "title": "Looping through a Map in React", "body": "<p>I have a <code>Map</code> object:</p>\n\n<pre><code>let dateJobMap = new Map();\n\nfor (let jobInArray of this.state.jobs) {\n  let deliveryDate: Date = new Date(jobInArray.DeliveryDate);\n  let deliveryDateString: string = deliveryDate.toLocaleDateString(\"en-US\");\n\n  if (dateJobMap.has(deliveryDateString)) {\n    let jobsForDate: IDeliveryJob[] = dateJobMap.get(deliveryDateString);\n    jobsForDate.push(jobInArray);\n  }\n  else {\n    let jobsForDate: IDeliveryJob[] = [jobInArray];\n    dateJobMap.set(deliveryDateString, jobsForDate);\n  }\n}\n</code></pre>\n\n<p>In my <code>render</code> method, I want to call a TruckJobComp object for each delivery job in the value's array to display it:</p>\n\n<pre><code>        &lt;div className={ styles.column }&gt;\n          &lt;p className={ styles.description }&gt;{escape(this.props.description)}&lt;/p&gt;\n\n          {\n            dateJobMap.forEach(function(jobsForDate, dateString) {\n              jobsForDate.map(job =&gt; (\n                &lt;TruckJobComp job = { job } /&gt;\n              ))\n            })\n          }\n        &lt;/div&gt;\n</code></pre>\n\n<p>This seems like it should work but doesn't.  It never creates a TruckJobComp.  I do a <code>.forEach</code> iteration on my <code>Map</code>, and for each <code>value</code>'s <code>array</code>, I use <code>.map</code> to get the individual job object to send to TruckJobComp object.</p>\n\n<p>When I create a temp <code>array</code> to grab the jobs from the last loop:</p>\n\n<pre><code>let tempJobs: IDeliveryJob[];\n</code></pre>\n\n<p>and in the loop add in: </p>\n\n<pre><code>  if (dateJobMap.has(deliveryDateString)) {\n    let jobsForDate: IDeliveryJob[] = dateJobMap.get(deliveryDateString);\n    jobsForDate.push(jobInArray);\n\n    tempJobs = jobsForDate;\n  }\n</code></pre>\n\n<p>and then use that <code>array</code> in the render:</p>\n\n<pre><code>          &lt;div className={ styles.column }&gt;\n            &lt;p className={ styles.description }&gt;{escape(this.props.description)}&lt;/p&gt;\n            {\n              tempJobs.map(job =&gt; (\n                &lt;TruckJobComp job = { job }/&gt;\n              ))\n            }\n          &lt;/div&gt;\n</code></pre>\n\n<p>It displays as expected.</p>\n\n<p>I do have a warnings in Visual Studio Code:</p>\n\n<pre><code>Warning - tslint - ...\\TruckDeliverySchedule.tsx(104,38): error no-function-expression: Use arrow function instead of function expression\n</code></pre>\n\n<p>I don't know enough to understand.  Line 104 corresponds with:</p>\n\n<pre><code>dateJobMap.forEach(function(jobsForDate, dateString) {\n</code></pre>\n\n<p>I am very new to this so I'm not 100% sure how most of this works.  Just trying to put pieces I've learned together to get things to work.</p>\n\n<p>Second Edit:</p>\n\n<p>\n    {escape(this.props.description)}</p></p>\n\n<pre><code>{\n  [...dateJobMap.keys()].map(jobsForDate =&gt; // line 154\n    jobsForDate.map(job =&gt; (\n      &lt;TruckJobComp job = { job } /&gt;\n    ))\n  )\n}\n</code></pre>\n\n<p></p>\n\n<p>Produces error:</p>\n\n<pre><code>[09:06:56] Error - typescript - src\\...\\TruckDeliverySchedule.tsx(154,27): error TS2461: Type 'IterableIterator&lt;any&gt;' is not an array type.\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "casting", "mean-stack"], "comments": [{"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1533141960, "post_id": 51638450, "comment_id": 90241297, "body": "Which version of Angular are you using?"}, {"owner": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "reply_to_user": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1533142095, "post_id": 51638450, "comment_id": 90241368, "body": "the version is 6."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "edited": false, "score": 0, "creation_date": 1533144652, "post_id": 51638528, "comment_id": 90242621, "body": "Thank you. I get this error:  &#39;Observable&lt;ISectors&gt;&#39; is not assignable to type &#39;Observable&lt;ISectors[]&gt;&#39;.   Type &#39;ISectors&#39; is not assignable to type &#39;ISectors[]&#39;.     Property &#39;includes&#39; is missing in type &#39;ISectors&#39;."}, {"owner": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "edited": false, "score": 0, "creation_date": 1533144920, "post_id": 51638528, "comment_id": 90242754, "body": "getProducts(): Observable&lt;ISectors[]&gt; {     return this.http.get&lt;ISectors[]&gt;(this.industrySectorsURL).pipe(       tap(data =&gt; console.log(&#39;All: &#39; + JSON.stringify(data))),       catchError(this.handleError)     );   }    getBySector(sector): Observable&lt;ISectors[]| undefined&gt; {     return this.getProducts().pipe(       map((products: ISectors[]) =&gt; products.find(p =&gt; p.sectors === sector))     );   }"}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "edited": false, "score": 0, "creation_date": 1533145677, "post_id": 51638528, "comment_id": 90243160, "body": "Code is just about impossible to read in comments. Please update the question instead where the code can be formatted. Or better yet, use stackblitz to create an example."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "edited": false, "score": 0, "creation_date": 1533145766, "post_id": 51638528, "comment_id": 90243208, "body": "And from what I can try to see ... looks like this one: <code>getBySector(sector): Observable&lt;ISectors[]| undefined&gt;</code> should <i>NOT</i> have the <code>[]</code>. In the <code>getBySelector</code> you only want to return one ... not the array."}, {"owner": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "edited": false, "score": 0, "creation_date": 1533196419, "post_id": 51638528, "comment_id": 90260145, "body": "yes true! It was a better idea to update the question.  thanks your replied made it work. but now I have another question. please see the updated question."}, {"owner": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "edited": false, "score": 0, "creation_date": 1533197368, "post_id": 51638528, "comment_id": 90260725, "body": "Could you please explian me what the &quot; | undefined&quot; does?"}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "edited": false, "score": 0, "creation_date": 1533222167, "post_id": 51638528, "comment_id": 90277158, "body": "It is a union. It basically means that the type is <code>ISectors</code> OR <code>undefined</code>. This is useful when using the find as the find will return undefined if it can&#39;t find it."}, {"owner": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "edited": false, "score": 0, "creation_date": 1533222784, "post_id": 51638528, "comment_id": 90277661, "body": "thanks @Deborah. can you please answer to the question I post in the updated question?"}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "edited": false, "score": 0, "creation_date": 1533231504, "post_id": 51638528, "comment_id": 90282247, "body": "Since that is a different question and may require looking at more/different code ... consider reposting as a new question."}], "tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 1, "last_activity_date": 1533142188, "creation_date": 1533142188, "answer_id": 51638528, "question_id": 51638450, "link": "https://stackoverflow.com/questions/51638450/reading-an-specific-key-from-json-using-service/51638528#51638528", "title": "Reading an specific key from JSON using Service", "body": "<p>Normally, your service should just be returning the Observable and should <em>not</em> include the subscribe. Best practice suggests that you subscribe as close to the UI as possible.</p>\n\n<p>My service methods look like this:</p>\n\n<pre><code>  getProducts(): Observable&lt;IProduct[]&gt; {\n    return this.http.get&lt;IProduct[]&gt;(this.productUrl).pipe(\n      tap(data =&gt; console.log('All: ' + JSON.stringify(data))),\n      catchError(this.handleError)\n    );\n  }\n\n  getProduct(id: number): Observable&lt;IProduct | undefined&gt; {\n    return this.getProducts().pipe(\n      map((products: IProduct[]) =&gt; products.find(p =&gt; p.productId === id))\n    );\n  }\n</code></pre>\n\n<p>Using the generic parameter on the get: <code>get&lt;IProduct[]&gt;</code> helps Angular automatically map the returned response to an array of data, ISectors in your example.</p>\n\n<p>The calling code in the component then looks like this:</p>\n\n<pre><code>  getProduct(id: number) {\n    this.productService.getProduct(id).subscribe(\n      product =&gt; this.product = product,\n      error =&gt; this.errorMessage = &lt;any&gt;error);\n  }\n</code></pre>\n\n<p>Notice that here is where we subscribe. It then gets the product in the first function passed to the subscribe method.</p>\n\n<p>You can find the complete example here: <a href=\"https://github.com/DeborahK/Angular-GettingStarted/tree/master/APM-Final\" rel=\"nofollow noreferrer\">https://github.com/DeborahK/Angular-GettingStarted/tree/master/APM-Final</a></p>\n"}], "owner": {"reputation": 83, "user_id": 3075338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02b9a4223be9f8d39217612a6ac67bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3075338", "link": "https://stackoverflow.com/users/3075338/user3075338"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533198746, "creation_date": 1533141889, "last_edit_date": 1533198746, "question_id": 51638450, "link": "https://stackoverflow.com/questions/51638450/reading-an-specific-key-from-json-using-service", "title": "Reading an specific key from JSON using Service", "body": "<p>I am new to all JavaScript and angular. so I am struggling to do the following:\nI have the following service, to read X from a local JSON file. The X is what user select from a dropdownbox:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   getBySector(sector){\r\n\r\n    this.http.get('../../assets/Sectors.json').map(res =&gt; res).subscribe\r\n    (res =&gt; {\r\n        this.SectorsArray = res as ISectors[];\t\r\n\r\n        this.SectorsArray= res.find(item=&gt;item.Sector===sector);\r\n\r\n         console.log(this.industrySectorsArray);\r\n         return this.industrySectorsArray;\r\n      },\r\n      (err: HttpErrorResponse) =&gt; {\r\n        console.log (err.message);\r\n      }\r\n    )\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>as an additional note, I have an interface which is ISector and matches the JSOn file.</p>\n\n<p>The above code give me in Console the exact thing I expect. which is the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{IndustrySector: \"Households\", isSelected: \"false\", dataSubjectCategories: Array(2), dataTypeCategories: \"Data\", SubIndustries: Array(2)}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>HOW can I return the above object/json output to ms TS file where I have called the service? \nI have done the followings which are failed:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> //even this failed:\r\n console.log(this.readjsonService.getBySector(mission));\r\n \r\n //\r\n var output:Isector;\r\n output=this.readjsonService.getBySector(mission)\r\n \r\n // cannot subscribe to it as well\r\n \r\n </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>BTW, the find gives me  the following error: \n error TS2339: Property 'find' does not exist on type 'Object'.</p>\n\n<p>UPDATE:</p>\n\n<p>I solved the issue the code had with the help of people who replied. But the code got another error, although it works fine. t says: </p>\n\n<p>\"Cannot read property 'dataSubjectCategories' of undefined\"</p>\n\n<p>dataSubjectCategories is one of the key in the ISector: here is the ISector: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>export interface ISectors {\r\n  IndustrySector: string;\r\n  isSelected: string;\r\n  dataSubjectCategories:string[];\r\n  dataTypeCategories:string[];\r\n  SubIndustries:[{\r\n    IndustrySector: string;\r\n    isSelected: string;\r\n    dataSubjectCategories:string[];\r\n    dataTypeCategories:string[];\r\n    SubIndustries:[{}]\r\n  }]\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Please help to resolve this. Thanks a lot.</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 843, "user_id": 5317860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfc19fc60fdbab096e5e62a66a08ab96?s=128&d=identicon&r=PG", "display_name": "Joshua Underwood", "link": "https://stackoverflow.com/users/5317860/joshua-underwood"}, "edited": false, "score": 0, "creation_date": 1533141977, "post_id": 51638428, "comment_id": 90241305, "body": "Are you using React 16?"}, {"owner": {"reputation": 51, "user_id": 9272809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed8218276a9b0db3217d1ae25f70cec?s=128&d=identicon&r=PG&f=1", "display_name": "om_kha", "link": "https://stackoverflow.com/users/9272809/om-kha"}, "reply_to_user": {"reputation": 843, "user_id": 5317860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfc19fc60fdbab096e5e62a66a08ab96?s=128&d=identicon&r=PG", "display_name": "Joshua Underwood", "link": "https://stackoverflow.com/users/5317860/joshua-underwood"}, "edited": false, "score": 0, "creation_date": 1533192459, "post_id": 51638428, "comment_id": 90257950, "body": "The project is build with React 16.4."}], "answers": [{"comments": [{"owner": {"reputation": 843, "user_id": 5317860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfc19fc60fdbab096e5e62a66a08ab96?s=128&d=identicon&r=PG", "display_name": "Joshua Underwood", "link": "https://stackoverflow.com/users/5317860/joshua-underwood"}, "edited": false, "score": 0, "creation_date": 1533142199, "post_id": 51638475, "comment_id": 90241430, "body": "You&#39;re assuming that the image data isn&#39;t loaded by the time the parent renders the child component. I think he&#39;s more or less assuming he has the data in his parent and it won&#39;t pass to the child component. if he&#39;s using React 16 the async nature of the render method is more likely the issue, componentWillMount is no longer safe for things like this. There&#39;s no guarantee the component will have props or context at this point."}, {"owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "reply_to_user": {"reputation": 843, "user_id": 5317860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfc19fc60fdbab096e5e62a66a08ab96?s=128&d=identicon&r=PG", "display_name": "Joshua Underwood", "link": "https://stackoverflow.com/users/5317860/joshua-underwood"}, "edited": false, "score": 0, "creation_date": 1533142304, "post_id": 51638475, "comment_id": 90241487, "body": "@JoshuaUnderwood <code>componentWillMount</code> is not the issue in this case, since <code>componentWillMount</code> only let you change state synchronously in earlier versions as well, not asynchronously."}], "tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": false, "score": 0, "last_activity_date": 1533142004, "creation_date": 1533142004, "answer_id": 51638475, "question_id": 51638428, "link": "https://stackoverflow.com/questions/51638428/pass-state-as-prop-to-child-component/51638475#51638475", "title": "Pass state as prop to child component", "body": "<p>Since your <code>loadData</code> function is asynchronous, <code>data.image</code> will be an empty string when the <code>Child</code> component is mounted.</p>\n\n<p>You could e.g. wait with the rendering of the <code>Child</code> component until the request has finished.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>class Parent extends Component&lt;Props&gt; {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      data: {\n        image: null\n      }\n    };\n  }\n\n  public componentDidMount() {\n    const dataProvider = new DataProvider(DataProvider.DBNAME);\n    dataProvider\n      .loadData(\"somedoc\")\n      .then((data: object) =&gt; this.setState({ data }));\n  }\n\n  public render() {\n    const { data }: any = this.stat;\n\n    if (data.image === null) {\n      return null;\n    }\n\n    return &lt;Child image={data.image} /&gt;;\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 9272809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed8218276a9b0db3217d1ae25f70cec?s=128&d=identicon&r=PG&f=1", "display_name": "om_kha", "link": "https://stackoverflow.com/users/9272809/om-kha"}, "is_accepted": false, "score": 2, "last_activity_date": 1533197097, "creation_date": 1533197097, "answer_id": 51648568, "question_id": 51638428, "link": "https://stackoverflow.com/questions/51638428/pass-state-as-prop-to-child-component/51648568#51648568", "title": "Pass state as prop to child component", "body": "<p>Thank you for helping. I solved my problem with the componentDidUpdate() method. As describe in the documentation <a href=\"https://developmentarc.gitbooks.io/react-indepth/content/life_cycle/update/postrender_with_componentdidupdate.html\" rel=\"nofollow noreferrer\">https://developmentarc.gitbooks.io/react-indepth/content/life_cycle/update/postrender_with_componentdidupdate.html</a></p>\n\n<p>For now my final solution:</p>\n\n<pre><code>componentDidUpdate() {\n    const imageName: string = this.props.imageName;\n    const dataProvider = new DataProvider(DataProvider.DBNAME);\n\n    dataProvider.loadImage('somedoc', imageName)\n        .then((response: any) =&gt; {\n            let {imageDataUrl}: any = this.state;\n            if (imageDataUrl !== response) {\n                imageDataUrl = response;\n                this.setState({imageDataUrl});\n            }\n        })\n        .catch((error: any) =&gt; console.log(error));\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 9272809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed8218276a9b0db3217d1ae25f70cec?s=128&d=identicon&r=PG&f=1", "display_name": "om_kha", "link": "https://stackoverflow.com/users/9272809/om-kha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1533197097, "creation_date": 1533141816, "question_id": 51638428, "link": "https://stackoverflow.com/questions/51638428/pass-state-as-prop-to-child-component", "title": "Pass state as prop to child component", "body": "<p>As the title says, how can I pass state data to a new component. I have a parent class that loads some data from an IndexedDb. </p>\n\n<p>I will pass the information of \"image\" as prop to my child component.</p>\n\n<pre><code>class Parent extends Component&lt;Props&gt; {\n\nconstructor(props: Props) {\n    super(props);\n\n    // map state to json structure\n    this.state = {\n        data: {\n          image: ''\n          [...]\n        };\n}\n\npublic componentWillMount() {\n    const dataProvider = new DataProvider(DataProvider.DBNAME);\n    dataProvider.loadData('somedoc')\n        .then((data: object) =&gt; this.setState({data}));\n}\n\npublic render() {\n    const {data}: any = this.stat\n    return (&lt;Child image={data.image} /&gt;);\n}}\n</code></pre>\n\n<p>In my child Component I will use the prop to make a new request for retrieving the image. The problem is that the prop in the componentWillMount method is empty.</p>\n\n<pre><code>interface IImageProps {\nimage: string;\n}\n\nClass Child extends Component&lt;IImageProps&gt; {\nconstructor(props: IImageProps) {\n    super(props);\n}\n\npublic componentWillMount() {\n    console.log(\"image\", this.props.image); // &lt;-- it's allways empty\n    // do some async stuff\n}\n\npublic render() {\n    console.log(\"image\", this.props.image); // &lt;-- the image information is shown\n}}\n</code></pre>\n\n<p>What did I miss, cause in the render methode I can use the prop? How do I pass the variables correctly?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 1, "creation_date": 1533141623, "post_id": 51638290, "comment_id": 90241098, "body": "can you add in your code stackblitz.com"}, {"owner": {"reputation": 4159, "user_id": 6052255, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/10153876441400115/picture?type=large", "display_name": "David Anthony Acosta", "link": "https://stackoverflow.com/users/6052255/david-anthony-acosta"}, "edited": false, "score": 2, "creation_date": 1533141817, "post_id": 51638290, "comment_id": 90241221, "body": "you should not be routing to AppComponent. That&#39;s already bootstrapped into the app."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 6092519, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ac41074de3902a73fde9d498966456d8?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Rehan Abdul Kadir", "link": "https://stackoverflow.com/users/6092519/mohammad-rehan-abdul-kadir"}, "edited": false, "score": 0, "creation_date": 1533143672, "post_id": 51638397, "comment_id": 90242162, "body": "Thanks for the explanation"}], "tags": [], "owner": {"reputation": 308, "user_id": 7380921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e2f7b8ee950926d12a7a929c662d6ef?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Lemes Caetano", "link": "https://stackoverflow.com/users/7380921/adrian-lemes-caetano"}, "is_accepted": false, "score": 3, "last_activity_date": 1533141713, "creation_date": 1533141713, "answer_id": 51638397, "question_id": 51638290, "link": "https://stackoverflow.com/questions/51638290/angular-routing-navigation-not-working-properly-appending-instead-of-replacing/51638397#51638397", "title": "Angular routing/navigation not working properly: Appending instead of replacing component", "body": "<p>Based on your routes, try to change your routerModule to: </p>\n\n<pre><code>RouterModule.forRoot([\n      { path: '', redirectTo: '/admin', pathMatch: 'full' },\n      { path: 'admin', component: AdminComponent }\n    ])\n</code></pre>\n\n<p>By the way, when you create a forRoot router, Angular looks for a <code>&lt;router-outlet&gt;</code> selector in your bootstrap component from your application (app.component.html usually). There's no need to specify your app.component with forRoot configuration!</p>\n"}, {"tags": [], "owner": {"reputation": 1350, "user_id": 7057736, "user_type": "registered", "profile_image": "https://graph.facebook.com/1152701018117340/picture?type=large", "display_name": "Malindu Sandaruwan", "link": "https://stackoverflow.com/users/7057736/malindu-sandaruwan"}, "is_accepted": true, "score": 8, "last_activity_date": 1533141834, "creation_date": 1533141834, "answer_id": 51638431, "question_id": 51638290, "link": "https://stackoverflow.com/questions/51638290/angular-routing-navigation-not-working-properly-appending-instead-of-replacing/51638431#51638431", "title": "Angular routing/navigation not working properly: Appending instead of replacing component", "body": "<p><strong>App.component</strong> is rendered and it's the container for all other components. So don't include it in routing,</p>\n\n<p>So what you have to do is copy your code from App.component and add that code to a new component (called <strong>home.component</strong>)</p>\n\n<p>Then configure routing as follows.</p>\n\n<pre><code>RouterModule.forRoot([\n  { path: '', component: HomeComponent},\n  { path: 'admin', component: AdminComponent }\n\n])\n</code></pre>\n\n<p>app.component.html</p>\n\n<pre><code>&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>home.component.html</p>\n\n<pre><code>...My custom html\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 6092519, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ac41074de3902a73fde9d498966456d8?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Rehan Abdul Kadir", "link": "https://stackoverflow.com/users/6092519/mohammad-rehan-abdul-kadir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2468, "favorite_count": 2, "accepted_answer_id": 51638431, "answer_count": 2, "score": 5, "last_activity_date": 1533141834, "creation_date": 1533141327, "last_edit_date": 1533141467, "question_id": 51638290, "link": "https://stackoverflow.com/questions/51638290/angular-routing-navigation-not-working-properly-appending-instead-of-replacing", "title": "Angular routing/navigation not working properly: Appending instead of replacing component", "body": "<p>This question has been asked before, \nbut none of the answers seems to help me.\nI can't route to different pages on angular, instead, it just appends at the end of my homepage the HTML of the desired component. Here is my code: </p>\n\n<p>app.module.ts</p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport { ToggleFullscreenDirectiveDirective } from './toggle-fullscreen-directive.directive';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AnnouncementsComponent } from './announcements/announcements.component';\nimport { AdminComponent } from './admin/admin.component';\nimport { RouterModule } from '@angular/router';\nimport { HomeComponent } from './home/home.component';\n\n\n\n\n    import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport { ToggleFullscreenDirectiveDirective } from './toggle-fullscreen-directive.directive';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AnnouncementsComponent } from './announcements/announcements.component';\nimport { AdminComponent } from './admin/admin.component';\nimport { RouterModule } from '@angular/router';\nimport { HomeComponent } from './home/home.component';\n\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ToggleFullscreenDirectiveDirective,\n    AnnouncementsComponent,\n    AdminComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    RouterModule.forRoot([\n      { path: '', component: AppComponent },\n      { path: 'admin', component: AdminComponent }\n\n    ])\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\n\n\n\n\n\nexport class AppModule { }\n</code></pre>\n\n<p>app.component.html</p>\n\n<pre><code>...My custom html\n&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code> &lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;Angular Bootstrap Demo&lt;/title&gt;\n  &lt;base href=\"/\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n  &lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;app-root&gt;Loading...&lt;/app-root&gt;\n  &lt;script src=\"https://code.jquery.com/jquery-3.1.1.min.js\" integrity=\"sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\" integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Based on other answers the problem might be with imports, \nI tried to remove some that I used on the code, like the toggle fullscreen, another possibility is that there might be a console error which I checked and there is no problem. can anyone help me? \nI am lost! </p>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript", "xpath", "css-selectors", "protractor", "angularjs-e2e"], "answers": [{"comments": [{"owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "reply_to_user": {"reputation": 340, "user_id": 4960834, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PZ_3OIp8t1Q/AAAAAAAAAAI/AAAAAAAACJE/SfKINQA3N4k/photo.jpg?sz=128", "display_name": "njosep", "link": "https://stackoverflow.com/users/4960834/njosep"}, "edited": false, "score": 0, "creation_date": 1533222715, "post_id": 51641563, "comment_id": 90277603, "body": "@njosep What are the error messages you are getting?"}], "tags": [], "owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "is_accepted": false, "score": 0, "last_activity_date": 1533154239, "creation_date": 1533154239, "answer_id": 51641563, "question_id": 51638075, "link": "https://stackoverflow.com/questions/51638075/protractor-select-values-from-drop-down-implemented-using-mat-select/51641563#51641563", "title": "protractor select values from drop down implemented using mat-select", "body": "<p><a href=\"https://www.protractortest.org/#/api?view=ProtractorBy.prototype.cssContainingText\" rel=\"nofollow noreferrer\">by.cssContainingText</a> is one solution. To get that element containing the text \"Delta\" you could do <code>element(by.cssContainingText('span','Delta'));</code></p>\n\n<p>Also, a similar QA (Not a dupe) might be useful to you: <a href=\"https://stackoverflow.com/questions/49194963/dropdown-select-by-visible-text/49196052#49196052\">dropdown select by visible text</a></p>\n"}, {"comments": [{"owner": {"reputation": 340, "user_id": 4960834, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PZ_3OIp8t1Q/AAAAAAAAAAI/AAAAAAAACJE/SfKINQA3N4k/photo.jpg?sz=128", "display_name": "njosep", "link": "https://stackoverflow.com/users/4960834/njosep"}, "edited": false, "score": 0, "creation_date": 1533203698, "post_id": 51644870, "comment_id": 90264596, "body": "That did not work. I found that the mat-options were written under another tag &#39;cdk-overlay container&#39;. I edited my question to add a screencap of the same. I&#39;m still having trouble figuring out how to select from the options"}], "tags": [], "owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "is_accepted": false, "score": 1, "last_activity_date": 1533216525, "last_edit_date": 1533216525, "creation_date": 1533178638, "answer_id": 51644870, "question_id": 51638075, "link": "https://stackoverflow.com/questions/51638075/protractor-select-values-from-drop-down-implemented-using-mat-select/51644870#51644870", "title": "protractor select values from drop down implemented using mat-select", "body": "<p>The HTML code of the options is outside the <code>mat-select</code> node. Don't find them within <code>mat-select</code> node.</p>\n\n<pre><code>// click the down arrow at right side to expand options\nelement(by.css('mat-select#mat-select-8 .mat-select-arrow-wrapper')).click();\n// choose desired option\nelement(by.xpath('//mat-option[.=\"Delta\"]')).click();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 340, "user_id": 4960834, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PZ_3OIp8t1Q/AAAAAAAAAAI/AAAAAAAACJE/SfKINQA3N4k/photo.jpg?sz=128", "display_name": "njosep", "link": "https://stackoverflow.com/users/4960834/njosep"}, "is_accepted": true, "score": 6, "last_activity_date": 1533305775, "creation_date": 1533305775, "answer_id": 51674611, "question_id": 51638075, "link": "https://stackoverflow.com/questions/51638075/protractor-select-values-from-drop-down-implemented-using-mat-select/51674611#51674611", "title": "protractor select values from drop down implemented using mat-select", "body": "<p>This is how I solved it. First I had to click the dorpdown and then another click for selecting the value.</p>\n\n<pre><code>element(by.tagName('mat-toolbar')).element(by.tagName('mat-select')).click();\n\nelement(by.cssContainingText('mat-option .mat-option-text', 'Delta')).click();\nbrowser.waitForAngular();\n</code></pre>\n\n<p>Thanks for your guidance guys. Appreciate it.</p>\n"}], "owner": {"reputation": 340, "user_id": 4960834, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PZ_3OIp8t1Q/AAAAAAAAAAI/AAAAAAAACJE/SfKINQA3N4k/photo.jpg?sz=128", "display_name": "njosep", "link": "https://stackoverflow.com/users/4960834/njosep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5244, "favorite_count": 1, "accepted_answer_id": 51674611, "answer_count": 3, "score": 2, "last_activity_date": 1533305775, "creation_date": 1533140511, "last_edit_date": 1533203777, "question_id": 51638075, "link": "https://stackoverflow.com/questions/51638075/protractor-select-values-from-drop-down-implemented-using-mat-select", "title": "protractor select values from drop down implemented using mat-select", "body": "<p>I am looking to write a protractor method that will select values from this drop down. The drop down holds 4 values, one of which is \"Delta\". How do I select values from this selector as this does not have any options tag I can use .</p>\n\n<p>I realized that the actual options are under another tag.How do I select the Options ? The below doesn't seem to work.</p>\n\n<p>element(by.cssContainingText('mat-select-panel mat-select-content .mat-option .mat-option-text', 'Fund'))\n            .click();</p>\n\n<p><a href=\"https://i.stack.imgur.com/hE4lg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hE4lg.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/NOrby.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NOrby.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "firebase", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 1789, "user_id": 2305594, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/645fec61ca4283ea470dbe0ea50f6567?s=128&d=identicon&r=PG", "display_name": "Joseph Webber", "link": "https://stackoverflow.com/users/2305594/joseph-webber"}, "edited": false, "score": 0, "creation_date": 1533139257, "post_id": 51637277, "comment_id": 90239757, "body": "If your code works and you&#39;re just asking for ways to make it more efficient, I recommend asking this on the <a href=\"https://codereview.stackexchange.com/\">Code Review Stack Exchange</a>."}], "answers": [{"tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": false, "score": 0, "last_activity_date": 1533138614, "last_edit_date": 1533138614, "creation_date": 1533138224, "answer_id": 51637427, "question_id": 51637277, "link": "https://stackoverflow.com/questions/51637277/check-if-a-field-has-been-modified-with-angular-6-and-firestore/51637427#51637427", "title": "Check if a field has been modified with angular 6 and firestore", "body": "<p>You can loop through each form controls and check if they are <code>dirty</code> (modified).</p>\n\n<pre><code>Object.keys(f.controls).forEach((key: string) =&gt; {\n        if (f.get(key).dirty) {\n            this.user[key] = f.get(key).value\n        }\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1557, "user_id": 5525626, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-RF4TSKzcySA/AAAAAAAAAAI/AAAAAAAAFW8/-HFaTbpKlr8/photo.jpg?sz=128", "display_name": "G B", "link": "https://stackoverflow.com/users/5525626/g-b"}, "edited": false, "score": 0, "creation_date": 1533144645, "post_id": 51638684, "comment_id": 90242616, "body": "Will test this looks promising :)"}], "tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 0, "last_activity_date": 1533142821, "creation_date": 1533142821, "answer_id": 51638684, "question_id": 51637277, "link": "https://stackoverflow.com/questions/51637277/check-if-a-field-has-been-modified-with-angular-6-and-firestore/51638684#51638684", "title": "Check if a field has been modified with angular 6 and firestore", "body": "<p>I keep a copy of the original object and then do this:</p>\n\n<pre><code>get isDirty(): boolean {\n    return JSON.stringify(this.originalProduct) !== JSON.stringify(this.currentProduct);\n}\n</code></pre>\n\n<p>I <code>stringify</code> the copy of the original product (before edits) and the current product and compare them. I assume if they are not equal that something changed.</p>\n\n<p>There are some caveats to this approach, especially if your object structure is complex as there <em>may</em> be cases that stringify does not create the strings exactly the same. But I have not run into this case.</p>\n"}], "owner": {"reputation": 1557, "user_id": 5525626, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-RF4TSKzcySA/AAAAAAAAAAI/AAAAAAAAFW8/-HFaTbpKlr8/photo.jpg?sz=128", "display_name": "G B", "link": "https://stackoverflow.com/users/5525626/g-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1533147076, "creation_date": 1533137736, "last_edit_date": 1533147076, "question_id": 51637277, "link": "https://stackoverflow.com/questions/51637277/check-if-a-field-has-been-modified-with-angular-6-and-firestore", "title": "Check if a field has been modified with angular 6 and firestore", "body": "<p>I have a form for editing a user details, where it should check if the user has make modification if not then don't make changes.\nCurrently am using <code>if</code> to check which is working but I still feel is not effective way for this, because I have multiple fields which have to check each of them which makes the code repetitive and huge.</p>\n\n<pre><code>    if (f.value.first_name) {\n        this.user.firstName = f.value.first_name;\n    }\n</code></pre>\n\n<p>I have tried using elvis operator but it's not working for me </p>\n\n<pre><code>this.user.firstName ?  this.user.firstName :f.value.first_name;\n</code></pre>\n\n<p>Is there any other effective way to do this?</p>\n"}, {"tags": ["typescript", "form-data"], "comments": [{"owner": {"reputation": 6075, "user_id": 7611062, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/jgqAm.png?s=128&g=1", "display_name": "treyBake", "link": "https://stackoverflow.com/users/7611062/treybake"}, "edited": false, "score": 0, "creation_date": 1533137665, "post_id": 51637220, "comment_id": 90238797, "body": "how are you getting undefined? where&#39;s params defined? how are you calling the data? are you trying via console.log?"}, {"owner": {"reputation": 9554, "user_id": 634120, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/1Vabi.jpg?s=128&g=1", "display_name": "martincarlin87", "link": "https://stackoverflow.com/users/634120/martincarlin87"}, "edited": false, "score": 3, "creation_date": 1533137772, "post_id": 51637220, "comment_id": 90238875, "body": "you are using <code>const formData</code>, so you wouldn&#39;t be able to append anything to it, try changing it to <code>let formData</code>. Not sure what that syntax is unless it&#39;s something I&#39;ve not came across in JS, I&#39;d write it as <code>let formData = new FormData();</code>"}, {"owner": {"reputation": 15626, "user_id": 434742, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NWjwe.jpg?s=128&g=1", "display_name": "Kriszti&#225;n Balla", "link": "https://stackoverflow.com/users/434742/kriszti%c3%a1n-balla"}, "reply_to_user": {"reputation": 9554, "user_id": 634120, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/1Vabi.jpg?s=128&g=1", "display_name": "martincarlin87", "link": "https://stackoverflow.com/users/634120/martincarlin87"}, "edited": false, "score": 1, "creation_date": 1533137977, "post_id": 51637220, "comment_id": 90239003, "body": "@martincarlin87 That&#39;s not right. <code>const</code> only means that you cannot assign anything new to the variable. You do however can change its properties and call its methods to do so."}, {"owner": {"reputation": 65, "user_id": 8433367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156b3b993c8c8153cba2b707a5084cb0?s=128&d=identicon&r=PG&f=1", "display_name": "N.Bar", "link": "https://stackoverflow.com/users/8433367/n-bar"}, "edited": false, "score": 0, "creation_date": 1533138041, "post_id": 51637220, "comment_id": 90239048, "body": "i tried to change it from const to let, but still the result are same"}, {"owner": {"reputation": 65, "user_id": 8433367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156b3b993c8c8153cba2b707a5084cb0?s=128&d=identicon&r=PG&f=1", "display_name": "N.Bar", "link": "https://stackoverflow.com/users/8433367/n-bar"}, "reply_to_user": {"reputation": 15626, "user_id": 434742, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NWjwe.jpg?s=128&g=1", "display_name": "Kriszti&#225;n Balla", "link": "https://stackoverflow.com/users/434742/kriszti%c3%a1n-balla"}, "edited": false, "score": 0, "creation_date": 1533138523, "post_id": 51637220, "comment_id": 90239339, "body": "@JennyO&#39;Reilly, Typescript, I removed the : FormData, nothing changed"}, {"owner": {"reputation": 15626, "user_id": 434742, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NWjwe.jpg?s=128&g=1", "display_name": "Kriszti&#225;n Balla", "link": "https://stackoverflow.com/users/434742/kriszti%c3%a1n-balla"}, "edited": false, "score": 0, "creation_date": 1533139639, "post_id": 51637220, "comment_id": 90239951, "body": "@N.Bar: Ok, you can keep the <code>: FormData</code> then. It is not necessary however."}], "answers": [{"tags": [], "owner": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "is_accepted": false, "score": 1, "last_activity_date": 1533148004, "last_edit_date": 1533148004, "creation_date": 1533138418, "answer_id": 51637481, "question_id": 51637220, "link": "https://stackoverflow.com/questions/51637220/why-is-my-formdata-object-always-empty/51637481#51637481", "title": "Why is my FormData object always empty?", "body": "<p><strike>You're declaring the formData object incorrectly</strike> (edit: for javascript. The question wasn't originally tagged with typescript, which I'm not familiar enough with)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const params={'code': 'h1'}\r\nconst formData = new FormData()\r\nformData.append('parameters', JSON.stringify(params))\r\n// confirm:\r\nconsole.log(formData.get('parameters'))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>...but in case you're trying to set multiple parameters on formData, instead of just one named \"parameters\", you might want to be doing this instead:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const params={\r\n  'code': 'h1',\r\n  'foo': 'bar'\r\n}\r\n\r\nconst formData = new FormData()\r\nObject.keys(params).forEach((k) =&gt; {\r\n  formData.append(k, params[k])\r\n})\r\n\r\n// confirm:\r\nconsole.log(formData.get('code'))\r\nconsole.log(formData.get('foo'))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15626, "user_id": 434742, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NWjwe.jpg?s=128&g=1", "display_name": "Kriszti&#225;n Balla", "link": "https://stackoverflow.com/users/434742/kriszti%c3%a1n-balla"}, "is_accepted": false, "score": 4, "last_activity_date": 1533139307, "last_edit_date": 1533139307, "creation_date": 1533138723, "answer_id": 51637571, "question_id": 51637220, "link": "https://stackoverflow.com/questions/51637220/why-is-my-formdata-object-always-empty/51637571#51637571", "title": "Why is my FormData object always empty?", "body": "<p>Your <code>FormData</code> object is actually not empty. The way you are trying to access the data after appending it, is wrong.</p>\n\n<p>For me the following works:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const params = {'code': 'h1'}\r\nconst formData = new FormData();\r\nformData.append('parameters', JSON.stringify(params));\r\n\r\nfor (const entry of formData.entries())\r\n{\r\n    document.write(entry);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Side notes:</p>\n\n<ul>\n<li>As <code>formData.entries()</code> returns an <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData/entries\" rel=\"nofollow noreferrer\">interator object</a>, there is no <code>length</code> property.</li>\n<li>There is also no indexer <code>[]</code> defined. So you need to retrieve values using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData/get\" rel=\"nofollow noreferrer\">get() method</a> as shown by Daniel Beck in his answer.</li>\n</ul>\n"}], "owner": {"reputation": 65, "user_id": 8433367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/156b3b993c8c8153cba2b707a5084cb0?s=128&d=identicon&r=PG&f=1", "display_name": "N.Bar", "link": "https://stackoverflow.com/users/8433367/n-bar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5918, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1533148004, "creation_date": 1533137563, "last_edit_date": 1533139077, "question_id": 51637220, "link": "https://stackoverflow.com/questions/51637220/why-is-my-formdata-object-always-empty", "title": "Why is my FormData object always empty?", "body": "<p>I'm trying to add some data to formData like this:</p>\n\n<pre><code>params = {'code': 'h1'}\nconst formData: FormData = new FormData();\nformData.append('parameters', JSON.stringify(params));\n</code></pre>\n\n<p>When I try to get the data from the formData like this: <code>formData['parameters']</code> it returns <code>undefined</code>\nand <code>formData.entries.length</code> is <code>0</code>.\nI looked at some sites and saw that this is the way to do that.\nWhat am I doing wrong?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1533139720, "post_id": 51637832, "comment_id": 90239993, "body": "Please, don&#39;t forget to mark this answer as solution if it solved your problem or answered your question. Thanks in advance!"}, {"owner": {"reputation": 25, "user_id": 3941899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f0e4fd3eae19b4967e7d0d41005bea5?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Secrist", "link": "https://stackoverflow.com/users/3941899/nathan-secrist"}, "edited": false, "score": 0, "creation_date": 1533140407, "post_id": 51637832, "comment_id": 90240398, "body": "I was actually sort of on this path while I was waiting for a reply. So can I run the sinWave function in a loop of some sort (this I am still confused on) and have it use the set functions to add the new points to the arrays?  Upon further thought.. perhaps I need to generate the sine wave in another component that communicates to the plotter and has the mock-data.service injected in it?"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 25, "user_id": 3941899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f0e4fd3eae19b4967e7d0d41005bea5?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Secrist", "link": "https://stackoverflow.com/users/3941899/nathan-secrist"}, "edited": false, "score": 0, "creation_date": 1533142789, "post_id": 51637832, "comment_id": 90241740, "body": "Here you go. I updated the answer. Please have a look at the <code>timer</code> I added. The current configuration says, that it starts after 1 second and calls <code>sinWave()</code>. Then this call gets repeated every 10 seconds until <code>ngOnDestroy()</code> gets called. The whole mechanism is started in <code>ngOnInit()</code> via <code>this.startPolling();</code>. --- To your second question: Inside the service you don&#39;t have to use the setter. You can directly use <code>multi.next()</code> or <code>single.next()</code>. -- Hope this helps."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 25, "user_id": 3941899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f0e4fd3eae19b4967e7d0d41005bea5?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Secrist", "link": "https://stackoverflow.com/users/3941899/nathan-secrist"}, "edited": false, "score": 0, "creation_date": 1533143685, "post_id": 51637832, "comment_id": 90242166, "body": "PS: The question who sets the values can only be answered by yourself as I don\u2018t know where you get them from. Theoretically, the mockservice can generate them itself. Or another service that is responsible for those values injects the mockserice and set the values as soon as they are generated. All possible. You have to find out what fits best to your needs."}, {"owner": {"reputation": 25, "user_id": 3941899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f0e4fd3eae19b4967e7d0d41005bea5?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Secrist", "link": "https://stackoverflow.com/users/3941899/nathan-secrist"}, "edited": false, "score": 0, "creation_date": 1533148541, "post_id": 51637832, "comment_id": 90244720, "body": "I think you&#39;ve helped me understand what I was trying to accomplish here. I&#39;ll give it a go. Thanks for your help!"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 25, "user_id": 3941899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f0e4fd3eae19b4967e7d0d41005bea5?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Secrist", "link": "https://stackoverflow.com/users/3941899/nathan-secrist"}, "edited": false, "score": 0, "creation_date": 1533151443, "post_id": 51637832, "comment_id": 90246183, "body": "You&#39;re welcome. Glad to hear that my support was useful."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 1, "last_activity_date": 1533142461, "last_edit_date": 1533142461, "creation_date": 1533139668, "answer_id": 51637832, "question_id": 51637205, "link": "https://stackoverflow.com/questions/51637205/can-you-generate-sine-wave-data-continuously-from-an-angular-service-and-inject/51637832#51637832", "title": "Can you generate sine wave data continuously from an Angular service and inject it into a component?", "body": "<p>The best way is to put your arrays in a Subject or BehaviorSubject. Then return this as an Observable and subscribe to it. As soon as you now change the value of one of them by using the setter in the service, your component's copy of the arrays gets automatically updated.</p>\n\n<p><strong>plotter.component.ts:</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { MockDataService } from '../../services/mock-data/mock-data.service';\nimport { timer, Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-plotter',\n  templateUrl: './plotter.component.html',\n  styleUrls: ['./plotter.component.css']\n})\nexport class PlotterComponent implements OnInit {\n  /*\n   timer takes a second argument, how often to emit subsequent values\n   in this case it will call the method for the first time after 1 second and\n   subsequent calls follow every 10 seconds after\n  */\n  const source = timer(1000, 10000);\n  let subscription: Subscription;\n\n  single: any[];\n  multi: any[];\n\n  pAmplitude: number = 0;\n  pFrequency: number = 0;\n\n  // rt needs to be an immutable object array\n  // rt needs to be updated with data from MockDataService\n  rt: any[];\n\n  view: any[] = [700, 400];\n\n  // options\n  showXAxis = true;\n  showYAxis = true;\n  gradient = false;\n  showLegend = true;\n  showXAxisLabel = true;\n  xAxisLabel = 'Country';\n  showYAxisLabel = true;\n  yAxisLabel = 'Population';\n\n  colorScheme = {\n    domain: ['#5AA454', '#A10A28', '#C7B42C', '#AAAAAA']\n  };\n\n  // line, area\n  autoScale = true;\n\n  constructor(private mockDataService: MockDataService) { }\n\n  ngOnInit() {\n      this.mockDataService.getSingle().subscribe( data =&gt; {\n          this.single = data;\n      });\n\n      this.mockDataService.getMulti().subscribe( data =&gt; {\n          this.multi = data;\n      });\n\n      this.startPolling();\n  }\n\n  ngOnDestroy(): {\n      this.subscription.unsubscribe();\n  }\n\n  startPolling(): void {\n      this.subscription = source.subscribe(\n          () =&gt; {\n                  // increase the value of both variables then\n                  // call the method in the service and hand in the variables\n                  this.pFrequency += 12;\n                  this.pAmplitude += 24;\n                  this.mockDataService.sineWave(this.pAmplitude, this.pFrequency); \n                }\n      );\n  }\n\n  onSelect(event) {\n    console.log(event);\n  }\n\n}\n</code></pre>\n\n<p><strong>mock-data.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { single, multi } from '../../mock-data/plot-data';\nimport { Observable, BehaviorSubject, } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MockDataService {\n\n  private single: BehaviorSubject&lt;any[]&gt; = new BehaviorSubject([]);\n  private multi: BehaviorSubject&lt;any[]&gt; = new BehaviorSubject([]);\n\n  constructor() { \n  }\n\n  getSingle(): Observable&lt;any[]&gt; {\n    return single.asObservable();\n  }\n\n  setSingle(data: any[]): void {\n      this.single.next(data);\n  }\n\n  getMulti(): Observable&lt;any[]&gt; {\n    return multi.asObservable();\n  }\n\n  setMulti(data: any[]): void {\n      this.multi.next(data);\n  }\n\n  // Generate sine wave data here\n  sineWave(pAmplitude, pFrequency) {\n      console.log('set new pAmplitude: ', pAmplitude);\n      console.log('set new pFrequency: ', pFrequency);\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 3941899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f0e4fd3eae19b4967e7d0d41005bea5?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Secrist", "link": "https://stackoverflow.com/users/3941899/nathan-secrist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 51637832, "answer_count": 1, "score": 0, "last_activity_date": 1533142461, "creation_date": 1533137530, "last_edit_date": 1533137961, "question_id": 51637205, "link": "https://stackoverflow.com/questions/51637205/can-you-generate-sine-wave-data-continuously-from-an-angular-service-and-inject", "title": "Can you generate sine wave data continuously from an Angular service and inject it into a component?", "body": "<p>I have a component which has an injected service to retrieve static mock data. I would like to add the ability to generate data at a variable frequency and send the new (appended, time series) data to the component as it is generated.</p>\n\n<p>I can't for the life of me figure out how to accomplish this.</p>\n\n<p>All I know for sure is that the data object for the component must be immutable.</p>\n\n<p>Any points in the right direction would be appreciated. I thought maybe I needed a service worker at one point, but that seem's a bit overkill for a mock up. Eventually, this service will actually use streams to connect to a data source over the internet, but until that day I want to be able to pretend as if there is a stream of data coming from the service to the component for UI development/prototyping.</p>\n\n<p><strong>plotter.component.ts:</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\nimport { MockDataService } from '../../services/mock-data/mock-data.service';\n\n@Component({\n  selector: 'app-plotter',\n  templateUrl: './plotter.component.html',\n  styleUrls: ['./plotter.component.css']\n})\nexport class PlotterComponent implements OnInit {\n\n  single: any[];\n  multi: any[];\n\n  // rt needs to be an immutable object array\n  // rt needs to be updated with data from MockDataService\n  rt: any[];\n\n  view: any[] = [700, 400];\n\n  // options\n  showXAxis = true;\n  showYAxis = true;\n  gradient = false;\n  showLegend = true;\n  showXAxisLabel = true;\n  xAxisLabel = 'Country';\n  showYAxisLabel = true;\n  yAxisLabel = 'Population';\n\n  colorScheme = {\n    domain: ['#5AA454', '#A10A28', '#C7B42C', '#AAAAAA']\n  };\n\n  // line, area\n  autoScale = true;\n\n  constructor(private mockDataService: MockDataService) {\n    // Object.assign(this, { single, multi });\n    this.single = mockDataService.getSingle();\n    this.multi = mockDataService.getMulti();\n  }\n\n  ngOnInit() {\n\n  }\n\n  onSelect(event) {\n    console.log(event);\n  }\n\n}\n</code></pre>\n\n<p><strong>mock-data.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { single, multi } from '../../mock-data/plot-data';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MockDataService {\n\n  constructor() { }\n\n  getSingle() {\n    return single;\n  }\n\n  getMulti() {\n    return multi;\n  }\n\n  // Generate sine wave data here\n  sineWave(pAmplitude, pFrequency) {\n\n  }\n\n}\n</code></pre>\n"}, {"tags": ["angular", "api", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1533136866, "post_id": 51636953, "comment_id": 90238264, "body": "You never <code>.subscribe</code> to the observable, so the request isn&#39;t triggered."}], "answers": [{"tags": [], "owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "is_accepted": true, "score": 1, "last_activity_date": 1533136960, "creation_date": 1533136960, "answer_id": 51637024, "question_id": 51636953, "link": "https://stackoverflow.com/questions/51636953/angular-6-chained-api-calls-not-being-fired/51637024#51637024", "title": "Angular 6 - Chained API calls not being fired", "body": "<p>Insteed of </p>\n\n<pre><code>  tap(val =&gt; this.authenticate(val.code)),\n</code></pre>\n\n<p>try</p>\n\n<pre><code> switchMap(val =&gt; this.authenticate(val.code)),\n</code></pre>\n"}], "owner": {"reputation": 3601, "user_id": 5490695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fada82ffbcaa4c7a79462b54dff85633?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5490695/nicolas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 51637024, "answer_count": 1, "score": 0, "last_activity_date": 1533136960, "creation_date": 1533136765, "question_id": 51636953, "link": "https://stackoverflow.com/questions/51636953/angular-6-chained-api-calls-not-being-fired", "title": "Angular 6 - Chained API calls not being fired", "body": "<p>I'm trying to create an authentication system, it works in 2 parts.</p>\n\n<p>First I need to do call with the username and password, if this is valid it returns a code.</p>\n\n<p>This code is used to check if it's valid, and if it is, the user i authenticated.</p>\n\n<p>This call should gets the code:</p>\n\n<pre><code>  requestAuthCode(request: models.AuthenticationRequest): Observable&lt;any&gt; {\n    return this.httpClient\n      .get&lt;any&gt;(environment.auth.authorize, {\n        headers: headers,\n        params: params\n      })\n      .pipe(\n        tap(val =&gt; this.authenticate(val.code)),\n        catchError(error =&gt; this.handleError(error))\n      );\n  }\n</code></pre>\n\n<p>This call checks if a code is valid and authenticates the user</p>\n\n<pre><code>  authenticate(code: string): Observable&lt;any&gt; {\n    return this.httpClient\n      .post&lt;models.AuthenticationTokenResponse&gt;(\n        environment.auth.token,\n        null,\n        {\n          headers: headers,\n          params: params\n        }\n      )\n      .pipe(\n        tap(data =&gt; this.setSession(data)),\n        catchError(error =&gt; this.handleError(error))\n      );\n  }\n</code></pre>\n\n<p><strong>The Goal</strong></p>\n\n<p>If <code>requestAuthCode</code> gets a code in it's response, I want it to start the <code>authenticate</code> call, else it has to return an error.</p>\n\n<p>However when I use</p>\n\n<pre><code>this.authService.requestAuthCode(request)\n        .subscribe(\n          data =&gt;  {\n            console.log(data);\n          }\n</code></pre>\n\n<p>I just get the response data from my <code>requestAuthCode</code> and not from the chained <code>authenticate</code> call. I can also see that <code>authenticate</code> is not being triggerd.</p>\n\n<p>How can I achieve that <code>requestAuthCode</code> triggers <code>authenticate</code> and returns that data to my component?</p>\n"}, {"tags": ["typescript", "automation", "automated-tests", "cypress"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 2264805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6629.jpg?s=128&g=1", "display_name": "Vilius", "link": "https://stackoverflow.com/users/2264805/vilius"}, "edited": false, "score": 0, "creation_date": 1533199756, "post_id": 51636590, "comment_id": 90262109, "body": "Thanks for help. :)"}], "tags": [], "owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "is_accepted": true, "score": 1, "last_activity_date": 1533135657, "creation_date": 1533135657, "answer_id": 51636590, "question_id": 51636512, "link": "https://stackoverflow.com/questions/51636512/cypresstypescript-import-class/51636590#51636590", "title": "Cypress+TypeScript. Import class", "body": "<p>One issue I can see, is that stuff in your <code>LogIn</code> class should be in a method not in the classes body:</p>\n\n<pre><code>export class LogIn {\n    logIn() {\n        //Launch app: http://localhost:6400/\n        cy.visit('localhost:6400')\n        //Press on menu item.\n        cy.get('.navbar-burger').click()\n        //Press \"Client\" menu item near \"Login As:\".\n        cy.get('#navbarMenu a').contains(\"Client\").click()\n        //TODO\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 2264805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6629.jpg?s=128&g=1", "display_name": "Vilius", "link": "https://stackoverflow.com/users/2264805/vilius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1381, "favorite_count": 0, "accepted_answer_id": 51636590, "answer_count": 1, "score": 0, "last_activity_date": 1586049469, "creation_date": 1533135429, "last_edit_date": 1592644375, "question_id": 51636512, "link": "https://stackoverflow.com/questions/51636512/cypresstypescript-import-class", "title": "Cypress+TypeScript. Import class", "body": "<p>I am using Cypress.io + TypeScript for test automation and trying to do simple stuff. Import class from one file to another, that code do not repeat.</p>\n<p>p.s. I have tried few solutions from stack overflow. It does not helped me.</p>\n<p><strong>Files</strong>:\n<a href=\"https://i.stack.imgur.com/DViH7.png\" rel=\"nofollow noreferrer\">File System</a></p>\n<p><strong>Code</strong>:</p>\n<p>loginPage.ts</p>\n<pre><code>export class LogIn {\n    //Launch app: http://localhost:6400/\n    cy.visit('localhost:6400')\n    //Press on menu item.\n    cy.get('.navbar-burger').click()\n    //Press &quot;Client&quot; menu item near &quot;Login As:&quot;.\n    cy.get('#navbarMenu a').contains(&quot;Client&quot;).click()\n    //TODO\n    }\n</code></pre>\n<p>and client_NewJob.ts</p>\n<pre><code>import { LogIn } from '../helpers/loginPage';\nimport * as ChaiString from 'chai-string';\n\nchai.use(ChaiString);\nconst lg = new LogIn();\n//beforeEach\ndescribe('BeforeEachTestLogIn', () =&gt;{\n    beforeEach(() =&gt;{\n        lg.LogIn()\n    })\n})\n//Test\ndescribe('New job page', function() {\n    it('newJobCreation', function() {\n        //TODO\n    })\n})\n</code></pre>\n<p>I try to run client_NewJob.ts script via Cypress and then I am getting error message:</p>\n<blockquote>\n<p>./cypress/helpers/loginPage.ts |\nTS1005: ';' expected.</p>\n<p>./cypress/helpers/loginPage.ts\nTS1003: Identifier expected.</p>\n<p>./cypress/helpers/loginPage.ts\nTS1144: '{' or ';' expected</p>\n</blockquote>\n<p>And a lot same error messages...</p>\n<p>How can I import class?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1533134385, "post_id": 51635923, "comment_id": 90236567, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}, {"owner": {"reputation": 1167, "user_id": 1379450, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/043d111b993cbd58ec693597944a38c4?s=128&d=identicon&r=PG", "display_name": "Gezzasa", "link": "https://stackoverflow.com/users/1379450/gezzasa"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1533134709, "post_id": 51635923, "comment_id": 90236786, "body": "@HereticMonkey thank you. I&#39;m fresh with TypeScript and to be honest, I don&#39;t know if this is in fact a duplicate. I&#39;m not using jQuery so can&#39;t test with ajax."}, {"owner": {"reputation": 71114, "user_id": 1059101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7Mdb.png?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/1059101/jai"}, "edited": false, "score": 0, "creation_date": 1533135297, "post_id": 51635923, "comment_id": 90237208, "body": "<code>randomJoke</code> or <code>randomJokeArray</code>? i don&#39;t see <code>randomJokeArray</code> and <code>randomJoke</code> will always be undefined because you have&#39;nt set any values."}, {"owner": {"reputation": 1167, "user_id": 1379450, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/043d111b993cbd58ec693597944a38c4?s=128&d=identicon&r=PG", "display_name": "Gezzasa", "link": "https://stackoverflow.com/users/1379450/gezzasa"}, "reply_to_user": {"reputation": 71114, "user_id": 1059101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7Mdb.png?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/1059101/jai"}, "edited": false, "score": 0, "creation_date": 1533135523, "post_id": 51635923, "comment_id": 90237375, "body": "@Jai I messed up when I copied the code over. I&#39;ve edited the question. It&#39;s only <code>randomJokeArray</code>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1533137203, "post_id": 51635923, "comment_id": 90238486, "body": "Ajax is a browser technology that jQuery has an implementation of. Angular also implements it via <code>this.http</code>. The point is that it is asynchronous, so you can&#39;t return the value you&#39;re retrieving until you&#39;ve retrieved it. Right now, you&#39;re trying to eat your pizza before it&#39;s been delivered :)."}], "answers": [{"comments": [{"owner": {"reputation": 1167, "user_id": 1379450, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/043d111b993cbd58ec693597944a38c4?s=128&d=identicon&r=PG", "display_name": "Gezzasa", "link": "https://stackoverflow.com/users/1379450/gezzasa"}, "edited": false, "score": 0, "creation_date": 1533275128, "post_id": 51636850, "comment_id": 90295007, "body": "Thanks for your answer. You made effort to explain stuff but I&#39;m afraid with my experience and implementation I still couldn&#39;t get it right. Even though your answer might be right. I feel that I shouldn&#39;t mark it as the answer as it might not help others...what do I do :|"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 1167, "user_id": 1379450, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/043d111b993cbd58ec693597944a38c4?s=128&d=identicon&r=PG", "display_name": "Gezzasa", "link": "https://stackoverflow.com/users/1379450/gezzasa"}, "edited": false, "score": 0, "creation_date": 1533275236, "post_id": 51636850, "comment_id": 90295031, "body": "What issue are you still facing? Did you make the above changes?"}, {"owner": {"reputation": 1167, "user_id": 1379450, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/043d111b993cbd58ec693597944a38c4?s=128&d=identicon&r=PG", "display_name": "Gezzasa", "link": "https://stackoverflow.com/users/1379450/gezzasa"}, "edited": false, "score": 0, "creation_date": 1533277864, "post_id": 51636850, "comment_id": 90295988, "body": "I still got undefined values returned but I&#39;m sure it&#39;s not your code that is breaking it. I can mark yours as correct and close the issue. I&#39;m carrying on learning and have my second interview today so holding thumbs that I was able to do enough with the other tasks. Thank you!"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 1167, "user_id": 1379450, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/043d111b993cbd58ec693597944a38c4?s=128&d=identicon&r=PG", "display_name": "Gezzasa", "link": "https://stackoverflow.com/users/1379450/gezzasa"}, "edited": false, "score": 0, "creation_date": 1533279461, "post_id": 51636850, "comment_id": 90296688, "body": "If you have time, you can reproduce your issue on stackblitz. Anyways happy learning and all the best for your career :)"}, {"owner": {"reputation": 1167, "user_id": 1379450, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/043d111b993cbd58ec693597944a38c4?s=128&d=identicon&r=PG", "display_name": "Gezzasa", "link": "https://stackoverflow.com/users/1379450/gezzasa"}, "edited": false, "score": 0, "creation_date": 1533280591, "post_id": 51636850, "comment_id": 90297224, "body": "Thank you sir. Any language starts off as hieroglyphs and then the day after it&#39;s english. :)."}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 1167, "user_id": 1379450, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/043d111b993cbd58ec693597944a38c4?s=128&d=identicon&r=PG", "display_name": "Gezzasa", "link": "https://stackoverflow.com/users/1379450/gezzasa"}, "edited": false, "score": 0, "creation_date": 1533281046, "post_id": 51636850, "comment_id": 90297441, "body": "I hope, I atleast deserve an upvote to my answer. You can mark it later once your issue is solved or add your own answer for it."}], "tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": true, "score": 1, "last_activity_date": 1533136886, "last_edit_date": 1533136886, "creation_date": 1533136422, "answer_id": 51636850, "question_id": 51635923, "link": "https://stackoverflow.com/questions/51635923/api-call-not-working-on-typescript-if-only-one-object-is-returned/51636850#51636850", "title": "API Call not working on TypeScript if only one object is returned", "body": "<p>You have three issues in your code</p>\n\n<ol>\n<li><p>Your component is subscribing to a <code>Subscription</code> not an <code>Observable</code>. So you should <code>map</code> on the response returned by <code>http</code> instead of subscribing, because you wish to return Observable to your component.</p>\n\n<pre><code>this.http.get('http://api.icndb.com/jokes/random/' + amount).pipe(map(data =&gt; {\n   // Test to see if call was successful\n             .........................................\n}));\n</code></pre></li>\n<li><p>Main issue : You are not waiting for the asynchronous execution to be completed. </p>\n\n<p>Move your <code>if(amount &gt; 1){...}</code> code inside <code>http.get.map()</code></p>\n\n<pre><code>return this.http.get('http://api.icndb.com/jokes/random/' + amount).pipe(map(data =&gt; {\n    // Test to see if call was successful\n    if(data[\"type\"] === 'success'){\n      randomJokeArray = data[\"value\"][0];\n      console.log(randomJokeArray);\n    } else {\n      console.warn(\"API Call 'getJokes' was unsuccessful\");\n    }\n\n    if(amount &gt; 1){\n        // Return the jokeArray\n        return of (jokeArray);\n    } else {\n        return of (randomJokeArray);\n    }\n}));\n</code></pre></li>\n<li><p>add return statement before <code>http.get.map()</code></p>\n\n<pre><code>return this.http.get('http://api.icndb.com/jokes/random/' + amount).pipe(map(data =&gt; {\n       // Test to see if call was successful\n       .........................................\n}));\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1167, "user_id": 1379450, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/043d111b993cbd58ec693597944a38c4?s=128&d=identicon&r=PG", "display_name": "Gezzasa", "link": "https://stackoverflow.com/users/1379450/gezzasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 51636850, "answer_count": 1, "score": 1, "last_activity_date": 1533136886, "creation_date": 1533133783, "last_edit_date": 1533135499, "question_id": 51635923, "link": "https://stackoverflow.com/questions/51635923/api-call-not-working-on-typescript-if-only-one-object-is-returned", "title": "API Call not working on TypeScript if only one object is returned", "body": "<p>I've got a task where I need to return 10 Chuck Norris jokes from an API. This part I got right but the second part (Get a random joke every 5 seconds) is breaking me a bit.</p>\n\n<pre><code>// Get jokes by amount\ngetJokes(amount) {\nconst jokeArray = [];\nconst randomJokeArray = [];\nif(amount &gt; 1){\n  this.http.get(http://api.icndb.com/jokes/random/' + amount).subscribe(data =&gt; {\n    // Test to see if call was successful\n    if(data[\"type\"] === 'success'){\n        for(var i = 0; i &lt;= data[\"value\"].length; i++){\n          jokeArray.push(data[\"value\"][i]);\n        }\n    } else {\n      console.warn(\"API Call 'getJokes' was unsuccessful\");\n    }\n  });\n} else {\n  this.http.get('http://api.icndb.com/jokes/random/' + amount).subscribe(data =&gt; {\n    // Test to see if call was successful\n    if(data[\"type\"] === 'success'){\n      randomJokeArray = data[\"value\"][0];\n      console.log(randomJokeArray);\n    } else {\n      console.warn(\"API Call 'getJokes' was unsuccessful\");\n    }\n  });\n}\n\n    if(amount &gt; 1){\n      // Return the jokeArray\n      return of (jokeArray);\n    } else {\n      return of (randomJokeArray);\n    }\n\n}\n</code></pre>\n\n<p><code>randomJokeArray</code> always comes back as undefined.</p>\n\n<p>This function is inside of a service and me being fairly new to TypeScript and Angular. I'm pretty sure I'm using it wrong. Can anyone please show me how I can return only one joke from the API?</p>\n\n<p>If I duplicate the API call of 10 that works I get the following returned when only calling for 1.</p>\n\n<p>From the main file</p>\n\n<pre><code>this.configService.getJokes(1).subscribe(j =&gt; this.randomJokeArray = j);\n</code></pre>\n\n<p>From the service file</p>\n\n<pre><code>for(var i = 0; i &lt;= data[\"value\"].length; i++){\n    randomJokeArray.push(data[\"value\"][i]);\n}\n\nreturn of (randomJokeArray);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yRM6c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yRM6c.png\" alt=\"Returned Array\"></a></p>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 359, "user_id": 2586617, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/gW9oj.jpg?s=128&g=1", "display_name": "Narendra Pandey", "link": "https://stackoverflow.com/users/2586617/narendra-pandey"}, "edited": false, "score": 0, "creation_date": 1533195845, "post_id": 51636120, "comment_id": 90259784, "body": "Hi, it does work but it gives following error -   Property &#39;focus&#39; does not exist on type &#39;ElementRef&lt;any&gt;. Also it only highlights the first checkbox. I am in a need where it highlights all the checkbox in first column so that user knows that it needs to select an checkbox."}, {"owner": {"reputation": 979, "user_id": 799520, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/n24Je.png?s=128&g=1", "display_name": "Magnus Wallstr&#246;m", "link": "https://stackoverflow.com/users/799520/magnus-wallstr%c3%b6m"}, "edited": false, "score": 2, "creation_date": 1543932522, "post_id": 51636120, "comment_id": 94090202, "body": "I believe that the correct syntax would be this.ref.nativeElement.focus();"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "reply_to_user": {"reputation": 979, "user_id": 799520, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/n24Je.png?s=128&g=1", "display_name": "Magnus Wallstr&#246;m", "link": "https://stackoverflow.com/users/799520/magnus-wallstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1543932701, "post_id": 51636120, "comment_id": 94090307, "body": "I Have tried that but that does not work! check the stackblitz @MagnusWallstr&#246;m"}], "tags": [], "owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "is_accepted": false, "score": 3, "last_activity_date": 1533134395, "creation_date": 1533134395, "answer_id": 51636120, "question_id": 51635690, "link": "https://stackoverflow.com/questions/51635690/how-to-set-focus-on-a-checkbox-in-angular-6/51636120#51636120", "title": "How to set focus on a checkbox in angular 6", "body": "<p>If you want to add focus to checkbox you have to use ViewChild decorator to get the ref to check box</p>\n\n<pre><code>@ViewChild('ref') ref:ElementRef;\n</code></pre>\n\n<p>Then add Focus method to focus the element on Click </p>\n\n<pre><code> onClick(){\n  this.ref.focus();\n  }\n</code></pre>\n\n<p>Example:<a href=\"https://stackblitz.com/edit/angular-checkbox-focus\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-checkbox-focus</a></p>\n"}], "owner": {"reputation": 359, "user_id": 2586617, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/gW9oj.jpg?s=128&g=1", "display_name": "Narendra Pandey", "link": "https://stackoverflow.com/users/2586617/narendra-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2048, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533134395, "creation_date": 1533133182, "last_edit_date": 1533133298, "question_id": 51635690, "link": "https://stackoverflow.com/questions/51635690/how-to-set-focus-on-a-checkbox-in-angular-6", "title": "How to set focus on a checkbox in angular 6", "body": "<p>I am working over a form that displays a table with first column as checkbox. User is supposed to select at least one checkbox. I want to highlight the check boxes while I submit the form as they need to be selected. Below is my checkbox code -</p>\n\n<pre><code>&lt;td mat-cell *matCellDef=\"let account\"&gt;\n    &lt;mat-checkbox (click)=\"$event.stopPropagation()\"\n    (change)=\"$event ? datalist.toggle(account) : null\"  \n   [checked]=\"datalist.isSelected(account)\"                                                  \n    formControlName=\"checkbox\" required&gt;\n     &lt;/mat-checkbox&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>I tried searching for focus attribute but didn't get any proper example over it.</p>\n"}, {"tags": ["typescript", "visual-studio-code", "tslint"], "answers": [{"comments": [{"owner": {"reputation": 917, "user_id": 7807547, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c3e7b68f02a914b21338a6a6a4504133?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Allen", "link": "https://stackoverflow.com/users/7807547/joe-allen"}, "edited": false, "score": 0, "creation_date": 1533132417, "post_id": 51635260, "comment_id": 90235108, "body": "Ah great ! Now my code is underline when there is a lint error :) Thank  you ! Do you know if it&#39;s possible to fix all lint errors by a command in Visual Studio Code ?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 917, "user_id": 7807547, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c3e7b68f02a914b21338a6a6a4504133?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Allen", "link": "https://stackoverflow.com/users/7807547/joe-allen"}, "edited": false, "score": 0, "creation_date": 1533132672, "post_id": 51635260, "comment_id": 90235278, "body": "Click a lint error in the &quot;Problems&quot; panel, click the light-bulb icon that appears next to your code, and &quot;Fix all auto-fixable problems&quot;."}, {"owner": {"reputation": 917, "user_id": 7807547, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c3e7b68f02a914b21338a6a6a4504133?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Allen", "link": "https://stackoverflow.com/users/7807547/joe-allen"}, "edited": false, "score": 0, "creation_date": 1533132796, "post_id": 51635260, "comment_id": 90235359, "body": "Thank you very much for your help. It works perfectly :)"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 0, "last_activity_date": 1533131980, "creation_date": 1533131980, "answer_id": 51635260, "question_id": 51635116, "link": "https://stackoverflow.com/questions/51635116/visual-studio-code-tslint-and-virtual-machine/51635260#51635260", "title": "Visual Studio Code, tslint and virtual machine", "body": "<blockquote>\n  <p>The path is not good, where can I change this ?</p>\n</blockquote>\n\n<p>Try changing the <code>tslint.configFile</code> Visual Studio Code setting.  You can find it by going to File -> Preferences -> Settings and typing the name in the search box.</p>\n"}], "owner": {"reputation": 917, "user_id": 7807547, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c3e7b68f02a914b21338a6a6a4504133?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Allen", "link": "https://stackoverflow.com/users/7807547/joe-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 51635260, "answer_count": 1, "score": 0, "last_activity_date": 1533131980, "creation_date": 1533131607, "question_id": 51635116, "link": "https://stackoverflow.com/questions/51635116/visual-studio-code-tslint-and-virtual-machine", "title": "Visual Studio Code, tslint and virtual machine", "body": "<p>I'm using Visual Studio Code on my computer to develop a project (angular). The files of my project are located on a virtual machine.</p>\n\n<p>Visual Studio Code works fine, I can edit my files without any problem but I can't see tslint errors. I would like to fix all tslint error I see by using \"ng lint\" command on my VM (via Putty) in Visual Studio Code.</p>\n\n<p>When I'm trying to launch commands into the Visual Studio Code terminal, I've got errors : </p>\n\n<pre><code>PS Microsoft.PowerShell.Core\\FileSystem::\\\\192.168.0.141\\Work\\MyProject&gt; ng lint\nng : Le terme \u00abng\u00bb n'est pas reconnu comme nom d'applet de commande, fonction, fichier de script ou programme ex\u00e9cutable. V\u00e9rifiez l'orthographe du nom, ou si un chemin d'acc\u00e8s existe, v\u00e9rifiez que le chemin d'acc\u00e8s\nest correct et r\u00e9essayez.\nAu caract\u00e8re Ligne:1 : 1\n+ ng build\n+ ~~\n    + CategoryInfo          : ObjectNotFound: (ng:String) [], CommandNotFoundException\n    + FullyQualifiedErrorId : CommandNotFoundException\n</code></pre>\n\n<p>or by using this command</p>\n\n<pre><code>./node_modules/@angular/cli/bin/ng\n</code></pre>\n\n<p>// it opens a file inside notepad...</p>\n\n<p>If I run these commands through Putty, it works.</p>\n\n<p>The goal is to use lint command to fix every files of my project (or maybe, do it by modules). I'm little bit confused and I don't know what I've to do.</p>\n\n<p>Any idea ?</p>\n\n<p>Thank you very much</p>\n\n<p>EDIT : </p>\n\n<pre><code>Info  - 15:21:37] vscode-tslint: Cannot read tslint configuration - 'ENOENT: no such file or directory, scandir '\\\\192.168.0.141\\work\\work\\myProject\\src\\app\\testModule\\services\n</code></pre>\n\n<p>The path is not good, where can I change this ?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 2, "creation_date": 1533131722, "post_id": 51635114, "comment_id": 90234562, "body": "Use {{title.name}} instead of {{data.title.name}}"}, {"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "reply_to_user": {"reputation": 4702, "user_id": 2842324, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/zCIOj.png?s=128&g=1", "display_name": "Paresh Gami", "link": "https://stackoverflow.com/users/2842324/paresh-gami"}, "edited": false, "score": 0, "creation_date": 1533132005, "post_id": 51635114, "comment_id": 90234789, "body": "It&#39;s empty because title contains only an array of data keys so: title1; title2, etc"}], "answers": [{"comments": [{"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 6470, "user_id": 6230863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008565f2c61035b443406297643f68f7?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine V", "link": "https://stackoverflow.com/users/6230863/antoine-v"}, "edited": false, "score": 0, "creation_date": 1533132062, "post_id": 51635195, "comment_id": 90234840, "body": "Have you used <code>data[title].name</code> ?"}, {"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1533132121, "post_id": 51635195, "comment_id": 90234878, "body": "right ! I was testing with <code>data.[title].name</code> ( with a dot after data ) Thanks that&#39;s working"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "reply_to_user": {"reputation": 6470, "user_id": 6230863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008565f2c61035b443406297643f68f7?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine V", "link": "https://stackoverflow.com/users/6230863/antoine-v"}, "edited": false, "score": 0, "creation_date": 1533132146, "post_id": 51635195, "comment_id": 90234900, "body": "@ThierryV - The variable <code>title</code> will take the values &quot;title1&quot;, &quot;title2&quot;, etc."}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 4, "last_activity_date": 1533175832, "last_edit_date": 1533175832, "creation_date": 1533131846, "answer_id": 51635195, "question_id": 51635114, "link": "https://stackoverflow.com/questions/51635114/print-object-items-inside-ngfor-in-angular/51635195#51635195", "title": "Print object items inside *ngFor in Angular", "body": "<p>You need to access via <code>[]</code> notation because your property key is stored in the <code>title</code> range variable. <code>[]</code> will evaluate the expression inside it, get the value and try to find property with that value.</p>\n\n<pre><code>&lt;div *ngFor=\"let title of titlesList\"&gt;\n   {{ data[title].name }}\n&lt;/div&gt;\n</code></pre>\n\n<p>Or instead of <code>Object.keys</code> you can use <code>Object.values (ES8)</code> </p>\n\n<pre><code>titlesList = Object.values(this.data);\n</code></pre>\n\n<p>and in the markup</p>\n\n<pre><code> &lt;div *ngFor=\"let title of titlesList\"&gt;\n    {{ title.name }}\n &lt;/div&gt;\n</code></pre>\n\n<p><em>Angular 6.1</em> provides a new <strong><a href=\"https://angular.io/api/common/KeyValuePipe\" rel=\"nofollow noreferrer\">KeyValue</a></strong> pipe. Using this you can just use</p>\n\n<pre><code>&lt;div *ngFor=\"let item of data| keyvalue\"&gt;\n   {{ item.key }} - {{ item.value.name }} \n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5056, "user_id": 4461537, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cGuZ9.jpg?s=128&g=1", "display_name": "Ren&#233; Winkler", "link": "https://stackoverflow.com/users/4461537/ren%c3%a9-winkler"}, "is_accepted": false, "score": 3, "last_activity_date": 1533132161, "creation_date": 1533132161, "answer_id": 51635338, "question_id": 51635114, "link": "https://stackoverflow.com/questions/51635114/print-object-items-inside-ngfor-in-angular/51635338#51635338", "title": "Print object items inside *ngFor in Angular", "body": "<p>With the latest relase of Angular 6.1 you can do it with the keyvalue pipe.</p>\n\n<pre><code>&lt;div *ngFor=\"let item of data| keyvalue\"&gt;\n   {{item.value.name}} \n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 0, "accepted_answer_id": 51635195, "answer_count": 2, "score": 1, "last_activity_date": 1533175832, "creation_date": 1533131602, "last_edit_date": 1533132339, "question_id": 51635114, "link": "https://stackoverflow.com/questions/51635114/print-object-items-inside-ngfor-in-angular", "title": "Print object items inside *ngFor in Angular", "body": "<p>I want to print object items dynamically </p>\n\n<pre><code>const data = {\n    title1: {\n      name: \"real title\",\n      value: \"\"\n    },\n    title2: {\n      name: \"real title2\",\n      value: \"\"\n    },\n    title3: {\n      name: \"real title3\",\n      value: \"\"\n    },\n    title4: {\n      name: \"real title4\",\n      value: \"\"\n    },\n    title5: {\n      name: \"real title5\",\n      value: \"\"\n    },\n    title6: {\n      name: \"real title6\",\n      value: \"\"\n    }\n};\n</code></pre>\n\n<p>I would print a list of <code>data.title[i].name</code>.</p>\n\n<p>First I get titles list in array so that I could loop on them.</p>\n\n<pre><code>const titlesList = Object.keys(this.data);\n</code></pre>\n\n<p>then in HTML</p>\n\n<pre><code>&lt;div *ngFor=\"let title of titlesList\"&gt;\n   {{ data.title.name }}\n&lt;/div&gt;\n</code></pre>\n\n<p>What I would print like:</p>\n\n<pre><code> - real title \n - real title1\n - real title2\n - ...\n</code></pre>\n\n<p>The error that I get:</p>\n\n<blockquote>\n  <p>ERROR TypeError: Cannot read property 'name' of undefined</p>\n</blockquote>\n"}, {"tags": ["typescript", "ngrx"], "comments": [{"owner": {"reputation": 16032, "user_id": 1248177, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce4713378691ec2899a27c845a3748f7?s=128&d=identicon&r=PG", "display_name": "aloisdg", "link": "https://stackoverflow.com/users/1248177/aloisdg"}, "edited": false, "score": 0, "creation_date": 1533131360, "post_id": 51634625, "comment_id": 90234302, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19233283/sum-javascript-object-propertya-values-with-same-object-propertyb-in-array-of-ob\">Sum javascript object propertyA values with same object propertyB in array of objects</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5056, "user_id": 4461537, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cGuZ9.jpg?s=128&g=1", "display_name": "Ren&#233; Winkler", "link": "https://stackoverflow.com/users/4461537/ren%c3%a9-winkler"}, "is_accepted": true, "score": 1, "last_activity_date": 1533134938, "last_edit_date": 1533134938, "creation_date": 1533133516, "answer_id": 51635824, "question_id": 51634625, "link": "https://stackoverflow.com/questions/51634625/how-to-join-list-items-on-property-with-equal-value-using-ngrx-typescript/51635824#51635824", "title": "How to join list items on property with equal value using ngrx &amp; typescript", "body": "<p>You need to create a selector that groups the results by name:</p>\n\n<pre><code>getSumByName = createSelector(\n state =&gt; state.list,\n list =&gt; groupBy(list, name)\n  )\n</code></pre>\n\n<p>You can read how to implement a groupBy function here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/14446511/what-is-the-most-efficient-method-to-groupby-on-a-javascript-array-of-objects\">What is the most efficient method to groupby on a JavaScript array of objects?</a></p>\n"}], "owner": {"reputation": 1185, "user_id": 2972303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cAkd9.png?s=128&g=1", "display_name": "iSebbeYT", "link": "https://stackoverflow.com/users/2972303/isebbeyt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 51635824, "answer_count": 1, "score": 0, "last_activity_date": 1533134938, "creation_date": 1533130241, "question_id": 51634625, "link": "https://stackoverflow.com/questions/51634625/how-to-join-list-items-on-property-with-equal-value-using-ngrx-typescript", "title": "How to join list items on property with equal value using ngrx &amp; typescript", "body": "<p>Lets say I have a list in my state:</p>\n\n<pre><code>list: SomeObj[];\n</code></pre>\n\n<p>where:</p>\n\n<p><code>SomeObj: {name: string, val: number}</code></p>\n\n<p>I then have the following items in the SomeObj[]:</p>\n\n<pre><code>{name: Alice,  val: 1}\n{name: Bob,    val: 2}\n{name: Bob,    val: 2}\n{name: Conrad, val: 3}\n</code></pre>\n\n<p>How do I subscribe on something like:</p>\n\n<pre><code>{name: Alice,  val: 1}\n{name: Bob,    val: 4}\n{name: Conrad, val: 3}\n</code></pre>\n\n<p>where I join on the name property while doing sum on the val property.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1747, "user_id": 2975759, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/93d2e3a997a68d49b307ee3c9be077e3?s=128&d=identicon&r=PG", "display_name": "Andrew Lobban", "link": "https://stackoverflow.com/users/2975759/andrew-lobban"}, "edited": false, "score": 0, "creation_date": 1533130502, "post_id": 51634604, "comment_id": 90233673, "body": "If I remember this correctly, setting the variables as <code>private</code> that means they cannot be accessible in the template. This indicate that they are private to the <code>class</code> typescript file."}], "answers": [{"comments": [{"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1533146849, "post_id": 51634692, "comment_id": 90243777, "body": "This is correct ... I&#39;m not sure why it had been voted down?"}], "tags": [], "owner": {"reputation": 80, "user_id": 695862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SLi6y.jpg?s=128&g=1", "display_name": "rojaswilmer", "link": "https://stackoverflow.com/users/695862/rojaswilmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1533130403, "creation_date": 1533130403, "answer_id": 51634692, "question_id": 51634604, "link": "https://stackoverflow.com/questions/51634604/why-are-variables-not-updating/51634692#51634692", "title": "Why are variables not updating?", "body": "<p>Hello the access of your variable is private your have to change to public if do you want to access directly from the template, if not you will need to return using a function or something public in the template.</p>\n"}, {"comments": [{"owner": {"reputation": 517, "user_id": 5725010, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8c093beb7aee24e2d9e183ce04b3d013?s=128&d=identicon&r=PG&f=1", "display_name": "Cryptic Pug", "link": "https://stackoverflow.com/users/5725010/cryptic-pug"}, "edited": false, "score": 0, "creation_date": 1533142786, "post_id": 51634857, "comment_id": 90241738, "body": "Hello @Vlad274, Thank You Very much for your answer. This definitely lead me into the right direction. I didn&#39;t know this Change Detection / Template Rendering Stuff was even existing ;)... very helpful. Not quite sure why, but .markForCheck() did not work for me, instead I use <code>this.changeDetector.detectChanges()</code>."}], "tags": [], "owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "is_accepted": true, "score": 1, "last_activity_date": 1533130913, "creation_date": 1533130913, "answer_id": 51634857, "question_id": 51634604, "link": "https://stackoverflow.com/questions/51634604/why-are-variables-not-updating/51634857#51634857", "title": "Why are variables not updating?", "body": "<p>(Assuming <code>.signInWithPopup</code> is a web-request, or other asynchronous call)</p>\n\n<p>Angular change detection runs in response to use interaction with the component. If values are updated outside of that event handling, you need to manually tell the component that it has changed.</p>\n\n<pre><code>constructor(private changeDetector: ChangeDetectorRef){}\n\ndetectEmailViaPassword() {\n    this.afAuth.auth.signInWithPopup(new auth.GoogleAuthProvider()).then(authResult =&gt; {\n        this.detectedEmail = authResult.user.email;\n        this.emailDetected = true;\n        this.changeDetector.markForCheck();\n    }).catch(error =&gt; {\n        console.log(error);\n    });\n}\n</code></pre>\n\n<p>More in depth reading: <a href=\"https://blog.thoughtram.io/angular/2016/02/22/angular-2-change-detection-explained.html\" rel=\"nofollow noreferrer\">https://blog.thoughtram.io/angular/2016/02/22/angular-2-change-detection-explained.html</a></p>\n\n<hr>\n\n<p>Addressing the <code>public</code> vs <code>private</code> comments:</p>\n\n<p>These type descriptors are TypeScript language constructs. Once the TypeScript is compiled into JavaScript, they have no bearing on how the application functions. The TypeScript compiler can only detect access errors from other TypeScript - access from the template is (effectively) unrestricted.</p>\n\n<p>Additional Discussion: <a href=\"https://stackoverflow.com/questions/37506343/private-and-public-in-angular-2-component\">&quot;private&quot; and &quot;public&quot; in Angular 2 component</a></p>\n"}], "owner": {"reputation": 517, "user_id": 5725010, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8c093beb7aee24e2d9e183ce04b3d013?s=128&d=identicon&r=PG&f=1", "display_name": "Cryptic Pug", "link": "https://stackoverflow.com/users/5725010/cryptic-pug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 51634857, "answer_count": 2, "score": 0, "last_activity_date": 1533130913, "creation_date": 1533130182, "question_id": 51634604, "link": "https://stackoverflow.com/questions/51634604/why-are-variables-not-updating", "title": "Why are variables not updating?", "body": "<p>I am probably overseeing something, but I am stuck, the following variables do not seem to be updating in the template when their values are updated in the promise:</p>\n\n<pre><code>private emailDetected: boolean = false;\nprivate detectedEmail: string = \"\";\n\ndetectEmailViaPassword() {\n    this.afAuth.auth.signInWithPopup(new auth.GoogleAuthProvider()).then(authResult =&gt; {\n        this.detectedEmail = authResult.user.email;\n        this.emailDetected = true;\n    }).catch(error =&gt; {\n        console.log(error);\n    });\n}\n</code></pre>\n\n<p>When logging the variables, it seems that they are updated, but nothing is happening in the template. When I update the variables from somewhere else than the firebase auth promise, it works correctly -- I am extremely confused...</p>\n\n<p>The variables are referred to correctly in the template: {{ detectedEmail }}</p>\n\n<p>I would be very thankful for some help :)</p>\n"}, {"tags": ["ruby-on-rails", "typescript", "webpack", "vue.js"], "comments": [{"owner": {"reputation": 11296, "user_id": 74727, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/da2b3f821255aeabea0a49c30b328cc1?s=128&d=identicon&r=PG", "display_name": "Matt Grande", "link": "https://stackoverflow.com/users/74727/matt-grande"}, "reply_to_user": {"reputation": 6165, "user_id": 2697183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65255fe741b95ba0c641d96ea6750ea9?s=128&d=identicon&r=PG&f=1", "display_name": "AbM", "link": "https://stackoverflow.com/users/2697183/abm"}, "edited": false, "score": 0, "creation_date": 1533134898, "post_id": 51634594, "comment_id": 90236909, "body": "@AbM - That fixed it! If you post that as an answer, I&#39;ll mark it as accepted."}], "answers": [{"tags": [], "owner": {"reputation": 6165, "user_id": 2697183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65255fe741b95ba0c641d96ea6750ea9?s=128&d=identicon&r=PG&f=1", "display_name": "AbM", "link": "https://stackoverflow.com/users/2697183/abm"}, "is_accepted": true, "score": 1, "last_activity_date": 1533135063, "creation_date": 1533135063, "answer_id": 51636373, "question_id": 51634594, "link": "https://stackoverflow.com/questions/51634594/adding-typescript-to-vue-rails-app-imports-no-longer-work/51636373#51636373", "title": "Adding Typescript to Vue + Rails app - Imports no longer work?", "body": "<p>I remember running into a similar problem for presentational components. Try adding an empty export in <code>shared/layout</code> so typescript can pick it up:</p>\n\n<pre><code>&lt;script lang=\"ts\"&gt;\n  export default {}\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 11296, "user_id": 74727, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/da2b3f821255aeabea0a49c30b328cc1?s=128&d=identicon&r=PG", "display_name": "Matt Grande", "link": "https://stackoverflow.com/users/74727/matt-grande"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 478, "favorite_count": 0, "accepted_answer_id": 51636373, "answer_count": 1, "score": 0, "last_activity_date": 1533135063, "creation_date": 1533130167, "question_id": 51634594, "link": "https://stackoverflow.com/questions/51634594/adding-typescript-to-vue-rails-app-imports-no-longer-work", "title": "Adding Typescript to Vue + Rails app - Imports no longer work?", "body": "<p>I'm trying to add TypeScript to an existing VueJS + Rails app. I cloned this demo (<a href=\"https://github.com/gbarillot/rails-vue-demo-app\" rel=\"nofollow noreferrer\">https://github.com/gbarillot/rails-vue-demo-app</a>) then followed the instructions from <a href=\"https://github.com/rails/webpacker\" rel=\"nofollow noreferrer\">https://github.com/rails/webpacker</a></p>\n\n<p><code>$ bundle exec rails webpacker:install:vue</code><br>\n<code>$ bundle exec rails webpacker:install:typescript</code></p>\n\n<p>I then modified <code>config/webpack/loaders/typescript.js</code> as described <a href=\"https://github.com/rails/webpacker/blob/master/docs/typescript.md#typescript-with-vue-components\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Everything seems to compile, but when I go into my \"home\" view and change the <code>script</code> to typescript:</p>\n\n<pre><code>&lt;script lang=\"ts\"&gt;\nimport Layout from '../shared/layout';\n\nexport default {\n  components: {\n    Layout\n  }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Failed to compile.\n\n/Users/matt/projects/rails-vue-demo-app/app/javascript/packs/components/home/index.vue.ts\n[tsl] ERROR in /Users/matt/projects/rails-vue-demo-app/app/javascript/packs/components/home/index.vue.ts(13,20)\n      TS2307: Cannot find module '../shared/layout'.\n</code></pre>\n\n<p>Why can I no longer find the layout file when typescript is enabled?</p>\n"}, {"tags": ["node.js", "typescript", "tsc", "tsconfig"], "answers": [{"comments": [{"owner": {"reputation": 322, "user_id": 9201060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d36bf88621eab76ecaa245bf61123?s=128&d=identicon&r=PG&f=1", "display_name": "Mic", "link": "https://stackoverflow.com/users/9201060/mic"}, "reply_to_user": {"reputation": 5185, "user_id": 359532, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ngxi2.jpg?s=128&g=1", "display_name": "Michael Ozeryansky", "link": "https://stackoverflow.com/users/359532/michael-ozeryansky"}, "edited": false, "score": 5, "creation_date": 1585298325, "post_id": 54277766, "comment_id": 107715282, "body": "@MichaelOzeryansky: sorry, I don&#39;t understand your point. I just added one line to the tsconfig.json of the OP"}, {"owner": {"reputation": 9279, "user_id": 592760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/460ac4485bc537b5c13269fa12874476?s=128&d=identicon&r=PG", "display_name": "SgtPooki", "link": "https://stackoverflow.com/users/592760/sgtpooki"}, "reply_to_user": {"reputation": 5185, "user_id": 359532, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ngxi2.jpg?s=128&g=1", "display_name": "Michael Ozeryansky", "link": "https://stackoverflow.com/users/359532/michael-ozeryansky"}, "edited": false, "score": 1, "creation_date": 1609375111, "post_id": 54277766, "comment_id": 115828998, "body": "@MichaelOzeryansky this addition would probably make your compile run faster. More lines does not automatically make compile time slower. Less lines does not make your code run faster. The caveat here is that this would prevent many projects from compiling without other significant changes due to no longer including types they need."}], "tags": [], "owner": {"reputation": 322, "user_id": 9201060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d36bf88621eab76ecaa245bf61123?s=128&d=identicon&r=PG&f=1", "display_name": "Mic", "link": "https://stackoverflow.com/users/9201060/mic"}, "is_accepted": false, "score": 20, "last_activity_date": 1547996814, "creation_date": 1547996814, "answer_id": 54277766, "question_id": 51634361, "link": "https://stackoverflow.com/questions/51634361/how-to-force-tsc-to-ignore-node-modules-folder/54277766#54277766", "title": "How to force tsc to ignore node_modules folder?", "body": "<p>Add an empty \"types\" option in \"compilerOptions\":</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"sourceMap\": true,\n    \"strict\": false,\n    \"noImplicitAny\": false,\n    \"strictPropertyInitialization\": false,\n    \"esModuleInterop\": true,\n    \"types\": []\n  },\n  \"include\": [\n    \"src/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"./node_modules\",\n    \"./node_modules/*\",\n    \"./node_modules/@types/node/index.d.ts\",\n  ]\n}\n</code></pre>\n\n<p>From <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a></p>\n\n<blockquote>\n  <p>@types, typeRoots and types</p>\n  \n  <p>By default all visible \u201c@types\u201d packages are included in your\n  compilation. Packages in node_modules/@types of any enclosing folder\n  are considered visible; specifically, that means packages within\n  ./node_modules/@types/, ../node_modules/@types/,\n  ../../node_modules/@types/, and so on.</p>\n  \n  <p>...</p>\n  \n  <p><strong>Specify \"types\": [] to disable automatic inclusion of @types packages.</strong></p>\n  \n  <p>Keep in mind that automatic inclusion is only important if you\u2019re\n  using files with global declarations (as opposed to files declared as\n  modules). If you use an import \"foo\" statement, for instance,\n  TypeScript may still look through node_modules &amp; node_modules/@types\n  folders to find the foo package</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 5139, "user_id": 4887491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10202753002026348/picture?type=large", "display_name": "acesmndr", "link": "https://stackoverflow.com/users/4887491/acesmndr"}, "edited": false, "score": 2, "creation_date": 1579240227, "post_id": 57653497, "comment_id": 105707410, "body": "This worked since the library I was importing was exporting just the types of its own and I was importing the actual files by using script imports so that i can serve them from cdn. Thanks :)"}, {"owner": {"reputation": 17462, "user_id": 97964, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6Nrh5.jpg?s=128&g=1", "display_name": "jocull", "link": "https://stackoverflow.com/users/97964/jocull"}, "edited": false, "score": 7, "creation_date": 1584117695, "post_id": 57653497, "comment_id": 107347606, "body": "Docs for this: <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/compiler-options.html</a>"}, {"owner": {"reputation": 347, "user_id": 1167954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Og73P.png?s=128&g=1", "display_name": "heyomi", "link": "https://stackoverflow.com/users/1167954/heyomi"}, "edited": false, "score": 1, "creation_date": 1596219649, "post_id": 57653497, "comment_id": 111752394, "body": "Works for me with v3.9.7"}, {"owner": {"reputation": 6668, "user_id": 728287, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d9d2d692aef76c4131be177b693f109f?s=128&d=identicon&r=PG", "display_name": "Gianfranco P.", "link": "https://stackoverflow.com/users/728287/gianfranco-p"}, "edited": false, "score": 2, "creation_date": 1610026848, "post_id": 57653497, "comment_id": 116006664, "body": "This will also skip your type checking of all declaration <code>*.d.ts</code> <a href=\"https://dd.engineering/blog/typescript-the-skiplibcheck-option-explained\" rel=\"nofollow noreferrer\">dd.engineering/blog/&hellip;</a>"}, {"owner": {"reputation": 1614, "user_id": 5680541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MoaId.png?s=128&g=1", "display_name": "Dilip Agheda", "link": "https://stackoverflow.com/users/5680541/dilip-agheda"}, "edited": false, "score": 1, "creation_date": 1616989720, "post_id": 57653497, "comment_id": 118165393, "body": "does skipLibCheck only target the node_modules folder ?"}, {"owner": {"reputation": 788, "user_id": 4349247, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KcBye.jpg?s=128&g=1", "display_name": "KevinH", "link": "https://stackoverflow.com/users/4349247/kevinh"}, "reply_to_user": {"reputation": 1614, "user_id": 5680541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MoaId.png?s=128&g=1", "display_name": "Dilip Agheda", "link": "https://stackoverflow.com/users/5680541/dilip-agheda"}, "edited": false, "score": 1, "creation_date": 1617720151, "post_id": 57653497, "comment_id": 118379835, "body": "@DilipAgheda no it will also target any <code>d.ts</code> files outside of <code>node_modules</code>. So it is probably not what most people want."}], "tags": [], "owner": {"reputation": 1923, "user_id": 7139000, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hnvVgGVbT6U/AAAAAAAAAAI/AAAAAAAAABk/HEWzkJSv0tM/photo.jpg?sz=128", "display_name": "Daniel Swiegers", "link": "https://stackoverflow.com/users/7139000/daniel-swiegers"}, "is_accepted": false, "score": 166, "last_activity_date": 1566804514, "creation_date": 1566804514, "answer_id": 57653497, "question_id": 51634361, "link": "https://stackoverflow.com/questions/51634361/how-to-force-tsc-to-ignore-node-modules-folder/57653497#57653497", "title": "How to force tsc to ignore node_modules folder?", "body": "<p>Quickfix is to skip the check</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"skipLibCheck\": true\n  },\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 973, "user_id": 1769790, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3c84876a75ac57b51b7e2d8626466e91?s=128&d=identicon&r=PG", "display_name": "user1769790", "link": "https://stackoverflow.com/users/1769790/user1769790"}, "edited": false, "score": 3, "creation_date": 1596565760, "post_id": 59195388, "comment_id": 111850467, "body": "was helpful,  upgraded to latest. 3.9.7 and added skipLibCheck"}, {"owner": {"reputation": 13302, "user_id": 5136659, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bnHbn.jpg?s=128&g=1", "display_name": "Ali Faris", "link": "https://stackoverflow.com/users/5136659/ali-faris"}, "edited": false, "score": 2, "creation_date": 1616021553, "post_id": 59195388, "comment_id": 117876666, "body": "thank you, I almost punched my screen"}], "tags": [], "owner": {"reputation": 4425, "user_id": 769900, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/CSGrK.jpg?s=128&g=1", "display_name": "Jeff Tian", "link": "https://stackoverflow.com/users/769900/jeff-tian"}, "is_accepted": false, "score": 22, "last_activity_date": 1575549494, "creation_date": 1575549494, "answer_id": 59195388, "question_id": 51634361, "link": "https://stackoverflow.com/questions/51634361/how-to-force-tsc-to-ignore-node-modules-folder/59195388#59195388", "title": "How to force tsc to ignore node_modules folder?", "body": "<p>I met this issue with <code>typescript@3.2.1</code> and fixed by upgrading it to <code>3.7.3</code>.</p>\n\n<p>Notice with <code>typescritp@3.2.1</code>, the <code>skipLibCheck</code> does not take effect. By upgrading <code>typescript</code> the <code>skipLibCheck: true</code> works.</p>\n"}, {"tags": [], "owner": {"reputation": 35167, "user_id": 46194, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4eca63bc630dcac855080d2871f73ee7?s=128&d=identicon&r=PG", "display_name": "Klas Mellbourn", "link": "https://stackoverflow.com/users/46194/klas-mellbourn"}, "is_accepted": false, "score": 1, "last_activity_date": 1615451670, "creation_date": 1615451670, "answer_id": 66578903, "question_id": 51634361, "link": "https://stackoverflow.com/questions/51634361/how-to-force-tsc-to-ignore-node-modules-folder/66578903#66578903", "title": "How to force tsc to ignore node_modules folder?", "body": "<p>You can do this right on the command line</p>\n<pre class=\"lang-sh prettyprint-override\"><code>tsc --skipLibCheck\n</code></pre>\n"}], "owner": {"reputation": 8750, "user_id": 888469, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c97e31641aae90e72cd9b4015f634848?s=128&d=identicon&r=PG", "display_name": "Daniel Santos", "link": "https://stackoverflow.com/users/888469/daniel-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47989, "favorite_count": 7, "answer_count": 4, "score": 101, "last_activity_date": 1616264730, "creation_date": 1533129508, "last_edit_date": 1615451780, "question_id": 51634361, "link": "https://stackoverflow.com/questions/51634361/how-to-force-tsc-to-ignore-node-modules-folder", "title": "How to force tsc to ignore node_modules folder?", "body": "<p>I'm using tsc build tasks. Unfortunately I'm always getting the same errors from the node modules folder</p>\n<pre><code>Executing task: .\\node_modules\\.bin\\tsc.cmd --watch -p .\\tsconfig.json &lt;\nnode_modules/@types/node/index.d.ts(6208,55): error TS2304: Cannot find name 'Map'.\nnode_modules/@types/node/index.d.ts(6215,55): error TS2304: Cannot find name 'Set'.\nnode_modules/@types/node/index.d.ts(6219,64): error TS2304: Cannot find name 'Symbol'.\nnode_modules/@types/node/index.d.ts(6225,59): error TS2304: Cannot find name 'WeakMap'.\nnode_modules/@types/node/index.d.ts(6226,59): error TS2304: Cannot find name 'WeakSet'.\n10:13:18 - Compilation complete. Watching for file changes.\n</code></pre>\n<p>I already added the directory to the ignore at <code>tsconfig.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>\n    {\n      &quot;compilerOptions&quot;: {\n        &quot;target&quot;: &quot;es5&quot;,\n        &quot;module&quot;: &quot;commonjs&quot;,\n        &quot;sourceMap&quot;: true,\n        &quot;strict&quot;: false,\n        &quot;noImplicitAny&quot;: false,\n        &quot;strictPropertyInitialization&quot;: false,\n        &quot;esModuleInterop&quot;: true,\n      },\n      &quot;include&quot;: [\n        &quot;src/*&quot;\n      ],\n      &quot;exclude&quot;: [\n        &quot;node_modules&quot;,\n        &quot;./node_modules&quot;,\n        &quot;./node_modules/*&quot;,\n        &quot;./node_modules/@types/node/index.d.ts&quot;,\n      ]\n    }\n</code></pre>\n<p>What I'm doing wrong? What should I do in order to ignore those errors?</p>\n<p>I'm using VsCode and tsc Version 2.9.2</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 5898, "user_id": 3933927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Td4UR.png?s=128&g=1", "display_name": "Stavm", "link": "https://stackoverflow.com/users/3933927/stavm"}, "edited": false, "score": 0, "creation_date": 1533130084, "post_id": 51634158, "comment_id": 90233351, "body": "if you&#39;re not using <code>pathMatch: &#39;full&#39;</code> on your empty route you are going to end up in an infinite loop."}], "answers": [{"tags": [], "owner": {"reputation": 3428, "user_id": 4763309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fcdc984b368da4f84e8f6fe92e5308a2?s=128&d=identicon&r=PG&f=1", "display_name": "mrkernelpanic", "link": "https://stackoverflow.com/users/4763309/mrkernelpanic"}, "is_accepted": false, "score": 3, "last_activity_date": 1533129192, "creation_date": 1533129192, "answer_id": 51634235, "question_id": 51634158, "link": "https://stackoverflow.com/questions/51634158/canactivate-causing-constant-refresh-angular2/51634235#51634235", "title": "canActivate causing constant refresh - Angular2+", "body": "<p><code>this.router.navigate([''], {queryParams: {returnUrl: state.url}});</code> </p>\n\n<p>will get executed everytime when not logged in, thus causing your infinite redirects as in your router config </p>\n\n<p><code>{path: '', component: HomepageComponent, canActivate: [AuthGuard]},</code></p>\n\n<p>Add an explicitly path for an e.g. LoginComponent.\nAnd <code>{path: '**', redirectTo: ''}</code> should also point to some kind of CatchUnmatchedPathComponent where a User gets some kind of 404 page represented.</p>\n"}, {"comments": [{"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 1, "creation_date": 1533132599, "post_id": 51634242, "comment_id": 90235229, "body": "Ah great! I must have missed this when I was switching back and forth between testing the different pages. Thanks again."}], "tags": [], "owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "is_accepted": true, "score": 2, "last_activity_date": 1533129631, "last_edit_date": 1533129631, "creation_date": 1533129225, "answer_id": 51634242, "question_id": 51634158, "link": "https://stackoverflow.com/questions/51634158/canactivate-causing-constant-refresh-angular2/51634242#51634242", "title": "canActivate causing constant refresh - Angular2+", "body": "<p>You are redirecting to the wrong route in your <strong><code>canActivate</code></strong> method. Redirect to <strong><code>login</code></strong>. Here are the change you need to make: </p>\n\n<pre><code>// if not logged in, navigate to login screen\nthis.router.navigate(['login'], {queryParams: {returnUrl: state.url}});\n</code></pre>\n\n<p>When you are redirecting to <strong><code>''</code></strong>, it goes again to the <strong><code>canActivate</code></strong> guard, hence the infinite loop.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rFdhT.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rFdhT.gif\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "reply_to_user": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 1, "creation_date": 1533129712, "post_id": 51634278, "comment_id": 90233056, "body": "I honestly believe it can as I am using that all the time when using <code>navigate</code>. It cannot start with <code>&#47;</code> in route definitions."}], "tags": [], "owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "is_accepted": false, "score": 1, "last_activity_date": 1533129300, "creation_date": 1533129300, "answer_id": 51634278, "question_id": 51634158, "link": "https://stackoverflow.com/questions/51634158/canactivate-causing-constant-refresh-angular2/51634278#51634278", "title": "canActivate causing constant refresh - Angular2+", "body": "<p>You are navigating to root by <code>this.router.navigate([''], {queryParams: {returnUrl: state.url}});</code> which causes the guard to kick in again therefore it gets in the loop.</p>\n\n<p>Try <code>this.router.navigate(['/login'], {queryParams: {returnUrl: state.url}});</code></p>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "accepted_answer_id": 51634242, "answer_count": 3, "score": 2, "last_activity_date": 1541515973, "creation_date": 1533128969, "last_edit_date": 1541515973, "question_id": 51634158, "link": "https://stackoverflow.com/questions/51634158/canactivate-causing-constant-refresh-angular2", "title": "canActivate causing constant refresh - Angular2+", "body": "<p>I am attempting to use the canActivate feature on my app routing, however whenever I compile the app the log shows constantly refreshing with fail messages that I had console.log()'d out for visibility.</p>\n\n<p>Is there something I am missing here?</p>\n"}, {"tags": ["javascript", "json", "angular", "typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 7308, "user_id": 4377430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVk7a.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4377430/adrian"}, "edited": false, "score": 1, "creation_date": 1533128500, "post_id": 51633941, "comment_id": 90232138, "body": "<a href=\"https://stackoverflow.com/questions/8294088/javascript-object-vs-json\" title=\"javascript object vs json\">stackoverflow.com/questions/8294088/javascript-object-vs-jso&zwnj;&#8203;n</a>"}, {"owner": {"reputation": 13259, "user_id": 1207049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/445e3d8cb8ef7471a15bdeda0b573de6?s=128&d=identicon&r=PG", "display_name": "marekful", "link": "https://stackoverflow.com/users/1207049/marekful"}, "edited": false, "score": 1, "creation_date": 1533128503, "post_id": 51633941, "comment_id": 90232139, "body": "Not possible. JSON values can only be scalars and literal object or array declarations."}], "answers": [{"comments": [{"owner": {"reputation": 23248, "user_id": 2404470, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1a5377833fe110fd04a7d750822a13c?s=128&d=identicon&r=PG&f=1", "display_name": "Zameer Ansari", "link": "https://stackoverflow.com/users/2404470/zameer-ansari"}, "edited": false, "score": 0, "creation_date": 1533128575, "post_id": 51633981, "comment_id": 90232191, "body": "How is it possible in DevTool console then?"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 23248, "user_id": 2404470, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1a5377833fe110fd04a7d750822a13c?s=128&d=identicon&r=PG&f=1", "display_name": "Zameer Ansari", "link": "https://stackoverflow.com/users/2404470/zameer-ansari"}, "edited": false, "score": 0, "creation_date": 1533128603, "post_id": 51633981, "comment_id": 90232213, "body": "@student \u2014 Because that is JavaScript (which <b>is</b> a programming language) and not JSON."}, {"owner": {"reputation": 23248, "user_id": 2404470, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1a5377833fe110fd04a7d750822a13c?s=128&d=identicon&r=PG&f=1", "display_name": "Zameer Ansari", "link": "https://stackoverflow.com/users/2404470/zameer-ansari"}, "edited": false, "score": 0, "creation_date": 1533128659, "post_id": 51633981, "comment_id": 90232254, "body": "Looking clear to me, so how do I handle this scenario then? Any suggestions please?"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 23248, "user_id": 2404470, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1a5377833fe110fd04a7d750822a13c?s=128&d=identicon&r=PG&f=1", "display_name": "Zameer Ansari", "link": "https://stackoverflow.com/users/2404470/zameer-ansari"}, "edited": false, "score": 0, "creation_date": 1533128783, "post_id": 51633981, "comment_id": 90232348, "body": "Store your functions in your program. Use the data in your data file to decide which functions to call."}, {"owner": {"reputation": 23248, "user_id": 2404470, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1a5377833fe110fd04a7d750822a13c?s=128&d=identicon&r=PG&f=1", "display_name": "Zameer Ansari", "link": "https://stackoverflow.com/users/2404470/zameer-ansari"}, "edited": false, "score": 0, "creation_date": 1533128991, "post_id": 51633981, "comment_id": 90232516, "body": "Thanks for the clarifications, For my specific project needs - I still need some work around for storing functions in JSON. Anyways thanks!"}], "tags": [], "owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 1, "last_activity_date": 1533128485, "creation_date": 1533128485, "answer_id": 51633981, "question_id": 51633941, "link": "https://stackoverflow.com/questions/51633941/is-it-not-possible-to-store-function-as-json-key-value-in-json-file-in-angular/51633981#51633981", "title": "Is it not possible to store function as JSON key value in .json file in angular 5", "body": "<p>There is no function data type in JSON.</p>\n\n<p>See <a href=\"http://json.org/\" rel=\"nofollow noreferrer\">the documentation</a>. JSON supports objects, arrays, strings, numbers, booleans and null.</p>\n\n<p>It is a data format, not a programming language. It doesn't make much sense for it to support functions. </p>\n"}, {"tags": [], "owner": {"reputation": 397, "user_id": 8011258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JjqMi.gif?s=128&g=1", "display_name": "\u0639\u0628\u062f\u0627\u0644\u0631\u062d\u0645\u0627\u0646", "link": "https://stackoverflow.com/users/8011258/%d8%b9%d8%a8%d8%af%d8%a7%d9%84%d8%b1%d8%ad%d9%85%d8%a7%d9%86"}, "is_accepted": false, "score": 2, "last_activity_date": 1533128986, "creation_date": 1533128986, "answer_id": 51634165, "question_id": 51633941, "link": "https://stackoverflow.com/questions/51633941/is-it-not-possible-to-store-function-as-json-key-value-in-json-file-in-angular/51634165#51634165", "title": "Is it not possible to store function as JSON key value in .json file in angular 5", "body": "<p>You can't put a function inside a json file because it is a data format language,\nbut you can do it in a js file with a JS Object like you did:</p>\n\n<pre><code>var obj = {\n  functionKey: function() {\n    console.log('function called!')\n  }\n}\nobj.functionKey();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6401, "user_id": 2528083, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/0bsQI.jpg?s=128&g=1", "display_name": "Atul Sharma", "link": "https://stackoverflow.com/users/2528083/atul-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1533129174, "creation_date": 1533129174, "answer_id": 51634225, "question_id": 51633941, "link": "https://stackoverflow.com/questions/51633941/is-it-not-possible-to-store-function-as-json-key-value-in-json-file-in-angular/51634225#51634225", "title": "Is it not possible to store function as JSON key value in .json file in angular 5", "body": "<pre><code>var obj = {\n  stringKey: \"stringValue\",\n  functionKey: function() {\n    console.log('function called!')\n  }\n}\n\nobj.functionKey();\n</code></pre>\n\n<p>Here you are just creating an Object <code>obj</code> not JSON.</p>\n\n<p>Just try to convert this Object to JSON using <code>JSON.stringify(obj)</code> it will remove the functionKey as its not a string.</p>\n"}, {"tags": [], "owner": {"reputation": 1479, "user_id": 297827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69fccaa235ecc07eb934fd31fd16f4?s=128&d=identicon&r=PG", "display_name": "mike123", "link": "https://stackoverflow.com/users/297827/mike123"}, "is_accepted": true, "score": 0, "last_activity_date": 1533136431, "creation_date": 1533136431, "answer_id": 51636853, "question_id": 51633941, "link": "https://stackoverflow.com/questions/51633941/is-it-not-possible-to-store-function-as-json-key-value-in-json-file-in-angular/51636853#51636853", "title": "Is it not possible to store function as JSON key value in .json file in angular 5", "body": "<p>See if that helps (<code>functionKey</code> needs to be a <code>string</code>, you would then use <code>eval</code> to get result)</p>\n\n<pre><code>var obj =  {\nstringKey : \"stringValue\",\nfunctionKey: \"(function() { console.log('function called')})()\"\n}\n\nvar result = eval(obj.functionKey);\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/spdr80c7/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/spdr80c7/</a></p>\n"}], "owner": {"reputation": 23248, "user_id": 2404470, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1a5377833fe110fd04a7d750822a13c?s=128&d=identicon&r=PG&f=1", "display_name": "Zameer Ansari", "link": "https://stackoverflow.com/users/2404470/zameer-ansari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2158, "favorite_count": 0, "accepted_answer_id": 51636853, "answer_count": 4, "score": -1, "last_activity_date": 1533136431, "creation_date": 1533128381, "last_edit_date": 1533128519, "question_id": 51633941, "link": "https://stackoverflow.com/questions/51633941/is-it-not-possible-to-store-function-as-json-key-value-in-json-file-in-angular", "title": "Is it not possible to store function as JSON key value in .json file in angular 5", "body": "<p>We have an Angular 5 project in which we have a <code>.json</code> file which we're loading in a <code>.ts</code> file using <a href=\"https://www.w3schools.com/xml/xml_http.asp\" rel=\"nofollow noreferrer\"><code>XMLHttpRequest</code></a>.</p>\n\n<p>The <code>.json</code> file have the following content:</p>\n\n<pre><code>{\n    stringKey: \"stringValue\",\n    functionKey: function() {\n        console.log('function called!')\n    }\n}\n</code></pre>\n\n<p>It throws the error: <code>[json] value expected</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/PGcCJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PGcCJ.png\" alt=\"json value expected\"></a></p>\n\n<p>If I open Chrome Devtool and set the above object as value - it works fine but not in the project</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = {\r\n  stringKey: \"stringValue\",\r\n  functionKey: function() {\r\n    console.log('function called!')\r\n  }\r\n}\r\n\r\nobj.functionKey();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Is there a work around for storing functions in pure JSON?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "recaptcha"], "comments": [{"owner": {"reputation": 647, "user_id": 7923571, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4e62d182c335f07c1f883e5b8809e740?s=128&d=identicon&r=PG&f=1", "display_name": "Ferus7", "link": "https://stackoverflow.com/users/7923571/ferus7"}, "edited": false, "score": 0, "creation_date": 1533127798, "post_id": 51633644, "comment_id": 90231643, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/27902539/how-can-i-validate-google-recaptcha-v2-using-javascript-jquery\">How can I validate google reCAPTCHA v2 using javascript/jQuery?</a>"}, {"owner": {"reputation": 1909, "user_id": 2225619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/286a6578091bb7b170a254eb8b5c100d?s=128&d=identicon&r=PG", "display_name": "Capricorn", "link": "https://stackoverflow.com/users/2225619/capricorn"}, "edited": false, "score": 0, "creation_date": 1533135784, "post_id": 51633644, "comment_id": 90237552, "body": "Not really a solution to the problem, but wouldn&#39;t it be better to use a library like <a href=\"https://github.com/DethAriel/ng-recaptcha\" rel=\"nofollow noreferrer\">ng-recaptcha</a> to avoid hacking around in the DOM yourself to get recaptcha?"}], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 6650215, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Z6HW_7-qYss/AAAAAAAAAAI/AAAAAAAAAIE/FCY3PV5GFPQ/photo.jpg?sz=128", "display_name": "Mahendra Waykos", "link": "https://stackoverflow.com/users/6650215/mahendra-waykos"}, "is_accepted": false, "score": 5, "last_activity_date": 1536326317, "creation_date": 1536326317, "answer_id": 52223417, "question_id": 51633644, "link": "https://stackoverflow.com/questions/51633644/using-scripts-in-angular-6-recaptcha/52223417#52223417", "title": "Using scripts in angular 6 - recaptcha", "body": "<blockquote>\n  <p><strong>To Use Google reCAPTCHA v3 in Angular 4,5,6 follow the simple steps</strong></p>\n  \n  <p>Register For the public key on <a href=\"https://www.google.com/recaptcha/\" rel=\"noreferrer\">Google official Recaptcha website</a></p>\n</blockquote>\n\n<p>Now Add following script file in your angular project <strong>index.html</strong></p>\n\n<pre><code>    &lt;script src='https://www.google.com/recaptcha/api.js'&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Then add the following tag in your <strong>Component file</strong> where you want to use Captcha</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;div id=\"captcha_element\" class=\"g-recaptcha\" \n     [attr.data-sitekey]=\"siteKeyCaptcha\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Now update your <strong>Typescript file</strong> with the following code.</p>\n\n<pre><code>declare var grecaptcha: any;\n\n//declare Varible with public key given by Google\nsiteKeyCaptcha: string = \"6LdF6xxxxxxxxxxxxxxxxxxxxxxxxxxxWVT\";\n\n//when we route back from the page we have to render captcha again\ngrecaptcha.render('capcha_element', {\n  'sitekey': this.siteKeyCaptcha\n});\n</code></pre>\n\n<blockquote>\n  <p>To get a Response from Captcha on click add call back event as follows\n      in <strong>HTML</strong></p>\n</blockquote>\n\n<pre><code>**HTML**\n&lt;div class=\"form-group\"&gt;\n   &lt;div id=\"capcha_element\" class=\"g-recaptcha\" \n   data-callback=\"getResponceCapcha\" [attr.data-sitekey]=\"siteKeyCaptcha\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n**Typescript**\nngOnInit() {\n  //....rest of code....\n  window['getResponceCapcha'] = this.getResponceCapcha.bind(this);\n}\n\ngetResponceCapcha(captchaResponse: string) {\n   this.verifyCaptcha(captchaResponse);\n}\n\nverifyCaptcha(captchaResponse: string) {\n  //you can do HTTP call from here\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>Click <a href=\"https://angular-mqhtvt.stackblitz.io\" rel=\"noreferrer\">here</a> for example and <a href=\"https://stackblitz.com/edit/angular-mqhtvt\" rel=\"noreferrer\">here</a> for code</strong></p>\n</blockquote>\n"}], "owner": {"reputation": 75, "user_id": 5893298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4913cd6f38184e0714b517b681023c?s=128&d=identicon&r=PG&f=1", "display_name": "Melchior_", "link": "https://stackoverflow.com/users/5893298/melchior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3070, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536326317, "creation_date": 1533127513, "last_edit_date": 1533129524, "question_id": 51633644, "link": "https://stackoverflow.com/questions/51633644/using-scripts-in-angular-6-recaptcha", "title": "Using scripts in angular 6 - recaptcha", "body": "<p>I am trying to implement recaptcha in my project, but I'm not sure how to use it.</p>\n\n<p>I'm importing script in this way:</p>\n\n<pre><code>public loadScript() {\nlet body = &lt;HTMLDivElement&gt;document.body;\nlet script = document.createElement('script');\nscript.innerHTML = '';\nscript.src = 'https://www.google.com/recaptcha/api.js';\nscript.async = true;\nscript.defer = true;\nbody.appendChild(script);\n}\n</code></pre>\n\n<p>Then I call this function in component constructor, and it works - recaptcha is properly rendered and works, but how to get response for my backend from it? </p>\n\n<p>I tried <code>grecaptcha.getResponse()</code> but I get <code>ReferenceError: \"grecaptcha is not defined\"</code> - what is interesting not always. So how to make Typescript know what  grecaptcha is?</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "object", "filter"], "answers": [{"comments": [{"owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "edited": false, "score": 2, "creation_date": 1533127700, "post_id": 51633656, "comment_id": 90231570, "body": "Please don&#39;t answer obvious duplicates. Close-vote them instead."}], "tags": [], "owner": {"reputation": 12469, "user_id": 7446273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49f80d5a526d262da36c33c3b4095a83?s=128&d=identicon&r=PG&f=1", "display_name": "Faly", "link": "https://stackoverflow.com/users/7446273/faly"}, "is_accepted": false, "score": -1, "last_activity_date": 1533127536, "creation_date": 1533127536, "answer_id": 51633656, "question_id": 51633620, "link": "https://stackoverflow.com/questions/51633620/filter-keys-from-objects-in-array/51633656#51633656", "title": "Filter keys from objects in array", "body": "<p>Just use array.map:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [\r\n { id: 5, name: \"foo\" },\r\n { id: 7, name: \"bar\" }\r\n];\r\n\r\nvar res = data.map(({id}) =&gt; id);\r\n\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 635, "user_id": 9766768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1818059251579855/picture?type=large", "display_name": "Friso Hoekstra", "link": "https://stackoverflow.com/users/9766768/friso-hoekstra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1533127674, "answer_count": 1, "score": -1, "last_activity_date": 1533127543, "creation_date": 1533127453, "question_id": 51633620, "link": "https://stackoverflow.com/questions/51633620/filter-keys-from-objects-in-array", "closed_reason": "Duplicate", "title": "Filter keys from objects in array", "body": "<p>My API hands me this array of objects:</p>\n\n<pre><code>[\n { id: 5, name: \"foo\" },\n { id: 7, name: \"bar\" }\n]\n</code></pre>\n\n<p>I would like to filter out the ID keys and achieve this:</p>\n\n<pre><code>[5,7]\n</code></pre>\n\n<p>What would be considered best practice in this case?</p>\n"}, {"tags": ["typescript", "async-await", "sleep"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1533127024, "post_id": 51633328, "comment_id": 90231085, "body": "Does this help ?: <a href=\"https://stackoverflow.com/questions/51618496/simple-countdown-timer-typescript/51618573#51618573\" title=\"simple countdown timer typescript\">stackoverflow.com/questions/51618496/&hellip;</a>"}, {"owner": {"reputation": 38, "user_id": 9936891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e025fbaf25bebc8969b38e0cc98ff6?s=128&d=identicon&r=PG&f=1", "display_name": "meeta", "link": "https://stackoverflow.com/users/9936891/meeta"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1533128925, "post_id": 51633328, "comment_id": 90232463, "body": "Yes it does, thanks!"}, {"owner": {"reputation": 14025, "user_id": 2150711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JHE02.jpg?s=128&g=1", "display_name": "v-andrew", "link": "https://stackoverflow.com/users/2150711/v-andrew"}, "edited": false, "score": 0, "creation_date": 1537637181, "post_id": 51633328, "comment_id": 91860400, "body": "duplicate of <a href=\"https://stackoverflow.com/questions/37764665/typescript-sleep\">stackoverflow.com/questions/37764665/typescript-sleep</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1473, "user_id": 3606572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xlzke.png?s=128&g=1", "display_name": "Stefano Dalpiaz", "link": "https://stackoverflow.com/users/3606572/stefano-dalpiaz"}, "is_accepted": true, "score": 1, "last_activity_date": 1533128548, "creation_date": 1533128548, "answer_id": 51634005, "question_id": 51633328, "link": "https://stackoverflow.com/questions/51633328/how-to-pause-a-function-in-typescript/51634005#51634005", "title": "How to pause a function in typescript?", "body": "<p>A solution could be to use the <code>async/await</code> pattern, and in your <code>while</code> loop you can await for a <code>Promise</code> that gets resolved after 2 seconds.</p>\n\n<p>Something like this:</p>\n\n<pre><code>function delay(timeInMillis: number): Promise&lt;void&gt; {\n  return new Promise((resolve) =&gt; setTimeout(() =&gt; resolve(), timeInMillis));\n}\n\nclass YourClass {\n  datasum = 0;\n\n  async startCalculating(): Promise&lt;void&gt; {\n    let _i = 0;\n    let _sum = 0;\n    while (_i &lt; 100) {\n      _sum += 2;\n      this.datasum = _sum;\n      await delay(2000);\n      _i += 1;\n    }\n  }\n}\n</code></pre>\n\n<p>For clarity, I tried to keep the code as similar as possible to your own.</p>\n"}], "owner": {"reputation": 38, "user_id": 9936891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e025fbaf25bebc8969b38e0cc98ff6?s=128&d=identicon&r=PG&f=1", "display_name": "meeta", "link": "https://stackoverflow.com/users/9936891/meeta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1757, "favorite_count": 0, "accepted_answer_id": 51634005, "answer_count": 1, "score": 1, "last_activity_date": 1533128548, "creation_date": 1533126521, "question_id": 51633328, "link": "https://stackoverflow.com/questions/51633328/how-to-pause-a-function-in-typescript", "title": "How to pause a function in typescript?", "body": "<p>How can I add a pause in this function, so that the value of 'datasum' changes every 2 seconds?</p>\n\n<pre><code>i:number; datasum:number; sum:number;\nstartCalculating(_i,_sum) \n{\n _i=1; _sum=0;\n while(_i&lt;100)\n {\n  _sum=_sum+2;\n  this.datasum=_sum;\n  _i=_i+1;\n }\n}\n</code></pre>\n\n<p>I have already tried the methods suggested in: \n<a href=\"https://stackoverflow.com/questions/45160542/how-to-pause-a-recursive-function-for-3-seconds-in-javascript\">pausing-in-js</a>, <a href=\"https://stackoverflow.com/questions/37764665/typescript-sleep\">typescript-sleep</a> and <a href=\"https://stackoverflow.com/questions/44181788/async-await-clarity-with-sleep-example\">async/await-in-ts</a>.\nAny help/suggestions would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 4, "creation_date": 1533124512, "post_id": 51632636, "comment_id": 90229383, "body": "Think about what function that <code>return</code> is actually in."}, {"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1533124841, "post_id": 51632636, "comment_id": 90229575, "body": "need a promise that resolves/rejects in the setTimeout"}], "answers": [{"tags": [], "owner": {"reputation": 990, "user_id": 2838274, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/agPFB.jpg?s=128&g=1", "display_name": "Sinan Guclu", "link": "https://stackoverflow.com/users/2838274/sinan-guclu"}, "is_accepted": true, "score": 1, "last_activity_date": 1533129313, "creation_date": 1533129313, "answer_id": 51634282, "question_id": 51632636, "link": "https://stackoverflow.com/questions/51632636/return-not-work-when-i-use-settimeout-in-try-catch/51634282#51634282", "title": "return not work when I use setTimeout in try-catch", "body": "<p>You need to return a <code>Promise</code> from the matchMaking function.</p>\n\n<pre><code>async function matchMaking (userId) {\n\n    return new Promise((res, rej) =&gt; {\n        const user = await User.findOne({\n            _id: userId\n        });\n        var timeOut1 = setTimeout(function() {\n            return res({\n                success: false,\n                msg: \"matchMaking aleready done\"\n            });\n        }, 20000);\n\n        if (match === true) {\n            clearTimeout(timeOut1);\n            return res({\n                success: true\n            });\n        }\n    });\n}\n</code></pre>\n\n<p>That way, when you call it like this - it will behave as expected:</p>\n\n<pre><code>matchMaking(userId).then(res =&gt; {\n  if (res.success) {\n    console.log(\"success\")\n  } else {\n    console.log(\"failed\")\n  }\n});\n</code></pre>\n\n<p>A better way to handle it would be to use a the <code>reject</code> callback of the promise:</p>\n\n<pre><code>async function matchMaking (userId) {\n\n    return new Promise((res, rej) =&gt; {\n        const user = await User.findOne({\n            _id: userId\n        });\n        var timeOut1 = setTimeout(function() {\n            return rej({\n                success: false,\n                msg: \"matchMaking aleready done\"\n            });\n        }, 20000);\n\n        if (match === true) {\n            clearTimeout(timeOut1);\n            return res({\n                success: true\n            });\n        }\n    });\n}\n</code></pre>\n\n<p>That way, when you call it like this - you can use <code>.catch()</code> to handle the failed state:</p>\n\n<pre><code>matchMaking(userId)\n    .then(res =&gt; console.log(\"success\"))\n    .catch(err =&gt; console.log(\"failed\"));\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 8815526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3625acf9c5b2ef7f3292f69954fb1c66?s=128&d=identicon&r=PG&f=1", "display_name": "ramin", "link": "https://stackoverflow.com/users/8815526/ramin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 51634282, "answer_count": 1, "score": 1, "last_activity_date": 1533129313, "creation_date": 1533124406, "last_edit_date": 1533128471, "question_id": 51632636, "link": "https://stackoverflow.com/questions/51632636/return-not-work-when-i-use-settimeout-in-try-catch", "title": "return not work when I use setTimeout in try-catch", "body": "<p>I have this try-catch block:</p>\n\n<pre><code>async function matchMaking(userId) {\n  try {\n\n    const user = await User.findOne({\n      _id: userId\n    });\n\n    var timeOut1 = setTimeout(function() {\n      return {\n        success: false,\n        msg: \"matchMaking aleready done\"\n      };\n    }, 20000);\n\n    //some code\n    if (match === true) {\n      clearTimeout(timeOut1);\n      return {\n        success: true\n      };\n    }\n\n  } catch (e) {\n    return {\n      success: false,\n      error: e\n    };\n  }\n}\n</code></pre>\n\n<p>And I used it as follows:</p>\n\n<pre><code>matchMaking(userId).then(res =&gt; {\n  if (res.success) {\n    console.log(\"success\")\n  } else {\n    console.log(\"failed\")\n  }\n});\n</code></pre>\n\n<p>When ( match === true ) its OK and i get \"success\" in console, But when ( match === false), I expect to see the \"failed\" in the console after 20 seconds.\nBut return does not work in setTimeout  and I do not get anything.</p>\n"}, {"tags": ["angular", "typescript", "asp.net-web-api", "get", "cross-domain"], "comments": [{"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533125264, "post_id": 51632627, "comment_id": 90229861, "body": "why the question is down voted?"}], "answers": [{"comments": [{"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533125243, "post_id": 51632796, "comment_id": 90229849, "body": "are you saying to change that?"}, {"owner": {"reputation": 6217, "user_id": 5397642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lijtH.jpg?s=128&g=1", "display_name": "alsami", "link": "https://stackoverflow.com/users/5397642/alsami"}, "reply_to_user": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533125306, "post_id": 51632796, "comment_id": 90229889, "body": "Cant&#39; be. CORS are for the browser. Your WebApi is not the browser-application that requests. Therefore the host <a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">localhost:4200</a> must be allowed and not the api-itself."}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533125360, "post_id": 51632796, "comment_id": 90229913, "body": "where to put localhost:4200"}, {"owner": {"reputation": 6217, "user_id": 5397642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lijtH.jpg?s=128&g=1", "display_name": "alsami", "link": "https://stackoverflow.com/users/5397642/alsami"}, "reply_to_user": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533125429, "post_id": 51632796, "comment_id": 90229960, "body": "Just check the example I provided. [EnableCors(origins: &quot;<a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">localhost:4200</a>&quot;, headers: &quot;<i>&quot;, methods: &quot;</i>&quot;)]"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533125643, "post_id": 51632796, "comment_id": 90230107, "body": "its looks like i need to put in all controller, my question is how i put it in one place instead of all controller"}, {"owner": {"reputation": 6217, "user_id": 5397642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lijtH.jpg?s=128&g=1", "display_name": "alsami", "link": "https://stackoverflow.com/users/5397642/alsami"}, "reply_to_user": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533125714, "post_id": 51632796, "comment_id": 90230153, "body": "Yes, and that is explained in microsofts example. Just saying that your cors configuration is / was wrong."}], "tags": [], "owner": {"reputation": 6217, "user_id": 5397642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lijtH.jpg?s=128&g=1", "display_name": "alsami", "link": "https://stackoverflow.com/users/5397642/alsami"}, "is_accepted": false, "score": 0, "last_activity_date": 1533124873, "creation_date": 1533124873, "answer_id": 51632796, "question_id": 51632627, "link": "https://stackoverflow.com/questions/51632627/access-control-allow-origin-header-contains-multiple-values/51632796#51632796", "title": "Access-Control-Allow-Origin&#39; header contains multiple values", "body": "<p>Yes, there is and you should use it that way.</p>\n\n<p>Create a config-class as seen in this <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/security/enabling-cross-origin-requests-in-web-api#scope-rules-for-enablecors\" rel=\"nofollow noreferrer\">example</a>.</p>\n\n<p>Your cors configuration is incorrect anyway now. You have to allow <code>http://localhost:4200</code>, not the url of your api <code>http://localhost:54721</code>.</p>\n"}], "owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538670779, "creation_date": 1533124386, "last_edit_date": 1533125087, "question_id": 51632627, "link": "https://stackoverflow.com/questions/51632627/access-control-allow-origin-header-contains-multiple-values", "title": "Access-Control-Allow-Origin&#39; header contains multiple values", "body": "<p>I am getting following error while i run my website:</p>\n\n<blockquote>\n  <p>Failed to load\n  <a href=\"http://localhost:54721/api/Auth/GetMenuItemsByRoleId/null\" rel=\"nofollow noreferrer\">http://localhost:54721/api/Auth/GetMenuItemsByRoleId/null</a>: The\n  'Access-Control-Allow-Origin' header contains multiple values\n  '<a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">http://localhost:4200</a>, *', but only one is allowed. Origin\n  '<a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">http://localhost:4200</a>' is therefore not allowed access</p>\n</blockquote>\n\n<p>To solve this, I have added following code in every controller, which works fine.</p>\n\n<pre><code>  [EnableCors(\"http://localhost:54721/\", \"*\", \"*\")]\n</code></pre>\n\n<p>So code will become like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1toco.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1toco.png\" alt=\"enter image description here\"></a></p>\n\n<p>But the fix is applied in every controller, this should be avoided.</p>\n\n<p>Is there a better fix which i can do it one place ,say web.config? </p>\n\n<p>My startup.cs as below:</p>\n\n<pre><code>public partial class Startup\n    {\n        public static OAuthAuthorizationServerOptions OAuthOptions { get; private set; }\n\n        public void Configuration(IAppBuilder app)\n        {\n            HttpConfiguration httpconfig = new HttpConfiguration();\n\n\n            WebApiConfig.Register(httpconfig);\n            //enable cors origin requests\n            app.UseCors(Microsoft.Owin.Cors.CorsOptions.AllowAll);\n            //app.\n            ConfigureOAuth(app);\n\n        }\n\n        public void ConfigureOAuth(IAppBuilder app)\n        {\n            double timeout = Convert.ToDouble(ConfigurationManager.AppSettings[\"Timeout\"].ToString());\n            OAuthAuthorizationServerOptions OAuthserverOptions = new OAuthAuthorizationServerOptions()\n            {\n                AllowInsecureHttp = true,\n                TokenEndpointPath = new PathString(\"/token\"),\n                AccessTokenExpireTimeSpan = TimeSpan.FromMinutes(10),\n                Provider = new SimpleAuthorizationServerProvider()\n            };\n\n            //Token generation\n            app.UseOAuthAuthorizationServer(OAuthserverOptions);\n            app.UseOAuthBearerAuthentication(new OAuthBearerAuthenticationOptions());\n        }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 2039765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jyMq9.jpg?s=128&g=1", "display_name": "Steve Royall", "link": "https://stackoverflow.com/users/2039765/steve-royall"}, "edited": false, "score": 1, "creation_date": 1533131895, "post_id": 51632442, "comment_id": 90234701, "body": "Thanks Prachi, you nailed it. I&#39;ll not forget that one again."}, {"owner": {"reputation": 457, "user_id": 1811279, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/b4946a5a7160e19ad1bd52bba426522d?s=128&d=identicon&r=PG", "display_name": "YasirPoongadan", "link": "https://stackoverflow.com/users/1811279/yasirpoongadan"}, "edited": false, "score": 0, "creation_date": 1582658193, "post_id": 51632442, "comment_id": 106851119, "body": "how i can solve this issue in dynamic object ?, my html look like this  &lt;div&gt;{{ joke[&#39;xyz&#39; + index] }}&lt;/div&gt;,  &#39;?&#39; solution not works here"}], "tags": [], "owner": {"reputation": 3002, "user_id": 9766215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHh26.jpg?s=128&g=1", "display_name": "Prachi", "link": "https://stackoverflow.com/users/9766215/prachi"}, "is_accepted": true, "score": 38, "last_activity_date": 1533123819, "creation_date": 1533123819, "answer_id": 51632442, "question_id": 51632397, "link": "https://stackoverflow.com/questions/51632397/angular-6-error-typeerror-cannot-read-property-value-of-undefined/51632442#51632442", "title": "Angular 6 - ERROR TypeError: Cannot read property &#39;value&#39; of undefined", "body": "<p>Just use </p>\n\n<pre><code>&lt;div&gt;{{ joke?.value }}&lt;/div&gt;\n</code></pre>\n\n<p>Your <code>joke</code> object doesn't have the value until the API response arrives. Thus  use <code>?</code> to apply the null check until the response arrives.</p>\n"}, {"comments": [{"owner": {"reputation": 812, "user_id": 4825815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oOEQ6.jpg?s=128&g=1", "display_name": "Denuka", "link": "https://stackoverflow.com/users/4825815/denuka"}, "edited": false, "score": 1, "creation_date": 1548234390, "post_id": 51633126, "comment_id": 95465717, "body": "Immediately after register into my application, need to update profile data. But in the beginning the model.address.postalCode is null. If i use &lt;div *ngIf=&quot;model.address&quot;&gt;, input filed will not display. What can I do for that ?"}], "tags": [], "owner": {"reputation": 3405, "user_id": 4934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4EKF.jpg?s=128&g=1", "display_name": "Aniket Avhad", "link": "https://stackoverflow.com/users/4934481/aniket-avhad"}, "is_accepted": false, "score": 5, "last_activity_date": 1533125862, "creation_date": 1533125862, "answer_id": 51633126, "question_id": 51632397, "link": "https://stackoverflow.com/questions/51632397/angular-6-error-typeerror-cannot-read-property-value-of-undefined/51633126#51633126", "title": "Angular 6 - ERROR TypeError: Cannot read property &#39;value&#39; of undefined", "body": "<p>You can use *ngIf until getting resopnse</p>\n\n<p>below is the sample,</p>\n\n<pre><code>&lt;div *ngIf=\"joke\"&gt;{{ joke.value }}&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4291, "user_id": 7344164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TKHbU.jpg?s=128&g=1", "display_name": "DevLoverUmar", "link": "https://stackoverflow.com/users/7344164/devloverumar"}, "edited": false, "score": 0, "creation_date": 1574838246, "post_id": 58817435, "comment_id": 104367983, "body": "copy-cat what so ever"}], "tags": [], "owner": {"reputation": 3032, "user_id": 8179245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jXkWh.jpg?s=128&g=1", "display_name": "Rohit.007", "link": "https://stackoverflow.com/users/8179245/rohit-007"}, "is_accepted": false, "score": -1, "last_activity_date": 1573556919, "creation_date": 1573556919, "answer_id": 58817435, "question_id": 51632397, "link": "https://stackoverflow.com/questions/51632397/angular-6-error-typeerror-cannot-read-property-value-of-undefined/58817435#58817435", "title": "Angular 6 - ERROR TypeError: Cannot read property &#39;value&#39; of undefined", "body": "<p>Angular 7 - ERROR TypeError: Cannot read property 'value' of undefined</p>\n\n<p>You can check for the object value by using the <code>?</code> operator.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;div&gt; {{ joke?.value }} &lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 2039765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jyMq9.jpg?s=128&g=1", "display_name": "Steve Royall", "link": "https://stackoverflow.com/users/2039765/steve-royall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28227, "favorite_count": 4, "accepted_answer_id": 51632442, "answer_count": 3, "score": 7, "last_activity_date": 1573556919, "creation_date": 1533123709, "question_id": 51632397, "link": "https://stackoverflow.com/questions/51632397/angular-6-error-typeerror-cannot-read-property-value-of-undefined", "title": "Angular 6 - ERROR TypeError: Cannot read property &#39;value&#39; of undefined", "body": "<p>I'm new to Angular and Typescript and cannot get to the bottom of this console error: \"ERROR TypeError: Cannot read property 'value' of undefined\"</p>\n\n<p>I'm calling a silly service that returns a Chuck Norris joke. This actually works OK. I'm getting Typescript console errors however.</p>\n\n<p>I've reproduced here:\n<a href=\"https://stackblitz.com/edit/angular-chuck\" rel=\"noreferrer\">https://stackblitz.com/edit/angular-chuck</a> </p>\n\n<p>Many thanks for looking.</p>\n\n<p><strong>data.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { DataModel } from './data.model';\n\n@Injectable()\nexport class DataService {\n  constructor( private http: HttpClient ) { }\n\n  chuckUrl = 'https://api.chucknorris.io/jokes/random';\n\n  getChuck() {\n      return this.http.get&lt;DataModel&gt;(this.chuckUrl);\n  }\n\n}\n</code></pre>\n\n<p><strong>data.model.ts</strong></p>\n\n<pre><code> export class DataModel {\n    public category: any;\n    public icon_url: string;\n    public id: string;\n    public url: string;\n    public value: string;\n}\n</code></pre>\n\n<p><strong>data.component</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { DataService } from './data.service';\nimport { DataModel } from './data.model';\n\n@Component({\n    selector: 'app-data',\n    templateUrl: './data.component.html'\n})\n\nexport class AppData implements OnInit {\n    constructor(private dataService: DataService) { }\n\n    joke: DataModel;\n\n    ngOnInit() {\n\n        this.dataService.getChuck()\n            .subscribe(\n                (data: DataModel ) =&gt; {\n                  if (data.category != 'explicit') {\n                    this.joke = data;\n                  } \n                }\n            ); \n    }\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 3, "creation_date": 1533122097, "post_id": 51631842, "comment_id": 90227862, "body": "of course <code>mCount</code> is a string then. <code>mCount = parseInt(mCount) + 1;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 0, "creation_date": 1533122161, "post_id": 51631874, "comment_id": 90227895, "body": "Thanks buddy @Prachi"}], "tags": [], "owner": {"reputation": 3002, "user_id": 9766215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHh26.jpg?s=128&g=1", "display_name": "Prachi", "link": "https://stackoverflow.com/users/9766215/prachi"}, "is_accepted": true, "score": 5, "last_activity_date": 1533122073, "creation_date": 1533122073, "answer_id": 51631874, "question_id": 51631842, "link": "https://stackoverflow.com/questions/51631842/angular-4-giving-concatenated-values-instead-of-adding-the-values/51631874#51631874", "title": "Angular 4 : giving concatenated values instead of adding the values", "body": "<p>You might be having your value as a string, just convert it into a number before adding. Use <code>+</code> operator to convert it into a number.</p>\n\n<pre><code>addCount(mCount){\n   mCount = +mCount + 1;\n   console.log(mCount);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 2, "last_activity_date": 1533122182, "creation_date": 1533122182, "answer_id": 51631903, "question_id": 51631842, "link": "https://stackoverflow.com/questions/51631842/angular-4-giving-concatenated-values-instead-of-adding-the-values/51631903#51631903", "title": "Angular 4 : giving concatenated values instead of adding the values", "body": "<p>use ParseInt to convert to a number, otherwise it will be considered as a string and concatenated,</p>\n\n<pre><code>mCount = parseInt(mCount) + 1\n</code></pre>\n"}], "owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 51631874, "answer_count": 2, "score": 1, "last_activity_date": 1533122182, "creation_date": 1533121964, "question_id": 51631842, "link": "https://stackoverflow.com/questions/51631842/angular-4-giving-concatenated-values-instead-of-adding-the-values", "title": "Angular 4 : giving concatenated values instead of adding the values", "body": "<p>I am working in an angular 4 application ,In this I am trying to add 1 with the parameter value of a method .</p>\n\n<p>Ex: if the method receives 1 as the parameter value I want to add parameter value + 1 inside the method .but it returns 11 instead of 2.</p>\n\n<pre><code>addCount(mCount){\n   mCount += 1;\n   console.log(mCount);\n}\n</code></pre>\n\n<p>can anyone help me to solve this </p>\n"}, {"tags": ["typescript", "module"], "answers": [{"comments": [{"owner": {"reputation": 3587, "user_id": 4554883, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Yxnvk.png?s=128&g=1", "display_name": "Dima Parzhitsky", "link": "https://stackoverflow.com/users/4554883/dima-parzhitsky"}, "edited": false, "score": 0, "creation_date": 1538386944, "post_id": 52237500, "comment_id": 92111568, "body": "I&#39;ve added a rough representation of the project structure. If I understood your answer correctly, it would make sense to create <code>project&#47;test&#47;tsconfig.json</code> file and specify <code>project&#47;lib&#47;index.ts</code> in its <code>references</code>, right? This looks a bit weird, so correct me if I&#39;m wrong."}, {"owner": {"reputation": 6438, "user_id": 1115220, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?s=128&d=identicon&r=PG", "display_name": "JasonS", "link": "https://stackoverflow.com/users/1115220/jasons"}, "reply_to_user": {"reputation": 3587, "user_id": 4554883, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Yxnvk.png?s=128&g=1", "display_name": "Dima Parzhitsky", "link": "https://stackoverflow.com/users/4554883/dima-parzhitsky"}, "edited": false, "score": 0, "creation_date": 1539191894, "post_id": 52237500, "comment_id": 92415862, "body": "@DmitryParzhitsky you can look at my open source typescript project for an example.   search npm for &quot;xlib&quot; and &quot;phantomjscloud&quot;.  the first is the library, the 2nd uses it.   Locally I have phantomjscloud reference xlib via <code>npm link xlib</code>"}], "tags": [], "owner": {"reputation": 6438, "user_id": 1115220, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?s=128&d=identicon&r=PG", "display_name": "JasonS", "link": "https://stackoverflow.com/users/1115220/jasons"}, "is_accepted": false, "score": 2, "last_activity_date": 1615198877, "last_edit_date": 1615198877, "creation_date": 1536426282, "answer_id": 52237500, "question_id": 51631786, "link": "https://stackoverflow.com/questions/51631786/how-to-use-project-references-in-typescript-3-0/52237500#52237500", "title": "How to use project references in TypeScript 3.0?", "body": "<p>It's for TypeScript libraries you develop, that are used by other TypeScript application. So for example, if you make some util library like <code>lodash</code> but are actively developing it along side your dependent application, the <code>references</code> in ``tsconfig.json``` lets you reference the source code, and have your dependent  application be rebuilt automatically when the util source changes (i.e.: <code>tsc</code> detects source code changes in the util ts lib)</p>\n<p>In my case specifically, I use the <code>references</code> in conjunction with <code>npm link</code> and git <code>submodules</code> and it's working out a lot better than in the <code>ts 2.x</code> days.</p>\n"}, {"comments": [{"owner": {"reputation": 2133, "user_id": 1289311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b641f7aaa9603b827997a90ed8ce60c8?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/1289311/clark"}, "edited": false, "score": 1, "creation_date": 1554828533, "post_id": 55000497, "comment_id": 97891748, "body": "Thanks for taking the time to write this Dmitry, I appreciate your insight."}, {"owner": {"reputation": 3587, "user_id": 4554883, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Yxnvk.png?s=128&g=1", "display_name": "Dima Parzhitsky", "link": "https://stackoverflow.com/users/4554883/dima-parzhitsky"}, "reply_to_user": {"reputation": 2133, "user_id": 1289311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b641f7aaa9603b827997a90ed8ce60c8?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/1289311/clark"}, "edited": false, "score": 1, "creation_date": 1554882385, "post_id": 55000497, "comment_id": 97909256, "body": "@Clark Happy to help!"}, {"owner": {"reputation": 1113, "user_id": 6113810, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-llqbl5KwhLI/AAAAAAAAAAI/AAAAAAAAABQ/VoRh5qAwe_U/photo.jpg?sz=128", "display_name": "Stan Mots", "link": "https://stackoverflow.com/users/6113810/stan-mots"}, "edited": false, "score": 25, "creation_date": 1554983534, "post_id": 55000497, "comment_id": 97954754, "body": "I wish the official docs were so clear as this answer. Thanks!"}, {"owner": {"reputation": 696, "user_id": 1825413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdc0079f241d9c2e7cab905c26bf50ab?s=128&d=identicon&r=PG&f=1", "display_name": "brainkim", "link": "https://stackoverflow.com/users/1825413/brainkim"}, "edited": false, "score": 9, "creation_date": 1560830555, "post_id": 55000497, "comment_id": 99853747, "body": "Can you show actual code in the test directory? Is <code>path</code> significant here as in we <code>import { myFunction } from &quot;path&quot;</code>. Feel like this answer is missing a crucial piece."}, {"owner": {"reputation": 3587, "user_id": 4554883, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Yxnvk.png?s=128&g=1", "display_name": "Dima Parzhitsky", "link": "https://stackoverflow.com/users/4554883/dima-parzhitsky"}, "reply_to_user": {"reputation": 696, "user_id": 1825413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdc0079f241d9c2e7cab905c26bf50ab?s=128&d=identicon&r=PG&f=1", "display_name": "brainkim", "link": "https://stackoverflow.com/users/1825413/brainkim"}, "edited": false, "score": 1, "creation_date": 1569416747, "post_id": 55000497, "comment_id": 102590072, "body": "@brainkim There is a couple of links to the project, where it is used. I&#39;ve edited the answer to add a couple more, and make them more obvious. Also, the source of the project is open, feel free to further investigate"}, {"owner": {"reputation": 2679, "user_id": 1602014, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ae608d20d2e862a070296c01311cb52d?s=128&d=identicon&r=PG", "display_name": "Chris Fremgen", "link": "https://stackoverflow.com/users/1602014/chris-fremgen"}, "edited": false, "score": 3, "creation_date": 1577463900, "post_id": 55000497, "comment_id": 105179210, "body": "Still no example of importing. A link to gitlab is not sufficient."}, {"owner": {"reputation": 3587, "user_id": 4554883, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Yxnvk.png?s=128&g=1", "display_name": "Dima Parzhitsky", "link": "https://stackoverflow.com/users/4554883/dima-parzhitsky"}, "reply_to_user": {"reputation": 2679, "user_id": 1602014, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ae608d20d2e862a070296c01311cb52d?s=128&d=identicon&r=PG", "display_name": "Chris Fremgen", "link": "https://stackoverflow.com/users/1602014/chris-fremgen"}, "edited": false, "score": 2, "creation_date": 1577528949, "post_id": 55000497, "comment_id": 105192169, "body": "@ChrisFremgen I&#39;m not completely sure, what exactly is missing. Is it the usage of <code>export</code> and <code>import</code> statements? If so, it is <b>not changed</b>; opting-in to Project References doesn&#39;t change that syntax. I thought that&#39;s obvious and just made a link, instead of copying the code. If you still feel like the code should be directly present in the answer, please let me know"}, {"owner": {"reputation": 1359, "user_id": 2857873, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/huAYF.png?s=128&g=1", "display_name": "Florian Wendelborn", "link": "https://stackoverflow.com/users/2857873/florian-wendelborn"}, "edited": false, "score": 1, "creation_date": 1581604077, "post_id": 55000497, "comment_id": 106498092, "body": "I had to add <code>&quot;paths&quot;: { &quot;@my&#47;theme&quot;: [&quot;..&#47;theme&#47;source&#47;&quot;] }</code> as well as <code>&quot;references&quot;: [{ &quot;path&quot;: &quot;..&#47;theme&#47;&quot; }]</code> to get it to work. Builds that don\u2019t change anything run in less than a second now. Hope this helps someone."}, {"owner": {"reputation": 752, "user_id": 5988653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e85e664e5e134cd57c19adab3a06f943?s=128&d=identicon&r=PG&f=1", "display_name": "DWR", "link": "https://stackoverflow.com/users/5988653/dwr"}, "edited": false, "score": 0, "creation_date": 1618176325, "post_id": 55000497, "comment_id": 118516759, "body": "So...project references have nothing to do with module resolution, is that right? This is only to cut down on compilation time by telling the compiler &quot;I depend on project A, and if that is up to date, we can go faster&quot; ?"}, {"owner": {"reputation": 704, "user_id": 4340953, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/aRLvk.jpg?s=128&g=1", "display_name": "fsociety", "link": "https://stackoverflow.com/users/4340953/fsociety"}, "edited": false, "score": 0, "creation_date": 1618317369, "post_id": 55000497, "comment_id": 118560448, "body": "What if the reference project has its own dependencies specified in a package.json file? I am running into bit of a problem and I have posted a question <a href=\"https://stackoverflow.com/questions/67070255/typescript-project-references-handle-third-party-dependencies-of-referenced-pro\" title=\"typescript project references handle third party dependencies of referenced pro\">stackoverflow.com/questions/67070255/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3587, "user_id": 4554883, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Yxnvk.png?s=128&g=1", "display_name": "Dima Parzhitsky", "link": "https://stackoverflow.com/users/4554883/dima-parzhitsky"}, "is_accepted": true, "score": 97, "last_activity_date": 1592337505, "last_edit_date": 1592337505, "creation_date": 1551781206, "answer_id": 55000497, "question_id": 51631786, "link": "https://stackoverflow.com/questions/51631786/how-to-use-project-references-in-typescript-3-0/55000497#55000497", "title": "How to use project references in TypeScript 3.0?", "body": "<h1>TL;DR:</h1>\n\n<p>The feature allows to define parts of the project as separate TypeScript modules. Among other things, this allows configuring those modules differently, building them separately etc.</p>\n\n<hr>\n\n<h1>Before</h1>\n\n<p>Initially, the <a href=\"https://gitlab.com/parzh/re-scaled/tree/50afae2e1ad7c2dd1799a4b92e77efd7d58aa1f9\" rel=\"noreferrer\">project structure</a>, when simplified, is similar to this:</p>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>/\n    src/\n        entity.ts # exports an entity\n    test/\n        entity.spec.ts # imports an entity\n    tsconfig.json\n</code></pre>\n\n<p><sub>An entity is <a href=\"https://gitlab.com/parzh/re-scaled/blob/50afae2e1ad7c2dd1799a4b92e77efd7d58aa1f9/src/index.ts#L3\" rel=\"noreferrer\">defined in <code>src/entity.ts</code> module</a>, and then <a href=\"https://gitlab.com/parzh/re-scaled/blob/50afae2e1ad7c2dd1799a4b92e77efd7d58aa1f9/test/unit/combined.spec.ts#L5\" rel=\"noreferrer\">used in <code>test/entity.spec.ts</code> file</a>.</sub></p>\n\n<p>Notice that there is only one <code>tsconfig.json</code> file here, sitting in the root folder. This basically says that this folder contains one big solid TypeScript project. This project includes a couple of files, organized in folders; some of those files are used for testing other ones.</p>\n\n<p>This structure however imposes a problem: the process of compiling the project (namely, <code>tsc</code>) also compiles the test files, thus creating <code>dist/test/entity.spec.{js|d.ts}</code> files in the output. This should not happen, therefore the <code>tsconfig.json</code> file is slightly altered to include only those files/folders that are intended for outside usage:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        // compiler options\n    },\n    \"include\": [\n        \"./src\"\n    ]\n}\n</code></pre>\n\n<p>This solves the problem, but in my case it also led to all files in <code>/test</code> folder being occasionally ignored by the TypeScript compiler during the development process. Also, this exclusive approach might not fit for everybody.</p>\n\n<hr>\n\n<h1>After</h1>\n\n<p>After <a href=\"https://gitlab.com/parzh/re-scaled/commit/ca47c1f6195b211ed5d61d2821864c8cecd86bad\" rel=\"noreferrer\">utilizing the feature</a>, the project structure has changed to this:</p>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>/\n    src/\n        entity.ts # exports an entity\n        tsconfig.json\n    test/\n        entity.spec.ts # imports an entity\n        tsconfig.json\n    tsconfig-base.json\n</code></pre>\n\n<p>Let's go through the changes:</p>\n\n<ol>\n<li>Renaming <code>/tsconfig.json</code> to <code>/tsconfig-base.json</code> is a pretty major thing by itself: the root folder is not a TypeScript project anymore, since <code>tsc</code> requires <code>tsconfig.json</code> file to be present.</li>\n<li>On the other hand, adding <code>src/tsconfig.json</code> and <code>test/tsconfig.json</code> files turns both <code>src</code> and <code>test</code> into two separate TypeScript projects, independent from each other.</li>\n</ol>\n\n<p>The contents of <code>/{src|test}/tsconfig.json</code> files are similar, since no changes in configuration were expected, i.e., the \"strictness\", the output folder, as well as other such parameters, should be preserved. In order to make them similar without copy-pasting anything, <a href=\"https://gitlab.com/parzh/re-scaled/blob/ca47c1f6195b211ed5d61d2821864c8cecd86bad/tsconfig.json\" rel=\"noreferrer\">all the configurations are put in an arbitrary file</a>, accessible from both places; in this case, the <code>tsconfig-base.json</code> in the root folder was selected for that:</p>\n\n<pre><code>// the contents of /tsconfig-base.json\n{\n    \"compilerOptions\": {\n        // compiler options, common to both projects\n    }\n}\n</code></pre>\n\n<p><a href=\"https://gitlab.com/parzh/re-scaled/blob/ca47c1f6195b211ed5d61d2821864c8cecd86bad/src/tsconfig.json#L2\" rel=\"noreferrer\">This file is being \"inherited\" then</a> by <code>/{src|test}/tsconfig.json</code> files, with addition of any other options if needed:</p>\n\n<pre><code>// the contents of /{src|test}/tsconfig.json\n{\n    \"extends\": \"../tsconfig-base.json\",\n    \"compilerOptions\": {\n        // additional compiler options, specific to a project\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Notice how this pattern is similar to defining an <code>abstract class</code> with incomplete implementation, and then extending it by two separate \"concrete\" classes.</p>\n</blockquote>\n\n<p>Now, <code>/src</code> and <code>/test</code> folders basically hold two separate TypeScript projects with similar configuration. The last thing to do is to specify relation between the two.  Since <code>test</code> depends on <code>src</code>, the <code>test</code> have to somehow \"know\" about <code>src</code>. This is done in two pretty obvious steps:</p>\n\n<ul>\n<li><p><a href=\"https://gitlab.com/parzh/re-scaled/blob/ca47c1f6195b211ed5d61d2821864c8cecd86bad/src/tsconfig.json#L4\" rel=\"noreferrer\">allow <code>src</code> to be \"referenced\"</a> from the outside by declaring it as \"composite\":</p>\n\n<pre><code>// in /src/tsconfig.json\n{\n    \"extends\": \"../tsconfig-base.json\",\n    \"compilerOptions\": {\n        // compiler options\n        \"composite\": true\n    }\n}\n</code></pre></li>\n<li><p><a href=\"https://gitlab.com/parzh/re-scaled/blob/ca47c1f6195b211ed5d61d2821864c8cecd86bad/test/tsconfig.json#L4\" rel=\"noreferrer\">reference <code>src</code> from <code>test</code></a>:</p>\n\n<pre><code>// in /test/tsconfig.json\n{\n    \"extends\": \"../tsconfig-base.json\",\n    \"references\": [\n        { \"path\": \"../src\" }\n    ]\n}\n</code></pre></li>\n</ul>\n\n<p>The <code>\"include\"</code> array in <code>/tsconfig-base.json</code> <a href=\"https://gitlab.com/parzh/re-scaled/blob/ca47c1f6195b211ed5d61d2821864c8cecd86bad/tsconfig.json\" rel=\"noreferrer\">is not needed now</a>, since the code exclusion is done by \"drawing new borders\".</p>\n\n<blockquote>\n  <p><em>UPDATE: the following section seems to be outdated since <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#build-free-editing-with-project-references\" rel=\"noreferrer\">TypeScript 3.7</a></em></p>\n</blockquote>\n\n<p>Now, the <code>test</code> project requires <code>*.d.ts</code> files for <code>src</code> project to be present. This means that before running tests, the <code>src</code> should already be built, separately. This is done by <a href=\"https://gitlab.com/parzh/re-scaled/blob/ca47c1f6195b211ed5d61d2821864c8cecd86bad/package.json#L11\" rel=\"noreferrer\">using the new mode of <code>tsc</code></a>, triggered by <code>--build</code> option:</p>\n\n<pre><code>tsc --build src\n</code></pre>\n\n<p>This command builds <code>src</code> project and puts the output in the specified output folder (in this case, <code>/dist</code>), without neither breaking <code>test</code>, nor losing any compile errors.</p>\n"}], "owner": {"reputation": 3587, "user_id": 4554883, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Yxnvk.png?s=128&g=1", "display_name": "Dima Parzhitsky", "link": "https://stackoverflow.com/users/4554883/dima-parzhitsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16713, "favorite_count": 21, "accepted_answer_id": 55000497, "answer_count": 2, "score": 60, "last_activity_date": 1615198877, "creation_date": 1533121757, "last_edit_date": 1538386757, "question_id": 51631786, "link": "https://stackoverflow.com/questions/51631786/how-to-use-project-references-in-typescript-3-0", "title": "How to use project references in TypeScript 3.0?", "body": "<p>There is this new feature in TypeScript 3.0 called <a href=\"http://www.typescriptlang.org/docs/handbook/project-references.html\" rel=\"noreferrer\">Project References</a>. It suggests better interaction of <code>*.ts</code> modules between themselves. Unfortunately, this is all I could get from the official documentation \ud83d\ude1e although it seems to be written pretty clearly and straightforward.</p>\n\n<p>Can anyone help me understand exactly, what problems does it solve, how does it do that, and how would I benefit from it? I have a project with a similar structure, so it might (or might not) be very helpful for it. Thank you in advance!</p>\n\n<hr>\n\n<p>UPD: The project structure is roughly:</p>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>project/\n    lib/\n        index.ts # defines the original code\n    test/\n        index.spec.ts # requires lib/index.ts\n    package.json\n    tsconfig.json\n</code></pre>\n"}, {"tags": ["typescript", "async-await", "electron"], "answers": [{"comments": [{"owner": {"reputation": 629, "user_id": 947037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6fcde73b255678d51a7b72bedbd9c44f?s=128&d=identicon&r=PG", "display_name": "Elarys", "link": "https://stackoverflow.com/users/947037/elarys"}, "edited": false, "score": 0, "creation_date": 1533126588, "post_id": 51632431, "comment_id": 90230755, "body": "That just me <code>&#39;Information : &#39;</code>, however just inf without trying to concatenate it together works just fine. Thanks for that. Probably works as it was in the getAll because it&#39;s still a string object at that point."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1533123798, "creation_date": 1533123798, "answer_id": 51632431, "question_id": 51631715, "link": "https://stackoverflow.com/questions/51631715/async-typed-rest-client-and-promise-execution/51632431#51632431", "title": "async typed-rest-client and promise execution", "body": "<p>In this line:</p>\n\n<pre><code>console.dir(\"Information : \" + inf, { depth: null, colors: true });\n</code></pre>\n\n<p>the string concatenation is calling <code>inf.toString()</code>, converting <code>inf</code> to that useless <code>[object Object]</code> string before it even gets to <code>console.dir</code>.  Try this and you may see your data:</p>\n\n<pre><code>console.dir(\"Information : \", inf, { depth: null, colors: true });\n</code></pre>\n"}], "owner": {"reputation": 629, "user_id": 947037, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6fcde73b255678d51a7b72bedbd9c44f?s=128&d=identicon&r=PG", "display_name": "Elarys", "link": "https://stackoverflow.com/users/947037/elarys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "accepted_answer_id": 51632431, "answer_count": 1, "score": 0, "last_activity_date": 1533123798, "creation_date": 1533121536, "question_id": 51631715, "link": "https://stackoverflow.com/questions/51631715/async-typed-rest-client-and-promise-execution", "title": "async typed-rest-client and promise execution", "body": "<p>I'm very new to Typescript and developing my first Electron based application. The first part is a class that populates a local DB with results from a json web service.</p>\n\n<p>My Classes to get the data are as below, an extended class. Within the getAll, if I console out the body after JSON.parse I can see my results in my console without a problem.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import * as typedHttpClient from \"typed-rest-client/HttpClient\";\r\n\r\nabstract class Client&lt;Id, Item&gt; {\r\n  private url: string;\r\n\r\n  constructor(url: string) {\r\n    this.url = url;\r\n  }\r\n\r\n  public async getAll() {\r\n    const httpc: typedHttpClient.HttpClient = new typedHttpClient.HttpClient(\"pip-dev\");\r\n    let body = await (await httpc.get(this.url)).readBody();\r\n    body = JSON.parse(body);\r\n    return body;\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default Client;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { BASE_URI } from \"../config\";\r\nimport Client from \"./client\";\r\n\r\nconst URI = `${BASE_URI}/v2/achievements/daily`;\r\n\r\nexport interface IAchievementDaily {\r\n  id: number;\r\n  level: ILevel;\r\n  required_access: string[];\r\n}\r\n\r\nexport interface ILevel {\r\n  min: number;\r\n  max: number;\r\n}\r\n\r\nexport class AchievementsDailyClient extends Client&lt;number, IAchievementDaily&gt; {\r\n  constructor() {\r\n    super(URI);\r\n  }\r\n}\r\n\r\nexport default new AchievementsDailyClient();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>However, when I call this from my Database class with the following code, I only manage to get either a Promise:String or Object:Object output.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  public getAchievementsDaily() {\r\n    const response = api.achievementsDaily.getAll();\r\n    response.then((result) =&gt; this.logInformation(result));\r\n  }\r\n\r\n  private logInformation(inf: any) {\r\n    if (inf) {\r\n     // tslint:disable-next-line:no-console\r\n     console.dir(\"Information : \" + inf, { depth: null, colors: true });\r\n    }\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As far as I can tell, the response.then command should only be called once my getAll has returned the body. I've checked multiple tutorials and this was as far as I could get.</p>\n\n<p>I'm clearly missing something as this shouldn't be this hard. Is there something that I need to do to parse the results differently?</p>\n"}, {"tags": ["typescript", "react-native"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1533121561, "post_id": 51631604, "comment_id": 90227536, "body": "What specific errors are you getting ?"}, {"owner": {"reputation": 325, "user_id": 6250683, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yuX0f.jpg?s=128&g=1", "display_name": "Anuar  Maratkhan", "link": "https://stackoverflow.com/users/6250683/anuar-maratkhan"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1533121722, "post_id": 51631604, "comment_id": 90227610, "body": "@TitianCernicova-Dragomir Property &#39;type&#39; does not exist on type &#39;MeterReadingStaticState&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 6250683, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yuX0f.jpg?s=128&g=1", "display_name": "Anuar  Maratkhan", "link": "https://stackoverflow.com/users/6250683/anuar-maratkhan"}, "edited": false, "score": 0, "creation_date": 1533141976, "post_id": 51632376, "comment_id": 90241304, "body": "Yes, it is in the same class. And yes, typescript is installed and workes well. I can see it from other classes."}, {"owner": {"reputation": 269, "user_id": 10150718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7439f56d93505dec951be346e0feb680?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy Alfares", "link": "https://stackoverflow.com/users/10150718/timothy-alfares"}, "reply_to_user": {"reputation": 325, "user_id": 6250683, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yuX0f.jpg?s=128&g=1", "display_name": "Anuar  Maratkhan", "link": "https://stackoverflow.com/users/6250683/anuar-maratkhan"}, "edited": false, "score": 0, "creation_date": 1533159615, "post_id": 51632376, "comment_id": 90249691, "body": "Okay, can you give the screenshot of typescript error that you encountered?"}], "tags": [], "owner": {"reputation": 269, "user_id": 10150718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7439f56d93505dec951be346e0feb680?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy Alfares", "link": "https://stackoverflow.com/users/10150718/timothy-alfares"}, "is_accepted": false, "score": 0, "last_activity_date": 1533123665, "creation_date": 1533123665, "answer_id": 51632376, "question_id": 51631604, "link": "https://stackoverflow.com/questions/51631604/state-interface-properties-in-typescript-react-native/51632376#51632376", "title": "State interface properties in TypeScript + React Native", "body": "<p>First, can I ask if your MeterReadingStaticState is in the same file of your class?</p>\n\n<p>Second, can you see your package.json file and make sure that you have your typescript installed properly?</p>\n\n<p>Let me know about it because it might help to solve the problem</p>\n"}], "owner": {"reputation": 325, "user_id": 6250683, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yuX0f.jpg?s=128&g=1", "display_name": "Anuar  Maratkhan", "link": "https://stackoverflow.com/users/6250683/anuar-maratkhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1533123665, "creation_date": 1533121167, "last_edit_date": 1533121830, "question_id": 51631604, "link": "https://stackoverflow.com/questions/51631604/state-interface-properties-in-typescript-react-native", "title": "State interface properties in TypeScript + React Native", "body": "<p>I am rewriting the existing code in JavaScript to TypeScript. However, I am a little bit newbie in React Native. My problem is:</p>\n\n<p>I have a custom <code>Component</code> with custom <code>State</code> interface. I want to resolve the errors I am getting right now inside the component itself by customizing the <code>State</code> interface. Here is the code I have for the interface:</p>\n\n<pre><code>interface MeterReadingStaticState {\n  process: any,\n  selected: {\n    value: any,\n    isAccepted: boolean,\n    type: any,\n  },\n  isLoaded: boolean,\n}\n</code></pre>\n\n<p>and this is a content of my <code>Component</code>:</p>\n\n<pre><code>export default class MeterReadingStatic extends Component&lt;\n    MeterReadingStaticProps, MeterReadingStaticState&gt; {\n  state: MeterReadingStaticState = {\n    selected: {\n    value: '',\n    isAccepted: false,\n    type: '',\n  },\n    process: [],\n    isLoaded: false\n  };\n\nonAcceptPress = () =&gt; {\n    const updatedProcess = this._updateObj('isAccepted', true);\n    this.setState({ process: updatedProcess });\n  };\n\n_updateObj = (prop: MeterReadingStaticProps, value: any) =&gt; {\n    const { process, selected } = this.state;\n    const target = process.filter(\n      item =&gt; item.name === selected.name &amp;&amp; item.type === selected.type\n    )[0];\n    target[prop] = value;\n\n    const updatedProcess = process.map(\n      item =&gt;\n        item.name === target.name &amp;&amp; item.type === target.type ? target : item\n    );\n\n    return updatedProcess;\n  };\n</code></pre>\n\n<p>As it can be seen from the code above, I want to access specific parameters of state properties. However, I am getting a bunch of errors when I am trying to do so. I also get some errors when I try to initialize my <code>State</code> and when I try to <code>_updateObj</code> in <code>onAcceptPress</code> function.</p>\n\n<p>I haven't found any sources on such specific case in defining an interface of a <code>State</code>. Any solutions on that?</p>\n"}, {"tags": ["angular", "typescript", "primeng"], "comments": [{"owner": {"reputation": 465, "user_id": 3710630, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100784534/picture?type=large", "display_name": "Sujay", "link": "https://stackoverflow.com/users/3710630/sujay"}, "edited": false, "score": 0, "creation_date": 1533120526, "post_id": 51631349, "comment_id": 90226898, "body": "Please add your HTML as well"}, {"owner": {"reputation": 1221, "user_id": 2530536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6UDP.jpg?s=128&g=1", "display_name": "Tim Martens", "link": "https://stackoverflow.com/users/2530536/tim-martens"}, "edited": false, "score": 0, "creation_date": 1533120544, "post_id": 51631349, "comment_id": 90226911, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/38892771/cant-bind-to-ngmodel-since-it-isnt-a-known-property-of-input\">Can&#39;t bind to &#39;ngModel&#39; since it isn&#39;t a known property of &#39;input&#39;</a>"}, {"owner": {"reputation": 89, "user_id": 6770430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYun2.jpg?s=128&g=1", "display_name": "Ravindra Gupta", "link": "https://stackoverflow.com/users/6770430/ravindra-gupta"}, "edited": false, "score": 0, "creation_date": 1533121920, "post_id": 51631349, "comment_id": 90227753, "body": "I think u are not write well ngModel -- [(ngModel)]=&quot;var&quot;"}, {"owner": {"reputation": 89, "user_id": 6770430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYun2.jpg?s=128&g=1", "display_name": "Ravindra Gupta", "link": "https://stackoverflow.com/users/6770430/ravindra-gupta"}, "edited": false, "score": 0, "creation_date": 1533122051, "post_id": 51631349, "comment_id": 90227840, "body": "template parse error means, error only in html part so again analyse your html code"}, {"owner": {"reputation": 85, "user_id": 1827859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d572fe669de62ca4eadecc4abc9bdb2?s=128&d=identicon&r=PG", "display_name": "Aytunc MATRAC", "link": "https://stackoverflow.com/users/1827859/aytunc-matrac"}, "reply_to_user": {"reputation": 465, "user_id": 3710630, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100784534/picture?type=large", "display_name": "Sujay", "link": "https://stackoverflow.com/users/3710630/sujay"}, "edited": false, "score": 0, "creation_date": 1533122599, "post_id": 51631349, "comment_id": 90228185, "body": "@Sujay I added html code in the step 5."}, {"owner": {"reputation": 85, "user_id": 1827859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d572fe669de62ca4eadecc4abc9bdb2?s=128&d=identicon&r=PG", "display_name": "Aytunc MATRAC", "link": "https://stackoverflow.com/users/1827859/aytunc-matrac"}, "reply_to_user": {"reputation": 89, "user_id": 6770430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYun2.jpg?s=128&g=1", "display_name": "Ravindra Gupta", "link": "https://stackoverflow.com/users/6770430/ravindra-gupta"}, "edited": false, "score": 0, "creation_date": 1533122685, "post_id": 51631349, "comment_id": 90228233, "body": "@RavindraGupta But I didn&#39;t even write the html code I just copied and pasted from the official PrimeNg website."}, {"owner": {"reputation": 89, "user_id": 6770430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYun2.jpg?s=128&g=1", "display_name": "Ravindra Gupta", "link": "https://stackoverflow.com/users/6770430/ravindra-gupta"}, "edited": false, "score": 0, "creation_date": 1533124793, "post_id": 51631349, "comment_id": 90229538, "body": "You have to import FormsModule in app.module.ts"}], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 10, "last_activity_date": 1533120541, "creation_date": 1533120541, "answer_id": 51631407, "question_id": 51631349, "link": "https://stackoverflow.com/questions/51631349/cant-bind-to-ngmodel-since-it-isnt-a-known-property-of-p-autocomplete/51631407#51631407", "title": "Can&#39;t bind to &#39;ngModel&#39; since it isn&#39;t a known property of &#39;p-autoComplete&#39;", "body": "<p>You need to import the <a href=\"https://angular.io/guide/forms#template-driven-forms\" rel=\"noreferrer\">FormsModule</a> since <code>ngModel</code> is part of it:</p>\n\n<pre><code>import { FormsModule }   from '@angular/forms';\n         ^^^^^^^^^^^\n\nimport { AutoCompleteModule } from 'primeng/autocomplete';\n//other imports\n@NgModule({\ndeclarations: [\n  AppComponent,\n  HomeComponent\n],\nimports: [\n  BrowserModule,\n  FormsModule,\n  ^^^^^^^^^^^^\n  AutoCompleteModule\n],\n  providers: [CountryServiceService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 1827859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d572fe669de62ca4eadecc4abc9bdb2?s=128&d=identicon&r=PG", "display_name": "Aytunc MATRAC", "link": "https://stackoverflow.com/users/1827859/aytunc-matrac"}, "edited": false, "score": 0, "creation_date": 1533121961, "post_id": 51631456, "comment_id": 90227783, "body": "I did that, problem still exist"}, {"owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "reply_to_user": {"reputation": 85, "user_id": 1827859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d572fe669de62ca4eadecc4abc9bdb2?s=128&d=identicon&r=PG", "display_name": "Aytunc MATRAC", "link": "https://stackoverflow.com/users/1827859/aytunc-matrac"}, "edited": false, "score": 0, "creation_date": 1533122014, "post_id": 51631456, "comment_id": 90227820, "body": "please post your html."}, {"owner": {"reputation": 85, "user_id": 1827859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d572fe669de62ca4eadecc4abc9bdb2?s=128&d=identicon&r=PG", "display_name": "Aytunc MATRAC", "link": "https://stackoverflow.com/users/1827859/aytunc-matrac"}, "edited": false, "score": 0, "creation_date": 1533123091, "post_id": 51631456, "comment_id": 90228452, "body": "check step 5 its there"}], "tags": [], "owner": {"reputation": 5996, "user_id": 9379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e048397f8222a2baf867bc55a5843599?s=128&d=identicon&r=PG&f=1", "display_name": "Akj", "link": "https://stackoverflow.com/users/9379329/akj"}, "is_accepted": false, "score": 0, "last_activity_date": 1533126065, "last_edit_date": 1533126065, "creation_date": 1533120720, "answer_id": 51631456, "question_id": 51631349, "link": "https://stackoverflow.com/questions/51631349/cant-bind-to-ngmodel-since-it-isnt-a-known-property-of-p-autocomplete/51631456#51631456", "title": "Can&#39;t bind to &#39;ngModel&#39; since it isn&#39;t a known property of &#39;p-autoComplete&#39;", "body": "<p>Working Fine For me <a href=\"https://stackblitz.com/edit/angular-srt6nq\" rel=\"nofollow noreferrer\">example</a></p>\n\n<p>basic html:</p>\n\n<pre><code>&lt;p&gt;\n    p-autoComplete Example\n&lt;/p&gt;\n\n&lt;p-autoComplete [(ngModel)]=\"text\" [suggestions]=\"results\" (completeMethod)=\"search($event)\"&gt;&lt;/p-autoComplete&gt;\n\n{{text}}\n</code></pre>\n\n<p>app.module.ts:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\n\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { AppComponent } from './app.component';\nimport { HelloComponent } from './hello.component';\nimport {AutoCompleteModule} from 'primeng/autocomplete';\n\n@NgModule({\n  imports: [BrowserModule, FormsModule, AutoCompleteModule, BrowserAnimationsModule],\n  declarations: [AppComponent, HelloComponent],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>app.component.ts:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  text: string;\n\n  results: string[]\n\n  search(event) {\n    this.results = ['aashish', 'ajay', 'Rama', 'Pidi'];\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 1827859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d572fe669de62ca4eadecc4abc9bdb2?s=128&d=identicon&r=PG", "display_name": "Aytunc MATRAC", "link": "https://stackoverflow.com/users/1827859/aytunc-matrac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2990, "favorite_count": 1, "accepted_answer_id": 51631407, "answer_count": 2, "score": 5, "last_activity_date": 1533126065, "creation_date": 1533120329, "last_edit_date": 1533122537, "question_id": 51631349, "link": "https://stackoverflow.com/questions/51631349/cant-bind-to-ngmodel-since-it-isnt-a-known-property-of-p-autocomplete", "title": "Can&#39;t bind to &#39;ngModel&#39; since it isn&#39;t a known property of &#39;p-autoComplete&#39;", "body": "<p>I have installed PrimeNg. I am using <code>p-autoComplete</code> component but this error occurs now. I checked everywhere but couldn't find anything. Also, all I was just trying to replicate one of offical PrimeNg demo. p-autocomplete component.</p>\n\n<p>1 - I've installed PrimeNg like this. </p>\n\n<pre><code>npm install primeng --save\nnpm install primeicons --save\n</code></pre>\n\n<p>2 - I have added the module to my app.component.ts file like this. </p>\n\n<pre><code>import { AutoCompleteModule } from 'primeng/autocomplete';\n//other imports\n@NgModule({\ndeclarations: [\n  AppComponent,\n  HomeComponent\n],\nimports: [\n  BrowserModule,\n  AutoCompleteModule\n],\n  providers: [CountryServiceService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>3 - using Angular Cli I have created a service and added demo code from primeNg official website. </p>\n\n<p>4 - I have showed my service in my app.component.ts file like this.</p>\n\n<pre><code>    import { CountryServiceService } from './country-service.service';\n...\nproviders: [CountryServiceService],\n...\n</code></pre>\n\n<p>5 - Created a component called home and in the home.component.html I copied and pasted official website deme code. </p>\n\n<pre><code>&lt;h3 class=\"first\"&gt;Basic&lt;/h3&gt;\n&lt;p-autoComplete [(ngModel)]=\"country\"         \n[suggestions]=\"filteredCountriesSingle\"         (completeMethod)=\"filterCountrySingle($event)\" field=\"name\" [size]=\"30\"     placeholder=\"Countries\" [minLength]=\"1\"&gt;&lt;/p-autoComplete&gt;\n&lt;span style=\"margin-left:10px\"&gt;Country: {{country ? country.name||country : 'none'}}&lt;/span&gt;\n&lt;h3&gt;Advanced&lt;/h3&gt;\n&lt;p-autoComplete [(ngModel)]=\"brand\" [suggestions]=\"filteredBrands\" (completeMethod)=\"filterBrands($event)\" [size]=\"30\" [minLength]=\"1\" placeholder=\"Hint: type 'v' or 'f'\" [dropdown]=\"true\"&gt;\n  &lt;ng-template let-brand pTemplate=\"item\"&gt;\n    &lt;div class=\"ui-helper-clearfix\" style=\"border-bottom:1px solid #D5D5D5\"&gt;\n      &lt;img src=\"assets/showcase/images/demo/car/{{brand}}.png\" style=\"width:32px;display:inline-block;margin:5px 0 2px 5px\" /&gt;\n      &lt;div style=\"font-size:18px;float:right;margin:10px 10px 0 0\"&gt;{{brand}}&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/ng-template&gt;\n&lt;/p-autoComplete&gt;\n&lt;span style=\"margin-left:50px\"&gt;Brand: {{brand||'none'}}&lt;/span&gt;\n&lt;h3&gt;Multiple&lt;/h3&gt;\n&lt;span class=\"ui-fluid\"&gt;\n    &lt;p-autoComplete [(ngModel)]=\"countries\" [suggestions]=\"filteredCountriesMultiple\" (completeMethod)=\"filterCountryMultiple($event)\" styleClass=\"wid100\"\n    [minLength]=\"1\" placeholder=\"Countries\" field=\"name\" [multiple]=\"true\"&gt;\n    &lt;/p-autoComplete&gt;\n&lt;/span&gt;\n&lt;ul&gt;\n  &lt;li *ngFor=\"let c of countries\"&gt;{{c.name}}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>6 - in the home.component.ts file I copied and pasted official website demo code. </p>\n\n<p>7 - in the app.component.html I added my home component to see if everything works. </p>\n\n<p>So, I did these steps and I am not getting the desired behavior or I cant even see a rendered html page. </p>\n\n<p>When I inspect the page I get the following error<a href=\"https://i.stack.imgur.com/p59pg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p59pg.png\" alt=\"enter image description here\"></a> </p>\n\n<p>So, WHAT IS IT THAT I AM DOING WRONG. SERIOUSLY!... \nSTUPID PrimeNg</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms", "formarray"], "comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1533119814, "post_id": 51630992, "comment_id": 90226439, "body": "If you want a total of all, you must subscribe to valueChanges, see e.g. <a href=\"https://alligator.io/angular/reactive-forms-valuechanges/\" rel=\"nofollow noreferrer\">alligator.io/angular/reactive-forms-valuechanges</a>. If only a total by line use {{phone.get(&#39;product_price&#39;).value *( phone.get(&#39;product_quantity&#39;).value ||1)}}"}, {"owner": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1533120093, "post_id": 51630992, "comment_id": 90226638, "body": "@Eliseo this is not what i was asking. I&#39;m getting the product_total value inside the form input but not in the typescript code. In typescript code i&#39;m getting null."}, {"owner": {"reputation": 89, "user_id": 6770430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYun2.jpg?s=128&g=1", "display_name": "Ravindra Gupta", "link": "https://stackoverflow.com/users/6770430/ravindra-gupta"}, "edited": false, "score": 0, "creation_date": 1533121509, "post_id": 51630992, "comment_id": 90227508, "body": "show full line of code"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1533123486, "post_id": 51630992, "comment_id": 90228711, "body": "@SurendraSinghChhabra, see my answer"}, {"owner": {"reputation": 1183, "user_id": 6332074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RUGS2.png?s=128&g=1", "display_name": "Muhammad Waqas Dilawar", "link": "https://stackoverflow.com/users/6332074/muhammad-waqas-dilawar"}, "edited": false, "score": 0, "creation_date": 1533124033, "post_id": 51630992, "comment_id": 90229066, "body": "@SurendraSinghChhabra can you add typescript of this component?"}, {"owner": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "reply_to_user": {"reputation": 89, "user_id": 6770430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYun2.jpg?s=128&g=1", "display_name": "Ravindra Gupta", "link": "https://stackoverflow.com/users/6770430/ravindra-gupta"}, "edited": false, "score": 0, "creation_date": 1533141602, "post_id": 51630992, "comment_id": 90241085, "body": "@RavindraGupta Added!"}, {"owner": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "reply_to_user": {"reputation": 1183, "user_id": 6332074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RUGS2.png?s=128&g=1", "display_name": "Muhammad Waqas Dilawar", "link": "https://stackoverflow.com/users/6332074/muhammad-waqas-dilawar"}, "edited": false, "score": 0, "creation_date": 1533141615, "post_id": 51630992, "comment_id": 90241092, "body": "@WaqasDilawarDaha Added!"}], "answers": [{"comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1533123654, "post_id": 51631334, "comment_id": 90228825, "body": "be carefull, 1.- your function priceChanges is wrong. You must use this.formGroup.get(&#39;price&#39;).value, NOT this.formGroup.value.price -see in console the diference. 2.- as you attach the change to all changes in the form,  when change the &quot;total&quot;, go to the function again"}, {"owner": {"reputation": 3786, "user_id": 4632627, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-0ubUMFTTVkY/AAAAAAAAAAI/AAAAAAAAD64/gMOlq1lZJhE/photo.jpg?sz=128", "display_name": "Richard Dunn", "link": "https://stackoverflow.com/users/4632627/richard-dunn"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1533124421, "post_id": 51631334, "comment_id": 90229327, "body": "You&#39;re completely correct! I forgot to add <code>{ emitEvent: false }</code>, see edited version."}, {"owner": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "edited": false, "score": 0, "creation_date": 1533142654, "post_id": 51631334, "comment_id": 90241677, "body": "using this approach leads to getting total only in first formgroup not in others"}, {"owner": {"reputation": 3786, "user_id": 4632627, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-0ubUMFTTVkY/AAAAAAAAAAI/AAAAAAAAD64/gMOlq1lZJhE/photo.jpg?sz=128", "display_name": "Richard Dunn", "link": "https://stackoverflow.com/users/4632627/richard-dunn"}, "reply_to_user": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "edited": false, "score": 0, "creation_date": 1533147575, "post_id": 51631334, "comment_id": 90244175, "body": "@SurendraSinghChhabra Didn&#39;t notice the FormArray. See my edited answer (not tested!). <code>toFixed</code> will give you a string, so might want to wrap that in <code>parseFloat</code>."}, {"owner": {"reputation": 3786, "user_id": 4632627, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-0ubUMFTTVkY/AAAAAAAAAAI/AAAAAAAAD64/gMOlq1lZJhE/photo.jpg?sz=128", "display_name": "Richard Dunn", "link": "https://stackoverflow.com/users/4632627/richard-dunn"}, "reply_to_user": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "edited": false, "score": 0, "creation_date": 1533148376, "post_id": 51631334, "comment_id": 90244638, "body": "@SurendraSinghChhabra You could also work something by using <code>[formControlName]</code> to reach the nested FormControl. See this answer: <a href=\"https://stackoverflow.com/a/48151444/4632627\">stackoverflow.com/a/48151444/4632627</a>"}], "tags": [], "owner": {"reputation": 3786, "user_id": 4632627, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-0ubUMFTTVkY/AAAAAAAAAAI/AAAAAAAAD64/gMOlq1lZJhE/photo.jpg?sz=128", "display_name": "Richard Dunn", "link": "https://stackoverflow.com/users/4632627/richard-dunn"}, "is_accepted": false, "score": 0, "last_activity_date": 1533147502, "last_edit_date": 1533147502, "creation_date": 1533120278, "answer_id": 51631334, "question_id": 51630992, "link": "https://stackoverflow.com/questions/51630992/angular-reactiveforms-not-getting-dynamic-value/51631334#51631334", "title": "Angular ReactiveForms not getting dynamic value", "body": "<p>I had a similar piece of logic to implement. I did it in the controller using something like this:</p>\n\n<pre><code>ngOnInit() {\n    this.formGroup = this.formBuilder.group({\n        price: ['', [Validators.required]],\n        quantity: ['', [Validators.required]],\n        total: ''\n    });\n\n    this.formGroup.valueChanges.subscribe(change =&gt; {\n        this.priceChanges()\n    })\n}\n\npriceChanges() {\n    let price = parseFloat(this.formGroup.value.price);\n    let quantity = parseInt(this.formGroup.value.quantity);\n\n    if (!isNaN(price) &amp;&amp; !isNaN(quantity)) {\n        let totalCost = (price * quantity).toFixed(2);\n        this.formGroup.controls['total'].setValue(totalCost, { emitEvent: false })\n    }\n}\n</code></pre>\n\n<p><strong>Edited version to handle FormArray:</strong></p>\n\n<p>Note the added <code>(ngModelChange)=\"detectValueChange(i)\"</code> on two of your inputs:</p>\n\n<pre><code>&lt;tbody formArrayName=\"products\"&gt;\n    &lt;tr *ngFor=\"let phone of productForms.controls; let i=index\" [formGroupName]=\"i\"&gt;\n        &lt;th scope=\"row\"&gt;{{i+1}}&lt;/th&gt;\n        &lt;td&gt; &lt;input type=\"text\" class=\"form-control\" placeholder=\"Product Code\" formControlName=\"product_code\"&gt;&lt;/td&gt;\n        &lt;td&gt; &lt;input type=\"text\" class=\"form-control\" placeholder=\"Product Name\" formControlName=\"product_name\"&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;input type=\"number\" class=\"form-control\" placeholder=\"Price\" formControlName=\"product_price\" #price (ngModelChange)=\"detectValueChange(i)\"&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;input type=\"number\" class=\"form-control\" formControlName=\"product_quantity\" value=\"1\" #quantity (ngModelChange)=\"detectValueChange(i)\"&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;input type=\"number\" class=\"form-control\" value=\"{{(price.value || 0) * (quantity.value || 1)}}\" formControlName=\"product_total\" disabled&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n\n<p>Then, similar to my original solution, but now with indexing on the <em>'products'</em> array</p>\n\n<pre><code>detectValueChange(index: number){\n    let controls = this.formGroup.get('products') as FormArray;\n    this.changeTotal(controls[index])\n}\n\nchangeTotal(control) {\n    let price = parseFloat(control.value.product_price);\n    let quantity = parseInt(control.value.product_quantity);\n    if (!isNaN(price) &amp;&amp; !isNaN(quantity)) {\n        let totalCost = (price * quantity).toFixed(2);\n        control['product_total'].setValue(totalCost, { emitEvent: false })\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "edited": false, "score": 0, "creation_date": 1533142589, "post_id": 51632302, "comment_id": 90241638, "body": "mapping is working but not getting the data in array. i.e. getting the data in console but not in array"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "edited": false, "score": 0, "creation_date": 1533143463, "post_id": 51632302, "comment_id": 90242058, "body": "@SurendraSinghChhabra, sorry. I wrote [value]=&quot;{{...}}&quot; and was [value]=&quot;...&quot; (not enclosed by {{ }} ). My idea is that the formGroup NOT have &quot;total&quot;. If we need total to send to an api or whatever, we always can, in submit the form create the property total"}, {"owner": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "edited": false, "score": 0, "creation_date": 1533144080, "post_id": 51632302, "comment_id": 90242350, "body": "Got that! but still not working. Please see the typescript code that i updated for more reference. Also the {...v,total:v<i>product_price</i>product_quantity} is not defined as it is in form array so that is also giving error."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "edited": false, "score": 0, "creation_date": 1533150489, "post_id": 51632302, "comment_id": 90245698, "body": "@SurendraSinghChhabra, yet update the code, sorry for delay"}, {"owner": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "edited": false, "score": 0, "creation_date": 1533190621, "post_id": 51632302, "comment_id": 90257059, "body": "Working!! Thanks for your efforts."}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": true, "score": 2, "last_activity_date": 1533150464, "last_edit_date": 1533150464, "creation_date": 1533123470, "answer_id": 51632302, "question_id": 51630992, "link": "https://stackoverflow.com/questions/51630992/angular-reactiveforms-not-getting-dynamic-value/51632302#51632302", "title": "Angular ReactiveForms not getting dynamic value", "body": "<p><strong>Edited</strong>, the before code has {{ }}, but if we using [value] you needn't put {{ }}, updated the code</p>\n\n<p>You need'nt the total belong to the formGroup</p>\n\n<pre><code>&lt;input type=\"number\" class=\"form-control\" disabled\n    [value]=\"phone.get('product_price').value *( phone.get('product_quantity').value)\" &gt;\n</code></pre>\n\n<p>in submit you can make a map if you consider necessary</p>\n\n<pre><code>submit(form){\n   if (form.valid)\n   {\n      let data={\n             //all properties of for.value\n             ...form.value,\n             //but products was products \"mappeated\"\n             products:form.value.products.map(v=&gt;{\n             return {\n               //Which each product, return \n               ...v,   //all de properties of products +\n               total:v.product_price*v.product_quantity  //total\n          }})\n        }\n\n      console.log(data);\n   }\n</code></pre>\n"}], "owner": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "accepted_answer_id": 51632302, "answer_count": 2, "score": 0, "last_activity_date": 1533150464, "creation_date": 1533119143, "last_edit_date": 1533141490, "question_id": 51630992, "link": "https://stackoverflow.com/questions/51630992/angular-reactiveforms-not-getting-dynamic-value", "title": "Angular ReactiveForms not getting dynamic value", "body": "<p>I'm using reactive forms in Angular and i have this FormArray from which i am getting all value except <code>product_total</code>. </p>\n\n<pre><code>&lt;tbody formArrayName=\"products\"&gt;\n  &lt;tr *ngFor=\"let phone of productForms.controls; let i=index\" [formGroupName]=\"i\"&gt;\n      &lt;th scope=\"row\"&gt;{{i+1}}&lt;/th&gt;\n      &lt;td&gt;&lt;input type=\"text\" class=\"form-control\" placeholder=\"Product Code\" formControlName=\"product_code\"&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;input type=\"text\" class=\"form-control\" placeholder=\"Product Name\" formControlName=\"product_name\"&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;input type=\"number\" class=\"form-control\" placeholder=\"Price\" formControlName=\"product_price\" #price&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;input type=\"number\" class=\"form-control\"  formControlName=\"product_quantity\" value=\"1\" #quantity&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;input type=\"number\" class=\"form-control\" value=\"{{(price.value || 0) * (quantity.value || 1)}}\" formControlName=\"product_total\" disabled&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n</code></pre>\n\n<p>How to get <code>product_total</code> value for each formgroup inside the typescript code?\nP.S. I'm getting the value inside the HTML Code but not in the typescript code</p>\n\n<p>The typescript code is:</p>\n\n<pre><code>constructor(private fb: FormBuilder) { }\n\nngOnInit() {\nconst product = this.fb.group({\n  product_code: [],\n  product_name: [],\n  product_price: [],\n  product_quantity: [1],\n  product_total: []\n});\n\nthis.myForm = this.fb.group({\n  customer_name: '',\n  customer_phone: '',\n  customer_address: '',\n  products: this.fb.array([product]),\n  subtotal: Number,\n  discount: Number,\n  cgst: Number,\n  sgst: Number,\n  total_price: Number,\n});\n}\n\nget productForms() {\n  return this.myForm.get('products') as FormArray;\n}\n\n\nasync submitForm() {\n    const myForm = this.myForm.value;\n    this.invoice = {\n      products: myForm.products,\n    };\n    console.log(this.invoice.products);\n\n  }\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 7992, "user_id": 1483981, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e985c085033d58082edcda227f439a88?s=128&d=identicon&r=PG", "display_name": "AWolf", "link": "https://stackoverflow.com/users/1483981/awolf"}, "edited": false, "score": 0, "creation_date": 1533120882, "post_id": 51630954, "comment_id": 90227129, "body": "I don&#39;t see your build configuration, so it&#39;s difficult to help. An example at codesandbox with your <code>webpack.config</code> would help. Also have a look at Flow.js as this should be prefered for React apps - see this <a href=\"https://blog.mariusschulz.com/2017/01/13/typescript-vs-flow\" rel=\"nofollow noreferrer\">post</a> for more details."}, {"owner": {"reputation": 1070, "user_id": 5986941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2f2a296bfbb636e9c1d9535ebf378184?s=128&d=identicon&r=PG", "display_name": "geostocker", "link": "https://stackoverflow.com/users/5986941/geostocker"}, "reply_to_user": {"reputation": 7992, "user_id": 1483981, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e985c085033d58082edcda227f439a88?s=128&d=identicon&r=PG", "display_name": "AWolf", "link": "https://stackoverflow.com/users/1483981/awolf"}, "edited": false, "score": 0, "creation_date": 1533121337, "post_id": 51630954, "comment_id": 90227381, "body": "Updated with a sandbox link. Paths may be incorrect on files, but it should give you an idea. Webpack builds fine, though.  The only difference between my Webpack.config.js and the one used in the demo is that I use ts-loader, whereas they seem to use babel..."}], "owner": {"reputation": 1070, "user_id": 5986941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2f2a296bfbb636e9c1d9535ebf378184?s=128&d=identicon&r=PG", "display_name": "geostocker", "link": "https://stackoverflow.com/users/5986941/geostocker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 550, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533560995, "creation_date": 1533119039, "last_edit_date": 1533560995, "question_id": 51630954, "link": "https://stackoverflow.com/questions/51630954/react-avatar-editor-basic-example-no-working", "title": "React-Avatar-Editor basic example no working", "body": "<p><strong>PROBLEM:</strong></p>\n\n<p>I'm trying to make React-Avatar work using React(1.6+) and TypeScript(latest).<br>\nI've been running into multiple issues through the implementation, as I can't seem to find a Typescript version of the JSX based on the <a href=\"https://github.com/mosch/react-avatar-editor/tree/master/docs\" rel=\"nofollow noreferrer\"><strong>demo</strong></a>.</p>\n\n<p><strong>Expected:</strong></p>\n\n<p>I expect it to <em>just</em> work, when having typings for the project and its dependencies set up. I've had to manually change a bunch of things to make webpack build the package, but I can't make it work.</p>\n\n<p><strong>Actual:</strong></p>\n\n<p>Errors everywhere. Currently I'm getting this:</p>\n\n<pre><code>Warning: React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\nCheck the render method of `MyEditor`.\n    in MyEditor\n\nUncaught Error: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n</code></pre>\n\n<p><strong>Code:</strong></p>\n\n<p><strong>avatarUploader.tsx:</strong></p>\n\n<pre><code>import * as React from \"react\";\nimport AvatarEditor from \"react-avatar-editor\"; \n\nclass MyEditor extends React.Component {\n  render() {\n    return (\n      &lt;AvatarEditor\n        image={\"http://example.com/initialimage.jpg\"}\n        width={250}\n        height={250}\n        border={50}\n        color={[255, 255, 255, 0.6]} // RGBA\n        scale={1.2}\n        rotate={0}\n      /&gt;\n    )\n  }\n}\n\nexport default MyEditor\n</code></pre>\n\n<p><strong>fileItem.tsx:</strong></p>\n\n<pre><code>import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\"; \nimport MyEditor from \"./../avatarTest/avatarUploader\" \n\n    ReactDOM.render(\n        &lt;MyEditor /&gt;\n        ,  \n        document.getElementById(\"body\")\n    );\n</code></pre>\n\n<p><strong>webpack.config.js:</strong></p>\n\n<pre><code>module.exports = {\n    mode: \"development\",\n\n    entry: {\n        filemanager: \"./src/fileItem/fileitem.tsx\", \n        avatarTest: \"./src/avatarTest/avatarUploader.tsx\"\n    },\n    output: {\n        filename: \"[name]/[name].bundle.js\",\n        path: __dirname + \"/dist/transpiled-components/\"\n    },\n\n    watch: true,\n    devtool: \"source-map\",\n\n    resolve: {\n        extensions: [\".ts\", \".tsx\", \".js\", \".json\"]\n    },\n\n    module: {\n        rules: [   \n            { test: /\\.ts$/, loader: \"ts-loader\" },\n            { test: /\\.tsx$/, loader: \"babel-loader!ts-loader\" }\n        ],\n    }, \n    externals: {\n        \"react\": \"React\",\n        \"react-dom\": \"ReactDOM\" \n    }\n} \n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Added  <strong><a href=\"https://codesandbox.io/s/xj2w90v67o\" rel=\"nofollow noreferrer\">SANDBOX</a></strong></p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 9677816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e80623e7a9810d9cae1168c6a642466?s=128&d=identicon&r=PG&f=1", "display_name": "Snk", "link": "https://stackoverflow.com/users/9677816/snk"}, "edited": false, "score": 0, "creation_date": 1533119489, "post_id": 51630949, "comment_id": 90226242, "body": "Tried, no luck!"}, {"owner": {"reputation": 150, "user_id": 7379146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RqvrC.jpg?s=128&g=1", "display_name": "sixerss", "link": "https://stackoverflow.com/users/7379146/sixerss"}, "reply_to_user": {"reputation": 107, "user_id": 9677816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e80623e7a9810d9cae1168c6a642466?s=128&d=identicon&r=PG&f=1", "display_name": "Snk", "link": "https://stackoverflow.com/users/9677816/snk"}, "edited": false, "score": 0, "creation_date": 1533120251, "post_id": 51630949, "comment_id": 90226733, "body": "try:  *ngIf=&quot;collapseExpandArrowFlag&quot; and *ngIf=&quot;!collapseExpandArrowFlag&quot;"}], "tags": [], "owner": {"reputation": 150, "user_id": 7379146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RqvrC.jpg?s=128&g=1", "display_name": "sixerss", "link": "https://stackoverflow.com/users/7379146/sixerss"}, "is_accepted": false, "score": 0, "last_activity_date": 1533119014, "creation_date": 1533119014, "answer_id": 51630949, "question_id": 51630907, "link": "https://stackoverflow.com/questions/51630907/ngif-jquery-acting-weird-angular-5/51630949#51630949", "title": "*ngIf &amp; Jquery acting weird - Angular 5", "body": "<p>Try to remove \"this\" in the ngIf like this:</p>\n\n<pre><code> *ngIf=\"collapseExpandArrowFlag==true\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "reply_to_user": {"reputation": 107, "user_id": 9677816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e80623e7a9810d9cae1168c6a642466?s=128&d=identicon&r=PG&f=1", "display_name": "Snk", "link": "https://stackoverflow.com/users/9677816/snk"}, "edited": false, "score": 0, "creation_date": 1533120948, "post_id": 51630987, "comment_id": 90227158, "body": "Edited my comment."}, {"owner": {"reputation": 107, "user_id": 9677816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e80623e7a9810d9cae1168c6a642466?s=128&d=identicon&r=PG&f=1", "display_name": "Snk", "link": "https://stackoverflow.com/users/9677816/snk"}, "edited": false, "score": 0, "creation_date": 1533129271, "post_id": 51630987, "comment_id": 90232740, "body": "using [hidden] is not displaying any clickable link on the UI."}], "tags": [], "owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "is_accepted": false, "score": 0, "last_activity_date": 1533120933, "last_edit_date": 1533120933, "creation_date": 1533119133, "answer_id": 51630987, "question_id": 51630907, "link": "https://stackoverflow.com/questions/51630907/ngif-jquery-acting-weird-angular-5/51630987#51630987", "title": "*ngIf &amp; Jquery acting weird - Angular 5", "body": "<p>Please remove the 'this.' from the *ngIf and just write</p>\n\n<pre><code>*ngIf=\"collapseExpandArrowFlag\"\n</code></pre>\n\n<p>If this not working , try to change *ngIf to </p>\n\n<pre><code>[hidden]=\"collapseExpandArrowFlag\" \n</code></pre>\n\n<p>and </p>\n\n<pre><code>[hidden]=\"!collapseExpandArrowFlag\"\n</code></pre>\n\n<p>This will add the element and the event on the dom on load time. and will keep it there (with a display : none property in css).</p>\n\n<p>Plus take into consideration how you need to work with external library code like JQuery.</p>\n\n<p>See references:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/51629951/use-jquery-script-with-angular-6-cli-project/51630120#51630120\">Use jQuery script with Angular 6 CLI project</a></p>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 9677816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e80623e7a9810d9cae1168c6a642466?s=128&d=identicon&r=PG&f=1", "display_name": "Snk", "link": "https://stackoverflow.com/users/9677816/snk"}, "edited": false, "score": 0, "creation_date": 1533129224, "post_id": 51632463, "comment_id": 90232712, "body": "I also had thought regarding same, the thing is even If I move the flagcode to the line after the jquery, it still doesn&#39;t work and what you proposed also got no luck :("}, {"owner": {"reputation": 432, "user_id": 6048237, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001267268772/picture?type=large", "display_name": "Dilan Tharaka", "link": "https://stackoverflow.com/users/6048237/dilan-tharaka"}, "reply_to_user": {"reputation": 107, "user_id": 9677816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e80623e7a9810d9cae1168c6a642466?s=128&d=identicon&r=PG&f=1", "display_name": "Snk", "link": "https://stackoverflow.com/users/9677816/snk"}, "edited": false, "score": 0, "creation_date": 1533136850, "post_id": 51632463, "comment_id": 90238253, "body": "Then that would be because ` $(this)` is not referring the DOM element we want. Instead of <code>$(this).closest(&#39;.collapse-group&#39;).find(&#39;.multi-collapse&#39;).c&zwnj;&#8203;ollapse(&#39;hide&#39;);</code> just try to use <code>$(&#39;.collapse-group&#39;).find(&#39;.multi-collapse&#39;).collapse(&#39;hide&#39;&zwnj;&#8203;);</code> . If it works, then use most suitable jquery selector afterwards"}], "tags": [], "owner": {"reputation": 432, "user_id": 6048237, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001267268772/picture?type=large", "display_name": "Dilan Tharaka", "link": "https://stackoverflow.com/users/6048237/dilan-tharaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1533123896, "creation_date": 1533123896, "answer_id": 51632463, "question_id": 51630907, "link": "https://stackoverflow.com/questions/51630907/ngif-jquery-acting-weird-angular-5/51632463#51632463", "title": "*ngIf &amp; Jquery acting weird - Angular 5", "body": "<p>Change you ts file as follows</p>\n\n<pre><code>collapseExpandArrowFlag = true;\n\narrowFunc(event) {\nif(event.srcElement.id === \"collapse_all\") {   //On-Click Collapse Logic\n\n  this.collapseExpandArrowFlag = false;\n\n  $(this).closest('.collapse-group').find('.multi-collapse').collapse('hide');\n\n}\n\n\nif(event.srcElement.id === \"expand_all\") {      \n  this.collapseExpandArrowFlag = true;\n\n  $(this).closest('.collapse-group').find('.multi-collapse').collapse('show');\n\n}\n</code></pre>\n\n<p>What's happening here is, when you click the button, inside ts code,</p>\n\n<pre><code>  this.collapseExpandArrowFlag = false;\n</code></pre>\n\n<p>is called, and in the template the <code>close-button</code> is removed. </p>\n\n<p>But in the very next line of ts code,</p>\n\n<pre><code> $(\".close-button\")\n</code></pre>\n\n<p>is called, But in this state that element is removed from the DOM</p>\n\n<p>And make sure you've removed  <code>this.</code> from <code>*ngIf</code> statements</p>\n"}], "owner": {"reputation": 107, "user_id": 9677816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e80623e7a9810d9cae1168c6a642466?s=128&d=identicon&r=PG&f=1", "display_name": "Snk", "link": "https://stackoverflow.com/users/9677816/snk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1533123896, "creation_date": 1533118903, "question_id": 51630907, "link": "https://stackoverflow.com/questions/51630907/ngif-jquery-acting-weird-angular-5", "title": "*ngIf &amp; Jquery acting weird - Angular 5", "body": "<p>I'm trying to use expand-collapse feature of bootstrap 4 and was encountering a weird issue with the use of *ngIf for expansion and collapse.\nWhenever I try to use *ngIf as follows, the jquery doesn't work but works when *ngIf is deleted.</p>\n\n<p><strong>HTML:</strong> </p>\n\n<pre><code>&lt;div class=\"collapse-group\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-7\" id=\"row\"&gt;\n            &lt;div id=\"link_text_div\" *ngIf=\"this.collapseExpandArrowFlag==true\"&gt;\n          &lt;span   id=\"collapse_all\" class=\"close-button\" (click)=\"arrowFunc($event)\" style=\"cursor: pointer;\" &gt;\n            Collapse all\n          &lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div id=\"link_text_div\" *ngIf=\"this.collapseExpandArrowFlag==false\"&gt;\n          &lt;span  id=\"expand_all\" class=\"open-button\" (click)=\"arrowFunc($event)\" style=\"cursor: pointer;\"\n         &gt;\n            Expand all\n          &lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p><strong>.Ts:</strong></p>\n\n<pre><code>collapseExpandArrowFlag = true;\n\n\n  arrowFunc(event) {\nif(event.srcElement.id === \"collapse_all\") {   //On-Click Collapse Logic\n\n      this.collapseExpandArrowFlag = false;\n\n      $(\".close-button\").on(\"click\", function() {\n        $(this).closest('.collapse-group').find('.multi-collapse').collapse('hide');\n      });\n\n    }\n\n\n  if(event.srcElement.id === \"expand_all\") {      \n      this.collapseExpandArrowFlag = true;\n\n      $(\".open-button\").on(\"click\", function() {\n        $(this).closest('.collapse-group').find('.multi-collapse').collapse('show');\n      });\n\n    }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 384, "user_id": 3350003, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/403a9c2319f3aecf864ab702a6b6759c?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/3350003/pranay"}, "edited": false, "score": 0, "creation_date": 1533120169, "post_id": 51630868, "comment_id": 90226691, "body": "As your code is not much clear as to where create function is getting called and why @input is used and how emitAccount is integrated, I take wild guess that you try using BehaviorSubject instead of Subject."}, {"owner": {"reputation": 1077, "user_id": 8130566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1a50c780f41e24894c10cce0eafdd99f?s=128&d=identicon&r=PG&f=1", "display_name": "youi", "link": "https://stackoverflow.com/users/8130566/youi"}, "reply_to_user": {"reputation": 384, "user_id": 3350003, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/403a9c2319f3aecf864ab702a6b6759c?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/3350003/pranay"}, "edited": false, "score": 0, "creation_date": 1533120499, "post_id": 51630868, "comment_id": 90226886, "body": "Hi Pranay, See the HTML i have added the create function."}], "answers": [{"comments": [{"owner": {"reputation": 1077, "user_id": 8130566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1a50c780f41e24894c10cce0eafdd99f?s=128&d=identicon&r=PG&f=1", "display_name": "youi", "link": "https://stackoverflow.com/users/8130566/youi"}, "edited": false, "score": 0, "creation_date": 1533120157, "post_id": 51631258, "comment_id": 90226680, "body": "Yes, absolutely, so i want to repopulate the accounts array. So how to achieve this? Any suggestions?"}, {"owner": {"reputation": 386, "user_id": 8795687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b84f4b024966484e729dfc0ea179f2e?s=128&d=identicon&r=PG&f=1", "display_name": "fransyozef", "link": "https://stackoverflow.com/users/8795687/fransyozef"}, "reply_to_user": {"reputation": 1077, "user_id": 8130566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1a50c780f41e24894c10cce0eafdd99f?s=128&d=identicon&r=PG&f=1", "display_name": "youi", "link": "https://stackoverflow.com/users/8130566/youi"}, "edited": false, "score": 0, "creation_date": 1533120460, "post_id": 51631258, "comment_id": 90226866, "body": "What you can do is, so in the Account service have an event (Subject) ready you trigger in the create() function. Then in your main component (probably where you call the openDialog() function) , you subscribe on that event. So when that event triggers, you can then do the steps to get the data and populate the accounts array."}, {"owner": {"reputation": 386, "user_id": 8795687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b84f4b024966484e729dfc0ea179f2e?s=128&d=identicon&r=PG&f=1", "display_name": "fransyozef", "link": "https://stackoverflow.com/users/8795687/fransyozef"}, "reply_to_user": {"reputation": 1077, "user_id": 8130566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1a50c780f41e24894c10cce0eafdd99f?s=128&d=identicon&r=PG&f=1", "display_name": "youi", "link": "https://stackoverflow.com/users/8130566/youi"}, "edited": false, "score": 0, "creation_date": 1533120579, "post_id": 51631258, "comment_id": 90226931, "body": "so for example in the account service have onNewUserCreated = new Subject&lt;any&gt;();"}, {"owner": {"reputation": 386, "user_id": 8795687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b84f4b024966484e729dfc0ea179f2e?s=128&d=identicon&r=PG&f=1", "display_name": "fransyozef", "link": "https://stackoverflow.com/users/8795687/fransyozef"}, "reply_to_user": {"reputation": 1077, "user_id": 8130566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1a50c780f41e24894c10cce0eafdd99f?s=128&d=identicon&r=PG&f=1", "display_name": "youi", "link": "https://stackoverflow.com/users/8130566/youi"}, "edited": false, "score": 0, "creation_date": 1533120627, "post_id": 51631258, "comment_id": 90226964, "body": "And in the create() you trigger onNewUserCreated .. and on your main component you subscribe on onNewUserCreated"}, {"owner": {"reputation": 386, "user_id": 8795687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b84f4b024966484e729dfc0ea179f2e?s=128&d=identicon&r=PG&f=1", "display_name": "fransyozef", "link": "https://stackoverflow.com/users/8795687/fransyozef"}, "reply_to_user": {"reputation": 1077, "user_id": 8130566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1a50c780f41e24894c10cce0eafdd99f?s=128&d=identicon&r=PG&f=1", "display_name": "youi", "link": "https://stackoverflow.com/users/8130566/youi"}, "edited": false, "score": 0, "creation_date": 1533123064, "post_id": 51631258, "comment_id": 90228437, "body": "I kinda gave you the answer .. you please try it :) .. you need 1) Setup a variable in your service as type Subject(). 2) Trigger that subject in the create() function when it&#39;s successfull. 3) Subscribe on that subject on your main component"}, {"owner": {"reputation": 386, "user_id": 8795687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b84f4b024966484e729dfc0ea179f2e?s=128&d=identicon&r=PG&f=1", "display_name": "fransyozef", "link": "https://stackoverflow.com/users/8795687/fransyozef"}, "reply_to_user": {"reputation": 1077, "user_id": 8130566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1a50c780f41e24894c10cce0eafdd99f?s=128&d=identicon&r=PG&f=1", "display_name": "youi", "link": "https://stackoverflow.com/users/8130566/youi"}, "edited": false, "score": 0, "creation_date": 1533123448, "post_id": 51631258, "comment_id": 90228690, "body": "Article that helped me is : <a href=\"http://jasonwatmore.com/post/2016/12/01/angular-2-communicating-between-components-with-observable-subject\" rel=\"nofollow noreferrer\">jasonwatmore.com/post/2016/12/01/&hellip;</a>"}], "tags": [], "owner": {"reputation": 386, "user_id": 8795687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b84f4b024966484e729dfc0ea179f2e?s=128&d=identicon&r=PG&f=1", "display_name": "fransyozef", "link": "https://stackoverflow.com/users/8795687/fransyozef"}, "is_accepted": false, "score": -1, "last_activity_date": 1533119995, "creation_date": 1533119995, "answer_id": 51631258, "question_id": 51630868, "link": "https://stackoverflow.com/questions/51630868/angular-5-passing-form-data-to-another-components-dropdown-in-sync/51631258#51631258", "title": "Angular 5 Passing form data to another component&#39;s dropdown in sync", "body": "<p>So to check .. it's about this section?</p>\n\n<pre><code>            &lt;mat-option *ngFor=\"let account of accounts\" [value]=\"account.id\"&gt;\n                                        {{account.name}} ({{account.accountType}})\n                                    &lt;/mat-option&gt;\n</code></pre>\n\n<p>BEcause I don't see anything in your code repopulating accounts array after registering.</p>\n\n<p>I can't see where you bind the accounts array. </p>\n"}, {"comments": [{"owner": {"reputation": 1077, "user_id": 8130566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1a50c780f41e24894c10cce0eafdd99f?s=128&d=identicon&r=PG&f=1", "display_name": "youi", "link": "https://stackoverflow.com/users/8130566/youi"}, "edited": false, "score": 0, "creation_date": 1533128366, "post_id": 51631633, "comment_id": 90232043, "body": "Hi Pranay, where is this accounts &amp; updateAccount came from? Could you please clarify?"}, {"owner": {"reputation": 384, "user_id": 3350003, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/403a9c2319f3aecf864ab702a6b6759c?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/3350003/pranay"}, "reply_to_user": {"reputation": 1077, "user_id": 8130566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1a50c780f41e24894c10cce0eafdd99f?s=128&d=identicon&r=PG&f=1", "display_name": "youi", "link": "https://stackoverflow.com/users/8130566/youi"}, "edited": false, "score": 0, "creation_date": 1533128691, "post_id": 51631633, "comment_id": 90232281, "body": "accounts is your array/list which you are binding on html side and updateAccount (its just an alias) is the new entry you are receiving as a return object from your httppost."}], "tags": [], "owner": {"reputation": 384, "user_id": 3350003, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/403a9c2319f3aecf864ab702a6b6759c?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/3350003/pranay"}, "is_accepted": false, "score": 0, "last_activity_date": 1533121277, "creation_date": 1533121277, "answer_id": 51631633, "question_id": 51630868, "link": "https://stackoverflow.com/questions/51630868/angular-5-passing-form-data-to-another-components-dropdown-in-sync/51631633#51631633", "title": "Angular 5 Passing form data to another component&#39;s dropdown in sync", "body": "<p>create Service:</p>\n\n<pre><code>let newEntry = this.http.post(this.serviceUrl, entry);\nemitAccount(newEntry);\nreturn newEntry;\n</code></pre>\n\n<p>Register Component:</p>\n\n<pre><code>entry$.subscribe(updateAccount =&gt; {\naccounts.push(updateAccount)\n}\n</code></pre>\n"}], "owner": {"reputation": 1077, "user_id": 8130566, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/1a50c780f41e24894c10cce0eafdd99f?s=128&d=identicon&r=PG&f=1", "display_name": "youi", "link": "https://stackoverflow.com/users/8130566/youi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 326, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533121277, "creation_date": 1533118781, "last_edit_date": 1533120459, "question_id": 51630868, "link": "https://stackoverflow.com/questions/51630868/angular-5-passing-form-data-to-another-components-dropdown-in-sync", "title": "Angular 5 Passing form data to another component&#39;s dropdown in sync", "body": "<p>I have a form (a material dialog modal) which lets the user to create an account, once the user clicks on Register button then the user stays on the same page with the username of that account that he created. The issue I am having is its getting created but its not getting updated in sync with the closing of dialog modal. Means the user should be registered and in parallel that created user value should be populated in the dropdown for better user expereince. I dont want the user to distract from the current page because if the user have entered the details and if that page is reloaded then all the data whatever he entered will be lost. So i dont want that to happen. So for that i created this below code.</p>\n\n<pre><code>&lt;section class=\"container-fluid with-maxwidth chapter\"&gt;\n\n    &lt;article class=\"article\"&gt;\n        &lt;div class=\"box box-default\"&gt;\n            &lt;div class=\"box-body\"&gt;\n\n                &lt;mat-horizontal-stepper [linear]=\"true\" #stepper&gt;\n\n                    &lt;mat-step [stepControl]=\"firstFormGroup\"&gt;\n                        &lt;form [formGroup]=\"firstFormGroup\"&gt;\n                            &lt;ng-template matStepLabel&gt;Project Registration&lt;/ng-template&gt;\n\n                            &lt;div class=\"form-group row\"&gt;&lt;/div&gt;\n                            &lt;div class=\"form-group row\"&gt;\n                                &lt;label for=\"name\" class=\"col-md-0 control-label\"&gt;&lt;/label&gt;\n                                &lt;div class=\"col-md-5\"&gt;\n                                    &lt;mat-input-container class=\"full-width\"&gt;\n                                        &lt;input required [(ngModel)]=\"project.name\" formControlName=\"nameCtrl\" id=\"name\"\n                                               matInput placeholder=\"Project name\"&gt;\n                                    &lt;/mat-input-container&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n\n                            &lt;!-- Repository details --&gt;\n\n                            &lt;div class=\"form-group row\"&gt;\n                                &lt;label for=\"name\" class=\"col-md-0 control-label\"&gt;&lt;/label&gt;\n                                &lt;div class=\"col-md-5\"&gt;\n                                    &lt;mat-input-container class=\"full-width\"&gt;\n                                        &lt;input required [(ngModel)]=\"project.url\" formControlName=\"urlCtrl\" id=\"repo\"\n                                               matInput placeholder=\"Repository URL\"&gt;\n                                    &lt;/mat-input-container&gt;\n                                &lt;/div&gt;\n                                &lt;div class=\"col-md-7\"&gt;\n                                    &lt;div class=\"callout1 text-muted callout-info1\"&gt;\n                                        &lt;p&gt;e.g. https://github.com/username/MyApp.git or\n                                            git@github.com:username/MyApp.git.\n                                        &lt;/p&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n\n                            &lt;div class=\"form-group row\"&gt;\n                                &lt;label class=\"col-md-0 control-label\"&gt;\n                                &lt;/label&gt;\n                                &lt;div class=\"col-md-5\"&gt;\n                                    &lt;mat-form-field&gt;\n                                        &lt;mat-select placeholder=\"Repository Credentials\" required\n                                                    [(ngModel)]=\"project.account.id\" formControlName=\"typeCtrl\"&gt;\n                                            &lt;mat-option *ngFor=\"let account of accounts\" [value]=\"account.id\"&gt;\n                                                {{account.name}} ({{account.accountType}})\n                                            &lt;/mat-option&gt;\n                                        &lt;/mat-select&gt;\n                                    &lt;/mat-form-field&gt;\n                                &lt;/div&gt;\n                                &lt;div class=\"col-md-7\"&gt;\n                                    &lt;div class=\"callout1 text-muted callout-info1\"&gt;\n                                        &lt;p&gt;\n                                            &lt;a href=\"javascript:;\" (click)=\"openDialog()\"&gt;Add credentials&lt;/a&gt;\n                                            &lt;br/&gt;\n                                            Credentials are required for automatic test creation and check-in.\n                                        &lt;/p&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n\n                            &lt;div&gt;\n                                &lt;mat-card-actions&gt;\n                                    &lt;button mat-raised-button color=\"primary\"\n                                            class=\"nav-btn\"\n                                            [disabled]=\"firstFormGroup.invalid\"\n                                            (click)=\"save(stepper);\"&gt;Save &amp; Next\n                                    &lt;/button&gt;\n                                &lt;/mat-card-actions&gt;\n                            &lt;/div&gt;\n&lt;div class=\"form-group row\"&gt;\n                  &lt;div class=\"col-md-0\"&gt;&lt;/div&gt;\n                  &lt;div class=\"col-md-8\"&gt;\n                      &lt;button [disabled]=\"!heroForm.valid\" mat-raised-button color=\"primary\" (click)=\"create();\"\n                              class=\"btn-w-md no-margin-left\"&gt;Register\n                      &lt;/button&gt;\n                      &lt;button mat-button type=\"button\" color=\"primary\" class=\"btn-w-md\" (click)=\"onClose();\"&gt;Cancel\n                      &lt;/button&gt;\n                  &lt;/div&gt;\n              &lt;/div&gt;\n\n\n   &lt;/form&gt;\n                    &lt;/mat-step&gt;\n                    &lt;/mat-horizontal-stepper&gt;\n                    &lt;/div&gt;\n                    &lt;/div&gt;\n\n                    &lt;/article&gt;\n                    &lt;/section&gt;\n</code></pre>\n\n<p>From the template's below code, here if go to other page and then come to here then the username is adding to the drop down properly. But i dont want the user to go back and forth to see whether his credentials are registered or not but instead i want to show the credentials created on the fly so that he can further move.</p>\n\n<pre><code>&lt;mat-form-field&gt;\n                                        &lt;mat-select placeholder=\"Repository Credentials\" required\n                                                    [(ngModel)]=\"project.account.id\" formControlName=\"typeCtrl\"&gt;\n                                            &lt;mat-option *ngFor=\"let account of accounts\" [value]=\"account.id\"&gt;\n                                                {{account.name}} ({{account.accountType}})\n                                            &lt;/mat-option&gt;\n                                        &lt;/mat-select&gt;\n                                    &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>The code for register dialog box component</p>\n\n<pre><code>export class RegisterComponent implements OnInit{\n  @Input() entry: Account = new Account();\ncreate(entry: Account) {\n    this.handler.activateLoader();\n    this.snackbarService.openSnackBar(this.entry.name + \" registering...\", \"\");\n    this.accountService.create(entry).subscribe(results =&gt; {\n      this.entry = entry;\n      this.handler.hideLoader();\n      if (this.handler.handle(results)) {\n        return;\n      }\n    this.snackbarService.openSnackBar(this.entry.name + \" registered successfully\", \"\");\n    this.onClose();\n    // this.router.navigateByUrl('/app/projects', {skipLocationChange: true}).then(()=&gt;\n    // this.router.navigate(['/app/projects/new'])); \n    this.router.navigate(['/app/projects/new']);\n    }, error =&gt; {\n      this.handler.hideLoader();\n      this.handler.error(error);\n    });\n  }\n\n  onClose(){\n    this.dialogRef.close();\n  }\n}\n</code></pre>\n\n<p>This is where i have written the service:</p>\n\n<pre><code>import { Account } from './../models/project.model';\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Headers } from '@angular/http';\nimport { Observable, Subject } from 'rxjs';\nimport 'rxjs/add/observable/timer';\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class AccountService {\n\n  private serviceUrl = '/api/v1/accounts';\n  private entry = new Subject&lt;Object&gt;();\n  entry$ = this.entry.asObservable();\n  constructor(private http: HttpClient) {\n  }\n\n\n  create(entry: Account): Observable&lt;any&gt; {\n    return this.http.post(this.serviceUrl, entry);\n  }\n\n  emitAccount(entry){\n    this.entry.next();\n  }\n\n}\n</code></pre>\n\n<p>I want the user to be on the same page and should update the dropdown with latest results. How is that possible? Could you please suggest me? What i have done wrong with my code.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["angular", "typescript", "angularjs-directive", "angular2-forms", "angular4-httpclient"], "answers": [{"comments": [{"owner": {"reputation": 196, "user_id": 10131261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq3Cq.jpg?s=128&g=1", "display_name": "Brock James", "link": "https://stackoverflow.com/users/10131261/brock-james"}, "edited": false, "score": 0, "creation_date": 1533118487, "post_id": 51630586, "comment_id": 90225628, "body": "Shall i change my typescript file?is my typescript file is ok??"}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 0, "creation_date": 1533119200, "post_id": 51630586, "comment_id": 90226047, "body": "@KrishnaRathore Which changes are you done in TS file?could you please describe??"}, {"owner": {"reputation": 7635, "user_id": 7584231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKqAC.jpg?s=128&g=1", "display_name": "Krishna Rathore", "link": "https://stackoverflow.com/users/7584231/krishna-rathore"}, "edited": false, "score": 0, "creation_date": 1533119353, "post_id": 51630586, "comment_id": 90226157, "body": "remove extra <code>}</code> in ngOnInuit method."}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "edited": false, "score": 1, "creation_date": 1533119403, "post_id": 51630586, "comment_id": 90226188, "body": "i think the problm is in Onselect function"}, {"owner": {"reputation": 196, "user_id": 10131261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq3Cq.jpg?s=128&g=1", "display_name": "Brock James", "link": "https://stackoverflow.com/users/10131261/brock-james"}, "edited": false, "score": 0, "creation_date": 1533119740, "post_id": 51630586, "comment_id": 90226394, "body": "Thanks for your reply  but its not get the answer"}, {"owner": {"reputation": 373, "user_id": 9992314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOIZc.png?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/9992314/akhil"}, "reply_to_user": {"reputation": 196, "user_id": 10131261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq3Cq.jpg?s=128&g=1", "display_name": "Brock James", "link": "https://stackoverflow.com/users/10131261/brock-james"}, "edited": false, "score": 0, "creation_date": 1533553484, "post_id": 51630586, "comment_id": 90372975, "body": "@BrockJames do you get the answer?"}], "tags": [], "owner": {"reputation": 7635, "user_id": 7584231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKqAC.jpg?s=128&g=1", "display_name": "Krishna Rathore", "link": "https://stackoverflow.com/users/7584231/krishna-rathore"}, "is_accepted": false, "score": 0, "last_activity_date": 1533118933, "last_edit_date": 1533118933, "creation_date": 1533117959, "answer_id": 51630586, "question_id": 51630451, "link": "https://stackoverflow.com/questions/51630451/angular-2-4-multiple-drop-down/51630586#51630586", "title": "angular 2/4 multiple drop down", "body": "<p>use <code>[value]=\"outletDetail.ShopID\"</code> instead of  <code>value={{outletDetail.ShopID}}</code></p>\n\n<blockquote>\n  <p>component.ts</p>\n</blockquote>\n\n<pre><code>ngOnInit() {\n    this.Service.FetchPopulateOutlets().subscribe(outletsData =&gt; {\n        let allShops = {\n            ShopName: 'All',\n            ShopID: 0\n        }\n        this.outletDetails = [allShops, ...outletsData]\n    }, error =&gt; {\n        console.error(error);\n        this.statusMessage = \"Problem with the service.Please try again after sometime\";\n    });\n\n    this._enqService.FetchGodownPopulateOutlets().subscribe(GodownsData =&gt; {\n        let allGodowns = {\n            GodownName: 'All',\n            GodownId: 0\n        }\n        this.GodownDetails = [allGodowns, ...GodownsData]\n    }, error =&gt; {\n        console.error(error);\n        this.statusMessage = \"Problem with the service.Please try again after sometime\";\n    });\n}\n</code></pre>\n\n<blockquote>\n  <p>component.html</p>\n</blockquote>\n\n<pre><code>&lt;span&gt;\n    &lt;select class=\"formcontrol\" name=\"outletDetail\" (change)=\"onSelect($event.target.value)\"&gt;\n        &lt;option value=\"0\" disabled&gt;Select a Shop&lt;/option&gt;\n        &lt;option *ngFor=\"let outletDetail of outletDetails\" [value]=\"outletDetail.ShopID\"&gt;{{outletDetail.ShopName}}&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/span&gt;\n&lt;span&gt;\n    &lt;select class=\"formcontrol\" name=\"godowndata\" (change)=\"onSelect($event.target.value)\"&gt;\n        &lt;option value=\"0\" disabled&gt;Select a Godown&lt;/option&gt;\n        &lt;option *ngFor=\"let godowndata of GodownDetails\" [value]=\"godowndata.GodownId\"&gt;{{godowndata.GodownName}}&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/span&gt;\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 10131261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq3Cq.jpg?s=128&g=1", "display_name": "Brock James", "link": "https://stackoverflow.com/users/10131261/brock-james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 855, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1533118933, "creation_date": 1533117599, "last_edit_date": 1533117797, "question_id": 51630451, "link": "https://stackoverflow.com/questions/51630451/angular-2-4-multiple-drop-down", "title": "angular 2/4 multiple drop down", "body": "<p>I am trying to develop two drop downs in my Angular application. The 1st one is <code>shop list</code> and the other one is <code>godown list</code>. When I select a shop it will show it on data.but when I select Godown it's not changing data. Here I have two drop down boxes.</p>\n\n<p>I think my problem is in my typescript file(Onselect) because here I have 2 drop downs(in html I use 2 Onselect function but in my ts file have only one function).\nI'm just a beginner in Angular , so I would appreciate any comments on downsides of this method:</p>\n\n<pre><code> ngOnInit() { \n       this.Service.FetchPopulateOutlets().subscribe(outletsData =&gt; {\n        let allShops = {\n        ShopName: 'All',\n         ShopID: 0\n           }\n        this.outletDetails = [allShops, ...outletsData]\n           }, error =&gt; {\n         console.error(error);\n          this.statusMessage = \"Problem with the service.Please try again after sometime\";\n       });\n          {        \n          this._enqService.FetchGodownPopulateOutlets().subscribe(GodownsData =&gt; \n     {\nlet allGodowns = {\n  GodownName: 'All',\n GodownId: 0\n }\n this.GodownDetails = [allGodowns, ...GodownsData]\n  },\n error =&gt; {\n  console.error(error);\n this.statusMessage = \"Problem with the service.Please try again after sometime\";\n });\n\n\n\n\n\n onSelect(shopid: number, godownid: number) {       \n        this._loginService.selectedshopid = shopid;  \n this._loginService.selectedgodownid = godownid;  \n    }\n this._enqService.FetchItemDetails(shopid,godownid, this.pageIndex).subscribe(itemsData =&gt; this.itemdetails = itemsData,\n                    error =&gt; {\n                        console.error(error);\n                        this.statusMessage = \"Problem with the service.Please try again after sometime\";\n                    });\n</code></pre>\n\n<p>method</p>\n\n<pre><code>but if i  create a separate method for the second dropdown:how to showing data for\nthis method?\n     ( this._enqService.FetchItemDetails(shopid,godownid, this.pageIndex).subscribe(itemsData =&gt; this.itemdetails = itemsData,\n                        error =&gt; {\n                            console.error(error);\n                            this.statusMessage = \"Problem with the service.Please try again after sometime\";)   \n</code></pre>\n\n<p>HTML file:</p>\n\n<pre><code> &lt;span&gt;\n            &lt;select class=\"formcontrol\" name=\"outletDetail\" (change)=\"onSelect($event.target.value)\"&gt;\n                &lt;option value=\"0\" disabled&gt;Select a Shop&lt;/option&gt;\n                &lt;option *ngFor=\"let outletDetail of outletDetails\" value={{outletDetail.ShopID}}&gt;{{outletDetail.ShopName}}&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/span&gt;\n        &lt;span&gt;\n            &lt;select class=\"formcontrol\" name=\"godowndata\" (change)=\"onSelect($event.target.value)\"&gt;\n                &lt;option value=\"0\" disabled&gt;Select a Godown&lt;/option&gt;\n                &lt;option *ngFor=\"let godowndata of GodownDetails\" value={{godowndata.GodownId}}&gt;{{godowndata.GodownName}}&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/span&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-httpclient", "angular-http-interceptors"], "answers": [{"comments": [{"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1533214973, "post_id": 51652329, "comment_id": 90272004, "body": "Turns out the problem was something far deeper, had a 3rd party module which erased my own interceptors which caused them only to be run once and then they were completely gone from the execution.."}, {"owner": {"reputation": 871, "user_id": 5726242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3hP6.jpg?s=128&g=1", "display_name": "RTYX", "link": "https://stackoverflow.com/users/5726242/rtyx"}, "reply_to_user": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1555318411, "post_id": 51652329, "comment_id": 98054725, "body": "Hi @Chrillewoodz, could you name that 3rd party module? I&#39;m having a similar problem and I&#39;m trying to figure out why."}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "reply_to_user": {"reputation": 871, "user_id": 5726242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3hP6.jpg?s=128&g=1", "display_name": "RTYX", "link": "https://stackoverflow.com/users/5726242/rtyx"}, "edited": false, "score": 0, "creation_date": 1555318548, "post_id": 51652329, "comment_id": 98054815, "body": "@RTYX I think it was this one <a href=\"https://github.com/aitboudad/ngx-loading-bar\" rel=\"nofollow noreferrer\">github.com/aitboudad/ngx-loading-bar</a>"}], "tags": [], "owner": {"reputation": 228, "user_id": 2054612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a79aa09e2b54b4b40c787b132125698?s=128&d=identicon&r=PG&f=1", "display_name": "byj", "link": "https://stackoverflow.com/users/2054612/byj"}, "is_accepted": false, "score": 0, "last_activity_date": 1533208745, "creation_date": 1533208745, "answer_id": 51652329, "question_id": 51630386, "link": "https://stackoverflow.com/questions/51630386/angular-multiple-error-interceptors/51652329#51652329", "title": "Angular - Multiple error interceptors", "body": "<p>I have tried to implement similar scenario. It is working as expected. Here is the <a href=\"https://stackblitz.com/edit/angular-3qav7u?file=src%2Fapp%2Finterceptor2.ts\" rel=\"nofollow noreferrer\">StackBlitz Demo</a>.</p>\n\n<p>As such I don't see any problem with your code, but I am wondering that why you have passed \"req\" and \"next\" to <em>getNewAccessToken()</em> method. They are not used in the method. </p>\n"}], "owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1665, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1533208745, "creation_date": 1533117378, "question_id": 51630386, "link": "https://stackoverflow.com/questions/51630386/angular-multiple-error-interceptors", "title": "Angular - Multiple error interceptors", "body": "<p>I have an interceptor which handles errors and reacts to them. If there is an error, it will do <code>Observable.throw(err)</code>. </p>\n\n<p>Now I need an interceptor which catches <code>401</code> statuses and then takes a stored refresh token and creates a new access token, sets the <code>authorization</code> header on <code>req</code> and tries the failed request again with the new header.</p>\n\n<p>Here's the first error interceptor, notice the <code>Observable.throw(err)</code> part:</p>\n\n<pre><code>@Injectable()\n\nexport class ErrorInterceptor implements HttpInterceptor {\n\n  constructor(\n    private config: Config\n  ) {}\n\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n    return next.handle(req)\n      .pipe(\n        catchError((err) =&gt; {\n\n          if (err instanceof HttpErrorResponse) {\n\n            if (err.status === 401) {\n              this.config.onUnauthorized(err);\n            }\n            else {\n              this.config.onHttpError(err);\n            }\n          }\n\n          return Observable.throw(err);\n        }\n      )\n    );\n  }\n}\n</code></pre>\n\n<p>Here's the second interceptor:</p>\n\n<pre><code>@Injectable()\n\nexport class TokenInterceptor implements HttpInterceptor {\n\n  constructor(private api: Api, private cs: ClientStorage, private router: Router) { }\n\n  private getNewAccessToken(req: HttpRequest&lt;any&gt;, next: HttpHandler) {\n    console.log(0);\n    return this.api.post&lt;any&gt;('token', null, {\n      grant_type: 'refresh_token',\n      refresh_token: this.cs.getItem(AppConstants.appState).refreshToken,\n      scope: 'user'\n    });\n  }\n\n  private appendAccessToken(req, token) {\n    console.log(1, token)\n    return req.clone({\n      setHeaders: {\n        authorization: `Bearer ${token}`\n      }\n    });\n  }\n\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n    const appState = this.cs.getItem(AppConstants.appState);\n    const accessToken = appState ? appState.accessToken : null;\n\n    return next.handle(this.appendAccessToken(req, accessToken))\n      .pipe(\n        catchError((error: any) =&gt; {\n          console.log(error);\n          if (error instanceof HttpErrorResponse) {\n\n            if (error.status === 401) {\n\n              console.log('Unauthorized');\n\n              return this.getNewAccessToken(req, next)\n                .pipe(\n                  mergeMap((res) =&gt; {\n\n                  this.cs.setItem(AppConstants.appState, {...appState, accessToken: res.access_token});\n\n                  return next.handle(this.appendAccessToken(req, res.access_token));\n                })\n              );\n            }\n            else if (error.status === 403) {\n              this.router.navigate(['/login']);\n            }\n          }\n          else {\n            console.log(3)\n            return Observable.throw(error);\n          }\n        })\n      );\n  }\n};\n</code></pre>\n\n<p>The problem here is that the interceptor I've added doesn't seem to do anything, it initialises and it intercepts http requests which are <strong>not</strong> errors but the <code>catchError</code> bit doesn't run if there's an error. The <code>catchError</code> of the <code>ErrorInterceptor</code> however runs as expected, so I believe that they interfere with each other. </p>\n\n<p>How can I make my token interceptor work as intended?</p>\n"}, {"tags": ["typescript", "automation", "cypress"], "answers": [{"comments": [{"owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533191358, "post_id": 51635170, "comment_id": 90257396, "body": "Great explanation!. Thanks Wade. Let me try your given solution will get back to you soon."}, {"owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533193382, "post_id": 51635170, "comment_id": 90258411, "body": "Hi Wade, Could you please guide me how to execute the cypress run command.  I have tried &quot;npm run cypress:run&quot; but it says missing scripts."}, {"owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533193710, "post_id": 51635170, "comment_id": 90258570, "body": "Also tried &quot;cypress run&quot; but it says cypress is not recognized as internal or external command"}, {"owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 1, "creation_date": 1533211219, "post_id": 51635170, "comment_id": 90269438, "body": "Below, changes in cypress.json works for me as of now.   {     &quot;numTestsKeptInMemory&quot;: 0 }"}, {"owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "reply_to_user": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533215066, "post_id": 51635170, "comment_id": 90272066, "body": "@PrashantKankhara Did you download Cypress from cypress.io, or did you install it via NPM?"}, {"owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "reply_to_user": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533215326, "post_id": 51635170, "comment_id": 90272267, "body": "If you installed it via NPM, navigate to the install folder in a command prompt and then use the following command: <code>node_modules\\.bin\\cypress run</code>"}, {"owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "reply_to_user": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533216059, "post_id": 51635170, "comment_id": 90272806, "body": "If you installed by downloading the package from cypress.io, you may need to instead <a href=\"https://docs.cypress.io/guides/getting-started/installing-cypress.html#npm-install\" rel=\"nofollow noreferrer\">install Cypress via npm</a> to use <code>cypress run</code>. I can&#39;t seem to figure out a way to make Cypress start in headless mode using the cypress.io download."}, {"owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533217738, "post_id": 51635170, "comment_id": 90274035, "body": "Installed using &quot;npm install&quot;"}, {"owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "reply_to_user": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533220131, "post_id": 51635170, "comment_id": 90275774, "body": "Alright, see the above comment about using <code>cypress run</code> if you installed with NPM."}, {"owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533306505, "post_id": 51635170, "comment_id": 90312500, "body": "Thanks again Wade. I got the way to run command &quot;cypress run&quot;. By test script has various scenario and it fails eventually running long eventhough the solution using &quot;numTestsKeptInMemory:0&quot; works when running 3 tests but it fails after few more scripts again. I tried running &quot;cypress run&quot; it works there . So, can you guide more on this?"}, {"owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "reply_to_user": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533308656, "post_id": 51635170, "comment_id": 90313841, "body": "As I said in my response, the other solution is to separate your tests into multiple self-contained test files. You can use the <code>fixtures</code> folder in your project to put code to be included in every test, such as helper functions."}, {"owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "reply_to_user": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533308721, "post_id": 51635170, "comment_id": 90313889, "body": "You will eventually run into problems in any case while developing if you put all your tests in one file."}, {"owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "reply_to_user": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1533318756, "post_id": 51635170, "comment_id": 90318820, "body": "Correction: You can use <code>support&#47;index.js</code> to add helper functions. <code>fixtures</code> is something different."}, {"owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1545814539, "post_id": 51635170, "comment_id": 94700098, "body": "My testcases works well after that &quot;numTestsKeptInMemory&quot; change to 0 but now after few months one of my testcase is taking long time to execute which eventually crashes my browser again back to Aw, Snap error. Apart from this is there any other properties to set to prevent browser crashing ?"}, {"owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "reply_to_user": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "edited": false, "score": 0, "creation_date": 1546963745, "post_id": 51635170, "comment_id": 95023614, "body": "Not that I&#39;m aware of. You can use <code>cypress run</code> instead of <code>cypress open</code> for your tests, but that&#39;s probably not optimal. My suggestion here would be to break your one large test into a few smaller tests."}], "tags": [], "owner": {"reputation": 3077, "user_id": 8166701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X08Hb.jpg?s=128&g=1", "display_name": "Joshua Wade", "link": "https://stackoverflow.com/users/8166701/joshua-wade"}, "is_accepted": true, "score": 9, "last_activity_date": 1539093068, "last_edit_date": 1539093068, "creation_date": 1533131762, "answer_id": 51635170, "question_id": 51630143, "link": "https://stackoverflow.com/questions/51630143/cypress-long-automation-script-crashes-the-chrome-browser-with-aw-snap-error/51635170#51635170", "title": "Cypress long automation script crashes the Chrome browser with Aw Snap Error", "body": "<p>Cypress has two running modes: debugging/development mode, started with <code>cypress open</code>, and a test running mode, started with <code>cypress run</code>.</p>\n\n<p><code>cypress run</code> has a few key differences from <code>cypress open</code>. The most obvious one is that <code>cypress run</code> is headless. It starts an Electron browser in the background and performs all your tests.</p>\n\n<p>This is not the only difference. When running with <code>cypress open</code>, Cypress takes regular DOM snapshots for debugging purposes, as you are probably aware. This is implemented with <a href=\"https://github.com/cypress-io/cypress/issues/431#issuecomment-320082677\" rel=\"noreferrer\">what has been described</a> as a controlled memory leak; if you have a single test that runs for too long using <code>cypress open</code>, the memory will continue to climb until Chrome eventually crashes.</p>\n\n<hr>\n\n<p>If your tests work fine with <code>cypress run</code> and not with <code>cypress open</code>, then your issue is very likely memory. If this is the case, you have two options which can help.</p>\n\n<p>First, you can reduce the number of snapshots kept in memory. Your <code>cypress.json</code> file in your root Cypress folder allows you to set custom values for various settings. <code>numTestsKeptInMemory</code> defaults to something like 30, but you can reduce it to 10, 5, or even 0. At 0 you will not get any DOM snapshots. The memory usage will still climb, but it will climb at a much slower rate.</p>\n\n<pre><code>{\n    \"numTestsKeptInMemory\": 0\n}\n</code></pre>\n\n<p>Second, you can and should split your one large test file into multiple smaller test files. As of version 3.0.0, <a href=\"https://github.com/cypress-io/cypress/issues/681\" rel=\"noreferrer\">Cypress runs each test file in its own render process</a>. This allows Cypress to clean up after each test, effectively fixing the memory issue as long as your individual files are small enough.</p>\n\n<hr>\n\n<p>If neither of these fix your issue then you may be dealing with another bug, such as <a href=\"https://github.com/cypress-io/cypress/issues/1906\" rel=\"noreferrer\">this one</a>. If you cannot find your issue on <a href=\"https://github.com/cypress-io/cypress/issues\" rel=\"noreferrer\">the Github tracker</a>, you may want to consider <a href=\"https://github.com/cypress-io/cypress/issues/new?template=bug_report.md\" rel=\"noreferrer\">reporting it</a>.</p>\n"}], "owner": {"reputation": 1127, "user_id": 1277974, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7eb0148a9c785ee7f47ceb93e4de64c5?s=128&d=identicon&r=PG", "display_name": "Prashant Kankhara", "link": "https://stackoverflow.com/users/1277974/prashant-kankhara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2263, "favorite_count": 0, "accepted_answer_id": 51635170, "answer_count": 1, "score": 2, "last_activity_date": 1546624348, "creation_date": 1533116697, "last_edit_date": 1533119412, "question_id": 51630143, "link": "https://stackoverflow.com/questions/51630143/cypress-long-automation-script-crashes-the-chrome-browser-with-aw-snap-error", "title": "Cypress long automation script crashes the Chrome browser with Aw Snap Error", "body": "<p>I am having a browser crash problem in cypress. \nMy automation script is somewhat long process and due to which after it runs couple of scenario. Everytime when it tries to run the third scenario the browser crashes and shows the below screen. </p>\n\n<p><a href=\"https://i.stack.imgur.com/FYUju.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FYUju.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>and some times it gets timeout and throws 440 unknown code error. </p>\n\n<p><a href=\"https://i.stack.imgur.com/y1ouO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y1ouO.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>If I move my 1st scenario then also the same behaviour. Everytime 1st and 2nd executes perfectly but from the 3rd all tests fails. </p>\n\n<p>Does anyone face the similar kind of issue?</p>\n"}, {"tags": ["jquery", "angular", "typescript", "angular-cli", "angular6"], "comments": [{"owner": {"reputation": 89, "user_id": 6770430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYun2.jpg?s=128&g=1", "display_name": "Ravindra Gupta", "link": "https://stackoverflow.com/users/6770430/ravindra-gupta"}, "edited": false, "score": 0, "creation_date": 1533116965, "post_id": 51629951, "comment_id": 90224613, "body": "Yes #Rotemya,  Randika follow instruction by this link <a href=\"https://medium.com/@swarnakishore/how-to-include-and-use-jquery-in-angular-cli-project-592e0fe63176\" rel=\"nofollow noreferrer\">medium.com/@swarnakishore/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 475, "user_id": 7368198, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d2c589082c0a3eb3a7fe2b382b88bb2d?s=128&d=identicon&r=PG&f=1", "display_name": "Harshal Yelpale", "link": "https://stackoverflow.com/users/7368198/harshal-yelpale"}, "edited": false, "score": 0, "creation_date": 1577960531, "post_id": 51630120, "comment_id": 105291022, "body": "how jQuery will work in between routes, it works only with index.html page, not in the other pages like counter.html etc."}], "tags": [], "owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "is_accepted": true, "score": 4, "last_activity_date": 1533116633, "creation_date": 1533116633, "answer_id": 51630120, "question_id": 51629951, "link": "https://stackoverflow.com/questions/51629951/use-jquery-script-with-angular-6-cli-project/51630120#51630120", "title": "Use jQuery script with Angular 6 CLI project", "body": "<p>The Jquery code works only in the starting page and not between routes because it is not under the angular's change detection.</p>\n\n<p>You need to hook it up into the angular life cycle hooks.</p>\n\n<p>Try follow this references:</p>\n\n<p><a href=\"https://medium.com/@swarnakishore/how-to-include-and-use-jquery-in-angular-cli-project-592e0fe63176\" rel=\"nofollow noreferrer\">https://medium.com/@swarnakishore/how-to-include-and-use-jquery-in-angular-cli-project-592e0fe63176</a></p>\n\n<p><a href=\"https://www.youtube.com/watch?v=mAwqk-eIPL8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=mAwqk-eIPL8</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10154685"}, "is_accepted": false, "score": 1, "last_activity_date": 1533117013, "creation_date": 1533117013, "answer_id": 51630248, "question_id": 51629951, "link": "https://stackoverflow.com/questions/51629951/use-jquery-script-with-angular-6-cli-project/51630248#51630248", "title": "Use jQuery script with Angular 6 CLI project", "body": "<p>Try to use renavigate method of router and implement CanReuse (from 'angular/router'). </p>\n\n<pre><code>router.renavigate();\n</code></pre>\n\n<p>And 2nd way you may try ngOnInit mehtod for selflosding the resources.</p>\n\n<pre><code> this.ngOnInit();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 386, "user_id": 1461144, "user_type": "registered", "profile_image": "https://graph.facebook.com/787595184611108/picture?type=large", "display_name": "Nour Lababidi", "link": "https://stackoverflow.com/users/1461144/nour-lababidi"}, "is_accepted": false, "score": 2, "last_activity_date": 1537812053, "creation_date": 1537812053, "answer_id": 52484938, "question_id": 51629951, "link": "https://stackoverflow.com/questions/51629951/use-jquery-script-with-angular-6-cli-project/52484938#52484938", "title": "Use jQuery script with Angular 6 CLI project", "body": "<p>Here is an example I hope helps. It is not exactly what you need but I'm hopping you can find parts that will save your time:</p>\n\n<pre><code>    import { Component, OnInit, AfterViewInit } from '@angular/core';\n    import { Router } from '@angular/router';\n    import * as $ from 'jquery'\n\n    import { Globals } from '../helpers/globals';\n\n    @Component({\n        selector: 'app-root',\n        templateUrl: './app.component.html',\n        styleUrls: ['./app.component.css']\n    })\n\n    export class AppComponent implements OnInit, AfterViewInit {\n        title = 'dashboard-app';\n        authentication = false;\n\n        constructor(private globals: Globals) {\n\n        }\n\n        ngOnInit() {\n\n            // this.helpers.logout();\n            // this.router.navigate(['/login']);\n        }\n\n        ngAfterViewInit() {\n            // loading templates js after dom render\n            $.getScript(\"../plugins/custombox/dist/custombox.min.js\", function () {\n            });\n            $.getScript(\"../plugins/custombox/dist/legacy.min.js\", function () {\n            });\n\n            $.getScript(\"/assets/js/jquery.core.js\", function () {\n            });\n            $.getScript(\"/assets/js/jquery.app.js\", function () {\n            });\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 592, "user_id": 2932998, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nnFO1.jpg?s=128&g=1", "display_name": "Randika", "link": "https://stackoverflow.com/users/2932998/randika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20127, "favorite_count": 2, "accepted_answer_id": 51630120, "answer_count": 3, "score": 2, "last_activity_date": 1555311548, "creation_date": 1533116133, "question_id": 51629951, "link": "https://stackoverflow.com/questions/51629951/use-jquery-script-with-angular-6-cli-project", "title": "Use jQuery script with Angular 6 CLI project", "body": "<p>I'm  developing an application using angular 6. My application use <a href=\"http://coderthemes.com/minton/dark/index.html\" rel=\"nofollow noreferrer\">Minton Theme</a> . I included all theme scripts in the <code>index.html</code> file of my angular project. But when I logged in or navigate between routes some jquery methods not working properly. I had to refresh page manually to make them work. Is there an fix for this? </p>\n\n<p>I couldn't find any working solution yet.</p>\n\n<p>Project components structure</p>\n\n<pre><code>app\n-components\n--footer\n--left-side-bar\n--header\n--pages\n---dashboard\n----home\n----accounts\n---login\n</code></pre>\n\n<p><code>index.html</code> file</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;title&gt;Logical Position&lt;/title&gt;\n&lt;base href=\"/\"&gt;\n\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n&lt;link rel=\"shortcut icon\" href=\"assets/minton_theme/images/favicon.ico\"&gt;\n\n&lt;link href=\"assets/minton_theme/plugins/switchery/switchery.min.css\" rel=\"stylesheet\" /&gt;\n&lt;link href=\"assets/minton_theme/plugins/jquery-circliful/css/jquery.circliful.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n&lt;link href=\"assets/minton_theme/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n&lt;link href=\"assets/minton_theme/css/icons.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n&lt;link href=\"assets/minton_theme/css/style.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n\n&lt;script src=\"assets/minton_theme/js/modernizr.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body class=\"fixed-left widescreen\"&gt;\n&lt;app-root&gt;&lt;/app-root&gt;\n\n&lt;script&gt;\nvar resizefunc = [];\n&lt;/script&gt;\n\n&lt;!-- Plugins  --&gt;\n&lt;script src=\"assets/minton_theme/js/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/js/popper.min.js\"&gt;&lt;/script&gt;\n&lt;!-- Popper for Bootstrap --&gt;\n&lt;script src=\"assets/minton_theme/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/js/detect.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/js/fastclick.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/js/jquery.slimscroll.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/js/jquery.blockUI.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/js/waves.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/js/wow.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/js/jquery.nicescroll.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/js/jquery.scrollTo.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/plugins/switchery/switchery.min.js\"&gt; \n&lt;/script&gt;\n\n&lt;!-- Counter Up  --&gt;\n&lt;script src=\"assets/minton_theme/plugins/waypoints/lib/jquery.waypoints.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/plugins/counterup/jquery.counterup.min.js\"&gt;&lt;/script&gt;\n\n&lt;!-- circliful Chart --&gt;\n&lt;script src=\"assets/minton_theme/plugins/jquery-circliful/js/jquery.circliful.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"assets/minton_theme/plugins/jquery-sparkline/jquery.sparkline.min.js\"&gt;&lt;/script&gt;\n\n&lt;!-- skycons --&gt;\n&lt;script src=\"assets/minton_theme/plugins/skyicons/skycons.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;!-- Page js  --&gt;\n&lt;script src=\"assets/minton_theme/pages/jquery.dashboard.js\" defer&gt; \n&lt;/script&gt;\n\n&lt;!-- Custom main Js --&gt;\n&lt;script src=\"assets/minton_theme/js/jquery.core.js\"&gt;&lt;/script&gt;\n\n&lt;script src=\"assets/minton_theme/js/jquery.app.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p><code>app.routing.module.ts</code> file</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { DashboardComponent } from \n'./components/pages/dashboard/dashboard.component';\nimport { LoginComponent } from \n'./components/pages/login/login.component';\nimport { UnAuthGuardService } from './guards/un-auth.guard';\nimport { AuthGuardService } from './guards/auth.guard';\nimport { AccountsComponent } from \n'./components/pages/dashboard/accounts/accounts.component';\nimport { ViewAccountsComponent } from \n'./components/pages/dashboard/accounts/view-accounts/view- \naccounts.component';\nimport { MyAccountsComponent } from \n'./components/pages/dashboard/accounts/my-accounts/my- \naccounts.component';\nimport { CreateAccountComponent } from \n'./components/pages/dashboard/accounts/create-account/create- \naccount.component';\nimport { HomeComponent } from \n'./components/pages/dashboard/home/home.component';\n\nconst routes: Routes = [\n{ path: 'login', component: LoginComponent, canActivate: \n[UnAuthGuardService] },\n{\npath: '',\ncomponent: DashboardComponent,\ncanActivate: [AuthGuardService],\nchildren: [\n  {\n    path: '',\n    redirectTo: 'dashboard',\n    pathMatch: 'full'\n  },\n  {\n    path: 'dashboard',\n    component: HomeComponent\n  },\n  {\n    path: 'accounts',\n    component: AccountsComponent,\n    children: [\n      {\n        path: '',\n        component: ViewAccountsComponent\n      },\n      {\n        path: 'create',\n        component: CreateAccountComponent\n      },\n      {\n        path: ':username',\n        component: MyAccountsComponent\n      }\n    ]\n  }\n ]\n},\n { path: '**', redirectTo: '/dashboard', pathMatch: 'full' }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n exports: [RouterModule]\n})\n\nexport class AppRoutingModule { }\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 12668, "user_id": 1234087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/623981dff194e144f20676961a2b6dba?s=128&d=identicon&r=PG", "display_name": "Mos&#232; Raguzzini", "link": "https://stackoverflow.com/users/1234087/mos%c3%a8-raguzzini"}, "is_accepted": true, "score": 1, "last_activity_date": 1533115967, "creation_date": 1533115967, "answer_id": 51629875, "question_id": 51629739, "link": "https://stackoverflow.com/questions/51629739/how-to-pass-state-value-from-one-class-to-another-in-reactjs/51629875#51629875", "title": "How to pass state value from one class to another in Reactjs", "body": "<p>Element() has to be a Component with state and the value has to be stored in upper state (lifted state). IE:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Class Element extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            value: 'dsfg'\r\n        }\r\n\r\n    }\r\n    \r\n    onChange = (val) =&gt; this.setState({ value: val })\r\n    \r\n    render(){\r\n        return (&lt;div&gt;\r\n        &lt;Showvalue value={this.state.value} /&gt;\r\n        &lt;Showinput value={this.state.value} changeValue={this.onChange}/&gt;\r\n        &lt;/div&gt;);\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11054935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad17b2adfc845ec54251c4d630e7bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Sanu Jay", "link": "https://stackoverflow.com/users/11054935/sanu-jay"}, "is_accepted": false, "score": 1, "last_activity_date": 1551853343, "last_edit_date": 1551853343, "creation_date": 1551261912, "answer_id": 54902838, "question_id": 51629739, "link": "https://stackoverflow.com/questions/51629739/how-to-pass-state-value-from-one-class-to-another-in-reactjs/54902838#54902838", "title": "How to pass state value from one class to another in Reactjs", "body": "<pre><code>import Inputs from './InputValue.js'\nclass Showvalue extends Component{\n         constructor(props){\n         super(props)\n         this.state={\n             message1: 'hey'\n         }\n     this.ImportStateValue=this.ImportStateValue.bind(this) \n     ImportStateValue()={\n           return this.state.message1\n     }\n\n    render(){\n               return(\n                       &lt;Input Datalink={this.ImportStateValue}&gt;\n               )\n\n    }\n\n}\n//InputValue.js\nclass InputValue extends Component{\n   constructor(){\n      super()\n      this.state{\n          message2: null;\n      }\n      this.SetValue=this.SetValue.bind(this)\n\n   }\n    async SetValue(){\n    await const val=this.props.Datalink()\n    this.setState({\n        message2: val\n    })\n }\n\n render(){\n             return(\n                    &lt;button onClick={this.SetValue}&gt;&lt;/button&gt;\n             )\n }\n</code></pre>\n\n<p>}</p>\n\n<p>First You must initialize all the state values in class ShowValue. And the write a function which returns the sate value and pass that function using a prop to the class InputValue. And assign that prop to a variable of class Inputvalue. And assign that variable value as your state value using Setstate. You can test values using consol.log(this.state)</p>\n"}], "owner": {"reputation": 888, "user_id": 6567753, "user_type": "registered", "profile_image": "https://graph.facebook.com/2084300798461090/picture?type=large", "display_name": "Biswajit", "link": "https://stackoverflow.com/users/6567753/biswajit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1632, "favorite_count": 0, "accepted_answer_id": 51629875, "answer_count": 2, "score": 1, "last_activity_date": 1551853343, "creation_date": 1533115552, "last_edit_date": 1543568117, "question_id": 51629739, "link": "https://stackoverflow.com/questions/51629739/how-to-pass-state-value-from-one-class-to-another-in-reactjs", "title": "How to pass state value from one class to another in Reactjs", "body": "<p>I want to pass state value from one component to another in reactjs. As you can see i am trying to put value into input. Value is declared in one component and has to pass another component. Showvalue is the component where i declare a state values. And i want it into input value</p>\n\n<pre><code>import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nclass Showvalue extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            values: 'dsfg'\n        }\n\n    }\n    render(){\n        return (&lt;div&gt;{this.state.values}&lt;/div&gt;);\n    }\n}\nclass Showinput extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            value:this.props.values\n        }\n    }\n\n    render(){\n        return (\n            &lt;input value={this.state.value}&gt;&lt;/input&gt;\n        );\n    }\n}\n\nfunction Element(){\n    return(\n        &lt;div&gt;\n        &lt;Showvalue /&gt;\n        &lt;Showinput /&gt;\n        &lt;/div&gt;\n    );\n}\n\nReactDOM.render(\n\n    &lt;Element/&gt;,\n    document.getElementById('root')\n);\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ngfor", "dynamic-list"], "comments": [{"owner": {"reputation": 1158, "user_id": 5886576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/w2Wri.jpg?s=128&g=1", "display_name": "HariHaraSudhan", "link": "https://stackoverflow.com/users/5886576/hariharasudhan"}, "edited": false, "score": 0, "creation_date": 1533115466, "post_id": 51629657, "comment_id": 90223600, "body": "share the output of <code>console.log(response)</code> else verify the output of  function which returns the posts"}, {"owner": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "reply_to_user": {"reputation": 1158, "user_id": 5886576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/w2Wri.jpg?s=128&g=1", "display_name": "HariHaraSudhan", "link": "https://stackoverflow.com/users/5886576/hariharasudhan"}, "edited": false, "score": 0, "creation_date": 1533115667, "post_id": 51629657, "comment_id": 90223739, "body": "[{\u2026}]0: body: &quot;WORLD!&quot;heading: &quot;HELLO&quot;id: &quot;5b5ef76091c3881da82e62e1&quot;timestamp: &quot;2018-07-30T11:32:48.256+0000&quot;userEmailId: &quot;user&quot;"}, {"owner": {"reputation": 396, "user_id": 4865255, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-9VhtIq8z4jU/AAAAAAAAAAI/AAAAAAAAAL0/HlVfnoKtrZw/photo.jpg?sz=128", "display_name": "Vinayak", "link": "https://stackoverflow.com/users/4865255/vinayak"}, "edited": false, "score": 0, "creation_date": 1533115696, "post_id": 51629657, "comment_id": 90223757, "body": "Add response.json()  PostService.fetchPosts(   (response: Response) =&gt; {     HomeComponent.allPosts = response.json();     console.log(&quot;POSTS&quot;);     console.log(HomeComponent.allPosts); });"}, {"owner": {"reputation": 496, "user_id": 1314769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c212be732b7c16a123d893a706cf16?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/1314769/mukesh-kumar"}, "edited": false, "score": 0, "creation_date": 1533115700, "post_id": 51629657, "comment_id": 90223761, "body": "Share home.component.ts file code."}, {"owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "edited": false, "score": 0, "creation_date": 1533115804, "post_id": 51629657, "comment_id": 90223831, "body": "authenticated is a variable or a function? i think you might wrote the &#39;()&#39; by accident?"}, {"owner": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "reply_to_user": {"reputation": 396, "user_id": 4865255, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-9VhtIq8z4jU/AAAAAAAAAAI/AAAAAAAAAL0/HlVfnoKtrZw/photo.jpg?sz=128", "display_name": "Vinayak", "link": "https://stackoverflow.com/users/4865255/vinayak"}, "edited": false, "score": 0, "creation_date": 1533115874, "post_id": 51629657, "comment_id": 90223880, "body": "@Vinayak <code>TypeError: response.json is not a function</code> ..."}, {"owner": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "reply_to_user": {"reputation": 496, "user_id": 1314769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c212be732b7c16a123d893a706cf16?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/1314769/mukesh-kumar"}, "edited": false, "score": 0, "creation_date": 1533115970, "post_id": 51629657, "comment_id": 90223936, "body": "@MukeshKumar Edited the question."}, {"owner": {"reputation": 496, "user_id": 1314769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c212be732b7c16a123d893a706cf16?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/1314769/mukesh-kumar"}, "edited": false, "score": 1, "creation_date": 1533116095, "post_id": 51629657, "comment_id": 90224010, "body": "@DebanikDawn, you can not access static field in html file. Remove static modifier with allPosts field"}, {"owner": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "edited": false, "score": 0, "creation_date": 1533116296, "post_id": 51629657, "comment_id": 90224138, "body": "Okay, removing the static worked, but if I don&#39;t make it static I cannot use the method <code>loadPosts()</code> as callback when the <code>HTTP GET</code> request returns values from the server. How do I do that?"}], "answers": [{"comments": [{"owner": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "edited": false, "score": 0, "creation_date": 1533116312, "post_id": 51630001, "comment_id": 90224148, "body": "Okay, removing the static worked, but if I don&#39;t make it static I cannot use the method loadPosts() as callback when the HTTP GET request returns values from the server. How do I do that?"}, {"owner": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "edited": false, "score": 0, "creation_date": 1533116657, "post_id": 51630001, "comment_id": 90224390, "body": "Done, Please check."}, {"owner": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "edited": false, "score": 0, "creation_date": 1533116696, "post_id": 51630001, "comment_id": 90224424, "body": "P.S: I&#39;m hoping making utility methods like the one in the post.service.ts <code>static</code> is okay?"}, {"owner": {"reputation": 496, "user_id": 1314769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c212be732b7c16a123d893a706cf16?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/1314769/mukesh-kumar"}, "reply_to_user": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "edited": false, "score": 0, "creation_date": 1533116769, "post_id": 51630001, "comment_id": 90224474, "body": "No. Please remove static from PostService too. I don&#39;t know why you are marking service method as static?"}, {"owner": {"reputation": 496, "user_id": 1314769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c212be732b7c16a123d893a706cf16?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/1314769/mukesh-kumar"}, "reply_to_user": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "edited": false, "score": 0, "creation_date": 1533116837, "post_id": 51630001, "comment_id": 90224520, "body": "Why you are passing loadPosts to loginService.authenticate method?"}, {"owner": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "edited": false, "score": 0, "creation_date": 1533116873, "post_id": 51630001, "comment_id": 90224546, "body": "I felt that that would be logical. It&#39;s an utility method. Makes a request to load data from the server. Nevertheless, how do I make a callback (or any other solution to that)?"}, {"owner": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "edited": false, "score": 0, "creation_date": 1533117084, "post_id": 51630001, "comment_id": 90224711, "body": "Because I wanted to load the posts on the home page as soon as I find that the user is authenticated."}, {"owner": {"reputation": 496, "user_id": 1314769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c212be732b7c16a123d893a706cf16?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/1314769/mukesh-kumar"}, "reply_to_user": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "edited": false, "score": 0, "creation_date": 1533117135, "post_id": 51630001, "comment_id": 90224749, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/177171/discussion-between-mukesh-kumar-and-debanik-dawn\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 496, "user_id": 1314769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c212be732b7c16a123d893a706cf16?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/1314769/mukesh-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1533116329, "last_edit_date": 1533116329, "creation_date": 1533116286, "answer_id": 51630001, "question_id": 51629657, "link": "https://stackoverflow.com/questions/51629657/using-ngfor-to-loop-over-data-fetched-from-server/51630001#51630001", "title": "Using *ngFor to loop over data fetched from server", "body": "<p>You cannot access static field in the component's HTML file. Remove static modifier with allPosts field and replace <strong>HomeComponent.allPosts</strong> with <strong>this.allPosts</strong> in home.component.ts file</p>\n"}], "owner": {"reputation": 737, "user_id": 7544643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0zJL4.png?s=128&g=1", "display_name": "Debanik Dawn", "link": "https://stackoverflow.com/users/7544643/debanik-dawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 51630001, "answer_count": 1, "score": 2, "last_activity_date": 1533118914, "creation_date": 1533115278, "last_edit_date": 1533118914, "question_id": 51629657, "link": "https://stackoverflow.com/questions/51629657/using-ngfor-to-loop-over-data-fetched-from-server", "title": "Using *ngFor to loop over data fetched from server", "body": "<p>I am very new to Angular.</p>\n\n<p>I am fetching the list of posts on the server using the following code:</p>\n\n<pre><code>loadPosts():boolean{\nif (!LoginService.authenticated){\n  console.log('not auth');\n  return false;\n}\n// fetch posts.\nconsole.log('load');\nPostService.fetchPosts(\n  (response: Response) =&gt; {\n    HomeComponent.allPosts = response;\n    console.log(\"POSTS\");\n    console.log(HomeComponent.allPosts);\n});\n</code></pre>\n\n<p>The <code>PostService.fetchPosts</code> returns the response which I then populate into the <code>allPosts</code> variable.</p>\n\n<p>However, in the view:</p>\n\n<pre><code>&lt;div *ngIf=\"!authenticated(); else elseBlock\"&gt;\n Please log in first.\n&lt;/div&gt;\n\n&lt;ng-template #elseBlock&gt;\n    &lt;div *ngFor=\"let post of allPosts\"&gt;\n      {{ post.heading }}\n    &lt;/div&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>My list is not being updated.</p>\n\n<p>home.component.ts file:</p>\n\n<pre><code>export class HomeComponent implements OnInit {\n\n  static allPosts;\n\n  constructor(private ref: ChangeDetectorRef, private loginService: LoginService, private http: HttpClient, private postService: PostService) {\n    this.loginService.authenticate(undefined, undefined, undefined);\n    // setInterval(() =&gt; { console.log('checking'); this.ref.detectChanges}, 500 );\n  }\n\n  ngOnInit() {\n    this.loginService.authenticate(undefined, this.loadPosts, undefined);\n  }\n\n  authenticated(){\n    return LoginService.authenticated;\n  }\n\n  add(){\n    HomeComponent.allPosts = [{heading:'okay'}];\n  }\n\n  loadPosts():boolean{\n    if (!LoginService.authenticated){\n      console.log('not auth');\n      return false;\n    }\n    // fetch posts.\n    console.log('load');\n    PostService.fetchPosts(\n      (response: Response) =&gt; {\n        HomeComponent.allPosts = response.json();\n        console.log(\"POSTS\");\n        console.log(HomeComponent.allPosts);\n    });\n  }\n}\n</code></pre>\n\n<p>post.service.ts:</p>\n\n<pre><code>export class PostService {\n\n  static getPostUrl = 'http://localhost:8009/user/getposts';\n  static http;\n\n  constructor(private http: HttpClient) { PostService.http = http }\n\n  static fetchPosts(successCallback, errorCallback?){\n    this.http.get(this.getPostUrl, { withCredentials: true }).subscribe(\n      (response: Response) =&gt; {\n        successCallback(response);\n      },\n      (error) =&gt; {\n        console.log(error);\n        errorCallback? errorCallback(error) : {};\n      }\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["arrays", "typescript", "callback", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1533116052, "creation_date": 1533116052, "answer_id": 51629906, "question_id": 51629491, "link": "https://stackoverflow.com/questions/51629491/how-to-properly-type-an-array-map-callback-in-typescript/51629906#51629906", "title": "How to properly type an Array.map callback in TypeScript?", "body": "<p>Typescript is right about the error in your first example. Consider if we force the compiler to accept a modified function: </p>\n\n<pre><code>function eachItem(val: number, i: number) {\n    return val.toExponential(3) // only numbers will have toExponential\n}\nconst arr = [4, \"more\", 6];\n\n// eachItem will get called with numbers and string. the strings will cause a runtime error\n// runtime error val.toExponential is not a function\narr.map(eachItem as any); \n</code></pre>\n\n<p>So the reason typescript does not allow this behavior is that it can't be proved to be correct for any function with the signature <code>(val: number, i: number) =&gt; string</code> but rather it depends on the specific implementation of the function.</p>\n\n<p>Now in your second example, the function could access the fields and it would not get a runtime error. The fields may be undefined but that does not matter much for this implementation. What we could do is create a type in which all possible fields in the union are optional, which is in fact another way of looking at the items in the array (just not the way typescript looks at it by default). Typescript will allow us to pass in function with such an argument, since it is safe, since all fields are optional the function would need to check before using them anyway.</p>\n\n<pre><code>interface IMoney {\n    cash: number;\n}\n\ninterface ICard {\n    cardtype: string;\n    cardnumber: string;\n}\n\ntype IMix = IMoney | ICard;\n\nconst menu = [\n    { cash: 566 },\n    { cardtype: \"credit\", cardnumber: \"111111111111111111\" }\n];\n\ntype UnionToIntersection&lt;U&gt; = (U extends any ? (k: U)=&gt;void : never) extends ((k: infer I)=&gt;void) ? I : never\ntype PartialUnion&lt;T&gt; = UnionToIntersection&lt;T extends any ? Partial&lt;T&gt; : never&gt;\n\nmenu.map((item: PartialUnion&lt;IMix&gt;, i: number) =&gt; (item.cash || item.cardtype));\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type\">here</a> for an explanation of <code>UnionToIntersection</code> (and upvote the answer that makes this possible :) )</p>\n\n<p>The <code>T extends any ? Partial&lt;T&gt; : never</code> will take each member in the union (since conditional types distribute over unions) and make it <code>Partial</code> meaning all fields are now optional. Then we use <code>UnionToIntersection</code> to transform the union of partials into an intersection of partials. The result is a type with all the fields in each member of the union, but with all fields marked as partial.</p>\n"}, {"comments": [{"owner": {"reputation": 144, "user_id": 1409261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/298c292b26d0b97a4f45ec16ef20c95d?s=128&d=identicon&r=PG", "display_name": "Szalai Laci", "link": "https://stackoverflow.com/users/1409261/szalai-laci"}, "edited": false, "score": 0, "creation_date": 1533280423, "post_id": 51633574, "comment_id": 90297147, "body": "No. That would be a payment method that must have cardnumber, cardtype and cash. No such thing. I need either money or card."}, {"owner": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "reply_to_user": {"reputation": 144, "user_id": 1409261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/298c292b26d0b97a4f45ec16ef20c95d?s=128&d=identicon&r=PG", "display_name": "Szalai Laci", "link": "https://stackoverflow.com/users/1409261/szalai-laci"}, "edited": false, "score": 0, "creation_date": 1533393427, "post_id": 51633574, "comment_id": 90335217, "body": "As far as I can see Titians answer converts your union type to an intersection type so I fail to see the difference."}], "tags": [], "owner": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "is_accepted": false, "score": 0, "last_activity_date": 1533127334, "creation_date": 1533127334, "answer_id": 51633574, "question_id": 51629491, "link": "https://stackoverflow.com/questions/51629491/how-to-properly-type-an-array-map-callback-in-typescript/51633574#51633574", "title": "How to properly type an Array.map callback in TypeScript?", "body": "<p>It seems that you want an <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">intersection type</a> instead of a union type.</p>\n\n<pre><code>type IMix = IMoney &amp; ICard;\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 1409261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/298c292b26d0b97a4f45ec16ef20c95d?s=128&d=identicon&r=PG", "display_name": "Szalai Laci", "link": "https://stackoverflow.com/users/1409261/szalai-laci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12729, "favorite_count": 2, "accepted_answer_id": 51629906, "answer_count": 2, "score": 4, "last_activity_date": 1533127334, "creation_date": 1533114777, "last_edit_date": 1533115169, "question_id": 51629491, "link": "https://stackoverflow.com/questions/51629491/how-to-properly-type-an-array-map-callback-in-typescript", "title": "How to properly type an Array.map callback in TypeScript?", "body": "<p>I'm using React and TypeScript. When I'm iterating through an array using map(), it seems the types are not always checked. In the following example I pass a string \"more\" into the eachItem function, where number is expected. But no error is thrown:</p>\n\n<pre><code>function eachItem(val: number, i: number) {\n  return Number(val) / 2;\n}\nconst arr = [4, \"more\", 6];\narr.map(eachItem);\n</code></pre>\n\n<p>I think I understand why this happens, but my question is how I can make strict typing on a map function, so that I get this error when passing in the string:</p>\n\n<blockquote>\n  <p>Argument of type 'string' is not assignable to parameter of type 'number'</p>\n</blockquote>\n\n<p>Why no error is thrown is because I'm giving a callback to the map(). This map() expects a callback of this type:</p>\n\n<pre><code>'(value: string | number, index: number, array: (string | number)[]) =&gt; Element'\n</code></pre>\n\n<p>and I'm giving a callback of this type:</p>\n\n<pre><code>'(item: number, i: number) =&gt; Element'\n</code></pre>\n\n<p>So instead of checking whether 'number' includes 'string | number', TypeScript checks whether 'string | number' includes 'number' and finds it true. My logic says we need an error, since I'm passing \"more\" where only numbers are permitted. TypeScript's logic says no error, I'm passing a <strong>function that allows numbers</strong> where <strong>functions that allow strings and numbers</strong> are permitted.\nIt doesn't seem to be a big issue, but when your type is a union, you get errors when you're not supposed to. This is an example, and the resulted error:</p>\n\n<pre><code>interface IMoney {\n  cash: number;\n}\n\ninterface ICard {\n  cardtype: string;\n  cardnumber: string;\n}\n\ntype IMix = IMoney | ICard;\n\nconst menu = [\n  {cash: 566},\n  {cardtype: \"credit\", cardnumber: \"111111111111111111\"}\n];\n\nmenu.map((item: IMix, i: number) =&gt; (item.cash || item.cardtype));\n</code></pre>\n\n<blockquote>\n  <p>Property 'cash' does not exist on type 'IMix'.<br>\n  Property 'cash' does not exist on type 'ICard'.</p>\n</blockquote>\n\n<p>I know, now I have to do the following, but then I can't express in my code that cash and cardtype exclude each other:</p>\n\n<pre><code>interface IMix {\n  cash?: number;\n  cardtype?: string;\n  cardnumber?: string;\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "jestjs"], "comments": [{"owner": {"reputation": 2566, "user_id": 3026206, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/8LVs6.jpg?s=128&g=1", "display_name": "beachCode", "link": "https://stackoverflow.com/users/3026206/beachcode"}, "reply_to_user": {"reputation": 10834, "user_id": 1278987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7ebccaa3ee07a3fd6e76a5ec86965950?s=128&d=identicon&r=PG", "display_name": "David R", "link": "https://stackoverflow.com/users/1278987/david-r"}, "edited": false, "score": 0, "creation_date": 1533116664, "post_id": 51628981, "comment_id": 90224392, "body": "@DavidR you mean outside the context of the test? yes, I use Postman and I know the route is working"}], "answers": [{"tags": [], "owner": {"reputation": 2566, "user_id": 3026206, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/8LVs6.jpg?s=128&g=1", "display_name": "beachCode", "link": "https://stackoverflow.com/users/3026206/beachcode"}, "is_accepted": false, "score": 1, "last_activity_date": 1533158414, "creation_date": 1533158414, "answer_id": 51642412, "question_id": 51628981, "link": "https://stackoverflow.com/questions/51628981/retrieving-json-from-response-in-jest-node-js-test/51642412#51642412", "title": "retrieving JSON from Response in Jest Node.js test", "body": "<p>After much googling, I found the answer so I'm going to answer my own question for the next person that finds it (<a href=\"https://github.com/howardabrams/node-mocks-http/issues/73\" rel=\"nofollow noreferrer\">https://github.com/howardabrams/node-mocks-http/issues/73</a>). There were actually two issues in my case.</p>\n\n<ol>\n<li><p>I wasn't exporting my dev environment variables in the same terminal as I was running the test. My Node app couldn't connect to my DB because I didn't export the user and password. This was being hidden by the second issue.</p></li>\n<li><p>I needed to add EventEmitter to the test to catch the 'send' event and then display that data.</p>\n\n<p>import * as httpMocks from 'node-mocks-http';</p>\n\n<p>import * as ctrlReels from '../src/controllers/cars';</p>\n\n<p>import { EventEmitter } from 'events';    </p>\n\n<p>describe('Test Cars', () => {\n    it('should GET car', done => {\n        const request = httpMocks.createRequest({\n            method: 'GET',\n            url: '/cars',\n            params: {\n                id: 2\n            }\n        });\n        const response = httpMocks.createResponse({eventEmitter: EventEmitter});\n        const next = function(err) {\n            console.error('Test error: ', err);\n        };</p>\n\n<pre><code>ctrlReels.getCar(request, response, next);\nresponse.on('end', () =&gt; {\n    console.log('end');\n    console.log(response._getData());\n    done();\n  });\nresponse.on('send', () =&gt; {\n    console.log('send');\n    console.log(response._getData());\n    done();\n});\n</code></pre>\n\n<p>});\n});</p></li>\n</ol>\n\n<p>This example outputs the data twice. Once for the send event and once for the end event.</p>\n\n<p>Note: I don't know what's going on with the code formatting. I tried... I really did.</p>\n"}], "owner": {"reputation": 2566, "user_id": 3026206, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/8LVs6.jpg?s=128&g=1", "display_name": "beachCode", "link": "https://stackoverflow.com/users/3026206/beachcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 704, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533158414, "creation_date": 1533113181, "last_edit_date": 1533116798, "question_id": 51628981, "link": "https://stackoverflow.com/questions/51628981/retrieving-json-from-response-in-jest-node-js-test", "title": "retrieving JSON from Response in Jest Node.js test", "body": "<p>I'm testing a Node/Express app with Jest. I get a 200 code from this Jest test, but nothing for the JSON response.</p>\n\n<pre><code>import * as httpMocks from 'node-mocks-http';\nimport * as ctrlCars from '../src/controllers/cars';\n\n    describe('Test Cars', () =&gt; {\n        it('should GET car by ID', () =&gt; {\n            const request = httpMocks.createRequest({\n                method: 'GET',\n                url: '/cars',\n                params: {\n                    id: 2\n                }\n            });\n            const response = httpMocks.createResponse();\n            const next = function(err) { \n              console.log('resultNext: ', response._getData()); \n            };\n\n            ctrlReels.getCar(request, response, next);\n\n            // TODO\n            console.log('result: ', response.statusCode);\n            console.log('result: ', response.statusMessage);\n            console.log('resultData: ', response._getData());\n        });\n    });\n</code></pre>\n\n<p>The examples I've found online use ._getData() to get the data and then parse it as JSON, but in my test resultData returns nothing and resultNext isn't outputted at all.</p>\n"}, {"tags": ["node.js", "typescript", "rxjs", "observable", "reactivex"], "answers": [{"comments": [{"owner": {"reputation": 237, "user_id": 1174198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b3763512442477bb990021dfdefb724?s=128&d=identicon&r=PG", "display_name": "Eti", "link": "https://stackoverflow.com/users/1174198/eti"}, "edited": false, "score": 0, "creation_date": 1533717986, "post_id": 51653139, "comment_id": 90444602, "body": "Although this is a relatively light implementation, the fact that I have to &quot;care&quot; about closing the connection in various cases in the subscribe callback makes this solution a bit less attractive."}, {"owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "reply_to_user": {"reputation": 237, "user_id": 1174198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b3763512442477bb990021dfdefb724?s=128&d=identicon&r=PG", "display_name": "Eti", "link": "https://stackoverflow.com/users/1174198/eti"}, "edited": false, "score": 2, "creation_date": 1533720225, "post_id": 51653139, "comment_id": 90446076, "body": "You can centralize the <code>close</code> operation into the <code>finalize</code> operator. I have updated my answer."}], "tags": [], "owner": {"reputation": 12455, "user_id": 5699993, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5428464065272667ef39b9415d8e8722?s=128&d=identicon&r=PG&f=1", "display_name": "Picci", "link": "https://stackoverflow.com/users/5699993/picci"}, "is_accepted": false, "score": 1, "last_activity_date": 1533720222, "last_edit_date": 1533720222, "creation_date": 1533211316, "answer_id": 51653139, "question_id": 51628752, "link": "https://stackoverflow.com/questions/51628752/how-do-i-implement-a-database-connection-select-close-using-rxjs-observables/51653139#51653139", "title": "How do I implement a database connection/select/close using RxJS observables", "body": "<p>Generally speaking, when using RxJs 6.x, something like \"connect + execute + close\" sequence is implemented along these lines</p>\n\n<pre><code>let connection;\n\nOracle.getConnection(....)\n.pipe(\n  switchMap(conn =&gt; {\n    connection = conn;\n    return connection.execute(statement);\n  }),\n  finalize(() =&gt; connection.close())\n)\n.subscribe(\n  result =&gt; resultSet = result,\n  error =&gt; {\n    console.error(error);\n  }\n)\n</code></pre>\n\n<p>Syntactic details may be different, but the key idea is that once the connection Observable emits, then you <code>switchMap</code> to execute the statement. The whole chain is activated when you subscribe. In the subscription you close the connection in case of error or when the Observable returned by the execution completes.</p>\n"}, {"comments": [{"owner": {"reputation": 237, "user_id": 1174198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b3763512442477bb990021dfdefb724?s=128&d=identicon&r=PG", "display_name": "Eti", "link": "https://stackoverflow.com/users/1174198/eti"}, "edited": false, "score": 1, "creation_date": 1533718239, "post_id": 51683932, "comment_id": 90444774, "body": "It took me a whole while to test this, but this is it. The keywords here are <code>using</code> and <code>concat</code>.  <code>using</code> allows me to return some kind of &quot;managed&quot; connection which automatically closes when unsubscribing. <code>concat</code> allows me to create a chain of various observables, and to return only the values that match its output type.  Thank you very much!"}], "tags": [], "owner": {"reputation": 2686, "user_id": 3024975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d50669d449ff67ba11190e98c504890d?s=128&d=identicon&r=PG", "display_name": "m1ch4ls", "link": "https://stackoverflow.com/users/3024975/m1ch4ls"}, "is_accepted": true, "score": 2, "last_activity_date": 1533635388, "last_edit_date": 1533635388, "creation_date": 1533372152, "answer_id": 51683932, "question_id": 51628752, "link": "https://stackoverflow.com/questions/51628752/how-do-i-implement-a-database-connection-select-close-using-rxjs-observables/51683932#51683932", "title": "How do I implement a database connection/select/close using RxJS observables", "body": "<p>This is how I generally handle connection management. The core is <code>using</code> observable creator that accepts resource factory as first argument and setup function as second.</p>\n\n<pre><code>using(() =&gt; { unsubscribe() }, resource =&gt; observableOf(resource))\n</code></pre>\n\n<p>The <code>resource</code> is an object with <code>unsubscribe</code> method that gets called as part of unsubscription - so you can hide any logic there and effectively bind lifecycle of arbitrary object to lifecycle of an observable.</p>\n\n<p>I hope the code below makes sense.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import * as Oracle from \"oracledb\";\r\nimport { mergeMap , ignoreElements} from 'rxjs/operators';\r\nimport { using } from 'rxjs/observable/using';\r\nimport { from as observableFrom } from 'rxjs/observable/from';\r\nimport { concat } from 'rxjs/observable/concat';\r\nimport { defer } from 'rxjs/observable/defer';\r\nimport { empty as observableEmpty } from 'rxjs/observable/empty';\r\n\r\nclass OracleConnection {\r\n  constructor(parameters) {\r\n    this.isClosed = false;\r\n    this.connection = null;\r\n    this.parameters = parameters;\r\n  }\r\n\r\n  setup() {\r\n    return defer(() =&gt; Oracle.getConnection(this.parameters)\r\n      .then(connection =&gt; { // do this in promise in case observable gets unsubscribed before connection is established\r\n        this.connection = connection;\r\n        if (this.isClosed) { // close in case connection got already closed before even got established\r\n          this.terminate();\r\n        }\r\n        return connection;\r\n      }));\r\n  }\r\n\r\n  close() {\r\n    this.isClosed = true;\r\n    if (this.connection !== null) {\r\n      const connection = this.connection;\r\n      this.connection = null;\r\n\r\n      return observableFrom(connection.close())\r\n        .pipe(ignoreElements()) // only propagate errors\r\n    }\r\n\r\n    return observableEmpty(); // connection already closed\r\n  }\r\n  \r\n  terminate() {\r\n    this.close().subscribe(/* handle error from connection close */);\r\n  }\r\n\r\n  unsubscribe() { // this will get called on observable unsubscribe\r\n    if (!this.isClosed) {\r\n      this.terminate();\r\n    }\r\n  }\r\n}\r\n\r\nclass ConnectionManager {\r\n  constructor(params) {\r\n    this.params = params;\r\n  }\r\n\r\n  getConnection() {\r\n    return using(() =&gt; new OracleConnection(this.params), oracleConnection =&gt; oracleConnection.setup())\r\n  }\r\n}\r\n\r\nconst manager = new ConnectionManager({ /* some params */ });\r\n\r\nmanager.getConnection()\r\n  .pipe(\r\n    mergeMap(connection =&gt; concat(\r\n      connection.execute('SELECT 1'),\r\n      connection.close() // explicitly close connection\r\n    )),\r\n    // alternatively\r\n    // take(1) // to close connection automatically\r\n  );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Cool thing you can do for example is easily retry the connection in case of failure:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>oracle.getConnection()\r\n  .pipe(\r\n    retry(3)\r\n    ...\r\n  );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 237, "user_id": 1174198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b3763512442477bb990021dfdefb724?s=128&d=identicon&r=PG", "display_name": "Eti", "link": "https://stackoverflow.com/users/1174198/eti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 755, "favorite_count": 1, "accepted_answer_id": 51683932, "answer_count": 2, "score": 3, "last_activity_date": 1562160227, "creation_date": 1533112371, "last_edit_date": 1533120797, "question_id": 51628752, "link": "https://stackoverflow.com/questions/51628752/how-do-i-implement-a-database-connection-select-close-using-rxjs-observables", "title": "How do I implement a database connection/select/close using RxJS observables", "body": "<p>I'm using node-oracledb to connect to an Oracle database. The API provides its own promises, that can be casted to <code>Promise&lt;T&gt;</code> and therefore \"converted\" to <code>Observable&lt;T&gt;</code>.</p>\n\n<p>Using Observables, I would like to:</p>\n\n<ol>\n<li>Open the database connection</li>\n<li>Select N records</li>\n<li>Close the database connection, <em>even if #2 threw an exception</em>.</li>\n</ol>\n\n<p>Using the traditional, blocking, procedural way, it would be something like this:</p>\n\n<pre><code>try\n{\n    connection = Oracle.getConnection(...);\n    resultSet = connection.execute(\"SELECT ... FROM ...\");\n}\ncatch (Exception)\n{\n    resultSet = EMPTY_RESULT;\n}\nfinally\n{\n    if (connection)\n        connection.close();\n}\n</code></pre>\n\n<p>My attempts at writing this using Observables lead to a lot of code and callbacks.</p>\n\n<p>The protected method getConnection() is still pretty simple:</p>\n\n<pre><code>import * as Oracle from \"oracledb\";\n\nprotected getConnection() : Observable&lt;IConnection&gt;\n{\n    return OraUtil.from(Oracle.getConnection(this.parameters));\n}\n</code></pre>\n\n<p>And so is the <code>closeConnection()</code> method. I used the promise directly here, to avoid even more code.</p>\n\n<pre><code>protected closeConnection(subscriber : Subscriber&lt;IExecuteReturn&gt;, connection : IConnection) : void\n{\n    connection.close()\n        .then(() =&gt; subscriber.complete())\n        .catch((error) =&gt; subscriber.error());\n}\n</code></pre>\n\n<p>But the <code>execute()</code> method is where the trouble starts.</p>\n\n<pre><code>protected _execute(connection : IConnection, statement : string) : Observable&lt;IExecuteReturn&gt;\n{\n    return new Observable&lt;IExecuteReturn&gt;(\n        (subscriber) =&gt; {\n            OraUtil.from(connection.execute(statement)).subscribe(\n                (result) =&gt; subscriber.next(result),\n                (error) =&gt; {\n                    subscriber.error(error);\n                    this.closeConnection(subscriber, connection);\n                },\n                () =&gt; {\n                    this.closeConnection(subscriber, connection);\n                });\n        });\n}\n\npublic execute(statement : string) : Observable&lt;IExecuteReturn&gt;\n{\n    return this.getConnection().pipe(\n        flatMap((connection) =&gt; this._execute(connection, statement))\n    );\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "date", "format"], "comments": [{"owner": {"reputation": 967, "user_id": 8563159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f681d5cfc3ef72ee72344bcbdbfcfb1b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Ruben", "link": "https://stackoverflow.com/users/8563159/steve-ruben"}, "edited": false, "score": 1, "creation_date": 1533111219, "post_id": 51628355, "comment_id": 90221146, "body": "<a href=\"https://stackoverflow.com/questions/338463/how-do-i-do-a-date-comparison-in-javascript\" title=\"how do i do a date comparison in javascript\">stackoverflow.com/questions/338463/&hellip;</a>"}, {"owner": {"reputation": 967, "user_id": 8563159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f681d5cfc3ef72ee72344bcbdbfcfb1b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Ruben", "link": "https://stackoverflow.com/users/8563159/steve-ruben"}, "edited": false, "score": 0, "creation_date": 1533111245, "post_id": 51628355, "comment_id": 90221162, "body": "<a href=\"https://stackoverflow.com/questions/38575235/compare-dates-as-strings-in-typescript\" title=\"compare dates as strings in typescript\">stackoverflow.com/questions/38575235/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 2777142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c851fc0af01f9d19a443a72b80215f92?s=128&d=identicon&r=PG", "display_name": "xcatliu", "link": "https://stackoverflow.com/users/2777142/xcatliu"}, "is_accepted": true, "score": 3, "last_activity_date": 1533111160, "creation_date": 1533111160, "answer_id": 51628403, "question_id": 51628355, "link": "https://stackoverflow.com/questions/51628355/how-do-i-compare-two-dates-in-different-formats-using-typescript/51628403#51628403", "title": "How do I compare two dates in different formats using typescript?", "body": "<pre><code>if (new Date('2018-08-01T17:29:17+01:00') &gt; new Date()) {\n    // do something\n}\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 9433582, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "fly high", "link": "https://stackoverflow.com/users/9433582/fly-high"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 51628403, "answer_count": 1, "score": 1, "last_activity_date": 1533117073, "creation_date": 1533110954, "last_edit_date": 1533117073, "question_id": 51628355, "link": "https://stackoverflow.com/questions/51628355/how-do-i-compare-two-dates-in-different-formats-using-typescript", "title": "How do I compare two dates in different formats using typescript?", "body": "<p>My token expire time <code>value(currentUser.expire)</code> is '2018-08-01T17:29:17+01:00'</p>\n\n<p>I want to compare the current time.</p>\n\n<pre><code>currentUser.expire &gt; new Date().valueOf()\n</code></pre>\n\n<p><br>\n<code>new Date().valueOf()</code> is '1533110765293'</p>\n\n<p>The format of the two values is different.</p>\n\n<p>What is the most appropriate method?</p>\n"}, {"tags": ["angular", "typescript", "jasmine", "rxjs"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 2, "creation_date": 1533111385, "post_id": 51628338, "comment_id": 90221235, "body": "So ... Do you have an error or something ?"}, {"owner": {"reputation": 409, "user_id": 2193047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3Rf3.png?s=128&g=1", "display_name": "negative0", "link": "https://stackoverflow.com/users/2193047/negative0"}, "edited": false, "score": 0, "creation_date": 1533114271, "post_id": 51628338, "comment_id": 90222838, "body": "No i don&#39;t, I just don&#39;t think this is the proper way of testing observables, any suggestion?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533114449, "post_id": 51628338, "comment_id": 90222955, "body": "I would suggest you stop using mockito but that&#39;s personal preference."}, {"owner": {"reputation": 409, "user_id": 2193047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3Rf3.png?s=128&g=1", "display_name": "negative0", "link": "https://stackoverflow.com/users/2193047/negative0"}, "edited": false, "score": 0, "creation_date": 1533202191, "post_id": 51628338, "comment_id": 90263619, "body": "How would you approach it?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533202216, "post_id": 51628338, "comment_id": 90263637, "body": "Without mockito and with custom made mocks and observables."}], "owner": {"reputation": 409, "user_id": 2193047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3Rf3.png?s=128&g=1", "display_name": "negative0", "link": "https://stackoverflow.com/users/2193047/negative0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533110897, "creation_date": 1533110897, "question_id": 51628338, "link": "https://stackoverflow.com/questions/51628338/jasmine-and-observable", "title": "Jasmine and Observable", "body": "<p>I am trying to test an authentication method I created using TypeScript in my Angular project. I have used a mix of Mockito and Jasmine to create my test cases and mocks, but I believe there should be a better way of approaching this. I'm having an issue to keep track of methods being fired up and what being returned when obseravle is created.</p>\n\n<p><strong>Method:</strong></p>\n\n<pre><code>public login(username: string, password: string): Observable&lt;TokenResponse&gt; {\n    return this.client.authenticate(username, password).pipe(\n        tap(tokenResponse =&gt; {\n            this.storeToken(tokenResponse.access_token, tokenResponse.refresh_token, tokenResponse.expires_in);\n            this.keepAlive();\n        })\n    );\n}\n</code></pre>\n\n<p><strong>Test:</strong></p>\n\n<pre><code>describe('and when `login` is called', () =&gt; {\n    let response, subject;\n\n    beforeEach(() =&gt; {\n        subject = new Subject();\n        mockito.when(MockedClientClass.authenticate('username', 'password')).thenReturn(subject);\n        response = sut.login('username', 'password');\n    });\n\n    it('should return an observable', () =&gt; {\n        expect(response instanceof Observable).toBe(true);\n    });\n\n    describe('and when the observable is subscribed to', () =&gt; {\n        beforeEach(() =&gt; {\n            mockito.when(MockedTokenClass.getTokenStorage()).thenReturn(mockedTokenStorageInstance);\n            response.subscribe();\n            subject.next(false);\n        });\n\n        it('save response token into token storage', () =&gt; {\n            mockito.verify(MockedTokenStorageClass.save(mockito.anyOfClass(TokenEntity))).once();\n        });\n\n        describe('and when `isLoggedIn` called', () =&gt; {\n            it('should show user as logged in when token is stored and valid', () =&gt; {\n                mockito.when(MockedTokenClass.isValid()).thenReturn(true);\n                expect(sut.isLoggedIn()).toBe(true);\n            });\n        });\n    });\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533110630, "post_id": 51628228, "comment_id": 90220827, "body": "Please show you <code>Student</code> class/interface"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533110667, "post_id": 51628228, "comment_id": 90220839, "body": "And your <code>getStudents()</code> method too"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1533110697, "post_id": 51628228, "comment_id": 90220852, "body": "And how can you have both a variable and a getter with the same name ?"}, {"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1533110792, "post_id": 51628228, "comment_id": 90220899, "body": "use an <code>*ngIf=&quot;studentList.length&quot;</code> and handle go to for loop or not."}, {"owner": {"reputation": 1831, "user_id": 1012506, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/371eb765b41f62d435eeb73fddb00b02?s=128&d=identicon&r=PG", "display_name": "user1012506", "link": "https://stackoverflow.com/users/1012506/user1012506"}, "edited": false, "score": 0, "creation_date": 1533111613, "post_id": 51628228, "comment_id": 90221366, "body": "I updated the question by the comments."}], "answers": [{"comments": [{"owner": {"reputation": 1831, "user_id": 1012506, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/371eb765b41f62d435eeb73fddb00b02?s=128&d=identicon&r=PG", "display_name": "user1012506", "link": "https://stackoverflow.com/users/1012506/user1012506"}, "edited": false, "score": 0, "creation_date": 1533112095, "post_id": 51628316, "comment_id": 90221635, "body": "when *ngIf=studentList.length === 0,  how can show empty row?? this is my question..."}, {"owner": {"reputation": 465, "user_id": 3710630, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100784534/picture?type=large", "display_name": "Sujay", "link": "https://stackoverflow.com/users/3710630/sujay"}, "reply_to_user": {"reputation": 1831, "user_id": 1012506, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/371eb765b41f62d435eeb73fddb00b02?s=128&d=identicon&r=PG", "display_name": "user1012506", "link": "https://stackoverflow.com/users/1012506/user1012506"}, "edited": false, "score": 0, "creation_date": 1533112453, "post_id": 51628316, "comment_id": 90221818, "body": "if you are using a table you can use                                                                  <code>&lt;tr class=&quot;blank_row&quot;&gt;             &lt;td bgcolor=&quot;#FFFFFF&quot; colspan=&quot;3&quot;&gt;&amp;nbsp;&lt;&#47;td&gt;      &lt;&#47;tr&gt;</code>"}, {"owner": {"reputation": 1831, "user_id": 1012506, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/371eb765b41f62d435eeb73fddb00b02?s=128&d=identicon&r=PG", "display_name": "user1012506", "link": "https://stackoverflow.com/users/1012506/user1012506"}, "edited": false, "score": 0, "creation_date": 1533112565, "post_id": 51628316, "comment_id": 90221874, "body": "empty row that can updateable the new student, not empty line"}], "tags": [], "owner": {"reputation": 465, "user_id": 3710630, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100784534/picture?type=large", "display_name": "Sujay", "link": "https://stackoverflow.com/users/3710630/sujay"}, "is_accepted": false, "score": 0, "last_activity_date": 1533110807, "creation_date": 1533110807, "answer_id": 51628316, "question_id": 51628228, "link": "https://stackoverflow.com/questions/51628228/how-to-push-a-new-item-to-an-empty-array/51628316#51628316", "title": "How to push a new Item to an empty array?", "body": "<p>What you can do in this case is use </p>\n\n<p><code>*ngIf=studentList.length === 0</code> use this condition for showing empty row</p>\n\n<p><code>*ngIf=studentList.length &gt; 0</code> use this condition when data is available.</p>\n"}, {"tags": [], "owner": {"reputation": 71114, "user_id": 1059101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7Mdb.png?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/1059101/jai"}, "is_accepted": false, "score": 0, "last_activity_date": 1533111410, "creation_date": 1533111410, "answer_id": 51628468, "question_id": 51628228, "link": "https://stackoverflow.com/questions/51628228/how-to-push-a-new-item-to-an-empty-array/51628468#51628468", "title": "How to push a new Item to an empty array?", "body": "<p>You can try this one:  </p>\n\n<pre><code>get studentList(): Student[] {\n    const arr: Array&lt;Student&gt; = [];\n    if (arr.length){\n       arr = getStudents();\n    }else{\n      arr = [new Student()];\n    }\n    return arr; // return it here.\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1831, "user_id": 1012506, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/371eb765b41f62d435eeb73fddb00b02?s=128&d=identicon&r=PG", "display_name": "user1012506", "link": "https://stackoverflow.com/users/1012506/user1012506"}, "is_accepted": true, "score": 0, "last_activity_date": 1536126601, "last_edit_date": 1536126601, "creation_date": 1536121472, "answer_id": 52177047, "question_id": 51628228, "link": "https://stackoverflow.com/questions/51628228/how-to-push-a-new-item-to-an-empty-array/52177047#52177047", "title": "How to push a new Item to an empty array?", "body": "<p>Need to declare the Student as [];</p>\n\n<pre><code>get studentList(): Student[] {      //parent property\n      const arr: Student[] = []\nif (getStudents()){\n      arr=getStudents();\n}\nelse{\n      arr.push(new Student());\n      return (arr);\n    }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 750, "user_id": 5029410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jpOWq.jpg?s=128&g=1", "display_name": "h_w", "link": "https://stackoverflow.com/users/5029410/h-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1536128863, "creation_date": 1536128863, "answer_id": 52178428, "question_id": 51628228, "link": "https://stackoverflow.com/questions/51628228/how-to-push-a-new-item-to-an-empty-array/52178428#52178428", "title": "How to push a new Item to an empty array?", "body": "<p>you can do something like this in  your html file</p>\n\n<pre><code>&lt;table&gt;\n&lt;thead&gt;\n------\n&lt;/thead&gt;\n    &lt;tbody&gt;\n    &lt;tr *ngFor=\"student of students\"&gt;\n    &lt;/tr&gt;\n    &lt;tr *ngIf=\"students.length==0\"&gt;\n    &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"}], "owner": {"reputation": 1831, "user_id": 1012506, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/371eb765b41f62d435eeb73fddb00b02?s=128&d=identicon&r=PG", "display_name": "user1012506", "link": "https://stackoverflow.com/users/1012506/user1012506"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 52177047, "answer_count": 4, "score": -3, "last_activity_date": 1536128863, "creation_date": 1533110475, "last_edit_date": 1533111823, "question_id": 51628228, "link": "https://stackoverflow.com/questions/51628228/how-to-push-a-new-item-to-an-empty-array", "title": "How to push a new Item to an empty array?", "body": "<p>I have an array of studets that I use by <code>*ngFor</code>,\nThe student list send bi the parent component,\nwhen the studentList is empty, I want to see one row empty on the component,\nThis is the array:</p>\n\n<pre><code> @Input() studentList: Student[] = []; //child property\n</code></pre>\n\n<p>And In The parent cmp:</p>\n\n<pre><code> get studentList(): Student[] {      //parent property\n      const arr: Array&lt;Student&gt; = new Array&lt;Student&gt;();\nif (getStudents()){\n      arr=getStudents();\n}\nelse{\n      arr.push(new Student());\n      return (arr);\n    }\n  }\n</code></pre>\n\n<p><code>getStudents()</code> is a Mock method that return null,\n<code>Student</code> is a simple class with <code>idNumber</code> and <code>studentName</code> props\nbut if the arr is empty, the <code>*ngFor</code> does not show any row.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1533109951, "creation_date": 1533109951, "answer_id": 51628076, "question_id": 51628008, "link": "https://stackoverflow.com/questions/51628008/exclude-property-from-template/51628076#51628076", "title": "Exclude property from Template", "body": "<p>That is because the compiler can't check based on function declaration alone if type <code>T</code> actually has the property <code>id</code>. We can add a constraint to tell the compiler that what will be passed in will have an <code>id</code> property:</p>\n\n<pre><code>function foo&lt;T extends { id: string }&gt;(x: Omit&lt;T, 'id'&gt;) {\n    let value: Omit&lt;T, 'id'&gt; = x;\n}\nfoo&lt;MyType&gt;({ timeout: 10, delta: 5 })\n</code></pre>\n\n<p>You'll notice I did not initialize the <code>value</code> variable inside the function with an object literal, this is because you can't create an object literal if you don't know the full type. All we know about <code>T</code> is that is has and <code>id</code> property, we don't know anything about the other properties <code>T</code> has, what type they have and if they are required.</p>\n\n<p>If you really need to initialize a variable of a generic type inside your function the only (<strong>unsafe</strong>) way to do this is with a type assertion: </p>\n\n<pre><code>function foo&lt;T extends MyType&gt;(x: Omit&lt;T, 'id'&gt;) {\n    let value = {\n        timeout: 10,\n        delta: 5,\n    } as unknown as Omit&lt;T, 'id'&gt; // replace unknown with any for ts before 3.0\n}\n</code></pre>\n"}], "owner": {"reputation": 14512, "user_id": 253098, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/400nc.png?s=128&g=1", "display_name": "SystematicFrank", "link": "https://stackoverflow.com/users/253098/systematicfrank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 51628076, "answer_count": 1, "score": 1, "last_activity_date": 1533109951, "creation_date": 1533109668, "question_id": 51628008, "link": "https://stackoverflow.com/questions/51628008/exclude-property-from-template", "title": "Exclude property from Template", "body": "<p>I have this code where I can exclude a property from an interface</p>\n\n<pre><code>type Omit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;\n\ninterface MyType {\n  id: string\n  timeout: number\n  delta: number\n}\n\nlet value: Omit&lt;MyType, 'id'&gt; = {\n  timeout: 10,\n  delta: 5,\n}\n</code></pre>\n\n<p>That works OK, but I cannot exclude the property from a generic type, like this:</p>\n\n<pre><code>function foo&lt;T&gt;(x: T) {\n  let value: Omit&lt;T, 'id'&gt; = {\n    timeout: 10,\n    delta: 5,\n  }\n}\nfoo&lt;MyType&gt;({ timeout: 10, delta: 5 })\n</code></pre>\n\n<p>Now I get the error message <code>Type '\"id\"' does not satisfy the constraint 'keyof T'</code> What am I doing wrong?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533110186, "post_id": 51628046, "comment_id": 90220581, "body": "declare your URL as a member of your service, and use <code>this.apiBaseUrl</code> in your http calls."}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533110535, "post_id": 51628046, "comment_id": 90220772, "body": "Which service class are you referring to? It is currently part of the auth.service class... Or do you mean have it as part of what is exported?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533110594, "post_id": 51628046, "comment_id": 90220806, "body": "If it&#39;s part of the AuthService, then why is it declared as a constant ? It&#39;s not possible to do that if it&#39;s part of a class."}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533110868, "post_id": 51628046, "comment_id": 90220946, "body": "Moved the <code>apiBaseUrl</code> declaration inside of the <code>export class AuthService {...}</code> but I am still getting the same error on my test :-/"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533111072, "post_id": 51628046, "comment_id": 90221062, "body": "You&#39;re missing a zero in your test URL. <code>80001</code> becomes <code>8001</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533111133, "post_id": 51628046, "comment_id": 90221099, "body": "My advice : if you ever run into this error again, run a search in your spec file with the actual URL. If you get no match, you mistyped your URL."}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533111641, "post_id": 51628046, "comment_id": 90221380, "body": "Ah, such a n00b move on my part, apologies. However, now I have amended the uri, I am getting a different error: <code>Cannot read property &#39;next&#39; of undefined</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533111746, "post_id": 51628046, "comment_id": 90221435, "body": "It&#39;s not because of the URL, it&#39;s either because of an interceptor or because of a subject. Please poste your whole stack trace in your question."}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1533111980, "post_id": 51628046, "comment_id": 90221569, "body": "Aha! It was being caused by the <code>async</code> I added but hadn&#39;t removed in my code. Caused by the <code>q</code> dependency. All fixed now. You must be getting tired of me @trichetriche :P"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 2, "last_activity_date": 1533109840, "creation_date": 1533109840, "answer_id": 51628046, "question_id": 51627967, "link": "https://stackoverflow.com/questions/51627967/expected-one-matching-request-for-criteria-match-url-none-found-angular2/51628046#51628046", "title": "Expected one matching request for criteria &quot;Match URL&quot; - None found - Angular2+", "body": "<p>This error means the two URLs aren't matching, and it happens because you are calling your endpoint in a bizarre way : </p>\n\n<pre><code>const apiBaseUrl = 'http://localhost:8001/data/betting/ui-api/v1';\n</code></pre>\n\n<p>Where is this declared ? Why isn't it a member of the service class ? </p>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4793, "favorite_count": 0, "accepted_answer_id": 51628046, "answer_count": 1, "score": 1, "last_activity_date": 1541595024, "creation_date": 1533109542, "last_edit_date": 1541595024, "question_id": 51627967, "link": "https://stackoverflow.com/questions/51627967/expected-one-matching-request-for-criteria-match-url-none-found-angular2", "title": "Expected one matching request for criteria &quot;Match URL&quot; - None found - Angular2+", "body": "<p>I am attempting to test an http get for my auth function but I'm having no luck.</p>\n\n<p>I have been looking at <a href=\"http://www.syntaxsuccess.com/viewarticle/mocking-http-request-with-httpclient-in-angular\" rel=\"nofollow noreferrer\">this resource</a> and adapting for my own purposes but I am getting the error back:</p>\n\n<blockquote>\n  <p>Error: Expected one matching request for criteria \"Match URL: <a href=\"http://localhost:80001/\" rel=\"nofollow noreferrer\">http://localhost:80001/</a>...\", found none.</p>\n</blockquote>\n\n<p>I have attempted wrapping in an <code>async</code> but with no luck either.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>On advice of @trichetriche, I moved my <code>apiBaseUrl</code> declaration into the actual class as to be referred to with <code>this.apiBaseUrl</code>, however running the test I am still getting the same error...</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>It appears my main problem was mis-typing the uri as 80001 instead of 8001. However I am now experiencing a new error:</p>\n\n<blockquote>\n  <p>Cannot read property 'next' of undefined</p>\n</blockquote>\n\n<p><strong>FINAL UPDATE</strong>\nThe above error was being caused by the <code>async</code> wrapper I had added previously, and was brought on by the <code>q</code> dependency. Having removed the <code>async</code> all is running smoothly.</p>\n"}, {"tags": ["typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 946, "user_id": 8831670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1325bfa129b4924da8f8304ea776de61?s=128&d=identicon&r=PG&f=1", "display_name": "Revathi Vijay", "link": "https://stackoverflow.com/users/8831670/revathi-vijay"}, "edited": false, "score": 0, "creation_date": 1533109979, "post_id": 51627984, "comment_id": 90220455, "body": "Thank You for your help. but still I am facing same error"}, {"owner": {"reputation": 1831, "user_id": 1012506, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/371eb765b41f62d435eeb73fddb00b02?s=128&d=identicon&r=PG", "display_name": "user1012506", "link": "https://stackoverflow.com/users/1012506/user1012506"}, "edited": false, "score": 0, "creation_date": 1533641442, "post_id": 51627984, "comment_id": 90411613, "body": "@Sajeetharan ,I created const control in my component as FormArray, can I init with empty (to be added by user)"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 2, "last_activity_date": 1533110483, "last_edit_date": 1533110483, "creation_date": 1533109601, "answer_id": 51627984, "question_id": 51627955, "link": "https://stackoverflow.com/questions/51627955/formarray-cannot-read-property-push-of-undefined-in-typescript/51627984#51627984", "title": "FormArray : Cannot read property &#39;push&#39; of undefined in typescript", "body": "<p>This is happening when control is null , you need to initialize with empty array</p>\n\n<pre><code>const control = &lt;FormArray&gt;this.AddUserstep2Form.controls['addresses'];  \nconst addrCtrl = this.initAddress();\nif(control &amp;&amp; control.length &gt; 0){\n control.push(addrCtrl);\n}else\n{\n control = [];\n control.push(addrCtrl);\n}\n</code></pre>\n"}], "owner": {"reputation": 946, "user_id": 8831670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1325bfa129b4924da8f8304ea776de61?s=128&d=identicon&r=PG&f=1", "display_name": "Revathi Vijay", "link": "https://stackoverflow.com/users/8831670/revathi-vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533110483, "creation_date": 1533109511, "question_id": 51627955, "link": "https://stackoverflow.com/questions/51627955/formarray-cannot-read-property-push-of-undefined-in-typescript", "title": "FormArray : Cannot read property &#39;push&#39; of undefined in typescript", "body": "<p>ERROR TypeError: Cannot read property 'push' of undefined</p>\n\n<pre><code>addAddress() {\n    const control = &lt;FormArray&gt;this.AddUserstep2Form.controls['addresses'];  \n\n    const addrCtrl = this.initAddress();\n\n    control.push(addrCtrl);\n\n  }\ninitAddress() {\n    return this.fb.group({\n      stateCode: [''],\n      cityId: ['']\n    }); \n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "asp.net-web-api", "get", "cross-domain"], "comments": [{"owner": {"reputation": 71114, "user_id": 1059101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7Mdb.png?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/1059101/jai"}, "edited": false, "score": 1, "creation_date": 1533109955, "post_id": 51627828, "comment_id": 90220441, "body": "why don&#39;t you use interceptors for adding the headers? If you are using httpClient."}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "reply_to_user": {"reputation": 71114, "user_id": 1059101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7Mdb.png?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/1059101/jai"}, "edited": false, "score": 0, "creation_date": 1533110020, "post_id": 51627828, "comment_id": 90220487, "body": "what change i need to do for using interceptors"}, {"owner": {"reputation": 71114, "user_id": 1059101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7Mdb.png?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/1059101/jai"}, "edited": false, "score": 1, "creation_date": 1533110158, "post_id": 51627828, "comment_id": 90220565, "body": "<a href=\"https://medium.com/@ryanchenkie_40935/angular-authentication-using-the-http-client-and-http-interceptors-2f9d1540eb8\" rel=\"nofollow noreferrer\">medium.com/@ryanchenkie_40935/&hellip;</a> check this one."}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "reply_to_user": {"reputation": 71114, "user_id": 1059101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7Mdb.png?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/1059101/jai"}, "edited": false, "score": 0, "creation_date": 1533110584, "post_id": 51627828, "comment_id": 90220801, "body": "is there any alternative without this?"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "reply_to_user": {"reputation": 71114, "user_id": 1059101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7Mdb.png?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/1059101/jai"}, "edited": false, "score": 0, "creation_date": 1533119627, "post_id": 51627828, "comment_id": 90226326, "body": "thanks for the tips ..i got solution!"}], "answers": [{"comments": [{"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533109859, "post_id": 51628034, "comment_id": 90220399, "body": "where should i add this? in the above script?"}, {"owner": {"reputation": 41, "user_id": 8674954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/265a01ea1c3f9216ce6a51d62fb8a8f0?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre Berger", "link": "https://stackoverflow.com/users/8674954/pierre-berger"}, "reply_to_user": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533109923, "post_id": 51628034, "comment_id": 90220429, "body": "In a file call <code>proxy.conf.json</code>"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533110430, "post_id": 51628034, "comment_id": 90220718, "body": "hope fully this is a work around not a solution, since we use proxy..am i right?"}, {"owner": {"reputation": 41, "user_id": 8674954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/265a01ea1c3f9216ce6a51d62fb8a8f0?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre Berger", "link": "https://stackoverflow.com/users/8674954/pierre-berger"}, "reply_to_user": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533110886, "post_id": 51628034, "comment_id": 90220955, "body": "This is working only in a development environment. In a production environment the back-end should be on the same url and port than your Angular app.   If you want to make some API call to an external API you should add CORS authorization in this API, not in your Angular app. But allow cross-domain requests isn&#39;t recommended for security reason."}], "tags": [], "owner": {"reputation": 41, "user_id": 8674954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/265a01ea1c3f9216ce6a51d62fb8a8f0?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre Berger", "link": "https://stackoverflow.com/users/8674954/pierre-berger"}, "is_accepted": false, "score": 4, "last_activity_date": 1533110032, "last_edit_date": 1533110032, "creation_date": 1533109753, "answer_id": 51628034, "question_id": 51627828, "link": "https://stackoverflow.com/questions/51627828/corrs-issue-in-angular-http-get/51628034#51628034", "title": "Corrs issue in Angular HTTP get", "body": "<p>Have you tried to look at <a href=\"https://github.com/angular/angular-cli/blob/master/docs/documentation/stories/proxy.md\" rel=\"nofollow noreferrer\">proxy conf</a> ?</p>\n\n<p>Create a file <code>proxy.conf.json</code> with something like that :</p>\n\n<pre><code> {\n  \"/api\": {\n    \"target\": \"http://localhost:54721\",\n    \"secure\": false,\n    \"logLevel\": \"debug\",\n    \"changeOrigin\": true\n  }\n</code></pre>\n\n<p>Then you just have to do your API call without any CORS headers.</p>\n\n<p>Don't forget to add <code>--proxy-config proxy.conf.json</code> to your start script.</p>\n"}, {"comments": [{"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1533119416, "post_id": 51629371, "comment_id": 90226197, "body": "Thanks  a ton! Its worked like a charm! You are STAR!!"}], "tags": [], "owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "is_accepted": true, "score": 1, "last_activity_date": 1533114420, "creation_date": 1533114420, "answer_id": 51629371, "question_id": 51627828, "link": "https://stackoverflow.com/questions/51627828/corrs-issue-in-angular-http-get/51629371#51629371", "title": "Corrs issue in Angular HTTP get", "body": "<p>The problem is that you are using the new <code>HttpClient</code> (deduced from the fact that you get a <code>HttpErrorResponse</code>), but you pass in the wrong header instance: you are using <code>Headers</code> (angular 2-4) instead of <code>HttpHeaders</code> (angular 4-6)</p>\n\n<p>Try that</p>\n\n<pre><code>import {HttpHeaders} from '@angular/common.http;\n\n//...\n\nlet headers = new HttpHeaders().set('Authorization', `bearer `+this.getTokenFromStorage());\n\nreturn this.http.get(Appconfig.HISURL + 'api/User/GetUserDetails/' + soeid, {headers});\n</code></pre>\n\n<p>Also passing the <code>Access-Control-...</code> headers client side is useless, since they are meant to be set server side</p>\n"}, {"comments": [{"owner": {"reputation": 3405, "user_id": 4934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4EKF.jpg?s=128&g=1", "display_name": "Aniket Avhad", "link": "https://stackoverflow.com/users/4934481/aniket-avhad"}, "reply_to_user": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 1, "creation_date": 1533118350, "post_id": 51629977, "comment_id": 90225547, "body": "If you are using &quot;HttpClient&quot; for accesing the http methods then it will give same error. Try to use &quot;private http: Http&quot; and access http methods with this."}], "tags": [], "owner": {"reputation": 3405, "user_id": 4934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4EKF.jpg?s=128&g=1", "display_name": "Aniket Avhad", "link": "https://stackoverflow.com/users/4934481/aniket-avhad"}, "is_accepted": false, "score": 1, "last_activity_date": 1533116199, "creation_date": 1533116199, "answer_id": 51629977, "question_id": 51627828, "link": "https://stackoverflow.com/questions/51627828/corrs-issue-in-angular-http-get/51629977#51629977", "title": "Corrs issue in Angular HTTP get", "body": "<p>Try this,</p>\n\n<pre><code>let url = 'API_URL';\nlet options = new RequestOptions({ headers: this.getHeadersWithAuthToken() });\nreturn this.http.get(url,options).map(response =&gt; response.json());\n\ngetHeadersWithAuthToken(): Headers {\n    return new Headers(\n      {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Methods': '*',\n        'Access-Control-Allow-Headers': '*',\n        'Access-Control-Allow-Origin': '*',\n        'Authorization': `bearer `+localStorage.getItem(\"token\")\n      });\n  }\n</code></pre>\n"}], "owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 51629371, "answer_count": 3, "score": -1, "last_activity_date": 1533116199, "creation_date": 1533109112, "question_id": 51627828, "link": "https://stackoverflow.com/questions/51627828/corrs-issue-in-angular-http-get", "title": "Corrs issue in Angular HTTP get", "body": "<p>I am trying call an api as below:</p>\n\n<pre><code>let headers = new Headers();\nheaders.append('Authorization', `bearer `+this.getTokenFromStorage());\nheaders.append('Content-Type', 'application/json; charset=utf-8');\nheaders.append('Access-Control-Allow-Origin', '*');\nheaders.append('Access-Control-Allow-Methods', 'GET');\nlet options = new RequestOptions({ headers: headers });\nreturn this.http.get(Appconfig.HISURL + 'api/User/GetUserDetails/' + soeid, options);\n</code></pre>\n\n<p>Error shown below</p>\n\n<blockquote>\n  <p>err = HttpErrorResponse {headers: HttpHeaders, status: 401,\n  statusText: \"Unauthorized\", url:\n  \"<a href=\"http://localhost:54721/api/User/GetUserDetails/MA12345\" rel=\"nofollow noreferrer\">http://localhost:54721/api/User/GetUserDetails/MA12345</a>\", ok: false,\n  \u2026}</p>\n</blockquote>\n\n<p>But i take the values and pass it on POSTMAN, it hit the API without any issues, what i am missing?</p>\n"}, {"tags": ["angular", "typescript", "echarts"], "answers": [{"comments": [{"owner": {"reputation": 4807, "user_id": 1801403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sLAec.jpg?s=128&g=1", "display_name": "Damian Green", "link": "https://stackoverflow.com/users/1801403/damian-green"}, "edited": false, "score": 0, "creation_date": 1594140442, "post_id": 52162972, "comment_id": 111019961, "body": "does this actually work with the <code>roam</code> option? I receive no event and the docs make it seem like its only for the toolbox datazoom action"}], "tags": [], "owner": {"reputation": 329, "user_id": 9923776, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qw0B-oPMNoM/AAAAAAAAAAI/AAAAAAAAAAA/FzAdBZvIlF4/photo.jpg?sz=128", "display_name": "EviSvil", "link": "https://stackoverflow.com/users/9923776/evisvil"}, "is_accepted": false, "score": 1, "last_activity_date": 1536052901, "creation_date": 1536052901, "answer_id": 52162972, "question_id": 51627729, "link": "https://stackoverflow.com/questions/51627729/how-to-listen-to-map-zoom-with-echarts/52162972#52162972", "title": "How to listen to map zoom with echarts?", "body": "<p>You should listen zoom event with dataZoom event provided by library.</p>\n\n<pre><code>'dataZoom': function(params,charts)\n{\n   x1Index = params['batch'][0]['startValue']; //start index of data array\n   x2Index = params['batch'][0]['endValue']; //end index of data array\n\n   var currentOption = charts.getOption();\n\n   //change charts option (same sintax has the original option you used to create charts\n   currentOption['title'] = 'New Title'; //for example\n\n  charts.setOption(currentOption,false); //override the current option. If the second params is true, echarts will tries to merge options but it doesn't work perfectly\n}\n</code></pre>\n"}], "owner": {"reputation": 1051, "user_id": 6640634, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a9a48514d10a360dc4e11d1860f9dfe9?s=128&d=identicon&r=PG&f=1", "display_name": "Daneel", "link": "https://stackoverflow.com/users/6640634/daneel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 979, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536052901, "creation_date": 1533108795, "question_id": 51627729, "link": "https://stackoverflow.com/questions/51627729/how-to-listen-to-map-zoom-with-echarts", "title": "How to listen to map zoom with echarts?", "body": "<p>I'm using Echarts with Angular to display a map.</p>\n\n<p>I want the map to be zoomable (done with <code>roaming: true</code> in the chart options), but also to <strong>load a different map when the zoom is strong enough</strong>.</p>\n\n<p><em>For example, if the zoom is less than 150%, I want to display a map of my country separated in regions, but if the zoom becomes more than 150%, I would like to load a finer map displaying territories inside the regions.</em></p>\n\n<p>Would that be possible with echarts ?</p>\n\n<p>I tried to listen to the mouse scroll events, but with no success : I have access to the event only when I scroll on the echarts <em>component</em> but <strong>not on the map</strong>. If I do scroll on the map, the zoom is performed but I don't get any mouse scroll event.</p>\n\n<p>Does anybody have a workaround to help me reach my goal ? Thanks !</p>\n"}, {"tags": ["sql-server", "typescript", "vue.js"], "comments": [{"owner": {"reputation": 17581, "user_id": 185647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bfabbf57e76daf61ccdae0df5ab5c06?s=128&d=identicon&r=PG", "display_name": "Squirrel", "link": "https://stackoverflow.com/users/185647/squirrel"}, "edited": false, "score": 1, "creation_date": 1533107930, "post_id": 51627433, "comment_id": 90219320, "body": "are you passing empty string or NULL ? where is the single quote ?"}, {"owner": {"reputation": 55, "user_id": 9669077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be8275fde1dfee6a7d301c52e76971b4?s=128&d=identicon&r=PG&f=1", "display_name": "Omer Khan", "link": "https://stackoverflow.com/users/9669077/omer-khan"}, "reply_to_user": {"reputation": 17581, "user_id": 185647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bfabbf57e76daf61ccdae0df5ab5c06?s=128&d=identicon&r=PG", "display_name": "Squirrel", "link": "https://stackoverflow.com/users/185647/squirrel"}, "edited": false, "score": 0, "creation_date": 1533108180, "post_id": 51627433, "comment_id": 90219460, "body": "I&#39;m passing an empty string...but recently i tried to set ProgramDetailID = null, and tried passing it...but didn&#39;t work"}], "answers": [{"tags": [], "owner": {"reputation": 35864, "user_id": 18565, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5beeab66d6fe021cbd4daa041330cc86?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/18565/kris"}, "is_accepted": true, "score": 1, "last_activity_date": 1533108219, "creation_date": 1533108219, "answer_id": 51627554, "question_id": 51627433, "link": "https://stackoverflow.com/questions/51627433/is-it-possible-to-pass-a-null-into-an-sql-server-stored-procedure-from-typescrip/51627554#51627554", "title": "Is it possible to pass a NULL into an SQL Server Stored Procedure from Typescript", "body": "<p>For sanity's sake I'm assuming you're using a javascript based backend here and not just calling directly into your database from the frontend because that would be dangerous.</p>\n\n<p>You're concatenating an empty string there. you could use something like:</p>\n\n<pre><code>this.someField ? this.someField : 'NULL'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>this.someField ?? 'NULL'\n</code></pre>\n\n<p>a better, safer way would be to parameterize your queries.</p>\n"}], "owner": {"reputation": 55, "user_id": 9669077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be8275fde1dfee6a7d301c52e76971b4?s=128&d=identicon&r=PG&f=1", "display_name": "Omer Khan", "link": "https://stackoverflow.com/users/9669077/omer-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 51627554, "answer_count": 1, "score": 0, "last_activity_date": 1533108268, "creation_date": 1533107744, "last_edit_date": 1533107882, "question_id": 51627433, "link": "https://stackoverflow.com/questions/51627433/is-it-possible-to-pass-a-null-into-an-sql-server-stored-procedure-from-typescrip", "title": "Is it possible to pass a NULL into an SQL Server Stored Procedure from Typescript", "body": "<p>I'm stuck in a situation where i have to pass a value as Null to a uniqueidentifier variable i declared in a stored procedure.\nThe problem is that i have to pass an empty string to the variable, where it generates an error <strong>\"Cannot convert varchar to uniqueidentifier\"</strong>. From eecuting the procedure in SQL serve, all works well, but typescript generates the above error...</p>\n\n<p><strong>Here is the procedure code executed:</strong></p>\n\n<pre><code>USE [CMS_ONE]\nGO\n\nDECLARE @return_value int\n\nEXEC    @return_value = [dbo].[PrAdmissionReports]\n        @session = '82c16d40-56ba-4e5a-b6f4-8f3767fc48fa',\n        @campus = '0EF13205-3150-43F3-A37A-CDE57BFD544E',\n        @program = '929A0FCD-81C8-44D3-AC56-020E7C0AA2B2',\n        @fromDate = '2018-07-02',\n        @toDate = '2018-07-27'\n\nSELECT  'Return Value' = @return_value\n\nGO\n</code></pre>\n\n<p>I'm passing @program as ProgramDetailID = null to the procedure, but it keeps returning the error.</p>\n\n<p>This is how i pass the values from the front:</p>\n\n<pre><code>this.sessionID +\n  \",\" +\n  this.campusID +\n  \",\" +\n  this.programDetailID +\n  \",\" +\n  this.fromDate +\n  \",\" +\n  this.toDate\n</code></pre>\n\n<p>Any help will be greatly appreciated</p>\n"}, {"tags": ["angular", "typescript", "auth-guard"], "comments": [{"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1533107604, "post_id": 51627015, "comment_id": 90219138, "body": "Shouldn&#39;t you also return <code>false</code> inside <code>return this.userService.refreshToken()                     .map()</code> in your <code>catch</code>?"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "reply_to_user": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1533108605, "post_id": 51627015, "comment_id": 90219715, "body": "No, unfortunately this doesn&#39;t fix the issue. Have been trying it."}], "answers": [{"comments": [{"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1533109534, "post_id": 51627311, "comment_id": 90220250, "body": "Did help and it prevents the error to occur. but when I enhance the <code>refreshToken</code> function to: <code>refreshToken() { return this.http.get( &#39;URL&#39;,  {  headers: new HttpHeaders( { &quot;Accept&quot;: &quot;application&#47;json&quot;, &quot;Authorization&quot; : &quot;Bearer &quot; + localStorage.getItem(&#39;ac_token&#39;) } ),   withCredentials: true,  observe: &quot;response&quot;  }         ).map( (res) =&gt; { console.log(</code>Res: ${JSON.stringify(res)}` );         }), (err) =&gt; { console.log(<code>Err: ${JSON.stringify(err)}</code> ); }; }<code>, then I get almost same error and also this one: </code>Property map does not exist on type (err: any) =&gt; boolean`"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1533109658, "post_id": 51627311, "comment_id": 90220309, "body": "Then don&#39;t return a boolean and return an actual error ... I was just coping with your code, if you want to know everything you did wrong, you should ask it. And please, edit your question next time, excuse the language but it&#39;s a pain in the ass to read comment with code ..."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1533109790, "post_id": 51627311, "comment_id": 90220375, "body": "Don&#39;t mind. I agree with you. I didn&#39;t want to update the question in order to avoid any confusion. But you&#39;re right."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1533110972, "post_id": 51627311, "comment_id": 90221008, "body": "Sorry, what do you mean exactly with: not returning a boolean and returning an actual error? You mean from <code>refreshToken()</code> function?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1533111009, "post_id": 51627311, "comment_id": 90221023, "body": "No, I means from where you use <code>Observable.throw(false);</code>. Return the error instead of false."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1533111141, "post_id": 51627311, "comment_id": 90221103, "body": "I did. But it&#39;s not working with the updated <code>refreshToke()</code> function using <code>.map( res () =&gt; ....)</code>. If I don&#39;t use <code>map</code> in <code>refreshToken()</code>, then it works."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1533111205, "post_id": 51627311, "comment_id": 90221139, "body": "It doesn&#39;t work because <code>map</code> is now a pipeable operator. Consider using it as such."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1533111481, "post_id": 51627311, "comment_id": 90221292, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/177161/discussion-between-k-vincent-and-trichetriche\">continue this discussion in chat</a>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1533107343, "creation_date": 1533107343, "answer_id": 51627311, "question_id": 51627015, "link": "https://stackoverflow.com/questions/51627015/why-is-it-not-possible-to-return-obeservable-offalse-in-catch-block-in-canacti/51627311#51627311", "title": "Why is it not possible to return Obeservable.of(false) in catch block in canActivate method?", "body": "<p>Because you're supposed to use <code>return Observable.throw(false)</code>. <code>of</code> is a success, <code>throw</code> is an error. </p>\n"}], "owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533110167, "creation_date": 1533106221, "last_edit_date": 1533110167, "question_id": 51627015, "link": "https://stackoverflow.com/questions/51627015/why-is-it-not-possible-to-return-obeservable-offalse-in-catch-block-in-canacti", "title": "Why is it not possible to return Obeservable.of(false) in catch block in canActivate method?", "body": "<p>I use the canActivate feature to protect some routes (admin). For this case I do use the an <code>authGuard</code> class/function:</p>\n\n<p>The issue is, when I try to return an observable of boolean as: <strong><code>return Observable.of(false);</code></strong>, it doesn't work as expected and throws following Error:</p>\n\n<blockquote>\n  <p>Argument of type '(err: any) => Observable | Observable' is not assignable to parameter of type '(err: any, caught: Observable) => ObservableInput'.\n    Type 'Observable | Observable' is not assignable to type 'ObservableInput'.\n      Type 'Observable' is not assignable to type 'ObservableInput'.\n        Type 'Observable' is not assignable to type 'ArrayLike'.\n          Property 'length' is missing in type 'Observable'.</p>\n</blockquote>\n\n<p>I have been searching and found kind of this issue, but not exactly the same. And the provided hint/solution was to use <code>.throw(err);</code></p>\n\n<p>When I change the return to: <strong><code>return Observable.throw(err);</code></strong>, then the error disappears, but it does not return <code>false</code> as It should be in order to protect my route.</p>\n\n<p>I believe it's a type issue etc., but I just can't fix it, so that I keep returning <code>observable.of(false)</code></p>\n\n<pre><code>canActivate( next: ActivatedRouteSnapshot, state: RouterStateSnapshot ): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n        return this.userService.getAdminAuth()\n        .map( (res) =&gt; {\n            if ( res === true) {\n                return true;\n            } else {\n                ......\n                return false;\n            }\n        })\n        .catch( (err) =&gt; {\n            if ( err.status === 403 ) {\n                console.log(`403:  ${err.status}`);\n                return this.userService.refreshToken()\n                    .map( (res) =&gt; {\n                        console.log(`Res RefreshToken: ${res}`);\n                    });\n            }\n            return Observable.of(false); // protect route!\n        });\n}\n</code></pre>\n\n<p>Functions in <strong>user.service.ts:</strong></p>\n\n<pre><code>....\n\nisAdminAuthenticated = false;\n\npublic getAdminAuth() {\n    console.log('Saved token: ' + localStorage.getItem('ac_token') );\n    if ( this.isAdminAuthenticated === true ) {\n        return Observable.of(true);\n    } else {\n        return this.http.get(\n           'URL', { \n              headers: new HttpHeaders({\"Accept\": \"application/json\"}), \n              withCredentials: true, \n              observe: \"response\" \n           }\n        )\n        .map((res) =&gt; {\n            if (res.status === 200) {\n                this.isAdminAuthenticated = true;\n                return true;\n            } else {\n                return false;\n            }\n        }, (err) =&gt; {\n            console.log('Error: ' + err);\n            return false;\n        });\n    }\n}\n\n\nrefreshToken() {\n    return this.http.get(\n        'URL', \n        { \n            headers: new HttpHeaders(\n                {\n                    \"Accept\": \"application/json\",\n                    \"Authorization\" : \"Bearer \" + localStorage.getItem('ac_token')\n                }\n            ), \n            withCredentials: true, \n            observe: \"response\" \n        }\n    )\n}\n</code></pre>\n\n<p>On the other hand, if I change <code>refreshToken</code> function to:</p>\n\n<pre><code>refreshToken() {\n        return this._http.get(\n            'URL', \n            { \n                headers: new HttpHeaders(\n                    {\n                        \"Accept\": \"application/json\",\n                        \"Authorization\" : \"Bearer \" + localStorage.getItem('ac_token')\n                    }\n                ), \n                withCredentials: true, \n                observe: \"response\" \n            }\n        ).map( (res) =&gt; {\n            console.log(`Res: ${JSON.stringify(res)}` );\n        }), (err) =&gt; {\n            console.log(`Err: ${JSON.stringify(err)}` );\n        };\n}\n</code></pre>\n\n<p>Then the error says:</p>\n\n<blockquote>\n  <p>ERROR in src/app/admin.guard.ts(38,9): error TS2322: Type 'Observable' is not assignable to type 'boolean | Promise | Observable'.\n    Type 'Observable' is not assignable to type 'Observable'.\n      Type 'boolean | {}' is not assignable to type 'boolean'.\n        Type '{}' is not assignable to type 'boolean'.\n  src/app/service.guard.ts: error TS2339: Property 'map' does not exist on type '(err: any) => boolean'.</p>\n</blockquote>\n"}, {"tags": ["node.js", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 3908847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e98038dc48049f611fde2646df97f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/3908847/pramod"}, "edited": false, "score": 0, "creation_date": 1533111545, "post_id": 51627168, "comment_id": 90221322, "body": "it gives null response to me. &quot;data&quot;:[null,null,null,null,null,null,null,null,null,null,nu&zwnj;&#8203;ll,null,null,null,nu&zwnj;&#8203;ll,null,null,null,nu&zwnj;&#8203;ll,null,null,null,nu&zwnj;&#8203;ll,null]}"}, {"owner": {"reputation": 4800, "user_id": 8879527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uWfcF.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/8879527/rahul-sharma"}, "reply_to_user": {"reputation": 318, "user_id": 3908847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e98038dc48049f611fde2646df97f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/3908847/pramod"}, "edited": false, "score": 0, "creation_date": 1533115299, "post_id": 51627168, "comment_id": 90223487, "body": "@Pramod I missed the return, I have updated my answer plz check."}, {"owner": {"reputation": 318, "user_id": 3908847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e98038dc48049f611fde2646df97f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/3908847/pramod"}, "edited": false, "score": 0, "creation_date": 1533116995, "post_id": 51627168, "comment_id": 90224630, "body": "thanks, it gives the response can you suggest me how to display that object into a browser."}, {"owner": {"reputation": 4800, "user_id": 8879527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uWfcF.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/8879527/rahul-sharma"}, "reply_to_user": {"reputation": 318, "user_id": 3908847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e98038dc48049f611fde2646df97f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/3908847/pramod"}, "edited": false, "score": 0, "creation_date": 1533117401, "post_id": 51627168, "comment_id": 90224937, "body": "can you elaborate?"}, {"owner": {"reputation": 318, "user_id": 3908847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e98038dc48049f611fde2646df97f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/3908847/pramod"}, "edited": false, "score": 1, "creation_date": 1533117640, "post_id": 51627168, "comment_id": 90225099, "body": "actually, I am trying to display multiple images on the client browser in a single request. I did for the single image but for multiple images, I can&#39;t. is there any other way to achieve this I want to display multiple images with some image processing operation on it in the client side."}], "tags": [], "owner": {"reputation": 4800, "user_id": 8879527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uWfcF.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/8879527/rahul-sharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1533115258, "last_edit_date": 1533115258, "creation_date": 1533106804, "answer_id": 51627168, "question_id": 51626995, "link": "https://stackoverflow.com/questions/51626995/how-to-send-multiple-image-object-to-client-in-node-express/51627168#51627168", "title": "how to send multiple image object to client in node express?", "body": "<p>Convert fs callback to promise and read all parallel once done send response.</p>\n\n<pre><code>const fs = require('fs');\nconst db = require('../db');\nconst readFile = util.promisify(fs.readFile);\n\nrouter.get('/getList', function (req, res, next) {\n    var fileNames = [];\n\n    fileNames = readDir.readSync('/NodeWorkspace/uploads/output/', ['**.png']);  // use async function instead of sync\n    var data = {};\n    const files = fileNames.map(function (filename) {\n        filepath = path.join(__dirname, '../../uploads/output') + '/' + filename;\n       return readFile(filepath); //updated here\n    });\n\n    Promise.all(files).then(fileNames =&gt; {\n        response.data = fileNames;\n        res.json(response);\n    }).catch(error =&gt; {\n        res.status(400).json(response);\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 318, "user_id": 3908847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e98038dc48049f611fde2646df97f5d?s=128&d=identicon&r=PG&f=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/3908847/pramod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1887, "favorite_count": 0, "accepted_answer_id": 51627168, "answer_count": 1, "score": 0, "last_activity_date": 1533115258, "creation_date": 1533106135, "last_edit_date": 1533110482, "question_id": 51626995, "link": "https://stackoverflow.com/questions/51626995/how-to-send-multiple-image-object-to-client-in-node-express", "title": "how to send multiple image object to client in node express?", "body": "<p>I am new in angular. I have a set of images &amp; I want to display it on to the client browser on a load of the page. </p>\n\n<p>Is it possible or not?</p>\n\n<p>I am able to send a single file but not multiple files now I am stuck can someone help me.</p>\n\n<p>Thanks for help</p>\n\n<pre><code>router.get('/getList', function(req, res, next) {\n  var fileNames = [];\n\n  fileNames = readDir.readSync('/NodeWorkspace/uploads/output/', ['**.png']);\n\n  var data = {};\n\n  fileNames.forEach(function(filename) {\n    filepath = path.join(__dirname, '../../uploads/output') + '/' + filename;\n\n    fs.readFile(path.join(__dirname, '../../uploads/output') + '/' + filename, function(err, content) {\n      if (!err) {\n        console.log(content);\n      }\n    });\n  });\n\n  //res.sendFile(path.join(__dirname,'../../uploads/output/', fileNames[0]));\n\n  response.data = fileNames;\n  res.json(response);\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "ionic3"], "comments": [{"owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "edited": false, "score": 1, "creation_date": 1533107909, "post_id": 51626884, "comment_id": 90219303, "body": "Why can&#39;t you use pipe operator, which will allow to chain Observables.                                                                                                                                                           return this.auth.authState.pipe(     map(user =&gt; user.uid),     mergeMap(authId =&gt; this.afDatabase.object(&#39;/profile/&#39;+authId)),     take(1)) }"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10114682"}, "reply_to_user": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "edited": false, "score": 0, "creation_date": 1533112266, "post_id": 51626884, "comment_id": 90221729, "body": "The below answer solved it. Thanks once more!"}], "answers": [{"tags": [], "owner": {"reputation": 1221, "user_id": 2530536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6UDP.jpg?s=128&g=1", "display_name": "Tim Martens", "link": "https://stackoverflow.com/users/2530536/tim-martens"}, "is_accepted": false, "score": 3, "last_activity_date": 1533108109, "last_edit_date": 1533108109, "creation_date": 1533108053, "answer_id": 51627516, "question_id": 51626884, "link": "https://stackoverflow.com/questions/51626884/mergemap-function-is-giving-error-in-angular-5/51627516#51627516", "title": "mergeMap function is giving error in Angular 5", "body": "<p><code>mergeMap</code> expects the value to be returned of type <code>ObservableInput&lt;{}&gt;</code>. You're calling <code>this.afDatabase.object('/profile/'+authId)</code>, which is returning <code>AngularFireObject&lt;{}&gt;</code></p>\n\n<p>Calling <code>valueChanges()</code> will convert it to an observable:</p>\n\n<pre><code>return this.auth.authState\n    .map(user =&gt; user.uid)\n    .mergeMap(authId =&gt; this.afDatabase.object('/profile/'+authId).valueChanges())\n    .take(1)\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10114682"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533110611, "creation_date": 1533105744, "last_edit_date": 1533110611, "question_id": 51626884, "link": "https://stackoverflow.com/questions/51626884/mergemap-function-is-giving-error-in-angular-5", "title": "mergeMap function is giving error in Angular 5", "body": "<p>ERROR:  <code>AngularFireObject &lt;{}&gt;</code> is not assignable to type <code>ObservableInput&lt;{}&gt;</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/WGQSa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WGQSa.png\" alt=\"enter image description here\"></a>\nThis is the sample function code</p>\n\n<pre><code>getAuthenticatedUserProfile(){\n\nreturn this.auth.authState\n    .map(user =&gt; user.uid)\n    .mergeMap(authId =&gt; this.afDatabase.object('/profile/'+authId))\n    .take(1)\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "edited": false, "score": 1, "creation_date": 1533105326, "post_id": 51626718, "comment_id": 90217919, "body": "This should give you an idea <a href=\"https://stackoverflow.com/questions/563406/add-days-to-javascript-date\" title=\"add days to javascript date\">stackoverflow.com/questions/563406/add-days-to-javascript-da&zwnj;&#8203;te</a>"}], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 4653505, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f5422ee0e14df2e509b332dfdb4727a8?s=128&d=identicon&r=PG&f=1", "display_name": "HC1122", "link": "https://stackoverflow.com/users/4653505/hc1122"}, "edited": false, "score": 0, "creation_date": 1533105453, "post_id": 51626777, "comment_id": 90217979, "body": "Yes, I came across that solution. But I wonder if it is possible to do that without setting new Date two times?"}, {"owner": {"reputation": 21010, "user_id": 2019247, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MnZYd.jpg?s=128&g=1", "display_name": "31piy", "link": "https://stackoverflow.com/users/2019247/31piy"}, "reply_to_user": {"reputation": 327, "user_id": 4653505, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f5422ee0e14df2e509b332dfdb4727a8?s=128&d=identicon&r=PG&f=1", "display_name": "HC1122", "link": "https://stackoverflow.com/users/4653505/hc1122"}, "edited": false, "score": 0, "creation_date": 1533105509, "post_id": 51626777, "comment_id": 90218004, "body": "@HC1122 -- Not sure why don&#39;t you want to set the day? Is there a restriction? This seems a correct approach, which works in all scenarios."}, {"owner": {"reputation": 327, "user_id": 4653505, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f5422ee0e14df2e509b332dfdb4727a8?s=128&d=identicon&r=PG&f=1", "display_name": "HC1122", "link": "https://stackoverflow.com/users/4653505/hc1122"}, "edited": false, "score": 0, "creation_date": 1533105582, "post_id": 51626777, "comment_id": 90218041, "body": "It is not the problem in setting date, I just wonder if it is possible without intializing two dates (start and end, so to have only one of those)."}, {"owner": {"reputation": 21010, "user_id": 2019247, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MnZYd.jpg?s=128&g=1", "display_name": "31piy", "link": "https://stackoverflow.com/users/2019247/31piy"}, "reply_to_user": {"reputation": 327, "user_id": 4653505, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f5422ee0e14df2e509b332dfdb4727a8?s=128&d=identicon&r=PG&f=1", "display_name": "HC1122", "link": "https://stackoverflow.com/users/4653505/hc1122"}, "edited": false, "score": 0, "creation_date": 1533105644, "post_id": 51626777, "comment_id": 90218081, "body": "@HC1122 -- Not sure if it is too easy in plain JS."}, {"owner": {"reputation": 327, "user_id": 4653505, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f5422ee0e14df2e509b332dfdb4727a8?s=128&d=identicon&r=PG&f=1", "display_name": "HC1122", "link": "https://stackoverflow.com/users/4653505/hc1122"}, "edited": false, "score": 0, "creation_date": 1533105698, "post_id": 51626777, "comment_id": 90218111, "body": "Well, than I&#39;m gonna use that solution. Thank you for your help, will accept answer in 5 minutes."}], "tags": [], "owner": {"reputation": 21010, "user_id": 2019247, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MnZYd.jpg?s=128&g=1", "display_name": "31piy", "link": "https://stackoverflow.com/users/2019247/31piy"}, "is_accepted": true, "score": 2, "last_activity_date": 1533105480, "last_edit_date": 1533105480, "creation_date": 1533105370, "answer_id": 51626777, "question_id": 51626718, "link": "https://stackoverflow.com/questions/51626718/getdate-returning-wrong-value/51626777#51626777", "title": "getDate returning wrong value", "body": "<p>You're doing the basic arithmetic. Subtracting 2 from 1 will result in -1. You may try to set the date first and then get the day from the date object.</p>\n\n<p>The reason is that <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/setDate\" rel=\"nofollow noreferrer\"><code>setDate()</code></a> sets the day relatively when the argument is not in the range (less than or equal to 0).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let start = new Date();\r\nlet end = new Date();\r\nstart.setDate(start.getDate() - 2);\r\nend.setDate(end.getDate() + 2);\r\nconsole.log(start.getDate(), end.getDate());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 327, "user_id": 4653505, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f5422ee0e14df2e509b332dfdb4727a8?s=128&d=identicon&r=PG&f=1", "display_name": "HC1122", "link": "https://stackoverflow.com/users/4653505/hc1122"}, "edited": false, "score": 0, "creation_date": 1533106427, "post_id": 51627024, "comment_id": 90218491, "body": "Like I said, I&#39;m aware of it, but it&#39;s not the right time to use it."}], "tags": [], "owner": {"reputation": 1688, "user_id": 1904377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3zYo.jpg?s=128&g=1", "display_name": "Sandip Nirmal", "link": "https://stackoverflow.com/users/1904377/sandip-nirmal"}, "is_accepted": false, "score": 0, "last_activity_date": 1533109283, "last_edit_date": 1533109283, "creation_date": 1533106236, "answer_id": 51627024, "question_id": 51626718, "link": "https://stackoverflow.com/questions/51626718/getdate-returning-wrong-value/51627024#51627024", "title": "getDate returning wrong value", "body": "<p>You can always do in a way @31piy has suggested. But Date handling is lot easier if you do it using <a href=\"https://momentjs.com/docs/\" rel=\"nofollow noreferrer\">MomentJS</a>.</p>\n\n<p>You can do it easily like</p>\n\n<pre><code>const today = moment()\nconst two_days_after_today = moment().add(2, 'day')\nconst two_days_before_today = moment().subtract(2, 'day')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 3790414, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/anLUv.png?s=128&g=1", "display_name": "taburetkin", "link": "https://stackoverflow.com/users/3790414/taburetkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1533107038, "creation_date": 1533107038, "answer_id": 51627245, "question_id": 51626718, "link": "https://stackoverflow.com/questions/51626718/getdate-returning-wrong-value/51627245#51627245", "title": "getDate returning wrong value", "body": "<p>you can use date api for avoid issues.\nhere is an example</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let date = new Date();\r\ndate.setDate(date.getDate() - 2);\r\nconsole.log((\"0\" + date.getDate()).slice(-2));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>but you have to remember that if you do not want to modify date itself then you have to clone it</p>\n"}], "owner": {"reputation": 327, "user_id": 4653505, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f5422ee0e14df2e509b332dfdb4727a8?s=128&d=identicon&r=PG&f=1", "display_name": "HC1122", "link": "https://stackoverflow.com/users/4653505/hc1122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 51626777, "answer_count": 3, "score": 0, "last_activity_date": 1533109283, "creation_date": 1533105128, "last_edit_date": 1533105217, "question_id": 51626718, "link": "https://stackoverflow.com/questions/51626718/getdate-returning-wrong-value", "title": "getDate returning wrong value", "body": "<p>I'm trying to set a date with 4 days range (From: today - 2, To: today + 2).\nToday, on 31. august I found the bug in my code, which says <code>Invalid date</code>.\nI'm changing the date like this, and If I <code>console.log()</code> it, it says <code>-1</code>.</p>\n\n<p>Any help would be appreciated.</p>\n\n<pre><code>date: Date = new Date();\ndefaultDay: string = (\"0\" + (this.date.getDate() - 2)).slice(-2)\n</code></pre>\n\n<p>P.S: I checked the moment.JS library, but currently I don't have that much time to change the whole project to it.</p>\n"}, {"tags": ["html", "angular", "typescript", "binding"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1533104125, "post_id": 51626312, "comment_id": 90217384, "body": "you are mixing angular 1 with angular"}, {"owner": {"reputation": 375, "user_id": 9133416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0accf48d88e2ef625ba3dc9e31b747?s=128&d=identicon&r=PG&f=1", "display_name": "Keerthi Reddy Yeruva", "link": "https://stackoverflow.com/users/9133416/keerthi-reddy-yeruva"}, "reply_to_user": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 0, "creation_date": 1533104792, "post_id": 51626312, "comment_id": 90217683, "body": "can you please give solution with angular 4 @Chellappan"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1533105247, "post_id": 51626312, "comment_id": 90217878, "body": "you need routing related or simple thing show html page?"}, {"owner": {"reputation": 375, "user_id": 9133416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0accf48d88e2ef625ba3dc9e31b747?s=128&d=identicon&r=PG&f=1", "display_name": "Keerthi Reddy Yeruva", "link": "https://stackoverflow.com/users/9133416/keerthi-reddy-yeruva"}, "reply_to_user": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1533105450, "post_id": 51626312, "comment_id": 90217978, "body": "I think you didn&#39;t understood my question @KarnanMuthukumar  i want to show one html page inside another html if the condition is true or if i click on a button or link and as my project contains some common html pages and modals in a separate folder."}], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 9133416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0accf48d88e2ef625ba3dc9e31b747?s=128&d=identicon&r=PG&f=1", "display_name": "Keerthi Reddy Yeruva", "link": "https://stackoverflow.com/users/9133416/keerthi-reddy-yeruva"}, "edited": false, "score": 1, "creation_date": 1533104571, "post_id": 51626535, "comment_id": 90217572, "body": "i want it using only basic angular things. i don&#39;t import any other. Thank you for your sugestion @MalinduSandaruwan"}], "tags": [], "owner": {"reputation": 1350, "user_id": 7057736, "user_type": "registered", "profile_image": "https://graph.facebook.com/1152701018117340/picture?type=large", "display_name": "Malindu Sandaruwan", "link": "https://stackoverflow.com/users/7057736/malindu-sandaruwan"}, "is_accepted": false, "score": 0, "last_activity_date": 1533104342, "creation_date": 1533104342, "answer_id": 51626535, "question_id": 51626312, "link": "https://stackoverflow.com/questions/51626312/how-to-display-on-html-page-in-another-html-page-in-angular-4/51626535#51626535", "title": "how to display on html page in another html page in angular 4", "body": "<p>You can do it with Angular Material. It's a UI utility component library for Angualar.</p>\n\n<p>In HTML file    </p>\n\n<pre><code>&lt;li class=\"nav-item\"&gt;\n    &lt;a class=\"nav-link active\"  data-toggle=\"tab\" (click)=\"openSomeModal()\"&gt;My app definitions&lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>in TS file</p>\n\n<pre><code>import { MatDialog } from '@angular/material';\n ....\n public dialog;\n\n constructor(public dialog: MatDialog) {}\n\n     openSomeModal() {\n         const data = {};\n         const dialogRef = this.dialog.open(yourModalComponent, {\n             data: data,\n             width: '400px',\n             panelClass: 'any-class',\n         });\n    }\n.....\n</code></pre>\n\n<p>In your module you have to import material stuff.</p>\n\n<p>Check this Angular Material reference <a href=\"https://material.angular.io/components/dialog/overview\" rel=\"nofollow noreferrer\">link</a></p>\n"}, {"tags": [], "owner": {"reputation": 375, "user_id": 9133416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0accf48d88e2ef625ba3dc9e31b747?s=128&d=identicon&r=PG&f=1", "display_name": "Keerthi Reddy Yeruva", "link": "https://stackoverflow.com/users/9133416/keerthi-reddy-yeruva"}, "is_accepted": true, "score": 0, "last_activity_date": 1533116473, "creation_date": 1533116473, "answer_id": 51630065, "question_id": 51626312, "link": "https://stackoverflow.com/questions/51626312/how-to-display-on-html-page-in-another-html-page-in-angular-4/51630065#51630065", "title": "how to display on html page in another html page in angular 4", "body": "<p>I have used <strong>ngx-bootstrap</strong></p>\n\n<p>u can see below link</p>\n\n<p><a href=\"https://valor-software.com/ngx-bootstrap/#/getting-started\" rel=\"nofollow noreferrer\">ngx-bootstrap</a></p>\n\n<p><strong>I can do this button and respective model are in same HTML page</strong></p>\n\n<p>still i can't figure out how to bind them if they are in different HTML pages.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {\r\n  Component,\r\n  OnInit,\r\n  TemplateRef\r\n} from '@angular/core';\r\nimport {\r\n  Router\r\n} from '@angular/router';\r\nimport {\r\n  BsModalService\r\n} from 'ngx-bootstrap/modal';\r\nimport {\r\n  BsModalRef\r\n} from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\n@Component({\r\n  selector: 'app-application-dashboard',\r\n  templateUrl: './application-dashboard.component.html',\r\n  styleUrls: ['./application-dashboard.component.css']\r\n})\r\nexport class ApplicationDashboardComponent implements OnInit {\r\n  modalRef: BsModalRef;\r\n\r\n  constructor(private router: Router, private modalservice: BsModalService) {}\r\n\r\n  ngOnInit() {}\r\n  createApp(template: TemplateRef &lt; any &gt; ) {\r\n    this.modalRef = this.modalservice.show(template);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button type=\"button\" class=\"btn btn-default\" (click)=\"createApp(template)\" translate=\"\"&gt;Create App&lt;/button&gt;\r\n&lt;ng-template #template&gt;\r\n  &lt;div class=\"modal-header\"&gt;\r\n    &lt;h2&gt;Create a new app definition&lt;/h2&gt;\r\n    &lt;button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"modalRef.hide()\"&gt;\r\n        &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\r\n      &lt;/button&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"modal-body\"&gt;\r\n    &lt;p&gt;You need to give a name for the new app definition and you may want to add a description at the same time.&lt;/p&gt;\r\n    &lt;div class=\"form-group\"&gt;\r\n      &lt;label for=\"newAppName\"&gt;App definition name&lt;/label&gt;\r\n      &lt;input ng-disabled=\"model.loading\" type=\"text\" class=\"form-control ng-pristine ng-valid ng-touched\" id=\"newAppName\" ng-model=\"model.app.name\" custom-keys=\"\" enter-pressed=\"ok()\" auto-focus=\"\"&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"form-group\"&gt;\r\n      &lt;label for=\"newAppKey\"&gt;App definition key&lt;/label&gt;\r\n      &lt;input ng-disabled=\"model.loading\" type=\"text\" class=\"form-control ng-pristine ng-untouched ng-valid\" id=\"newAppKey\" ng-model=\"model.app.key\"&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"form-group\"&gt;\r\n      &lt;label for=\"newAppDescription\"&gt;Description&lt;/label&gt;\r\n      &lt;textarea ng-disabled=\"model.loading\" class=\"form-control ng-pristine ng-untouched ng-valid\" id=\"newAppDescription\" rows=\"5\" ng-model=\"model.app.description\"&gt;&lt;/textarea&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"modal-footer\"&gt;\r\n    &lt;div class=\"pull-right\"&gt;\r\n      &lt;button type=\"button\" class=\"btn btn-sm btn-default ng-binding\" ng-click=\"cancel()\" ng-disabled=\"model.loading\"&gt;\r\n          Cancel\r\n        &lt;/button&gt;\r\n      &lt;button type=\"button\" class=\"btn btn-sm btn-default ng-binding\" ng-click=\"ok()\" ng-disabled=\"model.loading || !model.app.name || model.app.name.length == 0 || !model.app.key || model.app.key.length == 0\" disabled=\"disabled\"&gt;\r\n          Create new app definition\r\n        &lt;/button&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"loading pull-right ng-hide\" ng-show=\"model.loading\"&gt;\r\n      &lt;div class=\"l1\"&gt;&lt;/div&gt;\r\n      &lt;div class=\"l2\"&gt;&lt;/div&gt;\r\n      &lt;div class=\"l2\"&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/ng-template&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 507, "user_id": 8394845, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sq8HKhaF_ww/AAAAAAAAAAI/AAAAAAAAAQo/wcrzn7CPnm8/photo.jpg?sz=128", "display_name": "Sara Vaseei", "link": "https://stackoverflow.com/users/8394845/sara-vaseei"}, "is_accepted": false, "score": 0, "last_activity_date": 1589786047, "last_edit_date": 1589786047, "creation_date": 1533116880, "answer_id": 51630203, "question_id": 51626312, "link": "https://stackoverflow.com/questions/51626312/how-to-display-on-html-page-in-another-html-page-in-angular-4/51630203#51630203", "title": "how to display on html page in another html page in angular 4", "body": "<p>You should create another component(let me call it <em>child</em>) and import it in its parent's component(in <code>.ts</code> file) and then call child's selector(tag) in parent's <code>.html</code> file and create whatever you want.</p>\n"}], "owner": {"reputation": 375, "user_id": 9133416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0accf48d88e2ef625ba3dc9e31b747?s=128&d=identicon&r=PG&f=1", "display_name": "Keerthi Reddy Yeruva", "link": "https://stackoverflow.com/users/9133416/keerthi-reddy-yeruva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3330, "favorite_count": 0, "accepted_answer_id": 51630065, "answer_count": 3, "score": 2, "last_activity_date": 1589786047, "creation_date": 1533103387, "last_edit_date": 1533105125, "question_id": 51626312, "link": "https://stackoverflow.com/questions/51626312/how-to-display-on-html-page-in-another-html-page-in-angular-4", "title": "how to display on html page in another html page in angular 4", "body": "<p>Hi i am working on Angular 4</p>\n\n<p>what i want know is <strong>how can we bind HTML page on <code>(click)</code> in another HTML page</strong></p>\n\n<p>I have tried <code>*ng-if</code> and <code>&lt;ng-template&gt;</code> but it didn't worked for me</p>\n\n<p>so i just used basic HTML and Bootstrap <code>tab-pane fade</code> and <code>data-toggle</code> for my menu</p>\n\n<p>but i want to have individual HTML pages for below three menu item and want to bind those respective pages when i click on respective menu </p>\n\n<p><strong>I want popup a Modal when i click on menu , but i have some common modals in another folder</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul class=\"nav nav-tabs flex-column\" role=\"tablist\"&gt;\r\n  &lt;li class=\"nav-item\"&gt;\r\n    &lt;a class=\"nav-link active\" href=\"#myappdefinitions\" data-toggle=\"tab\"&gt;My app definitions&lt;/a&gt;\r\n  &lt;/li&gt;\r\n  &lt;li class=\"nav-item\"&gt;\r\n    &lt;a class=\"nav-link\" href=\"#shared\" data-toggle=\"tab\"&gt;shared with me&lt;/a&gt;\r\n  &lt;/li&gt;\r\n  &lt;li class=\"nav-item\"&gt;\r\n    &lt;a class=\"nav-link\" href=\"#others\" data-toggle=\"tab\"&gt;shared with others&lt;/a&gt;\r\n  &lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"apptab\"&gt;\r\n  &lt;div class=\"row justify-content-between\"&gt;\r\n    &lt;div class=\"tab-content col-7\"&gt;\r\n      &lt;div class=\"row tab-pane fade show active\" id=\"myappdefinitions\"&gt;\r\n        &lt;p class=\"text-muted\"&gt;You have one app definition&lt;/p&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"row tab-pane fade\" id=\"shared\"&gt;\r\n        &lt;p class=\"text-muted\"&gt;you are in shared apps&lt;/p&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"row tab-pane fade\" id=\"others\"&gt;\r\n        &lt;p class=\"text-muted\"&gt;you are in shared with others&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"input-group\"&gt;\r\n    &lt;span class=\"input-group-addon search-img\"&gt;\r\n                &lt;i class=\"fa fa-search img-search\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n              &lt;/span&gt;\r\n    &lt;input type=\"text\" class=\"form-control search-box\" (click)=\"filterDelayed()\" placeholder=\"search\"&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "edited": false, "score": 0, "creation_date": 1533107711, "post_id": 51626187, "comment_id": 90219202, "body": "your question is not precise enough. what kind of file is it ? do you want to open it in browser ?"}, {"owner": {"reputation": 33, "user_id": 7720297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PnTNSI1N7zs/AAAAAAAAAAI/AAAAAAAADWo/nV7q7_ZQwmo/photo.jpg?sz=128", "display_name": "jayakrishna doddala", "link": "https://stackoverflow.com/users/7720297/jayakrishna-doddala"}, "reply_to_user": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "edited": false, "score": 0, "creation_date": 1533113269, "post_id": 51626187, "comment_id": 90222283, "body": "All type of files, like .png, .pdf, .docx, etc any file I need to open it on click after uploading before sending to database i.e. before making a REST call"}, {"owner": {"reputation": 33, "user_id": 7720297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PnTNSI1N7zs/AAAAAAAAAAI/AAAAAAAADWo/nV7q7_ZQwmo/photo.jpg?sz=128", "display_name": "jayakrishna doddala", "link": "https://stackoverflow.com/users/7720297/jayakrishna-doddala"}, "reply_to_user": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "edited": false, "score": 0, "creation_date": 1533116916, "post_id": 51626187, "comment_id": 90224581, "body": "I want to open in dialog box not in browser"}, {"owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "edited": false, "score": 0, "creation_date": 1533117606, "post_id": 51626187, "comment_id": 90225075, "body": "<i>in dialog box not in browser</i> this is a nonsense, if you want a Dialog, then it <b>is in your browser</b>. I presume what you want to do is to make your users download the file (and then the browser launches the appropriate program to open the file)"}], "owner": {"reputation": 33, "user_id": 7720297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PnTNSI1N7zs/AAAAAAAAAAI/AAAAAAAADWo/nV7q7_ZQwmo/photo.jpg?sz=128", "display_name": "jayakrishna doddala", "link": "https://stackoverflow.com/users/7720297/jayakrishna-doddala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533104104, "creation_date": 1533102882, "last_edit_date": 1533104104, "question_id": 51626187, "link": "https://stackoverflow.com/questions/51626187/opening-file-after-upload-in-typescript-angular-5", "title": "Opening File after upload in Typescript (Angular 5)", "body": "<p>How to open a file by 'on click' event after uploading in <code>angular 5</code> (typescript) ?</p>\n"}, {"tags": ["typescript", "websocket", "rxjs", "typescript-typings"], "comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1533101841, "post_id": 51625570, "comment_id": 90216518, "body": "Well, if you&#39;re going to attempt to run the same code on client and server, it kind of goes without saying that you have to be programming to the same APIs.  The usual scheme is write a shim over the built-in interface for one side or the other to give you an interface that works like the other."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1533101874, "post_id": 51625570, "comment_id": 90216538, "body": "That said, one doesn&#39;t typically run the same webSocket code on client and server because typically it&#39;s a webSocket client talking to a webSocket server where one would use different code on the client and server end of things.  Why exactly are you trying to run the same webSocket code on both client and server?"}, {"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "reply_to_user": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1533102092, "post_id": 51625570, "comment_id": 90216593, "body": "@jfriend00 They&#39;re both clients."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1533135318, "post_id": 51625570, "comment_id": 90237217, "body": "Then, you have to make a shim on one end that makes for a common client interface.  Types can be separate from code.  There are external TypeScript definitions all the time for things that weren&#39;t originally written in TypeScript so the definitions can be separate."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1533135454, "post_id": 51625570, "comment_id": 90237327, "body": "As for the shim, here&#39;s a module that implements the HTML5-webSocket interface over the top of the ws library in node.js: <a href=\"https://www.npmjs.com/package/html5-websocket\" rel=\"nofollow noreferrer\">npmjs.com/package/html5-websocket</a>.  Then, you could use the same type bindings in client and server."}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1533099279, "creation_date": 1533099279, "question_id": 51625570, "link": "https://stackoverflow.com/questions/51625570/right-process-for-making-a-module-that-uses-web-sockets-for-the-server-and-brows", "title": "Right process for making a module that uses Web Sockets for the server and browser?", "body": "<p>I'm looking at maintaining rxjs-websockets. The module uses Typescript, as does my project. Previously, the types were not inline with <code>ws</code>, the WebSocket implementation for node; so, I've <a href=\"https://github.com/ohjames/rxjs-websockets/pull/49/commits/d7a2e44aaa0cbc50cc7dd61b95d517c3ab287be0#diff-f41e9d04a45c83f3b6f6e630f10117fe\" rel=\"nofollow noreferrer\">patched that module to be work with the types that <code>ws</code> uses so TypeScript works with everything</a> <strong>for me.</strong></p>\n\n<p>I'll be simplifying the problem, the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/ws\" rel=\"nofollow noreferrer\">types for <code>@types/ws</code> callback are defined like this</a>,</p>\n\n<pre><code>onopen?: (event: { target: WebSocket }) =&gt; void;\nonerror?: (event: {error: any, message: string, type: string, target: WebSocket }) =&gt; void;\nonclose?: (event: { wasClean: boolean; code: number; reason: string; target: WebSocket }) =&gt; void;\nonmessage?: (event: { data: WebSocket.Data; type: string; target: WebSocket }) =&gt; void;\n</code></pre>\n\n<p>However, the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/websocket/index.d.ts\" rel=\"nofollow noreferrer\">types for the <code>@types/websocket</code> callback are defined like this</a></p>\n\n<pre><code>onopen: () =&gt; void;\nonerror: (error: Error) =&gt; void;\nonclose: () =&gt; void;\nonmessage: (message: any) =&gt; void;\n</code></pre>\n\n<p>And, the types that <code>rxjs-websockets</code> used to use were defined like this (not comparable with the callback signature from <code>ws</code>)</p>\n\n<pre><code>onopen?: (event: Event) =&gt; any\nonclose?: (event: CloseEvent) =&gt; any\nonmessage?: (event: MessageEvent) =&gt; any\nonerror?: (event: ErrorEvent) =&gt; any\n</code></pre>\n\n<p>The problem is that while I am using <code>ws</code> because Node.JS does not implement the standardized WebSocket interface, others are not on the same environment. We don't want to force the inclusion of <code>ws</code> on the browser (where it doesn't work).</p>\n\n<p>At the same time, if you provide a custom WebSocket factory that uses <code>ws</code>, it <strong>should</strong> work.</p>\n\n<p>Is there anyway to make these types jive?  How do you mix server-side javascript with ad-hoc apis, with native ES6 web apis (like WebSocket)?</p>\n\n<p>Worse yet, even if we fixated on the <code>ws</code> for the server (which seems pretty fine-ish), we can't <code>import</code> the types from <code>ws</code> without importing the code <strong>too</strong>. The idea that the <em>same</em> code works on the server and the client seems like a great idea. But, how is that possible when the interfaces aren't the same?</p>\n\n<p>Is the best bet to have a <code>rxjs-ws</code> and an <code>rxjs-w3c-websockets</code>?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1533101158, "post_id": 51625795, "comment_id": 90216298, "body": "Please, don&#39;t forget to mark this answer as solution if it solved your problem or answered your question. Thanks in advance."}, {"owner": {"reputation": 8398, "user_id": 527470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7526c67649ca5e61d3e06cdf75a8e6f3?s=128&d=identicon&r=PG", "display_name": "AlanObject", "link": "https://stackoverflow.com/users/527470/alanobject"}, "edited": false, "score": 0, "creation_date": 1533104646, "post_id": 51625795, "comment_id": 90217616, "body": "Yes that worked but what I don&#39;t get is why the examples I was following was using the Observables form and led me so far astray.  On top of that I don&#39;t understand why the ActivatedRoute uses Observables in the first place.  Why wouldn&#39;t the route and the URL be settled and.or static at the time the component is instantiated?   Oh, well I will research that later.  Thanks for the pointer."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 11, "last_activity_date": 1533100823, "creation_date": 1533100823, "answer_id": 51625795, "question_id": 51625462, "link": "https://stackoverflow.com/questions/51625462/angular-promise-from-activatedroute-doesnt-work-with-typescript-await/51625795#51625795", "title": "Angular promise from ActivatedRoute doesn&#39;t work with Typescript await", "body": "<p>The basic answer is: <strong>You are having incontrollable race conditions here</strong></p>\n\n<p>When you access the Observable <code>route.params</code> it's pretty normal that it isn't completed yet. Calling <code>toPromise()</code> on it at this point in time will lead to an enduringly pending Promise and this is the problem you are facing. </p>\n\n<p>If you are not bound to using this async await construct leave it and better directly access synchronously <code>params.id</code> via ActivatedRouteSnapshot.</p>\n\n<pre><code>ngOnInit() {\n    const id: string = route.snapshot.params.id;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 2813888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e77da7af65da680563f9933b3155e0b?s=128&d=identicon&r=PG&f=1", "display_name": "damird", "link": "https://stackoverflow.com/users/2813888/damird"}, "is_accepted": false, "score": 3, "last_activity_date": 1545499191, "creation_date": 1545499191, "answer_id": 53897814, "question_id": 51625462, "link": "https://stackoverflow.com/questions/51625462/angular-promise-from-activatedroute-doesnt-work-with-typescript-await/53897814#53897814", "title": "Angular promise from ActivatedRoute doesn&#39;t work with Typescript await", "body": "<p>Apropos AlanObject's question <em>... why the ActivatedRoute uses Observables in the first place ...</em>, the reason is the <code>ngOnInit()</code> is called only on component initiation, that is, when it is created. Imagine your component is used to display item details with a route like <code>/item/123</code>, where <code>123</code> is the current item <code>ID</code>. </p>\n\n<p>Now, if your component would implement also a <em>Previous</em> and <em>Next</em> links navigating to <code>/item/122</code> and <code>/item/124</code>, the component would not be instantiated again. In such cases you would need a subscription or another way to get the <code>ID</code> and related data updated.</p>\n"}], "owner": {"reputation": 8398, "user_id": 527470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7526c67649ca5e61d3e06cdf75a8e6f3?s=128&d=identicon&r=PG", "display_name": "AlanObject", "link": "https://stackoverflow.com/users/527470/alanobject"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1424, "favorite_count": 0, "accepted_answer_id": 51625795, "answer_count": 2, "score": 7, "last_activity_date": 1545499191, "creation_date": 1533098576, "question_id": 51625462, "link": "https://stackoverflow.com/questions/51625462/angular-promise-from-activatedroute-doesnt-work-with-typescript-await", "title": "Angular promise from ActivatedRoute doesn&#39;t work with Typescript await", "body": "<p>To access components in the current URL path, the following works in my application:</p>\n\n<pre><code>constructor(private route: ActivatedRoute) { }\n...\nload() {\n    this.route.params.subscribe((params) =&gt; {\n      const id = +params['id'];\n      console.log('got parameter', id);\n ... etc\n</code></pre>\n\n<p>This is the textbook case and the variable <strong>id</strong> gets set as advertised.  But I want to use the more elegant <strong>await</strong> form and it doesn't work.  (Of course I will have a string of <strong>await</strong> statements following.)  Like this:</p>\n\n<pre><code>async load() {\n    try {\n      console.log('getting parameters');\n      const params = await this.route.params.toPromise();\n      console.log('got params', params);\n      const id = +params['id'];\n  ... etc\n</code></pre>\n\n<p>What I get is the output from the first <strong>console.log()</strong> call but the second never comes.  And of course the <strong>id</strong> variable doesn't get set and the rest of the code never executes.</p>\n\n<p>The documentation and the working code says that <strong>this.route.params</strong> is an <strong>Observable</strong>, which should be convertable to a <strong>Promise</strong> via <strong>toPromise()</strong> and thereby used with Typescript <strong>async</strong>/<strong>await</strong>.  I use <strong>await</strong> statements with the <strong>Observables</strong> that come out of the <strong>HttpClient</strong> module just fine.</p>\n\n<p>But it doesn't work.  Anyone know why?</p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-cli-v6"], "comments": [{"owner": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 0, "creation_date": 1533093123, "post_id": 51624660, "comment_id": 90214568, "body": "Typo? <code>SharedMofule</code>"}, {"owner": {"reputation": 5056, "user_id": 4461537, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/cGuZ9.jpg?s=128&g=1", "display_name": "Ren&#233; Winkler", "link": "https://stackoverflow.com/users/4461537/ren%c3%a9-winkler"}, "edited": false, "score": 0, "creation_date": 1533147215, "post_id": 51624660, "comment_id": 90243968, "body": "Sounds strange to me having a symbolik link..Why you just don&#39;t create a library?"}, {"owner": {"reputation": 2582, "user_id": 110287, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/91e3e7699e6f9c9d750677a476d489cc?s=128&d=identicon&r=PG", "display_name": "Zeus", "link": "https://stackoverflow.com/users/110287/zeus"}, "edited": false, "score": 0, "creation_date": 1533150311, "post_id": 51624660, "comment_id": 90245596, "body": "because if I change symbolink it will also reflect in another projects. Library will have to be re installed to get latest update right ?"}], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 1870944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yR40O.jpg?s=128&g=1", "display_name": "Pardhu", "link": "https://stackoverflow.com/users/1870944/pardhu"}, "is_accepted": false, "score": 0, "last_activity_date": 1533097931, "creation_date": 1533097931, "answer_id": 51625370, "question_id": 51624660, "link": "https://stackoverflow.com/questions/51624660/angular-6-symbolic-link-module-not-found/51625370#51625370", "title": "Angular 6 symbolic link module not found", "body": "<p>There is a typo error while import</p>\n\n<p>change \"SharedMofule\" to \"SharedModule\"</p>\n\n<p><strong>changed import:</strong></p>\n\n<pre><code>import { SharedComponentsModule } from './SharedModule/shared-components.module';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 373, "user_id": 918676, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000281402380/picture?type=large", "display_name": "Joe Walker", "link": "https://stackoverflow.com/users/918676/joe-walker"}, "edited": false, "score": 0, "creation_date": 1561589119, "post_id": 51660040, "comment_id": 100118495, "body": "under which operating system was this?"}], "tags": [], "owner": {"reputation": 2582, "user_id": 110287, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/91e3e7699e6f9c9d750677a476d489cc?s=128&d=identicon&r=PG", "display_name": "Zeus", "link": "https://stackoverflow.com/users/110287/zeus"}, "is_accepted": false, "score": 0, "last_activity_date": 1533234272, "creation_date": 1533234272, "answer_id": 51660040, "question_id": 51624660, "link": "https://stackoverflow.com/questions/51624660/angular-6-symbolic-link-module-not-found/51660040#51660040", "title": "Angular 6 symbolic link module not found", "body": "<p>After applying mklink /d command , it works fine now. Earlier I used mkink /J command which is giving issue.</p>\n"}], "owner": {"reputation": 2582, "user_id": 110287, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/91e3e7699e6f9c9d750677a476d489cc?s=128&d=identicon&r=PG", "display_name": "Zeus", "link": "https://stackoverflow.com/users/110287/zeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 650, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533234272, "creation_date": 1533091202, "last_edit_date": 1533146982, "question_id": 51624660, "link": "https://stackoverflow.com/questions/51624660/angular-6-symbolic-link-module-not-found", "title": "Angular 6 symbolic link module not found", "body": "<p>I have created Angular module which I would like to use inside another Angular SPA.For this I created symbolic Link for my external module inside the SPA.</p>\n\n<p>Root\n|\n---SharedModule\n|\n|\n---SPA\n  |\n  ------SharedModule (symbolik link)</p>\n\n<p>When I do ng build on my spa, I am getting shared module not found error.</p>\n\n<p>It is defined in the appModule.ts file as</p>\n\n<pre><code>import { SharedComponentsModule } from './SharedModule/shared-components.module';\n</code></pre>\n\n<p>-- UPDATE\nFixed the typo, sorry this was in my question not in my code. All paths are correct</p>\n"}, {"tags": ["javascript", "typescript", "npm", "vue.js"], "comments": [{"owner": {"reputation": 32716, "user_id": 53788, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ccbc66bc886b0605decec37c74cb1a7d?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/53788/paul"}, "edited": false, "score": 0, "creation_date": 1533092313, "post_id": 51624604, "comment_id": 90214409, "body": "I don&#39;t understand why you&#39;re not just doing the <code>npm install</code> approach still?"}, {"owner": {"reputation": 11, "user_id": 1914624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e394b4d3d2bc555403561865658e5fd?s=128&d=identicon&r=PG", "display_name": "er70_hp", "link": "https://stackoverflow.com/users/1914624/er70-hp"}, "reply_to_user": {"reputation": 32716, "user_id": 53788, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ccbc66bc886b0605decec37c74cb1a7d?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/53788/paul"}, "edited": false, "score": 0, "creation_date": 1533092753, "post_id": 51624604, "comment_id": 90214496, "body": "@Paul I need to change the way they are generating the templates for each input and to my knowledge there&#39;s no facility provided in their version for that so I need to change the source code in formGenerator.vue"}], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 0, "last_activity_date": 1533096879, "creation_date": 1533096879, "answer_id": 51625250, "question_id": 51624604, "link": "https://stackoverflow.com/questions/51624604/import-npm-module-as-source-code/51625250#51625250", "title": "Import npm module as source code", "body": "<p>If you are creating your own fork of <code>vue-form-generator</code>, you may add type declarations right there as well.</p>\n\n<p>create file <code>index.d.ts</code> in your copy of <code>src/component/form-generator</code>:</p>\n\n<pre><code>  const VueFormGenerator: any;\n  export default VueFormGenerator;\n</code></pre>\n\n<p>There is no need to have <code>declare module ...</code> in there because this <code>index.d.ts</code> is right next to <code>index.js</code>, so TypeScript compiler should find it when you import it as</p>\n\n<pre><code>import VueFormGenerator from './relative-path-to/form-generator/index';\n</code></pre>\n\n<p>and generated javascript code will find it as <code>index.js</code> there. Note that the import path must be relative because otherwise, without any path mapping, it will look for the module in <code>node_modules</code>, not in your sources.</p>\n\n<p>You also have to remove all references to the previous type declaration file, <code>vfg.d.ts</code>, in your project.</p>\n"}], "owner": {"reputation": 11, "user_id": 1914624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e394b4d3d2bc555403561865658e5fd?s=128&d=identicon&r=PG", "display_name": "er70_hp", "link": "https://stackoverflow.com/users/1914624/er70-hp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533096879, "creation_date": 1533090751, "last_edit_date": 1533094635, "question_id": 51624604, "link": "https://stackoverflow.com/questions/51624604/import-npm-module-as-source-code", "title": "Import npm module as source code", "body": "<p>I want to import the source code for <a href=\"https://github.com/vue-generators/vue-form-generator\" rel=\"nofollow noreferrer\">vue-form-generator</a> to make some changes to the source code. Being new to Node and Javascript, I really have no idea what I'm doing. Can someone please guide me through the steps?</p>\n\n<p>Since my Vue project is in Typescript, previously when I was using <code>npm install vue-form-generator</code> I'd created vfg.d.ts</p>\n\n<pre><code>declare module \"vue-form-generator\" {\n  const VueFormGenerator: any;\n  export default VueFormGenerator;\n}\n</code></pre>\n\n<p>and my <code>main.ts</code> was</p>\n\n<pre><code>import VueFormGenerator from 'vue-form-generator';\nVue.component('VueFormGenerator', VueFormGenerator);\n</code></pre>\n\n<p>Now I have copied everything from their /src to my /src/component/form-generator but have no idea how to make it so I can use  as previously.</p>\n"}, {"tags": ["typescript", "webpack", "webpack-4", "type-alias"], "comments": [{"owner": {"reputation": 945, "user_id": 5064575, "user_type": "registered", "profile_image": "https://graph.facebook.com/1157813387578459/picture?type=large", "display_name": "Rick van Osta", "link": "https://stackoverflow.com/users/5064575/rick-van-osta"}, "edited": false, "score": 0, "creation_date": 1535708550, "post_id": 51624134, "comment_id": 91175813, "body": "Your error messages indicate that it&#39;s only searching for modules inside a <code>node_modules</code> folder. The <code>resolve.modules</code> option defaults to <code>[node_modules]</code>. You might resolve the problem if you set the <code>resolve.modules</code> option to something like <code>[path.resolve(&#39;.&#47;&#39;)]</code>. Unsure about this though, so not adding this as an answer yet."}, {"owner": {"reputation": 2335, "user_id": 391465, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c284c32cec87526b4559fc46c41f1cb3?s=128&d=identicon&r=PG", "display_name": "darewreck", "link": "https://stackoverflow.com/users/391465/darewreck"}, "reply_to_user": {"reputation": 945, "user_id": 5064575, "user_type": "registered", "profile_image": "https://graph.facebook.com/1157813387578459/picture?type=large", "display_name": "Rick van Osta", "link": "https://stackoverflow.com/users/5064575/rick-van-osta"}, "edited": false, "score": 0, "creation_date": 1535949628, "post_id": 51624134, "comment_id": 91236242, "body": "i moved to ts-loader since I couldn&#39;t get it to work properly with the awesome-typescript loader"}], "answers": [{"tags": [], "owner": {"reputation": 1231, "user_id": 6051261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oawEM.jpg?s=128&g=1", "display_name": "Daniel P&#233;rez", "link": "https://stackoverflow.com/users/6051261/daniel-p%c3%a9rez"}, "is_accepted": false, "score": 9, "last_activity_date": 1539645375, "creation_date": 1539645375, "answer_id": 52825938, "question_id": 51624134, "link": "https://stackoverflow.com/questions/51624134/aliasing-with-webpack-4-and-awesome-typescript-loader-not-working/52825938#52825938", "title": "Aliasing with Webpack 4 and awesome-typescript loader not working", "body": "<p>This is what I used in one of my projects, you'll have to configure it in both tsconfig and webpack.config, but the values are different:</p>\n\n<pre><code>  // webpack.config\n  resolve: {\n    extensions: [\".ts\", \".js\"],\n    alias: { \"@src\": path.resolve(__dirname, \"src\") },\n  },\n\n  // tsconfig\n  \"paths\": {\n    \"@src/*\": [\"./src/*\"]\n  },\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 380, "user_id": 5519365, "user_type": "registered", "profile_image": "https://graph.facebook.com/1105809439437753/picture?type=large", "display_name": "Akash Babu", "link": "https://stackoverflow.com/users/5519365/akash-babu"}, "is_accepted": false, "score": 0, "last_activity_date": 1596124315, "creation_date": 1596124315, "answer_id": 63176852, "question_id": 51624134, "link": "https://stackoverflow.com/questions/51624134/aliasing-with-webpack-4-and-awesome-typescript-loader-not-working/63176852#63176852", "title": "Aliasing with Webpack 4 and awesome-typescript loader not working", "body": "<p>For those who came here looking for a simpler solution, please use <a href=\"https://www.npmjs.com/package/tsconfig-paths-webpack-plugin\" rel=\"nofollow noreferrer\">tsconfig-webpack-plugin</a>.\nThis picks the config path directly from <code>tsconfig.json</code> and also obeys splat(*) operator in path aliases.</p>\n<p>Sample webpack config using <a href=\"https://www.npmjs.com/package/tsconfig-paths-webpack-plugin\" rel=\"nofollow noreferrer\">tsconfig-webpack-plugin</a> will look like below:</p>\n<pre><code>  module.exports = {\n    ...\n    resolve: {\n      plugins: [new TsconfigPathsPlugin({/* options: see below */})]\n    }\n    ...\n  }\n</code></pre>\n<p>Please note unlike normal plugins, this should NOT be injected into root <code>plugins</code>, but rather into <code>resolve.plugins</code> options.</p>\n<p>Post this config your path alias would work like expected \ud83d\ude42</p>\n"}], "owner": {"reputation": 2335, "user_id": 391465, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c284c32cec87526b4559fc46c41f1cb3?s=128&d=identicon&r=PG", "display_name": "darewreck", "link": "https://stackoverflow.com/users/391465/darewreck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6095, "favorite_count": 1, "answer_count": 2, "score": 14, "last_activity_date": 1596124315, "creation_date": 1533086756, "last_edit_date": 1533087913, "question_id": 51624134, "link": "https://stackoverflow.com/questions/51624134/aliasing-with-webpack-4-and-awesome-typescript-loader-not-working", "title": "Aliasing with Webpack 4 and awesome-typescript loader not working", "body": "<p>I'm currently having issue getting aliasing to work properly. From my understanding, to get aliasing to work properly with webpack you have to:</p>\n\n<p>Versions</p>\n\n<pre><code>  \"typescript\": \"2.8.3\",\n  \"webpack\": \"4.16.2\",\n  \"webpack-cli\": \"3.1.0\",\n  \"awesome-typescript-loader\": \"5.2.0\",\n  \"html-webpack-plugin\": \"3.2.0\",\n  \"source-map-loader\": \"^0.2.3\",\n</code></pre>\n\n<ol>\n<li>define the alias in tsconfig as paths.  I verified that my tsconfig and paths/aliasing is correct by building it.  If it wasn't configured correctly, it would have failed the build.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/ZDu0z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZDu0z.png\" alt=\"tsconfig.json\"></a></p>\n\n<p>Here is the sample file </p>\n\n<p>Sample.tsx</p>\n\n<pre><code>import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Footer from '@common/Footer';\n\nexport default class Sample{\n\n    public static page(): void {\n        ReactDOM.render(&lt;Footer/&gt;,\n            document.getElementById('footer')\n        );\n    }\n}\n</code></pre>\n\n<p>With webpack, it's configured to use awesome-typescript-loader.  As I understand it, it leverages off the TsConfigPathsPlugin to examine the tsconfig for all the alias and then resolve it.  So by the time it gets to webpack, the alias are already resolved.  However, that isn't the case.  In the bundle.js I would expect to not see any @common or any aliasing and that it would have been converted.</p>\n\n<p>I also added tried to resolve the alias directly within webpack as well with the alias/aliasFields in the resolve.  But still no luck.</p>\n\n<p>webpack.js</p>\n\n<pre><code> const path = require('path');\n    const HtmlWebpackPlugin = require('html-webpack-plugin');\n    const webpack = require('webpack');\n    const fs = require('fs');\n    const TsConfigPathsPlugin = require('awesome-typescript-loader').TsConfigPathsPlugin;\n    const ROOT_DIR = path.resolve(__dirname, \".\",\"..\");\n\n    const config = {\n        context: path.resolve(__dirname, '.',\"..\"),\n        mode: \"development\",\n        resolve: {\n            modules: [\n\n            ],\n            extensions: ['.ts', '.tsx', '.js', '.jsx'],\n            plugins: [\n                new TsConfigPathsPlugin({\n                    configFileName: path.resolve(ROOT_DIR,'tsconfig.json')\n                })\n            ],\n            aliasFields: [\"@entry\", \"@common\"],\n            alias: {\n                \"@entry\": \"entry/\",\n                \"@common\": \"common/\"\n            }\n        },\n        entry: {\n            entryPoint: path.resolve(ROOT_DIR,'entry, 'index.tsx')\n        },\n        optimization: {\n            minimize: false, // debugging purpose\n            runtimeChunk: 'single',\n            splitChunks: {\n                cacheGroups: {\n                    vendors: {\n                        test: /[\\\\/]node_modules[\\\\/]/,\n                        name: 'vendors',\n                        chunks: 'all'\n                    }\n                }\n            }\n        },\n        output: {\n            filename: \"[name]_bundle.js\",\n            path: path.join(ROOT_DIR, 'dist_w'),\n        },\n\n        // Enable sourcemaps for debugging webpack's output.\n        devtool: \"eval-source-map\",\n\n        resolve: {\n            // Add '.ts' and '.tsx' as resolvable extensions.\n            extensions: [\".ts\", \".tsx\", \".js\", \".json\"]\n        },\n\n        module: {\n            rules: [\n                // All files with a '.ts' or '.tsx' extension will be handled by 'awesome-typescript-loader'.\n                { test: /\\.(ts|tsx)$/, loader: \"awesome-typescript-loader\" },\n\n                // All output '.js' files will have any sourcemaps re-processed by 'source-map-loader'.\n                { enforce: \"pre\", test: /\\.js$/, loader: \"source-map-loader\" }\n            ]\n        },\n        plugins: [\n            //Generate index.html in /dist =&gt; https://github.com/ampedandwired/html-webpack-plugin\n            new HtmlWebpackPlugin({\n                filename: 'index.html', //Name of file in ./dist/\n                template:  path.resolve(ROOT_DIR,'entry-point', 'index.html'),\n                hash: true,\n            })\n        ],\n        stats: { //object\n            assets: true,\n            colors: true,\n            errors: true,\n            errorDetails: true,\n            hash: true\n            // ...\n        }\n    };\n\n    module.exports = config;\n</code></pre>\n\n<p>The error message I get from web pack is:</p>\n\n<pre><code>Module not found: Error: Can't resolve '@common\\Footer' in 'entry\\src'\nresolve '@common\\Footer' in 'entry\\src'\n  Parsed request is a module\n  using description file: &lt;root&gt;\\package.json (relative path: ./entry/)\n    Field 'browser' doesn't contain a valid alias configuration\n    resolve as module\n      entry\\node_modules doesn't exist or is not a directory\n      &lt;root&gt;\\..\\..\\node_modules doesn't exist or is not a directory\n      &lt;root&gt;\\..\\node_modules doesn't exist or is not a directory\n      &lt;root&gt;\\node_modules doesn't exist or is not a directory\n      looking for modules in &lt;root&gt;\\node_modules\n        using description file: &lt;root&gt;\\package.json (relative path: ./node_modules)\n          Field 'browser' doesn't contain a valid alias configuration\n      looking for modules in entry\\node_modules\n        using description file: &lt;root&gt;\\package.json (relative path: ./entry-point/node_modules)\n          Field 'browser' doesn't contain a valid alias configuration\n          using description file: &lt;root&gt;\\package.json (relative path: ./node_modules/@common//Footer)\n            no extension\n              Field 'browser' doesn't contain a valid alias configuration\n          using description file: &lt;root&gt;\\package.json (relative path: ./entry-point/node_modules/@common/Footer)\n            no extension\n              Field 'browser' doesn't contain a valid alias configuration\n              &lt;root&gt;\\node_modules\\@common\\Footer doesn't exist\n            .ts\n          \u2026\n</code></pre>\n\n<p>Any advice appreciated,\nThanks,\nD</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 3, "last_activity_date": 1533087784, "creation_date": 1533087784, "answer_id": 51624262, "question_id": 51624117, "link": "https://stackoverflow.com/questions/51624117/how-to-check-for-the-property-type-of-an-unknown-value/51624262#51624262", "title": "How to check for the property type of an `unknown` value?", "body": "<p>There isn't a great way to write this code until <a href=\"https://github.com/Microsoft/TypeScript/issues/21732\" rel=\"nofollow noreferrer\">this suggestion</a> is implemented.  In the meantime, it's up to you whether you prefer <code>any</code> or <code>unknown</code> (with some casts if you are using <code>noImplicitAny</code>, as I'd generally recommend).  I wouldn't worry about the type of the <code>output</code> local variable because you've declared the return type of the function as <code>string</code> anyway.</p>\n"}, {"comments": [{"owner": {"reputation": 520, "user_id": 2477364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NheEk.png?s=128&g=1", "display_name": "Neonit", "link": "https://stackoverflow.com/users/2477364/neonit"}, "edited": false, "score": 0, "creation_date": 1561993279, "post_id": 55760610, "comment_id": 100228396, "body": "In your type guard, <code>obj</code> is implicitly of type <code>any</code>. In your playground script, you are passing <code>unknown</code> type values to it, but it doesn&#39;t matter, because <code>any</code> accepts all types including <code>unknown</code>. If you declared <code>obj</code> as <code>unknown</code> in your type guard, it would stop working. I assume, however, that the questioner wanted to know whether you would recommend using <code>unknown</code> as type for the type guard argument."}], "tags": [], "owner": {"reputation": 543, "user_id": 6419172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oLifm.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/6419172/alex"}, "is_accepted": false, "score": 2, "last_activity_date": 1562052454, "last_edit_date": 1562052454, "creation_date": 1555670665, "answer_id": 55760610, "question_id": 51624117, "link": "https://stackoverflow.com/questions/51624117/how-to-check-for-the-property-type-of-an-unknown-value/55760610#55760610", "title": "How to check for the property type of an `unknown` value?", "body": "<p><strong>Edit:</strong> got corrected by Neon. The typeguard was not sufficient enough. I updated the example to explicitly assert an <code>unknown</code> value instead of an implicit <code>any</code>.</p>\n\n<hr>\n\n<p>I'd recommend using <code>unknown</code> as it is the type-safe variant of <code>any</code>, that being said you probably want to use a type guard to assert the unknown value. This has the effect that the <code>description</code> property you're looking for is actually being asserted as a <code>string</code> and not as an <code>any</code>.</p>\n\n<p>The typeguard (see the playground to see what <code>IDescription</code> is):</p>\n\n<pre><code>public hasDescription(obj: unknown): obj is IDescription {\n    return (obj as IDescription).description !== undefined\n        &amp;&amp; typeof (obj as IDescription).description === \"string\";\n}\n</code></pre>\n\n<p>Using it in the codebase will result in an if-statement with some benefits.</p>\n\n<pre><code>if (this.hasDescription(detail)) {\n    // In this if-block the TypeScript compiler actually resolved the unknown type to the type described in the guard.\n    console.log(detail.description);\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgJIBEIGcFWABzGAHsRkBvAWAChk7kATbXAo0gLmSzDxAHMA3DQC+NGggA2cLFmQBxAK5woDCmNr18CgEYTgCZAAtpmHHkIkQACmLaAVpwUgA1iGIB3EAEpOtu8mBZDGZzNjIqDXp6KAgwBSgyG3tkaTRTFgtSLwA6JjNWS2QAQgBeEuQnJhhQCAYaKIb6ADIm5DAAT3wIYhhkJP9U4PzM71yQgtJkMvKAIm5ePhmhSORRahF1BFJuZD4lFSnkEAh3eX2GKy9lmglY5AA3OAlHFzdPQ-JGcZHOGYBGABMAGYZqtlrcwA8ngCXq4PGRyp83HkMmFfnBtAhQWsaMBelY9soGNljFh0qFLFZHhIvF41CstiAsMRbtkJMQ+FSnmNhmErht1tQ8X1CSoSSZvmEuRIAbT6VFGczWezOdSATzUZZ+dQ1kA\" rel=\"nofollow noreferrer\">Here's</a> a playground for you to see how that works (note how only <code>123</code> is being outputted to the console).</p>\n\n<hr>\n\n<p>An example implementation for your specific problem:</p>\n\n<pre><code>function formatReason(detail: unknown): string {\n    if (this.hasDescription(detail) {\n        return detail.description;\n    }\n\n    return '';\n}\n\n</code></pre>\n"}], "owner": {"reputation": 1289, "user_id": 3486500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b69018d8998aa40d898db0f8bd769fad?s=128&d=identicon&r=PG&f=1", "display_name": "Behrooz", "link": "https://stackoverflow.com/users/3486500/behrooz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5465, "favorite_count": 2, "answer_count": 2, "score": 15, "last_activity_date": 1562052454, "creation_date": 1533086598, "question_id": 51624117, "link": "https://stackoverflow.com/questions/51624117/how-to-check-for-the-property-type-of-an-unknown-value", "title": "How to check for the property type of an `unknown` value?", "body": "<p>I have the following function, which could receive an unknown value:</p>\n\n<pre><code>function formatReason(detail: unknown): string {\n    if (detail\n        &amp;&amp; detail instanceof Object\n        &amp;&amp; detail.constructor.name === 'Object'\n        &amp;&amp; detail.hasOwnProperty('description')\n        &amp;&amp; typeof detail['description'] === 'number'\n    ) {\n        const output = detail['description'];\n        return output;\n    }\n\n    return '';\n}\n</code></pre>\n\n<p>The <code>detail</code> parameter could be any value. If it's an object with a <code>description</code> property of type string, the function should return that property value, otherwise empty string.</p>\n\n<p>First, do you recommend using <code>any</code> or <code>unknown</code> for the <code>detail</code> parameter?</p>\n\n<p>Second, no matter what I do, the type for <code>output</code> ends up to be <code>any</code>. How can I make sure it is <code>string</code>?</p>\n"}, {"tags": ["typescript", "redux", "redux-persist"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533087970, "post_id": 51624096, "comment_id": 90213519, "body": "You&#39;ve explained the issue well in general terms, but if you provide a code sample, it might help someone familiar with TypeScript but unfamiliar with redux-persist (like me) figure out the specifics you need."}, {"owner": {"reputation": 291, "user_id": 3088042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3d5a610a1fdac9934108cc179028e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3088042/aaron"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1533178504, "post_id": 51624096, "comment_id": 90253672, "body": "Thanks for the comment @MattMcCutchen. Updated with code samples."}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1533182831, "creation_date": 1533182831, "answer_id": 51645335, "question_id": 51624096, "link": "https://stackoverflow.com/questions/51624096/typescript-typed-redux-persist-migrationmanifest/51645335#51645335", "title": "Typescript-typed redux-persist MigrationManifest?", "body": "<p>At some point you have to specify what has what type in what version.  But you can use lookup types and conditional types to make it easier to build up the data structures in a decentralized way.  Here's an example:</p>\n\n<pre><code>interface MigrationManifest {\n    [key: string]: (state: PersistedState) =&gt; PersistedState;\n}\ninterface PersistedState { _persist?: PersistState }\ninterface PersistState { version: number; rehydrated: boolean; }\n\n//////\n\ntype VERSION_3 = 3;\ntype VERSION_2 = VERSION_3 | 2;\ntype VERSION_1 = VERSION_2 | 1;\ntype VERSION_0 = VERSION_1 | 0;\n\ninterface TypeBundleBase {\n    root: {};\n    address: {};\n    phoneNumber: {};\n}\n\ninterface RootV0&lt;B extends TypeBundleBase&gt; { \n    name: string;\n    address: B[\"address\"];\n    phoneNumber: B[\"phoneNumber\"];\n    _persist?: PersistState;\n}\ninterface ContactsV2&lt;B extends TypeBundleBase&gt; {\n    address: B[\"address\"];\n    phoneNumber: B[\"phoneNumber\"];\n}\ninterface RootV2&lt;B extends TypeBundleBase&gt; { \n    name: string;\n    contacts: ContactsV2&lt;B&gt;;\n    _persist?: PersistState;\n}\n\ninterface AddressV0&lt;B extends TypeBundleBase&gt; { \n    street: string;\n    city: string;\n}\ninterface AddressV1&lt;B extends TypeBundleBase&gt; { \n    vacant: boolean;\n}\n\ntype PhoneNumberV0&lt;B extends TypeBundleBase&gt; = string;\ninterface PhoneNumberV3&lt;B extends TypeBundleBase&gt; { \n    countryCode: string;\n    countryPhoneNumber: string;\n}\n\ninterface Types&lt;V extends VERSION_0, B extends TypeBundleBase&gt; { \n    root: [V] extends [VERSION_2] ? RootV2&lt;B&gt; : RootV0&lt;B&gt;;\n    address: [V] extends [VERSION_1] ? AddressV1&lt;B&gt; : AddressV0&lt;B&gt;;\n    phoneNumber: [V] extends [VERSION_3] ? PhoneNumberV3&lt;B&gt; : PhoneNumberV0&lt;B&gt;; \n}\n\ninterface FixedTypes&lt;V extends VERSION_0&gt; extends Types&lt;V, FixedTypes&lt;V&gt;&gt; { }\ntype Root&lt;V extends VERSION_0&gt; = FixedTypes&lt;V&gt;[\"root\"];\n\ndeclare function migrateState1(state: Root&lt;VERSION_0&gt;): Root&lt;VERSION_1&gt;;\ndeclare function migrateState2(state: Root&lt;VERSION_1&gt;): Root&lt;VERSION_2&gt;;\ndeclare function migrateState3(state: Root&lt;VERSION_2&gt;): Root&lt;VERSION_3&gt;;\n\nconst manifest: MigrationManifest = {\n    1: (state: PersistedState) =&gt; {\n        const persistedState = state as Root&lt;VERSION_0&gt;;\n        const migratedState: Root&lt;VERSION_1&gt; = migrateState1(persistedState);\n        return migratedState;\n    },\n    2: (state: PersistedState) =&gt; {\n        const persistedState = state as Root&lt;VERSION_1&gt;;\n        const migratedState: Root&lt;VERSION_2&gt; = migrateState2(persistedState);\n        return migratedState;\n    },\n    3: (state: PersistedState) =&gt; {\n        const persistedState = state as Root&lt;VERSION_2&gt;;\n        const migratedState: Root&lt;VERSION_3&gt; = migrateState3(persistedState);\n        return migratedState;\n    }\n}\n</code></pre>\n\n<p>There may be glitches with this approach that I haven't anticipated, but it's worth a try.  I doubt I'm the first person to think of the approach, but a few quick web searches for prior work were unsuccessful.</p>\n"}], "owner": {"reputation": 291, "user_id": 3088042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3d5a610a1fdac9934108cc179028e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3088042/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1029, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1533182831, "creation_date": 1533086355, "last_edit_date": 1533179145, "question_id": 51624096, "link": "https://stackoverflow.com/questions/51624096/typescript-typed-redux-persist-migrationmanifest", "title": "Typescript-typed redux-persist MigrationManifest?", "body": "<p>I have a Typescript project that uses redux and redux-persist. Is it possible to use Typescript for a redux-persist migration configuration? The main difficulty comes down to this: If you have a Typescript-typed root redux state, it typically/always represents the latest version of your state (not necessarily what was previously persisted). In the context of a migration, how do you represent the data that\u2019s being read from persistence in a typed manner, knowing it doesn\u2019t match the latest version of your state? Some details:</p>\n\n<p>Here is the Typescript API of redux-persist for data migrations:</p>\n\n<pre><code>export interface MigrationManifest {\n    [key: string]: (state: PersistedState) =&gt; PersistedState;\n}\nexport interface PersistedState { _persist?: PersistState }\nexport interface PersistState { version: number; rehydrated: boolean; }\n</code></pre>\n\n<p>Makes sense, you provide a <code>MigrationManifest</code> which has keys that are version numbers and values that are functions that receive the persisted state and return a new persisted state. Since <code>PersistedState</code> is just an interface, it seems you could have one incoming type and return a different type (in cases where your data schema changed). </p>\n\n<p>So let's say I have the following type as my root persistent store type. It conforms to the <code>PersistedState</code> interface:</p>\n\n<pre><code>type RootState = {\n    name: string,\n    address: Address,\n    _persist?: PersistState\n}\n\ntype Address = {\n    street: string\n    city: string\n}\n</code></pre>\n\n<p>At some point in the future, I update my model to:</p>\n\n<pre><code>type RootState = {\n    name: string,\n    address: Address,\n    _persist?: PersistState\n}\n\ntype Address = {\n    vacant: boolean\n}\n</code></pre>\n\n<p>And I need to provide a migration which would look something like:</p>\n\n<pre><code>const manifest: MigrationManifest = {\n  1: (state: PersistedState) =&gt; {\n    const persistedState = state as ???\n    const migratedState: RootState = migrateState(persistedState)\n    return migratedState\n  }\n}\n</code></pre>\n\n<p>Where I'm struggling is with getting a type for the incoming state (where my cast to <code>???</code> is). In a simple example like this, it would be easy to maintain a record of each version of my state, import and use them as necessary:</p>\n\n<pre><code>import { RootState as RootState_v0 } from 'types_v0.ts'\n\nconst manifest: MigrationManifest = {\n  1: (state: PersistedState) =&gt; {\n    const persistedState = state as RootState_v0\n    const migratedState: RootState = migrateState(persistedState)\n    return migratedState\n  }\n}\n</code></pre>\n\n<p>In practice, it's not that simple; I have a complex state tree, not all of which is defined in a central and easy to version location.</p>\n\n<p>One solution I can dream up, but I don't know is possible, would be to somehow create a version of my <code>RootState</code> type with all of the intermediate type aliases and interface names \"dissolved\". Something like:</p>\n\n<pre><code>type RootState_v0 = {\n    name: string,\n    address: {\n        street: string\n        city: string\n    },\n    _persist?: {\n        version: number,\n        rehydrated: boolean\n    }\n}\n</code></pre>\n\n<p>If I could create that in some automatic way, it would be easy and convenient to keep and use in migrations.</p>\n\n<p>Any idea if that is possible, or any other suggestions about how to effectively use Typescript in react-redux migrations?</p>\n"}, {"tags": ["typescript", "react-native"], "answers": [{"comments": [{"owner": {"reputation": 1728, "user_id": 3486743, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e65140d4aceb4e836b467f9c6d6c54ed?s=128&d=identicon&r=PG", "display_name": "vmarquet", "link": "https://stackoverflow.com/users/3486743/vmarquet"}, "edited": false, "score": 0, "creation_date": 1533087484, "post_id": 51624153, "comment_id": 90213416, "body": "Thanks. I should have thought of that... I&#39;m new to TypeScript and I didn&#39;t see the namespacing thing on the tutorials."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1533086928, "creation_date": 1533086928, "answer_id": 51624153, "question_id": 51624054, "link": "https://stackoverflow.com/questions/51624054/typescript-react-native-sqlite-storage-error-ts2304-cannot-find-name-tran/51624153#51624153", "title": "TypeScript + react-native-sqlite-storage =&gt; error TS2304: Cannot find name &#39;Transaction&#39;", "body": "<p>The missing types are members of the <code>react-native-sqlite-storage</code> module, and you've imported the entire module under the name <code>SQLite</code>:</p>\n\n<pre><code>import SQLite from 'react-native-sqlite-storage'\n</code></pre>\n\n<p>So you have to qualify the types like this:</p>\n\n<pre><code>db.transaction((tx: SQLite.Transaction) =&gt; {\n  tx.executeSql('SELECT * FROM movies', [], (tx: SQLite.Transaction, results: SQLite.ResultSet) =&gt; {\n    console.log(\"Query completed\");\n  });\n});\n</code></pre>\n\n<p>just like you qualified <code>SQLite.openDatabase</code>.</p>\n"}], "owner": {"reputation": 1728, "user_id": 3486743, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e65140d4aceb4e836b467f9c6d6c54ed?s=128&d=identicon&r=PG", "display_name": "vmarquet", "link": "https://stackoverflow.com/users/3486743/vmarquet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 51624153, "answer_count": 1, "score": 0, "last_activity_date": 1533086928, "creation_date": 1533085971, "question_id": 51624054, "link": "https://stackoverflow.com/questions/51624054/typescript-react-native-sqlite-storage-error-ts2304-cannot-find-name-tran", "title": "TypeScript + react-native-sqlite-storage =&gt; error TS2304: Cannot find name &#39;Transaction&#39;", "body": "<p>I'm using SQLite through <a href=\"https://github.com/andpor/react-native-sqlite-storage\" rel=\"nofollow noreferrer\">react-native-sqlite-storage</a> and trying to use TypeScript.</p>\n\n<p>But TypeScript can't find some of the types. The code causing trouble:</p>\n\n<pre><code>db.transaction((tx: Transaction) =&gt; {\n  tx.executeSql('SELECT * FROM movies', [], (tx: Transaction, results: ResultSet) =&gt; {\n    console.log(\"Query completed\");\n  });\n});\n</code></pre>\n\n<p>TypeScript errors:</p>\n\n<pre><code>$ ./node_modules/.bin/tsc --alwaysStrict --skipLibCheck\nApp.tsx:18:24 - error TS2304: Cannot find name 'Transaction'.\n\n18    db.transaction((tx: Transaction) =&gt; {\n                          ~~~~~~~~~~~\n\nApp.tsx:19:54 - error TS2304: Cannot find name 'Transaction'.\n\n19       tx.executeSql('SELECT * FROM movies', [], (tx: Transaction, results: ResultSet) =&gt; {\n                                                        ~~~~~~~~~~~\n\nApp.tsx:19:76 - error TS2304: Cannot find name 'ResultSet'.\n\n19       tx.executeSql('SELECT * FROM movies', [], (tx: Transaction, results: ResultSet) =&gt; {\n                                                                              ~~~~~~~~~\n</code></pre>\n\n<p>This is crazy because the <code>Transaction</code> interface is defined <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/react-native-sqlite-storage/index.d.ts#L63\" rel=\"nofollow noreferrer\">here in DefinitelyTyped</a>, so it should be found. The types for the other functions provided by react-native-sqlite-storage are properly found.</p>\n\n<p><strong>What's happening? How is it possible that some types are found and some other, from the same types file?</strong></p>\n\n<p>To reproduce the problem, all my project files are <a href=\"https://gist.github.com/vmarquet/06b6f3e9dc1bbf4df4fc3f38cf063c9c\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": ["angular", "typescript", "angular2-forms"], "comments": [{"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1533085141, "post_id": 51623306, "comment_id": 90213025, "body": "The <code>setValue</code> and <code>patchValue</code> are for reactive forms. You are using template-driven forms. With template-driven forms the values are set into the controls using two-way binding."}, {"owner": {"reputation": 417, "user_id": 4015632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0c1c4d4ec74d312553258f42b41c4ca2?s=128&d=identicon&r=PG&f=1", "display_name": "vyeluri5", "link": "https://stackoverflow.com/users/4015632/vyeluri5"}, "reply_to_user": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1533161151, "post_id": 51623306, "comment_id": 90250139, "body": "I was able to resolve the error by adding ngDefaultControl=&quot;id&quot; for span tag. I&#39;m using @ViewChild to access my complete form with ngModelGroup=&#39;userSettings&#39; so, I use setValue or patchValue to set as whole."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1533161323, "post_id": 51623306, "comment_id": 90250191, "body": "OK. But FYI ... the Angular team <i>highly</i> recommends not mixing template-driven form syntax and reactive form syntax."}], "answers": [{"tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 0, "last_activity_date": 1533085858, "creation_date": 1533085858, "answer_id": 51624044, "question_id": 51623306, "link": "https://stackoverflow.com/questions/51623306/angular-2-td-form-cannot-setvalue-or-patchvalue-to-span-tag-button/51624044#51624044", "title": "Angular 2 TD form cannot setValue or patchValue to span tag, button", "body": "<p>It looks like you are mixing some template-driven form syntax with reactive form syntax and it won't work.</p>\n\n<p>Here is an example of one of my template-driven form controls:</p>\n\n<pre><code>  &lt;div class=\"form-group row\"&gt;\n    &lt;label class=\"col-md-2 col-form-label\"\n           for=\"firstNameId\"&gt;First Name&lt;/label&gt;\n    &lt;div class=\"col-md-8\"&gt;\n      &lt;input class=\"form-control\"\n             id=\"firstNameId\"\n             type=\"text\"\n             placeholder=\"First Name (required)\"\n             required\n             minlength=\"3\"\n             [(ngModel)]=customer.firstName\n             name=\"firstName\"\n             #firstNameVar=\"ngModel\"\n             [ngClass]=\"{'is-invalid': (firstNameVar.touched || firstNameVar.dirty) &amp;&amp; !firstNameVar.valid }\" /&gt;\n      &lt;span class=\"invalid-feedback\"&gt;\n        &lt;span *ngIf=\"firstNameVar.errors?.required\"&gt;\n          Please enter your first name.\n        &lt;/span&gt;\n        &lt;span *ngIf=\"firstNameVar.errors?.minlength\"&gt;\n          The first name must be longer than 3 characters.\n        &lt;/span&gt;\n      &lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>Notice that it uses two-way binding: <code>[(ngModel)]=customer.firstName</code></p>\n\n<p>And it's binding to the firstName property of the customer object. In your case, you need to define a <code>user</code> object instead. Something like this:</p>\n\n<pre><code>export class SettingsComponent implements OnInit {\n     user: UserSettings;\n\n     ngOnInit() {\n          this.settingsService.getUserSettings('12345')\n             .subscribe(\n                   (response: UserSettings) =&gt; {\n                        console.log(response);\n                        this.user = response;\n                    },\n                    (error) =&gt; console.log(error)\n                 );\n               }\n\n     onSettingUpdateSubmit() {\n         console.log(this.settingForm.value.userSettings);\n     }\n    }\n</code></pre>\n\n<p>And your HTML:</p>\n\n<pre><code>[(ngModel)]=\"user.firstName\"\n</code></pre>\n\n<p>This will automatically populate your form with the values retrieved from your setting service.</p>\n\n<p>I have a complete example here: <a href=\"https://github.com/DeborahK/Angular2-ReactiveForms/tree/master/Demo-Start-Updated\" rel=\"nofollow noreferrer\">https://github.com/DeborahK/Angular2-ReactiveForms/tree/master/Demo-Start-Updated</a></p>\n"}], "owner": {"reputation": 417, "user_id": 4015632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0c1c4d4ec74d312553258f42b41c4ca2?s=128&d=identicon&r=PG&f=1", "display_name": "vyeluri5", "link": "https://stackoverflow.com/users/4015632/vyeluri5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533099789, "creation_date": 1533078575, "last_edit_date": 1533099789, "question_id": 51623306, "link": "https://stackoverflow.com/questions/51623306/angular-2-td-form-cannot-setvalue-or-patchvalue-to-span-tag-button", "title": "Angular 2 TD form cannot setValue or patchValue to span tag, button", "body": "<p>I have a simple angular template driven form with few inputs, span tags and button. I need to setValue to form from an object in my component.</p>\n\n<p>I'm unable to setValue to span and button tags and I get the below error.</p>\n\n<pre><code>core.js:1365 ERROR Error: Uncaught (in promise): Error: No value accessor for form control with path: 'userSettings -&gt; id'\nError: No value accessor for form control with path: 'userSettings -&gt; id'\n  at _throwError (forms.js:1901)\n  at setUpControl (forms.js:1771)\n  at resolvedPromise.then (forms.js:3851)\n  at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (zone.js:388)\n  at Object.onInvoke (core.js:3988)\n  at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (zone.js:387)\n  at Zone.push../node_modules/zone.js/dist/zone.js.Zone.run (zone.js:138)\n  at zone.js:870\n  at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:421)\n  at Object.onInvokeTask (core.js:3979)\n  at _throwError (forms.js:1901)\n  at setUpControl (forms.js:1771)\n  at resolvedPromise.then (forms.js:3851)\n  at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (zone.js:388)\n  at Object.onInvoke (core.js:3988)\n  at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (zone.js:387)\n  at Zone.push../node_modules/zone.js/dist/zone.js.Zone.run (zone.js:138)\n  at zone.js:870\n  at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:421)\n  at Object.onInvokeTask (core.js:3979)\n  at resolvePromise (zone.js:821)\n  at zone.js:873\n  at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:421)\n  at Object.onInvokeTask (core.js:3979)\n  at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:420)\n  at Zone.push../node_modules/zone.js/dist/zone.js.Zone.runTask (zone.js:188)\n  at drainMicroTaskQueue (zone.js:594)\n  at ZoneTask.push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask [as invoke] (zone.js:499)\n  at invokeTask (zone.js:1536)\n  at HTMLAnchorElement.globalZoneAwareCallback (zone.js:1562)\n</code></pre>\n\n<p>My form html code</p>\n\n<pre><code>&lt;form class=\"form-horizontal\" role=\"form\" (ngSubmit)=\"onSettingUpdateSubmit()\" #settingsForm=\"ngForm\" &gt;\n&lt;fieldset ngModelGroup=\"userSettings\"&gt;\n  &lt;legend&gt;&lt;strong&gt;Account Settings&lt;/strong&gt;&lt;/legend&gt;\n  &lt;br&gt;\n\n  &lt;div class=\"form-group row\"&gt;\n    &lt;label class=\"col-md-3  col-form-label text-md-right\"&gt;Id&lt;/label&gt;\n    &lt;div class=\"col-md-4\"&gt;\n      &lt;span class=\"fw-semi-bold\" [ngModel]=\"id\" id=\"id\" name=\"id\"&gt;{{ id }}&lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"form-group row\"&gt;\n    &lt;label for=\"firstName\" class=\"col-md-3  col-form-label text-md-right\"&gt;First Name&lt;/label&gt;\n    &lt;div class=\"col-md-4\"&gt;\n      &lt;input type=\"text\"\n             id=\"firstName\"\n             required\n             [ngModel]=\"firstName\"\n             name=\"firstName\"\n             class=\"form-control\"\n             placeholder=\"Your first name\"&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"form-group row\"&gt;\n    &lt;label class=\"col-md-3  col-form-label text-md-right\"&gt;Active&lt;/label&gt;\n    &lt;div class=\"col-md-4\"&gt;\n      &lt;button type=\"button\"\n              id=\"active\"\n              [value]=\"active\"\n              [ngModel]=\"active\"\n              name=\"active\"\n              [ngClass]=\"active ? 'btn btn-success' : 'btn btn-danger'\"\n              (click)=\"onActiveMode()\"&gt;{{ active ? 'Yes' : 'No'}}&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/fieldset&gt;\n\n&lt;div class=\"form-actions\"&gt;\n  &lt;div class=\"btn-block text-center\"&gt;\n    &lt;button type=\"submit\"\n            class=\"btn btn-primary\"\n\n            [disabled]=!settingsForm.valid&gt;Update&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>The settingsService in my component will return an object from my API as below object. </p>\n\n<pre><code>{\n    \"id\":\"12345\",\n    \"firstName\":\"Victor\",\n    \"active\":true\n}\n</code></pre>\n\n<p>My settings.compontent.ts</p>\n\n<pre><code>export class SettingsComponent implements OnInit {\n\n ngOnInit() {\n      this.settingsService.getUserSettings('12345')\n         .subscribe(\n               (response: UserSettings) =&gt; {\n\n                    console.log(response);\n\n                    // this.settingForm.setValue({\n                    //   userSettings: response\n                    // });\n\n                    this.settingForm.form.patchValue({\n                       userSettings: response\n                    });\n                },\n                (error) =&gt; console.log(error)\n             );\n           }\n\n onSettingUpdateSubmit() {\n     console.log(this.settingForm.value.userSettings);\n }\n}\n</code></pre>\n\n<p>When I click the button Update in my form it returns all the complete object with values (preset in my component for testing purpose).</p>\n"}, {"tags": ["typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8615417, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xz4F1jaEfrg/AAAAAAAAAAI/AAAAAAAAADo/Ghajzh1TaPg/photo.jpg?sz=128", "display_name": "hamza ", "link": "https://stackoverflow.com/users/8615417/hamza"}, "edited": false, "score": 0, "creation_date": 1533172574, "post_id": 51623641, "comment_id": 90252602, "body": "thank you for the answer. I&#39;ll try this asap and get back to you."}], "tags": [], "owner": {"reputation": 5575, "user_id": 1383356, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ff4815322d5181071783e771ac21d978?s=128&d=identicon&r=PG", "display_name": "Ari", "link": "https://stackoverflow.com/users/1383356/ari"}, "is_accepted": false, "score": 0, "last_activity_date": 1533081884, "creation_date": 1533081884, "answer_id": 51623641, "question_id": 51623213, "link": "https://stackoverflow.com/questions/51623213/ionic-3-app-with-both-side-menu-and-tabs/51623641#51623641", "title": "ionic 3 app with both side menu and tabs", "body": "<p>This requires a little bit of work.</p>\n\n<p>Your ionic app has one <code>nav</code> variable which is global and is one that you use for the side menu. This variable is the <code>nav</code> inside app.component.ts.</p>\n\n<p>Also, each tab has its own <code>NavController</code>. What you want is to push the page that is clicked on the left side menu on the local <code>NavController</code> of the active tab, rather than the global <code>nav</code>.</p>\n\n<p>One way to do this, is to store the <code>navCtrl</code> of each tab in a global variable in its constructor:</p>\n\n<pre><code>constructor(navParams: NavParams, navCtrl : navCtrl) {\n    this.tabNumber= //number of this tab;\n    // Set the active tab based on the passed index from menu.ts\n    Globals.navCtrls[this.tabNumber] = this.navCtrl;\n  }\n</code></pre>\n\n<p>Now inside <code>app.component.ts</code>, instead of setRoot, you should have something like:</p>\n\n<pre><code> Globals.navCtrls[**number of active tab**].push(page.component, params);\n</code></pre>\n\n<p><strong>How to define a global variable?</strong></p>\n\n<p>Create a new file: <code>config.ts</code> which has this:</p>\n\n<pre><code>export var Globals = {\n  //Nav ctrl of each tab page\n   navCtrls : new Array( **Number of tab pages**),\n}\n</code></pre>\n\n<p>Then in each file: </p>\n\n<pre><code>import { Globals } from \"path/to/config.ts\";\n</code></pre>\n\n<p><strong>Easy but not perfect alternative</strong>:</p>\n\n<p>I see that you use setRoot to show a new page. Rather than this, you could use <code>push</code>:</p>\n\n<pre><code>this.nav.setRoot(page.component, params);\n</code></pre>\n\n<p>You still won't see the tabs, but at least you will be able to go back to the previous page.</p>\n"}], "owner": {"reputation": 17, "user_id": 8615417, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xz4F1jaEfrg/AAAAAAAAAAI/AAAAAAAAADo/Ghajzh1TaPg/photo.jpg?sz=128", "display_name": "hamza ", "link": "https://stackoverflow.com/users/8615417/hamza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533081884, "creation_date": 1533077914, "question_id": 51623213, "link": "https://stackoverflow.com/questions/51623213/ionic-3-app-with-both-side-menu-and-tabs", "title": "ionic 3 app with both side menu and tabs", "body": "<p>I followed this tutorial to create an ionic 3 app with both side menu and tabs <a href=\"https://competenepal.com/ion-sidemenu-with-tabs/\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>Everything works fine in the beginning, this is my app: <a href=\"https://i.stack.imgur.com/NhauR.png\" rel=\"nofollow noreferrer\">image1</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/r5N97.png\" rel=\"nofollow noreferrer\">image2</a></p>\n\n<p>This is the code of my app.component.ts: </p>\n\n<pre><code>export interface PageInterface {\n  title: string;\n  name: string;\n  component: any;\n  icon: string;\n  index?: number;\n  tabName?: string;\n  tabComponent?: any;\n}\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n\n  rootPage: any = TabsPage;\n  pages: PageInterface[] = [\n    { title: 'Home', name: 'HomePage', component: HomePage, tabComponent: HomePage, index: 0, icon: 'home' },\n    { title: 'Demandes', name: 'DemandesPage', component: DemandesPage, tabComponent: DemandesPage, index: 1, icon: 'body' },\n    { title: 'Ajouter un trajet', name: 'AddTraject', component: AddtrajectPage, tabComponent:AddtrajectPage, index: 2, icon: 'create' },\n    { title: 'Ajouter une demande', name: 'AddDemande', component: AdddemandePage, tabComponent:AdddemandePage, index: 3, icon: 'add' },\n    { title: 'About', name: 'AboutPage', component: AboutPage, tabComponent: AboutPage,  icon: 'people' },\n    { title: 'Contact', name: 'ContactPage', component: ContactPage, tabComponent: ContactPage,  icon: 'contacts' },\n    { title: 'Special', name: 'SpecialPage', component: OtherPage, icon: 'shuffle' },\n  ];\n\n  @ViewChild(Nav) nav: Nav;\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() =&gt; {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n\n  openPage(page: PageInterface) {\n    let params = {};\n\n    // The index is equal to the order of our tabs inside tabs.ts\n    if (page.index) {\n      params = { tabIndex: page.index };\n    }\n\n   // If tabs page is already active just change the tab index\n    if (this.nav.getActiveChildNavs().length &amp;&amp; page.index != undefined) {\n      this.nav.getActiveChildNavs()[0].select(page.index);\n    } else {\n      // Tabs are not active, so reset the root page \n      // In this case: moving to or from SpecialPage\n      this.nav.setRoot(page.component, params);\n    }\n\n\n  }\n\n  isActive(page: PageInterface) {\n    // Again the Tabs Navigation\n    let childNav = this.nav.getActiveChildNavs()[0];\n\n    if (childNav) {\n      if (childNav.getSelected() &amp;&amp; childNav.getSelected().root === page.tabComponent) {\n        return 'primary';\n      }\n      return;\n    }\n\n    // Fallback needed when there is no active childnav (tabs not active)\n    if (this.nav.getActive() &amp;&amp; this.nav.getActive().name === page.name) {\n      return 'primary';\n    }\n    return;\n  }\n\n}\n</code></pre>\n\n<p>and i have only four pages in the tab, </p>\n\n<pre><code>&lt;ion-tabs&gt;\n  &lt;ion-tab [root]=\"tab1Root\" tabTitle=\"Trajets\" tabIcon=\"car\"&gt;&lt;/ion-tab&gt;\n  &lt;ion-tab [root]=\"tab2Root\" tabTitle=\"Demandes\" tabIcon=\"body\"&gt;&lt;/ion-tab&gt;\n  &lt;ion-tab [root]=\"tab3Root\" tabTitle=\"+ trajet\" tabIcon=\"create\"&gt;&lt;/ion-tab&gt;\n  &lt;ion-tab [root]=\"tab4Root\" tabTitle=\"+ demande\" tabIcon=\"add\"&gt;&lt;/ion-tab&gt;\n&lt;/ion-tabs&gt;\n</code></pre>\n\n<p>the problem is when I click for example on contact, which is in the side menu and not in the tabs, i get the contact page but without tab. \nI want to know how can i include the tab in all pages . Please help guys.</p>\n"}, {"tags": ["angular", "typescript", "angular5", "viewport", "meta-tags"], "answers": [{"comments": [{"owner": {"reputation": 1157, "user_id": 2387834, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5b677fec72f5fc60b3984a608fe22213?s=128&d=identicon&r=PG&f=1", "display_name": "sisimh", "link": "https://stackoverflow.com/users/2387834/sisimh"}, "edited": false, "score": 0, "creation_date": 1533078607, "post_id": 51623228, "comment_id": 90211748, "body": "this won&#39;t work. according to the link it is adding a script in the head in index.html, but in my case the index is shared between user side and admin side, I can not know which side I am on on the index.html file so my script would be applied to both modules."}, {"owner": {"reputation": 1089, "user_id": 5405968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TVcHU.jpg?s=128&g=1", "display_name": "Bennett Hardwick", "link": "https://stackoverflow.com/users/5405968/bennett-hardwick"}, "reply_to_user": {"reputation": 1157, "user_id": 2387834, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5b677fec72f5fc60b3984a608fe22213?s=128&d=identicon&r=PG&f=1", "display_name": "sisimh", "link": "https://stackoverflow.com/users/2387834/sisimh"}, "edited": false, "score": 0, "creation_date": 1533080596, "post_id": 51623228, "comment_id": 90212174, "body": "It does work. Did you try it? I&#39;ll update my answer with an example."}, {"owner": {"reputation": 1157, "user_id": 2387834, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5b677fec72f5fc60b3984a608fe22213?s=128&d=identicon&r=PG&f=1", "display_name": "sisimh", "link": "https://stackoverflow.com/users/2387834/sisimh"}, "edited": false, "score": 0, "creation_date": 1533081300, "post_id": 51623228, "comment_id": 90212290, "body": "yes it does thanks for the example, so it does not work to only remove the tag but I needed to set a new one! I did not use a timer and it works well, is there a reason why you added it?"}, {"owner": {"reputation": 1089, "user_id": 5405968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TVcHU.jpg?s=128&g=1", "display_name": "Bennett Hardwick", "link": "https://stackoverflow.com/users/5405968/bennett-hardwick"}, "reply_to_user": {"reputation": 1157, "user_id": 2387834, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5b677fec72f5fc60b3984a608fe22213?s=128&d=identicon&r=PG&f=1", "display_name": "sisimh", "link": "https://stackoverflow.com/users/2387834/sisimh"}, "edited": false, "score": 0, "creation_date": 1533081792, "post_id": 51623228, "comment_id": 90212379, "body": "I just used the timer to demonstrate the change. If you make the change in the constructor it will happen so fast you won&#39;t see it. Glad I helped!"}], "tags": [], "owner": {"reputation": 1089, "user_id": 5405968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TVcHU.jpg?s=128&g=1", "display_name": "Bennett Hardwick", "link": "https://stackoverflow.com/users/5405968/bennett-hardwick"}, "is_accepted": true, "score": 5, "last_activity_date": 1533080698, "last_edit_date": 1533080698, "creation_date": 1533077999, "answer_id": 51623228, "question_id": 51623086, "link": "https://stackoverflow.com/questions/51623086/conditional-viewport-meta-tag-in-index-html/51623228#51623228", "title": "conditional viewport meta tag in index.html", "body": "<p>It seems that you have to manually set the viewport to something else. Try removing the meta tag and setting it to something else, like in this example:</p>\n\n<p><a href=\"https://www.quirksmode.org/blog/archives/2011/06/dynamically_cha.html\" rel=\"noreferrer\">https://www.quirksmode.org/blog/archives/2011/06/dynamically_cha.html</a></p>\n\n<p>If you view the following example from mobile, it will show the response view first (set in the <code>index.html</code>) and then after 5 seconds it will show the desktop version.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Meta } from '@angular/platform-browser';\nimport { timer } from 'rxjs';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n})\nexport class AppComponent implements OnInit {\n  constructor(\n    private readonly meta: Meta\n  ) { }\n\n  ngOnInit(): void {\n    timer(5000).subscribe(() =&gt; {\n      this.meta.removeTag('name=\"viewport\"');\n      this.meta.addTag({ name: 'viewport', content: 'width=1000' })\n    })\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1157, "user_id": 2387834, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5b677fec72f5fc60b3984a608fe22213?s=128&d=identicon&r=PG&f=1", "display_name": "sisimh", "link": "https://stackoverflow.com/users/2387834/sisimh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 0, "accepted_answer_id": 51623228, "answer_count": 1, "score": 4, "last_activity_date": 1533111541, "creation_date": 1533076822, "last_edit_date": 1533111541, "question_id": 51623086, "link": "https://stackoverflow.com/questions/51623086/conditional-viewport-meta-tag-in-index-html", "title": "conditional viewport meta tag in index.html", "body": "<p>I have an angular module with two sub modules in it, one for user and the other for admin. of course they share the same <code>index.html</code> file. </p>\n\n<p>in my user module I would like to have the <code>&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;</code> in the <code>&lt;head&gt;&lt;/head&gt;</code> tags in <code>index.html</code></p>\n\n<p>While I want it to be removed in my admin module and just have the desktop view for phones as is.</p>\n\n<p>I tired to do this in the admin first component constructor : </p>\n\n<pre><code>import { Meta } from '@angular/platform-browser';\nthis.meta.removeTag('name=\"viewport\"'); \n</code></pre>\n\n<p>the tag is being removed but that is after the app started rendering with the existence of this meta tag since it is in <code>index.html</code> so it does not give the desired result</p>\n\n<p>any suggestions to have actually add this meta conditionally? \nthe hard part is that it should be in the head of index.html.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 4, "last_activity_date": 1533074551, "creation_date": 1533074551, "answer_id": 51622731, "question_id": 51622681, "link": "https://stackoverflow.com/questions/51622681/how-to-weaken-multiple-properties-of-a-type/51622731#51622731", "title": "How to &quot;weaken&quot; multiple properties of a type", "body": "<p>It looks like <code>Weaken</code> will do what you want if you pass it a union of the names of the properties you want to weaken, like this:</p>\n\n<pre><code>interface WeakenedType extends Weaken&lt;OriginalType, 'foo' | 'bar'&gt; {\n    foo?: FooEnum;\n    bar?: BarEnum;\n}\n</code></pre>\n"}], "owner": {"reputation": 1055, "user_id": 4028303, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/e8s9b.jpg?s=128&g=1", "display_name": "Jacob Stamm", "link": "https://stackoverflow.com/users/4028303/jacob-stamm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 51622731, "answer_count": 1, "score": 0, "last_activity_date": 1533074551, "creation_date": 1533074210, "question_id": 51622681, "link": "https://stackoverflow.com/questions/51622681/how-to-weaken-multiple-properties-of-a-type", "title": "How to &quot;weaken&quot; multiple properties of a type", "body": "<p>When working with autogenerated class/interface files (through something like Swagger Codegen), it often becomes necessary to modify these models. For instance, suppose you have an autogenerated <code>HighSchool</code> class.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export interface HighSchool {\n    schoolTypeCode: number;\n    name: string;\n    state: string;\n    city: string;\n}\n</code></pre>\n\n<p>Let's say we create an enum to make working with known <code>schoolTypeCode</code> values easy.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export const enum HighSchoolTypeCode {\n    USHighSchool,\n    GED,\n    OnlineSchool\n}\n</code></pre>\n\n<p>Rather than modifying the autogenerated <code>HighSchool</code> interface to use this enum, which will be overwritten once autogeneration is reexecuted, I can create my own <code>HighSchool</code> interface in a separate file and retype the <code>schoolTypeCode</code> by \"weakening\" it using a helper type, <a href=\"https://github.com/Microsoft/TypeScript/issues/3402#issuecomment-385975990\" rel=\"nofollow noreferrer\">as described in this GitHub issue response</a>.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export interface HighSchool extends Weaken&lt;HighSchool, 'schoolTypeCode'&gt; {\n  schoolTypeCode?: HighSchoolTypeCode;\n}\n</code></pre>\n\n<p>Here is the <code>Weaken</code> helper type:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>type Weaken&lt;T, K extends keyof T&gt; = {\n  [P in keyof T]?: P extends K ? any : T[P];\n};\n</code></pre>\n\n<p>The limitation here is that only one property can be weakened at a time. Can this helper type be reworked to take in an array of property names? While this syntax might not be correct, I'm imagining it being used something like this:</p>\n\n<pre><code>interface WeakenedType extends Weaken&lt;OriginalType, ['foo', 'bar']&gt; {\n    foo?: FooEnum;\n    bar?: BarEnum;\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 3, "last_activity_date": 1533074164, "creation_date": 1533074164, "answer_id": 51622675, "question_id": 51622646, "link": "https://stackoverflow.com/questions/51622646/typescript-object-with-known-properties-dynamically/51622675#51622675", "title": "Typescript object with known properties dynamically", "body": "<pre><code>const foo: (keyof typeof Enum)[] = [\"VAR1\", \"VAR2\"];\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10076275"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 51622675, "answer_count": 1, "score": 0, "last_activity_date": 1533074164, "creation_date": 1533074035, "question_id": 51622646, "link": "https://stackoverflow.com/questions/51622646/typescript-object-with-known-properties-dynamically", "title": "Typescript object with known properties dynamically", "body": "<p>I have a situation where I need to dynamically use an object property. Typescript doesn't like when I do that..</p>\n\n<p>The situation is similar as the one described above.</p>\n\n<p>How can I type check the <code>Enum[val]</code> or <code>foo</code> variable?</p>\n\n<pre><code>enum Enum {\n    VAR1 = \"A\",\n    VAR2 = \"B\",\n}\n\nconst foo = [\"VAR1\", \"VAR2\"];\nfoo.forEach(val =&gt; {\n    const a = Enum[val]; // Typescript doesn't like it (val implicitly has 'any' type...)\n    const b = Enum[val as any]; // This is \"OK\", but I use \"any\", which I'm trying to avoid.\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "asp.net-web-api2", "components"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533072603, "post_id": 51622245, "comment_id": 90210047, "body": "I checked one hunderd times <code>@NgModule({     imports: [BrowserModule],     declarations: [AppComponent, HomePage],     bootstrap: [AppComponent, HomePage] })</code> call: <code>&lt;home-page&gt;&lt;&#47;home-page&gt;</code> and declaration: `    selector: &#39;home-page&#39;, `"}, {"owner": {"reputation": 4053, "user_id": 2350799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/CaaDE.png?s=128&g=1", "display_name": "xcesco", "link": "https://stackoverflow.com/users/2350799/xcesco"}, "reply_to_user": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533072889, "post_id": 51622245, "comment_id": 90210149, "body": "In the console log it was written &#39;my-app&#39; is not recognized."}, {"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533073687, "post_id": 51622245, "comment_id": 90210409, "body": "I know but I don t call it anywhere"}, {"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533074099, "post_id": 51622245, "comment_id": 90210567, "body": "Yes. Nothing change."}, {"owner": {"reputation": 176, "user_id": 7677487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62571cb75114562ee6e36495f2f204d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sanju", "link": "https://stackoverflow.com/users/7677487/sanju"}, "edited": false, "score": 0, "creation_date": 1533075438, "post_id": 51622245, "comment_id": 90210989, "body": "Can you check whether the selector name in the app.component.ts is same as the   selector used in index.html?"}, {"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533075492, "post_id": 51622245, "comment_id": 90211015, "body": "I call <code>&lt;home-page&gt;&lt;&#47;home-page&gt;</code> in <code>app.component</code>. This work but I still can&#39;t run it alone. When I try it I have now error: <a href=\"https://imgur.com/a/8oRgeFD\" rel=\"nofollow noreferrer\">imgur.com/a/8oRgeFD</a>"}, {"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533075591, "post_id": 51622245, "comment_id": 90211052, "body": "I haven&#39;t got index.html just index.cshtml. I checed and I don&#39;t call it anywhere."}, {"owner": {"reputation": 176, "user_id": 7677487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62571cb75114562ee6e36495f2f204d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sanju", "link": "https://stackoverflow.com/users/7677487/sanju"}, "edited": false, "score": 0, "creation_date": 1533075683, "post_id": 51622245, "comment_id": 90211073, "body": "No, I mean, in the component declaration section of app.component.ts, there will be a selector, that will be associated with index.html. both need to be same. can you make sure you have one selector in app.component.ts and that you used in index.html."}, {"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533097105, "post_id": 51622245, "comment_id": 90215286, "body": "I haven&#39;t got index.html and I have only one selector in app.component.ts"}], "tags": [], "owner": {"reputation": 4053, "user_id": 2350799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/CaaDE.png?s=128&g=1", "display_name": "xcesco", "link": "https://stackoverflow.com/users/2350799/xcesco"}, "is_accepted": false, "score": 0, "last_activity_date": 1533072079, "creation_date": 1533072079, "answer_id": 51622245, "question_id": 51622172, "link": "https://stackoverflow.com/questions/51622172/can-not-run-component-angular2/51622245#51622245", "title": "Can not run component Angular2", "body": "<p>The error showed in the log, says that angular could not recognize the tag. Probably you have mistaken to write in html the component tag name.</p>\n\n<p>If the tag is correct, check if it is declared in the module.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533096935, "post_id": 51622899, "comment_id": 90215261, "body": "You are right! When I removed appComponent from bootstrap array, HomePage component call without any errors. So how is it correct? Now I can have just one component that I can call in module?"}, {"owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "reply_to_user": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533109619, "post_id": 51622899, "comment_id": 90220294, "body": "declarations  array : You can have as many components in a module as you wish as long you declare them here.  bootstrap array:  you specify your entry point component. Usually its the app.component. I suggest that you keep this component as your entry point and if you want to add more components like your home page component.  If you want the new components to be part of a new module declare them in that module. no need to add a bootstrap array there. just export those components in the sub modules and import them in the app module or any other module that uses them in its template."}, {"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533110003, "post_id": 51622899, "comment_id": 90220473, "body": "Okey but how I can store that components in array. I have <code>bootstrap: [...]</code> and what should I do with it?"}, {"owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "reply_to_user": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533110489, "post_id": 51622899, "comment_id": 90220752, "body": "I&#39;ll try to give e more comprehensive explanation: You write your components in a separate ts file.  if you want to encapsulate those components under a specific module - you need to declare them under the &#39;declarations&#39; array. this is how you tell angular&#39;s compiler that they should be bundled up as part of this module. Plus, you also need to tell angular which component is the entry point of the app. For the sake of simplicity , you usually write the app component there and thats it. I hope it answered your question."}, {"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533110946, "post_id": 51622899, "comment_id": 90220998, "body": "I understand but it means that I can call only one component wchich is included in bootstrap array?"}, {"owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "reply_to_user": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533111049, "post_id": 51622899, "comment_id": 90221048, "body": "You can use as many components as you want. you need to specify those components in a template - try to write your home page component inside the app component."}, {"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533111333, "post_id": 51622899, "comment_id": 90221212, "body": "HomePage component is only for one view. For other views I must add new modules and there include components?"}, {"owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "reply_to_user": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533113306, "post_id": 51622899, "comment_id": 90222301, "body": "No, you don&#39;t. For simplicity - keep all in the same app module.  If you want to use other views - you need to add routing: <a href=\"https://angular.io/guide/router\" rel=\"nofollow noreferrer\">angular.io/guide/router</a>"}, {"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533113409, "post_id": 51622899, "comment_id": 90222351, "body": "I dont want to use angular routing. I have controllers from webapi. Is it other option?"}, {"owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "reply_to_user": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533113718, "post_id": 51622899, "comment_id": 90222507, "body": "Yes, you can create a parent template - lets say in the home page. And there you can write a simple navigation bar with a simple list that changes the view state. I suggest that you close this question (the root problem was solved), and open a new one  (attach the link here) and i&#39;ll add a code snippet for you there."}, {"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533114784, "post_id": 51622899, "comment_id": 90223157, "body": "I understand now. I will add it soon. Thanks!"}, {"owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "edited": false, "score": 0, "creation_date": 1533138496, "post_id": 51622899, "comment_id": 90239320, "body": "<a href=\"https://stackoverflow.com/questions/51637430/connect-angular-routing-with-mvc-routing\" title=\"connect angular routing with mvc routing\">stackoverflow.com/questions/51637430/&hellip;</a> there is my new questions and problems"}], "tags": [], "owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "is_accepted": true, "score": 0, "last_activity_date": 1533075525, "creation_date": 1533075525, "answer_id": 51622899, "question_id": 51622172, "link": "https://stackoverflow.com/questions/51622172/can-not-run-component-angular2/51622899#51622899", "title": "Can not run component Angular2", "body": "<p>Can you share your code as a snippet:</p>\n\n<ol>\n<li><p>The app module file.</p></li>\n<li><p>The app component's markup and ts file.</p></li>\n<li><p>The home page component's markup and ts file.</p></li>\n</ol>\n\n<p>A few possible mistakes - from first glance:</p>\n\n<ol>\n<li><p>Did you write a selector of 'my-app' in the html file of the app component instead a selector of 'home-page'? </p></li>\n<li><p>It seems that you bootstrap 2 components in your app, please choose the relevant component: appComponent OR home page component in your bootstrap array.</p></li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 10157302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb4514433f0a55777775fe420e27f?s=128&d=identicon&r=PG&f=1", "display_name": "KamL", "link": "https://stackoverflow.com/users/10157302/kaml"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 51622899, "answer_count": 2, "score": 0, "last_activity_date": 1533078254, "creation_date": 1533071723, "last_edit_date": 1533078254, "question_id": 51622172, "link": "https://stackoverflow.com/questions/51622172/can-not-run-component-angular2", "title": "Can not run component Angular2", "body": "<p>I have set up new project in web api2 and as a framework, I want to use angular2. I configured project and add there quick start Angular. </p>\n\n<p>After running Home Page I saw what was expected. When I added new component and called it instead of <code>app.component</code>, I got a few errors in console. I looked up how to resolve my problem but nothing helped me.  </p>\n\n<p>This is the error which I get in console\n<a href=\"https://i.imgur.com/QcM1Eij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/QcM1Eij.png\" alt=\"error\"></a></p>\n\n<p>I have now idea what is wrong in this case.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 2170041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c6e610f3dc63c26f65ced639a0ed8e?s=128&d=identicon&r=PG", "display_name": "Tom F", "link": "https://stackoverflow.com/users/2170041/tom-f"}, "edited": false, "score": 0, "creation_date": 1533122526, "post_id": 51621905, "comment_id": 90228133, "body": "Thanks for the restructure suggestion. I read up on this.setState a little more and apparently you can&#39;t directly read from this.state when updating state. Instead you should use a function within this.setState with using prevState. Still not successful however. I&#39;ve updated the post.."}], "tags": [], "owner": {"reputation": 2359, "user_id": 4326715, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5f74p.jpg?s=128&g=1", "display_name": "Asleepace", "link": "https://stackoverflow.com/users/4326715/asleepace"}, "is_accepted": false, "score": 0, "last_activity_date": 1533070751, "last_edit_date": 1533070751, "creation_date": 1533070436, "answer_id": 51621905, "question_id": 51621800, "link": "https://stackoverflow.com/questions/51621800/react-this-state-not-updating-correctly-when-called-within-if-else-statement-wit/51621905#51621905", "title": "React this.state not updating correctly when called within if else statement with use of immutability-helper", "body": "<p>You can use a callback to ensure the <code>setState</code> has finished, for example:</p>\n\n<pre><code>addNewTabs(newOptions) {\n    this.setState({ options:newOptions }, () =&gt; {\n         console.log(\"Finished updating state:\", this.state);\n         // Do something with the updated state here...\n    });\n}\n</code></pre>\n\n<p>Try restructuring your code to something like this perhaps:</p>\n\n<pre><code>handleClick(e) {\n\n  var updatedState;\n\n  this.state.options.map((option, i) =&gt; {\n    const isSelected = option.optionName == e.target.id;\n    updatedState = update(this.state.options, {\n      [i]: {$set:{optionName: option.optionName, isSelected:isSelected}}\n    });  \n  });\n\n  this.setState({ options:updatedState }, () =&gt; {\n    console.log(updatedState);\n  });\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 2170041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c6e610f3dc63c26f65ced639a0ed8e?s=128&d=identicon&r=PG", "display_name": "Tom F", "link": "https://stackoverflow.com/users/2170041/tom-f"}, "edited": false, "score": 0, "creation_date": 1533149258, "post_id": 51633852, "comment_id": 90245065, "body": "Thank you @Parth Pandya. I used your code and it works as expected now! I am however not exactly sure why my own handleClick together with updateState does not work. It would be great if you could point out the exact mistakes / corrections I should make there in order for it to work with the immutability-helper update function. So I can use it somewhere next time."}, {"owner": {"reputation": 113, "user_id": 10026740, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SMRSMut9y8w/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq10uaMWLqNs2Pe9xcqAZklJbdjknw/mo/photo.jpg?sz=128", "display_name": "Parth Pandya", "link": "https://stackoverflow.com/users/10026740/parth-pandya"}, "reply_to_user": {"reputation": 3, "user_id": 2170041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c6e610f3dc63c26f65ced639a0ed8e?s=128&d=identicon&r=PG", "display_name": "Tom F", "link": "https://stackoverflow.com/users/2170041/tom-f"}, "edited": false, "score": 0, "creation_date": 1533193940, "post_id": 51633852, "comment_id": 90258705, "body": "The problem is that the updateState is called for every option in array of options. In updateState the setState method is taking previous state and changing only the value for the given index. Now suppose for true it has actually changed the state which you require. But this.setState is an asynchronous function which means it is not guaranteed that in the next iteration it will get the updated state. So the option for which the isSelected is false in handleClick, the updateState will probably take the state with initialized values in constructor and will just set false to the given index."}], "tags": [], "owner": {"reputation": 113, "user_id": 10026740, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SMRSMut9y8w/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq10uaMWLqNs2Pe9xcqAZklJbdjknw/mo/photo.jpg?sz=128", "display_name": "Parth Pandya", "link": "https://stackoverflow.com/users/10026740/parth-pandya"}, "is_accepted": true, "score": 0, "last_activity_date": 1533128107, "creation_date": 1533128107, "answer_id": 51633852, "question_id": 51621800, "link": "https://stackoverflow.com/questions/51621800/react-this-state-not-updating-correctly-when-called-within-if-else-statement-wit/51633852#51633852", "title": "React this.state not updating correctly when called within if else statement with use of immutability-helper", "body": "<p>First of all the map function returns an array. You should use forEach if you do not want to return anything from inside. </p>\n\n<p>Secondly in constructor you should avoid using this.props because you are already getting props. Use that one.</p>\n\n<p>At last you can do the following in handleClick method</p>\n\n<pre><code>handleClick(e) {\n    const options = this.state.options.map((option, i) =&gt; {\n\n        var isSelected = option.optionName === e.target.id;\n        return {optionName: option.optionName, isSelected: isSelected}\n    });\n    this.setState({options})\n  }\n</code></pre>\n\n<p>Also you can modify the constructor as follows</p>\n\n<pre><code>constructor(props){\n    super(props)\n\n    var options = props.options.map((option) =&gt; {\n\n        var isSelected = (option == this.props.selected)\n        return {\n            optionName: option,\n            isSelected: isSelected\n        }\n\n    })\n\n    this.state = {\n        options: options\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 2170041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c6e610f3dc63c26f65ced639a0ed8e?s=128&d=identicon&r=PG", "display_name": "Tom F", "link": "https://stackoverflow.com/users/2170041/tom-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 51633852, "answer_count": 2, "score": 0, "last_activity_date": 1533128107, "creation_date": 1533069912, "last_edit_date": 1533122331, "question_id": 51621800, "link": "https://stackoverflow.com/questions/51621800/react-this-state-not-updating-correctly-when-called-within-if-else-statement-wit", "title": "React this.state not updating correctly when called within if else statement with use of immutability-helper", "body": "<p>I'm trying to create a simple horizontal tab bar component. If a user clicks on a tab, some logic is carried out by the container. </p>\n\n<p>The tab states are tracked in the container through <em>this.state</em>. One of the props of the container is an array called 'options'. The length dictates the amount of tabs in the tab bar. </p>\n\n<pre><code>constructor(props){\n        super(props)\n\n        var arrayWithTabs = []\n        var isSelected;\n\n        this.props.options.map((option, i) =&gt; {\n\n            if (option == this.props.selected){\n                isSelected = true\n            } else {\n                isSelected = false \n            }\n            var tabObject = {\n                optionName: option,\n                isSelected: isSelected\n            }\n            arrayWithTabs.push(tabObject)\n\n        })\n\n        this.state = {\n            options: arrayWithTabs,\n        }\n</code></pre>\n\n<p>Whenever a user clicks the handleClick is fired:</p>\n\n<pre><code>     updateState = (index,isSelected) =&gt; {\n        this.setState((prevState) =&gt; {\n            return update(prevState.options,{\n                [index]: {\n                    isSelected:{$set: isSelected}\n                }\n            })\n        })\n    }\n\n    handleClick(e) {\n        this.state.options.map((option, i) =&gt; {\n\n            const isSelected = option.optionName == e.target.id;\n\n            this.updateState(i, isSelected);\n        })     \n      }\n\n\n    componentDidUpdate(){\n        console.log(this.state.options)\n    }\n</code></pre>\n\n<p>In order to handle the async behaviour of setState I read you should never directly read from this.state but to create a function within setState which takes in prevState. </p>\n\n<p>However, when clicking on any tab, componetDidUpdate() returns the following:</p>\n\n<p>[{optionName: \"Tab1\", isSelected: false}<br>\n{optionName: \"Tab2\", isSelected: false}]</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 0, "creation_date": 1533070512, "post_id": 51621249, "comment_id": 90209339, "body": "<a href=\"https://www.learnrxjs.io/operators/transformation/partition.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/transformation/partition.html</a>"}, {"owner": {"reputation": 131, "user_id": 9333900, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1b2882efa8e0ba24d37d845ec9ca6304?s=128&d=identicon&r=PG&f=1", "display_name": "Connie DeCinko CS", "link": "https://stackoverflow.com/users/9333900/connie-decinko-cs"}, "reply_to_user": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 0, "creation_date": 1533071891, "post_id": 51621249, "comment_id": 90209837, "body": "@peinearydevelopment Interesting information, but I still cannot figure out how to react based upon a value in one of the columns of data of a row being returned.  The API returns a record with 7 properties, how do I react based on the value of one of those properties?  The examples all seem to show the record only have a single property."}], "answers": [{"tags": [], "owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "is_accepted": false, "score": 0, "last_activity_date": 1533072207, "creation_date": 1533072207, "answer_id": 51622279, "question_id": 51621249, "link": "https://stackoverflow.com/questions/51621249/filter-api-data-in-angular-6-service/51622279#51622279", "title": "Filter api data in Angular 6 service", "body": "<p>Without having a clear view of your data structure and application, this becomes difficult to answer. Based on your question and comment, I would assume you would need something like the following:</p>\n\n<pre><code>return this.http\n           .get(API_URL + 'PatchGroups/ForApp/' + appId)\n           .pipe(\n             partition(patchGroup =&gt; patchGroup.id &gt; 0),  // where id &gt; 0\n             catchError(this.handleError)\n           );\n</code></pre>\n\n<p>The partition method takes a predicate, which is a function that is applied to every item in the iterable.</p>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 9333900, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1b2882efa8e0ba24d37d845ec9ca6304?s=128&d=identicon&r=PG&f=1", "display_name": "Connie DeCinko CS", "link": "https://stackoverflow.com/users/9333900/connie-decinko-cs"}, "edited": false, "score": 0, "creation_date": 1533129136, "post_id": 51623222, "comment_id": 90232641, "body": "Hmm, this looks promising, but need to adjust data.filter to data.json().filter."}, {"owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "reply_to_user": {"reputation": 131, "user_id": 9333900, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1b2882efa8e0ba24d37d845ec9ca6304?s=128&d=identicon&r=PG&f=1", "display_name": "Connie DeCinko CS", "link": "https://stackoverflow.com/users/9333900/connie-decinko-cs"}, "edited": false, "score": 0, "creation_date": 1533129543, "post_id": 51623222, "comment_id": 90232945, "body": "Modified the answer for you, HTH"}, {"owner": {"reputation": 131, "user_id": 9333900, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1b2882efa8e0ba24d37d845ec9ca6304?s=128&d=identicon&r=PG&f=1", "display_name": "Connie DeCinko CS", "link": "https://stackoverflow.com/users/9333900/connie-decinko-cs"}, "edited": false, "score": 0, "creation_date": 1533131333, "post_id": 51623222, "comment_id": 90234272, "body": "Unable to assign the second one, shows as type any instead of strongly typed.  `  ngOnInit() {     this.appsApiService.getPatchGroups()       .subscribe(pg =&gt; this.ungrouped_patchGroups = pg.ungrouped,         pg =&gt; this.grouped_patchGroups = pg.grouped);   } `"}, {"owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "reply_to_user": {"reputation": 131, "user_id": 9333900, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1b2882efa8e0ba24d37d845ec9ca6304?s=128&d=identicon&r=PG&f=1", "display_name": "Connie DeCinko CS", "link": "https://stackoverflow.com/users/9333900/connie-decinko-cs"}, "edited": false, "score": 1, "creation_date": 1533131685, "post_id": 51623222, "comment_id": 90234535, "body": "Modified once again"}], "tags": [], "owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "is_accepted": true, "score": 1, "last_activity_date": 1533131674, "last_edit_date": 1533131674, "creation_date": 1533077954, "answer_id": 51623222, "question_id": 51621249, "link": "https://stackoverflow.com/questions/51621249/filter-api-data-in-angular-6-service/51623222#51623222", "title": "Filter api data in Angular 6 service", "body": "<p>How about having just one API call and return object?</p>\n\n<pre><code>getPatchGroups(): Observable&lt;{less: PatchGroup[], more: PatchGroup[]}&gt; {\nreturn this.http\n  .get(API_URL + 'PatchGroups/ForApp/' + appId)\n  .pipe(\n    map(data =&gt; {\n       const jsonData = data.json();\n       return {less: jsonData.filter(d =&gt; d.id &lt; 0), more: jsonData.filter(d =&gt; d.id &gt; 0)};\n    }),\n    catchError(this.handleError)\n  );\n}\n</code></pre>\n\n<p>Edit: And in the component, based on code posted to comment you seem to rename <code>more</code> and <code>less</code> to <code>grouped</code> and <code>ungrouped</code>:</p>\n\n<pre><code> ngOnInit() {\n   this.appsApiService.getPatchGroups().subscribe(pg =&gt; {\n     this.ungrouped_patchGroups = pg.ungrouped;\n     this.grouped_patchGroups = pg.grouped;\n });\n</code></pre>\n\n<p>Alternatively have 2 subjects in the service for \"less\" and \"more\", update them in <code>tap</code> or rather <code>subscribe</code> after API call and listen to observables created from those SubjectS.</p>\n"}], "owner": {"reputation": 131, "user_id": 9333900, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1b2882efa8e0ba24d37d845ec9ca6304?s=128&d=identicon&r=PG&f=1", "display_name": "Connie DeCinko CS", "link": "https://stackoverflow.com/users/9333900/connie-decinko-cs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6066, "favorite_count": 0, "accepted_answer_id": 51623222, "answer_count": 2, "score": 0, "last_activity_date": 1533131674, "creation_date": 1533067568, "last_edit_date": 1533074499, "question_id": 51621249, "link": "https://stackoverflow.com/questions/51621249/filter-api-data-in-angular-6-service", "title": "Filter api data in Angular 6 service", "body": "<p>All the examples still refer to Angular 2 methods and NG6 uses pipe for data calls within a service.</p>\n\n<p>This basic method in my service gets all of the data returned by the API:</p>\n\n<pre><code>  getPatchGroups(): Observable&lt;PatchGroup[]&gt; {\n    return this.http\n      .get(API_URL + 'PatchGroups/ForApp/' + appId)\n      .pipe(\n        map(this.extractData),\n        catchError(this.handleError)\n      );\n  }\n</code></pre>\n\n<p>Now, I need to split this up so that I have a call that returns anything with an id of -1 and a call that gets everything else.  I need to display the two groups of data in different areas of the page.</p>\n\n<pre><code>  getUngroupedPatchGroups(): Observable&lt;PatchGroup[]&gt; {\n    return this.http\n      .get(API_URL + 'PatchGroups/ForApp/' + appId)\n      .pipe(\n        map(this.extractData),  // where id &lt; 0\n        catchError(this.handleError)\n      );\n  }\n\n  getGroupedPatchGroups(): Observable&lt;PatchGroup[]&gt; {\n    return this.http\n      .get(API_URL + 'PatchGroups/ForApp/' + appId)\n      .pipe(\n        map(this.extractData),  // where id &gt; 0\n        catchError(this.handleError)\n      );\n  }\n</code></pre>\n\n<p>It feels dirty to filter in the component but that would be one way... create a custom pipe and apply to the ngFor.  Would performance, etc. be better to create two functions and apply a filter to each?  What is the correct format for NG 6.1.1?</p>\n\n<p>EDIT\nIf I add the filter to the extraData I get the results I expect.  However, Response is deprecated and body is shadow named?  How do I fix this?</p>\n\n<pre><code>  private extractData(resp: Response) {\n    const body = resp.json();\n    return body.filter(body =&gt; body.id &gt; 0);\n  }\n</code></pre>\n"}]