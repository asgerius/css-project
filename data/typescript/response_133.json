[{"tags": ["javascript", "typescript", "asynchronous", "rxjs", "observable"], "comments": [{"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501114240, "post_id": 45339146, "comment_id": 77640588, "body": "Is the data from both observables processed the same way?"}, {"owner": {"reputation": 301, "user_id": 1532730, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6LvkK.png?s=128&g=1", "display_name": "iamart", "link": "https://stackoverflow.com/users/1532730/iamart"}, "reply_to_user": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501114587, "post_id": 45339146, "comment_id": 77640670, "body": "@0mpurdy no, that&#39;s why I had to split them."}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501115025, "post_id": 45339146, "comment_id": 77640776, "body": "Sorry, I completely misread the question (it&#39;s late here) You could use <a href=\"http://reactivex.io/documentation/operators/merge.html\" rel=\"nofollow noreferrer\">merge</a> and do <code>onLoad</code> when the merged observable completes (you&#39;d just be ignoring the merged stream I think) <a href=\"http://rxmarbles.com/#merge\" rel=\"nofollow noreferrer\">Rx marbles</a> try dragging the marbles (including the complete) to see what would happen. Is that what you&#39;re asking? I&#39;d better check before posting an answer in case I&#39;ve got it wrong again!"}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 1532730, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6LvkK.png?s=128&g=1", "display_name": "iamart", "link": "https://stackoverflow.com/users/1532730/iamart"}, "edited": false, "score": 0, "creation_date": 1501129963, "post_id": 45339464, "comment_id": 77644406, "body": "Muchos kudos! :)"}], "tags": [], "owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "is_accepted": true, "score": 4, "last_activity_date": 1501115400, "creation_date": 1501115400, "answer_id": 45339464, "question_id": 45339146, "link": "https://stackoverflow.com/questions/45339146/processing-result-from-multiple-observables-to-database-and-adding-to-database-o/45339464#45339464", "title": "Processing result from multiple observables to database and adding to database once", "body": "\n\n<p>You can use <code>forkJoin</code> to simplify the implementation.</p>\n\n<p><code>forkJoin</code> takes a number of observables and emits an array containing their last-emitted values when all of the observables have completed.</p>\n\n<p>Also, you can use <code>mergeMap</code> to compose the promise returned by the <code>update</code> call into the observable stream.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/forkJoin';\nimport 'rxjs/add/operator/mergeMap';\n\nObservable.forkJoin(\n  this.getData(this.id),\n  this.getAnotherData(this.id)\n)\n.mergeMap(([data, anotherData]) =&gt; {\n  this.data = data;\n  this.data.another = anotherData;\n  return firebase\n    .database()\n    .ref('/test/' + this.channel.id)\n    .update(this.data);\n})\n.subscribe(undefined, this.onError);\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 1532730, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6LvkK.png?s=128&g=1", "display_name": "iamart", "link": "https://stackoverflow.com/users/1532730/iamart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 45339464, "answer_count": 1, "score": 0, "last_activity_date": 1501148393, "creation_date": 1501112809, "last_edit_date": 1501148393, "question_id": 45339146, "link": "https://stackoverflow.com/questions/45339146/processing-result-from-multiple-observables-to-database-and-adding-to-database-o", "title": "Processing result from multiple observables to database and adding to database once", "body": "<p>I need to process 2 different API data results I get by observable with getData() and getAnotherData() and save the result to the database.\nI don't like the way I have to check when both observable's data are processed. Is there anything you would do differently?</p>\n\n<pre><code>import { Observable } from 'rxjs/Rx';\n\nclass dataClass {\n  data: any;\n  id: string;\n\n  constructor (id) {\n    this.id = id;\n    this.proccess()\n  }\n\n  proccess() {\n    let i = 0;\n    this.getData(this.id).subscribe(\n      res =&gt; {\n        this.data = {\n          // process API data\n        }\n      }, \n      undefined, \n      () =&gt; this.onLoad(++i)\n    );\n    this.getAnotherData(this.id).subscribe(\n      res =&gt; {\n        this.data.another = {\n          // process API data\n        }\n      }, \n      undefined, \n      () =&gt; this.onLoad(++i)\n    );\n  }\n\n  getData(id):Observable&lt;any&gt; {\n    // return JSON API obserable\n  }\n\n  getAnotherData(id):Observable&lt;any&gt; {\n    // return JSON API obserable\n  }\n\n  onLoad(i) {\n    if (i == 2) {\n      // send processed data back to db\n      firebase.database()\n        .ref('/test/' + this.channel.id)\n        .update(this.data, this.onError);\n    }\n    return;\n  }\n\n  onError(error) {\n    if (error) {\n      console.error('Error: ' + error);\n    } else {\n      console.log(\"Data saved successfully.\");\n    }\n  }\n}\nvar adm = new dataClass(\"id\");\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 16, "creation_date": 1501112634, "post_id": 45339065, "comment_id": 77640233, "body": "Either you want <code>user</code> to be of type <code>User | {}</code> or <code>Partial&lt;User&gt;</code>, or you need to redefine the <code>User</code> type to allow an empty object.  Right now, the compiler is correctly telling you that <code>user</code> is not a <code>User</code>."}], "answers": [{"comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 9, "creation_date": 1512502540, "post_id": 45339463, "comment_id": 82281699, "body": "Thank you! This solves it! This should be marked as the correct answer..."}, {"owner": {"reputation": 378, "user_id": 1028935, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f2ba5841786db1dae4747bfd40cb791f?s=128&d=identicon&r=PG", "display_name": "Ian Liu Rodrigues", "link": "https://stackoverflow.com/users/1028935/ian-liu-rodrigues"}, "edited": false, "score": 3, "creation_date": 1560191535, "post_id": 45339463, "comment_id": 99646733, "body": "I don&#39;t think this should be considered a proper answer because it creates an inconsistent instance of the type, undermining the whole purpose of TypeScript. In this example, the property <code>Username</code> is left undefined, while the type annotation is saying it can&#39;t be undefined."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 378, "user_id": 1028935, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f2ba5841786db1dae4747bfd40cb791f?s=128&d=identicon&r=PG", "display_name": "Ian Liu Rodrigues", "link": "https://stackoverflow.com/users/1028935/ian-liu-rodrigues"}, "edited": false, "score": 2, "creation_date": 1560196660, "post_id": 45339463, "comment_id": 99648846, "body": "Good point @IanLiuRodrigues. I added some caveats to the answer."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 378, "user_id": 1028935, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f2ba5841786db1dae4747bfd40cb791f?s=128&d=identicon&r=PG", "display_name": "Ian Liu Rodrigues", "link": "https://stackoverflow.com/users/1028935/ian-liu-rodrigues"}, "edited": false, "score": 1, "creation_date": 1560266902, "post_id": 45339463, "comment_id": 99675914, "body": "@IanLiuRodrigues One of the goals of TypeScript is to balance correctness with productivity, so to say that this <i>undermines the whole purpose of TypeScript</i> is a bit extreme. <a href=\"https://github.com/Microsoft/TypeScript/wiki/TypeScript-Design-Goals\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/TypeScript-Design-Goals</a>"}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 215, "last_activity_date": 1560266747, "last_edit_date": 1592644375, "creation_date": 1501115395, "answer_id": 45339463, "question_id": 45339065, "link": "https://stackoverflow.com/questions/45339065/typescript-empty-object-for-a-typed-variable/45339463#45339463", "title": "Typescript empty object for a typed variable", "body": "<h1>Caveats</h1>\n<p>Here are two worthy caveats from the comments.</p>\n<blockquote>\n<p>Either you want user to be of type <code>User | {}</code> or <code>Partial&lt;User&gt;</code>, or you need to redefine the <code>User</code> type to allow an empty object. Right now, the compiler is correctly telling you that user is not a User. \u2013 <code>jcalz</code></p>\n<p>I don't think this should be considered a proper answer because it creates an inconsistent instance of the type, undermining the whole purpose of TypeScript. In this example, the property <code>Username</code> is left undefined, while the type annotation is saying it can't be undefined. \u2013 <code>Ian Liu Rodrigues</code></p>\n</blockquote>\n<h1>Answer</h1>\n<p>One of the <a href=\"https://github.com/Microsoft/TypeScript/wiki/TypeScript-Design-Goals\" rel=\"noreferrer\">design goals of TypeScript</a> is to <em>&quot;strike a balance between correctness and productivity.&quot;</em> If it will be productive for you to do this, use <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\" rel=\"noreferrer\">Type Assertions</a> to create empty objects for typed variables.</p>\n<pre><code>type User = {\n    Username: string;\n    Email: string;\n}\n\nconst user01 = {} as User;\nconst user02 = &lt;User&gt;{};\n\nuser01.Email = &quot;foo@bar.com&quot;;\n</code></pre>\n<p>Here is <a href=\"http://www.typescriptlang.org/play/#src=type%20User%20%3D%20%7B%0D%0A%20%20%20%20Username%3A%20string%3B%0D%0A%20%20%20%20Email%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Aconst%20user01%20%3D%20%7B%7D%20as%20User%3B%0D%0Aconst%20user02%20%3D%20%3CUser%3E%7B%7D%3B%0D%0A%0D%0Auser01.Email%20%3D%20%22foo%40bar.com%22%3B\" rel=\"noreferrer\">a working example for you</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/m399C.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/m399C.png\" alt=\"Here are type assertions working with suggestion.\" /></a></p>\n"}, {"comments": [{"owner": {"reputation": 1444, "user_id": 188870, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f1945436277d2a4ae7ba54e77cdeb853?s=128&d=identicon&r=PG", "display_name": "unflores", "link": "https://stackoverflow.com/users/188870/unflores"}, "edited": false, "score": 0, "creation_date": 1538387022, "post_id": 45339679, "comment_id": 92111617, "body": "Not sure if this is what he is going for or not, but it is possible that we are talking about a seperate argument called UserAttributes or something that handles incoming parameters. It might not be an acceptable user object, and thus it could be defined seperately."}, {"owner": {"reputation": 327, "user_id": 353145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IZtbO.png?s=128&g=1", "display_name": "thargenediad", "link": "https://stackoverflow.com/users/353145/thargenediad"}, "edited": false, "score": 0, "creation_date": 1555007153, "post_id": 45339679, "comment_id": 97968869, "body": "This should not be the accepted answer.  Please see Shaun Luttin&#39;s post below."}], "tags": [], "owner": {"reputation": 1160, "user_id": 2130130, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/32f5b3b60c6dcc54b25397e2f2d5c0e3?s=128&d=identicon&r=PG", "display_name": "pixelpax", "link": "https://stackoverflow.com/users/2130130/pixelpax"}, "is_accepted": false, "score": 22, "last_activity_date": 1501117097, "creation_date": 1501117097, "answer_id": 45339679, "question_id": 45339065, "link": "https://stackoverflow.com/questions/45339065/typescript-empty-object-for-a-typed-variable/45339679#45339679", "title": "Typescript empty object for a typed variable", "body": "<p>Really depends on what you're trying to do. Types are documentation in typescript, so you want to show intention about how this thing is supposed to be used when you're creating the type. </p>\n\n<h1>Option 1: If Users might have some but not all of the attributes during their lifetime</h1>\n\n<p>Make all attributes optional</p>\n\n<pre><code>type User = {\n  attr0?: number\n  attr1?: string\n}\n</code></pre>\n\n<h1>Option 2: If variables containing Users may begin null</h1>\n\n<pre><code>type User = {\n...\n}\nlet u1: User = null;\n</code></pre>\n\n<p>Though, really, here if the point is to declare the User object before it can be known what will be assigned to it, you probably want to do <code>let u1:User</code> without any assignment. </p>\n\n<h1>Option 3: What you probably want</h1>\n\n<p>Really, the premise of typescript is to make sure that you are conforming to the mental model you outline in types in order to avoid making mistakes. If you want to add things to an object one-by-one, this is a habit that TypeScript is trying to get you not to do. </p>\n\n<p>More likely, you want to make some local variables, then assign to the User-containing variable when it's ready to be a full-on User. That way you'll never be left with a partially-formed User. Those things are gross.</p>\n\n<pre><code>let attr1: number = ...\nlet attr2: string = ...\nlet user1: User = {\n  attr1: attr1,\n  attr2: attr2\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1127, "user_id": 2481778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b7863d50488e87e9f5f63db7e7eac53?s=128&d=identicon&r=PG", "display_name": "CatalinBerta", "link": "https://stackoverflow.com/users/2481778/catalinberta"}, "is_accepted": false, "score": 1, "last_activity_date": 1576053598, "creation_date": 1576053598, "answer_id": 59281738, "question_id": 45339065, "link": "https://stackoverflow.com/questions/45339065/typescript-empty-object-for-a-typed-variable/59281738#59281738", "title": "Typescript empty object for a typed variable", "body": "<p>If you declare an empty object literal and then assign values later on, then you can consider those values optional (may or may not be there), so just type them as optional with a question mark:</p>\n\n<pre><code>type User = {\n    Username?: string;\n    Email?: string;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198, "user_id": 7468924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7teJX.jpg?s=128&g=1", "display_name": "Nazehs", "link": "https://stackoverflow.com/users/7468924/nazehs"}, "is_accepted": false, "score": 2, "last_activity_date": 1587781295, "creation_date": 1587781295, "answer_id": 61420198, "question_id": 45339065, "link": "https://stackoverflow.com/questions/45339065/typescript-empty-object-for-a-typed-variable/61420198#61420198", "title": "Typescript empty object for a typed variable", "body": "<p>you can do this as below in typescript</p>\n\n<pre><code> const _params = {} as any;\n\n _params.name ='nazeh abel'\n</code></pre>\n\n<p>since typescript does not behave like javascript so we have to make the type as any otherwise it won't allow you to assign property dynamically to an object</p>\n"}, {"tags": [], "owner": {"reputation": 26971, "user_id": 3073272, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hofYF.jpg?s=128&g=1", "display_name": "GorvGoyl", "link": "https://stackoverflow.com/users/3073272/gorvgoyl"}, "is_accepted": false, "score": 3, "last_activity_date": 1592525084, "last_edit_date": 1592525084, "creation_date": 1592523911, "answer_id": 62461125, "question_id": 45339065, "link": "https://stackoverflow.com/questions/45339065/typescript-empty-object-for-a-typed-variable/62461125#62461125", "title": "Typescript empty object for a typed variable", "body": "<p>Note that using <code>const user = {} as UserType</code> just provides intellisense but at runtime <code>user</code> is empty object <code>{}</code> and has no property inside. that means <code>user.Email</code> will give <code>undefined</code> instead of <code>\"\"</code></p>\n\n<pre><code>type UserType = {\n    Username: string;\n    Email: string;\n}\n</code></pre>\n\n<p>So, use <code>class</code> with <code>constructor</code> for actually creating objects with default properties.</p>\n\n<pre><code>type UserType = {\n  Username: string;\n  Email: string;\n};\n\nclass User implements UserType {\n  constructor() {\n    this.Username = \"\";\n    this.Email = \"\";\n  }\n\n  Username: string;\n  Email: string;\n}\n\nconst myUser = new User();\nconsole.log(myUser); // output: {Username: \"\", Email: \"\"}\nconsole.log(\"val: \"+myUser.Email); // output: \"\"\n</code></pre>\n\n<p><strong>You can also use <code>interface</code> instead of <code>type</code></strong></p>\n\n<pre><code>interface UserType {\n  Username: string;\n  Email: string;\n};\n</code></pre>\n\n<p>...and rest of code remains same.</p>\n\n<hr>\n\n<p>Actually, you can even skip the <code>constructor</code> part and use it like this:</p>\n\n<pre><code>class User implements UserType {\n      Username = \"\"; // will be added to new obj\n      Email: string; // will not be added\n}\n\nconst myUser = new User();\nconsole.log(myUser); // output: {Username: \"\"}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 843, "user_id": 521752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fXhmt.png?s=128&g=1", "display_name": "YLR", "link": "https://stackoverflow.com/users/521752/ylr"}, "edited": false, "score": 4, "creation_date": 1612965470, "post_id": 66137612, "comment_id": 116930200, "body": "Add some explanation to your answer please"}], "tags": [], "owner": {"reputation": 1, "user_id": 4246203, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003961492675/picture?type=large", "display_name": "Amit Punekar", "link": "https://stackoverflow.com/users/4246203/amit-punekar"}, "is_accepted": false, "score": 0, "last_activity_date": 1612962885, "creation_date": 1612962885, "answer_id": 66137612, "question_id": 45339065, "link": "https://stackoverflow.com/questions/45339065/typescript-empty-object-for-a-typed-variable/66137612#66137612", "title": "Typescript empty object for a typed variable", "body": "<pre><code>user: USER\n\nthis.user = ({} as USER)\n</code></pre>\n"}], "owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113734, "favorite_count": 11, "accepted_answer_id": 45339463, "answer_count": 6, "score": 102, "last_activity_date": 1612962885, "creation_date": 1501112271, "last_edit_date": 1591661843, "question_id": 45339065, "link": "https://stackoverflow.com/questions/45339065/typescript-empty-object-for-a-typed-variable", "title": "Typescript empty object for a typed variable", "body": "<p>Say I have:</p>\n\n<pre><code>type User = {\n...\n}\n</code></pre>\n\n<p>I want to create a new <code>user</code> but set it to be an empty object:</p>\n\n<pre><code>const user: User = {}; // This fails saying property XX is missing\nconst user: User = {} as any; // This works but I don't want to use any\n</code></pre>\n\n<p>How do I do this? I don't want the variable to be <code>null</code>.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501110948, "post_id": 45338851, "comment_id": 77639786, "body": "I don&#39;t know if it&#39;s related to the problem you&#39;re having but <code>this._state = this._state;</code> looks redundant - should that be <code>this._state = _state;</code>?"}, {"owner": {"reputation": 503, "user_id": 886135, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f9f45f4ae30cbaf35064f1d16e8fc498?s=128&d=identicon&r=PG", "display_name": "alacret", "link": "https://stackoverflow.com/users/886135/alacret"}, "reply_to_user": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501111257, "post_id": 45338851, "comment_id": 77639881, "body": "@0mpurdy it was an error form one of the implementations that i tried"}, {"owner": {"reputation": 503, "user_id": 886135, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f9f45f4ae30cbaf35064f1d16e8fc498?s=128&d=identicon&r=PG", "display_name": "alacret", "link": "https://stackoverflow.com/users/886135/alacret"}, "reply_to_user": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501111763, "post_id": 45338851, "comment_id": 77639992, "body": "Already tried without being an abstract class and it does not work"}, {"owner": {"reputation": 503, "user_id": 886135, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f9f45f4ae30cbaf35064f1d16e8fc498?s=128&d=identicon&r=PG", "display_name": "alacret", "link": "https://stackoverflow.com/users/886135/alacret"}, "reply_to_user": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501114183, "post_id": 45338851, "comment_id": 77640579, "body": "I try like 9 other solutions that include, non abstract extension, constructor in super class, assigning in the constructor of sub class"}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 1, "creation_date": 1501114302, "post_id": 45338851, "comment_id": 77640603, "body": "Have you tried removing most of the code down to the bare minimum to reproduce the problem? This will make it easier to answer and also in the process you might solve your own problem! <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 503, "user_id": 886135, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f9f45f4ae30cbaf35064f1d16e8fc498?s=128&d=identicon&r=PG", "display_name": "alacret", "link": "https://stackoverflow.com/users/886135/alacret"}, "reply_to_user": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501114401, "post_id": 45338851, "comment_id": 77640622, "body": "Yes, i already create another class for isolating the problem with just one method that does a console.log and it does not work. I will publish the update @0mpurdy"}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501115180, "post_id": 45338851, "comment_id": 77640802, "body": "Thanks for adding that @alacret however it&#39;s very late here - hopefully someone will get this answered before tomorrow otherwise I&#39;ll tackle it then!"}], "answers": [{"comments": [{"owner": {"reputation": 503, "user_id": 886135, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f9f45f4ae30cbaf35064f1d16e8fc498?s=128&d=identicon&r=PG", "display_name": "alacret", "link": "https://stackoverflow.com/users/886135/alacret"}, "edited": false, "score": 0, "creation_date": 1501111369, "post_id": 45338924, "comment_id": 77639913, "body": "Already tried that, i actually put abstract into properties after tried without &quot;abstract&quot; keyword."}, {"owner": {"reputation": 503, "user_id": 886135, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f9f45f4ae30cbaf35064f1d16e8fc498?s=128&d=identicon&r=PG", "display_name": "alacret", "link": "https://stackoverflow.com/users/886135/alacret"}, "edited": false, "score": 0, "creation_date": 1501111405, "post_id": 45338924, "comment_id": 77639921, "body": "this._state = this._state was an error from one of the times. I fixed now."}, {"owner": {"reputation": 503, "user_id": 886135, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f9f45f4ae30cbaf35064f1d16e8fc498?s=128&d=identicon&r=PG", "display_name": "alacret", "link": "https://stackoverflow.com/users/886135/alacret"}, "edited": false, "score": 0, "creation_date": 1501111432, "post_id": 45338924, "comment_id": 77639926, "body": "AlbumService.name is the name of the class. It works in the subclass, but not when calling the methods defined in the Super class"}], "tags": [], "owner": {"reputation": 1202, "user_id": 6728516, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gx2luTSIFDY/AAAAAAAAAAI/AAAAAAAABno/hWQIx3kF7ZU/photo.jpg?sz=128", "display_name": "RichGoldMD", "link": "https://stackoverflow.com/users/6728516/richgoldmd"}, "is_accepted": false, "score": 0, "last_activity_date": 1501133070, "last_edit_date": 1501133070, "creation_date": 1501111078, "answer_id": 45338924, "question_id": 45338851, "link": "https://stackoverflow.com/questions/45338851/typescript-accessing-public-protected-members-from-abstract-class/45338924#45338924", "title": "Typescript: accessing public / protected members from abstract class", "body": "<ol>\n<li><p>Remove <code>abstract</code> from the properties:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>protected abstract readonly TAG: any;\nprotected abstract _state: GlobalState;\n</code></pre></li>\n<li><p><code>this._state = this._state</code> should probably be <code>this._state = _state;</code></p></li>\n<li><code>AlbumService.name</code> does not appear to be defined anywhere.</li>\n</ol>\n\n<p>So you are assigning <em>undefined</em> <code>this._state</code> to <code>this._state</code>, leaving it <em>undefined</em>, and assigning <code>underfined</code> <code>AlbumService.name</code> to <code>TAG</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 503, "user_id": 886135, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f9f45f4ae30cbaf35064f1d16e8fc498?s=128&d=identicon&r=PG", "display_name": "alacret", "link": "https://stackoverflow.com/users/886135/alacret"}, "is_accepted": false, "score": 0, "last_activity_date": 1501173833, "last_edit_date": 1501173833, "creation_date": 1501116485, "answer_id": 45339593, "question_id": 45338851, "link": "https://stackoverflow.com/questions/45338851/typescript-accessing-public-protected-members-from-abstract-class/45339593#45339593", "title": "Typescript: accessing public / protected members from abstract class", "body": "<p>I found the answer here: <a href=\"https://stackoverflow.com/questions/40149894/angular-2-rxjs-catch-function-callback-binding-to-this-causes-http-request-t\">Angular 2 &amp; RxJs catch function callback binding to &#39;this&#39; causes http request to be repeated over and over</a></p>\n\n<p>It turns out that as i'm passing a reference function to .catch and to .map those functions are copied, and the meaning of \"this\" changes.</p>\n\n<p>So \"this\" in the function references to the Observable Subscriber. I do not know if this is a design problem but it took me all day to figure out.</p>\n\n<p>So, now my method calls in the Super Class are like this:</p>\n\n<pre><code>export abstract class HttpBaseService {\n  protected readonly TAG = HttpBaseService.name;\n  protected state: GlobalState;\n\n  protected extractData(res: Response) {\n    console.log(`${this.TAG}:extractData:`, res.json());\n    const data = res.json() || [];\n    return data;\n  }\n\n  protected handleErrors(error: Response) {\n    console.error(`${this.TAG}:extractData:`, error);\n    if (error.status === 401 || error.status === 403) {\n      this.state.notifyDataChanged('logout', error);\n    }\n    return Observable.throw(error.json());\n  }\n\n}\n</code></pre>\n\n<p>And i used like this:</p>\n\n<pre><code>return this.http\n  .delete(`${Constants.API_URL}${ALBUMS_URL}${id}/`, {headers})\n  .catch((e, c) =&gt; this.handleErrors(e))\n  .map(res =&gt; this.extractData(res));\n</code></pre>\n"}], "owner": {"reputation": 503, "user_id": 886135, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f9f45f4ae30cbaf35064f1d16e8fc498?s=128&d=identicon&r=PG", "display_name": "alacret", "link": "https://stackoverflow.com/users/886135/alacret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1545, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1501173833, "creation_date": 1501110539, "last_edit_date": 1501114591, "question_id": 45338851, "link": "https://stackoverflow.com/questions/45338851/typescript-accessing-public-protected-members-from-abstract-class", "title": "Typescript: accessing public / protected members from abstract class", "body": "<p>Doing our first big App we have encounter a problem that supposed to be fixed in typescript 2.0+</p>\n\n<p>Having the Abstract class:</p>\n\n<pre><code>export abstract class HttpBaseService {\n  protected abstract readonly TAG: any;\n  protected abstract _state: GlobalState;\n  private r = Math.random();\n\n  protected extractData(res: Response) {\n    console.log(`${this.TAG}:extractData:`, res.json());\n    const data = res.json() || [];\n    return data;\n  }\n\n  protected handleErrors(error: Response) {\n    console.error(`${this.TAG}:handleErrors:`, error);\n    console.log(this.TAG);\n    console.log(this._state);\n    if (error.status === 401 || error.status === 403) {// Not Authorized\n      console.error(`${this.TAG}:handleErrors: NOT AUTHORIZED`, error);\n      this._state.notifyDataChanged(\"logout\", error);\n    }\n    return Observable.throw(error.json());\n  }\n\n}\n</code></pre>\n\n<p>and the implementation:</p>\n\n<pre><code>@Injectable()\nexport class AlbumService extends HttpBaseService {\n  TAG = AlbumService.name;\n\n  constructor(protected _state: GlobalState,\n              private http: Http,\n              private auth: AuthService,\n              private localStorage: LocalStorageService,) {\n    super();\n    this._state = _state;\n  }\n\n  albums() {\n    console.log(`${this.TAG}:albums:`);\n    console.log(this._state);\n    const ALBUMS_URL = this.albumsUrl();\n    const token = this.auth.getToken();\n    const headers = new Headers();\n    headers.append('Authorization', `Token ${token}`);\n\n    return this.http\n      .get(`${Constants.API_URL}${ALBUMS_URL}`, {headers})\n      .catch(this.handleErrors)\n      .map(this.extractData);\n  }\n}\n</code></pre>\n\n<p>When the function handleError from the super class is executed in a sub class has both parameters TAG and _state as \"undefined\"</p>\n\n<p>Notice that i have test it putting it abstract, protected, public, from the constructor, manually assigning the members, and maybe several others.</p>\n\n<p>I have to be missing something, because in the sub class constructor, i tried calling the handleError method after the assigning of _state and it works as expected, having a value for TAG an a value for _state.</p>\n\n<p><strong>UPDATE: Reducing the problem to a minimun</strong></p>\n\n<p>Now i have:</p>\n\n<pre><code>export abstract class HttpBaseService {\n  protected abstract _state: GlobalState;\n\n  protected handleErrors(error: Response) {\n    console.log(this._state);\n  }\n  protected extractData(res: Response) {\n    const data = res.json() || [];\n    return data;\n  }\n}\n</code></pre>\n\n<p>and the implementation:</p>\n\n<pre><code>@Injectable()\nexport class AlbumService extends HttpBaseService {\n\n  constructor(_state: GlobalState,\n              private http: Http,\n              private auth: AuthService,\n              private localStorage: LocalStorageService,) {\n    super();\n    this._state = _state;\n  }\n\n  albums() {\n    const token = this.auth.getToken();\n    const headers = new Headers();\n    headers.append('Authorization', `Token ${token}`);\n\n    return this.http\n      .get(`${Constants.API_URL}`, {headers})\n      .catch(this.handleErrors)\n      .map(this.extractData);\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "requirejs", "amd", "tsc"], "answers": [{"comments": [{"owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "edited": false, "score": 1, "creation_date": 1501123958, "post_id": 45339806, "comment_id": 77642829, "body": "Thanks but this isn&#39;t ideal.  My example has two entry points and there&#39;s only one data main. If not require js, is there some other way to use import in browser compatible typescript?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1501118426, "creation_date": 1501118426, "answer_id": 45339806, "question_id": 45338230, "link": "https://stackoverflow.com/questions/45338230/can-i-use-requirejs-to-load-modules-in-typescript-code/45339806#45339806", "title": "Can I use requirejs to load modules in typescript code?", "body": "<h1>Fix</h1>\n\n<p>From the docs you already found: </p>\n\n<blockquote>\n  <p>Be sure to load all scripts that call define() via the RequireJS API. </p>\n</blockquote>\n\n<p>Also from the docs <em>start</em> page : <a href=\"http://requirejs.org/docs/start.html\" rel=\"nofollow noreferrer\">http://requirejs.org/docs/start.html</a></p>\n\n<blockquote>\n  <p>and only reference require.js with a requirejs call like so to load your script:</p>\n</blockquote>\n\n<p><code>&lt;script data-main=\"scripts/main\" src=\"scripts/require.js\"&gt;&lt;/script&gt;</code> </p>\n\n<p>^ this is the <code>script</code> tag that should load your application entry point. </p>\n\n<h1>More</h1>\n\n<blockquote>\n  <p>So how can I convince the typescript compiler to produce output without a define() call in it.</p>\n</blockquote>\n\n<p>Yes. But if you <em>want</em> to use <code>requirejs</code>, then this is the wrong question to be asking. The fix is as I mentioned, i.e. use the <em>correct script tag</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "is_accepted": false, "score": 3, "last_activity_date": 1501151859, "creation_date": 1501151859, "answer_id": 45348365, "question_id": 45338230, "link": "https://stackoverflow.com/questions/45338230/can-i-use-requirejs-to-load-modules-in-typescript-code/45348365#45348365", "title": "Can I use requirejs to load modules in typescript code?", "body": "<p>If you have a single module kicking off everything that needs to load for your page, you can use <code>data-main</code>. If you need to kick off the loading with more than one module, then use <code>require</code> to load the modules:</p>\n\n<pre><code>&lt;script src=\"require.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  require([\"app1\", \"app2\"]);\n&lt;/script&gt;\n</code></pre>\n\n<p>You may be used to always passing a single string argument to <code>require</code>, but this is AMD. The native AMD <code>require</code> takes an array of dependencies as the first argument, and an optional callback as the 2nd.</p>\n\n<p>If you are using <code>require.config</code> you can use the <code>deps</code> option for the same purpose:</p>\n\n<pre><code>&lt;script src=\"require.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  require.config({\n    // You could have more config here... in addition to:\n    deps: [\"app1\", \"app2\"]\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>There's currently no way to get <code>tsc</code> to output <code>require</code> instead of <code>define</code>. I would not hold my breath waiting for such a feature to be added because there are readily available ways to get the same end results that such a feature would allow.</p>\n"}], "owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2879, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1531929983, "creation_date": 1501106791, "last_edit_date": 1531929983, "question_id": 45338230, "link": "https://stackoverflow.com/questions/45338230/can-i-use-requirejs-to-load-modules-in-typescript-code", "title": "Can I use requirejs to load modules in typescript code?", "body": "<p>I'm using typescript and requirejs.  I want to import my library code as modules, to avoid making everything an ambient global.  My problem is that any use of import or export in a typescript file turns the entire file into a module.  In the case of my application code, this means it can't be invoked directly.</p>\n\n<p>Here's a sample app.</p>\n\n<h2>index.html</h2>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;My Test App&lt;/title&gt;\n        &lt;script src=\"require.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"app1.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"app2.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h2>tsconfig.json</h2>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"amd\",\n        \"target\": \"es5\",\n        \"noImplicitAny\": false,\n        \"sourceMap\": false\n    }\n}\n</code></pre>\n\n<h2>greeter.ts</h2>\n\n<pre><code>export function greet(name: string) {\n    alert(`Hello ${name}`);\n}\n</code></pre>\n\n<h2>app1.ts</h2>\n\n<pre><code>import { greet } from './greeter';\ngreet('alice');\n</code></pre>\n\n<h2>app2.ts</h2>\n\n<pre><code>import { greet } from './greeter';\ngreet('bob');\n</code></pre>\n\n<p><code>tsc</code> runs with no problem, but here's one of the files I get as output.</p>\n\n<h2>tsc output: app1.js</h2>\n\n<pre><code>define([\"require\", \"exports\", './greeter'], function (require, exports, greeter_1) {\n    \"use strict\";\n    greeter_1.greet('alice');\n});\n</code></pre>\n\n<p>That doesn't work.  From <a href=\"http://requirejs.org/docs/errors.html#mismatch\" rel=\"nofollow noreferrer\">require.js</a> </p>\n\n<blockquote>\n  <p>Be sure to load all scripts that call define() via the RequireJS API.\n  Do not manually code script tags in HTML to load scripts that have\n  define() calls in them.</p>\n</blockquote>\n\n<p>So how can I convince the typescript compiler to produce output without a <code>define()</code> call in it.  In app1.ts, I don't intend to define a module, just consume other modules.  <code>require()</code> seems more appropriate for that.  Is there a way to make <code>import</code> compile to <code>require()</code>?</p>\n"}, {"tags": ["javascript", "typescript", "highcharts"], "answers": [{"tags": [], "owner": {"reputation": 1739, "user_id": 3872370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oe1RB.jpg?s=128&g=1", "display_name": "Stephan", "link": "https://stackoverflow.com/users/3872370/stephan"}, "is_accepted": false, "score": 1, "last_activity_date": 1501145373, "last_edit_date": 1501145373, "creation_date": 1501106978, "answer_id": 45338259, "question_id": 45338224, "link": "https://stackoverflow.com/questions/45338224/highcharts-typescript-boost-module/45338259#45338259", "title": "Highcharts TypeScript Boost module", "body": "<p>You should use: <code>import HighchartsBoost from \"highcharts/modules/boost\";</code></p>\n"}], "owner": {"reputation": 185, "user_id": 7758874, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/05590d26abf35cf97412de30e4892212?s=128&d=identicon&r=PG&f=1", "display_name": "austinrulezd00d", "link": "https://stackoverflow.com/users/7758874/austinrulezd00d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 825, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1501145373, "creation_date": 1501106767, "question_id": 45338224, "link": "https://stackoverflow.com/questions/45338224/highcharts-typescript-boost-module", "title": "Highcharts TypeScript Boost module", "body": "<p>I want to use the TypeScript definitions for the Highcharts module Boost</p>\n\n<p>The definitions exist as:</p>\n\n<pre><code>// Type definitions for Highcharts 4.2.6 (boost module)\n// Project: http://www.highcharts.com/\n// Definitions by: Daniel Martin &lt;http://github.com/inad9300&gt;\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\n\nimport { Static } from \"highcharts\";\n\ndeclare function HighchartsBoost(H: Static): Static;\nexport = HighchartsBoost;\nexport as namespace HighchartsBoost;\n</code></pre>\n\n<p>when i try to import them as either of the following:</p>\n\n<pre><code>import { HighchartsBoost } from \"highcharts/modules/boost\";\nimport * as HighchartsBoost from \"highcharts/modules/boost\";\n</code></pre>\n\n<p>I get the error: Module resolves to a non-module entity and cannot be imported using this construct.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["angular", "typescript", "angular-routing", "angular-observable"], "comments": [{"owner": {"reputation": 6476, "user_id": 1625304, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9ce92248e65c11baece707a847961852?s=128&d=identicon&r=PG", "display_name": "joshrathke", "link": "https://stackoverflow.com/users/1625304/joshrathke"}, "edited": false, "score": 0, "creation_date": 1501104106, "post_id": 45337643, "comment_id": 77637331, "body": "Right after posting I did realize that I could just reinstate the current route, which &quot;I think&quot; would reprocess the guards....giving it a try now."}, {"owner": {"reputation": 6476, "user_id": 1625304, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9ce92248e65c11baece707a847961852?s=128&d=identicon&r=PG", "display_name": "joshrathke", "link": "https://stackoverflow.com/users/1625304/joshrathke"}, "edited": false, "score": 0, "creation_date": 1501104921, "post_id": 45337643, "comment_id": 77637653, "body": "Scratch that. It&#39;s a service that&#39;s being used at multiple level throughout the application. I am beginning to think that this might not be the right approach altogether."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1501105852, "post_id": 45337643, "comment_id": 77638040, "body": "Do I understand correctly that you want to re-execute a route guard each time the route changes? That is its normal behavior. It should re-execute the guards when the route changes. Could you provide some code, such as your route configuration, to help us help you?"}, {"owner": {"reputation": 6476, "user_id": 1625304, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9ce92248e65c11baece707a847961852?s=128&d=identicon&r=PG", "display_name": "joshrathke", "link": "https://stackoverflow.com/users/1625304/joshrathke"}, "reply_to_user": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1501111999, "post_id": 45337643, "comment_id": 77640065, "body": "No I was wanting to take the current route, and make sure that it was still valid. I use async data in several guards to check validity (authorization) within the database. I ended up using websockets to issue a change request that triggers any necessary actions within the application, depending on who is logged in."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1501117270, "post_id": 45337643, "comment_id": 77641299, "body": "A guard is supposed to not let the route to be activated. How exactly a guard is supposed to be applied when it&#39;s already activated?  If it is supposed to be reprocessed, it should be a service that is shared by both a component and its guard."}, {"owner": {"reputation": 6476, "user_id": 1625304, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9ce92248e65c11baece707a847961852?s=128&d=identicon&r=PG", "display_name": "joshrathke", "link": "https://stackoverflow.com/users/1625304/joshrathke"}, "edited": false, "score": 0, "creation_date": 1501164702, "post_id": 45337643, "comment_id": 77667905, "body": "Thanks everyone, like I said above, I think initially my thought on how to approach this particular issue was better solved using websockets. Basically what I was trying to do was trigger a password reset on a given user when logged in. If a password reset request has been issued in the database the guard would not pass. But rather, I used a websocket to issue the request, immediately redirecting the user to the reset password page."}], "owner": {"reputation": 6476, "user_id": 1625304, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9ce92248e65c11baece707a847961852?s=128&d=identicon&r=PG", "display_name": "joshrathke", "link": "https://stackoverflow.com/users/1625304/joshrathke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1501104537, "creation_date": 1501104040, "last_edit_date": 1501104537, "question_id": 45337643, "link": "https://stackoverflow.com/questions/45337643/re-process-guards-for-current-route-in-angular-2-4", "title": "Re-Process Guards for current route in Angular 2/4+", "body": "<p>I am currently working on an application that has several different streams of data, all of which change the state of the application per the user sitting in front of the screen. I have route guards setup that provide authorization, but am wondering if there is a way to \"re-process\" the route guards for the current route....say when a new value comes through on an observable?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1447, "user_id": 3796088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zjWiA.gif?s=128&g=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/3796088/ethan"}, "edited": false, "score": 0, "creation_date": 1501109293, "post_id": 45338146, "comment_id": 77639369, "body": "This solution defeats the entire purpose of typing a variable in the first place (arguably the entire purpose of using typescript). While it has its use cases, i&#39;m hoping for a superior solution here."}, {"owner": {"reputation": 1477, "user_id": 4530745, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DuBVx.png?s=128&g=1", "display_name": "nick", "link": "https://stackoverflow.com/users/4530745/nick"}, "reply_to_user": {"reputation": 1447, "user_id": 3796088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zjWiA.gif?s=128&g=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/3796088/ethan"}, "edited": false, "score": 0, "creation_date": 1501111098, "post_id": 45338146, "comment_id": 77639829, "body": "I completely agree.  However, if you don&#39;t have control of what <code>item</code> will be (which it appears you don&#39;t) then you may need the flexibility of <code>any</code>."}], "tags": [], "owner": {"reputation": 1477, "user_id": 4530745, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DuBVx.png?s=128&g=1", "display_name": "nick", "link": "https://stackoverflow.com/users/4530745/nick"}, "is_accepted": false, "score": -4, "last_activity_date": 1501107501, "last_edit_date": 1501107501, "creation_date": 1501106415, "answer_id": 45338146, "question_id": 45337497, "link": "https://stackoverflow.com/questions/45337497/declare-variable-type-after-initial-declaration-typescript/45338146#45338146", "title": "Declare variable type after initial declaration typescript", "body": "<p>You can use <code>any</code>.  Then <code>item</code> can be anything without compiler errors.</p>\n\n<pre><code>let item: any;\nif (a) {\n   item = [];\n   item.push('new thing');\n} else {\n   item.prop();\n}\n</code></pre>\n\n<p>From the <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\" rel=\"nofollow noreferrer\">TS documentation</a>: </p>\n\n<blockquote>\n  <p>The any type is a powerful way to work with existing JavaScript,\n  allowing you to gradually opt-in and opt-out of type-checking during\n  compilation. You might expect Object to play a similar role, as it\n  does in other languages. But variables of type Object only allow you\n  to assign any value to them - you can\u2019t call arbitrary methods on\n  them, even ones that actually exist</p>\n</blockquote>\n\n<p>There is also a good discussion <a href=\"https://stackoverflow.com/questions/18961203/typescript-any-vs-object\">here</a> about <code>any</code> vs. <code>Object</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 0, "last_activity_date": 1501112409, "last_edit_date": 1501112409, "creation_date": 1501111702, "answer_id": 45338999, "question_id": 45337497, "link": "https://stackoverflow.com/questions/45337497/declare-variable-type-after-initial-declaration-typescript/45338999#45338999", "title": "Declare variable type after initial declaration typescript", "body": "<p>The idiom I'm familiar with is to declare a more narrowly-typed temporary variable and then assign it back to the wider-typed variable.  For example:</p>\n\n<pre><code>type IndexableObject = { [k: string]: any };\nlet item: IndexableObject[] | IndexableObject;\ndeclare let a: boolean;\ndeclare let b: boolean;\nif (a === true) {\n    let itemArray: IndexableObject[] = [];\n    itemArray.push({ hey: 'you' }, { whats: 'up' });\n    item = itemArray;    \n} else if (b === true) {\n    let itemObject: IndexableObject = {};\n    itemObject.prop = 'hello';\n    item = itemObject;\n}\n</code></pre>\n\n<p>I know you'd rather not introduce such a variable, but my experience is that doing anything else is just fighting with TypeScript, which is usually fruitless.  Good luck!</p>\n\n<p>EDIT: It looks like you're basically running into <a href=\"https://github.com/Microsoft/TypeScript/issues/10065\" rel=\"nofollow noreferrer\">this situation</a>.  As you can see in that GitHub issue, nobody is even thinking of implementing the kind of type narrowing control flow you want.  So the temporary variable is the only reasonable way to go, as far as I can see.</p>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 9311643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4af2ad2114ec17fb736efa64001c3a3?s=128&d=identicon&r=PG&f=1", "display_name": "Anzar Alim", "link": "https://stackoverflow.com/users/9311643/anzar-alim"}, "is_accepted": false, "score": 1, "last_activity_date": 1589744352, "last_edit_date": 1589744352, "creation_date": 1589679536, "answer_id": 61845895, "question_id": 45337497, "link": "https://stackoverflow.com/questions/45337497/declare-variable-type-after-initial-declaration-typescript/61845895#61845895", "title": "Declare variable type after initial declaration typescript", "body": "<p>You could use Type Assertion, like this:</p>\n\n<pre><code>let item: Any \nif ( some condition ) {\nlet mynewtype = (item as string)\n// use mynewtype as string }\n</code></pre>\n"}], "owner": {"reputation": 1447, "user_id": 3796088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zjWiA.gif?s=128&g=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/3796088/ethan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2430, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1589744352, "creation_date": 1501103438, "last_edit_date": 1501109213, "question_id": 45337497, "link": "https://stackoverflow.com/questions/45337497/declare-variable-type-after-initial-declaration-typescript", "title": "Declare variable type after initial declaration typescript", "body": "<p>I've got the following code:</p>\n\n<pre><code>let item = object[] | object;\nif (a === true) {\n    item = [];\n    // would like to do something like item: object[] = []\n    (item as object[]).push(...);\nelse if (b === true) {\n    item = {};\n    // would like to do something like item: object = {}\n    (item as any).prop = ...\n}\n// do stuff with item\n</code></pre>\n\n<p>My problem is that because <code>item</code> can be either an object or a list of objects, I then have to cast <code>item</code> in order for typescript to allow me to work with it. Is there any way to declare the type of object on its initialization, so these casts are unnecessary?</p>\n\n<hr>\n\n<p>Just to clarify, I DO want <code>item</code> to be typed, I just want that typing to be specified after it is defined.</p>\n"}, {"tags": ["angular", "flash", "typescript", "swfobject"], "comments": [{"owner": {"reputation": 12172, "user_id": 2057709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0R41X.png?s=128&g=1", "display_name": "VC.One", "link": "https://stackoverflow.com/users/2057709/vc-one"}, "edited": false, "score": 0, "creation_date": 1501111506, "post_id": 45337477, "comment_id": 77639941, "body": "Not enough info to help you... What have you tried that isn&#39;t working? Did you put swf in same folder as application? Did you try to load swf by filename? Any error messages?"}, {"owner": {"reputation": 13, "user_id": 1155582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a15d2e3496a78f6b0d9c7e017ca362?s=128&d=identicon&r=PG", "display_name": "abhinay.dro2", "link": "https://stackoverflow.com/users/1155582/abhinay-dro2"}, "reply_to_user": {"reputation": 12172, "user_id": 2057709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0R41X.png?s=128&g=1", "display_name": "VC.One", "link": "https://stackoverflow.com/users/2057709/vc-one"}, "edited": false, "score": 0, "creation_date": 1501112226, "post_id": 45337477, "comment_id": 77640129, "body": "Hi thanks for responding. Yes the swf is in the same folder as the application. i tried using the embed tag, but that didnt work. Im not sure how im suppossed to load it. (FYI started learning angular 2 weeks ago)"}], "owner": {"reputation": 13, "user_id": 1155582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a15d2e3496a78f6b0d9c7e017ca362?s=128&d=identicon&r=PG", "display_name": "abhinay.dro2", "link": "https://stackoverflow.com/users/1155582/abhinay-dro2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 339, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501110512, "creation_date": 1501103356, "last_edit_date": 1501110512, "question_id": 45337477, "link": "https://stackoverflow.com/questions/45337477/loading-an-swf-asset-in-angular-4-with-tsc", "title": "loading an swf asset in Angular 4 with TSC", "body": "<p>Does anyone know how to load a local swf asset into an Angular application using TypeScript?</p>\n\n<p>I have an <code>swf</code> file packaged with the application, and I need to load it inside a <code>tabSet</code>. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["node.js", "typescript", "mongoose", "definitelytyped"], "comments": [{"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501101691, "post_id": 45336790, "comment_id": 77636041, "body": "It&#39;s saying <code>parent.children.push</code> is not a function. What does the interface <code>Task</code> and <code>ITask</code> looks like?"}, {"owner": {"reputation": 154, "user_id": 2327082, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WApAv.jpg?s=128&g=1", "display_name": "Charles Harris", "link": "https://stackoverflow.com/users/2327082/charles-harris"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501103325, "post_id": 45336790, "comment_id": 77636936, "body": "Sorry, the example I pulled was something separate. Gimme a sec to edit the example"}, {"owner": {"reputation": 154, "user_id": 2327082, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WApAv.jpg?s=128&g=1", "display_name": "Charles Harris", "link": "https://stackoverflow.com/users/2327082/charles-harris"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501105208, "post_id": 45336790, "comment_id": 77637763, "body": "@unional check the edit now...I was able to refactor my code, but I wonder if there is still the possibility of doing the &#39;|&#39; OR typings like this"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501107888, "post_id": 45336790, "comment_id": 77638904, "body": "Can you check if the type of parent is <code>ITask</code>? It seems like it is something else."}, {"owner": {"reputation": 154, "user_id": 2327082, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WApAv.jpg?s=128&g=1", "display_name": "Charles Harris", "link": "https://stackoverflow.com/users/2327082/charles-harris"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501125767, "post_id": 45336790, "comment_id": 77643277, "body": "It&#39;s an ITask. If I change the interface typing to <code>ITask[]</code> and not <code>ObjectId[] | Itask[]</code> then this works. That&#39;s what is strange though...since Mongo handles both cleanly it&#39;d be nice to do the same when in Typescript"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501127869, "post_id": 45336790, "comment_id": 77643813, "body": "Have you turn on strictNullCheck?"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 1, "creation_date": 1501128037, "post_id": 45336790, "comment_id": 77643847, "body": "It should work. I think something else going on. It would be best if you create a demo repro"}], "owner": {"reputation": 154, "user_id": 2327082, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WApAv.jpg?s=128&g=1", "display_name": "Charles Harris", "link": "https://stackoverflow.com/users/2327082/charles-harris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1100, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1501105226, "creation_date": 1501100884, "last_edit_date": 1501105226, "question_id": 45336790, "link": "https://stackoverflow.com/questions/45336790/types-mongoose-how-to-type-objectids-with-a-ref", "title": "@types/mongoose how to type ObjectIds with a ref", "body": "<p>Using Typescript and mongoose, I wanted to be able to work with my custom model types. However, I haven't found an example of a model typing a property with a <code>Schema.Types.ObjectId</code> ref to another document. I'm trying to figure out how to do it and haven't been successful so far.</p>\n\n<p>Here's what I would want my model interface to look like:</p>\n\n<pre><code>import { Document, Schema, model, Model } from 'mongoose'\nimport ObjectId = Schema.Types.ObjectId\n\nexport interface ITask extends Document {\n  description: string\n  isActive: boolean\n  children: ObjectId[] | ITask[] // &lt;-- any[] works but limits typing\n}\n\nexport const UserSchema: Schema = new Schema({\n  description: String,\n  isActive: Boolean,\n  children: [{\n    type: ObjectId,\n    ref: 'Tasks'\n  }]\n}, { collection: 'Tasks' })\n\nexport const Task: Model&lt;ITask&gt; = model&lt;ITask&gt;('Task', TaskSchema)\n</code></pre>\n\n<p>When I implement this model in my code, Typescript throws a type error no matter how I type the <code>interface</code> (except <code>any</code>, of course):</p>\n\n<pre><code>async createChildTask(ctx: Context, next) {\n\n  const task = new Task(ctx.body)\n  task = await task.save()\n  const parent = await Task.findById(ctx.params.taskId)\n  parent.children.push(task) // &lt;-- \"property description does not exist on type\"\n  ...\n}\n</code></pre>\n\n<p>Mongoose handles ObjectId typings in code as either the string of their id or the fully populated object. I want to be able to expect both, but Typescript doesn't seem to like that with this specific instance.</p>\n"}, {"tags": ["angular", "typescript", "webpack", "angular-cli"], "comments": [{"owner": {"reputation": 7726, "user_id": 177701, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/900952cb86814ff8ff512d9d2c9ba02b?s=128&d=identicon&r=PG", "display_name": "Hendrik Brummermann", "link": "https://stackoverflow.com/users/177701/hendrik-brummermann"}, "edited": false, "score": 0, "creation_date": 1501101192, "post_id": 45336755, "comment_id": 77635762, "body": "What is the output of the <code>ng build --prod</code> command? Do you have write permissions on the project folder?"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1501104175, "post_id": 45336755, "comment_id": 77637358, "body": "Additionally, have you already tried updating your cli? The current version is <code>&quot;@angular&#47;cli&quot;: &quot;^1.2.3&quot;</code>. Also note that every time you do <code>ng build</code>or <code>ng serve</code>, the dist path is cleared. This can be turned off by providing <code>--no-delete-output-path</code>"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8060610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce9c05cfbafe1c93882fed3d26bbcf6?s=128&d=identicon&r=PG&f=1", "display_name": "Aakash N", "link": "https://stackoverflow.com/users/8060610/aakash-n"}, "edited": false, "score": 0, "creation_date": 1501101757, "post_id": 45336888, "comment_id": 77636083, "body": "I got the dist folder into the app. Thank you Ram."}, {"owner": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "edited": false, "score": 0, "creation_date": 1501101840, "post_id": 45336888, "comment_id": 77636128, "body": "I believe this error was fixed in Angular CLI 1.2.4."}, {"owner": {"reputation": 532, "user_id": 6136212, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c0cf7169ba31ec7bc0b74065ed0d9bb0?s=128&d=identicon&r=PG&f=1", "display_name": "RKG", "link": "https://stackoverflow.com/users/6136212/rkg"}, "reply_to_user": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "edited": false, "score": 0, "creation_date": 1501101935, "post_id": 45336888, "comment_id": 77636179, "body": "Thanks for the info @yakov-fain. I was using 1.2.0."}, {"owner": {"reputation": 532, "user_id": 6136212, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c0cf7169ba31ec7bc0b74065ed0d9bb0?s=128&d=identicon&r=PG&f=1", "display_name": "RKG", "link": "https://stackoverflow.com/users/6136212/rkg"}, "reply_to_user": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "edited": false, "score": 1, "creation_date": 1501102373, "post_id": 45336888, "comment_id": 77636393, "body": "@YakovFain, upgrading to 1.2.4 did not fix that error. Do you know of an angular-cli issue I can keep track of?"}, {"owner": {"reputation": 532, "user_id": 6136212, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c0cf7169ba31ec7bc0b74065ed0d9bb0?s=128&d=identicon&r=PG&f=1", "display_name": "RKG", "link": "https://stackoverflow.com/users/6136212/rkg"}, "edited": false, "score": 0, "creation_date": 1501102503, "post_id": 45336888, "comment_id": 77636472, "body": "Nevermind, I found the issue on github. <a href=\"https://github.com/angular/angular-cli/issues/7125\" rel=\"nofollow noreferrer\">github.com/angular/angular-cli/issues/7125</a>"}], "tags": [], "owner": {"reputation": 532, "user_id": 6136212, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c0cf7169ba31ec7bc0b74065ed0d9bb0?s=128&d=identicon&r=PG&f=1", "display_name": "RKG", "link": "https://stackoverflow.com/users/6136212/rkg"}, "is_accepted": true, "score": 1, "last_activity_date": 1501101216, "creation_date": 1501101216, "answer_id": 45336888, "question_id": 45336755, "link": "https://stackoverflow.com/questions/45336755/ng-serve-or-ng-build-prod-doesnt-generate-dist-folder-in-angular-4-applicatio/45336888#45336888", "title": "ng serve or ng build --prod doesn&#39;t generate dist folder in angular 4 application", "body": "<p>Use <code>ng build --env=prod</code> instead of <code>ng build --prod</code> and see if that helps. When I made a brand new project and ran <code>ng build --prod</code>, I got <code>Module not found: Error: Can't resolve './$$_gendir/app/app.module.ngfactory'</code> error. But when I ran <code>ng build --env=prod</code> dist was generated fine.</p>\n"}], "owner": {"reputation": 61, "user_id": 8060610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce9c05cfbafe1c93882fed3d26bbcf6?s=128&d=identicon&r=PG&f=1", "display_name": "Aakash N", "link": "https://stackoverflow.com/users/8060610/aakash-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1621, "favorite_count": 0, "accepted_answer_id": 45336888, "answer_count": 1, "score": 0, "last_activity_date": 1501132645, "creation_date": 1501100779, "last_edit_date": 1501132645, "question_id": 45336755, "link": "https://stackoverflow.com/questions/45336755/ng-serve-or-ng-build-prod-doesnt-generate-dist-folder-in-angular-4-applicatio", "title": "ng serve or ng build --prod doesn&#39;t generate dist folder in angular 4 application", "body": "<p>I build an angular 4 app, and build it trough angular-cli 1.0.4 with the command <code>ng build --prod</code>. So here I could not get a <em>dist</em> folder out of this to deploy in Microsoft azure. What should I do to get the <em>dist</em> folder after <code>ng build --prod</code> is done? Can someone help me with a better solution to publish my app to a server?</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "maps", "leaflet"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1501095706, "post_id": 45334937, "comment_id": 77632713, "body": "Can you show it in plunker?"}], "answers": [{"comments": [{"owner": {"reputation": 1154, "user_id": 7303613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1be20611c161d51fb29aeb99dad84250?s=128&d=identicon&r=PG&f=1", "display_name": "noam aghai", "link": "https://stackoverflow.com/users/7303613/noam-aghai"}, "edited": false, "score": 0, "creation_date": 1501111703, "post_id": 45336292, "comment_id": 77639982, "body": "is this work with ionic 2 ? (angular 2 / typescript)"}, {"owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "reply_to_user": {"reputation": 1154, "user_id": 7303613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1be20611c161d51fb29aeb99dad84250?s=128&d=identicon&r=PG&f=1", "display_name": "noam aghai", "link": "https://stackoverflow.com/users/7303613/noam-aghai"}, "edited": false, "score": 0, "creation_date": 1501119124, "post_id": 45336292, "comment_id": 77641746, "body": "@noamaghai there should be no reason why a JS library would not work with TS. You may miss definitions, but you should be able to set an <code>any</code> definition in your project."}, {"owner": {"reputation": 1154, "user_id": 7303613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1be20611c161d51fb29aeb99dad84250?s=128&d=identicon&r=PG&f=1", "display_name": "noam aghai", "link": "https://stackoverflow.com/users/7303613/noam-aghai"}, "edited": false, "score": 0, "creation_date": 1501144807, "post_id": 45336292, "comment_id": 77652290, "body": "I used this from the example:  let marker = L.marker([me.cLocation.lat, me.cLocation.long], { \ticon: this.iconWithVision \trotationAngle: degrees })  but I have an error at the compile:    Argument of type &#39;{ icon: Icon; rotationAngle: number; }&#39; is not assignable to parameter of type &#39;MarkerOptions&#39;."}, {"owner": {"reputation": 1154, "user_id": 7303613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1be20611c161d51fb29aeb99dad84250?s=128&d=identicon&r=PG&f=1", "display_name": "noam aghai", "link": "https://stackoverflow.com/users/7303613/noam-aghai"}, "edited": false, "score": 0, "creation_date": 1501239500, "post_id": 45336292, "comment_id": 77704004, "body": "I cant use this plugin because that plugin has a bug with the last version of leaflet."}, {"owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "reply_to_user": {"reputation": 1154, "user_id": 7303613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1be20611c161d51fb29aeb99dad84250?s=128&d=identicon&r=PG&f=1", "display_name": "noam aghai", "link": "https://stackoverflow.com/users/7303613/noam-aghai"}, "edited": false, "score": 0, "creation_date": 1501243726, "post_id": 45336292, "comment_id": 77706963, "body": "@noamaghai Please can you be more specific about your last comment &quot;that plugin has a bug with the last version of leaflet&quot;? Looks like the plugin author specifically released version <code>0.2.0</code> to ensure compatibility with Leaflet <code>1.1.0</code> (see <a href=\"https://github.com/bbecquet/Leaflet.RotatedMarker/issues/13\" rel=\"nofollow noreferrer\">#13</a>). Result seems good: <a href=\"http://playground-leaflet.rhcloud.com/biwo/1/edit?html,output\" rel=\"nofollow noreferrer\">playground-leaflet.rhcloud.com/biwo/1/edit?html,output</a> If you can explain the bug, please report an issue on the plugin repo so that people are aware of it."}, {"owner": {"reputation": 1154, "user_id": 7303613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1be20611c161d51fb29aeb99dad84250?s=128&d=identicon&r=PG&f=1", "display_name": "noam aghai", "link": "https://stackoverflow.com/users/7303613/noam-aghai"}, "edited": false, "score": 0, "creation_date": 1501352668, "post_id": 45336292, "comment_id": 77745883, "body": "that code not solve my problem and i dont know what to do with this problem.  <a href=\"https://drive.google.com/file/d/0B8hkrb_utevUakJoYXZfUTNvUGc/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/0B8hkrb_utevUakJoYXZfUTNvUGc/&hellip;</a>"}, {"owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "reply_to_user": {"reputation": 1154, "user_id": 7303613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1be20611c161d51fb29aeb99dad84250?s=128&d=identicon&r=PG&f=1", "display_name": "noam aghai", "link": "https://stackoverflow.com/users/7303613/noam-aghai"}, "edited": false, "score": 1, "creation_date": 1501383145, "post_id": 45336292, "comment_id": 77752605, "body": "@noamaghai you should learn how to use JS libraries in a TS project, and how to silence that message by allowing it in your definitions."}, {"owner": {"reputation": 1154, "user_id": 7303613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1be20611c161d51fb29aeb99dad84250?s=128&d=identicon&r=PG&f=1", "display_name": "noam aghai", "link": "https://stackoverflow.com/users/7303613/noam-aghai"}, "edited": false, "score": 0, "creation_date": 1501418815, "post_id": 45336292, "comment_id": 77760378, "body": "So someone can show me an ionic 2 example of this plugin ?"}], "tags": [], "owner": {"reputation": 344, "user_id": 6096004, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b47aac121a7675a0f64374a9c75d444b?s=128&d=identicon&r=PG&f=1", "display_name": "jcarapia", "link": "https://stackoverflow.com/users/6096004/jcarapia"}, "is_accepted": true, "score": 2, "last_activity_date": 1501099013, "creation_date": 1501099013, "answer_id": 45336292, "question_id": 45334937, "link": "https://stackoverflow.com/questions/45334937/leaflet-marker-element-style-not-working/45336292#45336292", "title": "leaflet marker element style not working", "body": "<p>Have you tried using this package?\n<a href=\"https://github.com/bbecquet/Leaflet.RotatedMarker\" rel=\"nofollow noreferrer\">https://github.com/bbecquet/Leaflet.RotatedMarker</a></p>\n"}], "owner": {"reputation": 1154, "user_id": 7303613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1be20611c161d51fb29aeb99dad84250?s=128&d=identicon&r=PG&f=1", "display_name": "noam aghai", "link": "https://stackoverflow.com/users/7303613/noam-aghai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 45336292, "answer_count": 1, "score": 0, "last_activity_date": 1501099013, "creation_date": 1501094046, "question_id": 45334937, "link": "https://stackoverflow.com/questions/45334937/leaflet-marker-element-style-not-working", "title": "leaflet marker element style not working", "body": "<p>I try to change marker style by js.</p>\n\n<p>but when I typed this code:</p>\n\n<pre><code>let markerElement = marker.getElement();\nmarkerElement.style.transform = 'rotate(90deg)';\n</code></pre>\n\n<p>I have an exeption that said that <code>markerElement</code> is undifined.</p>\n\n<p>any help.</p>\n\n<p>(or just a way to rotate the marker by the typescript)</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 4152, "user_id": 621827, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c08dff659b99dc4f1d8c64017921694a?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/621827/stephen"}, "edited": false, "score": 1, "creation_date": 1501093886, "post_id": 45334848, "comment_id": 77631719, "body": "If you&#39;re allowed to bring in Lodash it has the features you&#39;re looking for. <a href=\"https://lodash.com/docs/4.17.4#groupBy\" rel=\"nofollow noreferrer\">lodash.com/docs/4.17.4#groupBy</a>"}, {"owner": {"reputation": 1900, "user_id": 1424833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00623dff0c06eceb6bd8bf809fd170d3?s=128&d=identicon&r=PG", "display_name": "Matt Holland", "link": "https://stackoverflow.com/users/1424833/matt-holland"}, "edited": false, "score": 0, "creation_date": 1501094731, "post_id": 45334848, "comment_id": 77632160, "body": "As does Ramda: <a href=\"http://ramdajs.com/docs/#groupBy\" rel=\"nofollow noreferrer\">ramdajs.com/docs/#groupBy</a>"}, {"owner": {"reputation": 5369, "user_id": 1088979, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3d7bc072af5598957ac59f458d7345c4?s=128&d=identicon&r=PG", "display_name": "Allan Xu", "link": "https://stackoverflow.com/users/1088979/allan-xu"}, "edited": false, "score": 0, "creation_date": 1501122610, "post_id": 45334848, "comment_id": 77642489, "body": "Thank you Stephen and Matt, which of the loadlash or rambda does better work with TypeScript?"}], "answers": [{"comments": [{"owner": {"reputation": 10794, "user_id": 540776, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8dbbc1a34bd3c1b0888a3575be6439f4?s=128&d=identicon&r=PG", "display_name": "superjos", "link": "https://stackoverflow.com/users/540776/superjos"}, "edited": false, "score": 0, "creation_date": 1501115309, "post_id": 45339220, "comment_id": 77640829, "body": "It might help readers if in such context you rename <code>prev</code> parameter to <code>accumulator</code>, <code>acc</code>, <code>result</code>, <code>count</code> or something like that."}], "tags": [], "owner": {"reputation": 2734, "user_id": 3234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5440aff880867b4167e751edd90af9ee?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/3234/will"}, "is_accepted": true, "score": 2, "last_activity_date": 1501113379, "creation_date": 1501113379, "answer_id": 45339220, "question_id": 45334848, "link": "https://stackoverflow.com/questions/45334848/javascript-equivalent-to-c-linq-groupby/45339220#45339220", "title": "Javascript Equivalent to C# LINQ GroupBy", "body": "<p>I just made up some studentType values for testing but you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">Array.prototype.reduce()</a> to iterate over each element of the input array and add or manipulate properties of an accumulator object.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [{\r\n    studentType: 'freshman'\r\n  },\r\n  {\r\n    studentType: 'senior'\r\n  },\r\n  {\r\n    studentType: 'sophomore'\r\n  },\r\n  {\r\n    studentType: 'freshman'\r\n  },\r\n  {\r\n    studentType: 'junior'\r\n  },\r\n  {\r\n    studentType: 'senior'\r\n  },\r\n  {\r\n    studentType: 'sophomore'\r\n  },\r\n  {\r\n    studentType: 'freshman'\r\n  },\r\n  {\r\n    studentType: 'sophomore'\r\n  },\r\n  {\r\n    studentType: 'freshman'\r\n  }\r\n];\r\n\r\nlet result = arr.reduce((prev, curr) =&gt; {\r\n  isNaN(prev[curr.studentType]) ? prev[curr.studentType] = 1 : prev[curr.studentType]++;\r\n  return prev;\r\n}, {});\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1531200981, "post_id": 51257553, "comment_id": 89494341, "body": "Edited to include the function."}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 2, "last_activity_date": 1531200804, "last_edit_date": 1531200804, "creation_date": 1531198921, "answer_id": 51257553, "question_id": 45334848, "link": "https://stackoverflow.com/questions/45334848/javascript-equivalent-to-c-linq-groupby/51257553#51257553", "title": "Javascript Equivalent to C# LINQ GroupBy", "body": "<p>I created a groupBy function in TypeScript.</p>\n\n<pre><code>export interface Group {\n  key: any;\n  items: any[];\n}\n\nexport interface GroupBy {\n  keys: string[];\n  thenby?: GroupBy;\n}\n\nexport const groupBy = (array: any[], grouping: GroupBy): Group[] =&gt; {\n  const keys = grouping.keys;\n  const groups = array.reduce((groups, item) =&gt; {\n    const group = groups.find(g =&gt; keys.every(key =&gt; item[key] === g.key[key]));\n    const data = Object.getOwnPropertyNames(item)\n      .filter(prop =&gt; !keys.find(key =&gt; key === prop))\n      .reduce((o, key) =&gt; ({ ...o, [key]: item[key] }), {});\n    return group\n      ? groups.map(g =&gt; (g === group ? { ...g, items: [...g.items, data] } : g))\n      : [\n          ...groups,\n          {\n            key: keys.reduce((o, key) =&gt; ({ ...o, [key]: item[key] }), {}),\n            items: [data]\n          }\n        ];\n  }, []);\n  return grouping.thenby ? groups.map(g =&gt; ({ ...g, items: groupBy(g.items, grouping.thenby) })) : groups;\n};\n</code></pre>\n\n<p>I made a demo of it on StackBlitz at</p>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-ezydzv\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/typescript-ezydzv</a></p>\n"}, {"tags": [], "owner": {"reputation": 3098, "user_id": 908936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed251a304bcb7b2b82aa716d82d4377?s=128&d=identicon&r=PG", "display_name": "razon", "link": "https://stackoverflow.com/users/908936/razon"}, "is_accepted": false, "score": 1, "last_activity_date": 1560262288, "creation_date": 1560262288, "answer_id": 56545695, "question_id": 45334848, "link": "https://stackoverflow.com/questions/45334848/javascript-equivalent-to-c-linq-groupby/56545695#56545695", "title": "Javascript Equivalent to C# LINQ GroupBy", "body": "<p>You can try <a href=\"https://github.com/litichevskiydv/manipula/wiki/groupBy\" rel=\"nofollow noreferrer\">groupBy</a> from the <code>manipula</code> package that implements all C# LINQ methods and preserves its syntax.</p>\n"}, {"tags": [], "owner": {"reputation": 297, "user_id": 7367658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cdc000921687490fe250d0f81417853?s=128&d=identicon&r=PG", "display_name": "WesleyAC", "link": "https://stackoverflow.com/users/7367658/wesleyac"}, "is_accepted": false, "score": 0, "last_activity_date": 1591878746, "last_edit_date": 1591878746, "creation_date": 1574088912, "answer_id": 58917321, "question_id": 45334848, "link": "https://stackoverflow.com/questions/45334848/javascript-equivalent-to-c-linq-groupby/58917321#58917321", "title": "Javascript Equivalent to C# LINQ GroupBy", "body": "<p>Here you go (two options):</p>\n\n<pre><code>function GroupBy1(arr, key) {\n    var group = {};\n\n    arr.forEach(val =&gt; group[val[key]] = (group[val[key]] || 0) + 1);\n\n    return group;\n}\n\nfunction GroupBy2(arr, key) {\n    return arr.reduce((group, val) =&gt; {\n        group[val[key]] = (group[val[key]] || 0) + 1;\n\n        return count;\n    }, {});\n}\n\nvar arr = [\n    { studentType: 'freshman' },\n    { studentType: 'senior' },\n    { studentType: 'freshman' },\n    { studentType: 'junior' },\n    { studentType: 'sophmore' },\n    { studentType: 'freshman' },\n    { studentType: 'freshman' },\n    { studentType: 'junior' },\n    { studentType: 'senior' },\n    { studentType: 'senior' },\n    { studentType: 'freshman' },\n    { studentType: 'sophmore' },\n    { studentType: 'freshman' },\n    { studentType: 'sophmore' },\n    { studentType: 'senior' }\n];\n\nconsole.log(GroupBy1(arr, 'studentType'));\nconsole.log(GroupBy2(arr, 'studentType'));\n</code></pre>\n"}], "owner": {"reputation": 5369, "user_id": 1088979, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3d7bc072af5598957ac59f458d7345c4?s=128&d=identicon&r=PG", "display_name": "Allan Xu", "link": "https://stackoverflow.com/users/1088979/allan-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2416, "favorite_count": 0, "accepted_answer_id": 45339220, "answer_count": 4, "score": 2, "last_activity_date": 1599028815, "creation_date": 1501093793, "question_id": 45334848, "link": "https://stackoverflow.com/questions/45334848/javascript-equivalent-to-c-linq-groupby", "title": "Javascript Equivalent to C# LINQ GroupBy", "body": "<p>This is a follow up question to the following question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18936774/javascript-equivalent-to-c-sharp-linq-select\">Javascript Equivalent to C# LINQ Select</a></p>\n\n<p>We are using Angular 2 + TypeScript:</p>\n\n<p>I have an Array of objects. Each object in the array include a property called 'StudentType'. </p>\n\n<p>I need to run a C# LINQ style query that extract a list of StudentType in the array and number of array members with that particular type.</p>\n\n<p>While I can do an  old school loop and do this, I wonder if there is a better way of doing this, like what C# LINQ GroupBy offers.</p>\n\n<p>Since we are using Angular 2, the use of JQuery is not allowed by the project leads. </p>\n"}, {"tags": ["javascript", "typescript", "firebase", "ionic2", "angularfire2"], "answers": [{"tags": [], "owner": {"reputation": 144, "user_id": 5475057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZh62.jpg?s=128&g=1", "display_name": "Soyab Shaikh", "link": "https://stackoverflow.com/users/5475057/soyab-shaikh"}, "is_accepted": false, "score": 0, "last_activity_date": 1501096277, "creation_date": 1501096277, "answer_id": 45335549, "question_id": 45334740, "link": "https://stackoverflow.com/questions/45334740/firebaseobjectobservable-doesnt-return-object-in-time/45335549#45335549", "title": "FirebaseObjectObservable doesn&#39;t return object in time", "body": "<p>You need to add a query object on the FirebaseListObservable options. Your 'getItemInfo' funtions should be like this :</p>\n\n<pre><code>getItemInfo(itemID: string): ItemInfoModel {\n\n var subscription = this.db.list('/itemInfo/', { query: {  orderByChild: 'item',  equalTo: itemID  }})\n .subscribe(itemInfo =&gt; {\n      let i: ItemInfoModel = itemInfo.val();\n      this.itemInfo = i;\n    });\n  subscription.unsubscribe();\n  return this.itemInfo;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8198801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b18f60547f16f3b11b1f95031f857102?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/8198801/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 1, "closed_date": 1501110931, "answer_count": 1, "score": 0, "last_activity_date": 1501096277, "creation_date": 1501093458, "question_id": 45334740, "link": "https://stackoverflow.com/questions/45334740/firebaseobjectobservable-doesnt-return-object-in-time", "closed_reason": "Duplicate", "title": "FirebaseObjectObservable doesn&#39;t return object in time", "body": "<p>I'm trying to get two objects from firebase and manipulate the data, before it's displayed.\nUnfortunately I do only get one of the objects but I don't know why.</p>\n\n<p>Here are the code snippets:</p>\n\n<p><strong>page.ts</strong></p>\n\n<pre><code>let item: ItemModel = this.ItemProvider.getItem(itemID);\nlet itemInfo: ItemInfoModel = this.ItemProvider.getItemInfo(itemID);\n</code></pre>\n\n<p><strong>provider.ts</strong></p>\n\n<pre><code>item: ItemModel = new ItemModel();\nitemInfo: ItemInfoModel = new ItemInfoModel();\n\n  getItem(itemID: string): ItemModel {\n    var subscription = this.db.object(`/items/${itemID}`, { preserveSnapshot: true })\n      .subscribe(item =&gt; {\n      let i: ItemModel = item.val();\n      this.item = i;\n    });\n  subscription.unsubscribe();\n  return this.item;\n  }\n\n  getItemInfo(itemID: string): ItemInfoModel {\n    var subscription = this.db.object(`/itemInfo/${itemID}`, { preserveSnapshot: true })\n      .subscribe(itemInfo =&gt; {\n      let i: ItemInfoModel = itemInfo.val();\n      this.itemInfo = i;\n    });\n  subscription.unsubscribe();\n  return this.itemInfo;\n  }\n</code></pre>\n\n<p>As you can see both functions are similar but still the getItemInfo doesn't return the value in time.</p>\n\n<p>When I do console.log in page.ts in prints the following</p>\n\n<pre><code>console.log(item); =&gt; Object { data... }\nconsole.log(itemInfo); =&gt; ItemInfoModel { }\n</code></pre>\n\n<p>I tried to switch the calls of the functions and get itemInfo first, but it doesn't have any effect.</p>\n\n<p>The structure of my firebase is like this:</p>\n\n<pre><code>- firebase\n    - items\n        -KIedkI3983ndK\n            -name\n            -img\n            -price\n            -actualInfo =&gt; KIe3jkdl83dsf\n    - itemInfo\n        -KIeDjeidl3njd\n            -item =&gt; KIedkI3983ndK\n            -info1\n            -info2\n        -KIe3jkdl83dsf\n            -item =&gt; KIedkI3983ndK\n            -info1\n            -info2\n</code></pre>\n\n<p>Since I'm still pretty new to this I tried everything I've read here on stackoverflow but didn't find a solution for the problem.</p>\n\n<p>In the subscription of getItemInfo I do have the right value, but it's not written in the global this.itemInfo before the return-statement is called.\nIt's wired that in getItem the exact same code works.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1501096578, "post_id": 45334680, "comment_id": 77633174, "body": "How have you initialized <code>person</code>?"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1501097571, "post_id": 45334680, "comment_id": 77633743, "body": "To debug your problem you can do 2 things: (1) Show in the question the exact error message that you get; (2) comment out as many lines as possible in your code to get the minimum code that triggers the error (or replace the input data with dummy strings for as many fields as possible)."}, {"owner": {"reputation": 1172, "user_id": 5212157, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-Q_5hxD9mHKs/AAAAAAAAAAI/AAAAAAAAHBo/iiS12tFEHPQ/photo.jpg?sz=128", "display_name": "Chris Rutherford", "link": "https://stackoverflow.com/users/5212157/chris-rutherford"}, "edited": false, "score": 0, "creation_date": 1501172615, "post_id": 45334680, "comment_id": 77673803, "body": "I determined the issue was that I forgot to import something into the component to allow it to work. Don&#39;t remember off hand, but I moved on. thanks anyway"}], "answers": [{"comments": [{"owner": {"reputation": 1172, "user_id": 5212157, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-Q_5hxD9mHKs/AAAAAAAAAAI/AAAAAAAAHBo/iiS12tFEHPQ/photo.jpg?sz=128", "display_name": "Chris Rutherford", "link": "https://stackoverflow.com/users/5212157/chris-rutherford"}, "edited": false, "score": 0, "creation_date": 1501094637, "post_id": 45334727, "comment_id": 77632117, "body": "the thing is that I did do the <code>||&#39;&#39;;</code> thing, but it still gave the same error..."}], "tags": [], "owner": {"reputation": 9367, "user_id": 325836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b1e8b1b031b6c7f75b3f059fab7aad?s=128&d=identicon&r=PG", "display_name": "Yngve B-Nilsen", "link": "https://stackoverflow.com/users/325836/yngve-b-nilsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1501093401, "creation_date": 1501093401, "answer_id": 45334727, "question_id": 45334680, "link": "https://stackoverflow.com/questions/45334680/angular-io-property-with-null-value-throwing-undefined-error/45334727#45334727", "title": "Angular.io property with null value throwing undefined error", "body": "<p>You're on to it here:</p>\n\n<p><code>this.person.email.priEmailType = this.inputs[0].PrimaryEmailType || 'Not Provided';</code></p>\n\n<p>just do the same for the other fields as well:</p>\n\n<p><code>this.person.name.lastName = this.inputs[0].LastName || '';</code></p>\n\n<p>if LastName is null/undefined it will default to an empty string</p>\n"}, {"comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1501098394, "post_id": 45336127, "comment_id": 77634219, "body": "Just wanted to leave an answer before going to bed, even tho I didn&#39;t yet get an answer to my comment. I suspect I have the right diagnosis tho :D If not, I&#39;ll delete..."}, {"owner": {"reputation": 9367, "user_id": 325836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b1e8b1b031b6c7f75b3f059fab7aad?s=128&d=identicon&r=PG", "display_name": "Yngve B-Nilsen", "link": "https://stackoverflow.com/users/325836/yngve-b-nilsen"}, "edited": false, "score": 0, "creation_date": 1501138665, "post_id": 45336127, "comment_id": 77648192, "body": "Could you update the question with the actual error-message you get?"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 1, "last_activity_date": 1501098312, "creation_date": 1501098312, "answer_id": 45336127, "question_id": 45334680, "link": "https://stackoverflow.com/questions/45334680/angular-io-property-with-null-value-throwing-undefined-error/45336127#45336127", "title": "Angular.io property with null value throwing undefined error", "body": "<p><em>I'm going out on a limb here...</em></p>\n\n<p>I suspect your actual problem is probably laying with <code>person</code>, it is that which is throwing your error. The response having <code>null</code> values should not throw such an error.</p>\n\n<p>So when you have not initialized it properly it's trying to read property paths that do not exist, for example:</p>\n\n<pre><code>person.email.priEmailType\n</code></pre>\n\n<p>where <code>person</code> might be an empty object, but <code>email</code> is <code>undefined</code>, so when it's trying to read <code>priEmailType</code>, it can't since <code>email</code> is <code>undefined</code>.</p>\n\n<p>The quick fix is to initialize the object as:</p>\n\n<pre><code>person = {email:{}, phone:{}, name:{}, address:{}}\n</code></pre>\n\n<p>So for example now we can try and read <code>priEmailType</code> since <code>email</code> is no longer <code>undefined</code></p>\n\n<p>You might want to make some helper method or something to at least map the values to your <code>person</code>, especially if you want to use it elsewhere.</p>\n"}], "owner": {"reputation": 1172, "user_id": 5212157, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-Q_5hxD9mHKs/AAAAAAAAAAI/AAAAAAAAHBo/iiS12tFEHPQ/photo.jpg?sz=128", "display_name": "Chris Rutherford", "link": "https://stackoverflow.com/users/5212157/chris-rutherford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501098312, "creation_date": 1501093198, "question_id": 45334680, "link": "https://stackoverflow.com/questions/45334680/angular-io-property-with-null-value-throwing-undefined-error", "title": "Angular.io property with null value throwing undefined error", "body": "<p>Working with Angular, and trying to push data to a form where some of the data is null. When attempting to map the data model, I'm having issues where exceptions are thrown when the incoming data property is null.</p>\n\n<p>Here is my input data class:</p>\n\n<pre><code>export class Inputdata {\n  sweepId: string;\n  IndivId: string;\n  FirstName: string;\n  PrefName: string;\n  LastName: string;\n  Suffix: string;\n  Language: string;\n  Addr1: string;\n  Addr2: string;\n  Addr3: string;\n  City: string;\n  State: string;\n  Zip: string;\n  CountryCode: string;\n  Country: string;\n  PrimaryPhoneType: string;\n  PrimaryPhone: string;\n  PrimaryEmailType: string;\n  PrimaryEmail: string;\n  Positioncode: string;\n  TrackingNumber: string;\n  PositionTitle: string;\n  AreaServed: string;\n  DistrictServed: string;\n  TrackingID: string;\n}\n</code></pre>\n\n<p>The data moves across from the database to the angular service just fine and gets to the component as an object called <code>data</code> which is an array of type <code>Inputdata</code>. In the subscribe call, I'm assigning data across from Inputdata to the Person data type like this:</p>\n\n<pre><code> this.people.getPersonById(this.Id).subscribe(data=&gt;{\n     this.inputs = data;\n     console.log(this.inputs[0]);\n     this.person.email.priEmailType = this.inputs[0].PrimaryEmailType || 'Not Provided';\n     this.person.email.emailAddress = this.inputs[0].PrimaryEmail;\n     this.person.phone.priPhoneType = this.inputs[0].PrimaryPhoneType;\n     this.person.phone.Phone = this.inputs[0].PrimaryPhone;\n     this.person.name.firstName = this.inputs[0].FirstName;\n     this.person.name.prefName = this.inputs[0].PrefName;\n     this.person.name.lastName = this.inputs[0].LastName;\n     this.person.name.suffix = this.inputs[0].Suffix;\n     this.person.address.addr1 = this.inputs[0].Addr1;\n     this.person.address.addr2 = this.inputs[0].Addr2;\n     this.person.address.addr3 = this.inputs[0].Addr3;\n     this.person.address.city = this.inputs[0].City;\n     this.person.address.state = this.inputs[0].State;\n     this.person.address.zip = this.inputs[0].Zip;\n     this.person.address.country = this.inputs[0].Country;\n     this.person.address.countryCode = this.inputs[0].CountryCode;\n     if(this.inputs.length &gt;1){\n       for(var i=0;i&lt;this.inputs.length;i++){\n        this.position.positionCode = this.inputs[i].Positioncode;\n        this.position.positionTitle = this.inputs[i].PositionTitle;\n        this.person.positions.push(this.position);\n       }\n     }\n}\n</code></pre>\n\n<p>and here is a sample of the data as it comes from the DB.</p>\n\n<pre><code>[ { SweepID: 1,\n    IndivId: 404873,\n    FirstName: 'Paul',\n    PrefName: null,\n    LastName: 'Person',\n    Suffix: null,\n    Language: 'EN',\n    Addr1: '13120 Skidaway Place',\n    Addr2: null,\n    Addr3: null,\n    City: 'Tarry Town',\n    State: 'LOUISIANA           ',\n    Zip: '70737',\n    CountryCode: 'US',\n    Country: 'United States',\n    PrimaryPhoneType: 'Home',\n    PrimaryPhone: '(225)572-2268',\n    PrimaryEmailType: null,\n    PrimaryEmail: null,\n    PositionCode: 'GM',\n    TrackingNumber: '000131960',\n    PositionTitle: 'General Manager',\n    AreaServed: '027',\n    DistrictServed: null,\n    TrackingID: null },\n  { SweepID: 82257,\n    IndivId: 404873,\n    FirstName: 'Paul',\n    PrefName: null,\n    LastName: 'Person',\n    Suffix: null,\n    Language: 'EN',\n    Addr1: '13120 Skidaway Place',\n    Addr2: null,\n    Addr3: null,\n    City: 'Tarry Town',\n    State: 'LOUISIANA',\n    Zip: '11111',\n    CountryCode: 'US',\n    Country: 'United States',\n    PrimaryPhoneType: 'Home',\n    PrimaryPhone: '(555)555-5555',\n    PrimaryEmailType: null,\n    PrimaryEmail: null,\n    PositionCode: 'PRCONT',\n    TrackingNumber: '000131960',\n    PositionTitle: 'Primary Contact',\n    AreaServed: null,\n    DistrictServed: null,\n    TrackingID: null } ]\n</code></pre>\n\n<p>How can I work around this to where it will accept Null Values?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-template", "angular2-services"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 8371778, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uUdMlRQOAAY/AAAAAAAAAAI/AAAAAAAAEE4/qXBb4JkDsf0/photo.jpg?sz=128", "display_name": "Mani Teja", "link": "https://stackoverflow.com/users/8371778/mani-teja"}, "edited": false, "score": 1, "creation_date": 1501095580, "post_id": 45334663, "comment_id": 77632641, "body": "I am able to send data to save method but this data is not getting in fetch method it displays like undefined."}, {"owner": {"reputation": 804, "user_id": 5893772, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/EATNh.png?s=128&g=1", "display_name": "Reticulated Spline", "link": "https://stackoverflow.com/users/5893772/reticulated-spline"}, "reply_to_user": {"reputation": 55, "user_id": 8371778, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uUdMlRQOAAY/AAAAAAAAAAI/AAAAAAAAEE4/qXBb4JkDsf0/photo.jpg?sz=128", "display_name": "Mani Teja", "link": "https://stackoverflow.com/users/8371778/mani-teja"}, "edited": false, "score": 1, "creation_date": 1501097444, "post_id": 45334663, "comment_id": 77633665, "body": "could you add the code you&#39;re using (or better yet, a plunkr)?"}, {"owner": {"reputation": 804, "user_id": 5893772, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/EATNh.png?s=128&g=1", "display_name": "Reticulated Spline", "link": "https://stackoverflow.com/users/5893772/reticulated-spline"}, "reply_to_user": {"reputation": 55, "user_id": 8371778, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uUdMlRQOAAY/AAAAAAAAAAI/AAAAAAAAEE4/qXBb4JkDsf0/photo.jpg?sz=128", "display_name": "Mani Teja", "link": "https://stackoverflow.com/users/8371778/mani-teja"}, "edited": false, "score": 0, "creation_date": 1501165437, "post_id": 45334663, "comment_id": 77668509, "body": "I&#39;ve updated my answer with some suggestions from @Sasha"}], "tags": [], "owner": {"reputation": 804, "user_id": 5893772, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/EATNh.png?s=128&g=1", "display_name": "Reticulated Spline", "link": "https://stackoverflow.com/users/5893772/reticulated-spline"}, "is_accepted": true, "score": 2, "last_activity_date": 1501165307, "last_edit_date": 1501165307, "creation_date": 1501093142, "answer_id": 45334663, "question_id": 45334511, "link": "https://stackoverflow.com/questions/45334511/passing-value-between-two-angular-2-component-typescript-files/45334663#45334663", "title": "Passing value between two angular 2 component typescript files", "body": "<p>If they don't have a parent/child relationship, the best way is a shared service <a href=\"https://angular.io/guide/dependency-injection\" rel=\"nofollow noreferrer\">injected</a> into the constructors of A and B.</p>\n\n<h3>component A:</h3>\n\n<pre><code>constructor(private sharingService: SharingService) { }\n\npublic myArray = [];\n\nfunc() {\n    ...\n    this.sharingService.save(this.myArray);\n}\n</code></pre>\n\n<h3>Service:</h3>\n\n<pre><code>import { Injectable, } from '@angular/core';\n\n@Injectable()\nconstructor() {}\n\nprivate array = [];\n\nsave(array) {\n    this.array = array;\n}\n\nfetch() {\n    return this.array;\n}\n</code></pre>\n\n<h3>component B:</h3>\n\n<pre><code>constructor(private sharingService: SharingService) { }\n\npublic yourArray = this.sharingService.fetch();\n</code></pre>\n\n<p><a href=\"https://angular.io/tutorial/toh-pt4\" rel=\"nofollow noreferrer\">There's a good tutorial on services and component interaction on the Angular site</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1446, "user_id": 4865392, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d5cf8d4c981ea7f202383386f24d8303?s=128&d=identicon&r=PG&f=1", "display_name": "monica", "link": "https://stackoverflow.com/users/4865392/monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1501140596, "creation_date": 1501140596, "answer_id": 45344120, "question_id": 45334511, "link": "https://stackoverflow.com/questions/45334511/passing-value-between-two-angular-2-component-typescript-files/45344120#45344120", "title": "Passing value between two angular 2 component typescript files", "body": "<p>I agree with the answer of @Lying Cake. You should use the service inorder to share the data between two independent components. \nThe problem of undefined that you are facing is because you are calling the fetch method in the constructor. And you have not defined array value here: <code>private array</code>. So, it is giving undefined. Either define the initial value or remove the fetch method from the constructor and call only when the array value is not <code>undefined</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 8371778, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uUdMlRQOAAY/AAAAAAAAAAI/AAAAAAAAEE4/qXBb4JkDsf0/photo.jpg?sz=128", "display_name": "Mani Teja", "link": "https://stackoverflow.com/users/8371778/mani-teja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 2, "accepted_answer_id": 45334663, "answer_count": 2, "score": 2, "last_activity_date": 1501165307, "creation_date": 1501092609, "last_edit_date": 1501100125, "question_id": 45334511, "link": "https://stackoverflow.com/questions/45334511/passing-value-between-two-angular-2-component-typescript-files", "title": "Passing value between two angular 2 component typescript files", "body": "<p>I have two components that are not parent Components and those are child components but I need to pass data from component A to component B.\nexample:\ncomponent A.ts has an array of data \nexample : </p>\n\n<pre><code>my data [\n   {'name':'some a','email':'some a@gmail.com','grades':{}},\n   {'name':'some b','email':'some b@gmail.com','grades':{}}\n  ]\n</code></pre>\n\n<p>need to pass that my data to component B.ts</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "menu", "ionic2"], "answers": [{"tags": [], "owner": {"reputation": 4623, "user_id": 1783706, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/03a5469d1b5a89c451edceb3082a2bd5?s=128&d=identicon&r=PG&f=1", "display_name": "robbannn", "link": "https://stackoverflow.com/users/1783706/robbannn"}, "is_accepted": true, "score": 2, "last_activity_date": 1501111285, "creation_date": 1501111285, "answer_id": 45338946, "question_id": 45334445, "link": "https://stackoverflow.com/questions/45334445/ionic-2-menu-transition/45338946#45338946", "title": "Ionic 2 menu transition", "body": "<p>Try adding <code>type='reveal</code> to your <code>&lt;ion-menu&gt;</code>-element:</p>\n\n<pre><code>&lt;ion-menu type='reveal' side=\"left\" id=\"loggedInMenu\" [content]=\"content\"&gt;\n</code></pre>\n\n<p><strong>The <a href=\"https://ionicframework.com/docs/api/components/menu/Menu/\" rel=\"nofollow noreferrer\">docs</a> say:</strong><br>\n'The default type for both Material Design and Windows mode is <code>overlay</code>, and <code>reveal</code> is the default type for iOS mode.'</p>\n\n<p>The wanted result you're showing is displayed in iOS mode. The result you're getting is in Material Design mode.</p>\n"}], "owner": {"reputation": 912, "user_id": 3516993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d581bbf1b303acf4fe7ac497641c8743?s=128&d=identicon&r=PG&f=1", "display_name": "sahnoun", "link": "https://stackoverflow.com/users/3516993/sahnoun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 0, "accepted_answer_id": 45338946, "answer_count": 1, "score": 1, "last_activity_date": 1501111285, "creation_date": 1501092369, "last_edit_date": 1501093255, "question_id": 45334445, "link": "https://stackoverflow.com/questions/45334445/ionic-2-menu-transition", "title": "Ionic 2 menu transition", "body": "<p>I followed the menu documentation of ionic 2 and I want to display the menu like this: \n<a href=\"https://i.stack.imgur.com/zzm8f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zzm8f.png\" alt=\"enter image description here\"></a></p>\n\n<p>so the menu is displayed below the content page and the menu button still displayed.</p>\n\n<p>but when I run my app I got this : </p>\n\n<p><a href=\"https://i.stack.imgur.com/EZ3Wf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EZ3Wf.png\" alt=\"enter image description here\"></a></p>\n\n<p>the menu is displayed above the content page and the button disappear !\nhere is <strong>app.html code :</strong> </p>\n\n<pre><code>&lt;ion-split-pane&gt;\n    &lt;ion-menu side=\"left\" id=\"loggedInMenu\" [content]=\"content\"&gt;\n        &lt;ion-header&gt;\n            &lt;ion-toolbar&gt;\n                &lt;ion-title&gt;Menu&lt;/ion-title&gt;\n            &lt;/ion-toolbar&gt;\n        &lt;/ion-header&gt;\n\n        &lt;ion-content&gt;\n            &lt;ion-list&gt;\n                &lt;button ion-item menuClose=\"loggedInMenu\" *ngFor=\"let p of appPages\" (click)=\"openPage(p)\"&gt;\n                    &lt;ion-icon item-start [name]=\"p.icon\" [color]=\"isActive(p)\" &gt;&lt;/ion-icon&gt;\n                    {{p.title}}\n                &lt;/button&gt;\n            &lt;/ion-list&gt;\n        &lt;/ion-content&gt;\n    &lt;/ion-menu&gt;\n    &lt;!-- main navigation --&gt;\n    &lt;ion-nav [root]=\"rootPage\" #content swipeBackEnabled=\"false\" main name=\"app\"&gt;&lt;/ion-nav&gt;\n\n&lt;/ion-split-pane&gt;\n</code></pre>\n\n<p><strong>app.componenent.ts :</strong></p>\n\n<pre><code>import { Component, ViewChild } from '@angular/core';\nimport { Platform,MenuController, Nav, } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { HomePage } from '../pages/home/home';\nimport { LoginPage } from '../pages/login/login';\nimport { MainPage } from '../pages/main/main';\nimport { MyDogsPage } from '../pages/my-dogs/my-dogs';\nimport { MyCoursesPage } from '../pages/my-courses/my-courses';\nimport { FriendsPage } from '../pages/friends/friends';\nimport { TrainersPage } from '../pages/trainers/trainers';\nimport { AuthenticationProvider } from '../providers/authentication/authentication'\n\n\n\nexport interface PageInterface {\n  title: string;\n  component: any;\n  icon: string;\n  index?: number;\n\n}\n\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n  appPages: PageInterface[] = [\n    { title: 'Account', component: MainPage, index: 0, icon: 'finger-print' },\n    { title: 'My Dogs',  component: MyDogsPage,index: 1, icon: 'paw' },\n    { title: 'My Course', component: MyCoursesPage, index: 2, icon: 'book' },\n    { title: 'Friends', component: FriendsPage, index: 3, icon: 'people' },\n    { title: 'My Trainers', component: TrainersPage, index: 4, icon: 'man' },\n\n  ];\n  rootPage:any;\n  currentTitle ='';\n  activePage:any;\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen, public userData: AuthenticationProvider, public menuctrl: MenuController) {\n    this.rootPage=(localStorage.disableintro? LoginPage:HomePage)\n    this.userData.hasLoggedIn().then((hasLoggedIn) =&gt; {\n      this.enableMenu(hasLoggedIn === true);\n    });\n    this.enableMenu(false);\n\n    platform.ready().then(() =&gt; {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n\n  enableMenu(loggedIn: boolean) {\n    this.menuctrl.enable(loggedIn, 'loggedInMenu');\n  }\n\n\n  openPage(page) {\n    let params = {};\n    console.log('dd');\n\n    this.nav.setRoot(page.component, params).catch((err: any) =&gt; {\n      console.log('rr');\n\n        console.log(`Didn't set nav root: ${err}`);\n    });\n\n    this.activePage=page;\n  }\n\n  isActive(page: PageInterface) {\n    let childNav = this.nav.getActiveChildNavs()[0];\n\n    // Tabs are a special case because they have their own navigation\n    if (childNav) {\n      if (childNav.getSelected() ) {\n        return 'primary';\n      }\n      return;\n    }\n\n    if (this.nav.getActive() &amp;&amp; this.nav.getActive().name === page.title) {\n      return 'primary';\n    }\n    return;\n  }\n}\n</code></pre>\n\n<p>some help please. </p>\n"}, {"tags": ["javascript", "php", "typescript"], "comments": [{"owner": {"reputation": 1078, "user_id": 1985574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QYATo.jpg?s=128&g=1", "display_name": "Patrick Barr", "link": "https://stackoverflow.com/users/1985574/patrick-barr"}, "edited": false, "score": 0, "creation_date": 1501092509, "post_id": 45334353, "comment_id": 77630983, "body": "no, but keep in mind it is different for conditionals like <code>&gt;==</code> and <code>&lt;==</code>"}, {"owner": {"reputation": 8023, "user_id": 4812170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6oHM1.jpg?s=128&g=1", "display_name": "vaquar khan", "link": "https://stackoverflow.com/users/4812170/vaquar-khan"}, "edited": false, "score": 0, "creation_date": 1501094415, "post_id": 45334353, "comment_id": 77632007, "body": "The Yoda conditions programming style\u2019s intent is to avoid unexpected behavior. It does so by forcing a syntax error when the programmer makes a typo by using an assignment operator (=) when s/he meant to do an equality operator.                                                                                if (0 == $something) // in case of type  0= $something you are safe"}], "answers": [{"tags": [], "owner": {"reputation": 114653, "user_id": 1927832, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/ziSzK.jpg?s=128&g=1", "display_name": "Suresh Atta", "link": "https://stackoverflow.com/users/1927832/suresh-atta"}, "is_accepted": true, "score": 3, "last_activity_date": 1501092309, "creation_date": 1501092309, "answer_id": 45334425, "question_id": 45334353, "link": "https://stackoverflow.com/questions/45334353/logical-if-difference/45334425#45334425", "title": "Logical if difference", "body": "<p>Actually there is no difference in both performance wise or in functional perspective.  I can say it's a personal choice of coding style often called that as <a href=\"https://en.wikipedia.org/wiki/Yoda_conditions\" rel=\"nofollow noreferrer\"><strong>Yoda Style</strong></a></p>\n\n<blockquote>\n  <p>In programming jargon, Yoda conditions (also called Yoda notation) is a programming style where the two parts of an expression are reversed in a conditional statement.</p>\n</blockquote>\n\n<p>I prefer the later way as the first way kills the readability of code (<em>at least for me</em>)</p>\n"}, {"tags": [], "owner": {"reputation": 132, "user_id": 5814477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac436707fbb0169142b9a87e5d59b636?s=128&d=identicon&r=PG&f=1", "display_name": "Satyapriya Mishra", "link": "https://stackoverflow.com/users/5814477/satyapriya-mishra"}, "is_accepted": false, "score": 1, "last_activity_date": 1501092329, "creation_date": 1501092329, "answer_id": 45334433, "question_id": 45334353, "link": "https://stackoverflow.com/questions/45334353/logical-if-difference/45334433#45334433", "title": "Logical if difference", "body": "<p>No,\nthere is absolutely no difference between the two as the if condition will check for equality between both sides.</p>\n"}], "owner": {"reputation": 23, "user_id": 8371748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817b6693d54c60661c8b7cacf3e5189a?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Reynald", "link": "https://stackoverflow.com/users/8371748/michael-reynald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "closed_date": 1501092610, "accepted_answer_id": 45334425, "answer_count": 2, "score": 1, "last_activity_date": 1501092329, "creation_date": 1501092086, "question_id": 45334353, "link": "https://stackoverflow.com/questions/45334353/logical-if-difference", "closed_reason": "Duplicate", "title": "Logical if difference", "body": "<p>Recently, I came across a code like this:</p>\n\n<pre><code>if (0 === $something) { }\n</code></pre>\n\n<p>Is there any difference between the code above with:</p>\n\n<pre><code>if ($something === 0) { }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "decorator", "reflect-metadata"], "answers": [{"tags": [], "owner": {"reputation": 645, "user_id": 815400, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c61d31eceb235428f7a7da43541b6169?s=128&d=identicon&r=PG", "display_name": "xuso", "link": "https://stackoverflow.com/users/815400/xuso"}, "is_accepted": true, "score": 0, "last_activity_date": 1502190555, "creation_date": 1502190555, "answer_id": 45566722, "question_id": 45333323, "link": "https://stackoverflow.com/questions/45333323/typescript-decorator-only-works-within-the-same-method/45566722#45566722", "title": "Typescript decorator only works within the same method", "body": "<p>For those with the same issue, I don't think this is a solution but, in my case, switching from Webpack to Rollup.js solved the problem...</p>\n"}], "owner": {"reputation": 645, "user_id": 815400, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c61d31eceb235428f7a7da43541b6169?s=128&d=identicon&r=PG", "display_name": "xuso", "link": "https://stackoverflow.com/users/815400/xuso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 1, "accepted_answer_id": 45566722, "answer_count": 1, "score": 3, "last_activity_date": 1502190555, "creation_date": 1501088751, "last_edit_date": 1501089380, "question_id": 45333323, "link": "https://stackoverflow.com/questions/45333323/typescript-decorator-only-works-within-the-same-method", "title": "Typescript decorator only works within the same method", "body": "<p>I'm trying to use Typescript decorators in one project of mine, but I encountered an strange behaviour that I'm not capable of understand.</p>\n\n<p>It only seems to work if the decorated class is inside the same method that is trying to obtain the metadata:</p>\n\n<pre><code>describe('metadata tests', () =&gt; {\n\n    it('should retrieve metadata', () =&gt; {\n\n        class Test {\n            @TestDecorator('some value')\n            property: string;\n        }\n\n        const metadata = Reflect.getMetadata('test', new Test(), 'property');\n        expect(metadata).toEqual('some value'); //Passes\n    });\n\n});\n</code></pre>\n\n<p>But as soon as I move it outside the method, it does not work anymore:</p>\n\n<pre><code>describe('metadata tests', () =&gt; {\n\n    class Test {\n        @TestDecorator('some value')\n        property: string;\n    }\n\n    it('should retrieve metadata', () =&gt; {\n        const metadata = Reflect.getMetadata('test', new Test(), 'property');\n        expect(metadata).toEqual('some value'); //Fails\n    });\n\n});\n</code></pre>\n\n<p>Both tests are using this test decorator:</p>\n\n<pre><code>function TestDecorator(value: any) {\n    return function (target: any, propertyKey: string) {\n        console.log(`I'm being decorated!`);\n        Reflect.defineMetadata('test', value, target, propertyKey);\n    };\n}\n</code></pre>\n\n<p>And both are printing to the console...</p>\n\n<p>Also, on both transpiled code I can see the property being decorated correctly and exactly in the same way:</p>\n\n<pre><code>var Test = (function () {\n    function Test() {\n    }\n    __decorate([\n        TestDecorator('some value'),\n        __metadata(\"design:type\", String)\n    ], Test.prototype, \"property\", void 0);\n    return Test;\n}());\n</code></pre>\n\n<p>And here it is my <code>tsconfig.json</code>. I believe is correct (<code>es5</code>, <code>emitDecoratorMetadata</code> and <code>experimentalDecorators</code>):</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"target\": \"es5\",\n    \"declaration\": true,\n    \"outDir\": \"dist\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": true\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"dist\"\n  ]\n}\n</code></pre>\n\n<p>What am I missing? </p>\n"}, {"tags": ["javascript", "angularjs", "json", "forms", "typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1501092397, "post_id": 45332983, "comment_id": 77630927, "body": "There&#39;s no JSON involved here..."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 8292687, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/f6bbfddd968184df85c2a0defae8b679?s=128&d=identicon&r=PG&f=1", "display_name": "AngularNewbie", "link": "https://stackoverflow.com/users/8292687/angularnewbie"}, "edited": false, "score": 0, "creation_date": 1501090253, "post_id": 45333159, "comment_id": 77629604, "body": "Alejandro Reyes It works but I can&#39;t display the number in console.log for the product. It displays NaN"}, {"owner": {"reputation": 146, "user_id": 2247390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0uq88.jpg?s=128&g=1", "display_name": "pinkfloyd", "link": "https://stackoverflow.com/users/2247390/pinkfloyd"}, "reply_to_user": {"reputation": 133, "user_id": 8292687, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/f6bbfddd968184df85c2a0defae8b679?s=128&d=identicon&r=PG&f=1", "display_name": "AngularNewbie", "link": "https://stackoverflow.com/users/8292687/angularnewbie"}, "edited": false, "score": 0, "creation_date": 1501093603, "post_id": 45333159, "comment_id": 77631573, "body": "Probably due to a type issue. You could try parsing the changeType to integers, something like: var x = +changeType * 5; The + sign is parsing your variable. Cheers!"}, {"owner": {"reputation": 133, "user_id": 8292687, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/f6bbfddd968184df85c2a0defae8b679?s=128&d=identicon&r=PG&f=1", "display_name": "AngularNewbie", "link": "https://stackoverflow.com/users/8292687/angularnewbie"}, "edited": false, "score": 0, "creation_date": 1501124289, "post_id": 45333159, "comment_id": 77642922, "body": "still returns a NaN. Why do I get this NaN?"}, {"owner": {"reputation": 146, "user_id": 2247390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0uq88.jpg?s=128&g=1", "display_name": "pinkfloyd", "link": "https://stackoverflow.com/users/2247390/pinkfloyd"}, "reply_to_user": {"reputation": 133, "user_id": 8292687, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/f6bbfddd968184df85c2a0defae8b679?s=128&d=identicon&r=PG&f=1", "display_name": "AngularNewbie", "link": "https://stackoverflow.com/users/8292687/angularnewbie"}, "edited": false, "score": 0, "creation_date": 1501176377, "post_id": 45333159, "comment_id": 77676141, "body": "Could you please do &#39;console.log(changeType)&#39; and give us the result of it?"}, {"owner": {"reputation": 146, "user_id": 2247390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0uq88.jpg?s=128&g=1", "display_name": "pinkfloyd", "link": "https://stackoverflow.com/users/2247390/pinkfloyd"}, "reply_to_user": {"reputation": 133, "user_id": 8292687, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/f6bbfddd968184df85c2a0defae8b679?s=128&d=identicon&r=PG&f=1", "display_name": "AngularNewbie", "link": "https://stackoverflow.com/users/8292687/angularnewbie"}, "edited": false, "score": 0, "creation_date": 1501176587, "post_id": 45333159, "comment_id": 77676271, "body": "Also you could try, depending on your needs, using form.value.changeType instead of form.changeType. Hope it helps."}, {"owner": {"reputation": 133, "user_id": 8292687, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/f6bbfddd968184df85c2a0defae8b679?s=128&d=identicon&r=PG&f=1", "display_name": "AngularNewbie", "link": "https://stackoverflow.com/users/8292687/angularnewbie"}, "edited": false, "score": 0, "creation_date": 1501327198, "post_id": 45333159, "comment_id": 77737909, "body": "0, Undefined, NaN"}, {"owner": {"reputation": 133, "user_id": 8292687, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/f6bbfddd968184df85c2a0defae8b679?s=128&d=identicon&r=PG&f=1", "display_name": "AngularNewbie", "link": "https://stackoverflow.com/users/8292687/angularnewbie"}, "edited": false, "score": 0, "creation_date": 1501327558, "post_id": 45333159, "comment_id": 77738002, "body": "console.log(form.changeType);     const changeType = form.ChangeType;     console.log(changeType)     var x = +changeType * 5;      console.log(x);"}], "tags": [], "owner": {"reputation": 146, "user_id": 2247390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0uq88.jpg?s=128&g=1", "display_name": "pinkfloyd", "link": "https://stackoverflow.com/users/2247390/pinkfloyd"}, "is_accepted": true, "score": 0, "last_activity_date": 1501088236, "creation_date": 1501088236, "answer_id": 45333159, "question_id": 45332983, "link": "https://stackoverflow.com/questions/45332983/json-get-the-value-of-radio-not-with-key-on-form-submit/45333159#45333159", "title": "JSON: Get the value of radio not with key on form submit", "body": "<p>In this case, you could do something like:</p>\n\n<pre><code>memleticsSubmitForm(form) {\n    console.log(form.changeType);\n    const changeType = form.changeType; // Your form has this attribute\n    var x = changeType * 5; // So use it ;)\n    console.log(x);\n}\n</code></pre>\n\n<p>Hope it helps!!</p>\n"}], "owner": {"reputation": 133, "user_id": 8292687, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/f6bbfddd968184df85c2a0defae8b679?s=128&d=identicon&r=PG&f=1", "display_name": "AngularNewbie", "link": "https://stackoverflow.com/users/8292687/angularnewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 45333159, "answer_count": 1, "score": 0, "last_activity_date": 1501088236, "creation_date": 1501087611, "last_edit_date": 1501087976, "question_id": 45332983, "link": "https://stackoverflow.com/questions/45332983/json-get-the-value-of-radio-not-with-key-on-form-submit", "title": "JSON: Get the value of radio not with key on form submit", "body": "<p>I want to get the value only on form submit in angular. This is the Code</p>\n\n<p>In my Typescript:</p>\n\n<pre><code>constructor(public navCtrl: NavController, public navParams: NavParams, public modalCtrl: ModalController, public formBuilder: FormBuilder, public alertCtrl: AlertController,\npublic loadingCtrl: LoadingController) {\n\nthis.memleticsForm = formBuilder.group({\n    changeType: [{}, Validators.required]\n});\n}\n\n\nmemleticsSubmitForm(form) {\n    console.log(form);\n\n  }\n</code></pre>\n\n<p>Html:</p>\n\n<pre><code> &lt;form name=\"learningtestForm\" [formGroup]=\"memleticsForm\" (submit)=\"memleticsSubmitForm(memleticsForm.value)\" novalidate&gt;\n&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th&gt;Question&lt;/th&gt;\n    &lt;th&gt;0&lt;/th&gt;\n    &lt;th&gt;1&lt;/th&gt;\n    &lt;th&gt;2&lt;/th&gt;\n  &lt;/tr&gt;\n\n  &lt;tr&gt;\n   &lt;td&gt;You have a personal or private interest or hobby that you like to do alone.&lt;/td&gt;\n   &lt;td&gt;\n      &lt;input type=\"radio\" formControlName=\"changeType\" [value]=0&gt;\n   &lt;/td&gt;\n   &lt;td&gt;\n      &lt;input type=\"radio\" formControlName=\"changeType\" [value]=1&gt;\n   &lt;/td&gt;\n   &lt;td&gt;\n      &lt;input type=\"radio\" formControlName=\"changeType\" [value]=2&gt;\n   &lt;/td&gt;\n  &lt;/tr&gt;\n\n&lt;/table&gt;\n\n&lt;button ion-button block color=\"secondary\" end type=\"submit\"&gt;Submit&lt;/button&gt;\n</code></pre>\n\n<p></p>\n\n<p>When I clicked a button and submits it, the output on my console.log is \"Object {changeType: 2}\"</p>\n\n<p>But I want to get only the \"2\" and use it to compute a value like</p>\n\n<pre><code>memleticsSubmitForm(form) {\n    var x = form * 5;\nconsole.log(x); // if 2 is clicked it should display 10\n}\n</code></pre>\n"}, {"tags": ["angular", "google-chrome", "typescript", "webpack", "angular-cli"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1501087548, "post_id": 45332792, "comment_id": 77627814, "body": "angular-cli hides webpack so you don&#39;t have to worry about it. Make sure you have sourcemap options turned on in <code>tsconfig.json</code>."}, {"owner": {"reputation": 6010, "user_id": 930875, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/oXmkz.jpg?s=128&g=1", "display_name": "Ben Taliadoros", "link": "https://stackoverflow.com/users/930875/ben-taliadoros"}, "edited": false, "score": 0, "creation_date": 1501087715, "post_id": 45332792, "comment_id": 77627904, "body": "I do have it turned on, will update with config, thanks"}, {"owner": {"reputation": 146, "user_id": 2247390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0uq88.jpg?s=128&g=1", "display_name": "pinkfloyd", "link": "https://stackoverflow.com/users/2247390/pinkfloyd"}, "edited": false, "score": 1, "creation_date": 1501088847, "post_id": 45332792, "comment_id": 77628684, "body": "what version of cli are you using?"}, {"owner": {"reputation": 6010, "user_id": 930875, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/oXmkz.jpg?s=128&g=1", "display_name": "Ben Taliadoros", "link": "https://stackoverflow.com/users/930875/ben-taliadoros"}, "edited": false, "score": 0, "creation_date": 1501143266, "post_id": 45332792, "comment_id": 77651284, "body": "My Angular CLI version is 1.1.1"}], "answers": [{"tags": [], "owner": {"reputation": 6010, "user_id": 930875, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/oXmkz.jpg?s=128&g=1", "display_name": "Ben Taliadoros", "link": "https://stackoverflow.com/users/930875/ben-taliadoros"}, "is_accepted": false, "score": 0, "last_activity_date": 1501145311, "creation_date": 1501145311, "answer_id": 45345743, "question_id": 45332792, "link": "https://stackoverflow.com/questions/45332792/no-webpack-in-angular-cli-ng-new/45345743#45345743", "title": "No webpack in Angular-CLI ng new", "body": "<p>Installed latest stable Chrome to fix it.</p>\n\n<p>I was using Chromium Version 53.0.2785.143 Built on Ubuntu, running on Ubuntu 14.04 (64-bit).\nI noticed my colleagues version of Chromium was higher, but since I'm having a bug with Ubuntu software center - I just installed the latest Chrome. This solved my issue.</p>\n"}], "owner": {"reputation": 6010, "user_id": 930875, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/oXmkz.jpg?s=128&g=1", "display_name": "Ben Taliadoros", "link": "https://stackoverflow.com/users/930875/ben-taliadoros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1501145311, "creation_date": 1501086968, "last_edit_date": 1501087824, "question_id": 45332792, "link": "https://stackoverflow.com/questions/45332792/no-webpack-in-angular-cli-ng-new", "title": "No webpack in Angular-CLI ng new", "body": "<p>I created an app using Angular CLI using:</p>\n\n<p><code>ng new my-app</code></p>\n\n<p>There is no Webpack configured by default and in Chrome dev tools the .ts files are not showing/mapped so I can only debug the transpiled JS.</p>\n\n<p><strong>Why is Webpack not in there by default, has Angular got its own alternative?</strong></p>\n\n<p><strong>Is this the reason my .ts files are not mapped properly?</strong></p>\n\n<p>EDIT - after reading @torazaburo 's comment - here is my tsconfig.json:</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"baseUrl\": \"src\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2016\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n\n<p>Also to add my coworker went through the same steps as me, I assume, and they have the .ts files served by webpack in chrome dev tools</p>\n"}, {"tags": ["typescript", "visual-studio-code", "typescript-typings"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1501086665, "post_id": 45332603, "comment_id": 77627276, "body": "Do you mean you want to remove <code>toExponential()</code> from the <code>Number</code> interface?"}, {"owner": {"reputation": 4894, "user_id": 300037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Yq46V.jpg?s=128&g=1", "display_name": "Darius", "link": "https://stackoverflow.com/users/300037/darius"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1501086717, "post_id": 45332603, "comment_id": 77627315, "body": "Yeah but I think they&#39;re synonymous in TS? But if not then yeah that&#39;s what I mean. Types for which I don&#39;t control their initial declaration and/or are built in"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1501086866, "post_id": 45332603, "comment_id": 77627402, "body": "I don&#39;t think you can merge/override it to remove it, but you can replace <code>lib.es5.d.ts</code> with your own version excluding it."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1501086890, "post_id": 45332603, "comment_id": 77627417, "body": "And above, I don&#39;t know what &quot;<code>isExponential()</code> is.  Do you mean <code>toExponential()</code>?"}, {"owner": {"reputation": 4894, "user_id": 300037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Yq46V.jpg?s=128&g=1", "display_name": "Darius", "link": "https://stackoverflow.com/users/300037/darius"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1501086954, "post_id": 45332603, "comment_id": 77627456, "body": "@jcalz I do, sorry. Writing on mobile client off top of my head whilst walking!"}, {"owner": {"reputation": 4894, "user_id": 300037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Yq46V.jpg?s=128&g=1", "display_name": "Darius", "link": "https://stackoverflow.com/users/300037/darius"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1501087038, "post_id": 45332603, "comment_id": 77627517, "body": "@jcalz replacing the d.ts was what I thought it might take.. but I&#39;m not sure that&#39;ll work if the user already has the original in their project"}, {"owner": {"reputation": 2905, "user_id": 2229538, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dLCR9.png?s=128&g=1", "display_name": "Misaz", "link": "https://stackoverflow.com/users/2229538/misaz"}, "edited": false, "score": 0, "creation_date": 1501088415, "post_id": 45332603, "comment_id": 77628398, "body": "Make a copy of lib.es5.d.ts (in older versions lib.d.ts) remove toExponential, then include this copy as reference to your project and complie with <code>--noLib</code> or <code>noLib: true</code> in tsconfig.json"}, {"owner": {"reputation": 4894, "user_id": 300037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Yq46V.jpg?s=128&g=1", "display_name": "Darius", "link": "https://stackoverflow.com/users/300037/darius"}, "edited": false, "score": 0, "creation_date": 1501088651, "post_id": 45332603, "comment_id": 77628557, "body": "So, you mean include that hacked file with the typings for my npm module package? ps. post it as an answer so you can get credit if it seems like the best approach!"}], "answers": [{"tags": [], "owner": {"reputation": 4894, "user_id": 300037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Yq46V.jpg?s=128&g=1", "display_name": "Darius", "link": "https://stackoverflow.com/users/300037/darius"}, "is_accepted": false, "score": 0, "last_activity_date": 1501170035, "creation_date": 1501170035, "answer_id": 45355350, "question_id": 45332603, "link": "https://stackoverflow.com/questions/45332603/override-existing-interfaces-to-remove-members/45355350#45355350", "title": "Override existing interfaces to remove members", "body": "<p>In the end I just inserted this at the top of my existing <code>d.ts</code> file I was writing for the project:</p>\n\n<pre><code>// Prevent Intellisense suggesting default ES interfaces\n/// &lt;reference no-default-lib=\"true\"/&gt;\n</code></pre>\n\n<p>This lives inside a <code>typings/</code> folder from the root (though not sure that folder structure convention is necessary in newer TS setups). </p>\n\n<p>This prevents VSCode suggesting ES style interfaces for completion. I can then copy over the ES interfaces from the default lib into this file as I need them (at present I need none!).</p>\n\n<p>Thanks to the commenters above for helping me arrive at this solution. It's working well so far!</p>\n"}], "owner": {"reputation": 4894, "user_id": 300037, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Yq46V.jpg?s=128&g=1", "display_name": "Darius", "link": "https://stackoverflow.com/users/300037/darius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501170035, "creation_date": 1501086309, "last_edit_date": 1501086964, "question_id": 45332603, "link": "https://stackoverflow.com/questions/45332603/override-existing-interfaces-to-remove-members", "title": "Override existing interfaces to remove members", "body": "<p>In TypeScript, given an existing type in scope  is there a way to redeclare that type in order to remove some members?</p>\n\n<p>Specifically I want to remove functions like <code>toExponential()</code> from <code>Number</code> and have intellisense reflect that change on all numbers thereafter</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 851, "user_id": 2013245, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/2f488cf22b43ac5a975718787ac57197?s=128&d=identicon&r=PG", "display_name": "ashley", "link": "https://stackoverflow.com/users/2013245/ashley"}, "edited": false, "score": 0, "creation_date": 1501084774, "post_id": 45331851, "comment_id": 77625903, "body": "You can try like that &lt;c1 (out)=#temp2.var&gt;&lt;/c1&gt; &lt;c2 #temp2&gt;&lt;/c2&gt;. (out) represent an output param using event emitter. #temp2 is a template reference variable. Create component variable var in component child 2."}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 8370114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fb385e6c0a716d336b9a537aaf580d?s=128&d=identicon&r=PG&f=1", "display_name": "Wilcko", "link": "https://stackoverflow.com/users/8370114/wilcko"}, "edited": false, "score": 1, "creation_date": 1501085082, "post_id": 45331964, "comment_id": 77626121, "body": "Please explain why this was downvoted? It is working code in my own solution. Thanks"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1501085202, "post_id": 45331964, "comment_id": 77626211, "body": "I didn&#39;t downvote, but I believe it&#39;s related to because you answered a question that was marked as a duplicate, you can read how to handle duplicate question: <a href=\"https://meta.stackexchange.com/questions/10841/how-should-duplicate-questions-be-handled\">How should duplicate questions be handled</a>"}, {"owner": {"reputation": 1295, "user_id": 8173932, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/887a51c68636c47f1666c1436913ddbf?s=128&d=identicon&r=PG&f=1", "display_name": "Anna F", "link": "https://stackoverflow.com/users/8173932/anna-f"}, "edited": false, "score": 1, "creation_date": 1501085378, "post_id": 45331964, "comment_id": 77626349, "body": "@Wilcko this solution is good and it&#39;s a different, thanks"}], "tags": [], "owner": {"reputation": 138, "user_id": 8370114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fb385e6c0a716d336b9a537aaf580d?s=128&d=identicon&r=PG&f=1", "display_name": "Wilcko", "link": "https://stackoverflow.com/users/8370114/wilcko"}, "is_accepted": true, "score": 5, "last_activity_date": 1501085753, "last_edit_date": 1501085753, "creation_date": 1501084571, "answer_id": 45331964, "question_id": 45331851, "link": "https://stackoverflow.com/questions/45331851/how-to-pass-variable-from-child-to-child-in-angular2/45331964#45331964", "title": "How to pass variable from child to child in Angular2", "body": "<p>You could emit the variable from child1 using a EventEmitter to the parent. Catch it as an input within the parent and then pass it to child2 within the selector.</p>\n\n<p>Child 1: </p>\n\n<pre><code>import { Output } from '@angular/core';\n@Output() testVariable = new EventEmitter();\n</code></pre>\n\n<p>Catch within parent and emit in Parent html: </p>\n\n<pre><code>&lt;c2-component [testVariable]=\"testVariable\"&gt;&lt;/c2-component&gt;\n</code></pre>\n\n<p>Child 2:</p>\n\n<pre><code>import { Input} from '@angular/core';\n@Input() testVariable;\n</code></pre>\n"}], "owner": {"reputation": 1295, "user_id": 8173932, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/887a51c68636c47f1666c1436913ddbf?s=128&d=identicon&r=PG&f=1", "display_name": "Anna F", "link": "https://stackoverflow.com/users/8173932/anna-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2757, "favorite_count": 0, "closed_date": 1501085065, "accepted_answer_id": 45331964, "answer_count": 1, "score": -1, "last_activity_date": 1501085753, "creation_date": 1501084233, "last_edit_date": 1501085245, "question_id": 45331851, "link": "https://stackoverflow.com/questions/45331851/how-to-pass-variable-from-child-to-child-in-angular2", "closed_reason": "Duplicate", "title": "How to pass variable from child to child in Angular2", "body": "<p>I have three components : <strong>parent (P)</strong>  and <strong>two children (C1)</strong> and <strong>(C2)</strong> \n(they are <strong>both children of P</strong> component and they are <strong>not nested</strong>) \nin parent template it looks like </p>\n\n<pre><code>&lt;c1-component&gt;&lt;/c1-component&gt;\n&lt;c2-component&gt;&lt;/c2-component&gt;\n</code></pre>\n\n<p>I have a variable <code>myVar</code> in <code>C1</code> (number), which I want decrease and increase in <code>C2</code> component and give a new value of this variable back to <code>C1</code> (so, I want to pass not a function, but variable). How could I pass this variable from <code>C1</code> to <code>C2</code>?\nI would like to solve this problem without shared services.</p>\n"}, {"tags": ["javascript", "jquery", "angular", "typescript"], "comments": [{"owner": {"reputation": 183, "user_id": 7020463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/565ac99e30f77a2b5bd151bb57db4af3?s=128&d=identicon&r=PG&f=1", "display_name": "Lrawls", "link": "https://stackoverflow.com/users/7020463/lrawls"}, "edited": false, "score": 0, "creation_date": 1501083635, "post_id": 45330568, "comment_id": 77625046, "body": "I updated my question, do you still think that is duplicate?"}, {"owner": {"reputation": 183, "user_id": 7020463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/565ac99e30f77a2b5bd151bb57db4af3?s=128&d=identicon&r=PG&f=1", "display_name": "Lrawls", "link": "https://stackoverflow.com/users/7020463/lrawls"}, "edited": false, "score": 0, "creation_date": 1505172598, "post_id": 45330568, "comment_id": 79293757, "body": "Rachid Oussanaa, Toto, so, do you still think that is duplicate couple of 14n451k15"}], "answers": [{"comments": [{"owner": {"reputation": 1078, "user_id": 1985574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QYATo.jpg?s=128&g=1", "display_name": "Patrick Barr", "link": "https://stackoverflow.com/users/1985574/patrick-barr"}, "edited": false, "score": 2, "creation_date": 1501083425, "post_id": 45330961, "comment_id": 77624887, "body": "If negatives or decimals are desired, this can be modified to <code>^((-?([1-9][0-9]*(\\.[0-9]*[1-9])?|0\\.[0-9]*[1-9])|0))$</code> which won&#39;t allow trailing <code>0</code>&#39;s in decimals, won&#39;t allow <code>-0</code>, or preceding <code>0</code>&#39;s (either before or after <code>-</code>)"}], "tags": [], "owner": {"reputation": 358, "user_id": 365544, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e5b1f46f5efe233249b17962261401ba?s=128&d=identicon&r=PG", "display_name": "Hemant Pawar", "link": "https://stackoverflow.com/users/365544/hemant-pawar"}, "is_accepted": false, "score": 2, "last_activity_date": 1501081865, "creation_date": 1501081865, "answer_id": 45330961, "question_id": 45330568, "link": "https://stackoverflow.com/questions/45330568/function-that-allows-only-integer-numbers-not-starting-with-zero-oninput-event/45330961#45330961", "title": "Function that allows only Integer numbers not starting with zero onInput event", "body": "<p>You can use this RegEx</p>\n\n<pre><code>^[1-9][0-9]*$\n</code></pre>\n\n<p>For explanation check this image</p>\n\n<p><a href=\"https://i.stack.imgur.com/jrUMK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jrUMK.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 183, "user_id": 7020463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/565ac99e30f77a2b5bd151bb57db4af3?s=128&d=identicon&r=PG&f=1", "display_name": "Lrawls", "link": "https://stackoverflow.com/users/7020463/lrawls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "closed_date": 1501082820, "answer_count": 1, "score": 0, "last_activity_date": 1501083252, "creation_date": 1501080879, "last_edit_date": 1501083252, "question_id": 45330568, "link": "https://stackoverflow.com/questions/45330568/function-that-allows-only-integer-numbers-not-starting-with-zero-oninput-event", "closed_reason": "Duplicate", "title": "Function that allows only Integer numbers not starting with zero onInput event", "body": "<p>I'm trying to make a function that only allows numbers with any amount of digits and not starting with 0, but this validation doesn't works properly, because when I want to paste and drop on the input, it fails for the first time but the next time, works!</p>\n\n<pre><code>jQuery(document).on('input', '.validatenumber', function () {\n  let start = this.selectionStart, end = this.selectionEnd;\n  let oldtxt = $(this);\n  let find = /[^0-9]/g;\n  if (oldtxt.val().match(find)) {\n    oldtxt.val(oldtxt.val().replace(find, ''));\n    this.setSelectionRange(start - 1, end - 1);\n  }\n  else {\n    if (oldtxt.val() &lt; 1) {\n      oldtxt.val(oldtxt.val().replace(oldtxt.val(), ''));\n    } else {\n     oldtxt.val(oldtxt.val() / 1);\n      this.setSelectionRange(start, end);\n   }\n  }\n});\n</code></pre>\n\n<p>why only when I typing works but not when I paste or drop?</p>\n"}, {"tags": ["angular", "typescript", "plotly"], "answers": [{"tags": [], "owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "is_accepted": false, "score": 2, "last_activity_date": 1548438325, "last_edit_date": 1548438325, "creation_date": 1501100129, "answer_id": 45336588, "question_id": 45330466, "link": "https://stackoverflow.com/questions/45330466/plotly-js-shows-not-full-name-of-trace-when-hovering-over/45336588#45336588", "title": "Plotly.js shows not full name of trace when hovering over", "body": "<p>Plotly has a new attribute <a href=\"https://plot.ly/javascript/reference/#scatter-hoverlabel-namelength\" rel=\"nofollow noreferrer\"><code>namelength</code></a> which can be used for that purpose, see the other answer by Rajshekar Reddy.</p>\n\n<blockquote>\n  <p>namelength (integer or array of integers greater than or equal to -1) </p>\n  \n  <p>Sets the length (in number of characters) of the trace name in the\n  hover labels for this trace. </p>\n  \n  <p>-1 shows the whole name regardless of length. </p>\n  \n  <p>0-3 shows the first 0-3 characters, and </p>\n  \n  <p>an integer >3 will show the whole name if it is less than that many characters, but if it  is longer, will truncate to <code>namelength - 3</code> characters and add an\n  ellipsis.</p>\n</blockquote>\n\n<p>If you want to do it manually the solution below still works.</p>\n\n<p>You could either assign the trace <code>name</code> to <code>text</code> as well and set <code>hoverinfo</code> to <code>x+y+text</code> or modify the <code>hovertext</code> object yourself (see <a href=\"https://stackoverflow.com/a/40948996/2776376\">here</a> for a more detailed explanation).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var _this = {\r\n  drawing: [{\r\n    x: [1, 2, 3],\r\n    y: [1, 2, 5],\r\n    text: \"Yeah, that's a really long name, let's see what Plotly does to it\",\r\n    name: \"Yeah, that's a really long name, let's see what Plotly does to it\",\r\n    hoverinfo: \"x+y+name\"\r\n  }]\r\n};\r\n\r\nvar myPlot = document.getElementById('graph1');\r\nPlotly.newPlot(myPlot, _this.drawing);\r\n_this.drawing[0].hoverinfo = 'x+y+text';\r\nPlotly.newPlot('graph2', _this.drawing);\r\n\r\n\r\nmyPlot.on('plotly_hover', function(data) {\r\n  var infotext = data.points.map(function(d) {\r\n\r\n    if (d.x &gt; 1) {\r\n      return d.data.name;\r\n    } else {\r\n      return \"\";\r\n    }\r\n  });\r\n\r\n  if (infotext[0] === \"\") {\r\n    return;\r\n  }\r\n  var hoverinfo = Plotly.d3.selectAll('.hovertext').selectAll('.name');\r\n  var cloned = Plotly.d3.selectAll('.hovertext').append(hoverinfo.property(\"nodeName\"));\r\n  var attr = hoverinfo.node().attributes;\r\n  for (var j = 0; j &lt; attr.length; j += 1) {\r\n    cloned.attr(attr[j].name, attr[j].value);\r\n  }\r\n  cloned[0][0].innerHTML = infotext[0];\r\n  hoverinfo.attr('opacity', 0);\r\n  cloned.attr('opacity', 1);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src='https://cdn.plot.ly/plotly-latest.min.js'&gt;&lt;/script&gt;\r\n&lt;div id='graph1'&gt;&lt;/div&gt;\r\n&lt;div id='graph2'&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 17092, "user_id": 2592042, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ISeS9.jpg?s=128&g=1", "display_name": "Rajshekar Reddy", "link": "https://stackoverflow.com/users/2592042/rajshekar-reddy"}, "is_accepted": true, "score": 3, "last_activity_date": 1548340227, "creation_date": 1548340227, "answer_id": 54348975, "question_id": 45330466, "link": "https://stackoverflow.com/questions/45330466/plotly-js-shows-not-full-name-of-trace-when-hovering-over/54348975#54348975", "title": "Plotly.js shows not full name of trace when hovering over", "body": "<p>I could get the long name to be displayed by just adding below line in my trace object.</p>\n\n<pre><code>hoverlabel: {namelength :-1}\n</code></pre>\n\n<p>Here is a working example.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Plotly.plot('graph', [{\r\n  y: [2,1,2],\r\n  name: 'loooooooooooooooooooooooooong text name',\r\n  hoverinfo: \"y+name\",\r\n  hoverlabel: {namelength :-1},\r\n}])</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.plot.ly/plotly-latest.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"graph\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1476, "user_id": 4301564, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3983c5773e51a5f05aa92a1dac77a711?s=128&d=identicon&r=PG&f=1", "display_name": "fangio", "link": "https://stackoverflow.com/users/4301564/fangio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1278, "favorite_count": 0, "accepted_answer_id": 54348975, "answer_count": 2, "score": 1, "last_activity_date": 1548438325, "creation_date": 1501080622, "question_id": 45330466, "link": "https://stackoverflow.com/questions/45330466/plotly-js-shows-not-full-name-of-trace-when-hovering-over", "title": "Plotly.js shows not full name of trace when hovering over", "body": "<p>I made a graph with plotly in angular app, but the trace has a long name.\nSo when I hover over my graph, the name is shortened by putting ... behind it. I really don't want this. How can I change this?</p>\n\n<p>This is my code.</p>\n\n<pre><code> var text = \"Plot_ForecastConfig\";\n    var layout = {\n      showlegend: true,\n      legend: {\"orientation\": \"h\"},\n      yaxis: {\n        title: 'Sales',\n        titlefont: {\n          family: 'Courier New, monospace',\n          size: 18,\n          color: '#7f7f7f'\n        }\n      }\n    };\n    var options = {\n      scrollZoom: true,\n      showLink: false,\n      modeBarButtonsToAdd: [{\n        name: 'image',\n        title: 'Download plot as a png',\n        icon: Plotly.Icons.camera,\n        click: function () {\n          Plotly.downloadImage(document.getElementById('graph'), {\n            filename: text,\n            format: 'png',\n            height: 700,\n            width: 1000\n          });\n        }\n      }],\n      modeBarButtonsToRemove: ['toImage', 'zoom2d', 'pan', 'pan2d', 'sendDataToCloud', 'hoverClosestCartesian', 'autoScale2d'],\n      displaylogo: false,\n      displayModeBar: true,\n    };\n\n    Plotly.newPlot('graph', this.drawing, layout, options);\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501087811, "post_id": 45330319, "comment_id": 77627972, "body": "Got there in the end.. My version worked with a Plunker too."}], "answers": [{"comments": [{"owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1501081348, "post_id": 45330707, "comment_id": 77623143, "body": "Thanks for the reply, it did not work however. The date field remains at its default stare, prompting for the date selection."}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "reply_to_user": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501774619, "post_id": 45330707, "comment_id": 77938609, "body": "@0mpurdy ??? I see the code I  discussed in my post.. It&#39;s in the src/app.ts???? I did re-use the UI you&#39;d created... Just to demo it works... It&#39;s not plagiarised in as much as the solution to the core problem is different."}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501774830, "post_id": 45330707, "comment_id": 77938754, "body": "@JGFMK no problem! it was just that the plunker was still showing my version - I thought you may have forgotten to unfreeze after making the changes :) (It could however have possibly been a caching issue on my part - the terminology I used was a bit strong too I didn&#39;t mean it like that) I&#39;ll delete my comment (and this one) shortly as they&#39;re no longer relevant - have a good day!"}], "tags": [], "owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "is_accepted": false, "score": 15, "last_activity_date": 1501088286, "last_edit_date": 1501088286, "creation_date": 1501081220, "answer_id": 45330707, "question_id": 45330319, "link": "https://stackoverflow.com/questions/45330319/angular2-setting-date-field-on-reactive-form/45330707#45330707", "title": "Angular2 - Setting date field on reactive form", "body": "<p>FormBuilder.group returns FormGroup:<br/>\n<a href=\"https://angular.io/api/forms/FormBuilder#group\" rel=\"noreferrer\">https://angular.io/api/forms/FormBuilder#group</a><br/>\n<a href=\"https://angular.io/api/forms/FormGroup#setValue\" rel=\"noreferrer\">https://angular.io/api/forms/FormGroup#setValue</a><br/></p>\n\n<p>Updates:<br/></p>\n\n<ul>\n<li>Using Angular Pipe in Typescript is discussed <a href=\"https://stackoverflow.com/questions/35159079/is-it-possible-to-use-pipe-in-the-code-in-angular-2\">here</a>.</li>\n<li><a href=\"https://stackoverflow.com/questions/673905/best-way-to-determine-users-locale-within-browser\">Discussion for locale</a>: <code>navigator.language</code>.</li>\n<li><a href=\"https://stackoverflow.com/a/39608753/495157\">Instantiate a Date Pipe</a></li>\n<li>Discussion on <a href=\"https://stackoverflow.com/questions/39515696/angular-2-show-current-formatted-date\">Dates in Angular</a>.</li>\n<li>Date Pipe <a href=\"https://angular.io/api/common/DatePipe\" rel=\"noreferrer\">docs</a> and <a href=\"https://github.com/angular/angular/blob/4.3.1/packages/common/src/pipes/date_pipe.ts#L16-L143\" rel=\"noreferrer\">source code</a>.</li>\n</ul>\n\n<hr>\n\n<pre><code>import {DatePipe} from '@angular/common'\n...\nlet dp = new DatePipe(navigator.language);\nlet p = 'y-MM-dd'; // YYYY-MM-DD\nlet dtr = dp.transform(new Date(), p);\nthis.transitionForm.setValue({effectiveEndDate: dtr}); \n</code></pre>\n\n<hr>\n\n<p><a href=\"https://plnkr.co/edit/31HivhdvfNV9F2kAqdIp?p=preview\" rel=\"noreferrer\">Plunker example (just hit reset)</a></p>\n"}, {"tags": [], "owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "is_accepted": true, "score": 17, "last_activity_date": 1501775144, "last_edit_date": 1501775144, "creation_date": 1501081388, "answer_id": 45330779, "question_id": 45330319, "link": "https://stackoverflow.com/questions/45330319/angular2-setting-date-field-on-reactive-form/45330779#45330779", "title": "Angular2 - Setting date field on reactive form", "body": "<p>When you run this code in Chrome (other browsers not tested) it logs an error to console:</p>\n\n<blockquote>\n  <p>The specified value \"7/26/2017\" does not conform to the required format, \"yyyy-MM-dd\".</p>\n</blockquote>\n\n<p>Which I think describes the problem pretty well</p>\n\n<p>You can fix it by changing your <code>currentDate()</code> method to something like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>currentDate() {\n  const currentDate = new Date();\n  return currentDate.toISOString().substring(0,10);\n}\n</code></pre>\n\n<p><a href=\"https://plnkr.co/edit/oQMZsR3mjGqyvLdU0gvL?p=preview\" rel=\"noreferrer\">Live plunker example</a></p>\n\n<p>While this <strong>does</strong> fix the problem <a href=\"https://stackoverflow.com/a/45330707/6894075\">the answer from @JGFMK</a> shows a better way of converting the date using a <code>DatePipe</code></p>\n"}, {"tags": [], "owner": {"reputation": 843, "user_id": 4060062, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh4.googleusercontent.com/-q-71YuFi14c/AAAAAAAAAAI/AAAAAAAAALw/GZ5gqSWZajY/photo.jpg?sz=128", "display_name": "Jared Whipple", "link": "https://stackoverflow.com/users/4060062/jared-whipple"}, "is_accepted": false, "score": 5, "last_activity_date": 1526168630, "creation_date": 1526168630, "answer_id": 50311561, "question_id": 45330319, "link": "https://stackoverflow.com/questions/45330319/angular2-setting-date-field-on-reactive-form/50311561#50311561", "title": "Angular2 - Setting date field on reactive form", "body": "<p>Angular has several ways to work with and manage forms. Not all the methods or even all configurations will show a value in the view. I have tried several options and my favorite by far is a reactive form configured like this, as it is simple, clean, flexible, supports validation and will show values in the view.</p>\n\n<p>In your component you need to import <code>FormBuilder</code> and <code>FormGroup</code> from <code>@angular/forms</code>. Optionally you can import <code>Validators</code> as a way to validate each form field.</p>\n\n<pre><code>import { FormBuilder, FormGroup, Validators } from '@angular/forms';\n</code></pre>\n\n<p>In the rest of the component we need to define a new variable of type FormGroup: <code>transitionForm: FormGroup</code>.</p>\n\n<p>Then we need to use constructor injection to make <code>fb</code> available as <code>FormBuilder</code>: <code>constructor(public fb: FormBuilder)</code>, and add field names to our FormBuilder variable: <code>this.transitionForm = fb.group({ ... });</code></p>\n\n<pre><code>export class EgComponent implements OnInit {\n  transitionForm: FormGroup;\n\n  constructor(public fb: FormBuilder) {\n    this.transitionForm = fb.group({\n      'effectiveEndDate': [''],\n      ...\n    });\n  }\n  ...\n}\n</code></pre>\n\n<p>You can set the date in many ways. Here we'll just set it using ngInit</p>\n\n<pre><code>ngOnInit() {\n  const currentDate = new Date().toISOString().substring(0, 10);\n  this.transitionForm.controls['transitionForm'].setValue(currentDate);\n}\n</code></pre>\n\n<p>For your form you just need is:</p>\n\n<pre><code>&lt;form (ngSubmit)=\"onSubmit(transitionForm)\" [formGroup]=\"transitionForm\" novalidate&gt;\n  &lt;input type=\"date\" formControlName=\"effectiveEndDate\"&gt;\n  ...\n  &lt;button type=\"submit\" [disabled]=\"transitionForm.invalid\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Because this method uses <code>ReactiveForms</code> you need to make sure to add it to <code>@NgModule</code></p>\n\n<pre><code>@NgModule({\n  declarations: [\n    ...\n  ],\n  imports: [\n    ...,\n    FormsModule,\n    ReactiveFormsModule\n  ],\n...\n</code></pre>\n\n<p>Besides making data visible in the view, doing it this way also allows for cleaner html form layout and simple validation. You completely eliminate the need for ngModel and form name tags.</p>\n\n<p>You can pass data to your method directly <code>(ngSubmit)=\"onSubmit(transitionForm)\"</code> and since it's a <code>FormGroup</code> your forms data is also available as <code>this.transitionForm.value</code></p>\n"}, {"comments": [{"owner": {"reputation": 3364, "user_id": 7508700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms4Mr.png?s=128&g=1", "display_name": "David Buck", "link": "https://stackoverflow.com/users/7508700/david-buck"}, "edited": false, "score": 4, "creation_date": 1592939797, "post_id": 62540736, "comment_id": 110603687, "body": "While this code may solve the question, <a href=\"https://meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/62540736/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}], "tags": [], "owner": {"reputation": 1, "user_id": 9774765, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CNn9hzemlwQ/AAAAAAAAAAI/AAAAAAAAIYU/FX3Or7_zvNA/photo.jpg?sz=128", "display_name": "Mohau Mohotloane", "link": "https://stackoverflow.com/users/9774765/mohau-mohotloane"}, "is_accepted": false, "score": 0, "last_activity_date": 1592939774, "last_edit_date": 1592939774, "creation_date": 1592934190, "answer_id": 62540736, "question_id": 45330319, "link": "https://stackoverflow.com/questions/45330319/angular2-setting-date-field-on-reactive-form/62540736#62540736", "title": "Angular2 - Setting date field on reactive form", "body": "<pre><code>&lt;input formControlName=&quot;loadActivationTime&quot; [value]=&quot;transitionForm .get('effectiveEndDate').value | date: 'dd/MM/yyyy hh:mm'&quot;   readonly=&quot;readonly&quot; matInput placeholder=&quot;effectiveEndDate&quot;&gt;\n</code></pre>\n"}], "owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47717, "favorite_count": 4, "accepted_answer_id": 45330779, "answer_count": 4, "score": 11, "last_activity_date": 1592939774, "creation_date": 1501080289, "question_id": 45330319, "link": "https://stackoverflow.com/questions/45330319/angular2-setting-date-field-on-reactive-form", "title": "Angular2 - Setting date field on reactive form", "body": "<p>I have a component that uses two date fields, a start date &amp; and end date.</p>\n\n<p>By default, I have my end date field disabled and I toggle it when they select a start date.</p>\n\n<pre><code>this.transitionForm = this.fb.group({\n effectiveEndDate: [{ value: '', disabled: true }]\n ..... \n});\n</code></pre>\n\n<p>I am trying to set the value of this end date field within my code.</p>\n\n<pre><code>this.transitionForm.controls['effectiveEndDate'].setValue(this.utils.currentDate());\n</code></pre>\n\n<p><strong>Utility Function:</strong></p>\n\n<pre><code>/**\n * Returns the current date\n */\ncurrentDate() {\n    const currentDate = new Date();\n    const day = currentDate.getDate();\n    const month = currentDate.getMonth() + 1;\n    const year = currentDate.getFullYear();\n    return month + \"/\" + day + \"/\" + year;\n}\n</code></pre>\n\n<p><strong>HTML:</strong> </p>\n\n<pre><code>&lt;input type=\"date\" class=\"form-control input-sm\" id=\"effectiveEndDate\" name=\"effectiveEndDate\" placeholder=\"Required\" formControlName=\"effectiveEndDate\"&gt;\n</code></pre>\n\n<p>For some reason, the field is not getting updated though.</p>\n\n<p>I have also tried to use <code>PatchValue</code> and that wasn't setting it either.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["angular", "typescript", "firebase", "rxjs", "angular2-routing"], "answers": [{"tags": [], "owner": {"reputation": 1591, "user_id": 8368932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f96b8bf70fc16b14274937da540a11ba?s=128&d=identicon&r=PG&f=1", "display_name": "taras-d", "link": "https://stackoverflow.com/users/8368932/taras-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1501080157, "creation_date": 1501080157, "answer_id": 45330246, "question_id": 45329969, "link": "https://stackoverflow.com/questions/45329969/behaviour-subject-emits-only-the-last-value-on-route-changes/45330246#45330246", "title": "Behaviour subject emits only the last value on route changes", "body": "<p><code>BehaviorSubject</code> stores latest emitted value</p>\n\n<p>Try to use <a href=\"http://reactivex.io/rxjs/manual/overview.html#replaysubject\" rel=\"nofollow noreferrer\">ReplaySubject</a></p>\n"}, {"tags": [], "owner": {"reputation": 3168, "user_id": 7115638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30cbb57bf08cbbe464fcd74f4b8f2f66?s=128&d=identicon&r=PG&f=1", "display_name": "chrispy", "link": "https://stackoverflow.com/users/7115638/chrispy"}, "is_accepted": false, "score": 0, "last_activity_date": 1501080188, "creation_date": 1501080188, "answer_id": 45330267, "question_id": 45329969, "link": "https://stackoverflow.com/questions/45329969/behaviour-subject-emits-only-the-last-value-on-route-changes/45330267#45330267", "title": "Behaviour subject emits only the last value on route changes", "body": "<p>Looks like you should be <code>next</code>-ing the entire array instead of just one element.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> public getPosts(): BehaviorSubject&lt;Post&gt; {\n\n  let postSubject: BehaviorSubject&lt;Post&gt; = new BehaviorSubject&lt;Post&gt;(Post.EMPTY_POST);\n\n  this.db.list(this.getModelPath()).subscribe((posts: Post[]) =&gt; {\n\n    this.postSubject.next(posts.map(post =&gt; Post.fromObject(post));\n\n    return postSubject;  \n}\n</code></pre>\n\n<p>Then you have to change the consuming code to use the last element in the emitted array when it emits, if you only want a single element.</p>\n\n<p>This will give you the last snapshot of the list on load.</p>\n"}], "owner": {"reputation": 753, "user_id": 7070067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EG2pq.jpg?s=128&g=1", "display_name": "Yonas Hailu", "link": "https://stackoverflow.com/users/7070067/yonas-hailu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1274, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501080523, "creation_date": 1501079479, "last_edit_date": 1501080523, "question_id": 45329969, "link": "https://stackoverflow.com/questions/45329969/behaviour-subject-emits-only-the-last-value-on-route-changes", "title": "Behaviour subject emits only the last value on route changes", "body": "<p>post component subscribed to behaviour subject and gets a subscription of posts. First time is working good but when I go to another page and come back I only get the last value of the posts but I need all the list of posts like in the first time.</p>\n\n<p>posts service: </p>\n\n<pre><code>  public getPosts(): BehaviorSubject&lt;Post&gt; {\n\n  let postSubject: BehaviorSubject&lt;Post&gt; = new BehaviorSubject&lt;Post&gt;(Post.EMPTY_POST);\n\n  this.db.list(this.getModelPath()).subscribe((posts: Post[]) =&gt; {\n\n    posts.forEach((result) =&gt; {\n\n      let post: Post = Post.fromObject(result);\n      postSubject.next(post);\n\n      // code ommited\n\n      });\n\n  return postSubject;\n\n}\n</code></pre>\n\n<p>the Subscribed component : (post list component)</p>\n\n<pre><code>  public getPosts() {\n\nthis.showLoadingSpinner = true;\n\n  this._postService.getPosts().subscribe((post: Post) =&gt; {\n\n    if(Post.EMPTY_POST != post) {\n\n      this.showLoadingSpinner = false;\n      this.posts.push(post);\n    } \n    this.hasPostError = false;\n\n  }, (error) =&gt; {\n\n      this.loggerService.error(error);\n      this.showLoadingSpinner = false;\n      this.loggerService.log(\"error occured while getting posts.\")\n      this.postErrorMessage = \"error occured while getting posts.\";\n      this.hasPostError = true;\n\n  }, () =&gt; {\n\n      this.showLoadingSpinner = false;\n\n      if (!this.posts.length) {\n\n        this.postErrorMessage = \"No posts to show!\";\n        this.hasPostError = true;\n\n      }\n\n  })\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user310988"}, "edited": false, "score": 0, "creation_date": 1501082088, "post_id": 45329382, "comment_id": 77623796, "body": "Usually, <code>|</code> means <code>OR</code>, and <code>^</code> means XOR. Where <code>OR</code> is inclusive, and <code>XOR</code> is exclusive. You yourself say it&#39;s an <code>OR</code>, so I&#39;m a bit confused as to why you&#39;d think <code>XOR</code> would be used here? I can see the utility in having exclusive unions, but I think that inclusive unions are useful far more often. Think about all the existing JavaScript libraries which have functions that can take a string, OR an element. Hopefully adding your support to the github issue I linked will help show them how much interest there is in the feature."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user310988"}, "is_accepted": true, "score": 3, "last_activity_date": 1501078971, "creation_date": 1501078971, "answer_id": 45329751, "question_id": 45329382, "link": "https://stackoverflow.com/questions/45329382/typescript-2-4-2-or-type-strange-behaviour/45329751#45329751", "title": "typescript 2.4.2 &quot;or&quot; type strange behaviour", "body": "<p>Union types are currently inclusive only, which is to say if any of the conditions are true, then it's a match.</p>\n\n<p>It is not currently possible to create an exclusive union.</p>\n\n<p>There is an open <a href=\"https://github.com/Microsoft/TypeScript/issues/14094\" rel=\"nofollow noreferrer\">issue</a> discussing adding exclusive unions which you might want to participate in if this is a feature you desire strongly.</p>\n\n<blockquote>\n  <p>Proposal: Allow exclusive unions using logical or (^) operator between types #14094</p>\n</blockquote>\n"}], "owner": {"reputation": 63, "user_id": 8370445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/967f7ef84f2e1320e66e965636d7bf0a?s=128&d=identicon&r=PG&f=1", "display_name": "M.Franz", "link": "https://stackoverflow.com/users/8370445/m-franz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 45329751, "answer_count": 1, "score": 2, "last_activity_date": 1501078971, "creation_date": 1501078111, "question_id": 45329382, "link": "https://stackoverflow.com/questions/45329382/typescript-2-4-2-or-type-strange-behaviour", "title": "typescript 2.4.2 &quot;or&quot; type strange behaviour", "body": "<p>I found strange behaviour in \"or\" types. Don't know, if it is a bug or feature...\nWhat I want to achieve: my variable should only allow an object with the property 'data' OR an object with the property 'records'. But not an object with both 'data' and 'property'.\nSo:</p>\n\n<pre><code>type X = {\n  data: string\n};\ntype Y = {\n  records: {\n    [recordId: number]: {\n      [attributeName: string]: any,\n    }\n  },\n};\n\ntype XorY = X | Y;\n\n\nlet a:XorY = {\n  data: 'something',\n  records: {\n    12: {\n      someKey: 'someValue',\n    }\n  }\n};\n</code></pre>\n\n<p>In my opinion, the assignment to a should throw an error. Any ideas, how I can do such a check in ts?</p>\n"}, {"tags": ["angular", "typescript", "select", "ngmodel"], "comments": [{"owner": {"reputation": 1446, "user_id": 4865392, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d5cf8d4c981ea7f202383386f24d8303?s=128&d=identicon&r=PG&f=1", "display_name": "monica", "link": "https://stackoverflow.com/users/4865392/monica"}, "edited": false, "score": 0, "creation_date": 1501078006, "post_id": 45329259, "comment_id": 77620328, "body": "Can you please make your question more clear?"}, {"owner": {"reputation": 1865, "user_id": 7756343, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7e6964980c438556b9746f19cc09e93c?s=128&d=identicon&r=PG&f=1", "display_name": "k11k2", "link": "https://stackoverflow.com/users/7756343/k11k2"}, "edited": false, "score": 0, "creation_date": 1501078297, "post_id": 45329259, "comment_id": 77620546, "body": "What you want ?"}, {"owner": {"reputation": 21, "user_id": 5512096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9771744a217bb862cea6d81e5837913?s=128&d=identicon&r=PG&f=1", "display_name": "itaiif", "link": "https://stackoverflow.com/users/5512096/itaiif"}, "edited": false, "score": 0, "creation_date": 1501088727, "post_id": 45329259, "comment_id": 77628613, "body": "sorry for not being clear. i have a table that runs by ngFor, and each column is a dropDown (select from external array). i dont know how to handle ngModle in this case. i also tried to use (change) function for each select - in both cases my browser had memory issues without any error in the console. i&#39;m using angular 4.0.0 and ts."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1501257462, "post_id": 45329259, "comment_id": 77717059, "body": "I updated my answer with a demo, hopefully it can help you :)"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1501585329, "post_id": 45329259, "comment_id": 77832663, "body": "Hey how did it go with the updated answer? Did it help? :)"}], "answers": [{"comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 21, "user_id": 5512096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9771744a217bb862cea6d81e5837913?s=128&d=identicon&r=PG&f=1", "display_name": "itaiif", "link": "https://stackoverflow.com/users/5512096/itaiif"}, "edited": false, "score": 0, "creation_date": 1501157006, "post_id": 45334391, "comment_id": 77661338, "body": "Instead of posting your code as an answer, edit your question. You have <b>so</b> much code there, I&#39;m not going to try and look for the problem. Help me help you, create a minimal presentation of your issue <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> And if possible, make a plunker that I can work with :)"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 4, "last_activity_date": 1501257429, "last_edit_date": 1501257429, "creation_date": 1501092212, "answer_id": 45334391, "question_id": 45329259, "link": "https://stackoverflow.com/questions/45329259/ngmodel-in-select-tag-inside-ngfor/45334391#45334391", "title": "ngModel in select tag - inside ngFor", "body": "<p><strong>EDIT:</strong></p>\n\n<p>Depending on your requirements, you could also add a new property to objects in your existing array, which stores the value from the dropdown to each object, something like:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;tr *ngFor=\"let step of procSteps; let i = index\"&gt;\n  &lt;td&gt; &lt;p&gt;{{step.position}}&lt;/p&gt; &lt;/td&gt;\n  &lt;td&gt;\n    &lt;select [(ngModel)]=\"step.newProp\"&gt;\n      &lt;option *ngFor=\"let system of systemModuleList\" \n        [value]=\"system.id\"&gt;{{system.name}}&lt;/option&gt;\n      &lt;/select&gt;\n  &lt;/td&gt; \n&lt;/tr&gt;\n</code></pre>\n\n<p>Demo for both the above and below solution: <a href=\"http://plnkr.co/edit/24rEpkTYKcXvMUMAyU2B?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/24rEpkTYKcXvMUMAyU2B?p=preview</a></p>\n\n<hr>\n\n<p><strong>ORIGINAL ANSWER:</strong></p>\n\n<p>How about a helper array where you store the id's?</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>idArr = []\n</code></pre>\n\n<p>In template we use the index of the iteration of <code>items</code> and store the <code>obj.id</code> to the corresponding indexes:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div *ngFor=\"let item of items; let i = index\"&gt;  \n  &lt;select [(ngModel)]=\"idArr[i]\"&gt;  \n    &lt;option *ngFor=\"let obj of objects\" [value]=\"obj.id\"&gt;{{obj.name}}&lt;/option&gt;  \n &lt;/select&gt;  \n&lt;/div&gt; \n</code></pre>\n\n<p>Now you neatly have all the id's stored in the <code>idArr</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 5512096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9771744a217bb862cea6d81e5837913?s=128&d=identicon&r=PG&f=1", "display_name": "itaiif", "link": "https://stackoverflow.com/users/5512096/itaiif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9007, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1501257429, "creation_date": 1501077841, "last_edit_date": 1501159798, "question_id": 45329259, "link": "https://stackoverflow.com/questions/45329259/ngmodel-in-select-tag-inside-ngfor", "title": "ngModel in select tag - inside ngFor", "body": "<p>the ngModel in this example is killing my browser. \nany ideas how to get each table cell ng-model?? (i tried to use (change), and it worked - but changed the selected value)</p>\n\n<pre><code>&lt;tr *ngFor=\"let step of procSteps; let i = index;  let first = first; let last = \n                                      last; let even = even; let odd = odd;\"&gt;\n\n                &lt;td&gt; &lt;p&gt;{{step.position}}&lt;/p&gt; &lt;/td&gt;\n\n                &lt;td&gt; &lt;p&gt;{{step.name}}&lt;/p&gt; &lt;/td&gt;\n\n                &lt;td&gt;\n                    &lt;select [(ngModel)]=\"selectedSystemStep[i]\"&gt;\n                        &lt;option *ngFor=\"let system of systemModuleList\" \n                                [value]=\"system.id\"&gt;{{system.name}}&lt;/option&gt;\n                    &lt;/select&gt;\n                &lt;/td&gt; \n&lt;/tr&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 304, "user_id": 2485869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dvzix.jpg?s=128&g=1", "display_name": "shaina", "link": "https://stackoverflow.com/users/2485869/shaina"}, "edited": false, "score": 0, "creation_date": 1501077922, "post_id": 45329193, "comment_id": 77620264, "body": "myfunction2( ) is generating new number every time. You should check your question once again."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "reply_to_user": {"reputation": 304, "user_id": 2485869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dvzix.jpg?s=128&g=1", "display_name": "shaina", "link": "https://stackoverflow.com/users/2485869/shaina"}, "edited": false, "score": 0, "creation_date": 1501078090, "post_id": 45329193, "comment_id": 77620391, "body": "@shaina Where does <code>myFunction2</code> generate a new number?"}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1501078487, "post_id": 45329193, "comment_id": 77620715, "body": "Source control is great spotting this kind of things!"}, {"owner": {"reputation": 304, "user_id": 2485869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dvzix.jpg?s=128&g=1", "display_name": "shaina", "link": "https://stackoverflow.com/users/2485869/shaina"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1501079300, "post_id": 45329193, "comment_id": 77621419, "body": "@guest271314 Whenever I click on button myFunction2(), it gives a different number every time."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "reply_to_user": {"reputation": 304, "user_id": 2485869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dvzix.jpg?s=128&g=1", "display_name": "shaina", "link": "https://stackoverflow.com/users/2485869/shaina"}, "edited": false, "score": 0, "creation_date": 1501079384, "post_id": 45329193, "comment_id": 77621491, "body": "@shaina Your first comment references <code>myFunction2</code>, not <code>myFunction</code>"}, {"owner": {"reputation": 304, "user_id": 2485869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dvzix.jpg?s=128&g=1", "display_name": "shaina", "link": "https://stackoverflow.com/users/2485869/shaina"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1501079458, "post_id": 45329193, "comment_id": 77621558, "body": "@guest271314 Sorry, Edited the comment."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "reply_to_user": {"reputation": 304, "user_id": 2485869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dvzix.jpg?s=128&g=1", "display_name": "shaina", "link": "https://stackoverflow.com/users/2485869/shaina"}, "edited": false, "score": 0, "creation_date": 1501079536, "post_id": 45329193, "comment_id": 77621624, "body": "@shaina The JavaScript at Question does not change <code>number</code> variable."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 8354533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb93704d4398baa595e1efdebd689ba?s=128&d=identicon&r=PG&f=1", "display_name": "Nakomoto", "link": "https://stackoverflow.com/users/8354533/nakomoto"}, "edited": false, "score": 0, "creation_date": 1501078351, "post_id": 45329285, "comment_id": 77620592, "body": "Lets say I have another function that needs that random number generated in myfunction() like this   function3(number2);"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "reply_to_user": {"reputation": 49, "user_id": 8354533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb93704d4398baa595e1efdebd689ba?s=128&d=identicon&r=PG&f=1", "display_name": "Nakomoto", "link": "https://stackoverflow.com/users/8354533/nakomoto"}, "edited": false, "score": 0, "creation_date": 1501078685, "post_id": 45329285, "comment_id": 77620871, "body": "You need to pass <code>number2</code> to <code>function3</code> within <code>myFunction</code> call, after you have redefined <code>number2</code>"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "reply_to_user": {"reputation": 49, "user_id": 8354533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb93704d4398baa595e1efdebd689ba?s=128&d=identicon&r=PG&f=1", "display_name": "Nakomoto", "link": "https://stackoverflow.com/users/8354533/nakomoto"}, "edited": false, "score": 0, "creation_date": 1501079098, "post_id": 45329285, "comment_id": 77621228, "body": "Within <code>myFunction2</code> <code>function3(numer2)</code> after you have redefined <code>number2</code>. Note that that is not original Question, see <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "is_accepted": false, "score": 0, "last_activity_date": 1501077911, "creation_date": 1501077911, "answer_id": 45329285, "question_id": 45329193, "link": "https://stackoverflow.com/questions/45329193/what-approach-should-i-be-using-on-getting-random-numbers-in-javascript/45329285#45329285", "title": "What approach should I be using on getting random numbers in javascript?", "body": "<p><code>number</code> is defined once at JavaScript at Question. You can use the same approach that you did at <code>myFunction</code>, define <code>number</code> again within <code>myFunction2</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;body&gt;\r\n\r\n  &lt;p&gt;Click the button to display a random number between 1 and 100.&lt;/p&gt;\r\n\r\n  &lt;button onclick=\"myFunction()\"&gt;myFunction()&lt;/button&gt;\r\n  &lt;button onclick=\"myFunction2()\"&gt;myFunction2()&lt;/button&gt;\r\n\r\n  &lt;p id=\"demo\"&gt;&lt;/p&gt;\r\n  &lt;p id=\"demo2\"&gt;&lt;/p&gt;\r\n\r\n  &lt;script&gt;\r\n    var number = 0;\r\n\r\n    var number2 = 0;\r\n\r\n    function myFunction() {\r\n      number2 = Math.floor((Math.random() * 100) + 1);\r\n      var x = document.getElementById(\"demo\")\r\n      x.innerHTML = number2;\r\n    }\r\n\r\n    function myFunction2() {\r\n      number = Math.floor((Math.random() * 100) + 1)\r\n      var x = document.getElementById(\"demo2\")\r\n      x.innerHTML = number;\r\n    }\r\n\r\n  &lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 6258410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iApoD.jpg?s=128&g=1", "display_name": "ali.salemwala", "link": "https://stackoverflow.com/users/6258410/ali-salemwala"}, "is_accepted": false, "score": 1, "last_activity_date": 1501078019, "creation_date": 1501078019, "answer_id": 45329345, "question_id": 45329193, "link": "https://stackoverflow.com/questions/45329193/what-approach-should-i-be-using-on-getting-random-numbers-in-javascript/45329345#45329345", "title": "What approach should I be using on getting random numbers in javascript?", "body": "<p>You are already creating random numbers from using myFunction() and it doesn't seem like a problem. In myFunction2() you don't change or really <em>do</em> anything so how do you expect it to keep creating random numbers? Could you make your question a bit more clear?</p>\n\n<p>Edit: Just place this line inside your myFunction2() instead of where you have kept it and it should work:</p>\n\n<pre><code>var number = Math.floor((Math.random() * 100) + 1);\n</code></pre>\n\n<p>Enter this before you actually assign anything to var x.</p>\n"}], "owner": {"reputation": 49, "user_id": 8354533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb93704d4398baa595e1efdebd689ba?s=128&d=identicon&r=PG&f=1", "display_name": "Nakomoto", "link": "https://stackoverflow.com/users/8354533/nakomoto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1501078019, "creation_date": 1501077700, "question_id": 45329193, "link": "https://stackoverflow.com/questions/45329193/what-approach-should-i-be-using-on-getting-random-numbers-in-javascript", "title": "What approach should I be using on getting random numbers in javascript?", "body": "<p>3h of sleep and I cant figure this out... :S</p>\n\n<p>I had a working something but I am changing the code a lot and removed it now I can not figure it back out.\nI really need help...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n\r\n&lt;p&gt;Click the button to display a random number between 1 and 100.&lt;/p&gt;\r\n\r\n&lt;button onclick=\"myFunction()\"&gt;myFunction()&lt;/button&gt;\r\n&lt;button onclick=\"myFunction2()\"&gt;myFunction2()&lt;/button&gt;\r\n\r\n&lt;p id=\"demo\"&gt;&lt;/p&gt;\r\n&lt;p id=\"demo2\"&gt;&lt;/p&gt;\r\n\r\n&lt;script&gt;\r\nvar number = Math.floor((Math.random() * 100) + 1);\r\n\r\nvar number2 = 0;\r\nfunction myFunction() {\r\n\tnumber2 = Math.floor((Math.random() * 100) + 1);\r\n    var x = document.getElementById(\"demo\")\r\n    x.innerHTML = number2;\r\n}\r\n//number2 is still 0.\r\nfunction myFunction2() {\r\n    var x = document.getElementById(\"demo2\")\r\n    x.innerHTML = number;\r\n}\r\n\r\n//number is stuck at the beginning number\r\n\r\n&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I need to generate new numbers from the myFunction2.\nHow do I achieve that ?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 367, "user_id": 6899283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dab560e75f0a53d12e5579080fb1b791?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Khamzin", "link": "https://stackoverflow.com/users/6899283/vadim-khamzin"}, "is_accepted": true, "score": 3, "last_activity_date": 1501079026, "creation_date": 1501079026, "answer_id": 45329776, "question_id": 45329033, "link": "https://stackoverflow.com/questions/45329033/play-2-sounds-one-after-another-in-angular2/45329776#45329776", "title": "Play 2 sounds one after another in Angular2", "body": "<p>The reason is that the audio is being played asynchronously. It means this <code>play()</code> method does not wait until the playback has finished. </p>\n\n<p>In order to play these sounds one after another you have to start playing your second file when <code>ended</code> event happened.</p>\n\n<p>The most naive solution could look like this:</p>\n\n<pre><code> say_1() { //music\n    this.audio.src = './sound1.wav'; \n\n    // whenever playback ends call the next function\n    this.audio.onended = () =&gt; {\n        this.audio.onended = null;\n        this.say_2();\n    }\n\n    this.audio.load();\n    this.audio.play();\n }\n\n say_2() { //speech\n    this.audio.src = './sound2.wav';\n    this.audio.load();\n    this.audio.play();\n }\n</code></pre>\n\n<p>Then instead of <code>playAll()</code> you could just invoke the <code>say_1()</code> method.</p>\n\n<p>You could also extract this into a AudioPlayerService somehow like this:</p>\n\n<pre><code>@Injectable()\nexport class AudioPlayerService {\n\n    playbackEndedSource = new Subject&lt;string&gt;();\n    playbackEnded$ = this.playbackEndedSource.asObservable();\n\n    constructor() {\n        // this.audio initialization\n        this.audio.addEventListener('ended', () =&gt; this.playbackEndedSource.next());\n\n    }\n\n    play(path: string): void {\n        this.audio.src = path;\n        this.audio.load();\n        this.audio.play();\n    }\n\n}\n</code></pre>\n\n<p>Then you could do it like this</p>\n\n<pre><code>export class AppComponent {\n    constructor(private player: AudioPlayerService) {}\n\n    playAll() {\n\n        const subscription = player.playbackEnded$\n            .subscribe(() =&gt; {\n                player.play('audio2.wav');\n                // to prevent it from playing over and over again\n                subscription.unsubscribe();\n            });\n        player.play('audio1.wav');\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1295, "user_id": 8173932, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/887a51c68636c47f1666c1436913ddbf?s=128&d=identicon&r=PG&f=1", "display_name": "Anna F", "link": "https://stackoverflow.com/users/8173932/anna-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 0, "accepted_answer_id": 45329776, "answer_count": 1, "score": 0, "last_activity_date": 1501079026, "creation_date": 1501077298, "question_id": 45329033, "link": "https://stackoverflow.com/questions/45329033/play-2-sounds-one-after-another-in-angular2", "title": "Play 2 sounds one after another in Angular2", "body": "<p>I have two sounds</p>\n\n<pre><code>  say_1() { //music\n    this.audio.src = './sound1.wav'; \n    this.audio.load();\n    // auto-start\n    this.audio.play();\n  }\n say_2() { //speech\n    this.audio.src = './sound2.wav';\n    this.audio.load();\n    // auto-start\n    this.audio.play();\n  }\n</code></pre>\n\n<p>And I would like to make method <code>play_all();</code> which plays one sound after another </p>\n\n<pre><code>play_all () {\nthis.say_1();\nthis.say_2();\n}\n</code></pre>\n\n<p>So, I would like to play as first my music and after that the speech, \nbut in my method it plays just second wav and I guess it's because I have this method </p>\n\n<pre><code>  ngOnDestroy() {\n    // destroy audio here\n    if (this.audio) {\n      this.audio.pause();\n      this.audio = null;\n    }\n  }\n</code></pre>\n\n<p>I need this method, because if I leave page ( go to the next page via router ) music from previous page still plays. </p>\n\n<p>How could I modify my method, so it would play both sound one after another?</p>\n"}, {"tags": ["angular", "typescript", "ngrx"], "answers": [{"comments": [{"owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "edited": false, "score": 2, "creation_date": 1501330333, "post_id": 45337088, "comment_id": 77738762, "body": "Hey seescode I&#39;m glad to see you&#39;ve looked into pizza-sync :)! Yes I know that I do not use reselect into pizza-sync but I plan to upgrade it to ngrx v4 once it gets more stable (I&#39;ve had few bugs with this major upgrade and I&#39;m waiting for some issues to get closed on their github). Once it&#39;s fine, I&#39;ll make a refactor and I&#39;ll use createSelector provided by ngrx v4, which does the same than reselect :)"}, {"owner": {"reputation": 1928, "user_id": 4872449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/QSfqH.png?s=128&g=1", "display_name": "seescode", "link": "https://stackoverflow.com/users/4872449/seescode"}, "reply_to_user": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "edited": false, "score": 0, "creation_date": 1501452646, "post_id": 45337088, "comment_id": 77770671, "body": "Thanks for making your project public.  I haven&#39;t tried out ngrx v4 but it is useful to know that I should wait longer before trying it out."}, {"owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "edited": false, "score": 0, "creation_date": 1501487554, "post_id": 45337088, "comment_id": 77780554, "body": "Yes, indeed I&#39;m not the only one to notice incompatibilities between ngrx v4 and AOT. If you don&#39;t use AOT compilation (which would be too bad) then you might go for it. Also, if you have an app to migrate to ngrx v4, you can already start because everything seems to work fine in dev mode, without AOT."}, {"owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "edited": false, "score": 1, "creation_date": 1501487639, "post_id": 45337088, "comment_id": 77780607, "body": "If you liked pizza-sync, you should definitely take a look into <a href=\"https://github.com/maxime1992/angular-ngrx-starter\" rel=\"nofollow noreferrer\">angular-ngrx-starter</a> which is a starter I&#39;ve made to kickstart an ngrx project :) I&#39;ve tried to explain a lot of things into the readme"}], "tags": [], "owner": {"reputation": 1928, "user_id": 4872449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/QSfqH.png?s=128&g=1", "display_name": "seescode", "link": "https://stackoverflow.com/users/4872449/seescode"}, "is_accepted": false, "score": 1, "last_activity_date": 1501101930, "creation_date": 1501101930, "answer_id": 45337088, "question_id": 45328915, "link": "https://stackoverflow.com/questions/45328915/what-is-this-ngrx-selector-doing/45337088#45337088", "title": "What is this ngrx selector doing?", "body": "<blockquote>\n  <p>My question is, whether or not there is still a type definition of\n  BlogContent with an actualContent array nested?</p>\n</blockquote>\n\n<p>BlogContent only contains an array of ids for actualContent.</p>\n\n<blockquote>\n  <p>I don't quite understand what the selector getBlogContents is doing\n  and how this would be used in a component that wants to display\n  blogContents with a nested list of actualContents, can this be\n  explained in a little more detail?</p>\n</blockquote>\n\n<p>Maxime references his own project where he does a similar pattern.  </p>\n\n<p>Here's his selector: <a href=\"https://github.com/maxime1992/pizza-sync/blob/master/frontend/src/app/shared/states/orders/orders.selector.ts\" rel=\"nofollow noreferrer\">https://github.com/maxime1992/pizza-sync/blob/master/frontend/src/app/shared/states/orders/orders.selector.ts</a></p>\n\n<p>Then he uses it here: <a href=\"https://github.com/maxime1992/pizza-sync/blob/b127ef963640d67f7560fad69f6f8364355ac697/frontend/src/app/features/order-summary-dialog/order-summary-dialog.component.ts\" rel=\"nofollow noreferrer\">https://github.com/maxime1992/pizza-sync/blob/b127ef963640d67f7560fad69f6f8364355ac697/frontend/src/app/features/order-summary-dialog/order-summary-dialog.component.ts</a></p>\n\n<pre><code>ngOnInit() {\n    this.orderSummary$ = this.store$.let(getOrderSummary);\n}\n</code></pre>\n\n<p>Note that this is the old way to do selectors.  The ngrx example app used to use it but they've refactored to use reselect.js for all selectors.</p>\n"}, {"tags": [], "owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "is_accepted": true, "score": 3, "last_activity_date": 1505719190, "last_edit_date": 1505719190, "creation_date": 1501323102, "answer_id": 45388004, "question_id": 45328915, "link": "https://stackoverflow.com/questions/45328915/what-is-this-ngrx-selector-doing/45388004#45388004", "title": "What is this ngrx selector doing?", "body": "<p>@cartant pinged me on my <a href=\"https://stackoverflow.com/questions/43667853/ngrx-dealing-with-nested-array-in-object\">original question</a> so here I am (thx @cartant!).</p>\n\n<p>I do think a lot about my interfaces within an app. I think it's important to have well defined interfaces or we'll end up with a mess :).</p>\n\n<p>I've tried to create a basic pattern for it, as often, we end up with the same idea:</p>\n\n<p><strong>One resource:</strong><br>\n - resource without details<br>\n - resource with details<br>\n - composed resource, where foreign keys with only IDs are replaced by corresponding resources<br>\n - composed resource with also UI variables (to show a state, for example fetching, downloading, etc)  </p>\n\n<p><strong>A \"table\", which contains multiple of those resources:</strong><br>\n - contains normalized data, with for example <code>byId</code> and <code>allIds</code><br>\n - contains some UI variables, this time not for every items, but the table (state for adding a resource would go there as the resource is not in the list yet for example)  </p>\n\n<p>I've made such a detailed example within <code>angular-ngrx-starter</code>, <a href=\"https://github.com/maxime1992/angular-ngrx-starter/blob/8f9c2bdd3f36e1c5d726795e0d2bfe1a2679b34f/src/app/shared/states/pizzas/pizzas.interfaces.ts\" rel=\"nofollow noreferrer\">here for the interfaces</a>.</p>\n\n<p>By the way, you might be interested by the <a href=\"https://github.com/maxime1992/angular-ngrx-starter/tree/8f9c2bdd3f36e1c5d726795e0d2bfe1a2679b34f/src/app/shared/states/pizzas\" rel=\"nofollow noreferrer\">whole folder</a>, which is a complete example is this starter (actions, reducer, effects, interfaces ,selectors, service and mock for the service).</p>\n\n<p>Hope it helps you understand but keep in mind that this is not perfect! It's just one way, my way of seeing things.</p>\n"}], "owner": {"reputation": 102, "user_id": 6225518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nLUcU.jpg?s=128&g=1", "display_name": "ksimonson10", "link": "https://stackoverflow.com/users/6225518/ksimonson10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 1, "accepted_answer_id": 45388004, "answer_count": 2, "score": 4, "last_activity_date": 1505719190, "creation_date": 1501076994, "last_edit_date": 1592644375, "question_id": 45328915, "link": "https://stackoverflow.com/questions/45328915/what-is-this-ngrx-selector-doing", "title": "What is this ngrx selector doing?", "body": "<p>I'm trying to better understand the answer by Maxime to this <a href=\"https://stackoverflow.com/questions/43667853/ngrx-dealing-with-nested-array-in-object\">question</a>. My rep is not high enough to comment on the answer there, so I'll ask a new question here.</p>\n<p>The part about setting up a normalized state makes sense. Then he goes on to talk about how you would create a selector, this part of his answer is quoted below, and showing his code block.</p>\n<blockquote>\n<p>In your logic or view (for example with Angular), you need your nested structure so you can iterate over your array and thus, you don't want to iterate on a string array of IDs. Instead you'd like actualContent: ActualContent[];.</p>\n<p>For that, you create a selector. Every time your store change, your selector will kicks in and generate a new &quot;view&quot; of your raw data.</p>\n</blockquote>\n<pre><code>// assuming that you can blogContentsState and actualContentsState from your store\nconst getBlogContents = (blogContentsState, actualContentsState) =&gt;\n  blogContentsState\n    .allIds\n    .map(blogContentId =&gt; ({\n      ...blogContentsState.byId[blogContentId],\n\n      actualContent: blogContentsState\n        .byId[blogContentId]\n        .actualContentIds\n        .map(actualContentId =&gt; actualContentsState.byId[actualContentId])\n   }));\n</code></pre>\n<p>My question is, whether or not there is still a type definition of <code>BlogContent</code> with an <code>actualContent</code> array nested?</p>\n<pre><code>export interface BlogContent {\n  id: string;\n  header: string;\n  tags: string[];\n  title: string;\n  actualContent: ActualContent[]; &lt;------ NESTED\n}\n</code></pre>\n<p>I don't quite understand what the selector <code>getBlogContents</code> is doing and how this would be used in a component that wants to display blogContents with a nested list of actualContents, can this be explained in a little more detail?</p>\n"}, {"tags": ["typescript", "asynchronous", "types"], "comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1501077711, "post_id": 45328549, "comment_id": 77620077, "body": "It seems it is not a feature yet. Maybe you could <a href=\"https://github.com/Microsoft/TypeScript/issues\" rel=\"nofollow noreferrer\">submit the idea</a>?"}, {"owner": {"reputation": 2531, "user_id": 4515408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cRFDi.png?s=128&g=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/4515408/shane"}, "edited": false, "score": 0, "creation_date": 1501077987, "post_id": 45328549, "comment_id": 77620310, "body": "This seems to work fine when targeting es6 using tsc 2.0.9 and node 7.7.3."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1501081108, "last_edit_date": 1501081108, "creation_date": 1501079265, "answer_id": 45329875, "question_id": 45328549, "link": "https://stackoverflow.com/questions/45328549/typescript-async-type-guard-using-promise/45329875#45329875", "title": "TypeScript async type guard using Promise", "body": "<p>No, you can't access the guarded parameter from outside the direct scope of the function.  So once you return a promise, you can't guard <code>obj</code> anymore.  This sounds like a neat feature idea, and as @Paleo suggests you should maybe submit it if there isn't one already.  </p>\n\n<p>It might not help though; even if you could <em>express</em> a type guard across scopes, the compiler might widen the type again since there's a chance the value could mutate:</p>\n\n<pre><code>class Bar {\n  public getType = () =&gt; new Promise(resolve =&gt; {\n    setTimeout(() =&gt; resolve('Bar'), 1000);\n  });\n  public barProp: string; // added to distinguish structurally from NotBar\n}\n\nclass NotBar {\n  public getType = () =&gt; new Promise(resolve =&gt; {\n    setTimeout(() =&gt; resolve('NotBar'), 1000);\n  });\n  public notBarProp: string; // added to distinguish structurally from Bar\n}\n\nfunction useBar(bar: Bar): void {\n  alert(`It's a Bar!`);\n}\n\nfunction useNotBar(notBar: NotBar): void {\n  alert(`Nope, not a Bar.`)\n}\n\nvar b: Bar | NotBar = new Bar();\n\nif (b instanceof Bar) {\n  useBar(b); // narrowed to Bar, no error\n  isBar(b).then(bIsBar =&gt; {        \n    useBar(b); // error! widened to Bar | NotBar again\n  })\n}\n</code></pre>\n\n<p>As a possible workaround, you can invent your own \"type guard\" object and pass that back, although it's not as pleasant to use:</p>\n\n<pre><code>type Guarded&lt;Y, N = any&gt; = { matches: true, value: Y } | { matches: false, value: N };\nfunction guarded&lt;Y, N = any&gt;(v: Y | N, matches: boolean): Guarded&lt;Y, N&gt; {\n  return matches ? { matches: true, value: &lt;Y&gt;v } : { matches: false, value: &lt;N&gt;v };\n}\n\n// Async type guard:\nasync function isBar&lt;N extends { getType?: () =&gt; Promise&lt;any&gt; } = any&gt;(obj: Bar | N): Promise&lt;Guarded&lt;Bar, N&gt;&gt; {\n  if (typeof obj.getType === 'undefined') return guarded(obj, false);\n  const result = await obj.getType();\n  return guarded(obj, result === 'Bar');\n}\n\nisBar(b).then(bIsBar =&gt; {\n  if (bIsBar.matches) useBar(bIsBar.value);\n});\n\nisBar&lt;NotBar&gt;(b).then(bIsBar =&gt; {\n  if (bIsBar.matches) useBar(bIsBar.value); else useNotBar(bIsBar.value);\n});\n</code></pre>\n"}], "owner": {"reputation": 6012, "user_id": 4136777, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TtQmj.png?s=128&g=1", "display_name": "Duncan Luk", "link": "https://stackoverflow.com/users/4136777/duncan-luk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1298, "favorite_count": 0, "accepted_answer_id": 45329875, "answer_count": 1, "score": 4, "last_activity_date": 1501143625, "creation_date": 1501076040, "last_edit_date": 1501143625, "question_id": 45328549, "link": "https://stackoverflow.com/questions/45328549/typescript-async-type-guard-using-promise", "title": "TypeScript async type guard using Promise", "body": "<p>I'm trying to define an asynchronous type guard. I can do the following synchronously:</p>\n\n<pre><code>class Foo {\n    public type = 'Foo';\n}\n\n// Sync type guard:\nfunction isFoo(obj: any): obj is Foo {\n    return typeof obj.type !== 'undefined' &amp;&amp; obj.type === 'Foo';\n}\n\nfunction useFoo(foo: Foo): void {\n    alert(`It's a Foo!`);\n}\n\nconst a: object = new Foo();\nif (isFoo(a)) useFoo(a);\n</code></pre>\n\n<p>But I'm not sure how to do the same async. This is what I tried:</p>\n\n<pre><code>class Bar {\n    public getType = () =&gt; new Promise(resolve =&gt; {\n        setTimeout(() =&gt; resolve('Bar'), 1000);\n    });\n}\n\n// Async type guard:\nasync function isBar(obj: any): Promise&lt;obj is Bar&gt; {\n    if (typeof obj.getType === 'undefined') return false;\n    const result = await obj.getType();\n    return result === 'Bar';\n}\n\nfunction useBar(bar: Bar): void {\n    alert(`It's a Bar!`);\n}\n\nconst b: object = new Bar();\nisBar(b).then(bIsBar =&gt; {\n    if (bIsBar) useBar(b);\n});\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=class%20Bar%20%7B%0D%0A%20%20%20%20public%20getType%20%3D%20()%20%3D%3E%20new%20Promise(resolve%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20resolve(&#39;Bar&#39;)%2C%201000)%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Async%20type%20guard%3A%0D%0Aasync%20function%20isBar(obj%3A%20any)%3A%20Promise%3Cobj%20is%20Foo%3E%20%7B%0D%0A%20%20%20%20if%20(typeof%20obj.getType%20%3D%3D%3D%20&#39;undefined&#39;)%20return%20false%3B%0D%0A%20%20%20%20const%20result%20%3D%20await%20obj.getType()%3B%0D%0A%20%20%20%20return%20result%20%3D%3D%3D%20&#39;Bar&#39;%3B%0D%0A%7D%0D%0A%0D%0Afunction%20useBar(bar%3A%20Bar)%3A%20void%20%7B%0D%0A%20%20%20%20alert(%60It&#39;s%20a%20Bar!%60)%3B%0D%0A%7D%0D%0A%0D%0Aconst%20b%20%3D%20new%20Bar()%3B%0D%0AisBar(b).then(bIsBar%20%3D%3E%20%7B%0D%0A%20%20%20%20if%20(bIsBar)%20useBar(b)%3B%0D%0A%7D)%3B%0D%0A\" rel=\"nofollow noreferrer\">Try it here</a></p>\n\n<p>Any help would be appreciated!</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1501073867, "post_id": 45327200, "comment_id": 77616905, "body": "Passing an array to <code>flatMap</code> will see the array&#39;s values emitted individually, but your snippet seems to expect an array to be emitted. That&#39;s not going to happen."}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 1, "creation_date": 1501074011, "post_id": 45327200, "comment_id": 77617022, "body": "&quot;two other variable that are the result of the proc(c)essing to the template.&quot; They are called what? Hard to read in first couple of lines what your question is. What are you looking to <b>achieve</b>. Needs to be more &#39;punchy&#39;/to the point early on in post to hook reader.."}, {"owner": {"reputation": 153, "user_id": 4486247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1bac24a723100829765a17ba6f302c9?s=128&d=identicon&r=PG&f=1", "display_name": "Helongh", "link": "https://stackoverflow.com/users/4486247/helongh"}, "edited": false, "score": 0, "creation_date": 1501077537, "post_id": 45327200, "comment_id": 77619920, "body": "Indeed i&#39;m not really getting to the point. Actually my code is becoming a complete mess because of all the thing i&#39;ve tried."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 4486247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1bac24a723100829765a17ba6f302c9?s=128&d=identicon&r=PG&f=1", "display_name": "Helongh", "link": "https://stackoverflow.com/users/4486247/helongh"}, "edited": false, "score": 0, "creation_date": 1501078461, "post_id": 45327986, "comment_id": 77620688, "body": "Thanks for your answer, but this part already works for me, its when I try to process this data in my component that I fail."}], "tags": [], "owner": {"reputation": 1591, "user_id": 8368932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f96b8bf70fc16b14274937da540a11ba?s=128&d=identicon&r=PG&f=1", "display_name": "taras-d", "link": "https://stackoverflow.com/users/8368932/taras-d"}, "is_accepted": false, "score": 2, "last_activity_date": 1501074517, "creation_date": 1501074517, "answer_id": 45327986, "question_id": 45327200, "link": "https://stackoverflow.com/questions/45327200/process-data-depending-on-multiples-observables/45327986#45327986", "title": "Process data depending on multiples observables", "body": "<p>Simple example with <code>forkJoin</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  selector: 't-root',\n  template: `\n    &lt;div&gt;{{groups}}&lt;/div&gt;\n    &lt;div&gt;{{user}}&lt;/div&gt;\n  `\n})\nexport class AppComponent {\n\n  groups: any;\n  user: any;\n\n  // Assume this method calls this._groupService.getGroupsByType('NOTIFICATION')\n  private _getNotifGroups(): Observable&lt;any&gt; {\n    return Observable.of('GROUPS');\n  }\n\n  // Assume this method calls this._currentUserService.getCurrentUser()  \n  private _getCurrentUser(): Observable&lt;any&gt; {\n    return Observable.of('USER');\n  }\n\n  private getAll(): Observable&lt;any&gt; {\n    return Observable.forkJoin( this._getNotifGroups(), this._getCurrentUser() );\n  }\n\n  ngOnInit(): void {\n    this.getAll().subscribe(res =&gt; {\n      console.log(res); // ['GROUPS', 'USER']\n      this.groups = res[0];\n      this.user = res[1];\n    });\n  }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8268, "user_id": 413418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a2345aa7195d053dc2e40c9c5f9a6a35?s=128&d=identicon&r=PG", "display_name": "Vamshi", "link": "https://stackoverflow.com/users/413418/vamshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1501147478, "creation_date": 1501147478, "answer_id": 45346567, "question_id": 45327200, "link": "https://stackoverflow.com/questions/45327200/process-data-depending-on-multiples-observables/45346567#45346567", "title": "Process data depending on multiples observables", "body": "<p>Have you tried <code>combineLatest</code> </p>\n\n<blockquote>\n  <p><strong>combineLatest</strong>: Merges the specified observable sequences into one observable sequence by using the selector function whenever any of the observable sequences produces an element. </p>\n</blockquote>\n\n<pre><code>public getAll(){\n   return Observable.combineLatest(\n       this._getNotifGroups(), \n       this._getCurrentUser()\n   );\n}\n</code></pre>\n\n<p><code>combineLatest</code> <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/combinelatest.md\" rel=\"nofollow noreferrer\">Docs</a> </p>\n\n<p>If it doesn't work, please mention what was the error or why it didnt work.</p>\n"}], "owner": {"reputation": 153, "user_id": 4486247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1bac24a723100829765a17ba6f302c9?s=128&d=identicon&r=PG&f=1", "display_name": "Helongh", "link": "https://stackoverflow.com/users/4486247/helongh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1501147478, "creation_date": 1501072577, "last_edit_date": 1501078402, "question_id": 45327200, "link": "https://stackoverflow.com/questions/45327200/process-data-depending-on-multiples-observables", "title": "Process data depending on multiples observables", "body": "<p>I have two observables from two differents HTTP calls.\nIn my component, I need to call those two services, process the data returned from these services and send two other variable that are the result of the proccessing to the template.</p>\n\n<p>I have tried to much things that I can't put them all here, but here are the main solutions i've tried so far : </p>\n\n<ul>\n<li>Use forkJoin on the 2 services and then process the data : the function doing the process said the result was undefined.</li>\n<li>Use switchMap : same result as above.</li>\n<li>Use BehaviorSubject : same result again</li>\n</ul>\n\n<p>I don't know if I forgot some elementary rule of Observable or RxJs in general, but I really can't find the right way to do it.</p>\n\n<p>Here is my current code in my component : </p>\n\n<pre><code>  public notifGroups: any;\n  public currentUser: any;\n  public currentUserGroups: any;\n  public notifGroupsImOut: any;\n\n  private _notifGroupsImIn: BehaviorSubject&lt;any&gt; = new BehaviorSubject([]);\n\n  public readonly notifGroupsImIn: any = this._notifGroupsImIn.asObservable();\n\n  constructor(\n    private _groupService: GroupService,\n    private _currentUserService: CurrentUserService,\n    private _userService: UserService,\n  ) { }\n\n\n\n  ngOnInit() {\n     this.test().subscribe(\n     res =&gt; {\n      console.log(res);\n      for(let mGroup in res[1][\"user\"][\"subscriptionsToGroups\"]){\n        for(let nGroup in res[0][\"list\"]) {\n          console.log(nGroup);\n          console.log(mGroup);\n          if (mGroup[\"group\"][\"email\"] == nGroup[\"email\"]){             \n             this._notifGroupsImIn\n                .next(this._notifGroupsImIn.getValue().push(nGroup));\n          }\n        }\n      }\n      this.notifGroupsImIn.subscribe()\n    }\n  )\n}\n\n\n\n  private _getNotifGroups(): any{\n    return this._groupService\n      .getGroupsByType('NOTIFICATION')\n  }\n\n  private _getCurrentUser() {\n    return this._currentUserService\n      .getCurrentUser()  \n  }\n\n  public getAll(){\n    return Observable.forkJoin(this._getNotifGroups(), this._getCurrentUser())\n  }\n\n  public test(): Observable&lt;Array&lt;any&gt;&gt; {\n     let obs = this.getAll();\n\n     obs.subscribe(\n         res =&gt; {\n            console.log(res);\n            this.notifGroups = res[0][\"list\"];\n            this.currentUser = res[1][\"user\"][\"subscriptionsToGroups\"];\n       }\n    )\n    return obs\n }\n</code></pre>\n\n<p>Well I know some parts of the code are quite dirty now, but I hope you won't mine too much.</p>\n\n<p>So what I'm trying to do is :</p>\n\n<p>I get the following values from the two services : notifGroups and currentUserGroups.</p>\n\n<p>They are both list of objects.</p>\n\n<p>then in my test() function, I compare each object with another, if the email property of this object is equal to the other's, I add it to notifGroupImIn.</p>\n\n<p>But it's when the test() function is called, it looks like the results of the http calls are not resolved yet, even if i called them in ngOnInit and subscribed to them.</p>\n\n<p>I'm not really sure if I was understandable enough, so please let me know.</p>\n\n<p>Thanks.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I've changed a bit my code, because in the template, notifGroupsImIn was still an observable. And now I Have the following error : Cannot read property 'email' of undefined. The email property where the error is raised is one of thoses two : </p>\n\n<pre><code>if (mGroup[\"group\"][\"email\"] == nGroup[\"email\"]){                  \n  this._notifGroupsImIn.next(this._notifGroupsImIn.getValue().push(nGroup));\n}\n</code></pre>\n\n<p>Also, the two lines </p>\n\n<pre><code>console.log(nGroup);\nconsole.log(mGroup);\n</code></pre>\n\n<p>both return 0 in the console, can't figure why, as <code>res[1][\"user\"][\"subscriptionsToGroups\"]</code> and <code>res[0][\"list\"]</code> correctly returns a list of objects</p>\n"}, {"tags": ["javascript", "image", "angular", "typescript"], "comments": [{"owner": {"reputation": 3640, "user_id": 5463636, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/hwpDa.jpg?s=128&g=1", "display_name": "freginold", "link": "https://stackoverflow.com/users/5463636/freginold"}, "edited": false, "score": 0, "creation_date": 1501073201, "post_id": 45327136, "comment_id": 77616385, "body": "All jsfiddle links should be accompanied by code. Please provide your code as part of your question."}, {"owner": {"reputation": 83, "user_id": 6723718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd159ecf12dc8d60004692a34659092?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Chien", "link": "https://stackoverflow.com/users/6723718/anthony-chien"}, "reply_to_user": {"reputation": 3640, "user_id": 5463636, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/hwpDa.jpg?s=128&g=1", "display_name": "freginold", "link": "https://stackoverflow.com/users/5463636/freginold"}, "edited": false, "score": 0, "creation_date": 1501076942, "post_id": 45327136, "comment_id": 77619369, "body": "Updated the code snippet.. @freginold Do you have  any solution for this question?"}, {"owner": {"reputation": 3640, "user_id": 5463636, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/hwpDa.jpg?s=128&g=1", "display_name": "freginold", "link": "https://stackoverflow.com/users/5463636/freginold"}, "edited": false, "score": 0, "creation_date": 1501078089, "post_id": 45327136, "comment_id": 77620389, "body": "sorry, I don&#39;t. Hopefully someone else will though. What you have so far looks really cool. You mean you want to be able to drag the image to rotate it, right?"}], "owner": {"reputation": 83, "user_id": 6723718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd159ecf12dc8d60004692a34659092?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Chien", "link": "https://stackoverflow.com/users/6723718/anthony-chien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1785, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501076801, "creation_date": 1501072427, "last_edit_date": 1501076801, "question_id": 45327136, "link": "https://stackoverflow.com/questions/45327136/typescript-javascript-image-rotation-and-resize", "title": "TypeScript/JavaScript image rotation and resize", "body": "<p>I have a requirement where I have to rotate and resize an image using TypeScript (or JavaScript also, since I am using Angular2). This image rotation and resizing feature is similar to MS Outlook (when you compose mail and add images in the body of mail). </p>\n\n<p>I am able to resize and rotate separately but I need it like one combined feature with the below look and feel.</p>\n\n<p><a href=\"https://i.stack.imgur.com/P6Yc6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P6Yc6.png\" alt=\"enter image description here\"></a>   <a href=\"https://i.stack.imgur.com/VGzeV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VGzeV.png\" alt=\"enter image description here\"></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var minWidth = 60;\r\nvar minHeight = 40;\r\n\r\n// Thresholds\r\nvar MARGINS = 4;\r\n\r\n// End of what's configurable.\r\nvar clicked = null;\r\nvar onRightEdge, onBottomEdge, onLeftEdge, onTopEdge;\r\n\r\nvar b, x, y;\r\n\r\nvar redraw = false;\r\n\r\nvar pane = document.getElementById('pane');\r\n\r\nvar e;\r\n\r\n// Mouse events\r\npane.addEventListener('mousedown', onMouseDown);\r\ndocument.addEventListener('mousemove', onMove);\r\ndocument.addEventListener('mouseup', onUp);\r\n\r\n// Touch events \r\npane.addEventListener('touchstart', onTouchDown);\r\ndocument.addEventListener('touchmove', onTouchMove);\r\ndocument.addEventListener('touchend', onTouchEnd);\r\n\r\n\r\nfunction onTouchDown(e) {\r\n  onDown(e.touches[0]);\r\n  e.preventDefault();\r\n}\r\n\r\nfunction onTouchMove(e) {\r\n  onMove(e.touches[0]);     \r\n}\r\n\r\nfunction onTouchEnd(e) {\r\n  if (e.touches.length ==0) onUp(e.changedTouches[0]);\r\n}\r\n\r\nfunction onMouseDown(e) {\r\n  onDown(e);\r\n  e.preventDefault();\r\n}\r\n\r\nfunction onMove(ee) {\r\n  calc(ee);\r\n  e = ee;\r\n  redraw = true;\r\n}\r\n\r\nfunction onUp(e) {\r\n  calc(e);\r\n  clicked = null;\r\n\r\n}\r\n\r\nfunction onDown(e) {\r\n  calc(e);\r\n\r\n  var isResizing = onRightEdge || onBottomEdge || onTopEdge || onLeftEdge;\r\n  console.log(\"isResizing: \" + isResizing);\r\n\r\n  clicked = {\r\n\tx: x,\r\n\ty: y,\r\n\tcx: e.clientX,\r\n\tcy: e.clientY,\r\n\tw: b.width,\r\n\th: b.height,\r\n\tisResizing: isResizing,\r\n\tonTopEdge: onTopEdge,\r\n\tonLeftEdge: onLeftEdge,\r\n\tonRightEdge: onRightEdge,\r\n\tonBottomEdge: onBottomEdge\r\n  };\r\n  \r\n  \r\n}\r\n\r\n\r\nfunction animate() {\r\n\r\n  requestAnimationFrame(animate);\r\n\r\n  if (!redraw) return;\r\n\r\n  redraw = false;\r\n\r\n  if (clicked &amp;&amp; clicked.isResizing) {\r\n\r\n\tif (clicked.onRightEdge) pane.style.width = Math.max(x, minWidth) + 'px';\r\n\tif (clicked.onBottomEdge) pane.style.height = Math.max(y, minHeight) + 'px';\r\n\r\n\tif (clicked.onLeftEdge) {\r\n\t  var currentWidth = Math.max(clicked.cx - e.clientX  + clicked.w, minWidth);\r\n\t  if (currentWidth &gt; minWidth) {\r\n\t\tpane.style.width = currentWidth + 'px';\r\n\t\tpane.style.left = e.clientX + 'px'; \r\n\t  }\r\n\t}\r\n\r\n\tif (clicked.onTopEdge) {\r\n\t  var currentHeight = Math.max(clicked.cy - e.clientY  + clicked.h, minHeight);\r\n\t  if (currentHeight &gt; minHeight) {\r\n\t\tpane.style.height = currentHeight + 'px';\r\n\t\tpane.style.top = e.clientY + 'px';  \r\n\t  }\r\n\t}\r\n\r\n\r\n\treturn;\r\n  }\r\n\r\n  // This code executes when mouse moves without clicking\r\n\r\n  // style cursor\r\n  if (onRightEdge &amp;&amp; onBottomEdge || onLeftEdge &amp;&amp; onTopEdge) {\r\n\tpane.style.cursor = 'nwse-resize';\r\n  } else if (onRightEdge &amp;&amp; onTopEdge || onBottomEdge &amp;&amp; onLeftEdge) {\r\n\tpane.style.cursor = 'nesw-resize';\r\n  } else if (onRightEdge || onLeftEdge) {\r\n\tpane.style.cursor = 'ew-resize';\r\n  } else if (onBottomEdge || onTopEdge) {\r\n\tpane.style.cursor = 'ns-resize';\r\n  } else {\r\n\tpane.style.cursor = 'default';\r\n  }\r\n}\r\n\r\nfunction calc(e) {\r\n  b = pane.getBoundingClientRect();\r\n  x = e.clientX - b.left;\r\n  y = e.clientY - b.top;\r\n\r\n  onTopEdge = y &lt; MARGINS;\r\n  onLeftEdge = x &lt; MARGINS;\r\n  onRightEdge = x &gt;= b.width - MARGINS;\r\n  onBottomEdge = y &gt;= b.height - MARGINS;\r\n  \r\n \r\n}\r\n\r\nanimate();\r\n\r\n\r\nvar count = 0;\r\n    $(\".btn-rotate\").on(\"click\",function(){\r\n        if(count == 0){\r\n            $(\"#pane\").css(\"transform\",\"rotate(90deg)\");\r\n            count++;\r\n        } \r\n        else if (count == 1){\r\n            $(\"#pane\").css(\"transform\",\"rotate(180deg)\");\r\n            count++;\r\n        }  \r\n        else if (count == 2){\r\n            $(\"#pane\").css(\"transform\",\"rotate(270deg)\");\r\n            count++;\r\n        }\r\n        else {\r\n            $(\"#pane\").css(\"transform\",\"rotate(360deg)\");\r\n            count=0;\r\n        }\r\n    });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#pane {\r\n\t\tposition: absolute;\r\n\t\ttop: 150px;\r\n\t\tleft:200px;\r\n\t}\r\n  \r\n  img{\r\n    width:100px;\r\n    height: 100px;\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;\r\nYou can Resize the Image by Hovering over the edges and drag it\r\n&lt;/h1&gt;\r\n\t&lt;img src=\"https://www.bleedingcool.com/wp-content/uploads/2014/10/DC-Logo.png\" id=\"pane\" height=\"100px\" width=\"100px\"/&gt;\r\n&lt;button class=\"btn-rotate\"&gt;\r\nRotate Me\r\n&lt;/button&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-storage", "froala"], "comments": [{"owner": {"reputation": 197, "user_id": 6085791, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/299e74c6780bd80d5a422e9dc7071748?s=128&d=identicon&r=PG&f=1", "display_name": "maadi", "link": "https://stackoverflow.com/users/6085791/maadi"}, "edited": false, "score": 0, "creation_date": 1537256902, "post_id": 45327006, "comment_id": 91707235, "body": "have you resolved this issue?"}, {"owner": {"reputation": 197, "user_id": 6085791, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/299e74c6780bd80d5a422e9dc7071748?s=128&d=identicon&r=PG&f=1", "display_name": "maadi", "link": "https://stackoverflow.com/users/6085791/maadi"}, "edited": false, "score": 0, "creation_date": 1537256919, "post_id": 45327006, "comment_id": 91707241, "body": "can you please tell how you resolved this issue?"}, {"owner": {"reputation": 513, "user_id": 6771951, "user_type": "registered", "profile_image": "https://graph.facebook.com/1139617356106521/picture?type=large", "display_name": "JG_GJ", "link": "https://stackoverflow.com/users/6771951/jg-gj"}, "edited": false, "score": 0, "creation_date": 1579195775, "post_id": 45327006, "comment_id": 105693791, "body": "How did you solve it?"}, {"owner": {"reputation": 3208, "user_id": 1372783, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5f9e0ded7129d58e2baf1d10e3c56f82?s=128&d=identicon&r=PG", "display_name": "benjiman", "link": "https://stackoverflow.com/users/1372783/benjiman"}, "edited": false, "score": 0, "creation_date": 1586216670, "post_id": 45327006, "comment_id": 108042514, "body": "Check this github issue: <a href=\"https://github.com/froala/angular-froala-wysiwyg/issues/114\" rel=\"nofollow noreferrer\">github.com/froala/angular-froala-wysiwyg/issues/114</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4048841, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cGpMZv3Xhh8/AAAAAAAAAAI/AAAAAAAAAEc/fxjLZvshzCs/photo.jpg?sz=128", "display_name": "Hoshank Ailani", "link": "https://stackoverflow.com/users/4048841/hoshank-ailani"}, "is_accepted": false, "score": 0, "last_activity_date": 1538001021, "last_edit_date": 1538001021, "creation_date": 1532499353, "answer_id": 51512003, "question_id": 45327006, "link": "https://stackoverflow.com/questions/45327006/how-to-replace-image-url-when-upload-image-in-froala-editor/51512003#51512003", "title": "How to replace image URL when upload image in Froala editor?", "body": "<p>You will have to do a bit of experiment.</p>\n\n<p>What I did was</p>\n\n<p>var returnFileUpload = FroalaEditor.Image.Upload(System.Web.HttpContext.Current, uploadPath);</p>\n\n<p>and then instead of returning the link the above method returned I changed the link that pointed to the right directory in my server. I had to append a few path links to the above returned link.\nSomething like</p>\n\n<p>var tempLinkCreatedByEditor = returnFileUpload.ToString();</p>\n\n<p>var finalLinkToBeReturned = \"/../goBackOneLevelUpinDirectory/\" + tempLinkCreatedByEditor.Substring(10);</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 31, "user_id": 8263349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n4eCA.jpg?s=128&g=1", "display_name": "Letmetake", "link": "https://stackoverflow.com/users/8263349/letmetake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1334, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1538001021, "creation_date": 1501072095, "last_edit_date": 1501081129, "question_id": 45327006, "link": "https://stackoverflow.com/questions/45327006/how-to-replace-image-url-when-upload-image-in-froala-editor", "title": "How to replace image URL when upload image in Froala editor?", "body": "<p>I've tried to upload image to my own server(Firebase). I managed to upload to my server by using this event.</p>\n\n<pre><code>'froalaEditor.image.beforeUpload' : function(e, editor, images) {\n     let uploadTask: firebase.storage.UploadTask;\n     var time = Date.now()\n     let storageRef = firebase.storage().ref();\n     let path = `this.uid/Article_img/${time}`;\n     uploadTask = storageRef.child(path).put(images[0])\n     uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n     (error) =&gt; {\n        console.log(error)\n     },\n     () =&gt; {\n        this.downloadURL = uploadTask.snapshot.downloadURL;\n     })\n}\n</code></pre>\n\n<p>When I inserted the image, image was uploaded to my server successfully. But, I don't know how to replace the url in the editor because now it still use default url. I have no idea how to replace or change image URL.</p>\n"}, {"tags": ["angular", "typescript", "datatables"], "answers": [{"tags": [], "owner": {"reputation": 1068, "user_id": 5854882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fe1e093f1daa8277a4dd0b61eafd72b?s=128&d=identicon&r=PG&f=1", "display_name": "jhhoff02", "link": "https://stackoverflow.com/users/5854882/jhhoff02"}, "is_accepted": false, "score": 0, "last_activity_date": 1501159918, "creation_date": 1501159918, "answer_id": 45351369, "question_id": 45325780, "link": "https://stackoverflow.com/questions/45325780/how-to-add-button-with-dropdown-options-in-angular-4-datatables-when-fetching-da/45351369#45351369", "title": "How to Add BUTTON WITH DROPDOWN OPTIONS in Angular 4 datatables when fetching data from Object KeyValue pair from Typrescript File", "body": "<p>Native dropdowns for Angular apps simply use the html <code>select</code> tag. You put the <code>*ngFor</code> on the <code>option</code> tag to loop through the data. This creates an option for each object in your tableData array (you only have 1).</p>\n\n<pre><code>&lt;select class=\"form-control\" [(ngModel)]=\"selectedValue\" name=\"Value\"&gt;\n  &lt;option *ngFor=\"let value of tableData\" [value]=\"value.ShipmentRef\"&gt;{{value.CustomerName}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>You can set the option display to anything the user would recognize, here I made it the CustomerName. <code>[value]</code> usually selects an id in the data that uniquely identifies each row, but here I set it to ShipmentRef. <code>[(ngModel)]</code> here binds the user's selection to a variable that needs to exist in your TypeScript. </p>\n\n<p>Add something like: <code>selectedValue: string = null;</code> under your <code>tableData</code> instantiation. Then, when the user selects an option, the variable will contain the value and you can use it other places (e.g. to highlight the associated data in your html table).</p>\n"}], "owner": {"reputation": 307, "user_id": 8198106, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-NO3zIB9EqpI/AAAAAAAAAAI/AAAAAAAAILs/euyCSQzv_XA/photo.jpg?sz=128", "display_name": "Tayyab Rahman", "link": "https://stackoverflow.com/users/8198106/tayyab-rahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 816, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501159918, "creation_date": 1501068930, "question_id": 45325780, "link": "https://stackoverflow.com/questions/45325780/how-to-add-button-with-dropdown-options-in-angular-4-datatables-when-fetching-da", "title": "How to Add BUTTON WITH DROPDOWN OPTIONS in Angular 4 datatables when fetching data from Object KeyValue pair from Typrescript File", "body": "<p>I want to add a button with drop-down options in a datatable row in Angular 4. I am using ngFor to get values of table head and row, which I have defined in Typescript file as Array of the object and set to Typescript property.Getting the table data perfectly, but I need a a button with dropdown and wondering how I can achieve this in the object array.</p>\n\n<p>Here is the code that I am using.</p>\n\n<pre><code>**************************\nHTML\n***************************\n\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n &lt;th *ngFor=\"let colValues of tableData | columnPipe \"&gt;{{colValues}}&lt;/th&gt;\n&lt;/tr&gt;\n&lt;tr *ngFor=\"let row of tableData | searchPipe : mysearchFilter.value\"&gt;\n&lt;td *ngFor=\"let rowValues of row | rowPipe\"&gt;{{ rowValues }}&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n\n\n**************************\nApp.ts\n***************************\n\nexport class JobComponent implements OnInit {         \npublic tableData: any = [\n{ 'ShipmentRef': 'E159 025 035', 'CustomerName' : 'Sample Pty Ltd', 'PickupSuburb' : 'Lynwood WA 6147', 'DeliverySuburb' : 'Rockingham WA 6219' , 'JobType' : 'Domestic', 'Weight' : '40 Kg', 'DispatchStatus': 'Dispatched', 'AccountType': 'Credit', 'Hold': ' ' , 'Managed By': 'Third Party', 'TrackingStatus': 'Track Here', 'Action': ''}\n];\nconstructor() { }\nngOnInit() {\n}\n}\n\n    **************************\n    pipes.ts\n    ***************************\nexport class columnPipe implements PipeTransform {\n  transform(value: any, args?: any): any {\n    const columnNames = [];\n    for (var i = 0; i &lt; value.length; i++) {\n      for (const key in value[i]) {\n        if (columnNames.indexOf(key) === -1) {\n          columnNames.push(key);\n        }\n      }\n    }\n    return columnNames;\n  }\n}\n\n@Pipe({\n  name: 'rowPipe'\n})\n\nexport class rowPipe implements PipeTransform {\n  transform(value: any, args?: any): any {\n    const rowValues = Object.keys(value);\n    return rowValues.map(k =&gt; value[k]);\n  }\n}\n\n@Pipe({\n  name: 'searchPipe'\n})\nexport class searchPipe implements PipeTransform {\n  transform(values: any[], filter: string): any {\n    if (!values || !values.length) return [];\n    if (!filter) return values;\n\n    filter = filter.toUpperCase();\n\n    if (filter &amp;&amp; Array.isArray(values)) {\n      const keys = Object.keys(values[0]);\n      return values.filter(v =&gt; v &amp;&amp; keys.some(k =&gt; v[k].toUpperCase().indexOf(filter) &gt;= 0));\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "google-analytics", "webpack", "google-tag-manager"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 3186804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dyJAS.png?s=128&g=1", "display_name": "springerkc", "link": "https://stackoverflow.com/users/3186804/springerkc"}, "is_accepted": false, "score": 2, "last_activity_date": 1545180462, "creation_date": 1545180462, "answer_id": 53843141, "question_id": 45325631, "link": "https://stackoverflow.com/questions/45325631/google-tag-manager-datalayer-type-error-es6/53843141#53843141", "title": "Google Tag Manager dataLayer Type Error: ES6", "body": "<p>I am using TypeScript 2.9.2</p>\n\n<p>typings.d.ts</p>\n\n<pre><code>interface Window { dataLayer: any; }\n</code></pre>\n\n<p>app.ts</p>\n\n<pre><code>window.dataLayer = window.dataLayer || [];\nwindow.dataLayer.push({...});\n</code></pre>\n\n<p>See these other answers for more info:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12709074/how-do-you-explicitly-set-a-new-property-on-window-in-typescript\">How do you explicitly set a new property on `window` in TypeScript?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/12703266/how-to-handle-warnings-for-proprietary-custom-properties-of-built-in-objects-in/12703866#12703866\">How to handle warnings for proprietary/custom properties of built-in objects in TypeScript</a></p>\n"}], "owner": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2005, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1604669155, "creation_date": 1501068493, "last_edit_date": 1501150098, "question_id": 45325631, "link": "https://stackoverflow.com/questions/45325631/google-tag-manager-datalayer-type-error-es6", "title": "Google Tag Manager dataLayer Type Error: ES6", "body": "<p>Can someone explain to me why</p>\n\n<pre><code>(&lt;any&gt;window).dataLayer2 = (&lt;any&gt;window).dataLayer2 || [];\n</code></pre>\n\n<p>Does not throw an error and</p>\n\n<pre><code>(&lt;any&gt;window).dataLayer = (&lt;any&gt;window).dataLayer || [];\n</code></pre>\n\n<p>Does throw a type error: \"Error: Can't resolve 'dataLayer'\"</p>\n\n<p>I need to be able to get access to the google analytics global variable and am not sure why this doesn\u2019t work or how to expose it for ES6. </p>\n\n<p>I'm using webpack and typescript and have added it to my index.ejs as follows:</p>\n\n<pre><code>&lt;body aurelia-app=\"main\"&gt;\n    &lt;noscript&gt;&lt;iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-okoko\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"&gt;&lt;/iframe&gt;&lt;/noscript&gt;\n&lt;script&gt;\n   (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n   new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n   j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=\n   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n   })(window,document,'script','dataLayer','GTM-ookok');\n&lt;/script&gt;\n</code></pre>\n\n<p> </p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "multidimensional-array"], "comments": [{"owner": {"reputation": 3441, "user_id": 1064270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae57f6f876de8a169f3670a39bf13332?s=128&d=identicon&r=PG&f=1", "display_name": "Ga&#235;l", "link": "https://stackoverflow.com/users/1064270/ga%c3%abl"}, "edited": false, "score": 2, "creation_date": 1501068581, "post_id": 45325614, "comment_id": 77612852, "body": "What is your issue?"}, {"owner": {"reputation": 30502, "user_id": 5933656, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/4lPjy.jpg?s=128&g=1", "display_name": "Mohammad Usman", "link": "https://stackoverflow.com/users/5933656/mohammad-usman"}, "edited": false, "score": 1, "creation_date": 1501068714, "post_id": 45325614, "comment_id": 77612955, "body": "It seems a requirement rather than a question."}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501069044, "post_id": 45325614, "comment_id": 77613230, "body": "AngularJS2 ? So do you mean AngularJS or Angular 2+ Only if it&#39;s Angular2+ tag as angular NOT AngularJS and remove &#39;JS&#39; from question title. If AngularJS remove 2 from title..."}, {"owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "edited": false, "score": 0, "creation_date": 1501069302, "post_id": 45325614, "comment_id": 77613427, "body": "do you think <code>gIf</code> is a loop?"}, {"owner": {"reputation": 235, "user_id": 8364822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10204963918078392/picture?type=large", "display_name": "Nikola Noxious Dimitrov", "link": "https://stackoverflow.com/users/8364822/nikola-noxious-dimitrov"}, "edited": false, "score": 0, "creation_date": 1501069599, "post_id": 45325614, "comment_id": 77613658, "body": "Ok I made the edits."}, {"owner": {"reputation": 1261, "user_id": 1426035, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1211ecc94ba2e83b71461323c865aa00?s=128&d=identicon&r=PG", "display_name": "Jeff Huijsmans", "link": "https://stackoverflow.com/users/1426035/jeff-huijsmans"}, "edited": false, "score": 0, "creation_date": 1501069754, "post_id": 45325614, "comment_id": 77613775, "body": "You should have at least a small piece of code where you show what you&#39;ve tried already. <code>ng-repeat</code>, <code>ng-click</code> should be all you need. StackOverflow is not a website where you tell your needs and we provide code. You should provide your own code, tell us what should be happening and what is currently happening, that&#39;s where we can help you."}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 8364822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10204963918078392/picture?type=large", "display_name": "Nikola Noxious Dimitrov", "link": "https://stackoverflow.com/users/8364822/nikola-noxious-dimitrov"}, "edited": false, "score": 0, "creation_date": 1501081991, "post_id": 45326442, "comment_id": 77623708, "body": "Hey, great. Yes more or less that&#39;s what I wanted to achieve.  Only one thing , if you want to assit, was that I wanted to set the maxnumber in the array, so it will have only one object there not each one as separate. So if I set max:10, it will start from 1 and finish to 10,(something like for i=0;i&lt;=10;i++) and I don&#39;t need to enter these numbers separately inside the data array. I will playground a little bit more and see if I stuck more there, but yes, thank you a lot man."}, {"owner": {"reputation": 4336, "user_id": 5452965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PVSOP.jpg?s=128&g=1", "display_name": "codtex", "link": "https://stackoverflow.com/users/5452965/codtex"}, "reply_to_user": {"reputation": 235, "user_id": 8364822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10204963918078392/picture?type=large", "display_name": "Nikola Noxious Dimitrov", "link": "https://stackoverflow.com/users/8364822/nikola-noxious-dimitrov"}, "edited": false, "score": 0, "creation_date": 1501152204, "post_id": 45326442, "comment_id": 77657891, "body": "@NikolaNoxiousDimitrov hey how is going, did you manage to do what you wanted to achieve ?"}, {"owner": {"reputation": 235, "user_id": 8364822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10204963918078392/picture?type=large", "display_name": "Nikola Noxious Dimitrov", "link": "https://stackoverflow.com/users/8364822/nikola-noxious-dimitrov"}, "edited": false, "score": 0, "creation_date": 1501157554, "post_id": 45326442, "comment_id": 77661751, "body": "Thanks once again. I was busy dealing with it. I got 2 more things on this. First one, I want to stop adding the elements on the 2nd(selected) list, if it&#39;s length becomes 3. So basically to stop adding them if this list gets 3 elements (I fire alert window), but you are still able to remove elements. I tried something like while (this.slected.length &lt;= 3) it works, but it stops the toggle() function furthermore. Second thing is that I want to remove the elements if you click on them from the 2nd(selected) list and set class to undefined or empty from 1st list."}, {"owner": {"reputation": 4336, "user_id": 5452965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PVSOP.jpg?s=128&g=1", "display_name": "codtex", "link": "https://stackoverflow.com/users/5452965/codtex"}, "reply_to_user": {"reputation": 235, "user_id": 8364822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10204963918078392/picture?type=large", "display_name": "Nikola Noxious Dimitrov", "link": "https://stackoverflow.com/users/8364822/nikola-noxious-dimitrov"}, "edited": false, "score": 0, "creation_date": 1501159625, "post_id": 45326442, "comment_id": 77663376, "body": "Okay sounds as interesting task to do :), I leave you to work on that if you have big trouble just post a comment with a link to the plunker that you did and I will have a look on it."}, {"owner": {"reputation": 235, "user_id": 8364822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10204963918078392/picture?type=large", "display_name": "Nikola Noxious Dimitrov", "link": "https://stackoverflow.com/users/8364822/nikola-noxious-dimitrov"}, "edited": false, "score": 0, "creation_date": 1501167076, "post_id": 45326442, "comment_id": 77669877, "body": "Yes..it is. Here is the plunker :<a href=\"https://plnkr.co/edit/westrcj3rPfEOicU8cJ6?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/westrcj3rPfEOicU8cJ6?p=preview</a> I just placed function to remove from the 2nd list, and a notification when length &gt; 3. It gives the alert, but must preserve the function from adding more elements. Also the removing elements from 2nd list, should clear the class from the first name list element. I know about e.preventDefault method, but not sure."}, {"owner": {"reputation": 235, "user_id": 8364822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10204963918078392/picture?type=large", "display_name": "Nikola Noxious Dimitrov", "link": "https://stackoverflow.com/users/8364822/nikola-noxious-dimitrov"}, "edited": false, "score": 0, "creation_date": 1501233297, "post_id": 45326442, "comment_id": 77699540, "body": "ok i managed the remove of style from 2nd list, and placed some simple code for max length, but I need assistance there. I am not sure should be done in the function, or outside in the DOM and use some condition in the (click) event of the element."}, {"owner": {"reputation": 4336, "user_id": 5452965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PVSOP.jpg?s=128&g=1", "display_name": "codtex", "link": "https://stackoverflow.com/users/5452965/codtex"}, "reply_to_user": {"reputation": 235, "user_id": 8364822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10204963918078392/picture?type=large", "display_name": "Nikola Noxious Dimitrov", "link": "https://stackoverflow.com/users/8364822/nikola-noxious-dimitrov"}, "edited": false, "score": 0, "creation_date": 1501233543, "post_id": 45326442, "comment_id": 77699690, "body": "What you need to do else? Limit the second list to 3 items ? just put this <code>if(this.selected.length &gt;= 3){        return;      }</code> before <code>this.selected.push(item);</code>"}, {"owner": {"reputation": 235, "user_id": 8364822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10204963918078392/picture?type=large", "display_name": "Nikola Noxious Dimitrov", "link": "https://stackoverflow.com/users/8364822/nikola-noxious-dimitrov"}, "edited": false, "score": 0, "creation_date": 1501233940, "post_id": 45326442, "comment_id": 77699981, "body": "Great, yes thats what i needed. +5 star for you."}], "tags": [], "owner": {"reputation": 4336, "user_id": 5452965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PVSOP.jpg?s=128&g=1", "display_name": "codtex", "link": "https://stackoverflow.com/users/5452965/codtex"}, "is_accepted": false, "score": 0, "last_activity_date": 1560348590, "last_edit_date": 1560348590, "creation_date": 1501070604, "answer_id": 45326442, "question_id": 45325614, "link": "https://stackoverflow.com/questions/45325614/how-to-toggle-items-from-one-array-in-another/45326442#45326442", "title": "How to toggle items from one array in another", "body": "<p>Basically you would use <strong><a href=\"https://angular.io/guide/displaying-data/#conditional-display-with-ngif\" rel=\"nofollow noreferrer\">ngFor</a></strong> to loop through your <code>data</code> array and display the values. Then you can bind each items <code>(click)</code> handler to a function from your class and inside this function you can implement the toggle logic with pure javascript functions like checking if item is inside <code>newarray</code> with <strong><a href=\"https://www.w3schools.com/jsref/jsref_indexof_array.asp\" rel=\"nofollow noreferrer\">indexOf</a></strong> then if not use <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push\" rel=\"nofollow noreferrer\">push</a></strong> to add it, otherwise you would like to remove from <code>newarray</code> with <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\" rel=\"nofollow noreferrer\">splice</a></strong></p>\n\n<pre><code>&lt;span *ngFor=\"let item of data\" (click)=\"toggle(item)\"&gt;{{item.max}}&lt;/span&gt; \n</code></pre>\n\n<p>If you want also to toggle a class selector you can do something like this:</p>\n\n<pre><code>&lt;span [class]=\"item.currentClass\" *ngFor=\"let item of data\" (click)=\"toggle(item)\"&gt;{{item.max}}&lt;/span&gt; \n</code></pre>\n\n<p>and inside <code>toggle()</code> method you can just assign <code>item.currentClass = item.class</code> or <code>item.currentClass=''</code> depending on the toggle state.</p>\n\n<p>See <strong><a href=\"https://plnkr.co/edit/1eQ6GbMT5EvcPOTcw4az?p=preview\" rel=\"nofollow noreferrer\">this demo</a></strong> and let me know if it is now more clear to you how to do it.</p>\n"}], "owner": {"reputation": 235, "user_id": 8364822, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10204963918078392/picture?type=large", "display_name": "Nikola Noxious Dimitrov", "link": "https://stackoverflow.com/users/8364822/nikola-noxious-dimitrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1560348590, "creation_date": 1501068445, "last_edit_date": 1501072126, "question_id": 45325614, "link": "https://stackoverflow.com/questions/45325614/how-to-toggle-items-from-one-array-in-another", "title": "How to toggle items from one array in another", "body": "<p>I have a json like:</p>\n\n<pre><code>\"data\":\n    [{\n        \"max\": 10,\n        \"class\": \"selected\",\n        \"type\": \"numbers\"\n    }]\n</code></pre>\n\n<p>I want to use a loop, which will start from 1 and to 10 (my max value) and display all the numbers inside span like:</p>\n\n<pre><code>&lt;span&gt;1&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;...&lt;span&gt;10&lt;/span&gt;\n</code></pre>\n\n<p>Than if I click on the span element i want this element to be added in a new empty array. So lets say I have other empty array:</p>\n\n<pre><code>newarray: Array&lt;number&gt; = []\n</code></pre>\n\n<p>Will become:</p>\n\n<pre><code>newarray = [1]\n</code></pre>\n\n<p>Additionally I want to toggle class when you click on the span element, taken by the json.class property.</p>\n"}, {"tags": ["arrays", "typescript"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1501068085, "post_id": 45325358, "comment_id": 77612480, "body": "What have you tried so far? Or are you asking us to write that function for you?"}], "answers": [{"comments": [{"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501068666, "post_id": 45325589, "comment_id": 77612913, "body": "nice.. did not know about filter/some. Was looking at lodash. You should have a changed too - just for fun of it! when position changes for id!"}], "tags": [], "owner": {"reputation": 9159, "user_id": 1919228, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b942d91f7affb127a69d54c71dd26580?s=128&d=identicon&r=PG", "display_name": "Pablo Lozano", "link": "https://stackoverflow.com/users/1919228/pablo-lozano"}, "is_accepted": true, "score": 2, "last_activity_date": 1501068391, "creation_date": 1501068391, "answer_id": 45325589, "question_id": 45325358, "link": "https://stackoverflow.com/questions/45325358/ts-how-to-get-the-removed-and-added-items-in-an-array-from-old-and-new-array/45325589#45325589", "title": "TS - How to get the removed and added items in an array from old and new array?", "body": "<p>What you need is a function to find the difference between 2 arrays:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let oldArray = [\r\n    { id: 1, position: 'DEV OM'},\r\n    { id: 2, position: 'Senior Developer'}\r\n]\r\n\r\nlet newArray = [\r\n    { id: 2, position: 'Senior Developer'},\r\n    { id: 3, position: 'Junior Developer'}\r\n]\r\n\r\nfunction difference(a,b) {\r\n  return a.filter(itema =&gt; !b.some(itemb =&gt; itemb.id===itema.id));\r\n}\r\n\r\nconsole.log(difference(oldArray,newArray))\r\nconsole.log(difference(newArray,oldArray))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 6359, "user_id": 6143656, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ee15a9ee7eb1213ec2702d1b30ee3c6f?s=128&d=identicon&r=PG", "display_name": "Roel", "link": "https://stackoverflow.com/users/6143656/roel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 1, "accepted_answer_id": 45325589, "answer_count": 1, "score": -1, "last_activity_date": 1501069496, "creation_date": 1501067772, "question_id": 45325358, "link": "https://stackoverflow.com/questions/45325358/ts-how-to-get-the-removed-and-added-items-in-an-array-from-old-and-new-array", "title": "TS - How to get the removed and added items in an array from old and new array?", "body": "<p>Supposed we have this </p>\n\n<pre><code>oldArray = [\n    { id: 1, position: 'DEV OM'},\n    { id: 2, position: 'Senior Developer'},\n]\n\nnewArray = [\n    { id: 2, position: 'Senior Developer'},\n    { id: 3, position: 'Junior Developer'},\n]\n</code></pre>\n\n<p>Now how can we get the removed and added items in those arrays?</p>\n\n<pre><code>addedItems = getAddedItems(oldArray, newArray)\nremovedItems = getRemovedItems(oldArray, newArray)\n\n\n// Output for addedItems\n[\n    { id: 3, position: 'Junior Developer'}\n]\n\n// Output for removedItems\n[\n    { id: 1, position: 'DEV OM'}\n]\n</code></pre>\n\n<p>Im using typescript/angular2 app</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 7765268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pzfv5.png?s=128&g=1", "display_name": "Mitesh Gadhiya", "link": "https://stackoverflow.com/users/7765268/mitesh-gadhiya"}, "edited": false, "score": 0, "creation_date": 1501071191, "post_id": 45326016, "comment_id": 77614767, "body": "Thanks for your reply...But if you can explain what you are asking to do...I am not able to get what you are asking to do"}, {"owner": {"reputation": 334, "user_id": 7765268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pzfv5.png?s=128&g=1", "display_name": "Mitesh Gadhiya", "link": "https://stackoverflow.com/users/7765268/mitesh-gadhiya"}, "edited": false, "score": 0, "creation_date": 1501072146, "post_id": 45326016, "comment_id": 77615501, "body": "Okay...Let me try with that"}, {"owner": {"reputation": 334, "user_id": 7765268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pzfv5.png?s=128&g=1", "display_name": "Mitesh Gadhiya", "link": "https://stackoverflow.com/users/7765268/mitesh-gadhiya"}, "edited": false, "score": 0, "creation_date": 1501245240, "post_id": 45326016, "comment_id": 77708146, "body": "sorry JGFMK, but your solution is not working for me."}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "reply_to_user": {"reputation": 334, "user_id": 7765268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pzfv5.png?s=128&g=1", "display_name": "Mitesh Gadhiya", "link": "https://stackoverflow.com/users/7765268/mitesh-gadhiya"}, "edited": false, "score": 0, "creation_date": 1501246409, "post_id": 45326016, "comment_id": 77709063, "body": "If you post a Plunker of what you&#39;ve got, I&#39;ll take a look."}, {"owner": {"reputation": 362, "user_id": 4479296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O1Dry.jpg?s=128&g=1", "display_name": "Ghanshyam Lakhani", "link": "https://stackoverflow.com/users/4479296/ghanshyam-lakhani"}, "edited": false, "score": 0, "creation_date": 1501486925, "post_id": 45326016, "comment_id": 77780171, "body": "@JGFMK : i have seen your solution but it&#39;s not working for me,also i have created Plunker regarding this. In this one can change first country from first row then binding state regarding in second whole column&#39;s dropdown insted  of first one.any help..?<a href=\"http://plnkr.co/edit/BkDk9wLB3J5Uv2ijEX6i?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/BkDk9wLB3J5Uv2ijEX6i?p=preview</a>"}, {"owner": {"reputation": 334, "user_id": 7765268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pzfv5.png?s=128&g=1", "display_name": "Mitesh Gadhiya", "link": "https://stackoverflow.com/users/7765268/mitesh-gadhiya"}, "edited": false, "score": 0, "creation_date": 1501564644, "post_id": 45326016, "comment_id": 77819823, "body": "@ JGFMK, Looked at your solution and it looks promising, let me try it with my code."}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501565159, "post_id": 45326016, "comment_id": 77820022, "body": "I just this second tweaked the states: declaration and updated the Plunker link.  Both worked, but I think the latest  is a better representation of the array content."}, {"owner": {"reputation": 334, "user_id": 7765268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pzfv5.png?s=128&g=1", "display_name": "Mitesh Gadhiya", "link": "https://stackoverflow.com/users/7765268/mitesh-gadhiya"}, "edited": false, "score": 0, "creation_date": 1501565266, "post_id": 45326016, "comment_id": 77820063, "body": "Okay got it..:) I will try with latest one.:)"}, {"owner": {"reputation": 362, "user_id": 4479296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O1Dry.jpg?s=128&g=1", "display_name": "Ghanshyam Lakhani", "link": "https://stackoverflow.com/users/4479296/ghanshyam-lakhani"}, "edited": false, "score": 0, "creation_date": 1501670068, "post_id": 45326016, "comment_id": 77876896, "body": "@JGFMK : how to validation on this type of binding any idea..?"}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "reply_to_user": {"reputation": 362, "user_id": 4479296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O1Dry.jpg?s=128&g=1", "display_name": "Ghanshyam Lakhani", "link": "https://stackoverflow.com/users/4479296/ghanshyam-lakhani"}, "edited": false, "score": 0, "creation_date": 1501671687, "post_id": 45326016, "comment_id": 77878023, "body": "@GhanshyamLakhani These were drop down lists. So possible values are pre-configured. So I&#39;m not sure what your asking..."}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "reply_to_user": {"reputation": 334, "user_id": 7765268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pzfv5.png?s=128&g=1", "display_name": "Mitesh Gadhiya", "link": "https://stackoverflow.com/users/7765268/mitesh-gadhiya"}, "edited": false, "score": 0, "creation_date": 1501705387, "post_id": 45326016, "comment_id": 77901618, "body": "@MiteshGadhiya - I made another tweak to answer after some feedback from someone else..."}, {"owner": {"reputation": 334, "user_id": 7765268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pzfv5.png?s=128&g=1", "display_name": "Mitesh Gadhiya", "link": "https://stackoverflow.com/users/7765268/mitesh-gadhiya"}, "edited": false, "score": 0, "creation_date": 1501707242, "post_id": 45326016, "comment_id": 77902644, "body": "Okay..I got the point..I will update my code accordingly...:) Thanks for insights.."}], "tags": [], "owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "is_accepted": true, "score": 3, "last_activity_date": 1501705230, "last_edit_date": 1501705230, "creation_date": 1501069548, "answer_id": 45326016, "question_id": 45325342, "link": "https://stackoverflow.com/questions/45325342/cascading-drop-down-in-table-using-angular-4-typescript/45326016#45326016", "title": "Cascading drop down in table using Angular 4 typescript", "body": "<p>The problem is you needed an array of states... (in the <a href=\"http://plnkr.co/edit/BkDk9wLB3J5Uv2ijEX6i?p=preview\" rel=\"nofollow noreferrer\">plunker</a> you listed in the comments below).\nYou can probably apply same to your code in original question.</p>\n\n<p>list-component.ts tweaks</p>\n\n<pre><code>export class CountryListComponent {\n\n  states: State[] = [[] as State[],[] as State[],[] as State[]] \n\n  onSelect(value,index) {\n    this.states[index] = this._dataService.getStates().\n      filter((item)=&gt; item.countryid == value);\n  }\n}\n</code></pre>\n\n<p>list-component.html tweak </p>\n\n<ul>\n<li><strong>Updated:</strong> after <a href=\"https://stackoverflow.com/questions/45469363/selecting-default-in-select-option/45469511\">this exchange</a> with @G\u00fcnterZ\u00f6chbauer : </li>\n<li>Use (ngModelChange) over (change)</li>\n</ul>\n\n<hr>\n\n<pre><code>  &lt;select [(ngModel)]=\"selectedCountry[number].id\"\n    (ngModelChange)=\"onSelect($event, number)\"&gt;\n</code></pre>\n\n<p><a href=\"http://plnkr.co/edit/dIS2GJdcA8OiPZU4jD4C?p=preview\" rel=\"nofollow noreferrer\">Fixed Plunker</a></p>\n"}], "owner": {"reputation": 334, "user_id": 7765268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pzfv5.png?s=128&g=1", "display_name": "Mitesh Gadhiya", "link": "https://stackoverflow.com/users/7765268/mitesh-gadhiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1160, "favorite_count": 0, "accepted_answer_id": 45326016, "answer_count": 1, "score": 0, "last_activity_date": 1501705230, "creation_date": 1501067722, "last_edit_date": 1501070077, "question_id": 45325342, "link": "https://stackoverflow.com/questions/45325342/cascading-drop-down-in-table-using-angular-4-typescript", "title": "Cascading drop down in table using Angular 4 typescript", "body": "<p>I am new to angular and developing my very first application using angular 4 and typescript </p>\n\n<p>I want to use Cascading drop-down in table using angular4</p>\n\n<p>Currently, I have been working on it but when I change drop down from the first row it is a binding second level dropdown for all row.</p>\n\n<p>I want to bind the second level drop down of the row from the first level drop down is changed.</p>\n\n<p>I have some idea on my mind to achieve this but I guess It might be a patch so I am very curious to know any proper way of angular to achieve this. </p>\n\n<p>ts file code</p>\n\n<pre><code>import { Component, OnInit, EventEmitter } from '@angular/core';\nimport { Category } from '../model/Category';\nimport { SubCategory } from '../model/subCategory';\nimport { Partner } from '../model/partner';\nimport { GetdataService } from '../../../../Server/api/Getdata.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  templateUrl: 'UploadFile.component.html'\n})\nexport class UploadFileComponent implements OnInit {\n  AllCategoryList: Category[] = [];\n  AllSubCategoryList: SubCategory[] = [];\n  constructor(private _datatask: GetdataService, private _router: Router) { }\n\n  onChangeCategory(deviceValue) {         \n    if (deviceValue &gt; 0) {\n      this._datatask.getAllSubCategory(deviceValue).subscribe(\n        (data: SubCategory[]) =&gt; {\n          this.AllSubCategoryList = data;\n        }\n      );\n      console.log(\"from component: \" + deviceValue);\n    }\n    else\n      {\n        //clear dropdown...\n        this.AllSubCategoryList= [];        \n      }\n  }\n\n  ngOnInit() {\n    this._datatask.getAllCategory().subscribe(\n      (data: Category[]) =&gt; {\n        this.AllCategoryList = data;\n      }\n    );\n\n    this._datatask.getAllPartner().subscribe(\n      (data: Partner[]) =&gt; {\n        this.AllPartnerList = data;\n      }\n    );\n  }  \n}\n</code></pre>\n\n<p>HTML file</p>\n\n<pre><code>&lt;div&gt;\n  &lt;table width=\"100%\" border=\"1\"&gt;\n    &lt;thead&gt;     \n      &lt;th&gt;Category&lt;/th&gt;\n      &lt;th&gt;SubCategory&lt;/th&gt;\n      &lt;th&gt;Partner&lt;/th&gt;\n    &lt;/thead&gt;\n    &lt;tbody *ngFor=\"let transaction of transactions\"&gt;\n      &lt;tr&gt;       \n        &lt;td&gt;\n          &lt;select style=\"Width:100px;\" (change)=\"onChangeCategory($event.target.value)\" &gt;\n            &lt;option value=0&gt;--Select--&lt;/option&gt;\n                &lt;option  value=\"{{item.ID}}\"  *ngFor=\"let item of AllCategoryList\" [ngValue]=\"item.ID\" &gt;{{item.Category}}&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/td&gt;\n        &lt;td&gt;\n          &lt;select style=\"Width:100px;\"&gt;\n            &lt;option value=0&gt;--Select--&lt;/option&gt;\n                 &lt;option  *ngFor=\"let item of AllSubCategoryList\" [ngValue]=\"item.ID\" &gt;{{item.SubCategory}}&lt;/option&gt; \n            &lt;/select&gt;\n        &lt;/td&gt;\n        &lt;td&gt;\n          &lt;select style=\"Width:100px;\"&gt;\n            &lt;option value=0&gt;--Select--&lt;/option&gt;\n                &lt;option  *ngFor=\"let item of AllPartnerList\" [ngValue]=\"item.ID\" &gt;{{item.PartnerName}}&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>any help will be highly appreciated.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1501067393, "post_id": 45324540, "comment_id": 77611931, "body": "to me it looks like you are always returning string.."}, {"owner": {"reputation": 4073, "user_id": 222018, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4dea71e9df9a75bddd0c6aac8095065b?s=128&d=identicon&r=PG", "display_name": "Arcath", "link": "https://stackoverflow.com/users/222018/arcath"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1501068624, "post_id": 45324540, "comment_id": 77612881, "body": "This is a simplified example. so yes the output of this function is always a string but its not in my actual use."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 3, "creation_date": 1501070601, "post_id": 45324540, "comment_id": 77614387, "body": "Currently there&#39;s no structural difference between <code>SerializedSpawns</code> and <code>SerializedContainers</code>. Just add any unique property to one of them and compiler will be able to infer type properly"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1501074522, "post_id": 45324540, "comment_id": 77617393, "body": "@Arcath then please add an example that reflects that, it is important to the answer you would get. :)"}, {"owner": {"reputation": 4073, "user_id": 222018, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4dea71e9df9a75bddd0c6aac8095065b?s=128&d=identicon&r=PG", "display_name": "Arcath", "link": "https://stackoverflow.com/users/222018/arcath"}, "edited": false, "score": 1, "creation_date": 1501078470, "post_id": 45324540, "comment_id": 77620699, "body": "@AlekseyL.Thanks! adding <code>_type: &#39;Container&#39;</code> / <code>_type: &#39;Spawn&#39;</code> respectively fixed it!"}], "owner": {"reputation": 4073, "user_id": 222018, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4dea71e9df9a75bddd0c6aac8095065b?s=128&d=identicon&r=PG", "display_name": "Arcath", "link": "https://stackoverflow.com/users/222018/arcath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501065532, "creation_date": 1501065532, "question_id": 45324540, "link": "https://stackoverflow.com/questions/45324540/set-output-type-based-on-input-type", "title": "Set output type based on input type", "body": "<p>I have a function that takes an array of strings and returns an array of objects. Those objects need to be typed based on the input.</p>\n\n<p>Each input has its own type.</p>\n\n<p>This is the code I'm using in the <a href=\"http://www.typescriptlang.org/play\" rel=\"nofollow noreferrer\">playground</a> to test it</p>\n\n<pre><code>interface SerializedStrings extends Array&lt;string&gt; { }\ninterface SerializedSpawns extends SerializedStrings { }\ninterface SerializedContainers extends SerializedStrings { }\n\ninterface Structure extends String { }\ninterface StructureSpawn extends Structure { }\ninterface StructureContainer extends Structure { }\n\nlet spawnIDs = &lt;SerializedSpawns&gt;[\n    \"abcdef\",\n    \"ghijkl\"\n]\n\nlet containerIDs = &lt;SerializedContainers&gt;[\n    \"abcdef\",\n    \"ghijkl\"\n]\n\nfunction inflate(input: SerializedContainers): StructureContainer[]\nfunction inflate(input: SerializedSpawns): StructureSpawn[]\nfunction inflate(input: SerializedStrings):  Structure[]{\n    let output = input.map(function (value) {\n        return \"spawn-\" + value\n    })\n\n    return output\n}\n\nlet spawns = inflate(spawnIDs)\n\nlet containers = inflate(containerIDs)\n</code></pre>\n\n<p><code>spawns</code> should have the type <code>StructureSpawn[]</code> and containers should have the type <code>StructureContainer[]</code> but they both had the type <code>StructureContainer[]</code> which is just the first in the list.</p>\n\n<p>How do I get the output type to depend on the input type?</p>\n"}, {"tags": ["angular", "typescript", "observable", "angular-cli"], "owner": {"reputation": 162, "user_id": 7628809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/98afc039239ff30502293833c462f0e8?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/7628809/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1501067048, "creation_date": 1501065398, "last_edit_date": 1501067048, "question_id": 45324493, "link": "https://stackoverflow.com/questions/45324493/angular-infinite-scroll-loading-ajax", "title": "Angular: Infinite scroll loading (ajax)", "body": "<p>The problem is to implement infinite scroll loading data from JSON file.</p>\n\n<p>I have a service, where have defined a method <code>getDataFromJson()</code>. It's method processes data from JSON file, creating custom object, which will be used in the app, and return the array with this custom objects.</p>\n\n<p><code>product.service.ts</code></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Response } from \"@angular/http\";\nimport { Product } from '../model/product';\nimport { Observable } from \"rxjs\";\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/observable/throw';\n\n@Injectable()\nexport class ProductService {\n\n  private productsList$: Observable&lt;Product[]&gt;;\n\n  constructor(private http: Http) {\n    this.productsList$ = this.getDataFromJson();\n  }\n\n  /* Get Data From JSON file */\n  getDataFromJson(): Observable&lt;any&gt; {\n    return this.http.get('assets/data.json')\n      .map((resp: Response) =&gt; {\n        let prodList = resp.json().product;\n        let list: Product[] = [];\n        for (let index in prodList) {\n          let product = prodList[index].data;\n          list.push({\n            id: product.id_product,\n            category: product.categoryTitle,\n            description: product.systemdescription,\n            systitle: product.systitle,\n            fireresistance: product.fireresistance,\n            soundproof: product.soundproof,\n            wallthickness: product.wallthickness,\n            dampingstrength: product.dampingstrength\n          })\n        }\n        return list;\n      })\n      .catch((error: any)=&gt; { return Observable.throw(error);});\n  }\n\n  getProducts(): Observable&lt;Product[]&gt; {\n    return this.productsList$;\n  }\n\n}\n</code></pre>\n\n<p>After that, at the <code>Products Component</code> I use that method and render my list of products.</p>\n\n<p><code>products.component.ts</code></p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {Product} from \"../model/product\";\nimport {ProductService} from \"../services/product.service\";\nimport {WatchlistService} from \"../services/watchlist.service\";\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent implements OnInit {\n  public products: Product[] = [];\n\n  constructor(private prodService: ProductService) { }\n\n  ngOnInit() {\n    this.prodService.getProducts()\n      .subscribe(\n        data =&gt; this.products = data,\n        error =&gt; console.log(error)\n      );\n  }\n\n}\n</code></pre>\n\n<p><code>products.component.html</code></p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-md-9\"&gt;\n    &lt;app-product-list\n      [products]=\"products\"&gt;&lt;/app-product-list&gt;\n  &lt;/div&gt;\n  &lt;div class=\"col-md-3\"&gt;\n    &lt;app-product-filters&gt;&lt;/app-product-filters&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Of course, all products are rendered at the <code>Products Component</code>. But I need that the first time the component is initialized was loaded first 10 products. And after the user has scrolled to the bottom of the screen, the following 5 elements were loaded.</p>\n\n<p>So, \u0441an I implement gradual loading data from array when scrolling and at the same time use the observable approach?\nAnd if it possible, how can I do that? Perhaps, has someone already faced such a problem?</p>\n"}, {"tags": ["angular", "typescript", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8131702, "user_type": "registered", "profile_image": "https://graph.facebook.com/1382728538472425/picture?type=large", "display_name": "Mohamed Saber", "link": "https://stackoverflow.com/users/8131702/mohamed-saber"}, "edited": false, "score": 0, "creation_date": 1501065814, "post_id": 45324490, "comment_id": 77610842, "body": "by setting key value in Storage when user logged in and check for it everytime he entered this tab right ?"}], "tags": [], "owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1501066159, "last_edit_date": 1501066159, "creation_date": 1501065386, "answer_id": 45324490, "question_id": 45324448, "link": "https://stackoverflow.com/questions/45324448/toggle-between-2-pages-in-same-tab-in-an-ionic-3-app-based-on-login-data/45324490#45324490", "title": "Toggle between 2 pages in same tab in an ionic 3 app based on login data", "body": "<p>Make us of <code>*ngIf</code> </p>\n\n<blockquote>\n  <p>Conditionally includes a template based on the value of an expression</p>\n</blockquote>\n\n<pre><code>value = // either tutor or student depending on what you get from services \n\n&lt;div *ngIf = \"value == 'tutor'\"&gt;\n //display tutor template\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;div *ngIf = \"value == 'student'\"&gt;\n //display student template\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8131702, "user_type": "registered", "profile_image": "https://graph.facebook.com/1382728538472425/picture?type=large", "display_name": "Mohamed Saber", "link": "https://stackoverflow.com/users/8131702/mohamed-saber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 45324490, "answer_count": 1, "score": -2, "last_activity_date": 1501066159, "creation_date": 1501065240, "question_id": 45324448, "link": "https://stackoverflow.com/questions/45324448/toggle-between-2-pages-in-same-tab-in-an-ionic-3-app-based-on-login-data", "title": "Toggle between 2 pages in same tab in an ionic 3 app based on login data", "body": "<p>i have 2 profile pages and one tab ( <strong>profile tab</strong> )\ni want to change between them based on the user who logged in ( if student or tutor ) , in an <strong>ionic 3</strong> app.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1501062522, "post_id": 45323244, "comment_id": 77608388, "body": "<code>onload</code> passes an event object as an argument, so you may check in the documentation whether you can get your &quot;result&quot;, which seems to be <code>event.target.result</code>: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader/onload\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/FileReader/onload</a> . Alternatively, if you don&#39;t want to do that, you can still avoid using the fat arrows for <b>that specific case</b>, keeping the function declaration will effectively keep the &quot;this&quot; of the function declaration, hence you won&#39;t get any further problem."}, {"owner": {"reputation": 1085, "user_id": 2074057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kpxja.jpg?s=128&g=1", "display_name": "Leonardo Venoso", "link": "https://stackoverflow.com/users/2074057/leonardo-venoso"}, "edited": false, "score": 0, "creation_date": 1501062658, "post_id": 45323244, "comment_id": 77608512, "body": "You need to save the lexical scope. As a member declare private myMethod: (anyParam: any) =&gt; any; Then inside the constructor you have to implement the method that you can&#39;t refer to."}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 1, "creation_date": 1501062867, "post_id": 45323244, "comment_id": 77608657, "body": "Besides, <code>event.target.result</code> theorically should be the same as <code>reader.result</code>: in your case, <code>var arrayBuffer = this.result</code> is the same as writing: <code>var arrayBuffer = reader.result</code>, since <code>.result</code> is a readonly property of the FileReader object: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader/result\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/FileReader/result</a> . So you have three ways to solve the issue, this last one is likely the fastest one."}], "answers": [{"comments": [{"owner": {"reputation": 1948, "user_id": 1095899, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1ebc6c4e1d046b118d73f86aca511ea0?s=128&d=identicon&r=PG&f=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/1095899/karl"}, "edited": false, "score": 0, "creation_date": 1501062645, "post_id": 45323301, "comment_id": 77608503, "body": "Result is not a member of target: Property &#39;result&#39; does not exist on type &#39;EventTarget&#39;"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "reply_to_user": {"reputation": 1948, "user_id": 1095899, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1ebc6c4e1d046b118d73f86aca511ea0?s=128&d=identicon&r=PG&f=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/1095899/karl"}, "edited": false, "score": 0, "creation_date": 1501062685, "post_id": 45323301, "comment_id": 77608532, "body": "@Karl: cast it as &quot;any&quot; instead of &quot;EventTarget&quot;."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "reply_to_user": {"reputation": 1948, "user_id": 1095899, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1ebc6c4e1d046b118d73f86aca511ea0?s=128&d=identicon&r=PG&f=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/1095899/karl"}, "edited": false, "score": 0, "creation_date": 1501062686, "post_id": 45323301, "comment_id": 77608533, "body": "@Karl Updated answer"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": false, "score": 2, "last_activity_date": 1501062950, "last_edit_date": 1501062950, "creation_date": 1501062441, "answer_id": 45323301, "question_id": 45323244, "link": "https://stackoverflow.com/questions/45323244/cant-reference-this-in-typescript/45323301#45323301", "title": "Can&#39;t reference this in typescript", "body": "<p>I would try it:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>reader.onload = (event: any) =&gt; {\n  console.log(event.target.result); // result should exist\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "is_accepted": true, "score": 3, "last_activity_date": 1501062639, "creation_date": 1501062639, "answer_id": 45323378, "question_id": 45323244, "link": "https://stackoverflow.com/questions/45323244/cant-reference-this-in-typescript/45323378#45323378", "title": "Can&#39;t reference this in typescript", "body": "<p>the fat arrow is the right way to go. and you can also get the result from the reader variable instead of this. so it could look like this</p>\n\n<pre><code>public uploadHandler(event) {\n    var reader = new FileReader();\n    reader.onload = () =&gt; {\n        var arrayBuffer = reader.result;\n        var array = new Uint8Array(arrayBuffer);\n        var binaryString = String.fromCharCode.apply(null, array);\n        this.uploadService.DoUpload(binaryString);\n    };\n    reader.readAsArrayBuffer(event.files[0]);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 391, "user_id": 7826336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bB6kW.jpg?s=128&g=1", "display_name": "A. Milosavljevi\u0107", "link": "https://stackoverflow.com/users/7826336/a-milosavljevi%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1501065749, "creation_date": 1501065749, "answer_id": 45324612, "question_id": 45323244, "link": "https://stackoverflow.com/questions/45323244/cant-reference-this-in-typescript/45324612#45324612", "title": "Can&#39;t reference this in typescript", "body": "<p>I think this should fix your problem, or at least some approach that looks similar, because you have a problem with <code>this</code> binding.</p>\n\n<pre><code>public uploadHandler(event) {\n    var reader = new FileReader();\n    var that = this;\n    reader.onload = function() {\n        var arrayBuffer = this.result, array = new Uint8Array(arrayBuffer), binaryString = String.fromCharCode.apply(null, array);\n        that.uploadService.DoUpload(binaryString);\n    }\n    reader.readAsArrayBuffer(event.files[0]);\n}\n</code></pre>\n"}], "owner": {"reputation": 1948, "user_id": 1095899, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1ebc6c4e1d046b118d73f86aca511ea0?s=128&d=identicon&r=PG&f=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/1095899/karl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 45323378, "answer_count": 3, "score": 0, "last_activity_date": 1501065749, "creation_date": 1501062283, "question_id": 45323244, "link": "https://stackoverflow.com/questions/45323244/cant-reference-this-in-typescript", "title": "Can&#39;t reference this in typescript", "body": "<p>I have a fileupload in my angular2 app, which sends the file as bytearray to a webservice. I use a file reader to create a bytearray, which has an onload-event. In this event I can't reference my uploadService using <code>this.uploadService</code>.</p>\n\n<pre><code>public uploadHandler(event) {\n    var reader = new FileReader();\n    reader.onload = function() {\n        var arrayBuffer = this.result, array = new Uint8Array(arrayBuffer), binaryString = String.fromCharCode.apply(null, array);\n        //this.uploadService.DoUpload(binaryString);\n    }\n    reader.readAsArrayBuffer(event.files[0]);\n}\n</code></pre>\n\n<p>I tried to use the fat arrow, but I can't reference result anymore.</p>\n\n<pre><code>reader.onload = () =&gt; {\n    //this.result does not exist anymore!\n    var arrayBuffer = result, array = new Uint8Array(arrayBuffer), binaryString = String.fromCharCode.apply(null, array);\n    this.uploadService.DoUpload(binaryString);\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 2, "creation_date": 1501062230, "post_id": 45323108, "comment_id": 77608157, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/38144655/angular-2-loader-on-each-http-request\">Angular 2 loader on each http request</a>"}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 1, "creation_date": 1501062412, "post_id": 45323108, "comment_id": 77608295, "body": "check this <a href=\"https://rahulrsingh09.github.io/AngularConcepts/#/faq\" rel=\"nofollow noreferrer\">link</a> it has a question and answer for the problem"}], "answers": [{"comments": [{"owner": {"reputation": 1182, "user_id": 4365626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vywIY.jpg?s=128&g=1", "display_name": "Vibhor Dube", "link": "https://stackoverflow.com/users/4365626/vibhor-dube"}, "edited": false, "score": 0, "creation_date": 1591011989, "post_id": 45323238, "comment_id": 109886268, "body": "This is exactly what I was looking for. Plain simple flag. No interceptor, nothing."}], "tags": [], "owner": {"reputation": 1362, "user_id": 4283840, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5271515568ac55bf2de7bd0ae0e423ac?s=128&d=identicon&r=PG", "display_name": "Christopher", "link": "https://stackoverflow.com/users/4283840/christopher"}, "is_accepted": false, "score": 7, "last_activity_date": 1501062278, "creation_date": 1501062278, "answer_id": 45323238, "question_id": 45323108, "link": "https://stackoverflow.com/questions/45323108/show-a-loading-gif-for-each-http-request-angular-4/45323238#45323238", "title": "Show a loading gif for each http request Angular 4", "body": "<p>An http request returns an <code>Observable</code> that can be subscribed to.</p>\n\n<p>For example, let's take the authentication of a user.</p>\n\n<p>In my service:</p>\n\n<pre><code>login(email: string, password: string): Observable&lt;User&gt; {\n    let url = this.authUrl + '/login';\n\n    return this.http\n        .post(url, JSON.stringify({ email, password }))\n        .map(res =&gt; res.json());\n}\n</code></pre>\n\n<p>I call and subscribe to this method in my component:</p>\n\n<pre><code> this.isLoading = true;\n this.authService.login(email, password)\n        .subscribe(data =&gt; {\n            this.isLoading = false;\n            // Do whatever you want once the user is logged in\n            // Where 'data' is the User returned by our http request\n         }, error =&gt; {\n            // Handle errors here\n         }\n</code></pre>\n\n<p>Note the boolean <code>isLoading</code> that is set to true before trying to log in our user, and to false once the authentication is succesful.</p>\n\n<p>This means that you can show and hide your loading animation with this boolean, like such:</p>\n\n<pre><code>&lt;loading-component *ngIf=\"isLoading\"&gt;&lt;/loading-component&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1778, "user_id": 2927228, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/xy4lF.jpg?s=128&g=1", "display_name": "Hidayt Rahman", "link": "https://stackoverflow.com/users/2927228/hidayt-rahman"}, "edited": false, "score": 0, "creation_date": 1510064920, "post_id": 45323257, "comment_id": 81270191, "body": "Could you please give me full example or code, I&#39;ve tried your method it&#39;s not working for me"}], "tags": [], "owner": {"reputation": 4372, "user_id": 5658060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hiodd.jpg?s=128&g=1", "display_name": "Wesley Coetzee", "link": "https://stackoverflow.com/users/5658060/wesley-coetzee"}, "is_accepted": false, "score": 0, "last_activity_date": 1501062314, "creation_date": 1501062314, "answer_id": 45323257, "question_id": 45323108, "link": "https://stackoverflow.com/questions/45323108/show-a-loading-gif-for-each-http-request-angular-4/45323257#45323257", "title": "Show a loading gif for each http request Angular 4", "body": "<p>in your <code>component.ts</code></p>\n\n<pre><code>public loading: boolean = false;\n</code></pre>\n\n<p>inside your component.html</p>\n\n<pre><code>&lt;div *ngIf=\"!loading\"&gt;\n  &lt;component-one&gt;&lt;/component-one&gt;\n  &lt;component-two&gt;&lt;/component-two&gt;\n  &lt;component-three&gt;&lt;/component-three&gt;\n  &lt;component-n&gt;&lt;/component-n&gt;\n&lt;/div&gt;\n\n&lt;loading *ngIf=\"loading\"&gt;&lt;/loading&gt;\n</code></pre>\n\n<p>Whenever you need to see the loading icon, simply set <code>this.loading = true;</code> and to hide it <code>this.loading = false;</code> This will hide the components you do not want to see while loading and display the loading icon instead</p>\n"}, {"comments": [{"owner": {"reputation": 1436, "user_id": 1057912, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/JDv84.jpg?s=128&g=1", "display_name": "mcmwhfy", "link": "https://stackoverflow.com/users/1057912/mcmwhfy"}, "edited": false, "score": 0, "creation_date": 1501064036, "post_id": 45323667, "comment_id": 77609593, "body": "is that available also in 4.2.2 ?"}, {"owner": {"reputation": 367, "user_id": 6899283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dab560e75f0a53d12e5579080fb1b791?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Khamzin", "link": "https://stackoverflow.com/users/6899283/vadim-khamzin"}, "reply_to_user": {"reputation": 1436, "user_id": 1057912, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/JDv84.jpg?s=128&g=1", "display_name": "mcmwhfy", "link": "https://stackoverflow.com/users/1057912/mcmwhfy"}, "edited": false, "score": 1, "creation_date": 1501064198, "post_id": 45323667, "comment_id": 77609706, "body": "Only starting from 4.3.0. Well, it is not a major release. It should be actually backward-compatible."}, {"owner": {"reputation": 1436, "user_id": 1057912, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/JDv84.jpg?s=128&g=1", "display_name": "mcmwhfy", "link": "https://stackoverflow.com/users/1057912/mcmwhfy"}, "edited": false, "score": 0, "creation_date": 1501064560, "post_id": 45323667, "comment_id": 77609965, "body": "do you have a plunker with a small example of that, only if you have developed something similar and is easy for you to create a plunker, not spending to much time."}, {"owner": {"reputation": 1643, "user_id": 2301612, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4c947ef5055053e133ec72aaf71e6095?s=128&d=identicon&r=PG", "display_name": "Shamshiel", "link": "https://stackoverflow.com/users/2301612/shamshiel"}, "edited": false, "score": 1, "creation_date": 1519050952, "post_id": 45323667, "comment_id": 84740220, "body": "@VadimKhamzin Thank you for the plunker link. Sadly I have a problem when I use your &quot;LoadingIndicatorService&quot; in my app.component that has child components. I always receive a &quot;ExpressionChangedAfterItHasBeenCheckedError&quot;. Do you have an idea why? As far as I can see it has something to do with the property &quot;loading&quot; in the app.component."}, {"owner": {"reputation": 367, "user_id": 6899283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dab560e75f0a53d12e5579080fb1b791?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Khamzin", "link": "https://stackoverflow.com/users/6899283/vadim-khamzin"}, "reply_to_user": {"reputation": 1643, "user_id": 2301612, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4c947ef5055053e133ec72aaf71e6095?s=128&d=identicon&r=PG", "display_name": "Shamshiel", "link": "https://stackoverflow.com/users/2301612/shamshiel"}, "edited": false, "score": 0, "creation_date": 1519210645, "post_id": 45323667, "comment_id": 84813758, "body": "@Shamshiel could you provide your plunker? I was unable to reproduce your issue"}, {"owner": {"reputation": 1643, "user_id": 2301612, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4c947ef5055053e133ec72aaf71e6095?s=128&d=identicon&r=PG", "display_name": "Shamshiel", "link": "https://stackoverflow.com/users/2301612/shamshiel"}, "edited": false, "score": 0, "creation_date": 1519286406, "post_id": 45323667, "comment_id": 84850860, "body": "@VadimKhamzin I created a simple Stackblitz with the problem: <a href=\"https://stackblitz.com/edit/angular-5b86se\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-5b86se</a>"}, {"owner": {"reputation": 2951, "user_id": 659731, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fba22217f82d79421c884fcfdb525c4c?s=128&d=identicon&r=PG", "display_name": "Devator", "link": "https://stackoverflow.com/users/659731/devator"}, "reply_to_user": {"reputation": 1643, "user_id": 2301612, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4c947ef5055053e133ec72aaf71e6095?s=128&d=identicon&r=PG", "display_name": "Shamshiel", "link": "https://stackoverflow.com/users/2301612/shamshiel"}, "edited": false, "score": 0, "creation_date": 1536245923, "post_id": 45323667, "comment_id": 91363149, "body": "@VadimKhamzin Thanks! However, your plunkr example has two issues. 1) Line 61 should be <code>&gt;=</code> instead of <code>!==</code> 2), you should run <code>changeDetector.detectChanges()</code> (import the <code>ChangeDetectorRef</code> too) after setting <code>this.loading</code> (line 97) to prevent the issue @Shamshiel has."}], "tags": [], "owner": {"reputation": 367, "user_id": 6899283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dab560e75f0a53d12e5579080fb1b791?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Khamzin", "link": "https://stackoverflow.com/users/6899283/vadim-khamzin"}, "is_accepted": true, "score": 14, "last_activity_date": 1501071739, "last_edit_date": 1501071739, "creation_date": 1501063307, "answer_id": 45323667, "question_id": 45323108, "link": "https://stackoverflow.com/questions/45323108/show-a-loading-gif-for-each-http-request-angular-4/45323667#45323667", "title": "Show a loading gif for each http request Angular 4", "body": "<p><em>UPD: <a href=\"https://plnkr.co/edit/w31HsCRzut9PpEFq3vwN?p=preview\" rel=\"noreferrer\">plunker</a>. Take a look at <code>app.ts</code>. Sorry for having everything in a single file.</em></p>\n\n<p>In Angular 4.3 there is a new HttpClientModule which supports interceptors. The main idea is to have something like this:</p>\n\n<pre><code>@Injectable()\nexport class LoadingIndicatorService {\n\n    private _loading: boolean = false;\n\n    get loading(): boolean {\n        return this._loading;\n    }\n\n    onRequestStarted(): void {\n        this._loading = true;\n    }\n\n    onRequestFinished(): void {\n        this._loading = false;\n    }\n}\n</code></pre>\n\n<p>And then you just apply the logic from Christopher's answer to your HttpInterceptor. </p>\n\n<p>The only thing you should be aware of are simultaneous request. This can be solved for example by generating a unique identifier to each request and storing it somewhere until the request is finished.</p>\n\n<p>Then you can have a global <code>LoadingIndicator</code> component which injects <code>LoadingIndicatorService</code>.</p>\n\n<p>For more details on HttpClientModule: <a href=\"https://medium.com/codingthesmartway-com-blog/angular-4-3-httpclient-accessing-rest-web-services-with-angular-2305b8fd654b\" rel=\"noreferrer\">https://medium.com/codingthesmartway-com-blog/angular-4-3-httpclient-accessing-rest-web-services-with-angular-2305b8fd654b</a></p>\n"}, {"tags": [], "owner": {"reputation": 6477, "user_id": 968003, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/3l2zr.jpg?s=128&g=1", "display_name": "Alex Klaus", "link": "https://stackoverflow.com/users/968003/alex-klaus"}, "is_accepted": false, "score": 6, "last_activity_date": 1521446075, "last_edit_date": 1521446075, "creation_date": 1521445262, "answer_id": 49357906, "question_id": 45323108, "link": "https://stackoverflow.com/questions/45323108/show-a-loading-gif-for-each-http-request-angular-4/49357906#49357906", "title": "Show a loading gif for each http request Angular 4", "body": "<p>Check out this two npm packages:</p>\n\n<ol>\n<li><p><a href=\"https://github.com/MurhafSousli/ngx-progressbar\" rel=\"noreferrer\">ngx-progressbar</a>, which can show a waiting indicator automatically per request (see <a href=\"https://github.com/MurhafSousli/ngx-progressbar/blob/master/README_V3.md#automagic-loading-bar\" rel=\"noreferrer\">automagic loading bar</a>), <a href=\"https://github.com/MurhafSousli/ngx-progressbar/blob/master/README_V3.md#for-router-events\" rel=\"noreferrer\">router events</a> or whenever you need. See <a href=\"https://murhafsousli.github.io/ngx-progressbar/\" rel=\"noreferrer\">demo</a>.</p></li>\n<li><p><a href=\"https://github.com/mpalourdio/ng-http-loader\" rel=\"noreferrer\">ng-http-loader</a> (for Angular 4.3+ only), which does the same job in a more traditional way and has fancy spinners from <a href=\"https://github.com/tobiasahlin/SpinKit\" rel=\"noreferrer\">SpinKit</a>.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 849, "user_id": 3425729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/897718605ae92665a46306f5f124419a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay Singh", "link": "https://stackoverflow.com/users/3425729/sanjay-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1533182686, "creation_date": 1533182686, "answer_id": 51645316, "question_id": 45323108, "link": "https://stackoverflow.com/questions/45323108/show-a-loading-gif-for-each-http-request-angular-4/51645316#51645316", "title": "Show a loading gif for each http request Angular 4", "body": "<p>With angular 2+, Create a  reusable util component</p>\n\n<pre><code>import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-progress-mask',\n  templateUrl: './progress-mask.component.html',\n  styleUrls: ['./progress-mask.component.css']\n})\nexport class ProgressMaskComponent implements OnInit {\n  @Input() showProgress:boolean = false;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n\n<p>The html part:</p>\n\n<pre><code>&lt;div class=\"loadWrapper\" *ngIf=\"showProgress\"&gt;  \n  &lt;div class=\"loader\"&gt;&lt;/div&gt;  \n&lt;/div&gt;\n</code></pre>\n\n<p>the CSS part:</p>\n\n<pre><code>.loadWrapper {  \n    background: rgba(0,0,0,0.3);  \n    width: 100%;  \n    height: 100%;  \n    position: fixed;  \n    top:0px;  \n    left:0px;  \n    z-index: 99999;  \n}  \n.loader {\n    border: 5px solid #f3f3f3; /* Light grey */\n    border-top: 5px solid #3d3e3f; /* gray */\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    animation: spin 2s linear infinite;\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n</code></pre>\n\n<p>Now insert this to your component</p>\n\n<blockquote>\n  <p><code>&lt;app-progress-mask [showProgress]=\"showMask\"&gt;&lt;/app-progress-mask&gt;</code></p>\n</blockquote>\n\n<p>Bind showMask of your component to the reusable  util component</p>\n"}], "owner": {"reputation": 1436, "user_id": 1057912, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/JDv84.jpg?s=128&g=1", "display_name": "mcmwhfy", "link": "https://stackoverflow.com/users/1057912/mcmwhfy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45730, "favorite_count": 8, "accepted_answer_id": 45323667, "answer_count": 5, "score": 9, "last_activity_date": 1533182686, "creation_date": 1501061966, "last_edit_date": 1526910890, "question_id": 45323108, "link": "https://stackoverflow.com/questions/45323108/show-a-loading-gif-for-each-http-request-angular-4", "title": "Show a loading gif for each http request Angular 4", "body": "<p>I'm quite new with Angular so what I need is to show a <code>spinner</code> each time when a http request is done.</p>\n\n<p>I have many components:</p>\n\n<pre><code>&lt;component-one&gt;&lt;/component-one&gt;\n&lt;component-two&gt;&lt;/component-two&gt;\n&lt;component-three&gt;&lt;/component-three&gt;\n&lt;component-n&gt;&lt;/component-n&gt;\n</code></pre>\n\n<p>Each one has a http request that get or save some data so when the http request is made I want to show my <code>&lt;loading&gt;&lt;/loading&gt;</code> component so I suppose is not a good practice injecting my loading component in each other component with a http request. Can I add a filter or something from angular that allows me to load the <code>&lt;loading&gt;</code> component automatically in each component that has an http request?  </p>\n\n<p>Also when the http request is done I want to show a message like \"Done\" or someting.</p>\n\n<p>If anyone can provide me a solution for that I'll really appreciate, ty.</p>\n"}, {"tags": ["reactjs", "typescript", "redux", "react-redux"], "comments": [{"owner": {"reputation": 1934, "user_id": 1251613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4eebbab9cf562e67094a12dca480d92f?s=128&d=identicon&r=PG", "display_name": "Markus", "link": "https://stackoverflow.com/users/1251613/markus"}, "edited": false, "score": 0, "creation_date": 1501061470, "post_id": 45322713, "comment_id": 77607561, "body": "Welcome to Stackoverflow! Please take some time to read <a href=\"http://stackoverflow.com/help\">the help pages</a>, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>. Also please take the <a href=\"http://stackoverflow.com/tour\">tour</a> and read about <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask good questions</a>. Lastly please learn how to create a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a>."}, {"owner": {"reputation": 1226, "user_id": 616589, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/842bd6907e901f1ea26f7f5fed680287?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/616589/simon"}, "edited": false, "score": 0, "creation_date": 1501151853, "post_id": 45322713, "comment_id": 77657647, "body": "I&#39;m a little confused as to why you need to connect this component to redux at all. You&#39;re not providing functions to connect the redux state or dispatch to the props of your component. You can actually just remove the <code>connect</code> call altogether. As for the error, it&#39;s because your props is set to <code>undefined</code> and doesn&#39;t implement any of the required properties."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8368814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672f31ef3cd05eca11a0af881cdb7b92?s=128&d=identicon&r=PG&f=1", "display_name": "pandaHT", "link": "https://stackoverflow.com/users/8368814/pandaht"}, "edited": false, "score": 1, "creation_date": 1505804595, "post_id": 45369385, "comment_id": 79550232, "body": "<b><i>Thank you very much for your answer</i></b>"}], "tags": [], "owner": {"reputation": 1226, "user_id": 616589, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/842bd6907e901f1ea26f7f5fed680287?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/616589/simon"}, "is_accepted": true, "score": 1, "last_activity_date": 1501232989, "creation_date": 1501232989, "answer_id": 45369385, "question_id": 45322713, "link": "https://stackoverflow.com/questions/45322713/argument-of-type-typeof-test-is-not-assignable-to-parameter-of-type-component/45369385#45369385", "title": "Argument of type &#39;typeof test&#39; is not assignable to parameter of type &#39;Component&lt;{ children?: ReactNode; } &amp; DispatchProp&lt;any&gt;&gt;&#39;", "body": "<p>It looks like you're overengineering your component; it doesn't need to <code>connect</code> to redux at all as it doesn't make use of either the state or dispatch. Also, the error itself refers to the fact that the type of <code>props</code> is <code>undefined</code> and so doesn't implement any of the required properties for connected components.</p>\n\n<p>Here's the simplified component:</p>\n\n<pre><code>import * as React from 'react';\n\nexport default class Test extends React.Component&lt;{}, {}&gt; {\n    private test() {}\n\n    render() {\n        return(\n            &lt;h1 onClick={this.test.bind(this)}&gt;\n                test\n            &lt;/h1&gt;\n        );\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8368814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672f31ef3cd05eca11a0af881cdb7b92?s=128&d=identicon&r=PG&f=1", "display_name": "pandaHT", "link": "https://stackoverflow.com/users/8368814/pandaht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1729, "favorite_count": 1, "accepted_answer_id": 45369385, "answer_count": 1, "score": 3, "last_activity_date": 1501232989, "creation_date": 1501060993, "last_edit_date": 1501094374, "question_id": 45322713, "link": "https://stackoverflow.com/questions/45322713/argument-of-type-typeof-test-is-not-assignable-to-parameter-of-type-component", "title": "Argument of type &#39;typeof test&#39; is not assignable to parameter of type &#39;Component&lt;{ children?: ReactNode; } &amp; DispatchProp&lt;any&gt;&gt;&#39;", "body": "<pre><code>import * as React from 'react';\n\nimport {connect} from 'react-redux';\n\n\ninterface types{\n\ntype:string;\nstatus?:boolean;\n\n}\n\n\nexport class Test extends React.Component&lt;undefined,any&gt; {\n\nconstructor(props:undefined){\n    super(props);\n}\n\nprivate test(){}\n\nrender(){\n    return(\n      &lt;h1 onClick={this.test.bind(this)}&gt;\n        test\n      &lt;/h1&gt;\n    )\n}\n\n}\n\nexport default connect()(Test); \n</code></pre>\n\n<p>Error </p>\n\n<blockquote>\n  <p>Argument of type 'typeof test' is not assignable to parameter of type 'Component&lt;{ children?: ReactNode; } &amp; DispatchProp>'.\n  \u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad\u00ad</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "asynchronous", "ionic-framework"], "comments": [{"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501062321, "post_id": 45322698, "comment_id": 77608224, "body": "So are you asking how to return any objects, where the ID is not already stored in <code>statuts</code> and the date matches?"}, {"owner": {"reputation": 601, "user_id": 8248966, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/13bf921d68068be2acce6a3d19122804?s=128&d=identicon&r=PG&f=1", "display_name": "ElGecko_76", "link": "https://stackoverflow.com/users/8248966/elgecko-76"}, "reply_to_user": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501062541, "post_id": 45322698, "comment_id": 77608407, "body": "I would like to get the same result that returns &quot;=== STATUSTOSHOW ===&quot; in my component home.ts because it is empty and I don&#39;t understand why"}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501062572, "post_id": 45322698, "comment_id": 77608442, "body": "I think it&#39;s because you&#39;re using your map wrong - I&#39;ll try and write an answer now"}, {"owner": {"reputation": 566, "user_id": 5488855, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/313a4b3364310d7f0a0aa3290d29d4f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sreemat", "link": "https://stackoverflow.com/users/5488855/sreemat"}, "edited": false, "score": 0, "creation_date": 1501062825, "post_id": 45322698, "comment_id": 77608629, "body": "console.log(this.statusOfTheDay); use it inside the subscribe"}, {"owner": {"reputation": 601, "user_id": 8248966, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/13bf921d68068be2acce6a3d19122804?s=128&d=identicon&r=PG&f=1", "display_name": "ElGecko_76", "link": "https://stackoverflow.com/users/8248966/elgecko-76"}, "edited": false, "score": 0, "creation_date": 1501062922, "post_id": 45322698, "comment_id": 77608704, "body": "Thanks you. But why would the problem come from the map ? Because the result returned by my function is correct, it&#39;s just in the home.ts that I do not retrieve the data"}], "answers": [{"comments": [{"owner": {"reputation": 601, "user_id": 8248966, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/13bf921d68068be2acce6a3d19122804?s=128&d=identicon&r=PG&f=1", "display_name": "ElGecko_76", "link": "https://stackoverflow.com/users/8248966/elgecko-76"}, "edited": false, "score": 0, "creation_date": 1501063207, "post_id": 45323468, "comment_id": 77608931, "body": "Thanks but my home.ts is still empty : []"}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "reply_to_user": {"reputation": 601, "user_id": 8248966, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/13bf921d68068be2acce6a3d19122804?s=128&d=identicon&r=PG&f=1", "display_name": "ElGecko_76", "link": "https://stackoverflow.com/users/8248966/elgecko-76"}, "edited": false, "score": 0, "creation_date": 1501063292, "post_id": 45323468, "comment_id": 77608996, "body": "actually ... I can&#39;t believe I didn&#39;t notice where you were logging it - I&#39;ll update answer"}, {"owner": {"reputation": 601, "user_id": 8248966, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/13bf921d68068be2acce6a3d19122804?s=128&d=identicon&r=PG&f=1", "display_name": "ElGecko_76", "link": "https://stackoverflow.com/users/8248966/elgecko-76"}, "edited": false, "score": 0, "creation_date": 1501064222, "post_id": 45323468, "comment_id": 77609729, "body": "It&#39;s possible to push s in localStatuts[s.statut_id_tache] ?"}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "reply_to_user": {"reputation": 601, "user_id": 8248966, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/13bf921d68068be2acce6a3d19122804?s=128&d=identicon&r=PG&f=1", "display_name": "ElGecko_76", "link": "https://stackoverflow.com/users/8248966/elgecko-76"}, "edited": false, "score": 0, "creation_date": 1501064309, "post_id": 45323468, "comment_id": 77609793, "body": "Yes, along with the <code>console.log</code> in the second code block add any other code you might need. You can also chain observable sequences with <a href=\"http://reactivex.io/documentation/operators/do.html\" rel=\"nofollow noreferrer\">do</a> which might make your code cleaner"}], "tags": [], "owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "is_accepted": true, "score": 0, "last_activity_date": 1501063393, "last_edit_date": 1501063393, "creation_date": 1501062849, "answer_id": 45323468, "question_id": 45322698, "link": "https://stackoverflow.com/questions/45322698/retrieve-data-from-an-asynchronous-service-in-a-component/45323468#45323468", "title": "Retrieve data from an asynchronous service in a component", "body": "<p>I think it is because you are not returning anything from your <code>.map</code>. You could also make it simpler with a filter statement.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>return this.afDB.list('/statut').map(status =&gt; {\n  return status.filter(s =&gt; this.dateOfTheDay === s.statut_date_tache &amp;&amp; (s.statut_id_tache in this.statuts === false));\n});\n</code></pre>\n\n<p>If you still want to log out the status as it is selected you could use</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>return this.afDB.list('/statut').map(status =&gt; {\n  return status.filter(s =&gt; {\n    if (this.dateOfTheDay === s.statut_date_tache &amp;&amp; (s.statut_id_tache in this.statuts === false))) {\n      console.log (s);\n      return true;\n    }\n    return false;\n  }\n});\n</code></pre>\n\n<p>You also need to wait for the <code>subscribe</code> to finish before logging</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>ionViewDidLoad() {\n  this.todolistService.statusToShow().subscribe(status =&gt; {\n    this.statusOfTheDay = status;\n    console.log('=== HOME ===');\n    console.log(this.statusOfTheDay);\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 601, "user_id": 8248966, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/13bf921d68068be2acce6a3d19122804?s=128&d=identicon&r=PG&f=1", "display_name": "ElGecko_76", "link": "https://stackoverflow.com/users/8248966/elgecko-76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "accepted_answer_id": 45323468, "answer_count": 1, "score": 1, "last_activity_date": 1501063393, "creation_date": 1501060954, "question_id": 45322698, "link": "https://stackoverflow.com/questions/45322698/retrieve-data-from-an-asynchronous-service-in-a-component", "title": "Retrieve data from an asynchronous service in a component", "body": "<p>I retrieve my data from Firebase in a function of my service asynchronously and I would like to retrieve them in my component. </p>\n\n<p>I have data in my database, the function returns my data well but I can not retrieve them in my home.ts (array empty).</p>\n\n<p><a href=\"https://i.stack.imgur.com/pjv4g.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pjv4g.jpg\" alt=\"Screen of console.log\"></a></p>\n\n<p>todolistService.ts :</p>\n\n<pre><code>    import {Injectable} from '@angular/core';\nimport {AngularFireDatabase, FirebaseListObservable} from 'angularfire2/database';\nimport * as moment from 'moment';\nimport 'rxjs/add/operator/map';\nimport {Observable} from \"rxjs/Observable\";\n\n@Injectable()\nexport class TodolistService {\n\n  statuts: Array&lt;any&gt; = [];\n  dateOfTheDay: string;\n\n  constructor(public afDB: AngularFireDatabase) {\n    moment.locale('fr');\n    this.dateOfTheDay = moment().format('L'); // Date au format : 04/07/2017\n  }\n\n  /**\n   *\n   * @returns {Observable&lt;Array&lt;any&gt;&gt;}\n   */\n  statusToShow():Observable&lt;Array&lt;any&gt;&gt; {\n    let localStatuts: Array&lt;any&gt; = [];\n    return this.afDB.list('/statut').map(status =&gt; {\n      for (let s of status) {\n        if (this.dateOfTheDay === s.statut_date_tache) {\n          if (s.statut_id_tache in this.statuts === false) {\n            localStatuts[s.statut_id_tache] = s;\n            console.log('=== STATUSTOSHOW ===');\n            console.log(localStatuts);\n            return localStatuts;\n          }\n        }\n      }\n    });\n  }\n}\n</code></pre>\n\n<p>home.ts :</p>\n\n<pre><code>    import {Component} from '@angular/core';\nimport {ModalController, NavController} from 'ionic-angular';\nimport {TodolistService} from \"../../providers/todolistService\";\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  public statusOfTheDay: Array&lt;any&gt; = [];\n\n  constructor(public navCtrl: NavController, public modalCtrl: ModalController, public todolistService: TodolistService) {\n\n  }\n\n  ionViewDidLoad() {\n    this.todolistService.statusToShow().subscribe(status =&gt; this.statusOfTheDay = status);\n    console.log('=== HOME ===');\n    console.log(this.statusOfTheDay);\n  }\n}\n</code></pre>\n\n<p>I do not know where my problem comes from .. Is it normal that the \"=== HOME ===\" first appears in the console ? </p>\n\n<p>Thank you in advance for your help and thank you to @AJT_82.</p>\n"}, {"tags": ["angular", "date", "typescript", "momentjs"], "comments": [{"owner": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 4, "creation_date": 1501061564, "post_id": 45322618, "comment_id": 77607638, "body": "You should use <code>&#39;isoWeek&#39;</code> instead of <code>isoweek</code>, the parameter is case sensitive, check <a href=\"http://momentjs.com/docs/#/manipulating/start-of/\" rel=\"nofollow noreferrer\"><code>startOf</code></a> docs."}, {"owner": {"reputation": 6822, "user_id": 6624424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TSIar.jpg?s=128&g=1", "display_name": "Toodoo", "link": "https://stackoverflow.com/users/6624424/toodoo"}, "reply_to_user": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 0, "creation_date": 1501067507, "post_id": 45322618, "comment_id": 77612033, "body": "True... Damn... Thanks !"}], "answers": [{"comments": [{"owner": {"reputation": 364, "user_id": 3897738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f3cccffe250e13a1361229fb03fd57?s=128&d=identicon&r=PG&f=1", "display_name": "Shane Richards", "link": "https://stackoverflow.com/users/3897738/shane-richards"}, "edited": false, "score": 1, "creation_date": 1594929205, "post_id": 47511455, "comment_id": 111307274, "body": "In addition to &#39;isoWeek&#39;, &#39;isoWeeks&#39; and &#39;W&#39; should also work. See <a href=\"https://github.com/moment/moment/blob/develop/ts3.1-typings/moment.d.ts#L311\" rel=\"nofollow noreferrer\">github.com/moment/moment/blob/develop/ts3.1-typings/&hellip;</a>."}], "tags": [], "owner": {"reputation": 1145, "user_id": 5457220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-smKl1SfeIoU/AAAAAAAAAAI/AAAAAAAAAHs/ZV5DK39e-EA/photo.jpg?sz=128", "display_name": "G Clovs", "link": "https://stackoverflow.com/users/5457220/g-clovs"}, "is_accepted": true, "score": 3, "last_activity_date": 1511787137, "creation_date": 1511787137, "answer_id": 47511455, "question_id": 45322618, "link": "https://stackoverflow.com/questions/45322618/startofstring-issue-in-angular2-momentjs/47511455#47511455", "title": "startOf(string) issue in Angular2 - Momentjs", "body": "<p>You forget an Uppercase, You should use 'isoWeek' instead of 'isoweek', but it shoud work anyway.</p>\n\n<p>Hope it helps\nPeace</p>\n"}], "owner": {"reputation": 6822, "user_id": 6624424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TSIar.jpg?s=128&g=1", "display_name": "Toodoo", "link": "https://stackoverflow.com/users/6624424/toodoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "accepted_answer_id": 47511455, "answer_count": 1, "score": 0, "last_activity_date": 1511787137, "creation_date": 1501060751, "question_id": 45322618, "link": "https://stackoverflow.com/questions/45322618/startofstring-issue-in-angular2-momentjs", "title": "startOf(string) issue in Angular2 - Momentjs", "body": "<p>I'm trying to use Moment.js in Angular2 to get the date of the first day of the week in my TypeScript.</p>\n\n<p>But when I try to use the method startOf(), I got a weird error : </p>\n\n<pre><code>moment('2017-07-26').startOf('isoweek');\n</code></pre>\n\n<blockquote>\n  <p>Argument of type '\"isoweek\"' is not assignable to parameter of type 'StartOf'.</p>\n</blockquote>\n\n<p>But in the <a href=\"https://momentjs.com/docs/#/manipulating/start-of/\" rel=\"nofollow noreferrer\">Moment doc</a>, and <a href=\"https://stackoverflow.com/questions/18875649/moment-js-starting-the-week-on-monday-with-isoweekday\">other SO thread</a> the signature is correct : </p>\n\n<blockquote>\n  <p>moment().startOf(String);</p>\n</blockquote>\n\n<p>Where is my mistake ?</p>\n\n<p>P.S. : Sorry for my bad english and mistakes I probably did. Edit are welcomed, if needed !</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1501059320, "post_id": 45322027, "comment_id": 77605887, "body": "You will find answers in <a href=\"https://hackernoon.com/everything-you-need-to-know-about-the-expressionchangedafterithasbeencheckederror-error-e3fd9ce7dbb4\" rel=\"nofollow noreferrer\">Everything you need to know about the <code>ExpressionChangedAfterItHasBeenCheckedError</code> error</a> article"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1501059329, "post_id": 45322027, "comment_id": 77605891, "body": "The check for changed expressions has become a lot stricter lately. To see where you went &#39;wrong&#39;, you should provide some code"}, {"owner": {"reputation": 5610, "user_id": 552249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/da407c152fc432f289b609f6b58b1eab?s=128&d=identicon&r=PG", "display_name": "Mohan", "link": "https://stackoverflow.com/users/552249/mohan"}, "reply_to_user": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1501060921, "post_id": 45322027, "comment_id": 77607157, "body": "@PierreDuc I have a line of code where I am trying to update."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1501060972, "post_id": 45322027, "comment_id": 77607194, "body": "@smhnkmr We need more information. Plunker ideally"}, {"owner": {"reputation": 5610, "user_id": 552249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/da407c152fc432f289b609f6b58b1eab?s=128&d=identicon&r=PG", "display_name": "Mohan", "link": "https://stackoverflow.com/users/552249/mohan"}, "reply_to_user": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1501061004, "post_id": 45322027, "comment_id": 77607225, "body": "@Maximus Yes Maxim, I have referred your article earlier and it has nice explanation on the error. But the thing, I am more interested to know why its happening in Angular 4 and not in 2?"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1501061690, "post_id": 45322027, "comment_id": 77607740, "body": "@smhnkmr, we need a plunker"}], "owner": {"reputation": 5610, "user_id": 552249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/da407c152fc432f289b609f6b58b1eab?s=128&d=identicon&r=PG", "display_name": "Mohan", "link": "https://stackoverflow.com/users/552249/mohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501060877, "creation_date": 1501059228, "last_edit_date": 1501060877, "question_id": 45322027, "link": "https://stackoverflow.com/questions/45322027/expressionchangedafterithasbeencheckederror-after-migration-from-angular-2-to", "title": "ExpressionChangedAfterItHasBeenCheckedError - After migration from Angular 2 to 4", "body": "<p>I have a model driven form and a field of which is updated from code behind/typescript file on button click event. This was working fine in Angular 2. But after I migrated to Angular 4, I am getting the below exception on update,</p>\n\n<blockquote>\n  <p>ExpressionChangedAfterItHasBeenCheckedError: Expression has changed\n  after it was checked.</p>\n</blockquote>\n\n<p>Here is the code where I am updating the form value,</p>\n\n<pre><code>this.myForm.controls['myFormArray'].value['results'] = this.Results;\n</code></pre>\n\n<p><em>where this.Results is an array of computed result to be shown in form.</em></p>\n\n<p>If I add the ChangeDetectionStratergy to OnPush in the component, then the update works fine. But I don't know the root cause of this issue, especially after upgrading to Angular 4.</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "edited": false, "score": 0, "creation_date": 1501061083, "post_id": 45321959, "comment_id": 77607281, "body": "See also <a href=\"https://stackoverflow.com/questions/36876105/how-to-properly-deal-with-scope-in-typescript\" title=\"how to properly deal with scope in typescript\">stackoverflow.com/questions/36876105/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 3292929, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/605d20acc7080257f7b9027cd6a9cc29?s=128&d=identicon&r=PG&f=1", "display_name": "Kamzz", "link": "https://stackoverflow.com/users/3292929/kamzz"}, "edited": false, "score": 0, "creation_date": 1501059521, "post_id": 45322058, "comment_id": 77606036, "body": "Thank you so much for your answer !!"}, {"owner": {"reputation": 207256, "user_id": 5928186, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QKbVi.jpg?s=128&g=1", "display_name": "Shubham Khatri", "link": "https://stackoverflow.com/users/5928186/shubham-khatri"}, "edited": false, "score": 0, "creation_date": 1501059659, "post_id": 45322058, "comment_id": 77606150, "body": "So many duplicates on Stackoverflow  onn this question, you can just mark it a duplicate"}], "tags": [], "owner": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "is_accepted": false, "score": 1, "last_activity_date": 1501059314, "creation_date": 1501059314, "answer_id": 45322058, "question_id": 45321959, "link": "https://stackoverflow.com/questions/45321959/this-state-undefined-in-a-method/45322058#45322058", "title": "this.state undefined in a method", "body": "<p>The function is being called from another context. You shoud <code>bind</code> function to the correct context:</p>\n\n<pre><code>rowGetter={this.rowGetter.bind(this)}\n</code></pre>\n\n<p>or declare the function via \"fat arrow\":</p>\n\n<pre><code>rowGetter = (i: number) =&gt; {\n    if(this.state) {\n        console.log('defined this.state');\n        return this.state.rows[i];\n    }\n    else {\n        console.log('undefined this.state');\n        return {};\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 866, "user_id": 6237359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/06qv0.png?s=128&g=1", "display_name": "Meshredded", "link": "https://stackoverflow.com/users/6237359/meshredded"}, "is_accepted": false, "score": 1, "last_activity_date": 1501059340, "creation_date": 1501059340, "answer_id": 45322071, "question_id": 45321959, "link": "https://stackoverflow.com/questions/45321959/this-state-undefined-in-a-method/45322071#45322071", "title": "this.state undefined in a method", "body": "<p>You need to bind you method to this in you constructor:</p>\n\n<pre><code>    constructor(props : any, context: any) {\n        super(props,context);\n        this.state = { \n            rows:[ \n                { id: 1, title: 'John', count: 32 },\n                { id: 2, title: 'Carl', count: 18 },\n                { id: 3, title: 'Mike', count: 25 }\n            ]\n        };\nthis.rowGetter = this.rowGetter.bind(this);\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 631, "user_id": 6203606, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8QGgI.jpg?s=128&g=1", "display_name": "Voi M\u1eadp", "link": "https://stackoverflow.com/users/6203606/voi-m%e1%ba%adp"}, "is_accepted": false, "score": 1, "last_activity_date": 1501059526, "creation_date": 1501059526, "answer_id": 45322134, "question_id": 45321959, "link": "https://stackoverflow.com/questions/45321959/this-state-undefined-in-a-method/45322134#45322134", "title": "this.state undefined in a method", "body": "<p>You can have 2 choose. </p>\n\n<ol>\n<li><p>Use bind(this)</p>\n\n<pre><code>this.rowGetter.bind(this)\n</code></pre></li>\n</ol>\n\n<p>2.Use arrow-function then you don't want to use <strong><em>bind</em></strong> </p>\n"}, {"tags": [], "owner": {"reputation": 626, "user_id": 2081327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66c9aaef5cc8f9b05a6c15bc6ad0075f?s=128&d=identicon&r=PG", "display_name": "lunochkin", "link": "https://stackoverflow.com/users/2081327/lunochkin"}, "is_accepted": false, "score": 3, "last_activity_date": 1501059682, "creation_date": 1501059682, "answer_id": 45322185, "question_id": 45321959, "link": "https://stackoverflow.com/questions/45321959/this-state-undefined-in-a-method/45322185#45322185", "title": "this.state undefined in a method", "body": "<p>In this expression <code>rowGetter={this.rowGetter}</code> you are passing your method to <code>ReactDataGrid</code> component.\nThen it calls <code>rowGetter</code> internally and javascript functions work in such way, that this function <code>this</code> linked to calling object.\nIt means that you have to bind your <code>rowGetter</code> method somehow to your component instance in order to have <code>this</code> linked to it.</p>\n\n<p>There are several approaches:</p>\n\n<ul>\n<li>Direct <code>{this.rowGetter.bind(this)}</code> - lacks efficiency as it creates function every time</li>\n<li><code>this.rowGetter = this.rowGetter.bind(this)</code> in constructor - verbose way</li>\n<li>you can rewrite <code>rowGetter</code> method as an arrow function - I think it's the best approach here. It can look like this:</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>rowGetter = (i: number) =&gt; {\r\n  if(this.state) {\r\n    console.log('defined this.state');\r\n    return this.state.rows[i];\r\n  }\r\n  else {\r\n    console.log('undefined this.state');\r\n    return {};\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now <code>this</code> linked to parent context and this is your component instance - precisely what you need.</p>\n"}], "owner": {"reputation": 119, "user_id": 3292929, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/605d20acc7080257f7b9027cd6a9cc29?s=128&d=identicon&r=PG&f=1", "display_name": "Kamzz", "link": "https://stackoverflow.com/users/3292929/kamzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3330, "favorite_count": 0, "closed_date": 1501060356, "answer_count": 4, "score": 2, "last_activity_date": 1501059682, "creation_date": 1501059079, "question_id": 45321959, "link": "https://stackoverflow.com/questions/45321959/this-state-undefined-in-a-method", "closed_reason": "Duplicate", "title": "this.state undefined in a method", "body": "<p>I have a custom component that requires access to one of my actual component state (rows).\nI defined it in my constructor but when it should be rendered, this.state seems to be always empty, and i dont know why...</p>\n\n<p>The console always displays \"undefined this.state\".</p>\n\n<p>Here is my code : </p>\n\n<pre><code>export class TableContainer extends React.Component&lt;any, any&gt; {\n    constructor(props : any, context: any) {\n        super(props,context);\n        this.state = { \n            rows:[ \n                { id: 1, title: 'John', count: 32 },\n                { id: 2, title: 'Carl', count: 18 },\n                { id: 3, title: 'Mike', count: 25 }\n            ]\n        };\n    }\n\n    rowGetter(i: number) {\n        if(this.state) {\n            console.log('defined this.state');\n            return this.state.rows[i];\n        }\n        else {\n            console.log('undefined this.state');\n            return {};\n        }\n    }\n\n    render() {\n        return  (\n            &lt;div id=\"events-container\"&gt;\n                &lt;ReactDataGrid\n                    columns={this.state.columns}\n                    rowGetter={this.rowGetter}\n                    rowsCount={this.state.rows.length}\n                    minHeight={500} \n                /&gt;\n            &lt;/div&gt;\n        );\n    }    \n}\n</code></pre>\n\n<p>I'm new in react so probably it's a little mistake. \nI have to precise that rowsCount get the good \"this.state.rows.length\" in the render function.</p>\n\n<p>Thank you by advance </p>\n"}, {"tags": ["node.js", "typescript", "npm", "node-modules", "npm-publish"], "answers": [{"comments": [{"owner": {"reputation": 330, "user_id": 3421151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e29c30e7f7687b0d8cbb189a4789ec?s=128&d=identicon&r=PG", "display_name": "trs", "link": "https://stackoverflow.com/users/3421151/trs"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1501087397, "post_id": 45332029, "comment_id": 77627727, "body": "You are right, I seem to have missed his/her <code>.gitignore</code> file. Thanks for clarifying."}], "tags": [], "owner": {"reputation": 330, "user_id": 3421151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e29c30e7f7687b0d8cbb189a4789ec?s=128&d=identicon&r=PG", "display_name": "trs", "link": "https://stackoverflow.com/users/3421151/trs"}, "is_accepted": true, "score": 2, "last_activity_date": 1501084758, "creation_date": 1501084758, "answer_id": 45332029, "question_id": 45321386, "link": "https://stackoverflow.com/questions/45321386/npm-module-missing-files-after-publish/45332029#45332029", "title": "npm module missing files after publish", "body": "<p>Check out the <a href=\"https://docs.npmjs.com/files/package.json#files\" rel=\"nofollow noreferrer\">package.json documentation about <code>files</code></a>.</p>\n\n<p>Since you haven't included the <code>files</code> key, it will only include the file specified in <code>main</code> (along with some other default files).</p>\n\n<p>The <code>files</code> value is an array so you can include multiple files and/or folders.</p>\n\n<p>eg:</p>\n\n<pre><code>files: [\n  \"dist\",\n  \"config/somefile.js\"\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": false, "score": 5, "last_activity_date": 1501085197, "creation_date": 1501085197, "answer_id": 45332187, "question_id": 45321386, "link": "https://stackoverflow.com/questions/45321386/npm-module-missing-files-after-publish/45332187#45332187", "title": "npm module missing files after publish", "body": "<p>Quoting from <a href=\"https://docs.npmjs.com/cli/publish\" rel=\"noreferrer\">npm-publish Documentation</a>:</p>\n\n<blockquote>\n  <p>All files in the package directory are included if no local <code>.gitignore</code> or <code>.npmignore</code> file exists. If both files exist and a file is ignored by <code>.gitignore</code> but not by <code>.npmignore</code> then it will be included.</p>\n</blockquote>\n\n<p>Your repository's <a href=\"https://github.com/microsoftly/luis-response-builder/blob/master/.gitignore\" rel=\"noreferrer\"><code>.gitignore</code> file</a> contains the following:</p>\n\n<pre><code>node_modules\ndist\n*.env\nyarn-error.log\n</code></pre>\n\n<p>Since <code>dist</code> is being ignored, it's not committed with <code>npm publish</code>, as per the documentation.</p>\n"}], "owner": {"reputation": 25, "user_id": 8016557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0616a20acafad35ccddb2ed7d4def267?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Schwartz", "link": "https://stackoverflow.com/users/8016557/matthew-schwartz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2243, "favorite_count": 0, "accepted_answer_id": 45332029, "answer_count": 2, "score": 2, "last_activity_date": 1501085197, "creation_date": 1501057651, "question_id": 45321386, "link": "https://stackoverflow.com/questions/45321386/npm-module-missing-files-after-publish", "title": "npm module missing files after publish", "body": "<p>For reference, the repo is <a href=\"https://github.com/microsoftly/luis-response-builder\" rel=\"nofollow noreferrer\">https://github.com/microsoftly/luis-response-builder</a>.</p>\n\n<p>The node module files are generated with tsc and output to the dist folder. I have a prepublishOnly step that removes the dist folder, runs tsc, then runs the test against the transpiled js. The tests pass when I publish just fine.</p>\n\n<p>The problem is, when I install the project anywhere else, the dist folder contains only the file with the path dist/src/index.js.</p>\n\n<p>I cannot for the life of me figure out why the file is missing when installed but not when published.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "webpack", "production-environment"], "comments": [{"owner": {"reputation": 746, "user_id": 7398150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd5248438a17e2a1818533e13d06bc3?s=128&d=identicon&r=PG&f=1", "display_name": "Darshita", "link": "https://stackoverflow.com/users/7398150/darshita"}, "edited": false, "score": 1, "creation_date": 1501058033, "post_id": 45321295, "comment_id": 77604945, "body": "@firaskoubaa, Change <code>private activatedRoute</code> to <code>public activatedRoute</code>.May be your problem will be solved."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1501058039, "post_id": 45321295, "comment_id": 77604952, "body": "The property <code>activatedRoute</code> is defined as <code>private</code> with <code>private activatedRoute: ActivatedRoute</code>."}], "answers": [{"tags": [], "owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "is_accepted": false, "score": 0, "last_activity_date": 1501057984, "creation_date": 1501057984, "answer_id": 45321520, "question_id": 45321295, "link": "https://stackoverflow.com/questions/45321295/angular-4-build-to-prod-property-is-private-and-only-accessible-within-class/45321520#45321520", "title": "Angular 4 : Build to prod: Property is private and only accessible within class", "body": "<p>You're trying to access <code>activatedRoute</code> which you've injected into your <code>constructor</code> as a <code>private</code> variable. Meaning that you won't be able to access it from your template when using AOT.</p>\n\n<p>Either change it to <code>public activatedRoute</code> or don't use it at all from the template to resolve this issue.</p>\n"}, {"comments": [{"owner": {"reputation": 5568, "user_id": 2658683, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Pa1qO.jpg?s=128&g=1", "display_name": "Gil Epshtain", "link": "https://stackoverflow.com/users/2658683/gil-epshtain"}, "edited": false, "score": 0, "creation_date": 1526908485, "post_id": 45321974, "comment_id": 87912544, "body": "But why is this behavior not consist? I mean why part of my private member in the view pass validation, while the other part throws an exception? What is the difference between them both???"}, {"owner": {"reputation": 3004, "user_id": 4619543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9NGJ9.jpg?s=128&g=1", "display_name": "brijmcq", "link": "https://stackoverflow.com/users/4619543/brijmcq"}, "reply_to_user": {"reputation": 5568, "user_id": 2658683, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Pa1qO.jpg?s=128&g=1", "display_name": "Gil Epshtain", "link": "https://stackoverflow.com/users/2658683/gil-epshtain"}, "edited": false, "score": 0, "creation_date": 1527378508, "post_id": 45321974, "comment_id": 88106464, "body": "it will pass if you are just running in development mode ( ng serve ) but it will not if you are going to build for production with aot enabled."}, {"owner": {"reputation": 5568, "user_id": 2658683, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Pa1qO.jpg?s=128&g=1", "display_name": "Gil Epshtain", "link": "https://stackoverflow.com/users/2658683/gil-epshtain"}, "edited": false, "score": 0, "creation_date": 1527410244, "post_id": 45321974, "comment_id": 88111715, "body": "This isn&#39;t my question, why in <code>ng build</code> - part of my private members access-able in the html, while other throw an error."}], "tags": [], "owner": {"reputation": 3004, "user_id": 4619543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9NGJ9.jpg?s=128&g=1", "display_name": "brijmcq", "link": "https://stackoverflow.com/users/4619543/brijmcq"}, "is_accepted": true, "score": 18, "last_activity_date": 1501059788, "last_edit_date": 1501059788, "creation_date": 1501059112, "answer_id": 45321974, "question_id": 45321295, "link": "https://stackoverflow.com/questions/45321295/angular-4-build-to-prod-property-is-private-and-only-accessible-within-class/45321974#45321974", "title": "Angular 4 : Build to prod: Property is private and only accessible within class", "body": "<p><strong>Changing to public activatedRoute</strong></p>\n\n<p>You need to make your activatedRoute <code>public</code>. Here's a checklist when building for production with aot. ( Taken from this github project <a href=\"https://github.com/asadsahi/AspNetCoreSpa\" rel=\"noreferrer\">https://github.com/asadsahi/AspNetCoreSpa</a>, though it is applicable to any other angular project.)</p>\n\n<p>AOT - Ahead of time compilation DON'TS</p>\n\n<ul>\n<li>Don\u2019t use require statements for your templates or styles, use styleUrls and \ntemplateUrls, the angular2-template-loader plugin will change it to require \nat build time.</li>\n<li><p>Don\u2019t use default exports.</p></li>\n<li><p>Don\u2019t use form.controls.controlName, use form.get(\u2018controlName\u2019)</p></li>\n<li><p>Don\u2019t use control.errors?.someError, use control.hasError(\u2018someError\u2019)</p></li>\n<li><p>Don\u2019t use functions in your providers, routes or declarations, export a function and then reference that function name\nInputs, Outputs, View or Content Child(ren), Hostbindings, and <strong>any field you use from the template or annotate for Angular should be public</strong></p></li>\n</ul>\n\n<p><strong>Keeping activatedRoute private</strong></p>\n\n<p>To keep your activatedRoute private, you can do something like this</p>\n\n<pre><code>theData:any;\nconstructor (\nprivate sessionService: SessionService,\nprivate router: Router,\nprivate activatedRoute: ActivatedRoute\n ) {\n     this.activatedRoute.params.subscribe(\n      params =&gt; {\n        this.theData= params['keyWorking']; \n        //you will bind the theData instead of the activatedROute\n      }\n    );\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and in your template</p>\n\n<pre><code>&lt;div class=\"confirmationMessage\" *ngIf=\"theData == 'validateInscription'\"&gt;\n&lt;br&gt;Un lien de confirmation vous a \u00e9t\u00e9 envoy\u00e9 sur votre bo\u00eete email afin de \n valider votre compte. Merci.&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 6601979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HTqhb.jpg?s=128&g=1", "display_name": "Henry Zhang", "link": "https://stackoverflow.com/users/6601979/henry-zhang"}, "is_accepted": false, "score": 3, "last_activity_date": 1510556999, "last_edit_date": 1510556999, "creation_date": 1509412489, "answer_id": 47026512, "question_id": 45321295, "link": "https://stackoverflow.com/questions/45321295/angular-4-build-to-prod-property-is-private-and-only-accessible-within-class/47026512#47026512", "title": "Angular 4 : Build to prod: Property is private and only accessible within class", "body": "<p>Please find more detail in <a href=\"https://github.com/angular/angular-cli/issues/5621\" rel=\"nofollow noreferrer\">Property is private and only accessible within class</a></p>\n\n<p>Original \"error\" reported is not an error, but normal restriction of AOT at least for versions 2, 4, 5. The variable used in the template needs to be declared as \"public\". Template is treated as a separate Typescript class.</p>\n\n<p>You can change all the components variable from private to public. If they are used into your template. </p>\n\n<p>Or you can use ng build -prod --aot=false for building</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10672900, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lskHezWEVR0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ijaVHZzwyJqxXRXEtY3cDYqr1Bjg/mo/photo.jpg?sz=128", "display_name": "SIddharth Pradhan", "link": "https://stackoverflow.com/users/10672900/siddharth-pradhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1553588923, "creation_date": 1553588923, "answer_id": 55352728, "question_id": 45321295, "link": "https://stackoverflow.com/questions/45321295/angular-4-build-to-prod-property-is-private-and-only-accessible-within-class/55352728#55352728", "title": "Angular 4 : Build to prod: Property is private and only accessible within class", "body": "<p>try with \" ng build -env=prod \" command. It worked for me to solve this error.</p>\n"}], "owner": {"reputation": 4766, "user_id": 4957388, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KUNhv.jpg?s=128&g=1", "display_name": "firasKoubaa", "link": "https://stackoverflow.com/users/4957388/firaskoubaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22513, "favorite_count": 5, "accepted_answer_id": 45321974, "answer_count": 4, "score": 14, "last_activity_date": 1553588923, "creation_date": 1501057393, "last_edit_date": 1501058086, "question_id": 45321295, "link": "https://stackoverflow.com/questions/45321295/angular-4-build-to-prod-property-is-private-and-only-accessible-within-class", "title": "Angular 4 : Build to prod: Property is private and only accessible within class", "body": "<p>i'm using Angular 4 , i'm running : <code>ng build --prod</code></p>\n\n<p>i'm catching this :</p>\n\n<pre><code>ng build --prod\nYour global Angular CLI version (1.2.2) is greater than your local\nversion (1.0.0). The local Angular CLI version is used.\n\nTo disable this warning use \"ng set --global warnings.versionMismatch=false\".\nHash: 7fce5d10c4c3ac9745e8\nTime: 68351ms\nchunk    {0} polyfills.7790a64cc25c48ae62ea.bundle.js (polyfills) 177 kB {4} [initial] [rendered]\nchunk    {1} main.f10680210e9e45ed33cc.bundle.js (main) 382 kB {3} [initial] [rendered]\nchunk    {2} styles.d2e6408caea42ccabf99.bundle.css (styles) 175 bytes {4} [initial] [rendered]\nchunk    {3} vendor.fc69ec31f7ef40b5fffb.bundle.js (vendor) 5.9 MB [initial] [rendered]\nchunk    {4} inline.91747411075ce6c7f438.bundle.js (inline) 0 bytes [entry] [rendered]\n\nERROR in ng:///D:/Sources/DotNet/NextGCClientWeb/src/app/login/login.component.html (11,3): Property 'activatedRoute' is private and only accessible within class 'Login\nComponent'.\n\nERROR in ng:///D:/Sources/DotNet/NextGCClientWeb/src/app/login/login.component.html (11,3): Property 'activatedRoute' is private and only accessible within class 'Login\nComponent'.\n</code></pre>\n\n<p>this error seems to be strange :</p>\n\n<pre><code>ERROR in \n    ng:///D:/Sources/DotNet/NextGCClientWeb/src/app/login/login.component.html (11,3): Property 'activatedRoute' is private and only accessible within class 'Login Component\n</code></pre>\n\n<p>The indicated component in the error is the follwoing :</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { Http, Response } from '@angular/http';\nimport { SessionService } from './../../shared/service';\n\nimport { User } from './../../model';\n\n@Component({\n  selector: 'login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  error: string;\n  email: string;\n  password: string;\n  stayConnected: Boolean;\n\n  constructor (\n    private sessionService: SessionService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute\n  ) {\n    if (activatedRoute.snapshot.params['keyWording']) {\n      this.sessionService.logInWithFinalization(activatedRoute.snapshot.params['keyWording']);\n    }\n  }\n\n  logIn() {\n    this.sessionService.logIn(this.email, this.password, this.stayConnected).subscribe(\n      () =&gt; {\n        if (this.sessionService.pageRequestedInUnauthenticated == null) {\n          this.router.navigate(['/welcome']);\n        } else {\n          this.router.navigate([this.sessionService.pageRequestedInUnauthenticated]);\n        }\n      },\n      (error: Response) =&gt; this.error = error.json()\n    );\n  }\n}\n</code></pre>\n\n<p><strong>The html view:</strong></p>\n\n<pre><code>&lt;div id=\"divLogin\"&gt;\n  &lt;h1&gt;Se connecter&lt;/h1&gt;&lt;br&gt;\n  &lt;i class=\"fa fa-envelope-o fa-lg\" id=\"iconEmail\"&gt;&lt;/i&gt;\n  &lt;input type=\"text\" id=\"email\" [(ngModel)]=\"email\" (keyup.enter)=\"logIn()\" class=\"form-control\" placeholder=\"Adresse email\" autofocus /&gt;\n  &lt;i class=\"fa fa-lock fa-lg\" id=\"iconPassword\"&gt;&lt;/i&gt;\n  &lt;input type=\"password\" id=\"password\" [(ngModel)]=\"password\" (keyup.enter)=\"logIn()\" class=\"form-control\" placeholder=\"Mot de passe\" /&gt;\n  &lt;button (click)=\"logIn()\" class=\"btn btn-primary btn-block btn-lg\"&gt;Connexion&lt;/button&gt;\n  &lt;span id=\"containerStayConnected\" title=\"Non impl\u00e9ment\u00e9\"&gt;&lt;input type=\"checkbox\" id=\"stayConnected\" [(ngModel)]=\"stayConnected\" /&gt;&lt;label for=\"stayConnected\"&gt;Restez connect\u00e9&lt;/label&gt;&lt;/span&gt;\n  &lt;a id=\"forgetPassword\" title=\"Non impl\u00e9ment\u00e9\"&gt;Mot de passe oubli\u00e9&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\n  &lt;a routerLink=\"/inscription\"&gt;S'inscrire&lt;/a&gt;&lt;br&gt;\n  {{ error }}\n&lt;/div&gt;\n\n&lt;div class=\"confirmationMessage\" *ngIf=\"activatedRoute.snapshot.params['keyWording'] == 'validateInscription'\"&gt;&lt;br&gt;Un lien de confirmation vous a \u00e9t\u00e9 envoy\u00e9 sur votre bo\u00eete email afin de valider votre compte. Merci.&lt;/div&gt;\n\n&lt;div id=\"piedDePage\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>when running <strong>ng serve</strong> am not catching it .</p>\n\n<p><strong>Any propositions ??</strong></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1501057672, "post_id": 45321359, "comment_id": 77604693, "body": "I think his problem is interfaces <code>private iintern: IIntern, private ievent: IEvent,</code>"}, {"owner": {"reputation": 108, "user_id": 6205166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851909ac94ba5a36088a03cc3153633f?s=128&d=identicon&r=PG", "display_name": "Tahsin G&#252;l", "link": "https://stackoverflow.com/users/6205166/tahsin-g%c3%bcl"}, "edited": false, "score": 0, "creation_date": 1501057793, "post_id": 45321359, "comment_id": 77604783, "body": "Sory for my spagetti. Its not resolved same error again."}, {"owner": {"reputation": 4372, "user_id": 5658060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hiodd.jpg?s=128&g=1", "display_name": "Wesley Coetzee", "link": "https://stackoverflow.com/users/5658060/wesley-coetzee"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1501057912, "post_id": 45321359, "comment_id": 77604863, "body": "@yurzui I was busy updating my answer while you commented :)"}, {"owner": {"reputation": 4372, "user_id": 5658060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hiodd.jpg?s=128&g=1", "display_name": "Wesley Coetzee", "link": "https://stackoverflow.com/users/5658060/wesley-coetzee"}, "reply_to_user": {"reputation": 108, "user_id": 6205166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851909ac94ba5a36088a03cc3153633f?s=128&d=identicon&r=PG", "display_name": "Tahsin G&#252;l", "link": "https://stackoverflow.com/users/6205166/tahsin-g%c3%bcl"}, "edited": false, "score": 0, "creation_date": 1501058686, "post_id": 45321359, "comment_id": 77605438, "body": "@TahsinG&#252;l no problem, glad I could help"}], "tags": [], "owner": {"reputation": 4372, "user_id": 5658060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/hiodd.jpg?s=128&g=1", "display_name": "Wesley Coetzee", "link": "https://stackoverflow.com/users/5658060/wesley-coetzee"}, "is_accepted": true, "score": 3, "last_activity_date": 1501057882, "last_edit_date": 1501057882, "creation_date": 1501057582, "answer_id": 45321359, "question_id": 45321189, "link": "https://stackoverflow.com/questions/45321189/cant-resolve-all-parameters-for-analysiscomponent-object-object/45321359#45321359", "title": "Can&#39;t resolve all parameters for AnalysisComponent: ([object Object], ?, ?, [", "body": "<p>Your problem is here:</p>\n\n<pre><code>constructor(private modal: NgbModal,\n    private iintern: IIntern, private ievent: IEvent,\n    private internService: InternService,\n    private toastr: ToastrService,\n    private router: Router,\n    private authService: AuthService,\n    @Inject(DOCUMENT) doc: any) { }\n</code></pre>\n\n<p>remove the following from your constructor <code>private iintern: IIntern, private ievent: IEvent</code> and <code>@Inject(DOCUMENT) doc: any</code>, I'm not entirely sure what that <code>doc</code> is being used for?</p>\n\n<p>The only line I see being used from the removed items is <code>private ievent: IEvent</code>. If you require these to be used as varibales, you would add them to the top of your component like so:</p>\n\n<pre><code>export class AnalysisComponent implements OnInit {\n  public event: IEvent;\n  public intern: IIntern;\n  public doc: DOCUMENT;\n</code></pre>\n\n<p>Your constructor should look like this:</p>\n\n<pre><code>constructor(private modal: NgbModal,\n    private internService: InternService,\n    private toastr: ToastrService,\n    private router: Router,\n    private authService: AuthService) { }\n</code></pre>\n"}], "owner": {"reputation": 108, "user_id": 6205166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851909ac94ba5a36088a03cc3153633f?s=128&d=identicon&r=PG", "display_name": "Tahsin G&#252;l", "link": "https://stackoverflow.com/users/6205166/tahsin-g%c3%bcl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2146, "favorite_count": 0, "accepted_answer_id": 45321359, "answer_count": 1, "score": 1, "last_activity_date": 1501057882, "creation_date": 1501057120, "question_id": 45321189, "link": "https://stackoverflow.com/questions/45321189/cant-resolve-all-parameters-for-analysiscomponent-object-object", "title": "Can&#39;t resolve all parameters for AnalysisComponent: ([object Object], ?, ?, [", "body": "<p>First of all i am beginner at angular framework.</p>\n\n<p>When i added project's services then i get that error.</p>\n\n<blockquote>\n  <p>Error: Can't resolve all parameters for AnalysisComponent: ([object Object], ?, ?, [object Object], [object Object], [object Object], [object Object], [object Object]).</p>\n</blockquote>\n\n<p>Angular 4.0.0</p>\n\n<p>I cant understand how to resolve it.</p>\n\n<p>calendar.component.ts:</p>\n\n<pre><code>    import { Component, ChangeDetectionStrategy, Inject, ViewChild, TemplateRef, OnInit } from '@angular/core';\n    import { DOCUMENT } from '@angular/platform-browser';\n    import { Router } from '@angular/router';\n    import { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\n    import { InternService } from '../intern.service';\n    import { AuthService } from '../../user/auth.service';\n    import { ToastrService } from '../../common/toastr.service';\n    import { IIntern } from '../intern';\n\n    import {\n      startOfDay,\n      endOfDay,\n      subDays,\n      addDays,\n      endOfMonth,\n      isSameDay,\n      isSameMonth,\n      addHours\n    } from 'date-fns';\n\n    import { Subject } from 'rxjs/Subject';\n\n    import {\n      CalendarEvent,\n      CalendarEventAction,\n      CalendarEventTimesChangedEvent\n    } from 'angular-calendar';\n\n    const colors: any = {\n      red: {\n        primary: '#ad2121',\n        secondary: '#FAE3E3'\n      },\n      blue: {\n        primary: '#1e90ff',\n        secondary: '#D1E8FF'\n      },\n      yellow: {\n        primary: '#e3bc08',\n        secondary: '#FDF1BA'\n      }\n    };\n\n    export interface IEvent {\n      start: Date,\n      end: Date,\n      title: string,\n      color: { primary: string, secondary: string },\n      actions: CalendarEventAction[]\n    }\n\n    @Component({\n      selector: 'app-fullcalendar',\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      templateUrl: './calendar.component.html',\n      styleUrls: ['./calendar.component.scss']\n    })\n    export class AnalysisComponent implements OnInit {\n\n      @ViewChild('modalContent') modalContent: TemplateRef&lt;any&gt;;\n\n      view = 'month';\n\n      viewDate: Date = new Date();\n\n      modalData: {\n        action: string,\n        event: CalendarEvent\n      };\n\n      actions: CalendarEventAction[] = [{\n        label: '&lt;i class=\"editButton\"&gt;&lt;/i&gt;',\n        onClick: ({ event }: { event: CalendarEvent }): void =&gt; {\n          this.handleEvent('Edited', event);\n        }\n      }, {\n        label: '&lt;i class=\"deleteButton\"&gt;&lt;/i&gt;',\n        onClick: ({ event }: { event: CalendarEvent }): void =&gt; {\n          this.events = this.events.filter(iEvent =&gt; iEvent !== event);\n          this.handleEvent('Deleted', event);\n        }\n      }];\n\n      refresh: Subject&lt;any&gt; = new Subject();\n\n      events: CalendarEvent[] = [];\n\n      ngOnInit() {\n        this.internService.getInternsByOption('all')\n          .subscribe(data =&gt; {\n            if (data.success === false) {\n              if (data.errcode) {\n                this.authService.logout();\n                this.router.navigate(['login']);\n              }\n              this.toastr.error(data.message);\n            } else {\n              console.log(data.data);\n            }\n          });\n      }\n\n      activeDayIsOpen = true;\n\n      constructor(private modal: NgbModal,\n        private iintern: IIntern, private ievent: IEvent,\n        private internService: InternService,\n        private toastr: ToastrService,\n        private router: Router,\n        private authService: AuthService,\n        @Inject(DOCUMENT) doc: any) { }\n\n      dayClicked({ date, events }: { date: Date, events: CalendarEvent[] }): void {\n\n        if (isSameMonth(date, this.viewDate)) {\n          if (\n            (isSameDay(this.viewDate, date) &amp;&amp; this.activeDayIsOpen === true) ||\n            events.length === 0\n          ) {\n            this.activeDayIsOpen = false;\n          } else {\n            this.activeDayIsOpen = true;\n            this.viewDate = date;\n          }\n        }\n      }\n\n      eventTimesChanged({ event, newStart, newEnd }: CalendarEventTimesChangedEvent): void {\n        event.start = newStart;\n        event.end = newEnd;\n        this.handleEvent('Dropped or resized', event);\n        this.refresh.next();\n      }\n\n      handleEvent(action: string, event: CalendarEvent): void {\n        this.modalData = { event, action };\n        this.modal.open(this.modalContent, { size: 'lg' });\n      }\n\n      addEvent(): void {\n        this.events.push({\n          title: 'New event',\n          start: startOfDay(new Date()),\n          end: endOfDay(new Date()),\n          color: colors.red,\n          draggable: true,\n          resizable: {\n            beforeStart: true,\n            afterEnd: true\n          }\n        });\n        this.refresh.next();\n      }\n\n      eventCreator(eventintern: IIntern) {\n        let a = this.ievent;\n        a.start = eventintern.starteddate;\n        a.end = eventintern.endeddate;\n        a.color = colors.red;\n        a.actions = this.actions;\n        this.events.push(a);\n      }\n    }\n</code></pre>\n"}, {"tags": ["arrays", "json", "angular", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 4, "creation_date": 1501056973, "post_id": 45321119, "comment_id": 77604241, "body": "As the message clearly states: You need to pass an array to your ngFor not an object."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 3, "creation_date": 1501057088, "post_id": 45321119, "comment_id": 77604310, "body": "<a href=\"https://stackoverflow.com/questions/41396435/how-to-iterate-object-object-using-ngfor-in-angular-2/41396558#41396558\" title=\"how to iterate object object using ngfor in angular 2\">stackoverflow.com/questions/41396435/&hellip;</a>"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 1, "creation_date": 1501058398, "post_id": 45321119, "comment_id": 77605210, "body": "@echonax, you need to pass an iterable, it can be anything with the iterable interface, see my answer below"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1501071815, "post_id": 45321119, "comment_id": 77615249, "body": "hey, so did <a href=\"https://stackoverflow.com/a/45321622/2545680\">my answer</a> help?"}, {"owner": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1501133140, "post_id": 45321119, "comment_id": 77645489, "body": "Sorry for the late response, timezone issues, I tried your suggestion but had no luck. I am not sure if it is an Ionic 3 problem."}, {"owner": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "edited": false, "score": 0, "creation_date": 1501135015, "post_id": 45321119, "comment_id": 77646206, "body": "I then proceeded to looping through the object and converting to an array, but I&#39;m quite stuck on this."}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1501431400, "post_id": 45321119, "comment_id": 77764269, "body": "@eohdev, so did you solve your problem?"}], "answers": [{"tags": [], "owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "is_accepted": false, "score": 1, "last_activity_date": 1501058505, "last_edit_date": 1501058505, "creation_date": 1501058285, "answer_id": 45321622, "question_id": 45321119, "link": "https://stackoverflow.com/questions/45321119/angular-ngfor-only-supports-binding-to-iterables-such-as-arrays/45321622#45321622", "title": "Angular NgFor only supports binding to Iterables such as Arrays", "body": "<p><code>ngFor</code> works with iterables. An iterable object is the object that implements <code>[Symbol.iterator]</code> method that returns an iterator. You can read more about it <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Iterators_and_Generators\" rel=\"nofollow noreferrer\">here</a>. Only Array and Map are iterable in JS by default.</p>\n\n<p>Objects in JavaScript are not iterable. And your <code>sessionsObject</code> is simple object and it therefore doesn't implement <code>[Symbol.iterator]</code> method. But you can easily implement it yourself:</p>\n\n<pre><code>// \nlssessionsObject[Symbol.iterator] = function* () {\n   for (p in this) yield this[p];\n}\n</code></pre>\n"}], "owner": {"reputation": 1331, "user_id": 5853403, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/600b0f3bb3d45f52f7c482c617d03c8a?s=128&d=identicon&r=PG&f=1", "display_name": "skydev", "link": "https://stackoverflow.com/users/5853403/skydev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1742, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1501058505, "creation_date": 1501056868, "question_id": 45321119, "link": "https://stackoverflow.com/questions/45321119/angular-ngfor-only-supports-binding-to-iterables-such-as-arrays", "title": "Angular NgFor only supports binding to Iterables such as Arrays", "body": "<p>I am getting an error while trying to loop through and display data using ngFor.</p>\n\n<p>Actual error in console \"Error: Cannot find a differ supporting object '[object Object]' of type 'object'. NgFor only supports binding to Iterables such as Arrays.\"</p>\n\n<p>Here is my code:</p>\n\n<blockquote>\n  <p>//TS Component</p>\n</blockquote>\n\n<pre><code>var lssessionsObject = JSON.parse(localStorage.getItem('sessionsObject'));\n</code></pre>\n\n<blockquote>\n  <p>//localstorage array</p>\n</blockquote>\n\n<pre><code>lssessionObject = {\"total_rows\":1,\"offset\":0,\"rows\":[{\"id\":\"245fd1cbf38f79256a7443a0b5001461\",\"key\":\"245fd1cbf38f79256a7443a0b5001461\",\"value\":{\"cinemaid\":\"0001\",\"session\":\"168970\",\"filmid\":\"HO00003858\",\"screen\":\"VIP 1\",\"datetime\":\"2017-07-22T11:00:00\",\"attributes\":[\"3D Film\",\"Scene VIP\"]}}]}\n</code></pre>\n\n<blockquote>\n  <p>HTML</p>\n</blockquote>\n\n<pre><code>&lt;ion-slides class=\"image-slider\" slidesPerView=\"3\" pager=\"true\"&gt;\n        &lt;ion-slide *ngFor=\"let item of sessionsObject\" class=\"border\"&gt;\n        &lt;button ion-item color=\"primary\" id={{item.filmid}} class=\"bottom-slider\"&gt;\n            {{item.filmid}}\n        &lt;/button&gt;\n\n    &lt;/ion-slide&gt;\n&lt;/ion-slides&gt;\n</code></pre>\n\n<p>Please assist me</p>\n"}, {"tags": ["javascript", "angular", "typescript", "d3.js"], "comments": [{"owner": {"reputation": 613, "user_id": 3165725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29ac007eedb45a027b8386eac80f470c?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3165725/david"}, "edited": false, "score": 0, "creation_date": 1515077370, "post_id": 45320944, "comment_id": 83170440, "body": "I have similar issue, did you resolve it?"}, {"owner": {"reputation": 1707, "user_id": 1127809, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/swoRv.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/1127809/florian"}, "reply_to_user": {"reputation": 613, "user_id": 3165725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29ac007eedb45a027b8386eac80f470c?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3165725/david"}, "edited": false, "score": 0, "creation_date": 1515141369, "post_id": 45320944, "comment_id": 83194942, "body": "@David I postet my solution as I remembered"}], "answers": [{"tags": [], "owner": {"reputation": 1707, "user_id": 1127809, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/swoRv.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/1127809/florian"}, "is_accepted": false, "score": 0, "last_activity_date": 1515141335, "creation_date": 1515141335, "answer_id": 48109920, "question_id": 45320944, "link": "https://stackoverflow.com/questions/45320944/angular-2-definition-file/48109920#48109920", "title": "Angular 2 definition file", "body": "<ul>\n<li>add a javascript folder in app directory</li>\n<li>place your d3-gantt folder in there</li>\n<li>besides the normal code add index.d.ts with the line: <code>export function gantt(): any;</code></li>\n<li>in your app.components.ts add <code>import { gantt } from \"./javascript/d3-gantt\";</code></li>\n<li>set     <code>\"allowJs\":true,</code> in tsconfig.json</li>\n</ul>\n\n<p>worked like this for me</p>\n"}], "owner": {"reputation": 1707, "user_id": 1127809, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/swoRv.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/1127809/florian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1515141335, "creation_date": 1501056324, "last_edit_date": 1501058634, "question_id": 45320944, "link": "https://stackoverflow.com/questions/45320944/angular-2-definition-file", "title": "Angular 2 definition file", "body": "<p>I have a custom gantt library, that is based on d3. It's written in normal javascript. Now I want to add it to my Angular 2 App. I allready installed D3 via npm and added a type file as well as the gantt chart to the node_modules but I get the following error message:</p>\n\n<pre><code>__WEBPACK_IMPORTED_MODULE_4_d3__.gantt is not a function\n</code></pre>\n\n<p>I think it's because of wrong usage of export and definition file. But I have no idea how to solve it.</p>\n\n<p>node_modules/d3/index.js:</p>\n\n<pre><code>export {version} from \"./build/package\";\nexport * from \"d3-array\";\n.\n.\n.\nexport * from \"d3-gantt\";\n</code></pre>\n\n<p>node_modules/d3-gantt/index.js:</p>\n\n<pre><code>export default gantt;\n\nfunction gantt()\n{\n    // a lot of code\n    return gantt\n}\n</code></pre>\n\n<p>node_modules/@types/d3/index.d.ts:</p>\n\n<pre><code>export as namespace d3;\nexport * from 'd3-array';\n.\n.\n.\nexport * from 'd3-gantt';\n</code></pre>\n\n<p>node_modules/@types/d3-gantt/index.d.ts:</p>\n\n<pre><code>export function gantt(): any;\n</code></pre>\n\n<p>src/app/AppComponent.ts</p>\n\n<pre><code>buildGantt(){\n...\nimport * as d3 from 'd3'\nd3.gantt().taskTypes(taskNames).taskStatus(taskStatus).selector('#d3Chart') //here i get the error\n...\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1501056174, "post_id": 45320813, "comment_id": 77603706, "body": "I thought rxjs was React, not angular?"}, {"owner": {"reputation": 1386, "user_id": 6181692, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JRunh.jpg?s=128&g=1", "display_name": "Saif", "link": "https://stackoverflow.com/users/6181692/saif"}, "reply_to_user": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1501056267, "post_id": 45320813, "comment_id": 77603769, "body": "rxjs:  library is available in Angular, not sure whether its available for React or not."}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1501056715, "post_id": 45320813, "comment_id": 77604066, "body": "RxJS is an independent library. Indeed, <a href=\"https://github.com/ReactiveX/rxjs/blob/5.4.2/package.json#L208-L210\" rel=\"nofollow noreferrer\">its only dependency</a> is a small polyfill for the observable symbol."}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1501056863, "post_id": 45320813, "comment_id": 77604175, "body": "Also, you should reconsider using Angular&#39;s <code>EventEmitter</code> in that way; it&#39;s not recommended. See <a href=\"https://stackoverflow.com/a/36076701/6680611\">this answer</a>."}], "answers": [{"tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": 2, "last_activity_date": 1501059230, "last_edit_date": 1501059230, "creation_date": 1501056616, "answer_id": 45321040, "question_id": 45320813, "link": "https://stackoverflow.com/questions/45320813/limit-number-of-subscriptions-for-an-rxjs-observable/45321040#45321040", "title": "Limit number of subscriptions for an rxjs observable", "body": "<p>It's hard to tell why you need this because there're operators such as <code>share</code> that make sure you'll always have only one subscription to the source Observable.</p>\n\n<p>Since <code>EventEmitter</code> extends the <code>Subject</code> class you can check whether it has any subscriptions with the following (see <a href=\"https://github.com/ReactiveX/rxjs/blob/master/src/Subject.ts#L28\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/rxjs/blob/master/src/Subject.ts#L28</a>):</p>\n\n<pre><code>const source = new Subject();\n\n...\n\nif (source.observers.length &gt; 0) {\n  ...\n}\n</code></pre>\n\n<p>If you want to perform some action on subscription/unsubscription you can use <code>Observable.defer()</code> and add a custom tear down functions to the <code>Subscription</code> object with the <code>add()</code> method:</p>\n\n<pre><code>const source = new Subject();\n\nconst o = Observable.defer(() =&gt; {\n  console.log('subscription');\n  return source; // or you can create the source inside this function if you want.\n});\n\nconst subscription = o.subscribe(...);\n\nsubscription.add(() =&gt; {\n  console.log('unsubscription');\n});\n</code></pre>\n"}], "owner": {"reputation": 1386, "user_id": 6181692, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JRunh.jpg?s=128&g=1", "display_name": "Saif", "link": "https://stackoverflow.com/users/6181692/saif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2808, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501059230, "creation_date": 1501055955, "last_edit_date": 1501056213, "question_id": 45320813, "link": "https://stackoverflow.com/questions/45320813/limit-number-of-subscriptions-for-an-rxjs-observable", "title": "Limit number of subscriptions for an rxjs observable", "body": "<p>I want to find an observable,subject or event emitter replacement which supports one and only one subscription at any given time. i.e. the first one to get a subscription will have the right to execute its subscribe's body and when it unsubscribes itself then any next subscriber would be allowed to proceed.</p>\n\n<p>Is there currently any method inside observable, subject or event emitter which supports this functionality or a replacement available which can allow this behavior.</p>\n\n<p>Alternatively if there is some technique with which I can perform some functionality when ever some one subscribes/unsubscribes from our target emitter then I can perform this functionality using access modifier and a boolean.</p>\n\n<p>Currently I am trying something like this:</p>\n\n<pre><code>  private OpenDialogEmitter = new EventEmitter();\n  private isFirstFetch: boolean = true;\n\n\n\n\ngetDialogEmitter(): EventEmitter&lt;{}&gt; {\n\n    if (this.isFirstFetch) {\n      this.isFirstFetch = false;\n      return this.OpenDialogEmitter;\n    }\n    return null;\n  }\n\n\nsetFirstFetch(){\n      this.isFirstFetch = true;\n}\n</code></pre>\n\n<p>When ever some one unsubscribes it has to mark observable available again by calling setFirstFetch() method inside service.</p>\n\n<p>Is there any better and built in approach?</p>\n"}, {"tags": ["typescript", "azure-devops", "angular-cli", "vssdk"], "comments": [{"owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1501063406, "post_id": 45320466, "comment_id": 77609081, "body": "Try to refer to this article <a href=\"https://github.com/Microsoft/vss-web-extension-sdk\" rel=\"nofollow noreferrer\">github.com/Microsoft/vss-web-extension-sdk</a>"}, {"owner": {"reputation": 111, "user_id": 3086826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9806434384f6cfffeeacf46664eb2260?s=128&d=identicon&r=PG&f=1", "display_name": "shayc", "link": "https://stackoverflow.com/users/3086826/shayc"}, "reply_to_user": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1501069266, "post_id": 45320466, "comment_id": 77613404, "body": "I&#39;ve seem this article. It shows how to use the vss sdk from within the html but I could not find an example of using it from a .ts component."}, {"owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1501133567, "post_id": 45320466, "comment_id": 77645633, "body": "I can build it with TSC command, but can&#39;t build through ng build command, what&#39;s the result of you?"}, {"owner": {"reputation": 111, "user_id": 3086826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9806434384f6cfffeeacf46664eb2260?s=128&d=identicon&r=PG&f=1", "display_name": "shayc", "link": "https://stackoverflow.com/users/3086826/shayc"}, "reply_to_user": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1502105952, "post_id": 45320466, "comment_id": 78051489, "body": "I tried building that single component with tsc (command: <i>tsc src\\app\\app.component.ts</i>) and got the following errors: src/app/app.component.ts(2,1): error TS1148: Cannot compile modules unless the &#39;--module&#39; flag is provided. src/app/app.component.ts(2,27): error TS2307: Cannot find module &#39;@angular/core&#39;. src/app/app.component.ts(4,30): error TS2307: Cannot find module &#39;VSS/Context&#39;. src/app/app.component.ts(6,1): error TS1205: Decorators are only available when targeting ECMAScript 5 and higher."}, {"owner": {"reputation": 111, "user_id": 3086826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9806434384f6cfffeeacf46664eb2260?s=128&d=identicon&r=PG&f=1", "display_name": "shayc", "link": "https://stackoverflow.com/users/3086826/shayc"}, "reply_to_user": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "edited": false, "score": 0, "creation_date": 1502106224, "post_id": 45320466, "comment_id": 78051658, "body": "@starain-MSFT How did you build it? How can I build it through the <i>ng build</i> command?"}], "owner": {"reputation": 111, "user_id": 3086826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9806434384f6cfffeeacf46664eb2260?s=128&d=identicon&r=PG&f=1", "display_name": "shayc", "link": "https://stackoverflow.com/users/3086826/shayc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 750, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530076395, "creation_date": 1501054847, "question_id": 45320466, "link": "https://stackoverflow.com/questions/45320466/importing-vss-web-extension-sdk-modules-in-angular-cli-components", "title": "Importing vss-web-extension-sdk modules in Angular-CLI components", "body": "<p>I'm trying to create a VSTS/TFS extension which is based on an angular/cli app.\nI've created a new app using <em>ng new</em> and it compiles and serves fine.\nNow, my problem is referencing and consuming the vss sdk in my components.</p>\n\n<p>I've made some changes based on the recommendations made <a href=\"https://stackoverflow.com/questions/40752520/using-vss-web-extension-sdk-in-angular-2\">here</a>:</p>\n\n<ol>\n<li><p>Added \"vss-web-extension-sdk\" to package.json dependencies:</p>\n\n<p>\"dependencies\": {\n    \"@angular/animations\": \"^4.0.0\",\n    \"@angular/common\": \"^4.0.0\",\n    \"@angular/compiler\": \"^4.0.0\",\n    \"@angular/core\": \"^4.0.0\",\n    \"@angular/forms\": \"^4.0.0\",\n    \"@angular/http\": \"^4.0.0\",\n    \"@angular/platform-browser\": \"^4.0.0\",\n    \"@angular/platform-browser-dynamic\": \"^4.0.0\",\n    \"@angular/router\": \"^4.0.0\",\n    \"core-js\": \"^2.4.1\",\n    \"rxjs\": \"^5.1.0\",\n    \"vss-web-extension-sdk\": \"^2.117.0\",\n    \"zone.js\": \"^0.8.4\"   },</p></li>\n<li><p>Added the following typings.json file:</p>\n\n<pre><code>{\n  \"globalDependencies\": {\n  \"jquery\": \"registry:dt/jquery#1.10.0+20160929162922\",\n  \"knockout\": \"registry:dt/knockout#0.0.0+20160914182733\",\n  \"q\": \"registry:dt/q#0.0.0+20161004185634\",\n  \"require\": \"registry:dt/require#2.1.20+20160919185614\",\n  \"tfs\": \"npm:vss-web-extension-sdk/typings/tfs.d.ts\",\n  \"vss\": \"npm:vss-web-extension-sdk/typings/vss.d.ts\"\n  }\n}\n</code></pre></li>\n<li><p>Imported \"VSS/Context\"</p>\n\n<p>import * as VSS_Context from 'VSS/Context';</p></li>\n</ol>\n\n<p>At this point the app builds with no errors, but when I try to consume the imported module, I get a build error: <strong><em>Module not found: Error: Can't resolve 'VSS/Context'</em></strong></p>\n\n<p>This is how I consume the imported module:</p>\n\n<pre><code>export class AppComponent {\n\ntitle = 'app';\n\n    constructor()\n    {\n        var ctx = VSS_Context.getDefaultWebContext();\n    }\n}\n</code></pre>\n\n<p>The entire app can be found at <a href=\"https://github.com/shaycy/tfs-ng-app\" rel=\"nofollow noreferrer\">https://github.com/shaycy/tfs-ng-app</a></p>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 1, "creation_date": 1501057876, "post_id": 45320023, "comment_id": 77604846, "body": "In your screenshot your current directory probably has the old version on <code>tsc</code>. Try running <code>tsc</code> somewhere else. If not remove the directory in the screenshot from PATH env variable."}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 1, "creation_date": 1501057925, "post_id": 45320023, "comment_id": 77604872, "body": "As for your actual issue, have you installed the typings (<code>@types&#47;jquery-backstretch</code>)? What does your <code>tsconfig.json</code> look like?"}, {"owner": {"reputation": 809, "user_id": 1016115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7c577cd84d111bc3a00ba82f14a6ae11?s=128&d=identicon&r=PG", "display_name": "AlexRebula", "link": "https://stackoverflow.com/users/1016115/alexrebula"}, "reply_to_user": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1501067426, "post_id": 45320023, "comment_id": 77611963, "body": "Thank you Saravana, I&#39;ll try as soon as I come home. And yes, I did install the typings for both jQuery and backstretch. I&#39;ll update my question as soon with more screenshots showing other settings."}, {"owner": {"reputation": 809, "user_id": 1016115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7c577cd84d111bc3a00ba82f14a6ae11?s=128&d=identicon&r=PG", "display_name": "AlexRebula", "link": "https://stackoverflow.com/users/1016115/alexrebula"}, "reply_to_user": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1501075467, "post_id": 45320023, "comment_id": 77618187, "body": "I updated and added the screenshot I promised. I am now investigating if perhaps I need to install correct versions of backstretch plugin and its type definition."}], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 1016115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7c577cd84d111bc3a00ba82f14a6ae11?s=128&d=identicon&r=PG", "display_name": "AlexRebula", "link": "https://stackoverflow.com/users/1016115/alexrebula"}, "edited": false, "score": 0, "creation_date": 1501067492, "post_id": 45320376, "comment_id": 77612027, "body": "Thank you Rahul. I&#39;ll try this asap and let you know."}, {"owner": {"reputation": 809, "user_id": 1016115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7c577cd84d111bc3a00ba82f14a6ae11?s=128&d=identicon&r=PG", "display_name": "AlexRebula", "link": "https://stackoverflow.com/users/1016115/alexrebula"}, "edited": false, "score": 0, "creation_date": 1501076659, "post_id": 45320376, "comment_id": 77619162, "body": "Repairing node.js worked for me. Only then the commands you suggested worked. And now VS Code&#39;s status bar and the console both show the same typescript version. However this does not solve my original issue yet. I suspect I the issue is that backstretch jquery plugin and its type definition versions do not match. But this is a wild guess, so am investigating this now. See added screenshots above."}], "tags": [], "owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1501054556, "creation_date": 1501054556, "answer_id": 45320376, "question_id": 45320023, "link": "https://stackoverflow.com/questions/45320023/typescript-angular-cli-npm-vs-code-property-property-does-not-exist-on-typ/45320376#45320376", "title": "Typescript, Angular CLI, NPM, VS Code: Property &lt;property&gt; does not exist on type &#39;jQueryStatic&lt;HTMLElement&gt;&#39;", "body": "<p><strong>Update NPM</strong></p>\n\n<pre><code>npm install npm@latest -g\n</code></pre>\n\n<p><strong>Update typescript</strong></p>\n\n<pre><code>npm -g upgrade typescript\n</code></pre>\n\n<p>or</p>\n\n<pre><code>npm install typescript@latest -g\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 809, "user_id": 1016115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7c577cd84d111bc3a00ba82f14a6ae11?s=128&d=identicon&r=PG", "display_name": "AlexRebula", "link": "https://stackoverflow.com/users/1016115/alexrebula"}, "is_accepted": true, "score": 0, "last_activity_date": 1501423137, "last_edit_date": 1501423137, "creation_date": 1501422519, "answer_id": 45400490, "question_id": 45320023, "link": "https://stackoverflow.com/questions/45320023/typescript-angular-cli-npm-vs-code-property-property-does-not-exist-on-typ/45400490#45400490", "title": "Typescript, Angular CLI, NPM, VS Code: Property &lt;property&gt; does not exist on type &#39;jQueryStatic&lt;HTMLElement&gt;&#39;", "body": "<p>I finally found the solution. Follow the steps below.</p>\n\n<p><strong>1. Make sure you have the last version of Node JS installed on the system</strong></p>\n\n<ul>\n<li><a href=\"https://nodejs.org/en/\" rel=\"nofollow noreferrer\">Download the last version of Node JS</a> and run the installer.</li>\n<li>Choose \"Repair\" in the installer if needed</li>\n</ul>\n\n<p><strong>2. In the console run \"npm install typescript@latest -g\"</strong></p>\n\n<p><strong>3. In the console run \"tsc -v\" to display the TypeScript version</strong></p>\n\n<ul>\n<li>check that this version is indeed the latest and that it matches the one in the VSCode status bar:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/jYyt7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jYyt7.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>4. Create a folder in your angular app called \"typings\" and in that folder create a file called \"&lt; plugin name >.d.ts\" (\"backstretch.d.ts\" in our case).</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/73aXw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/73aXw.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>5. Go to the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/jquery-backstretch/index.d.ts\" rel=\"nofollow noreferrer\">typings site (in this case \"Backstretch\")</a>, copy the content of the .d.ts file and paste it into the file created in above point and save the file.</strong></p>\n\n<p><strong>6. Run \"ng serve\" in the console and it should build properly</strong></p>\n\n<p>DONE!</p>\n\n<hr>\n\n<h2>Additional notes about the solution above</h2>\n\n<ul>\n<li>I am still not sure why the installed typing under node_modules/@types/jquery-backstretch is not recognized and when running ng serve it does not compile</li>\n<li>if the typing file is placed under the app however, as described in above point #5, the typing is recognized and everything works as expected</li>\n<li>npm should be installed under \"C:\\Users\\ &lt; username > \\AppData\\Roaming\\npm\" where \"AppData\" might be a hidden folder (see <a href=\"https://support.microsoft.com/en-ie/help/14201/windows-show-hidden-files\" rel=\"nofollow noreferrer\">here</a> how to show hidden folders)</li>\n<li>typescript should be installed under \"\"C:\\Users\\ &lt; username > \\AppData\\Roaming\\npm\\node_modules\\typescript\"\"</li>\n</ul>\n"}], "owner": {"reputation": 809, "user_id": 1016115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7c577cd84d111bc3a00ba82f14a6ae11?s=128&d=identicon&r=PG", "display_name": "AlexRebula", "link": "https://stackoverflow.com/users/1016115/alexrebula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 941, "favorite_count": 0, "accepted_answer_id": 45400490, "answer_count": 2, "score": 1, "last_activity_date": 1501423137, "creation_date": 1501053508, "last_edit_date": 1501075384, "question_id": 45320023, "link": "https://stackoverflow.com/questions/45320023/typescript-angular-cli-npm-vs-code-property-property-does-not-exist-on-typ", "title": "Typescript, Angular CLI, NPM, VS Code: Property &lt;property&gt; does not exist on type &#39;jQueryStatic&lt;HTMLElement&gt;&#39;", "body": "<h2>Scenario</h2>\n\n<p>I am using <strong>Angular</strong>, <strong>Angular CLI</strong>, <strong>NPM</strong> and <strong>Typescript</strong> in my single page app.</p>\n\n<p>In one of my components, I have the need to use <strong>jQuery</strong> to initialize a <strong>jQuery</strong> plugin. In my case, the plugin is <a href=\"http://www.jquery-backstretch.com/\" rel=\"nofollow noreferrer\">backstretch</a>, but this is not so relevant as the problem described below will be the same for any jQuery plugin.</p>\n\n<p>And yes, I know what some of you will say, Angular and jQuery together - not the best idea. But the fact is reusable jQuery plugins are still very useful in an Angular app.</p>\n\n<h2>Problem</h2>\n\n<p>Despite the fact that when writing code in the VS Code IDE, the IntelliSense drop-down shows the properties of both jQuery and backstretch properly and there seems to be no error whatsoever, the problem does appear when running \"ng serve\", thus when TypeScript compiles into JavaScript. </p>\n\n<p>The error I get in the console is:</p>\n\n<blockquote>\n  <p>ERROR in\n  C:/wamp/www/PaperbackComingSoon/Angular/my-app/src/app/app.component.ts\n  (20,7): Property 'backstretch' does not exist on type\n  'JQueryStatic'.</p>\n</blockquote>\n\n<p>In the screenshot below you can see this error, but also the jsconfig.json file and the installed type definitions for both jQuery and Backstretch.</p>\n\n<p><a href=\"https://i.stack.imgur.com/IBBmS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IBBmS.png\" alt=\"enter image description here\"></a></p>\n\n<p>While the compiler seems to find jQuery, it has issues with finding backstretch for some strange reason. Below you can see the actual type definition for backstretch.</p>\n\n<p><a href=\"https://i.stack.imgur.com/QkxZA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QkxZA.png\" alt=\"enter image description here\"></a></p>\n\n<h2>Questions</h2>\n\n<p>What am I missing? Does anyone have any idea what could be wrong here? Is it possible that my type definition file for the Backstretch plugin is not the right version for the actual jQuery Backstretch plugin?</p>\n\n<p>Since I am of course using TypeScript, I want all the jQuery plugins that have typing files available for my types to be strongly typed. I see no reason why not to use this feature if the typings for a certain jQuery plugin are indeed available to me. I know I could easily fix my compiling problem by defining the typing on my own and making all the jQuery plugins of type \"any\", but this is not what I want and it does not seem right. I want to leverage any typing files at my disposal. I don't see any reason why not, just because the compiler does not seem to find the defined property. </p>\n\n<hr>\n\n<p><strong>Possible reason</strong></p>\n\n<p>My best bet is that this has something to do with the difference in TS versions installed globally on my system versus the typescript in VS Code IDE, because when checking the TS version in VSCode in the status bar at the right bottom of the IDE says <strong>2.4.2.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/wyw7x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wyw7x.png\" alt=\"enter image description here\"></a></p>\n\n<p>But if I run \"tsc -v\" in the console, it gives me <strong>1.0.3.0</strong> (mind that I've been using TS before, with Visual Studio). But even after I run \"npm install -g typescript@2.4.2, this does not change anything.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TFUuG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TFUuG.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any idea, anyone?</p>\n"}, {"tags": ["angularjs", "typescript", "ionic2", "csrf"], "answers": [{"comments": [{"owner": {"reputation": 279, "user_id": 8270560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8cad5f370d1c2de14c2ec285e9ea67f3?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet emre CETIN", "link": "https://stackoverflow.com/users/8270560/ahmet-emre-cetin"}, "edited": false, "score": 0, "creation_date": 1501054027, "post_id": 45319989, "comment_id": 77602228, "body": "but my project dont give me error on browser but I try to on android device give me error."}, {"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "reply_to_user": {"reputation": 279, "user_id": 8270560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8cad5f370d1c2de14c2ec285e9ea67f3?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet emre CETIN", "link": "https://stackoverflow.com/users/8270560/ahmet-emre-cetin"}, "edited": false, "score": 0, "creation_date": 1501076425, "post_id": 45319989, "comment_id": 77618956, "body": "most likely your browser has some cookie that is automatically sent with the request and contains those tokens. The thing is anyway on your backend - Ionic cannot be the reason here"}], "tags": [], "owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "is_accepted": false, "score": 1, "last_activity_date": 1501053401, "creation_date": 1501053401, "answer_id": 45319989, "question_id": 45319682, "link": "https://stackoverflow.com/questions/45319682/ionic-2-csrf-failed/45319989#45319989", "title": "ionic 2 CSRF failed", "body": "<p>This has nothing to do with Ionic. Looks like your server / backend / whatsoever requires some CSRF tokens in order to respond to your request and you do not attach them. You should contact your backend team in order to add the missing tokens to your request</p>\n"}], "owner": {"reputation": 279, "user_id": 8270560, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8cad5f370d1c2de14c2ec285e9ea67f3?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet emre CETIN", "link": "https://stackoverflow.com/users/8270560/ahmet-emre-cetin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1501138861, "creation_date": 1501052433, "last_edit_date": 1501138861, "question_id": 45319682, "link": "https://stackoverflow.com/questions/45319682/ionic-2-csrf-failed", "title": "ionic 2 CSRF failed", "body": "<p>i taked CSRF failed error;</p>\n\n<p>Failed to load resource: the server responded with a status of 403 (Forbidden)</p>\n\n<p>Response\n_body: \"{\"detail\":\"CSRF Failed: Referer checking failed - no Referer.\"}\"\nheaders: Headers\nok: false\nstatus: 403\nstatusText: \"Forbidden\"\ntype: 2\nurl: \"<a href=\"https://deneme.com/api/v1.0/channels/\" rel=\"nofollow noreferrer\">https://deneme.com/api/v1.0/channels/</a>\"</p>\n\n<p>my codes;</p>\n\n<pre><code>uyegiris()\n{\n  var veri,kullaniciveri;\n  this.deneme=2;\n   var headers = new Headers();\n    headers.append('Accept', 'application/json');\n    headers.append('Content-Type', 'application/x-www-form-urlencoded' );\n    //headers.append('Authorization' , 'Basic '+ btoa(tok));\n    let options = new RequestOptions({ headers: headers });\n\n    let postParams = {\n      username: this.user['usernameil'],\n      password:this.user['password'],\n    }\n\n      this.http.post(\"https://deneme.com/api/v1.0/users/login/\", postParams, options).timeout(2000)\n      .subscribe(data =&gt; {\n        veri = data['_body'];\n        veri= veri.slice(1, -1);\n        veri = veri.replace(/\\\\/g, \"\");\n        veri = JSON.parse(veri);\n        console.log(veri);\n        if(veri.msg_err)\n          {\n         let alert = this.alertCtrl.create({\n         title: 'Giri\u015f Hatas\u0131',\n         subTitle: veri.msg_err,\n         buttons: ['Tamam']\n        });\n        alert.present();\n        }\n        else\n           { \n            this.kanallistele();\n           }\n       }, error =&gt; {\n        console.log(error);\n        this.deneme=error;\n      });\n}\n\nkanallistele()\n{\n var veri;\n    this.kanallardiv=true;\n    this.uyegirisdiv=false;\n    this.kanallistelebtn = false;\n    this.kanallistelebtn2 = false;\n    var headers = new Headers();\n    headers.append('Accept', 'application/json');\n    headers.append('Content-Type', 'application/json' );\n    //headers.append('Authorization' , 'Basic '+ btoa(tok));\n    let options = new RequestOptions({ headers: headers });\n\n    let postParams = {\n    token: \"381f13d7056-ce5fe474919\",\n    user_id: \"71\",\n    }\n    var veris=\"channel_name_\";\n    this.http2.post(\"https://deneme.com/api/v1.0/channels/\", postParams, options)\n      .subscribe(data =&gt; {\n        veri = data['_body'];\n        console.log(veri);       \n        veri= veri.slice(1, -1);\n        veri = veri.replace(/\\\\/g, \"\");\n        veri = JSON.parse(veri);\n        for(var i = 0 ;;i++)\n          {\n              if(!veri.channel_list['channel_name_' + (i)])\n                    break;   \n\n              this.veriler.push({channelname: veri.channel_list['channel_name_' + (i)],channelid: veri.channel_list['channel_id_' + (i)]});              \n          }\n       }, error =&gt; {\n        console.log(error);\n        this.deneme=error;// Error getting the data\n      });  \n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1501060806, "post_id": 45319596, "comment_id": 77607073, "body": "Can you add the code for <code>TestService</code>?"}, {"owner": {"reputation": 1003, "user_id": 6826439, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/596407fa9b1e396ceb07369087d3e868?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/6826439/nicholas"}, "reply_to_user": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "edited": false, "score": 0, "creation_date": 1501063145, "post_id": 45319596, "comment_id": 77608886, "body": "I tried to make this <a href=\"https://plnkr.co/edit/kzfB70QwhaMMLWkbuRiG?p=preview\" rel=\"nofollow noreferrer\">plunkr</a> to demonstrate the problem. I used jsonplaceholder url that was just returning <code>{&quot;id&quot;: 101}</code>. The idea is that the user inputs something into form. That input is passed to the body of Http Post request and sent. I have no idea how to display response in md-table or do the request with user input in <code>ExampleDatabase</code>? Thanks again"}], "answers": [{"comments": [{"owner": {"reputation": 1003, "user_id": 6826439, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/596407fa9b1e396ceb07369087d3e868?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/6826439/nicholas"}, "edited": false, "score": 0, "creation_date": 1501053307, "post_id": 45319710, "comment_id": 77601715, "body": "Ok thanks for that. It will be useful for me in the future. The issue i&#39;m having is not with the call but how to display response in md-table whilst using FormGroup to create request body"}], "tags": [], "owner": {"reputation": 3543, "user_id": 1010911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/465c08c1433b9836d8880bafc7463161?s=128&d=identicon&r=PG", "display_name": "Bjorn &#39;Bjeaurn&#39; S", "link": "https://stackoverflow.com/users/1010911/bjorn-bjeaurn-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1501060613, "last_edit_date": 1501060613, "creation_date": 1501052517, "answer_id": 45319710, "question_id": 45319596, "link": "https://stackoverflow.com/questions/45319596/how-to-use-http-post-response-data-for-md-table-while-getting-request-body-from/45319710#45319710", "title": "How to use Http POST response data for md-table while getting request body from FormGroup?", "body": "<p>A quick suggestion I'd like to do, is that you use your <code>service</code> like a true service, and implement a <code>mock</code> version of it to supply your application with example data for both testing and implementation purposes.</p>\n\n<pre><code>interface IExampleService {\n    get(id: number): Observable&lt;ExampleResult&gt;\n}\n\n@Injectable() ExampleService implements IExampleService {\n    get(id: number): Observable&lt;ExampleResult&gt; {\n       return Observable.of( {} ) // empty object\n    }\n}\n\n@Injectable() MockExampleService implements IExampleService {\n    get(id: number): Observable&lt;ExampleResult&gt; {\n       return blablabla // Return an observable with your expected test data.\n    }\n}\n</code></pre>\n\n<p>You can then switch this in your module <code>providers</code> section to load the mock instead of the real service.</p>\n"}], "owner": {"reputation": 1003, "user_id": 6826439, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/596407fa9b1e396ceb07369087d3e868?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/6826439/nicholas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 404, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501068070, "creation_date": 1501052146, "last_edit_date": 1501068070, "question_id": 45319596, "link": "https://stackoverflow.com/questions/45319596/how-to-use-http-post-response-data-for-md-table-while-getting-request-body-from", "title": "How to use Http POST response data for md-table while getting request body from FormGroup?", "body": "<p>I have followed the plunker for <a href=\"https://plnkr.co/edit/mjQbufh7cUynD6qhF5Ap?p=preview\" rel=\"nofollow noreferrer\">retrieving data through http</a>. I want to use FormControl to use input field in <code>POST</code> request body and display response in <code>md-table</code>.</p>\n\n<p>The issue for me is ExampleDatabase and ExampleDatabaseSource are seperate classes. I know how to do regular http <code>POST</code> requests in the component using a seperate service but I don't know how to pass the POST body to ExampleDatabase to  do Http call or to pass the completed service response to ExampleDatabase so I can display in table?</p>\n\n<p>I created an example component of what I mean:</p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {Http, Response} from '@angular/http';\nimport { FormControl, FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport {DataSource} from '@angular/cdk';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport {Observable} from 'rxjs/Observable';\nimport 'rxjs/add/operator/startWith';\nimport 'rxjs/add/observable/merge';\nimport 'rxjs/add/operator/map';\n\nimport {TestService} from './service'\n\n@Component({\n  selector: 'md-table-question',\n  templateUrl: 'md-table-question.html',\n})\nexport class MdTableQuestion {\n\n  displayedColumns = ['id'];\n  exampleDatabase: ExampleDatabase | null;\n  dataSource: ExampleDataSource | null;\n  form: FormGroup;\n\n  constructor(private _testService: TestService, private _fb: FormBuilder) {\n    this.exampleDatabase = new ExampleDatabase();\n    this.dataSource = new ExampleDataSource(this.exampleDatabase);\n  }\n  ngOnInit() {\n        this.form = this._fb.group({\n            name:['', Validators.compose([\n                Validators.required\n                ])],\n                ]},      \n      );\n\n// Here is the submit form that sends POST request. It comes from an ngSubmit event:\n  submitForm(){\n    let body= {name:this.form.get('name').value}\n    this._testService.testRequest(body)\n          .subscribe(res =&gt; {\n            console.log(res);\n          })\n  }\n}\nexport interface test {\n   id: number;\n}\n\nexport class ExampleDatabase {\n  dataChange: BehaviorSubject&lt;test[]&gt; = new BehaviorSubject&lt;test[]&gt;([]);\n  get data(): test[] {\n// Not sure how to get data to here \n    // let data = \n    // return data;\n  }\n  constructor() {\n    this.dataChange.next(this.data);\n  }\n};\n\nexport class ExampleDataSource extends DataSource&lt;any&gt; {\n  constructor(private _exampleDatabase: ExampleDatabase) {\n    super();\n  }\n  connect(): Observable&lt;test[]&gt; {\n    return this._exampleDatabase.dataChange;\n  }\n  disconnect() {}\n}\n}\n</code></pre>\n\n<p>Any help at all on how to do this would be great</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Here is a <a href=\"https://plnkr.co/edit/kzfB70QwhaMMLWkbuRiG?p=preview\" rel=\"nofollow noreferrer\">plnkr</a> of the problem</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1486, "user_id": 976034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8eee662a2fd91442b0bd097f3dd46b9?s=128&d=identicon&r=PG", "display_name": "Rosh", "link": "https://stackoverflow.com/users/976034/rosh"}, "edited": false, "score": 0, "creation_date": 1501052728, "post_id": 45319516, "comment_id": 77601335, "body": "Looks like it works. Tried but its not working  ...[(ngModel)]=&quot;visitorName&quot; [ngClass]=&quot;{&#39;validate&#39;:vName.errors &amp;&amp; (vName.dirty || vName.touched)}&quot;  required=&quot;{{reqVal}}&quot; ng-required=&quot;reqVal&quot;&gt;.. syntax any mistake ?"}, {"owner": {"reputation": 6417, "user_id": 8046353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b21195ca25385fecb0e4f148563cc97?s=128&d=identicon&r=PG&f=1", "display_name": "Vivz", "link": "https://stackoverflow.com/users/8046353/vivz"}, "reply_to_user": {"reputation": 1486, "user_id": 976034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8eee662a2fd91442b0bd097f3dd46b9?s=128&d=identicon&r=PG", "display_name": "Rosh", "link": "https://stackoverflow.com/users/976034/rosh"}, "edited": false, "score": 0, "creation_date": 1501052815, "post_id": 45319516, "comment_id": 77601385, "body": "Are you getting any errors in console? Maybe try setting the value of required inside function call"}, {"owner": {"reputation": 1486, "user_id": 976034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8eee662a2fd91442b0bd097f3dd46b9?s=128&d=identicon&r=PG", "display_name": "Rosh", "link": "https://stackoverflow.com/users/976034/rosh"}, "edited": false, "score": 0, "creation_date": 1501053173, "post_id": 45319516, "comment_id": 77601637, "body": "No console errors. Tried adding inside method. Tried this also required=&quot;{{reqVal}}&quot; &amp; required=&quot;reqVal&quot;. Angular2 Plunker m not able to add."}, {"owner": {"reputation": 6417, "user_id": 8046353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b21195ca25385fecb0e4f148563cc97?s=128&d=identicon&r=PG&f=1", "display_name": "Vivz", "link": "https://stackoverflow.com/users/8046353/vivz"}, "reply_to_user": {"reputation": 1486, "user_id": 976034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8eee662a2fd91442b0bd097f3dd46b9?s=128&d=identicon&r=PG", "display_name": "Rosh", "link": "https://stackoverflow.com/users/976034/rosh"}, "edited": false, "score": 0, "creation_date": 1501053283, "post_id": 45319516, "comment_id": 77601700, "body": "Are you putting this inside a form? Maybe try checking <a href=\"https://angular.io/guide/form-validation\" rel=\"nofollow noreferrer\">angular.io/guide/form-validation</a>"}, {"owner": {"reputation": 1486, "user_id": 976034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8eee662a2fd91442b0bd097f3dd46b9?s=128&d=identicon&r=PG", "display_name": "Rosh", "link": "https://stackoverflow.com/users/976034/rosh"}, "edited": false, "score": 0, "creation_date": 1501053464, "post_id": 45319516, "comment_id": 77601833, "body": "This component doesn&#39;t have any form, but this adding into another parent form like this. @ViewChild(Person) childPersons:Person;"}, {"owner": {"reputation": 6417, "user_id": 8046353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b21195ca25385fecb0e4f148563cc97?s=128&d=identicon&r=PG&f=1", "display_name": "Vivz", "link": "https://stackoverflow.com/users/8046353/vivz"}, "reply_to_user": {"reputation": 1486, "user_id": 976034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8eee662a2fd91442b0bd097f3dd46b9?s=128&d=identicon&r=PG", "display_name": "Rosh", "link": "https://stackoverflow.com/users/976034/rosh"}, "edited": false, "score": 0, "creation_date": 1501053622, "post_id": 45319516, "comment_id": 77601932, "body": "Ok I am not that familiar with angular 2 form validations. Only thing is to debug the code and see if the boolean values are setting or not. Try printing the values individually in your view and see if it is changing on input and events {{vName.errors}} {{(vName.dirty || vName.touched)}} {{reqVal}}"}, {"owner": {"reputation": 1486, "user_id": 976034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8eee662a2fd91442b0bd097f3dd46b9?s=128&d=identicon&r=PG", "display_name": "Rosh", "link": "https://stackoverflow.com/users/976034/rosh"}, "edited": false, "score": 0, "creation_date": 1501053756, "post_id": 45319516, "comment_id": 77602037, "body": "Ok will try this. Thank you"}, {"owner": {"reputation": 6417, "user_id": 8046353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b21195ca25385fecb0e4f148563cc97?s=128&d=identicon&r=PG&f=1", "display_name": "Vivz", "link": "https://stackoverflow.com/users/8046353/vivz"}, "reply_to_user": {"reputation": 1486, "user_id": 976034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8eee662a2fd91442b0bd097f3dd46b9?s=128&d=identicon&r=PG", "display_name": "Rosh", "link": "https://stackoverflow.com/users/976034/rosh"}, "edited": false, "score": 1, "creation_date": 1501054003, "post_id": 45319516, "comment_id": 77602214, "body": "@Rosh Remove ng-required from the answer as it is related to angular 1.x and add corresponding thing for angular 2/4. I think it is [required] for angular 4"}], "tags": [], "owner": {"reputation": 6417, "user_id": 8046353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b21195ca25385fecb0e4f148563cc97?s=128&d=identicon&r=PG&f=1", "display_name": "Vivz", "link": "https://stackoverflow.com/users/8046353/vivz"}, "is_accepted": true, "score": 1, "last_activity_date": 1501060885, "last_edit_date": 1501060885, "creation_date": 1501051869, "answer_id": 45319516, "question_id": 45319378, "link": "https://stackoverflow.com/questions/45319378/validate-an-input-field-in-html-having-2-buttons-validate-only-for-one-button-c/45319516#45319516", "title": "Validate an input field in HTML having 2 buttons. Validate only for one button click", "body": "<p>You can set the value of required on button click</p>\n\n<pre><code>&lt;div class=\"visitor-entry form-group\" &gt;\n  &lt;!-- [ngClass]=\"{'validate':vName.errors &amp;&amp; (vName.dirty || vName.touched)}\"--&gt;\n  &lt;div class=\"ui-input-group\"  &gt;\n    &lt;input #vName=\"ngModel\" type=\"text\"  class=\"form-control\" placeholder=\"Name*\" name=\"visitorName\" [(ngModel)]=\"visitorName\" [ngClass]=\"{'validate':vName.errors &amp;&amp; (vName.dirty || vName.touched)}\" [required]=\"{{reqVal}}\"&gt;\n    &lt;span class=\"input-bar\"&gt;&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"ui-input-group\"&gt;\n    &lt;input type=\"text\" class=\"form-control\" placeholder=\"Mobile\" name=\"visitorMob\" [(ngModel)]=\"visitorMob\"&gt;\n    &lt;span class=\"input-bar\"&gt;&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"add-btn-cont\"&gt;\n    &lt;button  [disabled]=\"vName.errors\" class=\"icon-btn\" id=\"addVisitor\" title=\"Add\" (click)=\"addVisitor();reqVal=false\"&gt;&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"block search-add-list active\"&gt;\n    &lt;h6&gt;Person Affected\n      &lt;button class=\"icon-btn pull-right addNewBtn\" title=\"Add New\" data-toggle=\"modal\" id=\"personAffectedBtn\" (click)=\"addNewPerson(personAffectedCode);reqVal=true\"&gt;&lt;/button&gt;\n    &lt;/h6&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 1486, "user_id": 976034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8eee662a2fd91442b0bd097f3dd46b9?s=128&d=identicon&r=PG", "display_name": "Rosh", "link": "https://stackoverflow.com/users/976034/rosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 45319516, "answer_count": 1, "score": 1, "last_activity_date": 1501061035, "creation_date": 1501051511, "last_edit_date": 1501061035, "question_id": 45319378, "link": "https://stackoverflow.com/questions/45319378/validate-an-input-field-in-html-having-2-buttons-validate-only-for-one-button-c", "title": "Validate an input field in HTML having 2 buttons. Validate only for one button click", "body": "<p>This is the HTML file. There is no  used in this. There are two buttons in this HTML. Using angularJS2( typescript )</p>\n\n<pre><code>&lt;div class=\"visitor-entry form-group\"&gt;\n    &lt;!-- [ngClass]=\"{'validate':vName.errors &amp;&amp; (vName.dirty || vName.touched)}\"--&gt;\n    &lt;div class=\"ui-input-group\"&gt;\n        &lt;input #vName=\"ngModel\" type=\"text\" class=\"form-control\" placeholder=\"Name*\" name=\"visitorName\" [(ngModel)]=\"visitorName\"&gt;\n        &lt;span class=\"input-bar\"&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=\"ui-input-group\"&gt;\n        &lt;input type=\"text\" class=\"form-control\" placeholder=\"Mobile\" name=\"visitorMob\" [(ngModel)]=\"visitorMob\"&gt;\n        &lt;span class=\"input-bar\"&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=\"add-btn-cont\"&gt;\n        &lt;button [disabled]=\"vName.errors\" class=\"icon-btn\" id=\"addVisitor\" title=\"Add\" (click)=\"addVisitor();\"&gt;&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"block search-add-list active\"&gt;\n    &lt;h6&gt;Person Affected\n          &lt;button class=\"icon-btn pull-right addNewBtn\" title=\"Add New\" data-toggle=\"modal\" id=\"personAffectedBtn\" (click)=\"addNewPerson(personAffectedCode)&gt;&lt;/button&gt;\n        &lt;/h6&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here I want to validate the <strong>visitorName</strong> field mandatory, and add the class <code>[ngClass]=\"{'validate':vName.errors &amp;&amp; (vName.dirty || vName.touched)}.</code> . THis should be validated only for first button click.</p>\n\n<p>But if I add <strong>required</strong> to <strong>visitorName</strong> field then it is validating for both the button clicks. </p>\n\n<p>How can I solve this issue.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 566, "user_id": 5488855, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/313a4b3364310d7f0a0aa3290d29d4f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sreemat", "link": "https://stackoverflow.com/users/5488855/sreemat"}, "edited": false, "score": 0, "creation_date": 1501048364, "post_id": 45317082, "comment_id": 77598841, "body": "Try this &lt;Card[]&gt;player.boostersToGo.shift()"}, {"owner": {"reputation": 43, "user_id": 7760370, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5bfea00dcff1bf681402bcf31dc4b170?s=128&d=identicon&r=PG&f=1", "display_name": "Camden Clark", "link": "https://stackoverflow.com/users/7760370/camden-clark"}, "reply_to_user": {"reputation": 566, "user_id": 5488855, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/313a4b3364310d7f0a0aa3290d29d4f3?s=128&d=identicon&r=PG&f=1", "display_name": "Sreemat", "link": "https://stackoverflow.com/users/5488855/sreemat"}, "edited": false, "score": 0, "creation_date": 1501048949, "post_id": 45317082, "comment_id": 77599104, "body": "Fixed. I guess I have to cast everything that could be undefined? Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 2, "creation_date": 1501047456, "post_id": 45317548, "comment_id": 77598446, "body": "For the error to be effected the <code>strictNullChecks</code> (or the encompassing <code>strict</code>) compiler option needs to be set to <code>true</code>."}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 2, "creation_date": 1501049941, "post_id": 45317548, "comment_id": 77599616, "body": "Another option is to use TypeScript&#39;s <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#non-null-assertion-operator\" rel=\"nofollow noreferrer\">non-null assertion operator</a>: <code>player.currentBooster = player.boostersToGo.shift()!;</code>"}], "tags": [], "owner": {"reputation": 13099, "user_id": 3723993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff1de7f1a325c8005379a310949f7f23?s=128&d=identicon&r=PG", "display_name": "Danziger", "link": "https://stackoverflow.com/users/3723993/danziger"}, "is_accepted": true, "score": 1, "last_activity_date": 1501043716, "creation_date": 1501043716, "answer_id": 45317548, "question_id": 45317082, "link": "https://stackoverflow.com/questions/45317082/handling-type-undefined-checks-in-interfaces-with-typescript/45317548#45317548", "title": "Handling (type | undefined) checks in interfaces with Typescript", "body": "<p>I could not reproduce it in <a href=\"http://www.typescriptlang.org\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org</a>, so maybe it's related with your <code>TypeScript</code> / <code>IntelliSense</code> version, which will also change your <a href=\"https://basarat.gitbooks.io/typescript/docs/types/lib.d.ts.html#libdts\" rel=\"nofollow noreferrer\"><code>lib.d.ts</code></a> definitions.</p>\n\n<p>It may be worth trying to quickly run a bigger portion of your problematic code in there and see if the problem persists. If it doesn't, maybe upgrading to the latest <code>TypeScript</code> version or updating <code>VSCode</code> will help.</p>\n\n<p>Otherwise, you can always enforce a type with <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/type-assertion.html\" rel=\"nofollow noreferrer\">Type Assertion (casting)</a>:</p>\n\n<pre><code>if (player.boostersToGo.length &gt; 0) {\n    player.currentBooster = player.boostersToGo.shift() as Card[];\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7760370, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5bfea00dcff1bf681402bcf31dc4b170?s=128&d=identicon&r=PG&f=1", "display_name": "Camden Clark", "link": "https://stackoverflow.com/users/7760370/camden-clark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 45317548, "answer_count": 1, "score": 0, "last_activity_date": 1501043716, "creation_date": 1501040796, "question_id": 45317082, "link": "https://stackoverflow.com/questions/45317082/handling-type-undefined-checks-in-interfaces-with-typescript", "title": "Handling (type | undefined) checks in interfaces with Typescript", "body": "<p>Here, I'm trying to check if there's a \"booster\" (Card[]) that is in the boostersToGo variable in a player interface. If there is, I want to shift() it and make that the currentBooster.</p>\n\n<p>However, Typescript is giving me an error:</p>\n\n<pre><code>message: 'Type 'Card[] | undefined' is not assignable to type 'Card[]'.\nType 'undefined' is not assignable to type 'Card[]'.'\n</code></pre>\n\n<p>My editor (VSCode) is underlining player.currentBooster in red here. What's going on? I have had similar issues before using typescript but have hacked around them a little bit. What's the proper way to deal with this?</p>\n\n<pre><code>if (player.boostersToGo.length &gt; 0) {\n    player.currentBooster = player.boostersToGo.shift()\n}\n//player is guaranteed to fit the interface Player because that's what's explicitly passed into the function\n\nexport interface Player {\n    boostersToGo: Card[][]\n    currentBooster: Card[]\n    picks: Card[][]\n    human: boolean\n}\n\nexport interface Card {\n    name: string\n    manaCost: string\n    colors?: string[]\n    cmc: number\n    types: string[]\n    rarity: string\n    imageUrl: string\n    pick?: boolean\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["node.js", "typescript", "dependencies"], "answers": [{"tags": [], "owner": {"reputation": 426, "user_id": 8165960, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-vORzClrC26I/AAAAAAAAAAI/AAAAAAAAFPo/0xkpfij3VHM/photo.jpg?sz=128", "display_name": "Balu", "link": "https://stackoverflow.com/users/8165960/balu"}, "is_accepted": false, "score": 0, "last_activity_date": 1501046028, "creation_date": 1501046028, "answer_id": 45317967, "question_id": 45317068, "link": "https://stackoverflow.com/questions/45317068/how-to-structure-a-typescript-project-like-in-java-with-modules-and-dependencies/45317967#45317967", "title": "How to Structure a TypeScript Project like in Java with Modules and Dependencies?", "body": "<p>@Paolo : I hope your question is about creating different modules and importing them to your root module. If that's the case, you can very well create a new module with @NgModule annotation. if you want to load this module with the root module, just import this in you app.module.ts as</p>\n\n<pre><code>import {customModule} from './custom.module'; \n</code></pre>\n\n<p>If you just want to load it lazily, include this your routing, with loadChildren property. \nBut, if a class that's already declared in another module, whether an app module, @NgModule, or third-party module, do not add this to the declaration. </p>\n\n<p>From a DTO's perspective, I guess, you need to create an incline object  as </p>\n\n<pre><code>var userObject = {\n  email : req.body.email,\n  password: req.body.password\n}.\n</code></pre>\n\n<p>UserObject can then be passed to the next layer. </p>\n"}], "owner": {"reputation": 83, "user_id": 4633335, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WrYkOK0iuS8/AAAAAAAAAAI/AAAAAAAAAM4/hf4RQ3xA_k4/photo.jpg?sz=128", "display_name": "Paolo Soto", "link": "https://stackoverflow.com/users/4633335/paolo-soto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 413, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501046028, "creation_date": 1501040741, "question_id": 45317068, "link": "https://stackoverflow.com/questions/45317068/how-to-structure-a-typescript-project-like-in-java-with-modules-and-dependencies", "title": "How to Structure a TypeScript Project like in Java with Modules and Dependencies?", "body": "<p>i have a problem with TypeScript and how to separate modules and import them.</p>\n\n<p>In Java with Maven or Gradle, i can have three modules or projects where:</p>\n\n<p>project-dao: Data Access Object classes\nproject-dto: Data Transfer Object classes\nproject-services: Services classes</p>\n\n<p>project-dto is transversal to dao and services, so i can include this module like a project dependency easily in both.</p>\n\n<p>In TypeScript i don't know how do make the same. I see examples with imports of compiled code in Javascript with relative paths or using npm publish for later install in another project.</p>\n\n<p>Someone can i help me with some approach for this issue.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 6, "creation_date": 1501036329, "post_id": 45316421, "comment_id": 77595162, "body": "Because <code>getRequestLog</code> is asynchronous, and thus <code>this.requestedBookings.length</code> is running before the bookings are returned."}, {"owner": {"reputation": 227, "user_id": 2565110, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OaGSb.png?s=128&g=1", "display_name": "muiiu", "link": "https://stackoverflow.com/users/2565110/muiiu"}, "reply_to_user": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1501036548, "post_id": 45316421, "comment_id": 77595232, "body": "@Rob is correct. <code>requestedBookings: Object[];</code> is not an instantiation, it&#39;s a type declaration and is ambient. When <code>ngOnInit</code> runs, your variable is not instantiated. <code>requestedBookings: Object[] = [];</code> would allow the console log to execute."}, {"owner": {"reputation": 437, "user_id": 6586621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ivB6Y.jpg?s=128&g=1", "display_name": "Sisky", "link": "https://stackoverflow.com/users/6586621/sisky"}, "edited": false, "score": 0, "creation_date": 1501036560, "post_id": 45316421, "comment_id": 77595238, "body": "So how can I ensure that getRequestLog() has completed before I access the array?"}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1501036622, "post_id": 45316421, "comment_id": 77595251, "body": "@ScottMackenzie Depends what you mean by completed, since you&#39;re subscribing to a stream, it may be <i>constantly</i> changing. You&#39;ll want to return the observable from <code>getRequestLog</code> and then subscribe to it to do your work. Alternatively, you could collapse the observable to a promise, return the promise, and then write something like <code>getRequestLog().then(f =&gt; ...)</code>"}, {"owner": {"reputation": 437, "user_id": 6586621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ivB6Y.jpg?s=128&g=1", "display_name": "Sisky", "link": "https://stackoverflow.com/users/6586621/sisky"}, "edited": false, "score": 0, "creation_date": 1501044603, "post_id": 45316421, "comment_id": 77597336, "body": "Thanks for your help identifying the asynchronous problem. I added an answer showing how I fixed my issue."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1501052045, "post_id": 45316421, "comment_id": 77600884, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43055706/how-do-i-return-the-response-from-an-observable-http-async-call-in-angular2\">How do I return the response from an Observable/http/async call in angular2?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 6586621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ivB6Y.jpg?s=128&g=1", "display_name": "Sisky", "link": "https://stackoverflow.com/users/6586621/sisky"}, "edited": false, "score": 0, "creation_date": 1501044551, "post_id": 45317092, "comment_id": 77597321, "body": "Thanks I ended up doing very similar."}], "tags": [], "owner": {"reputation": 146, "user_id": 2247390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0uq88.jpg?s=128&g=1", "display_name": "pinkfloyd", "link": "https://stackoverflow.com/users/2247390/pinkfloyd"}, "is_accepted": true, "score": 2, "last_activity_date": 1501040864, "creation_date": 1501040864, "answer_id": 45317092, "question_id": 45316421, "link": "https://stackoverflow.com/questions/45316421/array-undefined-in-typescript-but-works-in-html/45317092#45317092", "title": "Array undefined in Typescript but works in HTML", "body": "<p>IMHO the correct way should be something like:</p>\n\n<pre><code>ngOnInit() {  \nthis.getRequestLog();\n}\n\nprivate getRequestLog(): void {\n  this.bookingService.getRoomRequestBooking(1,1,1)\n    .subscribe((data)=&gt;{\n     this.requestedBookings = data;\n     console.log(this.requestedBookings.length);\n    })\n    .results, err =&gt; {\n      console.log(err);\n    }\n}\n</code></pre>\n\n<p>As explained before, the call to getRoomRequestBooking is async, so you should not expect it will finish before calling the console.log. Instead, you should use the requestedBookings.length value in a place where you do know it will exist. Hope it helps!!</p>\n"}, {"comments": [{"owner": {"reputation": 1865, "user_id": 7756343, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7e6964980c438556b9746f19cc09e93c?s=128&d=identicon&r=PG&f=1", "display_name": "k11k2", "link": "https://stackoverflow.com/users/7756343/k11k2"}, "edited": false, "score": 0, "creation_date": 1501044700, "post_id": 45317686, "comment_id": 77597366, "body": "could you check @DavidAlejandroReyesMili&#225;n answer ? which was answered 1hour before."}, {"owner": {"reputation": 437, "user_id": 6586621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ivB6Y.jpg?s=128&g=1", "display_name": "Sisky", "link": "https://stackoverflow.com/users/6586621/sisky"}, "reply_to_user": {"reputation": 1865, "user_id": 7756343, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7e6964980c438556b9746f19cc09e93c?s=128&d=identicon&r=PG&f=1", "display_name": "k11k2", "link": "https://stackoverflow.com/users/7756343/k11k2"}, "edited": false, "score": 0, "creation_date": 1501044915, "post_id": 45317686, "comment_id": 77597438, "body": "@k11k2 Yes not quite the same."}], "tags": [], "owner": {"reputation": 437, "user_id": 6586621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ivB6Y.jpg?s=128&g=1", "display_name": "Sisky", "link": "https://stackoverflow.com/users/6586621/sisky"}, "is_accepted": false, "score": 0, "last_activity_date": 1501044522, "creation_date": 1501044522, "answer_id": 45317686, "question_id": 45316421, "link": "https://stackoverflow.com/questions/45316421/array-undefined-in-typescript-but-works-in-html/45317686#45317686", "title": "Array undefined in Typescript but works in HTML", "body": "<p>I fixed this issue by using this constructor from the <code>subscribe</code> method. the <code>complete</code> parameter event happens after successful completion.</p>\n\n<pre><code>  subscribe(next?: (value: T) =&gt; void, \n            error?: (error: any) =&gt; void, \n            complete?: () =&gt; void): Subscription;\n</code></pre>\n\n<p>Code is as follows:</p>\n\n<pre><code>ngOnInit() {  \n  this.getRequestLog();\n}\n\nprivate getRequestLog() {\n\n  this.bookingService.getRoomRequestBooking(this.date, this.level, this.room)\n    .subscribe(\n      data =&gt; this.requestedBookings = (data as any).results,\n      err =&gt; {\n        console.log(err);\n      },\n      () =&gt; console.log(this.requestedBookings.length));\n\n}\n</code></pre>\n"}], "owner": {"reputation": 437, "user_id": 6586621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ivB6Y.jpg?s=128&g=1", "display_name": "Sisky", "link": "https://stackoverflow.com/users/6586621/sisky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2055, "favorite_count": 0, "accepted_answer_id": 45317092, "answer_count": 2, "score": 0, "last_activity_date": 1501044522, "creation_date": 1501036186, "last_edit_date": 1501042013, "question_id": 45316421, "link": "https://stackoverflow.com/questions/45316421/array-undefined-in-typescript-but-works-in-html", "title": "Array undefined in Typescript but works in HTML", "body": "<p>I have a component that populates an Object array in its <code>ngInit()</code> method from a service which I then use the contents of in my HTML template. </p>\n\n<p>My problem is I can use this data fine in the HTML template but if I try to use this same Object array in my TypeScript file I will get an undefined error.</p>\n\n<p>Below is a simplified code example of my problem:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Component({\r\n  selector: 'booking',\r\n  template: `  \r\n    &lt;div *ngFor=\"let r of requestedBookings\"&gt;\r\n      &lt;label&gt;Requested on {{r.created | date: 'd MMM H:mm'}}&lt;/label&gt;\r\n    &lt;/div&gt;\r\n  `\r\n})\r\n\r\nexport default class BookingComponent {\r\n\r\n    requestedBookings: Object[];\r\n\r\n    constructor(private bookingService: BookingService) {\r\n      \r\n    }\r\n    \r\n    ngOnInit() {\r\n      \r\n      this.getRequestLog();\r\n      \r\n      // Cannot read property 'length' of undefined error\r\n      // console.log(this.requestedBookings.length);\r\n      \r\n    }\r\n    \r\n   \r\n    private getRequestLog(): void {\r\n      \r\n      this.bookingService.getRoomRequestBooking(1,1,1)\r\n        .subscribe(data =&gt; this.requestedBookings = (data as any))\r\n        .results, err =&gt; {\r\n          console.log(err);\r\n        }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Why is it in the above example I can use the requestedBookings array as expected in the HTML template but inside the TypeScript file I receive undefined errors?</p>\n"}, {"tags": ["javascript", "typescript", "webpack", "aurelia"], "comments": [{"owner": {"reputation": 8191, "user_id": 1550696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ff4qt.jpg?s=128&g=1", "display_name": "2pha", "link": "https://stackoverflow.com/users/1550696/2pha"}, "edited": false, "score": 1, "creation_date": 1501216807, "post_id": 45315390, "comment_id": 77690670, "body": "When is window.dataLayer being set? Maybe after you are trying to call it? Can you not just access the window object in your class?"}, {"owner": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "reply_to_user": {"reputation": 8191, "user_id": 1550696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ff4qt.jpg?s=128&g=1", "display_name": "2pha", "link": "https://stackoverflow.com/users/1550696/2pha"}, "edited": false, "score": 0, "creation_date": 1501235540, "post_id": 45315390, "comment_id": 77701134, "body": "@2pha I can access the window object in my class, but trying (&lt;any&gt;window).dataLayer = (&lt;any&gt;window).dataLayer || [];   Does throw a type error: &quot;Error: Can&#39;t resolve &#39;dataLayer&#39;&quot;"}, {"owner": {"reputation": 3715, "user_id": 5700121, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/udSLl.jpg?s=128&g=1", "display_name": "Stanislav Mayorov", "link": "https://stackoverflow.com/users/5700121/stanislav-mayorov"}, "edited": false, "score": 0, "creation_date": 1501238301, "post_id": 45315390, "comment_id": 77703135, "body": "I think the easiest way is to use npm package like this <a href=\"https://www.npmjs.com/package/universal-analytics\" rel=\"nofollow noreferrer\">npmjs.com/package/universal-analytics</a>"}, {"owner": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "reply_to_user": {"reputation": 3715, "user_id": 5700121, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/udSLl.jpg?s=128&g=1", "display_name": "Stanislav Mayorov", "link": "https://stackoverflow.com/users/5700121/stanislav-mayorov"}, "edited": false, "score": 0, "creation_date": 1501243091, "post_id": 45315390, "comment_id": 77706550, "body": "@StanislavMayorov the only problem with that is that it is not for google tag manager, it is for google analytics.  Any idea how we can make it work for tag manager?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1501282490, "post_id": 45315390, "comment_id": 77728209, "body": "You need to create <code>dataLayer</code> <i>before</i> you load the script."}, {"owner": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1501292635, "post_id": 45315390, "comment_id": 77730145, "body": "@AluanHaddad that really shouldn&#39;t be necessary.  By default GTM loads async."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1501294668, "post_id": 45315390, "comment_id": 77730482, "body": "@JasonBiondo exactly and so does your app. Since you haven&#39;t shown any code that manipulators it, it&#39;s difficult to tell"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1501295319, "post_id": 45315390, "comment_id": 77730576, "body": "Please update your question with the script tag that loads your app in addition to the code that uses the variable. Currently there isn&#39;t enough context"}, {"owner": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1501296163, "post_id": 45315390, "comment_id": 77730678, "body": "@AluanHaddad I&#39;ve updated with a sample"}], "answers": [{"comments": [{"owner": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "edited": false, "score": 0, "creation_date": 1501291108, "post_id": 45377551, "comment_id": 77729912, "body": "Unfortunately this does not work. Throws: error TS2307: Cannot find module &#39;dataLayer&#39;."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "edited": false, "score": 1, "creation_date": 1501294812, "post_id": 45377551, "comment_id": 77730498, "body": "@JasonBiondo the GTM script doesn&#39;t register itself as a UMD, CommonJS, AMD, or System.register module, so this approach isn&#39;t going to work."}], "tags": [], "owner": {"reputation": 3715, "user_id": 5700121, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/udSLl.jpg?s=128&g=1", "display_name": "Stanislav Mayorov", "link": "https://stackoverflow.com/users/5700121/stanislav-mayorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1501256668, "creation_date": 1501256668, "answer_id": 45377551, "question_id": 45315390, "link": "https://stackoverflow.com/questions/45315390/how-can-i-access-the-google-analytics-datalayer-variable-in-aurelia/45377551#45377551", "title": "How can I access the Google Analytics dataLayer Variable in Aurelia?", "body": "<p>Try to use <code>externals</code> property in webpack config. </p>\n\n<p>webpack.config.js</p>\n\n<pre><code>externals: {\n  dataLayer: 'dataLayer'\n}\n</code></pre>\n\n<p>yourSource.js</p>\n\n<pre><code>import dataLayer from 'dataLayer';\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>&lt;body aurelia-app=\"main\"&gt;\n&lt;noscript&gt;&lt;iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-okoko\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"&gt;&lt;/iframe&gt;&lt;/noscript&gt;\n&lt;script&gt;\n   (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n   new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n       j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=\n   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n   })(window,document,'script','dataLayer','GTM-ookok');\n&lt;/script&gt; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "edited": false, "score": 1, "creation_date": 1501326920, "post_id": 45384752, "comment_id": 77737803, "body": "Your solution worked great.  I&#39;ve now set it up globally and am able to use it throughout my app by just calling window.dataLayer"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "edited": false, "score": 0, "creation_date": 1501444733, "post_id": 45384752, "comment_id": 77768475, "body": "I&#39;m really glad this worked for you. Would you mind marking it as the accepted answer? I&#39;ll happily add more explanation."}, {"owner": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "edited": false, "score": 0, "creation_date": 1501499875, "post_id": 45384752, "comment_id": 77789342, "body": "How do I do that?  I upvoted and gave you the bounty."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "edited": false, "score": 0, "creation_date": 1501508264, "post_id": 45384752, "comment_id": 77795651, "body": "Click on the check mark below the vote counter. But anyway, no worries, and thank you."}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 3, "last_activity_date": 1505421443, "last_edit_date": 1505421443, "creation_date": 1501296864, "answer_id": 45384752, "question_id": 45315390, "link": "https://stackoverflow.com/questions/45315390/how-can-i-access-the-google-analytics-datalayer-variable-in-aurelia/45384752#45384752", "title": "How can I access the Google Analytics dataLayer Variable in Aurelia?", "body": "<p>Adjust your code as follows. Update your <code>main.ts</code> file so that it looks like</p>\n\n<pre><code>import {Aurelia} from 'aurelia-framework';\n\nexport function configure(aurelia: Aurelia) {\n  // ...\n}\n\nwindow.dataLayer = window.dataLayer || [];\n\ndeclare global {\n  interface Window {\n    // TODO: replace this with a more specific type based on usage\n    dataLayer: any[];\n  }\n}\n</code></pre>\n\n<p><strong>NOTE:</strong> The Aurelia specific code in the snippet above exits only to provide context. This answer is answer is also not specific to Webpack but rather applies to any TypeScript project using modules.</p>\n\n<p>From here on you just access it by referencing <code>window.dataLayer</code>. The initialization code as well as the global declaration could be moved into a separate file and you could wrap it up in a service which acts as a proxy for the global if you wish to.</p>\n"}], "owner": {"reputation": 593, "user_id": 2517532, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/5a00bbf1aedbda02c90e14103c24d602?s=128&d=identicon&r=PG", "display_name": "Jason Biondo", "link": "https://stackoverflow.com/users/2517532/jason-biondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1950, "favorite_count": 0, "accepted_answer_id": 45384752, "answer_count": 2, "score": 3, "last_activity_date": 1505421443, "creation_date": 1501028011, "last_edit_date": 1501296143, "question_id": 45315390, "link": "https://stackoverflow.com/questions/45315390/how-can-i-access-the-google-analytics-datalayer-variable-in-aurelia", "title": "How can I access the Google Analytics dataLayer Variable in Aurelia?", "body": "<p>I'm using the webpack with typescript combo for aurelia and want to know how I can push to the global dataLayer variable provided by google analytics in Aurelia classes? </p>\n\n<p>When I try to log it I get:\nCannot find name 'dataLayer\u2019.</p>\n\n<p>but when I log it in the console of my browser, dataLayer exists</p>\n\n<p>Any idea on how I can expose it?</p>\n\n<pre><code>console.log(window.dataLayer);\n\n@inject(AppState, AuthService, SetupGuide, Endpoint.of('api'), \nDialogService, EventAggregator, Router)\nexport class Smoke {}\n</code></pre>\n\n<p>I know with webpack you can use shimming via:</p>\n\n<pre><code>new webpack.ProvidePlugin({\n    $: \"jquery\",\n    jQuery: \"jquery\",\n    \"window.jQuery\": \"jquery\"\n})\n</code></pre>\n\n<p>Is this possible also with the dataLayer variable?  I need to be able to update the dataLayer variable so I can setup Enhanced Ecommerce tracking.</p>\n\n<p><strong>UPDATE:  I've also tried:</strong></p>\n\n<pre><code>(&lt;any&gt;window).dataLayer = (&lt;any&gt;window).dataLayer || [];\n</code></pre>\n\n<p>Does throw a type error: \"Error: Can't resolve 'dataLayer'\"</p>\n\n<p>I need to be able to get access to the google analytics global variable and am not sure why this doesn\u2019t work or how to expose it for ES6.</p>\n\n<p>I'm using webpack and typescript and have added it to my index.ejs as follows:</p>\n\n<pre><code>&lt;body aurelia-app=\"main\"&gt;\n&lt;noscript&gt;&lt;iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-okoko\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"&gt;&lt;/iframe&gt;&lt;/noscript&gt;\n&lt;script&gt;\n   (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n   new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n       j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=\n   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n   })(window,document,'script','dataLayer','GTM-ookok');\n&lt;/script&gt; \n</code></pre>\n\n<p><strong>UPDATE 2:</strong> </p>\n\n<p>There is no script tag that loads the app. Aurelia binds to body element.  This is my entire index.ejs</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;&lt;%- htmlWebpackPlugin.options.metadata.title %&gt;&lt;/title&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;base href=\"/\"&gt;\n    &lt;link rel=\"apple-touch-icon\" href=\"apple-touch-icon.png?v=2\"&gt;\n    &lt;link rel=\"icon\" href=\"/favicon.png?v=5\" /&gt;\n    &lt;meta name=\"theme-color\" content=\"#34274f\"&gt;\n    &lt;meta name=\"msapplication-navbutton-color\" content=\"#34274f\"&gt;\n    &lt;meta name=\"apple-mobile-web-app-status-bar-style\" content=\"#34274f\"&gt;\n    &lt;link rel=\"manifest\" href=\"/manifest.json\"&gt;  \n    &lt;% if (htmlWebpackPlugin.options.metadata.ENV === 'local') { %&gt;\n    &lt;link rel='stylesheet' href='./src/main.css' type='text/css'&gt;\n     &lt;% } %&gt;\n    &lt;!-- imported CSS are concatenated and added automatically --&gt;\n  &lt;/head&gt;\n  &lt;body aurelia-app=\"main\"&gt;\n    &lt;noscript&gt;&lt;iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-ookok\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"&gt;&lt;/iframe&gt;&lt;/noscript&gt;\n    &lt;script&gt;\n       (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n       new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n       j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=false;j.src=\n       'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n       })(window,document,'script','dataLayer','GTM-ookok');\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Sample code that uses the variable:</p>\n\n<pre><code>import { Router } from 'aurelia-router';\nimport {AppState} from '../../resources/global/appState';\n\n@inject(AppState, Router)\nexport class Sample {\n   attached(){\n     console.log(dataLayer);\n   }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-realtime-database", "angularfire2"], "comments": [{"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501027909, "post_id": 45314859, "comment_id": 77593185, "body": "What have you tried already? Have you searched for NoSql Database guides? I notice you&#39;ve asked <a href=\"https://stackoverflow.com/questions/45260292/angular2-uid-as-primary-key-using-firebase-database\">other questions</a> without much research - let us know what you&#39;ve done already"}, {"owner": {"reputation": 556, "user_id": 7764280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/1301046873314564/picture?type=large", "display_name": "claudiomatiasrg", "link": "https://stackoverflow.com/users/7764280/claudiomatiasrg"}, "reply_to_user": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501029869, "post_id": 45314859, "comment_id": 77593605, "body": "Thanks for your reply @0mpurdy. I did search for that, thats why I know its not good to do nesting. Its best to keep the data flat and thats why I used transactionsPerUser. I don&#39;t know if I&#39;m doing it correctly though.  About the coding part, I tried inserting $key inside postData() but I&#39;m getting undefined.  It&#39;s not my intention to ask without research. It&#39;s just that there aren&#39;t much resources involving Angular and Firebase. Also, AngularFire2 was updated a few weeks ago so most of the resources aren&#39;t updated with the latest version."}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501030031, "post_id": 45314859, "comment_id": 77593633, "body": "You could add what you have mentioned in your comment to the question - it means a lot to people answering to see what you have tried already! You could also look at <a href=\"https://stackoverflow.com/help/how-to-ask\">this guide</a> for some pointers"}, {"owner": {"reputation": 556, "user_id": 7764280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/1301046873314564/picture?type=large", "display_name": "claudiomatiasrg", "link": "https://stackoverflow.com/users/7764280/claudiomatiasrg"}, "reply_to_user": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501120728, "post_id": 45314859, "comment_id": 77642079, "body": "Yes, you are right. Sorry for that. I&#39;m going to open a new thread with more precise info regarding just one of the steps I asked here. Thanks for your time!"}], "owner": {"reputation": 556, "user_id": 7764280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/1301046873314564/picture?type=large", "display_name": "claudiomatiasrg", "link": "https://stackoverflow.com/users/7764280/claudiomatiasrg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501024692, "creation_date": 1501024061, "last_edit_date": 1501024692, "question_id": 45314859, "link": "https://stackoverflow.com/questions/45314859/angularfire2-database-modeling-saving-data-to-multiple-path", "title": "AngularFire2 Database modeling. Saving data to multiple path", "body": "<p>I'm learning to use Firebase Database with Angular. I managed to create an auth service and to save the userinfo in Firebase Database. Im writing an app where users can buy a product and I need to link the transaction with the user.\nThis is the current state of my database:</p>\n\n<pre><code>users {\n    021oxk8X6rQL6gAfC0UhZpB4vZx2 {\n        email: test@test.com\n        firstName: dasdsa\n        lastName: dsadsads\n        }\n    }\n\ntransactions {\n    DS766jdF6rQL6gAfC0Uh43Jhfw {\n        product: thing\n        price: 1000\n        }\n    }\n</code></pre>\n\n<p>This is what I need</p>\n\n<pre><code>transactions {\n    DS766jdF6rQL6gAfC0Uh43Jhfw {\n        product: thing\n        price: 1000\n        buyer: 021oxk8X6rQL6gAfC0UhZpB4vZx2 (User Key)\n        }\n    }\n\ntransactionsPerUser {\n    021oxk8X6rQL6gAfC0UhZpB4vZx2 (User Key) {\n        transaction: DS766jdF6rQL6gAfC0Uh43Jhfw (Transaction Key)\n        }\n    }\n</code></pre>\n\n<p>My code is this:</p>\n\n<p>Database Service:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\n\n@Injectable()\nexport class DbfirebaseService {\n\n  TransData: FirebaseListObservable&lt;any[]&gt;;\n\n  constructor(private db: AngularFireDatabase) { }\n\n  postData(info: TransData) {\n    this.db.list('transactions').push({\n      product: info.product,\n      price: info.price,\n    });\n    console.log(info);\n  }\n\n}\n\ninterface TransData {\n  product: string;\n  price: number;\n}\n</code></pre>\n\n<p>Component.ts</p>\n\n<pre><code>myForm: FormGroup;\nerror = false;\nerrorMessage = '';\n\nconstructor(private fb: FormBuilder, private dbfr: DbfirebaseService) {\n}\n\nonSub() {\n    this.dbfr.postData(this.myForm.value);\n}\n\nngOnInit(): any {\n    this.myForm = this.fb.group({\n        firstname: [''],\n        lastname: [''],\n    });\n}\n</code></pre>\n\n<p>So, I have to questions. First one is how can I update my code to save the data the way I need to. And the second one is if this is the proper way to model my data in a NoSql Database?</p>\n\n<p>Thanks for your help! I really appreciate it!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "raphael", "zone.js"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1501037528, "post_id": 45314808, "comment_id": 77595485, "body": "Zone just outputs uncaught error. Don&#39;t shoot the messenger. You should start with examining the line where the error happens and figuring out how e can be undefined. Currently you&#39;re the only person who can do that."}, {"owner": {"reputation": 141, "user_id": 2013633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/660cf4e659c2338f10fb5a6e16ac4af9?s=128&d=identicon&r=PG", "display_name": "RoestVrijStaal", "link": "https://stackoverflow.com/users/2013633/roestvrijstaal"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1501105282, "post_id": 45314808, "comment_id": 77637795, "body": "@estus When the messenger tells garbage, he deserves no mercy. None. Since I can&#39;t produce a readable minified file because Angular stores them in memory instead of disk, I wonder if angular is the right framework for me."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1501106664, "post_id": 45314808, "comment_id": 77638377, "body": "I see no garbage there. This is regular call stack. I guess this &#39;my browser points me to an empty AppComponent.ngfactory.js&#39; is not Zone fault. I&#39;m not always happy with regular Zone outputs but this is how it works. Even if the app has problems with source maps, the solution is to find 3632:9420 position in vendor.bundle.js manually and check what is <code>e</code> and why it is undefined. You will have exactly same problem with any framework."}, {"owner": {"reputation": 141, "user_id": 2013633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/660cf4e659c2338f10fb5a6e16ac4af9?s=128&d=identicon&r=PG", "display_name": "RoestVrijStaal", "link": "https://stackoverflow.com/users/2013633/roestvrijstaal"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1501107391, "post_id": 45314808, "comment_id": 77638691, "body": "@estus I think my choice of use of the word &quot;garbage&quot; isn&#39;t the good one. I wasn&#39;t complaining about the stack trace. What I meant is that I rather like solution-hinting error messages instead of vague ones."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1501107955, "post_id": 45314808, "comment_id": 77638931, "body": "There would be meaningful message if it was an expected error. Since this was an exception, it cannot be better than that, no matter what the framework is. You just check each position in error stack  to figure out where <code>e is undefined</code> came from, top-down."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1501108024, "post_id": 45314808, "comment_id": 77638950, "body": "The only thing that could be improved here is that it should be possible to click respective positions in the stack to check them. This probably results from source maps being set up incorrectly. If you need to fix this, I would suggest to ask a new question about that with a way to replicate the problem (a repo that can be cloned). If you were using default Angular CLI config, you can also open an issue in angular/cli."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 2013633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/660cf4e659c2338f10fb5a6e16ac4af9?s=128&d=identicon&r=PG", "display_name": "RoestVrijStaal", "link": "https://stackoverflow.com/users/2013633/roestvrijstaal"}, "edited": false, "score": 0, "creation_date": 1501059157, "post_id": 45318302, "comment_id": 77605774, "body": "Wait, setting the &quot;sourceMap&quot; in tsconfig.json to <code>true</code> isn&#39;t enough? What to do more then?  Unfortunately my browser points me to an empty AppComponent.ngfactory.js."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1501050953, "last_edit_date": 1501050953, "creation_date": 1501047696, "answer_id": 45318302, "question_id": 45314808, "link": "https://stackoverflow.com/questions/45314808/angulars-zone-js-hates-raphaeljs/45318302#45318302", "title": "Angular&#39;s Zone.js hates RaphaelJS", "body": "<blockquote>\n  <p><code>\"ERROR\" TypeError: e is undefined Stack trace:</code></p>\n</blockquote>\n\n<p>Cause of error is using a variable without defining e.g.</p>\n\n<pre><code>(function(){\"use strict\";e})()\n</code></pre>\n\n<h1>Fix</h1>\n\n<p>Define <code>e</code></p>\n\n<h1>More</h1>\n\n<p>Your error is pointing to a minified file. This means that your posted code is essentially useless. Setup sourcemaps to get the proper error line and proceed from there. </p>\n"}], "owner": {"reputation": 141, "user_id": 2013633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/660cf4e659c2338f10fb5a6e16ac4af9?s=128&d=identicon&r=PG", "display_name": "RoestVrijStaal", "link": "https://stackoverflow.com/users/2013633/roestvrijstaal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501050953, "creation_date": 1501023651, "question_id": 45314808, "link": "https://stackoverflow.com/questions/45314808/angulars-zone-js-hates-raphaeljs", "title": "Angular&#39;s Zone.js hates RaphaelJS", "body": "<p>I try to use RaphaelJS in Angular but zone.js doesn't want that: </p>\n\n<blockquote>\n  <p>\"ERROR\" TypeError: e is undefined Stack trace:\n  [\"../../../../raphael/raphael.min.js\"]/engine.create@<a href=\"http://localhost:4200/vendor.bundle.js:3632:9420\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:3632:9420</a>\n  e@<a href=\"http://localhost:4200/vendor.bundle.js:3630:896\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:3630:896</a>\n  PaperComponent@<a href=\"http://localhost:4200/main.bundle.js:146:22\" rel=\"nofollow noreferrer\">http://localhost:4200/main.bundle.js:146:22</a>\n  createClass@<a href=\"http://localhost:4200/vendor.bundle.js:54805:26\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:54805:26</a>\n  createDirectiveInstance@<a href=\"http://localhost:4200/vendor.bundle.js:54639:37\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:54639:37</a>\n  createViewNodes@<a href=\"http://localhost:4200/vendor.bundle.js:56075:49\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56075:49</a>\n  callViewAction@<a href=\"http://localhost:4200/vendor.bundle.js:56521:13\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56521:13</a>\n  execComponentViewsAction@<a href=\"http://localhost:4200/vendor.bundle.js:56430:13\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56430:13</a>\n  createViewNodes@<a href=\"http://localhost:4200/vendor.bundle.js:56102:5\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56102:5</a>\n  createRootView@<a href=\"http://localhost:4200/vendor.bundle.js:55970:5\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:55970:5</a>\n  callWithDebugContext@<a href=\"http://localhost:4200/vendor.bundle.js:57353:39\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:57353:39</a>\n  debugCreateRootView@<a href=\"http://localhost:4200/vendor.bundle.js:56670:12\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56670:12</a>\n  [\"../../../core/@angular/core.es5.js\"]/.prototype.create@<a href=\"http://localhost:4200/vendor.bundle.js:53753:37\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:53753:37</a>\n  [\"../../../core/@angular/core.es5.js\"]/http://localhost:4200/vendor.bundle.js:47230:16\n  [\"../../../core/@angular/core.es5.js\"]/http://localhost:4200/vendor.bundle.js:48659:40\n  [\"../../../core/@angular/core.es5.js\"]/moduleDoBootstrap/&lt;@<a href=\"http://localhost:4200/vendor.bundle.js:48442:74\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:48442:74</a>\n  [\"../../../core/@angular/core.es5.js\"]/.prototype.moduleDoBootstrap@<a href=\"http://localhost:4200/vendor.bundle.js:48442:13\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:48442:13</a>\n  [\"../../../core/@angular/core.es5.js\"]/.prototype._bootstrapModuleFactoryWithZone/http://localhost:4200/vendor.bundle.js:48404:21\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10579:17\n  forkInnerZoneWithAngularBehavior/zone._inner&lt;.onInvoke@<a href=\"http://localhost:4200/vendor.bundle.js:47787:24\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:47787:24</a>\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10578:17\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10329:24\n  scheduleResolveOrReject/&lt;@<a href=\"http://localhost:4200/polyfills.bundle.js:11019:52\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.bundle.js:11019:52</a>\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10612:17\n  forkInnerZoneWithAngularBehavior/zone._inner&lt;.onInvokeTask@<a href=\"http://localhost:4200/vendor.bundle.js:47778:24\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:47778:24</a>\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10611:17\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10379:28\n  drainMicroTaskQueue@<a href=\"http://localhost:4200/polyfills.bundle.js:10783:25\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.bundle.js:10783:25</a>\n  AppComponent.ngfactory.js:14:7</p>\n  \n  <p>\"ERROR CONTEXT\" Object { view: Object, nodeIndex: 13, nodeDef: Object,\n  elDef: Object, elView: Object } AppComponent.ngfactory.js:14:7</p>\n  \n  <p>\"Unhandled Promise rejection:\" \"e is undefined\" \"; Zone:\" \"\" \";\n  Task:\" \"Promise.then\" \"; Value:\" TypeError: e is undefined Stack\n  trace:\n  [\"../../../../raphael/raphael.min.js\"]/engine.create@<a href=\"http://localhost:4200/vendor.bundle.js:3632:9420\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:3632:9420</a>\n  e@<a href=\"http://localhost:4200/vendor.bundle.js:3630:896\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:3630:896</a>\n  PaperComponent@<a href=\"http://localhost:4200/main.bundle.js:146:22\" rel=\"nofollow noreferrer\">http://localhost:4200/main.bundle.js:146:22</a>\n  createClass@<a href=\"http://localhost:4200/vendor.bundle.js:54805:26\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:54805:26</a>\n  createDirectiveInstance@<a href=\"http://localhost:4200/vendor.bundle.js:54639:37\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:54639:37</a>\n  createViewNodes@<a href=\"http://localhost:4200/vendor.bundle.js:56075:49\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56075:49</a>\n  callViewAction@<a href=\"http://localhost:4200/vendor.bundle.js:56521:13\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56521:13</a>\n  execComponentViewsAction@<a href=\"http://localhost:4200/vendor.bundle.js:56430:13\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56430:13</a>\n  createViewNodes@<a href=\"http://localhost:4200/vendor.bundle.js:56102:5\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56102:5</a>\n  createRootView@<a href=\"http://localhost:4200/vendor.bundle.js:55970:5\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:55970:5</a>\n  callWithDebugContext@<a href=\"http://localhost:4200/vendor.bundle.js:57353:39\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:57353:39</a>\n  debugCreateRootView@<a href=\"http://localhost:4200/vendor.bundle.js:56670:12\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56670:12</a>\n  [\"../../../core/@angular/core.es5.js\"]/.prototype.create@<a href=\"http://localhost:4200/vendor.bundle.js:53753:37\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:53753:37</a>\n  [\"../../../core/@angular/core.es5.js\"]/http://localhost:4200/vendor.bundle.js:47230:16\n  [\"../../../core/@angular/core.es5.js\"]/http://localhost:4200/vendor.bundle.js:48659:40\n  [\"../../../core/@angular/core.es5.js\"]/moduleDoBootstrap/&lt;@<a href=\"http://localhost:4200/vendor.bundle.js:48442:74\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:48442:74</a>\n  [\"../../../core/@angular/core.es5.js\"]/.prototype.moduleDoBootstrap@<a href=\"http://localhost:4200/vendor.bundle.js:48442:13\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:48442:13</a>\n  [\"../../../core/@angular/core.es5.js\"]/.prototype._bootstrapModuleFactoryWithZone/http://localhost:4200/vendor.bundle.js:48404:21\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10579:17\n  forkInnerZoneWithAngularBehavior/zone._inner&lt;.onInvoke@<a href=\"http://localhost:4200/vendor.bundle.js:47787:24\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:47787:24</a>\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10578:17\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10329:24\n  scheduleResolveOrReject/&lt;@<a href=\"http://localhost:4200/polyfills.bundle.js:11019:52\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.bundle.js:11019:52</a>\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10612:17\n  forkInnerZoneWithAngularBehavior/zone._inner&lt;.onInvokeTask@<a href=\"http://localhost:4200/vendor.bundle.js:47778:24\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:47778:24</a>\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10611:17\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10379:28\n  drainMicroTaskQueue@<a href=\"http://localhost:4200/polyfills.bundle.js:10783:25\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.bundle.js:10783:25</a>\n  \"[\"../../../../raphael/raphael.min.js\"]/engine.create@<a href=\"http://localhost:4200/vendor.bundle.js:3632:9420\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:3632:9420</a>\n  e@<a href=\"http://localhost:4200/vendor.bundle.js:3630:896\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:3630:896</a>\n  PaperComponent@<a href=\"http://localhost:4200/main.bundle.js:146:22\" rel=\"nofollow noreferrer\">http://localhost:4200/main.bundle.js:146:22</a>\n  createClass@<a href=\"http://localhost:4200/vendor.bundle.js:54805:26\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:54805:26</a>\n  createDirectiveInstance@<a href=\"http://localhost:4200/vendor.bundle.js:54639:37\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:54639:37</a>\n  createViewNodes@<a href=\"http://localhost:4200/vendor.bundle.js:56075:49\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56075:49</a>\n  callViewAction@<a href=\"http://localhost:4200/vendor.bundle.js:56521:13\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56521:13</a>\n  execComponentViewsAction@<a href=\"http://localhost:4200/vendor.bundle.js:56430:13\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56430:13</a>\n  createViewNodes@<a href=\"http://localhost:4200/vendor.bundle.js:56102:5\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56102:5</a>\n  createRootView@<a href=\"http://localhost:4200/vendor.bundle.js:55970:5\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:55970:5</a>\n  callWithDebugContext@<a href=\"http://localhost:4200/vendor.bundle.js:57353:39\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:57353:39</a>\n  debugCreateRootView@<a href=\"http://localhost:4200/vendor.bundle.js:56670:12\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:56670:12</a>\n  [\"../../../core/@angular/core.es5.js\"]/.prototype.create@<a href=\"http://localhost:4200/vendor.bundle.js:53753:37\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:53753:37</a>\n  [\"../../../core/@angular/core.es5.js\"]/http://localhost:4200/vendor.bundle.js:47230:16\n  [\"../../../core/@angular/core.es5.js\"]/http://localhost:4200/vendor.bundle.js:48659:40\n  [\"../../../core/@angular/core.es5.js\"]/moduleDoBootstrap/&lt;@<a href=\"http://localhost:4200/vendor.bundle.js:48442:74\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:48442:74</a>\n  [\"../../../core/@angular/core.es5.js\"]/.prototype.moduleDoBootstrap@<a href=\"http://localhost:4200/vendor.bundle.js:48442:13\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:48442:13</a>\n  [\"../../../core/@angular/core.es5.js\"]/.prototype._bootstrapModuleFactoryWithZone/http://localhost:4200/vendor.bundle.js:48404:21\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10579:17\n  forkInnerZoneWithAngularBehavior/zone._inner&lt;.onInvoke@<a href=\"http://localhost:4200/vendor.bundle.js:47787:24\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:47787:24</a>\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10578:17\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10329:24\n  scheduleResolveOrReject/&lt;@<a href=\"http://localhost:4200/polyfills.bundle.js:11019:52\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.bundle.js:11019:52</a>\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10612:17\n  forkInnerZoneWithAngularBehavior/zone._inner&lt;.onInvokeTask@<a href=\"http://localhost:4200/vendor.bundle.js:47778:24\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.bundle.js:47778:24</a>\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10611:17\n  [\"../../../../zone.js/dist/zone.js\"]/http://localhost:4200/polyfills.bundle.js:10379:28\n  drainMicroTaskQueue@<a href=\"http://localhost:4200/polyfills.bundle.js:10783:25\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.bundle.js:10783:25</a>\n  \" polyfills.bundle.js:10842:16</p>\n  \n  <p>mutating the [[Prototype]] of an object will cause your code to run\n  very slowly; instead create the object with the correct initial\n  [[Prototype]] value using Object.create vendor.bundle.js:10011:4</p>\n</blockquote>\n\n<p>I navigated to the compiled source and still not no clue there. So i tried to resolve it installing various shims, didn't work.</p>\n\n<p>My source files:</p>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2016\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n\n<p>typings.d.ts:</p>\n\n<pre><code>/* SystemJS module definition */\ndeclare var module: NodeModule;\ninterface NodeModule {\n  id: string;\n}\n</code></pre>\n\n<p>tsconfig.app.json:</p>\n\n<pre><code>{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"../out-tsc/app\",\n    \"baseUrl\": \"./\",\n    \"module\": \"es2015\",\n    \"types\": []\n  },\n  \"exclude\": [\n    \"test.ts\",\n    \"**/*.spec.ts\"\n  ]\n}\n</code></pre>\n\n<p>main.ts:</p>\n\n<pre><code>import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n</code></pre>\n\n<p>app.component.ts:</p>\n\n<pre><code>import { Component } from '@angular/core';\n@Component({\n    selector: 'sign-app',\n    templateUrl: './app.component.html',\n    styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent\n{\n    title = 'app';\n\n    constructor()\n    {\n    }\n}\n</code></pre>\n\n<p>app.component.html:</p>\n\n<pre><code>&lt;div style=\"text-align:center\"&gt;\n  &lt;h1&gt;\n    Welcome to {{title}}!\n  &lt;/h1&gt;\n&lt;/div&gt;\n&lt;div&gt;\n  &lt;p&gt;Please put your sign below:&lt;/p&gt;\n  &lt;sign-paper&gt;&lt;/sign-paper&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>app.module.ts:</p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { PaperComponent } from './paper.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    PaperComponent\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>paper.component.ts:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport * as Raphael from 'raphael';\n\n/// &lt;reference path=\"../../node_modules/@types/raphael/index.d.ts\" /&gt;\n\n@Component({\n    selector: 'sign-paper',\n    templateUrl: './paper.component.html',\n    styleUrls: [ './app.component.css' ],\n    providers: []\n})\nexport class PaperComponent\n{\n    private paper: RaphaelPaper;\n\n    constructor()\n    {\n        this.paper = Raphael('paper', 640, 480);\n        this.draw();\n    }\n\n    private draw(): void\n    {\n        let thatCircle: RaphaelElement = this.paper.circle(10, 100, 100);\n        thatCircle.attr('stroke', '#0A0B0C');\n    }\n}\n</code></pre>\n\n<p>paper.component.html:</p>\n\n<pre><code>&lt;div id=\"paper\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>polyfills.ts:</p>\n\n<pre><code>/**\n * This file includes polyfills needed by Angular and is loaded before the app.\n * You can add your own extra polyfills to this file.\n *\n * This file is divided into 2 sections:\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n *      file.\n *\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n * automatically update themselves. This includes Safari &gt;= 10, Chrome &gt;= 55 (including Opera),\n * Edge &gt;= 13 on the desktop, and iOS 10 and Chrome on mobile.\n *\n * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html\n */\n\n/***************************************************************************************************\n * BROWSER POLYFILLS\n */\n\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/weak-map';\nimport 'core-js/es6/set';\n\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\nimport 'classlist.js';  // Run `npm install --save classlist.js`.\n\n/** Evergreen browsers require these. **/\nimport 'core-js/es6/reflect';\nimport 'core-js/es7/reflect';\n\n\n/**\n * Required to support Web Animations `@angular/animation`.\n * Needed for: All but Chrome, Firefox and Opera. http://caniuse.com/#feat=web-animation\n **/\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n\n/***************************************************************************************************\n * Zone JS is required by Angular itself.\n */\nimport 'zone.js/dist/zone';  // Included with Angular CLI.\n\n\n\n/***************************************************************************************************\n * APPLICATION IMPORTS\n */\n\n/**\n * Date, currency, decimal and percent pipes.\n * Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10\n */\nimport 'intl';  // Run `npm install --save intl`.\n/**\n * Need to import at least one locale-data with intl.\n */\nimport 'intl/locale-data/jsonp/en';\n</code></pre>\n\n<p>package.json:</p>\n\n<pre><code>{\n  \"name\": \"Sign\",\n  \"version\": \"1.0.0\",\n  \"license\": \"BSD-3-Clause\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"^4.0.0\",\n    \"@angular/common\": \"^4.0.0\",\n    \"@angular/compiler\": \"^4.0.0\",\n    \"@angular/core\": \"^4.0.0\",\n    \"@angular/forms\": \"^4.0.0\",\n    \"@angular/http\": \"^4.0.0\",\n    \"@angular/platform-browser\": \"^4.0.0\",\n    \"@angular/platform-browser-dynamic\": \"^4.0.0\",\n    \"@angular/router\": \"^4.0.0\",\n    \"@types/raphael\": \"^2.1.30\",\n    \"angular-polyfills\": \"^1.0.1\",\n    \"classlist.js\": \"^1.1.20150312\",\n    \"core-js\": \"^2.4.1\",\n    \"intl\": \"^1.2.5\",\n    \"raphael\": \"^2.2.7\",\n    \"rxjs\": \"^5.1.0\",\n    \"ts-helpers\": \"^1.1.2\",\n    \"yarn\": \"^0.27.5\",\n    \"zone.js\": \"^0.8.4\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"^1.2.3\",\n    \"@angular/compiler-cli\": \"^4.0.0\",\n    \"@angular/language-service\": \"^4.0.0\",\n    \"@types/jasmine\": \"~2.5.53\",\n    \"@types/jasminewd2\": \"~2.0.2\",\n    \"@types/node\": \"~6.0.60\",\n    \"codelyzer\": \"~3.0.1\",\n    \"jasmine-core\": \"~2.6.2\",\n    \"jasmine-spec-reporter\": \"~4.1.0\",\n    \"karma\": \"~1.7.0\",\n    \"karma-chrome-launcher\": \"~2.1.1\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"^1.2.1\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.1.2\",\n    \"ts-node\": \"~3.0.4\",\n    \"tslint\": \"~5.3.2\",\n    \"typescript\": \"~2.3.3\"\n  },\n  \"description\": \"Let's sign things.\",\n  \"main\": \"index.js\",\n  \"author\": \"RoestVrijStaal\"\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings"], "owner": {"reputation": 636, "user_id": 564872, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e7b460f32c77fa753907bb4c2631459c?s=128&d=identicon&r=PG", "display_name": "Civilian", "link": "https://stackoverflow.com/users/564872/civilian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501023628, "creation_date": 1501023628, "question_id": 45314806, "link": "https://stackoverflow.com/questions/45314806/longer-type-descriptions-in-errors", "title": "Longer Type descriptions in errors", "body": "<p>How do I get longer typescript type descriptions in the error messages?</p>\n\n<p>Right now I get error messages like:</p>\n\n<p><code>TS2345: Argument of type '(action: TAction&lt;TPayloadPanelIdTitle&gt;, undoHandler: \"utx-handler-standard\" | \"utx-handler-crop\" ...' is not assignable to parameter of type 'CallEffectNamedFn&lt;{ [x: string]: Func1&lt;any&gt;; }, string&gt;'.\n  Type '(action: TAction&lt;TPayloadPanelIdTitle&gt;, undoHandler: \"utx-handler-standard\" | \"utx-handler-crop\" ...' is not assignable to type '[{ [x: string]: Func1&lt;any&gt;; }, string]'.\n    Property '0' is missing in type '(action: TAction&lt;TPayloadPanelIdTitle&gt;, undoHandler: \"utx-handler-standard\" | \"utx-handler-crop\" ...'.\n</code>\nand the ellipses gulp away a lot of information. Frustrating!</p>\n\n<p><strong>TypeScript Version:</strong>  2.4.1</p>\n"}, {"tags": ["oop", "typescript", "inheritance", "abstract"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1501022871, "post_id": 45314640, "comment_id": 77591797, "body": "It should be <code>this</code>. in a static context <code>this</code> refers to the class and not the instance."}, {"owner": {"reputation": 21, "user_id": 2503887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0bfe9e86603309c2d354130ee8a84b3?s=128&d=identicon&r=PG", "display_name": "CrushedCan", "link": "https://stackoverflow.com/users/2503887/crushedcan"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1501022974, "post_id": 45314640, "comment_id": 77591831, "body": "But in this context <code>this</code> is referring to the abstract super class, not the derived class that will actually be using the function. Unless I&#39;m sorely mistaken."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1501023835, "post_id": 45314640, "comment_id": 77592107, "body": "Depends, from the ts point of view you&#39;re right, but in runtime (js point of view) it will be the actual derived class. In your example there&#39;s no need to know which class it is, it&#39;s enough that it&#39;s <code>MyClass</code>."}, {"owner": {"reputation": 21, "user_id": 2503887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0bfe9e86603309c2d354130ee8a84b3?s=128&d=identicon&r=PG", "display_name": "CrushedCan", "link": "https://stackoverflow.com/users/2503887/crushedcan"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1501163891, "post_id": 45314640, "comment_id": 77667205, "body": "Yes, but that seems...&quot;incorrect&quot; haha. The proper OOP desire in me is preventing me from being ok with that, even though it&#39;s totally acceptable."}], "owner": {"reputation": 21, "user_id": 2503887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0bfe9e86603309c2d354130ee8a84b3?s=128&d=identicon&r=PG", "display_name": "CrushedCan", "link": "https://stackoverflow.com/users/2503887/crushedcan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 545, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1501164025, "creation_date": 1501022400, "last_edit_date": 1501164025, "question_id": 45314640, "link": "https://stackoverflow.com/questions/45314640/typescript-abstract-class-method-access-derived-class-property", "title": "Typescript Abstract Class Method Access Derived Class Property", "body": "<pre><code>abstract class MyClass() {\n    protected static foo: Array&lt;number&gt;;\n\n    protected static doWorkOnFoo(): void {\n        let x: number = 0;\n\n        for (let f of | what goes here? this? self?|.foo) {\n            x = x + foo;\n        }\n    }\n}\n</code></pre>\n\n<p>When implementing an abstract class, and wanting derived classes to have a static property and a static method that operates on those properties, how would one access those in the abstract class so that the derived class can just use that method?</p>\n\n<p>I know this can be worked around by just setting a default value on the static property and using <code>this</code>, but this sparked my interested and I'm curious to know if there's some way to access generic derived class or something from an abstract class in TS.</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT:</p>\n\n<p>While I wasn't able to find exactly what I was looking for (see comments), a workable solution is to change the signature of the <code>doWorkOnFoo()</code> method to the following:</p>\n\n<pre><code>protected static doWorkOnFoo(): (typeof MyClass) =&gt; void;\n</code></pre>\n\n<p>Since it is already an abstract class it can take a derived class as an argument and then reference the derived class's static properties.</p>\n"}, {"tags": ["list", "typescript", "collections"], "comments": [{"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1501037986, "post_id": 45314619, "comment_id": 77595599, "body": "FWIW, <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/every\" rel=\"nofollow noreferrer\"><code>Array#every</code></a> does the same thing your <code>ForEach</code> method does. I would stick to a plain array instead of writing a wrapper."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1501073425, "post_id": 45314619, "comment_id": 77616583, "body": "This question seems a bit too broad, since I can&#39;t figure out how to give a self-contained answer that doesn&#39;t tackle all different things:  Your ForEach function looks fine.  Your use of <code>===</code> is fine.  You can define a function with an interface definition like so: <code>var forEachFunc: IForEachFunction&lt;string&gt; = function(s) { return !!s; }</code>.  Methods and properties conventially start with lowercase letters.  I assume you are implementing the <code>List</code> class for your own enrichment and not for use in &quot;the real world&quot;, since as others have said, you&#39;d be better off using a js array in most cases."}], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1501072398, "post_id": 45316103, "comment_id": 77615713, "body": "No, <code>IForEachFunction&lt;T&gt;</code> does not contain a method named <code>callback</code>.  It is a callable function-like interface with a <i>parameter</i> named <code>callback</code>.  Look carefully at the parenthesis placement."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1501072808, "post_id": 45316103, "comment_id": 77616041, "body": "his confusion goes to show that @Ralf&#39;s declaration is more confusing than it need be: the <code>callback</code> parameter is <i>not</i> a callback; it&#39;s just a value of type <code>T</code>; and a callable interface with no other properties is essentially just a function type.  I&#39;d suggest something like <code>export type IForEachFunction&lt;T&gt; = (t: T) =&gt; boolean | void;</code> instead, which acts more or less the same and is more clear."}], "tags": [], "owner": {"reputation": 753, "user_id": 3444107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/smI48.jpg?s=128&g=1", "display_name": "Sami Badawi", "link": "https://stackoverflow.com/users/3444107/sami-badawi"}, "is_accepted": false, "score": 0, "last_activity_date": 1501033738, "creation_date": 1501033738, "answer_id": 45316103, "question_id": 45314619, "link": "https://stackoverflow.com/questions/45314619/typescript-generic-collection-list/45316103#45316103", "title": "TypeScript Generic Collection: List", "body": "<p>One problem I see is that you have an interface instance: </p>\n\n<pre><code>callback: IForEachFunction&lt;T&gt;\n</code></pre>\n\n<p>This contains a method called </p>\n\n<pre><code>callback()\n</code></pre>\n\n<p>But you only call callback once. You would have call callback() method inside your interface:</p>\n\n<pre><code>callback.callback()\n</code></pre>\n\n<p>Also your code looks like it is inspired by C# or Java. In TypeScript you would often just use an array. This simplifies certain code constructs.</p>\n"}], "owner": {"reputation": 498, "user_id": 267140, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e931b50ab8bee152dde0c68748911508?s=128&d=identicon&r=PG", "display_name": "Ralf", "link": "https://stackoverflow.com/users/267140/ralf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5752, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1559557845, "creation_date": 1501022283, "question_id": 45314619, "link": "https://stackoverflow.com/questions/45314619/typescript-generic-collection-list", "title": "TypeScript Generic Collection: List", "body": "<p>I am trying to learn TypeScript, and need some advice on implementing generic collection types. I put the dictionary and HashSet in another question, here I'd like any advice on my list type.</p>\n\n<p>Especially the ForEach-Operation looks a bit strange. I think I found it in another question here, and \"improved\" by returning true or false to give feedback if the iteration was stopped early or completed.</p>\n\n<pre><code>import { IForEachFunction } from \"./IForEachFunction\"\n\nexport class List&lt;T&gt; {\n    private _items: Array&lt;T&gt;;\n\n    public constructor() {\n        this._items = [];\n    }\n\n    public get Count(): number {\n        return this._items.length;\n    }\n\n    public Item(index: number): T {\n        return this._items[index];\n    }\n\n    public Add(value: T): void {\n        this._items.push(value);\n    }\n\n    public RemoveAt(index: number): void {\n        this._items.splice(index, 1);\n    }\n\n    public Remove(value: T): void {\n        let index = this._items.indexOf(value);\n        this.RemoveAt(index);\n    }\n\n    public ForEach(callback: IForEachFunction&lt;T&gt;): boolean {\n        for (const element of this._items) {\n            if (callback(element) === false) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n\n<p>The ForEach-Iteration relies on an interface from another file:</p>\n\n<pre><code>export interface IForEachFunction&lt;T&gt; {\n    (callback: T): boolean | void;\n}\n</code></pre>\n\n<p>You would use my list and the ForEach-Method like this:</p>\n\n<pre><code>let myList: List&lt;a_type&gt; = new List&lt;a_type&gt;();\nlet completed: boolean = myList.ForEach(xyz =&gt; {\n    // do something with xyz\n    return false; // aborts the iteration\n    return true; // continues with the next element\n});\nif (completed) // we can see what happened \"during\" the iteration\n</code></pre>\n\n<p>I think this is not bad, but I'd appreciate any input. I am not sure if I use the === correctly.\nAnother question which I really like to know: How could I define a function with the interface IForEachFunction? I do not really \"re-use\" that interface visibly, I always declare an anonymous method as shown above. If I wanted to call a method having the interface definition, is that possible?</p>\n\n<p>Thanks!\nRalf</p>\n"}, {"tags": ["javascript", "jquery", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 89, "user_id": 7151011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a1b0188cbe4c5d01bd3048ebacac14?s=128&d=identicon&r=PG&f=1", "display_name": "jine", "link": "https://stackoverflow.com/users/7151011/jine"}, "edited": false, "score": 0, "creation_date": 1501019275, "post_id": 45314043, "comment_id": 77590639, "body": "I also explored the option of using ViewChild decorator, however, did not find anything to get the inner html elements with the attribute values."}, {"owner": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 1, "creation_date": 1501019923, "post_id": 45314043, "comment_id": 77590878, "body": "Show your code! You dont need innerHtml. You can do everything using components!"}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501020030, "post_id": 45314043, "comment_id": 77590918, "body": "Just do #ref on placeholder.. then in ts @ViewChild(&#39;ref&#39;) el: Element; Then you can do el.innerHTML to get it.. You should be trying to drop jQuery approach though.."}], "owner": {"reputation": 89, "user_id": 7151011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a1b0188cbe4c5d01bd3048ebacac14?s=128&d=identicon&r=PG&f=1", "display_name": "jine", "link": "https://stackoverflow.com/users/7151011/jine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501019163, "creation_date": 1501019163, "question_id": 45314043, "link": "https://stackoverflow.com/questions/45314043/how-to-retrieve-innerhtml-of-the-page-using-angular2", "title": "How to retrieve innerHTML of the page using Angular2", "body": "<p>I have 2 questions as follow:</p>\n\n<p>1) I am migrating the UI of an application from jQuery to Angular2. There is a feature that the user can modify the UI layout through drag &amp; drop and re-sizing of html div elements. The user can also add new divs/ sections in the page. </p>\n\n<p>While, storing the data, I was looping through all the child elements, preparing a JSON array holding all child elements as well as CSS attributes. While loading the page back, I was again looping through the array and appending the elements and setting attributes. It was quite easy job to achieve using jQuery.</p>\n\n<p>Now, with Angular2, I am having difficulties achieving the same. I can bind the [innerHTML] with the div, however, the challenge I am having is to retrieve the inner html of the page.</p>\n\n<p>Any suggestion will be appreciated!!</p>\n\n<p>2) Is there a better way to store the page layout and parse back while loading?</p>\n\n<p>Thanks!! </p>\n"}, {"tags": ["json", "angular", "http", "typescript", "post"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3244479"}, "edited": false, "score": 1, "creation_date": 1501018331, "post_id": 45313732, "comment_id": 77590237, "body": "Http calls are asynchronous. You need to move your code that checks the response into the onNext handler."}], "answers": [{"tags": [], "owner": {"reputation": 2003, "user_id": 5219302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f3d909580b0514f31f525eb59e6517?s=128&d=identicon&r=PG", "display_name": "Praveen Premaratne", "link": "https://stackoverflow.com/users/5219302/praveen-premaratne"}, "is_accepted": true, "score": 2, "last_activity_date": 1501018881, "creation_date": 1501018881, "answer_id": 45313972, "question_id": 45313732, "link": "https://stackoverflow.com/questions/45313732/angular-http-post-not-working-1st-time-but-works-on-2nd-time/45313972#45313972", "title": "Angular http post not working 1st time, but works on 2nd time", "body": "<p>Angular server calls are asynchronous, that mean the code wont wait for the server to respond before executing the rest of the code. Such as PHP. So you would not see a blank page waiting for the server to send data. When you want to deal with the respose come from a server call you have to add all the code within the <code>subscribe</code>; that means if this information needed to be passed to another service.\nYour code should look like this.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>onSubmit() {\r\n  this.loginSvc.login(this.loginRequest).subscribe(\r\n    data =&gt; {\r\n      this.loginResponseStr = data\r\n      var loginResponse = new LoginResponse();\r\n      loginResponse.fillFromJSON(JSON.stringify(data));\r\n      console.log(loginResponse.status);\r\n      console.log(loginResponse.statusDesc);\r\n\r\n      if (loginResponse.status == \"SUCCESS\") {\r\n        this.router.navigate(['/home-page']);\r\n      }\r\n    },\r\n    error =&gt; alert(error),\r\n    () =&gt; console.log('Request completed')\r\n  );\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 85, "user_id": 4383899, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XRvBMBjIlj8/AAAAAAAAAAI/AAAAAAAAC9w/rPquaDXPHz8/photo.jpg?sz=128", "display_name": "Manikandan S", "link": "https://stackoverflow.com/users/4383899/manikandan-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 1, "accepted_answer_id": 45313972, "answer_count": 1, "score": 0, "last_activity_date": 1501018881, "creation_date": 1501017797, "question_id": 45313732, "link": "https://stackoverflow.com/questions/45313732/angular-http-post-not-working-1st-time-but-works-on-2nd-time", "title": "Angular http post not working 1st time, but works on 2nd time", "body": "<p>Trying my first angular exercise. Receiving undefined value on 1st time from http post, but 2nd time getting proper response (Edge, Firefox). Thanks!</p>\n\n<p>LoginService (Calls Http post method and returns observable)</p>\n\n<pre><code>login(loginRequest: LoginRequest){\nconsole.log(\"LoginService.login - userName \" + loginRequest.username);\n\nlet options = new RequestOptions({ headers: headers });\nreturn this.http.post(this.http_url, loginRequest, options).map( res =&gt;        \nres.json());\n</code></pre>\n\n<p>LoginFormComponent (calls service class and convert JSON to typescript object)</p>\n\n<pre><code>  onSubmit() {\n     this.loginSvc.login(this.loginRequest).subscribe(\n       data =&gt; this.loginResponseStr = data,\n       error =&gt; alert(error),\n       () =&gt; console.log('Request completed')\n     );\n\n    var loginResponse = new LoginResponse();\n    loginResponse.fillFromJSON(JSON.stringify(this.loginResponseStr));\n    console.log(loginResponse.status);\n    console.log(loginResponse.statusDesc);\n\n    if(loginResponse.status == \"SUCCESS\"){\n      this.router.navigate(['/home-page']);\n}\n</code></pre>\n\n<p>Console log</p>\n\n<pre><code>LoginService.login - userName admin  main.bundle.js:370:9\nundefined  main.bundle.js:266:9\nundefined  main.bundle.js:267:9\nRequest completed  main.bundle.js:263:181\nLoginService.login - userName admin  main.bundle.js:370:9\nSUCCESS  main.bundle.js:266:9\nVALID USER  main.bundle.js:267:9\nRequest completed  main.bundle.js:263:181\n</code></pre>\n"}, {"tags": ["dictionary", "typescript", "collections", "hashset"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1501074284, "post_id": 45313441, "comment_id": 77617220, "body": "As I mentioned in your other question, this seems too broad to make a meaningful answer below.  It is certainly an interesting exercise to try to implement your own collection types.  One major red flag I see is that your collections can only hold one element with a given hash value.  No other Map/Set implementation that I&#39;ve seen behaves that way.  To fix it, you&#39;ll need to store an <i>array</i> of elements as your <code>HashTable</code> value type."}], "owner": {"reputation": 498, "user_id": 267140, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e931b50ab8bee152dde0c68748911508?s=128&d=identicon&r=PG", "display_name": "Ralf", "link": "https://stackoverflow.com/users/267140/ralf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 678, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501022156, "creation_date": 1501016713, "last_edit_date": 1501022156, "question_id": 45313441, "link": "https://stackoverflow.com/questions/45313441/hashset-and-dictionary-in-typescript-export-of-interface", "title": "HashSet and Dictionary in TypeScript: export of Interface", "body": "<p>I think I need some feedback on my collection classes - still learning typescript and javascript and these implementations can surely be improved. I am looking forward to any suggestion. I think I do use the generic types in a useful way, any advice here would be appreciated.</p>\n\n<p>The answer I am looking for most is removing the duplicate IHashTable definition from the end of both snippets and moving it to its own file, I cannot get that done it seems. I am even unsure if this IS an interface in the first place. It compiles and works this way, as far as I can see.</p>\n\n<p>The collection types are incomplete and only define the basic most function at the moment. Once I am sure I use the language and its features correct the other functions should not be too difficult.</p>\n\n<p>Here is my HashSet:</p>\n\n<pre><code>import { IHashable } from \"./IHashable\"\n\nexport class HashSet&lt;T extends IHashable&gt; {\n    private _items: HashTable&lt;T&gt;;\n\n    public constructor() {\n        this._items = {};\n    }\n\n    public Add(key: T): void {\n        let str: string = key.GetHash();\n        if (this._items[str] == null) {\n            this._items[str] = key;\n        }\n        else {\n            throw new RangeError(\"Key '\" + str + \"' already exists.\");\n        }\n    }\n\n    public Contains(key: T): boolean {\n        let str: string = key.GetHash();\n        return this._items[str] != null;\n    }\n}\n\ninterface HashTable&lt;T&gt; {\n    [key: string]: T;\n}\n</code></pre>\n\n<p>I wonder if I can avoid the checking-before-adding in a way. The javascript-dictionary this relies on does allow duplicates, so to avoid them there is no other way than to check myself?</p>\n\n<p>This is my Dictionary:</p>\n\n<pre><code>import { IHashable } from \"./IHashable\"\n\nexport class Dictionary&lt;T1 extends IHashable, T2&gt; {\n    private _items: HashTable&lt;KeyValuePair&lt;T1, T2&gt;&gt;;\n\n    public constructor() {\n        this._items = {};\n    }\n\n    public Add(key: T1, value: T2) {\n        let str: string = key.GetHash();\n        if (this._items[str] == null) {\n            let kvp: KeyValuePair&lt;T1, T2&gt; = new KeyValuePair(key, value);\n            this._items[str] = kvp;\n        }\n        else {\n            throw new RangeError(\"Key '\" + str + \"' already exists.\");\n        }\n    }\n\n    public ContainsKey(key: T1): boolean {\n        let str: string = key.GetHash();\n        return this._items[str] != null;\n    }\n\n    public Get(key: T1): T2 {\n        let str: string = key.GetHash();\n        let kvp: KeyValuePair&lt;T1, T2&gt; = this._items[str];\n        if (kvp == null) throw new RangeError(\"Key '\" + str + \"' not found\")\n        return kvp.Value;\n    }\n}\n\nexport class KeyValuePair&lt;T1 extends IHashable, T2&gt; {\n    private _key: T1;\n    private _value: T2;\n\n    public get Key(): T1 { return this._key; }\n    public get Value(): T2 { return this._value; }\n\n    public constructor(key: T1, value: T2) {\n        this._key = key;\n        this._value = value;\n    }\n}\n\ninterface HashTable&lt;T&gt; {\n    [key: string]: T;\n}\n</code></pre>\n\n<p>Both rely on a definition of IHashable (hashABLE and hashTABLE: I should find other names.)</p>\n\n<pre><code>export interface IHashable {\n    GetHash(): string;\n}\n</code></pre>\n\n<p>The dictionary looks a bit strange, it \"wraps\" my dictionary into a new type KeyValuePair and then uses this in the javascript dictionary. What I hope to gain by doing this is get my own type for key, in and out, as long as it offers a string by which it can be indexed. - No idea if that makes sense or is completly wrong.</p>\n\n<p>What I am missing is the count of items in the collection, a way to remove items, and a way to iterate over the keys and the values.\nRegarding iterating over I will post another question with my implementation of a list and a ForEach over it, hoping iterating the keys or values might be possible in the same way.</p>\n\n<p>Probably the most important question I forgot here: How could the GetHash-Method be build for an own class? I was going to have a static number on my classes, and count up by 1 in the constructor before assign this number to each instance. This would guarantee uniqueness... is there something better?</p>\n\n<p>Thanks for any tip!\nRalf</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1501015273, "post_id": 45313041, "comment_id": 77588761, "body": "What is the implementation of <code>doSomething</code>like? What you have there is fine, but the implementation will need to use a type guard to figure out what&#39;s received."}, {"owner": {"reputation": 5859, "user_id": 776686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ccf60b805c4c84f8377908435b14b05?s=128&d=identicon&r=PG", "display_name": "user776686", "link": "https://stackoverflow.com/users/776686/user776686"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1501016698, "post_id": 45313041, "comment_id": 77589535, "body": "I over-simplified my example which blurred my use case. I have updaed the signature here to show it&#39;s one of two params in the signature. I am trying to dynamically create instances of various classes (Angular components) based on <code>param1</code>, then supplying the instance with relevant <code>param2</code> properties. Now that I look at the code, I think I&#39;d be better off creating separate methods. Some of the code will be repeated, but the code will gain readability. Still, I would be curious to know how to properly use union-types for future cases."}], "answers": [{"comments": [{"owner": {"reputation": 5859, "user_id": 776686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ccf60b805c4c84f8377908435b14b05?s=128&d=identicon&r=PG", "display_name": "user776686", "link": "https://stackoverflow.com/users/776686/user776686"}, "edited": false, "score": 1, "creation_date": 1501020503, "post_id": 45313932, "comment_id": 77591076, "body": "Thanks a bunch! I appreciate your effort in providing such a detailed answer. I definitely like Tagged Unions approach best. Feels the most TypeScript one."}], "tags": [], "owner": {"reputation": 13099, "user_id": 3723993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff1de7f1a325c8005379a310949f7f23?s=128&d=identicon&r=PG", "display_name": "Danziger", "link": "https://stackoverflow.com/users/3723993/danziger"}, "is_accepted": true, "score": 4, "last_activity_date": 1501019662, "last_edit_date": 1501019662, "creation_date": 1501018714, "answer_id": 45313932, "question_id": 45313041, "link": "https://stackoverflow.com/questions/45313041/how-do-i-properly-write-function-signature-to-accept-union-typed-parameter/45313932#45313932", "title": "how do I properly write function signature to accept union-typed parameter?", "body": "<p>I see 3 possible solutions:</p>\n\n<ul>\n<li>Cast each single usage of <code>param2</code>.</li>\n<li>Use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">Tagged Unions (aka discriminated unions or algebraic data types)</a>.</li>\n<li>Use <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/typeGuard.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">User Defined Type Guards</a>.</li>\n</ul>\n\n<p>I would go for Tagged Unions if it makes sense for you to combine <code>param1</code> and <code>param2</code>. Otherwise use User Defined Type Guards.</p>\n\n<h3>\ud83d\udc49 Cast each single usage of param2:</h3>\n\n<p>Too verbose in my opinion if you have to use it many times, but the most straight forward solution:</p>\n\n<pre><code>...\n\ncomponent.instance.prop1 = (param2 as MyTypeA).prop1;\ncomponent.instance.prop2 = (param2 as MyTypeA).prop2;\n\n...\n</code></pre>\n\n<p>This solution will not generate additional code (the cast will be completelly removed from the generated code).</p>\n\n<h3>\ud83d\udc49 Use Tagged Unions (aka discriminated unions or algebraic data types):</h3>\n\n<p>You can combine <code>param1</code> and <code>param2</code> and convert your custom types to <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">tagged unions</a>:</p>\n\n<pre><code>export interface MyTypeA {\n  param1: 'a' | 'b';\n  prop1: string;\n  prop2: boolean;\n}\n\nexport interface MyTypeB {\n  param1: 'c';\n  prop3: number;\n  prop4: string;\n}\n\ndoSomething(param2: MyTypeA | MyTypeB) {\n  switch(param2.param1) {\n    case 'a':\n    case 'b': {\n      // The compiler knows param2 is of type MyTypeA, because its param1\n      // property is either 'a' or 'b'.\n\n      const cf = this.resolver.resolveComponentFactory(MyClassAComponent);\n      const component = this.wrap.createComponent(cf);\n\n      component.instance.prop1 = param2.prop1;\n      component.instance.prop2 = param2.prop2;\n\n      break;\n    }\n\n    case 'c': {\n      // The compiler knows param2 is of type MyTypeB, because its param1\n      // property is 'c'.\n\n      const cf = this.resolver.resolveComponentFactory(MyClassBComponent);\n      const component = this.wrap.createComponent(cf);\n\n      component.instance.prop3 = param2.prop3;\n\n      break;\n    }\n  }\n}\n</code></pre>\n\n<p>This solution will not generate additional code (the interfaces, including the tagged param, will not be present in the generated code).</p>\n\n<h3>\ud83d\udc49 Use User Defined Type Guards:</h3>\n\n<p>You can use <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/typeGuard.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">User Defined Type Guards</a> to narrow down the type of <code>param2</code>:</p>\n\n<pre><code>export interface MyTypeA {\n  prop1: string;\n  prop2: boolean;\n}\n\nexport interface MyTypeB {\n  prop3: number;\n  prop4: string;\n}\n\nfunction isA(arg: any): arg is MyTypeA {\n    return arg.hasOwnProperty('prop1');\n}\n\nfunction isB(arg: any): arg is MyTypeB {\n    return arg.hasOwnProperty('prop3');\n}\n\ndoSomething(param1: string, param2: MyTypeA | MyTypeB) {\n  switch(param1) {\n    case 'a':\n    case 'b': {\n      if (!isA(param2)) return;\n\n      // The compiler knows param2 is of type MyTypeA:\n\n      const cf = this.resolver.resolveComponentFactory(MyClassAComponent);\n      const component = this.wrap.createComponent(cf);\n\n      component.instance.prop1 = param2.prop1;\n      component.instance.prop2 = param2.prop2;\n\n      break;\n    }\n\n    case 'c': {\n      if (!isB(param2)) return;\n\n      // The compiler knows param2 is of type MyTypeB:\n\n      const cf = this.resolver.resolveComponentFactory(MyClassBComponent);\n      const component = this.wrap.createComponent(cf);\n\n      component.instance.prop3 = param2.prop3;\n\n      break;\n    }\n  }\n}\n</code></pre>\n\n<p>Note this solution will generate additional code, as those <code>isA</code> and <code>isB</code> functions, as well as the calls to them, will be included in the generated code.</p>\n"}], "owner": {"reputation": 5859, "user_id": 776686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ccf60b805c4c84f8377908435b14b05?s=128&d=identicon&r=PG", "display_name": "user776686", "link": "https://stackoverflow.com/users/776686/user776686"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 45313932, "answer_count": 1, "score": 1, "last_activity_date": 1501019662, "creation_date": 1501014917, "last_edit_date": 1501016672, "question_id": 45313041, "link": "https://stackoverflow.com/questions/45313041/how-do-i-properly-write-function-signature-to-accept-union-typed-parameter", "title": "how do I properly write function signature to accept union-typed parameter?", "body": "<p>I am trying to provide an API with a function that accepts a parameter that can be of type A or B. I am using <code>interfaces</code> to type the parameters. Those type do not share a single member. My attempts lead to compiler complaining about property x not present on type x.</p>\n\n<pre><code>export interface MyTypeA {\n  prop1: string;\n  prop2: boolean;\n} \nexport interface MyTypeB {\n  prop3: number;\n  prop4: string;\n}\n\ndoSomething(param1: string, param2: MyTypeA | MyTypeB){\n  switch(param1){\n    case 'a':\n    case 'b': {\n      const cf = this.resolver.resolveComponentFactory(MyClassAComponent);\n      const component = this.wrap.createComponent(cf);\n      component.instance.prop1 = param2.prop1;\n      component.instance.prop2 = param2.prop2;\n      break;\n    }\n    case 'c': {\n      const cf = this.resolver.resolveComponentFactory(MyClassBComponent);\n      const component = this.wrap.createComponent(cf);\n      component.instance.prop3 = param2.prop3;\n      break;\n    }\n\n  }\n}\n</code></pre>\n\n<p>I am not sure this can be done with <code>interface</code>s, I assume I might rather have to use <code>type</code>, but don't know how.</p>\n"}, {"tags": ["angular", "typescript", "dom"], "comments": [{"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501016382, "post_id": 45312655, "comment_id": 77589385, "body": "Do you have things like a manually added array of event handlers that don&#39;t get removed? So every time you addEventListener, you pass function ref. like this.elements.forEach(el =&gt; addEventListener(&#39;click&#39;,this.clickhandler)), so you can do mirror in removeEventListener onDestroy.. and have clickhander =( () =&gt; {this. //enable this}).bind(this);"}, {"owner": {"reputation": 6476, "user_id": 1625304, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9ce92248e65c11baece707a847961852?s=128&d=identicon&r=PG", "display_name": "joshrathke", "link": "https://stackoverflow.com/users/1625304/joshrathke"}, "edited": false, "score": 0, "creation_date": 1501034386, "post_id": 45312655, "comment_id": 77594615, "body": "Is there any way you can refactor the code? The Angular docs suggest keeping files to a maximum of 400 lines. I don&#39;t know, seems more manageable."}, {"owner": {"reputation": 6476, "user_id": 1625304, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9ce92248e65c11baece707a847961852?s=128&d=identicon&r=PG", "display_name": "joshrathke", "link": "https://stackoverflow.com/users/1625304/joshrathke"}, "edited": false, "score": 0, "creation_date": 1501034525, "post_id": 45312655, "comment_id": 77594642, "body": "Is your service registered to only use the root context (forRoot())? In other words is your problem component within a lazy loaded module? If so you may be spawning multiple instances of the same service."}, {"owner": {"reputation": 1928, "user_id": 4872449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/QSfqH.png?s=128&g=1", "display_name": "seescode", "link": "https://stackoverflow.com/users/4872449/seescode"}, "edited": false, "score": 1, "creation_date": 1501041923, "post_id": 45312655, "comment_id": 77596501, "body": "I ran chrome heap snapshot on your plunker vs an empty plunker and in both plunkers they had the same number of detached nodes which means there are no detached nodes in your plunker due to your code. I also used the allocation timeline and clicked back and forth between &quot;Read Me&quot; and &quot;Example&quot; and it mostly cleared all of the memory.  Can you add some screenshots of graphs that show the memory leak happening?"}, {"owner": {"reputation": 171, "user_id": 6882631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2c0ef4ef7017dadba770d0e5cbce4813?s=128&d=identicon&r=PG&f=1", "display_name": "JT1979", "link": "https://stackoverflow.com/users/6882631/jt1979"}, "edited": false, "score": 0, "creation_date": 1501069622, "post_id": 45312655, "comment_id": 77613675, "body": "I have went through and removed all of the event handlers and the html there is still a memory leak"}, {"owner": {"reputation": 171, "user_id": 6882631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2c0ef4ef7017dadba770d0e5cbce4813?s=128&d=identicon&r=PG&f=1", "display_name": "JT1979", "link": "https://stackoverflow.com/users/6882631/jt1979"}, "reply_to_user": {"reputation": 1928, "user_id": 4872449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/QSfqH.png?s=128&g=1", "display_name": "seescode", "link": "https://stackoverflow.com/users/4872449/seescode"}, "edited": false, "score": 0, "creation_date": 1501069745, "post_id": 45312655, "comment_id": 77613772, "body": "@seescode I can send a screen shot if you can tell me your email or a place to send it to"}, {"owner": {"reputation": 1928, "user_id": 4872449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/QSfqH.png?s=128&g=1", "display_name": "seescode", "link": "https://stackoverflow.com/users/4872449/seescode"}, "edited": false, "score": 0, "creation_date": 1501074651, "post_id": 45312655, "comment_id": 77617501, "body": "It&#39;s possible to put screen shots within your stack overflow question.  Just save it as an image and upload as an image."}, {"owner": {"reputation": 171, "user_id": 6882631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2c0ef4ef7017dadba770d0e5cbce4813?s=128&d=identicon&r=PG&f=1", "display_name": "JT1979", "link": "https://stackoverflow.com/users/6882631/jt1979"}, "edited": false, "score": 0, "creation_date": 1501076536, "post_id": 45312655, "comment_id": 77619059, "body": "I have added the graph"}, {"owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1501079558, "post_id": 45312655, "comment_id": 77621642, "body": "can you please show your service code?"}, {"owner": {"reputation": 171, "user_id": 6882631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2c0ef4ef7017dadba770d0e5cbce4813?s=128&d=identicon&r=PG&f=1", "display_name": "JT1979", "link": "https://stackoverflow.com/users/6882631/jt1979"}, "edited": false, "score": 0, "creation_date": 1501079787, "post_id": 45312655, "comment_id": 77621838, "body": "the service is about 15 layers, which part are you wanting to see?"}, {"owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1501080010, "post_id": 45312655, "comment_id": 77622009, "body": "ok, that sounds too big to show here, never mind. so, looking at your plunker example, your service is most likely the problem and the reason is that you have properties defined on your services. It&#39;s a known bug in angular: services that have anything else (properties/fields) than methods don&#39;t get GCed. <a href=\"https://github.com/angular/angular/issues/13725\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/13725</a> and services error reproduced: <a href=\"https://github.com/rmullins9/angular2-service-destruction/blob/master/src/app/instructions/instructions.component.html\" rel=\"nofollow noreferrer\">github.com/rmullins9/angular2-service-destruction/blob/maste&zwnj;&#8203;r/&hellip;</a> that is the first thing i&#39;d try to check if i were you."}, {"owner": {"reputation": 171, "user_id": 6882631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2c0ef4ef7017dadba770d0e5cbce4813?s=128&d=identicon&r=PG&f=1", "display_name": "JT1979", "link": "https://stackoverflow.com/users/6882631/jt1979"}, "edited": false, "score": 0, "creation_date": 1501083024, "post_id": 45312655, "comment_id": 77624555, "body": "thank you. We will try to do this, when we figure it out I will post anwser on here."}, {"owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1501084945, "post_id": 45312655, "comment_id": 77626041, "body": "yes please do as this kind of thing/experience is very important for all of us."}, {"owner": {"reputation": 1113, "user_id": 7896203, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/47524fac19864d21a7267812d6c6e2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/7896203/reed"}, "edited": false, "score": 0, "creation_date": 1544563019, "post_id": 45312655, "comment_id": 94318754, "body": "@JT1979 did you ever figure this out?"}], "owner": {"reputation": 171, "user_id": 6882631, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2c0ef4ef7017dadba770d0e5cbce4813?s=128&d=identicon&r=PG&f=1", "display_name": "JT1979", "link": "https://stackoverflow.com/users/6882631/jt1979"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1615, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1501077773, "creation_date": 1501013517, "last_edit_date": 1501077773, "question_id": 45312655, "link": "https://stackoverflow.com/questions/45312655/dom-memory-leak-with-angular-2", "title": "DOM memory leak with angular 2", "body": "<p>My company is building a large scale application and we have created a very large 5000+ line component. That said, we've came across a place in the application that has a memory leak. We feel that this is do to us adding thousands of controls into the DOM. <br/>\nWe have narrowed it down to where we're pushing objects into an array, and when the garbage collector cleans that up we don't thing that it is removing all of the nodes from the DOM. With all of that said we have hit a brick wall in trying to clean this up so any help would be appreciated. I have also created a <a href=\"https://plnkr.co/edit/ZpFTXljXKBWrHVRLvpKF?p=preview\" rel=\"nofollow noreferrer\">plnkr</a> similar to what we're doing and have reproduced the memory leak on a much smaller scale then our application. Can you please tell me why this is happening and how to fix it?</p>\n\n<p>The code to look at is:</p>\n\n<p><strong>.html</strong></p>\n\n<pre><code>&lt;div&gt;\n&lt;div class=\"col-sm-1 left-column\"&gt;\n  &lt;div&gt; &lt;/div&gt;\n  &lt;div *ngFor=\"let line of lines\"&gt;{{line.LineName}}&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"col-sm-11\"&gt;\n  &lt;div *ngFor=\"let column of columns\" class=\"col-sm-1\"&gt;\n    &lt;span class=column-header&gt;{{column?.Title}}&lt;/span&gt;\n    &lt;div *ngFor=\"let line of column?.LineModels\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>.ts</strong></p>\n\n<pre><code>export class ExampleComponent implements OnInit, OnDestroy {\n\n  constructor(private exampleService:ExampleService){\n  }\n\n  private lines:LineModel[]=[];\n  private columns:ColumnModel[]=[];\n\n  ngOnInit(){\n    this.lines = this.exampleService.GetLines();\n    this.columns = this.exampleService.GetColumns();\n  }\n\n  ngOnDestroy(){\n    //I have tried to lines.removeAt(line.LineIndex) doesnt remove from DOM.\n  }\n\n}\n</code></pre>\n\n<p><strong>Chrome Snap Shot</strong><br/>\n<a href=\"https://i.stack.imgur.com/vXYFR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vXYFR.jpg\" alt=\"Chrome Snap shot\"></a></p>\n\n<p><strong>Going out a second time</strong><br/>\n<a href=\"https://i.stack.imgur.com/NnmOP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NnmOP.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript", "jasmine", "sequence-generators"], "answers": [{"comments": [{"owner": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "edited": false, "score": 0, "creation_date": 1501021422, "post_id": 45312720, "comment_id": 77591384, "body": "+1 Thank you for your answer. However, to mock the generator I needed something more. I have posted my solution as an answer. You may take a look if you are interested."}], "tags": [], "owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "is_accepted": false, "score": 1, "last_activity_date": 1501013797, "creation_date": 1501013797, "answer_id": 45312720, "question_id": 45312543, "link": "https://stackoverflow.com/questions/45312543/how-to-spy-on-static-generator-functions/45312720#45312720", "title": "How to spy on static generator functions?", "body": "<p>You could return a jasmine spy object from the <code>Utility.binaryCombinationGenerator</code> method</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let binaryCombinationsSpy = jasmine.createSpyObject('binaryCombinations', ['next']);\nbinaryCombinationsSpy.next.and.returnValues(value1, value2);\nspyOn(Utility, \"binaryCombinationGenerator\").and.returnValue(binaryCombinationsSpy);\n\nexpect(binaryCombinationsSpy.next).toHaveBeenCalledTimes(2);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "is_accepted": true, "score": 0, "last_activity_date": 1501021299, "creation_date": 1501021299, "answer_id": 45314453, "question_id": 45312543, "link": "https://stackoverflow.com/questions/45312543/how-to-spy-on-static-generator-functions/45314453#45314453", "title": "How to spy on static generator functions?", "body": "<p>I am posting this as an answer as this is what I have done to mock the generator function. This is based on <a href=\"https://stackoverflow.com/a/45312720/2270340\">@0mpurdy's answer</a>.</p>\n\n<p>To mock the generator function, we actually need to call a fake function, which will provide different (and limited, if applicable) values for each call of <code>next()</code> of the generator function.</p>\n\n<p>This can be simply achieved by the following:</p>\n\n<pre><code>//arrange\nconst streamSpy= jasmine.createSpyObj(\"myGenerator\", [\"next\", \"counter\"]);\nstreamSpy.counter = 0;\nconst values = [{ value: here }, { value: goes }, { value: your }, { value: limited }, \n                { value: values }]; // devise something else if it is an infinite stream\n\n// call fake function each time for next\nstreamSpy.next.and.callFake(() =&gt; {\n    if (streamSpy.counter &lt; values.length) {\n        streamSpy.counter++;\n        return values[streamSpy.counter - 1];\n    }\n    return { value: undefined }; // EOS\n});\nspyOn(Utility, \"myGenerator\").and.returnValue(streamSpy);\n\n...\n//assert\nexpect(streamSpy.next).toHaveBeenCalledTimes(2);\n</code></pre>\n"}], "owner": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 0, "accepted_answer_id": 45314453, "answer_count": 2, "score": 0, "last_activity_date": 1501021299, "creation_date": 1501013137, "question_id": 45312543, "link": "https://stackoverflow.com/questions/45312543/how-to-spy-on-static-generator-functions", "title": "How to spy on static generator functions?", "body": "<p>I have an utility function that exposes a generator:</p>\n\n<pre><code>export class Utility {\n    // provides a generator that streams 2^n binary combinations for n variables\n    public static *binaryCombinationGenerator(numVars: number): IterableIterator&lt;boolean[]&gt; {\n        for (let i = 0; i &lt; Math.pow(2, numVars); i++) {\n            const c = [];\n           //fill up c\n            yield c;\n        }\n    }\n}\n</code></pre>\n\n<p>Now, I am using this generator in my code as follows:</p>\n\n<pre><code>myFuncion(input){\n    const n = numberOfVariables(input);\n    const binaryCombinations = Utility.binaryCombinationGenerator(n);\n    let combination: boolean[] = binaryCombinations.next().value;\n    while (till termination condition is met) {\n      // do something and check whether termination condition is met         \n      combination = binaryCombinations.next().value;\n    }\n}\n</code></pre>\n\n<p>In my unit tests (using Jasmine) I want to verify how many times the generator function is invoked (i.e. how many combinations are generated) before the termination. Below is what I have tried:</p>\n\n<pre><code>it(\"My spec\", () =&gt; {\n    //arrange\n    const generatorSpy = spyOn(Utility, \"binaryCombinationGenerator\").and.callThrough();\n    //act\n    //assert\n    expect(generatorSpy).toHaveBeenCalledTimes(16); // fails with: Expected spy binaryCombinationGenerator to have been called 16 times. It was called 1 times.\n});\n</code></pre>\n\n<p>However, this assertion fails as <code>binaryCombinationGenerator</code> is indeed called once. What I actually want to spy on is the <code>next</code> method of <code>IterableIterator</code>. </p>\n\n<p>However, I am not sure how to do that. Please suggest.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 6587448, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206960274861432/picture?type=large", "display_name": "Brayan Byrdsong", "link": "https://stackoverflow.com/users/6587448/brayan-byrdsong"}, "edited": false, "score": 0, "creation_date": 1501013334, "post_id": 45312501, "comment_id": 77587689, "body": "Cha-Ching! Thanks man, I saw that thread, tried it, but didn&#39;t get the specific version or uninstall the node_modules. Cheers!"}, {"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1501111224, "post_id": 45312501, "comment_id": 77639873, "body": "Is &#39;pin&#39; the term used instead of &#39;add&#39; in a package?"}, {"owner": {"reputation": 8038, "user_id": 304748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc0a40ced265d8fde3bd35d5689c4181?s=128&d=identicon&r=PG", "display_name": "Brian Walker", "link": "https://stackoverflow.com/users/304748/brian-walker"}, "edited": false, "score": 0, "creation_date": 1501165610, "post_id": 45312501, "comment_id": 77668664, "body": "&#39;pin&#39; means to set a specific version. For package.json that means removing any tilde (~) or caret (^) characters from the version string. In this case &quot;enhanced-resolve&quot;: &quot;3.3.0&quot; is added to the package.json so that specific version is used."}], "tags": [], "owner": {"reputation": 8038, "user_id": 304748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc0a40ced265d8fde3bd35d5689c4181?s=128&d=identicon&r=PG", "display_name": "Brian Walker", "link": "https://stackoverflow.com/users/304748/brian-walker"}, "is_accepted": true, "score": 4, "last_activity_date": 1501111157, "last_edit_date": 1501111157, "creation_date": 1501012952, "answer_id": 45312501, "question_id": 45312303, "link": "https://stackoverflow.com/questions/45312303/module-not-found-error-cant-resolve-gendir-app-app-module-ngfactory/45312501#45312501", "title": "Module not found: Error: Can&#39;t resolve &#39;./$$_gendir/app/app.module.ngfactory&#39;", "body": "<p>I had a similar problem yesterday (same error message) and I fixed it based on this angular-cli issue: </p>\n\n<p><a href=\"https://github.com/angular/angular-cli/issues/7125\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/issues/7125</a></p>\n\n<p>The fix was to pin <code>enhanced-resolve</code> to version <code>3.3.0</code> in my package.json, delete node_modules, run <code>npm install</code>, then build again. This seems to have fixed the problem for some of the people in the issue thread.</p>\n\n<p>The newer version of enhanced-resolve seems to be causing some problem.</p>\n\n<p>If it still breaks make sure you have the correct enhanced-resolve version by running <code>npm ls enhanced-resolve</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "is_accepted": false, "score": 4, "last_activity_date": 1501111424, "creation_date": 1501111424, "answer_id": 45338962, "question_id": 45312303, "link": "https://stackoverflow.com/questions/45312303/module-not-found-error-cant-resolve-gendir-app-app-module-ngfactory/45338962#45338962", "title": "Module not found: Error: Can&#39;t resolve &#39;./$$_gendir/app/app.module.ngfactory&#39;", "body": "<p>For anyone else coming accross this, there was a descrepency with older versions of <code>angular-cli</code> and <code>angular</code>. <a href=\"https://github.com/angular/angular-cli/issues/7125\" rel=\"nofollow noreferrer\">Source</a>.</p>\n\n<p>To resolve this, upgrade <code>angular-cli</code> to <code>@latest</code>. </p>\n\n<blockquote>\n<pre><code>npm uninstall -g angular-cli\nnpm cache clean\nnpm install -g @angular/cli@latest\n</code></pre>\n  \n  <p>Depending on your system, you may need to prefix the above commands\n  with sudo.</p>\n  \n  <p>Also, most likely you want to also update your local project version,\n  because inside your project directory it will be selected with higher\n  priority than the global one:</p>\n\n<pre><code>rm -rf node_modules\nnpm uninstall --save-dev angular-cli\nnpm install --save-dev @angular/cli@latest\nnpm install\n</code></pre>\n  \n  <p><a href=\"https://stackoverflow.com/questions/43931986/how-to-upgrade-angular-cli-to-the-latest-version\">How to upgrade Angular CLI to the latest version</a></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2817, "user_id": 5969121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RwCYa.jpg?s=128&g=1", "display_name": "atereshkov", "link": "https://stackoverflow.com/users/5969121/atereshkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1501435338, "creation_date": 1501435338, "answer_id": 45402622, "question_id": 45312303, "link": "https://stackoverflow.com/questions/45312303/module-not-found-error-cant-resolve-gendir-app-app-module-ngfactory/45402622#45402622", "title": "Module not found: Error: Can&#39;t resolve &#39;./$$_gendir/app/app.module.ngfactory&#39;", "body": "<p>If you don't want to use @latest angular-cli, update @angular-cli at least to v1.2.6. It's solved issue for now and you don't need to install enhanced-resolve and so on. <a href=\"https://github.com/angular/angular-cli/issues/7113\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/issues/7113</a></p>\n"}, {"tags": [], "owner": {"reputation": 465, "user_id": 5597275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21e7253376221dcd1d288c282e05240b?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh", "link": "https://stackoverflow.com/users/5597275/suresh"}, "is_accepted": false, "score": 0, "last_activity_date": 1502295094, "creation_date": 1502295094, "answer_id": 45595784, "question_id": 45312303, "link": "https://stackoverflow.com/questions/45312303/module-not-found-error-cant-resolve-gendir-app-app-module-ngfactory/45595784#45595784", "title": "Module not found: Error: Can&#39;t resolve &#39;./$$_gendir/app/app.module.ngfactory&#39;", "body": "<p><a href=\"https://i.stack.imgur.com/NGLZe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NGLZe.png\" alt=\"enter image description here\"></a>As mentioned in the previous answer, the enahnced-resolve version 3.4.1 was causing the issue. Using version 3.3.0 fixes the issue. We can pin the dpendencies versions using nopm-srinkwrap.json</p>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 10345036, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iGQx2DuRBgY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMLb1rvQ2T4mszznSSXh_0J3FlwyQ/mo/photo.jpg?sz=128", "display_name": "Noel R.", "link": "https://stackoverflow.com/users/10345036/noel-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1548994334, "creation_date": 1548994334, "answer_id": 54472778, "question_id": 45312303, "link": "https://stackoverflow.com/questions/45312303/module-not-found-error-cant-resolve-gendir-app-app-module-ngfactory/54472778#54472778", "title": "Module not found: Error: Can&#39;t resolve &#39;./$$_gendir/app/app.module.ngfactory&#39;", "body": "<p>I just ran into this issue today. I tried running the command:</p>\n\n<p>ng build --env=prod instead of ng build --prod and it seems to have solved it without adding enhanced-resolve in the package.json.</p>\n"}], "owner": {"reputation": 105, "user_id": 6587448, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206960274861432/picture?type=large", "display_name": "Brayan Byrdsong", "link": "https://stackoverflow.com/users/6587448/brayan-byrdsong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4994, "favorite_count": 0, "accepted_answer_id": 45312501, "answer_count": 5, "score": 4, "last_activity_date": 1548994334, "creation_date": 1501012160, "question_id": 45312303, "link": "https://stackoverflow.com/questions/45312303/module-not-found-error-cant-resolve-gendir-app-app-module-ngfactory", "title": "Module not found: Error: Can&#39;t resolve &#39;./$$_gendir/app/app.module.ngfactory&#39;", "body": "<p>just yesterday my code was working fine, made no changes to the app module and today when using \"ng build --prod\" I get this error. I know that it's not related to changes, when I pull older branches I get the same error. I don't know what to do, a recommendation was to update each package, but even after I still get the same error. Not even sure if you guys can help, but here's my app.module:</p>\n\n<pre><code>import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {HttpModule} from '@angular/http';\n\nimport {AppComponent} from './app.component';\nimport {LoginComponent} from './login/login.component';\nimport {CompareComponent} from './compare/compare.component';\nimport {RouterModule} from \"@angular/router\";\nimport {CompareCardComponent} from './compare/compare-card/compare-card.component';\nimport {LayoutComponent} from './layout/layout.component';\nimport {CompareValuePipe} from \"./compare/compare-card/compare-card.pipe\";\nimport {HomeComponent} from './home/home.component';\nimport {NewLocationComponent} from './new-location/new-location.component';\nimport {SignupComponent} from './signup/signup.component';\nimport {ValidateMe} from \"./shared/me.suite/validate.me/validate.me\";\nimport {TagsComponent} from './tags/tags.component';\nimport {GoogleplaceDirective} from './third-party/angular2-google-map-auto-complete/directives/googleplace.directive';\nimport { LoaderComponent } from './shared/loader/loader.component';\nimport { AlertComponent } from './shared/alert/alert.component';\nimport {Angulartics2GoogleAnalytics, Angulartics2Module} from \"angulartics2\";\nimport { OverallPipe } from './compare/overall.pipe';\nimport {InteractiveComponent} from \"./question/interactive/interactive.component\";\nimport { FormComponent } from './question/form/form.component';\nimport { KpiDescComponent } from './compare/kpi-desc/kpi-desc.component';\nimport {HashLocationStrategy, Location, LocationStrategy} from \"@angular/common\";\nimport {AccountApi} from \"./services/account-api.service\";\nimport {SettingsApi} from \"./services/settings-api.service\";\nimport {DataApi} from \"./services/data-api.service\";\nimport { ZeezorInfoComponent } from './zeezor-info/zeezor-info.component';\n\nconst ROUTES = [\n    {path: '', redirectTo: '/home', pathMatch: 'full'},\n    {path: 'compare', component: CompareComponent},\n    {path: 'new', component: NewLocationComponent},\n    {path: 'tags', component: TagsComponent},\n    {path: 'interactive', component: InteractiveComponent},\n    {path: 'form', component: FormComponent},\n    {path: 'login', component: LoginComponent},\n    {path: 'signup', component: SignupComponent},\n    {path: 'home', component: HomeComponent},\n    {path: '**', component: HomeComponent}\n];\n\n@NgModule({\n    declarations: [\n        LayoutComponent,\n        AppComponent,\n        LoginComponent,\n        CompareComponent,\n        CompareCardComponent,\n        CompareValuePipe,\n        InteractiveComponent,\n        HomeComponent,\n        NewLocationComponent,\n        SignupComponent,\n        ValidateMe,\n        TagsComponent,\n        GoogleplaceDirective,\n        LoaderComponent,\n        AlertComponent,\n        OverallPipe,\n        FormComponent,\n        KpiDescComponent,\n        ZeezorInfoComponent\n    ],\n    imports: [\n        BrowserModule,\n        FormsModule,\n        HttpModule,\n        RouterModule.forRoot(ROUTES),\n        Angulartics2Module.forRoot([ Angulartics2GoogleAnalytics ])\n    ],\n    providers: [AccountApi, DataApi, SettingsApi, Location, {provide: LocationStrategy, useClass: HashLocationStrategy}],\n    bootstrap: [AppComponent]\n})\nexport class AppModule {\n    constructor(){\n        let style = document.createElement('link');\n        style.rel = \"stylesheet\";\n        style.href = SettingsApi.styleEndpoint;\n        window.document.head.appendChild(style);\n        console.log(navigator.userAgent);\n    }\n}\n</code></pre>\n\n<p>Package.json</p>\n\n<pre><code>{\n  \"name\": \"stack-up\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\",\n    \"compile\": \"ng build --environment=mobile --output-path ../mobile/www/\",\n    \"compile:prod\": \"ng build --environment=mobile --target=production --output-path ../mobile/www/\",\n    \"docker\": \"ng build --environment=docker\",\n    \"local\": \"ng serve --environment=local\",\n    \"dev\": \"ng build --environment=dev\",\n    \"prod\": \"ng build --environment=prod --target=production --output-path /var/www/html/\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"^2.4.0\",\n    \"@angular/compiler\": \"^2.4.0\",\n    \"@angular/core\": \"^2.4.0\",\n    \"@angular/forms\": \"^2.4.0\",\n    \"@angular/http\": \"^2.4.0\",\n    \"@angular/platform-browser\": \"^2.4.0\",\n    \"@angular/platform-browser-dynamic\": \"^2.4.0\",\n    \"@angular/router\": \"^3.4.0\",\n    \"angular2-jwt\": \"^0.2.2\",\n    \"angular2-social-login\": \"^2.1.0\",\n    \"angulartics2\": \"^2.2.1\",\n    \"core-js\": \"^2.4.1\",\n    \"rxjs\": \"^5.0.1\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"tslint\": \"^3.15.1\",\n    \"zone.js\": \"^0.7.2\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"1.0.0-beta.31\",\n    \"@angular/compiler-cli\": \"^2.4.0\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/node\": \"^6.0.42\",\n    \"codelyzer\": \"~2.0.0-beta.1\",\n    \"jasmine-core\": \"2.5.2\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-coverage-istanbul-reporter\": \"^0.2.0\",\n    \"protractor\": \"~5.1.0\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"^4.3.0\",\n    \"typescript\": \"~2.0.0\"\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material2"], "comments": [{"owner": {"reputation": 21, "user_id": 1765582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1769f35728680d6606ea3b0d65aad16f?s=128&d=identicon&r=PG", "display_name": "Jebedo", "link": "https://stackoverflow.com/users/1765582/jebedo"}, "edited": false, "score": 0, "creation_date": 1503918472, "post_id": 45312247, "comment_id": 78796343, "body": "<code>&lt;ng-container cdkColumnDef=&quot;**nome**&quot;&gt;</code> Are you sure this isn&#39;t a typo?"}, {"owner": {"reputation": 107, "user_id": 7562631, "user_type": "registered", "profile_image": "https://graph.facebook.com/253674428393010/picture?type=large", "display_name": "Luciano Trez", "link": "https://stackoverflow.com/users/7562631/luciano-trez"}, "reply_to_user": {"reputation": 21, "user_id": 1765582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1769f35728680d6606ea3b0d65aad16f?s=128&d=identicon&r=PG", "display_name": "Jebedo", "link": "https://stackoverflow.com/users/1765582/jebedo"}, "edited": false, "score": 0, "creation_date": 1504904128, "post_id": 45312247, "comment_id": 79211516, "body": "For everyone that need something like this, I&#39;ve found another way <a href=\"https://github.com/angular/material2/tree/master/src/demo-app/table\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 7562631, "user_type": "registered", "profile_image": "https://graph.facebook.com/253674428393010/picture?type=large", "display_name": "Luciano Trez", "link": "https://stackoverflow.com/users/7562631/luciano-trez"}, "edited": false, "score": 0, "creation_date": 1501072123, "post_id": 45314042, "comment_id": 77615479, "body": "Unfortunately didn&#39;t work, still getting error from md-table: ERROR Error: cdk-table: Could not find column with id &quot;id&quot;.     at getTableUnknownColumnError (<a href=\"http://localhost:52686/dist/vendor.js?v=229_tiizAgVyplzgNHmvuD9nw-v9A0XTy8pogI_TkFc:40683:12\" rel=\"nofollow noreferrer\">localhost:52686/dist/&hellip;</a>) .. .."}], "tags": [], "owner": {"reputation": 3095, "user_id": 4811678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r7uKZWJH11w/AAAAAAAAAAI/AAAAAAAAAHM/z23Cohreq6o/photo.jpg?sz=128", "display_name": "Will Howell", "link": "https://stackoverflow.com/users/4811678/will-howell"}, "is_accepted": false, "score": 0, "last_activity_date": 1501019162, "creation_date": 1501019162, "answer_id": 45314042, "question_id": 45312247, "link": "https://stackoverflow.com/questions/45312247/how-to-add-columndefinitions-into-md-table-from-my-component-content/45314042#45314042", "title": "How to add columnDefinitions into md-table from my component content", "body": "<p>Try this. I don't know if it will work, but worth a shot. </p>\n\n<pre><code>&lt;md-table [dataSource]=\"dataSource\" mdSort&gt;\n\n  &lt;!-- This will selectively pass the content of 'tabela-com-consulta' --&gt;\n  &lt;ng-content select=\"[cdkColumnDef]\"&gt;&lt;/ng-content&gt;\n\n  &lt;md-header-row *cdkHeaderRowDef=\"displayedColumns\"&gt;&lt;/md-header-row&gt;\n  &lt;md-row *cdkRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/md-row&gt;\n&lt;/md-table&gt;\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 7562631, "user_type": "registered", "profile_image": "https://graph.facebook.com/253674428393010/picture?type=large", "display_name": "Luciano Trez", "link": "https://stackoverflow.com/users/7562631/luciano-trez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1218, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1503918472, "creation_date": 1501011915, "last_edit_date": 1501012367, "question_id": 45312247, "link": "https://stackoverflow.com/questions/45312247/how-to-add-columndefinitions-into-md-table-from-my-component-content", "title": "How to add columnDefinitions into md-table from my component content", "body": "<p>I'm starting in Angular 2 and didn't found anything like this.</p>\n\n<p>How I said in the title, I've a component with column definitions set in content, like this:</p>\n\n<pre><code>        &lt;tabela-com-consulta [dataSource]=\"ds\"&gt;\n            &lt;ng-container cdkColumnDef=\"id\"&gt;\n                &lt;md-header-cell *cdkHeaderCellDef md-sort-header &gt;ID&lt;/md-header-cell&gt;\n                &lt;md-cell *cdkCellDef=\"let row\"&gt;{{row.id}}&lt;/md-cell&gt;\n            &lt;/ng-container&gt;\n            &lt;ng-container cdkColumnDef=\"nome\"&gt;\n                &lt;md-header-cell *cdkHeaderCellDef md-sort-header&gt;Name&lt;/md-header-cell&gt;\n                &lt;md-cell *cdkCellDef=\"let row\"&gt;{{row.name}}&lt;/md-cell&gt;\n            &lt;/ng-container&gt;\n        &lt;/tabela-com-consulta&gt;\n</code></pre>\n\n<p>Now this is my component template:</p>\n\n<pre><code>&lt;div id=\"ls\" fxFlexFill&gt;\n    &lt;md-table [dataSource]=\"dataSource\" mdSort&gt;\n        &lt;!-- Add this for each ContentChildren of my component\n                &lt;ng-container cdkColumnDef=\"id\"&gt;\n                    &lt;md-header-cell *cdkHeaderCellDef md-sort-header&gt;ID&lt;/md-header-cell&gt;\n                    &lt;md-cell *cdkCellDef=\"let row\"&gt;{{row.id}}&lt;/md-cell&gt;\n                &lt;/ng-container&gt;\n         --&gt;\n        &lt;md-header-row *cdkHeaderRowDef=\"displayedColumns\"&gt;&lt;/md-header-row&gt;\n        &lt;md-row *cdkRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/md-row&gt;\n    &lt;/md-table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And the component ts code:</p>\n\n<pre><code>@Component({\n    selector: 'tabela-com-consulta',\n    templateUrl: 'tabela_com_consulta.component.html',\n    styleUrls: ['tabela_com_consulta.component.css']\n})\nexport class TabelaComConsultaComponent&lt;T&gt; implements OnInit, OnDestroy, AfterViewInit {\n\n[...]\n\n    @ContentChildren(CdkColumnDef) columnDefinitions: QueryList&lt;CdkColumnDef&gt;;\n\n    ngAfterViewInit() {\n\n    }\n}\n</code></pre>\n\n<p>I can't figure out how to use the columnDefinitions taken from @ContentChildren to put in md-table content. And I don't know if I'm doing this right too. My goal is have the column definitions in content of my component and get it into the md-table. How to do that?</p>\n"}, {"tags": ["javascript", "jquery", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1147, "user_id": 8334943, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2b5daf0e1c1635144e913ea11e271195?s=128&d=identicon&r=PG&f=1", "display_name": "user8334943", "link": "https://stackoverflow.com/users/8334943/user8334943"}, "edited": false, "score": 0, "creation_date": 1501013688, "post_id": 45312245, "comment_id": 77587875, "body": "Thanks Kai!  I put the ng2 change hook you mentioned in the select control and I put a corresponding js function in the component for event handling. Let&#39;s say I wire up a (change) in 2 selects with that function call: opt1, opt2. Whenever the change event occurs in 1 of the selects, the triggered function should get the selected values from both opt1 and opt2 as search criteria values. What would be the proper way to get those select values from the component? For example, in jQuery I would just get the value like $(&#39;#opt1&#39;).val()."}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "reply_to_user": {"reputation": 1147, "user_id": 8334943, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2b5daf0e1c1635144e913ea11e271195?s=128&d=identicon&r=PG&f=1", "display_name": "user8334943", "link": "https://stackoverflow.com/users/8334943/user8334943"}, "edited": false, "score": 0, "creation_date": 1501014230, "post_id": 45312245, "comment_id": 77588199, "body": "@user8334943 that&#39;s probably a separate question which you should ask a new one for :) And you will probably find your answer in the <a href=\"https://angular.io/guide/forms\" rel=\"nofollow noreferrer\">Angular forms documentation here</a>"}, {"owner": {"reputation": 1147, "user_id": 8334943, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2b5daf0e1c1635144e913ea11e271195?s=128&d=identicon&r=PG&f=1", "display_name": "user8334943", "link": "https://stackoverflow.com/users/8334943/user8334943"}, "edited": false, "score": 0, "creation_date": 1501018099, "post_id": 45312245, "comment_id": 77590134, "body": "Looks like Renderer and ElementRef have been or are being deprecated.  I need to find the latest way to do this in a basic component"}], "tags": [], "owner": {"reputation": 2062, "user_id": 7065839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gknK.jpg?s=128&g=1", "display_name": "Kai", "link": "https://stackoverflow.com/users/7065839/kai"}, "is_accepted": true, "score": 1, "last_activity_date": 1501011905, "creation_date": 1501011905, "answer_id": 45312245, "question_id": 45312070, "link": "https://stackoverflow.com/questions/45312070/what-is-the-proper-ng2-implementation-sequence-for-refreshing-component-display/45312245#45312245", "title": "what is the proper ng2 implementation sequence for refreshing component display based on dropdown selection?", "body": "<blockquote>\n  <p>In traditional js, I would bind to the click event of the dropdown to call a refreshDisplay() function which gets the selected value, builds a request object and makes an ajax call with the request object.</p>\n</blockquote>\n\n<p>That's exactly what you'll do in Angular, except instead of directly interacting with the browser event, you'll use Angular's abstraction:</p>\n\n<pre><code>&lt;select (change)=\"someMethod()\"&gt;\n...options\n&lt;/select&gt;\n</code></pre>\n"}], "owner": {"reputation": 1147, "user_id": 8334943, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2b5daf0e1c1635144e913ea11e271195?s=128&d=identicon&r=PG&f=1", "display_name": "user8334943", "link": "https://stackoverflow.com/users/8334943/user8334943"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 45312245, "answer_count": 1, "score": 0, "last_activity_date": 1501011905, "creation_date": 1501011229, "question_id": 45312070, "link": "https://stackoverflow.com/questions/45312070/what-is-the-proper-ng2-implementation-sequence-for-refreshing-component-display", "title": "what is the proper ng2 implementation sequence for refreshing component display based on dropdown selection?", "body": "<p>What is the proper ng2 implementation sequence for refreshing a component display based on dropdown selection? I have a users.component and a users.service which searches (posts) for users based on a provided request object.</p>\n\n<p>The users component html template has a Region dropdown. When a site user selects the Region dropdown, a list of users belonging to the selected region should be displayed in the component based on the selected region.</p>\n\n<p>What would be the proper way to pass the request object to the users.service? The users.service should not build this request object, of course, only accept it. In traditional js, I would bind to the click event of the dropdown to call a refreshDisplay() function which gets the selected value, builds a request object and makes an ajax call with the request object. </p>\n"}, {"tags": ["javascript", "node.js", "express", "typescript", "httpserver"], "answers": [{"tags": [], "owner": {"reputation": 1007, "user_id": 5679917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EFOEI.jpg?s=128&g=1", "display_name": "SimplyComplexable", "link": "https://stackoverflow.com/users/5679917/simplycomplexable"}, "is_accepted": false, "score": 0, "last_activity_date": 1501016320, "creation_date": 1501016320, "answer_id": 45313361, "question_id": 45311775, "link": "https://stackoverflow.com/questions/45311775/using-typescript-and-express-views-do-not-render-instead-server-files-are-show/45313361#45313361", "title": "Using TypeScript and Express, views do not render. Instead server files are shown", "body": "<p>The directory of the views you are trying to load needs to be a full path, rather than a relative path. Try:</p>\n\n<p><code>app.set('views', path.join(__dirname, 'views'));</code></p>\n"}, {"comments": [{"owner": {"reputation": 829, "user_id": 2056284, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/q48BY.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/2056284/james"}, "edited": false, "score": 0, "creation_date": 1502133430, "post_id": 45314475, "comment_id": 78068274, "body": "With TypeScript, the http-server package doesn&#39;t support <code>http.createServer(app)</code> only <code>http.createServer(Options? | undefined);</code> so I was unable to use this. Your second solution, however, did the trick. Thank you!"}], "tags": [], "owner": {"reputation": 1630, "user_id": 5352526, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/d88a459f951698d84ea235755dccf96d?s=128&d=identicon&r=PG&f=1", "display_name": "Aren Hovsepyan", "link": "https://stackoverflow.com/users/5352526/aren-hovsepyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1501021448, "creation_date": 1501021448, "answer_id": 45314475, "question_id": 45311775, "link": "https://stackoverflow.com/questions/45311775/using-typescript-and-express-views-do-not-render-instead-server-files-are-show/45314475#45314475", "title": "Using TypeScript and Express, views do not render. Instead server files are shown", "body": "<p>You haven't used your express instance as server.</p>\n\n<p>You need to do this</p>\n\n<pre><code>http.createServer(app).listen(app.get('port'));\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>app.listen(app.get('port'))\n</code></pre>\n\n<p>Basically you called your server without any handler, so it shows your directory of main script.</p>\n\n<p>You have created express instance, but did not added to <code>http</code> server.</p>\n"}], "owner": {"reputation": 829, "user_id": 2056284, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/q48BY.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/2056284/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1138, "favorite_count": 0, "accepted_answer_id": 45314475, "answer_count": 2, "score": 0, "last_activity_date": 1501021448, "creation_date": 1501010088, "last_edit_date": 1501011774, "question_id": 45311775, "link": "https://stackoverflow.com/questions/45311775/using-typescript-and-express-views-do-not-render-instead-server-files-are-show", "title": "Using TypeScript and Express, views do not render. Instead server files are shown", "body": "<p>I'm trying to create a webapp using TypeScript. I have my app.js file creating a server, but the route I'm defining is never hit. Instead, files on the server at the root of the project are shown.</p>\n\n<p>Here is my code.</p>\n\n<pre><code>//app.ts\nimport * as express from 'express';\nimport * as http from 'http-server';\n\nlet app = express();\n\napp.set('port', 443);\napp.set('views', './views');\napp.set('view engine', 'jade');\n\napp.get('/', function(req: any, res: any) {\n    // This code is never reached on 'GET /' requests.\n    res.render('index');\n});\n\napp.use(function(req: any, res: any, next: any) {});\napp.use(function(err, req, res, next) {});\n\nhttp.createServer().listen(app.get('port'));\n\nconsole.log(\"Listening...\");\n</code></pre>\n\n<p>When I go to <code>localhost:443</code> I'm met with the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qUKhu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qUKhu.png\" alt=\"showing server files instead of rendering\"></a></p>\n\n<p>In messing around with the code I'm able to do an <code>app.render()</code> call to see the rendered HTML as a string in the debugger, which is more than I can get out of this configuration, but even still just calling <code>app.render('index');</code> doesn't actually render anything. Sample below.</p>\n\n<pre><code>app.render('index', function(err: Error, html: string) {\n    console.log(html); // Outputs the rendered view, but it is not rendered on the page.\n});\n</code></pre>\n\n<p>What do you think?</p>\n"}, {"tags": ["javascript", "typescript", "mocha.js", "chai", "jsdom"], "comments": [{"owner": {"reputation": 530, "user_id": 3669863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C9OjF.jpg?s=128&g=1", "display_name": "veratti", "link": "https://stackoverflow.com/users/3669863/veratti"}, "edited": false, "score": 0, "creation_date": 1501009818, "post_id": 45311337, "comment_id": 77585714, "body": "Should it be doc.querySelector ? I see where you have defined doc from the body, but I don&#39;t see document defined anywhere, even in global."}], "answers": [{"tags": [], "owner": {"reputation": 530, "user_id": 3669863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C9OjF.jpg?s=128&g=1", "display_name": "veratti", "link": "https://stackoverflow.com/users/3669863/veratti"}, "is_accepted": true, "score": 4, "last_activity_date": 1501010339, "creation_date": 1501010339, "answer_id": 45311836, "question_id": 45311337, "link": "https://stackoverflow.com/questions/45311337/how-to-use-jsdom-to-test-functions-with-document/45311836#45311836", "title": "how to use jsdom to test functions with &#39;document&#39;", "body": "<p>You can make the JSDOM's document available to your tests globally if you prepare it in advance. </p>\n\n<pre><code>import { JSDOM } from 'jsdom';\nconst { window } = new JSDOM('&lt;!doctype html&gt;&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;');\n\n// Save these two objects in the global space so that libraries/tests\n// can hook into them, using the above doc definition.\nglobal.document = window.document;\nglobal.window = window;\n</code></pre>\n\n<p>Write this into a separate file and add that file as a parameter to mocha right before your spec files. Something like:</p>\n\n<pre><code>_mocha Specs/_setup.js Specs/*.js\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 1806756, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f0ed663e12661fd5b77c8799e14fa134?s=128&d=identicon&r=PG", "display_name": "user1806756", "link": "https://stackoverflow.com/users/1806756/user1806756"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2568, "favorite_count": 0, "accepted_answer_id": 45311836, "answer_count": 1, "score": 0, "last_activity_date": 1501010339, "creation_date": 1501008442, "question_id": 45311337, "link": "https://stackoverflow.com/questions/45311337/how-to-use-jsdom-to-test-functions-with-document", "title": "how to use jsdom to test functions with &#39;document&#39;", "body": "<p>I have a small question.. I am trying to test some functions I created (written in Typescript), and I am using mocha/chai/jsdom. Now, I get an error while testing functions with 'document' inside the document.. I get the message 'ReferenceError: document is not defined'. How can I still test these functions with 'document' in it?</p>\n\n<p>For example:</p>\n\n<p>[prompt.spec.ts]</p>\n\n<pre><code>import { expect } from 'chai'\nimport { JSDOM } from 'jsdom'\nimport { functionX } from './functions'\n\ndescribe('Functions', () =&gt; {\n  it('is possible to execute functionX with simple parameters', () =&gt; {\n    const jsdom = new JSDOM()\n    const htmlElement = jsdom.window.document.createElement('div')\n    expect(functionX(htmlElement, function() { return true; } )).to.equal(true)\n  })\n})\n</code></pre>\n\n<p>[functions.ts]</p>\n\n<pre><code>export const functionX = (\n    body:HTMLElement, callback: (ok: boolean) =&gt; void\n) =&gt; {\n    const doc = body.ownerDocument\n    const parent = doc.body\n\n    // ...\n\n    let container = document.querySelector('.container') as HTMLDivElement  //  ReferenceError: document is not defined\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1501008701, "post_id": 45310982, "comment_id": 77585104, "body": "If you open it in the inspector, is the div there or commented out?"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "reply_to_user": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1501008773, "post_id": 45310982, "comment_id": 77585142, "body": "It&#39;s commented out."}], "answers": [{"comments": [{"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1501008402, "post_id": 45311318, "comment_id": 77584891, "body": "Does this work in Angular 2? Or is this only valid for Angular 4+?"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1501008612, "post_id": 45311318, "comment_id": 77585034, "body": "Yup. Thought so. Not an option in Angular 2."}], "tags": [], "owner": {"reputation": 6045, "user_id": 787187, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c255f18cab3a190bea887ba712c8b8ea?s=128&d=identicon&r=PG", "display_name": "Hareesh", "link": "https://stackoverflow.com/users/787187/hareesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1501008352, "creation_date": 1501008352, "answer_id": 45311318, "question_id": 45310982, "link": "https://stackoverflow.com/questions/45310982/not-getting-expected-result-in-negative-case-with-ngif-in-angular-2-app/45311318#45311318", "title": "Not Getting Expected Result in Negative Case with *ngIf in Angular 2 App", "body": "<p>Try this</p>\n\n<pre><code>&lt;span *ngIf=\"flag.flag !== '';else noFlag\" class=\"standard-flag\"&gt;\n    {{flag?.flag}} \n&lt;/span&gt;\n\n&lt;ng-template #noFlag&gt;No Flags&lt;/ng-template&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 7030058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d99361f43e408b24f84754d47ef3162?s=128&d=identicon&r=PG&f=1", "display_name": "Muralikrishnan", "link": "https://stackoverflow.com/users/7030058/muralikrishnan"}, "is_accepted": false, "score": -1, "last_activity_date": 1501009228, "last_edit_date": 1501009228, "creation_date": 1501008457, "answer_id": 45311340, "question_id": 45310982, "link": "https://stackoverflow.com/questions/45310982/not-getting-expected-result-in-negative-case-with-ngif-in-angular-2-app/45311340#45311340", "title": "Not Getting Expected Result in Negative Case with *ngIf in Angular 2 App", "body": "<p>Print  'flag.flag' and see its value.If you look at below samples.Any values such as '',null,undefined can also make your section vanish </p>\n\n<pre><code> &lt;span *ngIf=\"''\" class=\"zero-flags\"&gt;\n                    No Flags -- wont work\n                &lt;/span&gt; \n                &lt;span *ngIf=\"null\" class=\"zero-flags\"&gt;\n                    No Flags  -- wont work\n                &lt;/span&gt; \n                &lt;span *ngIf=\"undefined\" class=\"zero-flags\"&gt;\n                    No Flags  -- wont work\n                &lt;/span&gt;\n                &lt;span *ngIf=\"false\" class=\"zero-flags\"&gt;\n                    No Flags \n                &lt;/span&gt; \n                &lt;span *ngIf=\"true\" class=\"zero-flags\"&gt;\n                    No Flags\n                &lt;/span&gt; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1501010372, "post_id": 45311424, "comment_id": 77585998, "body": "Right answer, thanks. The answer above you had identified the same issue just before you. Thanks for the help."}, {"owner": {"reputation": 4623, "user_id": 1783706, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/03a5469d1b5a89c451edceb3082a2bd5?s=128&d=identicon&r=PG&f=1", "display_name": "robbannn", "link": "https://stackoverflow.com/users/1783706/robbannn"}, "reply_to_user": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1501010561, "post_id": 45311424, "comment_id": 77586122, "body": "Youre welcome, but look at the time for our answers, i answered 3 minutes earlier... :)"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1501010720, "post_id": 45311424, "comment_id": 77586217, "body": "Right you are. Marked yours as correct, accordingly."}], "tags": [], "owner": {"reputation": 4623, "user_id": 1783706, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/03a5469d1b5a89c451edceb3082a2bd5?s=128&d=identicon&r=PG&f=1", "display_name": "robbannn", "link": "https://stackoverflow.com/users/1783706/robbannn"}, "is_accepted": true, "score": 3, "last_activity_date": 1501009844, "last_edit_date": 1501009844, "creation_date": 1501008742, "answer_id": 45311424, "question_id": 45310982, "link": "https://stackoverflow.com/questions/45310982/not-getting-expected-result-in-negative-case-with-ngif-in-angular-2-app/45311424#45311424", "title": "Not Getting Expected Result in Negative Case with *ngIf in Angular 2 App", "body": "<p>If there is no flags in <code>status.flags</code> you will never hit the statement that prints \"No flags\". You can't iterate an empty array. Use an <code>*ngIf</code> to check if there are any flags in <code>status.flags</code> first. If not print \"No flags\".</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let status of record.status\"&gt;\n    &lt;div *ngIf=\"status.flags.length &gt; 0\"&gt;\n        &lt;td *ngFor=\"let flag of status.flags\"&gt; \n            &lt;span *ngIf=\"flag.flag\" class=\"standard-flag\"&gt;\n                {{flag?.flag}} \n            &lt;/span&gt;\n        &lt;/td&gt;\n    &lt;/div&gt;\n    &lt;div *ngIf=\"status.flags.length &lt; 1\"&gt;\n        &lt;td&gt;\n            &lt;span *ngIf=\"!flag.flag\" class=\"zero-flags\"&gt;\n                No Flags\n            &lt;/span&gt;\n        &lt;/td&gt;\n    &lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1501009374, "post_id": 45311487, "comment_id": 77585472, "body": "Ah, I think you&#39;re onto something here. That best explains what I&#39;m seeing. Will give this a try, thanks."}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1501010415, "post_id": 45311487, "comment_id": 77586020, "body": "This was the issue, thanks. Didn&#39;t realize this about *ngFor. Good to know. :)"}, {"owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "edited": false, "score": 0, "creation_date": 1501010828, "post_id": 45311487, "comment_id": 77586289, "body": "Both you and the other commenter pointed out the correct issue. Just realized his was posted just before, so I marked that as the correct answer. But thanks to both of you for the troubleshooting help. :)"}], "tags": [], "owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "is_accepted": false, "score": 2, "last_activity_date": 1501008960, "creation_date": 1501008960, "answer_id": 45311487, "question_id": 45310982, "link": "https://stackoverflow.com/questions/45310982/not-getting-expected-result-in-negative-case-with-ngif-in-angular-2-app/45311487#45311487", "title": "Not Getting Expected Result in Negative Case with *ngIf in Angular 2 App", "body": "<p><code>*ngFor</code> will only run if there is data in the array.  Otherwise, everything inside it is ignored, so your \"No Flags\" markup is never being read at all.</p>\n\n<p>Try moving it outside of the <code>*ngfor</code> and writing it like this:</p>\n\n<pre><code>&lt;td *ngIf=\"!status.flags.length\"&gt;\n    &lt;span class=\"zero-flags\"&gt;\n        No Flags\n    &lt;/span&gt;\n&lt;/td&gt;\n</code></pre>\n"}], "owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 45311424, "answer_count": 4, "score": 3, "last_activity_date": 1501009844, "creation_date": 1501007101, "last_edit_date": 1501008563, "question_id": 45310982, "link": "https://stackoverflow.com/questions/45310982/not-getting-expected-result-in-negative-case-with-ngif-in-angular-2-app", "title": "Not Getting Expected Result in Negative Case with *ngIf in Angular 2 App", "body": "<p>In my Angular2 app I am printing to the view some data in a table layout. One section of our data is an array of flags. Right now I'm successfully using a combination of <code>*ngFor</code> and <code>*ngIf</code> to print values to the view when those values exist. This is all working as expected with this code:</p>\n\n<pre><code>    &lt;ng-container *ngFor=\"let status of record.status\"&gt; \n        &lt;td *ngFor=\"let flag of status.flags\"&gt; \n            &lt;span *ngIf=\"flag.flag\" class=\"standard-flag\"&gt;\n                 {{flag?.flag}} \n            &lt;/span&gt;\n            &lt;span *ngIf=\"!flag.flag\" class=\"zero-flags\"&gt;\n                No Flags\n            &lt;/span&gt;\n        &lt;/td&gt;  \n    &lt;/ng-container&gt;\n</code></pre>\n\n<p>Now, in the case where there is no data (i.e., empty arrays) I'd like to simply print \"No Flags\" to the screen -- see above. As far as I know, there is no \"else\" functionality prior to Angular 4 (correct me if I'm wrong). So what I need to do is use an <code>*ngIf</code> to evaluate when this is the case and print 'No Flags' to the screen accordingly. </p>\n\n<p>This is proving peculiarly difficult, and I'm not sure why. I've stared at the screen for too long, and have tried numerous combinations, all to no avail. </p>\n\n<p>To handle the case where there is no value in \"flags\", I've tried what I have now:</p>\n\n<pre><code>&lt;span *ngIf=\"!flag.flag\" class=\"zero-flags\"&gt;\n</code></pre>\n\n<p>As well as:</p>\n\n<pre><code>&lt;span *ngIf=\"flag.flag ===''\" class=\"zero-flags\"&gt;\n</code></pre>\n\n<p>I don't get errors, I just either get the correct value printed to the view, or, if there is no value, nothing appears at all (when what should appear is \"No Flags\"). What am I missing here? How could I handle this to get the desired result? Basically, I want \"No Flags\" to print to the view in the case where \"flags\" is an empty array for all 3 objects within the \"status\" array.</p>\n\n<p>For reference, the data looks like this:</p>\n\n<pre><code>\"status\": [\n    {\n        \"reference\": \"gold\",\n        \"flags\": []\n    },\n    {\n        \"reference\": \"silver\",\n        \"flags\": []\n    },\n    {\n        \"reference\": \"bronze\",\n        \"flags\": [\n            {\n                \"flag\": \"Not Available\",\n                \"flagType\": \"normal\"\n            }\n    }\n],\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-ui-router"], "comments": [{"owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "edited": false, "score": 0, "creation_date": 1530053477, "post_id": 45310888, "comment_id": 89095804, "body": "<a href=\"https://stackoverflow.com/questions/37710936/delay-navigating-to-next-page\" title=\"delay navigating to next page\">stackoverflow.com/questions/37710936/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "is_accepted": true, "score": 12, "last_activity_date": 1501011783, "last_edit_date": 1501011783, "creation_date": 1501007049, "answer_id": 45310966, "question_id": 45310888, "link": "https://stackoverflow.com/questions/45310888/delay-for-router-in-angular2/45310966#45310966", "title": "Delay for router in Angular2", "body": "<blockquote>\n  <p>setTimeout(function, milliseconds) Executes a function, after waiting\n  a specified number of milliseconds.</p>\n</blockquote>\n\n<pre><code>go_next(){\n    setTimeout(() =&gt; {\n        this.router.navigate(['app'], {queryParams: {'part': this.part + 1}})\n      }\n      , 5000);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "is_accepted": false, "score": 3, "last_activity_date": 1501007948, "creation_date": 1501007948, "answer_id": 45311192, "question_id": 45310888, "link": "https://stackoverflow.com/questions/45310888/delay-for-router-in-angular2/45311192#45311192", "title": "Delay for router in Angular2", "body": "<p>You can take advantage of RxJS to achieve this. By making <code>say()</code> return an observable using <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/create.md\" rel=\"nofollow noreferrer\">Observable.create</a>, you can emit a value asynchronously whenever it's fully completed. Within <code>go_next()</code>, you can utilize <code>delay()</code> to wait any amount of time before acting on the emitted value within <code>subscribe()</code>. In this case the emitted value from <code>say()</code> can be anything, you simply need to call <code>next()</code> to emit some kind of value.</p>\n\n<p>This pattern could allow you to handle error and completed states of say() if necessary or depending on how <code>say()</code> is structured, allow multiple subscribers to react to it's value/error/completion.</p>\n\n<pre><code>say(): Observable&lt;any&gt; {\n  return Observable.create(observer =&gt; {\n    // some logic goes here\n    // emit value when completed\n    observer.next(true);\n  });\n}\n\ngo_next() {\n  this.say().delay(5000).subscribe(() =&gt; {\n      // this.router.navigate( ['app'], { queryParams: { 'part': this.part+1 } } );\n  });\n}\n</code></pre>\n\n<p>Here is a <a href=\"https://plnkr.co/edit/Izi1z8vPyNlWuArg87Tc?p=preview\" rel=\"nofollow noreferrer\">plunker</a> demonstrating the functionality.</p>\n\n<p>Hopefully that helps!</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 7612940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65b08832832cde34920f5734b1e3f71d?s=128&d=identicon&r=PG&f=1", "display_name": "Algorhythmist", "link": "https://stackoverflow.com/users/7612940/algorhythmist"}, "is_accepted": false, "score": 3, "last_activity_date": 1529966648, "creation_date": 1529966648, "answer_id": 51032701, "question_id": 45310888, "link": "https://stackoverflow.com/questions/45310888/delay-for-router-in-angular2/51032701#51032701", "title": "Delay for router in Angular2", "body": "<p>You could use a resolve on the route.</p>\n\n<pre><code>import { Observable } from 'rxjs';\nimport { Injectable} from '@angular/core';\nimport { Resolve } from '@angular/router';\n\n@Injectable()\nexport class DelayResolve implements Resolve&lt;Observable&lt;any&gt;&gt; {\n\n  constructor() {\n  }\n\n  resolve(): any {\n    return Observable.of('delayed navigation').delay(500);\n  }\n}\n</code></pre>\n\n<p>Then it the routes just apply the resolve:</p>\n\n<pre><code>path: 'yourpath',\ncomponent: YourComponent,\nresolve: [DelayResolve],\n</code></pre>\n"}], "owner": {"reputation": 1295, "user_id": 8173932, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/887a51c68636c47f1666c1436913ddbf?s=128&d=identicon&r=PG&f=1", "display_name": "Anna F", "link": "https://stackoverflow.com/users/8173932/anna-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8963, "favorite_count": 1, "accepted_answer_id": 45310966, "answer_count": 3, "score": 5, "last_activity_date": 1529966648, "creation_date": 1501006729, "question_id": 45310888, "link": "https://stackoverflow.com/questions/45310888/delay-for-router-in-angular2", "title": "Delay for router in Angular2", "body": "<p>I have this code, which have 2 functions:\n<code>say()</code> will play the music (is implemented and it works)\nand <code>router</code> leads to next page (it works also) </p>\n\n<pre><code>go_next() {\n     this.say(); // audio\n     this.router.navigate( ['app'], { queryParams: { 'part': this.part+1 } } ); //go to next page \n}\n</code></pre>\n\n<p>But what I would like to do is to play music (it takes 5 sec) and then to go to the next page...how could I implement this?..I guess, I have to implement some kind of <code>delay</code>, but I can't find such parameter by <code>router.navigate</code>.</p>\n"}, {"tags": ["javascript", "html", "typescript", "canvas", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 6103, "user_id": 7325327, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYY60.jpg?s=128&g=1", "display_name": "Gabriel Barreto", "link": "https://stackoverflow.com/users/7325327/gabriel-barreto"}, "edited": false, "score": 0, "creation_date": 1501009428, "post_id": 45311292, "comment_id": 77585503, "body": "So simple i can&#39;t believe hahaha thanks man, solved my problem."}], "tags": [], "owner": {"reputation": 41032, "user_id": 3877726, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/C7qq2.png?s=128&g=1", "display_name": "Blindman67", "link": "https://stackoverflow.com/users/3877726/blindman67"}, "is_accepted": true, "score": 0, "last_activity_date": 1501008269, "creation_date": 1501008269, "answer_id": 45311292, "question_id": 45310771, "link": "https://stackoverflow.com/questions/45310771/canvas-click-particle-explosion-effect-not-targeting-mouse-position/45311292#45311292", "title": "Canvas click particle explosion effect not targeting mouse position", "body": "<p>I cant see you setting the canvas resolution, you are only setting the canvas display size. This would explain a mismatch between rendering and user IO.</p>\n\n<p>Try the following when you create the canvas</p>\n\n<pre><code>c.style.width = (c.width = innerWidth) + 'px'; \nc.style.height = (c.height = innerHeight) + 'px';\n</code></pre>\n\n<p>That will match the canvas resolution to the display size, that way you will be rendering at the correct pixel locations.</p>\n"}], "owner": {"reputation": 6103, "user_id": 7325327, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYY60.jpg?s=128&g=1", "display_name": "Gabriel Barreto", "link": "https://stackoverflow.com/users/7325327/gabriel-barreto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 0, "accepted_answer_id": 45311292, "answer_count": 1, "score": 0, "last_activity_date": 1501872499, "creation_date": 1501006265, "last_edit_date": 1501872499, "question_id": 45310771, "link": "https://stackoverflow.com/questions/45310771/canvas-click-particle-explosion-effect-not-targeting-mouse-position", "title": "Canvas click particle explosion effect not targeting mouse position", "body": "<p>i'm trying to do a simple particle explosion effect so when the user clicks somewhere on the app it get's the user click position, create a canvas, create the explosion effect and then remove the canvas.</p>\n\n<p>I'm totally new to canvas and got the idea from this site: <a href=\"https://www.cs.utexas.edu/~teammco/misc/html_canvas_particles/\" rel=\"nofollow noreferrer\">canvas example</a></p>\n\n<p>The case is it's not getting te click position right for the explosion effect, it should start with the center at the clicked area. But the farther i go from the left/top corner, farther down to the screen my effect is shown.</p>\n\n<p>So here's some code:</p>\n\n<p>In my <code>app.components.ts</code> (whose is the main file, i need it to work on every page, so i decided to put my code here) i have the following:</p>\n\n<pre><code>import { Particle } from './Particle'; //  IMPORT A PARTICLE FUNCTION\n\n// THESE ARE MY PARTICLE OPTIONS\npublic ANGLE: number = 90;\npublic SPEED: number = 8;\npublic PARTICLE_SIZE: number = 1;\npublic NUMBER_OF_PARTICLES: number = 20;\npublic RANGE_OF_ANGLE: number = 360;\npublic PARTICLE_LIFESPAN: number = 15;\npublic PARTICLE_COLOR: string = 'rgb(255,0,0)';\npublic particles: any[] = [];\npublic pCtxWidth: number = window.innerWidth; // not using\npublic pCtxHeight: number = window.innerHeight; // not using\n\ndocument.addEventListener('click', (data) =&gt; {\n\n  // CREATE MY CANVAS HTML ELEMENT AND APPEND IN THE BODY\n  let c = document.createElement('canvas');\n  c.className = 'clique';\n  c.style.position = 'absolute';\n  c.style.width = String(window.innerWidth) + 'px'; //I'M USING THE WHOLE SCREEN SIZE, BUT IT DOESN'T NEEDS TO BE THAT BIG, IT CAN BE 80px\n  c.style.height = String(window.innerHeight) + 'px';\n  c.style.left = '0px';\n  c.style.top = '0px';\n  document.body.appendChild(c);\n\n  // GET MY PAGE CLICK POSITION, ALSO TRIED WITHOUT - c.offsetLeft\n  const x = data.pageX - c.offsetLeft,\n        y = data.pageY - c.offsetTop;\n\n  // CREATE MY 2DCONTEXT AND CALL THE SPARK FUNCTION\n  let pCtx = c.getContext(\"2d\");\n  this.spark(x, y, this.ANGLE, pCtx, c);\n  this.smartAudio.play('click');\n}, true);\n\n// draw a new series of spark particles\nspark = (x, y, angle, pCtx, c) =&gt; {\n    // create 20 particles 10 degrees surrounding the angle\n    for (var i = 0; i &lt; this.NUMBER_OF_PARTICLES; i++) {\n        // get an offset between the range of the particle\n        let offset = Math.round(this.RANGE_OF_ANGLE * Math.random())\n            - this.RANGE_OF_ANGLE / 2;\n        let scaleX = Math.round(this.SPEED * Math.random()) + 1;\n        let scaleY = Math.round(this.SPEED * Math.random()) + 1;\n        this.particles.push(new Particle(x, y,\n            Math.cos((angle + offset) * Math.PI / 180) * scaleX,\n            Math.sin((angle + offset) * Math.PI / 180) * scaleY,\n            this.PARTICLE_LIFESPAN, this.PARTICLE_COLOR, pCtx));\n    }\n    this.animationUpdate(pCtx, c, x, y);\n}\n\nanimationUpdate = function (pCtx, c, x, y) {\n    // update and draw particles\n    pCtx.clearRect(0, 0, x, y);\n    for (var i = 0; i &lt; this.particles.length; i++) {\n        if (this.particles[i].dead()) {\n            this.particles.splice(i, 1);\n            i--;\n        }\n        else {\n            this.particles[i].update();\n            this.particles[i].draw(pCtx);\n        }\n    }\n    if (this.particles.length &gt; 0) {\n        // await next frame\n        requestAnimationFrame(() =&gt; { this.animationUpdate(pCtx, c, x, y) });\n    } else {\n        document.body.removeChild(c);\n    }\n}\n</code></pre>\n\n<p>And here is my <code>Particle</code>:</p>\n\n<pre><code>export function Particle(x, y, xVelocity, yVelocity, lifespan, color, pCtx) {\n  // set initial alpha to 1.0 (fully visibile)\n  this.alpha = 1.0;\n  // dAlpha is the amount that alpha changes per frame, randomly\n  //    scaled around the provided particle lifespan\n  this.dAlpha = 1 / (Math.random() * lifespan + 0.001);\n\n  // updates the particle's position by its velocity each frame,\n  //    and adjust's the alpha value\n  this.update = function() {\n    x += xVelocity;\n    y -= yVelocity;\n    this.alpha -= this.dAlpha;\n    if (this.alpha &lt; 0)\n        this.alpha = 0;\n  }\n\n  // draw the particle to the screen\n  this.draw = function(pCtx: any) {\n    pCtx.save();\n    pCtx.fillStyle = color;\n    pCtx.globalAlpha = this.alpha;\n    pCtx.beginPath();\n    pCtx.arc(x, y, 1, 0, 2 * Math.PI, false);\n    pCtx.closePath();\n    pCtx.fill();\n    pCtx.restore();\n  }\n\n  // returns TRUE if this particle is \"dead\":\n  //    i.e. delete and stop updating it if this returns TRUE\n  this.dead = function() {\n    return this.alpha &lt;= 0;\n  }\n}\n</code></pre>\n\n<p>So what an i doing wrong? How can i make the particle effect explode exactly where i clicked?</p>\n\n<p>Here is an image of what i'm getting, i've clicked on the X in the top left, but the explosion occured bellow the clicked area.</p>\n\n<p><a href=\"https://i.stack.imgur.com/x0O7o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x0O7o.png\" alt=\"image\"></a> </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["angular", "typescript", "angular-routing", "angular-services", "discogs-api"], "comments": [{"owner": {"reputation": 5032, "user_id": 2528234, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xfLKr.jpg?s=128&g=1", "display_name": "Mike Feltman", "link": "https://stackoverflow.com/users/2528234/mike-feltman"}, "edited": false, "score": 0, "creation_date": 1501006087, "post_id": 45310666, "comment_id": 77583509, "body": "Please do not use the angularjs tag on Angular 2+ questions. Thanks."}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501006652, "post_id": 45310666, "comment_id": 77583870, "body": "I&#39;d suggest you clip the RHS of the image, so the image will render better at a larger font size. The web service call causes the 404 - it&#39;s saying there&#39;s nothing at the URL. So the URL with maximendez if you pasted that in browser URL, it would yield nothing but a not found. You are probably not error handling in a subscribe to return an empty object as your JSON payload."}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501006843, "post_id": 45310666, "comment_id": 77583966, "body": "subscribe(data =&gt; this.data = data.json, err =&gt;{ this.data = {}; console.error(error)})"}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "reply_to_user": {"reputation": 5032, "user_id": 2528234, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xfLKr.jpg?s=128&g=1", "display_name": "Mike Feltman", "link": "https://stackoverflow.com/users/2528234/mike-feltman"}, "edited": false, "score": 0, "creation_date": 1501007226, "post_id": 45310666, "comment_id": 77584212, "body": "@MikeFeltman Is it not Angular 2+? <a href=\"https://angular.io/guide/router#canactivatechild-guarding-child-routes\" rel=\"nofollow noreferrer\">angular.io/guide/router#canactivatechild-guarding-child-rout&zwnj;&#8203;es</a>"}, {"owner": {"reputation": 5032, "user_id": 2528234, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xfLKr.jpg?s=128&g=1", "display_name": "Mike Feltman", "link": "https://stackoverflow.com/users/2528234/mike-feltman"}, "edited": false, "score": 0, "creation_date": 1501007385, "post_id": 45310666, "comment_id": 77584306, "body": "The OP specified Angular 2 in the subject, so I hope it is. I removed the angularjs tag from the question. I&#39;m just adding a comment when I do so in order to help raise awareness on the intended use of the angularjs and angular tags."}, {"owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "edited": false, "score": 0, "creation_date": 1501010760, "post_id": 45310666, "comment_id": 77586239, "body": "what is the problem actually? the fact that server returns 404 or the fact that angular doesn&#39;t handle an error properly?"}, {"owner": {"reputation": 1, "user_id": 8365414, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UA_1h0KMd0k/AAAAAAAAAAI/AAAAAAAAADs/dmzqrSVVRdw/photo.jpg?sz=128", "display_name": "Maxi Mendez", "link": "https://stackoverflow.com/users/8365414/maxi-mendez"}, "edited": false, "score": 0, "creation_date": 1501010878, "post_id": 45310666, "comment_id": 77586314, "body": "the problem is the 404 error... i dont know what is wrong in the code.... i think there&#39;re some problems with the service..."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1501011275, "post_id": 45310666, "comment_id": 77586497, "body": "You have an issue calling url <code>&#47;api&#47;user&#47;[username]</code> but you do not include the code that makes the call OR anything about how the server is implemented and how it should respond to that route? Please read through how to add an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> a good question if you want further help, any answer without more information would be speculation at best."}], "owner": {"reputation": 1, "user_id": 8365414, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UA_1h0KMd0k/AAAAAAAAAAI/AAAAAAAAADs/dmzqrSVVRdw/photo.jpg?sz=128", "display_name": "Maxi Mendez", "link": "https://stackoverflow.com/users/8365414/maxi-mendez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1167, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501010801, "creation_date": 1501005938, "last_edit_date": 1501010801, "question_id": 45310666, "link": "https://stackoverflow.com/questions/45310666/get-http-localhost4200-api-user-404-not-found-angular-2", "title": "GET http://localhost:4200/api/user/ 404 (Not Found) angular 2", "body": "<p>I have this error when I try to login to my app but i have some problems with a 404(not found) included... I will put some lines of my code and the image of the error..... Please help me fix the issue .</p>\n\n<pre><code>@Injectable()\nexport class AuthGuard implements CanActivateChild {\n  loggedInUser: string;\n\n  constructor( private localStorage: LocalStorageService, private router: Router ) {\n    this.loggedInUser = localStorage.get('discogs-user') as string;\n  }\n\n  canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    if (this.loggedInUser) {\n      return true;\n    }\n\n    this.router.navigate(['/login']);\n  }\n}\n</code></pre>\n\n<p>this is the login.component.ts with the subscribe</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Router } from '@angular/router';\n\nimport { Observable } from 'rxjs/Observable';\n\nimport { MdlSnackbarService } from 'angular2-mdl';\n\nimport * as fromRoot from '../../reducers';\nimport * as user from '../../actions/user';\n\nimport { DiscogsUser, UserLogin } from '../../models';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html'\n})\nexport class LoginComponent {\n  user$: Observable&lt;DiscogsUser&gt;;\n\n  login(login: UserLogin) {\n    if (!login.username) {\n      this.store.dispatch(new user.LoginFailedAction('You must enter a username'));\n      return;\n    }\n\n    this.store.dispatch(new user.LoginAction(login));\n    this.router.navigate(['/']);\n  }\n\n  private _showError(message: string) {\n    this.mdlSnackbarService.showSnackbar({\n      message: message,\n      action: {\n        handler: () =&gt; { },\n        text: 'OK'\n      }\n    });\n  }\n\n  constructor(private store: Store&lt;fromRoot.State&gt;, private router: Router, private mdlSnackbarService: MdlSnackbarService) {\n      this.user$ = store.select(fromRoot.getUser);\n\n      store.select(fromRoot.getLoginFailed)\n        .subscribe(error =&gt; {\n          if (error) {\n            this._showError(error);\n          }\n        });\n\n    }\n}\n</code></pre>\n\n<p>this is the image of the error</p>\n\n<p><img src=\"https://i.stack.imgur.com/GcOH4.png\" alt=\"error\"></p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 17529, "user_id": 398606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9922e981f96ab7d809dfdc02c723fd41?s=128&d=identicon&r=PG", "display_name": "Sunil D.", "link": "https://stackoverflow.com/users/398606/sunil-d"}, "edited": false, "score": 0, "creation_date": 1501006574, "post_id": 45310603, "comment_id": 77583817, "body": "I don&#39;t have anything handy to verify this and post as an answer, but <code>FormGroup</code> and <code>FormControl</code> (and probably <code>FormArray</code>) inherit from <code>AbstractControl</code> which has a <code>touched()</code> method. You should be able to call this method on the <code>FormGroup</code> and find out if it or any of the child <code>FormControls</code> have been touched... You can also use the <code>value</code> property of the <code>FormControl</code> and iterate over the values w/out having to know the form control names..."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1501585207, "post_id": 45310603, "comment_id": 77832588, "body": "How did it go with the answers, did either match your requirement? :)"}], "answers": [{"comments": [{"owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1501008233, "post_id": 45311235, "comment_id": 77584788, "body": "What if a select input is opened and closed without selecting a value, is that considered <code>touched</code> ?"}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1501008303, "post_id": 45311235, "comment_id": 77584820, "body": "I would assume so as long as the user <i>leaves</i> the field afterward. But you may want to run a small test to confirm."}, {"owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1501008856, "post_id": 45311235, "comment_id": 77585187, "body": "Strange, expanding and then closing the dropdown doesnt trigger this as touched. If I select a value and then remove the value, it works just fine."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "reply_to_user": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1501009008, "post_id": 45311235, "comment_id": 77585271, "body": "Even if you then leave the field? Interesting. Not what I would have guessed. It seems that clicking on the drop down icon is not considered to be &quot;entering&quot; the field?"}], "tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 0, "last_activity_date": 1501008265, "last_edit_date": 1501008265, "creation_date": 1501008089, "answer_id": 45311235, "question_id": 45310603, "link": "https://stackoverflow.com/questions/45310603/angular2-reactive-form-properties/45311235#45311235", "title": "Angular2 - Reactive Form Properties", "body": "<p>What you have here should work:</p>\n\n<pre><code>&lt;span *ngIf=\"importForm.invalid &amp;&amp; importForm.touched\" class=\"help-block text-danger\"&gt;Please select one piece of data to filter by.&lt;/span&gt;\n</code></pre>\n\n<p>The form's touched property should be set if any of the controls on the form have been touched. I assume it is not working? How is it not working?</p>\n\n<p>Touched -> the user entered and left the input element. It says nothing about whether the user entered something into the input element.</p>\n\n<p>If you want to know if the user updated the value of one of the input elements, use dirty instead:</p>\n\n<pre><code>&lt;span *ngIf=\"importForm.invalid &amp;&amp; importForm.dirty\" \n      class=\"help-block text-danger\"&gt;\n   Please select one piece of data to filter by.\n&lt;/span&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 1, "last_activity_date": 1501066988, "creation_date": 1501066988, "answer_id": 45325047, "question_id": 45310603, "link": "https://stackoverflow.com/questions/45310603/angular2-reactive-form-properties/45325047#45325047", "title": "Angular2 - Reactive Form Properties", "body": "<p>Here I would want to remove the custom validator as it sits now. It will be fired whenever something happens to your form, which I assume has more values than just the selects. This would fire unnecessary often.</p>\n\n<p>Instead I would listen to <code>click</code> event, or something similar of your choosing. The following example could probably be refined some more (?), but at least you have something to work with if you'd choose to do it the following way. </p>\n\n<p>Here I assume that instead of using an array for all <code>select</code> in the form, you'd just want to capture one value, for which a single <code>FormControl</code> would do:</p>\n\n\n\n<pre class=\"lang-ts prettyprint-override\"><code>this.importForm = this.fb.group({\n  optionals: this.fb.group({\n    costCenter: [''],\n    area: ['']        \n  })\n});\n</code></pre>\n\n<p>After build of form, I like to store the different controls to variables, to avoid lengthy code with property paths. I would iterate the object properties in the formgroup <code>optionals</code>, store it in array, which we can then check that at least one value is set:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>this.optionalCtrl = this.importForm.controls.optionals\n</code></pre>\n\n<p>In template, well, here you would need to set the click event for all selects separately...</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;select formControlName=\"costCenter\" (click)=\"checkOptionals()\"&gt;\n</code></pre>\n\n<p>In <code>checkOptionals</code> would then iterate the object properties in the formgroup <code>optionals</code> and check that at least one property has a value other than an empty string. Based on this we set a custom error to the formgroup, or alternatively clear it. </p>\n\n\n\n<pre class=\"lang-ts prettyprint-override\"><code>checkOptionals() {\n  for(let key in this.optionalCtrl.controls ) {\n    if(this.optionalCtrl.controls[key].value != '') {\n      this.optionalCtrl.clearValidators()\n      // this.optionalCtrl.updateValueAndValidity()\n      break;\n    } else {\n      this.optionalCtrl.setErrors({\"noFilterOptions\": true})\n    }\n  }\n</code></pre>\n\n<p>}\n    }</p>\n\n<p>You might need to call <code>updateValueAndValidity</code> after setting the error. Then in template you just show this error when it's truthy:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div *ngIf=\"optionalCtrl.hasError('noFilterOptions')\"&gt;\n  choose at least one to filter by\n&lt;/div&gt;\n</code></pre>\n\n<p>DEMO: <a href=\"http://plnkr.co/edit/VbtsYST0KAUqe8BRQlmt?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/VbtsYST0KAUqe8BRQlmt?p=preview</a></p>\n"}], "owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1030, "favorite_count": 0, "accepted_answer_id": 45325047, "answer_count": 2, "score": 0, "last_activity_date": 1501066988, "creation_date": 1501005732, "question_id": 45310603, "link": "https://stackoverflow.com/questions/45310603/angular2-reactive-form-properties", "title": "Angular2 - Reactive Form Properties", "body": "<p>I have a reactive form that I am generating for my component. There are about 5 optional select inputs that a user could choose to use and pick criteria from.</p>\n\n<p>I am trying to implement some error messages in this but can't quite figure something out.</p>\n\n<p><code>&lt;span *ngIf=\"importForm.invalid &amp;&amp; importForm.touched\" class=\"help-block text-danger\"&gt;Please select one piece of data to filter by.&lt;/span&gt;</code></p>\n\n<p>Since all of the fields are options, but at least one is required, how could I go about checking that one of the fields has been <code>touched</code> prior to showing the invalid message?</p>\n\n<p><strong>Component:</strong></p>\n\n<pre><code>/**\n * Render the form in the UI to allow\n *\n * @memberof FilterSearchComponent\n */\nrenderForm() {\n    this.importForm = this.fb.group({\n        costCenter: [[]],\n        area: [[]],\n        silo: [[]],\n        department: [[]],\n        location: [[]],\n        segment: [[]],\n        role: [[]]\n    },\n        {\n            validator: (formGroup: FormGroup) =&gt; {\n                return this.validateFilter(formGroup);\n            }\n        });\n}\n\n/**\n * Checks to see that at least one of the filter\n * options have been filled out prior to searching\n * for employees.\n *\n * @param formGroup\n */\nvalidateFilter(formgroup: FormGroup) {\n    if (formgroup.controls[\"costCenter\"].value.length ||\n        formgroup.controls[\"area\"].value.length ||\n        formgroup.controls[\"silo\"].value.length ||\n        formgroup.controls[\"department\"].value.length ||\n        formgroup.controls[\"location\"].value.length ||\n        formgroup.controls[\"segment\"].value.length ||\n        formgroup.controls[\"role\"].value.length\n    ) {\n        return null;\n    } else {\n        return { noFilterOptions: true };\n    }\n}\n</code></pre>\n\n<p>I really don't want to have to do an <code>||</code> statement for each of the controls in my HTML if I can help it.</p>\n\n<p>Are there any other ways I can see if ANY input in my form has been touched instead of specifying the one I want to look at on an individual basis ?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1501004891, "post_id": 45310279, "comment_id": 77582858, "body": "This question is not related to angular. It is a js/ts question."}], "answers": [{"comments": [{"owner": {"reputation": 478, "user_id": 7340799, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f75d55f4966cd77ddfe2df8db720140e?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Amine Ouali", "link": "https://stackoverflow.com/users/7340799/mohamed-amine-ouali"}, "edited": false, "score": 0, "creation_date": 1501005881, "post_id": 45310359, "comment_id": 77583378, "body": "Thank you, but it didn&#39;t work I think that because there are actually an object that does&#39;t have any attribute. so when I stringify this object I only get empty braces.  When I debug with my browser it say that there are an object but it does not have any attribute."}, {"owner": {"reputation": 478, "user_id": 7340799, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f75d55f4966cd77ddfe2df8db720140e?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Amine Ouali", "link": "https://stackoverflow.com/users/7340799/mohamed-amine-ouali"}, "edited": false, "score": 0, "creation_date": 1501005967, "post_id": 45310359, "comment_id": 77583436, "body": "should I use this function on the object or on the json"}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "reply_to_user": {"reputation": 478, "user_id": 7340799, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f75d55f4966cd77ddfe2df8db720140e?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Amine Ouali", "link": "https://stackoverflow.com/users/7340799/mohamed-amine-ouali"}, "edited": false, "score": 0, "creation_date": 1501005967, "post_id": 45310359, "comment_id": 77583437, "body": "I have updated the answer - did you get my most recent edit? unfortunately the original didn&#39;t include removing empty objects sorry! Use it on the object before stringifying it"}, {"owner": {"reputation": 478, "user_id": 7340799, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f75d55f4966cd77ddfe2df8db720140e?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Amine Ouali", "link": "https://stackoverflow.com/users/7340799/mohamed-amine-ouali"}, "edited": false, "score": 0, "creation_date": 1501006537, "post_id": 45310359, "comment_id": 77583790, "body": "I have tried the recent one, now it removed the &quot;ligneNoteDeFrais&quot; object even if it is not empty.  I have try it on the exemple above and it have deleted the hole object. now I get only  &quot;id&quot;:3,    &quot;mois&quot;:&quot;2017-07-01&quot;,    &quot;status&quot;:&quot;Soumise&quot;,"}, {"owner": {"reputation": 10605, "user_id": 2476755, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/pXGb5.png?s=128&g=1", "display_name": "royhowie", "link": "https://stackoverflow.com/users/2476755/royhowie"}, "edited": false, "score": 1, "creation_date": 1501007156, "post_id": 45310359, "comment_id": 77584162, "body": "That function takes way too much effort to read; you should split up that condition instead of abusing <code>&amp;&amp;</code> and <code>||</code> to short-circuit."}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "reply_to_user": {"reputation": 10605, "user_id": 2476755, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/pXGb5.png?s=128&g=1", "display_name": "royhowie", "link": "https://stackoverflow.com/users/2476755/royhowie"}, "edited": false, "score": 0, "creation_date": 1501007259, "post_id": 45310359, "comment_id": 77584238, "body": "@royhowie you are right of course, I knew I had this working in my own personal project, now I&#39;m regretting posting as is because I can&#39;t adapt it to the question as quickly as I would like!"}, {"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "reply_to_user": {"reputation": 478, "user_id": 7340799, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f75d55f4966cd77ddfe2df8db720140e?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Amine Ouali", "link": "https://stackoverflow.com/users/7340799/mohamed-amine-ouali"}, "edited": false, "score": 0, "creation_date": 1501008033, "post_id": 45310359, "comment_id": 77584664, "body": "@MohamedAmineOuali I followed merzelin&#39;s example and now you can see the code working on your data for yourself"}, {"owner": {"reputation": 478, "user_id": 7340799, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f75d55f4966cd77ddfe2df8db720140e?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Amine Ouali", "link": "https://stackoverflow.com/users/7340799/mohamed-amine-ouali"}, "edited": false, "score": 0, "creation_date": 1501008516, "post_id": 45310359, "comment_id": 77584978, "body": "@0mpurdy  I think that I will stick to the original solution :) thanks.  I really like the logic operators. :p"}], "tags": [], "owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "is_accepted": false, "score": 3, "last_activity_date": 1501009557, "last_edit_date": 1501009557, "creation_date": 1501004885, "answer_id": 45310359, "question_id": 45310279, "link": "https://stackoverflow.com/questions/45310279/removing-empty-entry-from-json-or-object/45310359#45310359", "title": "Removing empty entry from json or object", "body": "<p>I adapted this from <a href=\"https://stackoverflow.com/questions/23774231/how-do-i-remove-all-null-and-empty-string-values-from-a-json-object\">this stack overflow question's answers</a> but because it's now typescript I think it's sufficiently different.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function removeEmpty(obj) {\r\n  Object.keys(obj).forEach((key) =&gt; {\r\n    if (obj[key] &amp;&amp; typeof obj[key] === 'object') {\r\n      const childObject = removeEmpty(obj[key]);\r\n      if (childObject === undefined) {\r\n        delete obj[key];\r\n      }\r\n    } else if (obj[key] === '' || obj[key] === null || obj[key] === undefined) {\r\n      delete obj[key];\r\n    }\r\n  });\r\n  return Object.keys(obj).length &gt; 0 || obj instanceof Array ? obj : undefined;\r\n};\r\n\r\nlet json = {\r\n  \"id\": 3,\r\n  \"mois\": \"2017-07-01\",\r\n  \"status\": \"Soumise\",\r\n  \"ligneNoteDeFrais\": {\r\n    \"2017-07-10\": {\r\n      \"id\": 1,\r\n      \"day\": \"2017-07-10\",\r\n      \"fk\": {\r\n        \"id\": 2,\r\n        \"description\": \"frais kilomtrique\",\r\n        \"nb\": 5,\r\n        \"pu\": 6,\r\n        \"totale\": 44,\r\n        \"typeNoteDeFrais\": null\r\n      },\r\n      \"preuves\": [],\r\n      \"detailFrais\": {\r\n        \"12\": {\r\n          \"id\": 1,\r\n          \"description\": \"test\",\r\n          \"nb\": 5,\r\n          \"pu\": 4,\r\n          \"totale\": 0,\r\n          \"typeNoteDeFrais\": {\r\n            \"id\": 12,\r\n            \"intitule\": \"gg\",\r\n            \"justifiable\": true,\r\n            \"justificationObligatoire\": true,\r\n            \"quantifiable\": true,\r\n            \"new\": false\r\n          }\r\n        },\r\n        \"14\": {},\r\n        \"15\": {},\r\n        \"18\": {},\r\n        \"19\": {}\r\n      }\r\n    },\r\n    \"2017-07-01\": {\r\n      \"fk\": {},\r\n      \"detailFrais\": {\r\n        \"12\": {},\r\n        \"14\": {},\r\n        \"15\": {},\r\n        \"18\": {},\r\n        \"19\": {}\r\n      }\r\n    },\r\n    \"2017-07-02\": {\r\n      \"fk\": {},\r\n      \"detailFrais\": {\r\n        \"12\": {},\r\n        \"14\": {},\r\n        \"15\": {},\r\n        \"18\": {},\r\n        \"19\": {}\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconsole.log(removeEmpty(json));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have this inside a service which I inject wherever I need this functionality.</p>\n\n<p>Note that this will delete any key that is:</p>\n\n<ul>\n<li><code>undefined</code></li>\n<li><code>null</code></li>\n<li>empty string <code>''</code></li>\n<li>empty object <code>{}</code></li>\n</ul>\n\n<p>but <strong>not</strong> empty array: <code>[]</code></p>\n\n<p>so</p>\n\n<pre><code>{ field: 'data', field2: {}, field3: undefined, field4: null, field5: '', field6: 6, field7: [] }\n</code></pre>\n\n<p>will become</p>\n\n<pre><code>{ field: 'data', field6: 6, field7: [] }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2888, "user_id": 6894075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd421df029b1a3068bfbfdfeb113b9a3?s=128&d=identicon&r=PG", "display_name": "0mpurdy", "link": "https://stackoverflow.com/users/6894075/0mpurdy"}, "edited": false, "score": 0, "creation_date": 1501007995, "post_id": 45310978, "comment_id": 77584643, "body": "This is an excellent answer to the specific question +1, however I&#39;m going to leave mine as it should solve the problem for anyone else with a similar problem."}], "tags": [], "owner": {"reputation": 7617, "user_id": 5664434, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-Ws_m-ConuqI/AAAAAAAAAAI/AAAAAAAAAAA/yJVKiI7N47Q/photo.jpg?sz=128", "display_name": "marzelin", "link": "https://stackoverflow.com/users/5664434/marzelin"}, "is_accepted": false, "score": 2, "last_activity_date": 1501007086, "creation_date": 1501007086, "answer_id": 45310978, "question_id": 45310279, "link": "https://stackoverflow.com/questions/45310279/removing-empty-entry-from-json-or-object/45310978#45310978", "title": "Removing empty entry from json or object", "body": "<p>This solution is crafted specifically to object structure provided in the question</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function isEmptyObject(obj) {\r\n  return !Boolean(Object.keys(obj).length)\r\n}\r\n\r\nfunction removeEmpty(data) {\r\n  for (let noteKey in data.ligneNoteDeFrais) {\r\n    const note = data.ligneNoteDeFrais[noteKey]\r\n    if (isEmptyObject(note.fk)) {\r\n      delete note.fk\r\n    }\r\n    for (let detail in note.detailFrais) {\r\n      if (isEmptyObject(note.detailFrais[detail])) {\r\n        delete note.detailFrais[detail]\r\n      }\r\n    }\r\n    if (isEmptyObject(note.detailFrais)) {\r\n      delete note.detailFrais\r\n    }\r\n    if (isEmptyObject(note)) {\r\n      delete data.ligneNoteDeFrais[noteKey]\r\n    }\r\n  }\r\n}\r\n\r\nconst data = {\r\n  \"id\": 3,\r\n  \"mois\": \"2017-07-01\",\r\n  \"status\": \"Soumise\",\r\n  \"ligneNoteDeFrais\": {\r\n    \"2017-07-10\": {\r\n      \"id\": 1,\r\n      \"day\": \"2017-07-10\",\r\n      \"fk\": {\r\n        \"id\": 2,\r\n        \"description\": \"frais kilomtrique\",\r\n        \"nb\": 5,\r\n        \"pu\": 6,\r\n        \"totale\": 44,\r\n        \"typeNoteDeFrais\": null\r\n      },\r\n      \"preuves\": [\r\n\r\n      ],\r\n      \"detailFrais\": {\r\n        \"12\": {\r\n          \"id\": 1,\r\n          \"description\": \"test\",\r\n          \"nb\": 5,\r\n          \"pu\": 4,\r\n          \"totale\": 0,\r\n          \"typeNoteDeFrais\": {\r\n            \"id\": 12,\r\n            \"intitule\": \"gg\",\r\n            \"justifiable\": true,\r\n            \"justificationObligatoire\": true,\r\n            \"quantifiable\": true,\r\n            \"new\": false\r\n          }\r\n        },\r\n        \"14\": {\r\n\r\n        },\r\n        \"15\": {\r\n\r\n        },\r\n        \"18\": {\r\n\r\n        },\r\n        \"19\": {\r\n\r\n        }\r\n      }\r\n    },\r\n    \"2017-07-01\": {\r\n      \"fk\": {\r\n\r\n      },\r\n      \"detailFrais\": {\r\n        \"12\": {\r\n\r\n        },\r\n        \"14\": {\r\n\r\n        },\r\n        \"15\": {\r\n\r\n        },\r\n        \"18\": {\r\n\r\n        },\r\n        \"19\": {\r\n\r\n        }\r\n      }\r\n    },\r\n    \"2017-07-02\": {\r\n      \"fk\": {\r\n\r\n      },\r\n      \"detailFrais\": {\r\n        \"12\": {\r\n\r\n        },\r\n        \"14\": {\r\n\r\n        },\r\n        \"15\": {\r\n\r\n        },\r\n        \"18\": {\r\n\r\n        },\r\n        \"19\": {\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\nremoveEmpty(data)\r\nconsole.log(data)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1406, "user_id": 1677308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dbba957a5082d662ee2075fe2203bba?s=128&d=identicon&r=PG", "display_name": "Vipul Paralikar", "link": "https://stackoverflow.com/users/1677308/vipul-paralikar"}, "edited": false, "score": 1, "creation_date": 1539168437, "post_id": 45311277, "comment_id": 92401436, "body": "This saved my day !!"}], "tags": [], "owner": {"reputation": 478, "user_id": 7340799, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f75d55f4966cd77ddfe2df8db720140e?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Amine Ouali", "link": "https://stackoverflow.com/users/7340799/mohamed-amine-ouali"}, "is_accepted": false, "score": 2, "last_activity_date": 1501008211, "creation_date": 1501008211, "answer_id": 45311277, "question_id": 45310279, "link": "https://stackoverflow.com/questions/45310279/removing-empty-entry-from-json-or-object/45311277#45311277", "title": "Removing empty entry from json or object", "body": "<p>Thank you guys I manage to correct the solution proposed by 0mpurdy.</p>\n\n<pre><code>removeEmpty(obj) {\n        Object.keys(obj).forEach((key) =&gt; {\n            (obj[key] &amp;&amp; typeof obj[key] === 'object') &amp;&amp; (obj[key]=this.removeEmpty(obj[key]));\n            (obj[key] === '' || obj[key] === null || obj[key] === undefined) &amp;&amp; delete obj[key];\n        });\n        return Object.keys(obj).length &gt; 0 ? obj : undefined;\n    };\n</code></pre>\n\n<p>Thanks you too marzelin.</p>\n"}], "owner": {"reputation": 478, "user_id": 7340799, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f75d55f4966cd77ddfe2df8db720140e?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Amine Ouali", "link": "https://stackoverflow.com/users/7340799/mohamed-amine-ouali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1594, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1501009557, "creation_date": 1501004581, "last_edit_date": 1501006867, "question_id": 45310279, "link": "https://stackoverflow.com/questions/45310279/removing-empty-entry-from-json-or-object", "title": "Removing empty entry from json or object", "body": "<p>I am using angular 2 with a datatable to modify a large data set. After the modification I need to save the changes in my database using a spring.</p>\n\n<p>this is the json that I send to the server.</p>\n\n<pre><code>{  \n  \"id\":3,\n  \"mois\":\"2017-07-01\",\n  \"status\":\"Soumise\",\n  \"ligneNoteDeFrais\":{  \n    \"2017-07-10\":{  \n      \"id\":1,\n      \"day\":\"2017-07-10\",\n      \"fk\":{  \n        \"id\":2,\n        \"description\":\"frais kilomtrique\",\n        \"nb\":5,\n        \"pu\":6,\n        \"totale\":44,\n          \"typeNoteDeFrais\":null\n        },\n        \"preuves\":[],\n        \"detailFrais\":{  \n          \"12\":{  \n            \"id\":1,\n            \"description\":\"test\",\n            \"nb\":5,\n            \"pu\":4,\n            \"totale\":0,\n            \"typeNoteDeFrais\":{  \n            \"id\":12,\n            \"intitule\":\"gg\",\n            \"justifiable\":true,\n            \"justificationObligatoire\":true,\n            \"quantifiable\":true,\n            \"new\":false\n          }\n        },\n        \"14\":{ },\n        \"15\":{ },\n        \"18\":{ },\n        \"19\":{ }\n      }\n    },\n    \"2017-07-01\":{  \n      \"fk\":{ },\n      \"detailFrais\":{  \n        \"12\":{ },\n        \"14\":{ },\n        \"15\":{ },\n        \"18\":{ },\n        \"19\":{ }\n      }\n    },\n    \"2017-07-02\":{  \n      \"fk\":{ },\n      \"detailFrais\":{  \n        \"12\":{ },\n        \"14\":{ },\n        \"15\":{ },\n        \"18\":{ },\n        \"19\":{ }\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>As you can see there are some empty entrie in this JSON</p>\n\n<p>Is there a solution to delete these entrie before sending them to the server or so that they are not mapped in the object.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1501004611, "post_id": 45310161, "comment_id": 77582706, "body": "What did you try that failed?"}, {"owner": {"reputation": 1119, "user_id": 1387303, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/39f3cd5144ccf1674f19c2b12cc79cfc?s=128&d=identicon&r=PG", "display_name": "Fargho", "link": "https://stackoverflow.com/users/1387303/fargho"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1501004651, "post_id": 45310161, "comment_id": 77582734, "body": "At the moment i dont even know where to start"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1501004832, "post_id": 45310161, "comment_id": 77582826, "body": "Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, especially the section titled &quot;Search, and research&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1501004824, "post_id": 45310318, "comment_id": 77582822, "body": "And if it does not have a decimal?"}], "tags": [], "owner": {"reputation": 2160, "user_id": 4025659, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4WeB0.jpg?s=128&g=1", "display_name": "wbadart", "link": "https://stackoverflow.com/users/4025659/wbadart"}, "is_accepted": true, "score": 1, "last_activity_date": 1501004857, "last_edit_date": 1501004857, "creation_date": 1501004709, "answer_id": 45310318, "question_id": 45310161, "link": "https://stackoverflow.com/questions/45310161/price-string-spliting-into-amount-and-currency/45310318#45310318", "title": "Price String spliting into amount and currency", "body": "<p>If you expect all inputs to include both decimals of the cent value (ie, your comma will always be followed by 2 digits) you could use this:</p>\n\n<pre><code>const amount = money.match(/\\d/g).join('') / 100;\nconst curren = money.match(/[^\\d,]/g).join('');\n</code></pre>\n\n<p>JavaScripts much hated implicit type coercion allows us to divide that string numerator by a number denominator and end up with a number.</p>\n\n<p>To get the currency, we simply extract all non- digit or comma characters and join them.</p>\n\n<p>If you can't rely on the input including the cent value (ie, you might receive a whole dollar amount without a comma or cent digits) try this:</p>\n\n<pre><code>const amount = money.match(/d/g).join('') / (money.includes(',') ? 100 : 1);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1242, "user_id": 821146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d330f8c15d74c6d4fbf4589e2f31068?s=128&d=identicon&r=PG", "display_name": "Myke Black", "link": "https://stackoverflow.com/users/821146/myke-black"}, "is_accepted": false, "score": 0, "last_activity_date": 1501004899, "creation_date": 1501004899, "answer_id": 45310361, "question_id": 45310161, "link": "https://stackoverflow.com/questions/45310161/price-string-spliting-into-amount-and-currency/45310361#45310361", "title": "Price String spliting into amount and currency", "body": "<p>I think the best way would be to use regular expressions, there's a post here:  <a href=\"https://stackoverflow.com/questions/559112/how-to-convert-a-currency-string-to-a-double-with-jquery-or-javascript\">How to convert a currency string to a double with jQuery or Javascript?</a> that should cover your needs:</p>\n\n<pre><code>var currency = \"GB$13,456.00\";\nvar number = Number(currency.replace(/[^0-9\\.]+/g,\"\"));\n</code></pre>\n\n<p>but different cultures write the decimal points in different ways, some use commas, some use full stop, so you might need to tweak the expression if you have to handle these cases.</p>\n"}, {"tags": [], "owner": {"reputation": 1567, "user_id": 1419321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab764ebb7999435227f036fe8b02497?s=128&d=identicon&r=PG", "display_name": "John McMahon", "link": "https://stackoverflow.com/users/1419321/john-mcmahon"}, "is_accepted": false, "score": 0, "last_activity_date": 1501005100, "creation_date": 1501005100, "answer_id": 45310404, "question_id": 45310161, "link": "https://stackoverflow.com/questions/45310161/price-string-spliting-into-amount-and-currency/45310404#45310404", "title": "Price String spliting into amount and currency", "body": "<p>For a comprehensive solution I would look into leveraging an existing library like money.js: </p>\n\n<p><a href=\"http://openexchangerates.github.io/money.js/\" rel=\"nofollow noreferrer\">http://openexchangerates.github.io/money.js/</a></p>\n\n<p>This would be more appropriate for a real world product, but I'm not sure if you are doing this as a learning exercise or something else.</p>\n"}, {"tags": [], "owner": {"reputation": 28753, "user_id": 1138192, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4ed67a4983ab0568593e133930430941?s=128&d=identicon&r=PG", "display_name": "Always Sunny", "link": "https://stackoverflow.com/users/1138192/always-sunny"}, "is_accepted": false, "score": 1, "last_activity_date": 1501005502, "last_edit_date": 1501005502, "creation_date": 1501005210, "answer_id": 45310440, "question_id": 45310161, "link": "https://stackoverflow.com/questions/45310161/price-string-spliting-into-amount-and-currency/45310440#45310440", "title": "Price String spliting into amount and currency", "body": "<p>Try this way to get <code>amount</code> and <code>currency</code> symbol from the <strong>string with currency</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var price = '1,99\u20ac';\r\n//var price = '$1,99';\r\nvar amount = Number( price.replace(/[^0-9\\.]+/g,\"\"));\r\nvar currency = price.match(/[^\\d,]/g).join('');\r\nconsole.log(amount);\r\nconsole.log(currency);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 9038, "user_id": 3552932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2ae3a039bdc0348c262791d699c168d9?s=128&d=identicon&r=PG", "display_name": "mleko", "link": "https://stackoverflow.com/users/3552932/mleko"}, "is_accepted": false, "score": 2, "last_activity_date": 1501005497, "creation_date": 1501005497, "answer_id": 45310532, "question_id": 45310161, "link": "https://stackoverflow.com/questions/45310161/price-string-spliting-into-amount-and-currency/45310532#45310532", "title": "Price String spliting into amount and currency", "body": "<p>You can try to match and replace using regex</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var extractMoney = function(string) {\r\n  var amount = string.match(/[0-9]+([,.][0-9]+)?/)\r\n  var unit = string.replace(/[0-9]+([,.][0-9]+)?/, \"\")\r\n  if (amount &amp;&amp; unit) {\r\n    return {\r\n      amount: +amount[0].replace(\",\", \".\"),\r\n      currency: unit\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nconsole.log(extractMoney(\"1,99\u20ac\"));\r\nconsole.log(extractMoney(\"$1,99\")); \r\nconsole.log(extractMoney(\"error\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>results</p>\n\n<pre><code>extractMoney(\"1,99\u20ac\"); // =&gt; {amount: 1.99, currency: \"\u20ac\"}\nextractMoney(\"$1,99\"); // =&gt; {amount: 1.99, currency: \"$\"}\nextractMoney(\"error\"); // =&gt; null\n</code></pre>\n"}], "owner": {"reputation": 1119, "user_id": 1387303, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/39f3cd5144ccf1674f19c2b12cc79cfc?s=128&d=identicon&r=PG", "display_name": "Fargho", "link": "https://stackoverflow.com/users/1387303/fargho"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1940, "favorite_count": 0, "closed_date": 1594719990, "accepted_answer_id": 45310318, "answer_count": 5, "score": -2, "last_activity_date": 1501005502, "creation_date": 1501004161, "last_edit_date": 1501004791, "question_id": 45310161, "link": "https://stackoverflow.com/questions/45310161/price-string-spliting-into-amount-and-currency", "closed_reason": "Duplicate", "title": "Price String spliting into amount and currency", "body": "<p>I need help splitting string in javascript.</p>\n\n<p>I have a string with currency. The string depends on the location. </p>\n\n<p><strong>For example:</strong> \"1,99\u20ac\" or \"$1,99\"</p>\n\n<p>I would like to split the string and extract the \"amount\" and the \"currency\" out of it. </p>\n\n<p>If this fails, I would like to return an empty string or just null.</p>\n\n<p>Does someone know how to solve that?</p>\n"}, {"tags": ["jquery", "angular", "typescript", "jquery-plugins", "sumoselect.js"], "answers": [{"comments": [{"owner": {"reputation": 230, "user_id": 8003832, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh5.googleusercontent.com/-FU-cikwOINw/AAAAAAAAAAI/AAAAAAAAACI/dBFqoMkb7Fc/photo.jpg?sz=128", "display_name": "Hiding", "link": "https://stackoverflow.com/users/8003832/hiding"}, "edited": false, "score": 0, "creation_date": 1501004651, "post_id": 45310210, "comment_id": 77582736, "body": "unfortunately no change"}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "reply_to_user": {"reputation": 230, "user_id": 8003832, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh5.googleusercontent.com/-FU-cikwOINw/AAAAAAAAAAI/AAAAAAAAACI/dBFqoMkb7Fc/photo.jpg?sz=128", "display_name": "Hiding", "link": "https://stackoverflow.com/users/8003832/hiding"}, "edited": false, "score": 0, "creation_date": 1501004754, "post_id": 45310210, "comment_id": 77582789, "body": "You are using jQuery for sumo?"}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1501004869, "post_id": 45310210, "comment_id": 77582847, "body": "should&#39;ve be declare var sumo : SumoSelect."}, {"owner": {"reputation": 230, "user_id": 8003832, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh5.googleusercontent.com/-FU-cikwOINw/AAAAAAAAAAI/AAAAAAAAACI/dBFqoMkb7Fc/photo.jpg?sz=128", "display_name": "Hiding", "link": "https://stackoverflow.com/users/8003832/hiding"}, "edited": false, "score": 0, "creation_date": 1501004943, "post_id": 45310210, "comment_id": 77582881, "body": "I am using jQuery and installed a jquery plugin called SumoSelect.. sumo is a function that goes along with the plugin, so I should have it, I just don&#39;t know how to declare it."}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1501005007, "post_id": 45310210, "comment_id": 77582915, "body": "Updated the answer"}, {"owner": {"reputation": 230, "user_id": 8003832, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh5.googleusercontent.com/-FU-cikwOINw/AAAAAAAAAAI/AAAAAAAAACI/dBFqoMkb7Fc/photo.jpg?sz=128", "display_name": "Hiding", "link": "https://stackoverflow.com/users/8003832/hiding"}, "edited": false, "score": 0, "creation_date": 1501005346, "post_id": 45310210, "comment_id": 77583088, "body": "This is giving me the same error because $(&#39;#state&#39;)[0] is an HTMLElement and not a SumoSelect. If I did $(&#39;#state&#39;).sumo.unSelectItem(i) then it gives me an error on the unSelectItem(i) .. This is where I got the solution from <a href=\"https://stackoverflow.com/questions/27722149/how-to-reset-the-select-box-values-in-jquery-sumoselect-multi-select-plugin\" title=\"how to reset the select box values in jquery sumoselect multi select plugin\">stackoverflow.com/questions/27722149/&hellip;</a>"}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1501005484, "post_id": 45310210, "comment_id": 77583154, "body": "can you create a plunker for the same as it should work and have you imported &lt;script src=&quot;js/jquery.sumoselect.min.js&quot;&gt;&lt;/script&gt; script in scripts tag ?"}, {"owner": {"reputation": 230, "user_id": 8003832, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh5.googleusercontent.com/-FU-cikwOINw/AAAAAAAAAAI/AAAAAAAAACI/dBFqoMkb7Fc/photo.jpg?sz=128", "display_name": "Hiding", "link": "https://stackoverflow.com/users/8003832/hiding"}, "edited": false, "score": 0, "creation_date": 1501006184, "post_id": 45310210, "comment_id": 77583572, "body": "I didn&#39;t import the script tag because I think .angular-cli takes care of that, I&#39;ll try it though. Your answer got rid of the sumo error but when I try to clear now the options aren&#39;t removed from the textbox and sumo doesnt actually do anything"}, {"owner": {"reputation": 230, "user_id": 8003832, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh5.googleusercontent.com/-FU-cikwOINw/AAAAAAAAAAI/AAAAAAAAACI/dBFqoMkb7Fc/photo.jpg?sz=128", "display_name": "Hiding", "link": "https://stackoverflow.com/users/8003832/hiding"}, "edited": false, "score": 0, "creation_date": 1501007027, "post_id": 45310210, "comment_id": 77584085, "body": "I fixed the remainder of my problem.. This is very specific to my case so idk if it will help anybody but in my component&#39;s html I was resetting the form before I was clearing my SumoSelect which set my $(&#39;#state&#39;).val() to null and it wasn&#39;t able to use my reset SumoSelect code.. Anyway, thank you!"}], "tags": [], "owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1501005353, "last_edit_date": 1501005353, "creation_date": 1501004333, "answer_id": 45310210, "question_id": 45310128, "link": "https://stackoverflow.com/questions/45310128/property-sumo-does-not-exist-on-type-htmlelement-for-sumoselect-jquery/45310210#45310210", "title": "Property &#39;sumo&#39; does not exist on type &#39;HTMLElement&#39; for SumoSelect JQuery", "body": "<p>Try importing sumo in the component.</p>\n\n<pre><code>import  * as sumo from 'SumoSelect'; \n</code></pre>\n\n<p>and <code>import * as $ from 'jquery';</code> </p>\n\n<p>or just do this </p>\n\n<pre><code>`declare var $ : any ;` //in the component\n</code></pre>\n"}], "owner": {"reputation": 230, "user_id": 8003832, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh5.googleusercontent.com/-FU-cikwOINw/AAAAAAAAAAI/AAAAAAAAACI/dBFqoMkb7Fc/photo.jpg?sz=128", "display_name": "Hiding", "link": "https://stackoverflow.com/users/8003832/hiding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "accepted_answer_id": 45310210, "answer_count": 1, "score": 0, "last_activity_date": 1533026797, "creation_date": 1501004032, "last_edit_date": 1533026797, "question_id": 45310128, "link": "https://stackoverflow.com/questions/45310128/property-sumo-does-not-exist-on-type-htmlelement-for-sumoselect-jquery", "title": "Property &#39;sumo&#39; does not exist on type &#39;HTMLElement&#39; for SumoSelect JQuery", "body": "<p>I am trying to implement a \"clear\" or \"reset\" functionality for my <a href=\"https://hemantnegi.github.io/jquery.sumoselect/\" rel=\"nofollow noreferrer\">SumoSelect</a> dropdown I have implemented. I am using Angular 4.\nThis is my code I call when I want to clear the dropdown:</p>\n\n<pre><code> var num = $('option').length;\n for(var i=0; i&lt;num; i++){\n   $('#state')[0].sumo.unSelectItem(i);\n }\n</code></pre>\n\n<p>I installed SumoSelect in my <code>node_modules</code> as well as putting this in my <code>typings.d.ts</code>:</p>\n\n<pre><code>interface JQuery {\n   SumoSelect(any):void;\n\n}\n</code></pre>\n\n<p>In my <code>.angular-cli.json</code> I also included the appropriate js and css files.\nMy SumoSelect dropdown works fine but I can't figure out how to get my application to recognize sumo on the third line of my first code segment. I have tried other interfaces for JQuery and HTMLElement and no luck. </p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1147, "user_id": 8334943, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2b5daf0e1c1635144e913ea11e271195?s=128&d=identicon&r=PG&f=1", "display_name": "user8334943", "link": "https://stackoverflow.com/users/8334943/user8334943"}, "edited": false, "score": 0, "creation_date": 1501004290, "post_id": 45310085, "comment_id": 77582500, "body": "Thanks Will.  But if I need to set the return value of the function to property of type Author[] then will ts know how to implicitly convert the generic objects being returned into Author classes?"}, {"owner": {"reputation": 2734, "user_id": 3234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5440aff880867b4167e751edd90af9ee?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/3234/will"}, "reply_to_user": {"reputation": 1147, "user_id": 8334943, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2b5daf0e1c1635144e913ea11e271195?s=128&d=identicon&r=PG&f=1", "display_name": "user8334943", "link": "https://stackoverflow.com/users/8334943/user8334943"}, "edited": false, "score": 0, "creation_date": 1501006365, "post_id": 45310085, "comment_id": 77583686, "body": "You can set the return type on the function. I removed it because the &#39;Run Code Snipped&#39; doesn&#39;t have a TypeScript option (or I haven&#39;t found it yet). Also, TypeScript will infer the return type because it can see what is being returned."}], "tags": [], "owner": {"reputation": 2734, "user_id": 3234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5440aff880867b4167e751edd90af9ee?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/3234/will"}, "is_accepted": false, "score": 0, "last_activity_date": 1501003881, "creation_date": 1501003881, "answer_id": 45310085, "question_id": 45309970, "link": "https://stackoverflow.com/questions/45309970/what-is-the-most-terse-way-to-return-an-array-of-entities-in-typescript/45310085#45310085", "title": "what is the most terse way to return an array of entities in typescript?", "body": "<p>Return the array, not the result of an array assignment.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getAuthors() {\r\n  return [{\r\n    FirstName: \"John\",\r\n    MI: \"J\",\r\n    LastName: \"Smith\"\r\n  }];\r\n}\r\n\r\nconsole.log(getAuthors());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11748, "user_id": 225780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a7783d4be71d80dc94eb249e3476d17?s=128&d=identicon&r=PG", "display_name": "Adrian F&#226;ciu", "link": "https://stackoverflow.com/users/225780/adrian-f%c3%a2ciu"}, "is_accepted": true, "score": 0, "last_activity_date": 1501004747, "last_edit_date": 1501004747, "creation_date": 1501004378, "answer_id": 45310222, "question_id": 45309970, "link": "https://stackoverflow.com/questions/45309970/what-is-the-most-terse-way-to-return-an-array-of-entities-in-typescript/45310222#45310222", "title": "what is the most terse way to return an array of entities in typescript?", "body": "<p>If you have an interface defined and you create an object where you tell TypeScript that it should be of that type, it will complain for any missing property, as it should.</p>\n\n<p>One way to get around this is to use a <em>mapped type</em> where you state that each property of the object is optional, and use it like <strong>Partial&lt; Author ></strong>. See the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"nofollow noreferrer\">official documentation for more info</a>.</p>\n\n<p>You can return the array right away, just remove the type that you've added after return:</p>\n\n<pre><code>getAuthors2(): Author[] {\n    return [\n      {\n        FirstName: 'John',\n        MI: 'J',\n        LastName: 'Smith',\n      }\n    ];\n  }\n</code></pre>\n\n<p>Also wherever possible you should remove the manually defined types, like the return Author[] from your functions. TypeScript will use <a href=\"https://www.typescriptlang.org/docs/handbook/type-inference.html\" rel=\"nofollow noreferrer\">type inference</a> to figure it out by itself.</p>\n\n<p>In your specific example either you leave the return type defined, and typescript will make the required checks or use something similar to what you have in <em>getAuthors3</em>. If you get or have the objects already typed just place them in the array and TypeScript will do the rest:</p>\n\n<pre><code>getAuthors() {\n    const author: Author = {\n        FirstName: 'John',\n        MI: 'J',\n        LastName: 'Smith',\n    };\n    return [author];\n  }\n</code></pre>\n"}], "owner": {"reputation": 1147, "user_id": 8334943, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2b5daf0e1c1635144e913ea11e271195?s=128&d=identicon&r=PG&f=1", "display_name": "user8334943", "link": "https://stackoverflow.com/users/8334943/user8334943"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 45310222, "answer_count": 2, "score": 1, "last_activity_date": 1501004747, "creation_date": 1501003510, "question_id": 45309970, "link": "https://stackoverflow.com/questions/45309970/what-is-the-most-terse-way-to-return-an-array-of-entities-in-typescript", "title": "what is the most terse way to return an array of entities in typescript?", "body": "<p>I'm trying to figure out the most terse way to return an array of objects from a ts function.  The following function works as expected:</p>\n\n<pre><code>    getAuthors1(): Author[]\n    {\n        var authors: Author[] =\n            [\n                {\n            FirstName: \"John\";\n            MI: \"J\";        \n            LastName: \"Smith\";                    \n                }\n            ];\n        return authors;\n    }\n</code></pre>\n\n<p>The following function errors out b/c it appears that ts won't let me return an object array directly as opposed to as a variable:</p>\n\n<pre><code>    getAuthors2(): Author[]\n    {\n        return Author[] =\n            [\n                {\n            FirstName: \"John\";  \n            MI: \"J\";        \n            LastName: \"Smith\";                    \n                }\n            ];\n    }\n</code></pre>\n\n<p>The following function errors out b/c a value isn't provided for MI:</p>\n\n<pre><code>getAuthors3(): Author[]\n{\n    var authors: Author[] =\n        [\n            {\n        FirstName: \"John\";      \n        LastName: \"Smith\";                    \n            }\n        ];\n    return authors;\n}\n</code></pre>\n\n<p>Questions:</p>\n\n<ol>\n<li>Are values required for all object properties when creating an object initialized array?\n1a. If this is the case do developers typically initialize property values in the class?</li>\n<li>Is there a way to return an object array directly, similar to my getAuthors2() example above, as opposed to having to assign this to a variable and then return the variable?</li>\n</ol>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501006692, "post_id": 45309627, "comment_id": 77583886, "body": "Have you try <code>allowJS</code> option in your tsconfig.json?"}, {"owner": {"reputation": 972, "user_id": 2276651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kbOGk.jpg?s=128&g=1", "display_name": "Siamand", "link": "https://stackoverflow.com/users/2276651/siamand"}, "edited": false, "score": 0, "creation_date": 1501011973, "post_id": 45309627, "comment_id": 77586892, "body": "<a href=\"https://github.com/Microsoft/dts-gen\" rel=\"nofollow noreferrer\">github.com/Microsoft/dts-gen</a> is a great tool to generate declaration files."}, {"owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501088661, "post_id": 45309627, "comment_id": 77628561, "body": "@unional Thanks for the suggestion, I tried with that. But it gives different error regarding replacing exisiting file. ---- error TS5055: Cannot write file &#39;xx.js&#39; because it would overwrite input file.  There is one solution for this problem is to have different destination folder but i dont want that ."}, {"owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "reply_to_user": {"reputation": 972, "user_id": 2276651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kbOGk.jpg?s=128&g=1", "display_name": "Siamand", "link": "https://stackoverflow.com/users/2276651/siamand"}, "edited": false, "score": 0, "creation_date": 1501088790, "post_id": 45309627, "comment_id": 77628653, "body": "@SiamandMaroufi I tried with this but it generate worst xx.d.ts files. It just write one line of code with export word. like -   export &#39;path/xx.js&quot;&#39;  This npm package is basically used to generate definition file of npm packages which has ts file. It will not work with js file."}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501089054, "post_id": 45309627, "comment_id": 77628816, "body": "How do you manage your source control without a different destination folder?"}, {"owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501138287, "post_id": 45309627, "comment_id": 77647968, "body": "@unional, my project was in pure javascript and node js so why do i need a different destination folder. Same source code folder can be deployed on server. I haven&#39;t faced any problem in that. Is there something wrong in keeping same folder for deployment? Do i need to have different folder for actual deployment code?"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501138435, "post_id": 45309627, "comment_id": 77648049, "body": "how do you commit your folder with both hand-written js files and generated js file from ts? You should commit ts files but not the compiled js and d.ts, right?"}, {"owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501138715, "post_id": 45309627, "comment_id": 77648225, "body": "@unional Actually i just started writing ts files so not sure if i need to commit all the files or just ts files. Whats the problem to commit all the files inlcuding xx.d.ts and xx.s with ts files?"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501138838, "post_id": 45309627, "comment_id": 77648293, "body": "You won&#39;t commit the generated js and d.ts files just as if you write your js in ES6 and transpiled it to ES5 using babel. You will commit the ES6 code but not the generated ES5 code.  In the same sense, you typically mix source (ts) files with result (js) files."}, {"owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501139184, "post_id": 45309627, "comment_id": 77648520, "body": "@unional I think you are right. How could i commit compiled files. Its should not be done. Thanks for the suggestion"}, {"owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1501139279, "post_id": 45309627, "comment_id": 77648580, "body": "@unional I will try to create a destination file and will include allowJs flag. Thanks again."}], "answers": [{"comments": [{"owner": {"reputation": 8576, "user_id": 802138, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/024ca42cf79ed90cd18eec585986629c?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/802138/matthias"}, "edited": false, "score": 0, "creation_date": 1570553529, "post_id": 52332949, "comment_id": 102945902, "body": "This answer is not related to the problem posted in the question"}], "tags": [], "owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "is_accepted": true, "score": -1, "last_activity_date": 1536931300, "creation_date": 1536931300, "answer_id": 52332949, "question_id": 45309627, "link": "https://stackoverflow.com/questions/45309627/how-to-use-existing-javascript-files-in-typescript-files/52332949#52332949", "title": "How to use existing javascript files in typescript files?", "body": "<p>I found the solution long back but didnt posted here. Let me add the answer here so that it can help everyone</p>\n\n<p>Make changes in tsconfig.json. Most important part here is types and typeRoots properties</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"target\": \"es5\",\n    \"sourceMap\": true,\n    \"declaration\": true,\n    \"moduleResolution\": \"node\",\n    \"types\": [\"node\"],\n    \"typeRoots\": [\"node_modules/@types\"],\n    \"lib\": [ \"es2015\",\"dom\" ]\n  }\n}\n</code></pre>\n\n<p>Now go to you package.json and add some type definition packages on the basis of need</p>\n\n<pre><code> \"@types/node\": \"~8.0.54\",\n</code></pre>\n\n<p>After this configuration, nobody will get error and we dont need to separately specify declaration in each file</p>\n"}], "owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "accepted_answer_id": 52332949, "answer_count": 1, "score": 2, "last_activity_date": 1536931300, "creation_date": 1501002334, "question_id": 45309627, "link": "https://stackoverflow.com/questions/45309627/how-to-use-existing-javascript-files-in-typescript-files", "title": "How to use existing javascript files in typescript files?", "body": "<p>I have existing project in nodejs + express in javascript. Currently everything is working on es5.</p>\n\n<p>Now i added typescript in same project and i want to do all the new development in typescript. But i am facing a issue in accessing existing javascript files. </p>\n\n<p>I found that i can create definition file xx.d.ts (not sure if it is correct approach) of each existing javascript file and then use it in typescript files.</p>\n\n<p>For example i have javscript file</p>\n\n<p>myFile.js</p>\n\n<pre><code>function myClass(){\n//some functions here associated with this variable\n}\n\nexports.myData = new myClass();\n</code></pre>\n\n<p>now i want to use it in my new ts file</p>\n\n<p>So what i did in ts file to access is</p>\n\n<pre><code>declare function require(path: string): any;\n\nvar auth = require('./myFile').myData;\n</code></pre>\n\n<p>I am not sure if this is the right approach. Secondly i tried with myFile.d.ts file as well.</p>\n\n<p>I defined this file in following way</p>\n\n<pre><code>declare module './myFile' {\n  export var myData: any\n}\n</code></pre>\n\n<p>But this gives error of relative path - \n<strong>TS2436 ambient module declaration cannot specify relative module path</strong></p>\n\n<p>Please let me know if anybody has any idea to resolve this problem or suggest if it is okay to go with first approach.</p>\n"}, {"tags": ["angularjs", "typescript", "webpack"], "owner": {"reputation": 286, "user_id": 2232919, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Hb6Kb.png?s=128&g=1", "display_name": "JMStudios.jrichardson", "link": "https://stackoverflow.com/users/2232919/jmstudios-jrichardson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 553, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501007737, "creation_date": 1501002204, "last_edit_date": 1501007737, "question_id": 45309586, "link": "https://stackoverflow.com/questions/45309586/angular-1-6-with-typescript-2-4-gulp-to-webpack-transition", "title": "Angular 1.6 with typescript 2.4, gulp to webpack transition", "body": "<p>I think I am having a typing issue. I have an angular 1.6 project currently being built using gulp and company wants to switch to webpack 3. I think I am close to getting project to build but having a typing issue where my backed.d.ts file full of our types and api calls are not being recognized I think in webpack or with compiling the .ts files, its hard to tell which.</p>\n\n<p>here is my webpack.config.js</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    module.exports = {\r\n    entry: {\r\n        'vendor': './source/vendor.ts',\r\n        'main': './source/index.ts'\r\n    },\r\n    target: 'node',\r\n    output: {\r\n        filename: '[name].[chunkhash].js',\r\n        path: path.join(__dirname, '/webpack-build'),\r\n        chunkFilename: '[name].[chunkhash].js'\r\n    },\r\n    plugins: [\r\n        new webpack.optimize.CommonsChunkPlugin({\r\n            name: 'vendor',\r\n            minChunks: Infinity,\r\n        }),\r\n        new WebpackMd5Hash(),\r\n        new InlineManifestWebpackPlugin({\r\n            name: 'webpackManifest'\r\n        }),\r\n        new HtmlWebpackPlugin({\r\n            template: './source/index.html',\r\n        }),\r\n        new ExtractTextPlugin('pack.[contenthash].css')\r\n    ],\r\n    devtool: 'source-map',\r\n    resolve: {\r\n        modules: ['source', 'node_modules'],\r\n        extensions: ['.ts', '.d.ts', '.js', '.json']\r\n    },\r\n    module: {\r\n        noParse: [\r\n               /aws-sdk/\r\n        ],\r\n        rules: [\r\n            {\r\n                test: /\\.ts/,\r\n                include: [\r\n                    __dirname\r\n                ],\r\n                exclude: [\r\n                    '/react/',\r\n                    '/tests/',\r\n                    '/compiled/'\r\n                ],\r\n                use: [\r\n                    {\r\n                        loader: 'babel-loader'\r\n                    },\r\n                    {\r\n                        loader: 'ng-annotate-loader'\r\n                    },\r\n                    {\r\n                        loader: 'awesome-typescript-loader'\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                  test: /\\.js$/,\r\n                  include: [\r\n                      '/node_modules/'\r\n                  ],\r\n                  use: 'babel-loader'\r\n            },\r\n            {\r\n                test: /\\.json/,\r\n                use: 'json-loader'\r\n            },\r\n            {\r\n                test: /\\.(png|jpg|svg)$/,\r\n                use: {\r\n                    loader: 'url-loader'\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and my tsconfig.json</p>\n\n<pre><code>{\n\"compilerOptions\": {\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [ \"es2015\", \"dom\" ],\n    \"noImplicitAny\": true,\n    \"allowJs\": true,\n    \"suppressImplicitAnyIndexErrors\": true\n},\n\"files\": [\n    \"../typings/tsd.d.ts\",\n    \"./source/swagger/backend.d.ts\"\n]\n</code></pre>\n\n<p>}</p>\n\n<p>In the vendor.ts is a single import 'backend' which should be importing the types and all from backend.d.ts for the build to use the types for the angular code. Instead here are some of the errors I get below along with many more.</p>\n\n<p>ERROR in [at-loader] ./source/index.ts:1715:113 \n    TS2304: Cannot find name 'SessionCookieService'.</p>\n\n<p>ERROR in [at-loader] ./source/index.ts:1716:37 \n    TS2304: Cannot find name 'ApplicationSettingsService'.</p>\n\n<p>ERROR in [at-loader] ./source/index.ts:1717:17 \n    TS2503: Cannot find namespace 'angular'.</p>\n\n<p>ERROR in [at-loader] ./source/index.ts:1717:51 \n    TS2304: Cannot find name 'States'.</p>\n\n<p>ERROR in [at-loader] ./source/index.ts:1718:24 \n    TS2304: Cannot find name 'SearchService'.</p>\n\n<p>ERROR in [at-loader] ./source/swagger/backend.d.ts:5:9 \n    TS2503: Cannot find namespace 'ng'.</p>\n\n<p>ERROR in [at-loader] ./source/swagger/backend.d.ts:10:9 \n    TS2503: Cannot find namespace 'ng'.</p>\n\n<p>ERROR in [at-loader] ./source/swagger/backend.d.ts:15:9 \n    TS2503: Cannot find namespace 'ng'.</p>\n\n<p>ERROR in [at-loader] ./source/swagger/backend.d.ts:21:9 \n    TS2503: Cannot find namespace 'ng'.</p>\n\n<p>ERROR in [at-loader] ./source/swagger/backend.d.ts:29:9 \n    TS2503: Cannot find namespace 'ng'.</p>\n\n<p><strong>UPDATE:</strong>\nnpm i @types/angular --save got rid of the cannot find namespace 'ng' error but now there is \nERROR in [at-loader] ./source/index.ts:1717:25 \n    TS2694: Namespace 'angular' has no exported member 'ui'.</p>\n\n<p>and my custom types are not being recognized since I think I am not importing the files correctly but too many incorrect ways to import things now.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "is_accepted": false, "score": 0, "last_activity_date": 1501004319, "last_edit_date": 1501004319, "creation_date": 1501002443, "answer_id": 45309653, "question_id": 45309348, "link": "https://stackoverflow.com/questions/45309348/typescript-stringify-class-without-dynamically-added-properties/45309653#45309653", "title": "Typescript - stringify class without dynamically added properties", "body": "<p>You could create a car, and it will only have the normal properties. Then loop over each of its properties, and copy the value from the other car:</p>\n\n<pre><code>let car: Car = new Car();\ncar.model = 'modelA';\ncar.colour = 'black';\n\ncar['active'] = true;\n\nlet withoutDynamics = new Car();\n\nfor (let prop in withoutDynamics) {\n    // Check for hasOwnProperty if you like, depending on whether you\n    // properties from the prototype\n    withoutDynamics[prop] = car[prop];\n}\n\nJSON.stringify({'data': withoutDynamics });\n</code></pre>\n\n<p>You could factor this out into a generic function to be used with other classes (if they have a constructor that takes no parameters):</p>\n\n<pre><code>function noDynamics&lt;T&gt;(type: { new (): T; }, withDynamics: T): T {\n    let withoutDynamics = new type();\n\n    for (let prop in withoutDynamics) {\n        withoutDynamics[prop] = withDynamics[prop];\n    }\n\n    return withoutDynamics;\n}\n\nJSON.stringify({'data': noDynamics(Car, car) });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": false, "score": 0, "last_activity_date": 1501003138, "last_edit_date": 1501003138, "creation_date": 1501002801, "answer_id": 45309758, "question_id": 45309348, "link": "https://stackoverflow.com/questions/45309348/typescript-stringify-class-without-dynamically-added-properties/45309758#45309758", "title": "Typescript - stringify class without dynamically added properties", "body": "<p>You can keep an array of the original keys in a property and use a custom <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#toJSON()_behavior\" rel=\"nofollow noreferrer\"><code>toJSON</code></a> implementation in your class to control that only the original keys get serialized:</p>\n\n<pre><code>export class Car {\n\n    public colour: string = '';\n    public model: string = '';\n    public diesel?: boolean = false;\n    private _keys: string[] // Note that this is not initialized\n\n    constructor() {\n        this._keys = Object.keys(this);\n    }\n\n    toJSON() {\n        var obj: any = {};\n        this._keys.forEach(key =&gt; {\n            obj[key] = this[key]\n        });\n        return obj\n    }\n}\n\nlet car: Car = new Car();\ncar.model = 'modelA';\ncar.colour = 'black';\ncar['active'] = true;\n\nconsole.log(JSON.stringify({ 'data': car }));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 3, "last_activity_date": 1501003039, "creation_date": 1501003039, "answer_id": 45309828, "question_id": 45309348, "link": "https://stackoverflow.com/questions/45309348/typescript-stringify-class-without-dynamically-added-properties/45309828#45309828", "title": "Typescript - stringify class without dynamically added properties", "body": "<p>You can maintain a list of the \"known keys\" and use them when serializing:</p>\n\n<pre><code>class Car {\n    private static keys = [\"colour\", \"model\", \"diesel\"];\n\n    public colour: string = '';\n    public model: string = '';\n    public diesel?: boolean = false;\n\n    constructor() { }\n\n    toJsonString(): string {\n        const data = {};\n        Car.keys.forEach(key =&gt; data[key] = this[key]);\n\n        return JSON.stringify(data);\n    }\n}\n</code></pre>\n\n<p>You can use decorators to create this static list.</p>\n\n<p>Or:</p>\n\n<pre><code>class Car {\n    public colour: string = '';\n    public model: string = '';\n    public diesel?: boolean = false;\n\n    constructor() {\n        this.toJsonString = function (keys) {\n            const data = {};\n            keys.forEach(key =&gt; data[key] = this[key]);\n\n            return JSON.stringify(data);\n        }.bind(this, Object.keys(this));\n    }\n\n    toJsonString: () =&gt; string;\n}\n</code></pre>\n"}], "owner": {"reputation": 719, "user_id": 1152880, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b33849f66e421f08a96bc5900b9f25a3?s=128&d=identicon&r=PG", "display_name": "karruma", "link": "https://stackoverflow.com/users/1152880/karruma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1669, "favorite_count": 1, "accepted_answer_id": 45309828, "answer_count": 3, "score": 4, "last_activity_date": 1501004319, "creation_date": 1501001373, "last_edit_date": 1501002914, "question_id": 45309348, "link": "https://stackoverflow.com/questions/45309348/typescript-stringify-class-without-dynamically-added-properties", "title": "Typescript - stringify class without dynamically added properties", "body": "<p>I have set of typescript objects that has been initiated, but in the code I need to dynamically add some properties to those object. If I need to serialize the object by stingifying it - how can I do it so it won't include dynamically added properties? As I have loads of classes and inner classes I am looking for a generic approach rather one by one case. </p>\n\n<p>So as an example I have a class defined in the following way: </p>\n\n<pre><code> export class Car {\n\n  public colour: string = '';\n  public model: string = '';\n  public diesel?: boolean = false;\n\n  constructor () {}\n}\n</code></pre>\n\n<p>Now in the code I am setting the above car as a one that I drive at the moment:</p>\n\n<pre><code>let car: Car = new Car();\ncar.model = 'modelA';\ncar.colour = 'black';\n\ncar['active'] = true;\n</code></pre>\n\n<p>And then somewhere in the code I have to take the active car and serialize the object so I can i.e. send the data to the server:</p>\n\n<pre><code>JSON.stringify({'data': car});\n</code></pre>\n\n<p>What I am looking for is now the string representation of the object without the dynamically added properties, but approach to be generic so I don't have to describe what I want to remove.</p>\n\n<p>All help wanted ;-)</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1500999341, "post_id": 45308580, "comment_id": 77579271, "body": "Can you not implement a minimal version of the interface? Kinda like <code>class SimpleDataStructure implements DataStructure</code>?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1500999917, "post_id": 45308580, "comment_id": 77579654, "body": "Have you tried <code>var myData: DataStructure = Object.create(null, defaultData);</code>?"}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1501000426, "post_id": 45308580, "comment_id": 77579976, "body": "@Icepickle. This is a bit beyond my level of expertise with Typescript ATM.. But I believe the inclusion of PropertyDescriptor implies OP is doing something like creating an annotation / Decorator, that can be used for things like Reflection."}, {"owner": {"reputation": 2690, "user_id": 3328079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b06c12e72953e0edd3054a8645d76791?s=128&d=identicon&r=PG", "display_name": "Rycochet", "link": "https://stackoverflow.com/users/3328079/rycochet"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1501001791, "post_id": 45308580, "comment_id": 77580902, "body": "@Icepickle Unfortunately a class would still be sitting on top of Object, and I need it to sit on <code>null</code> instead."}, {"owner": {"reputation": 2690, "user_id": 3328079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b06c12e72953e0edd3054a8645d76791?s=128&d=identicon&r=PG", "display_name": "Rycochet", "link": "https://stackoverflow.com/users/3328079/rycochet"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1501001853, "post_id": 45308580, "comment_id": 77580942, "body": "@MikeMcCaughan That wouldn&#39;t throw an error, as <code>Object.create</code> returns <code>any</code> - so there&#39;s nothing for it to complain about ;-)"}, {"owner": {"reputation": 2690, "user_id": 3328079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b06c12e72953e0edd3054a8645d76791?s=128&d=identicon&r=PG", "display_name": "Rycochet", "link": "https://stackoverflow.com/users/3328079/rycochet"}, "reply_to_user": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501002021, "post_id": 45308580, "comment_id": 77581055, "body": "@JGFMK I&#39;m actually in the middle of rewriting VelocityJS, and making use of caching to prevent the Garbage Collector from firing any more than it has to - having recently hit some GC cycles taking several frames to complete (80+ms for 26mb), I&#39;m trying to reduce overhead as much as possible to try and stop it from ever coming across a GC cycle that makes an animation stutter. Making use of doubly-linked lists as it makes a lot of sense and nobody else seems to be doing it that way outside the browsers with <code>Node</code> itself ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 2690, "user_id": 3328079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b06c12e72953e0edd3054a8645d76791?s=128&d=identicon&r=PG", "display_name": "Rycochet", "link": "https://stackoverflow.com/users/3328079/rycochet"}, "edited": false, "score": 0, "creation_date": 1501001695, "post_id": 45308988, "comment_id": 77580842, "body": "Doh - I&#39;d missed out the <code>K in</code> before it - hence why I couldn&#39;t get it to work - thanks!"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1501000366, "creation_date": 1501000366, "answer_id": 45308988, "question_id": 45308580, "link": "https://stackoverflow.com/questions/45308580/creating-an-object-implementing-a-typescript-interface/45308988#45308988", "title": "Creating an Object implementing a Typescript Interface", "body": "<p>I think that this is what you're looking for:</p>\n\n<pre><code>const defaultData: {[K in keyof DataStructure]: PropertyDescriptor} = {\n    ...\n}\n</code></pre>\n\n<p>The compiler will then compile saying:</p>\n\n<blockquote>\n  <p>Type '{ key1: { writable: true; enumerable: true; }; key2: { writable:\n  true; enumerable: true; }; key3:...' is not assignable to type '{\n  key1: PropertyDescriptor; key2: PropertyDescriptor; key3:\n  PropertyDescriptor; key4: PropertyDes...'.</p>\n  \n  <p>Property 'key4' is missing in type '{ key1: { writable: true;\n  enumerable: true; }; key2: { writable: true; enumerable: true; };\n  key3:...'.</p>\n</blockquote>\n"}], "owner": {"reputation": 2690, "user_id": 3328079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b06c12e72953e0edd3054a8645d76791?s=128&d=identicon&r=PG", "display_name": "Rycochet", "link": "https://stackoverflow.com/users/3328079/rycochet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 45308988, "answer_count": 1, "score": 0, "last_activity_date": 1501000366, "creation_date": 1500999139, "question_id": 45308580, "link": "https://stackoverflow.com/questions/45308580/creating-an-object-implementing-a-typescript-interface", "title": "Creating an Object implementing a Typescript Interface", "body": "<p>I'm providing a public Interface to my data, but for performance and memory reasons I want to use an Object and definitely not a Class. There's no code on the Interface, it is purely a data structure.</p>\n\n<p>I want to be able to declare my Object as using the Interface so that if I change the Interface it'll show up as an error and doesn't get missed.</p>\n\n<pre><code>interface DataStructure {\n   key1: string;\n   key2: number;\n   key3: boolean;\n   key4: null;\n}\n\nconst defaultData: {[key: string]: PropertyDescriptor} = {\n   key1: {writable: true, enumerable: true},\n   key2: {writable: true, enumerable: true},\n   key3: {writable: true, enumerable: true}\n};\n\nvar myData = Object.create(null, defaultData);\n</code></pre>\n\n<p>I want this to report an error for missing <code>key4</code> in the <code>defaultData</code> Object, but can't quite figure out how right now.</p>\n\n<p><em>(This is needed due to potentially tens of thousands of objects needing the same structure, and not wanting to waste GC on them when it's easier to just re-use them - also wanting simply Map stores, so no need for the Object prototype chain.)</em></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1500998635, "post_id": 45308170, "comment_id": 77578792, "body": "I can&#39;t reproduce it <a href=\"https://plnkr.co/edit/LK6AfOgSz586DalhSU9U?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/LK6AfOgSz586DalhSU9U?p=preview</a> Can you improve this plunker to reproduce the issue?"}, {"owner": {"reputation": 9858, "user_id": 343159, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/621bd528bae8952ea5f9391b2a727ee6?s=128&d=identicon&r=PG", "display_name": "serlingpa", "link": "https://stackoverflow.com/users/343159/serlingpa"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1501000658, "post_id": 45308170, "comment_id": 77580130, "body": "Hmm. Thanks for your response @yurzui. Your plnkr is not substantially different to my code, yet I get <code>undefined</code> whereas you get <code>[Object object]</code>. I guess it&#39;s a case a picking through and seeing where the difference lies."}, {"owner": {"reputation": 9858, "user_id": 343159, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/621bd528bae8952ea5f9391b2a727ee6?s=128&d=identicon&r=PG", "display_name": "serlingpa", "link": "https://stackoverflow.com/users/343159/serlingpa"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1501000830, "post_id": 45308170, "comment_id": 77580236, "body": "My <code>some-other-component</code> is actually in a different module. Perhaps that&#39;s messing with Angular&#39;s head?"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1501000891, "post_id": 45308170, "comment_id": 77580291, "body": "Try your code in plunker. I want to see it"}, {"owner": {"reputation": 9858, "user_id": 343159, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/621bd528bae8952ea5f9391b2a727ee6?s=128&d=identicon&r=PG", "display_name": "serlingpa", "link": "https://stackoverflow.com/users/343159/serlingpa"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1501000969, "post_id": 45308170, "comment_id": 77580351, "body": "I&#39;m just on my way home so I will do that in the morning..."}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501001259, "post_id": 45308170, "comment_id": 77580566, "body": "Content projection means you have to use @ ContentChild instead of @ ViewChild and involved ng-content - you have plural versions too... Had to look up transclusion.. So referenced it in your post for others who joined the Angular party on Angular 2+"}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501001349, "post_id": 45308170, "comment_id": 77580634, "body": "ie when you have transclusion use @ContentChild/@ContentChildren"}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501001425, "post_id": 45308170, "comment_id": 77580681, "body": "<a href=\"https://www.youtube.com/watch?v=jYvIjd8rCVQ\" rel=\"nofollow noreferrer\">youtube.com/watch?v=jYvIjd8rCVQ</a> - Ionic example.. uses Angular 2+ under covers. But discusses this stuff quite nicely"}], "owner": {"reputation": 9858, "user_id": 343159, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/621bd528bae8952ea5f9391b2a727ee6?s=128&d=identicon&r=PG", "display_name": "serlingpa", "link": "https://stackoverflow.com/users/343159/serlingpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1501010492, "creation_date": 1500997936, "last_edit_date": 1501010492, "question_id": 45308170, "link": "https://stackoverflow.com/questions/45308170/how-to-reference-an-element-using-viewchild-contentchild-when-transcluded", "title": "How to reference an element using @ViewChild/@ContentChild when transcluded", "body": "<p>I am following <a href=\"https://angular.io/guide/dynamic-component-loader\" rel=\"nofollow noreferrer\">this cookbook</a> on how to create components dynamically at run time. It all works splendidly, as long as the element I am trying to reference using <code>@ViewChild</code> is not <a href=\"https://toddmotto.com/transclusion-in-angular-2-with-ng-content\" rel=\"nofollow noreferrer\">transcluded (aka Content Projection in Angular 2)</a> in another element.</p>\n\n<p>Let me elaborate. I have this code:</p>\n\n<pre><code>@Component({\n    selector: 'module-landing',\n    templateUrl: './module-landing.template.html',\n    entryComponents: [TravelHeaderContentComponent]\n })\n export class ModuleLandingComponent implements AfterViewInit {\n     @ViewChild(ContentHostDirective) contentHost: ContentHostDirective;\n\n     ngAfterViewInit() {\n         console.log(this.contentHost);\n     }\n }\n</code></pre>\n\n<p>My <code>module-landing.template.html</code> looks like this:</p>\n\n<pre><code>&lt;some-other-component&gt;&lt;/some-other-component&gt;\n&lt;ng-template content-host&gt;&lt;/ng-template&gt;\n</code></pre>\n\n<p>So far, so good. The <code>console.log()</code> outputs the object as expected.</p>\n\n<p>However, I need to transclude the <code>content-host</code> element within the <code>some-other-component</code>, like this:</p>\n\n<pre><code>&lt;some-other-component&gt;\n    &lt;ng-template content-host&gt;&lt;/ng-template&gt;\n&lt;/some-other-component&gt;\n</code></pre>\n\n<p>This falls over. The <code>@ViewChild()</code> reference is now <code>undefined</code>. Changing <code>@ViewChild()</code> to <code>@ContentChild()</code> has no effect.</p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["angular", "api", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 484, "user_id": 5826540, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0ea9d7911377881cf7a69ce177143cd9?s=128&d=identicon&r=PG&f=1", "display_name": "nagrom97", "link": "https://stackoverflow.com/users/5826540/nagrom97"}, "is_accepted": false, "score": 0, "last_activity_date": 1500997869, "creation_date": 1500997869, "answer_id": 45308140, "question_id": 45308053, "link": "https://stackoverflow.com/questions/45308053/angular-promisevoid-is-not-assignable-to-type/45308140#45308140", "title": "Angular Promise&lt;void&gt;&#39; is not assignable to type", "body": "<p>Make your page class an interface for type assertion without the need for instantiation, like so </p>\n\n<pre><code>export interface Page { title : string }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 1, "creation_date": 1500998301, "post_id": 45308224, "comment_id": 77578552, "body": "OP wants to data to be type <code>Page</code>, so... <code>.map(element =&gt; Object.assign(new Page(), element.fields))</code> ? :)"}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 2, "last_activity_date": 1500998468, "last_edit_date": 1500998468, "creation_date": 1500998093, "answer_id": 45308224, "question_id": 45308053, "link": "https://stackoverflow.com/questions/45308053/angular-promisevoid-is-not-assignable-to-type/45308224#45308224", "title": "Angular Promise&lt;void&gt;&#39; is not assignable to type", "body": "<ol>\n<li>You are trying to assign a promise to an array, you have to do the assignment in the callback of the promise.</li>\n<li>Your <code>then</code> call on the promise does not return anything, a call to <code>forEach</code> iterates over a collection but returns nothing. If you want to create/return something you could use <code>map</code> which creates a new collection based on the passed in predicate.</li>\n<li>Use an arrow function for the promise callback so you have a reference to <code>this</code> should you need it.</li>\n<li>There is no need to make Page a concrete type, use an interface instead so you can use casting. You only need a concrete type if you are going to add behavior but if its just a plain old object that is deserialized from json use an interface.</li>\n</ol>\n\n<p>The fix:</p>\n\n<pre><code>export NAMES: IPage[]; // no assignment at this point\n</code></pre>\n\n<p>Execute getEntries from within some method.</p>\n\n<pre><code>content.getEntries({\n    content_type: 'mainMenu'\n}).then((response) =&gt; {\n   NAMES = response.items.map(element =&gt; element as IPage);\n});\n</code></pre>\n\n<p><strong>IPage</strong></p>\n\n<pre><code>export interface IPage {\n  title: string;\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 3260015, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/8MmH1.jpg?s=128&g=1", "display_name": "Shehab Eltawel", "link": "https://stackoverflow.com/users/3260015/shehab-eltawel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1357, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1500998468, "creation_date": 1500997610, "question_id": 45308053, "link": "https://stackoverflow.com/questions/45308053/angular-promisevoid-is-not-assignable-to-type", "title": "Angular Promise&lt;void&gt;&#39; is not assignable to type", "body": "<p>I am building Angular4 website using Contentful CMS API to retrieve data. \nThe problem is I cannot assign the right types for the returned data even thought the console shows those types.</p>\n\n<p>the Mock data:</p>\n\n<pre><code>export const NAMES: Page[] = content.getEntries({\n    content_type: 'mainMenu'\n}).then(function(response){\n response.items.forEach(element =&gt; {\n   return element.fields;  \n })\n});\n</code></pre>\n\n<p>Which is return via the console (If is used console.log ) :</p>\n\n<pre><code>Object { title: \"About Aliens\" }\nObject { title: \"Portfolio\" }\nObject { title: \"Meet the team\" }\nObject { title: \"Contact us\" }\n</code></pre>\n\n<p>and the class I use to assign those data types :</p>\n\n<pre><code>export class Page {\n  title: string;\n}\n</code></pre>\n\n<p>I am new to Typescript and I want to know where I got wrong and I would appreciate it if someone guided me where I can go to master returning such data from any API.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["angular", "typescript", "nativescript", "angular2-nativescript"], "answers": [{"tags": [], "owner": {"reputation": 6361, "user_id": 1551411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/468d665a47bb42046e9b1d8f873eaee0?s=128&d=identicon&r=PG&f=1", "display_name": "Kld", "link": "https://stackoverflow.com/users/1551411/kld"}, "is_accepted": true, "score": 3, "last_activity_date": 1500997632, "creation_date": 1500997632, "answer_id": 45308060, "question_id": 45307724, "link": "https://stackoverflow.com/questions/45307724/how-to-perform-multiple-buttons-event-handling-onclick-in-listview/45308060#45308060", "title": "how to perform multiple buttons event handling onclick in listview", "body": "<p><code>$event</code> is an angular key word, it has the output emitted value, you can not change it</p>\n\n<pre><code>&lt;Button  text=\"Install\" (tap)=\"checkInstall($event,1,  myIndex)\"&gt; &lt;/Button&gt;   \n&lt;Button text=\"Open\" (tap)=\"checkInstall($event, 2, myIndex)\" &gt; &lt;/Button&gt;   \n&lt;Button text=\"Remove\"(tap)=\"checkInstall($event, 3, myIndex)\" &gt; &lt;/Button&gt; \n</code></pre>\n\n<p>You can send a parameter to your method</p>\n\n<pre><code>checkInstall(args: EventData, buttonIndex: number, index : number) : void {\n\n}\n</code></pre>\n"}], "owner": {"reputation": 9074, "user_id": 3960700, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/DM9BO.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3960700/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 45308060, "answer_count": 1, "score": 1, "last_activity_date": 1500997632, "creation_date": 1500996719, "question_id": 45307724, "link": "https://stackoverflow.com/questions/45307724/how-to-perform-multiple-buttons-event-handling-onclick-in-listview", "title": "how to perform multiple buttons event handling onclick in listview", "body": "<p>I have three buttons in listview. I need to perform multiple button click to trigger same method <code>checkInstall</code>. I dont know how to do. I have added relevant code:</p>\n\n<p><strong>html file:</strong></p>\n\n<pre><code> &lt;ListView [items]=\"allAppsList\" class=\"list-group\"&gt;\n\n   ....... \n   .......\n   &lt;StackLayout row=\"0\" col=\"2\"&gt;\n\n      &lt;Button  text= \"Install\" (tap) =\"checkInstall($event, myIndex)\" &gt; &lt;/Button&gt;   \n      &lt;Button text= \"Open\" (tap) =\"checkInstall($event1, myIndex)\" &gt; &lt;/Button&gt;   \n      &lt;Button text= \"Remove\"(tap) =\"checkInstall($event2, myIndex)\" &gt; &lt;/Button&gt;   \n\n  &lt;/StackLayout&gt;\n &lt;/ListView&gt;  \n</code></pre>\n\n<p><strong>ts file:</strong></p>\n\n<pre><code>checkInstall(args: EventData, index : number) : void {\n\n}\n</code></pre>\n\n<p>for performing first button, checkInstall method working fine.But I dont know how to get the button id for second and third button to trigger separately for checkinstall to handle functionalities like hide and show the buttons.</p>\n"}, {"tags": ["typescript", "typescript2.4"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1501002494, "post_id": 45308572, "comment_id": 77581330, "body": "Note to anyone coming here, this only works because TypeScript treats non-generic non-function parameters as bivariant (see <a href=\"https://github.com/Microsoft/TypeScript/issues/14973\" rel=\"nofollow noreferrer\">discussion</a>).  It&#39;s still not safe for <code>myReducer()</code> to assume that the <code>action</code> parameter is of type <code>MyAction</code>.  To be safe, either <code>myReducer</code>&#39;s second parameter should be typed as <code>Action</code>, or the <code>Reducer</code> type should be declared as <code>type Reducer&lt;S, A extends Action=Action&gt;(state: S, action: A) =&gt; S;</code> and <code>myReducer</code> would be of type <code>Reducer&lt;MyState,MyAction&gt;</code>."}, {"owner": {"reputation": 180, "user_id": 2038164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d1e57eb6ec8d58e2f76c5d06c58e9982?s=128&d=identicon&r=PG", "display_name": "Ngz", "link": "https://stackoverflow.com/users/2038164/ngz"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1501091609, "post_id": 45308572, "comment_id": 77630427, "body": "@jcalz That is what I ended up doing for simple reducers, however, it doesn&#39;t work with the typings that ship with Redux. It&#39;s worth mentioning that this has been fixed in the Redux typings, where they added an extended Action type called AnyAction with an index signature: <code>[index: string]: any</code>. Edit: It would be neat if the Redux typings, i.e. ActionCreator, Dispatch, Store, etc. could be updated to allow for this constrained Reducer example."}], "tags": [], "owner": {"reputation": 6200, "user_id": 1980909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d05610f5fa89712dc60e7a3fc1209a74?s=128&d=identicon&r=PG", "display_name": "Adrian Leonhard", "link": "https://stackoverflow.com/users/1980909/adrian-leonhard"}, "is_accepted": true, "score": 1, "last_activity_date": 1500999124, "creation_date": 1500999124, "answer_id": 45308572, "question_id": 45307514, "link": "https://stackoverflow.com/questions/45307514/typescript-2-4-generic-inference-causing-compilation-errors/45308572#45308572", "title": "TypeScript 2.4 Generic Inference causing compilation errors", "body": "<pre><code>interface MyOtherAction {\n    type: 'MyOtherActionType'\n    foo: number\n}\n\ndeclare const state: State\ndeclare const myOtherAction: MyOtherAction\n\n// the following is a valid call according to myReducer's signature\nmyReducer(state, myOtherAction)\n</code></pre>\n\n<p>However the value you have assigned to <code>myReducer</code> doesn't accept every type of action, therefore you get an error.</p>\n\n<p>There's no reason to make the second parameter generic, as you aren't creating a constraint between two parameters/return value. Just do</p>\n\n<pre><code>type Reducer&lt;S&gt; = (state: S, action: Action) =&gt; S;\n</code></pre>\n"}], "owner": {"reputation": 180, "user_id": 2038164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d1e57eb6ec8d58e2f76c5d06c58e9982?s=128&d=identicon&r=PG", "display_name": "Ngz", "link": "https://stackoverflow.com/users/2038164/ngz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 45308572, "answer_count": 1, "score": 1, "last_activity_date": 1501092008, "creation_date": 1500996154, "last_edit_date": 1501092008, "question_id": 45307514, "link": "https://stackoverflow.com/questions/45307514/typescript-2-4-generic-inference-causing-compilation-errors", "title": "TypeScript 2.4 Generic Inference causing compilation errors", "body": "<p>I am seeing existing TypeScript code break due to the changes in generic inference. </p>\n\n<p>Example:</p>\n\n<pre><code>interface Action {\n    type: string;\n}\ninterface MyAction extends Action {\n    payload: string;\n}\ninterface MyState {}\n\ntype Reducer&lt;S&gt; = &lt;A extends Action&gt;(state: S, action: A) =&gt; S;\n\nconst myReducer: Reducer&lt;MyState&gt; = (state: MyState, action: MyAction) =&gt; {\n    if (action.type === \"MyActionType\") {\n        return {};\n    }\n    else {\n        return {};\n    }\n};\n</code></pre>\n\n<p>And the compilation error:</p>\n\n<pre><code>Error:(11, 7) TS2322:Type '(state: MyState, action: MyAction) =&gt; {}' is not assignable to type 'Reducer&lt;MyState&gt;'.\n  Types of parameters 'action' and 'action' are incompatible.\n    Type 'A' is not assignable to type 'MyAction'.\n      Type 'Action' is not assignable to type 'MyAction'.\n        Property 'payload' is missing in type 'Action'.\n</code></pre>\n"}, {"tags": ["jquery", "angular", "typescript", "ng2-smart-table"], "comments": [{"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501001883, "post_id": 45307449, "comment_id": 77580956, "body": "Do your filter columns match what&#39;s in settings? See this example: <a href=\"https://akveo.github.io/ng2-smart-table/#/examples/using-filters\" rel=\"nofollow noreferrer\">akveo.github.io/ng2-smart-table/#/examples/using-filters</a>"}, {"owner": {"reputation": 155, "user_id": 7301611, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7bc878b0dfef60db1d5e17185cf75e60?s=128&d=identicon&r=PG&f=1", "display_name": "Jamil89", "link": "https://stackoverflow.com/users/7301611/jamil89"}, "reply_to_user": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1501054403, "post_id": 45307449, "comment_id": 77602492, "body": "Columns name and field name matches."}], "owner": {"reputation": 155, "user_id": 7301611, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7bc878b0dfef60db1d5e17185cf75e60?s=128&d=identicon&r=PG&f=1", "display_name": "Jamil89", "link": "https://stackoverflow.com/users/7301611/jamil89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 888, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1500995972, "creation_date": 1500995972, "question_id": 45307449, "link": "https://stackoverflow.com/questions/45307449/angular-2-ng2-smart-table-global-search-on-a-rendered-field", "title": "Angular 2 - ng2-smart-table - global search on a rendered field", "body": "<p>I have an ng2-smart-table with a global search filter that interacts with the fields of the table. It work for that columns that doesn't have any rendering. This is my code</p>\n\n<pre><code>onSearch(query: string = '') {\n        if(query != \"\"){\n            this.pages.setFilter(\n            [\n            // fields we want to include in the search\n                {\n                field: 'productTypeDescription',\n                search: query\n                },\n                {\n                field: 'products',\n                search: query\n                },\n                {\n                field: 'varianti',\n                search: query\n                }\n        ], false);\n    }\n</code></pre>\n\n<p>And these are my columns </p>\n\n<pre><code>productTypeDescription: {\n                title: 'Tipo prodotto',\n                filter: false,\n                class: \"colonneTabella\",\n                width: \"20%\",\n            },\n            products: {\n                title: 'Prodotto',\n                filter: false,\n                class: \"colonneTabella\",\n                width: \"20%\",\n                valuePrepareFunction: (products) =&gt; { \n                    var output =\"\";\n                    var outputs = \"\";\n\n                    products.forEach(function(item){\n                        output = item.productDescription\n                        item.variantList.forEach(function(el){\n                            outputs= output;  \n                        })   \n\n\n                    })\n                    console.log(outputs)\n                    return outputs;  \n\n                    //return JSON.stringify(value)}\n                }\n            },\n\n            varianti: {\n                title: 'Varianti',\n                filter: false,\n                class: \"colonneTabella\",\n                type: 'custom',\n                width: \"20%\",\n                renderComponent: VariantsProductRenderComponent,\n            }\n</code></pre>\n\n<p>My search works only on the first column, but doesn't on \"varianti\" and \"products\". I didn't find anything about this question, do you know a possible solution? thanks</p>\n"}, {"tags": ["angular", "typescript", "animation"], "answers": [{"tags": [], "owner": {"reputation": 192, "user_id": 3427476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58c2fcff2ffae6d61695d693724dc855?s=128&d=identicon&r=PG&f=1", "display_name": "Allen Wahlberg", "link": "https://stackoverflow.com/users/3427476/allen-wahlberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1500995983, "creation_date": 1500995983, "answer_id": 45307451, "question_id": 45307310, "link": "https://stackoverflow.com/questions/45307310/handling-animations-multiple-objects-in-angular-2/45307451#45307451", "title": "Handling animations multiple objects in Angular 2+", "body": "<p>call with template decorator on element </p>\n\n<pre><code>&lt;li *ngFor=\"let hero of heroes\"\n    [@right-center-left]=\"hero.state\"\n    (click)=\"hero.toggleState()\"&gt;\n  {{hero.name}}\n&lt;/li&gt;\n</code></pre>\n\n<p>p.s. I think can be error by name, change on RightCenterLeft or any animation name, in example - SlideAnimation. </p>\n"}], "owner": {"reputation": 1172, "user_id": 5212157, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-Q_5hxD9mHKs/AAAAAAAAAAI/AAAAAAAAHBo/iiS12tFEHPQ/photo.jpg?sz=128", "display_name": "Chris Rutherford", "link": "https://stackoverflow.com/users/5212157/chris-rutherford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1500997036, "creation_date": 1500995587, "last_edit_date": 1500997036, "question_id": 45307310, "link": "https://stackoverflow.com/questions/45307310/handling-animations-multiple-objects-in-angular-2", "title": "Handling animations multiple objects in Angular 2+", "body": "<p>Working on an Angular app that will be working with quite a lot of Modals in a wizard style configuration.</p>\n\n<p>I'm using the Angular-cli to make the project.</p>\n\n<p>Here is how I'm setting my animations:</p>\n\n<pre><code>  animations:[\n    trigger('right-center-left',[\n      state('right', style({\n          transform: 'translateX(100%)'\n      })),\n      state('center', style({\n        transform: 'translateX(0)',\n      })),\n      state('left', style({\n        transform: 'translateX(-100%)',\n      })),\n      transition('right =&gt; center', animate('300ms ease-in')),\n      transition('center =&gt; left', animate('300ms ease-in')),\n    ]),\n  ],\n</code></pre>\n\n<p>I have five divs that have a class of <code>.modal</code> that I will be transitioning through. There is a button that calls <code>nextModal()</code> and another that calls <code>prevModal()</code>. What I'm trying to do is when <code>nextModal()</code> is called, the current modal slides away, and the next one slides in. The reverse is true of the <code>prevModal()</code> function on the controller.</p>\n\n<p>I've already tested using this type of call inside the template:</p>\n\n<pre><code>&lt;button class='right-btn' (click)='prevModal(addressModal,phonesModal)'&gt;Previous&lt;/button&gt;\n&lt;button class='left-btn' (click)='nextModal(phonesModal, emailModal)'&gt;Next Part&lt;/button&gt;\n</code></pre>\n\n<p>and here are my modal change functions:</p>\n\n<pre><code>  nextModal = (current, next) =&gt; {\n    current = 'left';\n    next = 'center';\n  }\n  prevModal = (prev, current) =&gt; {\n    prev = 'center';\n    current = 'right';\n  }\n</code></pre>\n"}]