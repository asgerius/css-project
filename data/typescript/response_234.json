[{"tags": ["typescript", "bazel", "jasmine-node"], "comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1562202740, "post_id": 56879086, "comment_id": 100307514, "body": "What npm packages exactly are you using? Can you for instance list the dependencies in your package.json file. That would help reproduce the issue."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 11736809, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lnolSPj8Pw0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4VOaQMFL39BsFLq7WDCkUTEDrIA/photo.jpg?sz=128", "display_name": "qrb", "link": "https://stackoverflow.com/users/11736809/qrb"}, "edited": false, "score": 0, "creation_date": 1562299908, "post_id": 56880120, "comment_id": 100338639, "body": "Tried that... Still the same error. I&#39;m wondering if this has anything to do with jasmine.json. If I run my test through jasmine instead of bazel, it works."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 79, "user_id": 11736809, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lnolSPj8Pw0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4VOaQMFL39BsFLq7WDCkUTEDrIA/photo.jpg?sz=128", "display_name": "qrb", "link": "https://stackoverflow.com/users/11736809/qrb"}, "edited": false, "score": 0, "creation_date": 1562300891, "post_id": 56880120, "comment_id": 100338829, "body": "Have you tried any of the examples in the repo that I linked in my answer? Some of them run Jasmine. I&#39;d be interested to know whether they work for you."}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": false, "score": 0, "last_activity_date": 1562212004, "last_edit_date": 1562212004, "creation_date": 1562209193, "answer_id": 56880120, "question_id": 56879086, "link": "https://stackoverflow.com/questions/56879086/no-specs-found-while-executing-jasmine-test-via-bazel/56880120#56880120", "title": "No specs found while executing jasmine test via bazel", "body": "<p>Try using <code>glob</code>, which is inspired by rules from <a href=\"https://github.com/bazelbuild/rules_nodejs/blob/master/examples/bazel_managed_deps/BUILD.bazel\" rel=\"nofollow noreferrer\">bazelbuild/rules_nodejs/examples</a>.</p>\n\n<pre><code>srcs = glob([\"*.spec.ts\"]),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 1437443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b81f0df29e117be93a63339252e21022?s=128&d=identicon&r=PG", "display_name": "jnelson", "link": "https://stackoverflow.com/users/1437443/jnelson"}, "is_accepted": false, "score": 1, "last_activity_date": 1562324123, "creation_date": 1562324123, "answer_id": 56901694, "question_id": 56879086, "link": "https://stackoverflow.com/questions/56879086/no-specs-found-while-executing-jasmine-test-via-bazel/56901694#56901694", "title": "No specs found while executing jasmine test via bazel", "body": "<p>I tried your code in a sample application using Bazel and it seems like you need to transpile your code to JS <strong>because you are trying to run a .ts file in a JS test runner</strong>.</p>\n\n<p>Note: In your case a simple rename to <code>*.js</code> will suffice (I checked).</p>\n\n<hr>\n\n<h2>Sample code to achieve what you want</h2>\n\n<p><strong>BUILD.bazel</strong></p>\n\n<pre><code>load(\"@npm_bazel_typescript//:index.bzl\", \"ts_library\")\nload(\"@npm_bazel_jasmine//:index.bzl\", \"jasmine_node_test\")\n\nts_library(\n    name = \"files_to_compile\",\n    srcs = [\"test.spec.ts\"]\n)\n\njasmine_node_test(\n    name = \"sampletest\",\n    srcs = [\":files_to_compile\"]\n)\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>load(\"@npm_bazel_jasmine//:index.bzl\", \"jasmine_node_test\")\n\njasmine_node_test(\n    name = \"sampletest\",\n    srcs = [\"test.spec.js\"]\n)\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 11736809, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lnolSPj8Pw0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4VOaQMFL39BsFLq7WDCkUTEDrIA/photo.jpg?sz=128", "display_name": "qrb", "link": "https://stackoverflow.com/users/11736809/qrb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1562324123, "creation_date": 1562197107, "last_edit_date": 1562299779, "question_id": 56879086, "link": "https://stackoverflow.com/questions/56879086/no-specs-found-while-executing-jasmine-test-via-bazel", "title": "No specs found while executing jasmine test via bazel", "body": "<p>I'm tring to run jasmine test using bazel on my current directory, but it is complaining about no specs found. </p>\n\n<p>I think it has something to do with the \"srcs\" variable that I am providing.\nI tried <code>[\":spec/test.spec.ts\"]</code> and <code>[\":spec\"]</code> but none is working.</p>\n\n<p>Command that I use: bazel run //packages/core:unit_test</p>\n\n<p>File directory:</p>\n\n<p>root</p>\n\n<p>-packages</p>\n\n<p>--core</p>\n\n<p>---spec</p>\n\n<p>----test.spec.ts</p>\n\n<pre><code>jasmine_node_test(\n    name = \"unit_test\",\n    srcs = [\":spec/test.spec.ts\"],\n    deps = [\n        \"@npm//jasmine\"\n    ],\n)\n</code></pre>\n\n<p>test.spec.ts</p>\n\n<pre><code>describe(\"A suite is just a function\", function() {\n  var a;\n\n  it(\"and so is a spec\", function() {\n    a = true;\n\n    expect(a).toBe(true);\n  });\n});\n</code></pre>\n\n<p>Package.json</p>\n\n<pre><code>  \"devDependencies\": {\n    \"@bazel/bazel\": \"^0.24.1\",\n    \"@bazel/buildifier\": \"^0.22.0\",\n    \"@bazel/ibazel\": \"^0.10.2\",\n    \"@bazel/typescript\": \"^0.28.0\",\n    \"@types/node\": \"^12.0.0\",\n    \"tslib\": \"^1.9.3\",\n    \"typescript\": \"^3.4.5\"\n  },\n  \"dependencies\": {\n    \"@bazel/jasmine\": \"^0.32.2\",\n    \"@types/jasmine\": \"^3.3.13\",\n    \"jasmine\": \"^3.4.0\"\n  }\n</code></pre>\n\n<p>I expect the test to run successfully.</p>\n"}, {"tags": ["javascript", "xml", "typescript", "nativescript"], "comments": [{"owner": {"reputation": 1399, "user_id": 4527057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a5947a7625a180577e321ead1c56769?s=128&d=identicon&r=PG&f=1", "display_name": "lloyd", "link": "https://stackoverflow.com/users/4527057/lloyd"}, "edited": false, "score": 1, "creation_date": 1562196586, "post_id": 56879031, "comment_id": 100306569, "body": "see <a href=\"https://stackoverflow.com/questions/12678716/transforming-typescript-into-javascript\">transforming ts to js</a>"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1562196774, "post_id": 56879031, "comment_id": 100306602, "body": "<a href=\"https://www.typescriptlang.org/play/#code/JYWwDg9gTgLgBAbzgUQG4FMB2MAiBDGPOAXzgDMoIQ4AiGTAZwFoBjadJkCAEwFcAbdAwD03AnmEQARg3RRUeKYJoBuAFChIsRHAAKeAOboANHABqwdAHcS5StTqNW7TjwFDhvYMLCH0qjXBoeCQAZStgMHQAQRYYYAhGNCxccVsKKlpMAmAMBhYoSJgmLyZ+YAYYVEsrAMCtELgACSp0C2sAWR50fnT7WgA6YQALVqZq61duHrr0AA8G8l5MOITMOGzqgxzMAwAVCAAKPCgDBgAuFAxsfEIASkQ1OGe4NkZ4XyM4AF44AB59EYAHwnM4DaQAK3QcXUTxen3QAykwEw3BRBgAwokYPN4L9MNZmq12lYutN+Ic7upiGo1PNFmRlqtEnBEuFIugMT1+KFCLB0NxjqcLnB2VFYvFEgxkjdxA8EHDnm9KnAGBEogAZUDAGAMH5wUEMAZiQgDNUcrUgHUMdQvVXq9CW60DQRkPFwADMADYAAy2l7mzXa3UDQoGYbuv2K+0W4NGmDDKBCUb8bj6gBMPqjxCAA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1562196832, "post_id": 56879031, "comment_id": 100306613, "body": "Just remove the typings syntax from the code"}], "answers": [{"tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1562198635, "creation_date": 1562198635, "answer_id": 56879222, "question_id": 56879031, "link": "https://stackoverflow.com/questions/56879031/im-trying-to-translate-an-example-of-typescript-into-javascript-and-im-not-su/56879222#56879222", "title": "I&#39;m trying to translate an example of TypeScript into JavaScript, and I&#39;m not sure how to convert it", "body": "<pre><code>import { HomeViewModel } from \"./home-view-model\";\nexport function navigatingTo(args) {\n    const page = args.object;\n    page.bindingContext = new HomeViewModel();\n}\nexport function onSwipeCellStarted(args) {\n    const swipeLimits = args.data.swipeLimits;\n    swipeLimits.left = 360;\n    swipeLimits.right = 0;\n    swipeLimits.threshold = 200;\n}\n</code></pre>\n\n<p>Or if the application doesn't support 'import' syntax</p>\n\n<pre><code>const HomeViewModel = require(\"./home-view-model\").HomeViewModel;\nexport function navigatingTo(args) {\n    const page = args.object;\n    page.bindingContext = new HomeViewModel();\n}\nexport function onSwipeCellStarted(args) {\n    const swipeLimits = args.data.swipeLimits;\n    swipeLimits.left = 360;\n    swipeLimits.right = 0;\n    swipeLimits.threshold = 200;\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10942886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc5f389aa146cda581e95894b629e5d5?s=128&d=identicon&r=PG&f=1", "display_name": "manuel.espinoza", "link": "https://stackoverflow.com/users/10942886/manuel-espinoza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562198635, "creation_date": 1562196501, "question_id": 56879031, "link": "https://stackoverflow.com/questions/56879031/im-trying-to-translate-an-example-of-typescript-into-javascript-and-im-not-su", "title": "I&#39;m trying to translate an example of TypeScript into JavaScript, and I&#39;m not sure how to convert it", "body": "<p>I'm working with an example of NativeScript which uses TypeScript to process the logic. My working project uses JavaScript and I want to bring the example into my project. </p>\n\n<p>I tried to bring the code into the <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">TS playground</a></p>\n\n<pre><code>import { EventData } from \"tns-core-modules/data/observable\";\nimport { Page, View } from \"tns-core-modules/ui/page\";\nimport { SwipeActionsEventData } from \"nativescript-ui-listview\";\n\nimport { HomeViewModel } from \"./home-view-model\";\n\nexport function navigatingTo(args: EventData) {\n    const page = &lt;Page&gt;args.object;\n\n    page.bindingContext = new HomeViewModel();\n}\n\nexport function onSwipeCellStarted(args: SwipeActionsEventData) {\n    const swipeLimits = args.data.swipeLimits;\n    swipeLimits.left = 360;\n    swipeLimits.right = 0;\n    swipeLimits.threshold = 200;\n}\n\nI'm just wanting to know how it would be formated using JS\n</code></pre>\n"}, {"tags": ["typescript", "canvas", "typeerror", "addeventlistener"], "answers": [{"tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1562193477, "creation_date": 1562193477, "answer_id": 56878722, "question_id": 56878690, "link": "https://stackoverflow.com/questions/56878690/why-is-the-canvas-not-found-typesrcipt/56878722#56878722", "title": "Why is the canvas not found (Typesrcipt)", "body": "<p>Almost there just declare that stuff inside the body of the class.</p>\n\n<pre><code>class cvsClick {\n    cvs:HTMLCanvasElement;\n    ctx:CanvasRenderingContext2D | null;\n    constructor() {\n        let cvs = &lt;HTMLCanvasElement&gt;document.getElementById(\"background\");\n        let ctx = cvs.getContext(\"2d\");\n\n        this.cvs = cvs;\n        this.ctx = ctx;\n\n        this.cvs.addEventListener('click', console.log(\"canvas clicked\"));\n    }\n\n}\nnew cvsClick();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 8495609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66900acd679eb43146fed4e04e7ed9f?s=128&d=identicon&r=PG&f=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/8495609/karl"}, "is_accepted": false, "score": 0, "last_activity_date": 1562193812, "creation_date": 1562193812, "answer_id": 56878764, "question_id": 56878690, "link": "https://stackoverflow.com/questions/56878690/why-is-the-canvas-not-found-typesrcipt/56878764#56878764", "title": "Why is the canvas not found (Typesrcipt)", "body": "<p>Thanks for the answer, it works. The errors are gone. Still i had to change the event listener to</p>\n\n<pre><code>        this.cvs.addEventListener('click', () =&gt; {\n            console.log(\"canvas clicked\");\n        });\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8495609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66900acd679eb43146fed4e04e7ed9f?s=128&d=identicon&r=PG&f=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/8495609/karl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1562193812, "creation_date": 1562193220, "question_id": 56878690, "link": "https://stackoverflow.com/questions/56878690/why-is-the-canvas-not-found-typesrcipt", "title": "Why is the canvas not found (Typesrcipt)", "body": "<p>I try to add an eventListener to the canvas. But with the code I get this error:</p>\n\n<pre><code>TS2339: Property 'cvs' does not exist on type 'cvsClick'.\n</code></pre>\n\n<p>Here's the Typescript</p>\n\n<pre><code>cvs:HTMLCanvasElement;\nctx:CanvasRenderingContext2D;\n\nclass cvsClick {\n\n    constructor() {\n        let cvs = &lt;HTMLCanvasElement&gt;document.getElementById(\"background\");\n        let ctx = cvs.getContext(\"2d\");\n\n        this.cvs = cvs;\n        this.ctx = ctx;\n\n        this.cvs.addEventListener('click', console.log(\"canvas clicked\"));\n    }\n\n}\nnew cvsClick();\n</code></pre>\n\n<p>Here's the HTML:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n      &lt;head&gt;\n      &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n      &lt;body&gt;\n        &lt;canvas id=\"background\" width=\"780\" height=\"480\"&gt;&lt;/canvas&gt;\n        &lt;script type=\"text/javascript\" src=\"bundle.js\"&gt;&lt;/script&gt;\n      &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>Maybe my EventListener is also not correct.</p>\n"}, {"tags": ["typescript", "enums"], "comments": [{"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "edited": false, "score": 0, "creation_date": 1562192839, "post_id": 56878552, "comment_id": 100305775, "body": "It&#39;s important to point out that <code>enum</code>s in TypeScript boil down to <i>both</i> the numeric index <i>and</i> the string representation. That&#39;s what you&#39;re seeing in the examples you&#39;ve provided."}, {"owner": {"reputation": 309, "user_id": 736361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j3yKa.jpg?s=128&g=1", "display_name": "lebed2045", "link": "https://stackoverflow.com/users/736361/lebed2045"}, "reply_to_user": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "edited": false, "score": 0, "creation_date": 1562193564, "post_id": 56878552, "comment_id": 100305934, "body": "turned out, the example I&#39;ve provided doesn&#39;t actually work either."}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 736361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j3yKa.jpg?s=128&g=1", "display_name": "lebed2045", "link": "https://stackoverflow.com/users/736361/lebed2045"}, "edited": false, "score": 0, "creation_date": 1562259060, "post_id": 56890618, "comment_id": 100330519, "body": "this is excellent! Is there any reason why TypeScript shouldn&#39;t treat operators &quot;for in&quot; and &quot;for of&quot; in a similar way out of the box for enums?"}, {"owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "reply_to_user": {"reputation": 309, "user_id": 736361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j3yKa.jpg?s=128&g=1", "display_name": "lebed2045", "link": "https://stackoverflow.com/users/736361/lebed2045"}, "edited": false, "score": 0, "creation_date": 1562328313, "post_id": 56890618, "comment_id": 100350118, "body": "<code>for ... of</code> they could (because the generated <code>enum</code> could implement the <code>iterator</code> protocol), but they can&#39;t change <code>for ... in</code> behavior with enums without more runtime emit (which is counter to the design goals of the language)"}], "tags": [], "owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "is_accepted": false, "score": 1, "last_activity_date": 1562252720, "creation_date": 1562252720, "answer_id": 56890618, "question_id": 56878552, "link": "https://stackoverflow.com/questions/56878552/how-to-loop-over-enum-without-values-on-typescript/56890618#56890618", "title": "How to loop over enum without values on TypeScript?", "body": "<p>Iterating over <em>all</em> the keys will give you too much (it will also give you the keys <code>\"0\", \"1\", \"2\"</code>).  You can filter it down <em>and</em> get the type-safety you want, but you have to tell TypeScript that this is safe (with the <code>as K[]</code> in <code>enumKeys</code> below):</p>\n\n<pre><code>function enumKeys&lt;O extends object, K extends keyof O = keyof O&gt;(obj: O): K[] {\n  return Object.keys(obj).filter(k =&gt; Number.isNaN(+k)) as K[];\n}\n\nfor (const networkName of enumKeys(EthereumNetwork)) {\n  const network = EthereumNetwork[networkName];\n  const wallet = new EthereumHDWallet(network);\n}\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 736361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j3yKa.jpg?s=128&g=1", "display_name": "lebed2045", "link": "https://stackoverflow.com/users/736361/lebed2045"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562252720, "creation_date": 1562192152, "last_edit_date": 1562193751, "question_id": 56878552, "link": "https://stackoverflow.com/questions/56878552/how-to-loop-over-enum-without-values-on-typescript", "title": "How to loop over enum without values on TypeScript?", "body": "<p>I have the </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>enum EthereumNetwork {\n  MAIN_NET,\n  ROPSTEN,\n  KOVAN\n}\n\nclass EthereumHDWallet {\n  constructor(network: EthereumNetwork) { }\n}\n</code></pre>\n\n<p>The task is to write a test which goes over all possible networks and trying to create EthereumHDWallet. Something like that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  for (const network in EthereumNetwork) {\n      const wallet = new EthereumHDWallet(network);\n      it('constructor', () =&gt; {\n        expect(wallet).toBeDefined();\n      });\n  }\n</code></pre>\n\n<p>Unfortunately, the code above doesn't work because of error TS2345: Argument of type 'string' is not assignable to parameter of type 'EthereumNetwork'.\nDoes anyone know way around? </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1562186918, "post_id": 56877697, "comment_id": 100304004, "body": "Not quite sure what you&#39;re trying to do here, but does <code>{ a?: number; b?: string }</code> do what you need?"}, {"owner": {"reputation": 10523, "user_id": 806963, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gSzvm.jpg?s=128&g=1", "display_name": "Stav Alfi", "link": "https://stackoverflow.com/users/806963/stav-alfi"}, "reply_to_user": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1562186940, "post_id": 56877697, "comment_id": 100304015, "body": "no. it&#39;s not what I&#39;m searching for."}, {"owner": {"reputation": 2215, "user_id": 260560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc8102716b5f50a80becb906f3cc69c?s=128&d=identicon&r=PG", "display_name": "ProdigySim", "link": "https://stackoverflow.com/users/260560/prodigysim"}, "edited": false, "score": 0, "creation_date": 1562186959, "post_id": 56877697, "comment_id": 100304019, "body": "It might be possible, a good source of inspiration could be the <a href=\"https://github.com/piotrwitek/utility-types\" rel=\"nofollow noreferrer\">utility-types</a> project"}, {"owner": {"reputation": 10523, "user_id": 806963, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gSzvm.jpg?s=128&g=1", "display_name": "Stav Alfi", "link": "https://stackoverflow.com/users/806963/stav-alfi"}, "reply_to_user": {"reputation": 2215, "user_id": 260560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc8102716b5f50a80becb906f3cc69c?s=128&d=identicon&r=PG", "display_name": "ProdigySim", "link": "https://stackoverflow.com/users/260560/prodigysim"}, "edited": false, "score": 0, "creation_date": 1562187212, "post_id": 56877697, "comment_id": 100304112, "body": "@ProdigySim Thats a nice project. Thanks! Also, can you be more specific on what I may need from there?"}, {"owner": {"reputation": 2215, "user_id": 260560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc8102716b5f50a80becb906f3cc69c?s=128&d=identicon&r=PG", "display_name": "ProdigySim", "link": "https://stackoverflow.com/users/260560/prodigysim"}, "edited": false, "score": 0, "creation_date": 1562187795, "post_id": 56877697, "comment_id": 100304331, "body": "<code>Unionize&lt;T&gt;</code> would give you <code>{a:number}</code> and <code>{b: string}</code> from <code>base</code>. Which would be enough to solve this for cases where <code>num_properties = 2</code>. But you would need more to find all permutations of types."}, {"owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "edited": false, "score": 0, "creation_date": 1562187802, "post_id": 56877697, "comment_id": 100304334, "body": "100% possible, i&#39;ll post a solution"}], "answers": [{"comments": [{"owner": {"reputation": 2215, "user_id": 260560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc8102716b5f50a80becb906f3cc69c?s=128&d=identicon&r=PG", "display_name": "ProdigySim", "link": "https://stackoverflow.com/users/260560/prodigysim"}, "edited": false, "score": 1, "creation_date": 1562188279, "post_id": 56877955, "comment_id": 100304481, "body": "There are some differences between this type and the type OP is asking for. For example, trying to access the type of a property: <code>ResultType[&#39;b&#39;]</code>"}, {"owner": {"reputation": 10523, "user_id": 806963, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gSzvm.jpg?s=128&g=1", "display_name": "Stav Alfi", "link": "https://stackoverflow.com/users/806963/stav-alfi"}, "edited": false, "score": 0, "creation_date": 1562188713, "post_id": 56877955, "comment_id": 100304665, "body": "sory, this is not what i want searching for. please read the end of my question."}], "tags": [], "owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "is_accepted": false, "score": 0, "last_activity_date": 1562188160, "creation_date": 1562188160, "answer_id": 56877955, "question_id": 56877697, "link": "https://stackoverflow.com/questions/56877697/get-all-combinations-of-a-type/56877955#56877955", "title": "Get all combinations of a type", "body": "<p>I <em>think</em> you are looking for:</p>\n\n<pre><code>type all_combinations&lt;T&gt; = { [P in keyof T]?: T[P]; };\n</code></pre>\n\n<p>Usually this is called <code>Partial</code></p>\n"}, {"comments": [{"owner": {"reputation": 10523, "user_id": 806963, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gSzvm.jpg?s=128&g=1", "display_name": "Stav Alfi", "link": "https://stackoverflow.com/users/806963/stav-alfi"}, "edited": false, "score": 0, "creation_date": 1562188615, "post_id": 56877972, "comment_id": 100304622, "body": "This is an amazing solution. Thanks!!"}, {"owner": {"reputation": 2215, "user_id": 260560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc8102716b5f50a80becb906f3cc69c?s=128&d=identicon&r=PG", "display_name": "ProdigySim", "link": "https://stackoverflow.com/users/260560/prodigysim"}, "edited": false, "score": 0, "creation_date": 1562188870, "post_id": 56877972, "comment_id": 100304745, "body": "I don&#39;t think this generates a type with each property individually. It create {a,b}, {b,c}, {a,c} but not {a}, {b}, {c}. Given N properties, I think this will create all combinations of length N-1."}, {"owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "edited": false, "score": 0, "creation_date": 1562188890, "post_id": 56877972, "comment_id": 100304751, "body": "I don&#39;t think you&#39;ll want empty object in there as that will allow the object type to expand out to allow {g: &quot;ANYTHING&quot;} will now be allowed but added anyway"}, {"owner": {"reputation": 2215, "user_id": 260560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc8102716b5f50a80becb906f3cc69c?s=128&d=identicon&r=PG", "display_name": "ProdigySim", "link": "https://stackoverflow.com/users/260560/prodigysim"}, "edited": false, "score": 0, "creation_date": 1562189473, "post_id": 56877972, "comment_id": 100304941, "body": "Maybe make it recursive? <code>[K in keyof T]: Combinations&lt;Omit&lt;T, K&gt;&gt; | Pick&lt;T,K&gt;</code>"}, {"owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "edited": false, "score": 0, "creation_date": 1562190221, "post_id": 56877972, "comment_id": 100305150, "body": "Good idea i&#39;ll update it now forgot he wanted individual keys aswell"}, {"owner": {"reputation": 10523, "user_id": 806963, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gSzvm.jpg?s=128&g=1", "display_name": "Stav Alfi", "link": "https://stackoverflow.com/users/806963/stav-alfi"}, "edited": false, "score": 0, "creation_date": 1562422298, "post_id": 56877972, "comment_id": 100372460, "body": "@ShanonJackson The first solutin doesn&#39;t work with recursive types, such as: <code>type employee = Combinations&lt;{manager:employee}&gt; const employee1:employee = {manager:1} &#47;&#47; it complies!! but should be an error!</code> when Combinations is defined as <code>type Combinations&lt;T&gt; =   | {       [K in keyof T]: Combinations&lt;Omit&lt;T, K&gt;&gt; | Pick&lt;T, K&gt;     }[keyof T]   | T   | {} </code>. Is there any way to fix that? If not, it&#39;s still probably the best I will get. almost :P"}], "tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": true, "score": 1, "last_activity_date": 1562190306, "last_edit_date": 1562190306, "creation_date": 1562188272, "answer_id": 56877972, "question_id": 56877697, "link": "https://stackoverflow.com/questions/56877697/get-all-combinations-of-a-type/56877972#56877972", "title": "Get all combinations of a type", "body": "<p>Multiple ways to solve any problem one way is to do this...</p>\n\n<pre><code>type Base = { a: number; b: string; c: number }\n\ntype Combinations&lt;T&gt; = {\n    [K in keyof T]: Combinations&lt;Omit&lt;T, K&gt;&gt; | Pick&lt;T, K&gt;\n}[keyof T]\n\ntype TestCombinatinos = Combinations&lt;Base&gt; | Base | {}\n// should be what you want give it a whirl and let me know.\n</code></pre>\n\n<p>Another way is to do this which is more manual per-key</p>\n\n<pre><code>export type XOR&lt;T, U&gt; = (T | U) extends object ? (Without&lt;T, U&gt; &amp; U) | (Without&lt;U, T&gt; &amp; T) : T | U;\nexport type Without&lt;T, U&gt; = { [P in Exclude&lt;keyof T, keyof U&gt;]?: never };\n\ntype AWithoutBBWithoutA = XOR&lt;Omit&lt;Base, \"a\"&gt;, Omit&lt;Base, \"b\"&gt;&gt;;\n\ntype Base = { a: number; b: string;}\nconst test: AWithoutBBWithoutA ={\n    a: 5\n} // fine\n\nconst test1: AWithoutBBWithoutA ={\n    b: \"fine\"\n} // fine\n\n\nconst test2: AWithoutBBWithoutA  = {\n    a: 5,\n    b: \"asd\"\n} // error\n</code></pre>\n\n<p>Let me know if that's along the lines of what you were looking for.</p>\n\n<p>EDIT: I think the top one is definitely a preferred solution; Also as an edit i would like to add that OP doesn't need a permutations algorithm to solve this; {a: number, b: string} ==== {b: string, a: number} Object key ordering is irrelevant; </p>\n"}], "owner": {"reputation": 10523, "user_id": 806963, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gSzvm.jpg?s=128&g=1", "display_name": "Stav Alfi", "link": "https://stackoverflow.com/users/806963/stav-alfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 56877972, "answer_count": 2, "score": 1, "last_activity_date": 1562190306, "creation_date": 1562186697, "last_edit_date": 1562187410, "question_id": 56877697, "link": "https://stackoverflow.com/questions/56877697/get-all-combinations-of-a-type", "title": "Get all combinations of a type", "body": "<pre><code>type base = { a: number; b: string }\n\ntype all_combinations&lt;T&gt; = .... // *missing*\n\ntype result = all_combinations&lt;base&gt;\n\n// result = {} | {a:number} | {b:string} |  { a: number; b: string }\n</code></pre>\n\n<p>Can I achieve that? How?</p>\n\n<hr>\n\n<ul>\n<li>I'm not looking for a solution like this: <code>{ a?: number; b?: string }</code>. <strong><em>It's not the same type as what I'm searching for</em></strong>.</li>\n</ul>\n\n<p>If it's not that hard, I would like to only get a clue ;)</p>\n"}, {"tags": ["node.js", "typescript", "mocha.js", "tsc", "ts-node"], "owner": {"reputation": 612, "user_id": 1534613, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/00a51235367d75deed81061f0928438e?s=128&d=identicon&r=PG", "display_name": "barath", "link": "https://stackoverflow.com/users/1534613/barath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562185392, "creation_date": 1562185392, "question_id": 56877453, "link": "https://stackoverflow.com/questions/56877453/is-it-a-good-approach-to-use-different-compiler-and-module-combination-between-p", "title": "Is it a good approach to use different compiler and module combination between project build process and unit tests", "body": "<p>New to the typescript. I'm trying to use mocha framework to add unit tests to one our nodeJS/typescript projects.</p>\n\n<p>Our typescript application uses <code>tsc</code> compiler with <code>esnext</code> module. </p>\n\n<p>I couldn't able to make Mocha to use <code>esnext</code> module to run the tests (it works fine with commonjs module). Seems like ts-node doesn't detect the imports with esnext module, but it has no issues when used with <code>commonjs</code> module. </p>\n\n<ul>\n<li>So, I'm wondering <strong>is it a good practice to use different compiler and module combination between project build process and unit tests?</strong> i.e. tsc and esnext for build process and ts-node and commonjs for unit test.</li>\n<li>Are there any potential issues/risks we might face in future if we proceed with this approach? </li>\n<li>Is there any way to make Mocha to use <code>tsc with esnext</code> or <code>ts-node with commonjs</code> or <code>ts-node with esnext</code>?</li>\n<li>Or Am I missing something conceptually with the way typescript or Mocha work?</li>\n</ul>\n"}, {"tags": ["node.js", "typescript", "promise", "node-fetch"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1562186042, "post_id": 56877355, "comment_id": 100303654, "body": "Looks like two different types with the same name <code>Response</code> to me."}, {"owner": {"reputation": 173, "user_id": 4664881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8OIe.jpg?s=128&g=1", "display_name": "HerrZatacke", "link": "https://stackoverflow.com/users/4664881/herrzatacke"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1562186468, "post_id": 56877355, "comment_id": 100303825, "body": "Okay, sounds plausible. As I am quite new to typescript, this is not meant to happen?"}, {"owner": {"reputation": 1059, "user_id": 440791, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e81e421fe89ed6e7c047b728bd15c845?s=128&d=identicon&r=PG", "display_name": "BrunoFenzl", "link": "https://stackoverflow.com/users/440791/brunofenzl"}, "edited": false, "score": 1, "creation_date": 1562225825, "post_id": 56877355, "comment_id": 100313312, "body": "Typings for node-fetch <code>Response</code> doesn&#39;t have those 3 properties as you can see in the source code: <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/29ca96dcfea1a0b3d07f0d4dda5445d8990f12dd/types/node-fetch/index.d.ts#L159\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/blob/&hellip;</a> Why don&#39;t you use the native <code>Promise</code> type instead of <code>PromiseLike</code>?"}, {"owner": {"reputation": 173, "user_id": 4664881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8OIe.jpg?s=128&g=1", "display_name": "HerrZatacke", "link": "https://stackoverflow.com/users/4664881/herrzatacke"}, "edited": false, "score": 0, "creation_date": 1562238506, "post_id": 56877355, "comment_id": 100320288, "body": "Using <code>Promise</code> instead of <code>PromiseLike</code> unfortunately causes the same error"}], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 4664881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8OIe.jpg?s=128&g=1", "display_name": "HerrZatacke", "link": "https://stackoverflow.com/users/4664881/herrzatacke"}, "is_accepted": true, "score": 11, "last_activity_date": 1562280992, "creation_date": 1562280992, "answer_id": 56894919, "question_id": 56877355, "link": "https://stackoverflow.com/questions/56877355/how-to-fix-typescript-compilation-error-ts2345-type-response-is-missing-f/56894919#56894919", "title": "How to fix Typescript compilation error ts2345 &quot;Type &#39;Response&#39; is missing ... from type &#39;Response&#39;: redirected, trailer, formData!&quot;", "body": "<p>With the help/hints of the two commenters above (thanks a lot), I managed to find the reason and a solution for that error:</p>\n\n<p>Typescript initially tries to \"guess\" which types you are using.</p>\n\n<p>The following line states I want to use the type <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Response\" rel=\"noreferrer\"><code>response</code></a>, which is an interface of the native Fetch API</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const toJson = (response: Response): Promise&lt;object&gt; =&gt; {\n</code></pre>\n\n<p>the type definition for it can be found in <a href=\"https://github.com/microsoft/TypeScript/blob/master/lib/lib.dom.d.ts#L12300\" rel=\"noreferrer\">lib.dom.d.ts</a></p>\n\n<p><code>node-fetch</code> instead is implementing it's own <code>Response</code> type from <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/node-fetch/index.d.ts#L159\" rel=\"noreferrer\">@types\\node-fetch\\index.d.ts</a></p>\n\n<p>So, if the <em>correct</em> response type is being imported first, the typescript compiler runs without the error.</p>\n\n<p>Which means, instead of just importing <code>node-fetch</code>, you also have to import it's definition of <code>Response</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import fetch, { Response } from 'node-fetch';\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 4664881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s8OIe.jpg?s=128&g=1", "display_name": "HerrZatacke", "link": "https://stackoverflow.com/users/4664881/herrzatacke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1852, "favorite_count": 1, "accepted_answer_id": 56894919, "answer_count": 1, "score": 2, "last_activity_date": 1562328657, "creation_date": 1562184948, "last_edit_date": 1562328657, "question_id": 56877355, "link": "https://stackoverflow.com/questions/56877355/how-to-fix-typescript-compilation-error-ts2345-type-response-is-missing-f", "title": "How to fix Typescript compilation error ts2345 &quot;Type &#39;Response&#39; is missing ... from type &#39;Response&#39;: redirected, trailer, formData!&quot;", "body": "<p>I am trying to make a request using <code>node-fetch</code> in my typescript project and I do not understand how to fix the compilation error or what it actually tries to tell me.</p>\n\n<p>I've updated all packages (including the global typescript package) to the latest versions.</p>\n\n<p>I've created a gist that isolates the error: <a href=\"https://gist.github.com/HerrZatacke/ae90f608e042864b6e00e9c73a950602\" rel=\"nofollow noreferrer\">https://gist.github.com/HerrZatacke/ae90f608e042864b6e00e9c73a950602</a></p>\n\n<p>This (very short) script is able to reproduce the compilation error:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import fetch from 'node-fetch';\n\nconst toJson = (response: Response):PromiseLike&lt;object&gt; =&gt; (\n  response.json()\n);\n\nconst makeSomeRequest = (): Promise&lt;object&gt; =&gt; {\n  return fetch('https://some-api.com/')\n    .then(toJson)\n};\n\nmakeSomeRequest();\n</code></pre>\n\n<p>The installed versions used are</p>\n\n<pre><code>@types/node-fetch 2.3.7\nnode-fetch2.6.0\ntypescript 3.5.2\n</code></pre>\n\n<p>the actual error is</p>\n\n<pre><code>example.ts:9:11 - error TS2345: Argument of type '(response: Response) =&gt; PromiseLike&lt;object&gt;' is not assignable to parameter of type '(value: Response) =&gt; object | PromiseLike&lt;object&gt;'.\n  Types of parameters 'response' and 'value' are incompatible.\n    Type 'Response' is missing the following properties from type 'Response': redirected, trailer, formData\n</code></pre>\n"}, {"tags": ["angular", "typescript", "html5-audio"], "answers": [{"comments": [{"owner": {"reputation": 1077, "user_id": 11193926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41eea96add6cb6141b372485c58f21b?s=128&d=identicon&r=PG&f=1", "display_name": "JamieT", "link": "https://stackoverflow.com/users/11193926/jamiet"}, "edited": false, "score": 1, "creation_date": 1562346757, "post_id": 56880479, "comment_id": 100358660, "body": "<code>this.audio = this._audioRef.nativeElement;</code> is what I was ultimately missing. I had gone the route of wrapping in my own component, but was missing that line. Thank you!"}, {"owner": {"reputation": 15657, "user_id": 1164465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qtP66.jpg?s=128&g=1", "display_name": "Christopher Peisert", "link": "https://stackoverflow.com/users/1164465/christopher-peisert"}, "reply_to_user": {"reputation": 857, "user_id": 11622164, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TfQU93IJ2iY/AAAAAAAAAAI/AAAAAAAAA9s/17Dki-pz0II/photo.jpg?sz=128", "display_name": "void", "link": "https://stackoverflow.com/users/11622164/void"}, "edited": false, "score": 0, "creation_date": 1597843246, "post_id": 56880479, "comment_id": 112265366, "body": "@void See updated answer with the template added inline to the component. To dynamically set the audio source, you would bind a variable as in: <code>&lt;audio-player *ngIf=&quot;audioSampleSrc&quot; src=&quot;{{audioSampleSrc}}&quot; showStateLabel=true&gt;&lt;&#47;audio-player&gt;</code>."}, {"owner": {"reputation": 179, "user_id": 8135441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6bMVc.jpg?s=128&g=1", "display_name": "Shafkhan", "link": "https://stackoverflow.com/users/8135441/shafkhan"}, "edited": false, "score": 0, "creation_date": 1604259748, "post_id": 56880479, "comment_id": 114286310, "body": "This is very useful. Thank you, how can I show the live updated duration while the audio is playing? I would also like to add Angular Material slider to as skeebar. Please help me"}], "tags": [], "owner": {"reputation": 15657, "user_id": 1164465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qtP66.jpg?s=128&g=1", "display_name": "Christopher Peisert", "link": "https://stackoverflow.com/users/1164465/christopher-peisert"}, "is_accepted": true, "score": 3, "last_activity_date": 1604261617, "last_edit_date": 1604261617, "creation_date": 1562212669, "answer_id": 56880479, "question_id": 56877319, "link": "https://stackoverflow.com/questions/56877319/bind-the-controls-of-html5-audio-tag-to-custom-buttons-in-angular/56880479#56880479", "title": "Bind the controls of HTML5 &lt;audio&gt; tag to custom buttons in Angular", "body": "<p>It is possible to wrap the native audio player in an Angular component.</p>\n<h3>Component</h3>\n<pre><code>@Component({\n  moduleId: module.id,\n  selector: 'audio-player',\n  template: `\n  &lt;audio #audioElement src=&quot;{{src}}&quot;&gt;\n    &lt;p&gt;Your browser does not support HTML5 audio. Here is a &lt;a href=&quot;{{src}}&quot;&gt;link&lt;/a&gt; instead.&lt;/p&gt;\n  &lt;/audio&gt;\n  &lt;span (click)=&quot;paused ? play() : pause()&quot; class=&quot;icon-align-middle&quot;&gt;\n    &lt;mat-icon *ngIf=&quot;paused&quot; class=&quot;icon-size-30&quot;&gt;play_circle_outline&lt;/mat-icon&gt;\n    &lt;mat-icon *ngIf=&quot;!paused&quot; class=&quot;icon-size-30&quot;&gt;pause_circle_outline&lt;/mat-icon&gt;\n  &lt;/span&gt;\n  `\n})\nexport class AudioPlayerComponent implements AfterViewInit {\n  @Input() public src: string;\n  @Input() public autoplay: boolean = false;\n  @Input() public showStateLabel: boolean = false;\n  public audioStateLabel = 'Audio sample';\n  @Input() public volume: number = 1.0; /* 1.0 is loudest */\n\n  @ViewChild('audioElement', { static: false }) public _audioRef:  ElementRef;\n  private audio: HTMLMediaElement;\n\n  public constructor() { }\n\n  public pause(): void {\n    if (this.audio) {\n      this.audio.pause();\n      this.audioStateLabel = 'Paused';\n    }\n  }\n\n  public get paused(): boolean {\n    if (this.audio) {\n      return this.audio.paused;\n    } else {\n      return true;\n    }\n  }\n\n  public play(): void {\n    if (this.audio) {\n      if (this.audio.readyState &gt;= 2) {\n        this.audio.play();\n        this.audioStateLabel = 'Playing...'\n      }\n    }\n  }\n\n  public ngAfterViewInit() {\n    this.audio = this._audioRef.nativeElement;\n    if (this.audio) {\n      this.audio.volume = this.volume;\n      this.audio.autoplay = this.autoplay;\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1077, "user_id": 11193926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41eea96add6cb6141b372485c58f21b?s=128&d=identicon&r=PG&f=1", "display_name": "JamieT", "link": "https://stackoverflow.com/users/11193926/jamiet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1529, "favorite_count": 1, "accepted_answer_id": 56880479, "answer_count": 1, "score": 2, "last_activity_date": 1604261617, "creation_date": 1562184803, "question_id": 56877319, "link": "https://stackoverflow.com/questions/56877319/bind-the-controls-of-html5-audio-tag-to-custom-buttons-in-angular", "title": "Bind the controls of HTML5 &lt;audio&gt; tag to custom buttons in Angular", "body": "<p>I have an audio player in my template using the <code>&lt;audio&gt;</code> tag, but I would like to use my own styling for the player so  I have the actual native audio player that comes with that tag set to hidden <code>display: none;</code>. I then want to bind the controls of the hidden player to my own custom styled player. For example:</p>\n\n<pre><code>&lt;audio src=\"{{recordingUrl}}\" #audio&gt;&lt;/audio&gt;\n\n&lt;!-- other html --&gt;\n\n&lt;button (click)=\"startPlayer()\"&gt;/button&gt; &lt;!-- this is my custom play button --&gt;\n</code></pre>\n\n<p>And in my component:</p>\n\n<pre><code>@ViewChild(\"audio\", { static: true }) audio: any;\nplayer: any = document.getElementById(\"audio\");\n\n\nstartPlayer(){\n    //neither of these work\n    this.audio.play();\n    this.player.play();\n}\n</code></pre>\n\n<p>Is what I am trying to do possible? How can I bind the controls of the <code>&lt;audio&gt;</code> tag to my custom buttons?</p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 322, "user_id": 7405950, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh6.googleusercontent.com/-aQXMYWz1cdI/AAAAAAAAAAI/AAAAAAAAANI/P_oF6QSdn_8/photo.jpg?sz=128", "display_name": "JD Gamboa", "link": "https://stackoverflow.com/users/7405950/jd-gamboa"}, "is_accepted": true, "score": 0, "last_activity_date": 1563837567, "creation_date": 1563837567, "answer_id": 57154845, "question_id": 56877087, "link": "https://stackoverflow.com/questions/56877087/angular-changeable-form-according-to-inputs/57154845#57154845", "title": "Angular changeable form according to inputs", "body": "<p>Instead of using an event, I used an observable in one of the fields. The exact solution to the problem I proposed is <a href=\"https://stackblitz.com/edit/jdg9999-angular-changeable-form\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>And I solved it using what I found <a href=\"https://netbasal.com/three-ways-to-dynamically-alter-your-form-validation-in-angular-e5fd15f1e946\" rel=\"nofollow noreferrer\">here</a> (they are basically the same thing, but I included mine for completion).</p>\n"}], "owner": {"reputation": 322, "user_id": 7405950, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh6.googleusercontent.com/-aQXMYWz1cdI/AAAAAAAAAAI/AAAAAAAAANI/P_oF6QSdn_8/photo.jpg?sz=128", "display_name": "JD Gamboa", "link": "https://stackoverflow.com/users/7405950/jd-gamboa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57154845, "answer_count": 1, "score": 0, "last_activity_date": 1563837567, "creation_date": 1562183565, "question_id": 56877087, "link": "https://stackoverflow.com/questions/56877087/angular-changeable-form-according-to-inputs", "title": "Angular changeable form according to inputs", "body": "<p>I'm using a reactive form. I need to add/remove an input that appears in it according to some other input. Here's a simplified scenario of the issue:</p>\n\n<p><em>Asking the user to select an option from a list. If their desired option is not there, there is an open input where they can write. If they do choose an option from the select, the input must disappear. If they do not select an option, the input must be there and it must be required.</em></p>\n\n<p>Here's the code I made which 1) doesn't work 2) feels like it's fairly ugly and could be made in some other way.</p>\n\n<p>Template:</p>\n\n<pre><code>&lt;form [formGroup]=\"whateverForm\" (ngSubmit)=\"onSubmit()\"&gt;\n  Choose an option: \n  &lt;select \n    formControlName=\"option\" \n    (change)=\"verifySelection($event)\"&gt;\n    &lt;option value=''&gt;None&lt;/option&gt;\n    &lt;option value='a'&gt;Something A&lt;/option&gt;\n    &lt;option value='b'&gt;Something B&lt;/option&gt;\n  &lt;/select&gt;\n  &lt;br&gt;\n  &lt;div *ngIf=\"!optionSelected\"&gt;\n    None of the above? Specify: \n    &lt;input type=\"text\" formControlName=\"aditional\"&gt;\n  &lt;/div&gt;\n  &lt;br&gt;\n  &lt;br&gt;\n  Form current status: {\u200c{formStatus}}\n&lt;/form&gt;\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>export class AppComponent  {\n\n  whateverForm: FormGroup;\n  formStatus: string;\n  optionSelected = false;\n\n  ngOnInit() {\n    this.whateverForm = new FormGroup({\n      'option': new FormControl(null, [Validators.required]),\n      'aditional': new FormControl(null, [Validators.required])\n    });\n    this.whateverForm.statusChanges.subscribe(\n      (status) =&gt; {\n        this.formStatus = status;\n      }\n    );\n  }\n\n  verifySelection(event: any) {\n    if (event.target.value !== '') {\n      this.optionSelected = true;\n      this.whateverForm.get('aditional').clearValidators();\n      this.whateverForm.get('option').setValidators(\n        [Validators.required]);\n    } else {\n      this.optionSelected = false;\n      this.whateverForm.get('option').clearValidators();\n      this.whateverForm.get('aditional').setValidators(\n        [Validators.required]);\n    }\n  }\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "sorting"], "comments": [{"owner": {"reputation": 725, "user_id": 6690593, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205060765258809/picture?type=large", "display_name": "Alexis Toby", "link": "https://stackoverflow.com/users/6690593/alexis-toby"}, "edited": false, "score": 0, "creation_date": 1562187958, "post_id": 56876717, "comment_id": 100304385, "body": "This might help you <a href=\"https://stackoverflow.com/questions/48403154/orderby-with-ngfor-array\">Link</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10094525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c349b42d6bd78c16b3778a72a00b4bd8?s=128&d=identicon&r=PG&f=1", "display_name": "green.hulk", "link": "https://stackoverflow.com/users/10094525/green-hulk"}, "edited": false, "score": 0, "creation_date": 1562336351, "post_id": 56878615, "comment_id": 100354220, "body": "Hey, thanks for your reply. I edited my previous post and added some information. Further i made a mistake its not javascript but typescript...sorry, my bad. Since i need to display the scenarios filtered by search and the sorted order i won&#39;t work with only ngFor=&quot;let scenario of filteredSortedScenarios$ . Sorry i&#39;m totally new to angular and to frontend development. I appreciate any helping comment. Thanks"}], "tags": [], "owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "is_accepted": false, "score": 0, "last_activity_date": 1562192598, "creation_date": 1562192598, "answer_id": 56878615, "question_id": 56876717, "link": "https://stackoverflow.com/questions/56876717/is-it-possible-to-sort-tiles-in-a-grid-list/56878615#56878615", "title": "Is it possible to sort tiles in a grid-list?", "body": "<p>You should sort <code>filteredScenarios$</code> by property before sending to template. For that I would introduce another <code>BehaviorSubject</code> that holds sorting property.</p>\n\n<p>It is hard to write since you did not post your objects structure but will try.</p>\n\n<p>In ts:</p>\n\n<pre><code>private sortProperty$ = new BehaviorSubject&lt;string&gt;('name'); //or whatever you default sort is\nfilteredSortedScenarios$: Observable&lt;Scenario&gt;\n</code></pre>\n\n<p>and in constructor or <code>ngOnInt</code>:</p>\n\n<pre><code>this.filteredSortedScenarios$ = combineLatest([this.filteredScenarios$, this.sortProperty$])\n  .pipe(\n    map(([scenarios, sortBy]) =&gt; {\n      console.log('Sorting by', sortBy);\n\n      return scenarios.sort((a, b) =&gt; {\n        switch (sortBy) {\n          case 'name':\n            return a.name.localeCompare(b.name);\n\n          case 'otherProperty':\n            return ...;\n        }\n      });\n    }));\n</code></pre>\n\n<p><code>combineLatest</code> emits whenever any of those Observables changes and in <code>map</code> you just sort the list.</p>\n\n<p>When you want to change sort order, just call:</p>\n\n<pre><code>sortProperty$.next('nowSortByThisProperty');\n</code></pre>\n\n<p>And finally in the template you list scenarios from <code>filteredSortedScenarios$</code>:</p>\n\n<pre><code>&lt;mat-grid-tile *ngFor=\"let scenario of filteredSortedScenarios$ | async \"&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10094525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c349b42d6bd78c16b3778a72a00b4bd8?s=128&d=identicon&r=PG&f=1", "display_name": "green.hulk", "link": "https://stackoverflow.com/users/10094525/green-hulk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562335863, "creation_date": 1562181607, "last_edit_date": 1562335863, "question_id": 56876717, "link": "https://stackoverflow.com/questions/56876717/is-it-possible-to-sort-tiles-in-a-grid-list", "title": "Is it possible to sort tiles in a grid-list?", "body": "<p>i got the following issue: i have a class called 'scenario' with several properties like 'id', 'name', 'number' etc.</p>\n\n<p>In the html the scenarios are displayed like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;mat-grid-list [cols]=\"breakpoint\" rowHeight=\"4:4\" [@gridAnimation]=\"(scenarios$ | async)?.length\" (window:resize)=\"onResize($event)\"&gt;\r\n    &lt;mat-grid-tile *ngFor=\"let scenario of filteredScenarios$ | async \"&gt;\r\n      &lt;app-scenario-card [scenario]=\"scenario\" [routerLink]=\"['/scenario', scenario.id]\"&gt;&lt;/app-scenario-card&gt;\r\n    &lt;/mat-grid-tile&gt;\r\n  &lt;/mat-grid-list&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Is it possible to sort the displayed tiles of scenarios by the chosen property (name, id, number...)? Everything i found regarding sorting is all about tables or grids.</p>\n\n<p>In case its possible, could anybody show me an example how it could be done to have at least an approach?</p>\n\n<p>Thank you very much.</p>\n\n<p>Btw i can't just change from grid-list to table.</p>\n\n<p>The class of the scenario got the following properties:</p>\n\n<pre><code>export class Scenario {\nid: number;\nscenarioName: string;\nscenarioDescription: string;\nperiods: number; }\n</code></pre>\n\n<p>I have a search box for filtering (build analog to this tutorial --> <a href=\"https://blog.angulartraining.com/dynamic-filtering-with-rxjs-and-angular-forms-a-tutorial-6daa3c44076a\" rel=\"nofollow noreferrer\">https://blog.angulartraining.com/dynamic-filtering-with-rxjs-and-angular-forms-a-tutorial-6daa3c44076a</a>). Now i just need a sort function for id, scenarioName and periods for example per Button or DropDown.</p>\n\n<p>The code for filtering looks like this:</p>\n\n<pre><code>this.scenarios$ = this.scenariosService.getScenarios();\nthis.filter = new FormControl('');\nthis.filter$ = this.filter.valueChanges.pipe(startWith(''));\nthis.filteredScenarios$ = combineLatest(this.scenarios$, this.filter$).pipe(\n  map(([Scenario, filterString]) =&gt; Scenario.filter(scenario =&gt; scenario.scenarioName.indexOf(filterString) !== -1)));\n</code></pre>\n"}, {"tags": ["angular", "typescript", "http", "xmlhttprequest"], "comments": [{"owner": {"reputation": 2067, "user_id": 4971999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSofZ.jpg?s=128&g=1", "display_name": "Keenan Diggs", "link": "https://stackoverflow.com/users/4971999/keenan-diggs"}, "edited": false, "score": 0, "creation_date": 1562181307, "post_id": 56876581, "comment_id": 100301862, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20853142/trying-to-detect-browser-close-event\">Trying to detect browser close event</a>"}, {"owner": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "edited": false, "score": 0, "creation_date": 1562181671, "post_id": 56876581, "comment_id": 100302002, "body": "this sounds nefarious...."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1562181757, "post_id": 56876581, "comment_id": 100302031, "body": "<a href=\"https://stackoverflow.com/a/47108290/43848\"><code>navigator.sendBeacon()</code></a> is the answer for javascript in general, disregarding Angular or any other framework"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10289185, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-x8lG73nWgDo/AAAAAAAAAAI/AAAAAAAAAR0/YEpAHLSd6-0/photo.jpg?sz=128", "display_name": "Vivek Joshi", "link": "https://stackoverflow.com/users/10289185/vivek-joshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1583321206, "creation_date": 1583321206, "answer_id": 60525018, "question_id": 56876581, "link": "https://stackoverflow.com/questions/56876581/angular-7-how-to-send-http-call-before-browser-close/60525018#60525018", "title": "Angular 7 - how to send HTTP call before browser close", "body": "<p>I am facing the same issue because Chrome now disallows synchronous XHR during page dismissal when the page is being navigated away from or closed by the user.</p>\n\n<p><a href=\"https://www.chromestatus.com/feature/4664843055398912\" rel=\"nofollow noreferrer\">https://www.chromestatus.com/feature/4664843055398912</a></p>\n\n<p>I search everywhere and found that synchronous calls is only the solution but how? as this type of calls are deprecated.</p>\n"}], "owner": {"reputation": 792, "user_id": 9464133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uxWk0MGo77I/AAAAAAAAAAI/AAAAAAAAAFk/yuV6jFZDsWA/photo.jpg?sz=128", "display_name": "thenolin", "link": "https://stackoverflow.com/users/9464133/thenolin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1338, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1583321206, "creation_date": 1562181011, "question_id": 56876581, "link": "https://stackoverflow.com/questions/56876581/angular-7-how-to-send-http-call-before-browser-close", "title": "Angular 7 - how to send HTTP call before browser close", "body": "<p>I am trying to send a POST HTTP request before browser close. </p>\n\n<p>Basically I'm trying to event out the user action that they've closed the page, but the call isn't making it out of the app before it shuts down. </p>\n\n<p>I am under the impression that this isn't possible with a normal HTTP request because the fact you must subscribe to the HTTP request. </p>\n\n<p>I've tried the following solution found here: <a href=\"https://stackoverflow.com/questions/38999842/angular-2-execute-code-when-closing-window/39005933\">Angular 2 - Execute code when closing window</a></p>\n\n<p>This won't work for me as I'm not doing simple GET. Here's what I've got so far. </p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>@HostListener('window:beforeunload', ['$event'])\n  beforeunloadHandler($event) {\n    this.eventsService.sendEvent(this.form.value).subscribe(() =&gt; {\n      console.log(\"Made it\");\n    });\n  }\n</code></pre>\n\n<p><strong>service.ts</strong></p>\n\n<pre><code>sendEvent(userData): Observable&lt;any&gt; {\n    return this.http.post&lt;any&gt;(this.url, userData,\n      {\n        headers: new HttpHeaders({\n          \"Content-Type\": \"application/json\"\n        })\n      })\n  }\n</code></pre>\n\n<p>Is there a way to utilize XMLHttpRequest() like the solution above states? What other options are there for a solution like this?</p>\n\n<p>Any help is appreciated. </p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5632931, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b5bcf313b05abde362a3b6b2e1b6c8f2?s=128&d=identicon&r=PG&f=1", "display_name": "Darren Zou", "link": "https://stackoverflow.com/users/5632931/darren-zou"}, "edited": false, "score": 0, "creation_date": 1562180916, "post_id": 56876478, "comment_id": 100301694, "body": "thanks so much. I am new to angular and didn&#39;t know such simple solution exist. TYTYTYTY. gonna check ur answer after the cooldown ends"}], "tags": [], "owner": {"reputation": 2067, "user_id": 4971999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSofZ.jpg?s=128&g=1", "display_name": "Keenan Diggs", "link": "https://stackoverflow.com/users/4971999/keenan-diggs"}, "is_accepted": true, "score": 0, "last_activity_date": 1562180517, "creation_date": 1562180517, "answer_id": 56876478, "question_id": 56876440, "link": "https://stackoverflow.com/questions/56876440/how-do-make-my-page-listen-to-enter-key-when-the-form-is-not-in-a-created-usin/56876478#56876478", "title": "How do make my page listen to &quot;enter&quot; key when the form is not in a created using &lt;form&gt;?", "body": "<p>I think the easiest and most straightforward way to do with would be:</p>\n\n<pre><code>&lt;div (keydown.Enter)=\"submitSearch()\"&gt;\n</code></pre>\n\n<p>So that any form fields inside of your top-level element (in this example, this div) will capture the keydown event</p>\n"}, {"comments": [{"owner": {"reputation": 2067, "user_id": 4971999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSofZ.jpg?s=128&g=1", "display_name": "Keenan Diggs", "link": "https://stackoverflow.com/users/4971999/keenan-diggs"}, "edited": false, "score": 0, "creation_date": 1562180885, "post_id": 56876524, "comment_id": 100301681, "body": "Just curious. Will a button have focus in order to capture a keydown event?"}], "tags": [], "owner": {"reputation": 1099, "user_id": 3571392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/IZiGr.jpg?s=128&g=1", "display_name": "amallard", "link": "https://stackoverflow.com/users/3571392/amallard"}, "is_accepted": false, "score": 0, "last_activity_date": 1562180768, "creation_date": 1562180768, "answer_id": 56876524, "question_id": 56876440, "link": "https://stackoverflow.com/questions/56876440/how-do-make-my-page-listen-to-enter-key-when-the-form-is-not-in-a-created-usin/56876524#56876524", "title": "How do make my page listen to &quot;enter&quot; key when the form is not in a created using &lt;form&gt;?", "body": "<p>try using <code>keydown</code> instead.</p>\n\n<pre><code>&lt;button \n    class=\"btn btn-primary float-left\" \n    (click)=\"submitSearch()\"\n    (keydown)= \"submitSearch()\"\n    &gt;Search\n&lt;/button&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 11735900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bde4155f143d2bbcc32e3a1f58c0c65?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ray", "link": "https://stackoverflow.com/users/11735900/josh-ray"}, "is_accepted": false, "score": 0, "last_activity_date": 1562182081, "last_edit_date": 1562182081, "creation_date": 1562181176, "answer_id": 56876629, "question_id": 56876440, "link": "https://stackoverflow.com/questions/56876440/how-do-make-my-page-listen-to-enter-key-when-the-form-is-not-in-a-created-usin/56876629#56876629", "title": "How do make my page listen to &quot;enter&quot; key when the form is not in a created using &lt;form&gt;?", "body": "<p>You can do this using a directive and assigning that directive to the parent div/form:</p>\n\n<pre><code>app.directive('ngEnter', function () {\n    return function (scope, element, attrs) {\n        element.bind(\"keydown keypress\", function (event) {\n            if (event.which === 13) {\n                scope.$apply(function () {\n                    scope.$eval(attrs.ngEnter);\n                });\n                event.preventDefault();\n            }\n        });\n    };\n});\n</code></pre>\n\n<p>In your HTML:</p>\n\n<pre><code>&lt;div ng-enter=\"submitSearch()\"&gt;\n    &lt;input type=\"text\" /&gt;\n    ...\n&lt;/div&gt;\n&lt;button type=\"submit\" (click)=\"submitSearch()\"&gt;Submit&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5632931, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b5bcf313b05abde362a3b6b2e1b6c8f2?s=128&d=identicon&r=PG&f=1", "display_name": "Darren Zou", "link": "https://stackoverflow.com/users/5632931/darren-zou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 56876478, "answer_count": 3, "score": 0, "last_activity_date": 1562182081, "creation_date": 1562180343, "question_id": 56876440, "link": "https://stackoverflow.com/questions/56876440/how-do-make-my-page-listen-to-enter-key-when-the-form-is-not-in-a-created-usin", "title": "How do make my page listen to &quot;enter&quot; key when the form is not in a created using &lt;form&gt;?", "body": "<p>The HTML takes in all the output and stores them into variables inside my ts. Now there's a button (I don't know how to call it but it wasn't created in a \"container\" with the user inputs) that was created using  all the way at the end of the html. The button has a function that takes in the information and do what it does. So I've tested that the button is independent, and even if no user input is added, it'll still run but won't return a output. I concluded that \"enter\" event implementation would not be a problem. But it is not working no matter what I try. </p>\n\n<p>I have tried adding the ng-keypress into the div class at the very top. I have tried putting it in the button tag. I haven't tried the directive way because I don't know where to put the directive, and most people said ng-keypress is built in directive and it should work.</p>\n\n<p>''' </p>\n\n<pre><code>&lt;button class=\"btn btn-primary float-left\" (click)=\"submitSearch()\"&gt;Search&lt;/button&gt;\n\n &lt;/div&gt;'''\n</code></pre>\n\n<p>''' </p>\n\n<pre><code>&lt;button class=\"btn btn-primary float-left\" (click)=\"submitSearch()\"ng-keypress= \"submitSearch()\"&gt;Search&lt;/button&gt;\n\n &lt;/div&gt;'''\n</code></pre>\n\n<p>for the second line, i expect the ng-keypress to atleast print on console, but nothing shows up.</p>\n"}, {"tags": ["angular", "typescript", "angular-services"], "comments": [{"owner": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "edited": false, "score": 0, "creation_date": 1562180708, "post_id": 56876397, "comment_id": 100301603, "body": "you could push the array from your component into the reusable function, add whatever you need and return it."}], "answers": [{"comments": [{"owner": {"reputation": 1633, "user_id": 2183592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/83404851cf2344785185e3d10c246af7?s=128&d=identicon&r=PG", "display_name": "pengz", "link": "https://stackoverflow.com/users/2183592/pengz"}, "edited": false, "score": 0, "creation_date": 1562182970, "post_id": 56876635, "comment_id": 100302501, "body": "Thanks! How would I pass in the formCtrlArray parameter from the html template?"}, {"owner": {"reputation": 1633, "user_id": 2183592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/83404851cf2344785185e3d10c246af7?s=128&d=identicon&r=PG", "display_name": "pengz", "link": "https://stackoverflow.com/users/2183592/pengz"}, "edited": false, "score": 0, "creation_date": 1562183305, "post_id": 56876635, "comment_id": 100302608, "body": "Also there is an error message appearing before the onAddRow is called. <code>myArray.push is not a function</code>"}, {"owner": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "reply_to_user": {"reputation": 1633, "user_id": 2183592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/83404851cf2344785185e3d10c246af7?s=128&d=identicon&r=PG", "display_name": "pengz", "link": "https://stackoverflow.com/users/2183592/pengz"}, "edited": false, "score": 1, "creation_date": 1562184002, "post_id": 56876635, "comment_id": 100302893, "body": "you would still need to jog through your component&#39;s class method.  As for your error in your second comment, like I said I didn&#39;t test that.  The logic there is to cast <code>formCtrlArray</code> as an array so all of the array&#39;s methods become exposed (<code>push()</code> being one of them).  There are other strategies for casting to arrays so you&#39;ll have to trial and error that out...."}], "tags": [], "owner": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "is_accepted": true, "score": 2, "last_activity_date": 1562181524, "last_edit_date": 1562181524, "creation_date": 1562181216, "answer_id": 56876635, "question_id": 56876397, "link": "https://stackoverflow.com/questions/56876397/move-functions-that-use-this-keyword-from-a-component-into-a-shared-service/56876635#56876635", "title": "Move functions that use `this` keyword from a component into a shared service", "body": "<p>untested - writing off the cuff here but something like this should work:</p>\n\n<pre><code>// this is some reusable code in a service etc\npublic addRow(formCtrlArray: any, valueToAdd: any): any { // accept any, return any\n  let myArray = &lt;Array&lt;any&gt;&gt;formCtrlArray;\n  myArray.push(valueToAdd);\n  return myArray;\n}\n</code></pre>\n\n<p>then just call that from your component passing in the correct parameters...</p>\n"}, {"tags": [], "owner": {"reputation": 1633, "user_id": 2183592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/83404851cf2344785185e3d10c246af7?s=128&d=identicon&r=PG", "display_name": "pengz", "link": "https://stackoverflow.com/users/2183592/pengz"}, "is_accepted": false, "score": 0, "last_activity_date": 1562185202, "creation_date": 1562185202, "answer_id": 56877413, "question_id": 56876397, "link": "https://stackoverflow.com/questions/56876397/move-functions-that-use-this-keyword-from-a-component-into-a-shared-service/56877413#56877413", "title": "Move functions that use `this` keyword from a component into a shared service", "body": "<p>The advice provided by BlairHolmes pointed me in the right direction. Also here is a related article. <a href=\"https://scotch.io/tutorials/how-to-build-nested-model-driven-forms-in-angular-2\" rel=\"nofollow noreferrer\">https://scotch.io/tutorials/how-to-build-nested-model-driven-forms-in-angular-2</a></p>\n\n<p>Here is the solution I have:</p>\n\n<p>Service</p>\n\n<pre><code>  constructor(\n    private fb: FormBuilder\n  ) { }\n\n  /**\n   * Add a new element to a form control array\n   * @param {string} formGroup form group of the form control array\n   * @param {string} formCtrlArrayName name of the form control array\n   * @param {string} valueToAdd element to add to the form control array\n   */\n  public addRow(formGroup: any, formCtrlArrayName: string, valueToAdd: any) {\n    let control = formGroup.controls[formCtrlArrayName];\n    control.push(this.fb.control(valueToAdd));\n  }\n</code></pre>\n\n<p>TS Component (a wrapper to call from the HTML component)</p>\n\n<pre><code>  constructor(\n    private fb: FormBuilder\n  ) { }\n\n  /**\n   * Add a new element to a form control array\n   * @param {string} formCtrlArrayName name of the form control array\n   * @param {string} valueToAdd element to add to the form control array\n   */\n  public onAddRow(formCtrlArrayName: string, valueToAdd: any) {\n    this.uiService.addRow(this.itemForm, formCtrlArrayName, valueToAdd);\n  }\n</code></pre>\n\n<p>HTML Component (unchanged)</p>\n\n<pre><code>&lt;button mat-button attr.aria-label=\"Add Assigned To\" matTooltip=\"Add Assigned To\"\n  (click)=\"onAddRow('AssignedTo', '')\"&gt;\n  &lt;mat-icon&gt;add_circle&lt;/mat-icon&gt;\n&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 1633, "user_id": 2183592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/83404851cf2344785185e3d10c246af7?s=128&d=identicon&r=PG", "display_name": "pengz", "link": "https://stackoverflow.com/users/2183592/pengz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56876635, "answer_count": 2, "score": 0, "last_activity_date": 1562185202, "creation_date": 1562180091, "question_id": 56876397, "link": "https://stackoverflow.com/questions/56876397/move-functions-that-use-this-keyword-from-a-component-into-a-shared-service", "title": "Move functions that use `this` keyword from a component into a shared service", "body": "<p>I have a large component that loads data from a selected record into a FormGroup using FormBuilder. </p>\n\n<p>I am in the process of splitting up this component into reusable services and child components.</p>\n\n<p>I have a function that is called from the view to add a new row to a FormArray. This function takes the name of the array and the value to add.</p>\n\n<p>This is working properly within the component.</p>\n\n<p>Question: How can this function be moved to a service (or other solution) to make it reusable across many different components? In other words, I want to be able to use the onAddRow function across many components without having to re-write the logic repeatedly. Since this function makes use of the <code>this</code> keyword to access the current context, I am unsure how to move this to a reusable service.</p>\n\n<p>Here is the component code that I am trying to be able to move into a service. Note that I have many other functions similar to onAddRow that use the <code>this</code> keyword and I want to be able to move everything into a reusable service.</p>\n\n<p>TS Component</p>\n\n<pre><code>  constructor(\n    private fb: FormBuilder\n  ) { }\n\n  /**\n   * Add a new element to a form control array\n   * @param {string} formCtrlArrayName name of the form control array\n   * @param {string} valueToAdd element to add to the form control array\n   */\n  public onAddRow(formCtrlArrayName: string, valueToAdd: any) {\n    this[formCtrlArrayName].push(this.fb.control(valueToAdd));\n  }\n</code></pre>\n\n<p>HTML Component</p>\n\n<pre><code>  &lt;button mat-button attr.aria-label=\"Add Assigned To\" matTooltip=\"Add Assigned To\"\n    (click)=\"onAddRow('AssignedTo', '', '')\"&gt;\n    &lt;mat-icon&gt;add_circle&lt;/mat-icon&gt;\n  &lt;/button&gt;\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 5696531, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5ZRiHQU6WzI/AAAAAAAAAAI/AAAAAAAAABU/7HFNZhGOb3Y/photo.jpg?sz=128", "display_name": "Silas Bazar", "link": "https://stackoverflow.com/users/5696531/silas-bazar"}, "edited": false, "score": 0, "creation_date": 1562181541, "post_id": 56876432, "comment_id": 100301956, "body": "Ok, that kinda makes sense but why are you putting HTML into ts? and at what point does this ts reach the HTML?"}, {"owner": {"reputation": 2067, "user_id": 4971999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSofZ.jpg?s=128&g=1", "display_name": "Keenan Diggs", "link": "https://stackoverflow.com/users/4971999/keenan-diggs"}, "reply_to_user": {"reputation": 7, "user_id": 5696531, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5ZRiHQU6WzI/AAAAAAAAAAI/AAAAAAAAABU/7HFNZhGOb3Y/photo.jpg?sz=128", "display_name": "Silas Bazar", "link": "https://stackoverflow.com/users/5696531/silas-bazar"}, "edited": false, "score": 0, "creation_date": 1562182230, "post_id": 56876432, "comment_id": 100302206, "body": "You got me. I mislabeled."}, {"owner": {"reputation": 7, "user_id": 5696531, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5ZRiHQU6WzI/AAAAAAAAAAI/AAAAAAAAABU/7HFNZhGOb3Y/photo.jpg?sz=128", "display_name": "Silas Bazar", "link": "https://stackoverflow.com/users/5696531/silas-bazar"}, "edited": false, "score": 0, "creation_date": 1562184427, "post_id": 56876432, "comment_id": 100303049, "body": "Ok... then how do you do conditions in HTML I thought it&#39;s language didn&#39;t allow that. (I&#39;m new to HTML if you can&#39;t tell)"}, {"owner": {"reputation": 2067, "user_id": 4971999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSofZ.jpg?s=128&g=1", "display_name": "Keenan Diggs", "link": "https://stackoverflow.com/users/4971999/keenan-diggs"}, "reply_to_user": {"reputation": 7, "user_id": 5696531, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5ZRiHQU6WzI/AAAAAAAAAAI/AAAAAAAAABU/7HFNZhGOb3Y/photo.jpg?sz=128", "display_name": "Silas Bazar", "link": "https://stackoverflow.com/users/5696531/silas-bazar"}, "edited": false, "score": 0, "creation_date": 1563457555, "post_id": 56876432, "comment_id": 100713292, "body": "@SilasBazar normally you cannot but Angular considers the html files to be part of a component. It therefore supplies a template syntax. <a href=\"https://angular.io/guide/template-syntax\" rel=\"nofollow noreferrer\">angular.io/guide/template-syntax</a>"}], "tags": [], "owner": {"reputation": 2067, "user_id": 4971999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSofZ.jpg?s=128&g=1", "display_name": "Keenan Diggs", "link": "https://stackoverflow.com/users/4971999/keenan-diggs"}, "is_accepted": true, "score": 0, "last_activity_date": 1562182237, "last_edit_date": 1562182237, "creation_date": 1562180302, "answer_id": 56876432, "question_id": 56876360, "link": "https://stackoverflow.com/questions/56876360/can-i-create-an-array-that-works-in-ngstyle-or-ngclass/56876432#56876432", "title": "Can I create an array that works in ngStyle or ngClass?", "body": "<p>This is a styling problem, so maybe you should try a styling solution.\nIt would be easier to apply a class dynamically than to calculate DOM style property values explicitly.</p>\n\n<p>component.html:</p>\n\n<pre><code> &lt;h1 [ngClass]=\"{\n  'color-blue': condition,\n  'color-green': !condition,\n  'color-yellow': condition &amp;&amp; anotherCondition,\n  }&gt;\n</code></pre>\n\n<p>component stylesheet:</p>\n\n<pre><code>.color-blue {\n  color: blue;\n}\n.color-green {\n  color: green;\n}\netc...\n</code></pre>\n\n<p>Bonus blog post from a credible author:\n<a href=\"https://ultimatecourses.com/blog/ng-class-angular-classes\" rel=\"nofollow noreferrer\">https://ultimatecourses.com/blog/ng-class-angular-classes</a></p>\n"}], "owner": {"reputation": 7, "user_id": 5696531, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5ZRiHQU6WzI/AAAAAAAAAAI/AAAAAAAAABU/7HFNZhGOb3Y/photo.jpg?sz=128", "display_name": "Silas Bazar", "link": "https://stackoverflow.com/users/5696531/silas-bazar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 56876432, "answer_count": 1, "score": 0, "last_activity_date": 1562182237, "creation_date": 1562179854, "question_id": 56876360, "link": "https://stackoverflow.com/questions/56876360/can-i-create-an-array-that-works-in-ngstyle-or-ngclass", "title": "Can I create an array that works in ngStyle or ngClass?", "body": "<p>I am trying to change the colors of some letters in HTML and need them to change depending on a piece of veritable information. They change based off one variable information, but I would like to add more variables to the same color option so I need an array.\nEssentially I have average1, average2, and colorOption. If average1 is less than 50 it will be red, but if average2 is greater than 100 it will change to red.</p>\n\n<p>here is my code.</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div class=\"box\"&gt;\n  &lt;canvas \n  class=\"offset\"\n  id=\"Chart4\" \n  width=\"240\"\n  height=\"180\" \n  &gt;&lt;/canvas&gt; \n\n  &lt;h1 class = \"fontStyleHole\"&gt;\n    &lt;h1 [ngStyle]=\"{'color': colorOption}\"&gt;\n      {{averag1}}\n    &lt;/h1&gt;\n  &lt;/h1&gt;\n&lt;/div&gt;\n\n&lt;div class=\"box\"&gt;\n  &lt;canvas \n  class=\"offset\"\n  id=\"Chart5\" \n  width=\"240\"\n  height=\"180\" \n  &gt;&lt;/canvas&gt; \n\n  &lt;h1 class = \"fontStyleHole\"&gt;\n    &lt;h1 [ngStyle]=\"{'color': colorOption}\"&gt;\n      {{average2}}\n    &lt;/h1&gt;\n  &lt;/h1&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>TypeScript Current:</strong></p>\n\n<pre><code>if(this.average2 &gt;= 55){            \n  this.colorOption=\"#FF2A00\"\n}\nelse if(this.average2 &gt;= 50){\n  this.colorOption='#EB9E00'\n}\nelse if(this.average2 &gt;=45){\n  this.colorOption=\"#C6EB00\"\n}\nelse{\n  this.colorOption='#04FF00'\n}\n\nif(this.average1 &gt;= 280){\n\n  this.colorOption=\"#FF2A00\"\n}\nelse if(this.average1 &gt;= 250){\n\n  this.colorOption='#EB9E00'\n}\nelse if(this.average1 &gt;=220){\n  this.colorOption=\"#C6EB00\"\n}\nelse{\n  this.colorOption='#04FF00'\n}\n</code></pre>\n\n<p><strong>Typescript That I want:</strong></p>\n\n<pre><code>    if(this.Classyaverage &gt;= 55){            \n  this.colorOption[1]=\"#FF2A00\"\n}\nelse if(this.Classyaverage &gt;= 50){\n  this.colorOption[1]='#EB9E00'\n}\nelse if(this.Classyaverage &gt;=45){\n  this.colorOption[1]=\"#C6EB00\"\n}\nelse{\n  this.colorOption[1]='#04FF00'\n}\n\nif(this.average1 &gt;= 280){\n\n  this.colorOption[2]=\"#FF2A00\"\n}\nelse if(this.average1 &gt;= 250){\n\n  this.colorOption[2]='#EB9E00'\n}\nelse if(this.average1 &gt;=220){\n  this.colorOption[2]=\"#C6EB00\"\n}\nelse{\n  this.colorOption[2]='#04FF00'\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 1217, "user_id": 2013403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3VK8.jpg?s=128&g=1", "display_name": "its4zahoor", "link": "https://stackoverflow.com/users/2013403/its4zahoor"}, "edited": false, "score": 0, "creation_date": 1562181621, "post_id": 56876287, "comment_id": 100301982, "body": "<code>refetch={() =&gt; refetch()}</code> is sounds error prone. 1- is refetch() a prop? 2- make sure it is passed down. 3- missing this. if in same file."}, {"owner": {"reputation": 101, "user_id": 8117352, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-C-xsYl6vaOg/AAAAAAAAAAI/AAAAAAAAAS0/Ow5A-JHVJOE/photo.jpg?sz=128", "display_name": "Bawender Yandra", "link": "https://stackoverflow.com/users/8117352/bawender-yandra"}, "edited": false, "score": 0, "creation_date": 1589013400, "post_id": 56876287, "comment_id": 109126424, "body": "Hi did you find an answer to this. I basically same problem for injected prop visibility. For now I am making my prop optional in interface but is there any other solution to the design of the HOC so it can hide the injected props from the parent component."}], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 7573430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f127a37ab3254cc5f0602cc07616565?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil Jaidka", "link": "https://stackoverflow.com/users/7573430/sahil-jaidka"}, "is_accepted": false, "score": 0, "last_activity_date": 1581054240, "creation_date": 1581054240, "answer_id": 60107739, "question_id": 56876287, "link": "https://stackoverflow.com/questions/56876287/getting-typescript-error-when-not-passing-in-props-to-a-component-already-provid/60107739#60107739", "title": "Getting Typescript error when not passing in Props to a component already provided by a HOC wrapper", "body": "<p>The parent component would still have to pass the props required but they can be null or undefined. \nIf not, you can make them optional in your interface. </p>\n"}], "owner": {"reputation": 737, "user_id": 4104734, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5dc86de1205d77de61cbb2a111fcc663?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4104734/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1581054240, "creation_date": 1562179581, "last_edit_date": 1580743415, "question_id": 56876287, "link": "https://stackoverflow.com/questions/56876287/getting-typescript-error-when-not-passing-in-props-to-a-component-already-provid", "title": "Getting Typescript error when not passing in Props to a component already provided by a HOC wrapper", "body": "<p>I Have a Parent Component which passes in 3 props to a child component:</p>\n\n<pre><code>Class Invite extends Component {\n    ...//\n\n    render() {\n        return \n          &lt;div&gt;\n            &lt;SignUpForm\n              data={data}\n              refetch={refetch}\n              submitForm={this.handleSubmit}\n            /&gt;\n          &lt;div&gt;\n    }\n</code></pre>\n\n<p>My child component has in addition a HOC wrapper around it :</p>\n\n<pre><code>export interface SignUpFormProps extends FormComponentProps {\n  email: string;\n  firstName: string;\n  lastName: string;\n  password: string\n}\n\ninterface DataProps {\n  refetch: any,\n  data: Data,\n  submitForm: any\n\n}\n\n\n\n\nclass DesignerSignUpForm extends Component&lt;SignUpFormProps &amp; DataProps&gt; {\n\n    render() {\n        return (...////);\n    }\n\nexport default Form.create&lt;SignUpFormProps&gt;({ name: 'sign_up' })(SignUpForm);\n</code></pre>\n\n<p>I am facing an instric Attributes error as such:</p>\n\n<pre><code>  Property 'data' does not exist on type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Component&lt;Pick&lt;SignUpFormProps, \"email\" | \"firstName\" | \"lastName\" | \"password\" | \"wrappedComponentRef\"&gt;, any, any&gt;&gt; &amp; Readonly&lt;...&gt; &amp; Readonly&lt;...&gt;'.ts(2322)\n</code></pre>\n\n<p>Which I'm assuming is because the it expects the parent component to pass in all props that the child component expects from the interface definitions. </p>\n\n<p>But I am struggling because the HOC wrapped around the child component will already inject these props. How do I let the parent component know to safely ignore the requirement that the props provided by the HOC don't need to be passed ?</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 500, "user_id": 7960846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18417628446471d2a88630f538094a2a?s=128&d=identicon&r=PG&f=1", "display_name": "indrajeet", "link": "https://stackoverflow.com/users/7960846/indrajeet"}, "edited": false, "score": 0, "creation_date": 1562186049, "post_id": 56876119, "comment_id": 100303660, "body": "apart from @G. Tranter answer another approach is you can use pattern validator and pass regex to check duplicate email"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1562187334, "post_id": 56876119, "comment_id": 100304167, "body": "You must understand the aim of has a customErrorMatches. see this great link <a href=\"https://itnext.io/materror-cross-field-validators-in-angular-material-7-97053b2ed0cf\" rel=\"nofollow noreferrer\">itnext.io/&hellip;</a>: A <code>&lt;mat-error&gt;</code> only show if the input inside the <code>&lt;mat-form-field&gt;</code> is invalid. Using a customErrorMatches you can say that the mat-error is showed in a different state (in the link show when the form has an error and the control is dirty &#161;althought the control is valid!). In your code, all input that has <code>[errorStateMatcher]=&quot;matcher&quot;</code> becomes invalid if is invalid the form, so remove the <code>[errorStateMatcher]</code> in your email input"}, {"owner": {"reputation": 31, "user_id": 7144052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86066ef5dabf69f887ec75be7b351b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Nhok V", "link": "https://stackoverflow.com/users/7144052/nhok-v"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1562194115, "post_id": 56876119, "comment_id": 100306063, "body": "@Eliseo it might be a good idea to remove them, but I need it for later to make a custom validator for the email itself to check duplicate email in the database. Is there a way to combine all custom validator into one errorStateMatcher?"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1562220452, "post_id": 56876119, "comment_id": 100310990, "body": "If your checkExistingEmail only depend of email, put the validator in the email (not in the form), if depends others fields, you can use two different customErrorMatcher"}, {"owner": {"reputation": 31, "user_id": 7144052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86066ef5dabf69f887ec75be7b351b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Nhok V", "link": "https://stackoverflow.com/users/7144052/nhok-v"}, "edited": false, "score": 0, "creation_date": 1562249498, "post_id": 56876119, "comment_id": 100326350, "body": "You mean do it like this?:      <code>email: new FormControl(&#39;&#39;, [       Validators.required,       Validators.email,       this.checkExistingEmail &lt;== put this here?     ])</code> Is it a good practice to make 2 different customErrorMatcher. What if I have many validators?"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1562261750, "post_id": 56876119, "comment_id": 100331297, "body": "@NhokV, the customErrorMatcher is because you want to show a &lt;mat-error&gt; in a control that is <b>valid</b>, you needn&#39;t a customErrorMatcher if you want show a &lt;mat-error&gt; in a control that is invalid. If you has severals controls that you want to show an error when is valid, you can use serverals customsErrorMatcher or only one, see my answer about this. But <b>repeat</b>: in your case you only need control the password"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7144052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86066ef5dabf69f887ec75be7b351b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Nhok V", "link": "https://stackoverflow.com/users/7144052/nhok-v"}, "edited": false, "score": 0, "creation_date": 1562193967, "post_id": 56877203, "comment_id": 100306031, "body": "Is there any way to combine them with one errorStateMatcher?"}, {"owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "reply_to_user": {"reputation": 31, "user_id": 7144052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86066ef5dabf69f887ec75be7b351b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Nhok V", "link": "https://stackoverflow.com/users/7144052/nhok-v"}, "edited": false, "score": 0, "creation_date": 1562248921, "post_id": 56877203, "comment_id": 100326060, "body": "Not a &quot;good&quot; way that I can see. You can always hack - like add a &#39;name&#39; property to the controls that you can check in the matcher. E.g. <code>signupForm[&#39;confirmPassword&#39;][&#39;name&#39;] = &#39;confirmPassword&#39;</code> and in the matcher <code>return (invalidCtrl || (control[&#39;name&#39;] === &#39;confirmPassword&#39; &amp;&amp; invalidParent))</code>. Or (a little better) you can create separate instances of the same matcher class, and add a name property to the instance using the constructor. But IMO, one-size-fits-all approaches are more difficult to read/understand, less maintainable, and more prone to bugs."}], "tags": [], "owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "is_accepted": false, "score": 2, "last_activity_date": 1562184182, "creation_date": 1562184182, "answer_id": 56877203, "question_id": 56876119, "link": "https://stackoverflow.com/questions/56876119/both-mat-error-show-when-only-one-condition-is-true/56877203#56877203", "title": "Both mat-error show when only one condition is true", "body": "<p>The email address field shows an error because the error state matcher checks the parent - which is the form - which is in error because the password fields do not match. You need to use different error state matchers for the email field and password fields because the conditions are different - email does not need to be in error if the password fields don't match.</p>\n"}, {"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": true, "score": 1, "last_activity_date": 1562261647, "creation_date": 1562261647, "answer_id": 56892341, "question_id": 56876119, "link": "https://stackoverflow.com/questions/56876119/both-mat-error-show-when-only-one-condition-is-true/56892341#56892341", "title": "Both mat-error show when only one condition is true", "body": "<p>Creating a customErrorMatcher</p>\n\n<p>Well, if we want to show an error in a <code>&lt;mat-form-field&gt;</code> when the <code>input</code> is <strong>valid</strong>, we use a customErrorMatcher.</p>\n\n<p>This is a class like</p>\n\n<pre><code>class CrossFieldErrorMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    //when we want to show the error\n    return true \n    //when we want not show the error\n    return false\n  }\n}\n</code></pre>\n\n<p>Normally we has in our component</p>\n\n<pre><code>  errorMatcher=new CrossFieldErrorMatcher()\n  //and the .html\n  &lt;mat-form-field&gt;\n    &lt;input matInput formControlName='verifyPassword' \n        [errorStateMatcher]=\"errorMatcher\"&gt;\n    &lt;mat-error *ngIf=\"....\"&gt;\n      Passwords do not match!\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>Well, we are change the things a bit, adding a constructor in our customErrorMatcher</p>\n\n<pre><code>class CrossFieldErrorMatcher implements ErrorStateMatcher {\n  constructor(private name:string){}  //&lt;--add a constructor\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    //when we want to show the error, but we can use \"name\"\n    return true \n    //when we want not show the error\n    return false\n  }\n}\n</code></pre>\n\n<p>Then, our component becomes</p>\n\n<pre><code>  errorMatcher(name:string)\n  {\n    return new CrossFieldErrorMatcher(name);\n  }\n\n  //and the .html\n  &lt;mat-form-field&gt;\n    &lt;input matInput formControlName='verifyPassword' \n        [errorStateMatcher]=\"errorMatcher('password')\"&gt;\n    &lt;mat-error *ngIf=\"....\"&gt;\n      Passwords do not match!\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7144052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86066ef5dabf69f887ec75be7b351b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Nhok V", "link": "https://stackoverflow.com/users/7144052/nhok-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2227, "favorite_count": 1, "accepted_answer_id": 56892341, "answer_count": 2, "score": 1, "last_activity_date": 1562261647, "creation_date": 1562178841, "last_edit_date": 1562179657, "question_id": 56876119, "link": "https://stackoverflow.com/questions/56876119/both-mat-error-show-when-only-one-condition-is-true", "title": "Both mat-error show when only one condition is true", "body": "<p>Both mat-error show when only one error appeared. </p>\n\n<p>I'm trying to make custom validators with mat-error. Both input for email and confirm password are red when each of them has a true value for hasError(''). </p>\n\n<p>I think my MyErrorStateMatcher class logic is wrong somehow. Please help! I have tried anything I could. Thank you in advance!</p>\n\n<p><a href=\"https://i.stack.imgur.com/03KbG.png\" rel=\"nofollow noreferrer\">Image</a></p>\n\n<p>As you can see in the image. When confirmPassword throws an error, the email field is also red.</p>\n\n<hr>\n\n<p>My ErrorStateMatcher:</p>\n\n<pre><code>export class MyErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    const invalidCtrl = !!(control &amp;&amp; control.invalid &amp;&amp; (control.dirty || control.touched));\n    const invalidParent = !!(control &amp;&amp; (control.parent.hasError('notTheSame') || control.parent.hasError('emailUsed')));\n\n    return ((invalidCtrl || invalidParent));\n  }\n}\n</code></pre>\n\n<p>HTML: (focus on email and confimPassword)</p>\n\n<pre><code>&lt;form [formGroup]=\"signupForm\" (ngSubmit)=\"signup(signupForm)\"&gt;\n        &lt;mat-form-field style=\"width: 100%;\"&gt;\n          &lt;input matInput formControlName=\"email\" placeholder=\"Email address\" type=\"email\" [errorStateMatcher]=\"matcher\" required&gt;\n          &lt;mat-error *ngIf=\"signupForm.controls.email.hasError('required')\"&gt;Email required!&lt;/mat-error&gt;\n          &lt;mat-error *ngIf=\"signupForm.controls.email.hasError('email')\"&gt;Email invalid!&lt;/mat-error&gt;\n          &lt;mat-error *ngIf=\"signupForm.hasError('emailUsed')\"&gt;This email already exists!&lt;/mat-error&gt;\n        &lt;/mat-form-field&gt;\n        &lt;mat-form-field style=\"width: 100%;\"&gt;\n          &lt;input matInput formControlName=\"username\" placeholder=\"User name\" (blur)=\"signupForm.value.username != null ? isValidUsername(signupForm.value.username) : ''\" required /&gt;\n          &lt;mat-error&gt;Please enter your new username!&lt;/mat-error&gt;\n          &lt;mat-error *ngIf=\"usernameInvalid\"&gt;Username already exists!&lt;/mat-error&gt;\n        &lt;/mat-form-field&gt;\n        &lt;mat-form-field style=\"width: 100%;\"&gt;\n          &lt;input matInput formControlName=\"password\" placeholder=\"New password\" [type]=\"show ? 'text' : 'password'\" required /&gt;\n          &lt;mat-icon matSuffix (click)=\"show = !show\" style=\"cursor: pointer;\"&gt;{{show ? 'visibility' : 'visibility_off'}}&lt;/mat-icon&gt;\n          &lt;mat-error&gt;Please enter your password!&lt;/mat-error&gt;\n        &lt;/mat-form-field&gt;\n        &lt;mat-form-field style=\"width: 100%;\"&gt;\n          &lt;input matInput formControlName=\"confirmPassword\" placeholder=\"Confirm password\" type=\"password\" [errorStateMatcher]=\"matcher\" required&gt;\n          &lt;mat-error *ngIf=\"signupForm.controls.confirmPassword.hasError('required')\"&gt;Please confirm your password!&lt;/mat-error&gt;\n          &lt;mat-error *ngIf=\"signupForm.hasError('notTheSame') &amp;&amp; signupForm.value.confirmPassword != ''\"&gt;Password is not the same!&lt;/mat-error&gt;\n        &lt;/mat-form-field&gt;\n        &lt;br&gt;\n      &lt;button mat-raised-button class=\"sessionBtn\" color=\"primary\" [disabled]=\"signupForm.invalid\"&gt;Submit!&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code>signupForm = new FormGroup({\n    firstName: new FormControl(),\n    lastName: new FormControl(),\n    email: new FormControl('', [\n      Validators.required,\n      Validators.email\n    ]),\n    username: new FormControl(),\n    password: new FormControl('', [\n      Validators.required\n    ]),\n    confirmPassword: new FormControl('', [\n      Validators.required\n    ])\n  }, { validators: [this.checkPassword, this.checkExistingEmail] });\n  matcher = new MyErrorStateMatcher();\n\n/////////Custom validator////////\n\n  checkPassword(signupForm: FormGroup) {\n    let password = signupForm.value.password;\n    let confirmPassword = signupForm.value.confirmPassword;\n\n    return password === confirmPassword ? null : { notTheSame: true };\n  }\n\n  checkExistingEmail(signupForm: FormGroup) {\n    let inputEmail = signupForm.value.email;\n    let dbEmail = \"test@test.com\";\n\n    return inputEmail !== dbEmail ? null: { emailUsed: true };\n  }\n</code></pre>\n\n<p>Error happend with input email and input confirmPassword, both have <code>[errorStateMatcher]=\"matcher\"</code></p>\n"}, {"tags": ["typescript", "union-types"], "comments": [{"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 2, "creation_date": 1562178965, "post_id": 56876112, "comment_id": 100300813, "body": "Can you please put everything in a <a href=\"http://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">typescript playground</a>? That&#39;d be easier to understand your whole code and the errors you&#39;re facing."}, {"owner": {"reputation": 398, "user_id": 6897682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mq9a2.jpg?s=128&g=1", "display_name": "Shinigami", "link": "https://stackoverflow.com/users/6897682/shinigami"}, "reply_to_user": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1562179255, "post_id": 56876112, "comment_id": 100300941, "body": "Good idea =&gt; added"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1562179920, "post_id": 56876112, "comment_id": 100301256, "body": "What&#39;s <code>MyModel</code>?"}, {"owner": {"reputation": 398, "user_id": 6897682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mq9a2.jpg?s=128&g=1", "display_name": "Shinigami", "link": "https://stackoverflow.com/users/6897682/shinigami"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1562180061, "post_id": 56876112, "comment_id": 100301315, "body": "@jcalz It&#39;s in example an interface which must have <code>{ id: ..., additionalAttributes... }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 398, "user_id": 6897682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mq9a2.jpg?s=128&g=1", "display_name": "Shinigami", "link": "https://stackoverflow.com/users/6897682/shinigami"}, "edited": false, "score": 0, "creation_date": 1562182970, "post_id": 56876677, "comment_id": 100302499, "body": "Ohhh you were so close! I extended your example and wrapped the Record with a Partial https:// bit.ly/2J7iD2W The url was to long and Stack Overflow disallowes url shortener. So please remove the whitespace before bit"}, {"owner": {"reputation": 398, "user_id": 6897682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mq9a2.jpg?s=128&g=1", "display_name": "Shinigami", "link": "https://stackoverflow.com/users/6897682/shinigami"}, "edited": false, "score": 0, "creation_date": 1562183399, "post_id": 56876677, "comment_id": 100302641, "body": "If you want, you can update your answer and then I will accept it :)"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 398, "user_id": 6897682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mq9a2.jpg?s=128&g=1", "display_name": "Shinigami", "link": "https://stackoverflow.com/users/6897682/shinigami"}, "edited": false, "score": 0, "creation_date": 1562197520, "post_id": 56876677, "comment_id": 100306733, "body": "I guess I&#39;m confused, since the code you have in that url isn&#39;t renaming any keys; I might have completely misunderstood your question.  If the question is just &quot;how do I make an object with an arbitrary literal key&quot; then the answer is probably just &quot;use <a href=\"https://stackoverflow.com/questions/51936369/what-is-the-record-type-in-typescript/51937036#51937036\"><code>Record&lt;K,V&gt;</code></a>&quot; or the equivalent <code>{[P in K]: V}</code> definition."}, {"owner": {"reputation": 398, "user_id": 6897682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mq9a2.jpg?s=128&g=1", "display_name": "Shinigami", "link": "https://stackoverflow.com/users/6897682/shinigami"}, "edited": false, "score": 0, "creation_date": 1562224769, "post_id": 56876677, "comment_id": 100312789, "body": "I think I found out why we misunderstood each other. I told you that MyModel is something like {id:...}, but it can be also something like {uuid:...}. I updated my question to make some clearance of my goal."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 3, "last_activity_date": 1562181870, "last_edit_date": 1562181870, "creation_date": 1562181374, "answer_id": 56876677, "question_id": 56876112, "link": "https://stackoverflow.com/questions/56876112/uniontypes-partialrequired-and-pickrequired/56876677#56876677", "title": "UnionTypes: PartialRequired and PickRequired", "body": "<p>I'm going to answer the general question about how to programmatically modify an object type to rename keys.</p>\n\n<p>Here's one possible implementation that only really works for required, mutable properties with known literal keys (no optional properties, no <code>readonly</code> properties, and no index signatures).  If you need to support those cases it is possible but gets even more ugly, so I'm ignoring it for now.</p>\n\n<pre><code>type ValueOf&lt;T&gt; = T[keyof T];\n\ntype RenameKeys&lt;T, M extends Record&lt;keyof any, keyof any&gt;&gt; = ValueOf&lt;\n  { [K in keyof T]: (x: Record&lt;K extends keyof M ? M[K] : K, T[K]&gt;) =&gt; void }\n&gt; extends ((x: infer R) =&gt; void)\n  ? { [K in keyof R]: R[K] }\n  : never;\n</code></pre>\n\n<p>That might be confusing, but basically it takes an object type <code>T</code> and a key-mapping type <code>M</code>, and produces a new type with the keys renamed but the property types the same.  For example:</p>\n\n<pre><code>interface MyModel {\n  id: number;\n  name: string;\n  age: number;\n  alive: boolean;\n}\n\ntype Renamed = RenameKeys&lt;MyModel, { id: \"uuid\" }&gt;;\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>type Renamed = {\n    uuid: number;\n    name: string;\n    age: number;\n    alive: boolean;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>type RenamedMulti = RenameKeys&lt;\n  MyModel,\n  { id: \"uuid\"; alive: \"notDead\"; age: \"yearsOld\" }\n&gt;;\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>type RenamedMulti = {\n    uuid: number;\n    name: string;\n    yearsOld: number;\n    notDead: boolean;\n}\n</code></pre>\n\n<p>You might be able to use <code>RenameKeys</code> to build up the types you're looking for.  </p>\n\n<hr>\n\n<p>As for how it works:</p>\n\n<pre><code>type RenameKeys&lt;T, M extends Record&lt;keyof any, keyof any&gt;&gt; = ValueOf&lt;\n  { [K in keyof T]: (x: Record&lt;K extends keyof M ? M[K] : K, T[K]&gt;) =&gt; void }\n&gt; extends ((x: infer R) =&gt; void)\n  ? { [K in keyof R]: R[K] }\n  : never;\n</code></pre>\n\n<p>The <code>M</code> mapping extending <code>Record&lt;keyof any, keyof any&gt;</code> just makes sure that it's a map from keys to keys.  Then, let's imagine this: <code>{[K in keyof T]: Record&lt;K extends keyof M ? M[K] : K, T[K]&gt;]}</code>.  That basically takes every property in <code>T</code> and looks up in <code>M</code> to see if the key is mapped, and if so, maps it...  If you did that where <code>T</code> was <code>MyModel</code> and <code>M</code> was <code>{id: \"uuid\"}</code>, then you'd get <code>{id: {uuid: number}, name: {name: string}, age: {age: number}, alive: {alive: boolean}}</code>.  </p>\n\n<p>It's a bit tricky to get from that to a type with those combined... the way I do it is with <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#type-inference-in-conditional-types\" rel=\"nofollow noreferrer\">conditional type inference</a> to turn a union of those types into an intersection.  First I put those properties into function parameters, like <code>(x: Record&lt;...&gt; =&gt; void)</code>.  Then I get a union of the functions (that's the <code>ValueOf&lt;&gt;</code> application) and infer a single function with parameter type <code>R</code> from it.  That ends up being an intersection, since <code>(x: A)=&gt;void | (x: B)=&gt;void</code> is assignable to <code>(x: A &amp; B) =&gt; void</code>.  (Another explanation of how this works is <a href=\"https://stackoverflow.com/a/50375286/2887218\">here</a> or possibly <a href=\"https://github.com/microsoft/TypeScript/issues/29594#issuecomment-507701193\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>So the type <code>R</code> that comes out looks like <code>{uuid: number} &amp; {name: string} &amp; {age: number} &amp; {alive: boolean}</code>, and then <code>{[K in keyof R]: R[K]}</code> is an \"identity\" mapped type that collects those properties together into <code>{uuid: number; name: string; age: number; alive: boolean}</code>.</p>\n\n<hr>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/KYDwDg9gTgLgBDAnmYcAKBDWBLDAbAJWAEcBXbKYAEwB4AVAGjgGk5QZgA7KgZzgGtgiCADM4dAHxwAvOiwxceelIBkAKDjpsAY340iZCtWVNmEgNxrQkWAmSo0O-gfKVajFmxAdufQcLFJGXE4FS1dfRJXY0lTCzUAegTraHgkFDgAMWhtYABJdy8fXjgAbzhsKgB+AC44PIAROABfJkbgzlIAWwAjYCgpWUddFyN3JgBySon4q3BUuwzsqFyCmg0Q9i4Som1oWkaAfQA5AEEAWQBRNoaJBg322U7e-vvNI7Orou2+HhgobCcADmwQARJVQWpBuFnFExvQbicLpdZulUAA1fCkYAAeREymCdAA2v5ROIALqWNRouBETgYLrAZhCHgIuDnb6+WnAPZQWiksQYTiIJgCuBCxASaGYvDYvHrTTlImsQECIRkujkuoAChAdV2+xorC2XLFHKq7OV5LgdWYTGJzHJEgAlDIpAA3CCVFpQzklbW6uqAkT9Wmu6Qer1UZ0bC1KlWcNUBWla2lWn2aOqcYDu-pUwEcKAiDC5dmIc4QKjAPBlDaVLPdPpQSyaemMup-AHAlvioHABsvZsbfDYXN1HoQCB4YBCyzNNTU+zctvUYJ0hlMlk0c7lyvVpjletwUGkchUUEteIJABUi4y68ZVGCpQ2mlPR+eTZ7rY3Hf+gKBb9e37OBPzzV9xTwUcQInKcZ04Oc1GvBIFxpB9qHOUg8AUNcuA3ZlEFZDYdwrKs8DeMoKioOoTzPUFzEg6CaM4CAYAaGdzwYjA+xoxAZygHgcTwc8fSvW80Lwx9MOw7Bnwg99qNAxtwM0H92zgTsAKAvisEE4SBy-CCWLYjjx0nadZzUedkLUIA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 398, "user_id": 6897682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mq9a2.jpg?s=128&g=1", "display_name": "Shinigami", "link": "https://stackoverflow.com/users/6897682/shinigami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1562224676, "creation_date": 1562178811, "last_edit_date": 1562224676, "question_id": 56876112, "link": "https://stackoverflow.com/questions/56876112/uniontypes-partialrequired-and-pickrequired", "title": "UnionTypes: PartialRequired and PickRequired", "body": "<p>Today I created two new UnionTypes in my project.</p>\n\n<p>You can see this types here in Code-Review: <a href=\"https://codereview.stackexchange.com/questions/223433/uniontypes-partialrequired-and-pickrequired\">https://codereview.stackexchange.com/questions/223433/uniontypes-partialrequired-and-pickrequired</a></p>\n\n<pre><code>export type PartialRequired&lt;T, K extends keyof T&gt; = Partial&lt;T&gt; &amp; Pick&lt;Required&lt;T&gt;, K&gt;;\nexport type PickRequired&lt;T, K extends keyof T&gt; = T &amp; Pick&lt;Required&lt;T&gt;, K&gt;;\nexport type ForceId&lt;T extends { id?: ID }, ID = number&gt; = PickRequired&lt;T, 'id'&gt;;\n</code></pre>\n\n<p>Now I thought about to make the <code>id</code> attribute <em>renameable</em>?!</p>\n\n<p>I tried something like this:</p>\n\n<pre><code>export type ForceId&lt;T extends { [key: ID_NAME]?: ID }, ID = number, ID_NAME extends string = 'id'&gt; = PickRequired&lt;T, ID_NAME&gt;;\n//                                            ~~ ';' expected\n</code></pre>\n\n<p>But as you can see, this didn't work. Is there a way I can achive something like this?\nSo I can use <code>ForceId&lt;MyModel, string, 'uuid'&gt;</code> => <code>{ uuid: '123e4567-e89b-12d3-a456-426655440000' }</code> without create a new definition like <code>ForceUuid</code>?</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/KYDwDg9gTgLgBDAnmYcAKBDWBLDAbAJWAEcBXbKYAEwB4AVAGjgGk5QZgA7KgZzgGtgiCADM4dAHxwAvOiwxceelIBk6bAGN+NImQrVlTZhIDcAKFCRYCZKjSb+u8pVqMWbEB259BwsZJlxODV7LR0SZwNJI1MzAHo4y2h4JBQ4ADFoDWAASVcPL144AG84bCoAfgAuOByAETgAXyZ6wM5SAFsAI2AoKVlQxwj9VyYAcnKx2ItwZJs0zKhsvPoCriLSgG1fGvqAfQA5AEEAWQBRAF1q2obmm7bOnqgWusPTs7XvOB4YKGxOADmgQmVCmgUGThG9Beb3OsSAA\" rel=\"nofollow noreferrer\">TypeScript Playground</a></p>\n\n<h2>Edit:</h2>\n\n<p>The goal is the following:</p>\n\n<p>I have some Models looking like this:</p>\n\n<pre><code>interface MyModel1 {\n  id?: number; // The identifier of Model 1\n  name: string;\n  age?: number;\n  alive?: boolean;\n}\n\ninterface MyModel2 {\n  uuid?: string; // The identifier of Model 2\n  name: string;\n  age?: number;\n  alive?: boolean;\n}\n</code></pre>\n\n<p>I don't want to change any code at runtime.</p>\n\n<p>Now I want to use the <code>ForceId</code> type.</p>\n\n<pre><code>// Works\nconst model1: ForceId&lt;MyModel1&gt; = {\n  id: 0,\n  name: \"test\",\n  age: 10\n};\n\n// Don't work\nconst model2: ForceId&lt;MyModel2, string, \"uuid\"&gt; = {\n  uuid: \"123e4567-e89b-12d3-a456-426655440000\",\n  name: \"test\",\n  age: 10\n};\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "types", "union-types"], "comments": [{"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1562178944, "post_id": 56876111, "comment_id": 100300798, "body": "<code>Does a union type mean properties have to exist on every member, not just one?</code> - no, that&#39;s what <a href=\"https://stackoverflow.com/questions/38855908/naming-of-typescripts-union-and-intersection-types\">intersection types are for</a>"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1562179066, "post_id": 56876111, "comment_id": 100300860, "body": "<code>I&#39;m also a little confused between types and interfaces. Why isn&#39;t this a UnionInterface ?</code> - if you want an interface that has all the properties from a number of other interfaces, just declare an interface that extends them all. Union and intersection are operations defined on types, and they produce types, not interfaces - interface is one particular kind of type, there are many others types which are not expressible as interfaces."}, {"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1562179200, "post_id": 56876111, "comment_id": 100300922, "body": "thanks but actually I want a flexible <code>payload</code> type that may or may not have the <code>.text</code> member depending on <code>messageType</code>. So is that not possible with Unions?"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1562179417, "post_id": 56876111, "comment_id": 100301010, "body": "It&#39;s possible, you just have to make sure that the object you received does indeed have the property that you want to access - usually it&#39;s done using <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">discriminated unions</a> and switch or if statement that checks the <code>kind</code> property which is present in all union member types"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1562179679, "post_id": 56876111, "comment_id": 100301125, "body": "In your case, the compiler has no way of knowing that the actual type of <code>MessagePayload</code> depends on the value of <code>messageType</code> - you can use type assertion or custom type guard to go around that, but putting <code>messageType</code> into payload and making <code>MessagePayload</code> a discriminated union type would be simpler IMO."}, {"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1562180719, "post_id": 56876111, "comment_id": 100301609, "body": "you make it sound simple! OK, its <code>any</code> for now and I&#39;ll dig into this later. Thanks! If you want to make an answer I can accept it later.."}], "answers": [{"comments": [{"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "edited": false, "score": 0, "creation_date": 1562191337, "post_id": 56877531, "comment_id": 100305468, "body": "wow thanks, I think I understand now, will play with it and check! thanks for the nice comments ex."}], "tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": false, "score": 1, "last_activity_date": 1562185744, "creation_date": 1562185744, "answer_id": 56877531, "question_id": 56876111, "link": "https://stackoverflow.com/questions/56876111/how-to-use-typescript-union-types-properly/56877531#56877531", "title": "how to use TypeScript union types properly?", "body": "<p>Here's why TypeScript is throwing an error - it's trying to do good actually, but coding things right can be tricky (trust me, <a href=\"https://stackoverflow.com/q/53743887/8186898\">I've been there</a>, and <a href=\"https://stackoverflow.com/a/56823822/8186898\">also there</a>):</p>\n\n<pre><code>// so let's say we have:\nconst msg: IBotMsg = ...\n\n// if we write\nmsg.payload.text // it fails because msg could be equal to {payload:{url:'...'}}\nmsg.payload.url  // it fails because msg could be equal to {payload:{text:'...'}}\n// so TypeScript prevents that and throws an error.\n\n// You have to make clear to TypeScript that you know which properties you expect, either using typegards:\nif ('text' in msg.payload) {\n    msg.payload.text;\n}\n\n// ... or by casting:\nconst msg2: {payload: TextPayload} = (msg as {payload: TextPayload});\nmsg2.payload.text; // no error\nmsg2.payload.url;  // rightful error\n</code></pre>\n\n<p>Check out this code live <a href=\"http://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgCoQB5gApwJ4A2A9nACbIDeykWAXMgM5hSgDmyAvgFCiSyIoAkgFs4rCLkIlyVAK5QC9JixDtuYPAAcUAWQgMGYifmJlkAXjSYcJ6cgA+yEUcmnSAbh7ho8JE4BCRGA6DOxUmrZk9HoGLpHknFxcCEQgTMjCofSCgcGhFpTIEVJRhTRg9ADkABYQBMSVnNyZrAB0xW6t5Z4t7fGt8gSePDDIABSV5Y2gGaF9JaQAlJRcyGuzbR3SXdae3Mmp6S0ATPQUW6XoWK7SHAVjLchwDJQXpPRXNgsciz2hx-NOt0uCdAdtBu4gA\" rel=\"nofollow noreferrer\">in the TS playground</a></p>\n"}], "owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1562185744, "creation_date": 1562178811, "last_edit_date": 1562179117, "question_id": 56876111, "link": "https://stackoverflow.com/questions/56876111/how-to-use-typescript-union-types-properly", "title": "how to use TypeScript union types properly?", "body": "<p>I'm having trouble with basic union types, appreciate some help!\nBuilding a chat app where incoming messages can have a payload of a varying type. So I created a few payload types like:</p>\n\n<pre><code>export interface TextPayload {\n  text: string,\n}\nexport interface ImagePayload {\n  url: string,\n} //etc\n</code></pre>\n\n<p>bound them all up in a union type just to be clear, using <code>|</code></p>\n\n<pre><code>export type MessagePayload = TextPayload | ImagePayload | UrlPayload | FilePayload\n</code></pre>\n\n<p>and then the final Message uses that as the payload.</p>\n\n<pre><code>export interface IBotMsg {\n  payload: MessagePayload  // this creates the problem\n}\n</code></pre>\n\n<p>but when trying to use I get this error</p>\n\n<pre><code>[0]       TS2459: Type 'MessagePayload' has no property 'text' and no string index signature.\n</code></pre>\n\n<p>The code is used here. Possibly its the destructuring assignment is confusing the type system...</p>\n\n<pre><code>  const msg: IBotMsg = req.body.msg\n  const { payload: { text } } = msg\n</code></pre>\n\n<p>another line throwing error</p>\n\n<pre><code>    let text = msgIn.payload.text\n</code></pre>\n\n<p>Full error</p>\n\n<pre><code>[0]\n[0] ERROR in ./server/bots/watson/routes/index.ts\n[0] [tsl] ERROR in /Users/dc/dev/tix/recobot/stack/backend/server/bots/watson/routes/index.ts(19,22)\n[0]       TS2459: Type 'MessagePayload' has no property 'text' and no string index signature.\n[0]\n[0] ERROR in ./server/bots/watson/routes/index.ts\n[0] [tsl] ERROR in /Users/dc/dev/tix/recobot/stack/backend/server/bots/watson/routes/index.ts(40,25)\n[0]       TS2339: Property 'text' does not exist on type 'MessagePayload'.\n[0]   Property 'text' does not exist on type 'ImagePayload'.\n[0]\n[0] ERROR in ./server/bots/tix/brain/TixBrain.ts\n[0] [tsl] ERROR in /Users/dc/dev/tix/recobot/stack/backend/server/bots/tix/brain/TixBrain.ts(27,30)\n[0]       TS2339: Property 'text' does not exist on type 'MessagePayload'.\n[0]   Property 'text' does not exist on type 'ImagePayload'.\n[0]\n[0] ERROR in /Users/dc/dev/tix/recobot/stack/backend/server/bots/testbot/TestBot.ts\n[0] [tsl] ERROR in /Users/dc/dev/tix/recobot/stack/backend/server/bots/testbot/TestBot.ts(12,39)\n[0]       TS2339: Property 'text' does not exist on type 'MessagePayload'.\n[0]   Property 'text' does not exist on type 'ImagePayload'.\n</code></pre>\n\n<p>it's almost as if the compiler just bailed halfway on ImagePayload...</p>\n\n<p>Does a union type mean properties have to exist on <strong>every</strong> member, not just one? The subtypes have to be a superset of the interface? I don't quite see the point in that case.\nI did also try with just <code>TextPayload</code>, eg not a union type and got a similar error... confused.</p>\n\n<p>I'm also a little confused between types and interfaces. Why isn't this a <code>UnionInterface</code> ?</p>\n\n<p>Thanks for any tips.</p>\n\n<p>MS reference\n<a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/advanced-types.html</a></p>\n\n<p>full code</p>\n\n<pre><code>export enum MessageType {\n  TEXT = 0,\n  IMAGE = 1,\n  URL_LINK = 2,\n  FILE = 3,\n}\n\nexport interface TextPayload {\n  text: string,\n  mention?: string[],\n}\n\nexport interface ImagePayload {\n  url: string,\n}\n\nexport interface UrlPayload {\n  sourceUrl: string,\n  title: string,\n  summary: string,\n  imageUrl: string,\n}\n\nexport interface FilePayload {\n  url: string,\n  name: string,\n}\n\nexport type MessagePayload = TextPayload | ImagePayload | UrlPayload | FilePayload\n\nexport interface IBotMsg {\n  chatId?: string,\n  token?: string,\n  messageType?: MessageType\n  payload: MessagePayload  // this creates the problem\n}\n</code></pre>\n"}, {"tags": ["typescript", "ip-address"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 4, "creation_date": 1562176544, "post_id": 56875614, "comment_id": 100299758, "body": "Did you install the npm package?"}, {"owner": {"reputation": 11, "user_id": 6214681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9b829e00882d014d9f08da316cd9e6?s=128&d=identicon&r=PG&f=1", "display_name": "Riley McKenna", "link": "https://stackoverflow.com/users/6214681/riley-mckenna"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1562176913, "post_id": 56875614, "comment_id": 100299947, "body": "it was installed. i posted the solution. I didnt add it to my @Types"}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1562177283, "post_id": 56875614, "comment_id": 100300094, "body": "+7.5Mo of NPM packages to validate IPv4 addresses? Mmh... Why not simply use <code>&#47;\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\b&#47;.match(value)</code> (or other <a href=\"https://www.regular-expressions.info/ip.html\" rel=\"nofollow noreferrer\">more precises regexes</a>)?"}, {"owner": {"reputation": 11, "user_id": 6214681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9b829e00882d014d9f08da316cd9e6?s=128&d=identicon&r=PG&f=1", "display_name": "Riley McKenna", "link": "https://stackoverflow.com/users/6214681/riley-mckenna"}, "edited": false, "score": 0, "creation_date": 1562178160, "post_id": 56875614, "comment_id": 100300451, "body": "I required more than just validating the address using a regex. I needed to know if the address was also in a specific subnet."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6214681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9b829e00882d014d9f08da316cd9e6?s=128&d=identicon&r=PG&f=1", "display_name": "Riley McKenna", "link": "https://stackoverflow.com/users/6214681/riley-mckenna"}, "is_accepted": false, "score": 0, "last_activity_date": 1562176835, "creation_date": 1562176835, "answer_id": 56875700, "question_id": 56875614, "link": "https://stackoverflow.com/questions/56875614/how-do-you-validate-ip-address-in-typescript/56875700#56875700", "title": "How do you validate Ip address in Typescript?", "body": "<p>After <a href=\"https://stackoverflow.com/a/43620201/6214681\">looking around</a> I found that I was not importing my npm modules correctly. </p>\n\n<p>Using VS19, Open Tools -> VS Command Prompt -> </p>\n\n<pre><code>npm install --save ip-address\nnpm install --save @types/ip-address\n</code></pre>\n\n<p>Then in the project file I imported the <a href=\"https://www.npmjs.com/package/ip-address\" rel=\"nofollow noreferrer\">ip-address</a> following the guidelines. </p>\n\n<pre><code>import * as IpAddress from 'ip-address';\nexport var ipv4 = IpAddress.Address4;\nexport var ipv6 = IpAddress.Address6;\n</code></pre>\n\n<p>then you can just call the <code>var address = new ipv4(value)</code></p>\n"}], "owner": {"reputation": 11, "user_id": 6214681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9b829e00882d014d9f08da316cd9e6?s=128&d=identicon&r=PG&f=1", "display_name": "Riley McKenna", "link": "https://stackoverflow.com/users/6214681/riley-mckenna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1532, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562176835, "creation_date": 1562176470, "question_id": 56875614, "link": "https://stackoverflow.com/questions/56875614/how-do-you-validate-ip-address-in-typescript", "title": "How do you validate Ip address in Typescript?", "body": "<p>Given an IPv4 or IPv6 address determine if the address is a valid input. This has to be done using Typescript. </p>\n\n<p>I wanted to use an NPM library <a href=\"https://www.npmjs.com/package/ip-address\" rel=\"nofollow noreferrer\">ip-address</a> as it seemed to meet all of my needs, but i couldnt get it to properly import and use it.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {ipv4, ipv6} from 'ip-address'\n\nvar address = new ipv4(value)\nif(address.IsValid){\n// do work\n}\n</code></pre>\n\n<p>I expected this to work after importing the npm module, but i get \"package not found\".</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "edited": false, "score": 2, "creation_date": 1562176934, "post_id": 56875572, "comment_id": 100299954, "body": "Can you update the example with some data in the lists so we can get a better picture of what&#39;s going on. <code>listA</code> and <code>listB</code> are arrays? They&#39;re typed as objects right now."}, {"owner": {"reputation": 2109, "user_id": 1038554, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d848e0ba9a156cce66a9cbbcbedf35c1?s=128&d=identicon&r=PG", "display_name": "Fylix", "link": "https://stackoverflow.com/users/1038554/fylix"}, "reply_to_user": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "edited": false, "score": 0, "creation_date": 1562177800, "post_id": 56875572, "comment_id": 100300309, "body": "The listA &amp; listB are list of object that was parsed from a http post response.  to be more percise, it contains two string properties calls text &amp; value.         listA = response.data.map((val: any) =&gt; {                         const el: any = {};                         el.text = val.name;                         el.value = val.name;                         return el;                     });"}, {"owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "edited": false, "score": 0, "creation_date": 1562178330, "post_id": 56875572, "comment_id": 100300533, "body": "FYI - You can make your original assignment of <code>listA</code> more concise if you want.  <code>this.listA = response.data.map(val =&gt; ({ text: val.name, value: val.name }));</code>"}], "answers": [{"tags": [], "owner": {"reputation": 42, "user_id": 11065796, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xJJw2T4R-Rk/AAAAAAAAAAI/AAAAAAAAAKs/Bd70S10aQjA/photo.jpg?sz=128", "display_name": "Arvind sharma", "link": "https://stackoverflow.com/users/11065796/arvind-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1562178176, "last_edit_date": 1562178176, "creation_date": 1562177402, "answer_id": 56875817, "question_id": 56875572, "link": "https://stackoverflow.com/questions/56875572/add-remove-array-object-using-key-found-in-string-array/56875817#56875817", "title": "Add/Remove array object using key found in string array", "body": "<p>Steps </p>\n\n<ol>\n<li>Iterate through the selected items from selectA </li>\n<li>Get the index of each item in listA </li>\n<li>Use splice(param1, param2) method to delete one item at a time from the list</li>\n<li>Add the item in selectB list as well as listB</li>\n</ol>\n\n<p>Note:- splice() method will mutate the original list ; If you don't want to mutate the list, you can use filter() method </p>\n"}, {"comments": [{"owner": {"reputation": 2109, "user_id": 1038554, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d848e0ba9a156cce66a9cbbcbedf35c1?s=128&d=identicon&r=PG", "display_name": "Fylix", "link": "https://stackoverflow.com/users/1038554/fylix"}, "edited": false, "score": 0, "creation_date": 1562178177, "post_id": 56875932, "comment_id": 100300459, "body": "Thanks t8tortolover, this is exactly what I need, I&#39;ll try it out with the unshift as well ..."}], "tags": [], "owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "is_accepted": true, "score": 1, "last_activity_date": 1562177932, "creation_date": 1562177932, "answer_id": 56875932, "question_id": 56875572, "link": "https://stackoverflow.com/questions/56875572/add-remove-array-object-using-key-found-in-string-array/56875932#56875932", "title": "Add/Remove array object using key found in string array", "body": "<p>Is this what you're looking for?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  // data of the display list, each element has same value for text &amp; value.\n  private listA: any[] = [];\n  private listB: any[] = [];\n\n  // string array contains the list of name selected\n  private selectA: string[] = [];\n  private selectB: string[] = [];\n\n  private addClick(): void {\n    // Get items from listA that match selectA.\n    const matching = this.listA.filter(x =&gt; this.selectA.includes(x.value));\n\n    // Filter listA to only include items that are not a match from selectA.\n    this.listA = this.listA.filter(x =&gt; !this.selectA.includes(x.value));\n\n    // Add matching items from listA to listB.\n    this.listB.push(matching);\n  }\n</code></pre>\n\n<p><code>this.listB.push(matching)</code> appends the elements to the end of the array. You can also use <code>this.listB.unshift(matching)</code> to prepend them to the start.</p>\n"}, {"tags": [], "owner": {"reputation": 920, "user_id": 1673227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tbgZ.jpg?s=128&g=1", "display_name": "M.Elkady", "link": "https://stackoverflow.com/users/1673227/m-elkady"}, "is_accepted": false, "score": 1, "last_activity_date": 1562178212, "creation_date": 1562178212, "answer_id": 56875992, "question_id": 56875572, "link": "https://stackoverflow.com/questions/56875572/add-remove-array-object-using-key-found-in-string-array/56875992#56875992", "title": "Add/Remove array object using key found in string array", "body": "<p>I'm not sure that I understand 100% your problem but I tried this and it seems to work check it and we can modify it till reach what you need </p>\n\n<pre><code>class Test {     //data of the display list, each element has same value for text &amp; value.\n    private listA: any = {a:'a','b':'b'};\n    private listB: any = {};\n\n//string array contains the list of name selected\n    private selectA: string[] = ['a','b'];\n    private selectB: string[] = [];\n\n    public addClick(): void {\n        this.selectA.forEach((item) =&gt; {\n            if (this.listA[item]) {\n                this.listB[item] = item;\n                delete this.listA[item];\n            }\n        })\n    }\n\n    public showResult(){\n        console.log('ListA',this.listA)\n        console.log('SelectA',this.selectA)\n        console.log('ListB',this.listB)\n    }\n\n    //remove all from listA that match name found in selectA\n    //add to listB all name found in selectA\n}\n</code></pre>\n\n<p>Then we can run this </p>\n\n<pre><code>let test = new Test();\n\ntest.showResult();\ntest.addClick();\ntest.showResult();\n</code></pre>\n\n<p>the Result will be as expected </p>\n\n<pre><code>ListA { a: 'a', b: 'b' }\nSelectA [ 'a', 'b' ]\nListB {}\nListA {}\nSelectA [ 'a', 'b' ]\nListB { a: 'a', b: 'b' }\n</code></pre>\n"}], "owner": {"reputation": 2109, "user_id": 1038554, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d848e0ba9a156cce66a9cbbcbedf35c1?s=128&d=identicon&r=PG", "display_name": "Fylix", "link": "https://stackoverflow.com/users/1038554/fylix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 56875932, "answer_count": 3, "score": 0, "last_activity_date": 1562178212, "creation_date": 1562176297, "last_edit_date": 1562177256, "question_id": 56875572, "link": "https://stackoverflow.com/questions/56875572/add-remove-array-object-using-key-found-in-string-array", "title": "Add/Remove array object using key found in string array", "body": "<p>I'm trying to implement a function to select multiple items from one and add/remove to another using typescript.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>        //data of the display list, each element has same value for text &amp; value.\n        private listA: any = {};  \n        private listB: any = {};  \n\n        //string array contains the list of name selected\n        private selectA: string[] = [];  \n        private selectB: string[] = [];\n\n        private addClick: void {\n\n            //remove all from listA that match name found in selectA\n            //add to listB all name found in selectA\n        }\n</code></pre>\n\n<p>How would I go about to implement this function? I already manage to get the data  (<code>listA</code> &amp; <code>listB</code>) to populate my list so that is not an issue, my issue is to prepare the data properly for it.</p>\n\n<p>I'm new to typescript &amp; javascript so the syntax is what giving problem now.  I tried to work with <code>Object.assign()</code>, delete and couple of other functions I found but no luck so far.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2NlNs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2NlNs.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 3091, "user_id": 5198250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5pNb.jpg?s=128&g=1", "display_name": "Zuber", "link": "https://stackoverflow.com/users/5198250/zuber"}, "edited": false, "score": 0, "creation_date": 1574761697, "post_id": 56874978, "comment_id": 104336750, "body": "i was in a same trouble. <a href=\"https://stackoverflow.com/questions/58166597/use-external-javascript-library-in-angular-8-application\" title=\"use external javascript library in angular 8 application\">stackoverflow.com/questions/58166597/&hellip;</a> this may help you."}], "owner": {"reputation": 11, "user_id": 6010242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnhCX.jpg?s=128&g=1", "display_name": "quywsx", "link": "https://stackoverflow.com/users/6010242/quywsx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1040, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562220214, "creation_date": 1562173428, "last_edit_date": 1562220214, "question_id": 56874978, "link": "https://stackoverflow.com/questions/56874978/how-to-use-native-javascript-library-in-angular-8", "title": "How to use native javascript library in Angular 8?", "body": "<p>I would like to use <a href=\"https://github.com/Leaflet/Leaflet\" rel=\"nofollow noreferrer\">Leaflet</a> with a plugin <a href=\"https://github.com/Leaflet/Leaflet.draw\" rel=\"nofollow noreferrer\">Leaflet.draw</a> in Angular 8. And understand how it works.</p>\n\n<p>So first i used a project generated by Angular CLI 7.3.4 where it's worked fine. (Here leaflet.draw is not yet added) I added the scripts and css to the angular.json file and defined the $ variable.\nThen i updated the project to Angular 8.1 where the last solution failed. I fixed it whit another way. It works but it shows one error.</p>\n\n<p>So anyone know what happened between the version that caused the problem? Can someone link some good docs how Typescript works internally to understand how can i use Javascript and Typescript together in the proper way?</p>\n\n<p>First solution:</p>\n\n<pre><code>{\n  \"name\": \"client-app\",\n  \"version\": \"0.0.0\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"~7.2.0\",\n    \"@angular/cdk\": \"~7.3.7\",\n    \"@angular/common\": \"~7.2.0\",\n    \"@angular/compiler\": \"~7.2.0\",\n    \"@angular/core\": \"~7.2.0\",\n    \"@angular/forms\": \"~7.2.0\",\n    \"@angular/material\": \"^7.3.7\",\n    \"@angular/platform-browser\": \"~7.2.0\",\n    \"@angular/platform-browser-dynamic\": \"~7.2.0\",\n    \"@angular/router\": \"~7.2.0\",\n    \"core-js\": \"^2.5.4\",\n    \"hammerjs\": \"^2.0.8\",\n    \"leaflet\": \"^1.5.1\",\n    \"leaflet-draw\": \"^1.0.4\",\n    \"rxjs\": \"~6.3.3\",\n    \"tslib\": \"^1.9.0\",\n    \"zone.js\": \"~0.8.26\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"~0.13.0\",\n    \"@angular/cli\": \"~7.3.4\",\n    \"@angular/compiler-cli\": \"~7.2.0\",\n    \"@angular/language-service\": \"~7.2.0\",\n    \"@types/node\": \"~8.9.4\",\n    \"@types/jasmine\": \"~2.8.8\",\n    \"@types/jasminewd2\": \"~2.0.3\",\n    \"codelyzer\": \"~4.5.0\",\n    \"jasmine-core\": \"~2.99.1\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~4.0.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"~2.0.1\",\n    \"karma-jasmine\": \"~1.1.2\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.4.0\",\n    \"ts-node\": \"~7.0.0\",\n    \"tslint\": \"~5.11.0\",\n    \"typescript\": \"~3.2.2\"\n  }\n}\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\ndeclare const L: any;\n\n@Component({\n  selector: 'app-indoor',\n  templateUrl: './indoor.component.html',\n  styleUrls: ['./indoor.component.sass']\n})\n//etc...\n</code></pre>\n\n<p>Second solution:</p>\n\n<pre><code>{\n  \"name\": \"client-app\",\n  \"version\": \"0.0.0\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"~8.1.0\",\n    \"@angular/cdk\": \"~8.0.2\",\n    \"@angular/common\": \"~8.1.0\",\n    \"@angular/compiler\": \"~8.1.0\",\n    \"@angular/core\": \"~8.1.0\",\n    \"@angular/forms\": \"~8.1.0\",\n    \"@angular/material\": \"^8.0.2\",\n    \"@angular/platform-browser\": \"~8.1.0\",\n    \"@angular/platform-browser-dynamic\": \"~8.1.0\",\n    \"@angular/router\": \"~8.1.0\",\n    \"core-js\": \"^3.1.4\",\n    \"hammerjs\": \"^2.0.8\",\n    \"leaflet\": \"^1.5.1\",\n    \"leaflet-draw\": \"^1.0.4\",\n    \"rxjs\": \"~6.5.2\",\n    \"tslib\": \"^1.9.0\",\n    \"zone.js\": \"~0.9.1\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"~0.801.0\",\n    \"@angular/cli\": \"~8.1.0\",\n    \"@angular/compiler-cli\": \"~8.1.0\",\n    \"@angular/language-service\": \"~8.1.0\",\n    \"@types/jasmine\": \"~3.3.13\",\n    \"@types/jasminewd2\": \"~2.0.3\",\n    \"@types/node\": \"~12.0.10\",\n    \"codelyzer\": \"^5.0.1\",\n    \"jasmine-core\": \"~3.4.0\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~4.1.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"~2.0.1\",\n    \"karma-jasmine\": \"~2.0.1\",\n    \"karma-jasmine-html-reporter\": \"^1.4.2\",\n    \"protractor\": \"~5.4.0\",\n    \"ts-node\": \"~8.3.0\",\n    \"tslint\": \"~5.18.0\",\n    \"typescript\": \"^3.4.5\"\n  }\n}\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>declare let L;\nimport 'leaflet';\nimport 'leaflet-draw';\n\n@Component({\n  selector: 'app-indoor',\n  templateUrl: './indoor.component.html',\n  styleUrls: ['./indoor.component.sass']\n})\n</code></pre>\n\n<p>The error: (It's looks like some kind of check)</p>\n\n<pre><code>!function(t, i) {\n    \"object\" == typeof exports &amp;&amp; \"undefined\" != typeof module ? i(exports) : \"function\" == typeof define &amp;&amp; define.amd ? define([\"exports\"], i) : i(t.L = {})\n}(this, function(t) {\n//etc...\n</code></pre>\n\n<blockquote>\n  <p>Uncaught TypeError: Cannot set property 'L' of undefined\n      at leaflet.js:formatted:6\n      at leaflet.js:formatted:7</p>\n</blockquote>\n\n<p>It shows this error but everything works fine.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1562177567, "creation_date": 1562177567, "answer_id": 56875848, "question_id": 56874918, "link": "https://stackoverflow.com/questions/56874918/union-type-assignment-in-typescript/56875848#56875848", "title": "Union type assignment in TypeScript", "body": "<p>This is due to a recent <a href=\"https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#fixes-to-unsound-writes-to-indexed-access-types\" rel=\"nofollow noreferrer\">breaking change</a> introduced in TypeScript 3.5 (see the <a href=\"https://github.com/microsoft/TypeScript/pull/30769\" rel=\"nofollow noreferrer\">relevant pull request</a> for more info) which improved the soundness when writing to <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">indexed-access/lookup types</a>.  In short, what you are doing is only safe since you happen to know for a fact that you are writing a value back into the property it was just read from.  But the compiler doesn't realize this since you intentionally widened the type of the property key to a union.  The type of <code>x2</code> is therefore <code>A | B | undefined</code>, and it isn't safe to write that type back to <code>x[name2]</code>:</p>\n\n<pre><code>const name2 = \"AA\" as \"AA\" | \"BB\";\nlet x2 = x[name2]; // type: A | B | undefined\nx2 = { b: \"okay\" }; // works because x2 is of A | B | undefined\nx[name2] = x2; // now this error makes sense, right?\n</code></pre>\n\n<p>The problem here, as I see it, is a lack of support in the language for what I've been calling <a href=\"https://github.com/Microsoft/TypeScript/issues/30581\" rel=\"nofollow noreferrer\">\"correlated types\"</a>.  You know that the two union-typed expressions <code>x2</code> and <code>x[name2]</code> of type <code>A | B | undefined</code> are not independent of each other.  Either they are both <code>A | undefined</code>, or they are both <code>B | undefined</code>.  But the compiler has no way to express that dependence in general.  Workarounds here generally involve generics, type assertions, or code duplication.</p>\n\n<hr>\n\n<p>Generics: One way to make the compiler understand this to be safe is to abstract what you are doing to a generic function where name is of a generic type that extends <code>\"AA\" | \"BB\"</code>:</p>\n\n<pre><code>function genericVersion&lt;N extends \"AA\" | \"BB\"&gt;(name: N) {\n  const x3 = x[name];\n  x[name] = x3; // no error\n}\ngenericVersion(\"AA\" as \"AA\" | \"BB\");\n</code></pre>\n\n<p>This works because the compiler allows you to assign a value of type <code>T[N]</code> to a variable of type <code>T[N]</code> when <code>N</code> is a generic parameter.  It's still <a href=\"https://github.com/microsoft/TypeScript/pull/30769#issuecomment-498428559\" rel=\"nofollow noreferrer\">technically unsafe</a>:</p>\n\n<pre><code>function unsafeGeneric&lt;N extends \"AA\" | \"BB\"&gt;(readName: N, writeName: N) {\n  const x4 = x[readName];\n  x[writeName] = x4; // no error\n}\nunsafeGeneric(\"AA\", \"BB\"); // no error... oops\n</code></pre>\n\n<p>but it's more useful to allow this than it is to disallow it.</p>\n\n<hr>\n\n<p>Assertions: Another workaround is to loosen the type of <code>x</code> for the assignment via a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a>, as in:</p>\n\n<pre><code>type Loosen&lt;T extends object, K extends keyof T&gt; = {\n  [P in keyof T]: P extends K ? T[K] : T[P]\n};\n\n(x as Loosen&lt;typeof x, typeof name2&gt;)[name2] = x2; // okay\n</code></pre>\n\n<p>The type <code>Loosen&lt;T, K&gt;</code> takes an object type <code>T</code> and a set of its keys <code>K</code> and returns a wider type where any of the property types in <code>T</code> with keys in <code>K</code> can be assigned to any.  For example,</p>\n\n<pre><code>type L = Loosen&lt;{ a: string; b: number; c: boolean }, \"b\" | \"c\"&gt;;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>type L = {\n    a: string;\n    b: number | boolean;\n    c: number | boolean;\n}    \n</code></pre>\n\n<p>And thus I can write a <code>boolean</code> to <code>b</code> amd a <code>number</code> to <code>c</code> without complaint if I widen a value of type <code>{ a: string; b: number; c: boolean }</code> to <code>L</code> before the assignment.  When you do assertions like this you need to be careful not to lie to the compiler, and put the wrong value in the wrong property.</p>\n\n<hr>\n\n<p>Duplication: The last workaround would be to manually walk the compiler through all the possibilities... this is fully type safe but redundant:</p>\n\n<pre><code>const name5 = Math.random() &lt; 0.5 ? \"AA\" : \"BB\";\nif (name5 === \"AA\") {\n  const x5 = x[name5];\n  x[name5] = x5; // okay\n} else {\n  const x5 = x[name5];\n  x[name5] = x5; // okay\n}\n</code></pre>\n\n<hr>\n\n<p>I'm afraid I don't have a wonderful answer for you.  The improved soundness in TS3.5 is 100% correct and does catch bugs, but has also caused a lot of headaches for developers.  Usually I tend to go with a type assertion as it's often the least disruptive change that achieves the goal.  </p>\n\n<p>Oh well.  Hope that helps!  Good luck.</p>\n\n<p><a href=\"http://www.typescriptlang.org/play//#code/C4TwDgpgBAglC8UDeUCGAuKBnYAnAlgHYDmUAvgNwCwAUKJFAEILJQBGmOBJ51NtAYwD2hHFAAeLJLSiwYmAK6EAJhABmRCMrRZYUAD5QlqjYS0AaGU0aKV6zdtS7mh4-bPLalWoJFjCqAC2EACMLABEMDDhfMKiwBJhiOIA2gHBIQC6fKnpoZks4iF8vvFQeQBMEVHhOlCR0Qb1jIwxtAA2EAniVclpQRAV2VAA9CNQAgAWqCRaUMBCUJ3AtD1S7JjhQkJgWPgQtZSj45C4ahACwO0gUABuqO34njS5A0OFFRTHUBC4uEK4Hw0MbjABi+HEmAA4hAzAQBFggWolJd8CIoMRYb98AIAGq-PYiAA8ADkfuJgLDlLoGrVDOEWuEAHwACjymBJAEpkFY4mJxABmQr9YLZKyvUWFAVfMblRa-f6AmhkWiYuE4-G4QmEFm0up6+mMzklGjIwio9FKLCoc4w9UCUnkykqGk1JoM1qs3AQVDKEkDDnmKAAdwIlP9wQ53OkNFkfO6ABZhd7fRGIGLYxIUqH8OGBgVkgmZeNCPK-gCvLQrTaIHbsQJdTUgx7wsbvqWfuXcAA6XtQba7IEgqDgyGwLBYX7ANGEIH0aAAGW2k8IRIAKk6qbohGwAFYXYBBgDSm5dUAA1hAQEI1FA10ypFYUgAFKBEC9Xm93zKYV8QClblAJ4APx3ikR4FJga4vpkXgmiykhOFAS5CCuRLzl+4hBhht6VEynIioMBYSJ8Q6yqOmAACIKGAjwCKg04iEC8blAMACsLAALIMZM3a4DMyhCIELLckSUAAAzdhxoF6psjJ8Pgt5suxCDwIgtLRryfjdBxfR5GxGayBKEAGYUbF8GQPztJOPKZix4i6Vm+mGU57HEQ5Fm0EAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 4076, "user_id": 4871582, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BLHI4.jpg?s=128&g=1", "display_name": "lmcarreiro", "link": "https://stackoverflow.com/users/4871582/lmcarreiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 56875848, "answer_count": 1, "score": 1, "last_activity_date": 1562177567, "creation_date": 1562173129, "question_id": 56874918, "link": "https://stackoverflow.com/questions/56874918/union-type-assignment-in-typescript", "title": "Union type assignment in TypeScript", "body": "<p>Is there a way to make an assignment like this to work?</p>\n\n<pre><code>type A = { a: string };\ntype B = { b: string };\n\nconst x = {\n  AA: undefined as A | undefined,\n  BB: undefined as B | undefined,\n}\n\nconst name1 = \"AA\"\nconst x1 = x[name1]; // type: A | undefined\nx[name1] = x1;\n\nconst name2 = \"AA\" as \"AA\"|\"BB\";\nconst x2 = x[name2]; // type: A | B | undefined\nx[name2] = x2; //ERROR\n\n//Type 'A | B | undefined' is not assignable to type '(A &amp; B) | undefined'.\n//  Type 'A' is not assignable to type 'A &amp; B'.\n//    Property 'b' is missing in type 'A' but required in type 'B'.\n</code></pre>\n"}, {"tags": ["arrays", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1562173374, "post_id": 56874912, "comment_id": 100298380, "body": "Can you show us <b>how</b> you do it with the other array on your html? And what&#39;s the <code>error</code> you encountered."}], "answers": [{"comments": [{"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1562174515, "post_id": 56874988, "comment_id": 100298868, "body": "The constructor isn&#39;t the best place to initialize data; use the <code>ngOnInit</code> life-cycle hook provided by angular."}, {"owner": {"reputation": 874, "user_id": 6245711, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cc01ca23bfdf3ed2edbf00c35c46afa3?s=128&d=identicon&r=PG&f=1", "display_name": "caden311", "link": "https://stackoverflow.com/users/6245711/caden311"}, "reply_to_user": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1562175639, "post_id": 56874988, "comment_id": 100299376, "body": "Yeah it should probably be broken out into meaningful functions. My answer is just to show him how to get it working without errors."}], "tags": [], "owner": {"reputation": 874, "user_id": 6245711, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/cc01ca23bfdf3ed2edbf00c35c46afa3?s=128&d=identicon&r=PG&f=1", "display_name": "caden311", "link": "https://stackoverflow.com/users/6245711/caden311"}, "is_accepted": true, "score": 2, "last_activity_date": 1562173489, "creation_date": 1562173489, "answer_id": 56874988, "question_id": 56874912, "link": "https://stackoverflow.com/questions/56874912/how-can-i-display-my-json-object-with-typescript-in-angular/56874988#56874988", "title": "How can I display my json object with TypeScript in Angular?", "body": "<p>You just need to treat the app component like a class. This shouldn't throw any errors.</p>\n\n<pre><code>import { Component } from '@angular/core';\ninterface Person {\n  name: string;\n  year: number;\n}\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\n  public s = ['Windstorm', 'Bombasto', 'Magneta', 'Tornado'];\n  public myHero = this.s[0];\n  public people : Person[];\n  public newPerson: Person;\n\n  constructor() {\n    this.people = [{ name: 'robert', year: 1993 }];\n    this.newPerson = { name: 'joe', year: 1992 };\n\n    this.people.push(newPerson);\n\n    this.newPerson = {name: 'jose', year: 1997};\n\n    this.people.push(newPerson);\n\n\n    console.log(this.people[2].name);\n  }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1562176213, "last_edit_date": 1562176213, "creation_date": 1562173698, "answer_id": 56875034, "question_id": 56874912, "link": "https://stackoverflow.com/questions/56874912/how-can-i-display-my-json-object-with-typescript-in-angular/56875034#56875034", "title": "How can I display my json object with TypeScript in Angular?", "body": "<p>You need to place the statements within a method/constructor of a class which you are not doing, hence the compile time error. The <code>ngOnInit()</code> is the ideal place for your component to <em>initialize</em> its data.</p>\n\n<p>Your component should look something like this:</p>\n\n<pre><code>export class AppComponent implements OnInit {\n  people: Person[] = [];\n\n  ngOnInit() {\n    this.people  = [{ name: 'robert', year: 1993 }];\n    let newPerson: Person = { name: 'joe', year: 1992 };\n    this.people.push(newPerson);\n    newPerson = {name: 'jose', year: 1997};\n    this.people.push(newPerson);\n    console.log(this.people[2].name);\n  }\n}\n\ninterface Person {\n  name: string;\n  year: number; \n}\n</code></pre>\n\n<p>And the template</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li *ngFor=\"let p of people\"&gt;\n    {{ p.name }}, {{ p.year }}\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Here's a <a href=\"https://stackblitz.com/edit/angular-mt8ly6\" rel=\"nofollow noreferrer\">stackblitz</a> for the same.</p>\n"}], "owner": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 56874988, "answer_count": 2, "score": 0, "last_activity_date": 1562176213, "creation_date": 1562173107, "question_id": 56874912, "link": "https://stackoverflow.com/questions/56874912/how-can-i-display-my-json-object-with-typescript-in-angular", "title": "How can I display my json object with TypeScript in Angular?", "body": "<p>I am trying to display my json array in html using *ngFor but I believe it's not working because it needs to be inside the class AppComponent.  But if I try to move the source code to make the json object inside the AppComponent class I get an error.  </p>\n\n<p>This is my app.component.ts</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\n  s = ['Windstorm', 'Bombasto', 'Magneta', 'Tornado'];\n  myHero = this.s[0];\n\n}\n\ninterface Person {\n  name: string;\n  year: number; \n}\n\nvar people: Person[] = [{ name: 'robert', year: 1993 }];\nvar newPerson: Person = { name: 'joe', year: 1992 };\n\npeople.push(newPerson);\n\nnewPerson = {name: 'jose', year: 1997};\n\npeople.push(newPerson);\n\n\nconsole.log(people[2].name);\n\n</code></pre>\n\n<p>This is my app.component.html file </p>\n\n<pre><code>&lt;p&gt;HEllo&lt;/p&gt;\n\n\n&lt;ul&gt;\n  &lt;li *ngFor=\"let name of s\"&gt;\n    {{ name }}\n  &lt;/li&gt;\n&lt;/ul&gt;\n\n\n</code></pre>\n\n<p>I want to do something to what I did in the html file but with the other array</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 98, "user_id": 10351926, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205254614042623/picture?type=large", "display_name": "Ramesh Kumar", "link": "https://stackoverflow.com/users/10351926/ramesh-kumar"}, "is_accepted": true, "score": 2, "last_activity_date": 1562583789, "creation_date": 1562583789, "answer_id": 56933528, "question_id": 56874415, "link": "https://stackoverflow.com/questions/56874415/open-ngx-smart-modal-without-disabling-the-background/56933528#56933528", "title": "Open ngx-smart-modal without disabling the background?", "body": "<p>This is default and expected behavior of modals.</p>\n\n<p>see this definition of modal window user Interface</p>\n\n<blockquote>\n  <p><a href=\"https://en.wikipedia.org/wiki/Modal_window\" rel=\"nofollow noreferrer\">In user interface design for computer applications, a modal window is\n  a graphical control element subordinate to an application's main\n  window. It creates a mode that disables the main window but keeps it\n  visible, with the modal window as a child window in front of it. Users\n  must interact with the modal window before they can return to the\n  parent application.</a></p>\n</blockquote>\n\n<p>your requirement is not creating a second modal but</p>\n\n<ol>\n<li>If you want to only display some text or images on second popup use\nToast Message</li>\n<li>If you want to add second form place both on same modal.</li>\n<li>If you want something else let me know.</li>\n</ol>\n"}], "owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 892, "favorite_count": 0, "accepted_answer_id": 56933528, "answer_count": 1, "score": 0, "last_activity_date": 1562583789, "creation_date": 1562170886, "question_id": 56874415, "link": "https://stackoverflow.com/questions/56874415/open-ngx-smart-modal-without-disabling-the-background", "title": "Open ngx-smart-modal without disabling the background?", "body": "<p>I have 2 <code>ngx-smart-modals</code> that I am using to for adding a few features in my application. The first one contains a form and on clicking the \"Add\" button, a new modal opens up containing the recently added data from the form. something like this:\n<a href=\"https://i.stack.imgur.com/JBiwJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBiwJ.png\" alt=\"Picture\"></a></p>\n\n<p>(The modal \"Beh\" is the second modal that pop's up, \"beh\" is just a dummy text for now, and the positioning also needs to be changed so please ignore that for now :) )</p>\n\n<p>The problem that I have is that When I click \"Add\", the modal \"Beh\" disables the form at the background, but I want it to still be enabled for adding more data.</p>\n\n<p>Is there any property or a method that would help me achieve this? Something to disable the invisible layer on top of the form?</p>\n\n<p>My code:</p>\n\n<p><strong>detail component (the \"beh\" one)</strong>:</p>\n\n<pre><code>import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NgxSmartModalComponent } from 'ngx-smart-modal';\n\n@Component({\n  selector: 'app-detail-modal',\n  templateUrl: './detail-modal.component.html',\n  styleUrls: ['./detail-modal.component.scss']\n})\nexport class DetailModalComponent implements OnInit {\n\n  @ViewChild('detailModal') public detailModal: NgxSmartModalComponent;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.detailModal.dismissable = false;\n    this.detailModal.backdrop = false;\n    this.detailModal.escapable = false;\n    this.detailModal.isVisible();\n  }\n\n  resetData() {\n   // this.detailModal.setData(window.localStorage['feature']);\n  }\n\n}\n</code></pre>\n\n<p><strong>create modal (the form)</strong>:</p>\n\n<pre><code>import { Component, OnInit, ViewChild, ViewContainerRef, AfterContentInit } from '@angular/core';\nimport { TranslatePipe } from 'src/app/pipes/translate/translate.pipe';\nimport { DynamicTextFieldService } from 'src/app/services/dynamic-loading/dynamic-text-field/dynamic-text-field.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { DynamicDropdownService } from 'src/app/services/dynamic-loading/dynamic-dropdown/dynamic-dropdown.service';\nimport { featureMeta, platform } from 'src/app/components/modals/create-feature-modal/featureMeta';\nimport { DynamicTextAreaService } from 'src/app/services/dynamic-loading/dynamic-text-area/dynamic-text-area.service';\nimport { NgxSmartModalComponent, NgxSmartModalService } from 'ngx-smart-modal';\n\n@Component({\n  selector: 'app-create-feature-modal',\n  templateUrl: './create-feature-modal.component.html',\n  styleUrls: ['./create-feature-modal.component.scss']\n})\n\n/**\n* This class creates a featureModal component\n*/\nexport class CreateFeatureModalComponent implements OnInit, AfterContentInit {\n\n  /*constructor and other methods*/\n\n  /**\n  * initialize buildForm\n  */\n  ngOnInit() {\n    this.buildForm();\n  }\n\n\n  /**\n  * Add data (this is the opening function for the modal)\n  */\n  addData() {\n    this.ngxsmartmodal.getModal('detailModal').open();\n  }\n</code></pre>\n\n<p><strong>template for form</strong>:</p>\n\n<pre><code>&lt;app-detail-modal&gt;&lt;/app-detail-modal&gt;\n&lt;ngx-smart-modal #featureModal [identifier]=\"'featureModal'\"&gt;\n  &lt;h2 Align=\"center\"&gt;{{\"views[modal][feature][heading]\" | translate }}&lt;/h2&gt;\n  &lt;form [formGroup]=\"featureForm\"&gt;\n    &lt;div #name class='feature'&gt;&lt;/div&gt;\n    &lt;div #type class='feature'&gt;&lt;/div&gt;\n    &lt;div #platform class='feature'&gt;&lt;/div&gt;\n    &lt;div #detail class='feature'&gt;&lt;/div&gt;\n    &lt;app-button description=\"{{ 'views[modal][feature][button][submit]' | translate }}\" class=\"btn btn-primary btn-md submit\" (callFunction)=\"setData()\"&gt;&lt;/app-button&gt;\n    &lt;app-button description=\"{{ 'views[modal][feature][button][add]' | translate }}\" class=\"btn btn-primary btn-md submit\" (callFunction)=\"addData()\"&gt;&lt;/app-button&gt;\n    &lt;app-button description=\"{{ 'views[modal][feature][button][cancel]' | translate }}\" class=\"btn btn-danger btn-md cancel\" (callFunction)=\"featureModal.close()\"&gt;&lt;/app-button&gt;\n  &lt;/form&gt;\n&lt;/ngx-smart-modal&gt;\n</code></pre>\n\n<p><strong>template for detailcomponent</strong>:</p>\n\n<pre><code>&lt;ngx-smart-modal #detailModal [identifier]=\"'detailModal'\" (onOpen)=\"resetData()\"&gt;\n  &lt;div *ngIf=\"detailModal.hasData()\"&gt;\n    &lt;h3&gt;Beh&lt;/h3&gt;\n  &lt;/div&gt;\n&lt;/ngx-smart-modal&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1562170933, "post_id": 56874355, "comment_id": 100297180, "body": "Can you use built-in <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\">enum</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1562171696, "creation_date": 1562171696, "answer_id": 56874617, "question_id": 56874355, "link": "https://stackoverflow.com/questions/56874355/how-to-get-mapped-type-of-nested-property-in-array-item/56874617#56874617", "title": "How to get mapped type of nested property in array item?", "body": "<p>You just want to use a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup type</a> (also called \"indexed access type\") a few times to get the numeric-keyed elements from the array and then the <code>\"key\"</code>-keyed properties of those:</p>\n\n<pre><code>type GetKeys&lt;T extends readonly {key: any}[]&gt; = T[number]['key'];\n\ntype Keys = GetKeys&lt;typeof arr&gt;;\n// type Keys = \"one\" | \"two\" | \"three\"\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/MYewdgzgLgBAhgJwTAvDA2gKBjA3jAawFMBPALhgHJwjKAaGANzgBsBXIiygRkpgF862PIVJcoAdxD0mrDlwBMfQcPzFyVKAAsERWg2btOVAMzKhAXXgQYoSFADcmTFBIAHIjADiRKAGlSCAAeABUYIgAPKCIwABMbXThY8BYSPHUKODASfnQLAD5UGBD0MDYAWwAjIgQLdEp1SgsnF3dPAJIbNB9-QKDXDxAAM3gkfKcAegmYAfbAooAiGgWYAB8YBckQFfXNnT0FoA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 2576, "user_id": 289827, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/h6h7I.jpg?s=128&g=1", "display_name": "Martin \u017ddila", "link": "https://stackoverflow.com/users/289827/martin-%c5%bddila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14, "favorite_count": 0, "accepted_answer_id": 56874617, "answer_count": 1, "score": 0, "last_activity_date": 1562171696, "creation_date": 1562170651, "question_id": 56874355, "link": "https://stackoverflow.com/questions/56874355/how-to-get-mapped-type-of-nested-property-in-array-item", "title": "How to get mapped type of nested property in array item?", "body": "<pre class=\"lang-js prettyprint-override\"><code>const arr = [\n  { key: 'one', value: '1' },\n  { key: 'two', value: '2' },\n  { key: 'three', value: '3' },\n] as const;\n\ntype Keys = GetKeys&lt;typeof arr&gt;;\n</code></pre>\n\n<p>How to define <code>GetKeys</code> so that <code>Keys</code> would be be <code>'one' | 'two' | 'three'</code>?</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular6", "mat-table"], "answers": [{"tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": false, "score": 0, "last_activity_date": 1562318576, "creation_date": 1562318576, "answer_id": 56900208, "question_id": 56874020, "link": "https://stackoverflow.com/questions/56874020/angular-material-table-to-restart-index-count-for-lists-in-table-cell/56900208#56900208", "title": "Angular: material table to restart index count for lists in table cell", "body": "<p>From your question:</p>\n\n<ul>\n<li><code>mat-table</code> with multiple columns and rows </li>\n<li>for one of the columns, each cell contains a list of strings. </li>\n<li>For the list items being numbered by using index but the count just keeps incrementing in each subsequent row</li>\n<li>You <strong>wanted</strong> the count to restart from 1 for each particular cell/column </li>\n</ul>\n\n<p>relevant <strong>HTML</strong>:</p>\n\n<pre><code>&lt;table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\"&gt;\n\n  &lt;!--- Note that these columns can be defined in any order.\n  The actual rendered columns are set as a property on the row definition\" --&gt;\n\n  &lt;ng-container matColumnDef=\"index\"&gt;\n    &lt;th mat-header-cell *matHeaderCellDef&gt; No. &lt;/th&gt;\n    &lt;td mat-cell *matCellDef=\"let element; let j = index\"&gt; {{j+1}} &lt;/td&gt;\n  &lt;/ng-container&gt;\n\n  &lt;!-- Position Column --&gt;\n  &lt;ng-container matColumnDef=\"position\"&gt;\n    &lt;th mat-header-cell *matHeaderCellDef&gt; Position &lt;/th&gt;\n    &lt;td mat-cell *matCellDef=\"let element; let j = index\"&gt; \n      &lt;p *ngFor='let item of element.position;let i =index'&gt;\n        {{i+1}} - {{item}}\n      &lt;/p&gt;\n    &lt;/td&gt;\n  &lt;/ng-container&gt;\n\n  &lt;!-- Name Column --&gt;\n  &lt;ng-container matColumnDef=\"name\"&gt;\n    &lt;th mat-header-cell *matHeaderCellDef&gt; Name &lt;/th&gt;\n    &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.name}} &lt;/td&gt;\n  &lt;/ng-container&gt;\n\n  &lt;!-- Weight Column --&gt;\n  &lt;ng-container matColumnDef=\"weight\"&gt;\n    &lt;th mat-header-cell *matHeaderCellDef&gt; Weight &lt;/th&gt;\n    &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.weight}} &lt;/td&gt;\n  &lt;/ng-container&gt;\n\n  &lt;!-- Symbol Column --&gt;\n  &lt;ng-container matColumnDef=\"symbol\"&gt;\n    &lt;th mat-header-cell *matHeaderCellDef&gt; Symbol &lt;/th&gt;\n    &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.symbol}} &lt;/td&gt;\n  &lt;/ng-container&gt;\n\n  &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n  &lt;tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>relevant <strong>TS</strong>:</p>\n\n<pre><code>import {Component} from '@angular/core';\n\nexport interface PeriodicElement {\n  name: string;\n  position: string[];\n  weight: number;\n  symbol: string;\n}\n\nconst ELEMENT_DATA: PeriodicElement[] = [\n  {position: ['stuff 1', 'some stuff', 'some more stuff'] , name: 'Hydrogen', weight: 1.0079, symbol: 'H'},\n  {position: ['things 2', 'some things', 'some more things'], name: 'Helium', weight: 4.0026, symbol: 'He'},\n  {position: ['items 3', 'some items'], name: 'Lithium', weight: 6.941, symbol: 'Li'},\n  {position: ['stuff 4', 'some stuff' ], name: 'Beryllium', weight: 9.0122, symbol: 'Be'},\n  {position: ['stuff 5', 'some stuff', 'some more stuff'], name: 'Boron', weight: 10.811, symbol: 'B'},\n  {position: ['stuff 6', 'some stuff', 'some more stuff'], name: 'Carbon', weight: 12.0107, symbol: 'C'},\n  {position: ['stuff 7', 'some stuff', 'some more stuff'], name: 'Nitrogen', weight: 14.0067, symbol: 'N'},\n  {position: ['stuff 8', 'some stuff', 'some more stuff'], name: 'Oxygen', weight: 15.9994, symbol: 'O'},\n  {position: ['stuff 9', 'some stuff', 'some more stuff'], name: 'Fluorine', weight: 18.9984, symbol: 'F'},\n  {position: ['stuff 10', 'some stuff', 'some more stuff'], name: 'Neon', weight: 20.1797, symbol: 'Ne'},\n];\n\n/**\n * @title Basic use of `&lt;table mat-table&gt;`\n */\n@Component({\n  selector: 'table-basic-example',\n  styleUrls: ['table-basic-example.css'],\n  templateUrl: 'table-basic-example.html',\n})\nexport class TableBasicExample {\n  displayedColumns: string[] = ['index', 'position', 'name', 'weight', 'symbol'];\n  dataSource = ELEMENT_DATA;\n}\n</code></pre>\n\n<p>complete <a href=\"https://stackblitz.com/edit/angular-pybj6c\" rel=\"nofollow noreferrer\">working stackblitz here</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11329466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0e5a8a85dfe134eaf23034357ae89e8?s=128&d=identicon&r=PG&f=1", "display_name": "KortneyD", "link": "https://stackoverflow.com/users/11329466/kortneyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1489, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562318679, "creation_date": 1562169455, "last_edit_date": 1562318679, "question_id": 56874020, "link": "https://stackoverflow.com/questions/56874020/angular-material-table-to-restart-index-count-for-lists-in-table-cell", "title": "Angular: material table to restart index count for lists in table cell", "body": "<p>I have a mat-table with multiple columns and rows where for one of the columns, each cell contains a list of strings. I have the list items being numbered by using index but the count just keeps incrementing in each subsequent row. For example </p>\n\n<ol>\n<li>stuff</li>\n<li>more stuff</li>\n<li><p>even more stuff</p>\n\n<hr></li>\n<li><p>things</p></li>\n<li>other things</li>\n</ol>\n\n<p>with 1, 2 and 3 being in row 1 and 4 and 5 being in row 2</p>\n\n<p>What I want is the count/index to start over in each row, so like this</p>\n\n<ol>\n<li>stuff</li>\n<li>more stuff</li>\n<li><p>even more stuff</p>\n\n<hr></li>\n<li><p>things</p></li>\n<li>other things</li>\n</ol>\n\n<pre><code>&lt;ng-container matColumnDef='start'&gt;\n    &lt;th mat-header-cell *matHeaderCellDef&gt;Start&lt;/th&gt;\n    &lt;td mat-cell *matCellDef='let row; let i = index;'&gt;{{i+1}}:{{row.start}}&lt;/td&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p><strong>I want</strong> each row's list in that particular cell/column to start the count over from 1. </p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["reactjs", "typescript", "webpack", "react-select"], "comments": [{"owner": {"reputation": 161, "user_id": 5994540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8nyq5.png?s=128&g=1", "display_name": "Prvz", "link": "https://stackoverflow.com/users/5994540/prvz"}, "edited": false, "score": 1, "creation_date": 1562169808, "post_id": 56873991, "comment_id": 100296637, "body": "Did you install <code>@types&#47;react-select</code>?"}, {"owner": {"reputation": 303, "user_id": 568064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d158fd097bb3a1491b7c13e06f3b87c?s=128&d=identicon&r=PG", "display_name": "Kay Schneider", "link": "https://stackoverflow.com/users/568064/kay-schneider"}, "reply_to_user": {"reputation": 161, "user_id": 5994540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8nyq5.png?s=128&g=1", "display_name": "Prvz", "link": "https://stackoverflow.com/users/5994540/prvz"}, "edited": false, "score": 0, "creation_date": 1562169881, "post_id": 56873991, "comment_id": 100296676, "body": "Hi thanks for your question, yes i installed @types/react-select. i update my question with this information."}, {"owner": {"reputation": 303, "user_id": 568064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d158fd097bb3a1491b7c13e06f3b87c?s=128&d=identicon&r=PG", "display_name": "Kay Schneider", "link": "https://stackoverflow.com/users/568064/kay-schneider"}, "reply_to_user": {"reputation": 161, "user_id": 5994540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8nyq5.png?s=128&g=1", "display_name": "Prvz", "link": "https://stackoverflow.com/users/5994540/prvz"}, "edited": false, "score": 0, "creation_date": 1562175899, "post_id": 56873991, "comment_id": 100299478, "body": "Hi @Prvz , i found the problem.....  webstorm had generated an auto-import statement for the NoOptionsMessage. And anyway it has generated an import from import {NoOptionsMessage} from &quot;react-select/src/components/Menu&quot;; file.  So the error was generated mostly by myself, and maybe a littlebit by webstorm ^^"}], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 568064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d158fd097bb3a1491b7c13e06f3b87c?s=128&d=identicon&r=PG", "display_name": "Kay Schneider", "link": "https://stackoverflow.com/users/568064/kay-schneider"}, "is_accepted": false, "score": 1, "last_activity_date": 1562176677, "creation_date": 1562176677, "answer_id": 56875654, "question_id": 56873991, "link": "https://stackoverflow.com/questions/56873991/typescript-with-react-select-module-build-failed/56875654#56875654", "title": "Typescript with react-select module. Build failed", "body": "<h2>I solved the problem now, and i also generated it ;-) ( with support of Webstorm )</h2>\n\n<p>That was the problematic code line:</p>\n\n<pre><code>import {NoOptionsMessage} from \"react-select/src/components/Menu\";\n</code></pre>\n\n<p>Webstorm can give great support for import statements, but i think sometimes its good to check what webstorm has generated.    </p>\n\n<h3>shame on me ;-)</h3>\n"}, {"tags": [], "owner": {"reputation": 561, "user_id": 14526125, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhCI1_04GeaPDQfDwKQUeyqqnVSih3lL7V4vxFj=k-s128", "display_name": "Rajitha Udayanga", "link": "https://stackoverflow.com/users/14526125/rajitha-udayanga"}, "is_accepted": false, "score": 0, "last_activity_date": 1605934620, "creation_date": 1605934620, "answer_id": 64939982, "question_id": 56873991, "link": "https://stackoverflow.com/questions/56873991/typescript-with-react-select-module-build-failed/64939982#64939982", "title": "Typescript with react-select module. Build failed", "body": "<p>check your import statement and it must be like this.</p>\n<pre><code>import Select from &quot;react-select&quot;\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 568064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d158fd097bb3a1491b7c13e06f3b87c?s=128&d=identicon&r=PG", "display_name": "Kay Schneider", "link": "https://stackoverflow.com/users/568064/kay-schneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1215, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1605934620, "creation_date": 1562169394, "last_edit_date": 1562169954, "question_id": 56873991, "link": "https://stackoverflow.com/questions/56873991/typescript-with-react-select-module-build-failed", "title": "Typescript with react-select module. Build failed", "body": "<p>The error happens direct with webpack-dev server and when i try to generate a build.      </p>\n\n<p>After some research i added the option noImplicitAny to the ts-config. But this wont resolve my issue i have with the react-select module. </p>\n\n<p>I think i must be missing something in the typescript config or in the webpack config. Because i dont found a related issue with this module.   </p>\n\n<p>Maybe someone can give me a hint what i should change in the config or maybe im missing something inside the webpack config.<br>\nActually im new to typescript and react, maybe this is the main problem.     </p>\n\n<p>I added the config files and the console error below, maybe im missing something important.    </p>\n\n<p>Thanks for your support</p>\n\n<h3>versions</h3>\n\n<ul>\n<li>react-select: <strong>3.0.4</strong></li>\n<li>typescript: <strong>3.1.6</strong></li>\n<li>react: <strong>16.8.6</strong></li>\n<li>@types/react-select: <strong>3.0.0</strong></li>\n</ul>\n\n<h3>Error message from typescript:</h3>\n\n<pre><code>ERROR in ./node_modules/react-select/src/components/Menu.js 5:7\nModule parse failed: Unexpected token (5:7)\nYou may need an appropriate loader to handle this file type.\n| import {\n|   Component,\n&gt;   type Element as ReactElement,\n|   type ElementRef,\n|   type Node,\n</code></pre>\n\n<h3>The current webpack config:</h3>\n\n<p>webpack config for project</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nconst path = require('path');\nconst webpack = require('webpack');\nmodule.exports = {\n    entry: \"./src/index.tsx\",\n    output: {\n        filename: \"bundle.js\",\n        path: __dirname + \"/dist\"\n    },\n\n    // Enable sourcemaps for debugging webpack's output.\n    devtool: \"source-map\",\n\n    resolve: {\n        // Add '.ts' and '.tsx' as resolvable extensions.\n        extensions: [\".ts\", \".tsx\", \".js\", \".json\"]\n    },\n\n    module: {\n        rules: [\n\n            { test: /\\.tsx?$/, loader: \"awesome-typescript-loader\" , options: {\n                    cacheDirectory:false,\n                    plugins:['react-hot-loader/babel']\n                }},\n\n\n            { enforce: \"pre\", test: /\\.js$/, loader: \"source-map-loader\" }\n        ]\n    },\n\n\n    externals: {\n        \"react\": \"React\",\n        \"react-dom\": \"ReactDOM\"\n    },\n\n\n    //Dev server config section\n    devServer: {\n        contentBase: path.join(__dirname ),\n        compress: false,\n        watchContentBase: true,\n        watchOptions: {\n            aggregateTimeout: 300,\n            poll: 1000,\n            ignored: ['node_modules', 'build', 'dist'],\n        },\n        port: 9000,\n        host:\"0.0.0.0\",\n        hot:true\n      }\n};\n</code></pre>\n\n<h3>TS config:</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"compilerOptions\": {\n        \"outDir\": \"./dist/\",\n        \"sourceMap\": true,\n        \"noImplicitAny\": true,\n        \"module\": \"commonjs\",\n        \"target\": \"es5\",\n        \"jsx\": \"react\",\n        \"allowJs\": true,\n        \"skipLibCheck\": true,\n        \"esModuleInterop\": true,\n        \"allowSyntheticDefaultImports\": true,\n        \"strict\": true,\n        \"forceConsistentCasingInFileNames\": true,\n        \"moduleResolution\": \"node\",\n        \"resolveJsonModule\": true,\n        \"isolatedModules\": false,\n        \"noEmit\": true,\n        \"lib\": [\n            \"dom\",\n            \"dom.iterable\",\n            \"esnext\",\n            \"es2017\"\n          ]\n    },\n    \"include\": [\n        \"./src/**/*\"\n    ]\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 1311, "user_id": 1829881, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8ac9b482d864f8d9de57834b72da757b?s=128&d=identicon&r=PG", "display_name": "greg", "link": "https://stackoverflow.com/users/1829881/greg"}, "edited": false, "score": 0, "creation_date": 1562170028, "post_id": 56873966, "comment_id": 100296755, "body": "console.log(&#39;***&#39; + this.route.snapshot.params.id); &gt;&gt;&gt;&gt;23   , but i think I am reading that snapshot is not really what you want to use.  Visit hero 21 and 23 would be cached..."}, {"owner": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "edited": false, "score": 1, "creation_date": 1562170247, "post_id": 56873966, "comment_id": 100296856, "body": "how is your url constructed?  Are you using a querystring param?  What kind of routing mechanism do you have set up?  You constructing your URL with <code>routerLink</code>?  Need more info..."}, {"owner": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "edited": false, "score": 1, "creation_date": 1562170397, "post_id": 56873966, "comment_id": 100296918, "body": "btw, you can set up your url params to subscribe to an observable if you think they&#39;re ever going to change..."}, {"owner": {"reputation": 1311, "user_id": 1829881, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8ac9b482d864f8d9de57834b72da757b?s=128&d=identicon&r=PG", "display_name": "greg", "link": "https://stackoverflow.com/users/1829881/greg"}, "reply_to_user": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "edited": false, "score": 0, "creation_date": 1562170646, "post_id": 56873966, "comment_id": 100297036, "body": "@Blair Holmes   I posted the url and the Postman response in the question. Is that what you are asking for?     <a href=\"http://192.168.1.125:4200/hero-detail/23\" rel=\"nofollow noreferrer\">192.168.1.125:4200/hero-detail/23</a>"}, {"owner": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "edited": false, "score": 1, "creation_date": 1562172109, "post_id": 56873966, "comment_id": 100297745, "body": "so to use your <code>id</code>, pop it off either with the snapshot or subscribe to an observable like I said in my last comment.  Then pass that into your service and do whatever you need to with the data returned."}, {"owner": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "edited": false, "score": 1, "creation_date": 1562178305, "post_id": 56873966, "comment_id": 100300521, "body": "fwiw - the reason I asked about how your url was being constructed is because whatever name you give your parameter in your router matters to retrieving that paramter&#39;s value on the component..."}, {"owner": {"reputation": 1311, "user_id": 1829881, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8ac9b482d864f8d9de57834b72da757b?s=128&d=identicon&r=PG", "display_name": "greg", "link": "https://stackoverflow.com/users/1829881/greg"}, "reply_to_user": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "edited": false, "score": 0, "creation_date": 1562178837, "post_id": 56873966, "comment_id": 100300747, "body": "@Blair Holmes. Understood, really appreciate the help. here is the relevant route { path: &#39;hero-detail/:id&#39;, component: HeroDetailComponent },"}], "answers": [{"tags": [], "owner": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "is_accepted": true, "score": 2, "last_activity_date": 1562172375, "creation_date": 1562172375, "answer_id": 56874754, "question_id": 56873966, "link": "https://stackoverflow.com/questions/56873966/angular-sending-an-url-parm-to-a-webservice/56874754#56874754", "title": "Angular Sending an URL parm to a webservice", "body": "<p>from my comment on the OP - here's an example of the snapshot route.  If the <code>id</code> is dynamic though, you should use an <code>observable&lt;&gt;</code></p>\n\n<pre><code>ngOnInit(): void {\n    let id = +this.route.snapshot.paramMap.get('id'); // coerce your id to a number since that's what your service expects\n        this.route.params\n        .switchMap((params: Params) =&gt; this.heroService.getHero(id))\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1311, "user_id": 1829881, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8ac9b482d864f8d9de57834b72da757b?s=128&d=identicon&r=PG", "display_name": "greg", "link": "https://stackoverflow.com/users/1829881/greg"}, "is_accepted": false, "score": 0, "last_activity_date": 1562178790, "creation_date": 1562178790, "answer_id": 56876107, "question_id": 56873966, "link": "https://stackoverflow.com/questions/56873966/angular-sending-an-url-parm-to-a-webservice/56876107#56876107", "title": "Angular Sending an URL parm to a webservice", "body": "<p>found the answer here... </p>\n\n<p><a href=\"https://scotch.io/tutorials/handling-route-parameters-in-angular-v2\" rel=\"nofollow noreferrer\">https://scotch.io/tutorials/handling-route-parameters-in-angular-v2</a></p>\n\n<pre><code>ngOnInit(): void {\n    var hId: Number;\n    this.route.paramMap.subscribe(params =&gt; {\n      console.log( + params.get('id'));\n      hId = params.get('id');\n    });\nconsole.log(  hId);\n\n        this.route.params\n        .switchMap((params: Params) =&gt; this.heroService.getHero(+params.get('id')))\n    }\n</code></pre>\n\n<p>Not sure which version of Angular the TOH was on when I went through it.  I guess [  ] was a valid access syntax at some point. </p>\n"}], "owner": {"reputation": 1311, "user_id": 1829881, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/8ac9b482d864f8d9de57834b72da757b?s=128&d=identicon&r=PG", "display_name": "greg", "link": "https://stackoverflow.com/users/1829881/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 56874754, "answer_count": 2, "score": 2, "last_activity_date": 1562178790, "creation_date": 1562169276, "question_id": 56873966, "link": "https://stackoverflow.com/questions/56873966/angular-sending-an-url-parm-to-a-webservice", "title": "Angular Sending an URL parm to a webservice", "body": "<p>Created a backend for the TOH frontend. GetHeroes() is working fine, so the basic plumbing is in place. </p>\n\n<p>Having troubles passing an id into GetHero(id: number)</p>\n\n<p>Postman takes the following url and returns</p>\n\n<pre><code>http://192.168.1.125:4200/hero-detail/23  &gt;&gt;&gt;&gt;    { \"id\": 23, \"name\": \"Celeritas1\" }\n</code></pre>\n\n<p><strong>Here is the ngOnInit from hero-detail.component.ts</strong></p>\n\n<pre><code> ngOnInit(): void {\n    console.log('***' + this.route.params[0]);\n        this.route.params\n        .switchMap((params: Params) =&gt; this.heroService.getHero(+params['id']))\n    }\n</code></pre>\n\n<p><strong>Here is the GetHero() function from hero.service.ts</strong> \nThe console.log is does not seem to be getting called. \n I am not getting an error in the web console or the ng command line window</p>\n\n<pre><code>private heroesUrl = 'http://localhost:4300/api/heroes';  // URL to web api\n\n getHero(id: number): Observable&lt;Hero&gt; {\n    console.log(\"enter service.getHero\");\n   const url = `${this.heroesUrl}/${id}`;\n    return this.http.get&lt;Hero&gt;(url).pipe(\n      tap(_ =&gt; this.log(`fetched hero id=${id}`)),\n      catchError(this.handleError&lt;Hero&gt;(`getHero id=${id}`))\n    );\n  }\n</code></pre>\n\n<p>Playing w/ the console.log in ngOnInit statement... </p>\n\n<pre><code> console.log('***' + this.route.params[0]);     &gt;&gt;&gt;    ***undefined\n\nconsole.log('***' + this.route.params['id']);     &gt;&gt;&gt;    ***undefined\n\nconsole.log('***' + this.route.params );  &gt;&gt;&gt;  ***[Object][Object]\n</code></pre>\n\n<p><strong>My question is:  It appears that the statement starting w/ switchMap is erroring out and not calling the service.  What could I try to correct the error.   And/or  how can i reference the Param array using console.log to further diagnose the issue.</strong> </p>\n"}, {"tags": ["typescript", "cucumber"], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 10786737, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oJfChGYNXgc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g2K1I7M48V5HDNJTItCxn27WdF8w/mo/photo.jpg?sz=128", "display_name": "Milan Smol&#237;k", "link": "https://stackoverflow.com/users/10786737/milan-smol%c3%adk"}, "is_accepted": false, "score": 0, "last_activity_date": 1562229144, "creation_date": 1562229144, "answer_id": 56883744, "question_id": 56873582, "link": "https://stackoverflow.com/questions/56873582/how-to-use-typescript-path-aliases-in-cucumber/56883744#56883744", "title": "How to use typescript Path aliases in Cucumber?", "body": "<p>Turns out I was using <code>cucumber.js</code> file at root as config, which was interfering with <code>tsconfig-paths/register</code>: <code>tsconfig</code> then picked up the <code>cucumber.js</code> file for <code>from 'cucumber'</code>, instead of the cucumber module.</p>\n\n<p>So the fix is to write all the <code>--require-module</code> options to the command line instead</p>\n"}], "owner": {"reputation": 89, "user_id": 10786737, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oJfChGYNXgc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g2K1I7M48V5HDNJTItCxn27WdF8w/mo/photo.jpg?sz=128", "display_name": "Milan Smol&#237;k", "link": "https://stackoverflow.com/users/10786737/milan-smol%c3%adk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562229144, "creation_date": 1562167940, "question_id": 56873582, "link": "https://stackoverflow.com/questions/56873582/how-to-use-typescript-path-aliases-in-cucumber", "title": "How to use typescript Path aliases in Cucumber?", "body": "<p>I need to use Cucumber in a project that uses path aliasing. As soon as I would import one of the path aliased modules, I get an error</p>\n\n<p>I have tried solution in this <a href=\"https://stackoverflow.com/a/55806211/10786737\">answer</a>, but I am running into another problem: Whenever I use the </p>\n\n<pre><code>   --require-module tsconfig-paths/register \\\n</code></pre>\n\n<p>part, I suddenly get </p>\n\n<pre><code>    TypeError: cucumber_1.Given is not a function\n</code></pre>\n\n<p>error whenever I try to run the features. </p>\n\n<p>(The error changes to \n    <code>TypeError: Given is not a function</code>\n when I use the <code>const { Given } = require('cucumber')</code> syntax)</p>\n\n<p>Is there any other solution for path aliasing in Cucumber, or is there a fix to the <code>is not a function</code> problem?</p>\n"}, {"tags": ["javascript", "c#", "typescript", "asp.net-core", "blazor"], "answers": [{"comments": [{"owner": {"reputation": 1939, "user_id": 162641, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/edee6bd31de7122d04f647e5b9476dfa?s=128&d=identicon&r=PG", "display_name": "Darragh", "link": "https://stackoverflow.com/users/162641/darragh"}, "edited": false, "score": 0, "creation_date": 1604524781, "post_id": 56874681, "comment_id": 114376739, "body": "where is that Json(...) method coming from?"}, {"owner": {"reputation": 71, "user_id": 8865131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f078355313a30d3d4df2edf5486181a?s=128&d=identicon&r=PG&f=1", "display_name": "Vogel T.", "link": "https://stackoverflow.com/users/8865131/vogel-t"}, "reply_to_user": {"reputation": 1939, "user_id": 162641, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/edee6bd31de7122d04f647e5b9476dfa?s=128&d=identicon&r=PG", "display_name": "Darragh", "link": "https://stackoverflow.com/users/162641/darragh"}, "edited": false, "score": 2, "creation_date": 1604526289, "post_id": 56874681, "comment_id": 114377251, "body": "NewtonsoftJson or any other library that converts objects to Json format"}], "tags": [], "owner": {"reputation": 71, "user_id": 8865131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f078355313a30d3d4df2edf5486181a?s=128&d=identicon&r=PG&f=1", "display_name": "Vogel T.", "link": "https://stackoverflow.com/users/8865131/vogel-t"}, "is_accepted": true, "score": 3, "last_activity_date": 1562172042, "creation_date": 1562172042, "answer_id": 56874681, "question_id": 56873527, "link": "https://stackoverflow.com/questions/56873527/using-jsinterop-to-pass-object-to-javascript-results-in-empty-object/56874681#56874681", "title": "Using JSInterop to pass object to JavaScript results in empty object", "body": "<p>Can you pass it as a JsonResult or JSON string? </p>\n\n<pre><code>MapOptions options = new MapOptions(\"map\", center, 8);\nJSRuntime.InvokeAsync&lt;Task&gt;(\"loadMap\", Json(options));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>MapOptions options = new MapOptions(\"map\", center, 8);\nvar result = new JavaScriptSerializer().Serialize(options);\nJSRuntime.InvokeAsync&lt;Task&gt;(\"loadMap\", result);\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 2687619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9f67f74c22e05e649e50445e37b465c?s=128&d=identicon&r=PG&f=1", "display_name": "galen", "link": "https://stackoverflow.com/users/2687619/galen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1423, "favorite_count": 0, "accepted_answer_id": 56874681, "answer_count": 1, "score": 2, "last_activity_date": 1562172042, "creation_date": 1562167765, "question_id": 56873527, "link": "https://stackoverflow.com/questions/56873527/using-jsinterop-to-pass-object-to-javascript-results-in-empty-object", "title": "Using JSInterop to pass object to JavaScript results in empty object", "body": "<p>Within ASP.Net Core I'm trying to build basic bindings for Google Maps from C# code. Using JSInterop I can successfully pass strings to JavaScript functions but when I try to pass more complex objects, the object appears empty in the JavaScript function.</p>\n\n<p>I've partly followed <a href=\"https://itnext.io/using-bing-maps-in-blazor-with-jsinterop-and-typescript-90e888e0e2fd\" rel=\"nofollow noreferrer\">this tutorial</a> and modified it to use Google Maps rather than Bing Maps.</p>\n\n<p>As in the tutorial, I've found <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/googlemaps\" rel=\"nofollow noreferrer\">TypeScript definitions</a> for Google Maps to help code the bindings.</p>\n\n<p>I have the following razor file, which should load a map when the user clicks the button:</p>\n\n<pre><code>@page \"/sitemapper\"\n@inherits SiteMapperBase\n\n&lt;h3&gt;Map&lt;/h3&gt;\n\n&lt;div id=\"map\" style=\"position: relative; width: 100%; height: 70vh;\"&gt;&lt;/div&gt;\n\n&lt;button class=\"btn btn-primary\" @onclick=\"@OpenMap\"&gt;Click me&lt;/button&gt;\n\n@code {\nvoid OpenMap()\n{\n    LoadMap();\n}\n}\n</code></pre>\n\n<p>The corresponding <code>.razor.cs</code> file has the following <code>LoadMap</code> method:</p>\n\n<pre><code>        protected async Task LoadMap()\n        {\n            LatLng center = new LatLng(40.417268, -3.696050);\n            MapOptions options = new MapOptions(\"map\", center, 8);\n            await JSRuntime.InvokeAsync&lt;Task&gt;(\"loadMap\", options);\n        }\n</code></pre>\n\n<p>The C# classes in the above code are defined here:</p>\n\n<pre><code>public class MapOptions\n    {\n        public string elementId;\n        public LatLng center;\n        public int zoom;\n\n        public MapOptions(string elementId, LatLng center, int zoom)\n        {\n            this.elementId = elementId;\n            this.center = center;\n            this.zoom = zoom;\n        }\n    }\n\n    public class LatLng\n    {\n        public double lat;\n        public double lng;\n\n        public LatLng(double latitude, double longitude)\n        {\n            lat = latitude;\n            lng = longitude;\n        }\n    }\n</code></pre>\n\n<p>On the JavaScript/TypeScript side, I have defined the following interfaces, which match the C# classes:</p>\n\n<pre><code>interface GoogleMapOptionsInterface {\n    center: GoogleMapLatLngInterface,\n    zoom: number,\n    elementId: string\n}\n\ninterface GoogleMapLatLngInterface {\n    lat: number,\n    lng: number\n}\n</code></pre>\n\n<p>Finally, I have a GoogleTsInterop.ts file, with my TypeScript code:</p>\n\n<pre><code>/// &lt;reference path=\"types/index.d.ts\" /&gt;\n/// &lt;reference path=\"interfaces/GoogleMapsInterfaces.ts\" /&gt;\n\nlet googleMap: GoogleMap;\n\nclass GoogleMap {\n    map: google.maps.Map;\n\n    constructor(options: GoogleMapOptionsInterface) {\n        console.log(\"constructor\");\n        var mapElement = document.getElementById(options.elementId);\n        this.map = new google.maps.Map(mapElement, {\n            center: options.center,\n            zoom: options.zoom\n        });\n    }\n}\n\nfunction loadMap(options: GoogleMapOptionsInterface) {\n    new GoogleMap(options);\n}\n</code></pre>\n\n<p>When I try run this, the map does not load, and looking in the browsers debugger shows me that the <code>options</code> object in the <code>loadMap(...)</code> function is an empty object (see <a href=\"https://i.stack.imgur.com/oyFaI.png\" rel=\"nofollow noreferrer\">screenshot</a>) (sorry, I don't have enough reputation to put the image in directly).</p>\n\n<p>If I change my code I can successfully pass a string with the following: <code>await JSRuntime.InvokeAsync&lt;Task&gt;(\"loadMap\", \"test\");</code>. However I want to pass the object.</p>\n\n<p>Is there a way to do this? What am I doing wrong? Thanks</p>\n"}, {"tags": ["typescript", "compiler-construction", "compiler-optimization"], "answers": [{"comments": [{"owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 0, "creation_date": 1562167751, "post_id": 56873358, "comment_id": 100295556, "body": "Sorry, I&#39;m still confused. Did you see the two bullet points at the bottom?   - (1) JS VMs already intern strings -  (2) The code doesn&#39;t seem to save on string creation. One must create a string (text) in order to look up the same string in the map. I guess if (1) isn&#39;t true, then the answer to (2) could be that the extra strings will get GC&#39;d so eventually there will be memory savings?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 0, "creation_date": 1562168040, "post_id": 56873358, "comment_id": 100295731, "body": "@MaxHeiber JS VMs intern <b>some</b> strings (literals only, AFAIK). If you read and parse a file (what compilers do), all the tokens you read won&#39;t be interned. And yes, the strings returned by the two calls to readFromFile() will be GCed."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 0, "creation_date": 1562168153, "post_id": 56873358, "comment_id": 100295798, "body": "See <a href=\"https://stackoverflow.com/questions/5276915/do-common-javascript-implementations-use-string-interning\" title=\"do common javascript implementations use string interning\">stackoverflow.com/questions/5276915/&hellip;</a>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 1, "creation_date": 1562168380, "post_id": 56873358, "comment_id": 100295914, "body": "BTW, this also probably helps on performance, since every equality check between two equal interned strings can results in an identity check (i.e. both pointers are equal)."}, {"owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 0, "creation_date": 1562180910, "post_id": 56873358, "comment_id": 100301690, "body": "I saw the other post you linked to before (<a href=\"https://stackoverflow.com/questions/5276915/do-common-javascript-implementations-use-string-interning\" title=\"do common javascript implementations use string interning\">stackoverflow.com/questions/5276915/&hellip;</a>). No one cites any sources or links to source code."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 2, "creation_date": 1562198677, "post_id": 56873358, "comment_id": 100306894, "body": "@max: which source code should be quoted? Afaik, nothing in the ES standard requires that strings be interned, so the fact that interning is done or not by some implementation proves nothing about other ones. Also, you assert that JS does intern strings, but you don&#39;t provide a source or link either :-) Just sayin&#39;"}, {"owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1562256372, "post_id": 56873358, "comment_id": 100329603, "body": "@rici point taken, updated to add &#39;I think&#39;. The source that (ideally) would be quoted is at least one of V8, SpiderMonkey, Chakra, or JSCore source."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 1, "last_activity_date": 1562167243, "creation_date": 1562167243, "answer_id": 56873358, "question_id": 56873259, "link": "https://stackoverflow.com/questions/56873259/how-does-identifier-interning-work-in-the-typescript-compiler/56873358#56873358", "title": "How does identifier interning work in the TypeScript compiler?", "body": "<p>It saves on memory. Take the following example:</p>\n\n<pre><code>const s1 = readFromFile();\nconst s2 = readFromFile();\nconst s3 = readFromFile();\n</code></pre>\n\n<p>How many different string objects do you have in memory? 3, but all contain the same characters.</p>\n\n<p>Now take the following:</p>\n\n<pre><code>const s1 = internIdentifier(readFromFile());\nconst s2 = internIdentifier(readFromFile());\nconst s3 = internIdentifier(readFromFile());\n</code></pre>\n\n<p>How many different string objects do you have in memory? Just 1. All three variables refer to the same string object.</p>\n"}], "owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562256273, "creation_date": 1562166865, "last_edit_date": 1562256273, "question_id": 56873259, "link": "https://stackoverflow.com/questions/56873259/how-does-identifier-interning-work-in-the-typescript-compiler", "title": "How does identifier interning work in the TypeScript compiler?", "body": "<p>in the TypeScript compiler, <a href=\"https://github.com/microsoft/TypeScript/blob/8454ef1/src/compiler/parser.ts#L1353\" rel=\"nofollow noreferrer\">src/compiler/parser.ts</a> contains the following, where <code>identifiers</code> is a <code>Map</code> of strings to strings:</p>\n\n<pre><code>function internIdentifier(text: string): string {\n    let identifier = identifiers.get(text);\n    if (identifier === undefined) {\n       identifiers.set(text, identifier = text);\n    }\n    return identifier;\n}\n</code></pre>\n\n<p>This has the same behavior as the identify function for strings:</p>\n\n<p><code>const id = (text: string) =&gt; text</code></p>\n\n<p>I assume it's there for performance. How could this improve performance? I'm asking because:</p>\n\n<ul>\n<li>I think JS VMs already intern strings (but haven't found evidence yet)</li>\n<li>the code doesn't seem to save on string creation. One must create a string (<code>text</code>) in order to look up the same string in the map.</li>\n</ul>\n"}, {"tags": ["angular", "typescript", "angular-elements"], "owner": {"reputation": 1232, "user_id": 5671595, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BP1CrbVNLEo/AAAAAAAAAAI/AAAAAAAAALE/pmJWtJM1n6U/photo.jpg?sz=128", "display_name": "Abdul Basit", "link": "https://stackoverflow.com/users/5671595/abdul-basit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2518, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562213295, "creation_date": 1562165908, "last_edit_date": 1562213295, "question_id": 56872969, "link": "https://stackoverflow.com/questions/56872969/no-value-accessor-for-form-control-with-name-email", "title": "No value accessor for form control with name: &#39;email&#39;", "body": "<p>I have tried a lot of solutions from <strong>Stack Overflow</strong>, but none of the solutions worked.</p>\n\n<p>I am using <code>ControlValueAccessor</code> and creating a reusable <code>WebComponent</code> so that I can access the component or element in other project.</p>\n\n<p>For this, I created a <code>JS</code> file which I <code>imported</code> in other Angular Project, but its showing me error</p>\n\n<p>No value accessor for form control with name: 'email'</p>\n\n<p>I also tried to add <code>ngDefaultControl</code> to the custom input component because of this my input disappears.\n<br/></p>\n\n<p><strong>CustomEmailComponent.html</strong></p>\n\n<pre><code>&lt;form  [formGroup]=\"emailForm\"&gt;\n    &lt;input formControlName=\"email\" (input)=\"onChange($event.target.value)\" (blur)=\"onTouch()\" [placeholder]=\"placeholder\" name=\"email\"/&gt;\n    &lt;div *ngIf=\"formName.email.errors\" class=\"invalid-feedback\"&gt;\n        &lt;div *ngIf=\"formName.email.errors.required\"&gt;Email is required&lt;/div&gt;\n        &lt;div *ngIf=\"formName.email.errors.email\"&gt;Email must be a valid email address&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>CustomEmailComponent.ts</strong></p>\n\n<pre><code>import { Component, forwardRef, Input, OnInit,ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, FormGroup, FormBuilder, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'custom-email',\n  templateUrl: './custom-email.component.html',\n  styleUrls: ['./custom-email.component.scss'],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(()=&gt; CustomEmailComponent),\n    multi: true\n  }],\n  encapsulation: ViewEncapsulation.Native\n})\nexport class CustomEmailComponent implements OnInit, ControlValueAccessor {\n  value= \"\";\n  email = \"\";\n  @Input() placeholder;\n  emailForm: FormGroup;\n\n  onChange: (val:string) =&gt; void\n  onTouch: () =&gt; void\n\n  writeValue(val: string): void {\n    this.value = val;\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouch = fn;\n  }\n\n  setDisabledState?(isDisabled: boolean): void {}\n\n  constructor(private fb: FormBuilder) {\n    this.emailForm = this.fb.group({\n      email: ['',[Validators.required,Validators.email]]\n    });\n  }\n\n  get formName() { return this.emailForm.controls; }\n\n  ngOnInit() {}\n}\n</code></pre>\n\n<p><strong>AppModule</strong></p>\n\n<pre><code>@NgModule({\n  declarations: [\n    AppComponent,\n    CustomEmailComponent\n  ],\n  imports: [\n    BrowserModule,\n    ReactiveFormsModule,\n    FormsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent],\n  entryComponents: [CustomEmailComponent],\n})\nexport class AppModule {\n  constructor(private injector: Injector) {}\n\n  ngDoBootstrap() {\n    // using createCustomElement from angular package it will convert angular component to stander web component\n    const el = createCustomElement(CustomEmailComponent, {\n      injector: this.injector\n    });\n    // using built in the browser to create your own custome element name\n    customElements.define('custom-email', el);\n  }\n }\n</code></pre>\n\n<p>Below is the code of Other Angular Project</p>\n\n<p><strong>HTML File</strong></p>\n\n<pre><code>&lt;form [formGroup]=\"userForm\"&gt;\n  &lt;input formControlName=\"name\" placeholder=\"Your name\"&gt;\n    &lt;div *ngIf=\"f.name.errors\" class=\"invalid-feedback\"&gt;\n      &lt;div *ngIf=\"f.name.errors.required\"&gt;Name is required&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;br/&gt;\n  &lt;custom-email formControlName=\"email\" placeholder=\"Your email\"&gt;&lt;/custom-email&gt;\n  &lt;button type=\"submit\" [disabled]=\"userForm.invalid\" (click)=\"onSubmit(userForm)\"&gt;\n    Send\n  &lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>Index.html</strong></p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;ElementsHolder&lt;/title&gt;\n  &lt;base href=\"/\"&gt;\n\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n  &lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;app-root&gt;&lt;/app-root&gt;\n&lt;script type=\"text/javascript\" src=\"assets/email-element.js\"&gt;&lt;/script&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 0, "creation_date": 1562166808, "post_id": 56872665, "comment_id": 100295064, "body": "What&#39;s the desired behavior? It&#39;s certainly possible to make renderBook accept a wider range of ListRenderItems, but if you do so <code>renderAnyBook({ a: &#39;&#39; })</code> will become an error, since <code>{ a: &#39;&#39; }</code> will only fit a <code>ListRenderItem&lt;CommonBook&gt;</code>, not something like <code>ListRenderItem&lt;GoodBook&gt;</code>"}, {"owner": {"reputation": 21, "user_id": 5507373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ontsh.jpg?s=128&g=1", "display_name": "Bardiamist", "link": "https://stackoverflow.com/users/5507373/bardiamist"}, "reply_to_user": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 0, "creation_date": 1562167021, "post_id": 56872665, "comment_id": 100295169, "body": "I want to have renderBook function which will take renderGoodBook or renderBadBook without errors"}, {"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 0, "creation_date": 1562167067, "post_id": 56872665, "comment_id": 100295191, "body": "Ok. And what do you want to pass into renderGoodBook or renderBadBook? Passing in <code>{ a: &#39;&#39; }</code> will be an error, because that is not a goodBook/badBook."}], "answers": [{"tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": false, "score": 0, "last_activity_date": 1562167644, "creation_date": 1562167644, "answer_id": 56873483, "question_id": 56872665, "link": "https://stackoverflow.com/questions/56872665/type-check-with-enabled-strictfunctiontypes/56873483#56873483", "title": "Type check with enabled StrictFunctionTypes", "body": "<p>To make renderBook work with a variety of render functions, while still enforcing type safety, you can turn it into a generic:</p>\n\n<pre><code>const renderBook = &lt;T extends CommonBook&gt;(renderAnyBook: ListRenderItem&lt;T&gt;) =&gt; \n  renderAnyBook({ a: '' });\n</code></pre>\n\n<p>However, if you do this, you'll find an error: You're calling <code>renderAnyBook({ a: '' })</code>, but that would only work if the function was called with a <code>ListRenderItem&lt;CommonBook&gt;</code>. If called with a <code>ListRenderItem&lt;GoodBook&gt;</code>, for example, then you need to pass a GoodBook into renderAnyBook, and <code>{ a: '' }</code> is not a GoodBook.</p>\n\n<p>As best i can tell from the information provided, this is typescript doing its job to point out that your code has a bug. The function as written isn't calling renderAnyBook correctly and will need to be modified. The exact modifications i can't tell without more info. Perhaps you need to loosen the types on GoodBook/BadBook so that the extra properties are optional. </p>\n"}], "owner": {"reputation": 21, "user_id": 5507373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ontsh.jpg?s=128&g=1", "display_name": "Bardiamist", "link": "https://stackoverflow.com/users/5507373/bardiamist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562167644, "creation_date": 1562165057, "question_id": 56872665, "link": "https://stackoverflow.com/questions/56872665/type-check-with-enabled-strictfunctiontypes", "title": "Type check with enabled StrictFunctionTypes", "body": "<p>Is impossible to type check this code with enabled strictFunctionTypes?</p>\n\n<pre><code>interface CommonBook {\n    a: string;\n}\n\ninterface GoodBook extends CommonBook {\n    b: string;\n}\n\ninterface BadBook extends CommonBook {\n    c: string;\n}\n\ntype ListRenderItem&lt;ItemT&gt; = (item: ItemT) =&gt; null;\n\nconst renderBook = (renderAnyBook: ListRenderItem&lt;CommonBook&gt;) =&gt; renderAnyBook({ a: '' });\n\nconst renderGoodBook: ListRenderItem&lt;GoodBook&gt; = () =&gt; null;\n\nrenderBook(renderGoodBook);\n\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20CommonBook%20%7B%0D%0A%20%20%20%20a%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20GoodBook%20extends%20CommonBook%20%7B%0D%0A%20%20%20%20b%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20BadBook%20extends%20CommonBook%20%7B%0D%0A%20%20%20%20c%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Atype%20ListRenderItem%3CItemT%3E%20%3D%20(item%3A%20ItemT)%20%3D%3E%20null%3B%0D%0A%0D%0Aconst%20renderBook%20%3D%20(renderAnyBook%3A%20ListRenderItem%3CCommonBook%3E)%20%3D%3E%20renderAnyBook(%7B%20a%3A%20&#39;&#39;%20%7D)%3B%0D%0A%0D%0Aconst%20renderGoodBook%3A%20ListRenderItem%3CGoodBook%3E%20%3D%20()%20%3D%3E%20null%3B%0D%0A%0D%0ArenderBook(renderGoodBook)%3B%0D%0A\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}, {"tags": ["angularjs", "visual-studio", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2393, "user_id": 256646, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/jl1hX.jpg?s=128&g=1", "display_name": "hoeni", "link": "https://stackoverflow.com/users/256646/hoeni"}, "is_accepted": false, "score": 0, "last_activity_date": 1562226823, "creation_date": 1562226823, "answer_id": 56883146, "question_id": 56872655, "link": "https://stackoverflow.com/questions/56872655/typescript-error-angular-has-no-exported-member-route/56883146#56883146", "title": "Typescript error &quot;Angular has no exported member &#39;route&#39;&quot;", "body": "<p>When you remove the importing of angular in the route definitions, there is no angular to put the route definitions into, I suppose.</p>\n\n<p>I'm not sure if the setup you describe is possible. Even if it is, you will surely find plenty of problems like this. Setting up a simple Webpack environment with Angular 1 and Typescript would be much easier.</p>\n"}], "owner": {"reputation": 639, "user_id": 518404, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4ddbefe907381362f772e07df96360c6?s=128&d=identicon&r=PG", "display_name": "Quintonn", "link": "https://stackoverflow.com/users/518404/quintonn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562226823, "creation_date": 1562165027, "last_edit_date": 1592644375, "question_id": 56872655, "link": "https://stackoverflow.com/questions/56872655/typescript-error-angular-has-no-exported-member-route", "title": "Typescript error &quot;Angular has no exported member &#39;route&#39;&quot;", "body": "<p>I am trying to use Typescript definitions for the latest Angular and Angular-Route from <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/\" rel=\"nofollow noreferrer\">DefinitelyType</a> for Angular 1.7.8.</p>\n<p>I prefer Angular 1 over 2.</p>\n<p>I am attempting to setup TypeScript in Visual Studio 2019 without any module loaders or package managers etc. I've just added the .d.ts files into /scripts/typings.</p>\n<p>I have 2 files, app.module.ts and app.route.ts. The app.module.ts has no errors and generates a js file.</p>\n<p>My app.route.ts file looks like this:</p>\n<pre><code>/// &lt;reference path=&quot;typings/angular/angular.d.ts&quot; /&gt;\n/// &lt;reference path=&quot;typings/angular/angular-route.d.ts&quot; /&gt;\n\nmodule MyApplication\n{\n&quot;use strict&quot;;\n\nfunction routes($routeProvider: ng.route.IRouteProvider)\n{\n    $routeProvider\n       .when(&quot;/home&quot;, {\n            templateUrl: &quot;/scripts/app/home/home.html&quot;\n        })\n        .otherwise({\n            redirectTo: &quot;/home&quot;\n        });\n}\n\nroutes.$inject = [&quot;$routeProvider&quot;]\n\nangular\n    .module(&quot;MyApplication&quot;)\n    .config(routes);\n</code></pre>\n<p>}</p>\n<p>But I see this error and no app.route.js file is generated:</p>\n<pre><code> Namespace 'angular' has no exported member 'route'.\n</code></pre>\n<p>Because I'm not using an module loader, i have to comment out this line in angular-route.d.ts:</p>\n<pre><code>import * as angular from 'angular';\n</code></pre>\n<p>So I'm not sure if this is breaking anything.</p>\n<p>Why is ng.route not resolving and giving an error?</p>\n<p>Also wouldn't mind comments if my app.route.ts file is actually implemented using TypeScript and not just regular Javascript (i know js = ts but maybe with ts it can be/should be different).</p>\n<p>Any help is appreciated.</p>\n"}, {"tags": ["angular", "typescript", "iframe", "frontend", "embed"], "owner": {"reputation": 53, "user_id": 3554598, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/006f42612d1f8a76fbe6119b8c09bfdf?s=128&d=identicon&r=PG&f=1", "display_name": "Shishibi", "link": "https://stackoverflow.com/users/3554598/shishibi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562165001, "creation_date": 1562165001, "question_id": 56872639, "link": "https://stackoverflow.com/questions/56872639/how-to-embed-angular-app-on-another-website", "title": "How to embed angular app on another website?", "body": "<p>I have application written in Angular 7 and i would like to embed it on another website (website is not specified). The idea is that two websites are completly idependent (different servers etc.) and i would like to present view from angular application. Something like iframe but iframe is not suitable for me since i will need comunication between those websites and styling iframe to be aware of it's content is nightmare. In the end user shouldn't be able to tell that there are two different websites there. When you operate on the view from angular app it uses it's backend and when you operate on external site it uses it's own BE and so on. </p>\n\n<p>I have been searching for an answer but i haven't found anything. Angular Elements doesn't do the trick since (if i understood it right) it \"exports\" components that are usable outside the framework and i want to display existing view.</p>\n\n<p>I found article here <a href=\"https://stackoverflow.com/questions/52604189/how-to-embed-an-angular-app-into-another-app\">how to embed an angular app into another app?</a> but it was some time ago and none of the solutions seems to fit me. I'm wondering wether there any new approaches to this topic?</p>\n\n<p>The best would be generic solution like iframe where i just put tag into another website but approaches per technology is also welcome.</p>\n\n<p>Thanks for help!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1562164998, "post_id": 56872546, "comment_id": 100293949, "body": "Upgrade tslint and retry."}], "answers": [{"tags": [], "owner": {"reputation": 4291, "user_id": 5122581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lx09Q.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/5122581/phillip"}, "is_accepted": false, "score": 0, "last_activity_date": 1562164997, "creation_date": 1562164997, "answer_id": 56872633, "question_id": 56872546, "link": "https://stackoverflow.com/questions/56872546/is-3-5-2-backward-compatible-with-2/56872633#56872633", "title": "Is 3.5.2 backward compatible with 2", "body": "<p>Typescript releases breaking changes between versions on <a href=\"https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes\" rel=\"nofollow noreferrer\">their Github wiki</a>. Regarding whether or not you can ignore the warning is entirely up to your code-base.</p>\n"}], "owner": {"reputation": 10267, "user_id": 936293, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HpwXZ.png?s=128&g=1", "display_name": "Old Geezer", "link": "https://stackoverflow.com/users/936293/old-geezer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562164997, "creation_date": 1562164730, "question_id": 56872546, "link": "https://stackoverflow.com/questions/56872546/is-3-5-2-backward-compatible-with-2", "title": "Is 3.5.2 backward compatible with 2", "body": "<p>I have a Node project created some time ago, and it was using version 2 of Typescript.</p>\n\n<p>I have since moved the project to a new computer. I installed the latest Typescript, ie 3.5.2.</p>\n\n<p>When I run things like <code>npm audit fix</code>, I get warnings such as:</p>\n\n<blockquote>\n  <p>npm WARN tslint@5.9.1 requires a peer of typescript@>=2.1.0 || >=2.1.0-dev || >=2.2.0-dev || >=2.3.0-dev || >=2.4.0-dev || >=2.5.0-dev || >=2.6.0-dev || >=2.7.0-dev || >=2.8.0-dev but none is installed. You must install peer dependencies yourself.</p>\n</blockquote>\n\n<p>Is it ok to ignore the warning?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "redux"], "comments": [{"owner": {"reputation": 504, "user_id": 4818089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fbe13acaa36461511d4372b16bed20?s=128&d=identicon&r=PG&f=1", "display_name": "RobPethi", "link": "https://stackoverflow.com/users/4818089/robpethi"}, "edited": false, "score": 0, "creation_date": 1562164812, "post_id": 56872370, "comment_id": 100293819, "body": "In update session you return an action with type USER_LOGIN but this is not a string like it is in the interface - have you declared this elsewhere? If not you&#39;ll want to make it a string"}, {"owner": {"reputation": 812, "user_id": 7972985, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6afc276d86e369b509215b063212e64e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser Soze", "link": "https://stackoverflow.com/users/7972985/kaiser-soze"}, "reply_to_user": {"reputation": 504, "user_id": 4818089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fbe13acaa36461511d4372b16bed20?s=128&d=identicon&r=PG&f=1", "display_name": "RobPethi", "link": "https://stackoverflow.com/users/4818089/robpethi"}, "edited": false, "score": 1, "creation_date": 1562167058, "post_id": 56872370, "comment_id": 100295186, "body": "yes it is a normal constant exported <code>export const USER_LOGIN = &#39;USER_LOGIN&#39;;</code>, I edited my question just for clarity, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 812, "user_id": 7972985, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6afc276d86e369b509215b063212e64e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser Soze", "link": "https://stackoverflow.com/users/7972985/kaiser-soze"}, "edited": false, "score": 0, "creation_date": 1562167491, "post_id": 56873334, "comment_id": 100295428, "body": "Thanks for the answer, <code>export function updateSession(loggedIn: UserSessionState) </code> but here I want to say that the payload <code>loggedIn</code> must be of the shape of UserSessionState and then I have the type for the action that is here  <code>interface UpdateSessionAction {   type: &#39;USER_LOGIN&#39;;   payload: boolean; }</code>  Is that correct?"}, {"owner": {"reputation": 812, "user_id": 7972985, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6afc276d86e369b509215b063212e64e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser Soze", "link": "https://stackoverflow.com/users/7972985/kaiser-soze"}, "edited": false, "score": 1, "creation_date": 1562170061, "post_id": 56873334, "comment_id": 100296771, "body": "thanks! now I get <code>Argument of type &#39;boolean&#39; is not assignable to parameter of type &#39;UpdateSessionAction</code> but I will accept your answer anyway because is correct. I need to learn more about typescript, maybe I rushed things moving directly in to async actions. :)"}], "tags": [], "owner": {"reputation": 3246, "user_id": 7126139, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tRZYM.jpg?s=128&g=1", "display_name": "yuval.bl", "link": "https://stackoverflow.com/users/7126139/yuval-bl"}, "is_accepted": true, "score": 16, "last_activity_date": 1562169833, "last_edit_date": 1562169833, "creation_date": 1562167166, "answer_id": 56873334, "question_id": 56872370, "link": "https://stackoverflow.com/questions/56872370/redux-thunk-with-typescript/56873334#56873334", "title": "Redux Thunk with Typescript", "body": "<p><strong>In short:</strong> </p>\n\n<p>You get this error because what returned from your <code>userLogin()</code> function is a <code>ThunkAction</code>, which is missing <code>type</code></p>\n\n<p><strong>Why this is happening?</strong> </p>\n\n<p>dispatch should accept parameter of type <code>AnyAction</code>.\n<code>AnyAction</code> is a redux type, which extends <code>Action</code> (which have a mandatory property  <code>type</code>).</p>\n\n<p>This is from the current <a href=\"https://github.com/reduxjs/redux/blob/master/index.d.ts#L20\" rel=\"noreferrer\">redux types file</a></p>\n\n<pre><code>export interface Action&lt;T = any&gt; {\n  type: T\n}\n\n/**\n * An Action type which accepts any other properties.\n * This is mainly for the use of the `Reducer` type.\n * This is not part of `Action` itself to prevent users who are extending `Action.\n */\nexport interface AnyAction extends Action {\n  // Allows any extra properties to be defined in an action.\n  [extraProps: string]: any\n}\n</code></pre>\n\n<p><strong>How to fix it?</strong>\nUse <code>ThunkDispatch</code> type instead of redux's standard <code>Dispatch</code>. The following example and more can be found on <a href=\"https://gist.github.com/milankorsos/ffb9d32755db0304545f92b11f0e4beb\" rel=\"noreferrer\">this Gist</a> </p>\n\n<pre><code>const mapDispatchToProps = (dispatch: ThunkDispatch&lt;MyState, void, Action&gt;) =&gt; {\n  return {\n    onRequestClick: (arg: any) =&gt; dispatch(myAsyncAction(arg)),\n  };\n}\n\n</code></pre>\n\n<p>Also, see this <a href=\"https://medium.com/@peatiscoding/typescripts-with-redux-redux-thunk-recipe-fcce4ffca405\" rel=\"noreferrer\">article</a>, section <strong>Map Dispatch to Props</strong></p>\n"}], "owner": {"reputation": 812, "user_id": 7972985, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6afc276d86e369b509215b063212e64e?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser Soze", "link": "https://stackoverflow.com/users/7972985/kaiser-soze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8673, "favorite_count": 3, "accepted_answer_id": 56873334, "answer_count": 1, "score": 11, "last_activity_date": 1581504489, "creation_date": 1562164167, "last_edit_date": 1562167353, "question_id": 56872370, "link": "https://stackoverflow.com/questions/56872370/redux-thunk-with-typescript", "title": "Redux Thunk with Typescript", "body": "<p>I am learning Typescript and I am trying to implement a simple React/Redux app. When I use sync actions it works fine, but the problems are with the async action. I am following the official redux tutorial.</p>\n\n<p>First I declare the state for the session</p>\n\n<pre><code>export interface UserSessionState {\n  loggedIn: boolean;\n}\n</code></pre>\n\n<p>Then I declare the interface for the action</p>\n\n<pre><code>interface UpdateSessionAction {\n  type: 'USER_LOGIN';\n  payload: boolean;\n}\n</code></pre>\n\n<p>I export them with Union Types</p>\n\n<p><code>export type UserActionTypes = UpdateSessionAction;</code></p>\n\n<p>Then I have the actual Action</p>\n\n<pre><code>\nexport function updateSession(loggedIn: UserSessionState) {\n  return {\n    type: 'USER_LOGIN',\n    payload: loggedIn,\n  };\n}\n</code></pre>\n\n<p>I have a fake api call </p>\n\n<pre><code>function api() {\n  return Promise.resolve(true);\n}\n</code></pre>\n\n<p>And finally the login </p>\n\n<pre><code>export const userLogin = (): ThunkAction&lt;\n  void,\n  {},\n  {},\n  AnyAction\n&gt; =&gt; async (dispatch: ThunkDispatch&lt;{}, {}, AnyAction&gt;) =&gt; {\n  const res = await api();\n  dispatch(updateSession({ loggedIn: res }));\n};\n</code></pre>\n\n<p>In the reducer I simply initialize the state </p>\n\n<p><code>initialState: UserSessionState = {loggedIn: false}</code></p>\n\n<p>Then  I do the normal redux stuff for the reducer.</p>\n\n<p>Finally in my store I call the initial action for checking the state</p>\n\n<pre><code>store.dispatch(userLogin());\n</code></pre>\n\n<p>I keep getting this error:</p>\n\n<pre><code>Argument of type 'ThunkAction&lt;Promise&lt;void&gt;, {}, {}, AnyAction&gt;' is not assignable to parameter of type 'AnyAction'.\n  Property 'type' is missing in type 'ThunkAction&lt;Promise&lt;void&gt;, {}, {}, AnyAction&gt;' but required in type 'AnyAction'.\n</code></pre>\n\n<p>I am missing a <code>type</code> but I have no idea what I do wrong. </p>\n"}, {"tags": ["angular", "typescript", "slick.js"], "comments": [{"owner": {"reputation": 532, "user_id": 8215522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83efce308ff4f69e6b4159be8ea559a0?s=128&d=identicon&r=PG&f=1", "display_name": "Qellson", "link": "https://stackoverflow.com/users/8215522/qellson"}, "edited": false, "score": 0, "creation_date": 1562221121, "post_id": 56872261, "comment_id": 100311235, "body": "Did you add slicks module to you app module imports? Also did you follow the libs documentation to install it?"}, {"owner": {"reputation": 722, "user_id": 8923126, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-I8zSMSZEkt8/AAAAAAAAAAI/AAAAAAAAAQM/MkkiTaCwVu8/photo.jpg?sz=128", "display_name": "ZaIn KhAn", "link": "https://stackoverflow.com/users/8923126/zain-khan"}, "reply_to_user": {"reputation": 532, "user_id": 8215522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83efce308ff4f69e6b4159be8ea559a0?s=128&d=identicon&r=PG&f=1", "display_name": "Qellson", "link": "https://stackoverflow.com/users/8215522/qellson"}, "edited": false, "score": 0, "creation_date": 1562233141, "post_id": 56872261, "comment_id": 100317341, "body": "yes. I import it&#39;s module in my app module and also it installed according to the documentation"}, {"owner": {"reputation": 532, "user_id": 8215522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83efce308ff4f69e6b4159be8ea559a0?s=128&d=identicon&r=PG&f=1", "display_name": "Qellson", "link": "https://stackoverflow.com/users/8215522/qellson"}, "edited": false, "score": 0, "creation_date": 1562233327, "post_id": 56872261, "comment_id": 100317467, "body": "also did you install its dependecies, jquery and slick?"}, {"owner": {"reputation": 722, "user_id": 8923126, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-I8zSMSZEkt8/AAAAAAAAAAI/AAAAAAAAAQM/MkkiTaCwVu8/photo.jpg?sz=128", "display_name": "ZaIn KhAn", "link": "https://stackoverflow.com/users/8923126/zain-khan"}, "reply_to_user": {"reputation": 532, "user_id": 8215522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83efce308ff4f69e6b4159be8ea559a0?s=128&d=identicon&r=PG&f=1", "display_name": "Qellson", "link": "https://stackoverflow.com/users/8215522/qellson"}, "edited": false, "score": 0, "creation_date": 1562233880, "post_id": 56872261, "comment_id": 100317804, "body": "yes. I installed"}, {"owner": {"reputation": 661, "user_id": 8377018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZVtjP.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8377018/daniel"}, "edited": false, "score": 0, "creation_date": 1590075846, "post_id": 56872261, "comment_id": 109548816, "body": "I had this problem because i forgot to reference the &#39;slickInit(e)&#39; function referenced in my template &#39;&lt;ngx-slick-carousel (init)=&quot;slickInit($event)&quot;...&#39;."}, {"owner": {"reputation": 341, "user_id": 6544091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5f17e4f182cb09c7773e55bb38ce9f?s=128&d=identicon&r=PG&f=1", "display_name": "Brackets", "link": "https://stackoverflow.com/users/6544091/brackets"}, "edited": false, "score": 0, "creation_date": 1605175210, "post_id": 56872261, "comment_id": 114572643, "body": "Daniel, what do you mean?"}], "answers": [{"comments": [{"owner": {"reputation": 1571, "user_id": 7973760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a630db3395ba7387b5b2e05f2a1d6d5?s=128&d=identicon&r=PG&f=1", "display_name": "Inzamam Idrees", "link": "https://stackoverflow.com/users/7973760/inzamam-idrees"}, "reply_to_user": {"reputation": 8195, "user_id": 3946728, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/31c0b925bb278c6d897a007f2aae7d65?s=128&d=identicon&r=PG&f=1", "display_name": "Vel", "link": "https://stackoverflow.com/users/3946728/vel"}, "edited": false, "score": 0, "creation_date": 1588573170, "post_id": 57709625, "comment_id": 108939153, "body": "And show me the code where you have use the slick carousel. And also tell me the version of your Angular"}, {"owner": {"reputation": 295, "user_id": 5146920, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e6c00a486d4775dab55d5d4f16e184df?s=128&d=identicon&r=PG&f=1", "display_name": "ot954", "link": "https://stackoverflow.com/users/5146920/ot954"}, "edited": false, "score": 1, "creation_date": 1607257559, "post_id": 57709625, "comment_id": 115210190, "body": "Facing same issue in Angular 9. Did you find any solution to this?"}], "tags": [], "owner": {"reputation": 1571, "user_id": 7973760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a630db3395ba7387b5b2e05f2a1d6d5?s=128&d=identicon&r=PG&f=1", "display_name": "Inzamam Idrees", "link": "https://stackoverflow.com/users/7973760/inzamam-idrees"}, "is_accepted": false, "score": 0, "last_activity_date": 1567079561, "creation_date": 1567079561, "answer_id": 57709625, "question_id": 56872261, "link": "https://stackoverflow.com/questions/56872261/typeerror-this-instance-slick-is-not-a-function/57709625#57709625", "title": "TypeError: _this.$instance.slick is not a function", "body": "<p>I wish you have successfully installed the slick library by using these commands:</p>\n\n<pre><code>$ npm install jquery --save\n$ npm install slick-carousel --save\n$ npm install ngx-slick-carousel --save\n</code></pre>\n\n<p>Include <strong>jquery</strong> and <strong>slick js</strong> in \"scripts\" at your <code>angular.json</code> file :</p>\n\n<pre><code>\"scripts\": [\n    ...\n    \"node_modules/jquery/dist/jquery.min.js\",\n    \"node_modules/slick-carousel/slick/slick.min.js\",\n    ...\n  ]\n</code></pre>\n\n<p>and then <strong>Recompile</strong> the code using <code>ng serve</code>.\nI hope it would helpful to you. Thanks</p>\n"}], "owner": {"reputation": 722, "user_id": 8923126, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-I8zSMSZEkt8/AAAAAAAAAAI/AAAAAAAAAQM/MkkiTaCwVu8/photo.jpg?sz=128", "display_name": "ZaIn KhAn", "link": "https://stackoverflow.com/users/8923126/zain-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2581, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567079561, "creation_date": 1562163809, "last_edit_date": 1562220958, "question_id": 56872261, "link": "https://stackoverflow.com/questions/56872261/typeerror-this-instance-slick-is-not-a-function", "title": "TypeError: _this.$instance.slick is not a function", "body": "<p>I'm using <code>ngx-slick-carousel</code> in my angular project for slider. But there is a error when I route this component where is slider so my console shows me this error</p>\n\n<blockquote>\n  <p>ERROR TypeError: _this.$instance.slick is not a function\n      at ngx-slick-carousel.js:121\n      at ZoneDelegate../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke\n  (zone.js:391)\n      at Zone../node_modules/zone.js/dist/zone.js.Zone.run (zone.js:150)\n      at NgZone.push../node_modules/@angular/core/fesm5/core.js.NgZone.runOutsideAngular\n  (core.js:3779)\n      at SlickCarouselComponent.push../node_modules/ngx-slick-carousel/fesm5/ngx-slick-carousel.js.SlickCarouselComponent.initSlick (ngx-slick-carousel.js:114)\n      at SlickCarouselComponent.push../node_modules/ngx-slick-carousel/fesm5/ngx-slick-carousel.js.SlickCarouselComponent.ngAfterViewChecked\n  (ngx-slick-carousel.js:70)\n      at callProviderLifecycles (core.js:9563)\n      at callElementProvidersLifecycles (core.js:9534)\n      at callLifecycleHooksChildrenFirst (core.js:9524)\n      at checkAndUpdateView (core.js:10460)</p>\n</blockquote>\n\n<p>HTML</p>\n\n<pre><code>&lt;ngx-slick-carousel class=\"carousel\" #slickModal=\"slick-carousel\" [config]=\"slideConfig2\"&gt;\n        &lt;div ngxSlickItem *ngFor=\"let legislation of objLegislationList\" class=\"slide\"&gt;\n          &lt;div class=\"descBox row-2\"&gt;\n            &lt;img\n              src=\"http://1.bp.blogspot.com/-Qy1y_Ur-_mE/TtxVJ86z2EI/AAAAAAAAAss/meLIad_uSfk/s1600/law-background-1-767326.jpg\" /&gt;\n            &lt;h3 onMouseOver=\"this.style.cursor='pointer'\"&gt;{{legislation.Title}}&lt;/h3&gt;\n            &lt;p style=\"margin-bottom: 0;\"&gt;Date : {{legislation.Date}}&lt;/p&gt;\n            &lt;p&gt;Category {{legislation.CatName}}&lt;/p&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/ngx-slick-carousel&gt;\n</code></pre>\n\n<p>component.ts</p>\n\n<pre><code>ngAfterViewInit() {\n    this.iniSlickJs();\n  }\nprivate iniSlickJs() {\n    const htmlScriptElement = document.createElement('script');\n    htmlScriptElement.src = 'https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js';\n    this.elementRef.nativeElement.appendChild(htmlScriptElement);\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6", "asp.net-web-api2"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 10102977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xh7PK.jpg?s=128&g=1", "display_name": "Philip Antin", "link": "https://stackoverflow.com/users/10102977/philip-antin"}, "is_accepted": true, "score": 1, "last_activity_date": 1562165901, "last_edit_date": 1562165901, "creation_date": 1562164488, "answer_id": 56872470, "question_id": 56872088, "link": "https://stackoverflow.com/questions/56872088/how-to-globally-share-configuration-value-picked-up-from-back-end-with-all-the-a/56872470#56872470", "title": "How to globally share configuration value picked up from back end with all the angular 6 application components?", "body": "<p>My response assumes that you're configuring values that your Angular components will use internally (like limits on the file size of user uploads, for example), and not configuring how these components are set up in the first place (like...Docker container settings?). It also assumes that you're relatively new to Angular. If those assumptions are wrong in your case, I hope my response is useful to someone for whom those assumptions are correct.</p>\n\n<p>Your API should have a RESTful way to retrieve that configuration information. Create a <a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">service using Angular's HTTP client</a> that retrieves this information from the API. If you use the recommendations below, the HTTP call should return an Observable (<a href=\"https://rxjs-dev.firebaseapp.com/\" rel=\"nofollow noreferrer\">an rxjs concept</a>) that the service uses to put the retrieved information into a centrally-accessible location.</p>\n\n<p>In order to share this information with every component, use <a href=\"https://ngrx.io/guide/store\" rel=\"nofollow noreferrer\">ngrx and create a store</a> that every component can access. If your service puts the configuration information into the store, then the information should be accessible to every component. <a href=\"https://medium.com/better-programming/communication-patterns-in-angular-9b0a829aa916\" rel=\"nofollow noreferrer\">Here's a good article</a> on how to get data from one place to another in Angular. There's a conceptually helpful section on using ngrx.</p>\n\n<p>When your app.component initializes, <a href=\"https://ngrx.io/guide/store/actions\" rel=\"nofollow noreferrer\">dispatch an action</a> to retrieve the configuration information. Set up the service with an <a href=\"https://ngrx.io/guide/effects\" rel=\"nofollow noreferrer\">effect that watches for that action</a> and makes the HTTP call when it comes through. When the HTTP call completes successfully, dispatch another \"success\" action that uses the retrieved data as the payload. <a href=\"https://ngrx.io/guide/store/reducers\" rel=\"nofollow noreferrer\">Set up a reducer</a> that will update the state of the store when this success action comes through. Then you can <a href=\"https://ngrx.io/guide/store/selectors\" rel=\"nofollow noreferrer\">use a selector</a> in any component that needs this configuration information.</p>\n\n<p>This sort of setup (using ngrx) is a very good one, since it maintains a single source of authority and also enables each component to react to changes in the underlying data.</p>\n"}], "owner": {"reputation": 602, "user_id": 2824162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/irodv.jpg?s=128&g=1", "display_name": "Ashish Kumar Jaryal", "link": "https://stackoverflow.com/users/2824162/ashish-kumar-jaryal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 56872470, "answer_count": 1, "score": 1, "last_activity_date": 1562571849, "creation_date": 1562163252, "last_edit_date": 1562571849, "question_id": 56872088, "link": "https://stackoverflow.com/questions/56872088/how-to-globally-share-configuration-value-picked-up-from-back-end-with-all-the-a", "title": "How to globally share configuration value picked up from back end with all the angular 6 application components?", "body": "<p>I've MAX_FILE_SIZE and other configurations defined in Web API's Web.config. I need to get these configurations from back end and share these configurations to all the angular 6 components globally.\nCan anyone please tell me the best approach to do this?</p>\n\n<p>These configuration must be read only in the front end code.\nThese configurations may change occasionally during run time at the back end from Web.config file.</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 0, "creation_date": 1562163671, "post_id": 56871826, "comment_id": 100293086, "body": "<code>async readText(): string {</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 4291, "user_id": 5122581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lx09Q.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/5122581/phillip"}, "is_accepted": false, "score": 0, "last_activity_date": 1562164538, "creation_date": 1562164538, "answer_id": 56872485, "question_id": 56871826, "link": "https://stackoverflow.com/questions/56871826/is-it-possible-to-annotate-a-function-to-tell-the-typescript-complier-that-is-ha/56872485#56872485", "title": "Is it possible to annotate a function to tell the typescript complier that is has checked the type of a class property?", "body": "<p>You can use the <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#non-null-assertion-operator\" rel=\"nofollow noreferrer\">non-null assertion postfix operator</a> to tell the compiler that <em>\"in this given expression, my operand cannot be null or undefined\"</em></p>\n\n<p>So if you write:</p>\n\n<pre><code>return this.text!.includes(value);\n</code></pre>\n\n<p>Everything works fine. This is a guarantee you provide though.</p>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1562170848, "last_edit_date": 1562170848, "creation_date": 1562168917, "answer_id": 56873861, "question_id": 56871826, "link": "https://stackoverflow.com/questions/56871826/is-it-possible-to-annotate-a-function-to-tell-the-typescript-complier-that-is-ha/56873861#56873861", "title": "Is it possible to annotate a function to tell the typescript complier that is has checked the type of a class property?", "body": "<p>I think TypeScript is missing several features that you'd need to get this code to work so that the runtime code is the same and the compiler verifies its type safety.  The first missing feature is some way to do <a href=\"https://github.com/microsoft/TypeScript/issues/17760\" rel=\"nofollow noreferrer\">user-defined type assertions (as suggested in this GitHub issue)</a> in a way similar to how <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">user-defined type guards</a> work already.  That way you could tell the compiler that <code>this.readText()</code> will (eventually) narrow the type of <code>this</code> to <code>this &amp; {text: string}</code>.  Even with that feature, you'd need to be able to return a <code>Promise</code> of the type assertion instead of the type assertion itself, which would require some thing like <a href=\"https://github.com/microsoft/TypeScript/issues/10734\" rel=\"nofollow noreferrer\">propagation of type predicates (as suggested in this GitHub issue)</a>.  If both of those were implemented, then maybe you could do something like:</p>\n\n<pre><code>// DOES NOT COMPILE, DON'T TRY THIS\nasync readText(): Promise&lt;this as (this &amp; {text: string})&gt; {\n  this.text = await this.response.text();\n}\n</code></pre>\n\n<p>where <code>Promise&lt;this as (this &amp; {text: string})&gt;</code> means that <code>readText()</code> returns a promise that, when resolved, narrows the type of <code>this</code> to something whose <code>text</code> property is definitely a <code>string</code> and not just <code>string | undefined</code>.  Alas, this doesn't work.</p>\n\n<hr>\n\n<p>The way to make your code work as-is without changing anything at runtime is to use type assertions, such as the <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#non-null-assertion-operator\" rel=\"nofollow noreferrer\">non-null assertion <code>!</code> operator</a> as shown in @Phillip's <a href=\"https://stackoverflow.com/a/56872485/2887218\">answer</a>.</p>\n\n<p>If you don't mind making changes to how your code works, then I'd strongly suggest splitting the asynchronous and synchronous code into two completely different structures, and have the asynchronous code return a fully-configured synchronous thing, like this:</p>\n\n<pre><code>type MyResponse = {\n  text: () =&gt; Promise&lt;string&gt;;\n};\n\n// all async code should be in here\nclass AsyncResponseVerifier {\n  constructor(public response: MyResponse) {}\n  async readText(): Promise&lt;SyncResponseVerifier&gt; {\n    return new SyncResponseVerifier(await this.response.text());\n  }\n}\n\n// all code in here should be synchronous\nclass SyncResponseVerifier {\n  constructor(public text: string) {}\n  verifyTextContains(value: string) {\n    return this.text.includes(value);\n  }\n}\n</code></pre>\n\n<p>And you'd use it like this:</p>\n\n<pre><code>// use the async thing to get the sync thing\nasync function doThings() {\n  const asyncRV = new AsyncResponseVerifier({\n    text: async () =&gt;\n      \"an important forum raising awareness about serious things\"\n  });\n  const syncRV = await asyncRV.readText();\n  syncRV.verifyTextContains(\"rum raisin\");\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?experimentalDecorators=true#code/C4TwDgpgBAsiBKEDOYD2A7J0C8UDeAsAFBRTAQAewAXFABQCUU2AfFAAoBOqAtgJZYAPEmCc+6AOYsA3MQC+sosQD0yqAEMANpo1IQ6AMZQDqACbQkAC1QBXTaagAjaOKiWInCMQOb1SJFAAgnqGiCgYWABqHnwAZnwe+MSkJpiiNgbAqJx0YDaOmnxGnuGYELRwYWhlTHhyybr6xRDqpgAqlMCMtFy8AhCCAMpNVREQ0WLxHmyEJKRQnsA2nOhQ6BAA7lDDocjVUTFTOeob6nzAZJYCAHQl+xDX5FSMDIqk9UQfKmpaOibmUFc7k8UCstnsTgsTUs3HQtiQ3l8-m2Iz2YwmcQSnCSc1SIk4GSyOTyBSKZE6tHx4gktQ+pAAbocQB0qABhDDAM6YOj0rQ2cqg0TU2oNUiLZarYBXJCPTrXcQ+GzmJA8vkQV4ND5fIiqKA2LCXaB+JqXalkVBQCQQC5SqGGU2SYjG+2xGyGYB8DBQUyoNpXSQqkW4iIXZ0GeCRZhrTZBELhtFlDFHOizebkqi0MP0JisUXzABE6lWfB4aE4nPQF1i2RsPAWZyQZpO6k862R6kctguWDE8IdEiQ+c1GuDaVBI0juGb50aoUitxa7U6jDe47n10Zk2ZnXZla5KvzBLrnAb4nzI4+QA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n\n<p>Otherwise you will end up with a split-personality class where some things should be <code>await</code>ed and other things should not.  Even if you could figure out how to make the compiler keep track of which is which (and, as I said at the top, I don't think you can), it could be hard for the developer to keep track.  </p>\n\n<p>Anyway, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 99, "user_id": 7680360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bJPPn.jpg?s=128&g=1", "display_name": "Henry Munro", "link": "https://stackoverflow.com/users/7680360/henry-munro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56873861, "answer_count": 2, "score": 0, "last_activity_date": 1562170848, "creation_date": 1562162332, "question_id": 56871826, "link": "https://stackoverflow.com/questions/56871826/is-it-possible-to-annotate-a-function-to-tell-the-typescript-complier-that-is-ha", "title": "Is it possible to annotate a function to tell the typescript complier that is has checked the type of a class property?", "body": "<p>I the below code snippet is it possible to annotate <code>readText</code> to tell the compiler it ensures <code>this.text</code> is <code>string</code> not <code>string | undefined</code>?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type MyResponse = {\n  text: () =&gt; Promise&lt;string&gt;;\n};\n\nclass ResponseVerfier {\n  response: MyResponse;\n  text?: string;\n\n  constructor(response: MyResponse) {\n    this.response = response;\n  }\n\n  async readText() {\n    this.text = await this.response.text();\n  }\n\n  async verifyTextContains(value: string) {\n    await this.readText();\n\n    // I've run this.readText so I now know this.text is a string, not string | undefined\n    // However I'm currently getting an error \"Object is possibly 'undefined'\"\n    return this.text.includes(value);\n  }\n}\n\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#code/C4TwDgpgBAsiBKEDOYD2A7J0C8UDeAsAFBRTAQAewAXFABQCUU2AfFAAoBOqAtgJZYAPEmCc+6AOYsA3MQC+sosQDGAGwCGSJFEQoMWAGoROAMz7H8xUp2RpMEWnF12si0uSoB+WiLGTFVlDK+qIArsrAqJx0Nnr2jgi2+hBMhCSkZAAWAgB0sS44UPnJblByxIGaIOjKRRDqACYAKpTAjJbp7tlIOR7AzFDqAO7qfP3A3XlJ9r2tjKXlSulVNVAAbsZ8JiAtVADCGMCjmHRr6qqhDlC+4hKpgaTDo+OTNo27bQwBnVAA9L9QACSAHINkVQugsrk3s1WtdUECoOhUEMoABrZGoia5PpQASDa6iW4AGiRqH6N0kUAAPlAIQ0IGZ0BAGg8-gCABIoiAbThA4E8IKhTg2dDAVQgKASCDAYC3QaQ4zcPkAIgA8gAjABWEAieO0aC0fA1EqgwPpjPELOBKrZNmAwsh2J6fRy4jUoQZSFO50uX0Ci0WQA\" rel=\"nofollow noreferrer\">Playground link</a></p>\n"}, {"tags": ["angular", "typescript", "ngoninit"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1562161421, "post_id": 56871446, "comment_id": 100291851, "body": "Why are you testing if params is null? First of all, it will never be null, and second, if it&#39;s null, how could it contain the parameter invoiceNum? Why don&#39;t you just get the invoiceNum param, and test if <b>that</b> parameter is defined? Also, dont duplicate all the code. The only difference between the two branches is how you get the observable."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1562161490, "post_id": 56871446, "comment_id": 100291892, "body": "Testing for 401 in each and every http call is also something you really shouldn&#39;t do. This should be in an interceptor, once and for all."}, {"owner": {"reputation": 11, "user_id": 7411329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2267eee750afaf10a09e59cb0d3808fb?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Lupo", "link": "https://stackoverflow.com/users/7411329/austin-lupo"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1562165334, "post_id": 56871446, "comment_id": 100294185, "body": "I appreciate you suggestions and best-coding-practices JB. Just to clarify, when you say get the invoiceNum param do you mean something along the lines of this.invoiceNum?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1562166386, "post_id": 56871446, "comment_id": 100294826, "body": "No, I mean <code>params[&#39;invoiceNum&#39;]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7411329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2267eee750afaf10a09e59cb0d3808fb?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Lupo", "link": "https://stackoverflow.com/users/7411329/austin-lupo"}, "edited": false, "score": 0, "creation_date": 1562168726, "post_id": 56872791, "comment_id": 100296087, "body": "I appreciate you suggestion kuroneko. I have attempted to implement it into my code but am getting the follow error  &quot;Property &#39;value&#39; does not exist on type &#39;{}&#39;.&quot; I removed the .value to see if that would shut the compiler up but then I got &quot;Type &#39;{}&#39; is missing the following properties from type &#39;any[]&#39;: length, pop, push, concat, and 26 more.&quot; Any ideas? I haven&#39;t much luck with online resources to help solve this issue. Thanks again."}, {"owner": {"reputation": 277, "user_id": 7312384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1e19add8f1c94e9be9db6d45ccb66cc?s=128&d=identicon&r=PG", "display_name": "kuroneko0441", "link": "https://stackoverflow.com/users/7312384/kuroneko0441"}, "reply_to_user": {"reputation": 11, "user_id": 7411329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2267eee750afaf10a09e59cb0d3808fb?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Lupo", "link": "https://stackoverflow.com/users/7411329/austin-lupo"}, "edited": false, "score": 0, "creation_date": 1562200137, "post_id": 56872791, "comment_id": 100307124, "body": "It&#39;s just a type error. Please tell me the types of <code>this.paymentService.showPayments(this.invoiceNum)</code> and <code>this.paymentService.getPayments()</code>. Do they commonly have the property <code>value</code>?"}, {"owner": {"reputation": 11, "user_id": 7411329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2267eee750afaf10a09e59cb0d3808fb?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Lupo", "link": "https://stackoverflow.com/users/7411329/austin-lupo"}, "edited": false, "score": 0, "creation_date": 1562513882, "post_id": 56872791, "comment_id": 100389297, "body": "They both return a REST api GET request of type any"}], "tags": [], "owner": {"reputation": 277, "user_id": 7312384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1e19add8f1c94e9be9db6d45ccb66cc?s=128&d=identicon&r=PG", "display_name": "kuroneko0441", "link": "https://stackoverflow.com/users/7312384/kuroneko0441"}, "is_accepted": false, "score": 0, "last_activity_date": 1562165387, "creation_date": 1562165387, "answer_id": 56872791, "question_id": 56871446, "link": "https://stackoverflow.com/questions/56871446/switching-between-two-subscriptions-in-the-ngoninit-method/56872791#56872791", "title": "Switching between two subscriptions in the ngOnInit() method", "body": "<p>You can use <a href=\"https://rxjs-dev.firebaseapp.com/api/operators/switchMap\" rel=\"nofollow noreferrer\"><code>switchMap</code></a>. <code>switchMap</code> can return different subjects for a condition. </p>\n\n<p>This solution switches <code>Route Parameter Changes</code> subject to <code>HTTP Request for payments</code> subject. If router params contains <code>invoiceNum</code>, it will return subject of specific payments for the <code>invoiceNum</code>. Or, it will return subject of all payments.</p>\n\n<p>You can reuse your onNext/onError callback for both cases.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>ngOnInit() {\n  this.sub = this.route.params\n  .pipe(\n    switchMap(params =&gt; {\n      if (params['invoiceNum'] !== undefined) {\n        //displays FILTERED payments\n        return this.paymentService.showPayments(this.invoiceNum);\n      } else {\n        //displays ALL payments\n        this.paymentService.getPayments();\n      }\n    })\n  )\n  // Reuse onNext/onError callbacks\n  .subscribe(\n    res =&gt; {\n      this.payments = res.value;\n      this.loading = false;\n      console.log(res);\n    },  \n    err =&gt; {\n      if (err.status == 401) {\n        this.auth.logOut();\n      }\n      this.loading = false;\n      console.log(err);\n    }\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7411329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2267eee750afaf10a09e59cb0d3808fb?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Lupo", "link": "https://stackoverflow.com/users/7411329/austin-lupo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562165387, "creation_date": 1562161011, "question_id": 56871446, "link": "https://stackoverflow.com/questions/56871446/switching-between-two-subscriptions-in-the-ngoninit-method", "title": "Switching between two subscriptions in the ngOnInit() method", "body": "<p>I have a page where I am populating invoices into a grid. In the grid there is an option to view the payments for a particular invoice. The button switches the user from the invoices page to the payments page where it then filters all the payments so that only the payment that corresponds to that particular invoice will show up. Also, when clicking on the payments page itself, it populates all payments into a grid. I have both of these things accomplished in the ngOnInit() method, however, I need to be able to switch between the two. In other words, I want to filter the payments when a user clicks the button on the invoices page and when a user clicks on the payments tab in the navbar I want it to show all payments. So, I have tested both subscriptions and know they work, but how can I switch between the two subscriptions to accomplish this? Any help is appreciated.</p>\n\n<p>I have played around with different variables and equality checks in the if statement and have even tried changing the line location of the if statement but to no prevail</p>\n\n<pre><code>ngOnInit() {\n  this.sub = this.route.params.subscribe(\n    params =&gt; {\n      if (params == null) { //HERE LIES THE ISSUE\n         this.invoiceNum = params['invoiceNum'];\n\n         //displays FILTERED payments\n        this.paymentService.showPayments(this.invoiceNum).subscribe(\n        res =&gt; {\n          this.payments = res.value;\n          this.loading = false;\n          console.log(res);\n        },  \n        err =&gt; {\n          if (err.status == 401) {\n            this.auth.logOut();\n          }\n          this.loading = false;\n          console.log(err);\n        }\n      );\n    } else {\n\n      //displays ALL payments\n      this.paymentService.getPayments().subscribe(\n        res =&gt; {\n          this.payments = res.value;\n          this.loading = false;\n          console.log(res);\n        },\n        err =&gt; {\n          if (err.status == 401) {\n            this.auth.logOut();\n          }\n          this.loading = false;\n          console.log(err);\n        }\n      );\n    }\n   }\n );\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 3, "creation_date": 1562160869, "post_id": 56871384, "comment_id": 100291503, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34224007/is-there-any-downside-to-using-tsx-instead-of-ts-all-the-times-in-typescript\" title=\"is there any downside to using tsx instead of ts all the times in typescript\">stackoverflow.com/questions/34224007/&hellip;</a>"}, {"owner": {"reputation": 637, "user_id": 2857792, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DAZRf.jpg?s=128&g=1", "display_name": "Mangs", "link": "https://stackoverflow.com/users/2857792/mangs"}, "edited": false, "score": 0, "creation_date": 1562161099, "post_id": 56871384, "comment_id": 100291640, "body": "Roughly I use .ts files for plain scripts and .tsx for files containg markup"}, {"owner": {"reputation": 3151, "user_id": 3918282, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/jUKTc.png?s=128&g=1", "display_name": "Ubiquitous Developers", "link": "https://stackoverflow.com/users/3918282/ubiquitous-developers"}, "edited": false, "score": 0, "creation_date": 1562161980, "post_id": 56871384, "comment_id": 100292166, "body": "same as difference between c and c++ :p"}, {"owner": {"reputation": 26971, "user_id": 3073272, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hofYF.jpg?s=128&g=1", "display_name": "GorvGoyl", "link": "https://stackoverflow.com/users/3073272/gorvgoyl"}, "edited": false, "score": 0, "creation_date": 1592352753, "post_id": 56871384, "comment_id": 110394021, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/34224007/is-there-any-downside-to-using-tsx-instead-of-ts-all-the-times-in-typescript\">Is there any downside to using .tsx instead of .ts all the times in typescript?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 884, "user_id": 5847354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD7Lc.jpg?s=128&g=1", "display_name": "Cal Irvine", "link": "https://stackoverflow.com/users/5847354/cal-irvine"}, "edited": false, "score": 2, "creation_date": 1562161802, "post_id": 56871491, "comment_id": 100292071, "body": "To add to this (correct) answer, it&#39;s the same as if you were doing React without TypeScript, you would use .js and .jsx for pure javascript vs JSX javascript files."}, {"owner": {"reputation": 711, "user_id": 10391752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4882fb0a57c114a02a0d7500f1e7233?s=128&d=identicon&r=PG&f=1", "display_name": "sab", "link": "https://stackoverflow.com/users/10391752/sab"}, "edited": false, "score": 0, "creation_date": 1602662048, "post_id": 56871491, "comment_id": 113788004, "body": "not necessarily, you can write pure TS React components, I&#39;d reword it as: a react component containing &quot;tag like&quot; react syntax (which is really tsx). Just to clarify that to anyone that doesn&#39;t really know about it."}], "tags": [], "owner": {"reputation": 645, "user_id": 11034096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c3ff2c20e2965db1fd88a943803282?s=128&d=identicon&r=PG&f=1", "display_name": "liamgbs", "link": "https://stackoverflow.com/users/11034096/liamgbs"}, "is_accepted": true, "score": 42, "last_activity_date": 1615023015, "last_edit_date": 1615023015, "creation_date": 1562161155, "answer_id": 56871491, "question_id": 56871384, "link": "https://stackoverflow.com/questions/56871384/what-is-the-difference-between-ts-and-tsx-extensions-both-are-used-as-extensi/56871491#56871491", "title": "What is the difference between .ts and .tsx extensions. Both are used as extensions for typescript files in react. So where should we use them?", "body": "<p>Use <code>.ts</code> for pure TypeScript files.</p>\n<p>Use <code>.tsx</code> for files which contain JSX.</p>\n<p>For example, a React component would be <code>.tsx</code>, but a file containing helper functions would be <code>.ts</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 10669735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z7cyz.jpg?s=128&g=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/10669735/sachin"}, "is_accepted": false, "score": 6, "last_activity_date": 1578504413, "creation_date": 1578504413, "answer_id": 59650964, "question_id": 56871384, "link": "https://stackoverflow.com/questions/56871384/what-is-the-difference-between-ts-and-tsx-extensions-both-are-used-as-extensi/59650964#59650964", "title": "What is the difference between .ts and .tsx extensions. Both are used as extensions for typescript files in react. So where should we use them?", "body": "<p>.tsx extension is used when we want to embed JSX elements inside the files while .ts is used for plain Typescript files and do not support adding JSX Elements.</p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 13257252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b686c64bb4792568d94cf0d6b0b7c81f?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/13257252/rahul"}, "is_accepted": false, "score": 3, "last_activity_date": 1586336615, "creation_date": 1586336615, "answer_id": 61097012, "question_id": 56871384, "link": "https://stackoverflow.com/questions/56871384/what-is-the-difference-between-ts-and-tsx-extensions-both-are-used-as-extensi/61097012#61097012", "title": "What is the difference between .ts and .tsx extensions. Both are used as extensions for typescript files in react. So where should we use them?", "body": "<p>when you use .tsx you can use JSX in that particular file while .ts gives you error.</p>\n"}, {"comments": [{"owner": {"reputation": 707, "user_id": 2202778, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/JtMTx.jpg?s=128&g=1", "display_name": "Fooker", "link": "https://stackoverflow.com/users/2202778/fooker"}, "edited": false, "score": 1, "creation_date": 1611506953, "post_id": 65001054, "comment_id": 116468134, "body": "what a poor arguments"}], "tags": [], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "is_accepted": false, "score": 0, "last_activity_date": 1606293327, "creation_date": 1606293327, "answer_id": 65001054, "question_id": 56871384, "link": "https://stackoverflow.com/questions/56871384/what-is-the-difference-between-ts-and-tsx-extensions-both-are-used-as-extensi/65001054#65001054", "title": "What is the difference between .ts and .tsx extensions. Both are used as extensions for typescript files in react. So where should we use them?", "body": "<p>All of the above answers are correct.</p>\n<blockquote>\n<p>.ts files contains only pure TypeScript</p>\n</blockquote>\n<blockquote>\n<p>.tsx have included JSX also.</p>\n</blockquote>\n<p>On another point of view, you can copy everything from a <code>.ts</code> file and paste on <code>.tsx</code> file, and you don't need to modify anything. But if you're copying from a <code>.tsx</code> file you need to refactor it by removing the <code>JSX</code> elements.</p>\n"}], "owner": {"reputation": 439, "user_id": 10058489, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TByyO0xkE-Y/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rR1x3tkPy8nby-lOMcp5gOU2tnog/mo/photo.jpg?sz=128", "display_name": "Hafsa Mushtaq", "link": "https://stackoverflow.com/users/10058489/hafsa-mushtaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18546, "favorite_count": 3, "accepted_answer_id": 56871491, "answer_count": 4, "score": 28, "last_activity_date": 1615023015, "creation_date": 1562160795, "last_edit_date": 1613552442, "question_id": 56871384, "link": "https://stackoverflow.com/questions/56871384/what-is-the-difference-between-ts-and-tsx-extensions-both-are-used-as-extensi", "title": "What is the difference between .ts and .tsx extensions. Both are used as extensions for typescript files in react. So where should we use them?", "body": "<p>I am new to react and I am working on a project. I come across both <code>.ts</code> and <code>.tsx</code> extensions. I don't understand where should I use <code>.ts</code> and <code>.tsx</code>. Any help on this is much appreciated. Thank you!</p>\n"}, {"tags": ["typescript", "nestjs", "class-validator"], "comments": [{"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1562170634, "post_id": 56871238, "comment_id": 100297028, "body": "I think your best bet would be to use a pipe, but even then you&#39;ll still have to use the three DTOs to be able to whittle away at the unwanted fields. Seeing as you are using `class-transformer, you could create a method that allows you to get such fields you&#39;re looking for. I&#39;m not aware of better solutions at the moment."}, {"owner": {"reputation": 103, "user_id": 1377247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fb0f1c7fb3631cdbf9693a3d75c2249?s=128&d=identicon&r=PG", "display_name": "Stuart Johnston", "link": "https://stackoverflow.com/users/1377247/stuart-johnston"}, "reply_to_user": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1562268227, "post_id": 56871238, "comment_id": 100333140, "body": "Thanks @JayMcDoniel. Eventually found <a href=\"https://www.npmjs.com/package/@types/stripe-v3\" rel=\"nofollow noreferrer\">@types/stripe-v3</a> which helps validate the event - but couldn&#39;t find a way to solve the original problem."}], "owner": {"reputation": 103, "user_id": 1377247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fb0f1c7fb3631cdbf9693a3d75c2249?s=128&d=identicon&r=PG", "display_name": "Stuart Johnston", "link": "https://stackoverflow.com/users/1377247/stuart-johnston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 884, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562160933, "creation_date": 1562160310, "last_edit_date": 1562160933, "question_id": 56871238, "link": "https://stackoverflow.com/questions/56871238/is-there-a-smarter-way-to-access-nested-attributes-using-a-dto-in-nestjs", "title": "Is there a smarter way to access nested attributes using a DTO in NestJS?", "body": "<p>Stripe sends a webhook that looks like this</p>\n\n<pre><code>{\n    \"created\": 1326853478,\n    \"livemode\": false,\n    \"id\": \"evt_00000000000000\",\n    \"type\": \"checkout.session.completed\",\n    \"object\": \"event\",\n    \"request\": null,\n    \"pending_webhooks\": 1,\n    \"api_version\": \"2016-07-06\",\n    \"data\": {\n        \"object\": {\n            \"id\": \"cs_00000000000000\",\n            \"object\": \"checkout.session\",\n            \"billing_address_collection\": null,\n            \"cancel_url\": \"https://example.com/cancel\",\n            \"client_reference_id\": \"ABC\",\n            \"customer\": \"DEF\",\n            \"customer_email\": null,\n            \"display_items\": [\n                {\n                    \"amount\": 1500,\n                    \"currency\": \"usd\",\n                    \"custom\": {\n                        \"description\": \"Comfortable cotton t-shirt\",\n                        \"images\": null,\n                        \"name\": \"T-shirt\"\n                    },\n                    \"quantity\": 2,\n                    \"type\": \"custom\"\n                }\n            ],\n            \"livemode\": false,\n            \"locale\": null,\n            \"payment_intent\": \"pi_00000000000000\",\n            \"payment_method_types\": [\n                \"card\"\n            ],\n            \"submit_type\": null,\n            \"subscription\": null,\n            \"success_url\": \"https://example.com/success\"\n        }\n    }\n}\n</code></pre>\n\n<p>Here is my controller that receives it:</p>\n\n<pre><code>import { Controller, Post, Body, ValidationPipe, UsePipes } from '@nestjs/common';\nimport { CheckoutWebhookDto } from './checkout-webhook.dto';\n\n@Controller('webhooks')\nexport class StripeWebhooksController {\n\n  @Post('checkout')\n  @UsePipes(new ValidationPipe({transform: true}))\n  async checkout(@Body() data: CheckoutWebhookDto) {\n    console.log(\"Output:\", data)\n    return\n\n  }\n\n}\n</code></pre>\n\n<p>and my current Dto</p>\n\n<pre><code>import { ValidateNested, IsNotEmpty } from 'class-validator';\nimport { Type } from 'class-transformer';\n\n\nexport class CheckoutWebhookObjectDto  {\n  @IsNotEmpty()\n  readonly client_reference_id: string;\n\n  @IsNotEmpty()\n  readonly customer: string;\n}\n\nexport class CheckoutWebhookDataDto  {\n  @ValidateNested()\n  @Type(() =&gt; CheckoutWebhookObjectDto)\n  readonly object: CheckoutWebhookObjectDto;\n}\n\nexport class CheckoutWebhookDto  {\n  @ValidateNested()\n  @Type(() =&gt; CheckoutWebhookDataDto)\n  readonly data: CheckoutWebhookDataDto;\n}\n</code></pre>\n\n<p>I want to extract out</p>\n\n<p><code>data.object.client_reference_id</code> and <code>data.object.customer</code></p>\n\n<p>The only way I can do this is to create 3 Dtos nested inside each other.</p>\n\n<p>I appreciate I can do <code>@Body('data')</code> to shorten it to 2 - but is there a way to have a single Dto so that the final data object is just:</p>\n\n<pre><code>{\n  client_reference_id: \"ABC\",\n  customer: \"DEF\"\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2342, "user_id": 8325761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3NZk.jpg?s=128&g=1", "display_name": "bubbles", "link": "https://stackoverflow.com/users/8325761/bubbles"}, "edited": false, "score": 0, "creation_date": 1562164478, "post_id": 56871122, "comment_id": 100293603, "body": "how you call <code>myFunc</code> ? on which object, temp ?"}, {"owner": {"reputation": 63, "user_id": 6365816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ektXZsT0_5s/AAAAAAAAAAI/AAAAAAAAACk/caJcnFecbf4/photo.jpg?sz=128", "display_name": "Antoine Olivier", "link": "https://stackoverflow.com/users/6365816/antoine-olivier"}, "reply_to_user": {"reputation": 2342, "user_id": 8325761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3NZk.jpg?s=128&g=1", "display_name": "bubbles", "link": "https://stackoverflow.com/users/8325761/bubbles"}, "edited": false, "score": 0, "creation_date": 1562165518, "post_id": 56871122, "comment_id": 100294295, "body": "Yes, or a copy of temp reinjected in the original array."}, {"owner": {"reputation": 2342, "user_id": 8325761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3NZk.jpg?s=128&g=1", "display_name": "bubbles", "link": "https://stackoverflow.com/users/8325761/bubbles"}, "edited": false, "score": 0, "creation_date": 1562165762, "post_id": 56871122, "comment_id": 100294436, "body": "you think that the problem comes from the copy ? if so try <a href=\"https://lodash.com/docs/4.17.11#cloneDeep\" rel=\"nofollow noreferrer\">lodash.com/docs/4.17.11#cloneDeep</a> ... for me your error message comes from another thing that we are not seeing in your post"}], "answers": [{"tags": [], "owner": {"reputation": 606, "user_id": 7329611, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8WGBQFIL-Yg/AAAAAAAAAAI/AAAAAAAACpg/Tei1OxXfTAg/photo.jpg?sz=128", "display_name": "Severin Klug", "link": "https://stackoverflow.com/users/7329611/severin-klug"}, "is_accepted": false, "score": 0, "last_activity_date": 1562160939, "last_edit_date": 1562160939, "creation_date": 1562160500, "answer_id": 56871284, "question_id": 56871122, "link": "https://stackoverflow.com/questions/56871122/function-does-not-recognize-copy-of-array-of-arrays-of-objects-in-typescript/56871284#56871284", "title": "Function does not recognize copy of array of arrays of objects in typescript", "body": "<p>You have only copied the reference. You need to copy the array to a new reference.</p>\n\n<pre><code>const copyOfArray = [...originalObject];\n</code></pre>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/728360/how-do-i-correctly-clone-a-javascript-object\">How do I correctly clone a JavaScript object?</a></p>\n"}], "owner": {"reputation": 63, "user_id": 6365816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ektXZsT0_5s/AAAAAAAAAAI/AAAAAAAAACk/caJcnFecbf4/photo.jpg?sz=128", "display_name": "Antoine Olivier", "link": "https://stackoverflow.com/users/6365816/antoine-olivier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562164031, "creation_date": 1562159932, "last_edit_date": 1562164031, "question_id": 56871122, "link": "https://stackoverflow.com/questions/56871122/function-does-not-recognize-copy-of-array-of-arrays-of-objects-in-typescript", "title": "Function does not recognize copy of array of arrays of objects in typescript", "body": "<p>I have an array of array of objects (from a class) which is an attribute of my component and a function that takes it as an argument.</p>\n\n<pre><code>myFunc(MyClass[][]) {...}\n</code></pre>\n\n<p>In another function I  modify this array of arrays. But sometimes I want to reverse the changes. I tried to to do a copy of it like that : </p>\n\n<pre><code>let temp = myArray.map(line =&gt; Object.assign([], line.map(obj =&gt; Object.assign({}, obj))));\n</code></pre>\n\n<p>When I log in the console it is identical. Then I replace the attribute with the copy if I need to reverse the changes. But when myFunc is called I got this : </p>\n\n<pre><code>ERROR TypeError: \"myFunc is not a function\"\n</code></pre>\n\n<p>The function works prefectly fine when I don't use a copy.\nWhy is it happening ?</p>\n"}, {"tags": ["node.js", "typescript", "graphql", "typeorm"], "owner": {"reputation": 55, "user_id": 4420945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rwo8m.png?s=128&g=1", "display_name": "Sigfrid Stj&#228;rnholm", "link": "https://stackoverflow.com/users/4420945/sigfrid-stj%c3%a4rnholm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1562225896, "creation_date": 1562159208, "last_edit_date": 1562225896, "question_id": 56870857, "link": "https://stackoverflow.com/questions/56870857/initialize-object-with-empty-array-parameter-in-graphql", "title": "Initialize object with empty array parameter in GraphQL", "body": "<p>I have an <strong>Icon</strong> entity which has a list of <strong>Category</strong>:</p>\n\n<pre><code>import { Entity, Column, ManyToMany } from \"typeorm\";\nimport { ObjectType, Field } from \"type-graphql\";\n\nimport { Base } from \"./Base\";\nimport { Category } from \"./Category\";\n\n@ObjectType()\n@Entity()\nexport class Icon extends Base {\n\n    @Field()\n    @Column()\n    name: string;\n\n    @Field(() =&gt; [Category])\n    @ManyToMany(() =&gt; Category, category =&gt; category.icons)\n    categories: Category[];\n}\n</code></pre>\n\n<p>In my mutation in <strong>IconResolver</strong>:</p>\n\n<pre><code>@Mutation(() =&gt; Icon!)\n  async createIcon(\n    @Arg(\"input\") input: CreateIconInput\n  ): Promise&lt;Icon&gt; {\n    return  Icon.create(input).save();\n  }\n</code></pre>\n\n<p>With an input type:</p>\n\n<pre><code>@InputType()\nclass CreateIconInput implements Partial&lt;Icon&gt; {\n  @Field() name!: string;\n}\n</code></pre>\n\n<p>If I run the mutation in Apollo GraphQL Client</p>\n\n<pre><code>mutation\n{\ncreateIcon(input:{name: \"Ice cream\" code: \"icecream_Cone\" })\n  { \n    id \n    name \n    categories\n    {\n      id \n      name\n    } \n  }\n}\n</code></pre>\n\n<p>I get the error: </p>\n\n<blockquote>\n  <p>$\"Cannot return null for non-nullable field Icon.categories.\"$</p>\n</blockquote>\n\n<p>How would I initialize the category array to be an empty array instead of null? I have tried to put code in the <code>createIcon</code> function that creates a new <code>Icon</code>, copies the parameters from input to the new <code>Icon</code>, changes the <code>item.categories</code> array to an empty <code>Category</code> array, and then saves that new item instead of the input. However, this does not work, which seems very weird as it should save the empty array.<br>\nIs there something wrong in the entity definition?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "webpack", "es6-class"], "comments": [{"owner": {"reputation": 733, "user_id": 3063191, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KXqpt.jpg?s=128&g=1", "display_name": "jlang", "link": "https://stackoverflow.com/users/3063191/jlang"}, "edited": false, "score": 0, "creation_date": 1572516501, "post_id": 56870661, "comment_id": 103587380, "body": "Is it valid to <code>return</code> something in a <code>constructor</code>?"}, {"owner": {"reputation": 3741, "user_id": 15186, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y5hs4.jpg?s=128&g=1", "display_name": "Olivier MATROT", "link": "https://stackoverflow.com/users/15186/olivier-matrot"}, "reply_to_user": {"reputation": 733, "user_id": 3063191, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KXqpt.jpg?s=128&g=1", "display_name": "jlang", "link": "https://stackoverflow.com/users/3063191/jlang"}, "edited": false, "score": 2, "creation_date": 1572517979, "post_id": 56870661, "comment_id": 103588296, "body": "@jlang Please see <a href=\"https://stackoverflow.com/questions/40961778/returning-es6-proxy-from-the-es6-class-constructor\">this</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3002324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe13ff727e287bf4686be1275a2eee66?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Jarwan", "link": "https://stackoverflow.com/users/3002324/ali-jarwan"}, "is_accepted": false, "score": -3, "last_activity_date": 1562161979, "last_edit_date": 1562161979, "creation_date": 1562159444, "answer_id": 56870932, "question_id": 56870661, "link": "https://stackoverflow.com/questions/56870661/angular-7-2-1-es6-class-referenceerror-cannot-access-x-before-initializatio/56870932#56870932", "title": "Angular: 7.2.1 ES6 class ReferenceError : Cannot access &#39;X&#39; before initialization", "body": "<p>that make sense, you are passing the local object (<code>Vehicle</code>) to the parent class within constructor <code>return super.proxify(this);</code>. </p>\n\n<p>Keep in mind the local <code>Vehicle</code> instance has not been instantiated yet (constructor block is not finished yet), so you cannot use this object in the mean time, you need to wait the constructor to done it's job.</p>\n"}, {"comments": [{"owner": {"reputation": 1813, "user_id": 1254498, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/abe50b98596ba000c9f0e02358ae9689?s=128&d=identicon&r=PG", "display_name": "qdelettre", "link": "https://stackoverflow.com/users/1254498/qdelettre"}, "edited": false, "score": 1, "creation_date": 1583931650, "post_id": 59424454, "comment_id": 107277248, "body": "You can use <a href=\"https://github.com/cexbrayat/angular-cli-diff\" rel=\"nofollow noreferrer\">github.com/cexbrayat/angular-cli-diff</a> to check a lot of stuff, included tsconfig"}], "tags": [], "owner": {"reputation": 6968, "user_id": 5490505, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-6-yKyG1ZZUI/AAAAAAAAAAI/AAAAAAAAABA/5a7UfitqO5Y/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/5490505/john"}, "is_accepted": true, "score": 39, "last_activity_date": 1577637166, "last_edit_date": 1592644375, "creation_date": 1576840756, "answer_id": 59424454, "question_id": 56870661, "link": "https://stackoverflow.com/questions/56870661/angular-7-2-1-es6-class-referenceerror-cannot-access-x-before-initializatio/59424454#59424454", "title": "Angular: 7.2.1 ES6 class ReferenceError : Cannot access &#39;X&#39; before initialization", "body": "<p>You're probably running into this Angular issue: <a href=\"https://github.com/angular/angular-cli/issues/15077\" rel=\"noreferrer\">https://github.com/angular/angular-cli/issues/15077</a>.</p>\n<p>From that issue:</p>\n<blockquote>\n<p>Hi, is there a reason why you need emitDecoratorMetadata to be true?</p>\n<p>This TypeScript option has a fundamental design limitation with ES2015+ code and is best avoided when targeting such output. As such this is an issue with TypeScript itself and not Angular.</p>\n<p>Angular 8+ no longer requires the option. It was also previously only required for JIT mode which is typically only used in development.</p>\n</blockquote>\n<p>The solution is to set <code>&quot;emitDecoratorMetadata&quot;: false</code> in your tsconfig.json file.</p>\n<p><em>Side note:</em>\n<em>I must say, given that previous versions of the Angular CLI automatically added <code>emitDecoratorMetadata: true</code>, and there's no reason I can see why a dev should know that <code>emitDecoratorMetadata</code> should now be <code>false</code>, it's pretty horrible that the Angular team basically said &quot;this isn't our problem&quot; and closed the issue without action. This could have been easily &quot;fixed&quot; by adding some better documentation (as pointed out by someone in the linked issue).</em></p>\n"}, {"comments": [{"owner": {"reputation": 6097, "user_id": 286121, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb7efbefaa98aa762ea5aa390abd183?s=128&d=identicon&r=PG&f=1", "display_name": "gyozo kudor", "link": "https://stackoverflow.com/users/286121/gyozo-kudor"}, "edited": false, "score": 0, "creation_date": 1600158820, "post_id": 62256771, "comment_id": 112992418, "body": "This was the problem for me, I didn&#39;t know you couldn&#39;t do that."}], "tags": [], "owner": {"reputation": 13321, "user_id": 924597, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/V1jPU.jpg?s=128&g=1", "display_name": "Shorn", "link": "https://stackoverflow.com/users/924597/shorn"}, "is_accepted": false, "score": 8, "last_activity_date": 1591600192, "creation_date": 1591600192, "answer_id": 62256771, "question_id": 56870661, "link": "https://stackoverflow.com/questions/56870661/angular-7-2-1-es6-class-referenceerror-cannot-access-x-before-initializatio/62256771#62256771", "title": "Angular: 7.2.1 ES6 class ReferenceError : Cannot access &#39;X&#39; before initialization", "body": "<p>Note that this error can also be caused by defining two public <code>@Injectable</code> classes within the same <code>.ts</code> file.</p>\n\n<p>I've tripped over this more than once when I'm just prototyping stuff locally (especially when refactoring one service into multiple).</p>\n\n<p>Setting <code>emitDecoratorMetadata: false</code> does fix this situation as well; but in case you're in a hurry to fix something or don't want fiddle with the<code>tsconfig.json</code> file on a large project - it's useful to know that you might be able to fix it by just copying one of the classes into a new file.</p>\n"}, {"tags": [], "owner": {"reputation": 363, "user_id": 394674, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/T4lPB.jpg?s=128&g=1", "display_name": "Samih A", "link": "https://stackoverflow.com/users/394674/samih-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1599118742, "creation_date": 1599118742, "answer_id": 63718962, "question_id": 56870661, "link": "https://stackoverflow.com/questions/56870661/angular-7-2-1-es6-class-referenceerror-cannot-access-x-before-initializatio/63718962#63718962", "title": "Angular: 7.2.1 ES6 class ReferenceError : Cannot access &#39;X&#39; before initialization", "body": "<p>in Angular 8, having entryComponent declared as an empty list in a SharedModule caused this issue for me</p>\n<p>entryComponent: []</p>\n<p>after removing entryComponent, everything worked fine</p>\n"}, {"comments": [{"owner": {"reputation": 605, "user_id": 8522818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yRfm5.jpg?s=128&g=1", "display_name": "Wesley Gon&#231;alves", "link": "https://stackoverflow.com/users/8522818/wesley-gon%c3%a7alves"}, "edited": false, "score": 2, "creation_date": 1604345239, "post_id": 64515319, "comment_id": 114314313, "body": "Care to explain why the -1? Thks"}, {"owner": {"reputation": 94, "user_id": 4529885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78deb61ab90a1c3eb6fce059807ca472?s=128&d=identicon&r=PG", "display_name": "Guilherme Brunow", "link": "https://stackoverflow.com/users/4529885/guilherme-brunow"}, "edited": false, "score": 3, "creation_date": 1605052537, "post_id": 64515319, "comment_id": 114533886, "body": "This is definitely relevant and helped me figure out my issue. In my case I had a service S provided by ModuleA, used internally and by ModuleB (that didn&#39;t import ModuleA). This wasn&#39;t quite the issue, but rather that service S should&#39;ve been provided by ModuleC instead."}], "tags": [], "owner": {"reputation": 605, "user_id": 8522818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yRfm5.jpg?s=128&g=1", "display_name": "Wesley Gon&#231;alves", "link": "https://stackoverflow.com/users/8522818/wesley-gon%c3%a7alves"}, "is_accepted": false, "score": 14, "last_activity_date": 1603555121, "creation_date": 1603555121, "answer_id": 64515319, "question_id": 56870661, "link": "https://stackoverflow.com/questions/56870661/angular-7-2-1-es6-class-referenceerror-cannot-access-x-before-initializatio/64515319#64515319", "title": "Angular: 7.2.1 ES6 class ReferenceError : Cannot access &#39;X&#39; before initialization", "body": "<p>I was getting this error due to a circular dependency, like</p>\n<ul>\n<li>A injected with B</li>\n<li>B injected with C</li>\n<li>C injected with A</li>\n</ul>\n<p>Removing the circular dependecy fixed this error.</p>\n"}], "owner": {"reputation": 3741, "user_id": 15186, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y5hs4.jpg?s=128&g=1", "display_name": "Olivier MATROT", "link": "https://stackoverflow.com/users/15186/olivier-matrot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44378, "favorite_count": 2, "accepted_answer_id": 59424454, "answer_count": 5, "score": 34, "last_activity_date": 1603555121, "creation_date": 1562158519, "last_edit_date": 1562231937, "question_id": 56870661, "link": "https://stackoverflow.com/questions/56870661/angular-7-2-1-es6-class-referenceerror-cannot-access-x-before-initializatio", "title": "Angular: 7.2.1 ES6 class ReferenceError : Cannot access &#39;X&#39; before initialization", "body": "<p>I'm having the following TypeScript class </p>\n\n<pre><code>export class Vehicule extends TrackableEntity {\n  vehiculeId: number;\n  constructor() {\n    super();\n    return super.proxify(this);\n  }\n}\n</code></pre>\n\n<p>my typescript target in tsconfig.json is configured as es6:</p>\n\n<pre><code>\"compilerOptions\": {\n    \"module\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es6\",\n}\n</code></pre>\n\n<p>At runtime, here in Chrome, the code is failing with:</p>\n\n<pre><code>ReferenceError: Cannot access 'Vehicule' before initialization\n    at Module.Vehicule (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:10559:100)\n    at Module../src/app/domain/models/VehiculeGpsBoxInfo.ts (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:11156:69)\n    at __webpack_require__ (https://localhost:44338/runtime.js:84:30)\n    at Module../src/app/domain/models/Vehicule.ts (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:10571:78)\n    at __webpack_require__ (https://localhost:44338/runtime.js:84:30)\n    at Module../src/app/components/dispositifsDATI/mainDATI/listDATI/listDATI.component.ts (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:6447:82)\n    at __webpack_require__ (https://localhost:44338/runtime.js:84:30)\n    at Module../src/app/components/dispositifsDATI/index.ts (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:3053:95)\n    at __webpack_require__ (https://localhost:44338/runtime.js:84:30)\n    at Module../src/app/components/dispositifsDATI/dispositifsDATI.routes.ts (https://localhost:44338/src-app-components-dispositifsDATI-dispositifsDATI-module.js:2982:64)\n</code></pre>\n\n<p>I needed to change es5 to es6 to solve <a href=\"https://stackoverflow.com/questions/51860043/javascript-es6-typeerror-class-constructor-client-cannot-be-invoked-without-ne\">this other problem</a>.</p>\n\n<hr>\n\n<p>EDIT:\nThe VehiculeGpsBoxInfo.ts file is importing Vehicule like this:</p>\n\n<pre><code>import { Vehicule } from \"./Vehicule\";\n</code></pre>\n\n<p>EDIT 2: I vould say that this may be webpack related, the way that modules are exported/imported in the genrated modules.</p>\n\n<p>EDIT 3: After further research, this seems to have nothing to do with the code shown above. Started a new question about <a href=\"https://stackoverflow.com/questions/56884546/do-i-need-to-configure-webpack-for-es6\">webpack and ES6</a>.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1562158053, "post_id": 56870503, "comment_id": 100289606, "body": "Check what the value of <code>this.locations[0]</code> is"}, {"owner": {"reputation": 4291, "user_id": 5122581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lx09Q.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/5122581/phillip"}, "edited": false, "score": 0, "creation_date": 1562158370, "post_id": 56870503, "comment_id": 100289815, "body": "Wouldn&#39;t <code>this.http.get&lt;Location[]&gt;(this.locationUrl);</code> return some observable that will yield JSON data (which you typecast to <code>Location</code>). Or does some magic happen underneath it all? Can you send a dump of the contents of <code>this.locations</code>?"}, {"owner": {"reputation": 734, "user_id": 6910748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5fHbkOcN4Ls/AAAAAAAAAAI/AAAAAAAAAEU/7dfQUZ-FG_U/photo.jpg?sz=128", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/6910748/sunny-parekh"}, "edited": false, "score": 0, "creation_date": 1562160424, "post_id": 56870503, "comment_id": 100291213, "body": "Please mentioned the data that you get in this.locations[0]. It will be helpful to solve your problem."}, {"owner": {"reputation": 3, "user_id": 11734370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce3d135c2eff205b2de0d6903921de2?s=128&d=identicon&r=PG&f=1", "display_name": "SNMP", "link": "https://stackoverflow.com/users/11734370/snmp"}, "reply_to_user": {"reputation": 4291, "user_id": 5122581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lx09Q.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/5122581/phillip"}, "edited": false, "score": 0, "creation_date": 1562178321, "post_id": 56870503, "comment_id": 100300527, "body": "@Phillip: locations: Array&lt;Location&gt; = [];"}, {"owner": {"reputation": 3, "user_id": 11734370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce3d135c2eff205b2de0d6903921de2?s=128&d=identicon&r=PG&f=1", "display_name": "SNMP", "link": "https://stackoverflow.com/users/11734370/snmp"}, "reply_to_user": {"reputation": 734, "user_id": 6910748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5fHbkOcN4Ls/AAAAAAAAAAI/AAAAAAAAAEU/7dfQUZ-FG_U/photo.jpg?sz=128", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/6910748/sunny-parekh"}, "edited": false, "score": 0, "creation_date": 1562178531, "post_id": 56870503, "comment_id": 100300618, "body": "@SunnyParekh -&gt; this.locations[0]:  {id: &quot;47973&quot;, objectTypeId: &quot;6&quot;, type: &quot;FOLDER&quot;, fields: {\u2026}, fav: false, \u2026} fav: false fields: {city: &quot;Henstedt-Ulzburg&quot;, street: &quot;Hamburger Stra&#223;e 55&quot;, company: &quot;# 300 339 #&quot;, plz: &quot;24558&quot;, info: &quot;&quot;} id: &quot;47973&quot; lastmodified: &quot;1538143201000&quot; objectTypeId: &quot;6&quot; pages: 0 type: &quot;FOLDER&quot; typeless: false proto: Object"}, {"owner": {"reputation": 3, "user_id": 11734370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce3d135c2eff205b2de0d6903921de2?s=128&d=identicon&r=PG&f=1", "display_name": "SNMP", "link": "https://stackoverflow.com/users/11734370/snmp"}, "reply_to_user": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1562178643, "post_id": 56870503, "comment_id": 100300667, "body": "@David: The value of this.locations[0] see message before."}, {"owner": {"reputation": 734, "user_id": 6910748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5fHbkOcN4Ls/AAAAAAAAAAI/AAAAAAAAAEU/7dfQUZ-FG_U/photo.jpg?sz=128", "display_name": "Sunny Parekh", "link": "https://stackoverflow.com/users/6910748/sunny-parekh"}, "edited": false, "score": 0, "creation_date": 1562218505, "post_id": 56870503, "comment_id": 100310364, "body": "@SNMP ok. In this object you are trying to call the getCoordinates method. And I am not seeing that in the object anywhere. So can you explain what do you want by calling that method? Is it some property that you are trying to access? Please clarify."}, {"owner": {"reputation": 3, "user_id": 11734370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce3d135c2eff205b2de0d6903921de2?s=128&d=identicon&r=PG&f=1", "display_name": "SNMP", "link": "https://stackoverflow.com/users/11734370/snmp"}, "edited": false, "score": 0, "creation_date": 1562227322, "post_id": 56870503, "comment_id": 100314085, "body": "Here is a link to stackbiz: stackblitz.com/edit/angular-bjgtn4"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11734370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce3d135c2eff205b2de0d6903921de2?s=128&d=identicon&r=PG&f=1", "display_name": "SNMP", "link": "https://stackoverflow.com/users/11734370/snmp"}, "edited": false, "score": 0, "creation_date": 1562159704, "post_id": 56870758, "comment_id": 100290725, "body": "Thanks Sameer, but that does not solve my problem yet."}, {"owner": {"reputation": 509, "user_id": 4331358, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002472355560/picture?type=large", "display_name": "Sameer", "link": "https://stackoverflow.com/users/4331358/sameer"}, "reply_to_user": {"reputation": 3, "user_id": 11734370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce3d135c2eff205b2de0d6903921de2?s=128&d=identicon&r=PG&f=1", "display_name": "SNMP", "link": "https://stackoverflow.com/users/11734370/snmp"}, "edited": false, "score": 0, "creation_date": 1562160617, "post_id": 56870758, "comment_id": 100291332, "body": "what is value of this.locations[0] object ?"}, {"owner": {"reputation": 3, "user_id": 11734370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce3d135c2eff205b2de0d6903921de2?s=128&d=identicon&r=PG&f=1", "display_name": "SNMP", "link": "https://stackoverflow.com/users/11734370/snmp"}, "edited": false, "score": 0, "creation_date": 1562176402, "post_id": 56870758, "comment_id": 100299699, "body": "Hi Sameer, here&#39;s the value:  {id: &quot;47973&quot;, objectTypeId: &quot;6&quot;, type: &quot;FOLDER&quot;, fields: {\u2026}, fav: false, \u2026} fav: false fields: {city: &quot;Henstedt-Ulzburg&quot;, street: &quot;Hamburger Stra&#223;e 55&quot;, company: &quot;# 300 339 #&quot;, plz: &quot;24558&quot;, info: &quot;&quot;} id: &quot;47973&quot; lastmodified: &quot;1538143201000&quot; objectTypeId: &quot;6&quot; pages: 0 type: &quot;FOLDER&quot; typeless: false <b>proto</b>: Object"}, {"owner": {"reputation": 509, "user_id": 4331358, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002472355560/picture?type=large", "display_name": "Sameer", "link": "https://stackoverflow.com/users/4331358/sameer"}, "reply_to_user": {"reputation": 3, "user_id": 11734370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce3d135c2eff205b2de0d6903921de2?s=128&d=identicon&r=PG&f=1", "display_name": "SNMP", "link": "https://stackoverflow.com/users/11734370/snmp"}, "edited": false, "score": 0, "creation_date": 1562177463, "post_id": 56870758, "comment_id": 100300179, "body": "try to remove public access modifier. I not sure about that what problem you are facing"}, {"owner": {"reputation": 3, "user_id": 11734370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce3d135c2eff205b2de0d6903921de2?s=128&d=identicon&r=PG&f=1", "display_name": "SNMP", "link": "https://stackoverflow.com/users/11734370/snmp"}, "edited": false, "score": 0, "creation_date": 1562178808, "post_id": 56870758, "comment_id": 100300732, "body": "I did it, but unfortunately the result is the same."}, {"owner": {"reputation": 509, "user_id": 4331358, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002472355560/picture?type=large", "display_name": "Sameer", "link": "https://stackoverflow.com/users/4331358/sameer"}, "reply_to_user": {"reputation": 3, "user_id": 11734370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce3d135c2eff205b2de0d6903921de2?s=128&d=identicon&r=PG&f=1", "display_name": "SNMP", "link": "https://stackoverflow.com/users/11734370/snmp"}, "edited": false, "score": 0, "creation_date": 1562179211, "post_id": 56870758, "comment_id": 100300928, "body": "Then you need to create stackbiz link. if want more help"}], "tags": [], "owner": {"reputation": 509, "user_id": 4331358, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002472355560/picture?type=large", "display_name": "Sameer", "link": "https://stackoverflow.com/users/4331358/sameer"}, "is_accepted": false, "score": 0, "last_activity_date": 1562232021, "last_edit_date": 1562232021, "creation_date": 1562158888, "answer_id": 56870758, "question_id": 56870503, "link": "https://stackoverflow.com/questions/56870503/error-typeerror-this-locations0-getcoordinates-is-not-a-function/56870758#56870758", "title": "ERROR TypeError: this.locations[0].getCoordinates is not a function", "body": "<p>Try this</p>\n\n<pre><code>getLocations(): Observable&lt;Location[]&gt;{\n    return this.http.get&lt;Location[]&gt;(this.locationUrl)\n  .pipe(map( (items: any[]) =&gt; \n   items.map(i =&gt; Object.assign(new Location(), i)); ));\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 509, "user_id": 4331358, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002472355560/picture?type=large", "display_name": "Sameer", "link": "https://stackoverflow.com/users/4331358/sameer"}, "edited": false, "score": 0, "creation_date": 1562229806, "post_id": 56882595, "comment_id": 100315331, "body": "why i need to iterate over all items. There should be some simpler way of doing it."}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "reply_to_user": {"reputation": 509, "user_id": 4331358, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002472355560/picture?type=large", "display_name": "Sameer", "link": "https://stackoverflow.com/users/4331358/sameer"}, "edited": false, "score": 0, "creation_date": 1562230924, "post_id": 56882595, "comment_id": 100315998, "body": "@Sameer I don&#39;t think there is any other way. You&#39;ve got a list of objects from which you wang to create instances of  <code>Location</code> class, so you need to do that for each item"}], "tags": [], "owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "is_accepted": true, "score": 0, "last_activity_date": 1562224917, "creation_date": 1562224917, "answer_id": 56882595, "question_id": 56870503, "link": "https://stackoverflow.com/questions/56870503/error-typeerror-this-locations0-getcoordinates-is-not-a-function/56882595#56882595", "title": "ERROR TypeError: this.locations[0].getCoordinates is not a function", "body": "<p>This is because, the list of <code>Location</code> objects retrieved from your <code>getLocations</code> method are not instances of the <code>Location</code> class. What you have now is just typescript syntaxic sugar, saying that what is returned by <code>getLocations</code> <em>should</em> have the properties of the <code>Location</code> class, but it does not have to.</p>\n\n<p>You need to modify your code as follows to return real instances of the <code>Location</code> class</p>\n\n<pre><code>import {map} from \"rxjs/operators\";\n\ngetLocations(): Observable&lt;Location[]&gt;\n{\n    return this.http.get(this.locationUrl).pipe\n    (map( (items: any[]) =&gt; items.map(i =&gt; Object.assign(new Location(), i));\n    ));\n }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11734370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce3d135c2eff205b2de0d6903921de2?s=128&d=identicon&r=PG&f=1", "display_name": "SNMP", "link": "https://stackoverflow.com/users/11734370/snmp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 56882595, "answer_count": 2, "score": -1, "last_activity_date": 1562233868, "creation_date": 1562157986, "last_edit_date": 1562233868, "question_id": 56870503, "link": "https://stackoverflow.com/questions/56870503/error-typeerror-this-locations0-getcoordinates-is-not-a-function", "title": "ERROR TypeError: this.locations[0].getCoordinates is not a function", "body": "<p>When I try to call the method of my <code>class (getCoordinates())</code> I get the following Error:</p>\n\n<blockquote>\n  <p>ERROR TypeError: this.locations[0].getCoordinates is not a function</p>\n</blockquote>\n\n<p>Where is my mistake?</p>\n\n<p>My service method:</p>\n\n<pre><code>getLocations(){\n    return this.http.get&lt;Location[]&gt;(this.locationUrl);\n  }\n</code></pre>\n\n<p>My model:</p>\n\n<pre><code>export class Location {\n    id: number;\n    objectTypeId: number;\n    type: string;\n    fields: Fields;\n    fav: boolean;\n    typeless: boolean;\n    pages: number;\n    lastmodified: string;\n\n    public getCoordinates(): number {\n        return this.id;\n    }\n}\n\nexport class Fields {\n    city: string;\n    street: string;\n    company: string;\n    plz: string;\n    info: string;\n}\n</code></pre>\n\n<p>My component:</p>\n\n<pre><code>public locations: Array&lt;Location&gt; = [];\n\nngOnInit() {\n    this.getAddresses();\n  }\n\ngetAddresses() {\n    this.enaioService.getLocations()\n      .subscribe(data =&gt; \n        this.locations = data,\n        (error: HttpErrorResponse) =&gt; this.errorMessage = error.message\n      );\n  }\n\nonClick() {\n    console.log(this.locations[0].getCoordinates()); // Here the error occurs\n  }\n</code></pre>\n\n<pre><code>https://stackblitz.com/edit/angular-bjgtn4\n</code></pre>\n\n<p>My Project: <a href=\"https://bitbucket.org/sven_hagemann/myproject/src/master/\" rel=\"nofollow noreferrer\">https://bitbucket.org/sven_hagemann/myproject/src/master/</a>\n<br>\nClone: git clone <a href=\"https://sven_hagemann@bitbucket.org/sven_hagemann/myproject.git\" rel=\"nofollow noreferrer\">https://sven_hagemann@bitbucket.org/sven_hagemann/myproject.git</a></p>\n"}, {"tags": ["typescript", "nestjs"], "comments": [{"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1562170020, "post_id": 56870498, "comment_id": 100296752, "body": "In you <code>ItemsModule</code> are you importing <code>MongooseModule.forFeature([{name: &#39;Item&#39;, schema: ItemSchema}])</code>?"}, {"owner": {"reputation": 625, "user_id": 6813164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fthgr5ScFBw/AAAAAAAAAAI/AAAAAAAAAFI/N9OQFaQGwR8/photo.jpg?sz=128", "display_name": "Muhammad Aadil Banaras", "link": "https://stackoverflow.com/users/6813164/muhammad-aadil-banaras"}, "reply_to_user": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1562240136, "post_id": 56870498, "comment_id": 100321130, "body": "yes i have added this"}, {"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1562265050, "post_id": 56870498, "comment_id": 100332291, "body": "Hmm, without seeing you <code>ItemsModule</code> and the <code>ItemSchema</code> files, it&#39;s gonna be hard to debug this. When this happens it is due to the fact that Nest cannot find the Module/Service you are injecting, usually meaning it is either not defined correctly in your Module file, or it is not implemented correctly."}], "answers": [{"comments": [{"owner": {"reputation": 1055, "user_id": 6556658, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a44fc54e7c6f0a02390826930f360a52?s=128&d=identicon&r=PG&f=1", "display_name": "Platus", "link": "https://stackoverflow.com/users/6556658/platus"}, "edited": false, "score": 1, "creation_date": 1587166633, "post_id": 57813655, "comment_id": 108412362, "body": "Thanks for the solution, it works, however I don&#39;t understand why importing ItemsController and ItemsService in the items.module.ts would cause a bug?"}, {"owner": {"reputation": 77, "user_id": 3809143, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Lastl.jpg?s=128&g=1", "display_name": "Shariati", "link": "https://stackoverflow.com/users/3809143/shariati"}, "edited": false, "score": 0, "creation_date": 1604504814, "post_id": 57813655, "comment_id": 114368357, "body": "Removing itemsServices and ItemsController from app.module.ts worked."}], "tags": [], "owner": {"reputation": 291, "user_id": 11847142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4aa3274c1eff30f65648fcdaebcb35e?s=128&d=identicon&r=PG", "display_name": "DanielFryy", "link": "https://stackoverflow.com/users/11847142/danielfryy"}, "is_accepted": false, "score": 29, "last_activity_date": 1567722332, "creation_date": 1567722332, "answer_id": 57813655, "question_id": 56870498, "link": "https://stackoverflow.com/questions/56870498/nest-cant-resolve-dependencies-of-the-itemsservice-please-make-sure-that-t/57813655#57813655", "title": "Nest can&#39;t resolve dependencies of the ItemsService (?). Please make sure that the argument at index [0] is available in the AppModule context", "body": "<p>In order to solve it you have to remove the ItemsController and ItemsService imports from the <code>app.module.ts</code> file.</p>\n\n<p>This was the solution because:</p>\n\n<ol>\n<li>You already import ItemsController and ItemsService in your <code>items.module.ts</code> file so it's not necessary to import\nthem again in the <code>app.module.ts</code> file.</li>\n<li>In your <code>items.module.ts</code> you have the next line:\n\n<pre class=\"lang-js prettyprint-override\"><code>@Module({\n  imports: [MongooseModule.forFeature([{ name: 'Item', schema: ItemSchema }])],\n  ...\n})\n</code></pre>\n\nwhich is necessary to make the dependency injection in the <code>items.service.ts</code> file works, as you can check in the\n<code>app.module.ts</code> file you don't have that line.</li>\n<li>Of course you can add that line to your <code>app.module.ts</code> file but then there's no sense to create the\n<code>items.module.ts</code> file.</li>\n</ol>\n\n<p>Check my <a href=\"https://github.com/DanielFryy/NestJS-Crash-Course-TraversyMediaTutorial\" rel=\"noreferrer\">repo</a> xD. </p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8247639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2IVqV.jpg?s=128&g=1", "display_name": "Nandika Jeevantha", "link": "https://stackoverflow.com/users/8247639/nandika-jeevantha"}, "is_accepted": false, "score": 3, "last_activity_date": 1593088321, "creation_date": 1593088321, "answer_id": 62575413, "question_id": 56870498, "link": "https://stackoverflow.com/questions/56870498/nest-cant-resolve-dependencies-of-the-itemsservice-please-make-sure-that-t/62575413#62575413", "title": "Nest can&#39;t resolve dependencies of the ItemsService (?). Please make sure that the argument at index [0] is available in the AppModule context", "body": "<p>I also faced to the same problem.I removed the ItemsController and ItemsService files from the app.module.ts.now it works fine.so the app.module.ts looks like this.</p>\n<pre><code>import { Module } from '@nestjs/common';\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\nimport { ItemsController } from './items/items.controller';\nimport { ItemsService } from './items/items.service';\nimport {MongooseModule} from '@nestjs/mongoose';import { ItemsModule } from \n './items/items.module';\nimport config from './config/keys';\n\n@Module({\n  imports: [ItemsModule,MongooseModule.forRoot(config.mongoURI)],\n  controllers: [AppController ],\n  providers: [AppService ],\n})\nexport class AppModule {}\n</code></pre>\n"}], "owner": {"reputation": 625, "user_id": 6813164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fthgr5ScFBw/AAAAAAAAAAI/AAAAAAAAAFI/N9OQFaQGwR8/photo.jpg?sz=128", "display_name": "Muhammad Aadil Banaras", "link": "https://stackoverflow.com/users/6813164/muhammad-aadil-banaras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14710, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1593088321, "creation_date": 1562157969, "question_id": 56870498, "link": "https://stackoverflow.com/questions/56870498/nest-cant-resolve-dependencies-of-the-itemsservice-please-make-sure-that-t", "title": "Nest can&#39;t resolve dependencies of the ItemsService (?). Please make sure that the argument at index [0] is available in the AppModule context", "body": "<p>I follwed Nest JS Crash tutorial, <a href=\"https://www.youtube.com/watch?v=wqhNoDE6pb4\" rel=\"noreferrer\">Youtube Link</a>,\nI followed this, but when i import interface in service it shows error</p>\n\n<blockquote>\n  <p>Nest can't resolve dependencies of the ItemsService (?). Please make sure that the argument at index [0] is available in the AppModule context.</p>\n</blockquote>\n\n<p>I i cloned repository given in tutorial, it is working fine, but when i copy src folder of that repository to my project it then throws error.\nhere is my Service file</p>\n\n<pre><code>import { Injectable } from '@nestjs/common';\nimport { Item } from './interfaces/item.interface';\nimport { Model } from 'mongoose';\n\nimport { ItemsModule } from './items.module'\n\nimport { InjectModel } from '@nestjs/mongoose';\n\n@Injectable()\nexport class ItemsService {\n  constructor(@InjectModel('Item') private readonly itemModel: Model&lt;Item&gt;) {}\n});\n\n}\n</code></pre>\n\n<p>when I comment constructor line it works fine,\nI think issue is with this line, </p>\n\n<blockquote>\n  <p>import { Model } from 'mongoose';</p>\n</blockquote>\n\n<p>because when i hover on this line it shows could not find declaration for this module.\nI even tried copying package.json file of working code to test but still error remains same</p>\n\n<blockquote>\n  <p>My module Items contains, controller file, service file, module file,\n  dto file, interface file, schema file,</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "components", "angular5"], "comments": [{"owner": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 0, "creation_date": 1562158797, "post_id": 56870420, "comment_id": 100290124, "body": "I&#39;m expert with angular but tried to reproduce your issue but I couldn&#39;t: <a href=\"https://stackblitz.com/edit/angular-yvjun5\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-yvjun5</a>"}, {"owner": {"reputation": 190, "user_id": 5848468, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LXA9qi8VBlw/AAAAAAAAAAI/AAAAAAAAASc/zskIY7MpRio/photo.jpg?sz=128", "display_name": "Nadee", "link": "https://stackoverflow.com/users/5848468/nadee"}, "reply_to_user": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 0, "creation_date": 1562158928, "post_id": 56870420, "comment_id": 100290216, "body": "@MoshFeu Is it possible to pass value from app component to index.html file ? because in angular we can pass data between components , right ?"}, {"owner": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 0, "creation_date": 1562158964, "post_id": 56870420, "comment_id": 100290235, "body": "index.html is not the template of the component so I guess not.."}], "owner": {"reputation": 190, "user_id": 5848468, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LXA9qi8VBlw/AAAAAAAAAAI/AAAAAAAAASc/zskIY7MpRio/photo.jpg?sz=128", "display_name": "Nadee", "link": "https://stackoverflow.com/users/5848468/nadee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562170697, "creation_date": 1562157714, "last_edit_date": 1562170697, "question_id": 56870420, "link": "https://stackoverflow.com/questions/56870420/cannot-pass-value-from-app-component-to-id-attribute-in-index-html-in-angular5", "title": "cannot pass value from app component to id attribute in index.html in angular5", "body": "<p>I have angular5 application which I want to enable or disable id attribute value of index.html file in the project. I'm passing value to index.html from app.component.ts file.\nfirst of all Is it possible to pass value to index.html file from app component.</p>\n\n<p>I wrap up  in a div with attribute \"id\". so that I can pass a value to id attribute. make id attribute as directive. (don't know this is possible)</p>\n\n<p>app.component.ts file </p>\n\n<pre><code>toggleMindsphereOSBar() {\n    return this.exp = this.globalService.getConfig().MINDSPHERE_OS_BAR ? '_mdspcontent': null;\n  }\n</code></pre>\n\n<p>index.html file</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body class=\"blue-grey lighten-5\"&gt;\n  &lt;div [id]=\"toggleMindsphereOSBar()\"&gt;\n      &lt;app-root&gt;&lt;/app-root&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>I can get the value of this.exp variable which I wanted. but, when I inspected index.html file in browser that value not injected to the dom.\nit showing [id]=\"toggleMindsphereOSBar() as it is.</p>\n\n<p><a href=\"https://i.stack.imgur.com/doE75.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/doE75.png\" alt=\"enter image description here\"></a></p>\n\n<p>can anyone give me a insight how to resolve this or what I have done wrong here.\nthanks</p>\n"}, {"tags": ["javascript", "angular", "typescript", "unit-testing", "jasmine"], "comments": [{"owner": {"reputation": 237, "user_id": 1476160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/70fb24f9714901a99d9eb19f396fed9c?s=128&d=identicon&r=PG", "display_name": "Ankit", "link": "https://stackoverflow.com/users/1476160/ankit"}, "edited": false, "score": 0, "creation_date": 1562164711, "post_id": 56870215, "comment_id": 100293761, "body": "Have you tried using behaviorSubject or replaySubject to have global data? This would let you subscribe it from anywhere and the it mocking it is same as mocking any subscription."}, {"owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "reply_to_user": {"reputation": 237, "user_id": 1476160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/70fb24f9714901a99d9eb19f396fed9c?s=128&d=identicon&r=PG", "display_name": "Ankit", "link": "https://stackoverflow.com/users/1476160/ankit"}, "edited": false, "score": 0, "creation_date": 1562165787, "post_id": 56870215, "comment_id": 100294459, "body": "@Ankit It&#39;s an existing code by somebody else. I am just writing unit tests for that code . I don&#39;t want to make any changed in the code itself."}], "answers": [{"comments": [{"owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "edited": false, "score": 0, "creation_date": 1562158962, "post_id": 56870416, "comment_id": 100290232, "body": "are you saying that it is not possible to mock this variable <code>userInfo</code> unless I get it&#39;s value from a separate service or a method withing the component?"}, {"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "reply_to_user": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "edited": false, "score": 0, "creation_date": 1562164682, "post_id": 56870416, "comment_id": 100293741, "body": "@Arbaaz Exactly. But also that is doesn&#39;t seem right to access it, if you have stub, the stub should have the data and if you need to share it across multiple, expose the variable in a separate file that will be imported in these stubs."}], "tags": [], "owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "is_accepted": false, "score": 0, "last_activity_date": 1562158113, "last_edit_date": 1562158113, "creation_date": 1562157709, "answer_id": 56870416, "question_id": 56870215, "link": "https://stackoverflow.com/questions/56870215/how-to-mock-global-variables-defined-in-another-file/56870416#56870416", "title": "How to mock global variables defined in another file?", "body": "<p>You can't access any variables of any other files. You can't mock imports either. Your best friend is DI, as you can provide mock class in place of original for testing.</p>\n\n<p>You will have to mock the service that provides the data, not having the data in a separate file. The only way would be to export JSON, or object and use the exported object.</p>\n\n<pre><code>TestBed.configureTestingModule({\n    imports: [\n    ],\n    declarations: [\n        ComponentDetailsComponent,\n    ],\n    providers: [\n        {\n            provide: RealService,\n            useExisting: StubService,\n        },\n    ],\n}).compileComponents();\n</code></pre>\n\n<p>And implement the stub as this.</p>\n\n<pre><code>class StubService implements Partial&lt;RealService&gt; {\n    getuserInfo() {\n        return { ...mockedData };\n    }\n}\n</code></pre>\n\n<p>Note:</p>\n\n<p>If you are dealing with mocking HTTP calls use <code>HttpTestingController</code>.</p>\n"}], "owner": {"reputation": 4116, "user_id": 2064292, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/vyPBn.png?s=128&g=1", "display_name": "SamuraiJack", "link": "https://stackoverflow.com/users/2064292/samuraijack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562158764, "creation_date": 1562157016, "last_edit_date": 1562158764, "question_id": 56870215, "link": "https://stackoverflow.com/questions/56870215/how-to-mock-global-variables-defined-in-another-file", "title": "How to mock global variables defined in another file?", "body": "<p><strong>mockData.js</strong></p>\n\n<pre><code>var userInfo = {\n    URLs: {\n        AppURL: \"A\" \n    },\n    EncryptedBPC: \"B\"\n};\n</code></pre>\n\n<p><strong>karma.config.js</strong></p>\n\n<pre><code>config.set({\n    basePath: '',\n    files:['mockData.js' ],\n    .....\n</code></pre>\n\n<p><strong>ComponentDetailsComponent</strong>:</p>\n\n<pre><code>.....some imports\nimport { ComponentDetailsService } from '../component-details.service';\ndeclare var userInfo: any;\n@Component({\n    .....more code\n\n    rfxFilter() {     \n        return userInfo.URLs.AppURL;\n    }\n}\n</code></pre>\n\n<p><strong>Spec:</strong></p>\n\n<pre><code>describe('ComponentDetailsComponent', () =&gt; {\n    let subject:any;\n    let fixture: ComponentFixture&lt;ComponentDetailsComponent&gt;; \n\n    beforeEach(() =&gt; {\n        TestBed.configureTestingModule({\n            declarations: [ ComponentDetailsComponent ],\n            providers: [{ provide: ComponentDetailsService, useClass: \n            ComponentDetailsServiceStub }],\n        });\n        fixture = TestBed.createComponent(ComponentDetailsComponent);\n        subject = fixture.componentInstance;          \n    });\n\n    it('should return X', () =&gt; {\n        subject.userInfo = {\n            URLs: {\n                AppURL: \"X\"\n            },\n            EncryptedBPC: \"Y\"\n        };\n        let result = subject.rfxFilter();\n        expect(result).toBe(\"X\");\n    });   \n});\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p>ReferenceError: userInfo is not defined</p>\n</blockquote>\n\n<p>I have made it work by creating a method inside the component which will return userInfo global variable.</p>\n\n<pre><code>getuserInfo():any{\n    return userInfo;\n}\n</code></pre>\n\n<p><strong>And mocking that method in spec:</strong> </p>\n\n<pre><code>let m = {\n    URLs: {\n        AppURL: \"mockvalueAppURL\",\n    },\n    EncryptedBPC: \"mockEncryptedBPC\",\n};\nlet spy = spyOn(subject, 'getuserInfo').and.returnValue(m);\n</code></pre>\n\n<p>Is it not possible to mock such global variables without having to encapsulate it within methods and then mocking the method instead of variable? I would like to keep the application code untouched when written by somebody else. </p>\n"}, {"tags": ["reactjs", "typescript", "material-ui"], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 2857792, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DAZRf.jpg?s=128&g=1", "display_name": "Mangs", "link": "https://stackoverflow.com/users/2857792/mangs"}, "edited": false, "score": 0, "creation_date": 1562157891, "post_id": 56870397, "comment_id": 100289508, "body": "Alright, that works. But what if I want to have a default width, 200px, and recieve fullWidth via props? Would I have to use css width 100% then?"}, {"owner": {"reputation": 1313, "user_id": 8977385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xIUjm.jpg?s=128&g=1", "display_name": "sachin mathew", "link": "https://stackoverflow.com/users/8977385/sachin-mathew"}, "reply_to_user": {"reputation": 637, "user_id": 2857792, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DAZRf.jpg?s=128&g=1", "display_name": "Mangs", "link": "https://stackoverflow.com/users/2857792/mangs"}, "edited": false, "score": 1, "creation_date": 1562158111, "post_id": 56870397, "comment_id": 100289648, "body": "use a minimum width ... minWidth:200"}], "tags": [], "owner": {"reputation": 1313, "user_id": 8977385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xIUjm.jpg?s=128&g=1", "display_name": "sachin mathew", "link": "https://stackoverflow.com/users/8977385/sachin-mathew"}, "is_accepted": true, "score": 0, "last_activity_date": 1562157659, "creation_date": 1562157659, "answer_id": 56870397, "question_id": 56869743, "link": "https://stackoverflow.com/questions/56869743/both-fullwidth-and-classname-on-a-mui-component/56870397#56870397", "title": "Both fullWidth and className on a MUI component", "body": "<p>In your <code>TextField</code> style you are overriding <code>fullWidth</code> prop by giving your own width of 200px .</p>\n\n<pre><code>textField: {\n  marginLeft: theme.spacing(1),\n  marginRight: theme.spacing(1),\n  width: 200\n}\n</code></pre>\n\n<p>change it to :</p>\n\n<pre><code>textField: {\n  marginLeft: theme.spacing(1),\n  marginRight: theme.spacing(1),\n  width: '100%'\n}\n</code></pre>\n\n<p><strong>or</strong> </p>\n\n<p>just remove the width from textField style</p>\n\n<pre><code>textField: {\n  marginLeft: theme.spacing(1),\n  marginRight: theme.spacing(1),\n}\n</code></pre>\n\n<p>then in your TextField use <code>fullWidth=true</code></p>\n\n<pre><code>  &lt;TextField\n    id=\"date\"\n    label=\"Birthday\"\n    type=\"date\"\n    defaultValue=\"2017-05-25\"\n    className={classes.textField}\n    fullWidth={true}\n    InputLabelProps={{\n      shrink: true\n    }}\n  /&gt;\n</code></pre>\n"}], "owner": {"reputation": 637, "user_id": 2857792, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DAZRf.jpg?s=128&g=1", "display_name": "Mangs", "link": "https://stackoverflow.com/users/2857792/mangs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 56870397, "answer_count": 1, "score": 0, "last_activity_date": 1562157659, "creation_date": 1562155414, "question_id": 56869743, "link": "https://stackoverflow.com/questions/56869743/both-fullwidth-and-classname-on-a-mui-component", "title": "Both fullWidth and className on a MUI component", "body": "<p>I want to use both  className and fullWidth properties on a Material UI TextField component, but this doesn't seem to work.</p>\n\n<p>Using just className works fine, and just the fullWidth works fine aswell but when I try to use both it only listens to className.</p>\n\n<pre><code>//Only className, works fine\n&lt;TextField\n    id=\"date\"\n    label=\"Only className\"\n    type=\"date\"\n    defaultValue=\"2017-05-23\"\n    className={classes.textField}\n    InputLabelProps={{\n        shrink: true\n    }}\n/&gt;\n//Only fullWidth, works fine\n&lt;TextField\n    id=\"date\"\n    label=\"Only fullWidth\"\n    type=\"date\"\n    defaultValue=\"2017-05-24\"\n    fullWidth={true}\n    InputLabelProps={{\n        shrink: true\n    }}\n/&gt;\n//Both, not working (only className is applied)\n&lt;TextField\n    id=\"date\"\n    label=\"Both\"\n    type=\"date\"\n    defaultValue=\"2017-05-25\"\n    className={classes.textField}\n    fullWidth={true}\n    InputLabelProps={{\n        shrink: true\n    }}\n/&gt;\n</code></pre>\n\n<p><strong>Sandbox example:</strong>\n<a href=\"https://codesandbox.io/s/material-demo-0qqqd\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/material-demo-0qqqd</a></p>\n"}, {"tags": ["javascript", "typescript", "webpack"], "comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1562156022, "post_id": 56869699, "comment_id": 100288363, "body": "Typescript is a javascript <b>superset</b>, meaning it can&#39;t be interpreted directly, but needs to be <b>compiled</b> first (to plain javascript). So, it&#39;s just that typescript will be, in fact, plain javascript, once compiled. If your library is targeted to be used for the web, <code>module</code> key should be <code>es2015</code>. Also, usually, you should have an <code>index</code> file <b>exporting</b> everything needed. You should read this section of the typescript documentation about modules resolution: <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#module-resolution-strategies\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 8770548, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-D5zOpQJsjN8/AAAAAAAAAAI/AAAAAAAAANU/c6AflcegrBg/photo.jpg?sz=128", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0410", "link": "https://stackoverflow.com/users/8770548/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%90"}, "reply_to_user": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1562158658, "post_id": 56869699, "comment_id": 100290003, "body": "@briosheje es2015 - is written as target value in tsconfig, setting es2015 for module  leaves ts-code as is. ofcourse compiled, it was a question how to make this plain js code, its all written above."}], "owner": {"reputation": 11, "user_id": 8770548, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-D5zOpQJsjN8/AAAAAAAAAAI/AAAAAAAAANU/c6AflcegrBg/photo.jpg?sz=128", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0410", "link": "https://stackoverflow.com/users/8770548/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562242083, "creation_date": 1562155245, "last_edit_date": 1562242083, "question_id": 56869699, "link": "https://stackoverflow.com/questions/56869699/typescript-classes-bundle-with-webpack", "title": "Typescript classes bundle with webpack", "body": "<p>I have written a project on Typescript and setup to bundle it with webpack.\nMain functionality is wrapped in one <code>Main</code> class, but it imports also other classes.\nNeed to export <code>Main</code> class and all dependent in to one <code>bundle.js</code> library to use in in other sites.</p>\n\n<p>I've tried to bundle classes in separate project (without webpack just tsc).</p>\n\n<p>this is tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"amd\",\n    \"target\": \"ES2015\",\n    \"declaration\": true,\n    \"outDir\": \"./dist\",\n    \"outFile\": \"./dist/index.js\",\n  },\n  \"include\": [\n    \"src/**/*\"\n  ]\n}\n</code></pre>\n\n<p>but it is not usable since the error:</p>\n\n<blockquote>\n  <p>ReferenceError: define is not defined<br>\n  compilled code contains edfine<br>\n  define(\"Globals\", [\"require\", \"exports\"], function (require, exports) {</p>\n</blockquote>\n\n<p>and also with webpack but not sure have correct setup \nthe bundle file start with</p>\n\n<pre><code>(function(modules) { // webpackBootstrap\n/******/    // The module cache\n/******/    var installedModules = {};\n</code></pre>\n\n<p>in other words I have some classes:</p>\n\n<ul>\n<li>Main.ts</li>\n<li>A.ts</li>\n<li>B.ts</li>\n<li>C.ts</li>\n</ul>\n\n<p>and I expected to get <code>bundle.js</code> file and use like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"mylib/dist/index.js\"&gt;&lt;/script&gt;\n//...\nvar a = new Main();\n</code></pre>\n\n<p>but stuck with understanding how it should Typescript and Jsvascript work together.</p>\n\n<p>Will appreciate any help</p>\n\n<p>Update:\nManaged to solve with webpack. <code>Main</code> is asccessible from entry <code>app.ts</code> when compiled. So inside <code>app.ts</code> added <code>window.onload</code> handler and assigned class to <code>window</code> scope. </p>\n\n<pre><code>window.onload = function () {\n    window['MyClass'] = Main;\n</code></pre>\n\n<p>May be missing something but couldn't find good documentation about writing library on TypeScript for browsers.</p>\n\n<p>Update2:\nOk. found answer. webpack option <code>library</code> works fine.</p>\n\n<pre><code>output: {\n    filename: \"bundle.js\",\n    path: __dirname + \"/dist\",\n    library: \"MyMainClass\"\n},\n</code></pre>\n\n<p>also had to change <code>tsconfig.json</code> <code>target</code> option from <code>es6</code> to <code>es5</code> </p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"baseUrl\": \".\",\n        \"paths\": { \"*\": [\"types/*\"] },\n        \"lib\": [\n            \"dom\",\n            \"es6\",\n            \"dom.iterable\",\n            \"scripthost\"\n        ],\n        \"module\": \"commonjs\",\n        \"target\": \"es5\"\n    },\n    \"exclude\": [\n      \"node_modules\"\n    ]\n}\n</code></pre>\n"}, {"tags": ["typescript", "webstorm", "eslint", "lint", "tslint"], "answers": [{"tags": [], "owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": false, "score": 5, "last_activity_date": 1562161986, "creation_date": 1562161986, "answer_id": 56871728, "question_id": 56868980, "link": "https://stackoverflow.com/questions/56868980/disable-eslint-for-typescript-files/56871728#56871728", "title": "Disable ESLint for TypeScript files", "body": "<p>You can try adding <code>*.ts</code> to an <code>.eslintignore</code>.\nSee <a href=\"https://www.jetbrains.com/help/webstorm/2019.2/eslint.html#ws_eslint_suppress_linting_typescript\" rel=\"noreferrer\">https://www.jetbrains.com/help/webstorm/2019.2/eslint.html#ws_eslint_suppress_linting_typescript</a></p>\n"}, {"tags": [], "owner": {"reputation": 1899, "user_id": 6450931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y3tKb.jpg?s=128&g=1", "display_name": "Alberto Perez", "link": "https://stackoverflow.com/users/6450931/alberto-perez"}, "is_accepted": false, "score": 4, "last_activity_date": 1562253874, "creation_date": 1562253874, "answer_id": 56890886, "question_id": 56868980, "link": "https://stackoverflow.com/questions/56868980/disable-eslint-for-typescript-files/56890886#56890886", "title": "Disable ESLint for TypeScript files", "body": "<p>Webstorm is only following the config define by you (If you have both plugins activated on the project), you have to add to your <code>.eslintignore</code> the following: </p>\n\n<pre><code>**/*.ts\n</code></pre>\n\n<p>And in your <code>tslint.json</code> something like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n  \"extends\": \"tslint:latest\",\r\n  \"linterOptions\": {\r\n      \"exclude\": [\r\n          \"bin\",\r\n          \"**/*.js\"\r\n      ]\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4796, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1562253874, "creation_date": 1562152842, "question_id": 56868980, "link": "https://stackoverflow.com/questions/56868980/disable-eslint-for-typescript-files", "title": "Disable ESLint for TypeScript files", "body": "<p>I have a big web app made by both legacy JavaScript code (including eslint) and new TypeScript code (including tslint).</p>\n\n<p>My problem is that my IDE (WebStorm) is automatically applying both linters to all files, so in TypeScript I get errors from eslint that I should not get.</p>\n\n<p>How can I make sure eslint is applied only to *.js files and not to the *.ts files (that instead should only be checked by tslint) ?</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 828, "user_id": 5677688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b558d07bc27b12cab9b625c2eeedf17a?s=128&d=identicon&r=PG&f=1", "display_name": "liqSTAR", "link": "https://stackoverflow.com/users/5677688/liqstar"}, "edited": false, "score": 1, "creation_date": 1562152873, "post_id": 56868762, "comment_id": 100286474, "body": "Hard to understand your code. Never used Subject in that way. I dont think its possible to call a Subject as Array. Its an Observable. Your subject is of Type <code>&lt;OptionMessage&gt;</code> so its watching ONE message at a time. Now you are trying to call this Subject as an Array and want to push on this not existing array the Values. I get the idea. But it should be like <code>Subject&lt;OptionMessage[]&gt;</code> and there u do: <code>this.optionsChanged.next([OptionMessageA,OptionMessageB...]</code>"}, {"owner": {"reputation": 53, "user_id": 4751788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/--HYE-dqoMHs/AAAAAAAAAAI/AAAAAAAAACA/1hDsTH898Qk/photo.jpg?sz=128", "display_name": "Bogdan Constantin", "link": "https://stackoverflow.com/users/4751788/bogdan-constantin"}, "reply_to_user": {"reputation": 828, "user_id": 5677688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b558d07bc27b12cab9b625c2eeedf17a?s=128&d=identicon&r=PG&f=1", "display_name": "liqSTAR", "link": "https://stackoverflow.com/users/5677688/liqstar"}, "edited": false, "score": 0, "creation_date": 1562153499, "post_id": 56868762, "comment_id": 100286836, "body": "sorry, wrong code :) updating the answer now"}, {"owner": {"reputation": 53, "user_id": 4751788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/--HYE-dqoMHs/AAAAAAAAAAI/AAAAAAAAACA/1hDsTH898Qk/photo.jpg?sz=128", "display_name": "Bogdan Constantin", "link": "https://stackoverflow.com/users/4751788/bogdan-constantin"}, "reply_to_user": {"reputation": 828, "user_id": 5677688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b558d07bc27b12cab9b625c2eeedf17a?s=128&d=identicon&r=PG&f=1", "display_name": "liqSTAR", "link": "https://stackoverflow.com/users/5677688/liqstar"}, "edited": false, "score": 0, "creation_date": 1562153590, "post_id": 56868762, "comment_id": 100286881, "body": "Also, even with that part comented, as in i am not sending anything through the subject, the app still freezes."}, {"owner": {"reputation": 432, "user_id": 6048237, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001267268772/picture?type=large", "display_name": "Dilan Tharaka", "link": "https://stackoverflow.com/users/6048237/dilan-tharaka"}, "edited": false, "score": 0, "creation_date": 1562153677, "post_id": 56868762, "comment_id": 100286935, "body": "Don&#39;t you get any console error ?"}, {"owner": {"reputation": 53, "user_id": 4751788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/--HYE-dqoMHs/AAAAAAAAAAI/AAAAAAAAACA/1hDsTH898Qk/photo.jpg?sz=128", "display_name": "Bogdan Constantin", "link": "https://stackoverflow.com/users/4751788/bogdan-constantin"}, "edited": false, "score": 0, "creation_date": 1562153778, "post_id": 56868762, "comment_id": 100287018, "body": "No errors in console."}, {"owner": {"reputation": 828, "user_id": 5677688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b558d07bc27b12cab9b625c2eeedf17a?s=128&d=identicon&r=PG&f=1", "display_name": "liqSTAR", "link": "https://stackoverflow.com/users/5677688/liqstar"}, "edited": false, "score": 0, "creation_date": 1562154411, "post_id": 56868762, "comment_id": 100287371, "body": "Could you please provide your Classes <code>OptionMessage</code> and <code>CommandEntryOption</code> in a short overview."}, {"owner": {"reputation": 53, "user_id": 4751788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/--HYE-dqoMHs/AAAAAAAAAAI/AAAAAAAAACA/1hDsTH898Qk/photo.jpg?sz=128", "display_name": "Bogdan Constantin", "link": "https://stackoverflow.com/users/4751788/bogdan-constantin"}, "edited": false, "score": 0, "creation_date": 1562154544, "post_id": 56868762, "comment_id": 100287446, "body": "Adding to the question now"}, {"owner": {"reputation": 53, "user_id": 4751788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/--HYE-dqoMHs/AAAAAAAAAAI/AAAAAAAAACA/1hDsTH898Qk/photo.jpg?sz=128", "display_name": "Bogdan Constantin", "link": "https://stackoverflow.com/users/4751788/bogdan-constantin"}, "edited": false, "score": 0, "creation_date": 1562156212, "post_id": 56868762, "comment_id": 100288492, "body": "Updated the question with what I found by placing some console.logs"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 4751788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/--HYE-dqoMHs/AAAAAAAAAAI/AAAAAAAAACA/1hDsTH898Qk/photo.jpg?sz=128", "display_name": "Bogdan Constantin", "link": "https://stackoverflow.com/users/4751788/bogdan-constantin"}, "is_accepted": true, "score": 1, "last_activity_date": 1562157096, "creation_date": 1562157096, "answer_id": 56870241, "question_id": 56868762, "link": "https://stackoverflow.com/questions/56868762/webapp-freezees-when-using-component-in-some-scenarios/56870241#56870241", "title": "Webapp freezees when using component in some scenarios", "body": "<p>The problem was binding ngfor on a getter. I replaced it by a property which just stores a the value of the getter. I asign the value on ngOnInit(), and every time I need it to be changed;</p>\n"}], "owner": {"reputation": 53, "user_id": 4751788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/--HYE-dqoMHs/AAAAAAAAAAI/AAAAAAAAACA/1hDsTH898Qk/photo.jpg?sz=128", "display_name": "Bogdan Constantin", "link": "https://stackoverflow.com/users/4751788/bogdan-constantin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 56870241, "answer_count": 1, "score": 1, "last_activity_date": 1562157096, "creation_date": 1562152045, "last_edit_date": 1562156179, "question_id": 56868762, "link": "https://stackoverflow.com/questions/56868762/webapp-freezees-when-using-component-in-some-scenarios", "title": "Webapp freezees when using component in some scenarios", "body": "<p>I`m building an web app in Angular. \nI have a parent component and a list of child components. The data is sent by an rxjs Subject. \nThe child component is used in another part of the app where it works, although not in an <code>*ngFor</code> structure</p>\n\n<p>The webapp freezes even when i have only one element in the \"entries\" array.\nI tried only initializing the component, without sending any \"messages\", but it still freezes</p>\n\n<p>There is a infinite loop in calling a getter ( validEntries). </p>\n\n<p>This component is used else where and there it works as expected.\nparent.component.html</p>\n\n<pre><code>&lt;div class=\"option\" *ngFor=\"let entry of entries\"&gt;\n   &lt;app-options-previewer [events]=\"optionsChanged\" [index]=\"0\"&gt;&lt;/app-options-previewer&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>child.component.html</p>\n\n<pre><code>&lt;mat-chip color=\"primary\" selected *ngFor=\"let entry of validEntries\"&gt;{{entry.name}}&lt;/mat-chip&gt;\n    &lt;mat-chip color=\"primary\" *ngIf=\"validEntries.length==0\"&gt;No option selected&lt;/mat-chip&gt;\n</code></pre>\n\n<p>the faultry getter:</p>\n\n<pre><code> get validEntries(): Array&lt;CommandEntryOption&gt; {\n    console.log(\"valid entries get\");\n    if (this.entries !== undefined)\n      return this.entries.filter(function (value) { return value.quantity &gt; 0 });\n    else\n      return [];\n  }\n</code></pre>\n\n<p>Actual result: App freezes\nExpected result: There should be a child component for every entry in the array entries.</p>\n\n<p>If there is any more info i should provide, please mention it.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 196, "user_id": 6140719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9f3aef2a2c72f8c70cda974851655d8?s=128&d=identicon&r=PG&f=1", "display_name": "a_zatula", "link": "https://stackoverflow.com/users/6140719/a-zatula"}, "edited": false, "score": 0, "creation_date": 1562152646, "post_id": 56868795, "comment_id": 100286327, "body": "But I get <code>Property &#39;fields&#39; does not exist on type &#39;{}&#39;</code>"}, {"owner": {"reputation": 196, "user_id": 6140719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9f3aef2a2c72f8c70cda974851655d8?s=128&d=identicon&r=PG&f=1", "display_name": "a_zatula", "link": "https://stackoverflow.com/users/6140719/a-zatula"}, "edited": false, "score": 0, "creation_date": 1562153688, "post_id": 56868795, "comment_id": 100286942, "body": "It does not fix issue"}], "tags": [], "owner": {"reputation": 41, "user_id": 10839188, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wdVwswJ6M_w/AAAAAAAAAAI/AAAAAAAAATc/ivs_QaP-F2o/photo.jpg?sz=128", "display_name": "Suhail Salim", "link": "https://stackoverflow.com/users/10839188/suhail-salim"}, "is_accepted": false, "score": 0, "last_activity_date": 1562152139, "creation_date": 1562152139, "answer_id": 56868795, "question_id": 56868746, "link": "https://stackoverflow.com/questions/56868746/occasionally-get-undefined-after-setting-values-via-service/56868795#56868795", "title": "Occasionally get undefined after setting values via service", "body": "<p>Initializing at the time of Declaring will resolve the errors.</p>\n\n<pre><code>public templateForCurrencyCOS = {}; or templateForCurrencyCOS = []; // for Arrays\npublic templateForPercentCOS = {};\npublic templateForCurrencyCOGS = {};\npublic templateForPercentCOGS = {};\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 6140719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9f3aef2a2c72f8c70cda974851655d8?s=128&d=identicon&r=PG&f=1", "display_name": "a_zatula", "link": "https://stackoverflow.com/users/6140719/a-zatula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562152139, "creation_date": 1562151975, "question_id": 56868746, "link": "https://stackoverflow.com/questions/56868746/occasionally-get-undefined-after-setting-values-via-service", "title": "Occasionally get undefined after setting values via service", "body": "<p>I have public fields in service: </p>\n\n<pre><code>@Injectable()\nexport class ShareDataService {\n  // some code\n\n    public templateForCurrencyCOS;\n    public templateForPercentCOS;\n    public templateForCurrencyCOGS;\n    public templateForPercentCOGS;\n\n // some code\n}\n</code></pre>\n\n<p>In fact values for this fields get set in <code>HeaderComponent</code> by subscribing to other <code>revenueService</code>:</p>\n\n<pre><code>export class HeaderComponent implements OnInit, OnDestroy {\n  constructor(\n    private revenueService: RevenueService\n  ) {}\n\n  ngOnInit() {\n    this.addCOSItemCurrencyTemplate();\n    this.addCOSItemPercentTemplate();\n    this.addCOGSItemCurrencyTemplate();\n    this.addCOGSItemPercentTemplate();\n  }\n\n  addCOSItemCurrencyTemplate() {\n    if (!this.shareDataService.templateForCurrencyCOS) { \n      this.revenueService.addCostOfSellingItemCurrencyNew().subscribe( \n        response =&gt; {\n          this.shareDataService.templateForCurrencyCOS = response;\n        }, error =&gt; {\n          console.log(error);\n        });\n      }\n    }\n\n    addCOSItemPercentTemplate() {\n      if (!this.shareDataService.templateForPercentCOS) {\n        this.revenueService.addCOSPercentNew().subscribe(response =&gt;{ \n          this.shareDataService.templateForPercentCOS = response;\n      }, error =&gt; {\n        console.log(error);\n      });\n    }\n\n    addCOGSItemCurrencyTemplate() {\n      // similar implementation like addCOSItemPercentTemplate and addCOSItemCurrencyTemplate\n    }\n\n    addCOGSItemPercentTemplate() {\n      // similar implementation like addCOSItemPercentTemplate and addCOSItemCurrencyTemplate\n    }      \n  }        \n}\n</code></pre>\n\n<p>Here <strong>from time to time</strong> I get <code>undefined</code> for \n   <code>this.shareDataService.templateForCurrencyCOGS</code> as well as for \n   <code>this.shareDataService.templateForCurrencyCOS</code>, \n   <code>this.shareDataService.templateForPercentCOGS</code>, \n   <code>this.shareDataService.templateForPercentCOS</code></p>\n\n<pre><code>export class RevenueAssistantComponent implements OnInit {\n  ngOnInit() {\n\n    this.templateForCurrencyCOGS = {...\n      this.shareDataService.templateForCurrencyCOGS,\n      fields: [...this.shareDataService.templateForCurrencyCOGS.fields]\n    };\n\n     this.templateForPercentCOGS = {... \n       this.shareDataService.templateForPercentCOGS,\n       fields: [...this.shareDataService.templateForPercentCOGS &amp;&amp; this.shareDataService.templateForPercentCOGS.fields]\n      };\n      this.templateForCurrencyCOS = {\n        ...this.shareDataService.templateForCurrencyCOS,\n        fields: [...this.shareDataService.templateForCurrencyCOS &amp;&amp; this.shareDataService.templateForCurrencyCOS.fields]\n      };\n      this.templateForPercentCOS = {\n        ...this.shareDataService.templateForPercentCOS,\n        fields: [...this.shareDataService.templateForPercentCOS &amp;&amp; \n        this.shareDataService.templateForPercentCOS.fields]\n     };\n  }\n}\n</code></pre>\n\n<p>I guess the reason behind this issue in <code>RevenueAssistantComponent</code> inits before <code>HeaderComponent</code> sets value for fields and way to resolve that is \n <code>RevenueAssistantComponent</code> get templates values <strong>always after</strong> in <code>HeaderComponent</code> set values for  <code>shareDataService</code> fields. But I have no idea how to implement it </p>\n"}, {"tags": ["typescript", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 8726052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e598f1ef1c41842844208d8a779bad02?s=128&d=identicon&r=PG&f=1", "display_name": "Mss Menme", "link": "https://stackoverflow.com/users/8726052/mss-menme"}, "edited": false, "score": 0, "creation_date": 1562223957, "post_id": 56874156, "comment_id": 100312368, "body": "I know where the decorator is. You have something like @UploadedFile file. I want to know that file what class/interface implements"}, {"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "reply_to_user": {"reputation": 41, "user_id": 8726052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e598f1ef1c41842844208d8a779bad02?s=128&d=identicon&r=PG&f=1", "display_name": "Mss Menme", "link": "https://stackoverflow.com/users/8726052/mss-menme"}, "edited": false, "score": 0, "creation_date": 1562264851, "post_id": 56874156, "comment_id": 100332231, "body": "<a href=\"https://github.com/nestjs/nest/blob/master/packages/common/decorators/http/route-params.decorator.ts#L73\" rel=\"nofollow noreferrer\">Here it is in the source code</a> the closest thing to a class or interface that it implements is that it is a <code>ParameterDecorator</code>. Other than that, not much else to it."}, {"owner": {"reputation": 41, "user_id": 8726052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e598f1ef1c41842844208d8a779bad02?s=128&d=identicon&r=PG&f=1", "display_name": "Mss Menme", "link": "https://stackoverflow.com/users/8726052/mss-menme"}, "edited": false, "score": 0, "creation_date": 1562316336, "post_id": 56874156, "comment_id": 100344460, "body": "I think that if you are using Typescript at least define something like: <code>{ name: string, mimeType: string, buffer: Buffer} </code> , don&#39;t you?"}, {"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "reply_to_user": {"reputation": 41, "user_id": 8726052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e598f1ef1c41842844208d8a779bad02?s=128&d=identicon&r=PG&f=1", "display_name": "Mss Menme", "link": "https://stackoverflow.com/users/8726052/mss-menme"}, "edited": false, "score": 0, "creation_date": 1562343040, "post_id": 56874156, "comment_id": 100357319, "body": "You may be looking more for the <code>FileInterceptor</code> pipe which takes a fileName and an optional object of <code>Multer</code> options. All the <code>@UploadedFile()</code> decorator does for you is allows you access to the file after <code>multer</code> has parsed it, similar to how <code>@Request()</code> allows you to use the <code>req</code> object or <code>@Body()</code> gets you <code>req.body</code> after parsing. I haven&#39;t worked much with the decorator, so I&#39;m not sure what you&#39;re trying to do at the moment."}], "tags": [], "owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1562169888, "creation_date": 1562169888, "answer_id": 56874156, "question_id": 56868571, "link": "https://stackoverflow.com/questions/56868571/uploadfile-interface-cant-be-found/56874156#56874156", "title": "UploadFile Interface can&#39;t be found", "body": "<p>The decorator <code>@UploadedFile()</code> can be found in the <code>@nestjs/common</code> package. You can just add it into your import statement</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { /* rest of your imports */, UploadedFile } from '@nestjs/common';\n</code></pre>\n\n<p><a href=\"https://docs.nestjs.com/techniques/file-upload#basic-example\" rel=\"nofollow noreferrer\">Here is the link to the documentation</a></p>\n"}], "owner": {"reputation": 41, "user_id": 8726052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e598f1ef1c41842844208d8a779bad02?s=128&d=identicon&r=PG&f=1", "display_name": "Mss Menme", "link": "https://stackoverflow.com/users/8726052/mss-menme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562169888, "creation_date": 1562151454, "question_id": 56868571, "link": "https://stackoverflow.com/questions/56868571/uploadfile-interface-cant-be-found", "title": "UploadFile Interface can&#39;t be found", "body": "<p>I need to use the interface of @UploadedFile decorator, but I don't find if it's already defined or I have to.</p>\n"}, {"tags": ["typescript", "vue.js", "vuejs2", "vue-reactivity"], "answers": [{"tags": [], "owner": {"reputation": 307, "user_id": 4209373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4a4ebbfd2149224fb7dabec358a317?s=128&d=identicon&r=PG&f=1", "display_name": "frustigor", "link": "https://stackoverflow.com/users/4209373/frustigor"}, "is_accepted": false, "score": 0, "last_activity_date": 1586311037, "creation_date": 1586311037, "answer_id": 61092189, "question_id": 56868438, "link": "https://stackoverflow.com/questions/56868438/vue-js-reactivity-and-object-defineproperty-with-typescript/61092189#61092189", "title": "Vue.js reactivity and Object.defineProperty with TypeScript", "body": "<p>Well, your operation is much higher than vuejs self do. Vuejs works reactive data with Object.defineProperty in setter to rerender, however, you provide an object which has defined its properties which is not configurable and will not be able to trigger vuejs's reactive system.</p>\n\n<p>To make it work:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export default class Form&lt;Model&gt; {\n\n    initialiseData(key) {\n        Object.defineProperty(this, key, {\n            get: () =&gt; this.data[key],\n            set: (value) =&gt; {\n                this.changes[key] = value\n                this.onChange(key, value)\n            },\n        })\n    }\n\n    onChange(key, value) {}\n\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>import _Form from '~/src/vform'\n\n@Component\nexport default class LoginView extends Vue {\n    form: any = {}\n\n    // Lifecycle hook\n    mounted() {\n        const vm = this\n        class Form extends _Form {\n          onChange() {\n              vm.$forceUpdate()\n          }\n        }\n        const form = new Form({\n            email: '',\n            password: ''\n        })\n        this.$set('form', form)\n    }\n}\n</code></pre>\n\n<p>Notice <code>vm.$forceUpdate</code> which will notify vuejs to rerender when your Form properties change.</p>\n"}], "owner": {"reputation": 2082, "user_id": 1833798, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8ef934cfbf8a2e54a86c736420c1919c?s=128&d=identicon&r=PG", "display_name": "Andrew Willis", "link": "https://stackoverflow.com/users/1833798/andrew-willis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 377, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1586311037, "creation_date": 1562151002, "last_edit_date": 1562152752, "question_id": 56868438, "link": "https://stackoverflow.com/questions/56868438/vue-js-reactivity-and-object-defineproperty-with-typescript", "title": "Vue.js reactivity and Object.defineProperty with TypeScript", "body": "<p>I'm creating a class in TypeScript to handle my form submission and server errors:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export default class Form&lt;Model&gt; {\n    private readonly original: Model\n    private changes: Partial&lt;Model&gt;\n\n    constructor(data: Model) {\n        this.original = data\n        Object.keys(this.original).forEach(key =&gt; this.initialiseData(key))\n    }\n\n    private initialiseData(key) {\n        Object.defineProperty(this, key, {\n            get: () =&gt; this.data[key],\n            set: (value) =&gt; this.changes[key] = value\n        }\n    }\n\n    get data(): Model {\n        return Object.assign({}, this.original, this.changes)\n    }\n\n    post(url: string) {\n        // post logic\n    }\n}\n</code></pre>\n\n<p>This would be used in my Vue components like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, Vue } from 'vue-property-decorator'\nimport Form from '~/src/vform'\n\ninterface LoginForm {\n    email: string\n    password: string\n}\n\n@Component\nexport default class LoginView extends Vue {\n    form: Form&lt;LoginForm&gt; = new Form&lt;LoginForm&gt;({\n        email: '',\n        password: ''\n    })\n\n    async submit() {\n        await this.form.post('/auth/login')\n    }\n}\n</code></pre>\n\n<p>This works, functionally, I can fill in the form and submit data to a server. The problem I am having is with reactivity in Vue.js. Because the properties do not exist on the <code>Form</code> class, the data isn't passed to <code>v-model</code>, it is only updated inside the form once it changes.</p>\n\n<p>This is not a problem unless I am displaying data on the screen from the form. I can live with it for now but I was wondering if there was a way to make Vue recognise the reactive properties on my <code>Form</code> class, or if there was a better way to achieve this functionality without compromising on the type system.</p>\n"}, {"tags": ["javascript", "json", "angular", "typescript", "http"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1562151777, "post_id": 56868425, "comment_id": 100285904, "body": "Post the relevant information: the content of your angular.json file, the precise location of your assets folder in your project, and what it contains."}, {"owner": {"reputation": 250, "user_id": 11641037, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--OlH7dfT72Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4nuHLwY1mRxFah_UwyMH_x19Wsg/mo/photo.jpg?sz=128", "display_name": "Massaget", "link": "https://stackoverflow.com/users/11641037/massaget"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1562153416, "post_id": 56868425, "comment_id": 100286788, "body": "I added folder tree and angular.json content"}, {"owner": {"reputation": 432, "user_id": 6048237, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001267268772/picture?type=large", "display_name": "Dilan Tharaka", "link": "https://stackoverflow.com/users/6048237/dilan-tharaka"}, "edited": false, "score": 0, "creation_date": 1562154589, "post_id": 56868425, "comment_id": 100287477, "body": "did you replace ``` const langPath = <code>assets&#47;${lang}.json</code>;<code>, ````${lang}</code> with correct file name ?"}, {"owner": {"reputation": 250, "user_id": 11641037, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--OlH7dfT72Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4nuHLwY1mRxFah_UwyMH_x19Wsg/mo/photo.jpg?sz=128", "display_name": "Massaget", "link": "https://stackoverflow.com/users/11641037/massaget"}, "reply_to_user": {"reputation": 432, "user_id": 6048237, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001267268772/picture?type=large", "display_name": "Dilan Tharaka", "link": "https://stackoverflow.com/users/6048237/dilan-tharaka"}, "edited": false, "score": 0, "creation_date": 1562155129, "post_id": 56868425, "comment_id": 100287780, "body": "Yes, even directly renamed to const langPath = &quot;assets/kz.json&quot;;. Nothing changed @DilanTharaka"}], "owner": {"reputation": 250, "user_id": 11641037, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--OlH7dfT72Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re4nuHLwY1mRxFah_UwyMH_x19Wsg/mo/photo.jpg?sz=128", "display_name": "Massaget", "link": "https://stackoverflow.com/users/11641037/massaget"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562162775, "creation_date": 1562150957, "last_edit_date": 1562162775, "question_id": 56868425, "link": "https://stackoverflow.com/questions/56868425/http-service-404-error-json-file-not-found", "title": "HTTP service 404 error, json file not found", "body": "<p>I'm setting up translate service in my application by passing json file with certain language to the webpage. After all connections, imports were made i wanted to test it and show in console log fetched data. But after all console log shows me an empty object with 404 not found error</p>\n\n<p>I checked all paths, imports, connections, also added path to 'assets' property in angular.json(tried restart ng serve), but error still existing. </p>\n\n<pre><code>   export class TranslateService {\n    data:any = {};\n  constructor(private http: HttpClient) { }\n\n  use(lang: string): Promise&lt;{}&gt; {\n    return new Promise&lt;{}&gt;((resolve, reject) =&gt; {\n      const langPath = `assets/${lang}.json`;\n      this.http.get&lt;{}&gt;(langPath).subscribe(\n        translation =&gt; {\n          this.data = Object.assign({}, translation, {});\n          resolve(this.data);\n        },\n        error =&gt; {\n          this.data = {};\n          resolve(this.data);\n        }\n      );\n    });\n  }  \n\n   import { TranslateService } from './translate.service';\n   export class AppComponent {\n  constructor(private router: Router, private meta: Meta, private cd:    ChangeDetectorRef, private translate: TranslateService) {\n    translate.use('kz').then(() =&gt; {\n      console.log(translate.data);\n    });\n  }\n</code></pre>\n\n<p>I expect object with data inside but getting empty.</p>\n\n<p>Location of files: </p>\n\n<pre><code>src\n   -app\n       --translate.service.ts\n       --app.component.ts\n   -assets\n       --kz.json  \n</code></pre>\n\n<p>angular.json:</p>\n\n<pre><code>\"architect\": {\n        \"build\": {\n          \"builder\": \"@angular-devkit/build-angular:browser\",\n          \"options\": {\n            \"outputPath\": \"dist\",\n            \"index\": \"src/index.html\",\n            \"main\": \"src/main.ts\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"src/tsconfig.app.json\",\n            \"assets\": [\"src/favicon.ico\", \"src/assets\"],\n            \"styles\": [\"src/styles/styles.scss\"],\n            \"stylePreprocessorOptions\": {\n              \"includePaths\": [\"src/styles\"]\n            },\n            \"scripts\": []\n          }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 11230, "user_id": 4544823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1pjwK.jpg?s=128&g=1", "display_name": "Ken Bekov", "link": "https://stackoverflow.com/users/4544823/ken-bekov"}, "edited": false, "score": 0, "creation_date": 1562154231, "post_id": 56868422, "comment_id": 100287267, "body": "Why do you need html for every theme? Isn&#39;t CSS enough to change header&#39;s appearance?"}], "answers": [{"tags": [], "owner": {"reputation": 392, "user_id": 2337692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S2aVO.png?s=128&g=1", "display_name": "jraisanen", "link": "https://stackoverflow.com/users/2337692/jraisanen"}, "is_accepted": false, "score": 1, "last_activity_date": 1562154748, "creation_date": 1562154748, "answer_id": 56869524, "question_id": 56868422, "link": "https://stackoverflow.com/questions/56868422/switch-template-html-scss-dynamically-in-angular/56869524#56869524", "title": "Switch template html,scss dynamically in angular", "body": "<p>The parent component could keep track of the theme and letting it to decide which header component to render.</p>\n\n<pre><code>&lt;app-header-classic *ngIf=\"theme === 'classic'\"&gt;&lt;/app-header-classic&gt;\n&lt;app-header-elegant *ngIf=\"theme === 'elegant'\"&gt;&lt;/app-header-elegant&gt;\n&lt;app-header-simple *ngIf=\"theme === 'simple'\"&gt;&lt;/app-header-simple&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 237, "user_id": 1476160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/70fb24f9714901a99d9eb19f396fed9c?s=128&d=identicon&r=PG", "display_name": "Ankit", "link": "https://stackoverflow.com/users/1476160/ankit"}, "is_accepted": false, "score": 1, "last_activity_date": 1562165294, "creation_date": 1562165294, "answer_id": 56872756, "question_id": 56868422, "link": "https://stackoverflow.com/questions/56868422/switch-template-html-scss-dynamically-in-angular/56872756#56872756", "title": "Switch template html,scss dynamically in angular", "body": "<p>Have you tried something like this?    </p>\n\n<pre><code>@Component({\n  selector: 'selector',\n  templateUrl: environment.template_path,\n  styleUrls: [environment.style_path]\n})\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 9774303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BfIg1.jpg?s=128&g=1", "display_name": "Vishnudas", "link": "https://stackoverflow.com/users/9774303/vishnudas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1562165294, "creation_date": 1562150941, "last_edit_date": 1562153167, "question_id": 56868422, "link": "https://stackoverflow.com/questions/56868422/switch-template-html-scss-dynamically-in-angular", "title": "Switch template html,scss dynamically in angular", "body": "<p>I have header component like in the following format:</p>\n\n<pre><code>app-header (folder)\n     classic (folder)\n         app-header.component.html\n         app-header.component.scss\n\n    elegant (folder)\n         app-header.component.html\n         app-header.component.scss\n\n    simple (folder)\n         app-header.component.html\n         app-header.component.scss\n\n app-header.component.ts\n</code></pre>\n\n<p>I want to switch between these template folders(classic,elegant,simple)\ndynamically. I mean, get template folder name from db through an http-request and load html and style from that folder respectively.</p>\n\n<p>I have done it by set folder name in an environment variable and load according to that. How could i set that environment variable by calling an API and load html and styles according to that?</p>\n\n<p>following is the code i tried to load from environment variable in app-header-component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { ConfigService } from './../config.service';\nimport { environment } from './../../environments/environment';\n\nlet theme_name  = environment.theme_name;\n\nconst header      = require('./' + theme_name + '/app- \nheader.component.html');\n\nconst style     = [require('./' + theme_name + '/app- \nheader.component.scss')];\n\n@Component({\n    selector: 'app-header',\n    template: header,\n    styles: style\n})\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11733826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab5429e26ac6b0a3c702778216a63c8?s=128&d=identicon&r=PG&f=1", "display_name": "Fam", "link": "https://stackoverflow.com/users/11733826/fam"}, "edited": false, "score": 0, "creation_date": 1562151193, "post_id": 56868232, "comment_id": 100285583, "body": "Appreciate all the fast answers"}], "tags": [], "owner": {"reputation": 5685, "user_id": 1266135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38eb93fc6b5542adea23078f77985f92?s=128&d=identicon&r=PG", "display_name": "Gopesh Sharma", "link": "https://stackoverflow.com/users/1266135/gopesh-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1562150290, "creation_date": 1562150290, "answer_id": 56868232, "question_id": 56868173, "link": "https://stackoverflow.com/questions/56868173/im-trying-to-push-values-from-an-array-with-objects-to-another-array-with-object/56868232#56868232", "title": "Im trying to push values from an array with objects to another array with objects", "body": "<p>This is because you have not defined your Links array, use something like below :</p>\n\n<pre><code>links:Link[] = [];\n</code></pre>\n\n<p>You are trying to push a new element to an undefined array thus getting the error as \"cannot read property 'push' of undefined\".</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11733826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab5429e26ac6b0a3c702778216a63c8?s=128&d=identicon&r=PG&f=1", "display_name": "Fam", "link": "https://stackoverflow.com/users/11733826/fam"}, "edited": false, "score": 0, "creation_date": 1562151116, "post_id": 56868269, "comment_id": 100285532, "body": "Thanks i mean it makes sense now"}], "tags": [], "owner": {"reputation": 490, "user_id": 6393934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99e5589a34f9ba7a4a85fa584c648616?s=128&d=identicon&r=PG&f=1", "display_name": "Shifenis", "link": "https://stackoverflow.com/users/6393934/shifenis"}, "is_accepted": false, "score": 1, "last_activity_date": 1562150399, "creation_date": 1562150399, "answer_id": 56868269, "question_id": 56868173, "link": "https://stackoverflow.com/questions/56868173/im-trying-to-push-values-from-an-array-with-objects-to-another-array-with-object/56868269#56868269", "title": "Im trying to push values from an array with objects to another array with objects", "body": "<p><code>Links</code> is undefined, in fact in your code there is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> links:Link[];\n</code></pre>\n\n<p>To be able to <code>push</code> something in your array you must declare it as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> links:Link[] = [];\n</code></pre>\n\n<p>Or if you don't want to declare it , you have to assign value to it</p>\n"}, {"tags": [], "owner": {"reputation": 4197, "user_id": 3599151, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/09a486f3d2e14ce2a04668b5fd6982bb?s=128&d=identicon&r=PG&f=1", "display_name": "fjc", "link": "https://stackoverflow.com/users/3599151/fjc"}, "is_accepted": false, "score": 3, "last_activity_date": 1562150478, "creation_date": 1562150478, "answer_id": 56868290, "question_id": 56868173, "link": "https://stackoverflow.com/questions/56868173/im-trying-to-push-values-from-an-array-with-objects-to-another-array-with-object/56868290#56868290", "title": "Im trying to push values from an array with objects to another array with objects", "body": "<p>You have defined, but not initialized the array.</p>\n\n<p>The example, boiled down to the issue:</p>\n\n<p><strong>test.ts</strong></p>\n\n<pre><code>let links: Link[];\n</code></pre>\n\n<p>Is compiled to a <strong>test.js</strong>:</p>\n\n<pre><code>var links;\n</code></pre>\n\n<p>As you can see, <code>links</code> is not defined and therefore is <code>undefined</code>.</p>\n\n<p>To solve the issue, initialize <code>links</code> as an empty array:</p>\n\n<p><strong>test2.ts</strong>:</p>\n\n<pre><code>let links: Link[] = [];\n</code></pre>\n\n<p>compiles to:</p>\n\n<pre><code>var links = [];\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#code/MYGwhgzhAEAyCWA7A1tA3gXwFAgKYBdoQlkIAuOEgbQF0BuLLAeiegE95cQATGMRaLgBOQgPZCyOEhAB0ABwCuEABYAKRLgDulFKoCUehs1abxpHASLSATBQQpa0ALzRaDYigjX5StRu32yPqGQA\" rel=\"nofollow noreferrer\">Here's a TypeScript Playground showing the behavior.</a></p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 10456114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NNrEz.jpg?s=128&g=1", "display_name": "cnps", "link": "https://stackoverflow.com/users/10456114/cnps"}, "is_accepted": false, "score": 1, "last_activity_date": 1562151719, "creation_date": 1562151719, "answer_id": 56868661, "question_id": 56868173, "link": "https://stackoverflow.com/questions/56868173/im-trying-to-push-values-from-an-array-with-objects-to-another-array-with-object/56868661#56868661", "title": "Im trying to push values from an array with objects to another array with objects", "body": "<p>As the others have point out, you need to initialize links, before you can push into it.</p>\n\n<p>Alternatively, you could do something like the example below, and you wouldn't need to initialize an empty array.</p>\n\n<pre><code>export class LinksComponent implements OnInit {\n  links:Link[];\n\n  constructor(private sS:SlidesService) { }\n\n  ngOnInit() {\n\n    // you want to use \"const\", when you are not resetting the value. \n    // Also a good idea to slap a type on what you get from your api requests.\n\n    const slides: Slide[] = this.sS.getSlides();\n    this.links = slides.map((s: Slide) =&gt; {\n       return {\n                 name: s.name,\n                 href: '#' +s.name,\n                 selected: false,\n              }\n    });\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32, "user_id": 11510408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f484a1d1cbd1b631bf36fd8bddd5afb?s=128&d=identicon&r=PG&f=1", "display_name": "tamar", "link": "https://stackoverflow.com/users/11510408/tamar"}, "is_accepted": false, "score": 0, "last_activity_date": 1562152657, "creation_date": 1562152657, "answer_id": 56868927, "question_id": 56868173, "link": "https://stackoverflow.com/questions/56868173/im-trying-to-push-values-from-an-array-with-objects-to-another-array-with-object/56868927#56868927", "title": "Im trying to push values from an array with objects to another array with objects", "body": "<p>Juat add in the constructor: </p>\n\n<pre><code>export class LinksComponent implements OnInit {\n  links:Link[];\n\n  constructor(private sS:SlidesService) {\n       this.links=[];\n }\n\n  ngOnInit() {\n    let slides = this.sS.getSlides();\n    for (let s of slides) {\n      let obj = {} as Link;\n      obj.name = s.name;\n      obj.href = \"#\" + s.name;\n      obj.selected = false;\n      this.links.push(obj);\n    }\n  }\n\n}\n</code></pre>\n\n<p>and every thing will work fine.</p>\n\n<p>(Of course, this comment is correct for the initialization of any object to which you want to insert values. You need to reformat it in its default value.)</p>\n"}], "owner": {"reputation": 3, "user_id": 11733826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab5429e26ac6b0a3c702778216a63c8?s=128&d=identicon&r=PG&f=1", "display_name": "Fam", "link": "https://stackoverflow.com/users/11733826/fam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1562152657, "creation_date": 1562150081, "question_id": 56868173, "link": "https://stackoverflow.com/questions/56868173/im-trying-to-push-values-from-an-array-with-objects-to-another-array-with-object", "title": "Im trying to push values from an array with objects to another array with objects", "body": "<p>I have multiple slides and based on those slides i want to make links that go to the slides but i want the generation of the navigation links to go automatic and its not working</p>\n\n<p>im kinda new at angular and typescript so im at a loss</p>\n\n<p>this is the generation of the links:</p>\n\n<pre><code>export class LinksComponent implements OnInit {\n  links:Link[];\n\n  constructor(private sS:SlidesService) { }\n\n  ngOnInit() {\n    let slides = this.sS.getSlides();\n    for (let s of slides) {\n      let obj = {} as Link;\n      obj.name = s.name;\n      obj.href = \"#\" + s.name;\n      obj.selected = false;\n      this.links.push(obj);\n    }\n  }\n\n}\n</code></pre>\n\n<p>sS is a service and the getSlides calls this function:</p>\n\n<pre><code>getSlides() {\n    return [\n      {\n        name: \"home\",\n        index: 1,\n        selected:true,\n        background:\"url(bg_home.jpg)\"\n      },\n      {\n        name: \"me\",\n        index: 2,\n        selected:true,\n        background:\"url(bg_me.jpg)\"\n      },\n      {\n        name: \"projects\",\n        index: 3,\n        selected:true,\n        background:\"url(bg_projects.jpg)\"\n      }\n    ]\n  }\n</code></pre>\n\n<p>i get this error\nERROR typeError: cannot read property 'push' of undefined\neven though i defined links(the array im trying to push objects in)\nnow i have looked for some answers but im at a loss. any help would be much appreciated</p>\n\n<p>I want it to work so my links get dynamically made from the amount of slides with the corresponding name and stuff.</p>\n"}, {"tags": ["asp.net", "typescript", "wcf"], "comments": [{"owner": {"reputation": 2372, "user_id": 2506522, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/930402a9a8c9d56b9a982a9070d51e23?s=128&d=identicon&r=PG", "display_name": "betontalpfa", "link": "https://stackoverflow.com/users/2506522/betontalpfa"}, "edited": false, "score": 0, "creation_date": 1562149641, "post_id": 56867920, "comment_id": 100284777, "body": "It seems as an output of an <a href=\"https://en.wikipedia.org/wiki/Hash_function\" rel=\"nofollow noreferrer\">hash</a> algorithm."}, {"owner": {"reputation": 1, "user_id": 5735064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e917a349e339a936b2b4e6b120acd4a7?s=128&d=identicon&r=PG&f=1", "display_name": "dineshkumarj86", "link": "https://stackoverflow.com/users/5735064/dineshkumarj86"}, "reply_to_user": {"reputation": 2372, "user_id": 2506522, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/930402a9a8c9d56b9a982a9070d51e23?s=128&d=identicon&r=PG", "display_name": "betontalpfa", "link": "https://stackoverflow.com/users/2506522/betontalpfa"}, "edited": false, "score": 0, "creation_date": 1562150306, "post_id": 56867920, "comment_id": 100285125, "body": "I want how the hash is generated. Like MD5(Username + created) . or MD5(base64(username+created)) etc.,"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12187311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea69819ca46859b67030bda8064acdb8?s=128&d=identicon&r=PG&f=1", "display_name": "user48736353001", "link": "https://stackoverflow.com/users/12187311/user48736353001"}, "is_accepted": false, "score": 0, "last_activity_date": 1580915949, "creation_date": 1580915949, "answer_id": 60078923, "question_id": 56867920, "link": "https://stackoverflow.com/questions/56867920/how-wsse-usernametoken-id-is-generated-in-wcf/60078923#60078923", "title": "How WSSE UsernameToken Id is generated in WCF", "body": "<p>If you ask this question because your authentification is not working, you likely don't need the Id label. </p>\n\n<p>As we can see in <a href=\"http://schemas.xmlsoap.org/specs/ws-security/ws-security.htm\" rel=\"nofollow noreferrer\">this</a> specification from xmlsoap.org website, </p>\n\n<blockquote>\n  <p><strong>4.1. UsernameToken Element</strong><br>\n  <em>/UsernameToken/@Id</em><br>\n  A string label for this security token.</p>\n</blockquote>\n\n<p>This element is just a label and its goal is just to provide identification to the UsernameToken element (you can name it with \"myToken\" or something else). </p>\n"}], "owner": {"reputation": 1, "user_id": 5735064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e917a349e339a936b2b4e6b120acd4a7?s=128&d=identicon&r=PG&f=1", "display_name": "dineshkumarj86", "link": "https://stackoverflow.com/users/5735064/dineshkumarj86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1580915949, "creation_date": 1562149194, "last_edit_date": 1562152156, "question_id": 56867920, "link": "https://stackoverflow.com/questions/56867920/how-wsse-usernametoken-id-is-generated-in-wcf", "title": "How WSSE UsernameToken Id is generated in WCF", "body": "<p>I am trying to generate a soap message for a WCF service. The service is using <code>UserNameOverTransport</code> with message security version <code>WSSecurity11WSTrustFebruary2005WSSecureConversationFebruary2005WSSecurityPolicy11BasicSecurityProfile10</code>. </p>\n\n<p>I got the header sample </p>\n\n<pre><code>&lt;o:UsernameToken u:Id=\"uuid-7f6455d4-42ab-49fa-8b25-35427c00bb7a-1\"&gt;\n                &lt;o:Username&gt;xxx@xxx.com&lt;/o:Username&gt;\n                &lt;o:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"&gt;yyyyy&lt;/o:Password&gt;\n            &lt;/o:UsernameToken&gt;\n</code></pre>\n\n<p>The client is not going to be in <code>.Net</code>. Can anyone help me in figuring out how the id is generated.</p>\n"}, {"tags": ["angular", "typescript", "service", "behaviorsubject"], "comments": [{"owner": {"reputation": 788, "user_id": 2034850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OVjtn.png?s=128&g=1", "display_name": "Alon Yampolski", "link": "https://stackoverflow.com/users/2034850/alon-yampolski"}, "edited": false, "score": 0, "creation_date": 1562149192, "post_id": 56867807, "comment_id": 100284553, "body": "are you sure that <code>this.resultDefault.next(val.state.roote.firstChild.params.id&zwnj;&#8203;);</code> was called? and if so was it called before the Component&#39;s subscription or after?"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1562149913, "post_id": 56867807, "comment_id": 100284918, "body": "just to make sure  <code>val.state.roote.firstChild.params.id</code>   ?  is it a typo ?  i think it should have been <code>val.state.route.firstChild.params.id</code>"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1562150005, "post_id": 56867807, "comment_id": 100284970, "body": "<code>this.resultDefault.next(val.state.route.firstChild.params.id&zwnj;&#8203;);</code> also make sure you have the id here , please <code>console.log()</code> and check the same most probably the value is not changing"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1562150029, "post_id": 56867807, "comment_id": 100284987, "body": "also try using <code>this.activeRoute.params.subscribe(routeParams =&gt; { console.log(routeParams.id;) });</code> instead of <code>this.router.events.subscribe(val =&gt; {});</code> if the value is not changing"}, {"owner": {"reputation": 31, "user_id": 11733700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b98737e125dcbb6c624ab4ceacc644?s=128&d=identicon&r=PG&f=1", "display_name": "geschirr", "link": "https://stackoverflow.com/users/11733700/geschirr"}, "edited": false, "score": 0, "creation_date": 1562151060, "post_id": 56867807, "comment_id": 100285507, "body": "Sorry, <code>roote</code>is just a typo. I console logged all the values before and after they were changed. The console looks like this: <code>resultDefault was: 0 resultDefault is now: 3 currentResult is now: 3 Component gets: 0 </code>"}], "owner": {"reputation": 31, "user_id": 11733700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b98737e125dcbb6c624ab4ceacc644?s=128&d=identicon&r=PG&f=1", "display_name": "geschirr", "link": "https://stackoverflow.com/users/11733700/geschirr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562742746, "creation_date": 1562148816, "last_edit_date": 1562742746, "question_id": 56867807, "link": "https://stackoverflow.com/questions/56867807/angular-why-does-my-component-get-default-value-from-observable-in-service-al", "title": "Angular - Why does my Component get default value from Observable in Service, although it has been changed before?", "body": "<p>I've set up an Angular-Service that gets an URL-Parameter and saves it into a BehaviorSubject variable.</p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class ResultService {\n  private resultDefault = new BehaviorSubject&lt;string&gt;(\"0\");\n  currentResult = this.resultDefault.asObservable();\n\n  constructor(private router: Router) {\n    this.router.events.subscribe(val =&gt; {\n      if (val instanceof RoutesRecognized) {\n          console.log(\"resultDefault was:\", this.resultDefault.getValue());\n          this.resultDefault.next(val.state.root.firstChild.params.id);\n          console.log(\"resultDefault is:\", this.resultDefault.getValue());\n      }\n    });\n  }\n\n</code></pre>\n\n<p>Now I want to access this variable from a Component by subscribing to the Observable. </p>\n\n<pre><code>\nconstructor( private resultService: ResultService ) { }\n\nngOnInit() {\n  this.resultService.currentResult.subscribe(data =&gt; {\n    console.log(\"Component gets:\", data);\n    this.resultID = data;\n  });\n}\n</code></pre>\n\n<p>However, what I get is the default value (\"0\"), although the variable has been changed in the constructor of the Service.</p>\n\n<p>This is what the console outputs, in the following order:</p>\n\n<pre><code>Angular is running in the development mode. Call enableProdMode() to enable the production mode.\nresultDefault was: 0\nresultDefault is: 3\nComponent gets: 0\n</code></pre>\n\n<p>Am I just overlooking something? Or is this the wrong approach? Looking forward to your answers!</p>\n\n<p>EDIT: I added some console logs. Unfortunately, non of the answers were able to solve my problem yet. I hope someone can still help me.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 5994540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8nyq5.png?s=128&g=1", "display_name": "Prvz", "link": "https://stackoverflow.com/users/5994540/prvz"}, "edited": false, "score": 0, "creation_date": 1562159810, "post_id": 56869099, "comment_id": 100290789, "body": "thank you for your answer, but I think it&#39;s not quite what i&#39;m looking for.  Component should expect items1 and items2 based on its interface.. But i&#39;m trying to separate fetching data from backend to HOC, to simplify Component testing.  the idea is about I can import component and pass these two props from whatever place, but if I don&#39;t want to do this I can import component wrapped by this HOC and get it to work by itself.  the goal - props items1 and items2 should exist on component, but when it wrapped by HOC they shouldn&#39;t, cuz they passed from HOC.  Maybe I thinking in a bad way?"}], "tags": [], "owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "is_accepted": false, "score": 0, "last_activity_date": 1562153264, "creation_date": 1562153264, "answer_id": 56869099, "question_id": 56867706, "link": "https://stackoverflow.com/questions/56867706/omitting-props-in-hoc/56869099#56869099", "title": "Omitting props in HOC", "body": "<p>You did opposite way. <code>HoC</code> accepts component with <code>items1</code> and <code>items2</code> and returns HOC without <code>items1</code> and <code>items2</code>. So for component</p>\n\n<pre><code>let ResultingComponent = HoC(MyComponent);\n</code></pre>\n\n<p>you should provide only <code>prop1</code> and <code>prop2</code>. <code>items1</code> and <code>items2</code> will be filled from HoC.</p>\n\n<p>If you want pass component without <code>items1</code> and <code>items2</code> but have resulting component contain <code>items1</code> and <code>items2</code> you should do like this</p>\n\n<pre><code>function HoC&lt;T&gt;(\n    WrappedComponent:\n        React.ComponentClass&lt;T&gt;\n        | React.FunctionComponent&lt;T&gt;,\n): React.ComponentClass&lt;T &amp; IWithItems&gt; {\n    class WithItemsWrapper extends React.Component&lt;T &amp; IWithItems, IWithItems&gt; {\n\n        render() {\n            return (\n                &lt;&gt;\n                // Do some rendering based on this.props.items1 and this.props.items2\n                    &lt;div&gt;{this.props.items1.map(e =&gt; (&lt;div&gt;{e}&lt;/div&gt;))}&lt;/div&gt;\n                    &lt;WrappedComponent\n                        {...this.props}\n                    /&gt;\n                &lt;/&gt;\n            );\n        }\n    }\n\n    return hoistNonReactStatics(WithItemsWrapper, WrappedComponent);\n}\n</code></pre>\n\n<p>But please note that in this case <code>item1</code> and <code>item2</code> should be provided to resulting component from HoC. Inside HoC you shouldn't receive these props from backend, But you should render something based on these props and don't pass them to <code>WrappedComponent</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 5994540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8nyq5.png?s=128&g=1", "display_name": "Prvz", "link": "https://stackoverflow.com/users/5994540/prvz"}, "is_accepted": true, "score": 0, "last_activity_date": 1562162485, "creation_date": 1562162485, "answer_id": 56871868, "question_id": 56867706, "link": "https://stackoverflow.com/questions/56867706/omitting-props-in-hoc/56871868#56871868", "title": "Omitting props in HOC", "body": "<p>I think i found the solution</p>\n\n<p>First of all simplify WithoutItems and change HOC definition</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Omit&lt;T, K&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;\ntype Diff&lt;T, K&gt; = Omit&lt;T, keyof K&gt;;\n\ntype WithoutItems&lt;T&gt; = Diff&lt;T, IWithItems&gt;;\n\nfunction HoC&lt;P&gt;(\n  WrappedComponent:\n    React.ComponentClass&lt;P&gt;\n    | React.FunctionComponent&lt;P&gt;,\n): React.ComponentClass&lt;WithoutItems&lt;P&gt;&gt; {\n  class WithItemsWrapper extends React.Component&lt;WithoutItems&lt;P&gt;, IWithItems&gt; {\n</code></pre>\n\n<p>and next thing is to make props map explicitly type P</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// HoC render method\n  render() {\n    return (\n      &lt;WrappedComponent\n        {...this.props as P}\n        items1={this.state.items1}\n        items2={this.state.items2}\n      /&gt;\n    );\n  }\n</code></pre>\n\n<p>all other things stay as they were.</p>\n\n<hr>\n\n<p>solution founded <a href=\"https://dev.to/busypeoples/notes-on-typescript-pick-exclude-and-higher-order-components-40cp\" rel=\"nofollow noreferrer\">here</a> </p>\n"}], "owner": {"reputation": 161, "user_id": 5994540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8nyq5.png?s=128&g=1", "display_name": "Prvz", "link": "https://stackoverflow.com/users/5994540/prvz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 56871868, "answer_count": 2, "score": 1, "last_activity_date": 1562162485, "creation_date": 1562148520, "last_edit_date": 1562153433, "question_id": 56867706, "link": "https://stackoverflow.com/questions/56867706/omitting-props-in-hoc", "title": "Omitting props in HOC", "body": "<p>Have an unusual question about omitting props in HoC</p>\n\n<p>I have react component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface IMyComponentProps {\n  prop1: string,\n  prop2: Function,\n  items1: string[],\n  items2: string[],\n}\n</code></pre>\n\n<p>and i have HOC which takes this component and pass items1 and items2 to it</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface IWithItems {\n  items1: string[],\n  items2: string[],\n}\n\ntype WithoutItems&lt;T extends IWithItems&gt; = Omit&lt;T, 'items1'|'items2'&gt;;\n\n\nfunction HoC&lt;T extends IWithItems&gt;(\n  WrappedComponent:\n    React.ComponentClass&lt;T&gt;\n    | React.FunctionComponent&lt;T&gt;,\n): React.ComponentClass&lt;WithoutItems&lt;T&gt;&gt; {\n  class WithItemsWrapper extends React.Component&lt;WithoutItems&lt;T&gt;, IWithItems&gt; {\n\n    state = {\n      items1: [],\n      items2: [],\n    };\n\n    async componentDidMount() {\n      const items1 = await this.getItems1();\n      const items2 = await this.getItems2();\n\n      this.setState({\n        items1,\n        items2,\n      });\n    }\n\n    getItems1 = () =&gt; (\n      // from backend\n    );\n\n    getItems2 = () =&gt; (\n      // from backend\n    );\n\n    render() {\n      return (\n        &lt;WrappedComponent\n          {...this.props}\n          items1={this.state.items1}\n          items2={this.state.items2}\n        /&gt;\n      );\n    }\n  }\n\n  return hoistNonReactStatics(WithItemsWrapper, WrappedComponent);\n}\n</code></pre>\n\n<p>Wrapped component has own props and these props contains items1, items2.\nHoC pulling items from backend and pass it to wrapped component</p>\n\n<p>at my <code>index.ts</code> file i exporting it as</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export default HoC(MyComponent);\n</code></pre>\n\n<p>the idea is that after this export and import this in other file <code>MyComponent</code> should require prop1 and prop2, but not items1 and items2, cuz they had already passed in HoC.</p>\n\n<p>But now it says</p>\n\n<pre><code>Error:(59, 12) TS2322: Type 'Readonly&lt;Pick&lt;T, Exclude&lt;keyof T, \"items1\" | \"items2\"&gt;&gt;&gt; &amp; { items1: never[]; items2: never[]; children?: ReactNode; }' is not assignable to type 'IntrinsicAttributes &amp; T &amp; { children?: ReactNode; }'.\n  Type 'Readonly&lt;Pick&lt;T, Exclude&lt;keyof T, \"items1\" | \"items2\"&gt;&gt;&gt; &amp; { items1: never[]; items2: never[]; children?: ReactNode; }' is not assignable to type 'T'.\n</code></pre>\n\n<p>Is it possible and if it is - what am i doing wrong?</p>\n"}, {"tags": ["json", "angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1562156320, "post_id": 56867475, "comment_id": 100288569, "body": "Oh my. Don&#39;t program in JSON. JSON is not a programming language. JSON is a <b>data</b> format. It&#39;s not supposed to contain executable code."}], "answers": [{"tags": [], "owner": {"reputation": 44, "user_id": 10808330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/729be245a4e12f2caa8acd9786444f79?s=128&d=identicon&r=PG&f=1", "display_name": "bg1", "link": "https://stackoverflow.com/users/10808330/bg1"}, "is_accepted": false, "score": 0, "last_activity_date": 1562157912, "creation_date": 1562157912, "answer_id": 56870486, "question_id": 56867475, "link": "https://stackoverflow.com/questions/56867475/read-dynamically-value-of-variable-within-variable/56870486#56870486", "title": "Read dynamically value of variable within variable", "body": "<p>Json is a data format and it does not contain an executable code for that you could just define this structure in json :</p>\n\n<pre><code>\"test\":[\n{\n        \"displayName\": \"1\",\n        \"clickEvent\": \"0\", // 0 for open and 1 for route\n        \"hiddenProperty\": \"0\"// same thing 0 for one ts variable and 1 for the other,\n        \"value\": false\n    }\n}\n</code></pre>\n\n<p>and then you can just put this code in your ts file :</p>\n\n<pre><code>data.test.forEach((tab) =&gt; {\nif (tab.clickEvent){\nthis.route()\n}else{\nthis.open()\n}\n\n});\n</code></pre>\n\n<p>same thing for variables hope i helped ;)</p>\n"}], "owner": {"reputation": 23, "user_id": 10967103, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-48wvqGidK3o/AAAAAAAAAAI/AAAAAAAAACw/3athGfP12kY/photo.jpg?sz=128", "display_name": "shital raiphale", "link": "https://stackoverflow.com/users/10967103/shital-raiphale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562157912, "creation_date": 1562147769, "last_edit_date": 1562156160, "question_id": 56867475, "link": "https://stackoverflow.com/questions/56867475/read-dynamically-value-of-variable-within-variable", "title": "Read dynamically value of variable within variable", "body": "<p>I have one json file tabs.json which having Format</p>\n\n<pre><code>{\n\"test\":[\n{\n        \"displayName\": \"1\",\n        \"clickEvent\": \"open()\",\n        \"hiddenProperty\": \"dashboard.privilege.ADDRESS_BOOK_ADMINISTRATE\",\n        \"value\": false\n    },\n{\n        \"displayName\": \"2\",\n        \"clickEvent\": \"route()\",\n        \"hiddenProperty\": \"dashboard.privilege.ADDRESS\",\n        \"value\": false\n    },\n]\n}\n</code></pre>\n\n<p>In this file open(), route() are the click events present in test.component.ts file... To invoke them I am using </p>\n\n<pre><code>var data = tabs.json;\ndata.test.forEach((tab) =&gt; {\neval('this.' + tab.clickEvent);\n});\n</code></pre>\n\n<p>This is working perfectly fine and its going to the function open(), route() etc</p>\n\n<p>Similarly the values of \"hiddenProperty\" like \"dashboard.privilege.ADDRESS_BOOK_ADMINISTRATE\",\"dashboard.privilege.ADDRESS\" are also the variables in test.component.ts file</p>\n\n<p>I am trying to fetch the value of them</p>\n\n<p>Tried like \nExample1:</p>\n\n<pre><code>var data = tabs.json;\ndata.test.forEach((tab) =&gt; {\neval('this.' + tab.hiddenProperty);\n});\n</code></pre>\n\n<p>Result: Cannot read property 'dashboard' of undefined</p>\n\n<p>Example2:</p>\n\n<pre><code>var data = tabs.json;\ndata.test.forEach((tab) =&gt; {\neval(tab.hiddenProperty);\n});\n</code></pre>\n\n<p>Result: dashboard is not defined</p>\n\n<p>Example3:</p>\n\n<pre><code>var data = tabs.json;\ndata.test.forEach((tab) =&gt; {\neval.call(this, tab.hiddenProperty);\n});\n</code></pre>\n\n<p>Result: dashboard is not defined</p>\n\n<p>Can you please suggest how can I access value of variable present within variable</p>\n"}, {"tags": ["typescript", "enums"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1562146798, "post_id": 56867130, "comment_id": 100283207, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39785320/how-to-compare-enums-in-typescript\">How to compare Enums in TypeScript</a>"}, {"owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "reply_to_user": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1562147960, "post_id": 56867130, "comment_id": 100283827, "body": "Not a duplicate because the question is about one enum, this one is for two enums with identical values, wich should be compared"}], "answers": [{"comments": [{"owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "edited": false, "score": 0, "creation_date": 1562164047, "post_id": 56868123, "comment_id": 100293329, "body": "I like the solution but it still feels kinda hacky... I was hoping for a online solution :)"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "reply_to_user": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "edited": false, "score": 0, "creation_date": 1562164126, "post_id": 56868123, "comment_id": 100293372, "body": "what do you mean by online solution?"}, {"owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "edited": false, "score": 0, "creation_date": 1562164885, "post_id": 56868123, "comment_id": 100293873, "body": "spellchecker... one line solution, so to solve my problem in just one simple line, which is somewhere referenced in the official documantion :) () PS: if nobody gives a better solution I will accapt yours in a few days)"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "reply_to_user": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "edited": false, "score": 0, "creation_date": 1562226972, "post_id": 56868123, "comment_id": 100313902, "body": "well the one line solution is const x: number = EnumA.HELLO;... if you compare different enums ts will ofc always throw error. what you want is to compare its numeric value so you can compare different enums value what can be same"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "reply_to_user": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "edited": false, "score": 0, "creation_date": 1562228885, "post_id": 56868123, "comment_id": 100314835, "body": "what you did is <a href=\"https://www.typescriptlang.org/play/#code/MYewdgzgLgBAhgLhgRhgHxgJhgXiwbgFgAoKATwAcBTGAWzIBVKa9zqQAzeGAeh5igALAJYQYomGBCxUGbHDBlaIAE40ARlWBwQEGp3FhhUYXAA2wgF5wT4GCWFcAFHFw48yAJQwA3iRgwoJAgZlQAdGYgAOZOAEQMImJBACbGwnYA7sJmZvBmGXBkYmpQAK4qYDAA5BzmelUwEMJgwDRCbcxiVZgNCsnVyA2CcABuNFIwIGMqZnAUYbGeJAC+QA\" rel=\"nofollow noreferrer\">this</a> same error since you try to compare exact value what ts can see..."}], "tags": [], "owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "is_accepted": false, "score": 1, "last_activity_date": 1562149928, "creation_date": 1562149928, "answer_id": 56868123, "question_id": 56867130, "link": "https://stackoverflow.com/questions/56867130/compare-enum-to-enum-of-another-type/56868123#56868123", "title": "Compare enum to enum of another type", "body": "<p>ok so this</p>\n\n<pre><code>const x: EnumA | EnumB = EnumB.HELLO;\n\nif(x === EnumA.HELLO) {\n    console.log('they are the same')\n}\n</code></pre>\n\n<p>throw error since u are comparing const wich is EnumB.HELLO and ts can see this. </p>\n\n<p>if u get the value from function like this </p>\n\n<pre><code>const a = (): EnumA | EnumB =&gt; {\n  return EnumA.HELLO;\n};\nconst x: EnumA | EnumB = a();\n\nif (x === EnumB.HELLO) {\n  console.log('they are the same');\n}\n</code></pre>\n\n<p>that's correct and runtime will pass the condition since this is the same number</p>\n\n<p>the other solution is to compare it like number. </p>\n\n<pre><code>const x: number = EnumA.HELLO;\n\nif (x === EnumB.HELLO) {\n  console.log('they are the same');\n}\n</code></pre>\n\n<p>and again runtime will pass the condition since this is the same number...</p>\n"}, {"comments": [{"owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "edited": false, "score": 0, "creation_date": 1562230169, "post_id": 56874208, "comment_id": 100315531, "body": "The best solution IMHO to that shitty problem we have. Hope to get ride of the problem..."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1562170101, "creation_date": 1562170101, "answer_id": 56874208, "question_id": 56867130, "link": "https://stackoverflow.com/questions/56867130/compare-enum-to-enum-of-another-type/56874208#56874208", "title": "Compare enum to enum of another type", "body": "<p>Union-type variables are <a href=\"https://github.com/microsoft/TypeScript/issues/8513\" rel=\"nofollow noreferrer\">narrowed by control-flow analysis upon assignment</a>.  That means the line</p>\n\n<pre><code>const x: EnumA | EnumB = EnumA.HELLO;\n</code></pre>\n\n<p>ends up narrowing the type of <code>x</code> all the way to type <code>EnumA.HELLO</code>, and it is considered an error to compare two unrelated types like <code>EnumA.HELLO</code> and <code>EnumB.HELLO</code>.</p>\n\n<p>If you want to prevent this from happening so that <code>x</code> can be compared to both an <code>EnumA</code> and an <code>EnumB</code> you can use a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> like this:</p>\n\n<pre><code>const x = EnumB.HELLO as EnumA | EnumB;\n</code></pre>\n\n<p>Then the comparison will work:</p>\n\n<pre><code>if (x === EnumA.HELLO) { } // okay\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/KYOwrgtgBAouEEEoG8CwAoKUASMAyeA8gDQZYDqhASngCIYC+Goks8AQimTvkaZlEo166JugwBjAPYgAzgBcoADygBeNpHYA6XAUJQAhrI2IoAHxPsA3BgwBLAGZQAFCtXuTCHb0IBKLgLSclIANsBaIVIA5s4ARPIAFsAAnoYATsBQiZmyBhDAsb42ohhAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n\n<hr>\n\n<p>But if both <code>EnumA</code> and <code>EnumB</code> are generated by an external source and you know they will be identical, then it seems like a headache to allow them to appear as different types in the first place.  I don't know enough about your code to suggest how to address this... only import <code>EnumA</code> and ignore <code>EnumB</code>?  Merge <code>EnumA</code> and <code>EnumB</code> into a single object and only reference the combined <code>EnumAB</code>?  Not sure.  </p>\n\n<hr>\n\n<p>Anyway, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 56874208, "answer_count": 2, "score": 1, "last_activity_date": 1562170101, "creation_date": 1562146552, "last_edit_date": 1562146696, "question_id": 56867130, "link": "https://stackoverflow.com/questions/56867130/compare-enum-to-enum-of-another-type", "title": "Compare enum to enum of another type", "body": "<p>I'm having enums with identical values but different names:</p>\n\n<pre><code>enum EnumA{\n  HELLO,\n  WORLD\n}\nenum EnumB{\n  HELLO,\n  WORLD\n}\n</code></pre>\n\n<p>As you they are bot generated by an external source an have the same values, but are used in an component where it can be EnumA or EnumB.</p>\n\n<pre><code>let x: EnumA | EnumB = EnumA.HELLO;\n// or\nlet x: EnumA | EnumB = EnumB.HELLO;\n</code></pre>\n\n<p>If I wan to check for HELLO I need to</p>\n\n<pre><code>if(x === EnumA.HELLO || x === EnumB.HELLO)\n</code></pre>\n\n<p><strong>Is there an easier way to do this check or tell typescript that these two enums are identical?</strong></p>\n\n<p>Something like:</p>\n\n<pre><code>const x: EnumA | EnumB = EnumB.HELLO;\n\nif(x === EnumA.HELLO) {\n    console.log('they are the same')\n}\n</code></pre>\n\n<p>If I try this I get the typescript warning:</p>\n\n<blockquote>\n  <p>This condition will always return 'false' since the types\n  'EnumB.HELLO' and 'EnumA.HELLO' have no overlap.</p>\n</blockquote>\n\n<p>But the console.log is called! Demo: <a href=\"https://www.typescriptlang.org/play/#code/KYOwrgtgBAouEEEDeBYAUFTUASMAyeA8gDTpZQDqhASngCLoC+6oks8AQqhlrgSWSxVaDNMzToAxgHsQAZwAuUAB4AudpARQAPhogcoAXj0cAdHyIBudOgCWAMwAUyo4eNxN5-EQCUUbuQy8tIANsCmIdIA5o4A5AoAFsAAnlAAhgBOwFCJ2XJpEMCxPkxAA\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/play/#code/KYOwrgtgBAouEEEDeBYAUFTUASMAyeA8gDTpZQDqhASngCLoC+6oks8AQqhlrgSWSxVaDNMzToAxgHsQAZwAuUAB4AudpARQAPhogcoAXj0cAdHyIBudOgCWAMwAUyo4eNxN5-EQCUUbuQy8tIANsCmIdIA5o4A5AoAFsAAnlAAhgBOwFCJ2XJpEMCxPkxAA</a></p>\n"}, {"tags": ["angular", "typescript", "internet-explorer", "polyfills"], "comments": [{"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1562146261, "post_id": 56866954, "comment_id": 100282903, "body": "did you un-comment relevant rows in the polyfills.ts ?"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "reply_to_user": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1562146302, "post_id": 56866954, "comment_id": 100282934, "body": "can you give me more informations"}, {"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 1, "creation_date": 1562151484, "post_id": 56866954, "comment_id": 100285737, "body": "For testing purpose, Can you try to host any sample web page with the similar configuration and than try to access it with your virtual machine environment to check whether you are able to access it without any issue. It can be possible that it may be any configuration related issue."}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562153568, "post_id": 56866954, "comment_id": 100286865, "body": "Since i dont have access to IIS , this also not possible"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562156132, "post_id": 56866954, "comment_id": 100288428, "body": "i have edited my question, i got few errors in compatability mode only in IE hosted in VM environment."}, {"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "edited": false, "score": 0, "creation_date": 1562238171, "post_id": 56866954, "comment_id": 100320085, "body": "Please check whether you are also getting similar errors on other machine on which your site is working with IE in compatibility mode. If it working without any compatibility mode than you not need to add it in compatibility mode on problematic machine. You can try to find any difference in the configuration of IE on working and non working machine may give some idea about the cause for the issue."}], "answers": [{"comments": [{"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562147149, "post_id": 56867102, "comment_id": 100283389, "body": "the final built works for you locally in IE in your laptop? but not when you deploy to your VM, is that it?"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562147191, "post_id": 56867102, "comment_id": 100283414, "body": "yes , it works fine in my laptop , for all IE versions"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562147396, "post_id": 56867102, "comment_id": 100283523, "body": "When i hosted in my laptop IIS its works without any issues"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562147556, "post_id": 56867102, "comment_id": 100283614, "body": "Looks like issues is with zones and security settings, i am not admin and dont have acceess to change these settings. any idea where and what to change the settings"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562148235, "post_id": 56867102, "comment_id": 100284011, "body": "there can be many things here... (1) is the site HTTPS? (2) go to IE on the VM and tools &gt; internet options &gt; securty settings (3) when you host the site on this VM, and try accessing it from your laptop, you get a white screen ?"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562148451, "post_id": 56867102, "comment_id": 100284154, "body": "site is https and certificate is invalid, so i am forwarding to normal website(http)"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562148482, "post_id": 56867102, "comment_id": 100284166, "body": "since the website is a banking internal website, i cannot run it in my laptop"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562148660, "post_id": 56867102, "comment_id": 100284286, "body": "Can you access it from a different VM in your data center? we gotta know if the (1) issue is with the IE on the VM (2) the issue is for every IE, everywhere in the world"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562148693, "post_id": 56867102, "comment_id": 100284306, "body": "all vm having same issue"}, {"owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562148750, "post_id": 56867102, "comment_id": 100284332, "body": "Only in bank client environment IE having issue, non banking envorment laptop and other laptop there is no issue"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "edited": false, "score": 0, "creation_date": 1562148991, "post_id": 56867102, "comment_id": 100284445, "body": "i have edited the question and voted it up so that more users get more attention to it... can you also update the question with (1) your VM OS &amp; version (2) your Angular version (3) any other detail which you&#39;d like to share regarding your envornment"}], "tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": false, "score": 1, "last_activity_date": 1562146454, "creation_date": 1562146454, "answer_id": 56867102, "question_id": 56866954, "link": "https://stackoverflow.com/questions/56866954/angular-6-website-not-working-on-ie-but-works-locally-on-all-browsers/56867102#56867102", "title": "Angular 6 website not working on IE but works locally on all browsers", "body": "<p>To get Angular App working on IE, go to polyfills.ts and uncomment the following</p>\n\n<pre><code>/** IE9, IE10 and IE11 requires all of the following polyfills. **/\n import 'core-js/es6/symbol';\n import 'core-js/es6/object';\n import 'core-js/es6/function';\n import 'core-js/es6/parse-int';\n import 'core-js/es6/parse-float';\n import 'core-js/es6/number';\n import 'core-js/es6/math';\n import 'core-js/es6/string';\n import 'core-js/es6/date';\n import 'core-js/es6/array';\n import 'core-js/es6/regexp';\n import 'core-js/es6/map';\n import 'core-js/es6/weak-map';\n import 'core-js/es6/set';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1148, "user_id": 833910, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f17925cf81da78a1abf31b0d9dc86445?s=128&d=identicon&r=PG", "display_name": "moefinley", "link": "https://stackoverflow.com/users/833910/moefinley"}, "is_accepted": false, "score": 0, "last_activity_date": 1573750440, "creation_date": 1573750440, "answer_id": 58861988, "question_id": 56866954, "link": "https://stackoverflow.com/questions/56866954/angular-6-website-not-working-on-ie-but-works-locally-on-all-browsers/58861988#58861988", "title": "Angular 6 website not working on IE but works locally on all browsers", "body": "<p>This is a known bug relating to zone.js and the IE Developer Tools.\n<a href=\"https://github.com/angular/angular/issues/31723\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/31723</a></p>\n\n<p>The development workaround is to add this flag before loading zone.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>(window as any).__Zone_enable_cross_context_check = true;\nimport 'zone.js/dist/zone';\n</code></pre>\n"}], "owner": {"reputation": 6915, "user_id": 106528, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Zy8dK.jpg?s=128&g=1", "display_name": "SmartestVEGA", "link": "https://stackoverflow.com/users/106528/smartestvega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 961, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573750440, "creation_date": 1562145949, "last_edit_date": 1562173095, "question_id": 56866954, "link": "https://stackoverflow.com/questions/56866954/angular-6-website-not-working-on-ie-but-works-locally-on-all-browsers", "title": "Angular 6 website not working on IE but works locally on all browsers", "body": "<ul>\n<li>Angular 6 website </li>\n<li>VMware virtual machine environment  </li>\n<li>Windows Server 2012 R2 Standard server</li>\n</ul>\n\n<p>I have an angular website working fine in chrome browser (all versions) on my laptop</p>\n\n<ul>\n<li>Same angular website works fine in IE in my laptop (all versions) in my laptop</li>\n<li>But when i deploy this in client server, virtual machine, chrome website works fine </li>\n<li>But IE website give white blank page for all versions (all VMs in the data center)</li>\n<li>There is no errors in console nor warnings</li>\n<li>relevant polyfills.ts lines are uncommented</li>\n</ul>\n\n<p>I changed the mode of IE to compatibility and observed following errors in console:</p>\n\n<pre><code>SCRIPT5009: 'Promise' is undefined\njspdf.min.js (118,654)\nSCRIPT1002: Syntax error\nmain.js (8527,59)\nSCRIPT5011: Can't execute code from a freed script\nzone.js (2775,1)\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "angular-directive"], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 11643772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/786cb5dafdc07cc4f319df5ce2692537?s=128&d=identicon&r=PG&f=1", "display_name": "DoraTheDestroyer", "link": "https://stackoverflow.com/users/11643772/dorathedestroyer"}, "is_accepted": true, "score": 0, "last_activity_date": 1562151724, "creation_date": 1562151724, "answer_id": 56868663, "question_id": 56866944, "link": "https://stackoverflow.com/questions/56866944/is-there-a-way-to-make-my-components-fully-reusable-in-angular/56868663#56868663", "title": "Is there a way to make my components fully reusable in angular?", "body": "<p>this post helped me make my component reusable \n<a href=\"https://stackoverflow.com/questions/53497616/angular-4-make-component-more-reusable\">Angular 4 - make component more reusable</a></p>\n\n<p>I placed the @Input() decorator followed by only instantiating the variable of type Tile (the interface I created) in the .ts file and I moved the data from there to the file that is using the component. \nWhen I placed my custom component in the html template file, I bound the data using the square brackets notation from the component.ts to the component.html</p>\n"}], "owner": {"reputation": 65, "user_id": 11643772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/786cb5dafdc07cc4f319df5ce2692537?s=128&d=identicon&r=PG&f=1", "display_name": "DoraTheDestroyer", "link": "https://stackoverflow.com/users/11643772/dorathedestroyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 56868663, "answer_count": 1, "score": -3, "last_activity_date": 1562151724, "creation_date": 1562145894, "question_id": 56866944, "link": "https://stackoverflow.com/questions/56866944/is-there-a-way-to-make-my-components-fully-reusable-in-angular", "title": "Is there a way to make my components fully reusable in angular?", "body": "<p>I created a simple component to display a list of buttons using the ngFor directive. </p>\n\n<p>Here is a simplified version of what the component looks like : <a href=\"https://stackblitz.com/edit/angular-eezqjv\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-eezqjv</a></p>\n\n<p>The data will be eventually fetched from an api through a service component and I'm wondering if there is a way to reuse this list component I created with different data.</p>\n"}, {"tags": ["css", "angular", "typescript"], "comments": [{"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1562144356, "post_id": 56866433, "comment_id": 100281781, "body": "can&#39;t... but can use ngClass at the very top to make theme type changes; kinda like <a href=\"https://stackoverflow.com/questions/53077314\">stackoverflow.com/questions/53077314</a>"}, {"owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "edited": false, "score": 1, "creation_date": 1562144753, "post_id": 56866433, "comment_id": 100282005, "body": "what you tried so far? feel free to share your code so we will get batter idea what want wrong"}], "answers": [{"tags": [], "owner": {"reputation": 1341, "user_id": 4413986, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l69ep.jpg?s=128&g=1", "display_name": "Benzara Tahar", "link": "https://stackoverflow.com/users/4413986/benzara-tahar"}, "is_accepted": true, "score": 1, "last_activity_date": 1562145845, "creation_date": 1562145845, "answer_id": 56866928, "question_id": 56866433, "link": "https://stackoverflow.com/questions/56866433/how-to-conditionally-change-style-url-in-angular-component-is-it-possible/56866928#56866928", "title": "How to conditionally change style url in angular component ? is it possible?", "body": "<p>you cannot put a condition in the styleUrls attribute of the component, but instead, you can use something like that:</p>\n\n<pre><code>.some-class {\n  // your css style\n}\n\n//  arabic css  overrides\n._ar {\n   .some-class {\n    direction: rtl;\n   }\n}\n\n\n\n&lt;div class=\"parent\" [class._ar]=\"your_condition\"&gt;\n    &lt;textarea class=\"some-class\"&gt;\n    &lt;/textarea&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11733407, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xkUlh7EiYjI/AAAAAAAAAAI/AAAAAAAAGR4/301z17WsNcE/photo.jpg?sz=128", "display_name": "Arshad N", "link": "https://stackoverflow.com/users/11733407/arshad-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 1, "closed_date": 1562146229, "accepted_answer_id": 56866928, "answer_count": 1, "score": 0, "last_activity_date": 1562145845, "creation_date": 1562144281, "question_id": 56866433, "link": "https://stackoverflow.com/questions/56866433/how-to-conditionally-change-style-url-in-angular-component-is-it-possible", "closed_reason": "Not suitable for this site", "title": "How to conditionally change style url in angular component ? is it possible?", "body": "<p>I have two css file for arbaic layout and english layout , so I want to conditionally change the styleurl in component . is possible or not \n? </p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "karma-jasmine"], "answers": [{"comments": [{"owner": {"reputation": 3308, "user_id": 1854382, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/7zNMs.png?s=128&g=1", "display_name": "J King", "link": "https://stackoverflow.com/users/1854382/j-king"}, "edited": false, "score": 0, "creation_date": 1617208073, "post_id": 56866839, "comment_id": 118242093, "body": "thanks, id d the same, returned function instead of property"}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 3, "last_activity_date": 1562145574, "creation_date": 1562145574, "answer_id": 56866839, "question_id": 56866208, "link": "https://stackoverflow.com/questions/56866208/error-invalidpipeargument-function-return-fn-applythis-arguments/56866839#56866839", "title": "Error: InvalidPipeArgument: &#39;function () { return fn.apply(this, arguments); }&#39; for pipe &#39;AsyncPipe&#39; Angular 7 Unit testing", "body": "<p>There are several problems.</p>\n\n<p>First, you're shooting yourself in the foot by using the type <code>any</code>. By doing this, the compiler let's you do things that don't make sense. And you also make the code harder to read for yourself. The <code>isLoading</code> property is supposed to be an <code>Observable&lt;boolean&gt;</code>, since that's what the template expects. So use that correct type instead of <code>any</code>.</p>\n\n<p>Second, this line:</p>\n\n<pre><code>jasmine.createSpyObj('GuestUserService', ['isLoading'])\n</code></pre>\n\n<p>creates an object with a <strong>function</strong> named <code>isLoading</code>. But your actual service has a <code>property of type</code>Observable`` named <code>isLoading</code>, and that's what your template expects, hence the error: tha async pipe needs an observable as input, but you're passing it <code>isLoading</code>, which is a function in your test, and not an observable (see how using the right type helps reasoning about the errors you get?).</p>\n\n<p>And BTW, this function returns a boolean true, instead of an <code>Observable&lt;boolean&gt;</code> </p>\n\n<p>You could define a simple object instead of using jasmine to create your fake service:</p>\n\n<pre><code>const fakeService = {\n    isLoading: of(true)\n}\n</code></pre>\n\n<p>Or you could use jasmine but use its <code>spyOnProperty</code> function.</p>\n\n<p>Or you could use <code>BehaviorSubject&lt;boolean&gt;</code> as the type of isLoading and thus use the real service implementation and simply make the subject emit true.</p>\n"}], "owner": {"reputation": 547, "user_id": 9309209, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iL4VfiBUa_Y/AAAAAAAAAAI/AAAAAAAAAXM/7soeNFXMvfg/photo.jpg?sz=128", "display_name": "Vishal Hasnani", "link": "https://stackoverflow.com/users/9309209/vishal-hasnani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 997, "favorite_count": 0, "accepted_answer_id": 56866839, "answer_count": 1, "score": 1, "last_activity_date": 1562145574, "creation_date": 1562143492, "last_edit_date": 1562144609, "question_id": 56866208, "link": "https://stackoverflow.com/questions/56866208/error-invalidpipeargument-function-return-fn-applythis-arguments", "title": "Error: InvalidPipeArgument: &#39;function () { return fn.apply(this, arguments); }&#39; for pipe &#39;AsyncPipe&#39; Angular 7 Unit testing", "body": "<p>I'm writing unit test cases in Angular 7 in this process got stuck to create unit\ntest for a service variable 'isLoading'.</p>\n\n<p>here is my app component html file:</p>\n\n<pre><code>&lt;router-outlet&gt;&lt;/router-outlet&gt;\n\n\n&lt;div *ngIf=\"guestUserService.isLoading | async\"  class=\"loaderdiv\"&gt;\n  &lt;mat-spinner class=\"loader\"&gt;&lt;/mat-spinner&gt;\n&lt;/div&gt; \n</code></pre>\n\n<p>The service file:</p>\n\n<pre><code>export class GuestUserService {\n\n  public isLoading: any = new BehaviorSubject(false);\n\n}\n</code></pre>\n\n<p>The unit test case:</p>\n\n<pre><code> fdescribe('AppComponent', () =&gt; {\n         let guestUserService: any;\n         let guestUserServiceSpy: any;\n\n          beforeEach(async(() =&gt; {\n            guestUserService = jasmine.createSpyObj('GuestUserService', ['isLoading']);\n            TestBed.configureTestingModule({\n              providers: [\n                { provide: GuestUserService, useValue: guestUserService }]\n            }).compileComponents();\n}));\n\n it('should render loader if isLoading true', () =&gt; {\n    guestUserServiceSpy = guestUserService.isLoading.and.returnValue(true);\n    fixture.detectChanges();\n    const compiled = fixture.debugElement.nativeElement;\n    expect(guestUserService).toBeDefined();\n    expect(guestUserServiceSpy).toBeDefined();\n    expect(guestUserService.isLoading).toBeTruthy();\n    expect(fixture.debugElement.query(By.css('.loader'))).toBeDefined();\n    expect(compiled.querySelector('mat-spinner')).toBeTruthy();\n  });\n</code></pre>\n\n<p>Getting error:</p>\n\n<blockquote>\n  <p>Error: InvalidPipeArgument: 'function () { return fn.apply(this,\n  arguments); }' for pipe 'AsyncPipe'</p>\n</blockquote>\n\n<p>Is there any proper way to create unit test case for this type of scenarios.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 11582407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d67ddb7cb2c3abb843df00f519fa97ad?s=128&d=identicon&r=PG&f=1", "display_name": "GregRbs", "link": "https://stackoverflow.com/users/11582407/gregrbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1562143556, "creation_date": 1562143556, "answer_id": 56866229, "question_id": 56866010, "link": "https://stackoverflow.com/questions/56866010/submit-form-with-two-different-api-with-condition/56866229#56866229", "title": "submit form with two different Api with condition", "body": "<p>To pipe different <code>HttpClient</code> requests like you are doing, you should consider using the pipe operator <code>switchMap</code>. Moreover, I'm not sure your <code>if</code> statement is required since you are already in the success callback of your <code>Observable</code>.</p>\n\n<p>You may use something like this :</p>\n\n<pre><code>public signupform(userData: SignupRequest): Observable&lt;any&gt; {\n  return this.http.post('api/createorganisation')\n    .pipe(\n      switchMap(() =&gt; this.http.post('api/createuser'))\n    );\n}\n</code></pre>\n\n<p>When subscribing on this, you will trigger both queries on after the other and get the result returned by the second query.</p>\n\n<p>Hope it helps !</p>\n"}, {"comments": [{"owner": {"reputation": 517, "user_id": 9097559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4346ebb2e24b52684a2dfabc815c5ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Shah", "link": "https://stackoverflow.com/users/9097559/shah"}, "edited": false, "score": 0, "creation_date": 1562146001, "post_id": 56866237, "comment_id": 100282757, "body": "how to checking if data in <code>api&#47;createorganisation</code> already exist"}], "tags": [], "owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "is_accepted": false, "score": 1, "last_activity_date": 1562147325, "last_edit_date": 1562147325, "creation_date": 1562143604, "answer_id": 56866237, "question_id": 56866010, "link": "https://stackoverflow.com/questions/56866010/submit-form-with-two-different-api-with-condition/56866237#56866237", "title": "submit form with two different Api with condition", "body": "<p>Try to use <code>switchMap()</code> operator if you have two API calls:</p>\n\n<pre><code>import { map, switchMap } from 'rxjs/operators';\n\npublic signupform(userData: SignupRequest): Observable&lt;any&gt;{    \n    return this.http.post('api/createorganisation')\n        .pipe( \n             switchMap(organis =&gt; {\n                 return this.http.post('api/createuser');\n             })             \n         );\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>To see whether API is returned data, you can log it:</p>\n\n<pre><code>public signupform(userData: SignupRequest): Observable&lt;any&gt;{    \n    return this.http.post('api/createorganisation')\n    .pipe( \n       switchMap(organis =&gt; {\n         console.log('organis: ', organis.json()); // to see data of api/createorganisation\n         return this.http.post('api/createuser');\n       })             \n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 517, "user_id": 9097559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4346ebb2e24b52684a2dfabc815c5ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Shah", "link": "https://stackoverflow.com/users/9097559/shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 56866229, "answer_count": 2, "score": 2, "last_activity_date": 1562147325, "creation_date": 1562142758, "last_edit_date": 1562145704, "question_id": 56866010, "link": "https://stackoverflow.com/questions/56866010/submit-form-with-two-different-api-with-condition", "title": "submit form with two different Api with condition", "body": "<p>I got problem how submit using 2 different Api.\nwhen first Api returns success then go to second Api.\nIt success for first Api but second Api failed since the data is getting undefined. </p>\n\n<p>this is my code</p>\n\n<pre><code>public signupform(userData: SignupRequest): Observable &lt;any&gt; {\n  return this.http.post('api/createorganisation').pipe(tap( // Log the result or error\n    data =&gt; {\n      if (data.status['message'] === 'Success.') {\n        return this.http.post('api/createuser');\n      }\n    }\n  ));\n}\n</code></pre>\n\n<p>Hope you all can help\nThank in advance</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 241, "user_id": 4763960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ffc89da14b290a9cd8d94cf6d4a1b4?s=128&d=identicon&r=PG&f=1", "display_name": "alessio bortolato", "link": "https://stackoverflow.com/users/4763960/alessio-bortolato"}, "is_accepted": false, "score": 0, "last_activity_date": 1562143939, "creation_date": 1562143939, "answer_id": 56866347, "question_id": 56865957, "link": "https://stackoverflow.com/questions/56865957/when-using-a-helper-service-to-access-my-api-to-retrieve-1-record-i-am-getting/56866347#56866347", "title": "When using a helper service to access my API to retrieve 1 record, I am getting nulls and nothing is displayed", "body": "<p>I don't know if this could solve your problem but instead of a callback fucntion you should use observables so this </p>\n\n<pre><code>public getUser(callback: any, id: number ) {\n  this.getUserRequest(id).subscribe(response =&gt; {\n    this.user = response;\n    callback(this.user);\n  }, error =&gt; {\n    console.log(error);\n  });\n}\n</code></pre>\n\n<p>becomes this </p>\n\n<pre><code>public getUser(id: number): Observable&lt;any&gt; {\n        return this.getUserRequest(id).pipe(\n            map(response =&gt; {\n                this.user = response;\n                return response;\n            })\n        );\n    }\n</code></pre>\n\n<p>and this </p>\n\n<pre><code>getDetails(userId: number) {\n  this.helper.getUser((data: any) =&gt; { this.selectedUser = data; }, userId);\n}\n</code></pre>\n\n<p>should become this </p>\n\n<pre><code>getDetails(userId: number) {\n  this.helper.getUser(userId).subscribe((data: any) =&gt; { this.selectedUser = data});\n}\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 4798227, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7SIoq.png?s=128&g=1", "display_name": "Nick Fallows", "link": "https://stackoverflow.com/users/4798227/nick-fallows"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562143939, "creation_date": 1562142534, "last_edit_date": 1562142650, "question_id": 56865957, "link": "https://stackoverflow.com/questions/56865957/when-using-a-helper-service-to-access-my-api-to-retrieve-1-record-i-am-getting", "title": "When using a helper service to access my API to retrieve 1 record, I am getting nulls and nothing is displayed", "body": "<p>I am in the process of learning Angular and .Net Core, and to try and simplify my code I have decided to use a helper service to hold API calls that will be used in multiple components.</p>\n\n<p>When I am trying to retrieve all records it works correctly, however when I try to use the same process to retrieve 1 record, I get console errors and the object I'm using returns as a null.</p>\n\n<p>Below is the code from my working methods when I retrieve all records:</p>\n\n<p>User Component</p>\n\n<pre><code>getUsers() {\n  this.selectedUser = null;\n  this.hasSelectedUser = false;\n  this.helper.getUsers((data: any) =&gt; { this.users = data; });\n}\n</code></pre>\n\n<p>Helper Service</p>\n\n<pre><code>private getUsersRequest(): Observable&lt;any&gt; {\n  return this.http.get(this.baseUrl + 'users');\n}\n\npublic getUsers(callback: any ) {\n  this.getUsersRequest().subscribe(response =&gt; {\n    this.users = response;\n    this.users.sort((a: any, b: any) =&gt; {\n      return a.firstName.localeCompare(b.firstName);\n    });\n    callback(this.users);\n  }, error =&gt; {\n    console.log(error);\n  });\n}\n</code></pre>\n\n<p>The above works well, however the below doesn't:</p>\n\n<p>User Component</p>\n\n<pre><code>getDetails(userId: number) {\n  this.helper.getUser((data: any) =&gt; { this.selectedUser = data; }, userId);\n}\n</code></pre>\n\n<p>The user Id comes from the user that is selected in the web page.</p>\n\n<p>Helper service</p>\n\n<pre><code>private getUserRequest(id: number): Observable&lt;any&gt; {\n  return this.http.get(this.baseUrl + 'users/' + id);\n}\n\npublic getUser(callback: any, id: number ) {\n  this.getUserRequest(id).subscribe(response =&gt; {\n    this.user = response;\n    callback(this.user);\n  }, error =&gt; {\n    console.log(error);\n  });\n}\n</code></pre>\n\n<p>I can see that the helper service retrieves the data when I console.log the user object from the helper service, but nothing seems to be coming through to the component.</p>\n\n<p>NOTE: if I don't use the helper service to retrieve the single record it works fine, but I would like to use the helper service if possible</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "edited": false, "score": 0, "creation_date": 1562142806, "post_id": 56865969, "comment_id": 100280938, "body": "So it is impossible to extend a basecomponent ans have the reference to activatedRoute automatically from the parent?"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "reply_to_user": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "edited": false, "score": 0, "creation_date": 1562142864, "post_id": 56865969, "comment_id": 100280963, "body": "unfortunately so far no m you need to remove the activatedRoute  fromn the base class  \ud83d\ude1f\ud83d\ude1f"}, {"owner": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "edited": false, "score": 0, "creation_date": 1562143016, "post_id": 56865969, "comment_id": 100281028, "body": "I asked this about activatedRoute, but I am also having problems with other services like ModalController from ionic. I guess it is the same problem then?"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "reply_to_user": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "edited": false, "score": 0, "creation_date": 1562143401, "post_id": 56865969, "comment_id": 100281256, "body": "sorry I have no idea about ionic I hasn&#39;t use it  \ud83d\ude14 ,so I don&#39;t know if it has similar restriction"}, {"owner": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "edited": false, "score": 0, "creation_date": 1562146296, "post_id": 56865969, "comment_id": 100282933, "body": "The only thing that I know works, is to re-inject the injector into the super, coming from the child. Then, it works. I wanted to avoid that part, for elegance."}, {"owner": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "edited": false, "score": 0, "creation_date": 1562146318, "post_id": 56865969, "comment_id": 100282945, "body": "In the child:  constructor(public injector: Injector) {         super(injector); (...)"}, {"owner": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "edited": false, "score": 0, "creation_date": 1562148616, "post_id": 56865969, "comment_id": 100284253, "body": "I marked your answer as valid, but I replied to myself also, in order to make it clear for other people facing the same problem. I am going to to go this way to avoid problems with the idiosincrasy of Angular, even if it is not as smart as having a way to remove the need for injecting in constructors."}], "tags": [], "owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "is_accepted": true, "score": 1, "last_activity_date": 1562142587, "creation_date": 1562142587, "answer_id": 56865969, "question_id": 56865574, "link": "https://stackoverflow.com/questions/56865574/angular-injector-on-extended-components/56865969#56865969", "title": "Angular injector on extended components", "body": "<p>there is nothing wrong with your static injector but it related how  activatedRoute work ,  <strong>ActivatedRoute</strong> contains the information about a route associated with a component. loaded in an <strong>outlet</strong> <a href=\"https://angular.io/api/router/ActivatedRoute\" rel=\"nofollow noreferrer\">doc</a>  , thay whay the injected activatedRoute (component) work instad of base injected activatedrouteservice </p>\n\n<blockquote>\n  <p>when using a parametrized route which targets a component, only this\n  component can access those parameters.</p>\n</blockquote>\n\n<p>check this question has similar problem \ud83d\udc49 <a href=\"https://stackoverflow.com/questions/55687242/how-to-retrieve-a-route-param-using-injector-getactivatedroute\">How to retrieve a route param using Injector.get(ActivatedRoute)?</a></p>\n"}, {"comments": [{"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1562149459, "post_id": 56867715, "comment_id": 100284690, "body": "\ud83d\udc4d this seam the only way go around this  but it is butter to remove the activatedRoute from the base class and just inject the ActivatedRoute"}, {"owner": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "reply_to_user": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1562149548, "post_id": 56867715, "comment_id": 100284735, "body": "Yes. Easy it is. But when I have 20 sub-classes and the parent has to have the upper-hand of the logic, it is a pain to re-throw the activatedRoute up everytime."}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1562150410, "post_id": 56867715, "comment_id": 100285169, "body": "I mean only for the activatedRoute"}], "tags": [], "owner": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "is_accepted": false, "score": 2, "last_activity_date": 1562148534, "creation_date": 1562148534, "answer_id": 56867715, "question_id": 56865574, "link": "https://stackoverflow.com/questions/56865574/angular-injector-on-extended-components/56867715#56867715", "title": "Angular injector on extended components", "body": "<p>For now it seems that the only workaround we want to do this is to re-inject the injector from the child into the parent. It is not as clean as keeping the constructor completely empty, but, at least, you can extend and reuse a lot of logic from a parent component in a neat way.</p>\n\n<p>child.comp.ts (that extends from parent)</p>\n\n<pre><code>\n    constructor(public injector: Injector) {\n        super(injector);\n    }\n\n(...)\n\n</code></pre>\n\n<p>parent.comp.ts</p>\n\n<pre><code>(...)\n    constructor(public injector: Injector) {\n         this.activatedRoute = injector.get(ActivatedRoute);\n    }\n\n(...)\n\n</code></pre>\n"}], "owner": {"reputation": 411, "user_id": 4981316, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204415542087860/picture?type=large", "display_name": "Martin", "link": "https://stackoverflow.com/users/4981316/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 56865969, "answer_count": 2, "score": 1, "last_activity_date": 1562148534, "creation_date": 1562141077, "question_id": 56865574, "link": "https://stackoverflow.com/questions/56865574/angular-injector-on-extended-components", "title": "Angular injector on extended components", "body": "<p>I am using ionic4 and Angular 7.2.2, and I created a base component class to be extended by other components and not have to repeat a lot of things that I always use. In order to avoid the constructor injection, and therefore be forced to pass again the params to the base construtor in th extended class, I am using Injector.get.</p>\n\n<p>The problem that experience is that, when used it this way, a lot of Angular or Ionic injectors that work fine if injected in the child constructor, do not work or return empty values when used in the child, using the parent's reference.</p>\n\n<p>I am sure there is something I am missing out, because upon inspection of the injector when using the one from my base class and the one from the child, they are different. </p>\n\n<p>Uppon execution, and going to: <strong><a href=\"http://localhost:8101/home/4\" rel=\"nofollow noreferrer\">http://localhost:8101/home/4</a></strong></p>\n\n<p>This is the relevant code:</p>\n\n<p><strong>app-routing.module.ts</strong></p>\n\n<pre><code>\n\nconst routes: Routes = [\n    {path: '', redirectTo: 'home/4', pathMatch: 'full'},\n    {path: 'home/:id', loadChildren: './home/home.module#HomePageModule'},\n];\n\n</code></pre>\n\n<p><strong>home.page.ts</strong></p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {BasePage} from '../../tests/base.comp.test';\nimport {ActivatedRoute} from '@angular/router';\n\n@Component({\n    selector: 'app-home',\n    templateUrl: 'home.page.html',\n    styleUrls: ['home.page.scss'],\n})\nexport class HomePage extends BasePage {\n\n    constructor(public ar: ActivatedRoute) {\n        super();\n\n\n        this.activatedRoute.params.subscribe(\n            (result) =&gt; {\n                console.log(`PARAMS FROM inherited activatedRoute-&gt; `, result); // -&gt; outputs {} WRONG!\n\n            }\n        );\n\n        ar.params.subscribe(\n            (result) =&gt; {\n                console.log(`Params from direct injection-&gt; `, result); // -&gt; outputs {id: \"4\"} Good!\n            }\n        );\n\n\n    }\n\n}\n\n</code></pre>\n\n<p><strong>home.module.ts</strong></p>\n\n<pre><code>import {NgModule} from '@angular/core';\nimport {RouterModule} from '@angular/router';\nimport {HomePage} from './home.page';\nimport {BasePageModule} from '../../tests/base.test.module';\n\n@NgModule({\n    imports: [\n        BasePageModule,\n        RouterModule.forChild([\n            {\n                path: '',\n                component: HomePage\n            }\n        ])\n    ],\n    declarations: [HomePage]\n})\nexport class HomePageModule {\n}\n\n</code></pre>\n\n<p><strong>base.test.module.ts</strong></p>\n\n<pre><code>import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {IonicModule} from '@ionic/angular';\nimport {FormsModule} from '@angular/forms';\nimport {BasePage} from './base.comp.test';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        IonicModule,\n        FormsModule,\n    ],\n    declarations: [BasePage],\n    providers: [],\n    exports: [\n        CommonModule,\n        IonicModule,\n        FormsModule\n    ]\n})\nexport class BasePageModule {\n}\n\n</code></pre>\n\n<p><strong>base.comp.test.ts</strong></p>\n\n<pre><code>import {Component, Injector} from '@angular/core';\nimport {AppInjectorTest} from './app.injector.test';\nimport {ActivatedRoute, Router} from '@angular/router';\n\n@Component({\n    selector: 'app-base',\n    template: '',\n})\nexport class BasePage {\n\n    public injector: Injector;\n    public activatedRoute: ActivatedRoute;\n\n    constructor() {\n        const injector = AppInjectorTest.getInjector();\n        this.activatedRoute = injector.get(ActivatedRoute);\n    }\n\n}\n\n</code></pre>\n\n<p><strong>app.injector.test.ts</strong></p>\n\n<pre><code>import {Injector} from '@angular/core';\n\nexport class AppInjectorTest {\n\n    private static injector: Injector;\n\n    static setInjector(injector: Injector) {\n        AppInjectorTest.injector = injector;\n    }\n\n    static getInjector(): Injector {\n        return AppInjectorTest.injector;\n    }\n\n}\n\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import {Component, Injector} from '@angular/core';\n\nimport {Platform} from '@ionic/angular';\nimport {SplashScreen} from '@ionic-native/splash-screen/ngx';\nimport {StatusBar} from '@ionic-native/status-bar/ngx';\nimport {AppInjectorTest} from '../tests/app.injector.test';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: 'app.component.html'\n})\nexport class AppComponent {\n    constructor(\n        private platform: Platform,\n        private splashScreen: SplashScreen,\n        private statusBar: StatusBar,\n        private injector: Injector\n    ) {\n        this.initializeApp();\n        AppInjectorTest.setInjector(injector);\n    }\n\n    initializeApp() {\n        this.platform.ready().then(() =&gt; {\n            this.statusBar.styleDefault();\n            this.splashScreen.hide();\n        });\n    }\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "single-page-application", "angular8"], "comments": [{"owner": {"reputation": 502, "user_id": 1828900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f13e54d359b3d9cd87fda006e9409ac?s=128&d=identicon&r=PG", "display_name": "Nilesh Mali", "link": "https://stackoverflow.com/users/1828900/nilesh-mali"}, "edited": false, "score": 0, "creation_date": 1562139934, "post_id": 56865241, "comment_id": 100279507, "body": "Please check <a href=\"https://stackoverflow.com/a/53173852/1828900\">stackoverflow.com/a/53173852/1828900</a>"}], "answers": [{"comments": [{"owner": {"reputation": 676, "user_id": 3634274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XhODu.jpg?s=128&g=1", "display_name": "JohnnyDevNull", "link": "https://stackoverflow.com/users/3634274/johnnydevnull"}, "edited": false, "score": 0, "creation_date": 1562141123, "post_id": 56865265, "comment_id": 100280053, "body": "As a addition you can then also provide a <code>index.ts</code> in that folder so that you can import everything from just like this <code>@services&#47;index</code> or <code>@services</code>"}, {"owner": {"reputation": 24017, "user_id": 38940, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bOQNB.jpg?s=128&g=1", "display_name": "Tomasz Smykowski", "link": "https://stackoverflow.com/users/38940/tomasz-smykowski"}, "edited": false, "score": 0, "creation_date": 1562148617, "post_id": 56865265, "comment_id": 100284255, "body": "@JohnnyDevNullThanks for comment. If i will use index.ts and import everything, does it mean i will not need to import stuff in each component and service?"}, {"owner": {"reputation": 24017, "user_id": 38940, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bOQNB.jpg?s=128&g=1", "display_name": "Tomasz Smykowski", "link": "https://stackoverflow.com/users/38940/tomasz-smykowski"}, "edited": false, "score": 0, "creation_date": 1562148689, "post_id": 56865265, "comment_id": 100284304, "body": "@Tony Ngo I would need to define this for each folder right? Is there a solution to define it once and use it all along the road? And what should be inside tsconfig.app.json in the solution you have provided?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 1, "creation_date": 1562149097, "post_id": 56865265, "comment_id": 100284503, "body": "Yes. You could for 1 parent folder too like <code>&quot;src&#47;*&quot;:  [&quot;src&#47;app&#47;*&quot;]</code>"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 24017, "user_id": 38940, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bOQNB.jpg?s=128&g=1", "display_name": "Tomasz Smykowski", "link": "https://stackoverflow.com/users/38940/tomasz-smykowski"}, "edited": false, "score": 0, "creation_date": 1562168685, "post_id": 56865265, "comment_id": 100296070, "body": "@TomaszSmykowski so did my answer help you ? If so please vote up and mark my answer as accepted."}, {"owner": {"reputation": 24017, "user_id": 38940, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bOQNB.jpg?s=128&g=1", "display_name": "Tomasz Smykowski", "link": "https://stackoverflow.com/users/38940/tomasz-smykowski"}, "edited": false, "score": 0, "creation_date": 1562258689, "post_id": 56865265, "comment_id": 100330401, "body": "@TonyNgo I can vote up, but this is not the final solution. Final solution is more from a comment of NileshMali (not entirely but from this the solution came)"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 1, "last_activity_date": 1562141311, "last_edit_date": 1562141311, "creation_date": 1562139829, "answer_id": 56865265, "question_id": 56865241, "link": "https://stackoverflow.com/questions/56865241/how-to-set-up-angular-app-path-to-import-components-without-prefix-in-visual-stu/56865265#56865265", "title": "How to set up Angular app path to import components without prefix in Visual Studio Code?", "body": "<p>You should change your tsconfig.json. I'm assum that your services code in services folder so I will change the config</p>\n\n<pre><code>\"baseUrl\": \"./\",\n\"paths\": {\n   \"services/*\": [\"src/app/services/*\"],\n },\n</code></pre>\n\n<p>Then you can import like this</p>\n\n<pre><code>import { CarService } from 'services/car.service';\n</code></pre>\n"}], "owner": {"reputation": 24017, "user_id": 38940, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bOQNB.jpg?s=128&g=1", "display_name": "Tomasz Smykowski", "link": "https://stackoverflow.com/users/38940/tomasz-smykowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "accepted_answer_id": 56865265, "answer_count": 1, "score": 0, "last_activity_date": 1576223108, "creation_date": 1562139681, "last_edit_date": 1576223108, "question_id": 56865241, "link": "https://stackoverflow.com/questions/56865241/how-to-set-up-angular-app-path-to-import-components-without-prefix-in-visual-stu", "title": "How to set up Angular app path to import components without prefix in Visual Studio Code?", "body": "<p>I want to import components and services without any path prefix, like this:</p>\n\n<pre><code>import { CarService } from 'services/car.service';\n</code></pre>\n\n<p>From files in a Angular app structure that looks like this:</p>\n\n<pre><code>carproject\n   src\n      app (from here)\n          components (from here)\n             base (from here)\n          pages (from here)\n          services (from here)\n</code></pre>\n\n<p>Currently tscongif.json in carproject folder contains this base URL:</p>\n\n<pre><code>\"baseUrl\": \"./src\",\n</code></pre>\n\n<p>And tscongif.app.json in src folder:</p>\n\n<pre><code>\"baseUrl\": \"app\" \n</code></pre>\n\n<p>Application actually allows to make imports in the format i provided on top of this question. The application starts properly. </p>\n\n<p>But Visual Code does not seem to understand it. And shows error:</p>\n\n<pre><code>Cannot find module 'services/car.service'.ts(xxx)\n</code></pre>\n\n<p>How to properly configure baseUrls so i will be able to import components and services without path prefixes from places indicated above, and so that Visual  Studio Code will be able to find these imports also?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 181, "user_id": 10390275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d98200a1b1425a48912f13d6ed2cd35?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/10390275/eugene"}, "edited": false, "score": 0, "creation_date": 1562139714, "post_id": 56865204, "comment_id": 100279380, "body": "Which editor are you using? VS Code?"}, {"owner": {"reputation": 767, "user_id": 2304483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936ea909f702805ce1962e1596d25320?s=128&d=identicon&r=PG", "display_name": "user2304483", "link": "https://stackoverflow.com/users/2304483/user2304483"}, "reply_to_user": {"reputation": 181, "user_id": 10390275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d98200a1b1425a48912f13d6ed2cd35?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/10390275/eugene"}, "edited": false, "score": 0, "creation_date": 1562139819, "post_id": 56865204, "comment_id": 100279444, "body": "Yes, I&#39;m using visual code"}, {"owner": {"reputation": 61, "user_id": 9723698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83fb74097c4be0b1a4a044c6c3c1380b?s=128&d=identicon&r=PG&f=1", "display_name": "Bartu", "link": "https://stackoverflow.com/users/9723698/bartu"}, "edited": false, "score": 3, "creation_date": 1562140101, "post_id": 56865204, "comment_id": 100279574, "body": "Can you try to use <code>responseType: &#39;text&#39; as &#39;json&#39;</code> in your headers?"}, {"owner": {"reputation": 767, "user_id": 2304483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936ea909f702805ce1962e1596d25320?s=128&d=identicon&r=PG", "display_name": "user2304483", "link": "https://stackoverflow.com/users/2304483/user2304483"}, "edited": false, "score": 0, "creation_date": 1562140403, "post_id": 56865204, "comment_id": 100279707, "body": "That&#39;s fixed the error, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 0, "last_activity_date": 1562140178, "creation_date": 1562140178, "answer_id": 56865357, "question_id": 56865204, "link": "https://stackoverflow.com/questions/56865204/getting-typescript-error-for-options-configuration-in-an-angular-8-app/56865357#56865357", "title": "Getting typescript error for options configuration in an Angular 8 app", "body": "<p>You should change your code to</p>\n\n<pre><code>  public getTripNameById(tripId: number): Observable&lt;any&gt; {\n    const httpOptionsText = {\n      headers: new HttpHeaders({\n        Accept: \"text/plain\",\n        \"Content-Type\": \"text/plain\"\n      }),\n      responseType: \"text\" as \"json\"\n    };\n    return this.http.get&lt;any&gt;(\n      `${this.baseUrl}/Trips/Trip/Name/${tripId}`,\n      httpOptionsText\n    );\n  }\n</code></pre>\n"}], "owner": {"reputation": 767, "user_id": 2304483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936ea909f702805ce1962e1596d25320?s=128&d=identicon&r=PG", "display_name": "user2304483", "link": "https://stackoverflow.com/users/2304483/user2304483"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 56865357, "answer_count": 1, "score": 1, "last_activity_date": 1565680620, "creation_date": 1562139527, "last_edit_date": 1565680620, "question_id": 56865204, "link": "https://stackoverflow.com/questions/56865204/getting-typescript-error-for-options-configuration-in-an-angular-8-app", "title": "Getting typescript error for options configuration in an Angular 8 app", "body": "<p>I'm getting the following error when trying to call a service using rest api\nand a get call:</p>\n\n<blockquote>\n  <p>Argument of type '{ headers: HttpHeaders; responseType: string; }'\n  is not assignable to parameter of type '{ headers?: HttpHeaders | {\n  [header: string]: string | string[]; }; observe?: \"body\"; params?:\n  HttpParams | { [param: string]: string | string[]; }; reportProgress?:\n  boolean; responseType?: \"json\"; withCredentials?: boolean; }'.\n        Types of property 'responseType' are incompatible.\n          Type 'string' is not assignable to type '\"json\"'.ts(2345)</p>\n</blockquote>\n\n<pre><code> const httpOptionsText = {\n  headers: new HttpHeaders({\n    'Accept': 'text/plain',\n    'Content-Type': 'text/plain'\n  }),\n  responseType: 'text'\n};\n</code></pre>\n\n<p>Here is the service call with httpOptionsPlain as parameter which is error is\nsigned.</p>\n\n<pre><code>@Injectable()\nexport class TripService {\n\npublic getTripNameById(tripId: number): Observable&lt;any&gt; {\n    return this.http.get&lt;any&gt;(`${this.baseUrl}/Trips/Trip/Name/${tripId}`,  httpOptionsText);\n  }\n</code></pre>\n\n<p>The error is on the editor only (the code works fine). Thanks.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "observable", "ionic4"], "comments": [{"owner": {"reputation": 1918, "user_id": 10215560, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iw7RDke4S6Q/AAAAAAAAAAI/AAAAAAAAAV8/bFFuudfZwGY/photo.jpg?sz=128", "display_name": "noam steiner", "link": "https://stackoverflow.com/users/10215560/noam-steiner"}, "edited": false, "score": 0, "creation_date": 1562139943, "post_id": 56865191, "comment_id": 100279516, "body": "I advice you to edit the question and be more specific about what you are trying to achieve and what are the difficulties you experience."}], "answers": [{"tags": [], "owner": {"reputation": 6018, "user_id": 1122806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/09b0387240456c6a2e480460127195b0?s=128&d=identicon&r=PG", "display_name": "Dimanoid", "link": "https://stackoverflow.com/users/1122806/dimanoid"}, "is_accepted": true, "score": 3, "last_activity_date": 1562140415, "creation_date": 1562140415, "answer_id": 56865429, "question_id": 56865191, "link": "https://stackoverflow.com/questions/56865191/angular-auth-guard-with-subscribe/56865429#56865429", "title": "Angular Auth Guard with Subscribe", "body": "<p>You need to return <code>Observable&lt;boolean&gt;</code> that will resolve to true/false depending on authentication request.</p>\n\n<pre><code>canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n    return new Observable&lt;boolean&gt;(obs =&gt; {\n        this.authService.getUserId().then(() =&gt; {\n            let params = {\n                gameId: next.params.id,\n                userId: this.authService.userId\n            };\n\n            this.authService.getApi('api/team_check', params).subscribe(\n                data =&gt; {\n                    if (data !== 1) {\n                        console.log('fail');\n                        // They don't have a team, lets redirect\n                        this.router.navigateByUrl('/teamlanding/' + next.params.id);\n                        obs.next(false);\n                    }\n                    else {\n                        obs.next(true);\n                    }\n                }\n            );\n        });\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 656, "user_id": 2570937, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/85ec0c3873d56dadf8adf01b238cdadc?s=128&d=identicon&r=PG", "display_name": "user2570937", "link": "https://stackoverflow.com/users/2570937/user2570937"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "accepted_answer_id": 56865429, "answer_count": 1, "score": 0, "last_activity_date": 1562140452, "creation_date": 1562139455, "question_id": 56865191, "link": "https://stackoverflow.com/questions/56865191/angular-auth-guard-with-subscribe", "title": "Angular Auth Guard with Subscribe", "body": "<p>I have an auth guard and need to run an api call to see if they have access. I don't believe it's possible to return data from a subscribe but how else would I do this?</p>\n\n<p>I need to get the userid and then call the api and then return either true of false depending on the api call.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from 'src/app/services/auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TeamcheckGuard implements CanActivate {\n  success: boolean;\n\n  constructor(\n    private router: Router,\n    private authService: AuthService\n  ) {}\n\n  // Checks to see if they are on a team for the current game they selected.\n  canActivate(next: ActivatedRouteSnapshot,state: RouterStateSnapshot): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n      this.authService.getUserId().then(() =&gt; {\n        let params = {\n          gameId: next.params.id,\n          userId: this.authService.userId\n       };\n\n        this.authService.getApi('api/team_check', params).subscribe(\n          data =&gt; {\n            if (data !== 1) {\n              console.log('fail');\n              // They don't have a team, lets redirect\n              this.router.navigateByUrl('/teamlanding/' + next.params.id);\n              return false;\n            }\n          }\n        );\n      });\n    return true;\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 482, "user_id": 11690443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82d2f1c18a5ef69aaa5f8d762bf7a274?s=128&d=identicon&r=PG&f=1", "display_name": "nitin9nair", "link": "https://stackoverflow.com/users/11690443/nitin9nair"}, "edited": false, "score": 0, "creation_date": 1562138498, "post_id": 56864849, "comment_id": 100278754, "body": "Can you add a stackblitz demo or code to understand better."}, {"owner": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "edited": false, "score": 0, "creation_date": 1562138558, "post_id": 56864849, "comment_id": 100278784, "body": "Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>."}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1562140367, "post_id": 56864849, "comment_id": 100279688, "body": "You probably are trying to read the properties on the <code>response</code> outside the <code>subscribe</code> block. If that&#39;s actually the case, read <a href=\"https://stackoverflow.com/questions/54519854/unable-to-load-data-inside-ngoninit\">my answer</a> on this thread."}, {"owner": {"reputation": 41, "user_id": 7880415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4b2431ca6a012baffa3d946824ab24?s=128&d=identicon&r=PG&f=1", "display_name": "Clearbryan", "link": "https://stackoverflow.com/users/7880415/clearbryan"}, "edited": false, "score": 0, "creation_date": 1562140895, "post_id": 56864849, "comment_id": 100279934, "body": "I am doing everythig in the subscribe block and the values actually get logged in the console"}, {"owner": {"reputation": 41, "user_id": 7880415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4b2431ca6a012baffa3d946824ab24?s=128&d=identicon&r=PG&f=1", "display_name": "Clearbryan", "link": "https://stackoverflow.com/users/7880415/clearbryan"}, "edited": false, "score": 0, "creation_date": 1562140965, "post_id": 56864849, "comment_id": 100279983, "body": "<a href=\"https://stackblitz.com/edit/angular-ziheza?file=src%2Fapp%2Ftest.service.t\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": true, "score": 0, "last_activity_date": 1562142896, "last_edit_date": 1562142896, "creation_date": 1562140945, "answer_id": 56865545, "question_id": 56864849, "link": "https://stackoverflow.com/questions/56864849/angular-7-error-the-property-is-not-available-on-type-object/56865545#56865545", "title": "Angular 7+ error: &#39;the property is not available on type Object&#39;", "body": "<blockquote>\n  <p>What's strange to me is that the properties are defined as part of the response object.</p>\n</blockquote>\n\n<p>Doesn't matter. The error you're getting are TypeScript static errors. At the compile time, TypeScript has no idea of the shape of the response from API. You can tell it: where you have your <code>http.get(//...args)</code>, specify: <code>http.get&lt;/* type declaration here */&gt;(//... args)</code>, even <code>http.get&lt;any&gt;//...</code> should solve the problem.</p>\n\n<p>You can also do that during consumption: <code>console.log((response as any).title)</code>, for example.</p>\n\n<p>Here's a fork of your stackblitz:</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-ziheza?file=src%2Fapp%2Ftest.service.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ziheza?file=src%2Fapp%2Ftest.service.ts</a></p>\n"}], "owner": {"reputation": 41, "user_id": 7880415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4b2431ca6a012baffa3d946824ab24?s=128&d=identicon&r=PG&f=1", "display_name": "Clearbryan", "link": "https://stackoverflow.com/users/7880415/clearbryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 56865545, "answer_count": 1, "score": -2, "last_activity_date": 1562142896, "creation_date": 1562138154, "question_id": 56864849, "link": "https://stackoverflow.com/questions/56864849/angular-7-error-the-property-is-not-available-on-type-object", "title": "Angular 7+ error: &#39;the property is not available on type Object&#39;", "body": "<p>I am using a service to make a simple HTTP get request to an API and the request is successful. I get back an object with properties and their values and when I subscribe and log the response all seem to work fine. If I then try to access a property on the response eg(console.log(response.title), I get an error that the property is not available on the object. What's strange to me is that the properties are defined as part of the response object. If I ignore the error, the program compiles and serves on Localhost and the same property giving an error is logged to the console. I even used the same property to output text in the DOM and it is rendered yet still the error shows and it does this on all properties of the response object. Is this a bug or am I missing something? I don't want to change the response because it's already an object which is exactly what I want.</p>\n"}, {"tags": ["javascript", "css", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 482, "user_id": 11690443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82d2f1c18a5ef69aaa5f8d762bf7a274?s=128&d=identicon&r=PG&f=1", "display_name": "nitin9nair", "link": "https://stackoverflow.com/users/11690443/nitin9nair"}, "edited": false, "score": 0, "creation_date": 1562139213, "post_id": 56864482, "comment_id": 100279120, "body": "As per your question, you want the checkbox to be clicked only on checkbox, not anywhere else right?"}, {"owner": {"reputation": 1819, "user_id": 840315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe6a68abde5efd10d620d0a3a8a5b4e5?s=128&d=identicon&r=PG&f=1", "display_name": "szab.kel", "link": "https://stackoverflow.com/users/840315/szab-kel"}, "reply_to_user": {"reputation": 482, "user_id": 11690443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82d2f1c18a5ef69aaa5f8d762bf7a274?s=128&d=identicon&r=PG&f=1", "display_name": "nitin9nair", "link": "https://stackoverflow.com/users/11690443/nitin9nair"}, "edited": false, "score": 0, "creation_date": 1562139525, "post_id": 56864482, "comment_id": 100279279, "body": "@nitin9nair Never mind, you are right, best approach would be to only check the checkbox, when the user clicks on it directly and not on any of the mat-lines or elsewhere. This way, the text is even selectable and copyable."}], "answers": [{"tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": true, "score": 1, "last_activity_date": 1562150680, "creation_date": 1562150680, "answer_id": 56868347, "question_id": 56864482, "link": "https://stackoverflow.com/questions/56864482/angular-matselectionlist-additional-clickable-option/56868347#56868347", "title": "Angular: MatSelectionList additional clickable option", "body": "<p>Even if you visually take the map icons out of the <code>mat-list</code> area (using <code>position:absolute</code>, the map will still make the selection because the icons are children of the <code>mat-list-option</code>;</p>\n\n<p>A (hack-ish) solution would be to have 2 divs, side by side... left div has the checkbox only ... the right div has the text (which is now selectable) and the map; (if you'd like the text to be clickable, move the text to left div and adjust the width;</p>\n\n<p>relevant <strong>HTML</strong>:</p>\n\n<pre><code>&lt;div class='parentDiv'&gt;\n    &lt;div class='leftSide'&gt;\n        &lt;form [formGroup]=\"demoSelectForm\"&gt;\n            &lt;mat-selection-list (selectionChange)=\"onSelectionChange($event)\" formControlName=\"selection\"&gt;\n                &lt;mat-list-option value=\"1\" checkboxPosition=\"before\"&gt;\n                &lt;/mat-list-option&gt;\n\n                &lt;mat-list-option value=\"2\" checkboxPosition=\"before\"&gt;\n                &lt;/mat-list-option&gt;\n\n                &lt;mat-list-option value=\"3\" checkboxPosition=\"before\"&gt;\n                &lt;/mat-list-option&gt;\n\n            &lt;/mat-selection-list&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n\n    &lt;div class='rightSide'&gt;\n        &lt;mat-selection-list&gt;\n            &lt;mat-list-option value=\"1\" checkboxPosition=\"before\"&gt;\n                &lt;mat-icon mat-list-icon&gt;\n                    &lt;fa-icon [icon]=\"['far', 'map']\" (click)=\"onMapClick()\"&gt;\n                    &lt;/fa-icon&gt;\n                &lt;/mat-icon&gt;\n          &lt;h4 mat-line&gt;The option 1&lt;/h4&gt;\n                    &lt;p mat-line&gt;Description line 1.1&lt;/p&gt;\n                    &lt;p mat-line&gt;Description line 1.2&lt;/p&gt;\n                    &lt;p mat-line&gt;Description line 1.3&lt;/p&gt;\n                &lt;/mat-list-option&gt;\n\n            &lt;mat-list-option value=\"3\" checkboxPosition=\"before\"&gt;\n                &lt;mat-icon mat-list-icon&gt;\n                    &lt;fa-icon [icon]=\"['far', 'map']\" (click)=\"onMapClick()\"&gt;\n                    &lt;/fa-icon&gt;\n                &lt;/mat-icon&gt;\n                    &lt;h4 mat-line&gt;The option 2&lt;/h4&gt;\n                    &lt;p mat-line&gt;Description line 2.1&lt;/p&gt;\n                    &lt;p mat-line&gt;Description line 2.2&lt;/p&gt;\n                    &lt;p mat-line&gt;Description line 2.3&lt;/p&gt;\n                &lt;/mat-list-option&gt;\n\n            &lt;mat-list-option value=\"3\" checkboxPosition=\"before\"&gt;\n                &lt;mat-icon mat-list-icon&gt;\n                    &lt;fa-icon [icon]=\"['far', 'map']\" (click)=\"onMapClick()\"&gt;\n                    &lt;/fa-icon&gt;\n                &lt;/mat-icon&gt;\n                    &lt;h4 mat-line&gt;The option 3&lt;/h4&gt;\n                    &lt;p mat-line&gt;Description line 3.1&lt;/p&gt;\n                    &lt;p mat-line&gt;Description line 3.2&lt;/p&gt;\n                    &lt;p mat-line&gt;Description line 3.3&lt;/p&gt;\n            &lt;/mat-list-option&gt;\n        &lt;/mat-selection-list&gt;\n\n    &lt;/div&gt;\n&lt;/div&gt;\n\n{{ demoSelectForm.get('selection').value | json }}\n</code></pre>\n\n<p>relevant <strong>CSS</strong>;</p>\n\n<pre><code>.leftSide{width:50px; border-bottom:2px solid blue;float:left;}\n.rightSide{width:calc(100% - 50px); border-bottom:2px solid red;float:left;}\n::ng-deep .rightSide .mat-pseudo-checkbox{display:none;}\n.rightSide .mat-list-item, .leftSide .mat-list-item{height:109px;}\n.parentDiv{width:100vw;}\n</code></pre>\n\n<p>working <a href=\"https://stackblitz.com/edit/selection-list-additional-option-question-dwgjw6\" rel=\"nofollow noreferrer\">stackblitz here</a></p>\n"}], "owner": {"reputation": 1819, "user_id": 840315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fe6a68abde5efd10d620d0a3a8a5b4e5?s=128&d=identicon&r=PG&f=1", "display_name": "szab.kel", "link": "https://stackoverflow.com/users/840315/szab-kel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 56868347, "answer_count": 1, "score": 0, "last_activity_date": 1562151508, "creation_date": 1562136784, "last_edit_date": 1562151508, "question_id": 56864482, "link": "https://stackoverflow.com/questions/56864482/angular-matselectionlist-additional-clickable-option", "title": "Angular: MatSelectionList additional clickable option", "body": "<p>I have a <code>MatSelectionList</code>, where I must display multiple lines for each option and have a <code>faMap</code> icon displayed. If the user clicks on the map, I should display an actual map elsewhere in the application.</p>\n\n<p>The <strong>problem</strong> is, the material selection list allows the full line to be clicked in order to mark/unmark the checkbox. This way, If I click on the map icon itself, the checkbox change is triggered too, which is undesired. <strong>The map click should be a separate action from the checkbox selection</strong>.</p>\n\n<p><a href=\"https://selection-list-additional-option-question.stackblitz.io\" rel=\"nofollow noreferrer\"><strong>Please, follow this link for a StackBlitz demo.</strong></a></p>\n\n<p>I found <a href=\"https://stackoverflow.com/questions/53815547/how-to-add-a-secondary-action-in-mat-list-option-mat-selection-list-item\">this solution</a>, but this does not work for me, as I have multiple mat lines and I do not want them to slide into each other. (Also, it seems like a hack?)</p>\n\n<p><a href=\"https://i.stack.imgur.com/RiERR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RiERR.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I will also paste the code here:</p>\n\n<p><strong>html</strong>:</p>\n\n<pre><code>  &lt;form [formGroup]=\"demoSelectForm\"&gt;\n    &lt;mat-selection-list (selectionChange)=\"onSelectionChange($event)\" formControlName=\"selection\"&gt;\n         &lt;mat-list-option value=\"1\"  checkboxPosition=\"before\"&gt;\n\n             &lt;mat-icon mat-list-icon&gt;\n                  &lt;fa-icon\n                      [icon]=\"['far', 'map']\"\n                      (click)=\"onMapClick()\"\n                  &gt;\n                  &lt;/fa-icon&gt;\n              &lt;/mat-icon&gt;\n\n               &lt;h4 mat-line&gt;The option 1&lt;/h4&gt;\n               &lt;p mat-line&gt;Description line 1.1&lt;/p&gt;\n                &lt;p mat-line&gt;Description line 1.2&lt;/p&gt;\n                 &lt;p mat-line&gt;Description line 1.3&lt;/p&gt;\n\n         &lt;/mat-list-option&gt;\n\n          &lt;mat-list-option value=\"2\"  checkboxPosition=\"before\"&gt;\n\n             &lt;mat-icon mat-list-icon&gt;\n                  &lt;fa-icon\n                      [icon]=\"['far', 'map']\"\n                      (click)=\"onMapClick()\"\n                  &gt;\n                  &lt;/fa-icon&gt;\n              &lt;/mat-icon&gt;\n\n               &lt;h4 mat-line&gt;The option 2&lt;/h4&gt;\n               &lt;p mat-line&gt;Description line 2.1&lt;/p&gt;\n                &lt;p mat-line&gt;Description line 2.2&lt;/p&gt;\n                 &lt;p mat-line&gt;Description line 2.3&lt;/p&gt;\n\n         &lt;/mat-list-option&gt;\n\n\n          &lt;mat-list-option value=\"3\"  checkboxPosition=\"before\"&gt;\n\n             &lt;mat-icon mat-list-icon &gt;\n                  &lt;fa-icon\n                      [icon]=\"['far', 'map']\"\n                      (click)=\"onMapClick()\"\n                  &gt;\n                  &lt;/fa-icon&gt;\n              &lt;/mat-icon&gt;\n\n               &lt;h4 mat-line&gt;The option 3&lt;/h4&gt;\n               &lt;p mat-line&gt;Description line 3.1&lt;/p&gt;\n                &lt;p mat-line&gt;Description line 3.2&lt;/p&gt;\n                 &lt;p mat-line&gt;Description line 3.3&lt;/p&gt;\n\n         &lt;/mat-list-option&gt;\n\n    &lt;/mat-selection-list&gt;\n  &lt;/form&gt;\n\n   {{ demoSelectForm.get('selection').value | json }}\n</code></pre>\n\n<p><strong>component</strong>:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { AbstractControl, FormArray,FormControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  demoSelectForm = new FormGroup({\n      selection: new FormControl([])\n  });\n\n  onSelectionChange($event) {\n    // console.log($event);\n  }\n\n  onMapClick(): void {\n    console.log('MAP GOT CLICKED');\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1562136386, "post_id": 56864290, "comment_id": 100277657, "body": "&quot;<i>It looks like middleware</i>&quot; this is a <a href=\"https://en.wikipedia.org/wiki/Currying\" rel=\"nofollow noreferrer\">curried</a> <a href=\"https://en.wikipedia.org/wiki/Function_composition_(computer_science)\" rel=\"nofollow noreferrer\">functional composition</a>. You just create a new function out of two. Not sure on the exact TS notation for this but <code>fn</code> takes a function and returns a function. That resulting function takes a function and returns the result of the second function called with the first as a parameter."}, {"owner": {"reputation": 37, "user_id": 8465819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L0cdu.jpg?s=128&g=1", "display_name": "Serhii Minin", "link": "https://stackoverflow.com/users/8465819/serhii-minin"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1562138750, "post_id": 56864290, "comment_id": 100278901, "body": "Yes, you are right, I am talking about carrying. Any idea of how to describe types for that?"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 8465819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L0cdu.jpg?s=128&g=1", "display_name": "Serhii Minin", "link": "https://stackoverflow.com/users/8465819/serhii-minin"}, "edited": false, "score": 0, "creation_date": 1562137139, "post_id": 56864423, "comment_id": 100278037, "body": "Where can I read about <code>&lt;A&gt;</code> stuff? I am new to TS and I don&#39;t follow what this notation means"}, {"owner": {"reputation": 662, "user_id": 9288063, "user_type": "registered", "profile_image": "https://graph.facebook.com/1758705067486955/picture?type=large", "display_name": "Niilo Kein&#228;nen", "link": "https://stackoverflow.com/users/9288063/niilo-kein%c3%a4nen"}, "edited": false, "score": 0, "creation_date": 1562138948, "post_id": 56864423, "comment_id": 100279004, "body": "&lt;A&gt; stuff is known as &quot;generics&quot;.  <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/generics.html</a>"}], "tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": true, "score": 3, "last_activity_date": 1562136521, "creation_date": 1562136521, "answer_id": 56864423, "question_id": 56864290, "link": "https://stackoverflow.com/questions/56864290/how-to-check-a-missing-return-type-on-function-if-my-function-returns-another/56864423#56864423", "title": "How to check a `missing return type on function` if my function returns another function?", "body": "<p>This is one way to type it:</p>\n\n<pre><code>type Fn = &lt;A&gt;(a: A) =&gt; (&lt;B extends (a: A) =&gt; any&gt;(b: B) =&gt; ReturnType&lt;B&gt;);\nlet fn: Fn = a =&gt; b =&gt; b(a);\n\nconst str = fn(1)(a =&gt; String(a)); // str is string\nconst num = fn('a')(a =&gt; Number(a)) // num is number\nconst num2 = fn(2)(a =&gt; a + 2) // num2 is number\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/C4TwDgpgBAYgdlAvFAPAQQHwAoCGAuKNASiQyixQCEoIAPYCOAEwGdz9CTEyc4RsARgUpcyAJQjAArgCc4AFXAQqGIgG4AUABtJUAGZwC8JFBykoA8wNzqNGgMYB7OC2BRXMkwawBGIrnMAZWAZAEs4AHMbdSgAelj3EKhQtg9wiIdnVyg4KQBbLzgsAHIcYv8zbigAOXyBCBlouITcgpScuobMlzdWgCZCrD6K8zMAaihh5o68gfbW+pkNIA\" rel=\"nofollow noreferrer\">playground</a></p>\n"}], "owner": {"reputation": 37, "user_id": 8465819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L0cdu.jpg?s=128&g=1", "display_name": "Serhii Minin", "link": "https://stackoverflow.com/users/8465819/serhii-minin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 56864423, "answer_count": 1, "score": 0, "last_activity_date": 1562136521, "creation_date": 1562135950, "question_id": 56864290, "link": "https://stackoverflow.com/questions/56864290/how-to-check-a-missing-return-type-on-function-if-my-function-returns-another", "title": "How to check a `missing return type on function` if my function returns another function?", "body": "<p>I have a function that returns another function. \nI am using a default config for a CRA with typescript and eslint\n<code>@typescript-eslint/explicit-function-return-type</code> this rule of eslint tells me I need to describe what is going to be a result of the execution of the first function. It looks like middleware. \nI don't know how to describe a type for that</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const fn = a =&gt; b =&gt; b(a)\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1623, "user_id": 7988304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OjXpM.png?s=128&g=1", "display_name": "zilijonas", "link": "https://stackoverflow.com/users/7988304/zilijonas"}, "edited": false, "score": 1, "creation_date": 1562134311, "post_id": 56863875, "comment_id": 100276778, "body": "You cannot. You would need to create a separate interface for this. You could create one interface for <code>a | c</code> and then create another one which extends it with <code>b</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1562171032, "post_id": 56863875, "comment_id": 100297227, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54520676/in-typescript-how-to-specify-only-keys-of-a-generic-object-whose-values-are-stri\">In TypeScript how to specify only keys of a generic object whose values are strings?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1030, "user_id": 6330937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5407d011df1bfc192e62cfee40fa04a5?s=128&d=identicon&r=PG&f=1", "display_name": "Lostfields", "link": "https://stackoverflow.com/users/6330937/lostfields"}, "is_accepted": false, "score": 0, "last_activity_date": 1562139923, "creation_date": 1562139923, "answer_id": 56865283, "question_id": 56863875, "link": "https://stackoverflow.com/questions/56863875/typescript-how-do-you-filter-a-types-properties-to-those-of-a-certain-type/56865283#56865283", "title": "Typescript: How do you filter a type&#39;s properties to those of a certain type?", "body": "<p>don't think you can pick properties by type but if you know the properties you accept you can create a new type based on those like this;</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type MyType = Pick&lt;MyInterface, 'a' | 'c'&gt;\n</code></pre>\n\n<p>I like <a href=\"https://fettblog.eu/typescript-built-in-generics/\" rel=\"nofollow noreferrer\">this blog post</a> that covers most of the types (<code>Readonly</code>, <code>Partial</code>, <code>Required</code>, <code>Pick</code>, <code>Record</code>, <code>Extract</code>, <code>Exclude</code> etc) you could use, but I know <code>Omit</code> has been introduced lately too.</p>\n\n<p>I found this answer that explains it better; <a href=\"https://stackoverflow.com/questions/48215950/exclude-property-from-type\">Exclude property from type</a></p>\n"}, {"comments": [{"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "edited": false, "score": 0, "creation_date": 1562233173, "post_id": 56874389, "comment_id": 100317359, "body": "Damn! That&#39;s really amazing. I shall delete my answer for this."}, {"owner": {"reputation": 54004, "user_id": 61624, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e011d13433f12be7dc754180cb38ca8?s=128&d=identicon&r=PG", "display_name": "Daniel Kaplan", "link": "https://stackoverflow.com/users/61624/daniel-kaplan"}, "edited": false, "score": 0, "creation_date": 1618090358, "post_id": 56874389, "comment_id": 118498407, "body": "Where can I learn more about that <code>-</code> in your type definition?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1618091551, "post_id": 56874389, "comment_id": 118498642, "body": "See <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#improved-control-over-mapped-type-modifiers\" rel=\"nofollow noreferrer\">this</a>; it\u2019s removing any optional modifier that may be present, so as not to get <code>undefined</code> in the list of keys"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1562170785, "creation_date": 1562170785, "answer_id": 56874389, "question_id": 56863875, "link": "https://stackoverflow.com/questions/56863875/typescript-how-do-you-filter-a-types-properties-to-those-of-a-certain-type/56874389#56874389", "title": "Typescript: How do you filter a type&#39;s properties to those of a certain type?", "body": "<p>You certainly can define such a type in TypeScript:</p>\n\n<pre><code>type KeysMatching&lt;T extends object, V&gt; = {\n  [K in keyof T]-?: T[K] extends V ? K : never\n}[keyof T];\n\ntype MyType = KeysMatching&lt;MyInterface, number&gt;;\n// type MyType = \"a\" | \"c\"\n</code></pre>\n\n<p>In this, <code>KeysMatching&lt;T, V&gt;</code> returns the set of keys of <code>T</code> whose properties are assignable to <code>V</code>.  It uses a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">conditional</a> and <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped</a> type along with a property <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup</a>.  For each key <code>K</code> in <code>keyof T</code>, it checks whether <code>T[K]</code> is assignable to <code>V</code>.  If so, it returns the key <code>K</code>; if not, it returns <code>never</code>.  So for your types it would be something like <code>{a: \"a\", b: never, c: \"c\"}</code>.  Then we look up the property values and get a union of the types like <code>\"a\" | never | \"c\"</code> which reduces to <code>\"a\" | \"c\"</code>, exactly as you wanted.</p>\n\n<p>Do note that <code>KeysMatching&lt;T, V&gt;</code> only returns those property keys whose values match <code>V</code> when <em>reading</em> the property.  Those that are exactly <code>V</code> or a subtype of <code>V</code>:</p>\n\n<pre><code>interface AnotherInterface {\n  narrower: 1;\n  exact: number;\n  wider: string | number;\n}\n\ntype AnotherType = KeysMatching&lt;AnotherInterface, number&gt;;\n// type AnotherType = \"narrower\" | \"exact\"\n</code></pre>\n\n<p>If you want to get the keys which match <code>V</code> when <em>writing</em> a property of <code>T</code>... that is, exactly <code>V</code> or a <em>supertype</em> of <code>V</code>, then you need a different implementation of <code>KeysMatching</code>:</p>\n\n<pre><code>type KeysMatchingWrite&lt;T extends object, V&gt; = {\n  [K in keyof T]-?: [V] extends [T[K]] ? K : never\n}[keyof T];\n\ntype AnotherTypeWrite = KeysMatchingWrite&lt;AnotherInterface, number&gt;;\n// type AnotherTypeWrite = \"exact\" | \"wider\"\n</code></pre>\n\n<p>Anyway, hope that helps.  Good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/?experimentalDecorators=true#code/JYOwLgpgTgZghgYwgAgLIE8CS5rycgbwFgAoZZOALmRAFcBbAI2gG5TzHqBnMKUAczZlkCaiAgA3VqQC+pUmHQAHFAGkI6LqjhgEACwEAeACrIIAD0ggAJl2QB7RgCsICMABpkANQB8yALyE7MgA2qrIoMgA1hr2MMjGALoAtAD81MZhiWaWEDZ2XsipyOFiktCyITHocQmJQgrKKBjGTQElGlo6+kYY2JCwiBCedEzQPkIA9JPIiipo6K3zgQBEcCvIAD7IKwgr8iSgA3goAIIg9mB60P24Q0HCIHBQUPYA7tDUAIxC5BaIYDEDGYUF+yDewGsn2QPD4IH4WxowOkJDkJEa83Ol2uUCWKEC6k02l0BnhhixVxuOEGSBGyKgE1I01mbQpOLx7RWTxe72gG22K3+bn26JIczUnWJPXhAHU+JATDkrLYHM5XB5vH5AsRhGEIiBorF4kk0tQQl5shZlXYQplVIlssVSjRylBKtVakkGmLWRdKbimnLgJB2oSuiSBEGFWyqcchnSxgypjNxcgYwGVFH8TshWB+TsIVCoCKgA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 317, "user_id": 6483679, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fA7gfluHbvk/AAAAAAAAAAI/AAAAAAAAANQ/K4wCyPRMqEk/photo.jpg?sz=128", "display_name": "Labhansh Agrawal", "link": "https://stackoverflow.com/users/6483679/labhansh-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 1, "accepted_answer_id": 56874389, "answer_count": 2, "score": 2, "last_activity_date": 1618110696, "creation_date": 1562133997, "last_edit_date": 1618110696, "question_id": 56863875, "link": "https://stackoverflow.com/questions/56863875/typescript-how-do-you-filter-a-types-properties-to-those-of-a-certain-type", "title": "Typescript: How do you filter a type&#39;s properties to those of a certain type?", "body": "<p>I have a interface</p>\n\n<pre><code>export interface MyInterface {\n    a: number;\n    b: string;\n    c: number;\n}\n</code></pre>\n\n<p>I want to create a literal type of the property names for which value is of type number</p>\n\n<p>I know how to get the type with all property names using</p>\n\n<pre><code>type MyType = keyof MyInterface // gives 'a'|'b'|'c'\n</code></pre>\n\n<p>I want to get just 'a'|'c'</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 487, "user_id": 10278427, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--VkaR5LWi9g/AAAAAAAAAAI/AAAAAAAAACE/ZVMVCW2b-iY/photo.jpg?sz=128", "display_name": "Pouria Moosavi", "link": "https://stackoverflow.com/users/10278427/pouria-moosavi"}, "is_accepted": false, "score": 0, "last_activity_date": 1562133833, "creation_date": 1562133833, "answer_id": 56863837, "question_id": 56863767, "link": "https://stackoverflow.com/questions/56863767/how-to-modify-the-array-of-objects-original-form-to-new-form-with-typescript/56863837#56863837", "title": "How to modify the array of objects (original form to new form) with typescript", "body": "<p>Maybe this solves your problem:</p>\n\n<pre><code>let newData = [];\nfor(let thisData of data){\n  newData.push({\n    value: thisData.count,\n    name: thisData.groupBy,\n  })\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10867, "user_id": 1221792, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/crDQl.jpg?s=128&g=1", "display_name": "kapantzak", "link": "https://stackoverflow.com/users/1221792/kapantzak"}, "is_accepted": true, "score": 1, "last_activity_date": 1562133858, "creation_date": 1562133858, "answer_id": 56863843, "question_id": 56863767, "link": "https://stackoverflow.com/questions/56863767/how-to-modify-the-array-of-objects-original-form-to-new-form-with-typescript/56863843#56863843", "title": "How to modify the array of objects (original form to new form) with typescript", "body": "<p>You can use <code>map</code> to get a copy of the original array, with the desired property names:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [\r\n    {\r\n      \"groupBy\": \"InvalidAuth\",\r\n      \"count\": 41\r\n    },\r\n    {\r\n      \"groupBy\": \"InvalidAuthEmpty\",\r\n      \"count\": 75\r\n    },\r\n    {\r\n      \"groupBy\": \"InvalidAuthSQL\",\r\n      \"count\": 75\r\n    },\r\n    {\r\n      \"groupBy\": \"Unsecured\",\r\n      \"count\": 75\r\n    }\r\n  ];\r\n  \r\n  const data2 = data.map(x =&gt; ({\r\n    value: x.count,\r\n    name: x.groupBy\r\n  }));\r\n  \r\n  console.log(data2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1217, "user_id": 2013403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3VK8.jpg?s=128&g=1", "display_name": "its4zahoor", "link": "https://stackoverflow.com/users/2013403/its4zahoor"}, "edited": false, "score": 0, "creation_date": 1562134568, "post_id": 56863868, "comment_id": 100276875, "body": "why did you not use <code>data</code> directly? why encapsulate it into obj? would be fine without it."}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "reply_to_user": {"reputation": 1217, "user_id": 2013403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3VK8.jpg?s=128&g=1", "display_name": "its4zahoor", "link": "https://stackoverflow.com/users/2013403/its4zahoor"}, "edited": false, "score": 1, "creation_date": 1562134753, "post_id": 56863868, "comment_id": 100276957, "body": "@its4zahoor it&#39;s called <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">Destructuring</a>, it&#39;s not encapsulating it in object, yeah that matters of choice even if you do it directly then also it&#39;s fine"}], "tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": false, "score": 2, "last_activity_date": 1562134999, "last_edit_date": 1562134999, "creation_date": 1562133990, "answer_id": 56863868, "question_id": 56863767, "link": "https://stackoverflow.com/questions/56863767/how-to-modify-the-array-of-objects-original-form-to-new-form-with-typescript/56863868#56863868", "title": "How to modify the array of objects (original form to new form) with typescript", "body": "<p>You can simply use <code>map</code> and <code>destructuring</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [{\"groupBy\": \"InvalidAuth\",\"count\": 41},{\"groupBy\": \"InvalidAuthEmpty\",\"count\": 75},{\"groupBy\": \"InvalidAuthSQL\",\"count\": 75},{\"groupBy\": \"Unsecured\",\"count\": 75}]\r\n  \r\nlet op = data.map(({count:value,groupBy:name}) =&gt; ({name,value}))\r\n\r\nconsole.log(op)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3079, "user_id": 2837359, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9B4kt.jpg?s=128&g=1", "display_name": "manikant gautam", "link": "https://stackoverflow.com/users/2837359/manikant-gautam"}, "is_accepted": false, "score": 0, "last_activity_date": 1562135216, "last_edit_date": 1562135216, "creation_date": 1562134690, "answer_id": 56864019, "question_id": 56863767, "link": "https://stackoverflow.com/questions/56863767/how-to-modify-the-array-of-objects-original-form-to-new-form-with-typescript/56864019#56864019", "title": "How to modify the array of objects (original form to new form) with typescript", "body": "<p>You have to just iterate over <code>data array</code>  and rename existing keys and delete older ones.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data= [\r\n    {\r\n      \"groupBy\": \"InvalidAuth\",\r\n      \"count\": 41\r\n    },\r\n    {\r\n      \"groupBy\": \"InvalidAuthEmpty\",\r\n      \"count\": 75\r\n    },\r\n    {\r\n      \"groupBy\": \"InvalidAuthSQL\",\r\n      \"count\": 75\r\n    },\r\n    {\r\n      \"groupBy\": \"Unsecured\",\r\n      \"count\": 75\r\n    }\r\n  ]\r\n  \r\n   data.forEach(function(elem){\r\n    elem.name =elem.groupBy;\r\n    elem.value =elem.count;\r\n    delete elem['groupBy'];\r\n    delete elem['count'];\r\n  });\r\n  console.log(data);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 607, "user_id": 409585, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9580592a7be5c7c78aa9e798c80a7498?s=128&d=identicon&r=PG", "display_name": "phphunger", "link": "https://stackoverflow.com/users/409585/phphunger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 56863843, "answer_count": 4, "score": 0, "last_activity_date": 1562135216, "creation_date": 1562133528, "question_id": 56863767, "link": "https://stackoverflow.com/questions/56863767/how-to-modify-the-array-of-objects-original-form-to-new-form-with-typescript", "title": "How to modify the array of objects (original form to new form) with typescript", "body": "<p>I am getting the data as array of objects which is in key value form. Like below:</p>\n\n<pre><code>\"data\": [\n    {\n      \"groupBy\": \"InvalidAuth\",\n      \"count\": 41\n    },\n    {\n      \"groupBy\": \"InvalidAuthEmpty\",\n      \"count\": 75\n    },\n    {\n      \"groupBy\": \"InvalidAuthSQL\",\n      \"count\": 75\n    },\n    {\n      \"groupBy\": \"Unsecured\",\n      \"count\": 75\n    }\n  ]\n</code></pre>\n\n<p>But my idea here to change its original form and make it as below, means the key \"count\" should be \"value\" and the key \"groupBy\" should be \"name\". How to change it programatically using typescript or javascript:</p>\n\n<pre><code>data:[\n            {value:41, name:'InvalidAuth'},\n            {value:75, name:'InvalidAuthEmpty'},\n            {value:75, name:'InvalidAuthSQL'},\n            {value:75, name:'Unsecured'}\n]\n</code></pre>\n\n<p>As the original form is not working with e-charts. e-charts only works with value and name form only.</p>\n\n<p>Can anybody help me?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "edited": false, "score": 0, "creation_date": 1562137657, "post_id": 56863678, "comment_id": 100278333, "body": "Where did you imported <code>ng</code> and <code>IModule</code>?"}, {"owner": {"reputation": 5356, "user_id": 1617002, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3v7db.png?s=128&g=1", "display_name": "Fka", "link": "https://stackoverflow.com/users/1617002/fka"}, "reply_to_user": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "edited": false, "score": 0, "creation_date": 1562137923, "post_id": 56863678, "comment_id": 100278478, "body": "As I said, <code>ng</code> is global namespace and <code>IModule</code> is part of that."}], "answers": [{"comments": [{"owner": {"reputation": 5356, "user_id": 1617002, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3v7db.png?s=128&g=1", "display_name": "Fka", "link": "https://stackoverflow.com/users/1617002/fka"}, "edited": false, "score": 0, "creation_date": 1562139291, "post_id": 56864973, "comment_id": 100279155, "body": "Hymm, same issue: <code>Property &#39;customComponent&#39; does not exist on type &#39;IModule&#39;.</code>. I checked with and without <code>export</code>"}, {"owner": {"reputation": 10474, "user_id": 5015356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d774038494809a56eb21a730d9ba454?s=128&d=identicon&r=PG&f=1", "display_name": "Ruben Helsloot", "link": "https://stackoverflow.com/users/5015356/ruben-helsloot"}, "reply_to_user": {"reputation": 5356, "user_id": 1617002, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3v7db.png?s=128&g=1", "display_name": "Fka", "link": "https://stackoverflow.com/users/1617002/fka"}, "edited": false, "score": 0, "creation_date": 1562143121, "post_id": 56864973, "comment_id": 100281091, "body": "Weird, which version of TypeScript are you using? What if you replace module with namespace?"}, {"owner": {"reputation": 5356, "user_id": 1617002, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3v7db.png?s=128&g=1", "display_name": "Fka", "link": "https://stackoverflow.com/users/1617002/fka"}, "edited": false, "score": 0, "creation_date": 1562149493, "post_id": 56864973, "comment_id": 100284705, "body": "I am using TS 3.0.3. Replacing <code>module</code> with <code>namespace</code> changed nothing :("}, {"owner": {"reputation": 5356, "user_id": 1617002, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3v7db.png?s=128&g=1", "display_name": "Fka", "link": "https://stackoverflow.com/users/1617002/fka"}, "edited": false, "score": 0, "creation_date": 1562149704, "post_id": 56864973, "comment_id": 100284815, "body": "Should I include somehow this <code>.d.ts</code> file? In tsconfig I include `**/*.ts&#39; files, so that one should be cought."}, {"owner": {"reputation": 10474, "user_id": 5015356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d774038494809a56eb21a730d9ba454?s=128&d=identicon&r=PG&f=1", "display_name": "Ruben Helsloot", "link": "https://stackoverflow.com/users/5015356/ruben-helsloot"}, "reply_to_user": {"reputation": 5356, "user_id": 1617002, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3v7db.png?s=128&g=1", "display_name": "Fka", "link": "https://stackoverflow.com/users/1617002/fka"}, "edited": false, "score": 0, "creation_date": 1562154408, "post_id": 56864973, "comment_id": 100287367, "body": "Actually, it is. I found that I was using <code>[&quot;*&quot;, &quot;..&#47;node_modules&#47;*&quot;]</code> in my tsconfig.json. Changing the first one to <code>&quot;*.ts&quot;</code> broke imports of <code>.d.ts</code> files until I added that to my configuration too. So <code>[&quot;*.ts&quot;, &quot;*.d.ts&quot;, &quot;..&#47;node_modules&#47;*&quot;]</code> seems to work"}], "tags": [], "owner": {"reputation": 10474, "user_id": 5015356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d774038494809a56eb21a730d9ba454?s=128&d=identicon&r=PG&f=1", "display_name": "Ruben Helsloot", "link": "https://stackoverflow.com/users/5015356/ruben-helsloot"}, "is_accepted": false, "score": 0, "last_activity_date": 1562138649, "creation_date": 1562138649, "answer_id": 56864973, "question_id": 56863678, "link": "https://stackoverflow.com/questions/56863678/how-can-i-extend-ngs-imodule-interface-in-typescript/56864973#56864973", "title": "How can I extend ng&#39;s IModule interface in Typescript?", "body": "<p>Try moving it to a <code>.d.ts</code> file instead of a <code>.ts</code> file. Then you can also lose the <code>export</code>. I tried locally and this fixes the issue, also with <code>ng</code> as a global namespace.</p>\n"}], "owner": {"reputation": 5356, "user_id": 1617002, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3v7db.png?s=128&g=1", "display_name": "Fka", "link": "https://stackoverflow.com/users/1617002/fka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562138649, "creation_date": 1562133095, "question_id": 56863678, "link": "https://stackoverflow.com/questions/56863678/how-can-i-extend-ngs-imodule-interface-in-typescript", "title": "How can I extend ng&#39;s IModule interface in Typescript?", "body": "<p>I'm trying to extend <code>ng.IModule</code> to support custom component registrations, but it constantly gives me same error: </p>\n\n<blockquote>\n  <p>Property 'customComponent' does not exist on type 'IModule'.ts(2339)</p>\n</blockquote>\n\n<p>Here's my code:</p>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n    \"module\": \"amd\",\n    ...\n    \"types\": [\n        \"angular\"\n    ]\n}\n</code></pre>\n\n<p><strong>Module.ts</strong></p>\n\n<pre><code>export class Module {\n    register(module: ng.IModule) {\n        module\n            .component(SomeComponent, SomeComponent.componentOptions)\n            .customComponent(\"test\") &lt;-- this what it doesn't work\n       ;\n   }\n}\n</code></pre>\n\n<p><strong>ModuleExtension.ts</strong></p>\n\n<pre><code>export declare module ng {\n    interface IModule {\n        customComponent(testData: string): IModule;\n    }\n}\n</code></pre>\n\n<p><code>ng</code> namespace is global one.</p>\n\n<p>I read TS documentation and what I'm trying achieve is called <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">Declaration Merging</a>. In C# it was called extension methods.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "edited": false, "score": 2, "creation_date": 1562131489, "post_id": 56863325, "comment_id": 100275844, "body": "I suppose you can just pick an alias when importing their <code>Map</code>?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1562131555, "post_id": 56863325, "comment_id": 100275857, "body": "<code>import { Map as TheirLibraryMap } from &#39;their-library&#39;;</code>"}, {"owner": {"reputation": 780, "user_id": 1152102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0937a2b33451006bd0ea3c12c761180?s=128&d=identicon&r=PG", "display_name": "blackening", "link": "https://stackoverflow.com/users/1152102/blackening"}, "reply_to_user": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "edited": false, "score": 0, "creation_date": 1562136404, "post_id": 56863325, "comment_id": 100277665, "body": "@Mu-TsunTsai I&#39;m writing the .d.ts file, is there a way to alias it in that stage?"}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "edited": false, "score": 1, "creation_date": 1562136640, "post_id": 56863325, "comment_id": 100277782, "body": "@blackening That will be <code>export { Map as TheirMap };</code>"}, {"owner": {"reputation": 780, "user_id": 1152102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0937a2b33451006bd0ea3c12c761180?s=128&d=identicon&r=PG", "display_name": "blackening", "link": "https://stackoverflow.com/users/1152102/blackening"}, "reply_to_user": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "edited": false, "score": 0, "creation_date": 1562137076, "post_id": 56863325, "comment_id": 100278002, "body": "@Mu-TsunTsai thanks, i did the opposite, declaring TheirMap and <code>export { TheirMap as Map }</code>."}], "owner": {"reputation": 780, "user_id": 1152102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0937a2b33451006bd0ea3c12c761180?s=128&d=identicon&r=PG", "display_name": "blackening", "link": "https://stackoverflow.com/users/1152102/blackening"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562131353, "creation_date": 1562131023, "last_edit_date": 1562131353, "question_id": 56863325, "link": "https://stackoverflow.com/questions/56863325/how-can-the-default-inbuilt-namespace-be-accessed-in-typescript", "title": "How can the default/inbuilt namespace be accessed in typescript?", "body": "<p>The library i'm working with is written in JS. I'm trying to write the .d.ts to something better than the autogenerated types. The library implements its own variant of standard data types (for synchronization purposes). </p>\n\n<p>For example, they implemented their own Map. Internally, they also use the standard es6 map. Unfortunately, i can't access it, because they already named something Map.</p>\n\n<pre><code>    export class Map {\n\n    }\n\n    export const test: global.Map&lt;string, string&gt;();\n    // I want this to be the es6 Map.\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "static-typing"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562129955, "post_id": 56863108, "comment_id": 100275423, "body": "<i>Would this need to be changed</i>: NO, <i>would this just be the same process as I would use in JS to get to deployment</i>: YES"}, {"owner": {"reputation": 1502, "user_id": 5544970, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2AYud.jpg?s=128&g=1", "display_name": "Sebin Benjamin", "link": "https://stackoverflow.com/users/5544970/sebin-benjamin"}, "edited": false, "score": 1, "creation_date": 1562129972, "post_id": 56863108, "comment_id": 100275429, "body": "Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562206400, "post_id": 56863108, "comment_id": 100308069, "body": "@RandyCasburn thank you. That&#39;s all I needed."}, {"owner": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "edited": false, "score": 0, "creation_date": 1562206425, "post_id": 56863108, "comment_id": 100308073, "body": "An edit has been made explaining what im looking for"}, {"owner": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "edited": false, "score": 0, "creation_date": 1562262525, "post_id": 56863108, "comment_id": 100331518, "body": "Why would someone take out my explanation for why this isn&#39;t a duplicate? Seems like people just like to downvote for fun"}], "answers": [{"comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562131460, "post_id": 56863341, "comment_id": 100275836, "body": "You should probably go through this quickstart down to the first comments after <code>tsc greeter.ts</code> and reconsider the first answer: <a href=\"http://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/typescript-in-5-minutes.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 1, "creation_date": 1562131805, "post_id": 56863341, "comment_id": 100275908, "body": "@RandyCasburn And you should probably pay more attention to what I&#39;m saying. The option <code>noImplicitAny</code> is false by default, but that doesn&#39;t mean you cannot turn it on."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 1, "creation_date": 1562132029, "post_id": 56863341, "comment_id": 100275969, "body": "anything can be made to &quot;not work&quot;, but that is not the premise of TypeScript. I can make Java so it doesn&#39;t ever compile with <code>javac</code> too. But again, that is not the premise of Java either. The answer to the first question is YES, given a fresh install of typescript and the code provided."}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562132231, "post_id": 56863341, "comment_id": 100276041, "body": "@RandyCasburn I respect your opinion, but you should judge my answer purely on whether I am stating facts. Since I don&#39;t have any &quot;given&quot; in my statement, there&#39;s nothing technically wrong with it."}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 1, "creation_date": 1562133473, "post_id": 56863341, "comment_id": 100276470, "body": "@RandyCasburn I perfectly understand that you&#39;re trying to emphasize that TypeScript is supposed to be a superset of JavaScript, but that&#39;s not my point of emphasis. What I&#39;m trying to emphasize is that there are not-so-uncommon cases where things can go wrong, which I believe is what OP is concerning about."}, {"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1562134311, "post_id": 56863341, "comment_id": 100276779, "body": "I would restructure the answer to place the short answer first and weave the other concerns with it. IMHO, you emphasize the corner case over the typical. Besides that, you make a valid point."}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "edited": false, "score": 0, "creation_date": 1562134515, "post_id": 56863341, "comment_id": 100276851, "body": "Fine, I hope now everyone is happy."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562162178, "post_id": 56863341, "comment_id": 100292268, "body": "@Mu-TsunTsai - If I thought your answer was technically incorrect, I would have downvoted it - which I did not do. I&#39;m attempting to improve the quality of your answer by ensuring it is consistent with what the documentation says about the topic so it doesn&#39;t confuse others when they come to review this question. Thanks for making the edit - I&#39;ve upvoted your answer. You also know I&#39;ve defended your answers in other posts. Appreciate your openmindedness :-)"}, {"owner": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "edited": false, "score": 0, "creation_date": 1562207629, "post_id": 56863341, "comment_id": 100308252, "body": "Appreciate the responses. I understand that I need to research everything and be sure all parts work. Just wanted to see if I was misunderstanding/missing something."}], "tags": [], "owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "is_accepted": false, "score": 1, "last_activity_date": 1562134486, "last_edit_date": 1562134486, "creation_date": 1562131112, "answer_id": 56863341, "question_id": 56863108, "link": "https://stackoverflow.com/questions/56863108/typescript-concept-questions/56863341#56863341", "title": "Typescript - Concept questions", "body": "<blockquote>\n  <p>...if we can agree that one aspect of it is that pretty much all valid Javascript(JS) is also valid TS</p>\n</blockquote>\n\n<p>If I rephrase it to \"can I simply change the file extension from .js to .ts and it will always compile under the default settings\", the answer is YES.</p>\n\n<p>However, depending on the settings of your tsconfig.json, it may not work. If for example <code>noImplicitAny</code> is set to true, then even something as simple as <code>function f(x) {}</code> will fail; you must specify the type of <code>x</code>.</p>\n\n<blockquote>\n  <p>besides transpiler usage and all the dependencies installed, would this just be the same process as I would use in JS to get to deployment?</p>\n</blockquote>\n\n<p>The short answer is YES, but that's a big \"besides\" in your question. A lot of things can go wrong before transpiling, such as choosing the wrong module option, incomplete definition files, type usage that does not reflect the actual use case, etc. But set all those aside, after transpiling you get a normal JavaScript file, so the deployment can't be any different.</p>\n"}], "owner": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "closed_date": 1562131530, "answer_count": 1, "score": -4, "last_activity_date": 1562270755, "creation_date": 1562129619, "last_edit_date": 1562270755, "question_id": 56863108, "link": "https://stackoverflow.com/questions/56863108/typescript-concept-questions", "closed_reason": "Duplicate", "title": "Typescript - Concept questions", "body": "<p><strong>EDIT</strong></p>\n\n<p>This question does not answer my question. I'm NOT asking what TS is NOR what it's used for. I'm asking specific questions about it. I'd like clarity on some concepts.</p>\n\n<p>I don't believe this is a duplicate. Someone was kind enough to answer with a simple yes/no questions that I had.</p>\n\n<p>I pointed out a specific concept of TS that I had a question about pointing to an example that I am currently using. I specifically would like to know if I needed to add the keyword string somewhere within my example.</p>\n\n<p>Also, besides transpiler stuff, I just asked if pretty much all the steps I would take to deploy an application in TS would be similar to how it would be done with regular JS.</p>\n\n<p><strong>EDIT END</strong></p>\n\n<p>If applicable, I'd just like a simple yes/no to these questions. Any expounding on the answer is up to you. The yes/no answer will help me figure out how to go about writing this app.</p>\n\n<p>For Typescript(TS), if we can agree that one aspect of it is that pretty much all valid Javascript(JS) is also valid TS.</p>\n\n<p>Example:</p>\n\n<p><code>const [toggle, setToggle] = useState('');</code></p>\n\n<p>Would this need to be changed in any way to comply with TS convention/rules? I feel like I'd have to define <code>string</code> with that useState somehow.</p>\n\n<p>Also, besides transpiler usage and all the dependencies installed, would this just be the same process as I would use in JS to get to deployment? As in, would I need to worry about anything else that would be unique to TS that could prevent me from deploying like normal?</p>\n"}, {"tags": ["typescript", "visual-studio-code", "symbols"], "comments": [{"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "edited": false, "score": 0, "creation_date": 1562133289, "post_id": 56863027, "comment_id": 100276394, "body": "You&#39;re saying that transpiling error appears with this line? That&#39;s weird, there&#39;s nothing wrong with it and it transpiles for sure."}, {"owner": {"reputation": 1123, "user_id": 10866877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4TImS.jpg?s=128&g=1", "display_name": "Caption Newt", "link": "https://stackoverflow.com/users/10866877/caption-newt"}, "reply_to_user": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "edited": false, "score": 0, "creation_date": 1562140416, "post_id": 56863027, "comment_id": 100279717, "body": "Yes It giving me the error when the code is correct."}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "edited": false, "score": 0, "creation_date": 1562149960, "post_id": 56863027, "comment_id": 100284948, "body": "Could you show us your tsconfig.json file?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1562171278, "post_id": 56863027, "comment_id": 100297352, "body": "The only code you&#39;ve posted <a href=\"https://www.typescriptlang.org/play/?experimentalDecorators=true#code/DYUwLgBAzgngtgRggXggZXgIwPbABQCUA3AFBA\" rel=\"nofollow noreferrer\">works fine</a>, so you will need to give more information.  Please consider trying to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that we can see the same issue as you.  If you can&#39;t reproduce the problem in a standalone or other web IDE environment (stackblitz, codesandbox, etc) then the difference in configuration is likely your problem and you should be able to debug that difference.  My guess is that your <code>--lib</code> does not include ES2015 libraries."}, {"owner": {"reputation": 1123, "user_id": 10866877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4TImS.jpg?s=128&g=1", "display_name": "Caption Newt", "link": "https://stackoverflow.com/users/10866877/caption-newt"}, "edited": false, "score": 0, "creation_date": 1562208246, "post_id": 56863027, "comment_id": 100308347, "body": "jcalz your guess is absolutely correct. I need to update my lib to es6 from es5"}], "answers": [{"tags": [], "owner": {"reputation": 1123, "user_id": 10866877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4TImS.jpg?s=128&g=1", "display_name": "Caption Newt", "link": "https://stackoverflow.com/users/10866877/caption-newt"}, "is_accepted": true, "score": 3, "last_activity_date": 1562208797, "creation_date": 1562208797, "answer_id": 56880082, "question_id": 56863027, "link": "https://stackoverflow.com/questions/56863027/symbol-only-refers-to-a-type-but-is-being-used-as-a-value-here/56880082#56880082", "title": "&#39;Symbol&#39; only refers to a type, but is being used as a value here", "body": "<p>Since Symbols is a feature that was introduced in ecmascript6. It's not working in es5 so i changed the target from \"target\": \"es5\" to \"target\": \"es6\" to make it work in tsconfig.json file</p>\n"}], "owner": {"reputation": 1123, "user_id": 10866877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4TImS.jpg?s=128&g=1", "display_name": "Caption Newt", "link": "https://stackoverflow.com/users/10866877/caption-newt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 0, "accepted_answer_id": 56880082, "answer_count": 1, "score": 1, "last_activity_date": 1562208797, "creation_date": 1562129084, "question_id": 56863027, "link": "https://stackoverflow.com/questions/56863027/symbol-only-refers-to-a-type-but-is-being-used-as-a-value-here", "title": "&#39;Symbol&#39; only refers to a type, but is being used as a value here", "body": "<p>I am new to typescript and i cant understand what i am doing wrong in here.\nI read it from the official documentation of typescript. The link is below.\n<a href=\"https://www.typescriptlang.org/docs/handbook/symbols.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/symbols.html</a>\nThe typescript version i have installed is 3.5.2</p>\n\n<p><code>let sym1 = Symbol();</code></p>\n"}, {"tags": ["node.js", "typescript", "blob"], "answers": [{"tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": true, "score": 3, "last_activity_date": 1562130063, "last_edit_date": 1562130063, "creation_date": 1562129397, "answer_id": 56863068, "question_id": 56862973, "link": "https://stackoverflow.com/questions/56862973/how-do-i-add-blob-to-typescript/56863068#56863068", "title": "How do I add Blob to Typescript?", "body": "<p>In your <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\"><code>tsconfig.json</code></a>, make sure to include <a href=\"https://github.com/microsoft/TypeScript/blob/00bf32ca3967b07e8663d0cd2b3e2bbf572da88b/lib/lib.webworker.d.ts#L552-L561\" rel=\"nofollow noreferrer\"><code>webworker</code></a> in your <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\"><code>lib</code></a> array:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    ...\n    \"lib\": [\"webworker\"],\n    ...\n  },\n  ...\n}\n</code></pre>\n\n<p>Even though it should have already been obvious from the reference links provided above, <code>lib.webworker.d.ts</code> contains the declarations necessary for <code>Blob</code> and related interfaces.</p>\n\n<pre><code>interface Blob {\n    readonly size: number;\n    readonly type: string;\n    slice(start?: number, end?: number, contentType?: string): Blob;\n}\n\ndeclare var Blob: {\n    prototype: Blob;\n    new(blobParts?: BlobPart[], options?: BlobPropertyBag): Blob;\n};\n</code></pre>\n"}], "owner": {"reputation": 48, "user_id": 5285559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/325su.png?s=128&g=1", "display_name": "pan", "link": "https://stackoverflow.com/users/5285559/pan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2306, "favorite_count": 1, "accepted_answer_id": 56863068, "answer_count": 1, "score": 2, "last_activity_date": 1562130063, "creation_date": 1562128554, "question_id": 56862973, "link": "https://stackoverflow.com/questions/56862973/how-do-i-add-blob-to-typescript", "title": "How do I add Blob to Typescript?", "body": "<p>I am attempting to save a file with FileSaver, which consequentially needs a Blob format. My app is being written in typescript. </p>\n\n<p>When I tried to do</p>\n\n<pre><code>import * as Blob from \"blob\";\n</code></pre>\n\n<p>I received the error</p>\n\n<pre><code>Could not find a declaration file for module 'blob'. '/Users/path/to/project/node_modules/blob/index.js' implicitly has an 'any' type.\n\nTry \\npm install @types/blob` if it exists or add a new declaration (.d.ts) file containing `declare module 'blob';``\n</code></pre>\n\n<p>I cannot just import 'blob' because a <code>@types/blob</code> package does not exist.</p>\n\n<p>I created a declaration file <code>blob.d.ts</code> with these contents</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare module 'blob' {\n  function Blob(blobParts[, options]): any\n  export = Blob\n}\n</code></pre>\n\n<p>based on the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Blob#Constructor\" rel=\"nofollow noreferrer\">MDN entry on the Blob constructor</a></p>\n\n<p>This did not solve my issue for the one line of code I need Blob for</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var blob = new Blob([\"Hello, world!\"], {type: \"text/plain;charset=utf-8\"});\n</code></pre>\n\n<p>it returned the error below</p>\n\n<pre><code>Argument of type '{ type: string; }' is not assignable to parameter of type '[any, any]'. Object literal may only specify known properties, and 'type' does not exist in type '[any, any]'.\n</code></pre>\n\n<p>This <a href=\"https://stackoverflow.com/questions/13124080/blob-in-typescript\">similar question</a> is NOT a duplicate and its answer does not help me since that declaration file does not declare a module and does not export anything.</p>\n"}, {"tags": ["javascript", "angular", "laravel", "typescript", "crud"], "answers": [{"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 0, "last_activity_date": 1562128695, "creation_date": 1562128695, "answer_id": 56862988, "question_id": 56862946, "link": "https://stackoverflow.com/questions/56862946/passing-data-from-angular-8-app-to-laravel-backend-for-editing-purpose/56862988#56862988", "title": "Passing data from Angular 8 app to Laravel backend for editing purpose", "body": "<p>If you want to get form data you need to do like this.</p>\n\n<p>First register variable with ngForm in template then pass in the data in ngsubmit</p>\n\n<pre><code>&lt;form (ngSubmit)=\"onSubmit(registerForm)\" #registerForm=\"ngForm\"&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"UserName\"&gt;Your email&lt;/label&gt;\n      &lt;input\n        type=\"text\"\n        ngModel\n        class=\"form-control\"\n        id=\"UserName\"\n        name=\"UserName\"\n        required\n      /&gt;\n      &lt;div\n        *ngIf=\"\n          registerForm.controls.UserName?.errors?.required &amp;&amp;\n          registerForm.controls.UserName?.touched\n        \"\n        class=\"alert alert-danger\"\n      &gt;\n        Email is required\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"password\"&gt;Your password&lt;/label&gt;\n      &lt;input\n        type=\"password\"\n        ngModel\n        class=\"form-control\"\n        id=\"Password\"\n        name=\"Password\"\n        required\n      /&gt;\n      &lt;div\n        *ngIf=\"\n          registerForm.controls.Password?.errors?.required &amp;&amp;\n          registerForm.controls.Password?.touched\n        \"\n        class=\"alert alert-danger\"\n      &gt;\n        Password is required\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;button\n      type=\"submit\"\n      class=\"btn btn-success\"\n      [disabled]=\"!registerForm.form.valid\"\n    &gt;\n      Submit\n    &lt;/button&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>Then in the component to access value use <code>formValue.value.something</code></p>\n\n<p>Full code</p>\n\n<pre><code>onSubmit(formValue: NgForm) {\n    const registerModel: AccountModel = {\n      UserName: formValue.value.UserName,\n      Password: formValue.value.Password\n    };\n\n    return this.authService\n      .register(registerModel)\n      .subscribe(\n        res =&gt; this.toastr.success(\"Create account success\"),\n        error =&gt; this.toastr.error(\"Something went wrong\")\n      );\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "is_accepted": false, "score": 0, "last_activity_date": 1562129057, "last_edit_date": 1562129057, "creation_date": 1562128707, "answer_id": 56862990, "question_id": 56862946, "link": "https://stackoverflow.com/questions/56862946/passing-data-from-angular-8-app-to-laravel-backend-for-editing-purpose/56862990#56862990", "title": "Passing data from Angular 8 app to Laravel backend for editing purpose", "body": "<p>since you are using <strong><code>singleUser</code></strong> as <strong><code>[(NgModel)]</code></strong> (Two way binding) to the form values, data will render into the <strong><code>singleUser</code>.</strong> But you are trying the form which is not used any where in the form html.</p>\n\n<p>use <strong><code>this.form</code></strong> instead of <code>singleUser</code> you will be able update your table data.</p>\n\n<blockquote>\n  <p><strong>component.html</strong></p>\n</blockquote>\n\n<pre><code>&lt;form #editForm=ngForm (ngSubmit)=\"onSubmit()\"&gt;\n\n&lt;div class=\"card-header childheader\"&gt;Update Details&lt;/div&gt;\n    &lt;div class=\"card-body\"&gt;\n         &lt;div class=\"form-group row\"&gt;\n         &lt;div class=\"col-sm-12\"&gt;\n            &lt;label for=\"childFirstName\"&gt;Child Name&lt;/label&gt;\n            &lt;input \n                type=\"text\" \n                name=\"childName\" \n                class=\"form-control\" \n                [ngModel]=\"form?.name\"\n                id=\"childName\" \n                placeholder=\"Child FirstName\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group row\"&gt;\n         &lt;div class=\"col-sm-6\"&gt;\n             &lt;label for=\"childAge\"&gt;Child Age&lt;/label&gt;\n            &lt;select \n                class=\"form-control\" \n                id=\"chAge\" \n                name=\"childAge\"\n                [ngModel]=\"form?.age\" \n                required&gt;\n                &lt;option value=\"\" selected disabled&gt; Child's Age&lt;/option&gt;\n                &lt;option value=\"1\"&gt; 1 &lt;/option&gt;\n                &lt;option value=\"2\"&gt; 2 &lt;/option&gt;\n                &lt;option value=\"3\"&gt; 3 &lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label for=\"childGender\"&gt;Child Gender&lt;/label&gt;\n            &lt;select \n                class=\"form-control\" \n                id=\"childGender\" \n                name=\"childGender\" \n                [ngModel]=\"form?.gender\" \n                required&gt;\n            &lt;option value=\"\" style=\"display:none\"&gt; Child's Gender&lt;/option&gt;\n                &lt;option value=\"Male\"&gt; Male&lt;/option&gt;\n                &lt;option value=\"Female\"&gt; Female &lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group row\"&gt;\n        &lt;div class=\"col-sm-12\"&gt;\n            &lt;button \n                type=\"submit\" \n                class=\"btn btn-lg btn-success btn-block\" \n                [disabled]=\"!editForm.valid\"&gt;Update Details &lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I hope this helps..  :)</p>\n"}], "owner": {"reputation": 527, "user_id": 6013697, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/df1b0c1bfd3874af2ef6515dafc89f2f?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/6013697/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "accepted_answer_id": 56862988, "answer_count": 2, "score": 0, "last_activity_date": 1565680654, "creation_date": 1562128357, "last_edit_date": 1565680654, "question_id": 56862946, "link": "https://stackoverflow.com/questions/56862946/passing-data-from-angular-8-app-to-laravel-backend-for-editing-purpose", "title": "Passing data from Angular 8 app to Laravel backend for editing purpose", "body": "<p>Am working on a CRUD application built using Angular 8 on the frontend and Laravel on the backend. The frontend is a SPA, on the Update functionality of the CRUD application am capturing the updated data on the edit form , parsing it to the backend via a service.</p>\n\n<p>The problem is after updating the data on the form I get null values when I dump on the backend controller in Laravel. Am using put method on the backend</p>\n\n<p><strong>Edit.component.html where I update the data which is populated dynamically on each input field via ngModel</strong></p>\n\n<pre><code>&lt;form #editForm=ngForm (ngSubmit)=\"onSubmit()\"&gt;\n\n&lt;div class=\"card-header childheader\"&gt;Update Details&lt;/div&gt;\n    &lt;div class=\"card-body\"&gt;\n         &lt;div class=\"form-group row\"&gt;\n         &lt;div class=\"col-sm-12\"&gt;\n            &lt;label for=\"childFirstName\"&gt;Child Name&lt;/label&gt;\n            &lt;input \n                type=\"text\" \n                name=\"childName\" \n                class=\"form-control\" \n                [ngModel]=\"singleUser?.name\"\n                id=\"childName\" \n                placeholder=\"Child FirstName\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group row\"&gt;\n         &lt;div class=\"col-sm-6\"&gt;\n             &lt;label for=\"childAge\"&gt;Child Age&lt;/label&gt;\n            &lt;select \n                class=\"form-control\" \n                id=\"chAge\" \n                name=\"childAge\"\n                [ngModel]=\"singleUser?.age\" \n                required&gt;\n                &lt;option value=\"\" selected disabled&gt; Child's Age&lt;/option&gt;\n                &lt;option value=\"1\"&gt; 1 &lt;/option&gt;\n                &lt;option value=\"2\"&gt; 2 &lt;/option&gt;\n                &lt;option value=\"3\"&gt; 3 &lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label for=\"childGender\"&gt;Child Gender&lt;/label&gt;\n            &lt;select \n                class=\"form-control\" \n                id=\"childGender\" \n                name=\"childGender\" \n                [ngModel]=\"singleUser?.gender\" \n                required&gt;\n            &lt;option value=\"\" style=\"display:none\"&gt; Child's Gender&lt;/option&gt;\n                &lt;option value=\"Male\"&gt; Male&lt;/option&gt;\n                &lt;option value=\"Female\"&gt; Female &lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group row\"&gt;\n        &lt;div class=\"col-sm-12\"&gt;\n            &lt;button \n                type=\"submit\" \n                class=\"btn btn-lg btn-success btn-block\" \n                [disabled]=\"!editForm.valid\"&gt;Update Details &lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>Edit.component.ts file</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { SharedService } from 'src/app/Services/shared.service';\nimport { AuthService } from 'src/app/Services/auth.service';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css']\n})\nexport class EditComponent implements OnInit {\n\n  public singleUser : any[];\n  public error = null;\n\n  public form = {\n    childName: null,\n    childAge: null,\n    childGender: null\n  };\n\n  constructor(\n    private Shared : SharedService,\n    private Auth:AuthService,\n  ) { }\n\n  //Pass the data to the backend via a common service\n  onSubmit(){\n    this.Auth.editedData(this.form).subscribe(\n      data =&gt; console.log(data),\n      error =&gt; console.log(error)\n    );\n  }\n\n  ngOnInit() {\n     //Pass the data to be edited to the view\n     this.Shared.edit$.subscribe(message =&gt; this.singleUser = message);\n  }\n\n}\n</code></pre>\n\n<p><strong>Auth Service</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class AuthService {\n\n  private baseUrl = 'http://localhost/Laravel-anngular-spa/backend/public/api';\n\n  constructor(private http:HttpClient) {}\n\n  //Pass data to the backend\n  editedData(data:any){\n    return this.http.post(`${this.baseUrl}/editedData` , data);\n  }\n}\n</code></pre>\n\n<p><strong>Laravel Backend route</strong></p>\n\n<pre><code>   Route::put('editedData', 'SubmitFormController@updateData');\n</code></pre>\n\n<p><strong>Laravel Controller</strong></p>\n\n<pre><code>  public function updateData(Request $request){\n        dd($request-&gt;all());\n    }\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 6013697, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/df1b0c1bfd3874af2ef6515dafc89f2f?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/6013697/martin"}, "edited": false, "score": 0, "creation_date": 1562125576, "post_id": 56862593, "comment_id": 100274466, "body": "I have tried your suggestion but the values are not populating in the input fields,, Please check the updated question,, i have edited my question of how am updating the values"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 0, "last_activity_date": 1562125882, "last_edit_date": 1562125882, "creation_date": 1562125105, "answer_id": 56862593, "question_id": 56862564, "link": "https://stackoverflow.com/questions/56862564/populating-json-data-in-a-form-for-editing-purpose-in-angular-8-crud/56862593#56862593", "title": "Populating JSON data in a form for editing purpose in Angular 8 CRUD", "body": "<p>Maybe you just need to display like this</p>\n\n<pre><code>{{singleUser.name}}\n\n{{singleUser.age}}\n\n{{singleUser.gender}}\n</code></pre>\n\n<p>Update if you want to display data into input simply use ngModel like this</p>\n\n<pre><code>[ngModel]=\"singleUser?.gender\"\n</code></pre>\n\n<p>Or 2 way binding</p>\n\n<pre><code>[(ngModel)]=\"singleUser.gender\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "is_accepted": false, "score": 1, "last_activity_date": 1562126007, "creation_date": 1562126007, "answer_id": 56862687, "question_id": 56862564, "link": "https://stackoverflow.com/questions/56862564/populating-json-data-in-a-form-for-editing-purpose-in-angular-8-crud/56862687#56862687", "title": "Populating JSON data in a form for editing purpose in Angular 8 CRUD", "body": "<p>you don't need to use <strong><code>{{ }}</code></strong> here for the value attribute,</p>\n\n<p>simply do something like below </p>\n\n<pre><code> value=\"singleUser.name\"\n</code></pre>\n\n<p>if this not as @TonyNgo suggested use <strong><code>[(NgModel)]</code></strong> for two way binding.</p>\n\n<p>This will update your variables when ever they are changed.</p>\n"}, {"tags": [], "owner": {"reputation": 365, "user_id": 8491205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5KZMG.jpg?s=128&g=1", "display_name": "Debabrata Paul Chowdhury", "link": "https://stackoverflow.com/users/8491205/debabrata-paul-chowdhury"}, "is_accepted": false, "score": 0, "last_activity_date": 1562126104, "creation_date": 1562126104, "answer_id": 56862699, "question_id": 56862564, "link": "https://stackoverflow.com/questions/56862564/populating-json-data-in-a-form-for-editing-purpose-in-angular-8-crud/56862699#56862699", "title": "Populating JSON data in a form for editing purpose in Angular 8 CRUD", "body": "<p>The binding should be done using [(ngModel)] as follows.Try this hope this will work</p>\n\n<pre><code>&lt;input type=\"text\"  name=\"childFirstName\" class=\"form-control [(ngModel)]=\"singleUser.name\" id=\"childFirstName\" placeholder=\"Child FirstName\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 527, "user_id": 6013697, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/df1b0c1bfd3874af2ef6515dafc89f2f?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/6013697/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 943, "favorite_count": 0, "accepted_answer_id": 56862593, "answer_count": 3, "score": 0, "last_activity_date": 1571490173, "creation_date": 1562124844, "last_edit_date": 1571490173, "question_id": 56862564, "link": "https://stackoverflow.com/questions/56862564/populating-json-data-in-a-form-for-editing-purpose-in-angular-8-crud", "title": "Populating JSON data in a form for editing purpose in Angular 8 CRUD", "body": "<p>Am working on a SPA build using Angular 8 on the frontend and Laravel on the backend. Am passing data to the backend via JWT which works fine. Since the app is a CRUD, on the read part (am using a table to display all the data from the backend in a tabular structure which works fine).</p>\n\n<p>On the table (each row has an edit and delete button), when the user clicks on the edit button, am capturing the id, passing to the bakend and fetching the data related to that specific user and returning to the frontend into another component called EditComponent. The data is in form of JSON format.</p>\n\n<p>Now am having a problem populating the each field from the JSON object into the form edit fields so that the user can update the form</p>\n\n<p><strong>Data from the backend after dumping in the view</strong></p>\n\n<pre><code>{{ singleUser | json }}\n\n{ \"id\": 8, \"name\": \"man man\", \"age\": 6, \"gender\": \"Male\", \"created_at\": \"2019-07-02 10:43:35\", \"updated_at\": \"2019-07-02 10:43:35\" } \n</code></pre>\n\n<p><strong>edit.component.html form</strong></p>\n\n<pre><code>&lt;form&gt;\n&lt;!--Children details--&gt;\n&lt;div class=\"card-header childheader\"&gt;Update Details&lt;/div&gt;\n    &lt;div class=\"card-body\"&gt;\n         &lt;div class=\"form-group row\"&gt;\n         &lt;div class=\"col-sm-12\"&gt;\n            &lt;label for=\"childFirstName\"&gt;Child Name&lt;/label&gt;\n            &lt;input \n                type=\"text\" \n                name=\"childFirstName\" \n                class=\"form-control\" \n                value=\"{{singleUser.name}}\"\n                id=\"childFirstName\" \n                placeholder=\"Child FirstName\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group row\"&gt;\n         &lt;div class=\"col-sm-6\"&gt;\n             &lt;label for=\"childAge\"&gt;Child Age&lt;/label&gt;\n            &lt;select \n                class=\"form-control\" \n                id=\"chAge\" \n                name=\"childAge\" \n                value=\"{{singleUser.age}}\"\n                [(ngModel)]=\"form.childAge\" \n                required&gt;\n                &lt;option value=\"\" selected disabled&gt; Child's Age&lt;/option&gt;\n                &lt;option value=\"1\"&gt; 1 &lt;/option&gt;\n                &lt;option value=\"2\"&gt; 2 &lt;/option&gt;\n                &lt;option value=\"3\"&gt; 3 &lt;/option&gt;\n                &lt;option value=\"4\"&gt; 4 &lt;/option&gt;\n                &lt;option value=\"5\"&gt; 5 &lt;/option&gt;\n                &lt;option value=\"6\"&gt; 6 &lt;/option&gt;\n                &lt;option value=\"7\"&gt; 7 &lt;/option&gt;\n                &lt;option value=\"8\"&gt; 8 &lt;/option&gt;\n                &lt;option value=\"9\"&gt; 9 &lt;/option&gt;\n                &lt;option value=\"10\"&gt; 10 &lt;/option&gt;\n                &lt;option value=\"11\"&gt; 11 &lt;/option&gt;\n                &lt;option value=\"12\"&gt; 12 &lt;/option&gt;\n                &lt;option value=\"13\"&gt; 13 &lt;/option&gt;\n                &lt;option value=\"14\"&gt; 14 &lt;/option&gt;\n                &lt;option value=\"15\"&gt; 15 &lt;/option&gt;\n                &lt;option value=\"16\"&gt; 16 &lt;/option&gt;\n                &lt;option value=\"17\"&gt; 17 &lt;/option&gt;\n                &lt;option value=\"18\"&gt; 18 &lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;label for=\"childGender\"&gt;Child Gender&lt;/label&gt;\n            &lt;select \n                class=\"form-control\" \n                id=\"childGender\" \n                name=\"childGender\" \n                value=\"{{singleUser.gender}}\"\n                [(ngModel)]=\"form.childGender\"   \n                required&gt;\n            &lt;option value=\"\" style=\"display:none\"&gt; Child's Gender&lt;/option&gt;\n                &lt;option value=\"Male\"&gt; Male&lt;/option&gt;\n                &lt;option value=\"Female\"&gt; Female &lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n       &lt;!--END children--&gt;\n    &lt;div class=\"form-group row\"&gt;\n        &lt;div class=\"col-sm-12\"&gt;\n            &lt;button \n                type=\"submit\" \n                class=\"btn btn-lg btn-success btn-block\" \n                [disabled]=\"!createForm.valid\"&gt;Update Details &lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["typescript", "comparison"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 10621443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9901d9b0a4e5c371e8a59e83d8afa2ad?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/10621443/oliver"}, "edited": false, "score": 0, "creation_date": 1562226527, "post_id": 56862645, "comment_id": 100313680, "body": "Very clear explanation. Thanks a lot. I assigned the value in HTML, not typescript. &lt;input type=&quot;number&quot; class=&quot;form-control&quot; step=&quot;any&quot; (input)=&quot;mAlarmValue = $event.target.value&quot;&gt;"}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 35, "user_id": 10621443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9901d9b0a4e5c371e8a59e83d8afa2ad?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/10621443/oliver"}, "edited": false, "score": 0, "creation_date": 1562226730, "post_id": 56862645, "comment_id": 100313787, "body": "OK, so you&#39;re using Angular. Then it will be <code>mAlarmValue = parseFloat($event.target.value)</code>."}], "tags": [], "owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "is_accepted": true, "score": 2, "last_activity_date": 1562125519, "creation_date": 1562125519, "answer_id": 56862645, "question_id": 56862404, "link": "https://stackoverflow.com/questions/56862404/numbers-comparison-in-typescript/56862645#56862645", "title": "Numbers comparison in typescript", "body": "<p>The type of the <code>value</code> property of an <code>HTMLInputElement</code> is always string, even if you set <code>type=\"number\"</code>. I'm guessing that somewhere in your code you have something like this:</p>\n\n<pre><code>this.mAlarmValue = $('#Alarm').val() as number;\n</code></pre>\n\n<p>Although this will compile, since the values are really strings, you will get the wrong result at runtime (for example, \"10\" &lt; \"5\" is true). To fix this, you need to use <code>parseFloat</code> at the moment you read from the <code>&lt;input&gt;</code> element, such as</p>\n\n<pre><code>this.mAlarmValue = parseFloat($('#Alarm').val() as string);\n</code></pre>\n\n<p>Or, in case you're using Vue.js, make sure that you use <code>v-model.number=\"mAlarmValue\"</code> to correctly convert string values to numbers.</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 10621443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9901d9b0a4e5c371e8a59e83d8afa2ad?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/10621443/oliver"}, "edited": false, "score": 0, "creation_date": 1562226808, "post_id": 56863252, "comment_id": 100313815, "body": "This is a very clever and concise way to do type conversion. I&#39;ll probably use it in my personal projects only as it seems to lose a bit readability to me."}, {"owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "reply_to_user": {"reputation": 35, "user_id": 10621443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9901d9b0a4e5c371e8a59e83d8afa2ad?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/10621443/oliver"}, "edited": false, "score": 0, "creation_date": 1562232227, "post_id": 56863252, "comment_id": 100316735, "body": "Yeah, but I never mind using latest ECMAScript features..   :)"}], "tags": [], "owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "is_accepted": false, "score": 0, "last_activity_date": 1562231709, "last_edit_date": 1562231709, "creation_date": 1562130612, "answer_id": 56863252, "question_id": 56862404, "link": "https://stackoverflow.com/questions/56862404/numbers-comparison-in-typescript/56863252#56863252", "title": "Numbers comparison in typescript", "body": "<blockquote>\n  <p>My workaround is to convert the number to string and then convert it back to number.</p>\n</blockquote>\n\n<p>You can do something like below in latest <strong><code>es6</code></strong> </p>\n\n<ul>\n<li>converting string to number =>   <strong><code>this.mAlarmValue = +this.mAlarmValue</code></strong></li>\n<li>converting number to string =>  <strong><code>this.mAlarmValue = \" \" + this.mAlarmValue</code></strong></li>\n</ul>\n\n<p>Then  you can do something like below for your case</p>\n\n<pre><code>    if (+mAlarmValue &gt;= +levelValue) {\n         console.log(true);\n    } else {\n         console.log(false);\n    }\n</code></pre>\n\n<p>for more information about converting the types in Typescript check here</p>\n\n<p><strong><a href=\"https://stackoverflow.com/questions/14667713/typescript-converting-a-string-to-a-number\">TypeScript Converting a String to a number</a></strong></p>\n"}], "owner": {"reputation": 35, "user_id": 10621443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9901d9b0a4e5c371e8a59e83d8afa2ad?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/10621443/oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7723, "favorite_count": 0, "accepted_answer_id": 56862645, "answer_count": 2, "score": 0, "last_activity_date": 1562231709, "creation_date": 1562123274, "question_id": 56862404, "link": "https://stackoverflow.com/questions/56862404/numbers-comparison-in-typescript", "title": "Numbers comparison in typescript", "body": "<p>My question might be silly, and I actually have a workaround to solve this issue. But I'm still interested in why it happens.\nI have two numbers in my typescript file. Here is their definition.</p>\n\n<pre><code>mAlarmValue:number;\nlevelValue:number;\n</code></pre>\n\n<p>In my HTML input box which I also set the attribute type=\"number\", I filled a number for mAlarmValue. After that, I did a comparison between those two numbers. Here is what I did.</p>\n\n<pre><code>console.log('Value =',this.mAlarmValue);\nconsole.log(\"levelValue=\",this.levelValue);\nif (this.mAlarmValue &lt;= this.levelValue) {\n  console.log(\"true\");\n}\n</code></pre>\n\n<p>And this is the actual console output.</p>\n\n<pre><code>Value = 10\nlevelValue= 5\ntrue\n</code></pre>\n\n<p>Apprently 10 is greater than 5, but the result showed otherwise. My workaround is to convert the number to string and then convert it back to number.</p>\n\n<pre><code>console.log('Value =',this.mAlarmValue);\nconsole.log(\"levelValue=\",this.levelValue);\nif (parseFloat(this.mAlarmValue.toString()) &lt;= this.levelValue) {\n  console.log(\"true\");\n} else {\n  console.log(false)\n}\n</code></pre>\n\n<p>Now it shows the correct result.</p>\n\n<pre><code>Value = 10\nlevelValue= 5\nfalse\n</code></pre>\n\n<p>Does anyone have idea what's going on here? Thanks for your time.</p>\n"}, {"tags": ["javascript", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1562131149, "post_id": 56861978, "comment_id": 100275760, "body": "It&#39;s typescript, call the <code>Person</code> out for what they are. <code>people</code> as <code>{}[]</code> and <code>people</code> as <code>{}</code> is confusing. Singular of <code>people</code> is <code>Person</code> so try <code>Person[]</code> where <code>Person</code> is a well-defined type."}, {"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1562131226, "post_id": 56861978, "comment_id": 100275775, "body": "&quot;How can I add more data to an json based object in Typescript?&quot; -- by extension or composition."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562128636, "post_id": 56862003, "comment_id": 100275100, "body": "I added that and got an error saying Subsequent property declarations must have the same type. Property &#39;people&#39; must be of type &#39;{name: string; year: number; } [ ] &#39; , but here has type &#39;any&#39; . ts (2717)"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562132381, "post_id": 56862003, "comment_id": 100276084, "body": "@RobertoMejia I see.. Hmm, I have updated my code to include the Interface so that we can use it to provide the type definitions for our objects/arrays. Let me know if it solves the issue?"}, {"owner": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562164254, "post_id": 56862003, "comment_id": 100293465, "body": "When I placed the interface it gives me an error saying Unexpected token. A constructor, method, accessor or property was expected."}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562164462, "post_id": 56862003, "comment_id": 100293590, "body": "Ok ermm.. Where did you place the interface"}, {"owner": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562165324, "post_id": 56862003, "comment_id": 100294178, "body": "I placed it inside the AppComponent class, so inside the class I have, the interface and the last 3 lines of code that you gave me that start with,  const people: Person[], const newPerson: Person, and people.push"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562165375, "post_id": 56862003, "comment_id": 100294210, "body": "You shouldn&#39;t place it within the appcomponent class. Treat it as a separate class. Let me update my answer"}, {"owner": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562165813, "post_id": 56862003, "comment_id": 100294487, "body": "It worked! thank you, so how come we don&#39;t put the interface inside the class?"}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": true, "score": 3, "last_activity_date": 1562165441, "last_edit_date": 1562165441, "creation_date": 1562119619, "answer_id": 56862003, "question_id": 56861978, "link": "https://stackoverflow.com/questions/56861978/how-can-i-add-more-data-to-an-json-based-object-in-typescript/56862003#56862003", "title": "How can I add more data to an json based object in Typescript?", "body": "<p>Assuming you want the <code>people</code> variable to be an array of objects,</p>\n\n<pre><code>const people = [{ name: 'robert', year: 1993 }];\n</code></pre>\n\n<p>If you want to add an object to <code>people</code>,</p>\n\n<pre><code>const newPerson = { name: 'joe', year: 1992 };\npeople.push(newPerson);\n</code></pre>\n\n<p>And if you want to access the individual objects/properties,</p>\n\n<pre><code>people[0];\npeople[0]['name'];\n</code></pre>\n\n<p>Regarding your subsequent issue, you may want to provide the type definitions for <code>people</code>.</p>\n\n<pre><code>export class AppComponents { \n  // your properties and methods\n}\n\ninterface Person {\n  name: string;\n  year: number; \n}\n</code></pre>\n\n<p>On your main code itself, you can declare the variables with the typings.</p>\n\n<pre><code>const people: Person[] = [{ name: 'robert', year: 1993 }];\nconst newPerson: Person = { name: 'joe', year: 1992 };\npeople.push(newPerson);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562127712, "post_id": 56862008, "comment_id": 100274892, "body": "I added that and got an error saying      Subsequent property declarations must have the same type. Property &#39;people&#39; must be of type &#39;{name: string; year: number; } [ ] &#39; , but here has type &#39;any&#39; . ts (2717)"}, {"owner": {"reputation": 522, "user_id": 10628604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e2f28f08efc4868bb24946c1bfc8e2?s=128&d=identicon&r=PG&f=1", "display_name": "Akhilesh", "link": "https://stackoverflow.com/users/10628604/akhilesh"}, "reply_to_user": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562128579, "post_id": 56862008, "comment_id": 100275087, "body": "make sure the person which you are pushing has exact type."}, {"owner": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562129179, "post_id": 56862008, "comment_id": 100275214, "body": "yes just exactly as you have it, I tried it out and it gave me that error"}, {"owner": {"reputation": 522, "user_id": 10628604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e2f28f08efc4868bb24946c1bfc8e2?s=128&d=identicon&r=PG&f=1", "display_name": "Akhilesh", "link": "https://stackoverflow.com/users/10628604/akhilesh"}, "reply_to_user": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562129236, "post_id": 56862008, "comment_id": 100275229, "body": "can you share person class code here and what you are pushing that too?"}, {"owner": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562133834, "post_id": 56862008, "comment_id": 100276601, "body": "import { Component } from &#39;@angular/core&#39;;  @Component({   selector: &#39;app-root&#39;,   templateUrl: &#39;./app.component.html&#39;,   styleUrls: [&#39;./app.component.scss&#39;] }) export class AppComponent {   title = &#39;hi&#39;;    people = [{     name: &#39;robert&#39;,     year: 1993   }];    people.push({ name: &#39;joe&#39;, year: 1992 });"}, {"owner": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "edited": false, "score": 0, "creation_date": 1562133885, "post_id": 56862008, "comment_id": 100276621, "body": "thats inside app.component.ts"}], "tags": [], "owner": {"reputation": 522, "user_id": 10628604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e2f28f08efc4868bb24946c1bfc8e2?s=128&d=identicon&r=PG&f=1", "display_name": "Akhilesh", "link": "https://stackoverflow.com/users/10628604/akhilesh"}, "is_accepted": false, "score": 2, "last_activity_date": 1562119652, "creation_date": 1562119652, "answer_id": 56862008, "question_id": 56861978, "link": "https://stackoverflow.com/questions/56861978/how-can-i-add-more-data-to-an-json-based-object-in-typescript/56862008#56862008", "title": "How can I add more data to an json based object in Typescript?", "body": "<p>Try this</p>\n\n<pre><code>people.push({ name: 'joe', year: 1992 });\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10034743, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-niUr9qShSUk/AAAAAAAAAAI/AAAAAAAAAA8/iLEAks7Fq7M/photo.jpg?sz=128", "display_name": "Roberto Mejia", "link": "https://stackoverflow.com/users/10034743/roberto-mejia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 56862003, "answer_count": 2, "score": 1, "last_activity_date": 1562165441, "creation_date": 1562119443, "last_edit_date": 1562132458, "question_id": 56861978, "link": "https://stackoverflow.com/questions/56861978/how-can-i-add-more-data-to-an-json-based-object-in-typescript", "title": "How can I add more data to an json based object in Typescript?", "body": "<p>I am trying to add more things inside an object but I am not sure how to do it </p>\n\n<p>I have tried pushing the data into the object but it doesn't work</p>\n\n<pre><code>people = [{\n  name: 'robert',\n  year: 1993\n}];\n</code></pre>\n\n<p>//this is what i want to add</p>\n\n<pre><code>people = {\n  name: 'joe',\n  year: 1992\n}\n</code></pre>\n\n<p>//I want it to act as if it was </p>\n\n<pre><code>people = [{\n  name: 'robert',\n  year: 1993\n}, {\n  name: 'joe',\n  year: 1992\n}];\n</code></pre>\n\n<p>I want to be able to call it back using \npeople[0].name</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "chart.js", "chart.js2"], "owner": {"reputation": 41, "user_id": 11731889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tWCRChdfI04/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdh6BK9eSCOv2XxeSADBGptk8IaSw/photo.jpg?sz=128", "display_name": "Jonny Bischoff", "link": "https://stackoverflow.com/users/11731889/jonny-bischoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 468, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1562119140, "creation_date": 1562119140, "question_id": 56861948, "link": "https://stackoverflow.com/questions/56861948/when-using-chart-js-custom-tooltips-disappear-immediately-after-rendering", "title": "When using chart.js, custom tooltips disappear immediately after rendering", "body": "<p>I'm using chart js 2 to display several Line graphs. I want to set a custom tooltip to allow me to view additional data when the user hovers over a point on the graph. However, every time I add a callback function (no matter what the function returns), it causes the tooltip to disappear. It properly renders my custom text for a brief moment, but then it disappears. I have to move my mouse around constantly to be able to read the tooltips. Here's the documentation on this function <a href=\"https://www.chartjs.org/docs/latest/configuration/tooltip.html#label-callback\" rel=\"nofollow noreferrer\">https://www.chartjs.org/docs/latest/configuration/tooltip.html#label-callback</a></p>\n\n<p>I've tried changing virtually every chart option I can. I'm currently using the callback function 'label', but I've tried beforeLabel and afterLabel as well. One thing that I noticed had an effect is when I changed the value of \"animation: { duration } \". It's currently set to 0 because I don't want any of the other animations when the charts change, because they update frequently. I set it to 1000 and I noticed that the tooltip persisted for slightly longer and had a darker background, but the overall chart rendering seemed to slow down. I've also changed the callback function's format from an arrow function to a regular function.</p>\n\n<p>Here are my chart options, with the relevant portion spaced out more towards the end: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const chartOptions = {\n        legend: {\n          labels: {\n            fontColor: NUMBER_COLOR,\n            fontSize: 12\n          }\n        },\n        scales: {\n          xAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: \"Frame\",\n              fontColor: SCALE_LABEL_COLOR,\n              fontSize: 14\n            },\n            stepSize: ystep,\n            ticks: {\n              min: XMIN,\n              max: XMAX,\n              stepSize: (XMAX - XMIN) / TICK_NUMS,\n              maxRotation: 0,\n              minRotation: 0,\n              fontColor: NUMBER_COLOR,\n              fontSize: 12\n            },\n            type: \"linear\"\n          }],\n          yAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: this.props.yAxisUnits,\n              fontColor: SCALE_LABEL_COLOR,\n              fontSize: 14\n            },\n            ticks: {\n              id: \"0\",\n              min: yChartMin,\n              max: yChartMax,\n              stepSize: Number(((yChartMax - yChartMin) / TICK_NUMS).toFixed(DECIMAL_NUM)),\n              maxRotation: 0,\n              minRotation: 0,\n              display: true,\n              fontColor: NUMBER_COLOR,\n              fontSize: 13\n            }\n          }]\n        },\n\n\n        animation: {\n          duration: 0\n        },\n        tooltips: {\n          intersect: true,\n          mode: \"nearest\",\n          enabled: true,\n          callbacks: {\n            label: (tooltipItems, data) =&gt; {\n              const labelText = [\n                data.datasets[tooltipItems.datasetIndex].label + \": \" + data.datasets[tooltipItems.datasetIndex].data[tooltipItems.index].y,\n                \"Time: \" + data.datasets[tooltipItems.datasetIndex].data[tooltipItems.index].time\n              ];\n              return labelText;\n            }\n          }\n        }\n      };\n</code></pre>\n\n<p>The data points themselves each follow the format:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    x: xValue,\n    y: yValue,\n    time: timeValue\n}\n</code></pre>\n\n<p>and my chart is displayed via:</p>\n\n<pre><code>&lt;Line\n  data={chartData}\n  options={chartOptions}\n  width={DEFAULT_WIDTH}\n  height={DEFAULT_HEIGHT}\n  getElementAtEvent={(e: any) =&gt; this.clickedElement(e)}\n/&gt;\n</code></pre>\n\n<p>When I delete the callback function \"label\", the tooltip persists and displays as expected. Please let me know if you can offer help in any way.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 2103, "user_id": 2371073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34eaab58517f584e646eaf2ef3d2c1f?s=128&d=identicon&r=PG", "display_name": "Joao Polo", "link": "https://stackoverflow.com/users/2371073/joao-polo"}, "edited": false, "score": 0, "creation_date": 1562117808, "post_id": 56861769, "comment_id": 100273171, "body": "I used children as array, but I put the components in &quot;[&quot; and &quot;]&quot;..."}], "answers": [{"comments": [{"owner": {"reputation": 3582, "user_id": 615397, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/tcKp2.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/615397/lex"}, "edited": false, "score": 0, "creation_date": 1562118723, "post_id": 56861801, "comment_id": 100273300, "body": "Thank you that pointed in me in the right direction. I was missing <code>onClick</code> as a prop in the child component. Once I added <code>onClick: (value: string) =&gt; void</code> and cast child to any it worked."}], "tags": [], "owner": {"reputation": 887, "user_id": 11617666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f35a423c90cfcf65bda716579283fa?s=128&d=identicon&r=PG&f=1", "display_name": "bkm412", "link": "https://stackoverflow.com/users/11617666/bkm412"}, "is_accepted": true, "score": 2, "last_activity_date": 1562117548, "creation_date": 1562117548, "answer_id": 56861801, "question_id": 56861769, "link": "https://stackoverflow.com/questions/56861769/enhancing-manipulating-react-children-props/56861801#56861801", "title": "Enhancing/manipulating react children props", "body": "<p>You can use <code>cloneElement</code></p>\n\n<p><a href=\"https://reactjs.org/docs/react-api.html#cloneelement\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/react-api.html#cloneelement</a></p>\n\n<pre><code>render() {\n        return (\n          &lt;div&gt;\n          {React.Children.map(this.props.children, child =&gt; {\n            return React.cloneElement(child, {\n                onClick : () =&gt; console.log(\"yea!\")\n            })   \n         })}\n         &lt;/div&gt;\n       ) \n}\n</code></pre>\n"}], "owner": {"reputation": 3582, "user_id": 615397, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/tcKp2.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/615397/lex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 56861801, "answer_count": 1, "score": 0, "last_activity_date": 1562117548, "creation_date": 1562117105, "question_id": 56861769, "link": "https://stackoverflow.com/questions/56861769/enhancing-manipulating-react-children-props", "title": "Enhancing/manipulating react children props", "body": "<p>I was hoping to abstract away the binding of event listeners on children components. Or allow a component to alter props of children.</p>\n\n<p>I'm wanting to express the components in JSX like</p>\n\n<pre><code>&lt;DocumentScreen name=\"Type\"&gt;\n  &lt;DocumentInput value=\"L\" name=\"(=learner)\" icon=\"lerners.svg\" /&gt;\n  &lt;DocumentInput value=\"P\" name=\"(=probationary)\" icon=\"probationary.svg\" /&gt;\n  &lt;DocumentInput value=\"Full\" icon=\"full.svg\" /&gt;\n&lt;/DocumentScreen&gt;\n</code></pre>\n\n<p>Which is an enhanced radio or checkbox grouping.</p>\n\n<p>Now I want to enhance the inputs to automagically notify the parent component of changes to store state.</p>\n\n<p>I was hoping this would be possible</p>\n\n<p><code>{React.Children.toArray(this.props.children).map((Child =&gt; (&lt;Child onClick={() =&gt; console.log(\"yea!\")} /&gt;)))}</code></p>\n\n<p>Or more simply</p>\n\n<p><code>{this.props.children.map((Child =&gt; (&lt;Child onClick={() =&gt; console.log(\"yea!\")} /&gt;)))}</code></p>\n\n<p>But I get a typescript error </p>\n\n<p><code>JSX element type 'Child' does not have any construct or call signatures</code></p>\n\n<p>Using</p>\n\n<pre><code>\"react\": \"^16.8.6\",\n\"typescript\": \"^3.5.2\"\n</code></pre>\n\n<p><strong>Is this possible or is there another way to achieve this?</strong></p>\n"}, {"tags": ["javascript", "typescript", "import"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562116286, "post_id": 56861566, "comment_id": 100272946, "body": "remove the curlys from your import statement."}, {"owner": {"reputation": 163, "user_id": 1701676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2ab9c30076e411cf5475e6f9f069bc?s=128&d=identicon&r=PG", "display_name": "ORcoder", "link": "https://stackoverflow.com/users/1701676/orcoder"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562116538, "post_id": 56861566, "comment_id": 100272981, "body": "Hmm. That won&#39;t be possible for some details that I left out (I am actually importing from a larger library that includes usefulJS.js). I will add that detail"}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 1701676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2ab9c30076e411cf5475e6f9f069bc?s=128&d=identicon&r=PG", "display_name": "ORcoder", "link": "https://stackoverflow.com/users/1701676/orcoder"}, "edited": false, "score": 0, "creation_date": 1562175060, "post_id": 56861953, "comment_id": 100299121, "body": "Thanks for reminding me about tsconfig. Didn&#39;t seem to be the problem this time, but I have had some weird problems before where tsconfig was ultimately at fault."}], "tags": [], "owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "is_accepted": false, "score": 0, "last_activity_date": 1562119167, "creation_date": 1562119167, "answer_id": 56861953, "question_id": 56861566, "link": "https://stackoverflow.com/questions/56861566/how-do-i-import-a-constructed-object-from-javascript-into-typescript/56861953#56861953", "title": "How do I import a constructed object from javascript into typescript", "body": "<p>Just a guess: TypeScript probably locate <code>usefulJS</code> from usefulJS.js instead of index.d.ts (you can check if that's the case by using \"go to definition\" in VS Code). If that's the case TypeScript will not recognize that usefulJS has a <code>doAThing</code> method, because it is assigned through prototype. You can probably solve this by adding this to your tsconfig.json:</p>\n\n<pre><code>\"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"paths\": {\n        \"library-that-includes-usefulJS\": [\n            \"./usefulJS/index.d.ts\"\n        ]\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 163, "user_id": 1701676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2ab9c30076e411cf5475e6f9f069bc?s=128&d=identicon&r=PG", "display_name": "ORcoder", "link": "https://stackoverflow.com/users/1701676/orcoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1562175827, "last_edit_date": 1562175827, "creation_date": 1562174928, "answer_id": 56875310, "question_id": 56861566, "link": "https://stackoverflow.com/questions/56861566/how-do-i-import-a-constructed-object-from-javascript-into-typescript/56875310#56875310", "title": "How do I import a constructed object from javascript into typescript", "body": "<p>By making library changes I am able to get it to work. </p>\n\n<p>Basically, the index.d.ts file doesn't indicate that helpfulJS.js exports a value. Unfortunately, we can't indicate that it exports the value helpfulJS, because that would result in a name overlap with the type. So helpfulJS.js needs to be modified to export a different variable name.</p>\n\n<p>usefulJS.js</p>\n\n<pre><code>function usefulJS() {}\n\nusefulJS.protoype.doAThing = function() {\n    //does a thing here, returns an object\n};\nlet usefulJSObj = new usefulJS();\nmodule.exports = usefulJSObj;\n</code></pre>\n\n<p>usefulJS/index.d.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class usefulJS {\n    public doAThing(): object;\n}\n\nexport const usefulJSObj : usefulJS;\n</code></pre>\n\n<p>myTypescript.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {randomOtherThing,usefulJSObj} from \"library-that-includes-usefulJS\";\n\nconst myObj = usefulJSObj.doAThing();\n</code></pre>\n\n<p>I do have the ability to change this library in this case but I am loath to do so because it has impact on other projects. </p>\n\n<p>I am still hoping there is a way to fix this without changing the library (or maybe only changing the type file, since the other users of the library are javascript).</p>\n"}, {"tags": [], "owner": {"reputation": 163, "user_id": 1701676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2ab9c30076e411cf5475e6f9f069bc?s=128&d=identicon&r=PG", "display_name": "ORcoder", "link": "https://stackoverflow.com/users/1701676/orcoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1562608570, "creation_date": 1562608570, "answer_id": 56940263, "question_id": 56861566, "link": "https://stackoverflow.com/questions/56861566/how-do-i-import-a-constructed-object-from-javascript-into-typescript/56940263#56940263", "title": "How do I import a constructed object from javascript into typescript", "body": "<p>I found a way to change the library that solves the problem without making any of the existing javascript clients change their code.</p>\n\n<p>Basically, by changing the library to export a type with static functions instead of an unnamed object with object functions, typescript stops complaining about being unable to call the method and the javascript calls to the library don't change at all. </p>\n\n<p>(usefulJS.doAThing() with usefulJS as an object calling its prototype function changes to usefulJS.doAThing() as a type calling its static function, with javascript not caring about the difference.)</p>\n\n<p>usefulJS.js</p>\n\n<pre><code>class usefulJS() {\n\n    static doAThing()  {\n    //does a thing here, returns an object\n    };\n}\n//Returns a type with a static method instead of a constructed object\nmodule.exports = usefulJS;\n</code></pre>\n\n<p>usefulJS/index.d.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class usefulJS {\n    public static doAThing(): object;\n}\n\n</code></pre>\n\n<p>myTypescript.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {randomOtherThing,usefulJS} from \"library-that-includes-usefulJS\";\n\nconst myObj = usefulJS.doAThing();\n</code></pre>\n\n<p>Still doesn't help much for those who don't have control over the library, unfortunately, but at least we don't cause exploding changes to all the javascript clients that already worked just to make typescript clients work.</p>\n"}], "owner": {"reputation": 163, "user_id": 1701676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2ab9c30076e411cf5475e6f9f069bc?s=128&d=identicon&r=PG", "display_name": "ORcoder", "link": "https://stackoverflow.com/users/1701676/orcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 56940263, "answer_count": 3, "score": 0, "last_activity_date": 1562608570, "creation_date": 1562114706, "last_edit_date": 1562174946, "question_id": 56861566, "link": "https://stackoverflow.com/questions/56861566/how-do-i-import-a-constructed-object-from-javascript-into-typescript", "title": "How do I import a constructed object from javascript into typescript", "body": "<p>I am using a javascript library that constructs an object like so:</p>\n\n<p>usefulJS.js</p>\n\n<pre><code>function usefulJS() {}\n\nusefulJS.protoype.doAThing = function() {\n    //does a thing here, returns an object\n};\nmodule.exports = new usefulJS();\n</code></pre>\n\n<p>It has a type definition file like so:</p>\n\n<p>usefulJS/index.d.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class usefulJS {\n    public doAThing(): object;\n}\n</code></pre>\n\n<p>And it is used in the following typescript file:</p>\n\n<p>myTypescript.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {randomOtherThing,usefulJS} from \"library-that-includes-usefulJS\";\n\nconst myObj = usefulJS.doAThing();\n</code></pre>\n\n<p>But I get a red underline under .doAThing() in my typescript file with the following message:</p>\n\n<p>\"Property 'doAThing' does not exist on type 'typeof usefulJS'.\"</p>\n\n<p>When I run the code with <code>//@ts-ignore</code> over the function call it works, so it definitely seem to be a typescript issue and not a javascript issue.</p>\n\n<p>Am I doing something wrong with my imports? How should I import an object that is already constructed, as opposed to a prototype for an object?</p>\n\n<p>Or is there something wrong with the library's type definitions?</p>\n\n<p>If it is any help, there is another project in non-typescript node that uses this library. Its import line looks like this:</p>\n\n<pre><code>const usefulJS = requre(\"library-that-includes-usefulJS\").usefulJS;\n</code></pre>\n"}, {"tags": ["javascript", "json", "typescript"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562113179, "post_id": 56861367, "comment_id": 100272512, "body": "Declare it as <code>keyof typeof catalog</code>"}], "answers": [{"comments": [{"owner": {"reputation": 790, "user_id": 1014046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5aefd41c56082b5a4a87fb0fe780c890?s=128&d=identicon&r=PG", "display_name": "kindofgreat", "link": "https://stackoverflow.com/users/1014046/kindofgreat"}, "edited": false, "score": 0, "creation_date": 1562136525, "post_id": 56862282, "comment_id": 100277711, "body": "Awesome, so that works to give me all the types in the catalog. But let&#39;s say I do not know for certain the inputs I will get for author and title, like they are a string input (console or web or whatever). So all I know is that a user will input a string which may or may not be a book or author in the catalog. I want to still be able to use the function, and just catch the error (or return not found). But now, it won&#39;t let me use: getBook(author, title) since it wants to enforce that the author and title types exist in the catalog. So basically I want to make the catalog&#39;s type more generic."}, {"owner": {"reputation": 790, "user_id": 1014046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5aefd41c56082b5a4a87fb0fe780c890?s=128&d=identicon&r=PG", "display_name": "kindofgreat", "link": "https://stackoverflow.com/users/1014046/kindofgreat"}, "edited": false, "score": 0, "creation_date": 1562137357, "post_id": 56862282, "comment_id": 100278151, "body": "The (____ as any) is exactly what I&#39;m looking for. Thanks for your patience with me and I apologize my question wasn&#39;t clearer from the get-go."}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 790, "user_id": 1014046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5aefd41c56082b5a4a87fb0fe780c890?s=128&d=identicon&r=PG", "display_name": "kindofgreat", "link": "https://stackoverflow.com/users/1014046/kindofgreat"}, "edited": false, "score": 0, "creation_date": 1562137541, "post_id": 56862282, "comment_id": 100278260, "body": "@kindofgreat Or it could be just me getting too obsessed with TypeScript generics and not paying enough attention to your question \ud83d\ude09"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562198885, "post_id": 56862282, "comment_id": 100306927, "body": "<code>as any</code> is a terrible solution: why do you use typescript if you don&#39;t type your data."}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562199259, "post_id": 56862282, "comment_id": 100306994, "body": "@zerkms It&#39;s not terrible at all for OP&#39;s particular use case, as he needs to check unpredictable keys(feel free to suggest any alternative with shorter TypeScript codes); and there could be a thousand other reasons why he uses TypeScript for his project."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562211080, "post_id": 56862282, "comment_id": 100308799, "body": "&quot;any alternative with shorter TypeScript codes&quot; --- typescript purpose is not to make code shorter, but type safe. You totally can do it safer even with unknown keys."}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562211545, "post_id": 56862282, "comment_id": 100308871, "body": "@zerkms Of course I can by adding index signature to <code>catalog</code>, but you fail to consider the side-effect that it would then allow arbitrary access to the <code>catalog</code> object, and you don&#39;t know if that&#39;s what the OP wants. If one needs to both restrict arbitrary access and check for arbitrary keys, <code>as any</code> is the only option; correct me if I&#39;m wrong."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562212198, "post_id": 56862282, "comment_id": 100308988, "body": "&quot;that it would then allow arbitrary access&quot; --- you&#39;re already doing that. <code>type C2 = {[index: string]: { [index:string]: { Pages: string; Edition?: string; Year?: string; Language?: string;  } }};</code> just assign to this type and you can make type-safe lookup. Or the most nested can also be a dictionary from <code>string</code> to <code>string</code>. Nevertheless - that code would be type safe, like the whole purpose of typescript."}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562212326, "post_id": 56862282, "comment_id": 100309003, "body": "@zerkms Of course I&#39;m doing that, because that what the OP wants under that context! But he didn&#39;t mean that out of that particular context, arbitrary access is also allowed. What you&#39;re doing will allow arbitrary access in any context."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562212528, "post_id": 56862282, "comment_id": 100309035, "body": "@Mu-Tsun Tsai: &quot;What you&#39;re doing will allow arbitrary access in any context&quot; --- nope, only within that function: <code>const catalog2: C2 = catalog;</code> Then you can make a type-safe and runtime-safe check <code>if (author in catalog2)</code> etc"}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1562213107, "post_id": 56862282, "comment_id": 100309142, "body": "@zerkms Fair enough, that might be a better method, I admit. Why don&#39;t you go ahead and submit a new answer?"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562214160, "post_id": 56862282, "comment_id": 100309300, "body": "@Mu-TsunTsai I already upvoted you long ago, and your answer is checked :-) If you add that another alternative it would teach the community how to write safer TS :-) no one ever checks the second popular answer :-D"}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1562214883, "post_id": 56862282, "comment_id": 100309445, "body": "@zerkms Fine~~~"}], "tags": [], "owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "is_accepted": true, "score": 3, "last_activity_date": 1562214844, "last_edit_date": 1592644375, "creation_date": 1562122115, "answer_id": 56862282, "question_id": 56861367, "link": "https://stackoverflow.com/questions/56861367/how-to-disable-assert-override-inferred-types-when-importing-json-in-typescript/56862282#56862282", "title": "How to disable/assert/override inferred types when importing JSON in typescript", "body": "<p>Try the following:</p>\n<pre><code>type C = typeof catalog;\nfunction getBook&lt;T extends keyof C&gt;(author: T, title: keyof C[T]) {\n    return catalog[author][title]\n}\n\ngetBook(&quot;Nabokov&quot;, &quot;Lolita&quot;); // OK\ngetBook(&quot;Joyce&quot;, &quot;Lolita&quot;); // Not OK\n</code></pre>\n<p>Here is a <a href=\"https://typescript-play.js.org/#code/FAYw9gdgzgLgBCAhjRAbMBzOBeOBvYASACIA5RAIzAGswA3YgLnyJIAU0BTOAMQEsATpyYtCY4hwycoI4gCYADAuIAaViQCiAEz4w+kWRwAOnARUQhqq4KwC+a8Wwh8IIgmPaIpM5sQCMAKzKDuLauvquvgASiAJa4HSmxHYhxAAyYKi6iG7qEl7SsoHBeWF6Br7GpuaW1h7EAJqcsUUAnAEByWK2RPZExABSYACeIMLM7iQAqqjDUFCFE3mSi3DEABxKdeJpiBAYAK4Fshr7WVAAFl2EfeL8EBCcGHsA5FBwAOqI1OOijgU+NZ+RQleq7fZHKSyADifAoFFMfEu1x6N2AtgA3DYYMMTHAAMI4OA4kxgABmCGQaEwWLJBwgIHKEDgUhgACEwDQADwAFTgnAAHjBOBAtO8fsNyQSAHwACkQBxgFzAAmYPJUxN0qE4zAlUvxAG0eQBdACUoiEMAOAmZSBQ6AwBoVSpVxoNehg2uN6JsrI5NFlZEoNHoqjWGSyKGIpoxcAA9HG4AB5ADSwD9nOogaGo2EGvSmWy0djCbgpDA8FTwCAA\" rel=\"nofollow noreferrer\">playground</a> to demonstrate.</p>\n<h3>Update</h3>\n<p>Based on your use case, you shouldn't restrict the types of the parameters, and you should just do this:</p>\n<pre><code>function getBook(author: string, title: string) {\n    try {\n        return (catalog as any)[author][title]\n    } catch(e) {\n        // do error handling here\n    }\n}\n</code></pre>\n<h3>Update 2</h3>\n<p>The method mentioned above is more or less bypassing TypeScript. If one really want to ensure type-safety, here's the genuine TypeScript approach to do the same thing.</p>\n<pre><code>type B = {\n    Pages: string;\n    Edition?: string;\n    Year?: string;\n    Language?: string;\n};\ntype C = {\n    [index: string]: {\n        [index:string]: B\n    }\n};\n\nfunction getBook(author: string, title: string): B | undefined {\n    const cat: C = catalog;\n    if(author in cat &amp;&amp; title in cat[author]) {\n        return cat[author][title];\n    } else {\n        // do error handling here\n        return undefined;\n    }\n}\n</code></pre>\n<p>See this <a href=\"https://typescript-play.js.org/#code/FAYw9gdgzgLgBCAhjRAbMBzOBeOBvYASACIA5RAIzAGswA3YgLnyJIAU0BTOAMQEsATpyYtCY4hwycoI4gCYADAuIAaViQCiAEz4w+kWRwAOnARUQhqq4KwC+a8Wwh8IIgmPaIpM5sQCMAKzKDuLauvquvgASiAJa4HSmxHYhxAAyYKi6iG7qEl7SsoHBeWF6Br7GpuaW1h7EAJqcsUUAnAEByWK2RPZExABSYACeIMLM7iQAqqjDUFCFE3mSi3DEABxKdeJpiBAYAK4Fshr7WVAAFl2EfeL8EBCcGHsA5FBwAOqI1OOijgU+NZ+RQleq7fZHKSyADifAoFFMfEu1x6N2AtgA3DYYMMTHAAEI4FhwElwFZQZiwAQuDBY0lwMoRAD8lJg1P2dNJTViLLgVJpnJJ4MOBV5-I56KxOLxAGEiQR6QBtFxaTgAD1Z7IwAF0lvSlSr1YxxTrmPjgPSepibAAzA4QEDlCBwKQwfFgGgACkQBxgFzAAk1NJUcD0MFQnCD+wAlGa4AAfOD21U2lycLTE0ngaDwJAwZhy3B5tCYQVwPg272+-0CcvOvNwABkjdDugjdYQyEVPr9Ae10cz+rgQhgBwE9a7PZr2sVYYj2rLtjgnFQCz+AHp13AtGBlwIBAG4Bc9losvsj6ZOKwR2PncnOKnHlosWiekA\" rel=\"nofollow noreferrer\">playground</a>.</p>\n"}], "owner": {"reputation": 790, "user_id": 1014046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5aefd41c56082b5a4a87fb0fe780c890?s=128&d=identicon&r=PG", "display_name": "kindofgreat", "link": "https://stackoverflow.com/users/1014046/kindofgreat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 56862282, "answer_count": 1, "score": 0, "last_activity_date": 1562214844, "creation_date": 1562112258, "question_id": 56861367, "link": "https://stackoverflow.com/questions/56861367/how-to-disable-assert-override-inferred-types-when-importing-json-in-typescript", "title": "How to disable/assert/override inferred types when importing JSON in typescript", "body": "<p>I am using the \"resolveJsonModule\" feature in typescript 2.9 in order to import a json file. Let's say the json file looks like this:</p>\n\n<pre><code>{\n  \"Nabokov\": {\n    \"Pale Fire\": {\n      \"Pages\": \"200\",\n      \"Edition\": \"Paperback\",\n\n    },\n    \"Pnin\": {\n      \"Pages\": \"150\",\n      \"Edition\": \"Hardcover\"\n    },\n    \"Lolita\": {\n      \"Pages\": \"150\",\n      \"Edition\": \"Paperback\",\n      \"Year\": \"1955\"\n    }\n  },\n  \"Joyce\": {\n    \"Ulysses\": {\n      \"Pages\": \"800\",\n      \"Language\": \"English\"\n    },\n    \"Finnegan's Wake\": {\n      \"Pages\": \"1200\",\n      \"Language\": \"Gibberish\"\n    }\n  }\n}\n</code></pre>\n\n<p>and i am importing it by:</p>\n\n<p>import catalog from '../resources/catalog.json'</p>\n\n<p>Okay, so when this gets imported, typescript will automatically define types for this. This becomes problematic for me when I am trying to write, for example, a function that can return the info for a author/book.</p>\n\n<p>I want to just do </p>\n\n<pre><code>function getBook(author: string, title: string) {\n  return catalog[author][title]\n}\n</code></pre>\n\n<p>I get a \"Element implicitly has an 'any' type because expression of type 'string' ...\"  So it wants me to define author as \"Nabokov\" | \"Joyce\" but\nsince the JSON file will be forever expanding, and I don't know what's going to be in it at any time, I want to \"genericize\" the type for the imported object so that it's just something like [key: string].</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 540, "user_id": 5609876, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b9fb0cf118e9cbf9a15d52d7071e554b?s=128&d=identicon&r=PG", "display_name": "E.Arrowood", "link": "https://stackoverflow.com/users/5609876/e-arrowood"}, "edited": false, "score": 0, "creation_date": 1562160161, "post_id": 56862063, "comment_id": 100291044, "body": "I see, I&#39;ll try this and see how it goes. I was hoping TS could infer this based on regular function overload patterns <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/do-s-and-don-ts.html#function-overloads\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/declaration-files/&hellip;</a>"}, {"owner": {"reputation": 540, "user_id": 5609876, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b9fb0cf118e9cbf9a15d52d7071e554b?s=128&d=identicon&r=PG", "display_name": "E.Arrowood", "link": "https://stackoverflow.com/users/5609876/e-arrowood"}, "edited": false, "score": 0, "creation_date": 1563207638, "post_id": 56862063, "comment_id": 100615088, "body": "Marking this is as the correct answer because it is a valid fix. Ideally TS would be able to infer based on function overload; however, I&#39;m not going to get blocked by it right now! Thank you :)"}], "tags": [], "owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "is_accepted": true, "score": 2, "last_activity_date": 1562120720, "last_edit_date": 1562120720, "creation_date": 1562120355, "answer_id": 56862063, "question_id": 56861255, "link": "https://stackoverflow.com/questions/56861255/overloaded-typescript-function-parameter-does-not-work-with-async-keyword/56862063#56862063", "title": "Overloaded typescript function parameter does not work with async keyword", "body": "<p>You need to change it to</p>\n\n<pre><code>f().addFunc('x', async (r: string) =&gt; {\n  return null\n})\n</code></pre>\n\n<p>Without adding <code>: string</code>, your function is really a <code>(r: any) =&gt; Promise&lt;null&gt;</code>, which is not assignable to the type <code>myFunction</code>.</p>\n\n<p>The first case in your example compiles because TypeScript is able to infer the types of <code>r</code> and <code>d</code> by the fact that there're two parameters, which makes it impossible to assign to the first case in the union definition of <code>myFunction</code>. But when a function has only one parameter, it could be assigned to a type that has one or more parameters, so TypeScript cannot automatically infer the type of <code>r</code>.</p>\n"}], "owner": {"reputation": 540, "user_id": 5609876, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b9fb0cf118e9cbf9a15d52d7071e554b?s=128&d=identicon&r=PG", "display_name": "E.Arrowood", "link": "https://stackoverflow.com/users/5609876/e-arrowood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 56862063, "answer_count": 1, "score": 0, "last_activity_date": 1562120720, "creation_date": 1562111141, "question_id": 56861255, "link": "https://stackoverflow.com/questions/56861255/overloaded-typescript-function-parameter-does-not-work-with-async-keyword", "title": "Overloaded typescript function parameter does not work with async keyword", "body": "<p>I'm working on a larger project type definition file. I have simplified the code into an isolated example:</p>\n\n<p>Module definition <code>f.d.ts</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export type myFunction = ((r: string) =&gt; Promise&lt;any&gt;) // async def\n  | ((r: string, done: (err: Error | null, b?: any) =&gt; void) =&gt; void) //callback def\n\nexport interface addFunc {\n  (c: string, f: myFunction): void\n}\n\nexport interface FI {\n  addFunc: addFunc\n}\n\nexport default function f(): FI\n</code></pre>\n\n<p>Module implementation <code>f.js</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function f () {\n  return {\n    addFunc: (c, p) =&gt; {\n      this[c] = p\n      return this\n    }\n  }\n}\n\nmodule.exports = f\n</code></pre>\n\n<p>Module utilization index.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import f from './f'\n\nf().addFunc('x', (r, d) =&gt; { // Compiles as expected\n  d(null)\n})\n\nf().addFunc('x', async (r) =&gt; { // Error ts(7006) Parameter 'r' implicitly has an 'any' type.\n  return null\n})\n</code></pre>\n\n<p>Can you please explain why this error is happening and how I could fix it? I believe the issue is in the type definition. </p>\n\n<p>Please do not comment on the implementation itself; this is an extremely stripped down and isolated piece of a large API. </p>\n\n<p>Thank you for the help!</p>\n"}, {"tags": ["javascript", "typescript", "electron", "global-variables", "nightmare"], "owner": {"reputation": 779, "user_id": 7043033, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e49cc6f8e650aa248171931e0250dde3?s=128&d=identicon&r=PG&f=1", "display_name": "RA.", "link": "https://stackoverflow.com/users/7043033/ra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562109114, "creation_date": 1562109114, "question_id": 56861057, "link": "https://stackoverflow.com/questions/56861057/store-xhr-response-globally", "title": "Store XHR response globally", "body": "<p>I'm using <code>nightmare</code> evaluation to intercept the XHR response. I'm currently storing the response in the <code>window</code> object. The disadvantage of that is after a navigation or page reload, the stored responses are being truncated.</p>\n\n<p>I want to store them in a global array variable, however, nightmare <code>evaluate</code> method is running on some different Javascript context and even though I can access the variable and push the response, while debugging on my renderer process, it says the variable is empty.</p>\n\n<p><strong>My current code</strong>:</p>\n\n<pre><code>Nightmare.evaluate(() =&gt; {\n    window.XMLHttpRequest.prototype.open = function (method: string, url: string, async: any, user: string, pass: string) {\n        this.addEventListener(\"readystatechange\", () =&gt; {\n            if (this.readyState === 4) { // State complete...\n\n                window.__responses.push({\n                    responseText: this.responseText,\n                    readyState: this.readyState,\n                    url: url,\n                    method: method\n                });\n            }\n        }, false);\n    };\n\n    window.XMLHttpRequest.prototype.open.apply(this, arguments);\n})\n</code></pre>\n\n<p><strong>Question:</strong></p>\n\n<p>How can I properly store the responses into a global variable, so it will not be truncated on page reload or navigation? </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1562104862, "post_id": 56860435, "comment_id": 100270911, "body": "This will work: <a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgEJwM4oN4FgBQyRyYAFqAOYBcyIArgLYBG0A3AQL4EIA2mGyAMJ8MGAILJgDAA48IDCOAHosyPIWLS6THsATJpUAPbSxAQhr1mbAsQPbd+spQu1GLKO3xd8vfkJEMVEkZOQUlNEwcW00HPQNjaVRXKw8vOy0deOcQChT3G28CUEhYRBRBIxAYYAoAHgAVZAgAD0gQABNlKIA+NRiiXgxLCAB3AAoASmQAXj6Grx8CGDoQBDBgKuQVtbqAVWa2xS6hKpr6lQgenvG4KCgaMXu4AE99nunsZCX8HYRxgDaAzUyCGNGE-AkHAANMCvmCAvxgjCCABdSZeIA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 705, "user_id": 1260715, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4c57872b82006176ffcaf211f19421b3?s=128&d=identicon&r=PG", "display_name": "Adam Keenan", "link": "https://stackoverflow.com/users/1260715/adam-keenan"}, "edited": false, "score": 0, "creation_date": 1562106489, "post_id": 56860597, "comment_id": 100271278, "body": "Ya I was looking at that solution from the comment, unfortunately that locks in the generic type of <code>Config</code> to be <code>Base</code> so if I were to add a property to the Config, for example, <code>prop: keyof T;</code> then the only thing I can do is what is in base. so <code>{ cls: ClassA, prop: &#39;thing&#39; }</code> works but <code>{ cls: ClassA, prop: &#39;propA&#39; }</code> does not work. Is there a way to make it keep the templated class? So this answer is about half correct, unfortunately the example I gave was too simple for my actual use case. My bad."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 705, "user_id": 1260715, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4c57872b82006176ffcaf211f19421b3?s=128&d=identicon&r=PG", "display_name": "Adam Keenan", "link": "https://stackoverflow.com/users/1260715/adam-keenan"}, "edited": false, "score": 0, "creation_date": 1562109965, "post_id": 56860597, "comment_id": 100271954, "body": "@AdamKeenan I&#39;m glad you realize the example you gave was too simple. I wasn&#39;t sure if it was appropriate to point that out. But to my knowledge it seems you have to make a choice between automatic inference and fine-tune type parameter constraints. If I were in your position I&#39;d personally prefer to use the signature you had in your question and explicitly pass the type parameter, since your <code>Config&lt;&gt;</code> interface does not appear to want to be covariant."}, {"owner": {"reputation": 705, "user_id": 1260715, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4c57872b82006176ffcaf211f19421b3?s=128&d=identicon&r=PG", "display_name": "Adam Keenan", "link": "https://stackoverflow.com/users/1260715/adam-keenan"}, "edited": false, "score": 0, "creation_date": 1562110236, "post_id": 56860597, "comment_id": 100272019, "body": "Just found out that defining the function as <code>function func&lt;T extends Config&lt;ClassA&gt; | Config&lt;ClassB&gt;&gt;(arr: Array&lt;T&gt;) {}</code> works the way I want. if <code>cls</code> is <code>ClassA</code> then <code>prop</code> must be a property of ClassA and the same for ClassB. But obviously this is hard coded so ;D"}], "tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": true, "score": 1, "last_activity_date": 1562105230, "creation_date": 1562105230, "answer_id": 56860597, "question_id": 56860435, "link": "https://stackoverflow.com/questions/56860435/how-to-make-a-function-infer-types-based-on-array-with-sub-properties/56860597#56860597", "title": "How to make a function infer types based on array with sub properties?", "body": "<p>The problem is that you're trying to force TypeScript to infer</p>\n\n<pre><code>Array&lt;Config&lt;ClassA | ClassB&gt;&gt;\n</code></pre>\n\n<p>When it's trying to infer</p>\n\n<pre><code>Array&lt;Config&lt;ClassA&gt; | Config&lt;ClassB&gt;&gt;\n</code></pre>\n\n<p>In general, these kinds of relationships are not interchangeable. While it may feel awkward as a declaration, what you can do to allow inference of the correct type is</p>\n\n<pre><code>function func&lt;T extends Config&lt;Base&gt;&gt;(arr: Array&lt;T&gt;) {}\n</code></pre>\n\n<p>But then the explicit call would have to be</p>\n\n<pre><code>func&lt;Config&lt;ClassA&gt; | Config&lt;ClassB&gt;&gt;([\n  { cls: ClassA },\n  { cls: ClassB },\n]);\n</code></pre>\n"}], "owner": {"reputation": 705, "user_id": 1260715, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4c57872b82006176ffcaf211f19421b3?s=128&d=identicon&r=PG", "display_name": "Adam Keenan", "link": "https://stackoverflow.com/users/1260715/adam-keenan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 56860597, "answer_count": 1, "score": 1, "last_activity_date": 1562105230, "creation_date": 1562104126, "question_id": 56860435, "link": "https://stackoverflow.com/questions/56860435/how-to-make-a-function-infer-types-based-on-array-with-sub-properties", "title": "How to make a function infer types based on array with sub properties?", "body": "<p>I'm having an issue creating a function signature that can infer a union type based on an array of objects with a property that is of that type. It works if it is solely an array of objects/types but I feel like it should work in this manner as well. In case it's not clear, in the following example I want the inferred function signature to be <code>func&lt;ClassA | ClassB&gt;(arr: Array&lt;Config&lt;ClassA | ClassB&gt;&gt;)</code></p>\n\n<pre><code>interface Base {\n    thing: number;\n}\nclass ClassA implements Base {\n    public propA!: number;\n    public thing!: number;\n}\nclass ClassB implements Base {\n    public propB!: number;\n    public thing!: number;\n}\ninterface Config&lt;T extends Base&gt; {\n    cls: new() =&gt; T;\n}\n\nfunction func&lt;T extends Base&gt;(arr: Array&lt;Config&lt;T&gt;&gt;) {}\n\nfunc([]);\n\nfunc([\n  { cls: ClassA },\n]);\n\n// Doesn't compile\nfunc([\n  { cls: ClassA },\n  { cls: ClassB },\n]);\n\n// Does compile\nfunc&lt;ClassA | ClassB&gt;([\n  { cls: ClassA },\n  { cls: ClassB },\n]);\n</code></pre>\n\n<p>Heres an example on stackblitz\n<a href=\"https://stackblitz.com/edit/typescript-array-subprop-type-infer\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/typescript-array-subprop-type-infer</a></p>\n\n<p>If you look at line 42 you can see that it is correctly inferring the type as <code>ClassA | ClassB</code> when its not a sub property. But on line 24 it is not inferring it as that type. It is only grabbing the type of the first element in the array so the function signature when hovering over it is <code>ClassA</code> (or on stackblitz it's showing the base class). I want this to work with any number of types so adding them to the function template param is not good enough.</p>\n"}, {"tags": ["javascript", "typescript", "static-typing"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562104058, "post_id": 56860264, "comment_id": 100270686, "body": "1) No, classes are NOT part of JavaScript and never have been. The difference is that having a <code>class</code> facade makes it easier for other programmers to use prototypal inheritance by abstracting away the details they don&#39;t care to know about. 2) TS is not understood by any JavaScript runtime engine. So yes, TS must be transpiled into JavaScript in order to work."}, {"owner": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562104271, "post_id": 56860264, "comment_id": 100270750, "body": "@RandyCasburn so me being able to define a <code>class Car { }</code> with a constructor doesn&#39;t count as a class in JS?"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562104411, "post_id": 56860264, "comment_id": 100270788, "body": "Nope! All that does is tell JavaScript to rewrite that bit of code into a normal constructor function with an assigned prototype. If you use the <code>extends</code> key word with your &quot;<i>class</i>&quot;, it will create a prototype chain that includes the definition of the base &quot;<i>class</i>&quot;. Make sense?"}, {"owner": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562104528, "post_id": 56860264, "comment_id": 100270813, "body": "Hm I guess so, so defining a class in TS or in JS looks the same, just in TS, it&#39;s actually part of it and in JS it&#39;s not?"}, {"owner": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562104615, "post_id": 56860264, "comment_id": 100270837, "body": "And for the 2) do I have to manually <code>tsc filename</code> each ts file to js before I can launch everything?"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562104826, "post_id": 56860264, "comment_id": 100270903, "body": "The way one &quot;writes a class&quot; in TypeScript is different than in JavaScript. TS allows member variables to be created outside the constructor function, where JS does not. Please read my comment to you on Mu-Tsun&#39;s answer below. That will help."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562104911, "post_id": 56860264, "comment_id": 100270925, "body": "<code>tsc</code> is rarely used on a file-by-file basis for other than development purposes. Everyone relies on a build system to combine and package our source files together into a distribution bundle or package. So the <code>tsc</code> part is most often an automated process."}, {"owner": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562105272, "post_id": 56860264, "comment_id": 100271002, "body": "@RandyCasburn gotcha, makes sense, so this is more for my purpose and later when I&#39;m ready to deploy, there&#39;s something that will transpile everything then"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562105458, "post_id": 56860264, "comment_id": 100271042, "body": "Exactly, and you&#39;ll have plenty of choices to help you package everything together. Focus more on the higher order tools like frameworks and libraries you want to use. They each will have their own way of buiding/packaging they will provide."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "edited": false, "score": 0, "creation_date": 1562104311, "post_id": 56860404, "comment_id": 100270764, "body": "I&#39;m not sure what you mean by that, I have seen in tutorials that TS is compatible with ES6"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "reply_to_user": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "edited": false, "score": 0, "creation_date": 1562104681, "post_id": 56860404, "comment_id": 100270857, "body": "@mflow - TypeScript is an extension to the JavaScript language. In this way, it enhances JavaScript with features the base language does not have. In this regard, TypeScript is no different that jQuery. But, since some of the features augment or change the structure of the language, it first must be transpiled back in the base language to work."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562127174, "post_id": 56860404, "comment_id": 100274776, "body": "&quot;those are not real classes&quot; --- what is the officially accepted definition of the &quot;real class&quot;?"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562131078, "post_id": 56860404, "comment_id": 100275746, "body": "@zerkms - split hairs? <a href=\"https://www.ecma-international.org/ecma-262/8.0/#sec-objects\" rel=\"nofollow noreferrer\">The spec section on Objects</a> pretty much takes care of that in terms of comparing to other OO constructs. Don&#39;t get too hung up on the word &quot;real&quot;. Additionally, if you scan down to the definitions section you will not find the term &quot;Class&quot; defined in the spec."}, {"owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1562131246, "post_id": 56860404, "comment_id": 100275784, "body": "@zerkms Let me rephrase that again; see if it&#39;s better now."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562137409, "post_id": 56860404, "comment_id": 100278182, "body": "&quot;those are not real classes in the sense of classical inheritance&quot; --- those are surely <i>real</i> classes, it does not matter what mechanism is used under the hood, what matters is how you design your application using the tools you have."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562137514, "post_id": 56860404, "comment_id": 100278247, "body": "@RandyCasburn the <code>class</code> language construct semantics is defined at <a href=\"https://www.ecma-international.org/ecma-262/9.0/index.html#sec-class-definitions\" rel=\"nofollow noreferrer\">ecma-international.org/ecma-262/9.0/&hellip;</a> It says it&#39;s a class. It does not say it&#39;s &quot;real&quot; or &quot;unreal&quot; or &quot;not real&quot; or &quot;not classical&quot;. It&#39;s a class. I&#39;m using ES2015 since it was not even released, I&#39;ve read the spec way too many times, and I <b>never</b> needed to refer to prototypal nature of JS classes implementations: design matters, not nit picking. Those who call &quot;classes are not real&quot; make harm to the JS development community."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562163039, "post_id": 56860404, "comment_id": 100292738, "body": "@zerkms - appreciate your passion on the subject. I agree with you, that from a 50,000 foot view, it sounds like a class is a class. Unfortunately, the implementation details tell a different story."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1562163088, "post_id": 56860404, "comment_id": 100292765, "body": "@zerkms - A &quot;<i>class in the sense of classical inheritance</i>&quot; is an in-memory construct that is placed into operation as a functional unit of software (that normally carries the functions on behalf of the instances). The classes are instantiated into objects that carry state while the class retains the functionality. In JavaScript, this does not exist. In JavaScript the source code (semantics you mention) is reformulated into constructor functions with all features being placed into an object (a function object specifically) prior to use."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562195090, "post_id": 56860404, "comment_id": 100306259, "body": "@RandyCasburn why does it matter? For the last 5 years (I&#39;ve been using ES2015 since it was draft) I <b>NEVER</b> needed to focus on its prototypal construct: for me it&#39;s a building block with functions, fields and that might be inherited. Why anything else matters to you?"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 1, "creation_date": 1562195265, "post_id": 56860404, "comment_id": 100306293, "body": "It doesn&#39;t to me - it matters to the question askers - the students who have professors asking them to learn the technical differences - the job interviewee who anticipates questions about the technical implementation details associated with these things. I am very pragmatic (as it sounds you are too) - from that perspective it is just a means to an end - I agree. But I don&#39;t believe we should live within the boundaries of our own assumptions."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1562195377, "post_id": 56860404, "comment_id": 100306319, "body": "@RandyCasburn this is an awesome comment, really :-)"}], "tags": [], "owner": {"reputation": 1873, "user_id": 9953396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwX90.jpg?s=128&g=1", "display_name": "Mu-Tsun Tsai", "link": "https://stackoverflow.com/users/9953396/mu-tsun-tsai"}, "is_accepted": false, "score": 1, "last_activity_date": 1562196991, "last_edit_date": 1562196991, "creation_date": 1562103968, "answer_id": 56860404, "question_id": 56860264, "link": "https://stackoverflow.com/questions/56860264/typescript-questions-clarity-on-a-few-points/56860404#56860404", "title": "Typescript Questions - Clarity on a few points", "body": "<ol>\n<li>TS originally targets ES3, which doesn't have classes. Only ES6 and above have <code>Class</code> syntax, and still, those are not real classes in the sense of classical inheritance, but syntax bed sheet on top of prototypal inheritance. You can find more details in <a href=\"https://stackoverflow.com/questions/19633762/classical-inheritance-vs-prototypal-inheritance-in-javascript\">this question</a> and <a href=\"https://medium.com/javascript-scene/master-the-javascript-interview-what-s-the-difference-between-class-prototypal-inheritance-e4cd0a7562e9\" rel=\"nofollow noreferrer\">this page</a>.</li>\n<li>You must transpile TS into JS for it tor run; you can use the <code>--outFile</code> option to specify that you want to combine the output into just one file. See the <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">official docs</a> for more information.</li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 11727259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/708017f15afb7277e2ee2e227d875550?s=128&d=identicon&r=PG&f=1", "display_name": "mflow", "link": "https://stackoverflow.com/users/11727259/mflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562196991, "creation_date": 1562103055, "question_id": 56860264, "link": "https://stackoverflow.com/questions/56860264/typescript-questions-clarity-on-a-few-points", "title": "Typescript Questions - Clarity on a few points", "body": "<p>I'm watching a tutorial on TS. A few points the speaker said that I have questions about:</p>\n\n<p>1) Mentioned that with TS you can now use <code>Class Based Objects</code>, weren't classes always available in JS? Besides not having to deal with prototypes in TS, what is the difference?</p>\n\n<p>2) Used <code>tsc &lt;filename&gt;</code> and converted the TS file into the corresponding JS file, is this necessary for me to do for every TS file? Or is this just showing me what happens when it is converted?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1989, "user_id": 878906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe27d918fc8b4704b57e79db6bd75e2e?s=128&d=identicon&r=PG", "display_name": "Doug Coburn", "link": "https://stackoverflow.com/users/878906/doug-coburn"}, "is_accepted": false, "score": 0, "last_activity_date": 1562108426, "last_edit_date": 1562108426, "creation_date": 1562103574, "answer_id": 56860337, "question_id": 56860208, "link": "https://stackoverflow.com/questions/56860208/filtering-objects-array-by-nested-values/56860337#56860337", "title": "Filtering objects array by nested values", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const filterSelected = obj =&gt; {\r\n  return {\r\n    ...obj,\r\n    departments: obj.departments.map(dep =&gt; {\r\n      return {\r\n        ...dep,\r\n        courses: dep.courses.map(course =&gt; {\r\n          return {\r\n            ...course,\r\n            titles: course.titles.filter(title =&gt; title.selected),\r\n          };\r\n        }).filter(course =&gt; course.selected),\r\n      };\r\n    }).filter(dep =&gt; dep.selected),\r\n  };\r\n}\r\n\r\nconst all = {\r\n departments: [\r\n  {\r\n   name: \"AAA\",\r\n   selected: true,            \r\n   courses: [\r\n    {\r\n     name: \"course1\",\r\n     selected: true,\r\n     titles: [\r\n      {\r\n       name: \"title1\",\r\n       selected: true\r\n      }, {\r\n       name: \"title1\",\r\n       selected: false\r\n      }\r\n     ]\r\n    }, {\r\n     name: \"course2\",\r\n     selected: false,\r\n     titles: [\r\n      {\r\n       name: \"title1\",\r\n       selected: false\r\n      }\r\n     ]\r\n    },\r\n   ]\r\n  }\r\n ]\r\n};\r\n\r\nconsole.log(filterSelected(all));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3723, "user_id": 1209097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dkgb.jpg?s=128&g=1", "display_name": "ysf", "link": "https://stackoverflow.com/users/1209097/ysf"}, "is_accepted": false, "score": 1, "last_activity_date": 1562103744, "creation_date": 1562103744, "answer_id": 56860366, "question_id": 56860208, "link": "https://stackoverflow.com/questions/56860208/filtering-objects-array-by-nested-values/56860366#56860366", "title": "Filtering objects array by nested values", "body": "<p>your filtering logic seems to be correct. only problem is that code changes original array. in order to overcome this problem just create a deep clone of original array and run filtering logic on it</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  filterArray() {\n    const clone = JSON.parse(JSON.stringify(this.departments));\n    const depts = clone.filter((dept: any) =&gt; {\n      if (dept.selected) {\n        dept.courses = dept.courses.filter((course: any) =&gt; {\n          if (course.selected) {\n            if (course.titles) {\n              course.titles = course.titles.filter(({ selected }: any) =&gt; selected);\n            }\n            return true;\n          }\n          return false;\n        });\n        return true;\n      }\n      return false;\n    });\n\n    console.log(depts);\n  }\n</code></pre>\n\n<p>here is a demo <a href=\"https://stackblitz.com/edit/angular-xx1kp4\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-xx1kp4</a></p>\n"}, {"tags": [], "owner": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "is_accepted": true, "score": 1, "last_activity_date": 1562105048, "creation_date": 1562105048, "answer_id": 56860571, "question_id": 56860208, "link": "https://stackoverflow.com/questions/56860208/filtering-objects-array-by-nested-values/56860571#56860571", "title": "Filtering objects array by nested values", "body": "<p>Shorter alternative can be to use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Using_the_reviver_parameter\" rel=\"nofollow noreferrer\"><code>JSON.parse</code> reviver parameter</a> :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [{ name: \"AAA\", selected: true, courses: [{name: \"course1\", selected: true, titles: [{ name: \"title1\", selected: true }, { name: \"title1\", selected: false }]}, { name: \"course2\", selected: false, titles: [{ name: \"title1\", selected: false }]}]}]\r\n\r\nvar result = JSON.parse(JSON.stringify(arr), (k, v) =&gt; v.map ? v.filter(x =&gt; x.selected) : v)\r\n\r\nconsole.log( result )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 10842583, "user_type": "registered", "profile_image": "https://graph.facebook.com/2085280788451479/picture?type=large", "display_name": "Mateus Gon&#231;alves", "link": "https://stackoverflow.com/users/10842583/mateus-gon%c3%a7alves"}, "is_accepted": false, "score": 0, "last_activity_date": 1562110164, "creation_date": 1562110164, "answer_id": 56861172, "question_id": 56860208, "link": "https://stackoverflow.com/questions/56860208/filtering-objects-array-by-nested-values/56861172#56861172", "title": "Filtering objects array by nested values", "body": "<p>I don't know if you prefer an API false. Here is my tip: </p>\n\n<p>You can to use an API Json Server. </p>\n\n<p>Install JSON Server</p>\n\n<pre><code>npm install -g json-server\n</code></pre>\n\n<p>Create a db.json file with some data</p>\n\n<pre><code>{\n  \"posts\": [\n    { \"id\": 1, \"title\": \"json-server\", \"author\": \"typicode\" }\n  ],\n  \"comments\": [\n    { \"id\": 1, \"body\": \"some comment\", \"postId\": 1 }\n  ],\n  \"profile\": { \"name\": \"typicode\" }\n}\n</code></pre>\n\n<p>Start JSON Server</p>\n\n<pre><code>json-server --watch db.json\n</code></pre>\n\n<p>Now if you go to <code>http://localhost:3000/posts/1</code>, you'll get</p>\n\n<pre><code>{ \"id\": 1, \"title\": \"json-server\", \"author\": \"typicode\" }\n</code></pre>\n\n<p>you can search your array of objects using various shapes and it will come filtered. More about the API here: <a href=\"https://github.com/typicode/json-server\" rel=\"nofollow noreferrer\">https://github.com/typicode/json-server</a></p>\n\n<p>(Use a filter to do your searches on the Angular, it will bring you right what you need, use a method inside your component)</p>\n"}], "owner": {"reputation": 416, "user_id": 4165181, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/82b7f07da0725f4cd4cf4098244cb490?s=128&d=identicon&r=PG&f=1", "display_name": "nmy", "link": "https://stackoverflow.com/users/4165181/nmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "accepted_answer_id": 56860571, "answer_count": 4, "score": 0, "last_activity_date": 1562110164, "creation_date": 1562102642, "question_id": 56860208, "link": "https://stackoverflow.com/questions/56860208/filtering-objects-array-by-nested-values", "title": "Filtering objects array by nested values", "body": "<p>I'm trying to filter this objects array and keep the original one aside.</p>\n\n<pre><code>{\"departments\":\n [\n  {\n    \u201cname\": \u201cAAA\",\n    \u201cselected\u201d: true,            \n    \"courses\": [\n        {\n            \"name\": \u201ccourse1\",\n            \u201cselected\u201d: true,\n            \u201ctitles\u201d: \n            [{\n              \"name\": \u201ctitle1\",\n              \u201cselected\u201d: true\n             },\n             {\n             \"name\": \u201ctitle2\",\n             \u201cselected\u201d: false\n            }]\n         },\n         {\n            \"name\": \u201ccourse2\",\n            \u201cselected\u201d: false,\n            \u201ctitles\u201d: \n            [{\n              \"name\": \u201ctitle1\",\n              \u201cselected\u201d: false\n             }]   \n          }\n    ]\n },\n {\n    \u201cname\": \u201cBBB\",\n    \u201cselected\u201d: false,\n    \"courses\": [{...}]\n\n {...}    \n ]\n}\n</code></pre>\n\n<p>I want to find all the selected departments, courses and titles. And it should be in the same format.\nI tried with below code, but it change original data. I want to keep that aside too.</p>\n\n<pre><code>const depts = departments.filter((dept: any) =&gt; {\n    if (dept.selected) {\n      dept.courses = dept.courses.filter((course: any) =&gt; {\n        if (course.selected) {\n          if (course.titles) {\n            course.titles = course.titles.filter(({selected}: any) =&gt; selected);\n          }\n          return true;\n        }\n        return false;\n      });\n      return true;\n    }\n    return false;\n  });\n</code></pre>\n\n<p>What would be considered the best solution in this case?</p>\n"}, {"tags": ["typescript", "constructor", "console.log"], "comments": [{"owner": {"reputation": 10523, "user_id": 806963, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gSzvm.jpg?s=128&g=1", "display_name": "Stav Alfi", "link": "https://stackoverflow.com/users/806963/stav-alfi"}, "edited": false, "score": 0, "creation_date": 1562102633, "post_id": 56859834, "comment_id": 100270308, "body": "there is no typescript here. I suggest that you will learn javascript first."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 8495609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66900acd679eb43146fed4e04e7ed9f?s=128&d=identicon&r=PG&f=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/8495609/karl"}, "is_accepted": false, "score": 1, "last_activity_date": 1562100425, "creation_date": 1562100425, "answer_id": 56859846, "question_id": 56859834, "link": "https://stackoverflow.com/questions/56859834/how-to-run-console-log-in-constuctor-in-typescript/56859846#56859846", "title": "How to run console.log in constuctor in TypeScript?", "body": "<p>Oh, i need to instantiate the class!</p>\n"}], "owner": {"reputation": 53, "user_id": 8495609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66900acd679eb43146fed4e04e7ed9f?s=128&d=identicon&r=PG&f=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/8495609/karl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1562100425, "creation_date": 1562100370, "question_id": 56859834, "link": "https://stackoverflow.com/questions/56859834/how-to-run-console-log-in-constuctor-in-typescript", "title": "How to run console.log in constuctor in TypeScript?", "body": "<p>As the title says, I can't run console.log from constructor. There's no compiler error. When the compiled code runs in the browser, there is nothing written in the console. No error and not \"Hello World\".</p>\n\n<p>Here is the code:</p>\n\n<pre><code>class C {\n    constructor() {\n        console.log(\"Hello World\");\n    }\n}\n</code></pre>\n\n<p>When the class and constructor are removed, it works.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6365816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ektXZsT0_5s/AAAAAAAAAAI/AAAAAAAAACk/caJcnFecbf4/photo.jpg?sz=128", "display_name": "Antoine Olivier", "link": "https://stackoverflow.com/users/6365816/antoine-olivier"}, "edited": false, "score": 0, "creation_date": 1562101430, "post_id": 56860003, "comment_id": 100269953, "body": "I&#39;m ashamed it looked like a type error but the solution was simple."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 63, "user_id": 6365816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ektXZsT0_5s/AAAAAAAAAAI/AAAAAAAAACk/caJcnFecbf4/photo.jpg?sz=128", "display_name": "Antoine Olivier", "link": "https://stackoverflow.com/users/6365816/antoine-olivier"}, "edited": false, "score": 0, "creation_date": 1562101472, "post_id": 56860003, "comment_id": 100269967, "body": "That reminds me of once asking a question once about object references that seemed very obvious in hindsight."}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 2, "last_activity_date": 1562101248, "creation_date": 1562101248, "answer_id": 56860003, "question_id": 56859747, "link": "https://stackoverflow.com/questions/56859747/how-do-i-make-an-array-of-undefined-classes-implementing-a-specific-interface-in/56860003#56860003", "title": "How do I make an array of undefined classes implementing a specific interface in typescript?", "body": "<p>If you want to do \"an array of arrays\" then you need to type it with <code>[][]</code> instead of <code>[]</code>.</p>\n\n<pre><code>const arrayToo: MyInterface[][] = [\n    [new MyClass1(), new MyClass1()]\n]\n</code></pre>\n\n<p>Here it is <a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgLIE8CS5rycgbwFgAoZc5ABygHtKBGALmQGcwpQBzAblIuRgBXEAibIAFAEpkAXgB8yAG41gAE14kAvqVIIANnBYs06AMIGj9ZMAC2lPRBsRwxjNkixEKYmQrU6YmwcIJyyyADkinB6ghD04Rr8QiJWMhLS8oSaGtokujQgbMhwUFBw6MxuOJ5IANoAug1htXwUtSAQAO4m5oYs9FIANMgd3Ri9llL1pPXIpEA\" rel=\"nofollow noreferrer\">in the playground</a>.</p>\n"}], "owner": {"reputation": 63, "user_id": 6365816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ektXZsT0_5s/AAAAAAAAAAI/AAAAAAAAACk/caJcnFecbf4/photo.jpg?sz=128", "display_name": "Antoine Olivier", "link": "https://stackoverflow.com/users/6365816/antoine-olivier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14, "favorite_count": 0, "accepted_answer_id": 56860003, "answer_count": 1, "score": 1, "last_activity_date": 1562101248, "creation_date": 1562099899, "question_id": 56859747, "link": "https://stackoverflow.com/questions/56859747/how-do-i-make-an-array-of-undefined-classes-implementing-a-specific-interface-in", "title": "How do I make an array of undefined classes implementing a specific interface in typescript?", "body": "<p>I have an interface with some properties and functions specifications and some classes that implement this interface. Then I'd like to do an array of arrays containing either of those classes. But when I do this : </p>\n\n<pre><code>array: MyInterface[];\n</code></pre>\n\n<p>And then populate it (for exemple with only one class) :</p>\n\n<pre><code>array: MyInterface[] = [[new MyClass1(), new MyClass1(), ...], ...];\n</code></pre>\n\n<p>I get an error that MyClass1[] is not MyInterface. How am I supposed to do that sort of sutff ? And if it's impossible in typescript is there a way to do it ?</p>\n"}]