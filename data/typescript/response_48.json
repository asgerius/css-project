[{"tags": ["javascript", "reactjs", "typescript", "webpack"], "comments": [{"owner": {"reputation": 1157, "user_id": 2142067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbf531306c2470c0f4cb13ff216349fc?s=128&d=identicon&r=PG", "display_name": "Piotr Leniartek", "link": "https://stackoverflow.com/users/2142067/piotr-leniartek"}, "reply_to_user": {"reputation": 2847, "user_id": 488325, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/coYyi.jpg?s=128&g=1", "display_name": "Yoann", "link": "https://stackoverflow.com/users/488325/yoann"}, "edited": false, "score": 1, "creation_date": 1449700257, "post_id": 34189882, "comment_id": 56126863, "body": "@YoannM nope <code>error TS2339: Property &#39;Espago&#39; does not exist on type &#39;Window&#39;.</code>"}, {"owner": {"reputation": 2847, "user_id": 488325, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/coYyi.jpg?s=128&g=1", "display_name": "Yoann", "link": "https://stackoverflow.com/users/488325/yoann"}, "edited": false, "score": 0, "creation_date": 1449756264, "post_id": 34189882, "comment_id": 56152186, "body": "Ok... I will remove my comment to avoid any confusion."}], "answers": [{"comments": [{"owner": {"reputation": 1157, "user_id": 2142067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbf531306c2470c0f4cb13ff216349fc?s=128&d=identicon&r=PG", "display_name": "Piotr Leniartek", "link": "https://stackoverflow.com/users/2142067/piotr-leniartek"}, "edited": false, "score": 0, "creation_date": 1449700459, "post_id": 34190052, "comment_id": 56126976, "body": "Perfect! Thanks for reference."}], "tags": [], "owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "is_accepted": true, "score": 1, "last_activity_date": 1449699441, "last_edit_date": 1495540758, "creation_date": 1449699441, "answer_id": 34190052, "question_id": 34189882, "link": "https://stackoverflow.com/questions/34189882/using-globally-defined-script-inside-the-component/34190052#34190052", "title": "Using globally defined script inside the component", "body": "<p>You have to tell TypeScript that it's defined somewhere else.</p>\n\n<pre><code>declare var Espago: any;\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/a/13252853/227299\">https://stackoverflow.com/a/13252853/227299</a></p>\n"}], "owner": {"reputation": 1157, "user_id": 2142067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbf531306c2470c0f4cb13ff216349fc?s=128&d=identicon&r=PG", "display_name": "Piotr Leniartek", "link": "https://stackoverflow.com/users/2142067/piotr-leniartek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 34190052, "answer_count": 1, "score": 2, "last_activity_date": 1449700146, "creation_date": 1449698777, "last_edit_date": 1449700146, "question_id": 34189882, "link": "https://stackoverflow.com/questions/34189882/using-globally-defined-script-inside-the-component", "title": "Using globally defined script inside the component", "body": "<p>I am using global script declaration inside <code>index.html</code></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;script src='https://js.espago.com/espago-1.1.js' type='text/javascript'&gt;&lt;/script&gt;\n    ...\n    &lt;/head&gt;\n&lt;body&gt;\n    ...\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>Now I want to use it inside the component.</p>\n\n<pre><code>import * as React from \"react\";\nimport * as $ from \"jquery\";\n\n//how to import Espago?\n\nexport default class EspagoPayment extends React.Component&lt;any, any&gt; {\n    componentDidMount() {\n        $(\"#espago_form\").submit(function(event){\n             var espago = new Espago({public_key: 'xxx', custom: true, live: false, api_version: '3'});\n             espago.create_token({\n                    ...\n             });\n        });\n    }\n\n    render() {\n        return (\n                ...\n        );\n    }\n}\n</code></pre>\n\n<p>Webpack gives an error on build.</p>\n\n<blockquote>\n  <p>error TS2304: Cannot find name 'Espago'</p>\n</blockquote>\n\n<p>How to get <code>Espago</code> visible inside the component?</p>\n\n<p>Maybe there is other way to link to online js resource? </p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1449696151, "post_id": 34188353, "comment_id": 56124730, "body": "How does that bring any benefit? You can easily add <code>&quot;use strict&quot;;</code> to the top of each file in a build script (and I can understand the need for that when trying to get the code to run in certain environments), but the other changes you are talking about require either parsing the javascript code and fixing the linting errors, or changing the compiler source (all this would slow down the build and be quite a lot of work to maintain); however, to partly echo what mk said in their answer, I would suggest if you&#39;re going to write code in TypeScript that you focus on the TypeScript and use tslint."}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 2, "creation_date": 1449701233, "post_id": 34188353, "comment_id": 56127322, "body": "You can also use <code>--noEmitHelpers</code> and provide your own well-formatted <code>__extends</code> function somewhere at global scope."}], "answers": [{"comments": [{"owner": {"reputation": 643, "user_id": 20497, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4ea8370a9a5ef2e991d9151f5466e025?s=128&d=identicon&r=PG", "display_name": "Jough Dempsey", "link": "https://stackoverflow.com/users/20497/jough-dempsey"}, "edited": false, "score": 0, "creation_date": 1449695640, "post_id": 34188697, "comment_id": 56124469, "body": "Well, using named functional expressions rather than unnamed anonymous functions DOES have a production impact, though, in that the named function can be traced back to the source whereas all anonymous functions have the same name."}, {"owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "reply_to_user": {"reputation": 643, "user_id": 20497, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4ea8370a9a5ef2e991d9151f5466e025?s=128&d=identicon&r=PG", "display_name": "Jough Dempsey", "link": "https://stackoverflow.com/users/20497/jough-dempsey"}, "edited": false, "score": 3, "creation_date": 1449697553, "post_id": 34188697, "comment_id": 56125496, "body": "@JoughDempsey That extension function added by TS should never appear in a stack trace, so you&#39;re safe, right? You can still freely add a name to any typescript function, and it will be preserved. I mean, in any case, the answer is still &quot;you can&#39;t do that, sorry&quot;, I&#39;m just explaining why it&#39;s not implemented and what you can do instead."}, {"owner": {"reputation": 643, "user_id": 20497, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4ea8370a9a5ef2e991d9151f5466e025?s=128&d=identicon&r=PG", "display_name": "Jough Dempsey", "link": "https://stackoverflow.com/users/20497/jough-dempsey"}, "edited": false, "score": 0, "creation_date": 1449764211, "post_id": 34188697, "comment_id": 56157899, "body": "You can add a name to any function that you write, but when using class inheritance TypeScript will generate unnamed anonymous functions instead of named function expressions for any generated code, including all constructors, which means that any runtime errors will be simply Anonymous. It sounds like there&#39;s no way to generate better code, though, other than submitting pull requests to the TypeScript compiler itself."}, {"owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "reply_to_user": {"reputation": 643, "user_id": 20497, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4ea8370a9a5ef2e991d9151f5466e025?s=128&d=identicon&r=PG", "display_name": "Jough Dempsey", "link": "https://stackoverflow.com/users/20497/jough-dempsey"}, "edited": false, "score": 0, "creation_date": 1449765212, "post_id": 34188697, "comment_id": 56158596, "body": "@JoughDempsey <a href=\"http://www.typescriptlang.org/Playground#src=class%20Foo%20%7B%0D%0A%09constructor(s%3Astring)%20%7B%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">TypeScript does not generate anonymous functions or constructors, names are preserved</a>. You should check for some sort of rogue minifier."}, {"owner": {"reputation": 643, "user_id": 20497, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4ea8370a9a5ef2e991d9151f5466e025?s=128&d=identicon&r=PG", "display_name": "Jough Dempsey", "link": "https://stackoverflow.com/users/20497/jough-dempsey"}, "edited": false, "score": 0, "creation_date": 1449779474, "post_id": 34188697, "comment_id": 56166460, "body": "It sure does! Try extending class Foo: class Foo { \tconstructor(s:string) { } }  class Bar extends Foo { \tconstructor(s:string){ } }  See: <a href=\"http://www.typescriptlang.org/Playground#src=class%20Foo%20%7B%0D%0A%09constructor(s%3Astring)%20%7B%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20Bar%20extends%20Foo%20%7B%0D%0A%09constructor(s%3Astring)%7B%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">typescriptlang.org/&hellip;</a>"}], "tags": [], "owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "is_accepted": false, "score": 4, "last_activity_date": 1449694205, "creation_date": 1449694205, "answer_id": 34188697, "question_id": 34188353, "link": "https://stackoverflow.com/questions/34188353/typescript-compiler-options-to-generate-better-quality-javascript/34188697#34188697", "title": "TypeScript Compiler Options to Generate Better Quality JavaScript?", "body": "<p>The style standards are there to help programmers read code and avoid mistakes. You'll never be reading or otherwise interacting with compiled code, because you should have source maps. If you're never going to see it (writing, debug, or stack traces), then why does it need to look good? It doesn't, so this isn't implemented.</p>\n\n<p>What you can and should do, though, is set up JSHint to ignore js files produced by TypeScript. </p>\n"}], "owner": {"reputation": 643, "user_id": 20497, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4ea8370a9a5ef2e991d9151f5466e025?s=128&d=identicon&r=PG", "display_name": "Jough Dempsey", "link": "https://stackoverflow.com/users/20497/jough-dempsey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449697092, "creation_date": 1449692916, "last_edit_date": 1449697092, "question_id": 34188353, "link": "https://stackoverflow.com/questions/34188353/typescript-compiler-options-to-generate-better-quality-javascript", "title": "TypeScript Compiler Options to Generate Better Quality JavaScript?", "body": "<p>Is there an option to tell the TypeScript compiler to obey certain \"rules\" such as naming anonymous functions, always add the \"use strict\" declaration, and to always use braces?</p>\n\n<p>For example, whenever you use the \"extends\" keyword for class inheritance, for instance, TypeScript will output this function:</p>\n\n<pre><code>var __extends = (this &amp;&amp; this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n</code></pre>\n\n<p>My team's <a href=\"http://jshint.com/\" rel=\"nofollow\">JSHint</a> rules require \"curly\" braces around conditionals, and require named anonymous functions (technically \"named functional expressions\"). Basically I'd like TypeScript's transpiler to produce better quality JavaScript code, in terms of style as opposed to efficiency (although well-performing code is also important, of course).</p>\n\n<p>We can use <a href=\"https://www.npmjs.com/package/tslint\" rel=\"nofollow\">tslint</a> to lint our TypeScript, but I'd like to also ensure that the generated code also meets certain quality standards.</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1449699417, "post_id": 34188256, "comment_id": 56126480, "body": "That&#39;s incorrect. Typescript treats each file as an individual unit. (except for declaration files). What is the value/type of <code>logger</code> in modelB? You should be able to see it in your IDE by hovering on it."}, {"owner": {"reputation": 6186, "user_id": 911849, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/263640a327ec44cb772feda861a63857?s=128&d=identicon&r=PG", "display_name": "gerasalus", "link": "https://stackoverflow.com/users/911849/gerasalus"}, "reply_to_user": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1449736705, "post_id": 34188256, "comment_id": 56139708, "body": "it says var logger: any. I&#39;ve created a demo project, see updated question"}, {"owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "edited": false, "score": 0, "creation_date": 1449784451, "post_id": 34188256, "comment_id": 56169282, "body": "The &quot;update 2&quot; statement is true, but not when targeting node. It will work the same way node does, that is; each file is its own &quot;module&quot;, only available in another file if imported correctly."}, {"owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "edited": false, "score": 0, "creation_date": 1449791193, "post_id": 34188256, "comment_id": 56172193, "body": "I updated my answer, you have managed to create yourself an interesting case. But the root of it is that every file is its own closed scope when compiling for commonjs, therefore you always need to import a file into another file where you need access to it."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1449827136, "post_id": 34188256, "comment_id": 56184859, "body": "You&#39;re missing the &quot;module&quot; config var, so Typescript treats your whole project as one file. Check my answer."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1449827222, "post_id": 34188256, "comment_id": 56184916, "body": "This is actually documented by the way (but I can&#39;t remember where). It says that when don&#39;t specify a &quot;module&quot; config Typescript expects you to load all files in your browser. Nodejs projects should always use &quot;commonjs&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 6186, "user_id": 911849, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/263640a327ec44cb772feda861a63857?s=128&d=identicon&r=PG", "display_name": "gerasalus", "link": "https://stackoverflow.com/users/911849/gerasalus"}, "edited": false, "score": 0, "creation_date": 1449734687, "post_id": 34191341, "comment_id": 56138677, "body": "Yes, well this involves complete rewrite of modules, which as I said, i would like to avoid, cause i have hundreds of them, and migration would take too much time."}], "tags": [], "owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "is_accepted": false, "score": 0, "last_activity_date": 1449792222, "last_edit_date": 1449792222, "creation_date": 1449705475, "answer_id": 34191341, "question_id": 34188256, "link": "https://stackoverflow.com/questions/34188256/migrating-node-code-base-to-typescript-global-scope/34191341#34191341", "title": "Migrating node code base to TypeScript: global scope?", "body": "<p>Louy is right. Every file (when compiling for node with CommonJS) is created like its own module. Just like the normal case in node. </p>\n\n<p>So to get this to work you could do something like this:</p>\n\n<p><em>logger.ts</em></p>\n\n<pre><code>export default (str: string) =&gt; console.log(str);\n</code></pre>\n\n<p><em>moduleA.ts</em></p>\n\n<pre><code>import logger from './logger';\n\nexport var someAction = () =&gt; {\n     logger(\"i'm in module a\");\n}\n</code></pre>\n\n<p><em>moduleB.ts</em></p>\n\n<pre><code>import logger from './logger';\n\nexport var someOtherAction = () =&gt; {\n    logger(\"i'm in module B\");\n}\n</code></pre>\n\n<p><em>moduleC.ts</em></p>\n\n<pre><code>import { someAction } from './moduleA';  \nimport { someOtherAction } from './moduleB';\n\nsomeAction();\nsomeOtherAction();\n</code></pre>\n\n<p>I also used a <em>tsconfig.json</em>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"noImplicitAny\": true\n    },\n    \"files\": [\n        \"logger.ts\",\n        \"moduleA.ts\",\n        \"moduleB.ts\",\n        \"moduleC.ts\"\n    ]\n}\n</code></pre>\n\n<p>Compiling this (just type <em>tsc</em> in the folder containing the tsconfig.json) results in one .js file per .ts file. It should compile and run just fine. The main thing you need to take from this is that each file is its own self contained module when compiling for node/CommonJS.</p>\n\n<p>EDIT Due to edits in question:</p>\n\n<p>Ok after looking at your code again there is a couple of reasons that this compiles but fail to run properly:</p>\n\n<ol>\n<li><p>If you send a group of files to the compiler all references in all of those files, and all of the variables in the global scope will be available in all .ts files sent to the compiler. This is confusing and sometimes regrettable, but at the moment it is how things work. This in your case results in that the <code>require</code> function defined in the global scope in node.d.ts is available in all .ts files, not only in <em>moduleC.ts</em>; if the reference is removed from <em>moduleC.ts</em> you will get an error in logger.ts because the require function is not defined for example. It also results in <code>var logger = ..</code> defined in <em>logger.ts</em> will be seen as available in the other .ts files. Typescript assumes that it will be available at run time.. not ideal when compiling for node, but not a problem when you are writing actual typescript not trying to compile pure javascript. In fact, because it is pure javascript the compiler does not recognise it as a node module, and treats it as a generic javascript file.</p></li>\n<li><p>When compiling with commonjs each file is compiled on its own by the typescript compiler. If any <em>references</em> or <em>imports</em> are found those will be followed and used to type and verify the code of course, but the compilation is still done on a per file basis (<code>var something = require('./whatever');</code> is not an import, it is interpreted by the compiler as a variable being assigned by a function taking a string as an argument.) </p></li>\n</ol>\n\n<p>So thats why it compiles, lets go on to why its not working then. </p>\n\n<p>Each file outputted by the compiler in commonjs mode is its own \"node-module\". If you want to have access to one module from within another in node (this has nothing to do with typescript really, it is just how node works) you will need to require that file. in <em>moduleB.ts</em> (and in moduleB.js for that matter) there is no indication to node to say what logger is. So you simply need to require logger.</p>\n\n<p>In the example you are referring to in your second update of the question commonjs is not being used, and further more it is in connection with typescripts internal modules - not node modules which is a completely different thing.</p>\n\n<p>So the simple answer is, that if you want to use one file from within a another in node you have to require it. Simply uncommenting the commented reference in <em>moduleB.ts</em> should get everything up and running. </p>\n\n<p>In the current state of your code the typescript compiler is not helping you much, because it can't really. The code is close to pure javascript, to get decent help from the compiler you will need to start converting it to typescript. The first step might be to replace <code>var asdf = require(\"\")</code> with <code>import asdf = require(\"\");</code>, this will make it possible for the compiler to check the references and help you a lot in return.</p>\n\n<p>I realise this is a wordy answer, but you managed to create yourself a confusing and difficult to explain behaviour. </p>\n"}, {"comments": [{"owner": {"reputation": 6186, "user_id": 911849, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/263640a327ec44cb772feda861a63857?s=128&d=identicon&r=PG", "display_name": "gerasalus", "link": "https://stackoverflow.com/users/911849/gerasalus"}, "edited": false, "score": 0, "creation_date": 1449831240, "post_id": 34220393, "comment_id": 56187522, "body": "And that makes no difference. Still compiles fine :)"}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "reply_to_user": {"reputation": 6186, "user_id": 911849, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/263640a327ec44cb772feda861a63857?s=128&d=identicon&r=PG", "display_name": "gerasalus", "link": "https://stackoverflow.com/users/911849/gerasalus"}, "edited": false, "score": 0, "creation_date": 1449841800, "post_id": 34220393, "comment_id": 56194030, "body": "well, these files are still treated as internal modules because they have no import/export statements. &quot;exports.someAction&quot; doesn&#39;t work. You need to use &quot;export function someAction()&quot;. Add any import/export statement to that file and the issue will appear."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "reply_to_user": {"reputation": 6186, "user_id": 911849, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/263640a327ec44cb772feda861a63857?s=128&d=identicon&r=PG", "display_name": "gerasalus", "link": "https://stackoverflow.com/users/911849/gerasalus"}, "edited": false, "score": 0, "creation_date": 1449841965, "post_id": 34220393, "comment_id": 56194115, "body": "When you say &quot;var something&quot; in an internal module, it gets recognised as a global variable. I found this really confusing at first \u2014to understand the difference between internal and external modules\u2014 but in the end this is how things are."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "reply_to_user": {"reputation": 6186, "user_id": 911849, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/263640a327ec44cb772feda861a63857?s=128&d=identicon&r=PG", "display_name": "gerasalus", "link": "https://stackoverflow.com/users/911849/gerasalus"}, "edited": false, "score": 0, "creation_date": 1449842031, "post_id": 34220393, "comment_id": 56194148, "body": "and btw, never use &quot;var&quot;. replace everything with &quot;let&quot; and change some to &quot;const&quot;."}, {"owner": {"reputation": 6186, "user_id": 911849, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/263640a327ec44cb772feda861a63857?s=128&d=identicon&r=PG", "display_name": "gerasalus", "link": "https://stackoverflow.com/users/911849/gerasalus"}, "edited": false, "score": 0, "creation_date": 1449865138, "post_id": 34220393, "comment_id": 56207517, "body": "Everything is fine, but we&#39;re now starting to talk about how typescript works, and missing the main point here - i have hundreds of files like these, and i don&#39;t have the luxury to migrate them all to typescript export syntax, or suddenly change everything to let or const. Luckily everything is covered with tests, so i&#39;ll have to live with that."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "reply_to_user": {"reputation": 6186, "user_id": 911849, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/263640a327ec44cb772feda861a63857?s=128&d=identicon&r=PG", "display_name": "gerasalus", "link": "https://stackoverflow.com/users/911849/gerasalus"}, "edited": false, "score": 0, "creation_date": 1449865358, "post_id": 34220393, "comment_id": 56207628, "body": "I understand you. just do a global search for &quot;var &quot; and replace it with &quot;let &quot;. same thing for &quot;exports&quot;. it&#39;s the only solution I know."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "reply_to_user": {"reputation": 6186, "user_id": 911849, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/263640a327ec44cb772feda861a63857?s=128&d=identicon&r=PG", "display_name": "gerasalus", "link": "https://stackoverflow.com/users/911849/gerasalus"}, "edited": false, "score": 0, "creation_date": 1449865411, "post_id": 34220393, "comment_id": 56207658, "body": "I think a regex search/replace for <code>var ... = require(</code> to <code>import ... = require</code> wouldn&#39;t be hard to do."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "reply_to_user": {"reputation": 6186, "user_id": 911849, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/263640a327ec44cb772feda861a63857?s=128&d=identicon&r=PG", "display_name": "gerasalus", "link": "https://stackoverflow.com/users/911849/gerasalus"}, "edited": false, "score": 0, "creation_date": 1449865440, "post_id": 34220393, "comment_id": 56207671, "body": "the latter should be enough btw. skip the &quot;let&quot; part."}], "tags": [], "owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "is_accepted": false, "score": 0, "last_activity_date": 1449827050, "creation_date": 1449827050, "answer_id": 34220393, "question_id": 34188256, "link": "https://stackoverflow.com/questions/34188256/migrating-node-code-base-to-typescript-global-scope/34220393#34220393", "title": "Migrating node code base to TypeScript: global scope?", "body": "<p>There's something called internal/external modules in typescript.</p>\n\n<p>Internal modules can declare stuff that can be referenced everywhere in the project. Think about typings/lib files, you should be able to reference things like <code>Error</code> and <code>String</code> everywhere in your project.</p>\n\n<p>External modules on the other hand have to be imported to be referenced. This is what you want to do.</p>\n\n<p>The difference between internal and external modules is that external ones use <code>import</code> and <code>export</code>. \nInternal ones use <code>declare module/namespace/var</code>.</p>\n\n<p>Just add <code>\"compilerOptions\": {\"module\": \"commonjs\"}</code> to your <code>tsconfig.json</code> file to enable external modules.</p>\n"}], "owner": {"reputation": 6186, "user_id": 911849, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/263640a327ec44cb772feda861a63857?s=128&d=identicon&r=PG", "display_name": "gerasalus", "link": "https://stackoverflow.com/users/911849/gerasalus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 450, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1449827050, "creation_date": 1449692495, "last_edit_date": 1449780066, "question_id": 34188256, "link": "https://stackoverflow.com/questions/34188256/migrating-node-code-base-to-typescript-global-scope", "title": "Migrating node code base to TypeScript: global scope?", "body": "<p>I'm trying to migrate large node codebase to TypeScript. To make things easier, I just want to start by renaming .js files to .ts files, fix any semantic issues, without much refactoring, and then gradually improve the code base.</p>\n\n<p>Let's consider the following example:</p>\n\n<p>logger.js:</p>\n\n<pre><code>exports = function(string) {\n    console.log(string);\n}\n</code></pre>\n\n<p>moduleA.js:</p>\n\n<pre><code>var logger = require('./logger')    \nexports.someAction = function() {\n    logger.log('i'm in module a')\n}\n</code></pre>\n\n<p>moduleB.js:</p>\n\n<pre><code>//var logger = require('./logger')    \nexports.someOtherAction = function() {\n    logger.log('i'm in module B')\n}\n</code></pre>\n\n<p>moduleC.js:</p>\n\n<pre><code>var moduleA = require('./moduleA');  \nvar moduleB = require('./moduleB');  \nexports.run = function(string) {\n    moduleA.someAction();\n    moduleB.someOtherAction(); //exception here - logger not defined\n}\n</code></pre>\n\n<p>So if i execute moduleB.someOtherAction() i'll get an exception, because logger is not defined in scope in moduleB.js. </p>\n\n<p>But typescript compiles just fine, because logger is declared in moduleA, and this is because (if i understand correctly) typescript treats all of those files as a single compilation unit.  </p>\n\n<p>So is there anyway to avoid this without much refactoring?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I've created a sample project <a href=\"https://github.com/gytisgreitai/ts-demo\" rel=\"nofollow\">which can be found here</a>\nIf i run typescript compiler, i get no errors, though logger is commented out in moduleB.ts:</p>\n\n<pre><code>g@w (master) ~/projects/ts-demo: gulp generate\n[10:39:46] Using gulpfile ~/projects/ts-demo/gulpfile.js\n[10:39:46] Starting 'generate'...\n[10:39:46] Starting 'clean'...\n[10:39:46] Finished 'clean' after 11 ms\n[10:39:46] Starting '&lt;anonymous&gt;'...\n[10:39:47] Finished '&lt;anonymous&gt;' after 1.4 s\n[10:39:47] Finished 'generate' after 1.41 s\ng@w (master) ~/projects/ts-demo: \n</code></pre>\n\n<p><strong>Update 2</strong></p>\n\n<p>Ok, so this is expected behaviour as stated in <a href=\"https://github.com/basarat/typescript-book/blob/master/docs/project/modules.md\" rel=\"nofollow\">TypeScript deep dive book</a>:</p>\n\n<blockquote>\n  <p>If you now create a new file bar.ts in the same project, you will be allowed by the TypeScript type system to use the variable foo from foo.ts as if it was available globally</p>\n</blockquote>\n"}, {"tags": ["javascript", "typescript", "promise"], "answers": [{"comments": [{"owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "edited": false, "score": 0, "creation_date": 1449689302, "post_id": 34187252, "comment_id": 56120968, "body": "Incidentally, the <code>.get().then(callback)</code> would behave almost identically to <code>.initialize().then(callback)</code>"}], "tags": [], "owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "is_accepted": false, "score": 1, "last_activity_date": 1449688908, "creation_date": 1449688908, "answer_id": 34187252, "question_id": 34186586, "link": "https://stackoverflow.com/questions/34186586/asynchronous-typescript-javascript-and-dependency-injection/34187252#34187252", "title": "Asynchronous Typescript/JavaScript and Dependency Injection", "body": "<p>I think this is more a question of how your framework works with dependency injection. <a href=\"https://github.com/matthewjh/Syringe#lazy-dependencies\" rel=\"nofollow\">Syringe</a> lets you inject a \"lazy\" dependency, which you have to call <code>.get().then(callback)</code> on in order to use that dependency. </p>\n\n<p>In general, though, yes: any time you need to use something that gets produced by an asynchronous operation, you're going to need to access it through the promise interface. This will become syntactically easier once TypeScript adds better <code>async/await</code> support, but you can't just assume you've got access to a resource for injection if that resource is produced via an asynchronous operation.</p>\n"}, {"comments": [{"owner": {"reputation": 2865, "user_id": 1289657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z2dNx.png?s=128&g=1", "display_name": "Macil", "link": "https://stackoverflow.com/users/1289657/macil"}, "edited": false, "score": 0, "creation_date": 1449690491, "post_id": 34187296, "comment_id": 56121629, "body": "#1 can&#39;t work because constructors can&#39;t be asynchronous functions."}, {"owner": {"reputation": 69684, "user_id": 16241, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de3fa0861da7fd9ae3abc120ff6d957f?s=128&d=identicon&r=PG", "display_name": "Vaccano", "link": "https://stackoverflow.com/users/16241/vaccano"}, "edited": false, "score": 1, "creation_date": 1449708347, "post_id": 34187296, "comment_id": 56129952, "body": "I figured out a way to make my call before Aurelia shows the UI.  (In the then of <code>aurelia.start().then(a =&gt; {....</code>)"}], "tags": [], "owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "is_accepted": true, "score": 1, "last_activity_date": 1449690911, "last_edit_date": 1449690911, "creation_date": 1449689027, "answer_id": 34187296, "question_id": 34186586, "link": "https://stackoverflow.com/questions/34186586/asynchronous-typescript-javascript-and-dependency-injection/34187296#34187296", "title": "Asynchronous Typescript/JavaScript and Dependency Injection", "body": "<p>The problem is that <code>ServiceActions</code> is waiting for a promise to be fulfilled before it can be usable. There are several solutions:</p>\n\n<ol>\n<li>Wait for ES7, which lets us <code>await</code> the results of a promise. Your <code>createNewBox</code> function will wait patiently for the promise to finish before returning. This is the cleanest solution.</li>\n<li>Figure out a way to pass the results of <code>fetchMetadata</code> into the constructor (possibly making the call before running your DI framework initialization). This avoids the problem.</li>\n<li>Do what you suggest with <code>initialize().then</code>, though it seems mildly error-prone (someone might forget to wrap code in init).</li>\n<li>Create an <code>onInit</code> function in <code>ServiceActions</code> that takes a callback - it's a mildly refactored version of what you're suggesting.</li>\n<li>Have <code>createNewBox</code> return a promise to hand over a new <code>Box</code> once <code>ServiceActions</code> is done waiting for the <code>fetchMetadata</code> promise. This might pollute everything with many promises.</li>\n</ol>\n\n<p>I would try for option 2, especially since you seem to need to call this only once.</p>\n"}], "owner": {"reputation": 69684, "user_id": 16241, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de3fa0861da7fd9ae3abc120ff6d957f?s=128&d=identicon&r=PG", "display_name": "Vaccano", "link": "https://stackoverflow.com/users/16241/vaccano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 0, "accepted_answer_id": 34187296, "answer_count": 2, "score": 1, "last_activity_date": 1449690911, "creation_date": 1449686624, "question_id": 34186586, "link": "https://stackoverflow.com/questions/34186586/asynchronous-typescript-javascript-and-dependency-injection", "title": "Asynchronous Typescript/JavaScript and Dependency Injection", "body": "<p>I am fairly new to Typescript/JavaScript.  So this probably a noob question:</p>\n\n<p>I have a Typescript class, lets call it <code>serviceActions</code>.</p>\n\n<p>In the <code>constructor</code> of that class I make a connection to a Web API service via BreezeJS.  I also get the metadata for service (<code>fetchMetadata</code>).</p>\n\n<p>However, the <code>fetchMetadata</code> call returns a promise.  So the <code>constructor</code> returns before it is done.</p>\n\n<p>Now this <code>serviceActions</code> class is injected (via Aurelia) into another class:</p>\n\n<pre><code>@autoinject\nexport class BoxVm {\n    constructor(serviceActions: serviceActions) { \n        this.box = this.serviceActions.createNewBox();\n    }\n</code></pre>\n\n<p>So I never really get to await anything.  So when the <code>createNewBox</code> is called, the <code>fetchMetadata</code> call is not done, and the call errors out.</p>\n\n<p>Now I could put in an <code>initialize</code> method on my <code>ServiceActions</code>class.  But then I have to wrap everything I do in my BoxVM in the promise for that.  All calls to get data, save data create any entity would have to be done in a call to <code>initalize.then</code>.</p>\n\n<p><strong>Is there another way?  Am I missing the point?  Or is this the way that Typescript/JavaScript is done?</strong></p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "ecmascript-6", "arrow-functions"], "comments": [{"owner": {"reputation": 2202, "user_id": 1452497, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9WtY4.png?s=128&g=1", "display_name": "Antiga", "link": "https://stackoverflow.com/users/1452497/antiga"}, "edited": false, "score": 1, "creation_date": 1449681284, "post_id": 34184822, "comment_id": 56116040, "body": "This doesn&#39;t answer your question or anything, but I wanted to clarify for you that this isn&#39;t a TypeScript syntax. It&#39;s ES2015 syntax. It&#39;s pure JavaScript, just newer. TypeScript happens to implement it."}, {"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "reply_to_user": {"reputation": 2202, "user_id": 1452497, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9WtY4.png?s=128&g=1", "display_name": "Antiga", "link": "https://stackoverflow.com/users/1452497/antiga"}, "edited": false, "score": 0, "creation_date": 1449681335, "post_id": 34184822, "comment_id": 56116079, "body": "good point, I&#39;m in the middle of javascript conversion to typescript and starting ES6 (2015)"}, {"owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "edited": false, "score": 0, "creation_date": 1449681527, "post_id": 34184822, "comment_id": 56116204, "body": "Your first attempt is fine. You could actually write  <code>var success = (response: any): void =&gt; { ... }</code> if you want to indicate that the function is not returning anything. The problem must be somewhere else"}, {"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "reply_to_user": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "edited": false, "score": 0, "creation_date": 1449681800, "post_id": 34184822, "comment_id": 56116407, "body": "@BrunoGrieder It must be where I&#39;m calling it: <code>this.storeFactory.getSafes().then(success, failure);</code> If I add <code>success()</code> I get an error"}, {"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449682244, "post_id": 34184822, "comment_id": 56116714, "body": "question edited to more reflect the hurdle"}, {"owner": {"reputation": 6403, "user_id": 1121919, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/290aadf0da43aaaf3cf84934c9c42bf5?s=128&d=identicon&r=PG", "display_name": "jusopi", "link": "https://stackoverflow.com/users/1121919/jusopi"}, "edited": false, "score": 0, "creation_date": 1449699543, "post_id": 34184822, "comment_id": 56126537, "body": "Is it because you are actually calling <code>success</code> during the <code>then</code>&#39;s execution rather than passing it back?  So <code>.then( success )</code> vs `.then( success())?"}, {"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "reply_to_user": {"reputation": 6403, "user_id": 1121919, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/290aadf0da43aaaf3cf84934c9c42bf5?s=128&d=identicon&r=PG", "display_name": "jusopi", "link": "https://stackoverflow.com/users/1121919/jusopi"}, "edited": false, "score": 0, "creation_date": 1449699665, "post_id": 34184822, "comment_id": 56126582, "body": "@jusopi. I have the <code>reponse</code> in the success call inside the <code>.then()</code>. It doesn&#39;t know what <code>response</code> is"}, {"owner": {"reputation": 6403, "user_id": 1121919, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/290aadf0da43aaaf3cf84934c9c42bf5?s=128&d=identicon&r=PG", "display_name": "jusopi", "link": "https://stackoverflow.com/users/1121919/jusopi"}, "edited": false, "score": 0, "creation_date": 1449699775, "post_id": 34184822, "comment_id": 56126630, "body": "at least in the case of angular&#39;s <code>$q</code> implementation, callbacks get passed back the <code>.then</code>&#39;s response as parameters during the callback&#39;s execution"}], "answers": [{"comments": [{"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449681845, "post_id": 34184981, "comment_id": 56116443, "body": "any examples would be helpful"}, {"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "reply_to_user": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 1, "creation_date": 1449687623, "post_id": 34184981, "comment_id": 56120050, "body": "@JonHarding -- Does using the arrow syntax above not fix the issue (or, what kind of example are you looking for?)"}], "tags": [], "owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "is_accepted": false, "score": 0, "last_activity_date": 1449681437, "creation_date": 1449681437, "answer_id": 34184981, "question_id": 34184822, "link": "https://stackoverflow.com/questions/34184822/executing-named-fat-arrow-from-then-function/34184981#34184981", "title": "Executing named `fat arrow` from .then() function", "body": "<p>The callback of your AJAX call also needs to use arrow functions:</p>\n\n<pre><code>this.$http.get('/app/dashboard/safes/safes.html', { cache: this.$templateCache }).success((tplContent) =&gt; {\n    element.replaceWith(this.$compile(tplContent)(scope));\n}); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449699764, "post_id": 34190137, "comment_id": 56126624, "body": "I have that, however, it doesn&#39;t know what <code>response</code> is"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449699857, "post_id": 34190137, "comment_id": 56126680, "body": "@JonHarding: You mean in the <code>success(response)</code> call, or in the typecheck?"}, {"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449699918, "post_id": 34190137, "comment_id": 56126707, "body": "&#39;cannot find name <code>response</code>&#39;"}, {"owner": {"reputation": 6403, "user_id": 1121919, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/290aadf0da43aaaf3cf84934c9c42bf5?s=128&d=identicon&r=PG", "display_name": "jusopi", "link": "https://stackoverflow.com/users/1121919/jusopi"}, "edited": false, "score": 0, "creation_date": 1449699969, "post_id": 34190137, "comment_id": 56126726, "body": "Yeah I don&#39;t know how this applies to Typescipt, I just know how it looks to me as a coffeescript guy and the biggest difference is that you&#39;re calling the function so that it&#39;s acting like it wants to pass the <i>thenable</i> response back to the return value of your success callback."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449699998, "post_id": 34190137, "comment_id": 56126734, "body": "@JonHarding: Well yes, because there is no name <code>response</code> in scope. The response value will come from the promise, and be passed to the callback by the <code>then</code> method. You only need to define the callback function and declare your parameters. This is what this answer suggests."}, {"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449700113, "post_id": 34190137, "comment_id": 56126799, "body": "I completely agree, however when I use suggested syntax success and failure seem to get defined but not executed"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449700226, "post_id": 34190137, "comment_id": 56126849, "body": "@JonHarding: You did define them before you called <code>then</code>, right?"}, {"owner": {"reputation": 6403, "user_id": 1121919, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/290aadf0da43aaaf3cf84934c9c42bf5?s=128&d=identicon&r=PG", "display_name": "jusopi", "link": "https://stackoverflow.com/users/1121919/jusopi"}, "edited": false, "score": 0, "creation_date": 1449700277, "post_id": 34190137, "comment_id": 56126877, "body": "<code>.then( function(rsp){ success(rsp), failure(rsp) });</code> how about this then?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1449700379, "post_id": 34190137, "comment_id": 56126936, "body": "@jusopi: You mean <code>.then(function(rsp){ success(rsp); }, function(err) { failure(err); })</code>"}, {"owner": {"reputation": 6403, "user_id": 1121919, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/290aadf0da43aaaf3cf84934c9c42bf5?s=128&d=identicon&r=PG", "display_name": "jusopi", "link": "https://stackoverflow.com/users/1121919/jusopi"}, "edited": false, "score": 0, "creation_date": 1449700449, "post_id": 34190137, "comment_id": 56126972, "body": "Yes. Thanks for the correction.  I&#39;m so accustomed to using <code>.then</code> only for <i>successful</i> callbacks and <code>.catch</code> only for <i>error</i> callbacks."}], "tags": [], "owner": {"reputation": 6403, "user_id": 1121919, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/290aadf0da43aaaf3cf84934c9c42bf5?s=128&d=identicon&r=PG", "display_name": "jusopi", "link": "https://stackoverflow.com/users/1121919/jusopi"}, "is_accepted": false, "score": 2, "last_activity_date": 1449699917, "last_edit_date": 1449699917, "creation_date": 1449699719, "answer_id": 34190137, "question_id": 34184822, "link": "https://stackoverflow.com/questions/34184822/executing-named-fat-arrow-from-then-function/34190137#34190137", "title": "Executing named `fat arrow` from .then() function", "body": "<p>I can't speak to the ES2015 syntax or Typescript, however the way you're passing back your <code>success</code> callback looks suspect.</p>\n\n<p><strong>instead of</strong></p>\n\n<pre><code>this.storeFactory.getSafes().then(success(response), failure());\n</code></pre>\n\n<p><strong>you should use</strong></p>\n\n<pre><code>this.storeFactory.getSafes().then(success, failure);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449700552, "post_id": 34190240, "comment_id": 56127020, "body": "I would&#39;ve thought variable hoisting would have not required you to place them above the <code>.then()</code> statement"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 1, "creation_date": 1449701537, "post_id": 34190240, "comment_id": 56127452, "body": "It does that only for function declarations. If you just declare a variable and later assigna an arrow function to it, it will be <code>undefined</code> until that. Use <code>let</code> to avoid such bugs (it&#39;ll throw when used before initialised) - if Typescript does support that much of ES6."}, {"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449702092, "post_id": 34190240, "comment_id": 56127685, "body": "Yes TypeScript is a &#39;superset` of ES6 should have all features. Question now becomes how to create ES6 declarative functions instead of assignments. Thanks again"}, {"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449702352, "post_id": 34190240, "comment_id": 56127790, "body": "<a href=\"http://toddmotto.com/es6-arrow-functions-syntaxes-and-lexical-scoping/\" rel=\"nofollow noreferrer\">toddmotto.com/es6-arrow-functions-syntaxes-and-lexical-scopi&zwnj;&#8203;ng</a> Arrow functions are always anonymous... I&#39;d need to define them above if I want to use arrow syntax"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 1, "creation_date": 1449704307, "post_id": 34190240, "comment_id": 56128560, "body": "@JonHarding: <a href=\"https://basarat.gitbooks.io/typescript/content/docs/let.html#let-in-closures\" rel=\"nofollow noreferrer\">Some features</a> are not implemented though\u2026 but basic <code>let</code> should work. Also see my updated answer."}, {"owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "edited": false, "score": 0, "creation_date": 1449756231, "post_id": 34190240, "comment_id": 56152160, "body": "That makes sense I guess I was trying too hard to keep this <code>this.storeFactory.getSafes().then(success, failure);</code> clean. Thank you for all the resources I learned a ton through this."}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 2, "last_activity_date": 1449704535, "last_edit_date": 1495541044, "creation_date": 1449700181, "answer_id": 34190240, "question_id": 34184822, "link": "https://stackoverflow.com/questions/34184822/executing-named-fat-arrow-from-then-function/34190240#34190240", "title": "Executing named `fat arrow` from .then() function", "body": "<blockquote>\n  <p>How to I pass the <code>response</code> to the <code>success</code> function correctly?</p>\n</blockquote>\n\n<p><em>You</em> don't. You pass the <code>success</code> function to the <code>then</code> method, then <em>the promise will pass</em> the result value to your <code>success</code> function. That's how callbacks work.</p>\n\n<p>All you need to do is declare <code>response</code> as a paramter of your function. <em>You</em> must not call the function yourself - you only should pass it as a callback:</p>\n\n<pre><code>this.storeFactory.getSafes().then(success, failure);\n</code></pre>\n\n<hr>\n\n<p>Also you will need to define the functions before you pass them to <code>then</code>. If you only declare them, and pass <code>undefined</code> values to <code>then</code>, they will be ignored. Use</p>\n\n<pre><code>var success = (response: any): void =&gt; {\n    scope.safes = response.data.safes;\n    localStorage.setItem('safeCount', scope.safes.length);\n    this.$http.get('/app/dashboard/safes/safes.html', { cache: this.$templateCache }).success((tplContent): void =&gt; {\n        element.replaceWith(this.$compile(tplContent)(scope));\n    });\n};\n\nvar failure = (): void =&gt; {\n    this.$http.get('/app/shared/mocks/tableError.html', { cache: this.$templateCache }).success((tplContent): void =&gt; {\n        element.replaceWith(this.$compile(tplContent)(scope));\n    });\n}\n\nthis.storeFactory.getSafes().then(success, failure);\n</code></pre>\n\n<p>However, arrow functions are actually supposed to be defined inline, without assigning them to a specific variable. (You called this the \"long hand version\" in your question, even if it's actually shorter). Just use that and you won't face these problems.</p>\n\n<p>In general, I would recommend to avoid defining functions in variable assignments completely. If you need a variable, just <a href=\"https://stackoverflow.com/q/336859/1048572\">use a declaration instead</a> (Typescript syntax should not vary much).</p>\n"}], "owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 0, "accepted_answer_id": 34190240, "answer_count": 3, "score": 2, "last_activity_date": 1449704535, "creation_date": 1449680983, "last_edit_date": 1449700225, "question_id": 34184822, "link": "https://stackoverflow.com/questions/34184822/executing-named-fat-arrow-from-then-function", "title": "Executing named `fat arrow` from .then() function", "body": "<p>Success gets called in a successful factory response in the <code>then</code> callback:</p>\n\n<p>This doesn't work, it cannot find <code>response</code>:</p>\n\n<pre><code>this.storeFactory.getSafes().then(success(response), failure());\n</code></pre>\n\n<p>How to I pass the response to the <code>success</code> function correctly?</p>\n\n<pre><code>var success = (response: any): void =&gt; {\n    scope.safes = response.data.safes;\n    localStorage.setItem('safeCount', scope.safes.length);\n    this.$http.get('/app/dashboard/safes/safes.html', { cache: this.$templateCache }).success((tplContent): void =&gt; {\n        element.replaceWith(this.$compile(tplContent)(scope));\n    }); \n}\n</code></pre>\n\n<p>The long hand version works fine, but I feel like it is very messy.</p>\n\n<pre><code>this.storeFactory.getSafes().then((response: any): void =&gt; {\n    scope.safes = response.data.safes;\n    localStorage.setItem('safeCount', scope.safes.length);\n    this.$http.get('/app/dashboard/safes/safes.html', { cache: this.$templateCache }).success((tplContent): void =&gt; {\n        element.replaceWith(this.$compile(tplContent)(scope));\n    });\n}\n</code></pre>\n"}, {"tags": ["javascript", "inheritance", "module", "typescript", "webpack"], "comments": [{"owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "edited": false, "score": 0, "creation_date": 1449686742, "post_id": 34184268, "comment_id": 56119524, "body": "Can you add a minimal example that lets us replicate the issue? I don&#39;t think TypeScript is doing what you suspect it&#39;s doing."}, {"owner": {"reputation": 775, "user_id": 3021445, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100000914420897/picture?type=large", "display_name": "aspirisen", "link": "https://stackoverflow.com/users/3021445/aspirisen"}, "reply_to_user": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "edited": false, "score": 0, "creation_date": 1449694290, "post_id": 34184268, "comment_id": 56123801, "body": "@mk. Added some examples"}, {"owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "edited": false, "score": 1, "creation_date": 1449694738, "post_id": 34184268, "comment_id": 56124029, "body": "You&#39;ve got circular imports. See <a href=\"http://stackoverflow.com/q/30378226/154066\">stackoverflow.com/q/30378226/154066</a> . You could put all of these in the same file as a workaround."}, {"owner": {"reputation": 775, "user_id": 3021445, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100000914420897/picture?type=large", "display_name": "aspirisen", "link": "https://stackoverflow.com/users/3021445/aspirisen"}, "reply_to_user": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "edited": false, "score": 0, "creation_date": 1449810377, "post_id": 34184268, "comment_id": 56177356, "body": "@mk. Yes, it works, until we have a circular dependency on itself. For example I have a class Component which extends Reac.Componenr, all the components are extended from this class. But i want to set default error handler (modal window with the error and feedback button) for all these descendants, and the handler is also a component..."}], "owner": {"reputation": 775, "user_id": 3021445, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100000914420897/picture?type=large", "display_name": "aspirisen", "link": "https://stackoverflow.com/users/3021445/aspirisen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1449736319, "creation_date": 1449679474, "last_edit_date": 1449736319, "question_id": 34184268, "link": "https://stackoverflow.com/questions/34184268/webpack-how-to-set-some-modules-to-be-loaded-firstly", "title": "Webpack: how to set some modules to be loaded firstly?", "body": "<p>I have a requirement to load some module first of all, because this module is needed in inheritance. The problem is that TypeScript start extending immediately even if the base class has not been loaded. The question is: is there any plugin which can change loading order? \nThanks.</p>\n\n<p>Context.ts</p>\n\n<pre><code>import { Transform } from './Transform';\nimport { Form } from './Form';\n\nexport class Context {\n\n    public transform() {\n        return new Transform(this);\n    }\n\n    public toFormContext() {\n        return new Form(this);\n    }\n}\n</code></pre>\n\n<p>Transform.ts</p>\n\n<pre><code>import { Context } from './Context';\n\nexport class Transform extends Context {\n\n    constructor(base: Context) {\n        super();\n    }\n\n}\n</code></pre>\n\n<p>Form.ts</p>\n\n<pre><code>import { Context } from './Context';\n\nexport class Form extends Context {\n\n    constructor(base: Context) {\n        super();\n    }\n\n}\n</code></pre>\n\n<p>I need to tell webpack that Context.ts should be loaded first of all, because the others are needed in it higher than Context.ts in them as it address to them in runtime, but the others address Context.ts immediately. </p>\n"}, {"tags": ["javascript", "angularjs", "controller", "typescript", "code-injection"], "answers": [{"tags": [], "owner": {"reputation": 7200, "user_id": 694584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745b50cf5cc81f16ec3d0de2d0607a6d?s=128&d=identicon&r=PG", "display_name": "Michael Rose", "link": "https://stackoverflow.com/users/694584/michael-rose"}, "is_accepted": true, "score": 2, "last_activity_date": 1449667898, "creation_date": 1449667898, "answer_id": 34180079, "question_id": 34179959, "link": "https://stackoverflow.com/questions/34179959/problems-with-service-injection-in-a-angularjs-controller-written-in-typescript/34180079#34180079", "title": "Problems with service injection in a AngularJS controller written in TypeScript", "body": "<p>You are defining your angular module <code>AngularCalculatorModule</code> twice, i.e. you have the line</p>\n\n<pre><code>var app = angular.module(\"AngularCalculatorModule\", []);\n</code></pre>\n\n<p>in both of your typescript files.</p>\n\n<p>Put the creation of the angular module <code>angular.module(\"AngularCalculatorModule\", []);</code> in a separate file, e.g. you can also put configuration or other initialization stuff there. Then include this file immediately after the <code>angular.js</code> inclusion.</p>\n\n<p>Afterwards just use <code>angular.module(\"AngularCalculatorModule\").controller(...)</code> (note the missing <code>[]</code> = module dependencies array).</p>\n"}], "owner": {"reputation": 1109, "user_id": 1093795, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7af616da15f12795832c5c9dc4a5adaf?s=128&d=identicon&r=PG", "display_name": "Hakan Kiyar", "link": "https://stackoverflow.com/users/1093795/hakan-kiyar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "accepted_answer_id": 34180079, "answer_count": 1, "score": 0, "last_activity_date": 1449667898, "creation_date": 1449667520, "question_id": 34179959, "link": "https://stackoverflow.com/questions/34179959/problems-with-service-injection-in-a-angularjs-controller-written-in-typescript", "title": "Problems with service injection in a AngularJS controller written in TypeScript", "body": "<p>I want to inject the self-written service <code>CalculatorService.ts</code> in the self-written AngularJS controller with name <code>StringCalculatorController.ts</code>.</p>\n\n<p>My <strong>CalculatorService</strong> looks like that :</p>\n\n<pre><code>/// &lt;reference path=\"../typescript_definitions/angular.d.ts\" /&gt;\n\nmodule CalculatorModule {\n    export class CalculatorService {\n\n        // implementation stuff....\n\n    }\n\n}\n\nvar app = angular.module(\"AngularCalculatorModule\", []);\napp.service(\"calculatorService\", CalculatorModule.CalculatorService);\n</code></pre>\n\n<p>The <strong>StringCalculatorController</strong> should use the <strong>CalculatorService</strong> as dependency:</p>\n\n<pre><code>/// &lt;reference path=\"../typescript_definitions/angular.d.ts\" /&gt;\n/// &lt;reference path=\"CalculatorService.ts\" /&gt;\n\nmodule CalculatorModule {\n\n\n    export class StringCalculatorController {\n\n        private calculatorService:CalculatorModule.CalculatorService;\n\n\n    static $inject = ['calculatorService'];\n        constructor(calculatorService) {\n            console.log(calculatorService);\n        }\n    }\n}\n\nvar app = angular.module(\"AngularCalculatorModule\", []);\napp.controller(\"StringCalculatorController\",CalculatorModule.StringCalculatorController);\n</code></pre>\n\n<p>This does not work. It gives me following error-Message:</p>\n\n<pre><code>Error: [$injector:unpr] Unknown provider: calculatorServiceProvider &lt;- calculatorService &lt;- StringCalculatorController\nhttp://errors.angularjs.org/1.4.8/$injector/unpr?p0=calculatorServiceProvider%20%3C-%20calculatorService%20%3C-%20StringCalculatorController\n    at angular.js:68\n    at angular.js:4334\n    at Object.getService [as get] (angular.js:4482)\n    at angular.js:4339\n    at getService (angular.js:4482)\n    at Object.invoke (angular.js:4514)\n    at extend.instance (angular.js:9182)\n    at nodeLinkFn (angular.js:8299)\n    at compositeLinkFn (angular.js:7731)\n    at compositeLinkFn (angular.js:7734)\n</code></pre>\n\n<p>Im starting the script by following <code>index.html</code>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;script src=\"bower_components/angular/angular.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"src/CalculatorService.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"src/StringCalculatorController.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body ng-app=\"AngularCalculatorModule\"&gt;\n    &lt;div ng-controller=\"StringCalculatorController\"&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Can somebody please help me?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 50, "last_activity_date": 1610226786, "last_edit_date": 1610226786, "creation_date": 1449672938, "answer_id": 34181899, "question_id": 34179897, "link": "https://stackoverflow.com/questions/34179897/typescript-and-spread-operator/34181899#34181899", "title": "Typescript and spread operator?", "body": "<p>So there is a little clause you may have missed:</p>\n<blockquote>\n<p>Type checking requires spread elements to match up with a rest parameter.</p>\n</blockquote>\n<h1>Without Rest Parameter</h1>\n<p>But you can use a type assertion to go dynamic... and it will convert back to ES5 / ES3 for you:</p>\n<pre><code>function foo(x:number, y:number, z:number) { \n console.log(x,y,z);\n}\nvar args:number[] = [0, 1, 2];\n\n(&lt;any&gt;foo)(...args);\n</code></pre>\n<p>This results in the same <code>apply</code> function call that you'd expect:</p>\n<pre><code>function foo(x, y, z) {\n    console.log(x, y, z);\n}\nvar args = [0, 1, 2];\nfoo.apply(void 0, args);\n</code></pre>\n<h1>With Rest Parameter</h1>\n<p>The alternative is that it all works just as you expect if the function accepts a rest parameter.</p>\n<pre><code>function foo(...x: number[]) { \n console.log(JSON.stringify(x));\n}\nvar args:number[] = [0, 1, 2];\n\nfoo(...args);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "is_accepted": false, "score": 8, "last_activity_date": 1510304553, "creation_date": 1510304553, "answer_id": 47219058, "question_id": 34179897, "link": "https://stackoverflow.com/questions/34179897/typescript-and-spread-operator/47219058#47219058", "title": "Typescript and spread operator?", "body": "<p>I think @Fenton explains it very well but I would like to add some more documentation and possible solutions.</p>\n\n<p>Solutions:</p>\n\n<p>Function overload. I prefer this solution in this case because it keeps some kind of type safety and avoids ignore and any. The original method and function call does not need to be rewritten at all.</p>\n\n<pre><code>function foo(...args: number[]): void\nfunction foo(x: number, y: number, z: number) {\n  console.log(x, y, z);\n}\nvar args: number[] = [0, 1, 2];\n\nfoo(...args);\n</code></pre>\n\n<p>Use <code>@ts-ignore</code> to ignore specific line, <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-3.html\" rel=\"noreferrer\">TypeScript 2.3</a></p>\n\n<pre><code>function foo(x: number, y: number, z: number) {\n  console.log(x, y, z);\n}\nvar args: number[] = [0, 1, 2];\n// @ts-ignore\nfoo(...args);\n</code></pre>\n\n<p>Use as any.</p>\n\n<pre><code>function foo(x: number, y: number, z: number) {\n  console.log(x, y, z);\n}\nvar args: number[] = [0, 1, 2];\n\n(foo as any)(...args);\n</code></pre>\n\n<p>Link with documentation regarding the spread operator:</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html</a></p>\n\n<p>Discussions regarding this:</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/5296\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/5296</a>\n<a href=\"https://github.com/Microsoft/TypeScript/issues/11780\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/11780</a>\n<a href=\"https://github.com/Microsoft/TypeScript/issues/14981\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/14981</a>\n<a href=\"https://github.com/Microsoft/TypeScript/issues/15375\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/15375</a></p>\n"}, {"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1610243829, "post_id": 60948650, "comment_id": 116071101, "body": "I&#39;d suggest a <code>const</code> assertion like <a href=\"https://tsplay.dev/4w1YKw\" rel=\"nofollow noreferrer\">this</a> instead of annotating a tuple, but otherwise this is the correct answer in my opinion."}, {"owner": {"reputation": 507, "user_id": 6264260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e72257f032d96777ef8dfa413fe2f15f?s=128&d=identicon&r=PG&f=1", "display_name": "Lancer.Yan", "link": "https://stackoverflow.com/users/6264260/lancer-yan"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1610447222, "post_id": 60948650, "comment_id": 116129491, "body": "@jcalz Yes, sir, your method is a better method. Thanks a lot for adding! I will take the liberty to import your answers into the existing answers, and mark your signature.  If you open a new independent answer in the future, please let me know; I will restore the reference to your method."}], "tags": [], "owner": {"reputation": 507, "user_id": 6264260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e72257f032d96777ef8dfa413fe2f15f?s=128&d=identicon&r=PG&f=1", "display_name": "Lancer.Yan", "link": "https://stackoverflow.com/users/6264260/lancer-yan"}, "is_accepted": false, "score": 2, "last_activity_date": 1610447533, "last_edit_date": 1610447533, "creation_date": 1585651200, "answer_id": 60948650, "question_id": 34179897, "link": "https://stackoverflow.com/questions/34179897/typescript-and-spread-operator/60948650#60948650", "title": "Typescript and spread operator?", "body": "<pre><code>function foo(x:number, y:number, z:number) { \n  console.log(x,y,z);\n}\nvar args:[number, number,number] = [0, 1, 2];\nfoo(...args);\n</code></pre>\n<p>You can try this. Personally, I think it is the answer that best fits your question scenario.</p>\n<hr />\n<p>And Mr.<a href=\"https://stackoverflow.com/users/2887218/jcalz\">@anask</a> provides a better method, more clear, easier and easier to maintain.\nThis should also be the best practice for TypeScript features.</p>\n<p>Use <code>as const</code> to automatically infer static types</p>\n<p><a href=\"https://www.typescriptlang.org/play?ts=4.1.3&amp;ssl=6&amp;ssc=14&amp;pln=1&amp;pc=1#code/GYVwdgxgLglg9mABMOcAUAPAXIsIC2ARgKYBOANIgJ455FmUBetBJpAlIgN4BQi-EBAGc4AG2IA6UXADmmSlSbsA3DwC+PAG4BDUol0yhiALyIA2gAZKARkoAmALr6jgsEKiqeKdBN8GhKkA\" rel=\"nofollow noreferrer\">Demo in TSPlayground</a> by Mr.<a href=\"https://stackoverflow.com/users/2887218/jcalz\">@anask</a></p>\n<pre><code>function foo(x: number, y: number, z: number) {\n   console.log(x, y, z);\n}\n\n// here young !\nvar args = [0, 1, 2] as const;\n\nfoo(...args);\n</code></pre>\n"}], "owner": {"reputation": 1058, "user_id": 4356489, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/oBuDq.jpg?s=128&g=1", "display_name": "Amala James", "link": "https://stackoverflow.com/users/4356489/amala-james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44986, "favorite_count": 5, "accepted_answer_id": 34181899, "answer_count": 3, "score": 44, "last_activity_date": 1610447533, "creation_date": 1449667318, "last_edit_date": 1449677383, "question_id": 34179897, "link": "https://stackoverflow.com/questions/34179897/typescript-and-spread-operator", "title": "Typescript and spread operator?", "body": "<pre><code>function foo(x:number, y:number, z:number) { \n   console.log(x,y,z);\n}\nvar args:number[] = [0, 1, 2];\n\nfoo(...args);\n</code></pre>\n\n<p>Why am i getting getting this error in Typescript Playground???</p>\n\n<blockquote>\n  <p>Supplied parameters donot match any signature of call target.</p>\n</blockquote>\n"}, {"tags": ["typescript", "flux", "alt.js"], "comments": [{"owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "edited": false, "score": 6, "creation_date": 1449693245, "post_id": 34179728, "comment_id": 56123228, "body": "This was hard to read! In the future, please paste your code directly, and maybe mark relevant parts using comments like <code>&#47;&#47; HERE</code>"}], "answers": [{"tags": [], "owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "is_accepted": true, "score": 2, "last_activity_date": 1449693164, "creation_date": 1449693164, "answer_id": 34188442, "question_id": 34179728, "link": "https://stackoverflow.com/questions/34179728/ts2339-property-does-not-exist-on-type/34188442#34188442", "title": "TS2339: Property does not exist on type {}", "body": "<p>You're using a module called <code>\"app/actions/actions\"</code>. That module is actually not a module (a map of properties), but whatever's the result of <code>flux.createACtions(Actions)</code>:</p>\n\n<pre><code>export = flux.createActions(Actions); // in actions.ts\n</code></pre>\n\n<p>What does that return? Because you're not specifying the generic for <code>&lt;T&gt;</code>, and because the params of <code>createActions</code> don't correctly include a <code>T</code> from which it could infer, it assumes that <code>T</code> is just <code>{}</code>. This was <a href=\"https://github.com/Microsoft/TypeScript/issues/360\" rel=\"nofollow\">discussed here</a> and ultimately declined. So, as mentioned, you need to specify the generic:</p>\n\n<pre><code>export = flux.createActions&lt;Actions&gt;(Actions);\n</code></pre>\n\n<p>But to avoid this, you could change your local (or remote) <code>alt.d.ts</code> to be something like:</p>\n\n<pre><code>class Alt {\n    createActions&lt;T extends ActionsClass&gt;(con: ActionsClassConstructor&lt;T&gt;, ...): T;\n}\ntype ActionsClassConstructor&lt;T extends ActionsClass&gt; = new (alt:Alt) =&gt; T;\n</code></pre>\n\n<p>This adds the generic type info needed to correctly infer based on the constructor you supply.</p>\n"}], "owner": {"reputation": 9099, "user_id": 190625, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d068edea1bead593aef5840dff0d500a?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/190625/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11562, "favorite_count": 1, "accepted_answer_id": 34188442, "answer_count": 1, "score": 1, "last_activity_date": 1449693164, "creation_date": 1449666769, "last_edit_date": 1449679749, "question_id": 34179728, "link": "https://stackoverflow.com/questions/34179728/ts2339-property-does-not-exist-on-type", "title": "TS2339: Property does not exist on type {}", "body": "<p>Please help me fix this compilation error.</p>\n\n<p>Below you can see the compiler complaining that the <strong>Actions</strong> object on line 20 (I removed a few lines for clarity before posting this) is {}:\n<a href=\"https://i.stack.imgur.com/cA3e1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cA3e1.png\" alt=\"enter image description here\"></a> </p>\n\n<p>But below you can see in <strong>actions.ts</strong> that <strong>Actions</strong> is an object of type <strong>Actions</strong>, and it has the requested property (which is a function):\n<a href=\"https://i.stack.imgur.com/A9BA0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A9BA0.png\" alt=\"enter image description here\"></a></p>\n\n<p>And in the base code you can see in the DefinitelyTyped <strong>Alt</strong> definition that <strong>createActions</strong> should return an object of type <strong>Actions</strong>:\n<a href=\"https://i.stack.imgur.com/Zxeg3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zxeg3.png\" alt=\"enter image description here\"></a></p>\n\n<p>So why is Typescript complaining that Actions is not of type Actions?</p>\n"}, {"tags": ["node.js", "typescript", "karma-runner"], "comments": [{"owner": {"reputation": 641, "user_id": 4098348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-tyWlIz3tx9k/AAAAAAAAAAI/AAAAAAAAACI/vJhv9PrKEtI/photo.jpg?sz=128", "display_name": "Perfection", "link": "https://stackoverflow.com/users/4098348/perfection"}, "edited": false, "score": 0, "creation_date": 1510325449, "post_id": 34179204, "comment_id": 81400769, "body": "Are you using electron by any chance?"}], "owner": {"reputation": 11, "user_id": 5659103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/088c252759a337e78edfc444d413abe1?s=128&d=identicon&r=PG&f=1", "display_name": "mlibosada", "link": "https://stackoverflow.com/users/5659103/mlibosada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1449665231, "creation_date": 1449665231, "question_id": 34179204, "link": "https://stackoverflow.com/questions/34179204/karma-coverage-produces-node-warning-possible-eventemitter-memory-leak-detect", "title": "Karma-Coverage produces (node) warning: possible EventEmitter memory leak detected", "body": "<p>I am getting the following warning:</p>\n\n<pre><code>    (node) warning: possible EventEmitter memory leak detected. 11 close listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at Server.addListener (events.js:239:17)\n    at Server.once (events.js:265:8)\n    at Server.close (net.js:1473:12)\n    at ...\n</code></pre>\n\n<p>This occurs when i added coverage to my karma.config.js file</p>\n\n<pre><code>config.set({\n    preprocessors: {    \n        'src/*/*.ts': ['coverage'],\n    }\n }\n</code></pre>\n\n<p>I'm using Node.js version 5.0.\nPlease help.</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1449667880, "post_id": 34178474, "comment_id": 56106248, "body": "Hi Fred. You probably know more about TypScript than I do, but I&#39;d do the same: define a SkipSudoRequestShortcutConfig interface/class extending IRequestShortcutConfig. Could you provide more information (code + errors) about &quot;the class information is not transferred by angular from the $http.get() call to the interceptor handler&quot;."}, {"owner": {"reputation": 1029, "user_id": 476345, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8982d345f5955665f31cfb2bfe66c214?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Camblor", "link": "https://stackoverflow.com/users/476345/fr%c3%a9d%c3%a9ric-camblor"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1449669045, "post_id": 34178474, "comment_id": 56107017, "body": "Sure ! I just updated the description reflecting my test on <code>SkipSudoRequestShortcutConfig </code>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1449669887, "post_id": 34178474, "comment_id": 56107585, "body": "I would make SkipSudoRequestShortcutConfig an interface that extends SkipSudoRequestShortcutConfig, and contains an optional boolean field <code>skipSudo</code>. Passing an instance of that interface to $http should work fine, since it extends SkipSudoRequestShortcutConfig. And I would make the request function of your interceptor take a SkipSudoRequestShortcutConfig instance as argument. Instead of an instanceof check, I would simply test if <code>config.skipSudo</code> is truthy. Not tested at all: I&#39;ve never used TypScript with Angular 1, and don&#39;t have significant experience with TS."}, {"owner": {"reputation": 1029, "user_id": 476345, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8982d345f5955665f31cfb2bfe66c214?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Camblor", "link": "https://stackoverflow.com/users/476345/fr%c3%a9d%c3%a9ric-camblor"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1449670081, "post_id": 34178474, "comment_id": 56107716, "body": "I cannot take a <code>SkipSudoRequestShortcutConfig</code> instance as argument of the <code>request</code> callback because in most of cases, I will keep passing a standard <code>ng.IRequestShortcutConfig</code> to the <code>$http</code> calls."}, {"owner": {"reputation": 2075, "user_id": 3180309, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9c9bf1728c8ced2a86d65740574061a1?s=128&d=identicon&r=PG&f=1", "display_name": "abbaf33f", "link": "https://stackoverflow.com/users/3180309/abbaf33f"}, "edited": false, "score": 0, "creation_date": 1449670975, "post_id": 34178474, "comment_id": 56108407, "body": "Instead of using an interceptor, can you just override/inherit from the normal <code>$httpProvider</code> and pass normal requests through but add your <code>SkipSudoRequestShortcutConfig</code> checks to it?"}, {"owner": {"reputation": 1029, "user_id": 476345, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8982d345f5955665f31cfb2bfe66c214?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Camblor", "link": "https://stackoverflow.com/users/476345/fr%c3%a9d%c3%a9ric-camblor"}, "reply_to_user": {"reputation": 2075, "user_id": 3180309, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9c9bf1728c8ced2a86d65740574061a1?s=128&d=identicon&r=PG&f=1", "display_name": "abbaf33f", "link": "https://stackoverflow.com/users/3180309/abbaf33f"}, "edited": false, "score": 0, "creation_date": 1449671479, "post_id": 34178474, "comment_id": 56108766, "body": "@jmb.mage Something like wrapping <code>$http</code> calls into a <code>my$http</code> component which will intercept <code>get</code>/<code>post</code> etc.. methods ? I thought about it, but it will require to inject the new component potentially everywhere I use the standard <code>$http</code> service (or at least, at the locations I need to skip sudo). Moreover, I&#39;m not sure someone (including me) will not forget to call the new <code>my$http</code> instead of the standard <code>$http</code> (interceptors were cool for that points)"}, {"owner": {"reputation": 2075, "user_id": 3180309, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9c9bf1728c8ced2a86d65740574061a1?s=128&d=identicon&r=PG&f=1", "display_name": "abbaf33f", "link": "https://stackoverflow.com/users/3180309/abbaf33f"}, "edited": false, "score": 0, "creation_date": 1449671747, "post_id": 34178474, "comment_id": 56108993, "body": "@Fr&#233;d&#233;ric yes.  I think that makes it easier than using an interceptor because you can control when your code is executed, before, during and after requests.  I&#39;ve implemented something similar, take a look at <a href=\"https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=overriding+jquery+ajax\" rel=\"nofollow noreferrer\">overriding jquery ajax</a> but of course with <code>$httpProvider</code> instead of <code>$.ajax</code>."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1449675073, "post_id": 34178474, "comment_id": 56111519, "body": "@Fr&#233;d&#233;ric TypeScript is a bit more type-safe, but it still uses duck-typing. So, even if you pass an IRequestShortcutConfig instance, to $http, the interceptor won&#39;t really care: the only difference between an IRequestShortcutConfig and a SkipSudoRequestShortcutConfig is an optional boolean field, so that should work fine. Shouldn&#39;t it? After all, many $http calls are done by angular itself, which doesn&#39;t care about your types."}], "answers": [{"tags": [], "owner": {"reputation": 8181, "user_id": 1220627, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bcc4752767827a60b2e32ac3d090f337?s=128&d=identicon&r=PG", "display_name": "Sn&#230;bj&#248;rn", "link": "https://stackoverflow.com/users/1220627/sn%c3%a6bj%c3%b8rn"}, "is_accepted": false, "score": 1, "last_activity_date": 1470228955, "last_edit_date": 1470228955, "creation_date": 1470227542, "answer_id": 38743782, "question_id": 34178474, "link": "https://stackoverflow.com/questions/34178474/using-http-interceptor-with-custom-fields-in-a-typesafe-manner-in-angular-typ/38743782#38743782", "title": "Using $http interceptor with custom fields in a typesafe manner in angular + typescript", "body": "<p>It's important to remember that types in TypeScript are just \"type helpers\" and removed when transpiled to javascript. So you don't need to implement a new $http service. Instead you can just create a new type that suites your needs.</p>\n\n<p>In reality it's because the angular type definition is lacking.</p>\n\n<p>You can fix this by creating the following interfaces.</p>\n\n<pre><code>export interface IRequestShortcutConfigWithCustomConfig extends ng.IRequestShortcutConfig {\n    [key: string]: any;\n}\n</code></pre>\n\n<p>I'm using a dictionary style type cause that'll support everything. But you could change that to <code>avoidSudo: boolean;</code> if you don't want a general definition.</p>\n\n<pre><code>export interface IHttpServiceWithCustomConfig extends ng.IHttpService {\n    get&lt;T&gt;(url: string, config?: IRequestShortcutConfigWithCustomConfig): ng.IHttpPromise&lt;T&gt;;\n}\n</code></pre>\n\n<p>Then in your controller you just use the new interface.</p>\n\n<pre><code>constructor(private $http: IHttpServiceWithCustomConfig) {\n    $http.get(\"/api/sessions/current\", { avoidSudo: true }\n}\n</code></pre>\n\n<p>You do the exact same with <code>IHttpInterceptor</code></p>\n\n<pre><code>export interface IRequestConfigWithCustomConfig extends ng.IRequestConfig, IRequestShortcutConfigWithCustomConfig {\n\n}\n\nexport interface IHttpInterceptorWithCustomConfig extends ng.IHttpInterceptor {\n    request?: (config: IRequestConfigWithCustomConfig) =&gt; IRequestConfigWithCustomConfig | ng.IPromise&lt;IRequestConfigWithCustomConfig&gt;;\n}\n</code></pre>\n"}], "owner": {"reputation": 1029, "user_id": 476345, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8982d345f5955665f31cfb2bfe66c214?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Camblor", "link": "https://stackoverflow.com/users/476345/fr%c3%a9d%c3%a9ric-camblor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 718, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470228955, "creation_date": 1449662901, "last_edit_date": 1449670353, "question_id": 34178474, "link": "https://stackoverflow.com/questions/34178474/using-http-interceptor-with-custom-fields-in-a-typesafe-manner-in-angular-typ", "title": "Using $http interceptor with custom fields in a typesafe manner in angular + typescript", "body": "<p>I currently implemented an angular <code>$http</code> interceptor adding custom headers to requests based on a localstorage value (I need to implement a \"Su\" feature in my app)</p>\n\n<p>I need to \"deactivate\" this behaviour on some special requests (=I need to be able to configure this on a per-request basis), and I'd like to do this by putting an extra config parameter denoting this when calling my <code>$http</code> methods.</p>\n\n<p>The interceptor is looking like this :</p>\n\n<pre><code>$httpProvider.interceptors.push((localStorageService: ng.local.storage.ILocalStorageService) =&gt; {\n    return {\n        request: (config: ng.IRequestShortcutConfig) =&gt; {\n            var su = localStorageService.get&lt;string&gt;('Su');\n            if(su &amp;&amp; !(\"avoidSudo\" in config)){\n                config.headers.Su = `{ \"principal\": \"${su}\" }`;\n            }\n            return config;\n        }\n    }\n});\n</code></pre>\n\n<p>And the <code>$http</code> service call is looking like this when I want to deactivate my \"su\" feature :</p>\n\n<pre><code>this.$http.get('/api/sessions/current', { avoidSudo: true })\n</code></pre>\n\n<p>In typescript 1.6, this code doesn't compile as <code>$http.get()</code>'s second argument is expected to be a <code>ng.IRequestShortcutConfig</code> which obviously doesn't contain my specific <code>avoidSudo</code> field (Typescript compilation error is perfectly right here)</p>\n\n<p>I can workaround the compilation error by replacing the <code>{ avoidSudo: true }</code> by <code>&lt;any&gt;{ avoidSudo: true }</code> but this is clearly not ideal in terms of typesafety</p>\n\n<p>I tried to create a new <code>SkipSudoRequestShortcutConfig</code> dedicated class (implementing <code>ng.IRequestShortcutConfig</code>) for this purpose. Something like this :</p>\n\n<pre><code>module mymodule {\n  export class SkipSudoRequestShortcutConfig implements ng.IRequestShortcutConfig { \n    // For testing purposes only\n    _noSudo: boolean;\n    constructor(\n            public params?: any,\n            public headers?: any,\n            public xsrfHeaderName?: string,\n            public xsrfCookieName?: string,\n            public cache?: any,\n            public withCredentials?: boolean,\n            public data?: any,\n            public transformRequest?: any,\n            public transformResponse?: any,\n            public timeout?: any,\n            public responseType?: string\n    ){\n        this._noSudo = true;\n    }\n  }\n}\n</code></pre>\n\n<p>called like this :</p>\n\n<pre><code>var config = new SkipSudoRequestShortcutConfig();\nconsole.log(config instanceof SkipSudoRequestShortcutConfig); // Shows true\nconsole.log(config._noSudo); // Shows true\nthis.$http.get('/api/sessions/current', config)\n</code></pre>\n\n<p>and used like this in the interceptor :</p>\n\n<pre><code>        request: (config: ng.IRequestShortcutConfig) =&gt; {\n            var su = localStorageService.get&lt;string&gt;('Su');\n            console.log(config instanceof SkipSudoRequestShortcutConfig); // Shows *false* :(\n            // console.log(config._noSudo); // Doesn't compile, but if executed at runtime with a breakpoint, it works and display true\n            if(su &amp;&amp; !(config instanceof mymodule.SkipSudoRequestShortcutConfig)){\n                config.headers.Su = `{ \"principal\": \"${su}\" }`;\n            }\n            return config;\n        }\n</code></pre>\n\n<p>but once in the <code>request</code> handler, the <code>instanceof</code> test was falsy.</p>\n\n<p>I was wondering what would be the best/simplest way to achieve this goal.\nDo you think the <code>ng.IRequestShortcutConfig</code> is missing a special <code>config</code> field allowing to put custom fields from <code>$http</code> invocations to interceptor handlers ?</p>\n\n<p>Thanks in advance,</p>\n"}, {"tags": ["angular", "typescript", "dependency-injection"], "answers": [{"comments": [{"owner": {"reputation": 2442, "user_id": 2988776, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/LQEd5.png?s=128&g=1", "display_name": "Ravinder Payal", "link": "https://stackoverflow.com/users/2988776/ravinder-payal"}, "edited": false, "score": 0, "creation_date": 1463030246, "post_id": 35003208, "comment_id": 61889766, "body": "but when i change the <code>window.var</code> the content of page doesn&#39;t change"}, {"owner": {"reputation": 386, "user_id": 1238411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c68dd172844799555f3a862f759c67?s=128&d=identicon&r=PG", "display_name": "daveb", "link": "https://stackoverflow.com/users/1238411/daveb"}, "edited": false, "score": 7, "creation_date": 1464343668, "post_id": 35003208, "comment_id": 62458160, "body": "This did not work in Safari as Window is not Injectable. I had to create my own Injectable type which contained the properties of Window that I required. A better approach may have been to to create a service as described in the other answers"}, {"owner": {"reputation": 960, "user_id": 489568, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2KR8P.png?s=128&g=1", "display_name": "Levi Lindsey", "link": "https://stackoverflow.com/users/489568/levi-lindsey"}, "edited": false, "score": 1, "creation_date": 1510619637, "post_id": 35003208, "comment_id": 81502764, "body": "This approach does not work, because useValue actually creates a copy of the value you provide for it. See: <a href=\"https://github.com/angular/angular/issues/10788#issuecomment-300614425\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/10788#issuecomment-3006144&zwnj;&#8203;25</a>. This approach would work if you changed it to use useFactory and return the value from a callback."}], "tags": [], "owner": {"reputation": 211, "user_id": 5839252, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Miwg0T5rgTY/AAAAAAAAAAI/AAAAAAAAENE/CfB64dsSON8/photo.jpg?sz=128", "display_name": "Paul Dutka", "link": "https://stackoverflow.com/users/5839252/paul-dutka"}, "is_accepted": false, "score": 21, "last_activity_date": 1453759114, "creation_date": 1453759114, "answer_id": 35003208, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/35003208#35003208", "title": "How to inject window into a service?", "body": "<p>You can just inject it after you've set the provider:</p>\n\n<pre><code>import {provide} from 'angular2/core';\nbootstrap(..., [provide(Window, {useValue: window})]);\n\nconstructor(private window: Window) {\n    // this.window\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 456, "user_id": 2098068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VERMC.jpg?s=128&g=1", "display_name": "Will de la Vega", "link": "https://stackoverflow.com/users/2098068/will-de-la-vega"}, "is_accepted": false, "score": 6, "last_activity_date": 1461789016, "creation_date": 1461789016, "answer_id": 36900268, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/36900268#36900268", "title": "How to inject window into a service?", "body": "<p>As of today (April 2016), the code in the previous solution doesn't work, I think it is possible to inject window directly into App.ts and then gather the values you need into a service for global access in the App, but if you prefer to create and inject your own service, a way simpler solution is this.</p>\n\n<p><a href=\"https://gist.github.com/WilldelaVega777/9afcbd6cc661f4107c2b74dd6090cebf\" rel=\"noreferrer\">https://gist.github.com/WilldelaVega777/9afcbd6cc661f4107c2b74dd6090cebf</a></p>\n\n<pre><code>//--------------------------------------------------------------------------------------------------\n// Imports Section:\n//--------------------------------------------------------------------------------------------------\nimport {Injectable} from 'angular2/core'\nimport {window} from 'angular2/src/facade/browser';\n\n//--------------------------------------------------------------------------------------------------\n// Service Class:\n//--------------------------------------------------------------------------------------------------\n@Injectable()\nexport class WindowService\n{\n    //----------------------------------------------------------------------------------------------\n    // Constructor Method Section:\n    //----------------------------------------------------------------------------------------------\n    constructor(){}\n\n    //----------------------------------------------------------------------------------------------\n    // Public Properties Section:\n    //----------------------------------------------------------------------------------------------\n    get nativeWindow() : Window\n    {\n        return window;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15679, "user_id": 369450, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5cf82bfcd75a3bd40deaad83f7657c59?s=128&d=identicon&r=PG&f=1", "display_name": "All Workers Are Essential", "link": "https://stackoverflow.com/users/369450/all-workers-are-essential"}, "edited": false, "score": 2, "creation_date": 1461869546, "post_id": 36922788, "comment_id": 61407746, "body": "While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference. Link-only answers can become invalid if the linked page changes."}], "tags": [], "owner": {"reputation": 81, "user_id": 6268175, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u-zkZ-bcFV4/AAAAAAAAAAI/AAAAAAAAAqQ/KGXP4uh-PI0/photo.jpg?sz=128", "display_name": "SirDarquan", "link": "https://stackoverflow.com/users/6268175/sirdarquan"}, "is_accepted": false, "score": 3, "last_activity_date": 1461868308, "creation_date": 1461868308, "answer_id": 36922788, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/36922788#36922788", "title": "How to inject window into a service?", "body": "<p>I know the question is how to inject the window object into a component but you're doing this just to get to localStorage it seems. If you realy just want localStorage, why not use a service that exposes just that, like <a href=\"https://github.com/SirDarquan/h5webstorage\" rel=\"nofollow\">h5webstorage</a>. Then you component will describe its real dependencies which makes your code more readable.</p>\n"}, {"comments": [{"owner": {"reputation": 1147, "user_id": 4364074, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/BslZw.png?s=128&g=1", "display_name": "TrieuNomad", "link": "https://stackoverflow.com/users/4364074/trieunomad"}, "edited": false, "score": 1, "creation_date": 1466119760, "post_id": 37176929, "comment_id": 63198569, "body": "Having the @Inject in the constructor parameters threw a bunch of errors for me such as <code>ORIGINAL EXCEPTION: No provider for Window!</code>. However, removing it fixed the problem for me. Using just the first 2 global lines was sufficient for me."}, {"owner": {"reputation": 9271, "user_id": 227622, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bdea66420888d70b8e2f864c04b43fd9?s=128&d=identicon&r=PG", "display_name": "elwyn", "link": "https://stackoverflow.com/users/227622/elwyn"}, "reply_to_user": {"reputation": 1147, "user_id": 4364074, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/BslZw.png?s=128&g=1", "display_name": "TrieuNomad", "link": "https://stackoverflow.com/users/4364074/trieunomad"}, "edited": false, "score": 0, "creation_date": 1466128648, "post_id": 37176929, "comment_id": 63200383, "body": "Interesting ^^ I will have to try it in a couple more demo projects - without the <code>@Inject</code> I was getting <code>No provider for Window</code> errors. That&#39;s pretty nice not needing the manual <code>@Inject</code>!"}, {"owner": {"reputation": 11498, "user_id": 1264846, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/87e2978960ad82ab77fcd409e0dd72d6?s=128&d=identicon&r=PG", "display_name": "James Kleeh", "link": "https://stackoverflow.com/users/1264846/james-kleeh"}, "edited": false, "score": 0, "creation_date": 1479228942, "post_id": 37176929, "comment_id": 68464949, "body": "On 2.1.2 I had to use <code>@Inject(Window)</code> for this to work"}, {"owner": {"reputation": 678, "user_id": 3250019, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/WdrcN.png?s=128&g=1", "display_name": "j3r6me", "link": "https://stackoverflow.com/users/3250019/j3r6me"}, "edited": false, "score": 0, "creation_date": 1479391593, "post_id": 37176929, "comment_id": 68545038, "body": "Using this solution (both with or without @inject), when I try to compile my app with the ngc compiler (aot) I get the following error: <code>Could not resolve type Window</code>. With the tsc compiler I get no error. FYI, I try to use Window in a service, not a component."}, {"owner": {"reputation": 10679, "user_id": 1015648, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7261d414a78ed3118aa86a5e0c8a93d1?s=128&d=identicon&r=PG", "display_name": "Murhaf Sousli", "link": "https://stackoverflow.com/users/1015648/murhaf-sousli"}, "edited": false, "score": 0, "creation_date": 1480036796, "post_id": 37176929, "comment_id": 68814810, "body": "Not working.. I&#39;m getting <code>metadata_resolver.js:623Uncaught Error: Can&#39;t resolve all parameters for NewComponent: ( ?)</code>"}, {"owner": {"reputation": 5875, "user_id": 4383512, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PdRqP.png?s=128&g=1", "display_name": "Meme Composer", "link": "https://stackoverflow.com/users/4383512/meme-composer"}, "edited": false, "score": 0, "creation_date": 1482787294, "post_id": 37176929, "comment_id": 69875370, "body": "<i>you could probably write yourself an interface if you want better typing than <code>any</code></i>. <b>Note:</b> You <b>can&#39;t</b> use an interface as a type in angular DI"}, {"owner": {"reputation": 9271, "user_id": 227622, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bdea66420888d70b8e2f864c04b43fd9?s=128&d=identicon&r=PG", "display_name": "elwyn", "link": "https://stackoverflow.com/users/227622/elwyn"}, "reply_to_user": {"reputation": 5875, "user_id": 4383512, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PdRqP.png?s=128&g=1", "display_name": "Meme Composer", "link": "https://stackoverflow.com/users/4383512/meme-composer"}, "edited": false, "score": 0, "creation_date": 1482790386, "post_id": 37176929, "comment_id": 69876235, "body": "@Dummy I believe you <i>CAN</i> use an interface as a type in Angular DI if you are using <code>@Inject</code> to explicitly provide a type or key to resolve the DI from. E.g. above where it has <code>@Inject(&#39;Window&#39;)</code> that tells Angular WHAT to inject, so at that point the type you give is irrelevant to Angular, so you could happily use <code>IWindow</code>"}, {"owner": {"reputation": 5875, "user_id": 4383512, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PdRqP.png?s=128&g=1", "display_name": "Meme Composer", "link": "https://stackoverflow.com/users/4383512/meme-composer"}, "edited": false, "score": 1, "creation_date": 1482790754, "post_id": 37176929, "comment_id": 69876331, "body": "<a href=\"https://angular.io/docs/ts/latest/guide/dependency-injection.html#!#dependency-injection-tokens\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/&hellip;</a>. Oh my bad, didn&#39;t read carefully"}, {"owner": {"reputation": 180, "user_id": 1359129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/464c8b226dfb321be2a9a6b24d95523b?s=128&d=identicon&r=PG", "display_name": "Dunos", "link": "https://stackoverflow.com/users/1359129/dunos"}, "edited": false, "score": 0, "creation_date": 1483026012, "post_id": 37176929, "comment_id": 69967585, "body": "@elwyn I don&#39;t get error in AoT but a warning:   <code>export &#39;window&#39; (imported as &#39;import1&#39;) was not found in &#39;.&#47;app.module&#39;</code> and the app doesn&#39;t work once I open it in the browser :/"}, {"owner": {"reputation": 9271, "user_id": 227622, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bdea66420888d70b8e2f864c04b43fd9?s=128&d=identicon&r=PG", "display_name": "elwyn", "link": "https://stackoverflow.com/users/227622/elwyn"}, "reply_to_user": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "edited": false, "score": 2, "creation_date": 1515610551, "post_id": 37176929, "comment_id": 83369204, "body": "@Brian yes, it&#39;s still accessing <code>window</code>, but with the service in between it allows stubbing out native <code>window</code> stuff in unit tests, and as you mention for SSR an alternate service can be provided which exposes a mock/noop window for the server. The reason I mention AOT is several of the early solutions for wrapping window broke in AOT when Angular updated."}], "tags": [], "owner": {"reputation": 9271, "user_id": 227622, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bdea66420888d70b8e2f864c04b43fd9?s=128&d=identicon&r=PG", "display_name": "elwyn", "link": "https://stackoverflow.com/users/227622/elwyn"}, "is_accepted": false, "score": 138, "last_activity_date": 1522194818, "last_edit_date": 1522194818, "creation_date": 1463025097, "answer_id": 37176929, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/37176929#37176929", "title": "How to inject window into a service?", "body": "<p>This is working for me currently (2018-03, angular 5.2 with AoT, tested in angular-cli and a custom webpack build):</p>\n\n<p>First, create an injectable service that provides a reference to window:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n// This interface is optional, showing how you can add strong typings for custom globals.\n// Just use \"Window\" as the type if you don't have custom global stuff\nexport interface ICustomWindow extends Window {\n    __custom_global_stuff: string;\n}\n\nfunction getWindow (): any {\n    return window;\n}\n\n@Injectable()\nexport class WindowRefService {\n    get nativeWindow (): ICustomWindow {\n        return getWindow();\n    }\n}\n</code></pre>\n\n<p>Now, register that service with your root AppModule so it can be injected everywhere:</p>\n\n<pre><code>import { WindowRefService } from './window-ref.service';\n\n@NgModule({        \n  providers: [\n    WindowRefService \n  ],\n  ...\n})\nexport class AppModule {}\n</code></pre>\n\n<p>and then later on where you need to inject <code>window</code>:</p>\n\n<pre><code>import { Component} from '@angular/core';\nimport { WindowRefService, ICustomWindow } from './window-ref.service';\n\n@Component({ ... })\nexport default class MyCoolComponent {\n    private _window: ICustomWindow;\n\n    constructor (\n        windowRef: WindowRefService\n    ) {\n        this._window = windowRef.nativeWindow;\n    }\n\n    public doThing (): void {\n        let foo = this._window.XMLHttpRequest;\n        let bar = this._window.__custom_global_stuff;\n    }\n...\n</code></pre>\n\n<p>You may also wish to add <code>nativeDocument</code> and other globals to this service in a similar way if you use these in your application.</p>\n\n<hr>\n\n<p><em>edit:\nUpdated with Truchainz suggestion.\nedit2:\nUpdated for angular 2.1.2\nedit3:\nAdded AoT notes\nedit4:\nAdding <code>any</code> type workaround note\nedit5: Updated solution to use a WindowRefService which fixes an error I was getting when using previous solution with a different build\nedit6: adding example custom Window typing</em></p>\n"}, {"tags": [], "owner": {"reputation": 754, "user_id": 5498059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c2154859d4685421b3555c83173973d?s=128&d=identicon&r=PG&f=1", "display_name": "JNK", "link": "https://stackoverflow.com/users/5498059/jnk"}, "is_accepted": false, "score": 38, "last_activity_date": 1471442258, "last_edit_date": 1471442258, "creation_date": 1470837053, "answer_id": 38875374, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/38875374#38875374", "title": "How to inject window into a service?", "body": "<p>With the release of angular 2.0.0-rc.5 NgModule was introduced. The previous solution stopped working for me. This is what I did to fix it:</p>\n\n<p>app.module.ts:</p>\n\n<pre><code>@NgModule({        \n  providers: [\n    { provide: 'Window',  useValue: window }\n  ],\n  declarations: [...],\n  imports: [...]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>In some component:</p>\n\n<pre><code>import { Component, Inject } from '@angular/core';\n\n@Component({...})\nexport class MyComponent {\n    constructor (@Inject('Window') window: Window) {}\n}\n</code></pre>\n\n<p>You could also use an <a href=\"https://angular.io/docs/ts/latest/api/core/index/OpaqueToken-class.html\" rel=\"noreferrer\">OpaqueToken</a> instead of the string 'Window'</p>\n\n<p>Edit:</p>\n\n<p>The AppModule is used to bootstrap your application in main.ts like this:</p>\n\n<pre><code>import { platformBrowserDynamic  } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n</code></pre>\n\n<p>For more information about NgModule read the Angular 2 documentation: <a href=\"https://angular.io/docs/ts/latest/guide/ngmodule.html\" rel=\"noreferrer\">https://angular.io/docs/ts/latest/guide/ngmodule.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 2749890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uWhPg.jpg?s=128&g=1", "display_name": "Chyngyz", "link": "https://stackoverflow.com/users/2749890/chyngyz"}, "is_accepted": false, "score": 9, "last_activity_date": 1471167178, "creation_date": 1471167178, "answer_id": 38940899, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/38940899#38940899", "title": "How to inject window into a service?", "body": "<p>I used <a href=\"https://angular.io/docs/ts/latest/api/core/index/OpaqueToken-class.html\">OpaqueToken</a> for 'Window' string: </p>\n\n<pre><code>import {unimplemented} from '@angular/core/src/facade/exceptions';\nimport {OpaqueToken, Provider} from '@angular/core/index';\n\nfunction _window(): any {\n    return window;\n}\n\nexport const WINDOW: OpaqueToken = new OpaqueToken('WindowToken');\n\nexport abstract class WindowRef {\n    get nativeWindow(): any {\n        return unimplemented();\n    }\n}\n\nexport class BrowserWindowRef extends WindowRef {\n    constructor() {\n        super();\n    }\n    get nativeWindow(): any {\n        return _window();\n    }\n}\n\n\nexport const WINDOW_PROVIDERS = [\n    new Provider(WindowRef, { useClass: BrowserWindowRef }),\n    new Provider(WINDOW, { useFactory: _window, deps: [] }),\n];\n</code></pre>\n\n<p>And used just to import <code>WINDOW_PROVIDERS</code> in bootstrap in Angular 2.0.0-rc-4.</p>\n\n<p>But with the release of Angular 2.0.0-rc.5 I need to create a separate module:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { WINDOW_PROVIDERS } from './window';\n\n@NgModule({\n    providers: [WINDOW_PROVIDERS]\n})\nexport class WindowModule { }\n</code></pre>\n\n<p>and just defined in the imports property of my main <code>app.module.ts</code></p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { WindowModule } from './other/window.module';\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n    imports: [ BrowserModule, WindowModule ],\n    declarations: [ ... ],\n    providers: [ ... ],\n    bootstrap: [ AppComponent ]\n})\nexport class AppModule {}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1837, "user_id": 1182510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8110748e5e181ddb8bbd155207abeb33?s=128&d=identicon&r=PG", "display_name": "Joel Davey", "link": "https://stackoverflow.com/users/1182510/joel-davey"}, "is_accepted": false, "score": 10, "last_activity_date": 1473857673, "creation_date": 1473857673, "answer_id": 39490986, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/39490986#39490986", "title": "How to inject window into a service?", "body": "<p>In Angular RC4 the following works which is a combination of some of the above answers, in your root app.ts add it the providers:</p>\n\n<pre><code>@Component({\n    templateUrl: 'build/app.html',\n    providers: [\n        anotherProvider,\n        { provide: Window, useValue: window }\n    ]\n})\n</code></pre>\n\n<p>Then in your service etc inject it into the constructor</p>\n\n<pre><code>constructor(\n      @Inject(Window) private _window: Window,\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35167, "user_id": 46194, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4eca63bc630dcac855080d2871f73ee7?s=128&d=identicon&r=PG", "display_name": "Klas Mellbourn", "link": "https://stackoverflow.com/users/46194/klas-mellbourn"}, "is_accepted": false, "score": 16, "last_activity_date": 1477595524, "last_edit_date": 1477595524, "creation_date": 1477594606, "answer_id": 40292188, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/40292188#40292188", "title": "How to inject window into a service?", "body": "<p>To get it to work on Angular 2.1.1 I had to <code>@Inject</code> window using a string</p>\n\n<pre><code>  constructor( @Inject('Window') private window: Window) { }\n</code></pre>\n\n<p>and then mock it like this</p>\n\n<pre><code>beforeEach(() =&gt; {\n  let windowMock: Window = &lt;any&gt;{ };\n  TestBed.configureTestingModule({\n    providers: [\n      ApiUriService,\n      { provide: 'Window', useFactory: (() =&gt; { return windowMock; }) }\n    ]\n  });\n</code></pre>\n\n<p>and in the ordinary <code>@NgModule</code> I provide it like this</p>\n\n<pre><code>{ provide: 'Window', useValue: window }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20612, "user_id": 667767, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ab22d2f4c3742da613049b9401721942?s=128&d=identicon&r=PG", "display_name": "maxisam", "link": "https://stackoverflow.com/users/667767/maxisam"}, "is_accepted": false, "score": 7, "last_activity_date": 1493779475, "last_edit_date": 1493779475, "creation_date": 1493760734, "answer_id": 43747590, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/43747590#43747590", "title": "How to inject window into a service?", "body": "<p>Angular 4 introduce InjectToken, and they also create a token for document called <a href=\"https://github.com/angular/angular/blob/bebedfed24d6fbfa492e97f071e1d1b41e411280/packages/platform-browser/src/dom/dom_tokens.ts#L19\" rel=\"noreferrer\">DOCUMENT</a>. I think this is the official solution and it works in AoT.</p>\n\n<p>I use the same logic to create a small library called <a href=\"https://www.npmjs.com/package/ngx-window-token\" rel=\"noreferrer\">ngx-window-token</a> to prevent doing this over and over. </p>\n\n<p>I have used it in other project and build in AoT without issues.</p>\n\n<p>Here is how I used it in <a href=\"https://github.com/maxisam/ngx-no-animation-for-dinosaur\" rel=\"noreferrer\">other package</a> </p>\n\n<p>Here is the <a href=\"https://plnkr.co/edit/uy2UfN0sD5I2qoNotGu7?p=preview\" rel=\"noreferrer\">plunker</a></p>\n\n<p>In your module </p>\n\n<p><code>\nimports: [ BrowserModule, WindowTokenModule ]\n</code>\nIn your component</p>\n\n<p><code>\nconstructor(@Inject(WINDOW) _window) { }\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 543, "user_id": 3391092, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/104d8801a2deddf54204e23e34b33736?s=128&d=identicon&r=PG&f=1", "display_name": "nwarp", "link": "https://stackoverflow.com/users/3391092/nwarp"}, "is_accepted": false, "score": 3, "last_activity_date": 1495190656, "creation_date": 1495190656, "answer_id": 44068014, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/44068014#44068014", "title": "How to inject window into a service?", "body": "<p>This is the shortest/cleanest answer that I've found working with Angular 4 AOT</p>\n\n<p>Source:\n<a href=\"https://github.com/angular/angular/issues/12631#issuecomment-274260009\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/12631#issuecomment-274260009</a></p>\n\n<pre><code>@Injectable()\nexport class WindowWrapper extends Window {}\n\nexport function getWindow() { return window; }\n\n@NgModule({\n  ...\n  providers: [\n    {provide: WindowWrapper, useFactory: getWindow}\n  ]\n  ...\n})\nexport class AppModule {\n  constructor(w: WindowWrapper) {\n    console.log(w);\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6030, "user_id": 5138198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879959d73f7b9e7959d3b7ea78a0ec1b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Nikulin", "link": "https://stackoverflow.com/users/5138198/alex-nikulin"}, "edited": false, "score": 0, "creation_date": 1596002177, "post_id": 44576713, "comment_id": 111664861, "body": "If you do server-side rendering, you code will be broken.Because on srver-side you haven&#39;t any window object, and you need inject your own."}], "tags": [], "owner": {"reputation": 2034, "user_id": 1861422, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/QxV5T.jpg?s=128&g=1", "display_name": "S.Galarneau", "link": "https://stackoverflow.com/users/1861422/s-galarneau"}, "is_accepted": false, "score": 11, "last_activity_date": 1497559862, "last_edit_date": 1497559862, "creation_date": 1497559426, "answer_id": 44576713, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/44576713#44576713", "title": "How to inject window into a service?", "body": "<p>Before the @Component declaration, you can do that too,</p>\n\n<pre><code>declare var window: any;\n</code></pre>\n\n<p>The compiler will actually let you then access the global window variable now since you declare it as an assumed global variable with type any.</p>\n\n<p>I wouldn't suggest to access window everywhere in your application though, You should create services that access/modify the needed window attributes (and inject those services in your components) to scope what you can do with the window without letting them to modify the whole window object.</p>\n"}, {"tags": [], "owner": {"reputation": 738, "user_id": 5799931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2DE6J.jpg?s=128&g=1", "display_name": "Andrew Alderson", "link": "https://stackoverflow.com/users/5799931/andrew-alderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1497578606, "creation_date": 1497578606, "answer_id": 44579675, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/44579675#44579675", "title": "How to inject window into a service?", "body": "<p>@maxisam thanks for <a href=\"https://www.npmjs.com/package/ngx-window-token\" rel=\"nofollow noreferrer\">ngx-window-token</a>. I was doing something similar but switched to yours. This is my service for listening to window resize events and notifying subscribers.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Inject, Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/observable/fromEvent';\r\nimport { WINDOW } from 'ngx-window-token';\r\n\r\n\r\nexport interface WindowSize {\r\n    readonly width: number;\r\n    readonly height: number;\r\n}\r\n\r\n@Injectable()\r\nexport class WindowSizeService {\r\n\r\n    constructor( @Inject(WINDOW) private _window: any ) {\r\n        Observable.fromEvent(_window, 'resize')\r\n        .auditTime(100)\r\n        .map(event =&gt; &lt;WindowSize&gt;{width: event['currentTarget'].innerWidth, height: event['currentTarget'].innerHeight})\r\n        .subscribe((windowSize) =&gt; {\r\n            this.windowSizeChanged$.next(windowSize);\r\n        });\r\n    }\r\n\r\n    readonly windowSizeChanged$ = new BehaviorSubject&lt;WindowSize&gt;(&lt;WindowSize&gt;{width: this._window.innerWidth, height: this._window.innerHeight});\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Short and sweet and works like a charm.</p>\n"}, {"tags": [], "owner": {"reputation": 374, "user_id": 2564889, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1225059766/picture?type=large", "display_name": "Vytautas Pranskunas", "link": "https://stackoverflow.com/users/2564889/vytautas-pranskunas"}, "is_accepted": false, "score": 4, "last_activity_date": 1501682843, "last_edit_date": 1501682843, "creation_date": 1501682643, "answer_id": 45463134, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/45463134#45463134", "title": "How to inject window into a service?", "body": "<p>It is enough to do </p>\n\n<pre><code>export class AppWindow extends Window {} \n</code></pre>\n\n<p>and do </p>\n\n<pre><code>{ provide: 'AppWindow', useValue: window } \n</code></pre>\n\n<p>to make AOT happy</p>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 1800387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8408f11d4e1f40ee6e5055fe5289e97d?s=128&d=identicon&r=PG", "display_name": "Leonardo Pinto", "link": "https://stackoverflow.com/users/1800387/leonardo-pinto"}, "is_accepted": false, "score": 2, "last_activity_date": 1503674515, "creation_date": 1503674515, "answer_id": 45884674, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/45884674#45884674", "title": "How to inject window into a service?", "body": "<p>You can use NgZone on Angular 4:</p>\n\n<pre><code>import { NgZone } from '@angular/core';\n\nconstructor(private zone: NgZone) {}\n\nprint() {\n    this.zone.runOutsideAngular(() =&gt; window.print());\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 172, "user_id": 8204937, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wz3OkeKMat8/AAAAAAAAAAI/AAAAAAAAAEk/NA1-mbKQGSM/photo.jpg?sz=128", "display_name": "Vasyl Petrov", "link": "https://stackoverflow.com/users/8204937/vasyl-petrov"}, "is_accepted": false, "score": 4, "last_activity_date": 1504197542, "last_edit_date": 1504197542, "creation_date": 1504187225, "answer_id": 45983074, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/45983074#45983074", "title": "How to inject window into a service?", "body": "<p>There is an opportunity for direct access to the object of window through the document</p>\n\n<pre><code>document.defaultView == window\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 4, "creation_date": 1517395405, "post_id": 48540071, "comment_id": 84075365, "body": "That&#39;s not good advice. Dependency Injection makes classes (components, directives, services, pipes, ...) easier to test (for example even without a browser) and easier to reuse on different platforms like server-side rendering or Web Workers. It might work for some and the simplicity might have some appeal, but discouraging using DI is IMHO a bad answer."}, {"owner": {"reputation": 6030, "user_id": 5138198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879959d73f7b9e7959d3b7ea78a0ec1b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Nikulin", "link": "https://stackoverflow.com/users/5138198/alex-nikulin"}, "edited": false, "score": 0, "creation_date": 1596002134, "post_id": 48540071, "comment_id": 111664851, "body": "If you do server-side rendering, you code will be broken.Because on srver-side you haven&#39;t any window object, and you need inject your own."}], "tags": [], "owner": {"reputation": 2643, "user_id": 2366637, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/sj5JY.jpg?s=128&g=1", "display_name": "Shivang Gupta", "link": "https://stackoverflow.com/users/2366637/shivang-gupta"}, "is_accepted": false, "score": -1, "last_activity_date": 1517395085, "creation_date": 1517395085, "answer_id": 48540071, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/48540071#48540071", "title": "How to inject window into a service?", "body": "<p>Getting window object via DI(Dependency Injection) is not a good idea when global variables are accessible throughout the application.</p>\n\n<p>But if you don't want to use window object then you can also use <code>self</code> keyword which also points to window object.</p>\n"}, {"comments": [{"owner": {"reputation": 6030, "user_id": 5138198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879959d73f7b9e7959d3b7ea78a0ec1b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Nikulin", "link": "https://stackoverflow.com/users/5138198/alex-nikulin"}, "edited": false, "score": 0, "creation_date": 1596002075, "post_id": 51232489, "comment_id": 111664825, "body": "If you do server-side rendering, you code will be broken.Because on srver-side you haven&#39;t any window object, and you need inject your own."}], "tags": [], "owner": {"reputation": 2377, "user_id": 1561922, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6b1e1632e072f174d9561f3d3796da0c?s=128&d=identicon&r=PG", "display_name": "geoyws", "link": "https://stackoverflow.com/users/1561922/geoyws"}, "is_accepted": false, "score": -1, "last_activity_date": 1531056584, "creation_date": 1531056584, "answer_id": 51232489, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/51232489#51232489", "title": "How to inject window into a service?", "body": "<p>Keep it simple, folks!</p>\n\n<pre><code>export class HeroesComponent implements OnInit {\n  heroes: Hero[];\n  window = window;\n}\n\n&lt;div&gt;{{window.Object.entries({ foo: 1 }) | json}}&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6030, "user_id": 5138198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879959d73f7b9e7959d3b7ea78a0ec1b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Nikulin", "link": "https://stackoverflow.com/users/5138198/alex-nikulin"}, "is_accepted": false, "score": 26, "last_activity_date": 1538544201, "creation_date": 1538544201, "answer_id": 52620181, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/52620181#52620181", "title": "How to inject window into a service?", "body": "<p>You can get window from injected document.</p>\n\n<pre><code>import { Inject } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nexport class MyClass {\n\n  constructor(@Inject(DOCUMENT) private document: Document) {\n     this.window = this.document.defaultView;\n  }\n\n  check() {\n    console.log(this.document);\n    console.log(this.window);\n  }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6030, "user_id": 5138198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879959d73f7b9e7959d3b7ea78a0ec1b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Nikulin", "link": "https://stackoverflow.com/users/5138198/alex-nikulin"}, "edited": false, "score": 0, "creation_date": 1596002046, "post_id": 53286647, "comment_id": 111664820, "body": "If you do server-side rendering, you code will be broken.Because on srver-side you haven&#39;t any window object, and you need inject your own."}], "tags": [], "owner": {"reputation": 674, "user_id": 5374995, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ESjtc.jpg?s=128&g=1", "display_name": "Vikas Kandari", "link": "https://stackoverflow.com/users/5374995/vikas-kandari"}, "is_accepted": false, "score": -2, "last_activity_date": 1542130638, "creation_date": 1542130638, "answer_id": 53286647, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/53286647#53286647", "title": "How to inject window into a service?", "body": "<p>Actually its very simple to access window object \nhere is my basic component  and i tested it its working</p>\n\n<pre><code>import { Component, OnInit,Inject } from '@angular/core';\nimport {DOCUMENT} from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-verticalbanners',\n  templateUrl: './verticalbanners.component.html',\n  styleUrls: ['./verticalbanners.component.css']\n})\nexport class VerticalbannersComponent implements OnInit {\n\n  constructor(){ }\n\n  ngOnInit() {\n    console.log(window.innerHeight );\n  }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "is_accepted": false, "score": 2, "last_activity_date": 1542160935, "creation_date": 1542160935, "answer_id": 53292144, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/53292144#53292144", "title": "How to inject window into a service?", "body": "<p>It's also a good idea to mark the <code>DOCUMENT</code> as optional.  Per the Angular docs:</p>\n\n<blockquote>\n  <p>Document might not be available in the Application Context when Application and Rendering Contexts are not the same (e.g. when running the application into a Web Worker).</p>\n</blockquote>\n\n<p>Here's an example of using the <code>DOCUMENT</code> to see whether the browser has SVG support:</p>\n\n<pre><code>import { Optional, Component, Inject } from '@angular/core';\nimport { DOCUMENT } from '@angular/common'\n\n...\n\nconstructor(@Optional() @Inject(DOCUMENT) document: Document) {\n   this.supportsSvg = !!(\n   document &amp;&amp;\n   document.createElementNS &amp;&amp;\n   document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 6810154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MVytc.jpg?s=128&g=1", "display_name": "Sparker73", "link": "https://stackoverflow.com/users/6810154/sparker73"}, "edited": false, "score": 1, "creation_date": 1578156482, "post_id": 56856400, "comment_id": 105350738, "body": "So, I put this in my providers folder (for instance) and then I use in my component&#39;s constructor this injection token? <code>@Inject(WINDOW) private _window: any</code> and use it like the DOCUMENT injection token provided by Angular?"}, {"owner": {"reputation": 2784, "user_id": 2706426, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rcyvn.jpg?s=128&g=1", "display_name": "waterplea", "link": "https://stackoverflow.com/users/2706426/waterplea"}, "reply_to_user": {"reputation": 123, "user_id": 6810154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MVytc.jpg?s=128&g=1", "display_name": "Sparker73", "link": "https://stackoverflow.com/users/6810154/sparker73"}, "edited": false, "score": 0, "creation_date": 1578572683, "post_id": 56856400, "comment_id": 105486761, "body": "Yes, that&#39;s all there is to it."}, {"owner": {"reputation": 123, "user_id": 6810154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MVytc.jpg?s=128&g=1", "display_name": "Sparker73", "link": "https://stackoverflow.com/users/6810154/sparker73"}, "edited": false, "score": 0, "creation_date": 1578705025, "post_id": 56856400, "comment_id": 105538001, "body": "Yup. It works perfectly, tanks for this simple solution."}], "tags": [], "owner": {"reputation": 2784, "user_id": 2706426, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rcyvn.jpg?s=128&g=1", "display_name": "waterplea", "link": "https://stackoverflow.com/users/2706426/waterplea"}, "is_accepted": false, "score": 10, "last_activity_date": 1606811418, "last_edit_date": 1606811418, "creation_date": 1562083733, "answer_id": 56856400, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service/56856400#56856400", "title": "How to inject window into a service?", "body": "<p>Here's another solution I came up recently after I got tired of getting <code>defaultView</code> from <code>DOCUMENT</code> built-in token and checking it for null:</p>\n<pre><code>import {DOCUMENT} from '@angular/common';\nimport {inject, InjectionToken} from '@angular/core';\n\nexport const WINDOW = new InjectionToken&lt;Window&gt;(\n    'An abstraction over global window object',\n    {\n        factory: () =&gt; {\n            const {defaultView} = inject(DOCUMENT);\n\n            if (!defaultView) {\n                throw new Error('Window is not available');\n            }\n\n            return defaultView;\n        }\n    });\n</code></pre>\n<p><strong>Note</strong>: I have released this token with many other global object accessors as a tiny library available here:\n<a href=\"https://github.com/ng-web-apis/common\" rel=\"nofollow noreferrer\">https://github.com/ng-web-apis/common</a></p>\n<p>Check out the rest of the org for many other native API libraries for Angular:\n<a href=\"https://github.com/ng-web-apis\" rel=\"nofollow noreferrer\">https://github.com/ng-web-apis</a></p>\n"}], "owner": {"reputation": 1179, "user_id": 1389911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/995437550f3b9ce979f6e471390a5c11?s=128&d=identicon&r=PG", "display_name": "lokanx", "link": "https://stackoverflow.com/users/1389911/lokanx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115483, "favorite_count": 42, "answer_count": 21, "score": 117, "last_activity_date": 1611233375, "creation_date": 1449659142, "last_edit_date": 1574168336, "question_id": 34177221, "link": "https://stackoverflow.com/questions/34177221/how-to-inject-window-into-a-service", "title": "How to inject window into a service?", "body": "<p>I'm writing an Angular 2 service in TypeScript that will make use of <code>localstorage</code>. I want to inject a reference to the browser <code>window</code> object into my service since I don't want to reference any global variables like Angular 1.x <code>$window</code>.</p>\n\n<p>How do I do that?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 10953, "user_id": 386287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/edcc4d39a62674afc24dbc14cd60538c?s=128&d=identicon&r=PG", "display_name": "kimsagro", "link": "https://stackoverflow.com/users/386287/kimsagro"}, "edited": false, "score": 0, "creation_date": 1449698930, "post_id": 34171621, "comment_id": 56126217, "body": "Hmmm.. this does not seem to be the case with angular2. I may be mistaken, but the angular2 npm package does not require you to import the type definition however it&#39;s package.json file does not have the typings property. Am I missing something?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 10953, "user_id": 386287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/edcc4d39a62674afc24dbc14cd60538c?s=128&d=identicon&r=PG", "display_name": "kimsagro", "link": "https://stackoverflow.com/users/386287/kimsagro"}, "edited": false, "score": 0, "creation_date": 1449709308, "post_id": 34171621, "comment_id": 56130248, "body": "If you do <code>&#39;angular2&#39;</code> it will not work. However they ship with <code>angular2.d.ts</code> in the <i>root</i> of the package hence <code>angular2&#47;angular2</code> <i>does work</i>"}, {"owner": {"reputation": 8667, "user_id": 105937, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ca07de5465382927e1e0c34637e1e21d?s=128&d=identicon&r=PG&f=1", "display_name": "empz", "link": "https://stackoverflow.com/users/105937/empz"}, "edited": false, "score": 1, "creation_date": 1466044932, "post_id": 34171621, "comment_id": 63157373, "body": "I still don&#39;t understand why typings are required. What if a package doesn&#39;t include its typings and there&#39;s no existing definition anywhere? I thought types in TypeScript were optional but it seems you cannot use a package without its typings..."}, {"owner": {"reputation": 22594, "user_id": 746347, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e5298acfce9a53921a374667104e3b95?s=128&d=identicon&r=PG", "display_name": "mixel", "link": "https://stackoverflow.com/users/746347/mixel"}, "edited": false, "score": 0, "creation_date": 1467897739, "post_id": 34171621, "comment_id": 63914297, "body": "@basarat This is also requires <code>&quot;moduleResolution&quot;: &quot;node&quot;</code> typescript compiler option."}, {"owner": {"reputation": 325, "user_id": 6245314, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6uDLDWe4UOg/AAAAAAAAAAI/AAAAAAAAABk/bwK1a5MeLao/photo.jpg?sz=128", "display_name": "Harshit Juneja", "link": "https://stackoverflow.com/users/6245314/harshit-juneja"}, "reply_to_user": {"reputation": 8667, "user_id": 105937, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ca07de5465382927e1e0c34637e1e21d?s=128&d=identicon&r=PG&f=1", "display_name": "empz", "link": "https://stackoverflow.com/users/105937/empz"}, "edited": false, "score": 0, "creation_date": 1559403912, "post_id": 34171621, "comment_id": 99413417, "body": "@emzero, have you got your answer since?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 4, "last_activity_date": 1467896036, "last_edit_date": 1467896036, "creation_date": 1449640265, "answer_id": 34171621, "question_id": 34169314, "link": "https://stackoverflow.com/questions/34169314/are-typescript-type-definitions-required/34171621#34171621", "title": "Are typescript type definitions required?", "body": "<blockquote>\n  <p>It appears that the definition files are required, is this always the case?</p>\n</blockquote>\n\n<p>No. If the module does it properly using the <code>typings</code> property it would <em>just work</em>. More: <a href=\"https://basarat.gitbooks.io/typescript/content/docs/quick/nodejs.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/quick/nodejs.html</a></p>\n\n<blockquote>\n  <p>The rx npm package includes the definition files. Can typescript automatically search the node modules folder to find them without me having to explicitly reference them?</p>\n</blockquote>\n\n<p>Only if they have <code>typings</code> setup properly ... which they don't.</p>\n"}], "owner": {"reputation": 10953, "user_id": 386287, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/edcc4d39a62674afc24dbc14cd60538c?s=128&d=identicon&r=PG", "display_name": "kimsagro", "link": "https://stackoverflow.com/users/386287/kimsagro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4767, "favorite_count": 4, "accepted_answer_id": 34171621, "answer_count": 1, "score": 6, "last_activity_date": 1467896036, "creation_date": 1449625084, "last_edit_date": 1449641528, "question_id": 34169314, "link": "https://stackoverflow.com/questions/34169314/are-typescript-type-definitions-required", "title": "Are typescript type definitions required?", "body": "<p>My understanding of typescript definition files is that they are used to provide tooling support and are not required to compile typescript.</p>\n\n<p>However given the following:</p>\n\n<p><em>app.ts</em></p>\n\n<pre><code>import {Observable} from 'rx';\n\nObservable\n    .interval(1000)\n    .subscribe(n =&gt; console.log(n));\n</code></pre>\n\n<p>Running:</p>\n\n<pre><code>npm install typescript rx --save\n.\\node_modules\\.bin\\tsc app.ts --module commonjs \n</code></pre>\n\n<p>Gives the error:</p>\n\n<pre><code>app.ts(1,26): error TS2307: Cannot find module 'rx'.\n</code></pre>\n\n<p>Import the type definitions for rx fixes this</p>\n\n<p><em>app.ts</em></p>\n\n<pre><code>/// &lt;reference path=\"./node_modules/rx/ts/rx.all.d.ts\" /&gt;\n\nimport {Observable} from 'rx';\n\nObservable\n    .interval(1000)\n    .subscribe(n =&gt; console.log(n));\n</code></pre>\n\n<p><strong>Questions</strong></p>\n\n<ul>\n<li>It appears that the definition files are required, is this always the case?</li>\n<li>The rx npm package includes the definition files. Can typescript automatically search the node modules folder to find them without me having to explicitly reference them?</li>\n</ul>\n\n<hr>\n\n<h2>Update</h2>\n\n<p>basarat was correct about the <code>typings</code> property. See <a href=\"https://github.com/Microsoft/TypeScript/wiki/Typings-for-npm-packages\" rel=\"nofollow\">Typings for npm packages</a> for more information</p>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 918, "user_id": 730515, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c3cabf1fe82c4dcb6f4ca8397795d037?s=128&d=identicon&r=PG", "display_name": "Snorre", "link": "https://stackoverflow.com/users/730515/snorre"}, "edited": false, "score": 0, "creation_date": 1462284358, "post_id": 34168559, "comment_id": 61565294, "body": "A good answer to a very valid question. I have strugled with the same problems for a while, and realize now that making a configuration service is not how the angular team intended configuration to be handled. But do you have a suggestion how to handle things like service url, and different enviroments? Is there a gulp task that can do replacements during build?"}, {"owner": {"reputation": 19627, "user_id": 68231, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6f45ffef27497554d8e3f6dbc52ed4da?s=128&d=identicon&r=PG", "display_name": "Ken Smith", "link": "https://stackoverflow.com/users/68231/ken-smith"}, "reply_to_user": {"reputation": 918, "user_id": 730515, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c3cabf1fe82c4dcb6f4ca8397795d037?s=128&d=identicon&r=PG", "display_name": "Snorre", "link": "https://stackoverflow.com/users/730515/snorre"}, "edited": false, "score": 0, "creation_date": 1462286441, "post_id": 34168559, "comment_id": 61566790, "body": "@Snorre - Not a bad idea, if you&#39;re using node/gulp as part of your toolset. See, for instance, this gulp task: <a href=\"https://github.com/outaTiME/gulp-replace-task\" rel=\"nofollow noreferrer\">github.com/outaTiME/gulp-replace-task</a>."}], "tags": [], "owner": {"reputation": 19627, "user_id": 68231, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6f45ffef27497554d8e3f6dbc52ed4da?s=128&d=identicon&r=PG", "display_name": "Ken Smith", "link": "https://stackoverflow.com/users/68231/ken-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1462287181, "last_edit_date": 1462287181, "creation_date": 1449620037, "answer_id": 34168559, "question_id": 34168463, "link": "https://stackoverflow.com/questions/34168463/loading-a-configuration-in-angular2/34168559#34168559", "title": "Loading a &quot;configuration&quot; in Angular2", "body": "<p>I've taken several different approaches.</p>\n\n<p>Probably the simplest is to inject the configuration values into the page server-side, so that you can start off knowing them, without having to worry about calling external API's.</p>\n\n<p>If that won't work for you, then you can dump the properties into a singleton as you suggest. But you'd need to put a global <code>Promise</code> into that singleton (like the <code>ready</code> field below), which you would resolve as soon as you had the values retrieved. And then before using any of those values, chain your call off of that global config, e.g., something like this:</p>\n\n<pre><code>config.ready.done(function() { \n    // Use config properties\n});\n</code></pre>\n"}], "owner": {"reputation": 1035, "user_id": 540130, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7fcba4f27abe6191a8c9360a708f7b32?s=128&d=identicon&r=PG", "display_name": "compuguru", "link": "https://stackoverflow.com/users/540130/compuguru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 1, "accepted_answer_id": 34168559, "answer_count": 1, "score": 3, "last_activity_date": 1462287181, "creation_date": 1449619504, "question_id": 34168463, "link": "https://stackoverflow.com/questions/34168463/loading-a-configuration-in-angular2", "title": "Loading a &quot;configuration&quot; in Angular2", "body": "<p>I'm converting an existing app into Angular 2, and the client-side code gets its config from an API on the server (things like telemetry setup and URLs to other APIs). I have some services that depend on the URLs returned by that API to build the requests for data. How do I get the URLs into that service?</p>\n\n<p>My initial plan was to make a new \"configuration\" service that will handle getting the data. But then (I believe) whenever you wanted to access a configuration property, you would have to \"subscribe\" to it to get the values out (at least, that's what I'm doing with the other services). I'd also have to figure out how to chain the responses, so once the data from the configuration service is returned, the data from the actual service requested fires.</p>\n\n<p>To get around, I could call the configuration service in the App's constructor (so it would load the data the application's startup) and dump the data into a singleton. But then I'd need to make sure that things depend on the configuration data don't access the properties before their loaded.</p>\n\n<p>Any suggestions for an approach I should take?</p>\n"}, {"tags": ["angularjs", "angularjs-directive", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1449637746, "post_id": 34167658, "comment_id": 56089579, "body": "Thank-you for that reference. Another explaination of the issue is in the <a href=\"http://www.typescriptlang.org/Handbook#functions-lambdas-and-using-39this39\" rel=\"nofollow noreferrer\">TypeScript Handbook</a>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 4, "last_activity_date": 1449615339, "creation_date": 1449615339, "answer_id": 34167658, "question_id": 34167609, "link": "https://stackoverflow.com/questions/34167609/inject-http-into-typescript-angularjs-directive/34167658#34167658", "title": "Inject $http into TypeScript AngularJS Directive", "body": "<blockquote>\n  <p>When I get into my success function it says Cannot read property '$http' of undefined</p>\n</blockquote>\n\n<p>This is because you used <code>function</code>: </p>\n\n<pre><code>function success(response) {\n</code></pre>\n\n<p>You probably meant to use <code>()=&gt;</code> (arrow function) which would preserve <code>this</code> context for you. </p>\n\n<p>More : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/arrow-functions.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/arrow-functions.html</a></p>\n"}], "owner": {"reputation": 4772, "user_id": 453985, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a8656a2c78d7da016bfbdff7f64b02ef?s=128&d=identicon&r=PG", "display_name": "Jon Harding", "link": "https://stackoverflow.com/users/453985/jon-harding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 1, "accepted_answer_id": 34167658, "answer_count": 1, "score": 0, "last_activity_date": 1449615339, "creation_date": 1449615117, "question_id": 34167609, "link": "https://stackoverflow.com/questions/34167609/inject-http-into-typescript-angularjs-directive", "title": "Inject $http into TypeScript AngularJS Directive", "body": "<p>I'm trying to convert my directive to use <code>TypeScript</code> This is what I have so far</p>\n\n<pre><code>'use strict';\n\nmodule app.dashboard {       \n    export class Safes implements ng.IDirective {\n\n        static $inject = ['$log', '$http', 'storeFactory'];\n        static instance($log, $http, storeFactory) {\n            return new Safes($log, $http, storeFactory);\n        }\n        templateUrl = '/app/shared/mocks/table.html';\n        restrict :string = 'A';\n        scope: any = {\n            title: '=',\n            rows: '='\n        };                \n        link: (scope, element, attrs) =&gt; void;\n\n        constructor(private $log, public $http: ng.IHttpProvider) {\n            this.link = this._link.bind(this);\n        }\n\n        _link(scope, element, attrs) {\n            this.storeFactory.getSafes().then(success, failure);\n\n            function success(response) {\n                scope.safes = response.data.safes;\n                localStorage.setItem('safeCount', scope.safes.length);\n                this.$http.get('/app/dashboard/safes/safes.html', { cache: this.$templateCache }).success(function (tplContent) {\n                    element.replaceWith(this.$compile(tplContent)(scope));\n                });\n            }\n        }\n    }\n    angular\n        .module('app')\n        .directive('safes', Safes.instance);\n}\n</code></pre>\n\n<p>When I get into my <code>success</code> function it says <code>Cannot read property '$http' of undefined</code></p>\n\n<p>What am I doing incorrectly to not access <code>$http</code>?</p>\n"}, {"tags": ["typescript", "aurelia", "material-design-lite"], "answers": [{"tags": [], "owner": {"reputation": 14804, "user_id": 1200803, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/OG5DY.jpg?s=128&g=1", "display_name": "PW Kad", "link": "https://stackoverflow.com/users/1200803/pw-kad"}, "is_accepted": false, "score": 1, "last_activity_date": 1450164580, "creation_date": 1450164580, "answer_id": 34283340, "question_id": 34167590, "link": "https://stackoverflow.com/questions/34167590/cannot-get-aurelia-packages-using-material-design-lite/34283340#34283340", "title": "Cannot GET aurelia packages using material design lite", "body": "<p>Sounds like you forgot to <code>npm install</code> and <code>jspm install</code> after cloning the repository.  Simply do those two (which are listed in the README.md) and you should be good.</p>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 1091196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2KXxm.jpg?s=128&g=1", "display_name": "Sergiu", "link": "https://stackoverflow.com/users/1091196/sergiu"}, "is_accepted": false, "score": 0, "last_activity_date": 1461931727, "last_edit_date": 1461931727, "creation_date": 1461919098, "answer_id": 36933529, "question_id": 34167590, "link": "https://stackoverflow.com/questions/34167590/cannot-get-aurelia-packages-using-material-design-lite/36933529#36933529", "title": "Cannot GET aurelia packages using material design lite", "body": "<p>From mdl documentation:</p>\n\n<blockquote>\n  <p>Material Design Lite will automatically register and render all elements marked with MDL classes upon page load. However in the case where you are creating DOM elements dynamically you need to register new elements using the <code>upgradeElement</code> function.</p>\n</blockquote>\n\n<p>Aurelia dynamically loads the views. That being said, you need to call <code>upgradeElement</code> for each element with mdl- css class.</p>\n\n<p>Try this plugin: <a href=\"https://github.com/genadis/aurelia-mdl\" rel=\"nofollow\">https://github.com/genadis/aurelia-mdl</a></p>\n"}], "owner": {"reputation": 21, "user_id": 5652172, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3n62ltr-Cfo/AAAAAAAAAAI/AAAAAAAAAQU/___Gg_SzveE/photo.jpg?sz=128", "display_name": "Wendy Dang", "link": "https://stackoverflow.com/users/5652172/wendy-dang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1461931727, "creation_date": 1449615067, "last_edit_date": 1449615395, "question_id": 34167590, "link": "https://stackoverflow.com/questions/34167590/cannot-get-aurelia-packages-using-material-design-lite", "title": "Cannot GET aurelia packages using material design lite", "body": "<p>Trying to build with Aurelia using Typescript and adding material design lite. I'm simply cloning the navigation-skeleton but with typescript. </p>\n\n<p>However, I receive multiple errors in f12:</p>\n\n<p><a href=\"http://i.stack.imgur.com/YPj71.png\" rel=\"nofollow\">Lines in console</a></p>\n\n<p>Which expand out to something such as:</p>\n\n<pre><code>Cannot GET /jspm_packages/npm/aurelia-templating-router@1.0.0-beta.1.0.1/\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>Thank you.</p>\n\n<p><strong>package.json file:</strong></p>\n\n<pre><code>{\n  \"name\": \"aurelia-skeleton-navigation\",\n  \"version\": \"0.19.0\",\n  \"description\": \"A starter kit for building a standard navigation-style app with Aurelia.\",\n  \"keywords\": [\n    \"aurelia\",\n    \"navigation\",\n    \"skeleton\"\n  ],\n  \"homepage\": \"http://aurelia.io\",\n  \"bugs\": {\n    \"url\": \"https://github.com/aurelia/skeleton-navigation/issues\"\n  },\n  \"license\": \"CC0-1.0\",\n  \"author\": \"Rob Eisenberg &lt;rob@bluespire.com&gt; (http://robeisenberg.com/)\",\n  \"main\": \"dist/main.js\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"http://github.com/aurelia/skeleton-navigation\"\n  },\n  \"scripts\": {\n    \"test\": \"gulp test\",\n    \"e2e\": \"gulp serve e2e\"\n  },\n  \"devDependencies\": {\n    \"aurelia-bundler\": \"^0.1.8\",\n    \"aurelia-tools\": \"^0.1.3\",\n    \"babel\": \"^5.8.23\",\n    \"babel-eslint\": \"^4.1.3\",\n    \"browser-sync\": \"^1.8.1\",\n    \"conventional-changelog\": \"0.0.11\",\n    \"del\": \"^1.1.0\",\n    \"gulp\": \"^3.8.10\",\n    \"gulp-babel\": \"^5.1.0\",\n    \"gulp-bump\": \"^0.3.1\",\n    \"gulp-changed\": \"^1.1.0\",\n    \"gulp-eslint\": \"^1.0.0\",\n    \"gulp-notify\": \"^2.2.0\",\n    \"gulp-plumber\": \"^0.6.6\",\n    \"gulp-protractor\": \"^0.0.12\",\n    \"gulp-jshint\": \"^1.9.0\",\n    \"gulp-sourcemaps\": \"^1.3.0\",\n    \"gulp-typescript\": \"^2.9.2\",\n    \"gulp-yuidoc\": \"^0.1.2\",\n    \"isparta\": \"^3.1.0\",\n    \"istanbul\": \"gotwarlost/istanbul#source-map\",\n    \"jasmine-core\": \"^2.1.3\",\n    \"jshint-stylish\": \"^1.0.0\",\n    \"jspm\": \"^0.16.11\",\n    \"karma\": \"^0.12.37\",\n    \"karma-babel-preprocessor\": \"^5.2.1\",\n    \"karma-chrome-launcher\": \"^0.1.7\",\n    \"karma-coverage\": \"douglasduteil/karma-coverage#next\",\n    \"karma-jasmine\": \"^0.3.5\",\n    \"karma-jspm\": \"2.0.1-beta.2\",\n    \"karma-typescript-preprocessor\": \"0.0.21\",\n    \"object.assign\": \"^1.0.3\",\n    \"require-dir\": \"^0.1.0\",\n    \"run-sequence\": \"^1.0.2\",\n    \"tsd\": \"^0.6.5\",\n    \"vinyl-paths\": \"^1.0.0\",\n    \"yargs\": \"^2.1.1\"\n  },\n  \"jspm\": {\n    \"dependencies\": {\n      \"aurelia-animator-css\": \"npm:aurelia-animator-css@^1.0.0-beta.1.0.1\",\n      \"aurelia-binding\": \"npm:aurelia-binding@^1.0.0-beta.1.0.1\",\n      \"aurelia-bootstrapper\": \"npm:aurelia-bootstrapper@^1.0.0-beta.1\",\n      \"aurelia-dependency-injection\": \"npm:aurelia-dependency-injection@^1.0.0-beta.1\",\n      \"aurelia-event-aggregator\": \"npm:aurelia-event-aggregator@^1.0.0-beta.1\",\n      \"aurelia-fetch-client\": \"npm:aurelia-fetch-client@^1.0.0-beta.1\",\n      \"aurelia-framework\": \"npm:aurelia-framework@^1.0.0-beta.1.0.1\",\n      \"aurelia-history\": \"npm:aurelia-history@^1.0.0-beta.1\",\n      \"aurelia-history-browser\": \"npm:aurelia-history-browser@^1.0.0-beta.1.0.1\",\n      \"aurelia-loader\": \"npm:aurelia-loader@^1.0.0-beta.1\",\n      \"aurelia-loader-default\": \"npm:aurelia-loader-default@^1.0.0-beta.1.0.1\",\n      \"aurelia-logging\": \"npm:aurelia-logging@^1.0.0-beta.1\",\n      \"aurelia-metadata\": \"npm:aurelia-metadata@^1.0.0-beta.1\",\n      \"aurelia-pal\": \"npm:aurelia-pal@^1.0.0-beta.1\",\n      \"aurelia-pal-browser\": \"npm:aurelia-pal-browser@^1.0.0-beta.1\",\n      \"aurelia-path\": \"npm:aurelia-path@^1.0.0-beta.1\",\n      \"aurelia-route-recognizer\": \"npm:aurelia-route-recognizer@^1.0.0-beta.1\",\n      \"aurelia-router\": \"npm:aurelia-router@^1.0.0-beta.1\",\n      \"aurelia-task-queue\": \"npm:aurelia-task-queue@^1.0.0-beta.1\",\n      \"aurelia-templating\": \"npm:aurelia-templating@^1.0.0-beta.1\",\n      \"aurelia-templating-binding\": \"npm:aurelia-templating-binding@^1.0.0-beta.1.0.1\",\n      \"aurelia-templating-resources\": \"npm:aurelia-templating-resources@^1.0.0-beta.1.0.2\",\n      \"aurelia-templating-router\": \"npm:aurelia-templating-router@^1.0.0-beta.1.0.2\",\n      \"bootstrap\": \"github:twbs/bootstrap@^3.3.4\",\n      \"core-js\": \"npm:core-js@^1.2.6\",\n      \"fetch\": \"github:github/fetch@^0.9.0\",\n      \"font-awesome\": \"npm:font-awesome@^4.3.0\",\n      \"material-design-lite\": \"github:google/material-design-lite@^1.0.6\",\n      \"text\": \"github:systemjs/plugin-text@^0.0.2\"\n    },\n    \"devDependencies\": {\n      \"babel\": \"npm:babel-core@^5.8.24\",\n      \"babel-runtime\": \"npm:babel-runtime@^5.8.24\",\n      \"core-js\": \"npm:core-js@^1.2.6\"\n    },\n    \"overrides\": {\n      \"github:google/material-design-lite@1.0.6\": {\n        \"main\": \"material\"\n      }\n    }\n  }\n</code></pre>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 721, "user_id": 5655282, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5d8f886f2bdbc17204b1dce97110c247?s=128&d=identicon&r=PG&f=1", "display_name": "TheHeroOfTime", "link": "https://stackoverflow.com/users/5655282/theherooftime"}, "edited": false, "score": 0, "creation_date": 1449610694, "post_id": 34165861, "comment_id": 56080321, "body": "I am sorry, I forgot to mention, what exactly I want. I want to use toggle, but something like in Windows 10:  When you press &quot;Windows + A&quot;, it will appear a sidebar on the right side. Exactly that is what I want with animation on the website, when you click on a div-container, and not just simple appearing and disappearing.  I think the jQuery code would be something like that (only for appearing with a time delay)      $(&quot;divA&quot;).click(function() {         $(&quot;divB&quot;).toggle(1000);     });   So, do you think is there a way in Angular 2.0 to reach this &quot;sidebar animation&quot;?"}, {"owner": {"reputation": 347451, "user_id": 215945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/203qt.png?s=128&g=1", "display_name": "Mark Rajcok", "link": "https://stackoverflow.com/users/215945/mark-rajcok"}, "reply_to_user": {"reputation": 721, "user_id": 5655282, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5d8f886f2bdbc17204b1dce97110c247?s=128&d=identicon&r=PG&f=1", "display_name": "TheHeroOfTime", "link": "https://stackoverflow.com/users/5655282/theherooftime"}, "edited": false, "score": 0, "creation_date": 1449611689, "post_id": 34165861, "comment_id": 56080863, "body": "@SyleKu, welcome to StackOverflow.  As you can see, it is very important to be specific about what exactly you need help with.  I&#39;m not aware of any  way to do what you want with the current version of Angular 2.  You would have to do something like <code>(click)=&quot;animateDiv2(div2, 1000)&quot;</code> and then write function animateDiv2() to do what toggle() does -- which I assume means modify CSS property values over the time duration specified."}], "tags": [], "owner": {"reputation": 347451, "user_id": 215945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/203qt.png?s=128&g=1", "display_name": "Mark Rajcok", "link": "https://stackoverflow.com/users/215945/mark-rajcok"}, "is_accepted": false, "score": 3, "last_activity_date": 1466131852, "last_edit_date": 1466131852, "creation_date": 1449608212, "answer_id": 34165861, "question_id": 34165140, "link": "https://stackoverflow.com/questions/34165140/how-does-angular-2-0-for-typescript-alpha-animation-work/34165861#34165861", "title": "How does &quot;Angular 2.0 for TypeScript&quot; (alpha) animation work?", "body": "<p>For your simple \"animation\" you only need ng-if:</p>\n\n<pre><code>&lt;div (click)=\"showDiv2 = !showDiv2\"&gt;toggle&lt;/div&gt;\n&lt;div *ng-if=\"showDiv2\"&gt;div 2&lt;/div&gt;\n</code></pre>\n\n<p><strike>BTW, Angular 2 animation is not available yet.</strike> The animations documentation <a href=\"https://angular.io/docs/ts/latest/guide/animations.html\" rel=\"nofollow\">has landed</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 721, "user_id": 5655282, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5d8f886f2bdbc17204b1dce97110c247?s=128&d=identicon&r=PG&f=1", "display_name": "TheHeroOfTime", "link": "https://stackoverflow.com/users/5655282/theherooftime"}, "edited": false, "score": 0, "creation_date": 1450082953, "post_id": 34170712, "comment_id": 56266978, "body": "That&#39;s exactly what I wanted! I really could use it.  But can you please help me one more time with this? Your solution is <b>perfect</b>, but I also have to use it in another way: My situation is that I have <b>app2.ts</b> which sets many divs. When I click on one of these divs, then the only <b>one</b> same &quot;animation-div&quot; should appear. But this &quot;animation-div&quot; is in <b>app.ts</b>. I think a good solution is just to use EventEmitter (like a state) that I am using. My question is: When the subscribe function from EventEmitter is called, how can I call the toggle function from the certain #box in app.ts?"}, {"owner": {"reputation": 721, "user_id": 5655282, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5d8f886f2bdbc17204b1dce97110c247?s=128&d=identicon&r=PG&f=1", "display_name": "TheHeroOfTime", "link": "https://stackoverflow.com/users/5655282/theherooftime"}, "edited": false, "score": 0, "creation_date": 1450164400, "post_id": 34170712, "comment_id": 56308089, "body": "I just made another decision. I am using right now the css solution. This might be easier. The AnimationBuilder is still a good way to solve this problem."}, {"owner": {"reputation": 7002, "user_id": 513570, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8a17b4d28084ddc12905d1a66869ffa7?s=128&d=identicon&r=PG", "display_name": "Miquel", "link": "https://stackoverflow.com/users/513570/miquel"}, "edited": false, "score": 0, "creation_date": 1450272705, "post_id": 34170712, "comment_id": 56368304, "body": "Don&#39;t understand the <code>toggle</code> function. Shouldn&#39;t it be the contrary: <code>&#47;&#47; If is visible, we make it slide up     if(isVisible) {       animation         &#47;&#47; Set initial styles         .setFromStyles({height: &#39;0&#39;, width: &#39;50%&#39;, overflow: &#39;hidden&#39;})         &#47;&#47; Set styles that will be added when the animation ends         .setToStyles({height: &#39;300px&#39;})</code> ?"}, {"owner": {"reputation": 7002, "user_id": 513570, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8a17b4d28084ddc12905d1a66869ffa7?s=128&d=identicon&r=PG", "display_name": "Miquel", "link": "https://stackoverflow.com/users/513570/miquel"}, "edited": false, "score": 0, "creation_date": 1450396035, "post_id": 34170712, "comment_id": 56434351, "body": "Important!!: <code>import { AnimationBuilder } from &#39;angular2&#47;src&#47;animate&#47;animation_builder&#39;;</code>, don&#39;t import it from <code>angular2&#47;animate</code>as it won&#39;t work."}, {"owner": {"reputation": 1938, "user_id": 433970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac815db924e9fff8b1cb34be98545008?s=128&d=identicon&r=PG", "display_name": "eppsilon", "link": "https://stackoverflow.com/users/433970/eppsilon"}, "edited": false, "score": 0, "creation_date": 1459205103, "post_id": 34170712, "comment_id": 60171818, "body": "Has any code for ngAnimate 2 been published yet? The API shown in @matsko&#39;s talk looks pretty cool, but I haven&#39;t been able to find where the implementation work is happening. Maybe I haven&#39;t been looking in the right places?"}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "reply_to_user": {"reputation": 1938, "user_id": 433970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac815db924e9fff8b1cb34be98545008?s=128&d=identicon&r=PG", "display_name": "eppsilon", "link": "https://stackoverflow.com/users/433970/eppsilon"}, "edited": false, "score": 1, "creation_date": 1459205965, "post_id": 34170712, "comment_id": 60172135, "body": "@eppsilon there&#39;s just this PR introducing ngAnimate, but it&#39;s work in progress <a href=\"https://github.com/angular/angular/pull/7698\" rel=\"nofollow noreferrer\">github.com/angular/angular/pull/7698</a>"}, {"owner": {"reputation": 1932, "user_id": 4770754, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/X8e1t.jpg?s=128&g=1", "display_name": "tatsu", "link": "https://stackoverflow.com/users/4770754/tatsu"}, "edited": false, "score": 0, "creation_date": 1518429558, "post_id": 34170712, "comment_id": 84487224, "body": "broken link first link."}], "tags": [], "owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "is_accepted": true, "score": 24, "last_activity_date": 1449635198, "creation_date": 1449635198, "answer_id": 34170712, "question_id": 34165140, "link": "https://stackoverflow.com/questions/34165140/how-does-angular-2-0-for-typescript-alpha-animation-work/34170712#34170712", "title": "How does &quot;Angular 2.0 for TypeScript&quot; (alpha) animation work?", "body": "<p>You can use CSS, or <a href=\"https://github.com/angular/angular/blob/master/modules/angular2/src/animate/animation_builder.ts\">AnimationBuilder</a></p>\n\n<p>For the CSS way you can check this <a href=\"https://github.com/angular/angular/tree/master/modules/playground/src/animate\">example</a> from their repo that does exactly what you are looking for.</p>\n\n<p>With <code>AnimationBuilder</code> you can simulate the same behavior like this</p>\n\n<p>First you set up the template that'll hold the button and div to toggle</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  // Setting up some styles\n  template: `\n    &lt;div animate-box #box=\"ab\"  style=\"height:0; width:50%; overflow: hidden;\"&gt;Some content&lt;/div&gt;\n    &lt;button (click)=\"box.toggle(visible = !visible)\"&gt;Animate&lt;/button&gt;\n  `,\n  directives : [AnimateBox] // See class below\n})\n</code></pre>\n\n<p>Then you create the directive that will handle the animation</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Directive({\n  selector : '[animate-box]',\n  exportAs : 'ab' // Necessary, we export it and we can get its 'toggle' method in the template\n})\nclass AnimateBox {\n  constructor(private _ab: AnimationBuilder, private _e: ElementRef) {}\n\n  toggle(isVisible: boolean = false) {\n    let animation = this._ab.css();\n    animation\n      .setDuration(1000); // Duration in ms\n\n    // If is not visible, we make it slide down\n    if(!isVisible) {\n\n      animation\n        // Set initial styles\n        .setFromStyles({height: '0', width: '50%', overflow: 'hidden'})\n        // Set styles that will be added when the animation ends\n        .setToStyles({height: '300px'})\n    } \n    // If is visible we make it slide up\n    else {\n      animation\n        .setFromStyles({height: '300px', width: '50%'})\n        .setToStyles({height: '0'})\n    }\n\n    // We start the animation in the element, in this case the div\n    animation.start(this._e.nativeElement);\n  }\n}\n</code></pre>\n\n<p><strong>Reference</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular/tree/master/modules/angular2/src/animate\">Animation API</a>, it's super simple, really, really simple.</li>\n</ul>\n\n<p><strong>Notes</strong></p>\n\n<p>This is a temporary API, the new one called ngAnimate 2.0 is not yet available. But you can check what's new in @matsko's talk at <a href=\"https://www.youtube.com/watch?v=izp5N2eeogg\">AngularConnect - ngAnimate 2.0</a>.</p>\n\n<p>Here's a <a href=\"http://plnkr.co/edit/xkHA4HWwT9McoA4sbUnI?p=preview\">plnkr</a> with a repro.</p>\n\n<p>I hope it helps.</p>\n"}], "owner": {"reputation": 721, "user_id": 5655282, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5d8f886f2bdbc17204b1dce97110c247?s=128&d=identicon&r=PG&f=1", "display_name": "TheHeroOfTime", "link": "https://stackoverflow.com/users/5655282/theherooftime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11501, "favorite_count": 3, "accepted_answer_id": 34170712, "answer_count": 2, "score": 16, "last_activity_date": 1466131852, "creation_date": 1449605569, "last_edit_date": 1449610671, "question_id": 34165140, "link": "https://stackoverflow.com/questions/34165140/how-does-angular-2-0-for-typescript-alpha-animation-work", "title": "How does &quot;Angular 2.0 for TypeScript&quot; (alpha) animation work?", "body": "<p>I am very new in the Angular scene. I just started to learn Angular 2.0 for TypeScript and I was wondering, how the animation (like in a simple HTML with jQuery) works in Angular 2.0</p>\n\n<p>In the homepage of the Angular 2.0 (angular.io > Features) you can see, that there is a way to do animation in \"Angular 2.0 for TypeScript\".</p>\n\n<p>In my research I found something like this:\n<a href=\"http://www.angular-dev.com/angular-connect-slides/#/26/0/\">http://www.angular-dev.com/angular-connect-slides/#/26/0/</a></p>\n\n<p>But I think this is just a normal JavaScript code. And I am not sure if \nngAnimate 2.0 is that, what I am looking for.</p>\n\n<p>Unfortunately, I can't find anymore information about that.</p>\n\n<p><strong>What I want to do, is very simple:</strong></p>\n\n<p>When I click just in a simple div container, I want that another div-container appears (which is in the beginning unvisible).</p>\n\n<p>In jQuery, it would be something like this: <a href=\"http://www.w3schools.com/jquery/tryit.asp?filename=tryjquery_eff_toggle\">http://www.w3schools.com/jquery/tryit.asp?filename=tryjquery_eff_toggle</a> </p>\n\n<p>But what I want, is this animation in TypeScript.\nDo you have any idea how I reach this goal?</p>\n\n<p>Thanks for your answers in advance!</p>\n\n<p><strong>EDIT</strong>\nI am sorry, I forgot to mention, what exactly I want.\nI want to use toggle, but something like in Windows 10:</p>\n\n<p>When you press \"Windows + A\", it will appear a sidebar on the right side.\nExactly that is what I want with animation on the website, when you click on a div-container, and not just simple appearing and disappearing.</p>\n\n<p>I think the jQuery code would be something like that (only for appearing with a time delay)</p>\n\n<pre><code>$(\"divA\").click(function() {\n    $(\"divB\").toggle(1000);\n});\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "angular-resource"], "comments": [{"owner": {"reputation": 1485, "user_id": 1260751, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/tftCc.jpg?s=128&g=1", "display_name": "deadManN", "link": "https://stackoverflow.com/users/1260751/deadmann"}, "edited": false, "score": 0, "creation_date": 1485461782, "post_id": 34164693, "comment_id": 70946521, "body": "how to define API actions and their definition? surly i need to define it inside this.$resource(&quot;sampleUrl&quot;); , but there should be ts definitions too, how to do that?"}], "answers": [{"comments": [{"owner": {"reputation": 917, "user_id": 1143358, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8a224b8fe21209548063673f86d0b2e7?s=128&d=identicon&r=PG", "display_name": "Nico", "link": "https://stackoverflow.com/users/1143358/nico"}, "edited": false, "score": 0, "creation_date": 1470425125, "post_id": 34165359, "comment_id": 64963274, "body": "That is what I did"}], "tags": [], "owner": {"reputation": 16049, "user_id": 113571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6acb720977e38bcb85f595a0b8fc2249?s=128&d=identicon&r=PG", "display_name": "dragonfly", "link": "https://stackoverflow.com/users/113571/dragonfly"}, "is_accepted": true, "score": 2, "last_activity_date": 1449606378, "creation_date": 1449606378, "answer_id": 34165359, "question_id": 34164693, "link": "https://stackoverflow.com/questions/34164693/how-to-use-angulars-resource-with-typescript-and-d-ts/34165359#34165359", "title": "How to use angular&#39;s $resource with TypeScript and d.ts", "body": "<p>I think I got it. It should be:</p>\n\n<pre><code>interface IProductResource\n    extends ng.resource.IResource&lt;IProduct&gt;, IProduct {\n}\n</code></pre>\n\n<p>Any comments on that?</p>\n\n<p>Thanks!</p>\n"}], "owner": {"reputation": 16049, "user_id": 113571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6acb720977e38bcb85f595a0b8fc2249?s=128&d=identicon&r=PG", "display_name": "dragonfly", "link": "https://stackoverflow.com/users/113571/dragonfly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1913, "favorite_count": 0, "accepted_answer_id": 34165359, "answer_count": 1, "score": 2, "last_activity_date": 1449606378, "creation_date": 1449603999, "question_id": 34164693, "link": "https://stackoverflow.com/questions/34164693/how-to-use-angulars-resource-with-typescript-and-d-ts", "title": "How to use angular&#39;s $resource with TypeScript and d.ts", "body": "<p>With this TypeScript (based on some online course):</p>\n\n<pre><code>interface IProduct {\n    productName: string\n}\n\ninterface IProductResource extends ng.resource.IResource&lt;IProduct&gt; {\n}\n\ninterface IDataAccessService {\n    getProductService(): ng.resource.IResourceClass&lt;IProductResource&gt;\n}\n\nclass DataAccessService implements IDataAccessService {\n    static $inject = ['$resource'];\n\n    constructor(private $resource:ng.resource.IResourceService) {\n    }\n\n    getProductService():ng.resource.IResourceClass&lt;IProductResource&gt; {\n        return this.$resource(\"sampleUrl\");\n    }\n\n}\n\nangular.module('app').service('dataAccessService', DataAccessService);\n</code></pre>\n\n<p>I have a code that uses <code>dataAccessService</code>:</p>\n\n<pre><code>var obj : IProductResource = dataAccessService.getProductService().get();\n</code></pre>\n\n<p><code>obj</code> has all angular's REST helper methods like $save/$delete, but I don't have access to interface <code>obj.productName</code>. What is wrong with this code?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4418, "user_id": 1017953, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c2a8a6eeaca183aeb13125f1b7d20a0?s=128&d=identicon&r=PG", "display_name": "Memet Olsen", "link": "https://stackoverflow.com/users/1017953/memet-olsen"}, "edited": false, "score": 9, "creation_date": 1462782226, "post_id": 34164413, "comment_id": 61763503, "body": "Note that a breaking change is introduced in beta 17 for ngFor regarding the hash symbol. The correct way is: <code>&lt;div *ngFor=&quot;let item of itemsList&quot; *ngIf=&quot;conditon(item)&quot; ...</code>"}, {"owner": {"reputation": 8243, "user_id": 1027520, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/b1LDA.jpg?s=128&g=1", "display_name": "Prashobh", "link": "https://stackoverflow.com/users/1027520/prashobh"}, "edited": false, "score": 0, "creation_date": 1466774000, "post_id": 34164413, "comment_id": 63470826, "body": "<a href=\"http://www.angulartutorial.net/2016/06/angular-2-filter-using-pipe-concept.html\" rel=\"nofollow noreferrer\">angulartutorial.net/2016/06/&hellip;</a>"}, {"owner": {"reputation": 12016, "user_id": 1175496, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d9fb1cc64151ef77c851e38a86991fdf?s=128&d=identicon&r=PG", "display_name": "The Red Pea", "link": "https://stackoverflow.com/users/1175496/the-red-pea"}, "reply_to_user": {"reputation": 4418, "user_id": 1017953, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c2a8a6eeaca183aeb13125f1b7d20a0?s=128&d=identicon&r=PG", "display_name": "Memet Olsen", "link": "https://stackoverflow.com/users/1017953/memet-olsen"}, "edited": false, "score": 12, "creation_date": 1485218215, "post_id": 34164413, "comment_id": 70824424, "body": "@MemetOlsen comment from Gunter below: &quot;<code>*ngFor</code> and <code>*ngIf</code> on the same element are not supported. You need to change to the explicit form for one of them&quot;"}, {"owner": {"reputation": 3612, "user_id": 1403082, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/54208141329b219ea283669e84b537f5?s=128&d=identicon&r=PG", "display_name": "ylerjen", "link": "https://stackoverflow.com/users/1403082/ylerjen"}, "edited": false, "score": 1, "creation_date": 1545402796, "post_id": 34164413, "comment_id": 94619471, "body": "Even tho it&#39;s what the OP asks for, it&#39;s recommanded to NOT USE PIPE for filtering or ordering in Angular2+. Prefer having a class property with the filtered values : <a href=\"https://angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe\" rel=\"nofollow noreferrer\">angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6930, "user_id": 1657309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kOnqZ.jpg?s=128&g=1", "display_name": "Khaled", "link": "https://stackoverflow.com/users/1657309/khaled"}, "edited": false, "score": 0, "creation_date": 1449603630, "post_id": 34164500, "comment_id": 56076081, "body": "Sorry if this was misleading, my point here is the variable <code>item</code> from <code>*ng-for=&quot;#item of itemsList&quot;</code> should be used to filter results as such <code>*ng-if=&quot;conditon(item)&quot;</code>. Which doesn&#39;t work in this example.."}, {"owner": {"reputation": 2751, "user_id": 939352, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/62a10ac78079a78abaace3f11f793b92?s=128&d=identicon&r=PG", "display_name": "Ben Glasser", "link": "https://stackoverflow.com/users/939352/ben-glasser"}, "reply_to_user": {"reputation": 6930, "user_id": 1657309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kOnqZ.jpg?s=128&g=1", "display_name": "Khaled", "link": "https://stackoverflow.com/users/1657309/khaled"}, "edited": false, "score": 0, "creation_date": 1449603831, "post_id": 34164500, "comment_id": 56076223, "body": "you could make condition a filter and do the same thing with {{item | condition}}  condition would just return <code>item</code> if the condition is met and no value if it is not."}, {"owner": {"reputation": 13222, "user_id": 290340, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9798931483c6fe5af55ec68698ffd0a0?s=128&d=identicon&r=PG", "display_name": "Evan Plaice", "link": "https://stackoverflow.com/users/290340/evan-plaice"}, "edited": false, "score": 0, "creation_date": 1453748301, "post_id": 34164500, "comment_id": 57728349, "body": "@BenGlasser I thought pipes were applied from right-to-left. So this would apply filter2 first, then filter1."}, {"owner": {"reputation": 13222, "user_id": 290340, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9798931483c6fe5af55ec68698ffd0a0?s=128&d=identicon&r=PG", "display_name": "Evan Plaice", "link": "https://stackoverflow.com/users/290340/evan-plaice"}, "edited": false, "score": 0, "creation_date": 1453748446, "post_id": 34164500, "comment_id": 57728434, "body": "(cont) As referenced in the CHANGELOG <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#200-alpha45-2015-10-29\" rel=\"nofollow noreferrer\">github.com/angular/angular/blob/master/&hellip;</a> as of commit <a href=\"https://github.com/angular/angular/commit/4639f44\" rel=\"nofollow noreferrer\">github.com/angular/angular/commit/4639f44</a>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 12, "creation_date": 1459915138, "post_id": 34164500, "comment_id": 60496675, "body": "<code>*ngFor</code> and <code>*ngIf</code> on the same element are not supported. You need to change to the explicit form for one of them <code>&lt;template ngFor ...&gt;</code>"}, {"owner": {"reputation": 2751, "user_id": 939352, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/62a10ac78079a78abaace3f11f793b92?s=128&d=identicon&r=PG", "display_name": "Ben Glasser", "link": "https://stackoverflow.com/users/939352/ben-glasser"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1494615650, "post_id": 34164500, "comment_id": 74922325, "body": "@G&#252;nterZ&#246;chbauer It took me a year, but I&#39;ve updated the syntax to reflect the changes you suggested"}, {"owner": {"reputation": 33439, "user_id": 3977061, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dcec319057f1824502fbf3ecece46e26?s=128&d=identicon&r=PG&f=1", "display_name": "BeetleJuice", "link": "https://stackoverflow.com/users/3977061/beetlejuice"}, "edited": false, "score": 0, "creation_date": 1506337953, "post_id": 34164500, "comment_id": 79764766, "body": "I think <code>&lt;template&gt;</code> has been <a href=\"https://github.com/Promact/md2/issues/125\" rel=\"nofollow noreferrer\">deprecated</a> in favor of <a href=\"https://angular.io/guide/structural-directives#the-ng-template\" rel=\"nofollow noreferrer\"><code>&lt;ng-template&gt;</code></a> or <code>&lt;ng-container&gt;</code>"}], "tags": [], "owner": {"reputation": 2751, "user_id": 939352, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/62a10ac78079a78abaace3f11f793b92?s=128&d=identicon&r=PG", "display_name": "Ben Glasser", "link": "https://stackoverflow.com/users/939352/ben-glasser"}, "is_accepted": false, "score": 9, "last_activity_date": 1494615247, "last_edit_date": 1494615247, "creation_date": 1449603352, "answer_id": 34164500, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/34164500#34164500", "title": "How to apply filters to *ngFor?", "body": "<p>pipes in Angular2 are similar to pipes on the command line.  The output of each preceding value is fed into the filter after the pipe which makes it easy to chain filters as well like this:</p>\n\n<pre><code>&lt;template *ngFor=\"#item of itemsList\"&gt;\n    &lt;div *ngIf=\"conditon(item)\"&gt;{item | filter1 | filter2}&lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1223, "user_id": 5468991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x0Fx2.jpg?s=128&g=1", "display_name": "SimonHawesome", "link": "https://stackoverflow.com/users/5468991/simonhawesome"}, "edited": false, "score": 0, "creation_date": 1453136798, "post_id": 34165371, "comment_id": 57459753, "body": "Thanks for the answer! Is anyone else getting the error message <i>ExpressionChangedAfterItHasBeenCheckedException</i>? <a href=\"https://angular.io/docs/ts/latest/api/core/ExpressionChangedAfterItHasBeenCheckedException-class.html\" rel=\"nofollow noreferrer\">Angular IO docs</a> say it gets thrown when application changes upset the <i>top-down</i> data flow.. Any thoughts?"}, {"owner": {"reputation": 1223, "user_id": 5468991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x0Fx2.jpg?s=128&g=1", "display_name": "SimonHawesome", "link": "https://stackoverflow.com/users/5468991/simonhawesome"}, "edited": false, "score": 0, "creation_date": 1453141826, "post_id": 34165371, "comment_id": 57462511, "body": "I found the solution! As outlined in <a href=\"http://stackoverflow.com/questions/34456430/ngfor-doesnt-update-data-with-pipe-in-angular2\">this post</a>, the <i>change detection strategy</i> needs to be set to <i>always</i>."}, {"owner": {"reputation": 1751, "user_id": 2136116, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YE0wO.jpg?s=128&g=1", "display_name": "timmz", "link": "https://stackoverflow.com/users/2136116/timmz"}, "edited": false, "score": 7, "creation_date": 1458233413, "post_id": 34165371, "comment_id": 59780028, "body": "Thanx, this work as intended, but sometimes it&#39;s better to check if the items array is defined and not null, because Ng2 may try to apply filter while the &quot;items&quot; still undefined."}, {"owner": {"reputation": 1239, "user_id": 1246387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773e9091d88d1ddd02a5426df2652038?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1246387/stephen"}, "edited": false, "score": 1, "creation_date": 1468260079, "post_id": 34165371, "comment_id": 64043165, "body": "In addition, I needed to add the filter class to the @Component declaration. Like So: @Component({...   pipes: [MyFilterPipe ]"}, {"owner": {"reputation": 538, "user_id": 1035811, "user_type": "registered", "profile_image": "https://graph.facebook.com/1015134971/picture?type=large", "display_name": "Bo\u0161tjan Pi\u0161ler", "link": "https://stackoverflow.com/users/1035811/bo%c5%a1tjan-pi%c5%a1ler"}, "edited": false, "score": 1, "creation_date": 1482336132, "post_id": 34165371, "comment_id": 69734842, "body": "I think it also needs this line &#236;f (!items) return items;` in case the array is empty."}, {"owner": {"reputation": 12951, "user_id": 345648, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/cbfa1f3db2bfa135c7e7c50a7ca3fdcf?s=128&d=identicon&r=PG", "display_name": "Alexander Taylor", "link": "https://stackoverflow.com/users/345648/alexander-taylor"}, "edited": false, "score": 1, "creation_date": 1486745927, "post_id": 34165371, "comment_id": 71494250, "body": "<code>@Injectable()</code> shouldn&#39;t be necessary if you&#39;re just using the pipe in a template. yalls remember to declare the pipe in your module though."}, {"owner": {"reputation": 1907, "user_id": 3426514, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/O2Sj0.png?s=128&g=1", "display_name": "user230910", "link": "https://stackoverflow.com/users/3426514/user230910"}, "edited": false, "score": 0, "creation_date": 1493297742, "post_id": 34165371, "comment_id": 74364218, "body": "isnt there a generic way fo doing this?"}, {"owner": {"reputation": 791, "user_id": 4705719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/477ee4b0a7e63014add715806ed426ff?s=128&d=identicon&r=PG", "display_name": "austin_ce", "link": "https://stackoverflow.com/users/4705719/austin-ce"}, "edited": false, "score": 1, "creation_date": 1499883563, "post_id": 34165371, "comment_id": 77103160, "body": "There is no Generic way of doing this built-in for a reason! <a href=\"https://angular.io/guide/pipes#no-filter-pipe\" rel=\"nofollow noreferrer\">angular.io/guide/pipes#no-filter-pipe</a>"}, {"owner": {"reputation": 2601, "user_id": 2163398, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/58f69bb0bd17efb337253aab79114b04?s=128&d=identicon&r=PG", "display_name": "Sebasti&#225;n Rojas", "link": "https://stackoverflow.com/users/2163398/sebasti%c3%a1n-rojas"}, "edited": false, "score": 3, "creation_date": 1500319883, "post_id": 34165371, "comment_id": 77273406, "body": "Angular says using a Pipe has performing issues, so recommends to make filtering on the component"}, {"owner": {"reputation": 1282, "user_id": 2063930, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YSWre.jpg?s=128&g=1", "display_name": "Abhay Singh", "link": "https://stackoverflow.com/users/2063930/abhay-singh"}, "edited": false, "score": 0, "creation_date": 1505368668, "post_id": 34165371, "comment_id": 79385999, "body": "@phuc77 i am getting this error <b>Property &#39;title&#39; does not exist on type &#39;Object&#39;</b> on pipe page when i am doing sorting from textbox."}, {"owner": {"reputation": 5591, "user_id": 2542574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb5e2aeda90364fd128fd8570edbe0aa?s=128&d=identicon&r=PG", "display_name": "phuc77", "link": "https://stackoverflow.com/users/2542574/phuc77"}, "reply_to_user": {"reputation": 1282, "user_id": 2063930, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YSWre.jpg?s=128&g=1", "display_name": "Abhay Singh", "link": "https://stackoverflow.com/users/2063930/abhay-singh"}, "edited": false, "score": 0, "creation_date": 1505378043, "post_id": 34165371, "comment_id": 79391081, "body": "@AbhaySingh Not quite sure I understand what you mean? Sorting from textbox? I don&#39;t have any examples of sorting in my answer or plnkr, just filtering. If you have an issue with something you&#39;ve made, I suggest you create a new question."}, {"owner": {"reputation": 1282, "user_id": 2063930, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YSWre.jpg?s=128&g=1", "display_name": "Abhay Singh", "link": "https://stackoverflow.com/users/2063930/abhay-singh"}, "edited": false, "score": 0, "creation_date": 1505380931, "post_id": 34165371, "comment_id": 79393068, "body": "@phuc77 i saw in plunkr i can search title/id/year etc. from their respective textbox. i want get help on that"}, {"owner": {"reputation": 5591, "user_id": 2542574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb5e2aeda90364fd128fd8570edbe0aa?s=128&d=identicon&r=PG", "display_name": "phuc77", "link": "https://stackoverflow.com/users/2542574/phuc77"}, "reply_to_user": {"reputation": 1282, "user_id": 2063930, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/YSWre.jpg?s=128&g=1", "display_name": "Abhay Singh", "link": "https://stackoverflow.com/users/2063930/abhay-singh"}, "edited": false, "score": 0, "creation_date": 1505382041, "post_id": 34165371, "comment_id": 79393894, "body": "@AbhaySingh Try adding typing to your object instead of using &quot;Object&quot;. In my plnkr, I have defined Book as a type."}, {"owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "edited": false, "score": 5, "creation_date": 1527244596, "post_id": 34165371, "comment_id": 88065937, "body": "I&#39;d like to suggest to wrap <code>*ngFor</code> parameters in parenthesis, just to avoid any confusion and make it &quot;change-proof&quot;: <code>&lt;li *ngFor=&quot;let item of (items | myfilter:filterargs)&quot;&gt;</code>"}, {"owner": {"reputation": 4690, "user_id": 2019549, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/900a3735d55a0473c975ba9266bf0c68?s=128&d=identicon&r=PG", "display_name": "cambunctious", "link": "https://stackoverflow.com/users/2019549/cambunctious"}, "edited": false, "score": 0, "creation_date": 1568223747, "post_id": 34165371, "comment_id": 102209965, "body": "You may use a pure pipe if the elements of the list are never modified. This has performance benefits (the filter does not have to be re-applied on every change detection)."}], "tags": [], "owner": {"reputation": 5591, "user_id": 2542574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb5e2aeda90364fd128fd8570edbe0aa?s=128&d=identicon&r=PG", "display_name": "phuc77", "link": "https://stackoverflow.com/users/2542574/phuc77"}, "is_accepted": true, "score": 446, "last_activity_date": 1523287850, "last_edit_date": 1523287850, "creation_date": 1449606404, "answer_id": 34165371, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/34165371#34165371", "title": "How to apply filters to *ngFor?", "body": "<p>Basically, you write a pipe which you can then use in the <code>*ngFor</code> directive.</p>\n\n<p>In your component:</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>filterargs = {title: 'hello'};\nitems = [{title: 'hello world'}, {title: 'hello kitty'}, {title: 'foo bar'}];\n</code></pre>\n\n<p>In your template, you can pass string, number or object to your pipe to use to filter on:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;li *ngFor=\"let item of items | myfilter:filterargs\"&gt;\n</code></pre>\n\n<p>In your pipe:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'myfilter',\n    pure: false\n})\nexport class MyFilterPipe implements PipeTransform {\n    transform(items: any[], filter: Object): any {\n        if (!items || !filter) {\n            return items;\n        }\n        // filter items array, items which match and return true will be\n        // kept, false will be filtered out\n        return items.filter(item =&gt; item.title.indexOf(filter.title) !== -1);\n    }\n}\n</code></pre>\n\n<p>Remember to register your pipe in <code>app.module.ts</code>; you no longer need to register the pipes in your <code>@Component</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { MyFilterPipe } from './shared/pipes/my-filter.pipe';\n\n@NgModule({\n    imports: [\n        ..\n    ],\n    declarations: [\n        MyFilterPipe,\n    ],\n    providers: [\n        ..\n    ],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p><a href=\"https://embed.plnkr.co/l1oTNT/\" rel=\"noreferrer\">Here's a Plunker</a> which demos the use of a custom filter pipe and the built-in slice pipe to limit results.</p>\n\n<p>Please note (as several commentators have pointed out) that <a href=\"https://angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe\" rel=\"noreferrer\">there is a reason</a> why there are no built-in filter pipes in Angular.</p>\n"}, {"comments": [{"owner": {"reputation": 613, "user_id": 5473114, "user_type": "registered", "profile_image": "https://graph.facebook.com/10106819686635250/picture?type=large", "display_name": "Azeroth2b", "link": "https://stackoverflow.com/users/5473114/azeroth2b"}, "edited": false, "score": 1, "creation_date": 1530887903, "post_id": 37302857, "comment_id": 89406344, "body": "Won&#39;t this enter the template for every item in the list instead of just the filtered list?  That could be a performance hit."}], "tags": [], "owner": {"reputation": 257, "user_id": 2373475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e4b2e2080d418fbc654168d3ef6b2e?s=128&d=identicon&r=PG", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/2373475/jeroen"}, "is_accepted": false, "score": 11, "last_activity_date": 1463584549, "last_edit_date": 1463584549, "creation_date": 1463582377, "answer_id": 37302857, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/37302857#37302857", "title": "How to apply filters to *ngFor?", "body": "<p>You could also use the following:</p>\n\n<pre><code>&lt;template ngFor let-item [ngForOf]=\"itemsList\"&gt;\n    &lt;div *ng-if=\"conditon(item)\"&gt;&lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>This will only show the div if your items matches the condition</p>\n\n<p>See the <a href=\"https://angular.io/docs/ts/latest/guide/structural-directives.html\" rel=\"noreferrer\">angular documentation</a> for more information \nIf you would also need the index, use the following:</p>\n\n<pre><code>&lt;template ngFor let-item [ngForOf]=\"itemsList\" let-i=\"index\"&gt;\n    &lt;div *ng-if=\"conditon(item, i)\"&gt;&lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2432, "user_id": 3986536, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0stdG.jpg?s=128&g=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/3986536/johannes"}, "edited": false, "score": 3, "creation_date": 1467300352, "post_id": 38105897, "comment_id": 63686047, "body": "Maybe add following to show how to combine it with ReqExp: return items.filter(       item =&gt; {         return new RegExp(value, &quot;i&quot;).test(item[field])       });"}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 8, "creation_date": 1489545194, "post_id": 38105897, "comment_id": 72714385, "body": "According to the Angular team, this is considered bad practice."}, {"owner": {"reputation": 3368, "user_id": 314472, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7993e2dbc09e2751bf9e4b8bc46dfb49?s=128&d=identicon&r=PG", "display_name": "Zymotik", "link": "https://stackoverflow.com/users/314472/zymotik"}, "edited": false, "score": 0, "creation_date": 1494887566, "post_id": 38105897, "comment_id": 75008705, "body": "@torazaburo can you reference their opinion or explain why? Thanks"}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "reply_to_user": {"reputation": 3368, "user_id": 314472, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7993e2dbc09e2751bf9e4b8bc46dfb49?s=128&d=identicon&r=PG", "display_name": "Zymotik", "link": "https://stackoverflow.com/users/314472/zymotik"}, "edited": false, "score": 1, "creation_date": 1494905254, "post_id": 38105897, "comment_id": 75012790, "body": "@Zymotik See <a href=\"https://angular.io/docs/ts/latest/guide/pipes.html#!#appendix-no-filterpipe-or-orderbypipe-\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/&hellip;</a>."}, {"owner": {"reputation": 3368, "user_id": 314472, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7993e2dbc09e2751bf9e4b8bc46dfb49?s=128&d=identicon&r=PG", "display_name": "Zymotik", "link": "https://stackoverflow.com/users/314472/zymotik"}, "edited": false, "score": 2, "creation_date": 1495529088, "post_id": 38105897, "comment_id": 75278290, "body": "According to the Angular team, this is poor code because it is slow and it isn&#39;t minified well. The team doesn&#39;t want to see slow websites due to their code so they didn&#39;t build it into Angular this time. <a href=\"https://angular.io/docs/ts/latest/guide/pipes.html#!#appendix-no-filterpipe-or-orderbypipe-\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4026, "user_id": 1102037, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f9FFZ.jpg?s=128&g=1", "display_name": "Rodolfo Jorge Nemer Nogueira", "link": "https://stackoverflow.com/users/1102037/rodolfo-jorge-nemer-nogueira"}, "is_accepted": false, "score": 39, "last_activity_date": 1557942503, "last_edit_date": 1557942503, "creation_date": 1467219631, "answer_id": 38105897, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/38105897#38105897", "title": "How to apply filters to *ngFor?", "body": "<p>Simplified way (Used only on small arrays because of performance issues. In large arrays you have to make the filter manually via code):</p>\n\n<p>See: <a href=\"https://angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe\" rel=\"noreferrer\">https://angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe</a></p>\n\n<pre><code>@Pipe({\n    name: 'filter'\n})\n@Injectable()\nexport class FilterPipe implements PipeTransform {\n    transform(items: any[], field : string, value : string): any[] {  \n      if (!items) return [];\n      if (!value || value.length == 0) return items;\n      return items.filter(it =&gt; \n      it[field].toLowerCase().indexOf(value.toLowerCase()) !=-1);\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&lt;li *ngFor=\"let it of its | filter : 'name' : 'value or variable'\"&gt;{{it}}&lt;/li&gt;\n</code></pre>\n\n<p>If you use a variable as a second argument, don't use quotes. </p>\n"}, {"comments": [{"owner": {"reputation": 19834, "user_id": 2083492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e162ef09b182c98f97d90331c23a6a?s=128&d=identicon&r=PG", "display_name": "Philip", "link": "https://stackoverflow.com/users/2083492/philip"}, "edited": false, "score": 4, "creation_date": 1480337442, "post_id": 38400049, "comment_id": 68906292, "body": "If you use the <a href=\"https://angular.io/docs/ts/latest/api/core/index/TrackByFn-interface.html\" rel=\"nofollow noreferrer\">trackBy Interface</a> the slice pipe must applied before the <code>;</code>. e.g.: <code>*ngFor=&quot;let feature of content?.keyFeatures | slice:1:5; trackBy feature?.id&quot;</code>"}], "tags": [], "owner": {"reputation": 12766, "user_id": 936643, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0748919a08032785e3190e4f9d37cd42?s=128&d=identicon&r=PG", "display_name": "SpaceBeers", "link": "https://stackoverflow.com/users/936643/spacebeers"}, "is_accepted": false, "score": 21, "last_activity_date": 1487047304, "last_edit_date": 1487047304, "creation_date": 1468596985, "answer_id": 38400049, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/38400049#38400049", "title": "How to apply filters to *ngFor?", "body": "<p>I'm not sure when it came in but they already made slice pipe that will do that. It's well documented too.</p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/api/common/index/SlicePipe-pipe.html\" rel=\"noreferrer\">https://angular.io/docs/ts/latest/api/common/index/SlicePipe-pipe.html</a></p>\n\n<pre><code>&lt;p *ngFor=\"let feature of content?.keyFeatures | slice:1:5\"&gt;\n   {{ feature.description }}\n&lt;/p&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2530, "user_id": 787856, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b38d78ea2434f802be2b30e69c69f702?s=128&d=identicon&r=PG&f=1", "display_name": "L&#233;on Pelletier", "link": "https://stackoverflow.com/users/787856/l%c3%a9on-pelletier"}, "edited": false, "score": 1, "creation_date": 1480620137, "post_id": 39311934, "comment_id": 69049589, "body": "Won&#39;t this method trigger continuous dirty checkings instead of using a valueChanged approach?"}], "tags": [], "owner": {"reputation": 15751, "user_id": 11197, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/beb7fdd4bcd15e35472a96ab8182f034?s=128&d=identicon&r=PG", "display_name": "Rick Strahl", "link": "https://stackoverflow.com/users/11197/rick-strahl"}, "is_accepted": false, "score": 1, "last_activity_date": 1472942349, "creation_date": 1472942349, "answer_id": 39311934, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/39311934#39311934", "title": "How to apply filters to *ngFor?", "body": "<p>Another approach I like to use for application specific filters, is to use a custom read-only property on your component which allows you to encapsulate the filtering logic more cleanly than using a custom pipe (IMHO).</p>\n\n<p>For example, if I want to bind to <code>albumList</code> and filter on <code>searchText</code>:</p>\n\n<pre><code>searchText: \"\";\nalbumList: Album[] = [];\n\nget filteredAlbumList() {\n    if (this.config.searchText &amp;&amp; this.config.searchText.length &gt; 1) {\n      var lsearchText = this.config.searchText.toLowerCase();\n      return this.albumList.filter((a) =&gt;\n        a.Title.toLowerCase().includes(lsearchText) ||\n        a.Artist.ArtistName.toLowerCase().includes(lsearchText)\n      );\n    }\n    return this.albumList;\n}\n</code></pre>\n\n<p>To bind in the HTML you can then bind to the read-only property:</p>\n\n<pre><code>&lt;a class=\"list-group-item\"\n       *ngFor=\"let album of filteredAlbumList\"&gt;\n&lt;/a&gt;\n</code></pre>\n\n<p>I find for specialized filters that are application specific this works better than a pipe as it keeps the logic related to the filter with the component. </p>\n\n<p>Pipes work better for globally reusable filters.</p>\n"}, {"tags": [], "owner": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "is_accepted": false, "score": 4, "last_activity_date": 1554069822, "last_edit_date": 1554069822, "creation_date": 1482634702, "answer_id": 41318363, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/41318363#41318363", "title": "How to apply filters to *ngFor?", "body": "<p>I've created a plunker based off of the answers here and elsewhere. </p>\n\n<p>Additionally I had to add an <code>@Input</code>, <code>@ViewChild</code>, and <code>ElementRef</code> of the <code>&lt;input&gt;</code> and create and <code>subscribe()</code> to an observable of it.</p>\n\n<p>Angular2 Search Filter: <a href=\"https://plnkr.co/edit/WitglQDcZku4ZxHgi5yj?p=preview\" rel=\"nofollow noreferrer\">PLUNKR</a> (UPDATE: plunker no longer works)</p>\n"}, {"tags": [], "owner": {"reputation": 1172, "user_id": 1269387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9937a587a4a08dfeafe89e3480035c3?s=128&d=identicon&r=PG", "display_name": "long2know", "link": "https://stackoverflow.com/users/1269387/long2know"}, "is_accepted": false, "score": 0, "last_activity_date": 1489720943, "creation_date": 1489720943, "answer_id": 42848644, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/42848644#42848644", "title": "How to apply filters to *ngFor?", "body": "<p>Here's an example that I created a while back, and blogged about, that includes a working plunk.  It provides a filter pipe that can filter any list of objects.  You basically just specify the property and value {key:value} within your ngFor specification.</p>\n\n<p>It's not a lot different from @NateMay's response, except that I explain it in relatively verbose detail.</p>\n\n<p>In my case, I filtered an unordered list on some text (filterText) the user entered against the \"label\" property of the objects in my array with this sort of mark-up:</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li *ngFor=\"let item of _items | filter:{label: filterText}\"&gt;{{ item.label }}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><a href=\"https://long2know.com/2016/11/angular2-filter-pipes/\" rel=\"nofollow noreferrer\">https://long2know.com/2016/11/angular2-filter-pipes/</a></p>\n"}, {"comments": [{"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1506098868, "post_id": 43310428, "comment_id": 79698641, "body": "I like this, feels really elegant.  Is there any way to make it work with an anonymous function, though?  I&#39;m trying to do some variation of <code>callback: item =&gt; item.property === value</code> but everything I try gives different errors."}, {"owner": {"reputation": 380, "user_id": 314918, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/064e5bd7a616aa6a8ff24767ec2a6a34?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/314918/paul"}, "edited": false, "score": 4, "creation_date": 1510847760, "post_id": 43310428, "comment_id": 81619204, "body": "I notice that in the function filterUser() - or my equivalent function to that - you can&#39;t use &quot;this&quot; to access the current component instance like you can with all other functions in the component class.  I need to access the component object to check the filtered item is in a collection."}, {"owner": {"reputation": 3499, "user_id": 2255871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c3a8dc6136276c1232de4bb26d18912?s=128&d=identicon&r=PG", "display_name": "code5", "link": "https://stackoverflow.com/users/2255871/code5"}, "reply_to_user": {"reputation": 380, "user_id": 314918, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/064e5bd7a616aa6a8ff24767ec2a6a34?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/314918/paul"}, "edited": false, "score": 0, "creation_date": 1510851474, "post_id": 43310428, "comment_id": 81621854, "body": "Hi @paul I&#39;m sure if I understand your question/concern. You can for sure access he component&#39;s methods. Also, the component (controller) should be where Business Rules resided of what is filtered not the HTML (view). This creates a better level of separation following the SRP of the SOLID principle."}, {"owner": {"reputation": 380, "user_id": 314918, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/064e5bd7a616aa6a8ff24767ec2a6a34?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/314918/paul"}, "edited": false, "score": 0, "creation_date": 1510943730, "post_id": 43310428, "comment_id": 81666890, "body": "@code5 yesterday, well when i tried to access it it didnt work. It said this is undefined."}, {"owner": {"reputation": 3499, "user_id": 2255871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c3a8dc6136276c1232de4bb26d18912?s=128&d=identicon&r=PG", "display_name": "code5", "link": "https://stackoverflow.com/users/2255871/code5"}, "reply_to_user": {"reputation": 380, "user_id": 314918, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/064e5bd7a616aa6a8ff24767ec2a6a34?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/314918/paul"}, "edited": false, "score": 1, "creation_date": 1510977248, "post_id": 43310428, "comment_id": 81677561, "body": "@Paul, hmm... that&#39;s impossible. Is your method private? Not that should matter as privates are only compile constructs and are not enforced at runtime. In my example I used IUser. This assumes that the items in the collection being iterated map to it. You can try any to see if it works. Also, make sure the name is typed correct, case and all."}, {"owner": {"reputation": 1320, "user_id": 4603146, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a189e6f85a288a62d3e1d1b192e7eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "suulisin", "link": "https://stackoverflow.com/users/4603146/suulisin"}, "edited": false, "score": 1, "creation_date": 1516035177, "post_id": 43310428, "comment_id": 83517934, "body": "i cant access component variable using this method"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2594803"}, "edited": false, "score": 1, "creation_date": 1525799375, "post_id": 43310428, "comment_id": 87495116, "body": "@code5 I think the return type of your function should be any[] instead of any, but of course it is up to you."}, {"owner": {"reputation": 546, "user_id": 3133446, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RkDPM.jpg?s=128&g=1", "display_name": "nightElf91", "link": "https://stackoverflow.com/users/3133446/nightelf91"}, "edited": false, "score": 1, "creation_date": 1537481034, "post_id": 43310428, "comment_id": 91811549, "body": "Because the context of <i>this</i> is not available to the pipe. You can bind it using apply function. Google for it."}, {"owner": {"reputation": 509, "user_id": 2557586, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03w5I.jpg?s=128&g=1", "display_name": "perry", "link": "https://stackoverflow.com/users/2557586/perry"}, "edited": false, "score": 1, "creation_date": 1539582085, "post_id": 43310428, "comment_id": 92538540, "body": "Updated with an example for how to access component context."}, {"owner": {"reputation": 2015, "user_id": 397852, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yJUEA.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/397852/tom"}, "edited": false, "score": 12, "creation_date": 1547829680, "post_id": 43310428, "comment_id": 95340346, "body": "To avoid the issue of <code>this</code> being undefined, you can write your method on your component like <code>filterUser = (user: IUser) =&gt;</code> rather than <code>filteruser(user: IUser)</code>"}, {"owner": {"reputation": 1094, "user_id": 3395023, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/345a0d4be2f9b6c6bf068e54b075c1cb?s=128&d=identicon&r=PG&f=1", "display_name": "tfa", "link": "https://stackoverflow.com/users/3395023/tfa"}, "edited": false, "score": 1, "creation_date": 1570708944, "post_id": 43310428, "comment_id": 103003602, "body": "One bug I had with the excellent solution - I needed to add a check for null  export class CallbackPipe implements PipeTransform {   transform(items: any[], callback: (item: any) =&gt; boolean): any {     if (items &amp;&amp; (items.length === 0 || !items.length))       return null;            if (!items || !callback)        return items;          return items.filter(item =&gt; callback(item));   } }"}, {"owner": {"reputation": 52465, "user_id": 12716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/09117ac8e2599741ee9191777848b598?s=128&d=identicon&r=PG", "display_name": "Randolpho", "link": "https://stackoverflow.com/users/12716/randolpho"}, "reply_to_user": {"reputation": 380, "user_id": 314918, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/064e5bd7a616aa6a8ff24767ec2a6a34?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/314918/paul"}, "edited": false, "score": 3, "creation_date": 1576513943, "post_id": 43310428, "comment_id": 104915302, "body": "@Paul I know this is too late to help you, but it might help others. The reason you were losing <code>this</code> on your component method is because the method was being used as a callback and a new <code>this</code> context was applied. You ran into a common problem in object oriented javascript, but there&#39;s an old and easy solution: you bind methods to be used as callbacks to the original class. In your constructor, add the following code: <code>this.myCallbackFunc = this.myCallbackFunc.bind(this);</code>  That&#39;s it. You&#39;ll never lose <code>this</code> again."}], "tags": [], "owner": {"reputation": 3499, "user_id": 2255871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c3a8dc6136276c1232de4bb26d18912?s=128&d=identicon&r=PG", "display_name": "code5", "link": "https://stackoverflow.com/users/2255871/code5"}, "is_accepted": false, "score": 126, "last_activity_date": 1492030356, "last_edit_date": 1492030356, "creation_date": 1491762826, "answer_id": 43310428, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/43310428#43310428", "title": "How to apply filters to *ngFor?", "body": "<p>A lot of you have great approaches, but the goal here is to be generic and defined a array pipe that is extremely reusable across all cases in relationship to *ngFor.</p>\n\n<p><strong>callback.pipe.ts</strong> (don't forget to add this to your module's declaration array)</p>\n\n<pre><code>import { PipeTransform, Pipe } from '@angular/core';\n\n@Pipe({\n    name: 'callback',\n    pure: false\n})\nexport class CallbackPipe implements PipeTransform {\n    transform(items: any[], callback: (item: any) =&gt; boolean): any {\n        if (!items || !callback) {\n            return items;\n        }\n        return items.filter(item =&gt; callback(item));\n    }\n}\n</code></pre>\n\n<p>Then in your component, you need to implement a method with the following signuature <strong>(item: any) => boolean</strong>, in my case for example, I called it filterUser, that filters users' age that are greater than 18 years. </p>\n\n<p><strong>Your Component</strong></p>\n\n<pre><code>@Component({\n  ....\n})\nexport class UsersComponent {\n  filterUser(user: IUser) {\n    return !user.age &gt;= 18\n  }\n}\n</code></pre>\n\n<p>And last but not least, your html code will look like this:</p>\n\n<p><strong>Your HTML</strong></p>\n\n<pre><code>&lt;li *ngFor=\"let user of users | callback: filterUser\"&gt;{{user.name}}&lt;/li&gt;\n</code></pre>\n\n<p>As you can see, this Pipe is fairly generic across all array like items that need to be filter via a callback. In mycase, I found it to be very useful for *ngFor like scenarios.</p>\n\n<p>Hope this helps!!!</p>\n\n<p>codematrix</p>\n"}, {"comments": [{"owner": {"reputation": 33439, "user_id": 3977061, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dcec319057f1824502fbf3ecece46e26?s=128&d=identicon&r=PG&f=1", "display_name": "BeetleJuice", "link": "https://stackoverflow.com/users/3977061/beetlejuice"}, "edited": false, "score": 22, "creation_date": 1506337610, "post_id": 43524428, "comment_id": 79764578, "body": "I think this would be computationally intensive because Angular will execute the filter every time it runs change detection. It will not scale well to large arrays. A cleaner, though more complex to code, solution would be to make <code>itemList</code> an Observable and use the async filter: <code>let item of itemsList | async</code>.  When a change occurs, make the observable emit the new list. This way, the filtering code is only run when needed."}, {"owner": {"reputation": 12860, "user_id": 1112003, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4a4d52c5a930f2ed1ce177ae67f2c29?s=128&d=identicon&r=PG", "display_name": "Jscti", "link": "https://stackoverflow.com/users/1112003/jscti"}, "edited": false, "score": 2, "creation_date": 1581695665, "post_id": 43524428, "comment_id": 106534392, "body": "This answer should have a negative score. It&#39;s bad, use a pipe."}, {"owner": {"reputation": 796, "user_id": 3152516, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ea925575fe0c9b928d81ff648ef7d50?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Chase", "link": "https://stackoverflow.com/users/3152516/dan-chase"}, "edited": false, "score": 0, "creation_date": 1597680351, "post_id": 43524428, "comment_id": 112206333, "body": "I&#39;m not sure I understand why this is too bad, doesn&#39;t a pipe or anything else have to potentially filter out during change detection anyway, regardless of what you use?  If you put a breakpoint in the pipe, you&#39;ll see it still runs on each change detection.. How is the observable method any better than trackBy, since still, at the end of the day, it needs to filter based on the value of a variable that could have changed..? You could use a separate list and update, then push changes also."}], "tags": [], "owner": {"reputation": 803, "user_id": 7175364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XoGxu.png?s=128&g=1", "display_name": "Thang Le", "link": "https://stackoverflow.com/users/7175364/thang-le"}, "is_accepted": false, "score": 31, "last_activity_date": 1499860051, "last_edit_date": 1499860051, "creation_date": 1492703722, "answer_id": 43524428, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/43524428#43524428", "title": "How to apply filters to *ngFor?", "body": "<p>This is what I implemented without using pipe.</p>\n\n<h1>component.html</h1>\n\n<pre><code>&lt;div *ngFor=\"let item of filter(itemsList)\"&gt;\n</code></pre>\n\n<h1>component.ts</h1>\n\n<pre><code>@Component({\n....\n})\nexport class YourComponent {\n  filter(itemList: yourItemType[]): yourItemType[] {\n    let result: yourItemType[] = [];\n    //your filter logic here\n    ...\n    ...\n    return result;\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 7911676, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--oQT2LqzmCg/AAAAAAAAAAI/AAAAAAAAAB0/mz-oOC6c3R0/photo.jpg?sz=128", "display_name": "Sanchit Tandon", "link": "https://stackoverflow.com/users/7911676/sanchit-tandon"}, "is_accepted": false, "score": 1, "last_activity_date": 1493117244, "creation_date": 1493117244, "answer_id": 43608557, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/43608557#43608557", "title": "How to apply filters to *ngFor?", "body": "<p>I created the following pipe for getting desired items from a list.</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'filter'\n})\nexport class FilterPipe implements PipeTransform {\n\n  transform(items: any[], filter: string): any {\n    if(!items || !filter) {\n      return items;\n    }\n    // To search values only of \"name\" variable of your object(item)\n    //return items.filter(item =&gt; item.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1);\n\n    // To search in values of every variable of your object(item)\n    return items.filter(item =&gt; JSON.stringify(item).toLowerCase().indexOf(filter.toLowerCase()) !== -1);\n  }\n\n}\n</code></pre>\n\n<p>Lowercase conversion is just to match in case insensitive way.\nYou can use it in your view like this:-</p>\n\n<pre><code>&lt;div&gt;\n  &lt;input type=\"text\" placeholder=\"Search reward\" [(ngModel)]=\"searchTerm\"&gt;\n&lt;/div&gt;\n&lt;div&gt;\n  &lt;ul&gt;\n    &lt;li *ngFor=\"let reward of rewardList | filter:searchTerm\"&gt;\n      &lt;div&gt;\n        &lt;img [src]=\"reward.imageUrl\"/&gt;\n        &lt;p&gt;{{reward.name}}&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 767, "user_id": 1442922, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0bd5dc57173c53bdc240eb1e92bc6739?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Huang", "link": "https://stackoverflow.com/users/1442922/peter-huang"}, "is_accepted": false, "score": 1, "last_activity_date": 1499703189, "creation_date": 1499703189, "answer_id": 45016946, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/45016946#45016946", "title": "How to apply filters to *ngFor?", "body": "<p>Ideally you should create angualr 2 pipe for that. But you can do this trick.   </p>\n\n<pre><code>&lt;ng-container *ngFor=\"item in itemsList\"&gt;\n    &lt;div*ngIf=\"conditon(item)\"&gt;{{item}}&lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2344, "user_id": 1668866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e53459412ae3f6560ef0325264bdfadb?s=128&d=identicon&r=PG", "display_name": "visar_uruqi", "link": "https://stackoverflow.com/users/1668866/visar-uruqi"}, "edited": false, "score": 0, "creation_date": 1601764814, "post_id": 46686207, "comment_id": 113508341, "body": "Great idea, clapping \ud83d\udc4f"}], "tags": [], "owner": {"reputation": 465, "user_id": 5219420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc6b12d155ffede39d0aa63b4d13a8f?s=128&d=identicon&r=PG&f=1", "display_name": "Blablalux", "link": "https://stackoverflow.com/users/5219420/blablalux"}, "is_accepted": false, "score": 2, "last_activity_date": 1507718598, "creation_date": 1507718598, "answer_id": 46686207, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/46686207#46686207", "title": "How to apply filters to *ngFor?", "body": "<p>Based on the very elegant callback pipe solution proposed above, it is possible to generalize it a bit further by allowing additional filter parameters to be passed along. We then have :</p>\n\n<p><strong>callback.pipe.ts</strong></p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'callback',\n  pure: false\n})\nexport class CallbackPipe implements PipeTransform {\n  transform(items: any[], callback: (item: any, callbackArgs?: any[]) =&gt; boolean, callbackArgs?: any[]): any {\n    if (!items || !callback) {\n      return items;\n    }\n    return items.filter(item =&gt; callback(item, callbackArgs));\n  }\n}\n</code></pre>\n\n<p><strong>component</strong></p>\n\n<pre><code>filterSomething(something: Something, filterArgs: any[]) {\n  const firstArg = filterArgs[0];\n  const secondArg = filterArgs[1];\n  ...\n  return &lt;some condition based on something, firstArg, secondArg, etc.&gt;;\n}\n</code></pre>\n\n<p><strong>html</strong></p>\n\n<pre><code>&lt;li *ngFor=\"let s of somethings | callback : filterSomething : [&lt;whatWillBecomeFirstArg&gt;, &lt;whatWillBecomeSecondArg&gt;, ...]\"&gt;\n  {{s.aProperty}}\n&lt;/li&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3048, "user_id": 3782729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/978cd2db60e584ab1d0e451bdc6040e4?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr R", "link": "https://stackoverflow.com/users/3782729/piotr-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1511373726, "creation_date": 1511373726, "answer_id": 47441230, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/47441230#47441230", "title": "How to apply filters to *ngFor?", "body": "<p>The first step you create Filter using <code>@Pipe</code> in your component.ts file:</p>\n\n<p><strong>your.component.ts</strong></p>\n\n<pre><code>import { Component, Pipe, PipeTransform, Injectable } from '@angular/core';\nimport { Person} from \"yourPath\";\n\n@Pipe({\n  name: 'searchfilter'\n})\n@Injectable()\nexport class SearchFilterPipe implements PipeTransform {\n  transform(items: Person[], value: string): any[] {\n    if (!items || !value) {\n      return items;\n    }\n    console.log(\"your search token = \"+value);\n    return items.filter(e =&gt; e.firstName.toLowerCase().includes(value.toLocaleLowerCase()));\n  }\n}\n@Component({\n  ....\n    persons;\n\n    ngOnInit() {\n         //inicial persons arrays\n    }\n})\n</code></pre>\n\n<p>And data structure of Person object:</p>\n\n<p><strong>person.ts</strong></p>\n\n<pre><code>export class Person{\n    constructor(\n        public firstName: string,\n        public lastName: string\n    ) { }\n}\n</code></pre>\n\n<p>In your view in html file:</p>\n\n<p><strong>your.component.html</strong></p>\n\n<pre><code>    &lt;input class=\"form-control\" placeholder=\"Search\" id=\"search\" type=\"text\" [(ngModel)]=\"searchText\"/&gt;\n    &lt;table class=\"table table-striped table-hover\"&gt;\n      &lt;colgroup&gt;\n        &lt;col span=\"1\" style=\"width: 50%;\"&gt;\n        &lt;col span=\"1\" style=\"width: 50%;\"&gt;\n      &lt;/colgroup&gt;\n      &lt;thead&gt;\n        &lt;tr&gt;\n          &lt;th&gt;First name&lt;/th&gt;\n          &lt;th&gt;Last name&lt;/th&gt;\n        &lt;/tr&gt;\n      &lt;/thead&gt;\n      &lt;tbody&gt;\n        &lt;tr *ngFor=\"let person of persons | searchfilter:searchText\"&gt;\n          &lt;td&gt;{{person.firstName}}&lt;/td&gt;\n          &lt;td&gt;{{person.lastName}}&lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/tbody&gt;\n    &lt;/table&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1416, "user_id": 3851647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6f58ab39cf65cb67c6b3a4531af90dbf?s=128&d=identicon&r=PG", "display_name": "pcnate", "link": "https://stackoverflow.com/users/3851647/pcnate"}, "edited": false, "score": 0, "creation_date": 1534888486, "post_id": 48659808, "comment_id": 90864982, "body": "this can break certain things. for example inside a mat-form-field"}], "tags": [], "owner": {"reputation": 3338, "user_id": 1705623, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/6Pxuo.jpg?s=128&g=1", "display_name": "Hardik Patel", "link": "https://stackoverflow.com/users/1705623/hardik-patel"}, "is_accepted": false, "score": 4, "last_activity_date": 1517994624, "creation_date": 1517994624, "answer_id": 48659808, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/48659808#48659808", "title": "How to apply filters to *ngFor?", "body": "<p>Pipe would be best approach. but below one would also work.</p>\n\n<pre><code>&lt;div *ng-for=\"#item of itemsList\"&gt;\n  &lt;ng-container *ng-if=\"conditon(item)\"&gt;\n    // my code\n  &lt;/ng-container&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 943, "user_id": 6799603, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sLHmv19Vvng/AAAAAAAAAAI/AAAAAAAAAFI/JD8WT64urzE/photo.jpg?sz=128", "display_name": "Gajender Singh", "link": "https://stackoverflow.com/users/6799603/gajender-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1523354306, "creation_date": 1523354306, "answer_id": 49750734, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/49750734#49750734", "title": "How to apply filters to *ngFor?", "body": "<p>This is your array </p>\n\n<pre><code>products: any = [\n        {\n            \"name\": \"John-Cena\",\n                    },\n        {\n            \"name\": \"Brock-Lensar\",\n\n        }\n    ];\n</code></pre>\n\n<p>This is your ngFor loop \nFilter By : </p>\n\n<pre><code>&lt;input type=\"text\" [(ngModel)]='filterText' /&gt;\n    &lt;ul *ngFor='let product of filterProduct'&gt;\n      &lt;li&gt;{{product.name }}&lt;/li&gt;\n    &lt;/ul&gt;\n</code></pre>\n\n<p>There I'm using filterProduct instant of products, because i want to preserve my original data.\nHere model _filterText is used as a input box.When ever there is any change setter function will call.\nIn setFilterText performProduct is called it will return the result only those who match with the input. I'm using lower case for case insensitive. </p>\n\n<pre><code>filterProduct = this.products;\n_filterText : string;\n    get filterText() : string {\n        return this._filterText;\n    }\n\n    set filterText(value : string) {\n        this._filterText = value;\n        this.filterProduct = this._filterText ? this.performProduct(this._filterText) : this.products;\n\n    } \n\n    performProduct(value : string ) : any {\n            value = value.toLocaleLowerCase();\n            return this.products.filter(( products : any ) =&gt; \n                products.name.toLocaleLowerCase().indexOf(value) !== -1);\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1541187023, "post_id": 50071746, "comment_id": 93144217, "body": "Hi, I&#39;m here and I&#39;ve followed all the steps and in this case I&#39;m using this <code>*ngFor=&quot;let inovice of invoices | filter:searchInvoice&quot;</code> and it&#39;s searching on my list, but shows a blank list, do you know why?"}, {"owner": {"reputation": 474, "user_id": 4332063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kNZcHPPNFjk/AAAAAAAAAAI/AAAAAAAAAU8/l4GAJ9nIfTU/photo.jpg?sz=128", "display_name": "Wedson Quintanilha da Silva", "link": "https://stackoverflow.com/users/4332063/wedson-quintanilha-da-silva"}, "reply_to_user": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 1, "creation_date": 1541282677, "post_id": 50071746, "comment_id": 93164974, "body": "Hello, please tell me what is the structure and type of objects that your list of invoices contains.  <b>The way you are using it should only be applied if your invoices list is of type string.</b>  If you want to search by invoice number (invoice.number), use this: <b><i>*ngFor = &quot;let inovice of invoices | filter: {field: number, value: searchInvoice}&quot;</i></b>. If you want to filter by two columns, for example, invoice.customer.name, use: <b><i>*ngFor = &quot;let inovice of invoices | filter: [field: number, value: searchInvoice}, {field: customer.name, value: searchInvoice} ]</i></b>."}], "tags": [], "owner": {"reputation": 474, "user_id": 4332063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kNZcHPPNFjk/AAAAAAAAAAI/AAAAAAAAAU8/l4GAJ9nIfTU/photo.jpg?sz=128", "display_name": "Wedson Quintanilha da Silva", "link": "https://stackoverflow.com/users/4332063/wedson-quintanilha-da-silva"}, "is_accepted": false, "score": 5, "last_activity_date": 1524875534, "creation_date": 1524875534, "answer_id": 50071746, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/50071746#50071746", "title": "How to apply filters to *ngFor?", "body": "<p>For this requirement, <strong>I implement and publish a generic component</strong>. See </p>\n\n<p><a href=\"https://www.npmjs.com/package/w-ng5\" rel=\"noreferrer\">https://www.npmjs.com/package/w-ng5</a></p>\n\n<p>For use this components, before, install this package with npm:</p>\n\n<pre><code>npm install w-ng5 --save\n</code></pre>\n\n<p>After, import module in app.module</p>\n\n<pre><code>...\nimport { PipesModule } from 'w-ng5';\n</code></pre>\n\n<p>In the next step, add in declare section of app.module:</p>\n\n<pre><code>imports: [\n  PipesModule,\n  ...\n]\n</code></pre>\n\n<p><strong>Sample use</strong></p>\n\n<p><strong>Filtering simple string</strong></p>\n\n<pre><code>&lt;input type=\"text\"  [(ngModel)]=\"filtroString\"&gt;\n&lt;ul&gt;\n  &lt;li *ngFor=\"let s of getStrings() | filter:filtroString\"&gt;\n    {{s}}\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><strong>Filtering complex string - field 'Value' in level 2</strong></p>\n\n<pre><code>&lt;input type=\"text\"  [(ngModel)]=\"search\"&gt;\n&lt;ul&gt;\n  &lt;li *ngFor=\"let s of getComplexTypesExtends() | filter:[{field:'n1.n2.valor2', value: search}]\"&gt;\n    {{s.nome}} - {{s.idade}} - {{s.n1.valor1}} - {{s.n1.n2.valor2}}\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><strong>Filtering complex string - middle field - 'Value' in level 1</strong></p>\n\n<pre><code>&lt;input type=\"text\"  [(ngModel)]=\"search3\"&gt;\n&lt;ul&gt;\n  &lt;li *ngFor=\"let s of getComplexTypesExtends() | filter:[{field:'n1.valor1', value: search3}]\"&gt;\n    {{s.nome}} - {{s.idade}} - {{s.n1.valor1}} - {{s.n1.n2.valor2}}\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><strong>Filtering complex array simple - field 'Nome' level 0</strong></p>\n\n<pre><code>&lt;input type=\"text\"  [(ngModel)]=\"search2\"&gt;\n&lt;ul&gt;\n  &lt;li *ngFor=\"let s of getComplexTypesExtends() | filter:[{field:'nome', value: search2}]\"&gt;\n    {{s.nome}} - {{s.idade}} - {{s.n1.valor1}} - {{s.n1.n2.valor2}}\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><strong>Filtering in tree fields - field 'Valor' in level 2 or 'Valor' in level 1 or 'Nome' in level 0</strong></p>\n\n<pre><code>&lt;input type=\"text\"  [(ngModel)]=\"search5\"&gt;\n&lt;ul&gt;\n  &lt;li *ngFor=\"let s of getComplexTypesExtends() | filter:[{field:'n1.n2.valor2', value: search5}, {field:'n1.valor1', value: search5}, {field:'nome', value: search5}]\"&gt;\n    {{s.nome}} - {{s.idade}} - {{s.n1.valor1}} - {{s.n1.n2.valor2}}\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><strong>Filtering nonexistent field - 'Valor' in nonexistent level 3</strong></p>\n\n<pre><code>&lt;input type=\"text\"  [(ngModel)]=\"search4\"&gt;\n&lt;ul&gt;\n  &lt;li *ngFor=\"let s of getComplexTypesExtends() | filter:[{field:'n1.n2.n3.valor3', value: search4}]\"&gt;\n    {{s.nome}} - {{s.idade}} - {{s.n1.valor1}} - {{s.n1.n2.valor2}}\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>This component work with infinite attribute level...</p>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 4113608, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Ncslv.jpg?s=128&g=1", "display_name": "alindber", "link": "https://stackoverflow.com/users/4113608/alindber"}, "is_accepted": false, "score": 0, "last_activity_date": 1531772607, "creation_date": 1531772607, "answer_id": 51369584, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/51369584#51369584", "title": "How to apply filters to *ngFor?", "body": "<p>After some googling, I came across <code>ng2-search-filter</code>.  In will take your object and apply the search term against all object properties looking for a match.</p>\n"}, {"comments": [{"owner": {"reputation": 2458, "user_id": 41783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecb18893edb6190694985b0ea3479476?s=128&d=identicon&r=PG", "display_name": "Trevor de Koekkoek", "link": "https://stackoverflow.com/users/41783/trevor-de-koekkoek"}, "edited": false, "score": 3, "creation_date": 1577717405, "post_id": 53367415, "comment_id": 105234927, "body": "better than &lt;span&gt; is to use &lt;ng-container&gt; as it won&#39;t add any unnecessary markup which in addition to the html noise could affect your CSS."}, {"owner": {"reputation": 796, "user_id": 3152516, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ea925575fe0c9b928d81ff648ef7d50?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Chase", "link": "https://stackoverflow.com/users/3152516/dan-chase"}, "edited": false, "score": 0, "creation_date": 1597679301, "post_id": 53367415, "comment_id": 112205824, "body": "I&#39;m such a nerd that this made me literally laugh out loud, I think due to the unexpected diversion from normally recommended logic filtering the ngFor. Inside-out Russian doll, but still looks the same as before? Does anyone know if this comes out the same, better, or worse than filtering on the ngFor? Really curious!"}], "tags": [], "owner": {"reputation": 71, "user_id": 6824898, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uE1_dSBL0sk/AAAAAAAAAAI/AAAAAAAAAGc/lR-n3K52SfI/photo.jpg?sz=128", "display_name": "Michael V", "link": "https://stackoverflow.com/users/6824898/michael-v"}, "is_accepted": false, "score": 7, "last_activity_date": 1542593407, "creation_date": 1542593407, "answer_id": 53367415, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/53367415#53367415", "title": "How to apply filters to *ngFor?", "body": "<p>A simple solution that works with Angular 6  for filtering a ngFor, it's the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;span *ngFor=\"item of itemsList\"  &gt;\r\n  &lt;div *ngIf=\"yourCondition(item)\"&gt;\r\n    \r\n    your code\r\n    \r\n  &lt;/div&gt;\r\n&lt;/span</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Spans are useful because does not inherently represent anything.</p>\n"}, {"tags": [], "owner": {"reputation": 714, "user_id": 2929192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62523d07eaa4f1efae63ff8fe409419b?s=128&d=identicon&r=PG&f=1", "display_name": "tgralex", "link": "https://stackoverflow.com/users/2929192/tgralex"}, "is_accepted": false, "score": 7, "last_activity_date": 1547738691, "creation_date": 1547738691, "answer_id": 54239086, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/54239086#54239086", "title": "How to apply filters to *ngFor?", "body": "<p>I know its an old question, however, I thought it might be helpful to offer another solution.</p>\n\n<p>equivalent of AngularJS of this</p>\n\n<pre><code>&lt;div *ng-for=\"#item of itemsList\" *ng-if=\"conditon(item)\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>in Angular 2+ you cant use *ngFor and *ngIf on a same element, so it will be following:</p>\n\n<pre><code>&lt;div *ngFor=\"let item of itemsList\"&gt;\n     &lt;div *ngIf=\"conditon(item)\"&gt;\n     &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and if you can not use  as internal container use ng-container instead.\nng-container is useful when you want to conditionally append a group of elements (ie using *ngIf=\"foo\") in your application but don't want to wrap them with another element.</p>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 5183301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7OgvU2Ny-Vc/AAAAAAAAAAI/AAAAAAAAD8Q/NhKOlCUHOcg/photo.jpg?sz=128", "display_name": "P&#224;ldi Gerg\u0151", "link": "https://stackoverflow.com/users/5183301/p%c3%a0ldi-gerg%c5%91"}, "is_accepted": false, "score": 2, "last_activity_date": 1552079217, "last_edit_date": 1552079217, "creation_date": 1551996114, "answer_id": 55053502, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/55053502#55053502", "title": "How to apply filters to *ngFor?", "body": "<p>This is my code:</p>\n\n<pre><code>import {Pipe, PipeTransform, Injectable} from '@angular/core';\n\n@Pipe({\n    name: 'filter'\n})\n@Injectable()\nexport class FilterPipe implements PipeTransform {\n    transform(items: any[], field : string, value): any[] {\n      if (!items) return [];\n      if (!value || value.length === 0) return items;\n      return items.filter(it =&gt;\n      it[field] === value);\n    }\n}\n</code></pre>\n\n<p>Sample:</p>\n\n<pre><code>LIST = [{id:1,name:'abc'},{id:2,name:'cba'}];\nFilterValue = 1;\n\n&lt;span *ngFor=\"let listItem of LIST | filter : 'id' : FilterValue\"&gt;\n                              {{listItem .name}}\n                          &lt;/span&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 6063676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7101240a12f7e8ff30ad4174c9b9bc23?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Aguirre", "link": "https://stackoverflow.com/users/6063676/richard-aguirre"}, "is_accepted": false, "score": 0, "last_activity_date": 1571591217, "last_edit_date": 1571591217, "creation_date": 1571590696, "answer_id": 58475266, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/58475266#58475266", "title": "How to apply filters to *ngFor?", "body": "<p>I was finding somethig for make a filter passing an Object, then i can use it like multi-filter: <a href=\"https://i.stack.imgur.com/VnazQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VnazQ.png\" alt=\"Multi filter example\"></a> </p>\n\n<p>i did this Beauty Solution:</p>\n\n<p><strong>filter.pipe.ts</strong></p>\n\n<pre><code>import { PipeTransform, Pipe } from '@angular/core';\n\n@Pipe({\n  name: 'filterx',\n  pure: false\n})\nexport class FilterPipe implements PipeTransform {\n transform(items: any, filter: any, isAnd: boolean): any {\n  let filterx=JSON.parse(JSON.stringify(filter));\n  for (var prop in filterx) {\n    if (Object.prototype.hasOwnProperty.call(filterx, prop)) {\n       if(filterx[prop]=='')\n       {\n         delete filterx[prop];\n       }\n    }\n }\nif (!items || !filterx) {\n  return items;\n}\n\nreturn items.filter(function(obj) {\n  return Object.keys(filterx).every(function(c) {\n    return obj[c].toLowerCase().indexOf(filterx[c].toLowerCase()) !== -1\n  });\n  });\n  }\n}\n</code></pre>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>slotFilter:any={start:'',practitionerCodeDisplay:'',practitionerName:''};\n</code></pre>\n\n<p><strong>componet.html</strong></p>\n\n<pre><code>             &lt;tr&gt;\n                &lt;th class=\"text-center\"&gt;  &lt;input type=\"text\" [(ngModel)]=\"slotFilter.start\"&gt;&lt;/th&gt;\n                &lt;th class=\"text-center\"&gt;&lt;input type=\"text\" [(ngModel)]=\"slotFilter.practitionerCodeDisplay\"&gt;&lt;/th&gt;\n                &lt;th class=\"text-left\"&gt;&lt;input type=\"text\" [(ngModel)]=\"slotFilter.practitionerName\"&gt;&lt;/th&gt;\n                &lt;th&gt;&lt;/th&gt;\n              &lt;/tr&gt;\n\n\n &lt;tbody *ngFor=\"let item of practionerRoleList | filterx: slotFilter\"&gt;...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 5116008, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rNf3sCqh9Us/AAAAAAAAAAI/AAAAAAAAOZM/00Q3UcbNt5k/photo.jpg?sz=128", "display_name": "BlackSlash", "link": "https://stackoverflow.com/users/5116008/blackslash"}, "is_accepted": false, "score": 2, "last_activity_date": 1605456158, "creation_date": 1605456158, "answer_id": 64846618, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor/64846618#64846618", "title": "How to apply filters to *ngFor?", "body": "<p>There is a dynamic filter pipe that I use</p>\n<p>Source data:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>items = [{foo: 'hello world'}, {foo: 'lorem ipsum'}, {foo: 'foo bar'}];\n</code></pre>\n<p>In the template you can dinamically set the filter in any object attr:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;li *ngFor=&quot;let item of items | filter:{foo:'bar'}&quot;&gt;\n</code></pre>\n<p>The pipe:</p>\n<pre class=\"lang-ts prettyprint-override\"><code>  import { Pipe, PipeTransform } from '@angular/core';\n\n  @Pipe({\n    name: 'filter',\n  })\n  export class FilterPipe implements PipeTransform {\n    transform(items: any[], filter: Record&lt;string, any&gt;): any {\n      if (!items || !filter) {\n        return items;\n      }\n\n      const key = Object.keys(filter)[0];\n      const value = filter[key];\n\n      return items.filter((e) =&gt; e[key].indexOf(value) !== -1);\n    }\n  }\n</code></pre>\n<p>Don't forget to register the pipe in your <code>app.module.ts</code> declarations</p>\n"}], "owner": {"reputation": 6930, "user_id": 1657309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kOnqZ.jpg?s=128&g=1", "display_name": "Khaled", "link": "https://stackoverflow.com/users/1657309/khaled"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419687, "favorite_count": 75, "protected_date": 1542593964, "accepted_answer_id": 34165371, "answer_count": 23, "score": 318, "last_activity_date": 1605456158, "creation_date": 1449603031, "last_edit_date": 1550600068, "question_id": 34164413, "link": "https://stackoverflow.com/questions/34164413/how-to-apply-filters-to-ngfor", "title": "How to apply filters to *ngFor?", "body": "<p>Apparently, Angular 2 will use pipes instead of filters as in Angular1 in conjunction with ng-for to filter results, although the implementation still seems to be vague, with no clear documentation.</p>\n\n<p>Namely what I'm trying to achieve could be viewed from the following perspective</p>\n\n<pre><code>&lt;div *ng-for=\"#item of itemsList\" *ng-if=\"conditon(item)\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>How to implement so using pipes?</p>\n"}, {"tags": ["typescript", "type-inference"], "answers": [{"comments": [{"owner": {"reputation": 593, "user_id": 3836927, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f558d640338b860bc918d57236e4b855?s=128&d=identicon&r=PG&f=1", "display_name": "Werner de Groot", "link": "https://stackoverflow.com/users/3836927/werner-de-groot"}, "edited": false, "score": 0, "creation_date": 1449645867, "post_id": 34164637, "comment_id": 56092685, "body": "In this case I would lose the ability to use the function as a regular uncurried function, so that won&#39;t work, unfortunately :("}, {"owner": {"reputation": 593, "user_id": 3836927, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f558d640338b860bc918d57236e4b855?s=128&d=identicon&r=PG&f=1", "display_name": "Werner de Groot", "link": "https://stackoverflow.com/users/3836927/werner-de-groot"}, "edited": false, "score": 0, "creation_date": 1450118952, "post_id": 34164637, "comment_id": 56290495, "body": "That&#39;s it! The only difference between your example (in which type inference works) and mine (in which it doesn&#39;t) is the order of the overloaded methods of <code>Curried</code>. Any idea why this is?"}, {"owner": {"reputation": 593, "user_id": 3836927, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f558d640338b860bc918d57236e4b855?s=128&d=identicon&r=PG&f=1", "display_name": "Werner de Groot", "link": "https://stackoverflow.com/users/3836927/werner-de-groot"}, "edited": false, "score": 0, "creation_date": 1450119770, "post_id": 34164637, "comment_id": 56290970, "body": "Now the following won&#39;t work anymore: <code>function applyTwo&lt;S, T, V&gt;(f: (x: S, y: T) =&gt; V, x: S, y: T): V { return f(x, y); }; applyTwo(f1, &quot;23&quot;, 23);</code> What, do you think, is the reason for this?"}, {"owner": {"reputation": 5216, "user_id": 334904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/30c2d3f79c4b55e1d8de2a950cee0869?s=128&d=identicon&r=PG", "display_name": "shadeglare", "link": "https://stackoverflow.com/users/334904/shadeglare"}, "reply_to_user": {"reputation": 593, "user_id": 3836927, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f558d640338b860bc918d57236e4b855?s=128&d=identicon&r=PG&f=1", "display_name": "Werner de Groot", "link": "https://stackoverflow.com/users/3836927/werner-de-groot"}, "edited": false, "score": 0, "creation_date": 1450121142, "post_id": 34164637, "comment_id": 56291777, "body": "I don&#39;t think it&#39;s a good practice to use &quot;overloading&quot; for a function interface. It seems more like a typescript design flaw than a real feature. I would prefer to use currying technique via multiple arrow expressions."}], "tags": [], "owner": {"reputation": 5216, "user_id": 334904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/30c2d3f79c4b55e1d8de2a950cee0869?s=128&d=identicon&r=PG", "display_name": "shadeglare", "link": "https://stackoverflow.com/users/334904/shadeglare"}, "is_accepted": true, "score": 0, "last_activity_date": 1449832714, "last_edit_date": 1449832714, "creation_date": 1449603797, "answer_id": 34164637, "question_id": 34164048, "link": "https://stackoverflow.com/questions/34164048/type-inference-in-typescript-for-curried-function/34164637#34164637", "title": "Type inference in TypeScript for curried function", "body": "<p>I could try this approach:</p>\n\n<pre><code>type Curried&lt;T1, T2, T3&gt; = (x: T1) =&gt; (y: T2) =&gt; T3;\n\nfunction apply&lt;T, U&gt;(f: (value: T) =&gt; U, x: T): U {\n    return f(x);\n}\n\n//simple demo\nvar someFunc: Curried&lt;string, number, [string, number]&gt; = x =&gt; y =&gt; [x, y];\nvar curriedSomeFunc = apply(someFunc, \"string here\");\nvar result1 = curriedSomeFunc(0); //will be [\"string here\", 0]\nvar result2 = curriedSomeFunc(1); //will be [\"string here\", 1]\n</code></pre>\n\n<p>Another try. The syntax is correct but no safety if you pass not a correct function for currying:</p>\n\n<pre><code>interface Curried&lt;T1, T2, T3&gt; {\n    (x: T1, y: T2): T3;\n    (x: T1): (y: T2) =&gt; T3\n}\n\nlet f1 = &lt;Curried&lt;string, number, [string, number]&gt;&gt;\n    ((x: string, y: number) =&gt; [x, 1]);\nlet f2 = &lt;Curried&lt;string, number, [string, number]&gt;&gt;\n    ((x: string) =&gt; (y: number) =&gt; [x, y]);\n\nfunction apply&lt;T, V&gt;(f: (x: T) =&gt; V, x: T): V {\n    return f(x);\n}\n\nlet curriedF1 = apply(f1, \"42\"); //Won't work (no function to curry) but type inference is OK\nlet curriedF2 = apply(f2, \"11\"); //Will work and type inference is also OK \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 593, "user_id": 3836927, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f558d640338b860bc918d57236e4b855?s=128&d=identicon&r=PG&f=1", "display_name": "Werner de Groot", "link": "https://stackoverflow.com/users/3836927/werner-de-groot"}, "is_accepted": false, "score": 1, "last_activity_date": 1459522238, "creation_date": 1459522238, "answer_id": 36359404, "question_id": 34164048, "link": "https://stackoverflow.com/questions/34164048/type-inference-in-typescript-for-curried-function/36359404#36359404", "title": "Type inference in TypeScript for curried function", "body": "<p>The following now works:</p>\n\n<pre><code>interface F1&lt;A, Z&gt; {\n    (_0: A): Z;\n}\n\ninterface F2&lt;A, B, Z&gt; extends F1&lt;A, F1&lt;B, Z&gt;&gt; {\n    (_0: A, _1: B): Z;\n}\n\nfunction apply&lt;T, U&gt;(f: F1&lt;T, U&gt;, x: T): U {\n    return f(x);\n}\n\nfunction apply2&lt;T, U, V&gt;(f: F2&lt;T, U, V&gt;, x: T, y: U): V {\n    return f(x, y);\n}\n\nlet curried: F2&lt;number, boolean, string&gt; = null;\n\nconst x: F1&lt;boolean, string&gt; = apply(curried, 4);\nconst y: string = apply2(curried, 4, false);\n</code></pre>\n"}], "owner": {"reputation": 593, "user_id": 3836927, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f558d640338b860bc918d57236e4b855?s=128&d=identicon&r=PG&f=1", "display_name": "Werner de Groot", "link": "https://stackoverflow.com/users/3836927/werner-de-groot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1018, "favorite_count": 0, "accepted_answer_id": 34164637, "answer_count": 2, "score": 3, "last_activity_date": 1459522238, "creation_date": 1449601825, "last_edit_date": 1449602938, "question_id": 34164048, "link": "https://stackoverflow.com/questions/34164048/type-inference-in-typescript-for-curried-function", "title": "Type inference in TypeScript for curried function", "body": "<p>I have the following definition for a curried function in TypeScript:</p>\n\n<pre><code>interface Curried2&lt;A, B, Z&gt; {\n    (_0: A): (_0: B) =&gt; Z;\n    (_0: A, _1: B): Z;\n}\n</code></pre>\n\n<p>I have the following function that should accept a function (curried or not):</p>\n\n<pre><code>function apply&lt;T, U&gt;(f: (_0: T) =&gt; U, x: T): U {\n    return f(x);\n}\n</code></pre>\n\n<p>Now, given</p>\n\n<pre><code>let curried: Curried2&lt;number, boolean, string&gt; = ...\n</code></pre>\n\n<p>the following works (as expected):</p>\n\n<pre><code>apply&lt;number, (_0: boolean) =&gt; string&gt;(curried, 4);\n</code></pre>\n\n<p>But TypeScript cannot infer the type on its own:</p>\n\n<pre><code>apply(curried, 4);\n</code></pre>\n\n<p>(Even though there is only one overload for <code>()</code> which takes <em>a single value</em>.) It complains: <pre>Argument of type 'Curried2&lt;number, boolean, string&gt;' is not assignable to parameter of type '(_0: number) => string' ...</pre>It has correctly inferred <code>T</code>, but inferred <code>U</code> to be <code>string</code>. Why is this? What can I do to make type inference work for me in this case (as explicitly specifying <code>T</code> and <code>U</code> is too verbose for my taste)?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1449615185, "creation_date": 1449615185, "answer_id": 34167624, "question_id": 34163110, "link": "https://stackoverflow.com/questions/34163110/how-to-create-a-library-to-use-in-web-and-nodejs/34167624#34167624", "title": "How to create a library to use in web and nodejs", "body": "<blockquote>\n  <p>i don't know which to use, external or internal. What I see right now is that internal modules is used for web and external can be used in nodejs.</p>\n</blockquote>\n\n<p>Use <code>commonjs</code>. Don't use any <code>node</code> specific stuff in your code (e.g. don't do <code>require('fs')</code>. Then publish to NPM. This way it will work as it is for NodeJS users.</p>\n\n<p>Since you didn't use any node specific stuff .... it will work <em>as it is</em> for webpack (or browserify) users too!</p>\n"}], "owner": {"reputation": 13083, "user_id": 1304456, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f5713d3760d3e54100d4f5530a71dbcf?s=128&d=identicon&r=PG", "display_name": "MuriloKunze", "link": "https://stackoverflow.com/users/1304456/murilokunze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449615185, "creation_date": 1449598636, "last_edit_date": 1495535234, "question_id": 34163110, "link": "https://stackoverflow.com/questions/34163110/how-to-create-a-library-to-use-in-web-and-nodejs", "title": "How to create a library to use in web and nodejs", "body": "<p>I'm developing a library and I would like to know how can I do to use it in web (html) and as a library in nodejs. </p>\n\n<p>My main question is about modules, i don't know which to use, external or internal. What I see right now is that internal modules is used for web and external can be used in nodejs.</p>\n\n<p>My question is similar to that: <a href=\"https://stackoverflow.com/questions/22891526/how-to-use-javascript-on-nodejs-and-web-at-the-same-time\">How to use javascript on nodejs and web at the same time?</a></p>\n\n<p>How can I do to make it possible to use in both?</p>\n"}, {"tags": ["javascript", "unit-testing", "typescript", "jasmine", "angular"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449599329, "post_id": 34162666, "comment_id": 56073337, "body": "Here you have an <a href=\"https://github.com/angular/angular/issues/5575\" rel=\"nofollow noreferrer\">example</a>."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449605861, "post_id": 34162666, "comment_id": 56077484, "body": "Hi Eric could you do a unit test for my code above as an answer? I had a look at the link and still couldn&#39;t get it working the unit test"}, {"owner": {"reputation": 1238, "user_id": 2375648, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/42907765964dbce370b10b8e7db76c2f?s=128&d=identicon&r=PG", "display_name": "David Pascoal", "link": "https://stackoverflow.com/users/2375648/david-pascoal"}, "edited": false, "score": 0, "creation_date": 1468918110, "post_id": 34162666, "comment_id": 64311552, "body": "Here is a very simple and functional example <a href=\"http://stackoverflow.com/a/37733428/2375648\">stackoverflow.com/a/37733428/2375648</a>"}, {"owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "edited": false, "score": 0, "creation_date": 1476813825, "post_id": 34162666, "comment_id": 67501584, "body": "HTTP unit testing using Angular2 final release - <a href=\"http://stackoverflow.com/questions/40108504/how-to-write-an-http-mock-unit-test-in-angular-2-final-release\" title=\"how to write an http mock unit test in angular 2 final release\">stackoverflow.com/questions/40108504/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 3182788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oPjUE.jpg?s=128&g=1", "display_name": "valter.santos.matos", "link": "https://stackoverflow.com/users/3182788/valter-santos-matos"}, "edited": false, "score": 1, "creation_date": 1459398450, "post_id": 34592789, "comment_id": 60271117, "body": "This didn&#39;t work for me, I followed <a href=\"http://chariotsolutions.com/blog/post/testing-http-services-angular-2-jasmine/\" rel=\"nofollow noreferrer\">this blog post</a>"}], "tags": [], "owner": {"reputation": 41, "user_id": 5723070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87bd8773a469bdc192085aeb3d191b38?s=128&d=identicon&r=PG&f=1", "display_name": "f-del", "link": "https://stackoverflow.com/users/5723070/f-del"}, "is_accepted": false, "score": 4, "last_activity_date": 1480525985, "last_edit_date": 1480525985, "creation_date": 1451915825, "answer_id": 34592789, "question_id": 34162666, "link": "https://stackoverflow.com/questions/34162666/how-to-do-a-unit-test-for-http-get-mockbackend-in-angular2/34592789#34592789", "title": "How to do a unit test for Http get MockBackend in Angular2?", "body": "<p>First import all modules :</p>\n\n<pre><code>import {it,describe,expect,inject,injectAsync,beforeEachProviders} from 'angular2/testing';\nimport {provide, Injector} from 'angular2/core';\n\nimport {MockBackend} from 'angular2/http/testing';\nimport {YourServiceToBeTested} from 'path/to/YourServiceToBeTested';\n</code></pre>\n\n<p>Next you need to declare the Mocked HttpBackend :</p>\n\n<pre><code>describe('Service with Http injected', () =&gt; {\nbeforeEachProviders(() =&gt; {\n[\n  MockBackend,\n  BaseRequestOptions,\n  provide(\n      Http,\n         {\n            useFactory: (backend, defaultOptions) =&gt; {\n              return new Http(backend, defaultOptions);\n       },\n       deps: [MockBackend, BaseRequestOptions]\n  }),\n  YourServiceToBeTested\n]\n});\n</code></pre>\n\n<p>Finally on each test, you need to inject the mock &amp; set the mocked value (ie the fake data returned by your service for this specific test)</p>\n\n<pre><code>it('should respect your expectation',\n\ninject(\n  [YourServiceToBeTested, MockBackend],\n  (yourServiceToBeTested, mockBackend) =&gt; {\n\n    let response = 'Expected Response from HTTP service usually JSON format';\n    let responseOptions = new ResponseOptions({body: response});\nmock.connections.subscribe(\n    c =&gt; c.mockRespond(new Response(responseOptions)));\n\n    var res = yourServiceToBeTested.ServiceMethodToBeTest(serviceParams);\n    expect(res).toEqual('your own expectation');\n  }));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3894, "user_id": 4387465, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wf6tD.png?s=128&g=1", "display_name": "candidJ", "link": "https://stackoverflow.com/users/4387465/candidj"}, "edited": false, "score": 0, "creation_date": 1464854062, "post_id": 36076768, "comment_id": 62657196, "body": "i&#39;m getting <code>SyntaxError: Unexpected token s in JSON at position 0 \t    at Object.parse (native)</code> while using above code (not passing <code>json</code> data to parse function ?). But on using @f-del code i&#39;m not able to go inside <code>subscribe</code> method. e.g <code>yourServiceToBeTested.ServiceMethodToBeTest(serviceParams).s&zwnj;&#8203;ubscribe((c) =&gt; {                         expect(c.length).toBe(11);)});</code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3894, "user_id": 4387465, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wf6tD.png?s=128&g=1", "display_name": "candidJ", "link": "https://stackoverflow.com/users/4387465/candidj"}, "edited": false, "score": 0, "creation_date": 1464854943, "post_id": 36076768, "comment_id": 62657773, "body": "<code>Unexpected token s in JSON</code> seems to indicate an issue with the returned JSON. What do you get when you print it to the console?"}, {"owner": {"reputation": 3894, "user_id": 4387465, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wf6tD.png?s=128&g=1", "display_name": "candidJ", "link": "https://stackoverflow.com/users/4387465/candidj"}, "edited": false, "score": 0, "creation_date": 1464855051, "post_id": 36076768, "comment_id": 62657841, "body": "<code>SyntaxError: Unexpected token s in JSON at position 0     at Object.parse (native)     at Function.Json.parse (http:&#47;&#47;localhost:9876&#47;base&#47;node_modules&#47;@angular&#47;http&#47;src&#47;f&zwnj;&#8203;acade&#47;lang.js:381:53&zwnj;&#8203;)     at Response.json (http:&#47;&#47;localhost:9876&#47;base&#47;node_modules&#47;@angular&#47;http&#47;src&#47;s&zwnj;&#8203;tatic_response.js:47&zwnj;&#8203;:40)     at MapSubscriber.eval [as project] </code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3894, "user_id": 4387465, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wf6tD.png?s=128&g=1", "display_name": "candidJ", "link": "https://stackoverflow.com/users/4387465/candidj"}, "edited": false, "score": 0, "creation_date": 1464855081, "post_id": 36076768, "comment_id": 62657864, "body": "I meant what the JSON looks like when printed to the console."}, {"owner": {"reputation": 3894, "user_id": 4387465, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wf6tD.png?s=128&g=1", "display_name": "candidJ", "link": "https://stackoverflow.com/users/4387465/candidj"}, "edited": false, "score": 0, "creation_date": 1464856491, "post_id": 36076768, "comment_id": 62658713, "body": "this is what console logs : <code>1.\tObject { MyData: Object, DataFormat: 1} 1.\tMyObj:Object 1.\tCriteria:&quot;A&quot; 2.\tGenAt:&quot;**********&quot; 3.\tNextChars:&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ125.&#47;-&quot; 4.\tSymbols:Array[1000] 5.\t__proto__:Object 2.\tDataFormat:1 3.\t__proto__:Object </code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3894, "user_id": 4387465, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wf6tD.png?s=128&g=1", "display_name": "candidJ", "link": "https://stackoverflow.com/users/4387465/candidj"}, "edited": false, "score": 0, "creation_date": 1464856581, "post_id": 36076768, "comment_id": 62658774, "body": "That doesn&#39;t look like JSON. That looks like that is already parsed JSON. Maybe you try to parse it twice or similar."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1458278787, "creation_date": 1458278787, "answer_id": 36076768, "question_id": 34162666, "link": "https://stackoverflow.com/questions/34162666/how-to-do-a-unit-test-for-http-get-mockbackend-in-angular2/36076768#36076768", "title": "How to do a unit test for Http get MockBackend in Angular2?", "body": "<p>While @f-del s answer gets the same result this is easier and uses Angulars DI better.</p>\n\n<pre><code>describe('Firebase Service Calls', () =&gt; {\n    beforeEachProviders(()=&gt; [\n        HTTP_PROVIDERS,\n        MockBackend,\n        provide(XHRBackend, {useExisting: MockBackend})]);\n</code></pre>\n\n<p>This way, when <code>Http</code> is requested, and instance that uses <code>MockBackend</code> is provided.</p>\n"}, {"tags": [], "owner": {"reputation": 22537, "user_id": 3198804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/roYbX.jpg?s=128&g=1", "display_name": "Milad", "link": "https://stackoverflow.com/users/3198804/milad"}, "is_accepted": false, "score": 2, "last_activity_date": 1480164972, "creation_date": 1480164972, "answer_id": 40818529, "question_id": 34162666, "link": "https://stackoverflow.com/questions/34162666/how-to-do-a-unit-test-for-http-get-mockbackend-in-angular2/40818529#40818529", "title": "How to do a unit test for Http get MockBackend in Angular2?", "body": "<p>In Angular 2.2.1  provide does not exist in core anymore , so we should do : </p>\n\n<pre><code>{\n    provide : Http,\n    deps : [ MockBackend, BaseRequestOptions ],\n    useFactory : ( backend : MockBackend, defaultOptions : BaseRequestOptions ) =&gt; {\n        return new Http( backend, defaultOptions );\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7548, "user_id": 463059, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ICK4t.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/463059/jon"}, "is_accepted": false, "score": 0, "last_activity_date": 1511391303, "creation_date": 1511391303, "answer_id": 47445108, "question_id": 34162666, "link": "https://stackoverflow.com/questions/34162666/how-to-do-a-unit-test-for-http-get-mockbackend-in-angular2/47445108#47445108", "title": "How to do a unit test for Http get MockBackend in Angular2?", "body": "<p>To piggyback off of @Milad's response, I found a <a href=\"https://codecraft.tv/courses/angular/unit-testing/http-and-jsonp/\" rel=\"nofollow noreferrer\">great tutorial on mocking http calls</a> for Angular 2/4 unit tests.</p>\n\n<p><strong>searchService.service.ts</strong>  </p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport {Jsonp} from '@angular/http';\nimport 'rxjs/add/operator/toPromise';\n\nclass SearchItem {\n  constructor(public name: string,\n              public artist: string,\n              public thumbnail: string,\n              public artistId: string) {\n  }\n}\n\n@Injectable()\nexport class SearchService {\n  apiRoot: string = 'https://itunes.apple.com/search';\n  results: SearchItem[];\n\n  constructor(private jsonp: Jsonp) {\n    this.results = [];\n  }\n\n  search(term: string) {\n    return new Promise((resolve, reject) =&gt; {\n      this.results = [];\n      let apiURL = `${this.apiRoot}?term=${term}&amp;media=music&amp;limit=20&amp;callback=JSONP_CALLBACK`;\n      this.jsonp.request(apiURL)\n          .toPromise()\n          .then(\n              res =&gt; { // Success\n                this.results = res.json().results.map(item =&gt; {\n                  console.log(item);\n                  return new SearchItem(\n                      item.trackName,\n                      item.artistName,\n                      item.artworkUrl60,\n                      item.artistId\n                  );\n                });\n                resolve(this.results);\n              },\n              msg =&gt; { // Error\n                reject(msg);\n              }\n          );\n    });\n  }\n}\n</code></pre>\n\n<p><strong>searchService.service.spec.ts</strong>  </p>\n\n<pre><code>describe('Service: Search', () =&gt; {\n\n  let service: SearchService;\n  let backend: MockBackend;\n\n  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n      imports: [JsonpModule],\n      providers: [\n        SearchService,\n        MockBackend,\n        BaseRequestOptions,\n        {\n          provide: Jsonp,\n          useFactory: (backend, options) =&gt; new Jsonp(backend, options),\n          deps: [MockBackend, BaseRequestOptions]\n        }\n      ]\n    });\n\n    backend = TestBed.get(MockBackend); \n\n    service = TestBed.get(SearchService); \n  });\n});\n\nit('search should return SearchItems', fakeAsync(() =&gt; { \n  let response = {\n    \"resultCount\": 1,\n    \"results\": [\n      {\n        \"artistId\": 78500,\n        \"artistName\": \"U2\",\n        \"trackName\": \"Beautiful Day\",\n        \"artworkUrl60\": \"image.jpg\",\n      }]\n  };\n\n  // When the request subscribes for results on a connection, return a fake response\n  backend.connections.subscribe(connection =&gt; {\n    connection.mockRespond(new Response(&lt;ResponseOptions&gt;{\n      body: JSON.stringify(response)\n    }));\n  });\n\n  // Perform a request and make sure we get the response we expect\n  service.search(\"U2\"); \n  tick(); \n\n  expect(service.results.length).toBe(1); \n  expect(service.results[0].artist).toBe(\"U2\");\n  expect(service.results[0].name).toBe(\"Beautiful Day\");\n  expect(service.results[0].thumbnail).toBe(\"image.jpg\");\n  expect(service.results[0].artistId).toBe(78500);\n}));\n</code></pre>\n\n<p><a href=\"https://codecraft.tv/courses/angular/unit-testing/http-and-jsonp/\" rel=\"nofollow noreferrer\">Code and credit goes to Asim at CodeCraft.</a></p>\n"}], "owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8123, "favorite_count": 5, "answer_count": 4, "score": 6, "last_activity_date": 1511391303, "creation_date": 1449597166, "last_edit_date": 1480525970, "question_id": 34162666, "link": "https://stackoverflow.com/questions/34162666/how-to-do-a-unit-test-for-http-get-mockbackend-in-angular2", "title": "How to do a unit test for Http get MockBackend in Angular2?", "body": "<p><strong>How to do a unit test for Http get MockBackend in Angular2?</strong></p>\n\n<p>I'm having trouble testing my http unit test.\nEvery time I look at <code>MockBackend</code> it seems confusing, a lot of code and some imports never work.</p>\n\n<p>I just want a very basic http get unit test</p>\n\n<p>I'm using: typescript, angular2, jasmine and karma runner.</p>\n\n<p>My actual code works fine.</p>\n\n<p><strong>Here is my code that I'm testing:</strong></p>\n\n<pre><code> import {Injectable} from 'angular2/angular2';\n import {HTTP_PROVIDERS, Http, Headers} from 'angular2/http';\n\n @Injectable()\n\n export class FirebaseService{\n   headers: Headers;\n\n   //Test issue seems to be here when I inject Http instance.\n   constructor(public http?: Http) {  \n     this.headers = new Headers();\n     this.headers.append('Content-Type', 'application/json');\n   }\n\n   //This is the method I'm testing.\n   public getSpotifyTracks = ():Promise&lt;Object&gt; =&gt;{ \n       return this.http\n        .get('https://api.spotify.com/v1/tracks/0eGsygTp906u18L0Oimnem',      {headers:this.headers})\n        .map((response) =&gt; {\n           return response.json()\n        }).toPromise();  \n   }\n\n }\n</code></pre>\n\n<p><strong>Here is my unit test for that code:</strong></p>\n\n<pre><code>import {it, iit, describe, expect, inject, injectAsync, beforeEachProviders, fakeAsync, tick} from 'angular2/testing';\nimport {HTTP_PROVIDERS, Http, Headers} from 'angular2/http';\nimport {FirebaseService} from '../app/firebase-service';\n\ndescribe('Firebase Service Calls', () =&gt; {\n    beforeEachProviders(()=&gt; [Http, FirebaseService]); \n\n    //Issue seems to be here????\n    it('get all tracks from spotify', injectAsync([FirebaseService],(service) =&gt; {      \n\n        return service.getSpotifyTracks().then((response) =&gt; {\n          expect(response.length).not.toBe(null);\n        });   \n\n    }), 3000);\n\n});\n</code></pre>\n"}, {"tags": ["typescript", "systemjs"], "answers": [{"comments": [{"owner": {"reputation": 64343, "user_id": 249933, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/458f2e0d08d4114f8b323798cfea141d?s=128&d=identicon&r=PG", "display_name": "ColinE", "link": "https://stackoverflow.com/users/249933/coline"}, "edited": false, "score": 0, "creation_date": 1449736383, "post_id": 34167780, "comment_id": 56139546, "body": "Thanks, that works, however the <a href=\"http://stackoverflow.com/a/34189916/249933\">accepted answer</a> shows a more elegant approach."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1449615835, "creation_date": 1449615835, "answer_id": 34167780, "question_id": 34161119, "link": "https://stackoverflow.com/questions/34161119/import-global-modules-with-typescript/34167780#34167780", "title": "Import &#39;global&#39; modules with TypeScript", "body": "<p>Your code </p>\n\n<pre><code>import * as greeting from './greeting/greetingSpec';\nimport * as foo from './greeting/fooSpec';\n</code></pre>\n\n<blockquote>\n  <p>However the TypeScript compiler can see that these imports are unused, so doesn't include them in the JS output.</p>\n</blockquote>\n\n<p>This is a feature, to support e.g. lazy loading : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/project/external-modules.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/project/external-modules.html</a> </p>\n\n<p>Workaround: </p>\n\n<pre><code>import * as greeting from './greeting/greetingSpec';\nimport * as foo from './greeting/fooSpec';\n// use the imports in a dummy fashion to enforce that they get loaded\nlet _greeting = greeting;\nlet _foo = foo;\n</code></pre>\n\n<p><a href=\"http://www.typescriptbuilder.com/\" rel=\"nofollow\">I do this all the time here</a> :-) </p>\n"}, {"tags": [], "owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "is_accepted": true, "score": 3, "last_activity_date": 1449698934, "creation_date": 1449698934, "answer_id": 34189916, "question_id": 34161119, "link": "https://stackoverflow.com/questions/34161119/import-global-modules-with-typescript/34189916#34189916", "title": "Import &#39;global&#39; modules with TypeScript", "body": "<p>Try using the side-effect-only <code>import</code>:</p>\n\n<pre><code>import './greeting/greetingSpec';\nimport './greeting/fooSpec';\n</code></pre>\n\n<p>This will not be elided. See <a href=\"https://github.com/Microsoft/TypeScript/issues/596\" rel=\"nofollow\">this discussion</a> for more information.</p>\n"}], "owner": {"reputation": 64343, "user_id": 249933, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/458f2e0d08d4114f8b323798cfea141d?s=128&d=identicon&r=PG", "display_name": "ColinE", "link": "https://stackoverflow.com/users/249933/coline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3943, "favorite_count": 0, "accepted_answer_id": 34189916, "answer_count": 2, "score": 4, "last_activity_date": 1449698934, "creation_date": 1449592358, "last_edit_date": 1449671685, "question_id": 34161119, "link": "https://stackoverflow.com/questions/34161119/import-global-modules-with-typescript", "title": "Import &#39;global&#39; modules with TypeScript", "body": "<p>I'm writing tests using Mocha and TypeScript ... here's a quick example:</p>\n\n<pre><code>import {assert} from 'chai';\nimport Greeting from '../../../src/component/greeting/greeting';\n\ndescribe('Greeting component', function () {\n    it('should greet correctly', function () {\n        let greeting = new Greeting();\n        assert(greeting.greeting === 'Hello World', 'should express the correct greeting');\n    });\n});\n</code></pre>\n\n<p>I can see these being compiled correctly. I am outputting them as common-js modules and using system-js as an in-browser loader.</p>\n\n<pre><code>System.import('component/greeting/greetingSpec.js')\n    .catch(console.log.bind(console))\n    .then(function() {\n        mocha.run();\n    })\n</code></pre>\n\n<p>I'd like to create a file which lists all of the 'spec' files:</p>\n\n<pre><code>import * as greeting from './greeting/greetingSpec';\nimport * as foo from './greeting/fooSpec';\n</code></pre>\n\n<p>However the TypeScript compiler can see that these imports are unused, so doesn't include them in the JS output.</p>\n\n<p>How can I define a single 'entry point' to my tests which I can load via system-js?</p>\n"}, {"tags": ["cordova", "typescript", "visual-studio-2015"], "comments": [{"owner": {"reputation": 5989, "user_id": 1735920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d677ff6b58ec6847c1bf145f8f5b6821?s=128&d=identicon&r=PG&f=1", "display_name": "Dawson Loudon", "link": "https://stackoverflow.com/users/1735920/dawson-loudon"}, "edited": false, "score": 1, "creation_date": 1449588921, "post_id": 34159394, "comment_id": 56066436, "body": "in <code>tsconfig.json</code> have you tried <code>&quot;out&quot;: &quot;scripts&#47;appBundle.js&quot;,</code>?"}, {"owner": {"reputation": 810, "user_id": 3476772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b385f14492f1bbe5e98663594931ee5d?s=128&d=identicon&r=PG", "display_name": "Steven Lacks", "link": "https://stackoverflow.com/users/3476772/steven-lacks"}, "reply_to_user": {"reputation": 5989, "user_id": 1735920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d677ff6b58ec6847c1bf145f8f5b6821?s=128&d=identicon&r=PG&f=1", "display_name": "Dawson Loudon", "link": "https://stackoverflow.com/users/1735920/dawson-loudon"}, "edited": false, "score": 0, "creation_date": 1449592682, "post_id": 34159394, "comment_id": 56069163, "body": "Thanks @DawsonLoudon, but that puts the file in the script directory instead of the www/directory. Eitherway, there&#39;s no output to the appBundle, no errors, no behavior."}, {"owner": {"reputation": 6783, "user_id": 5140175, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154016382808098/picture?type=large", "display_name": "Michael Braude", "link": "https://stackoverflow.com/users/5140175/michael-braude"}, "edited": false, "score": 1, "creation_date": 1449612504, "post_id": 34159394, "comment_id": 56081334, "body": "I get a whole bunch of build errors when I try your code in es5. If I try es6 I get &quot;TS1204 Cannot compile modules into &#39;commonjs&#39;, &#39;amd&#39;, &#39;system&#39; or &#39;umd&#39; when targeting &#39;ES6&#39; or higher.&quot; Are you sure you get no build errors? Can you post your project somewhere?"}, {"owner": {"reputation": 810, "user_id": 3476772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b385f14492f1bbe5e98663594931ee5d?s=128&d=identicon&r=PG", "display_name": "Steven Lacks", "link": "https://stackoverflow.com/users/3476772/steven-lacks"}, "edited": false, "score": 0, "creation_date": 1449672763, "post_id": 34159394, "comment_id": 56109833, "body": "Thanks Michael, I&#39;m thinking that means it&#39;s my VS configurations or something since I&#39;m not getting errors and should be. I&#39;ll change direction looking for a solution."}], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 3476772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b385f14492f1bbe5e98663594931ee5d?s=128&d=identicon&r=PG", "display_name": "Steven Lacks", "link": "https://stackoverflow.com/users/3476772/steven-lacks"}, "edited": false, "score": 0, "creation_date": 1449672709, "post_id": 34167736, "comment_id": 56109795, "body": "Thanks, still doesn&#39;t work when I remove the reference to the jQuery module. Looking at the other comments, it seems something is wrong in my configuration of VS or something, because Michael got errors."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1449615646, "creation_date": 1449615646, "answer_id": 34167736, "question_id": 34159394, "link": "https://stackoverflow.com/questions/34159394/script-not-running-typescript-cordova/34167736#34167736", "title": "Script not running. TypeScript Cordova", "body": "<blockquote>\n  <p><code>import $ = require(\"jquery\");</code></p>\n</blockquote>\n\n<p>You are using <em>modules</em>. You need a module loader e.g. webpack. </p>\n\n<blockquote>\n  <p><code>\"out\": \"www/scripts/appBundle.js\",</code></p>\n</blockquote>\n\n<p>Don't use <code>out</code> if using modules. More: <a href=\"https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md\" rel=\"nofollow\">https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md</a></p>\n"}], "owner": {"reputation": 810, "user_id": 3476772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b385f14492f1bbe5e98663594931ee5d?s=128&d=identicon&r=PG", "display_name": "Steven Lacks", "link": "https://stackoverflow.com/users/3476772/steven-lacks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 34167736, "answer_count": 1, "score": 1, "last_activity_date": 1449615646, "creation_date": 1449587610, "last_edit_date": 1449592911, "question_id": 34159394, "link": "https://stackoverflow.com/questions/34159394/script-not-running-typescript-cordova", "title": "Script not running. TypeScript Cordova", "body": "<p>I've tried several alternatives, but I can't seem to get this to work or to give me any errors or clues to what I am doing wrong. (Several alternatives being, jquery DOM manipulation, vanilla JS of same, alert as test, console.log as test, etc) Comments removed. There's no output to the appBundle.js (just an empty file), no errors.</p>\n\n<p>index.ts</p>\n\n<pre><code>module BlankCordovaApp2 {\n    \"use strict\";\n\n    export module Application {\n        export function initialize() {\n            app(); // I've also tried moving this out of the module.\n            document.addEventListener('deviceready', onDeviceReady);\n\n        }\n\n        // removed pause and resume for question.\n\n    }\n\n    window.onload = function () {\n        Application.initialize();\n    }\n}\n</code></pre>\n\n<p>app.ts</p>\n\n<pre><code>import $ = require(\"jquery\");\n\nfunction app() {\n    console.log('hi');\n}\nexport default app; \n</code></pre>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": { \n        \"noImplicitAny\": false,\n        \"noEmitOnError\": true,\n        \"removeComments\": false,\n        \"sourceMap\": true,\n        \"inlineSources\": true,\n        \"module\": \"amd\",\n        \"out\": \"www/scripts/appBundle.js\",\n        \"target\": \"es6\"\n    }\n}\n</code></pre>\n\n<p>I tried that \"target\" just above as ES5 and ES6, not sure which one it should be. Neither worked, nor produced any build or IntelliSense errors.</p>\n\n<p>Note: I can get similar apps working fine in regular JavaScript in and out of Visual Studio.</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 6756, "user_id": 458509, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Dj4ip.jpg?s=128&g=1", "display_name": "storm_buster", "link": "https://stackoverflow.com/users/458509/storm-buster"}, "edited": false, "score": 0, "creation_date": 1449688815, "post_id": 34167714, "comment_id": 56120695, "body": "been trying that, but it didnt.might be linked to something else in my app. I am not sure."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1449615556, "creation_date": 1449615556, "answer_id": 34167714, "question_id": 34159204, "link": "https://stackoverflow.com/questions/34159204/how-to-display-function-result-from-a-class-to-the-view-in-angular-typescript/34167714#34167714", "title": "How to display function result from a class to the view in angular/typescript?", "body": "<blockquote>\n  <p>I was wondering if I can use vm.product.discount in a view, and it would calculate the discount based on the actual product's price?</p>\n</blockquote>\n\n<p>Yup. For example in your HTML just call the function: </p>\n\n<pre><code>&lt;div&gt;{{vm.product.discount()}}&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 6756, "user_id": 458509, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Dj4ip.jpg?s=128&g=1", "display_name": "storm_buster", "link": "https://stackoverflow.com/users/458509/storm-buster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1753, "favorite_count": 0, "accepted_answer_id": 34167714, "answer_count": 1, "score": 1, "last_activity_date": 1449615556, "creation_date": 1449587083, "question_id": 34159204, "link": "https://stackoverflow.com/questions/34159204/how-to-display-function-result-from-a-class-to-the-view-in-angular-typescript", "title": "How to display function result from a class to the view in angular/typescript?", "body": "<p>let's say I have the following model :</p>\n\n<pre><code>module Model {  \ninterface IProduct{\n        id: number;\n        name: string;\n        price: number;\n\n        discount(): number;\n}\n\nexport class Product implements IProduct {\n    id: number;\n    name: string;\n    price: number;\n\n    constructor(id: number, name: string, price: number) {\n\n    }\n\n    discount(): number{\n            return this.price - 10*this.price/100;\n    }\n}\n}\n</code></pre>\n\n<p>I was wondering if I can use <code>vm.product.discount</code> in a view, and it would calculate the discount based on the actual product's price?</p>\n"}, {"tags": ["typescript", "typescript1.7"], "comments": [{"owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "edited": false, "score": 0, "creation_date": 1449590285, "post_id": 34158907, "comment_id": 56067463, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/34006955/typescript-extends-error-uncaught-typeerror-this-is-not-a-x-object/34008818?noredirect=1#comment55809786_34008818\">this question</a>."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1449594061, "post_id": 34158907, "comment_id": 56070074, "body": "Are you using external modules? What&#39;s the error you get? If you are using external modules then you need to move the interface into a definition file."}, {"owner": {"reputation": 404, "user_id": 5024038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gzwvg.jpg?s=128&g=1", "display_name": "Exdcarca", "link": "https://stackoverflow.com/users/5024038/exdcarca"}, "edited": false, "score": 0, "creation_date": 1449658002, "post_id": 34158907, "comment_id": 56100164, "body": "You are right David.. Thank you!!"}], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 5024038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gzwvg.jpg?s=128&g=1", "display_name": "Exdcarca", "link": "https://stackoverflow.com/users/5024038/exdcarca"}, "edited": false, "score": 1, "creation_date": 1449657967, "post_id": 34167689, "comment_id": 56100138, "body": "The unique trick is interface definition should be in a definition file."}, {"owner": {"reputation": 6133, "user_id": 3277581, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5782f76788b57a66b19a27b7e6ab42fe?s=128&d=identicon&r=PG", "display_name": "Serginho", "link": "https://stackoverflow.com/users/3277581/serginho"}, "edited": false, "score": 2, "creation_date": 1473961556, "post_id": 34167689, "comment_id": 66350294, "body": "It works but produces the following error: <code>TS2339: Property &#39;foo&#39; does not exist on type &#39;String&#39;</code> in typescript 1.8"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1449615477, "creation_date": 1449615477, "answer_id": 34167689, "question_id": 34158907, "link": "https://stackoverflow.com/questions/34158907/typescript-1-7-how-to-add-string-prototype-function/34167689#34167689", "title": "Typescript 1.7+ How to add String prototype function?", "body": "<p>The following still works <a href=\"http://www.typescriptlang.org/Playground/#src=interface%20String%20%7B%0A%20%20%20%20foo()%3A%20string%3B%0A%7D%0A%0AString.prototype.foo%3D%20function()%20%7B%0A%20%20%20%20return%20&#39;Bar&#39;%3B%0A%7D\" rel=\"nofollow\">in action</a>: </p>\n\n<pre><code>interface String {\n    foo(): string;\n}\n\nString.prototype.foo= function() {\n    return 'Bar';\n}\n</code></pre>\n\n<p>You probably have it in an <em>external</em> module which disconnects it from the <em>global</em> context. More on this : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/lib.d.ts.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/types/lib.d.ts.html</a></p>\n"}], "owner": {"reputation": 404, "user_id": 5024038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gzwvg.jpg?s=128&g=1", "display_name": "Exdcarca", "link": "https://stackoverflow.com/users/5024038/exdcarca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 585, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1449615477, "creation_date": 1449586285, "question_id": 34158907, "link": "https://stackoverflow.com/questions/34158907/typescript-1-7-how-to-add-string-prototype-function", "title": "Typescript 1.7+ How to add String prototype function?", "body": "<p>Anybody knows how to extend a base class in Typescript 1.7. Something like this example in JS:</p>\n\n<pre><code>String.prototype.foo = function() {\n    return 'Bar';\n}\n</code></pre>\n\n<p>I found many ways to do this in older versions of Typescript, like:</p>\n\n<pre><code>interface String {\n    foo(): string;\n}\n\nString.prototype.foo= function() {\n    return 'Bar';\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>interface StringConstructor {\n    foo(): string;\n}\n\nString.foo = function() {\n    return 'Bar';\n}\n</code></pre>\n\n<p>I tried many ways to do this, but I aways get error while TS is compiled!</p>\n\n<p>Thank you</p>\n\n<p>Felipe</p>\n"}, {"tags": ["angularjs", "typescript", "gulp"], "answers": [{"comments": [{"owner": {"reputation": 391, "user_id": 1788353, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/yC2Bz.jpg?s=128&g=1", "display_name": "P3anuts", "link": "https://stackoverflow.com/users/1788353/p3anuts"}, "edited": false, "score": 1, "creation_date": 1449590220, "post_id": 34159526, "comment_id": 56067415, "body": "Thanks, looks very promising! I will try it out."}], "tags": [], "owner": {"reputation": 20612, "user_id": 667767, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ab22d2f4c3742da613049b9401721942?s=128&d=identicon&r=PG", "display_name": "maxisam", "link": "https://stackoverflow.com/users/667767/maxisam"}, "is_accepted": true, "score": 1, "last_activity_date": 1449587979, "creation_date": 1449587979, "answer_id": 34159526, "question_id": 34158647, "link": "https://stackoverflow.com/questions/34158647/typescript-directive-html-template-in-gulp/34159526#34159526", "title": "Typescript directive html template in gulp", "body": "<p>I believe gulp-angular-templatecache is what you need.</p>\n\n<pre><code>var templateCache = require('gulp-angular-templatecache');\n\ngulp.task('default', function () {\n  return gulp.src('templates/**/*.html')\n    .pipe(templateCache())\n    .pipe(gulp.dest('public'));\n});\n</code></pre>\n\n<p>You can see how John papa does that from <a href=\"http://www.johnpapa.net/angular-and-gulp/\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 391, "user_id": 1788353, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/yC2Bz.jpg?s=128&g=1", "display_name": "P3anuts", "link": "https://stackoverflow.com/users/1788353/p3anuts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 34159526, "answer_count": 1, "score": 1, "last_activity_date": 1449587979, "creation_date": 1449585562, "question_id": 34158647, "link": "https://stackoverflow.com/questions/34158647/typescript-directive-html-template-in-gulp", "title": "Typescript directive html template in gulp", "body": "<p>I am looking at switching from Grunt to Gulp and I have everything I need working except for one thing.</p>\n\n<p>When I was using Grunt, I used grunt-ts and it had a very nice feature for dealing with html templates for angular directives. <a href=\"https://www.npmjs.com/package/grunt-ts#html\" rel=\"nofollow\">https://www.npmjs.com/package/grunt-ts#html</a></p>\n\n<p>It takes my directive template html file and creates a .ts file for it. This fits very nicely into our build process since all .ts-files are compiled and concat:ed to one file.\nNow, when I use gulp-typescript(<a href=\"https://www.npmjs.com/package/gulp-typescript\" rel=\"nofollow\">https://www.npmjs.com/package/gulp-typescript</a>) I no longer have this feature. \nIs there a way to recreate the functionality from grunt-ts to the Gulp workflow?</p>\n\n<p>Basically, what I need to do is:</p>\n\n<p>Watch all *.tpl.html files in a specified directory. [No problem] </p>\n\n<p>When file is changed, minify the html contents (using gulp-minify-html) in the file and add the minified html content to a new file(in the same directory) with this file content:</p>\n\n<pre><code>module [directivename].tpl{ \n    export var html ='MINIFIEDHTML';\n}\n</code></pre>\n\n<p>Any suggestions on how I can accomplish this? Or is there a better way to do this?\n`</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 2847, "user_id": 2760557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/259dfbcc7f03ebddcbe070f8fc9115f7?s=128&d=identicon&r=PG&f=1", "display_name": "Gustav", "link": "https://stackoverflow.com/users/2760557/gustav"}, "edited": false, "score": 2, "creation_date": 1449584009, "post_id": 34158006, "comment_id": 56062785, "body": "maybe <code>this.extendLog</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1752532"}, "reply_to_user": {"reputation": 2847, "user_id": 2760557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/259dfbcc7f03ebddcbe070f8fc9115f7?s=128&d=identicon&r=PG&f=1", "display_name": "Gustav", "link": "https://stackoverflow.com/users/2760557/gustav"}, "edited": false, "score": 0, "creation_date": 1449584093, "post_id": 34158006, "comment_id": 56062846, "body": "oh wow .. that is a n00b overlook right there. You can add the answer , ill accept"}, {"owner": {"reputation": 2847, "user_id": 2760557, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/259dfbcc7f03ebddcbe070f8fc9115f7?s=128&d=identicon&r=PG&f=1", "display_name": "Gustav", "link": "https://stackoverflow.com/users/2760557/gustav"}, "edited": false, "score": 0, "creation_date": 1449586477, "post_id": 34158006, "comment_id": 56064565, "body": "hehe, not necessary, minor typo/mistakes like that don&#39;t need answers imo."}], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 5477130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ibaKHFqJW0Q/AAAAAAAAAAI/AAAAAAAAAHA/R9sXEM4_r4g/photo.jpg?sz=128", "display_name": "Nazar Sakharenko", "link": "https://stackoverflow.com/users/5477130/nazar-sakharenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1449584121, "creation_date": 1449584121, "answer_id": 34158139, "question_id": 34158006, "link": "https://stackoverflow.com/questions/34158006/accessing-function-in-constructor-with-typescript/34158139#34158139", "title": "Accessing function in constructor with typescript", "body": "<p>Just use this.</p>\n\n<pre><code>$provide.decorator('$log',this.extendLog); \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1752532"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 34158139, "answer_count": 1, "score": 0, "last_activity_date": 1449584121, "creation_date": 1449583745, "question_id": 34158006, "link": "https://stackoverflow.com/questions/34158006/accessing-function-in-constructor-with-typescript", "title": "Accessing function in constructor with typescript", "body": "<p>I am not too sure how to access a function declared in an interface inside of my constructor. I have a simple inferface</p>\n\n<pre><code>export interface ILog  {\n    extendLog($delegate: any): ng.ILogService;\n}\n</code></pre>\n\n<p>and for my constructor</p>\n\n<pre><code>export class LogConfig implements ILog{\n\n    static $inject = [\"$provide\",\"$delegate\"];\n    constructor(public $provide : ng.auto.IProvideService,\n                public $delegate: ng.ILogService\n    ){\n        $provide.decorator('$log',extendLog ); \n    }\n\n    extendLog($delegate: any): ng.ILogService {\n\n        var debugFunction = $delegate.debug;\n        $delegate.debug = (...args: any[]): void =&gt; {\n            var now = (new Date()).toLocaleTimeString();\n            args[0] = now + ' - ' + args[0];\n            debugFunction.apply(null, args);\n        };\n        return $delegate;\n    }\n}\n</code></pre>\n\n<p><code>extendLog</code> is giving and error though</p>\n\n<pre><code>Cannot find name 'extendLog'\n</code></pre>\n\n<p>Am i even going about this the right way? Just trying to create a simple decorator.</p>\n"}, {"tags": ["javascript", "typescript", "tsc"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1449615936, "post_id": 34154967, "comment_id": 56082903, "body": "using <code>--out</code> can hurt in the long term : <a href=\"https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md\" rel=\"nofollow noreferrer\">github.com/TypeStrong/atom-typescript/blob/master/docs/out.m&zwnj;&#8203;d</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "edited": false, "score": 1, "creation_date": 1449575888, "post_id": 34155229, "comment_id": 56057377, "body": "Thanks, this solved the problem. It does mean that I have to reference others with <code>&#47;&#47;&#47; &lt;reference...&#47;&gt;</code> but that solves the problem."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "edited": false, "score": 2, "creation_date": 1449575921, "post_id": 34155229, "comment_id": 56057397, "body": "@JamesMonger: ...or don&#39;t define them as modules, since you&#39;re combining everything together."}, {"owner": {"reputation": 6988, "user_id": 114558, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bab612017b2cd60149999f197e9e5cc3?s=128&d=identicon&r=PG", "display_name": "rinogo", "link": "https://stackoverflow.com/users/114558/rinogo"}, "edited": false, "score": 1, "creation_date": 1465264906, "post_id": 34155229, "comment_id": 62816759, "body": "So, if we&#39;re using modules, is it possible to concatenate files into one file using <code>tsc</code> alone?  Or, must we use something like <a href=\"https://webpack.github.io/\" rel=\"nofollow noreferrer\">Webpack</a>?"}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 4, "last_activity_date": 1449575650, "creation_date": 1449575650, "answer_id": 34155229, "question_id": 34154967, "link": "https://stackoverflow.com/questions/34154967/tsc-out-creating-empty-outfile/34155229#34155229", "title": "tsc out creating empty outfile", "body": "<p>The <code>--out</code> parameter tells <code>tsc</code> to</p>\n\n<blockquote>\n  <p>Concatenate and emit output to single file.</p>\n</blockquote>\n\n<p>...but you're defining a <em>module</em>. Modules aren't meant to be in concatenated files. So <code>tsc</code> is generating a concatenated file of all your non-module code (you have none, so <code>bla.js</code> is empty) and a module file (<code>test.js</code>) containing your <code>test</code> module.</p>\n\n<p>You can prove this to yourself by adding a second <code>.ts</code> file to the command line, one that <em>doesn't</em> define a module. You'll find the transpiled version of that code in <code>bla.js</code>, and your module in <code>test.js</code>. If you add another <code>.ts</code> file that defines a second module, you'll find it in another <code>.js</code> file with the name of its source <code>.ts</code> file.</p>\n\n<p>So for instance, say you have</p>\n\n<ul>\n<li><code>Module1.ts</code> defining a module</li>\n<li><code>Module2.ts</code> defining another module</li>\n<li><code>Stuff.ts</code> defining non-module stuff</li>\n<li><code>MoreStuff.ts</code> defining more non-module stuff</li>\n</ul>\n\n<p>...and you did this:</p>\n\n<pre>\ntsc Module1.ts Module2.ts Stuff.ts MoreStuff.ts --out combined.js --module amd\n</pre>\n\n<p>You'd end up with:</p>\n\n<ul>\n<li><code>Module1.js</code> containing the transpiled JavaScript for <code>Module1</code>.</li>\n<li><code>Module2.js</code> containing the transpiled JavaScript for <code>Module2</code>.</li>\n<li><code>combined.js</code> containing the transpiled JavaScript from <code>Stuff.ts</code> and <code>MoreStuff.ts</code></li>\n</ul>\n"}], "owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 0, "accepted_answer_id": 34155229, "answer_count": 1, "score": 3, "last_activity_date": 1449575650, "creation_date": 1449574833, "question_id": 34154967, "link": "https://stackoverflow.com/questions/34154967/tsc-out-creating-empty-outfile", "title": "tsc out creating empty outfile", "body": "<p>I have a simple hello world file called <code>test.ts</code> with the following contents:</p>\n\n<pre><code>export class Hello {\n  constructor() {\n    console.log(\"hello world!\");\n  }\n}\n</code></pre>\n\n<p>When I run the command <code>tsc test.ts --module amd --out bla.js</code>, a <code>test.js</code> file is created with the correct contents, but an empty <code>bla.js</code> file is also created.</p>\n\n<p>I expected the contents of <code>test.ts</code>, and any dependencies to be compiled into <code>bla.js</code>. What is causing this behaviour?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 36810, "user_id": 2764255, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e380233bb342064d9786323c314ddd8a?s=128&d=identicon&r=PG&f=1", "display_name": "Nikos Paraskevopoulos", "link": "https://stackoverflow.com/users/2764255/nikos-paraskevopoulos"}, "is_accepted": true, "score": 4, "last_activity_date": 1449569074, "creation_date": 1449569074, "answer_id": 34153021, "question_id": 34152962, "link": "https://stackoverflow.com/questions/34152962/typescript-typeerror-cannot-read-property-push-of-undefined/34153021#34153021", "title": "TypeScript: TypeError: Cannot read property &#39;push&#39; of undefined", "body": "<p>You are using the anonymous <code>function()</code> syntax for the callback; this syntax does <strong>NOT</strong> preserve the <code>this</code>. Instead do:</p>\n\n<pre><code>        dossiers.forEach((obj, i) =&gt; { // IMPORTANT PART HERE!!!\n            console.log(obj);\n            if(obj.dossierType === Values.Visible) {\n                this.activeDossiers.push(obj);\n            }\n        });\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 4729177, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d87fdd63f667d3b1ec4b19c9ad76e118?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4729177/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7657, "favorite_count": 1, "accepted_answer_id": 34153021, "answer_count": 1, "score": 0, "last_activity_date": 1449569074, "creation_date": 1449568874, "question_id": 34152962, "link": "https://stackoverflow.com/questions/34152962/typescript-typeerror-cannot-read-property-push-of-undefined", "title": "TypeScript: TypeError: Cannot read property &#39;push&#39; of undefined", "body": "<p>I'm trying to make an application with Angular 2. Now I ran into a problem which I can't solve.</p>\n\n<p>One of the functions of an array should be push(object: T);</p>\n\n<p>I defined an array of an object that I made. But when I try to add values to this array I receive the following error: TypeError: Cannot read property 'push' of undefined.</p>\n\n<p>One of the main causes of this error is people forgetting to define their array. But I'm defining it, I tried it in multiple ways but still the same error.</p>\n\n<pre><code>export class Home {\n\n    activeDossiers: Array&lt;Dossier&gt; = new Array();\n    //Also tried:\n    //activeDossiers: Dossier[] = [];\n    //activeDossiers = [];\n    //activeDossiers: Array&lt;Dossier&gt; = [];\n\n    constructor() {\n        var dossierApi = new DossierApi();\n        dossierApi.getActiveDossiers().then((dossiers) =&gt; {\n            dossiers.forEach(function (obj, i) {\n                console.log(obj);\n                if(obj.dossierType === Values.Visible) {\n                    this.activeDossiers.push(obj);\n                }\n            });\n        });\n    }\n}\n</code></pre>\n"}, {"tags": ["module", "namespaces", "typescript", "typescript1.7"], "answers": [{"tags": [], "owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "is_accepted": false, "score": 0, "last_activity_date": 1449589926, "creation_date": 1449589926, "answer_id": 34160221, "question_id": 34152819, "link": "https://stackoverflow.com/questions/34152819/cannot-resolve-interface-defined-in-the-same-module-but-in-different-file/34160221#34160221", "title": "Cannot resolve interface defined in the same module but in different file", "body": "<p>Your problem raises a few questions: </p>\n\n<ol>\n<li>How are you compiling this? </li>\n<li>Wy is _all.ts a .ts file and not a .d.ts file?</li>\n<li>Why are you importing IField (depends on point \"1\")?</li>\n</ol>\n\n<p>Here is a working example:</p>\n\n<pre><code>.\n+-- tsconfig.json\n+-- references.d.ts\n+--  src\n|   +-- myInterface.ts\n|   +-- myClass.ts\n</code></pre>\n\n<p>tsconfig.json: </p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"noImplicitAny\": true,\n        \"removeComments\": true,\n        \"preserveConstEnums\": true,\n        \"out\": \"result.js\",\n        \"sourceMap\": true\n    },\n    \"files\": [\n        \"src/myClass.ts\"\n    ]\n}\n</code></pre>\n\n<p>references.d.ts:</p>\n\n<pre><code>/// &lt;reference path=\"src/myInterface.ts\" /&gt;\n/// &lt;reference path=\"src/myClass.ts\" /&gt;\n</code></pre>\n\n<p>myInterface.ts:</p>\n\n<pre><code>module MyNameSpace {\n\n    export interface IMyInterface {\n        // ...\n    }\n}\n</code></pre>\n\n<p>myClass.ts: </p>\n\n<pre><code>/// &lt;reference path=\"../references.d.ts\" /&gt;\n\nmodule MyNameSpace {\n    export class MyClass implements IMyInterface {\n        // ...\n    }\n}\n</code></pre>\n\n<p>The example above works, exactly why your example does not work might be to any of the 1, 2, or 3 points mentioned above.  </p>\n"}], "owner": {"reputation": 2125, "user_id": 1945699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/86f621220b98cdd638a152fce8ace8d5?s=128&d=identicon&r=PG", "display_name": "Wael Ben Zid El Guebsi", "link": "https://stackoverflow.com/users/1945699/wael-ben-zid-el-guebsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449589926, "creation_date": 1449568512, "question_id": 34152819, "link": "https://stackoverflow.com/questions/34152819/cannot-resolve-interface-defined-in-the-same-module-but-in-different-file", "title": "Cannot resolve interface defined in the same module but in different file", "body": "<p>Below the code</p>\n\n<p>fields/base.ts</p>\n\n<pre><code>/// &lt;reference path=\"../_all.ts\" /&gt;\n\nmodule SomeApp.fields {\n  export interface IField {}\n  export class Field implements IFields {}\n}\n</code></pre>\n\n<p>in fields/CharField.ts</p>\n\n<pre><code>/// &lt;reference path=\"../_all.ts\" /&gt;\n\nmodule SomeApp.fields {\n\n  import IField = SomeApp.fields.IField; \n\n  export interface ICharField extends IField {}\n  export class Field implements IFields {}\n}\n</code></pre>\n\n<p>in _all.ts:</p>\n\n<pre><code>/// &lt;reference path=\"fields/base.ts\" /&gt;\n/// &lt;reference path=\"fields/CharField.ts\" /&gt;\n</code></pre>\n\n<p>but this does not work, and I got this error from <code>CharField.ts</code> file:</p>\n\n<blockquote>\n  <p>Error:(7, 39) TS2305: Module 'SomeApp.fields' has no exported member\n  'IField'.</p>\n</blockquote>\n\n<p>So what's wrong in my code ?</p>\n"}, {"tags": ["javascript", "npm", "typescript", "angular"], "comments": [{"owner": {"reputation": 347451, "user_id": 215945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/203qt.png?s=128&g=1", "display_name": "Mark Rajcok", "link": "https://stackoverflow.com/users/215945/mark-rajcok"}, "edited": false, "score": 0, "creation_date": 1449588899, "post_id": 34148763, "comment_id": 56066414, "body": "Following the <a href=\"https://angular.io/docs/ts/latest/quickstart.html\" rel=\"nofollow noreferrer\">5 min quickstart</a> instructions (which include Windows instructions) didn&#39;t work for you?"}], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 3592444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qk6Es.jpg?s=128&g=1", "display_name": "Zeynal", "link": "https://stackoverflow.com/users/3592444/zeynal"}, "is_accepted": false, "score": 1, "last_activity_date": 1449553514, "creation_date": 1449553514, "answer_id": 34148853, "question_id": 34148763, "link": "https://stackoverflow.com/questions/34148763/how-to-create-and-run-angular-2-program-in-windows-platform/34148853#34148853", "title": "How to create and run angular 2 program in windows platform?", "body": "<p>As requested use the following line:</p>\n\n<pre><code>npm install angular2\n</code></pre>\n\n<p>You can append flag --save to store the name of the module in an existing package.json if appropriate.</p>\n\n<p>after following line</p>\n\n<pre><code>npm start\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 763, "user_id": 3636086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29950839fc743926786f84050fe3ce73?s=128&d=identicon&r=PG&f=1", "display_name": "user3636086", "link": "https://stackoverflow.com/users/3636086/user3636086"}, "is_accepted": false, "score": 0, "last_activity_date": 1449753648, "creation_date": 1449753648, "answer_id": 34203006, "question_id": 34148763, "link": "https://stackoverflow.com/questions/34148763/how-to-create-and-run-angular-2-program-in-windows-platform/34203006#34203006", "title": "How to create and run angular 2 program in windows platform?", "body": "<p>There are plenty of good angular2 demos available on github which are working fine on windows. For example: <a href=\"https://github.com/meandemo/ng2-demo.git\" rel=\"nofollow\">https://github.com/meandemo/ng2-demo.git</a></p>\n\n<p>Good luck with your learning journey. </p>\n"}], "owner": {"reputation": 41, "user_id": 3690208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oifby.jpg?s=128&g=1", "display_name": "Harikesh Yadav", "link": "https://stackoverflow.com/users/3690208/harikesh-yadav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1449753648, "creation_date": 1449552991, "last_edit_date": 1449553688, "question_id": 34148763, "link": "https://stackoverflow.com/questions/34148763/how-to-create-and-run-angular-2-program-in-windows-platform", "title": "How to create and run angular 2 program in windows platform?", "body": "<p>I have installed npm and related package like typscript, angular 2\n        etc. but not able to run angular 2 in browser. So anyone please walk me through the process that I can create and run angular 2 in windows platform.</p>\n"}, {"tags": ["typescript", "visual-studio-2015"], "answers": [{"comments": [{"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1556737473, "post_id": 34148621, "comment_id": 98535892, "body": "why are default parameters something that can only be implemented if you have a function body? Are you just saying that that&#39;s how it is now, or could the TS team reasonably add this syntax to declarations? Might be useful to see the default type in intellisense"}, {"owner": {"reputation": 916, "user_id": 10380981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1078a842c5b00308cfe4155476d47a33?s=128&d=identicon&r=PG&f=1", "display_name": "Arno Hilke", "link": "https://stackoverflow.com/users/10380981/arno-hilke"}, "reply_to_user": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1568196152, "post_id": 34148621, "comment_id": 102195404, "body": "@pushkin Because TypeScript has to generate some code for the function body to make default parameters work (depending on the compilation target). See <a href=\"https://medium.com/@kgrvr/typescript-functions-optional-parameters-b245e7a06d7d\" rel=\"nofollow noreferrer\">medium.com/@kgrvr/&hellip;</a> for an example."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 6, "last_activity_date": 1449552335, "creation_date": 1449552335, "answer_id": 34148621, "question_id": 34148254, "link": "https://stackoverflow.com/questions/34148254/a-parameter-initialization-is-allowed-only-in-function-or-constructor-implementa/34148621#34148621", "title": "a parameter initialization is allowed only in function or constructor implementation", "body": "<p>Because <code>abstract</code> functions cannot have function <code>bodies</code> and default paramters are something that can only be implemented if you have a function body. </p>\n\n<p>Allowed: </p>\n\n<pre><code>abstract class Atom {\n    abstract foo(x:any);\n}\n</code></pre>\n\n<p>Error: </p>\n\n<pre><code>abstract class Atom {\n    abstract foo(x:any=null); // Cannot have an implementation\n}\n</code></pre>\n\n<p>Error: </p>\n\n<pre><code>abstract class Atom {\n    abstract foo(x:any){ // Error cannot have implementation\n    }\n}\n</code></pre>\n\n<p>Allowed : </p>\n\n<pre><code>abstract class Atom {\n    abstract foo(x?:any);\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1487718"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12524, "favorite_count": 0, "accepted_answer_id": 34148621, "answer_count": 1, "score": 6, "last_activity_date": 1449552335, "creation_date": 1449550286, "question_id": 34148254, "link": "https://stackoverflow.com/questions/34148254/a-parameter-initialization-is-allowed-only-in-function-or-constructor-implementa", "title": "a parameter initialization is allowed only in function or constructor implementation", "body": "<p>In the following it prompts me error due to the optional parameter (\"=null\" part).\nI hope that I could declare optional parameter in abstract class,but why typescript does not allow me to do so?</p>\n\n<pre><code>abstract class Atom extends DatalogElement {\n    abstract toStringFormula(elem: DatalogElement.StringFormat, variableMap: Collections.Dictionary&lt;string, Collections.Dictionary&lt;number, VariableMap&gt;&gt;=null): string \n}\n</code></pre>\n"}, {"tags": ["jquery", "typescript", "kendo-grid"], "answers": [{"comments": [{"owner": {"reputation": 456, "user_id": 1713156, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YyjIA.png?s=128&g=1", "display_name": "haakon.io", "link": "https://stackoverflow.com/users/1713156/haakon-io"}, "edited": false, "score": 0, "creation_date": 1449596015, "post_id": 34153333, "comment_id": 56071323, "body": "This is the pre-rendered method which I already know about. I need to be able to change the grouping after the page has been rendered. A user will select a value in a drop down and I want to trigger a grouping based on the field they selected."}], "tags": [], "owner": {"reputation": 1413, "user_id": 1416781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3b63fba216bff10a0923c1cec7b0f3?s=128&d=identicon&r=PG", "display_name": "calinaadi", "link": "https://stackoverflow.com/users/1416781/calinaadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1449569991, "creation_date": 1449569991, "answer_id": 34153333, "question_id": 34145759, "link": "https://stackoverflow.com/questions/34145759/change-kendo-grids-datasource-group-programmatically/34153333#34153333", "title": "Change Kendo Grids DataSource group programmatically", "body": "<p>You should use: dataSource.group({ field: \"yourField\" });</p>\n\n<p>As explained here: <a href=\"http://docs.telerik.com/kendo-ui/api/javascript/data/datasource#methods-group\" rel=\"nofollow\">http://docs.telerik.com/kendo-ui/api/javascript/data/datasource#methods-group</a></p>\n"}, {"tags": [], "owner": {"reputation": 456, "user_id": 1713156, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YyjIA.png?s=128&g=1", "display_name": "haakon.io", "link": "https://stackoverflow.com/users/1713156/haakon-io"}, "is_accepted": false, "score": 0, "last_activity_date": 1449620241, "creation_date": 1449620241, "answer_id": 34168595, "question_id": 34145759, "link": "https://stackoverflow.com/questions/34145759/change-kendo-grids-datasource-group-programmatically/34168595#34168595", "title": "Change Kendo Grids DataSource group programmatically", "body": "<p>It turns out you can't just set the group property AFTER the grid has been rendered without first getting a reference to the grid and it's options and then destroying the grid and rebuilding it. These are the steps I did and it is working correctly:</p>\n\n<pre><code>    var grid = $('#objectsListGrid').data('kendoGrid');\n\n    this.getObjects(this.projectNumber);\n    var options = grid.options;\n\n\n    options.dataSource = this.objectsList;\n    options.dataSource.group({ field: group });\n    grid.destroy();\n\n    $('#objectsListGrid').empty().kendoGrid(options);\n    grid.dataSource.read();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 1128170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UvSY2.png?s=128&g=1", "display_name": "Dobin", "link": "https://stackoverflow.com/users/1128170/dobin"}, "is_accepted": false, "score": 1, "last_activity_date": 1541488494, "last_edit_date": 1541488494, "creation_date": 1541424931, "answer_id": 53155478, "question_id": 34145759, "link": "https://stackoverflow.com/questions/34145759/change-kendo-grids-datasource-group-programmatically/53155478#53155478", "title": "Change Kendo Grids DataSource group programmatically", "body": "<p>Looks like there is a better way to do it now. After the grid is rendered just use below</p>\n\n<pre><code>$('#objectsListGrid').data('kendoGrid').dataSource.group({field: $('#ddGroupBy').val()});\n</code></pre>\n\n<p>Also for multiple 'Group by' fields if any, use below</p>\n\n<pre><code>$('#objectsListGrid').data('kendoGrid').dataSource.group(\n [\n  {field: $('#ddGroupBy').val()},\n  {field: $('#ddGroupBy2').val()}\n ]\n);\n</code></pre>\n\n<p>Here are the details\n<a href=\"https://www.telerik.com/forums/grid---dynamically-change-grouping\" rel=\"nofollow noreferrer\">https://www.telerik.com/forums/grid---dynamically-change-grouping</a></p>\n"}], "owner": {"reputation": 456, "user_id": 1713156, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YyjIA.png?s=128&g=1", "display_name": "haakon.io", "link": "https://stackoverflow.com/users/1713156/haakon-io"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3888, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1541488494, "creation_date": 1449533363, "question_id": 34145759, "link": "https://stackoverflow.com/questions/34145759/change-kendo-grids-datasource-group-programmatically", "title": "Change Kendo Grids DataSource group programmatically", "body": "<p>How can I change the group programmatically after the Kendo grid has been rendered? I have tried a function like this in my TypeScript:</p>\n\n<pre><code>changeGroupBy() {\n    var group = $('#ddGroupBy').val();\n    var grid = $('#objectsListGrid').data('kendoGrid');\n    var options = grid.options;\n\n    options.dataSource = this.objectsList;\n    options.dataSource.group = group;\n    grid.refresh();\n} \n</code></pre>\n\n<p>When I used the above code I get an error that this.group is not a function?</p>\n"}, {"tags": ["typescript", "typescript1.7"], "answers": [{"comments": [{"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "edited": false, "score": 0, "creation_date": 1449567491, "post_id": 34145644, "comment_id": 56051645, "body": "Thank you for your reply Joel. I clarified my question. I want it to do it the other way - given an array is should only accept compatible sort-functions."}], "tags": [], "owner": {"reputation": 1, "user_id": 3586326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1NIKm.jpg?s=128&g=1", "display_name": "Joel Palmer", "link": "https://stackoverflow.com/users/3586326/joel-palmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1449532688, "creation_date": 1449532688, "answer_id": 34145644, "question_id": 34144586, "link": "https://stackoverflow.com/questions/34144586/use-of-mixed-type-accepted-on-single-typed-parameter/34145644#34145644", "title": "Use of mixed type accepted on single typed parameter", "body": "<p>I'm not positive that I understand your question but I hope this helps. You need the array to only accept numbers. Your function returns a number so no problem there.</p>\n\n<pre><code>const compareFn = {\n    numberAsc: function (a: number, b: number) { return a - b },\n    numberDesc: function (a: number, b: number) { return b - a },\n};\n\nconsole.log([2, 1, \"nope\"].sort(compareFn.numberDesc));\nconsole.log([2, 1, \"nope\"].sort(compareFn.numberAsc));\nvar numberArray = new Array&lt;number&gt;();\nnumberArray.push(2, 1);\nnumberArray.push(3, 4, \"nope\"); // kaboom\nconsole.log(numberArray.sort(compareFn.numberDesc));\nconsole.log(numberArray.sort(compareFn.numberAsc));\nnumberArray.push(\"nope\"); // kaboom\n</code></pre>\n\n<p>Of course, the JavaScript that gets generated has no problem with any of this but tsc will complain. </p>\n"}, {"comments": [{"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "edited": false, "score": 1, "creation_date": 1449567717, "post_id": 34145672, "comment_id": 56051805, "body": "Thank you for the answer basarat. While this is a good answer,  I updated my question to be more direct on my problem. I hope that its now clear why I think, that it shouldn&#39;t be accepted. Do you possibly have a solution how I can work around this?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "edited": false, "score": 0, "creation_date": 1449613527, "post_id": 34145672, "comment_id": 56081823, "body": "I&#39;ve quoted portions of your updated question and answered them explicitly \ud83c\udf39"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 2, "last_activity_date": 1449613434, "last_edit_date": 1449613434, "creation_date": 1449532878, "answer_id": 34145672, "question_id": 34144586, "link": "https://stackoverflow.com/questions/34144586/use-of-mixed-type-accepted-on-single-typed-parameter/34145672#34145672", "title": "Use of mixed type accepted on single typed parameter", "body": "<p>This is what you have: </p>\n\n<pre><code>type Foo = (a:number,b:number)=&gt;number;\ntype Bar = (a:number|string,b:number|string)=&gt;number|string;\n\nlet foo:Foo;\nlet bar:Bar;\nbar = foo; // Why is this valid!\n</code></pre>\n\n<p>Its valid because <em>the following is valid</em> : </p>\n\n<pre><code>let x:number;\nlet y:number|string;\ny = x; // Valid for obvious reasons\n</code></pre>\n\n<p>And when checking function compatibility the parameter compatibility is checked in <em>both directions</em>.</p>\n\n<p>More on that here : <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Type%20Compatibility.md#comparing-two-functions\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Type%20Compatibility.md#comparing-two-functions</a></p>\n\n<blockquote>\n  <p>Is this a \"Bug\" or does TypeScript intend to behave like that?</p>\n</blockquote>\n\n<p>Intended to behave like that.</p>\n\n<blockquote>\n  <p>But most importantly: can I make it work? Given an array is should only accept compatible sort-functions.</p>\n</blockquote>\n\n<p>No. As explained the semantics of <em>compatible</em> function in TypeScript allow bivariance.</p>\n"}, {"tags": [], "owner": {"reputation": 900, "user_id": 1802646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7f11cd35e0f239f3e3f9d62f6da8937?s=128&d=identicon&r=PG", "display_name": "Guenter Guckelsberger", "link": "https://stackoverflow.com/users/1802646/guenter-guckelsberger"}, "is_accepted": false, "score": 0, "last_activity_date": 1449580978, "creation_date": 1449580978, "answer_id": 34157033, "question_id": 34144586, "link": "https://stackoverflow.com/questions/34144586/use-of-mixed-type-accepted-on-single-typed-parameter/34157033#34157033", "title": "Use of mixed type accepted on single typed parameter", "body": "<p>Please let me explain my answer here even though basarat already gave a perfect one. May be it helps someone to make things more clear.</p>\n\n<p>TypeScript's type checking system is <strong>not a sound</strong> system, meaning it allows operations that are not known to be safe at compile time. Your example is of this kind.\nType inference of your array literal makes TypeScript expect a compare function with this signature </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(a: number | string, b: number | string) =&gt; number</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is what I would have expected, because your array is of type </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Array&lt;number | string&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Therefore I would like to rephrase your question \"is this a bug?\" to \"why is numberDesc considered compatible with this signature?\" </p>\n\n<p>The answer has been given by basarat.</p>\n\n<p>Coming from a Java background, I can understand your desire to have a more strict type checking like in Java, but I guess you can't get it here.</p>\n"}], "owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2520, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1449613434, "creation_date": 1449527634, "last_edit_date": 1449568280, "question_id": 34144586, "link": "https://stackoverflow.com/questions/34144586/use-of-mixed-type-accepted-on-single-typed-parameter", "title": "Use of mixed type accepted on single typed parameter", "body": "<p>Given the following <a href=\"http://www.typescriptlang.org/Playground#src=%2F%2F%20This%20is%20meant%20to%20be%20a%20collection%20of%20compare%20functions%0D%0Aconst%20compareFn%20%3D%20%7B%0D%0A%20%20%20%20numberAsc%3A%20function%20(a%3A%20number%2C%20b%3A%20number)%20%7B%20return%20a%20-%20b%20%7D%2C%0D%0A%20%20%20%20numberDesc%3A%20function%20(a%3A%20number%2C%20b%3A%20number)%20%7B%20return%20b%20-%20a%20%7D%2C%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20numberDesc%20only%20accepts%20numbers%2C%20but%20sort%20will%20also%20aplly%20the%20string%20%22nope%22%0D%0A%5B2%2C%201%2C%20%22nope%22%5D.sort(compareFn.numberDesc)%3B\" rel=\"nofollow noreferrer\">Code</a> in TypeScript:</p>\n\n<pre><code>const compareFn = {\n    numberAsc: function (a: number, b: number) { return a - b },\n    numberDesc: function (a: number, b: number) { return b - a },\n};\n\n[2, 1, \"nope\"].sort(compareFn.numberDesc);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/cPgMZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cPgMZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>My function <code>numberDesc</code> is only accepting attributes of type <code>number</code>. However <code>sort</code> will apply both <code>number</code> and <code>string</code> to it. That's wrong, but accepted by TypeScript.</p>\n\n<p>My guess is that TypeScript is expecting for the <code>sort()</code> function a compareFn that accepts number or string, but not strictly both. However in my opinion it should only allow a function that is accepting both number and string.</p>\n\n<p>Is this a \"Bug\" or does TypeScript intend to behave like that?<br>\nBut most importantly: can I make it work? Given an array is should only accept compatible sort-functions.</p>\n\n<hr>\n\n<p>Note that it's working fine here:\n<a href=\"https://i.stack.imgur.com/oJ0b1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oJ0b1.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1183, "user_id": 5573794, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r6Jzjv1Iqnc/AAAAAAAAAAI/AAAAAAAAAXU/WLo43pY60pg/photo.jpg?sz=128", "display_name": "Lucas Rodriguez", "link": "https://stackoverflow.com/users/5573794/lucas-rodriguez"}, "is_accepted": false, "score": 0, "last_activity_date": 1449530507, "creation_date": 1449530507, "answer_id": 34145228, "question_id": 34141736, "link": "https://stackoverflow.com/questions/34141736/inject-service-to-model/34145228#34145228", "title": "Inject service to model", "body": "<p>Just using the $inject syntax. e.g. :</p>\n\n<pre><code>class Service\n{\n    static $inject = ['$http'];    \n    constructor( private $http: ng.IHttpService )\n    {\n    }\n\n    public MyMethod()\n    {\n        this.$http.get( \"/\" )\n            .success( null )\n            .error( null );\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "is_accepted": false, "score": 0, "last_activity_date": 1449533276, "creation_date": 1449533276, "answer_id": 34145737, "question_id": 34141736, "link": "https://stackoverflow.com/questions/34141736/inject-service-to-model/34145737#34145737", "title": "Inject service to model", "body": "<p>Looks like you are trying to create a domain object, and not a service.\nServices in Angular are singletons (One per app). To be able to do <code>new</code> on an injected object you have to define it as a <a href=\"https://docs.angularjs.org/guide/providers\" rel=\"nofollow\">Factory</a></p>\n"}], "owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1449533276, "creation_date": 1449517041, "question_id": 34141736, "link": "https://stackoverflow.com/questions/34141736/inject-service-to-model", "title": "Inject service to model", "body": "<p>I have a TypeScript class - business object model:</p>\n\n<pre><code>module app.domain {\n\n    export interface IDefect {\n        defectId: number;\n        comment: string;\n    }\n\n    export class Defect implements IDefect {\n        defectId: number;\n        comment: string;\n    }\n}\n</code></pre>\n\n<p>Is it possible to inject AngularJS service to this model to use it in model's methods ?</p>\n"}, {"tags": ["types", "casting", "typescript", "type-conversion", "strong-typing"], "answers": [{"comments": [{"owner": {"reputation": 180, "user_id": 1820376, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7b9e4c4884a7f388ae4c6edd6c2dc116?s=128&d=identicon&r=PG", "display_name": "Jabher", "link": "https://stackoverflow.com/users/1820376/jabher"}, "edited": false, "score": 0, "creation_date": 1449631487, "post_id": 34145689, "comment_id": 56087700, "body": "No, I definitely meant &quot;* as&quot; - I wanted to use simple syntax to declare list of components which in sum would be an interface. in JS that would be a common object."}, {"owner": {"reputation": 2413, "user_id": 1353412, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/00a9a19298cd35df1f7a84acb9c9debd?s=128&d=identicon&r=PG", "display_name": "ziv", "link": "https://stackoverflow.com/users/1353412/ziv"}, "reply_to_user": {"reputation": 180, "user_id": 1820376, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7b9e4c4884a7f388ae4c6edd6c2dc116?s=128&d=identicon&r=PG", "display_name": "Jabher", "link": "https://stackoverflow.com/users/1820376/jabher"}, "edited": false, "score": 1, "creation_date": 1476547468, "post_id": 34145689, "comment_id": 67396380, "body": "@Jabher did you find what is the typing of the import?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1449532988, "creation_date": 1449532988, "answer_id": 34145689, "question_id": 34141572, "link": "https://stackoverflow.com/questions/34141572/how-to-declare-typescript-import-type/34145689#34145689", "title": "How to declare TypeScript import * type?", "body": "<blockquote>\n  <p>import * as UnauthorizedInterface from './interfaces/InterfaceA'</p>\n</blockquote>\n\n<p>I think you probably mean to do <code>import {UnauthorizedInterface} from './interfaces/InterfaceA'</code>. Of course if you use the <em>module</em> (which is what you get with <code>* as</code>) as a class you would get the error which is what you are getting.</p>\n"}, {"tags": [], "owner": {"reputation": 763, "user_id": 1127948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a81f1c249a08a419d23e31072075e3?s=128&d=identicon&r=PG", "display_name": "rikkertkoppes", "link": "https://stackoverflow.com/users/1127948/rikkertkoppes"}, "is_accepted": false, "score": 0, "last_activity_date": 1489783373, "creation_date": 1489783373, "answer_id": 42866758, "question_id": 34141572, "link": "https://stackoverflow.com/questions/34141572/how-to-declare-typescript-import-type/42866758#42866758", "title": "How to declare TypeScript import * type?", "body": "<p>Ran into the same issue. Basically wanted to</p>\n\n<pre><code>import * as Util from './Util'\n</code></pre>\n\n<p>And then use Util as an argument. This works by using <code>typeof Util</code></p>\n\n<pre><code>function thing(localUtil: typeof Util) {...}\n\nthing(Util);\n</code></pre>\n"}], "owner": {"reputation": 180, "user_id": 1820376, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7b9e4c4884a7f388ae4c6edd6c2dc116?s=128&d=identicon&r=PG", "display_name": "Jabher", "link": "https://stackoverflow.com/users/1820376/jabher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3329, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1489783373, "creation_date": 1449516464, "question_id": 34141572, "link": "https://stackoverflow.com/questions/34141572/how-to-declare-typescript-import-type", "title": "How to declare TypeScript import * type?", "body": "<p>How can I explicitly declare type at import * as ... in TypeScript?</p>\n\n<p>I'm having this code:</p>\n\n<pre><code>import * as UnauthorizedInterface from './interfaces/InterfaceA'\nimport * as AuthorizedInterface from './interfaces/InterfaceB'\n\nexport class App extends React.Component&lt;{children?: React.ReactChildren, authorized?: Boolean}, {}&gt; {\npublic render() {\n    return &lt;Router&gt;\n        &lt;Route component={Interface}&gt;\n            &lt;Route path=\"/application\" components={InterfaceA}\n...\n</code></pre>\n\n<p>and I'm getting </p>\n\n<pre><code>ERROR in ./src/components/App.tsx\n(16,24): error TS2322: Type 'typeof \"~/src/interfaces/InterfaceA\"'' is not assignable to type '{ [key: string]: string | ComponentClass&lt;any&gt; | StatelessComponent&lt;any&gt;; }'.\nIndex signature is missing in type 'typeof \"~/src/interfaces/InterfaceA\"'.\n</code></pre>\n\n<p>though it's only exporting entities extending React.ComponentClass </p>\n"}, {"tags": ["reactjs", "typescript", "react-jsx", "relayjs", "tsd"], "answers": [{"comments": [{"owner": {"reputation": 1282, "user_id": 1249923, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/829c3c6a67b17dc2ad408fbb3b0d823c?s=128&d=identicon&r=PG", "display_name": "Korneel", "link": "https://stackoverflow.com/users/1249923/korneel"}, "edited": false, "score": 0, "creation_date": 1449565914, "post_id": 34145557, "comment_id": 56050594, "body": "Thanks for pointing out I need to use the Node.js typings. But now I get the following error: &quot;error TS2503: Cannot find namespace &#39;Relay&#39;&quot;."}, {"owner": {"reputation": 1282, "user_id": 1249923, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/829c3c6a67b17dc2ad408fbb3b0d823c?s=128&d=identicon&r=PG", "display_name": "Korneel", "link": "https://stackoverflow.com/users/1249923/korneel"}, "edited": false, "score": 0, "creation_date": 1449579096, "post_id": 34145557, "comment_id": 56059426, "body": "<code>interface HelloProps extends Relay.Props&lt;HelloComponent&gt;</code> should be <code>interface HelloProps extends React.Props&lt;HelloComponent&gt;</code>"}, {"owner": {"reputation": 1282, "user_id": 1249923, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/829c3c6a67b17dc2ad408fbb3b0d823c?s=128&d=identicon&r=PG", "display_name": "Korneel", "link": "https://stackoverflow.com/users/1249923/korneel"}, "edited": false, "score": 0, "creation_date": 1449589789, "post_id": 34145557, "comment_id": 56067058, "body": "When I try to define a route with <code>class MyRoute extends Relay.Route {&#47;* ... *&#47;}</code> TSC outputs <code>error TS2507: Type &#39;any&#39; is not a constructor function type.</code>. How would you solve that error?"}, {"owner": {"reputation": 5419, "user_id": 357978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/890dbdb8fcc8a26f1ba518f9d120ffef?s=128&d=identicon&r=PG", "display_name": "Gunchars", "link": "https://stackoverflow.com/users/357978/gunchars"}, "reply_to_user": {"reputation": 1282, "user_id": 1249923, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/829c3c6a67b17dc2ad408fbb3b0d823c?s=128&d=identicon&r=PG", "display_name": "Korneel", "link": "https://stackoverflow.com/users/1249923/korneel"}, "edited": false, "score": 0, "creation_date": 1449593617, "post_id": 34145557, "comment_id": 56069772, "body": "@Korneel, this is where you&#39;ll either need to add <b>some</b> typings or avoid using ES6 classes. Custom routes are not required to be class instances, so another alternative is just using plain objects, as seen in the first example here: <a href=\"https://facebook.github.io/relay/docs/guides-routes.html#routes-and-queries\" rel=\"nofollow noreferrer\">facebook.github.io/relay/docs/&hellip;</a>"}, {"owner": {"reputation": 1282, "user_id": 1249923, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/829c3c6a67b17dc2ad408fbb3b0d823c?s=128&d=identicon&r=PG", "display_name": "Korneel", "link": "https://stackoverflow.com/users/1249923/korneel"}, "edited": false, "score": 0, "creation_date": 1449605639, "post_id": 34145557, "comment_id": 56077360, "body": "Thank you. It works when the route is defined as an object. Still, what would the .d.ts file with typings for Relay.Route look like? I have tried to create such a file but didn&#39;t succeed."}, {"owner": {"reputation": 5419, "user_id": 357978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/890dbdb8fcc8a26f1ba518f9d120ffef?s=128&d=identicon&r=PG", "display_name": "Gunchars", "link": "https://stackoverflow.com/users/357978/gunchars"}, "reply_to_user": {"reputation": 1282, "user_id": 1249923, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/829c3c6a67b17dc2ad408fbb3b0d823c?s=128&d=identicon&r=PG", "display_name": "Korneel", "link": "https://stackoverflow.com/users/1249923/korneel"}, "edited": false, "score": 0, "creation_date": 1449607256, "post_id": 34145557, "comment_id": 56078324, "body": "Here are the typings that I&#39;m using - <a href=\"https://gist.github.com/guncha/c5425166a18123995898\" rel=\"nofollow noreferrer\">gist.github.com/guncha/c5425166a18123995898</a>. They&#39;re pretty ad-hoc so expect things to break. You can see that the Route is just a class that takes some variables.   Relay is changing pretty rapidly, so it might take a while until we have stable typings. Until then it&#39;s best to figure out how to write them yourself."}, {"owner": {"reputation": 1282, "user_id": 1249923, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/829c3c6a67b17dc2ad408fbb3b0d823c?s=128&d=identicon&r=PG", "display_name": "Korneel", "link": "https://stackoverflow.com/users/1249923/korneel"}, "edited": false, "score": 1, "creation_date": 1449611687, "post_id": 34145557, "comment_id": 56080862, "body": "Thanks a lot! Really :) I had to add <code>var DefaultNetworkLayer;</code> to the typings you provided in order to be able to set de default network layer. I will definitely have to do some research on writing custom typings files."}, {"owner": {"reputation": 1282, "user_id": 1249923, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/829c3c6a67b17dc2ad408fbb3b0d823c?s=128&d=identicon&r=PG", "display_name": "Korneel", "link": "https://stackoverflow.com/users/1249923/korneel"}, "edited": false, "score": 0, "creation_date": 1452873496, "post_id": 34145557, "comment_id": 57372018, "body": "How do you transform Relay.QL<code>fragment on Viewer { message }</code> to ES5 so the browser can understand it? The Babel Relay plugin does that, but because the TypeScript compiler already transpiles it into something different, the Babel Relay plugin doesn&#39;t transform the Relay queries so the browser throws an error: Uncaught Invariant Violation: RelayQL: Unexpected invocation at runtime. Either the Babel transform was not set up, or it failed to identify this call site. Make sure it is being used verbatim as <code>Relay.QL</code>."}, {"owner": {"reputation": 1282, "user_id": 1249923, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/829c3c6a67b17dc2ad408fbb3b0d823c?s=128&d=identicon&r=PG", "display_name": "Korneel", "link": "https://stackoverflow.com/users/1249923/korneel"}, "edited": false, "score": 0, "creation_date": 1452875334, "post_id": 34145557, "comment_id": 57373234, "body": "<a href=\"http://stackoverflow.com/questions/34815578/how-to-transpile-a-relay-query-from-typescript-to-es5\" title=\"how to transpile a relay query from typescript to es5\">stackoverflow.com/questions/34815578/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5419, "user_id": 357978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/890dbdb8fcc8a26f1ba518f9d120ffef?s=128&d=identicon&r=PG", "display_name": "Gunchars", "link": "https://stackoverflow.com/users/357978/gunchars"}, "is_accepted": true, "score": 3, "last_activity_date": 1449582260, "last_edit_date": 1449582260, "creation_date": 1449532213, "answer_id": 34145557, "question_id": 34140567, "link": "https://stackoverflow.com/questions/34140567/how-to-use-facebook-relay-in-a-react-app-written-in-typescript-tsx/34145557#34145557", "title": "How to use Facebook Relay in a React app written in TypeScript (TSX)?", "body": "<p>Typescript doesn't require you have typings for all the libraries you use, it's just highly recommended. To use Relay without typings:</p>\n\n<pre><code>import * as React from \"react\"\nlet Relay = require(\"react-relay\")\n\ninterface HelloProps extends React.Props&lt;HelloComponent&gt; {\n  viewer: {\n    message: string\n  }\n}\n\nclass HelloComponent extends React.Component&lt;HelloProps,void&gt; {\n  render() {\n    return &lt;div&gt;Hello { this.props.viewer.message }&lt;/div&gt;\n  }\n}\n\nlet Hello = Relay.createContainer(HelloComponent, {\n  fragments: {\n    viewer: () =&gt; Relay.QL`fragment on Viewer { message }`\n  }\n})\n</code></pre>\n\n<p>Then use <code>Hello</code> as a regular Relay component. The idea is that <code>require</code> is a function that takes a string and returns <code>any</code> so you can then use <code>Relay</code> variable as you would in vanilla Javascript.</p>\n\n<p>If you're not using Node.JS typings, you might need to add a typing for <code>require</code>. Somewhere in your d.ts files, add:</p>\n\n<pre><code>interface NodeRequireFunction {\n  (id: string): any;\n}\n\ndeclare var require: NodeRequireFunction;\n</code></pre>\n"}], "owner": {"reputation": 1282, "user_id": 1249923, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/829c3c6a67b17dc2ad408fbb3b0d823c?s=128&d=identicon&r=PG", "display_name": "Korneel", "link": "https://stackoverflow.com/users/1249923/korneel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1973, "favorite_count": 0, "accepted_answer_id": 34145557, "answer_count": 1, "score": 4, "last_activity_date": 1449582260, "creation_date": 1449512743, "question_id": 34140567, "link": "https://stackoverflow.com/questions/34140567/how-to-use-facebook-relay-in-a-react-app-written-in-typescript-tsx", "title": "How to use Facebook Relay in a React app written in TypeScript (TSX)?", "body": "<p>I would like to write a new web application in <a href=\"https://facebook.github.io/react/\" rel=\"nofollow\">React</a> that uses <a href=\"https://facebook.github.io/relay/\" rel=\"nofollow\">Relay</a> to communicate with a <a href=\"https://facebook.github.io/graphql/\" rel=\"nofollow\">GraphQL</a> server. Recently <a href=\"https://github.com/Microsoft/TypeScript/wiki/JSX\" rel=\"nofollow\">JSX support</a> was introduced for <a href=\"http://www.typescriptlang.org/\" rel=\"nofollow\">TypeScript</a>. But there is no typings declaration file (.d.ts) for Relay on <a href=\"http://definitelytyped.org/\" rel=\"nofollow\">DefinitelyTyped</a>. How can I write my application in TypeScript without having to write a typings file for Relay first?</p>\n"}, {"tags": ["jquery", "typescript", "jquery-file-upload"], "comments": [{"owner": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1449512866, "post_id": 34140218, "comment_id": 56029190, "body": "You can do it easier: <code>.on(&quot;fileuploadprogressall&quot;, FileUploadProgressAll)</code>  If you want the keep the same style:  <code>.on(&quot;fileuploadprogressall&quot;, (event, data) =&gt; { this.FileUploadProgressAll(event, data) });</code>"}, {"owner": {"reputation": 31, "user_id": 3495496, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0812f28e176626f3b5f0ce6fc92b3f68?s=128&d=identicon&r=PG&f=1", "display_name": "GermanFighter", "link": "https://stackoverflow.com/users/3495496/germanfighter"}, "reply_to_user": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1449513218, "post_id": 34140218, "comment_id": 56029394, "body": "@FlorianTopf Sry but both solutions are not working! The first solution can&#39;t be compiled because of &#39;Symbole can not be resolved&#39; and the Second ther is a runtimeerror because of not finding the method &#39;FileUploadProgressAll&#39;"}, {"owner": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1449513486, "post_id": 34140218, "comment_id": 56029527, "body": "sorry forgot: <code>this.FileUploadProgressAll</code> with <code>.this</code> obviously."}, {"owner": {"reputation": 31, "user_id": 3495496, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0812f28e176626f3b5f0ce6fc92b3f68?s=128&d=identicon&r=PG&f=1", "display_name": "GermanFighter", "link": "https://stackoverflow.com/users/3495496/germanfighter"}, "reply_to_user": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1449513677, "post_id": 34140218, "comment_id": 56029624, "body": "@FlorianTopf Yes the compile Error is gone, but now nothing happend."}, {"owner": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1449513726, "post_id": 34140218, "comment_id": 56029645, "body": "yes, but your function is doing nothing. :-)"}, {"owner": {"reputation": 31, "user_id": 3495496, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0812f28e176626f3b5f0ce6fc92b3f68?s=128&d=identicon&r=PG&f=1", "display_name": "GermanFighter", "link": "https://stackoverflow.com/users/3495496/germanfighter"}, "reply_to_user": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1449514460, "post_id": 34140218, "comment_id": 56030055, "body": "@FlorianTopf Yes but i set a breakpoint, and now i also tested it with an <code>alert(&quot;Test&quot;);</code>"}, {"owner": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1449515216, "post_id": 34140218, "comment_id": 56030493, "body": "<code>(event, data) =&gt; console.log(event, data)</code> does this spit out something in the console. If not, the event is not triggered."}, {"owner": {"reputation": 31, "user_id": 3495496, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0812f28e176626f3b5f0ce6fc92b3f68?s=128&d=identicon&r=PG&f=1", "display_name": "GermanFighter", "link": "https://stackoverflow.com/users/3495496/germanfighter"}, "reply_to_user": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1449515419, "post_id": 34140218, "comment_id": 56030608, "body": "@FlorianTopf Yes this works!"}], "owner": {"reputation": 31, "user_id": 3495496, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0812f28e176626f3b5f0ce6fc92b3f68?s=128&d=identicon&r=PG&f=1", "display_name": "GermanFighter", "link": "https://stackoverflow.com/users/3495496/germanfighter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1449511640, "creation_date": 1449511487, "question_id": 34140218, "link": "https://stackoverflow.com/questions/34140218/call-a-event-in-typescript", "title": "Call a &quot;Event&quot; in Typescript", "body": "<p>How can i call the methods <code>FileUploadProgessAll</code> and <code>Done</code>? The Debugger breaks if i set a breakpoint in the Lampda Method of the <code>fileuploadprogressall</code> event/call.</p>\n\n<pre><code>export class Upload extends Page\n        {\n        private FileUpload: JQuery;\n\n        PageLoad(): void\n        {\n            this.FileUpload = $(\"#fileupload\");\n            this.FileUpload.fileupload({\n                maxFileSize: 1000000000,\n                dataType: \"json\",\n                url: \"/Upload/UploadImage\",\n                autoUpload: true,\n                done: this.Done\n            }).on(\"fileuploadprogressall\", (event, data) =&gt; { return () =&gt; this.FileUploadProgressAll(event, data) });\n        }\n\n        FileUploadProgressAll(e: JQueryEventObject, data)\n        {\n        }\n\n        Done(e: JQueryEventObject, data)\n        {\n        }\n    }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "environment"], "comments": [{"owner": {"reputation": 7813, "user_id": 5246, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/02335a6e50e2fb5af7df12054ef0348a?s=128&d=identicon&r=PG", "display_name": "sirrocco", "link": "https://stackoverflow.com/users/5246/sirrocco"}, "edited": false, "score": 0, "creation_date": 1449503091, "post_id": 34137108, "comment_id": 56022681, "body": "check that the requests for .js files are actually returning js files. It could be returning a 404 error .. or other bit of html for some reason. Try to go to the *.js url and see what&#39;s getting returned"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "reply_to_user": {"reputation": 7813, "user_id": 5246, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/02335a6e50e2fb5af7df12054ef0348a?s=128&d=identicon&r=PG", "display_name": "sirrocco", "link": "https://stackoverflow.com/users/5246/sirrocco"}, "edited": false, "score": 0, "creation_date": 1449506490, "post_id": 34137108, "comment_id": 56025160, "body": "Hi sirrocco I checked the js files and they all have the html index markup in them instead of js. Angular2.dev.js has html index in it"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "reply_to_user": {"reputation": 7813, "user_id": 5246, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/02335a6e50e2fb5af7df12054ef0348a?s=128&d=identicon&r=PG", "display_name": "sirrocco", "link": "https://stackoverflow.com/users/5246/sirrocco"}, "edited": false, "score": 0, "creation_date": 1449507292, "post_id": 34137108, "comment_id": 56025715, "body": "Are there any files I can share with you to help you solve this?"}], "answers": [{"tags": [], "owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "is_accepted": false, "score": 1, "last_activity_date": 1449566638, "creation_date": 1449566638, "answer_id": 34152136, "question_id": 34137108, "link": "https://stackoverflow.com/questions/34137108/environment-issue-with-angular2-typescript/34152136#34152136", "title": "Environment issue with Angular2 typescript", "body": "<p>I found the issue.</p>\n\n<p>I wasnt point my live-server to the correct location.\nBasically, I was too deep so it couldnt reference the node modes.</p>\n\n<p><strong>This change also had to be made to my index.html:</strong></p>\n\n<pre><code> &lt;!DOCTYPE html&gt;\n &lt;html&gt;\n   &lt;head&gt;\n     &lt;base href=\"/\"&gt;&lt;/base&gt;\n     &lt;title&gt;Angular&lt;/title&gt;\n\n     &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\"&gt;\n\n     &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css\" integrity=\"sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==\" crossorigin=\"anonymous\"&gt;\n\n     &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css\" integrity=\"sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX\" crossorigin=\"anonymous\"&gt;\n\n     &lt;script src=\"//code.jquery.com/jquery-1.11.3.min.js\"&gt;&lt;/script&gt;\n\n     &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js\" integrity=\"sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n\n     &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.18.4/system.src.js\"&gt;&lt;/script&gt;    \n\n     &lt;script&gt;\n         System.config({\n             transpiler: 'typescript',\n             defaultJSExtensions: true\n         });\n     &lt;/script&gt;\n\n     &lt;!--&lt;script src=\"angular2.dev.js\"&gt;&lt;/script&gt;\n     &lt;script src=\"router.dev.js\"&gt;&lt;/script&gt;\n     &lt;script src=\"http.js\"&gt;&lt;/script&gt;\n     &lt;script src=\"firebase/firebase.js\"&gt;&lt;/script&gt;--&gt;  \n\n     &lt;script src=\"../node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n     &lt;script src=\"../node_modules/angular2/bundles/router.dev.js\"&gt;&lt;/script&gt;\n     &lt;script src=\"../node_modules/angular2/bundles/http.js\"&gt;&lt;/script&gt;\n     &lt;script src=\"/src/firebase/firebaseNew.js\"&gt;&lt;/script&gt;  \n\n   &lt;/head&gt;\n\n   &lt;body class=\"container\"&gt;\n     &lt;app&gt;&lt;/app&gt;\n     &lt;script&gt;\n       /*System.import('app/app');*/\n       System.import('src/app/app');\n     &lt;/script&gt;\n   &lt;/body&gt;\n &lt;/html&gt;\n</code></pre>\n\n<p>I've commented out what used to be in the index.html.</p>\n\n<p>I now point my live-server like this using git bash: live-server --entry-file=src/index.html</p>\n"}], "owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1495109812, "creation_date": 1449501827, "last_edit_date": 1495109812, "question_id": 34137108, "link": "https://stackoverflow.com/questions/34137108/environment-issue-with-angular2-typescript", "title": "Environment issue with Angular2 typescript", "body": "<p>Environment issue with Angular2 typescript.</p>\n\n<p>I can't get angular2 project to run.\nTypescript compiler has no errors.</p>\n\n<p>There's only errors in the browser console.</p>\n\n<p><strong>Heres my error console:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/GkGRw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GkGRw.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Heres my index.html:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/vGBcT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vGBcT.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "requirejs"], "answers": [{"comments": [{"owner": {"reputation": 1455, "user_id": 364126, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/fa27d40aa8631482f43c626dbf41408d?s=128&d=identicon&r=PG", "display_name": "Flash", "link": "https://stackoverflow.com/users/364126/flash"}, "edited": false, "score": 0, "creation_date": 1449658945, "post_id": 34174174, "comment_id": 56100804, "body": "But I need run AMD JS on internet browser, the CommonJS is for Server side.  and I hope Typescript One File Per Class in same module."}], "tags": [], "owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "is_accepted": false, "score": 0, "last_activity_date": 1449650318, "creation_date": 1449650318, "answer_id": 34174174, "question_id": 34136986, "link": "https://stackoverflow.com/questions/34136986/how-to-write-same-custom-modules-and-import-other-module/34174174#34174174", "title": "How to write same custom modules and import other module?", "body": "<p>Using modules the way you are is kind of useless when working with commonjs/require since each file is in it self a \"module\". There is a section about <a href=\"http://requirejs.org/docs/commonjs.html\" rel=\"nofollow\">CommonJS</a> on the requires site where you can read a bit more about this. Also learn more about CommonJS it self, since it is closely connected to how requires and typescript works together. </p>\n\n<p>Doing something like this should work better for you:</p>\n\n<p><em>MyClass1.ts</em>\n</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export default class MyClass1 {\n    test1() {\n\n    }\n}\n</code></pre>\n\n<p><em>MyClass2.ts</em></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import MyClass1 from \"./MyClass1.ts\";\n\nexport default class MyClass2 {\n    test2() {\n        var c1 = new MyClass1();\n    }\n}\n</code></pre>\n\n<p>There is lots of information about this if you search for it, a good place to start is looking at CommonJS and RequireJS and just learn how it works. Hope this helps, get back to mi if you have any questions. </p>\n"}], "owner": {"reputation": 1455, "user_id": 364126, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/fa27d40aa8631482f43c626dbf41408d?s=128&d=identicon&r=PG", "display_name": "Flash", "link": "https://stackoverflow.com/users/364126/flash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449650318, "creation_date": 1449501540, "question_id": 34136986, "link": "https://stackoverflow.com/questions/34136986/how-to-write-same-custom-modules-and-import-other-module", "title": "How to write same custom modules and import other module?", "body": "<p>When using the TypeScript in vs.net 2013, I am writting same custom module m1 files:</p>\n\n<p>MyClass1.ts:</p>\n\n<pre><code>module m1{\n  export class MyClass1{\n    test1(){\n    }\n  }\n}\n</code></pre>\n\n<p>MyClass2.ts:</p>\n\n<pre><code>/// &lt;reference path=\"MyClass1.ts\" /&gt;\nimport Flux = require(\"flux\");\nmodule m1{\n  class MyFluxDispatcher extends Flux.Dispatcher&lt;any&gt;{\n    ...\n  }\n  export class MyClass2{\n    test2(){\n      var c1 = new m1.MyClass1();   &lt;--- Error 81 Property 'MyClass1' does not exist on type 'typeof m1'.\n    }\n  }\n}\n</code></pre>\n\n<p>How to write same custom module in multi files and import other module ?\nand I will using those with requirejs:</p>\n\n<p>main.js:</p>\n\n<pre><code>import m1 = require(\"m1\");\nvar a1 = new m1.MyClass2();\n...\n</code></pre>\n\n<p>in html:</p>\n\n<pre><code>&lt;script src=\"~/Scripts/require.js\" data-main=\"/js/main.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["typescript", "underscore.js"], "answers": [{"tags": [], "owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "is_accepted": true, "score": 1, "last_activity_date": 1449502000, "creation_date": 1449502000, "answer_id": 34137178, "question_id": 34136910, "link": "https://stackoverflow.com/questions/34136910/pass-class-method-as-parameter-to-underscore-js/34137178#34137178", "title": "Pass class method as parameter to underscore.js", "body": "<p>You can use the => syntax for method declarations which will ensure they are always bound to the \"correct\" this.</p>\n\n<pre><code>export class DefectResource {\n    setFormattedDateForDefect = (defect) =&gt; {\n        defect.startFormatted = this.dateConverter.convertFromUnixDate(defect.start);\n        defect.finishFormatted = this.dateConverter.convertFromUnixDate(defect.finish);\n        return defect;\n    };\n\n    setFormattedDateForDefects = (defects) =&gt; {\n        return _.map(angular.fromJson(defects), this.setFormattedDateForDefect);\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 34137178, "answer_count": 1, "score": 0, "last_activity_date": 1449502000, "creation_date": 1449501305, "question_id": 34136910, "link": "https://stackoverflow.com/questions/34136910/pass-class-method-as-parameter-to-underscore-js", "title": "Pass class method as parameter to underscore.js", "body": "<p>Here is my code:</p>\n\n<pre><code>export class DefectResource {\n\n   setFormattedDateForDefect(defect) {\n        defect.startFormatted = this.dateConverter.convertFromUnixDate(defect.start);\n        defect.finishFormatted = this.dateConverter.convertFromUnixDate(defect.finish);\n        return defect;\n    };\n\n    setFormattedDateForDefects(defects) {\n        return _.map(angular.fromJson(defects), this.setFormattedDateForDefect);\n    };\n}\n</code></pre>\n\n<p>I am calling <code>setFormatedDateForDefects()</code> for collection of objects and this method must call <code>setFormattedDateForDefect()</code> for each method of this collection.  But don't call.</p>\n\n<p>I know that the reason is <code>this</code> keyword which in this context is not an Object, but I don't know how to fix it.</p>\n\n<p>How can I fix the code?</p>\n"}, {"tags": ["typescript", "aurelia"], "answers": [{"comments": [{"owner": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "edited": false, "score": 0, "creation_date": 1449499533, "post_id": 34136016, "comment_id": 56020147, "body": "also look at the sample app from aurelia."}, {"owner": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "reply_to_user": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "edited": false, "score": 0, "creation_date": 1449502634, "post_id": 34136016, "comment_id": 56022379, "body": "@CallumLinington could you provide a link and also what do you want me to look at? (file, directory...?)"}, {"owner": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "edited": false, "score": 0, "creation_date": 1449502714, "post_id": 34136016, "comment_id": 56022438, "body": "aurelia.io just look at the app, see how they constructed it, how they have configured it..."}, {"owner": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "reply_to_user": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "edited": false, "score": 0, "creation_date": 1449568035, "post_id": 34136016, "comment_id": 56052019, "body": "This was no good solution as it meant i would no longer get the meta data from the files in &quot;wwwroot/jspm_packages&quot;..."}, {"owner": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "reply_to_user": {"reputation": 722, "user_id": 2353091, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0e1e7da9c39faf48301f4d7976977530?s=128&d=identicon&r=PG", "display_name": "partyelite", "link": "https://stackoverflow.com/users/2353091/partyelite"}, "edited": false, "score": 0, "creation_date": 1451914050, "post_id": 34136016, "comment_id": 56929403, "body": "@partyelite check my other answer!"}], "tags": [], "owner": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "is_accepted": false, "score": 1, "last_activity_date": 1449519672, "last_edit_date": 1449519672, "creation_date": 1449498764, "answer_id": 34136016, "question_id": 34135931, "link": "https://stackoverflow.com/questions/34135931/visual-studio-2015-asp-net-5-aurelia-typescript-compilation-errors/34136016#34136016", "title": "visual studio 2015 asp.net 5 aurelia, typescript compilation errors", "body": "<p>You must configure typescript compilation to exclude <code>wwwroot/jspm_packages</code>.  In your <code>tsconfig.json</code> add the following:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n  \"compilerOptions\": {\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"module\": \"system\"\n  },\n  \"exclude\": [\"wwwroot/jspm_packages\"]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "is_accepted": true, "score": 0, "last_activity_date": 1451914037, "creation_date": 1451914037, "answer_id": 34592253, "question_id": 34135931, "link": "https://stackoverflow.com/questions/34135931/visual-studio-2015-asp-net-5-aurelia-typescript-compilation-errors/34592253#34592253", "title": "visual studio 2015 asp.net 5 aurelia, typescript compilation errors", "body": "<p>I found the following article <a href=\"http://www.marwijnchristiaans.com/?p=6\" rel=\"nofollow\">http://www.marwijnchristiaans.com/?p=6</a></p>\n\n<p>Add the following files:</p>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"system\",\n    \"declaration\": false,\n    \"noImplicitAny\": false,\n    \"removeComments\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"sourceMap\": true\n  }\n}\n</code></pre>\n\n<p><a href=\"https://raw.githubusercontent.com/louislewis2/AureliaDemo/master/src/AureliaDemo/scripts/typings/es6.d.ts\" rel=\"nofollow\">es6.d.ts</a></p>\n\n<p>core-js.d.ts</p>\n\n<pre><code>declare module 'core-js' {\n    var core: any;\n    export default core\n}\n</code></pre>\n\n<p>Then it just worked!</p>\n"}], "owner": {"reputation": 33432, "user_id": 58553, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/65bbe054348e2bc151413b9582e423ea?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/58553/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "accepted_answer_id": 34592253, "answer_count": 2, "score": 3, "last_activity_date": 1451914037, "creation_date": 1449498463, "last_edit_date": 1449504777, "question_id": 34135931, "link": "https://stackoverflow.com/questions/34135931/visual-studio-2015-asp-net-5-aurelia-typescript-compilation-errors", "title": "visual studio 2015 asp.net 5 aurelia, typescript compilation errors", "body": "<p>Im trying to get started with a asp.net 6 Aurelia project.\ni did the following</p>\n\n<ol>\n<li>installed <code>node</code> and <code>git</code> and added them to my path.</li>\n<li>installed <code>jspm</code></li>\n<li>created a empty asp.net 5 project.</li>\n<li>ran <code>jspm init</code> in the root of the web project, and specified <code>Enter server baseURL (public folder path) [./]:wwwroot</code></li>\n<li>ran <code>jspm install aurelia-bootstrapper</code>, <code>jspm install aurelia-framework</code>, <code>jspm install core-js</code></li>\n</ol>\n\n<p>now if i try to compile the project i get 106 TypeScript errors, it looks like a few .ts files where added under <code>wwwroot/jspm_packages/npm/...</code> and they don't compile.</p>\n\n<p>Is there any way to tell the ts compiler to ignore those files?</p>\n\n<p>the first 10 errors:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vcpCG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vcpCG.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angularjs", "typescript", "q", "definitelytyped"], "comments": [{"owner": {"reputation": 8522, "user_id": 238682, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b8e820b6915e2aeb0c2694bd7a0232c?s=128&d=identicon&r=PG", "display_name": "Peter Porfy", "link": "https://stackoverflow.com/users/238682/peter-porfy"}, "edited": false, "score": 0, "creation_date": 1449495744, "post_id": 34134966, "comment_id": 56017691, "body": "are you including the Q.d.ts file in your class definition file?"}, {"owner": {"reputation": 3362, "user_id": 305813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2161ac8f75c27a267ea5e72817ad3482?s=128&d=identicon&r=PG", "display_name": "Luka", "link": "https://stackoverflow.com/users/305813/luka"}, "reply_to_user": {"reputation": 8522, "user_id": 238682, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b8e820b6915e2aeb0c2694bd7a0232c?s=128&d=identicon&r=PG", "display_name": "Peter Porfy", "link": "https://stackoverflow.com/users/238682/peter-porfy"}, "edited": false, "score": 0, "creation_date": 1449497302, "post_id": 34134966, "comment_id": 56018701, "body": "if you mean this line then yes. /// &lt;reference path=&quot;../../typings/q/q.d.ts&quot; /&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 3362, "user_id": 305813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2161ac8f75c27a267ea5e72817ad3482?s=128&d=identicon&r=PG", "display_name": "Luka", "link": "https://stackoverflow.com/users/305813/luka"}, "edited": false, "score": 0, "creation_date": 1449498319, "post_id": 34135819, "comment_id": 56019357, "body": "this is ok if I want to use Q that comes with angular. But what about the one from : <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/q/Q.d.ts\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/blob/master/q/Q.d&zwnj;&#8203;.ts</a> This one does not have when in Interface definition, It&#39;s when is exported as a function."}], "tags": [], "owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "is_accepted": true, "score": 3, "last_activity_date": 1449498581, "last_edit_date": 1449498581, "creation_date": 1449498118, "answer_id": 34135819, "question_id": 34134966, "link": "https://stackoverflow.com/questions/34134966/how-to-use-typescript-q-when/34135819#34135819", "title": "How to use Typescript Q.when()", "body": "<p>You have to add $q as one of your injectables in $inject. Then add it to your constructor as type Q: ng.IQService</p>\n\n<p>edit: Thought you meant the angular q. I think you just need to import the module:</p>\n\n<pre><code>import * as Q from 'q';\n</code></pre>\n"}], "owner": {"reputation": 3362, "user_id": 305813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2161ac8f75c27a267ea5e72817ad3482?s=128&d=identicon&r=PG", "display_name": "Luka", "link": "https://stackoverflow.com/users/305813/luka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1269, "favorite_count": 0, "accepted_answer_id": 34135819, "answer_count": 1, "score": 2, "last_activity_date": 1565263662, "creation_date": 1449495579, "last_edit_date": 1565263662, "question_id": 34134966, "link": "https://stackoverflow.com/questions/34134966/how-to-use-typescript-q-when", "title": "How to use Typescript Q.when()", "body": "<p>I have a function that returns <code>angular.IPromise&lt;any&gt;</code></p>\n\n<pre><code>onActivate():IPromise&lt;any&gt;\n{\n     return Q.when(true);\n}\n</code></pre>\n\n<p>but when it runs this it says </p>\n\n<blockquote>\n  <p>Q is not defined</p>\n</blockquote>\n\n<p>Although, when I look in <code>Q.d.ts</code> file, the module is declared and the function <code>when</code> is exported.</p>\n\n<p>How to use Q service in typescript classes?</p>\n\n<p>The entire class is this:</p>\n\n<pre><code>/// &lt;reference path=\"../../typings/q/q.d.ts\" /&gt;\nmodule app.common.modals\n{\n\nexport class RenameModalCtrl extends app.common.controllers.ControllerBase\n{\n    public viewModel: RenameModalModel;\n    private $modalInstance: ng.ui.bootstrap.IModalServiceInstance;\n\n    static $inject = ['common', '$translate', '$modalInstance', 'viewModel'];\n\n    constructor(common: any, $translate: angular.translate.ITranslateService, $modalInstance: ng.ui.bootstrap.IModalServiceInstance, viewModel: RenameModalModel)\n    {\n        super(common, $translate);\n        this.viewModel = viewModel;\n        this.$modalInstance = $modalInstance;\n    }\n\n    onActivate(): ng.IPromise&lt;any&gt;\n    {\n        return Q.when(true);\n    }       \n}\n\nangular.module('app').controller('renameModalCtrl', RenameModalCtrl);\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449571828, "post_id": 34134529, "comment_id": 56054582, "body": "Thanks everyone for your help"}], "answers": [{"comments": [{"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449496423, "post_id": 34134634, "comment_id": 56018133, "body": "I have tried this before posting the question. I get the following error: TS1112 TypeScript A class member cannot be declared optional."}, {"owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "reply_to_user": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449496717, "post_id": 34134634, "comment_id": 56018322, "body": "Sorry yes, this would be in the interface IType1. In the Type1 implementation class you can omit the ?, it will work without."}, {"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449497506, "post_id": 34134634, "comment_id": 56018832, "body": "Just tried this. the problem is that it doesn&#39;t work with this part of my question: var t1:Type1 = {var1:&quot;Hello&quot;};"}, {"owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "reply_to_user": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449497908, "post_id": 34134634, "comment_id": 56019077, "body": "Change it to be of type IType1, not Type1"}, {"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449499230, "post_id": 34134634, "comment_id": 56019919, "body": "Updated the question: added var3. BTW, Thanks for the help."}, {"owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "reply_to_user": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449499465, "post_id": 34134634, "comment_id": 56020102, "body": "Np, updated my answer again, do you need a class or can you just use an interface?"}, {"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449571256, "post_id": 34134634, "comment_id": 56054159, "body": "I also need classes. If this is not possible do you know why?"}, {"owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "reply_to_user": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449571375, "post_id": 34134634, "comment_id": 56054231, "body": "Optional members are not supported in class definitions only interfaces. You can create a class with the members you want, but not construct it from Json."}, {"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449571795, "post_id": 34134634, "comment_id": 56054558, "body": "although this is not the answer I hoped to find I guess this is the answer. Thank you very much."}], "tags": [], "owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "is_accepted": true, "score": 1, "last_activity_date": 1449499446, "last_edit_date": 1449499446, "creation_date": 1449494606, "answer_id": 34134634, "question_id": 34134529, "link": "https://stackoverflow.com/questions/34134529/create-an-object-with-changing-members/34134634#34134634", "title": "Create an object with changing members", "body": "<p>It's not actually clear you need a class, can you not just work with an interface. This code works for me:</p>\n\n<pre><code>interface IType1 {\n    var1?: string;\n    var2?: string;\n    var3: string;\n}\n\nvar t1: IType1 = { var1: \"Hello\", var3: \"SUCCESS\" };\nvar t1: IType1 = { var2: \"Hello\", var3: \"SUCCESS\" };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449571730, "post_id": 34134806, "comment_id": 56054515, "body": "Your answer might work but I am looking for a more strongly typed approach. With your approach I don&#39;t have intellisense and no error checking. That is why I don&#39;t want to make casting to &#39;any&#39;."}, {"owner": {"reputation": 21, "user_id": 5607910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rddj2.jpg?s=128&g=1", "display_name": "Gonen", "link": "https://stackoverflow.com/users/5607910/gonen"}, "reply_to_user": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449571898, "post_id": 34134806, "comment_id": 56054625, "body": "My answer is pure JavaScript. I guess you are looking for a TypeScript solution (which I have no knowledge of)."}], "tags": [], "owner": {"reputation": 21, "user_id": 5607910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rddj2.jpg?s=128&g=1", "display_name": "Gonen", "link": "https://stackoverflow.com/users/5607910/gonen"}, "is_accepted": false, "score": 0, "last_activity_date": 1449495098, "creation_date": 1449495098, "answer_id": 34134806, "question_id": 34134529, "link": "https://stackoverflow.com/questions/34134529/create-an-object-with-changing-members/34134806#34134806", "title": "Create an object with changing members", "body": "<p>If I understand what you want - you wish to create an object with a string named var1 or var2.\nI would write it like this:</p>\n\n<pre><code>function Type1(name, data) {\n  this[name] = data;\n}\n\nvar t1 = new Type1(\"var1\", \"Hello\");    // {var1: \"hello\"}\nvar t2 = new Type1(\"var2\", \"Hello 2\");  // {var2: \"Hello 2\"}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449498979, "post_id": 34135687, "comment_id": 56019755, "body": "But then I will loose intellisense and type safety. no?"}, {"owner": {"reputation": 3983, "user_id": 1274424, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/71c66acfc0635d22236d479f8eb45dda?s=128&d=identicon&r=PG", "display_name": "Konst", "link": "https://stackoverflow.com/users/1274424/konst"}, "reply_to_user": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "edited": false, "score": 0, "creation_date": 1449499240, "post_id": 34135687, "comment_id": 56019927, "body": "You can still declare the type of them, I&#39; m not sure for intellisense"}], "tags": [], "owner": {"reputation": 3983, "user_id": 1274424, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/71c66acfc0635d22236d479f8eb45dda?s=128&d=identicon&r=PG", "display_name": "Konst", "link": "https://stackoverflow.com/users/1274424/konst"}, "is_accepted": false, "score": 0, "last_activity_date": 1449499178, "last_edit_date": 1449499178, "creation_date": 1449497726, "answer_id": 34135687, "question_id": 34134529, "link": "https://stackoverflow.com/questions/34134529/create-an-object-with-changing-members/34135687#34135687", "title": "Create an object with changing members", "body": "<p>Since var1 and var2 are coming from outside, maybe you should declare them outside of your class </p>\n\n<pre><code>declare var var1:string;\ndeclare var var2:string;\n</code></pre>\n\n<p>and then do some check in the class about which one you are going to use.</p>\n"}], "owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 478, "favorite_count": 0, "accepted_answer_id": 34134634, "answer_count": 3, "score": 0, "last_activity_date": 1449571567, "creation_date": 1449494282, "last_edit_date": 1449571567, "question_id": 34134529, "link": "https://stackoverflow.com/questions/34134529/create-an-object-with-changing-members", "title": "Create an object with changing members", "body": "<p>I have the following class:</p>\n\n<pre><code>class Type1\n{\n    var1:string;\n    var3:string;\n}\n\nvar t1 = new Type1();\nt1.var1 = \"Hello\";\n</code></pre>\n\n<p>The problem is that sometimes this class will have instead of var1 an object called var2:</p>\n\n<pre><code>class Type1\n{\n    var2:string;\n    var3:string;\n}\nvar t1 = new Type1();\nt1.var2 = \"World\";\n</code></pre>\n\n<p>I would also like to use it as so:</p>\n\n<pre><code>var t1:Type1 = {var1:\"Hello\",var3:\"SUCCESS\"};\n</code></pre>\n\n<p>or</p>\n\n<pre><code>var t1:Type1 = {var2:\"Hello\",var3:\"SUCCESS\"};\n</code></pre>\n\n<p>and I also need to do this:</p>\n\n<pre><code>var t3 = new Type1();\n</code></pre>\n\n<p>the names var1 and var 2 are mandatory as I get them from outside.\nhow can I create this type of object(without casting to any)?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 1320, "user_id": 1501960, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/sC3bd.jpg?s=128&g=1", "display_name": "JohnC", "link": "https://stackoverflow.com/users/1501960/johnc"}, "reply_to_user": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "edited": false, "score": 0, "creation_date": 1449487791, "post_id": 34132482, "comment_id": 56012629, "body": "Yeah, but its not on the latest file."}, {"owner": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "edited": false, "score": 0, "creation_date": 1449487987, "post_id": 34132482, "comment_id": 56012722, "body": "right.... so, get the latest? or the other way is just to type it yourself!"}, {"owner": {"reputation": 1320, "user_id": 1501960, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/sC3bd.jpg?s=128&g=1", "display_name": "JohnC", "link": "https://stackoverflow.com/users/1501960/johnc"}, "reply_to_user": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "edited": false, "score": 0, "creation_date": 1449488420, "post_id": 34132482, "comment_id": 56012992, "body": "as per comment its not in the latest version of type definition and i didn&#39;t want to write my own type if it wasn&#39;t necessary, i can&#39;t be the first person to have this issue."}, {"owner": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "edited": false, "score": 0, "creation_date": 1449490217, "post_id": 34132482, "comment_id": 56014122, "body": "surely it is just a one liner.."}], "answers": [{"tags": [], "owner": {"reputation": 7464, "user_id": 1100874, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/JaNSq.jpg?s=128&g=1", "display_name": "Katana24", "link": "https://stackoverflow.com/users/1100874/katana24"}, "is_accepted": false, "score": 0, "last_activity_date": 1449505737, "creation_date": 1449505737, "answer_id": 34138429, "question_id": 34132482, "link": "https://stackoverflow.com/questions/34132482/typescript-angular-1-5-defintion-file-for-component/34138429#34138429", "title": "Typescript Angular 1.5 defintion file for component", "body": "<p>We had a kinda similar issue earlier today and it was to do with using Angular 1.5. Beta 1 which doesn't contain the component function. \nTo fix it we had to upgrade to Angular 1.5 Beta 2 which does contain the component functon.</p>\n"}, {"comments": [{"owner": {"reputation": 15708, "user_id": 128662, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e25c1b1285205a14ec422c6eb9ab8736?s=128&d=identicon&r=PG", "display_name": "Cyril Gandon", "link": "https://stackoverflow.com/users/128662/cyril-gandon"}, "edited": false, "score": 0, "creation_date": 1455035965, "post_id": 35294517, "comment_id": 58304914, "body": "Just note that tsd is deprecated : <a href=\"https://github.com/DefinitelyTyped/tsd/issues/269\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/tsd/issues/269</a>"}, {"owner": {"reputation": 1320, "user_id": 1501960, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/sC3bd.jpg?s=128&g=1", "display_name": "JohnC", "link": "https://stackoverflow.com/users/1501960/johnc"}, "edited": false, "score": 0, "creation_date": 1455052879, "post_id": 35294517, "comment_id": 58315141, "body": "This is true but the answer is valid, the type files will still be the same"}], "tags": [], "owner": {"reputation": 8880, "user_id": 2656, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e5ab78094d9700cf27a2f24ff0808f96?s=128&d=identicon&r=PG", "display_name": "Brian Vallelunga", "link": "https://stackoverflow.com/users/2656/brian-vallelunga"}, "is_accepted": true, "score": 5, "last_activity_date": 1455027976, "creation_date": 1455027976, "answer_id": 35294517, "question_id": 34132482, "link": "https://stackoverflow.com/questions/34132482/typescript-angular-1-5-defintion-file-for-component/35294517#35294517", "title": "Typescript Angular 1.5 defintion file for component", "body": "<p>The latest d.ts file now has the component method. Update yours with <code>tsd update -o</code></p>\n"}], "owner": {"reputation": 1320, "user_id": 1501960, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/sC3bd.jpg?s=128&g=1", "display_name": "JohnC", "link": "https://stackoverflow.com/users/1501960/johnc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 993, "favorite_count": 0, "accepted_answer_id": 35294517, "answer_count": 2, "score": 3, "last_activity_date": 1455027976, "creation_date": 1449487675, "question_id": 34132482, "link": "https://stackoverflow.com/questions/34132482/typescript-angular-1-5-defintion-file-for-component", "title": "Typescript Angular 1.5 defintion file for component", "body": "<p>I am having issues with typescript and angular 1.5, on build I get the error <code>error TS2339: Property 'component' does not exist on type 'IModule'.</code> is there a definition file that includes this somewhere that I am missing </p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "edited": false, "score": 0, "creation_date": 1449492817, "post_id": 34132276, "comment_id": 56015746, "body": "Do you need to read it into your app? Can you not just have the ng-click use the browser to open the file?"}, {"owner": {"reputation": 671, "user_id": 3052526, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2117236b1d9c6d4d0e049ff8cc8deb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user3052526", "link": "https://stackoverflow.com/users/3052526/user3052526"}, "reply_to_user": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "edited": false, "score": 0, "creation_date": 1449517203, "post_id": 34132276, "comment_id": 56031606, "body": "@DanielCook if it was a link it would have been easy. I need to read it into the app"}], "answers": [{"tags": [], "owner": {"reputation": 671, "user_id": 3052526, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2117236b1d9c6d4d0e049ff8cc8deb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user3052526", "link": "https://stackoverflow.com/users/3052526/user3052526"}, "is_accepted": false, "score": 0, "last_activity_date": 1449574867, "creation_date": 1449574867, "answer_id": 34154974, "question_id": 34132276, "link": "https://stackoverflow.com/questions/34132276/typescript-angularjs-pdf-api/34154974#34154974", "title": "Typescript AngularJS pdf API", "body": "<p>Okay if you get a base64 string the following works perfect but sadly and obviously not in IE.</p>\n\n<p><code>window.open(\"data:application/pdf;base64,\" + response.data.content);</code></p>\n"}], "owner": {"reputation": 671, "user_id": 3052526, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2117236b1d9c6d4d0e049ff8cc8deb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user3052526", "link": "https://stackoverflow.com/users/3052526/user3052526"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 397, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449574867, "creation_date": 1449487055, "last_edit_date": 1449499385, "question_id": 34132276, "link": "https://stackoverflow.com/questions/34132276/typescript-angularjs-pdf-api", "title": "Typescript AngularJS pdf API", "body": "<p>I think the title is weird but just says all i want.</p>\n\n<p>I got the following API call</p>\n\n<pre><code>this.myAPI.get(\"/endpoint/toget/pdf/\")\n                    .then(response =&gt; {\n\n                    }, function(error) {\n\n                    });\n</code></pre>\n\n<p>The API response with a PDF file <code>not a link</code> but a PDF file. How do i capture that file and allow the user to <code>ng-click</code> and open the file?</p>\n\n<p>Ideas.. Anyone?</p>\n"}, {"tags": ["angularjs", "delegates", "typescript", "this"], "answers": [{"tags": [], "owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "is_accepted": true, "score": 1, "last_activity_date": 1449491830, "creation_date": 1449491830, "answer_id": 34133727, "question_id": 34131038, "link": "https://stackoverflow.com/questions/34131038/how-to-pass-a-function-to-a-service-in-typescript/34133727#34133727", "title": "How to pass a function to a service in TypeScript", "body": "<p>You need to use the => syntax for class methods to bind to the correct \"this\" reference, rewrite renameFormula like this:</p>\n\n<pre><code>renameFormula = (id: string, name: string): ng.IPromise&lt;any&gt; =&gt; {\n    var cmd = { id: id, name: name };\n    return this.executeCommand('RenameFormula', cmd);\n}\n</code></pre>\n\n<p>There's more details on this here:</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/wiki/\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/wiki/</a>'this'-in-TypeScript</p>\n"}], "owner": {"reputation": 3362, "user_id": 305813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2161ac8f75c27a267ea5e72817ad3482?s=128&d=identicon&r=PG", "display_name": "Luka", "link": "https://stackoverflow.com/users/305813/luka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 987, "favorite_count": 0, "accepted_answer_id": 34133727, "answer_count": 1, "score": 1, "last_activity_date": 1449491830, "creation_date": 1449483114, "last_edit_date": 1449483615, "question_id": 34131038, "link": "https://stackoverflow.com/questions/34131038/how-to-pass-a-function-to-a-service-in-typescript", "title": "How to pass a function to a service in TypeScript", "body": "<p>I have a service in angular like this that calls a webapi method:</p>\n\n<pre><code>export class FormulasService extends ServiceBase{\n    constructor(){super();}\n\n    renameFormula(id:string, name:string):ng.IPromise&lt;any&gt;{\n        var cmd = {id:id, name:name};\n        return this.executeCommand('RenameFormula', cmd);\n    }\n}\n</code></pre>\n\n<p>Now i have a component tha is common in all modules, so it takes a function as parameter:</p>\n\n<pre><code>export class RenameModalCtrl extends ControllerBase{\n    static $inject=['viewModel']\n    constructor(private viewModel:RenameModalModel){\n        super();\n    }\n    saveChanges(){\n        this.viewModel.serviceFunction(this.viewModel.id, this.viewModel.name);\n    }\n}\n</code></pre>\n\n<p>And it's model:</p>\n\n<pre><code>export class RenameModalModel{\n    constructor(\n        public model:any, \n        public serviceMethod:(id:string, name:string)=&gt;ng.IPromise&lt;any&gt;)\n}\n</code></pre>\n\n<p>The view:</p>\n\n<pre><code>...\n&lt;input class=\"form-control\" ng-model=\"modal.viewModel.model.name\" /&gt;\n&lt;button type=\"submit\" ng-click=\"modal.saveChanges()\"&gt;Save Changes&lt;/button&gt;\n...\n</code></pre>\n\n<p>The viewModel is resolved in the resolve phase of angular.ui.bootstrap.modal.\nI use the Controler-As syntax so the modal in view is the RenameModalCtrl.</p>\n\n<pre><code>rename()\n    {\n        var modalInstance = this.$modal.open({\n            animation: true,\n            controller: 'renameModalCtrl as modal',\n            templateUrl: 'renameModal.html',\n            resolve: {\n                viewModel: new RenameModalModel(this.itemModel, this.formulasService.renameFormula)                    \n            }\n        });\n    }\n</code></pre>\n\n<p>Now this all works, except in service. in the service the 'this' is the actual model, not the service. so it fails on the line: <code>this.executeCommand('RenameFormula', cmd);</code></p>\n\n<p>How to fix this?\nPlease help</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 1102550, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/d2992c28d60516b160a9d1590aaa7829?s=128&d=identicon&r=PG", "display_name": "user1102550", "link": "https://stackoverflow.com/users/1102550/user1102550"}, "edited": false, "score": 0, "creation_date": 1449485754, "post_id": 34131358, "comment_id": 56011523, "body": "Thanks guys that makes a lot of sense."}], "tags": [], "owner": {"reputation": 4193, "user_id": 3212848, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6e9cc206f0d853edeedcbce8d6c00860?s=128&d=identicon&r=PG", "display_name": "ste2425", "link": "https://stackoverflow.com/users/3212848/ste2425"}, "is_accepted": true, "score": 0, "last_activity_date": 1449484496, "last_edit_date": 1449484496, "creation_date": 1449484076, "answer_id": 34131358, "question_id": 34130903, "link": "https://stackoverflow.com/questions/34130903/why-does-angular-repeat-filter-only-have-access-to-its-element-in-the-return-fun/34131358#34131358", "title": "Why does Angular repeat filter only have access to its element in the return function", "body": "<p>This works very similar to JavaScript <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow\">'array.filter()`</a>, in fact i wouldn't be surprised if its using it under the hood.</p>\n\n<p>what's happening is your <code>searchText</code> method is accepting your search criteria and is called. The method it returns is called by angulars filter on every element in your collection, passing it that element. </p>\n\n<p>If you <code>console.log(item);</code> you will see it is not the whole array but each individual item. If your returned method returns true angular will keep that specific item, if it returns false angular will discard it. Exactly like the native filter. So your returned anonymous function is called not once, but for every item in your array.</p>\n\n<p>I can't comment on the syntax and mechanism with regards to TypeScript but returning a method is indeed to correct way to use this functionality, exactly like a native <code>array.filter()</code>.</p>\n\n<p>EDIT: Here's the Fiddle i used to make double sure of my comments if interested: <a href=\"http://jsfiddle.net/wf5shz70/\" rel=\"nofollow\">http://jsfiddle.net/wf5shz70/</a></p>\n\n<p>EDIT: @jonas made a very good and important point about statefull filters, i missed that.</p>\n"}, {"tags": [], "owner": {"reputation": 975, "user_id": 1014132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deddb430a30a9ab4e1bcadccd986a5dd?s=128&d=identicon&r=PG", "display_name": "jonas", "link": "https://stackoverflow.com/users/1014132/jonas"}, "is_accepted": false, "score": 1, "last_activity_date": 1449484233, "creation_date": 1449484233, "answer_id": 34131415, "question_id": 34130903, "link": "https://stackoverflow.com/questions/34130903/why-does-angular-repeat-filter-only-have-access-to-its-element-in-the-return-fun/34131415#34131415", "title": "Why does Angular repeat filter only have access to its element in the return function", "body": "<p>The pattern you are using is a stateful filter (and is discouraged <a href=\"https://docs.angularjs.org/api/ng/filter/filter\" rel=\"nofollow\">https://docs.angularjs.org/api/ng/filter/filter</a>)</p>\n\n<blockquote>\n  <p>It is strongly discouraged to write filters that are stateful, because the execution of those can't be optimized by Angular, which often leads to performance issues. Many stateful filters can be converted into stateless filters just by exposing the hidden state as a model and turning it into an argument for the filter. </p>\n</blockquote>\n\n<p>You should consider making the <code>searchCriteria</code> an argument to the returned function. Then the syntax would be something like <code>filter:Model.searchText:Model.SearchCriteria</code></p>\n\n<pre><code>public searchText()\n{\n\n    return function (item, searchCriteria) {\n        if (item.DisplayName.indexOf(searchCriteria) &gt; -1 \n        {\n            return true;\n        }\n        return false;\n    }  \n\n};\n</code></pre>\n"}], "owner": {"reputation": 513, "user_id": 1102550, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/d2992c28d60516b160a9d1590aaa7829?s=128&d=identicon&r=PG", "display_name": "user1102550", "link": "https://stackoverflow.com/users/1102550/user1102550"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 34131358, "answer_count": 2, "score": 0, "last_activity_date": 1449486110, "creation_date": 1449482696, "last_edit_date": 1449486110, "question_id": 34130903, "link": "https://stackoverflow.com/questions/34130903/why-does-angular-repeat-filter-only-have-access-to-its-element-in-the-return-fun", "title": "Why does Angular repeat filter only have access to its element in the return function", "body": "<p>I have some Angular code which I have gotten to work but I don't understand why -  being from a C Sharp background and new to JS and Typescript.</p>\n\n<pre><code>&lt;tr ng-repeat=\"colleague in Model.FilteredColleagueListModel | filter:Model.searchText(Model.SearchCriteria)\" &gt;\n\n    public searchText(searchCriteria)\n    {\n\n        return function (item) {\n            if (item.DisplayName.indexOf(searchCriteria) &gt; -1 \n            {\n                return true;\n            }\n            return false;\n        }  \n\n    };\n</code></pre>\n\n<p>And I have a filter but what I don't understand is the nested function. Why is item only available in the return function. Also is the returning function the right way to do it in TypeScript? Is it OK to ask slightly open ended questions like this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "gulp", "systemjs"], "answers": [{"comments": [{"owner": {"reputation": 3895, "user_id": 2732980, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/X42el.jpg?s=128&g=1", "display_name": "AlainIb", "link": "https://stackoverflow.com/users/2732980/alainib"}, "edited": false, "score": 0, "creation_date": 1449480023, "post_id": 34130099, "comment_id": 56008003, "body": "there is a miss tipo. add what ? ;)"}, {"owner": {"reputation": 750, "user_id": 5636067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JvRS.jpg?s=128&g=1", "display_name": "Julien Alary", "link": "https://stackoverflow.com/users/5636067/julien-alary"}, "reply_to_user": {"reputation": 3895, "user_id": 2732980, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/X42el.jpg?s=128&g=1", "display_name": "AlainIb", "link": "https://stackoverflow.com/users/2732980/alainib"}, "edited": false, "score": 0, "creation_date": 1449480773, "post_id": 34130099, "comment_id": 56008460, "body": "Sorry, I&#39;m quite new to stack overflow. My message is now edited. As I said, you have to add : &lt;script src=&quot;../node_modules/angular2/bundles/http.dev.js&quot;&gt;&lt;/script&gt;"}], "tags": [], "owner": {"reputation": 750, "user_id": 5636067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JvRS.jpg?s=128&g=1", "display_name": "Julien Alary", "link": "https://stackoverflow.com/users/5636067/julien-alary"}, "is_accepted": true, "score": 5, "last_activity_date": 1449498782, "last_edit_date": 1449498782, "creation_date": 1449479963, "answer_id": 34130099, "question_id": 34129295, "link": "https://stackoverflow.com/questions/34129295/cant-load-angularjs-2-router/34130099#34130099", "title": "Can&#39;t load AngularJS 2 router", "body": "<p>Router module is not in main angular2 module</p>\n\n<p>You have to add : </p>\n\n<pre><code>&lt;script src=\"../node_modules/angular2/bundles/router.dev.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 5010502, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15042691f81852ac6d15b1f6c40335d2?s=128&d=identicon&r=PG&f=1", "display_name": "Samuele", "link": "https://stackoverflow.com/users/5010502/samuele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1648, "favorite_count": 0, "accepted_answer_id": 34130099, "answer_count": 1, "score": 2, "last_activity_date": 1492782982, "creation_date": 1449477133, "last_edit_date": 1492782982, "question_id": 34129295, "link": "https://stackoverflow.com/questions/34129295/cant-load-angularjs-2-router", "title": "Can&#39;t load AngularJS 2 router", "body": "<p>I've got a problem with my Angular 2 project.</p>\n\n<p><strong>Structure</strong> :</p>\n\n<pre><code>- project\n  - dev     \n     - api\n     - res\n         - config\n         - script\n             - js\n                 - components\n                     - blog.components.js\n                     - blog.components.js.map\n                 - pipes\n                 - services\n                 - bootstrap.js\n                 - bootstrap.js.map\n             - ts\n                 - components\n                     - blog.components.ts\n                 - pipes\n                 - services\n                 - bootstrap.ts\n                 - tsconfig.json\n         - style\n             - css\n             - sass\n         - templates\n             - components\n                 - app.component.html\n                 - blog.component.html\n         - index.php\n  - dist\n     - api\n     - res\n         - config\n         - script\n             - js\n                 - components\n                    - blog.component.min.js\n                 - pipes\n                 - services\n                 - bootstrap.min.js\n         - style\n             - css\n         - templates\n             - components\n                 - app.component.html\n                 - blog.component.html\n     - index.php\n  - node_modules\n  - gulpfile.js\n  - package.json\n</code></pre>\n\n<p><strong>gulpfile.js</strong> :</p>\n\n<pre><code>    var gulp            = require('gulp'),\n        sass            = require('gulp-sass'),\n        autoprefixer    = require('gulp-autoprefixer'),\n        minifycss       = require('gulp-minify-css'),\n        concat          = require('gulp-concat'),\n        typescript      = require('gulp-typescript'),\n        uglify          = require('gulp-uglify'),\n        htmlmin         = require('gulp-htmlmin'),\n        livereload      = require('gulp-livereload'),\n        changed         = require('gulp-changed'),\n        plumber         = require('gulp-plumber'),\n        rename          = require('gulp-rename');\n\nfunction handleError (error) {\n    console.error.bind(error.toString());\n    this.emit('end');\n}\n\ngulp.task('process-styles', function() {\n    return gulp.src('dev/res/style/sass/*.scss')\n        .pipe(plumber({errorHandler: handleError}))\n\n        .pipe(changed('dev/res/style/css/'))\n\n        .pipe(sass())\n        .pipe(autoprefixer())\n        .pipe(concat('all.css'))\n\n        .pipe(gulp.dest('dev/res/style/css/'))\n\n        .pipe(rename({suffix: '.min'}))\n        .pipe(minifycss())\n        .pipe(gulp.dest('dist/res/style/css/'))\n\n        .pipe(livereload());\n});\n\ngulp.task('process-scripts', function() {\n    var tsconfig = typescript.createProject('dev/res/script/ts/tsconfig.json', {typescript: require('typescript')});\n\n    return gulp.src('dev/res/script/ts/**/*.ts')\n        .pipe(plumber({errorHandler: handleError}))\n\n        .pipe(changed('dev/res/script/js/'))\n\n        .pipe(typescript(tsconfig))\n        .pipe(gulp.dest('dev/res/script/js/'))\n\n        .pipe(rename({suffix: '.min'}))\n        .pipe(uglify())\n        .pipe(gulp.dest('dist/res/script/js/'))\n\n        .pipe(livereload());\n});\n\ngulp.task('process-templates', function() {\n    return gulp.src('dev/res/templates/**/*.html')\n        .pipe(plumber({errorHandler: handleError}))\n\n        .pipe(changed('dist/res/templates/'))\n\n        .pipe(htmlmin({collapseWhitespace: true}))\n        .pipe(gulp.dest('dist/res/templates/'))\n\n        .pipe(livereload());\n});\n\ngulp.task('process-index', function() {\n    return gulp.src('dev/index.*')\n        .pipe(plumber({errorHandler: handleError}))\n\n        .pipe(livereload());\n});\n\ngulp.task('watch', function() {\n    var server = livereload();\n    livereload.listen();\n\n    gulp.watch('dev/res/style/sass/*.scss', ['process-styles']);\n    gulp.watch('dev/index.*',               ['process-index']);\n    gulp.watch('dev/res/script/ts/**/*.ts', ['process-scripts']);\n    gulp.watch('dev/res/templates/**/*.html',   ['process-templates']);\n});\n\ngulp.task('default', ['process-styles', 'process-scripts', 'process-templates', 'watch']);\n</code></pre>\n\n<p><strong>package.json</strong> :</p>\n\n<pre><code>{\n    \"name\": \"project\",\n    \"version\": \"1.0.0\",\n    \"description\": \"\",\n    \"main\": \"gulpfile.js\",\n    \"dependencies\": {\n        \"gulp\": \"^3.9.0\",\n        \"gulp-autoprefixer\": \"^3.1.0\",\n        \"gulp-changed\": \"^1.3.0\",\n        \"gulp-concat\": \"^2.6.0\",\n        \"gulp-htmlmin\": \"^1.2.0\",\n        \"gulp-livereload\": \"^3.8.1\",\n        \"gulp-minify-css\": \"^1.2.2\",\n        \"gulp-plumber\": \"^1.0.1\",\n        \"gulp-rename\": \"^1.2.2\",\n        \"bootstrap\": \"^3.3.6\",\n        \"gulp-sass\": \"^2.1.0\",\n        \"gulp-typescript\": \"^2.10.0\",\n        \"gulp-uglify\": \"^1.5.1\",\n        \"angular2\": \"^2.0.0-alpha.48\",\n        \"gulp-live-server\": \"^0.0.29\",\n        \"typescript\": \"^1.7.3\",\n        \"gulp-ruby-sass\": \"^2.0.6\",\n        \"live-server\": \"^0.8.2\",\n        \"uglifyjs\": \"^2.4.10\",\n        \"systemjs\": \"^0.19.6\",\n        \"underscore\": \"^1.8.3\",\n        \"sass\": \"^0.5.0\"\n    },\n    \"devDependencies\": {\n        \"angular2\": \"^2.0.0-alpha.48\",\n        \"bootstrap\": \"^3.3.6\",\n        \"gulp\": \"^3.9.0\",\n        \"gulp-autoprefixer\": \"^3.1.0\",\n        \"gulp-changed\": \"^1.3.0\",\n        \"gulp-concat\": \"^2.6.0\",\n        \"gulp-htmlmin\": \"^1.2.0\",\n        \"gulp-live-server\": \"^0.0.29\",\n        \"gulp-livereload\": \"^3.8.1\",\n        \"gulp-minify-css\": \"^1.2.2\",\n        \"gulp-plumber\": \"^1.0.1\",\n        \"gulp-rename\": \"^1.2.2\",\n        \"gulp-ruby-sass\": \"^2.0.6\",\n        \"gulp-sass\": \"^2.1.0\",\n        \"gulp-tsc\": \"^1.1.4\",\n        \"gulp-typescript\": \"^2.10.0\",\n        \"gulp-uglify\": \"^1.5.1\",\n        \"live-server\": \"^0.8.2\",\n        \"sass\": \"^0.5.0\",\n        \"systemjs\": \"^0.19.6\",\n        \"typescript\": \"^1.7.3\",\n        \"uglifyjs\": \"^2.4.10\",\n        \"underscore\": \"^1.8.3\"\n    },\n    \"author\": \"\",\n    \"license\": \"ISC\"\n}\n</code></pre>\n\n<p><strong>tsconfig.json</strong> :</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"sourceMap\": true,\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"removeComments\": false,\n        \"noImplicitAny\": false\n    }\n}\n</code></pre>\n\n<p><strong>dev/res/script/ts/bootstrap.ts</strong> :</p>\n\n<pre><code>import {bootstrap, Component, Injectable, View} from 'angular2/angular2';\nimport {RouteConfig, ROUTER_DIRECTIVES, ROUTER_BINDINGS} from 'angular2/router';\nimport {BlogComponent} from './components/blog.component';\n\n@Injectable()\n@Component ({\n    selector:   'app'\n})\n@RouteConfig([\n    {\n        path:       '/', \n        component:  BlogComponent, \n        as:         'blogComponent'\n    }\n])\n@View({\n    templateUrl: 'res/templates/components/app.component.html',\n    directives: [ROUTER_DIRECTIVES]\n})\nexport class App {}\n\nbootstrap(App);\n</code></pre>\n\n<p><strong>dev/res/script/ts/components/blog.component.ts</strong> :</p>\n\n<pre><code>import {Component, Injectable} from 'angular2/angular2';\n\n@Injectable()\n@Component({\n    selector: 'blog',\n    templateUrl: 'res/templates/components/blog.view.component.html'\n})\nexport class BlogComponent {}\n</code></pre>\n\n<p><strong>dev/index.php</strong> :</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;script src=\"../node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"../node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n        &lt;link rel=\"stylesheet\" href=\"../node_modules/bootstrap/dist/css/bootstrap.min.css\"&gt;\n        &lt;script&gt;\n            System.config({\n                packages: {'res/script/js': {defaultExtension: 'js'}}\n            });\n            System.import('res/script/js/bootstrap');\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;app&gt;&lt;/app&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I open the project in the browser I get the error:</p>\n\n<pre><code>GET http://localhost/project/dev/angular2/router 404 (Not Found)\n</code></pre>\n\n<p>I can't understand why does it find angular2/angular2 module but not angular2/router. In my angular2 module folder I've got the router file. Thank you all!</p>\n"}, {"tags": ["javascript", "typescript", "resharper", "ecmascript-6", "typescript1.7"], "answers": [{"comments": [{"owner": {"reputation": 15326, "user_id": 3, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2mwFl.jpg?s=128&g=1", "display_name": "Jarrod Dixon", "link": "https://stackoverflow.com/users/3/jarrod-dixon"}, "edited": false, "score": 1, "creation_date": 1466481916, "post_id": 34127196, "comment_id": 63320645, "body": "Very good find on that language level.  As of now, the latest <a href=\"https://confluence.jetbrains.com/display/ReSharper/ReSharper+2016.2+EAP\" rel=\"nofollow noreferrer\">ReSharper Early Access Program (EAP 4)</a> looks to have support for the newest versions of TypeScript, <a href=\"http://i.stack.imgur.com/PDb34.png\" rel=\"nofollow noreferrer\">all the way up to 2.0&#39;s early bits</a>.  Trying EAP 4 out now."}], "tags": [], "owner": {"reputation": 10410, "user_id": 2450507, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qNPPb.jpg?s=128&g=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/2450507/nicholas"}, "is_accepted": true, "score": 15, "last_activity_date": 1449545363, "last_edit_date": 1449545363, "creation_date": 1449467119, "answer_id": 34127196, "question_id": 34127195, "link": "https://stackoverflow.com/questions/34127195/false-positive-lexical-declarations-require-ecmascript-6-and-typescript-1-x-f/34127196#34127196", "title": "False positive &quot;Lexical declarations require ECMAScript 6&quot; and &quot;TypeScript 1.x feature. Current language is 1.4&quot; error messages", "body": "<p>It seems my version of Resharper (10.0.1) is unable to detect the TypeScript version. </p>\n\n<p>To resolve this you can specify the version manually. Since this version of Resharper (the latest at this time of posting) doesn't support TypeScript 1.7, TypeScript 1.6 needs to be used.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WA5Cq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WA5Cq.png\" alt=\"Resharper options\"></a></p>\n"}], "owner": {"reputation": 10410, "user_id": 2450507, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qNPPb.jpg?s=128&g=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/2450507/nicholas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 0, "accepted_answer_id": 34127196, "answer_count": 1, "score": 8, "last_activity_date": 1449545363, "creation_date": 1449467119, "last_edit_date": 1449545318, "question_id": 34127195, "link": "https://stackoverflow.com/questions/34127195/false-positive-lexical-declarations-require-ecmascript-6-and-typescript-1-x-f", "title": "False positive &quot;Lexical declarations require ECMAScript 6&quot; and &quot;TypeScript 1.x feature. Current language is 1.4&quot; error messages", "body": "<p>After updating TypeScript to version 1.7 (the latest version at this time) I've been seeing Resharper point out errors, for example when using <code>namespace</code>, <code>const</code> and <code>let</code>, even though they should be supported by this version of TypeScript.</p>\n\n<p>For example:</p>\n\n<p><em>TypeScript 1.x feature. Current language is 1.4</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/kF6j1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kF6j1.png\" alt=\"Error 1\"></a></p>\n\n<p>and</p>\n\n<p><em>Lexical declarations (let and const) require ECMAScript 6 compiler target. Current target is ECMAScript 5.</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/5NafQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5NafQ.png\" alt=\"Error 2\"></a></p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "edited": false, "score": 0, "creation_date": 1449466942, "post_id": 34127142, "comment_id": 56002510, "body": "Thanks. Do I understand correctly that you recomment me leave my code as it  is?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "edited": false, "score": 0, "creation_date": 1449467438, "post_id": 34127142, "comment_id": 56002657, "body": "@demas yes. That would be ideal"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1449467708, "last_edit_date": 1449467708, "creation_date": 1449466798, "answer_id": 34127142, "question_id": 34127126, "link": "https://stackoverflow.com/questions/34127126/inject-services-to-controller/34127142#34127142", "title": "Inject services to controller", "body": "<blockquote>\n  <p>But I cannot remove it from constructor parameters, because constructor parameters list must be the same as $inject list. Is there any way not to pass $location to constructor?</p>\n</blockquote>\n\n<p>If the class needs it (since a function needs it) ... best to have it up front as a dependency in the constructor which is what you have.</p>\n\n<p>Just a minor thing ... store it in the class using <code>public</code> e.g.: </p>\n\n<pre><code>constructor($stateParams: any, public $location: any, defectResource: any, entityProvider: any)\n</code></pre>\n\n<blockquote>\n  <p>Is there any way not to pass $location to constructor?</p>\n</blockquote>\n\n<p>In the constructor get <code>$injector</code> instead of <code>$location</code> and then call <code>$injector.get('$location')</code> when you actually need it. Warning: this will make your code harder to review for the next guy <code>\u00af\\_(\u30c4)_/\u00af</code></p>\n"}, {"comments": [{"owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "edited": false, "score": 0, "creation_date": 1449467551, "post_id": 34127237, "comment_id": 56002702, "body": "To do it, i need to assign contructor parameter to class varibable in constructor, right? Something like <code>this.$location = $location</code>."}, {"owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "edited": false, "score": 0, "creation_date": 1449470579, "post_id": 34127237, "comment_id": 56003811, "body": "Yes, I see. I was needed to declare it as public. Thanks."}], "tags": [], "owner": {"reputation": 149, "user_id": 4334577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3171ebfb3302beca692bc74561e0532c?s=128&d=identicon&r=PG&f=1", "display_name": "Rune Antonsen", "link": "https://stackoverflow.com/users/4334577/rune-antonsen"}, "is_accepted": false, "score": 2, "last_activity_date": 1449467371, "creation_date": 1449467371, "answer_id": 34127237, "question_id": 34127126, "link": "https://stackoverflow.com/questions/34127126/inject-services-to-controller/34127237#34127237", "title": "Inject services to controller", "body": "<p>You could skip it in postDefect() and then use this.$location instead. </p>\n\n<p>And you shouldn't use 'any'  all over the place, get the DefinitelyTyped files you need from <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" rel=\"nofollow\">https://github.com/DefinitelyTyped/DefinitelyTyped</a>\nAnd include them in your project.</p>\n"}], "owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 34127142, "answer_count": 2, "score": 0, "last_activity_date": 1449467708, "creation_date": 1449466712, "question_id": 34127126, "link": "https://stackoverflow.com/questions/34127126/inject-services-to-controller", "title": "Inject services to controller", "body": "<p>I have a class of Controller with constructor() and method. </p>\n\n<pre><code>static $inject = ['$stateParams', '$location', 'defectResource', 'entityProvider'];\n\nconstructor($stateParams: any, $location: any, defectResource: any, entityProvider: any) {\n    if (typeof $stateParams.defectid != 'undefined') {\n        this.defectid = $stateParams.defectid;\n\n\n        defectResource.defectByDefectId(this.defectid).then((data) =&gt; {\n                this.defect = data;\n        });\n\n     } else {\n\n        // create new Defect\n        this.defect = entityProvider.newDefect($stateParams.itemid);\n     }\n}\n\npostDefect($stateParams: any, $location: any, defectResource: any): void {\n    defectResource.postDefect(this.defect).then(function () {\n        $location.path('defects/' + $stateParams.itemid);\n    });\n};\n</code></pre>\n\n<p>This code is working, but I am not using <code>$location</code> in the constructor. It is used only the <code>postDefect()</code> mtehod.  But I cannot remove it from constructor parameters, because constructor parameters list must be the same as <code>$inject</code> list.</p>\n\n<p>Is there any way not to pass <code>$location</code> to constructor? </p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1449455678, "post_id": 34125531, "comment_id": 55999685, "body": "I don&#39;t know TypeScript but you should also be able to use <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind\" rel=\"nofollow noreferrer\"><code>Function.prototype.bind</code></a>. More here ~ <a href=\"http://codereview.stackexchange.com/questions/49872/using-var-self-this-or-bindthis\" title=\"using var self this or bindthis\">codereview.stackexchange.com/questions/49872/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 4, "last_activity_date": 1449455731, "creation_date": 1449455731, "answer_id": 34125555, "question_id": 34125531, "link": "https://stackoverflow.com/questions/34125531/binding-variables-in-the-controllers-promises/34125555#34125555", "title": "Binding variables in the Controller&#39;s promises", "body": "<blockquote>\n  <p>am just wondering is it a good solution? Or may be there is a better way to do it?</p>\n</blockquote>\n\n<p>This is a good solution. A better one would be to use an arrow function: </p>\n\n<pre><code>  // defects\n    defectResource.defectsByItemId($stateParams.itemid).then((data) =&gt; {\n        this.defects = data;\n    });\n</code></pre>\n\n<p>More on arrow functions in TypeScript : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/arrow-functions.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/arrow-functions.html</a></p>\n"}], "owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 34125555, "answer_count": 1, "score": 1, "last_activity_date": 1449455731, "creation_date": 1449455492, "question_id": 34125531, "link": "https://stackoverflow.com/questions/34125531/binding-variables-in-the-controllers-promises", "title": "Binding variables in the Controller&#39;s promises", "body": "<p>I am new in JS and TypeScript and I am just want to check myself. He is my contoller:</p>\n\n<pre><code>class DefectListController implements IDefectListModel {\n    itemId: string;\n    defects: any[];\n\n    static $inject = ['$stateParams', 'defectResource'];\n\n    constructor($stateParams: any, defectResource: any) {\n        this.itemId = $stateParams.itemid;\n\n        // defects\n        defectResource.defectsByItemId($stateParams.itemid).then(function (data) {\n            this.defects = data;\n        });\n    }\n}\n</code></pre>\n\n<p>In this case I have <code>itemId</code> variable in my view, but I don't have <code>defects</code> variable.  As I see the reason of this is that <code>this</code> is the <code>Window</code> in the promise.</p>\n\n<p>So I have fix my code like this (and now it is working):</p>\n\n<pre><code>class DefectListController implements IDefectListModel {\n    itemId: string;\n    defects: any[];\n\n    static $inject = ['$stateParams', 'defectResource'];\n\n    constructor($stateParams: any, defectResource: any) {\n        var self = this;\n        this.itemId = $stateParams.itemid;\n\n        // defects\n        defectResource.defectsByItemId($stateParams.itemid).then(function (data) {\n            self.defects = data;\n        });\n    }\n}\n</code></pre>\n\n<p>I am just wondering is it a good solution?  Or may be there is a better way to do it?</p>\n"}, {"tags": ["javascript", "module", "typescript", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 775, "user_id": 3021445, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100000914420897/picture?type=large", "display_name": "aspirisen", "link": "https://stackoverflow.com/users/3021445/aspirisen"}, "edited": false, "score": 0, "creation_date": 1449478809, "post_id": 34124286, "comment_id": 56007377, "body": "Yes, webpack increased the modules indexes by one. Is there some plugin to set priority of some modules, or tell webpack to load this module first of all?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 3, "last_activity_date": 1449445586, "last_edit_date": 1592644375, "creation_date": 1449445586, "answer_id": 34124286, "question_id": 34124205, "link": "https://stackoverflow.com/questions/34124205/webpack-makes-invalid-bundle-when-change-the-modules-name-case/34124286#34124286", "title": "Webpack makes invalid bundle when change the module&#39;s name case", "body": "<blockquote>\n<p>why does webpack behaves different with case-sensitive name in case-insensitive environment</p>\n</blockquote>\n<p>The true enviroment for webpack is the web and the web is case sensitive. Also it's probably just ordering e.g. alphabetically and that will change the ordering with changing names.</p>\n<blockquote>\n<p>The problem is in inheritance. I use TypeScript and the error is that I try to extend from undefined</p>\n</blockquote>\n<p>You might have a <em>circular</em> reference in there. The fact that it worked before is conincidental (e.g. the ordering by file names satisfied what was expected).</p>\n<h1>Fix</h1>\n<p>Remove the circular reference. E.g. use atom-typescript to find it : <a href=\"https://github.com/TypeStrong/atom-typescript/blob/master/docs/dependency-view.md#circular\" rel=\"nofollow noreferrer\">https://github.com/TypeStrong/atom-typescript/blob/master/docs/dependency-view.md#circular</a></p>\n"}], "owner": {"reputation": 775, "user_id": 3021445, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/100000914420897/picture?type=large", "display_name": "aspirisen", "link": "https://stackoverflow.com/users/3021445/aspirisen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449477491, "creation_date": 1449444887, "last_edit_date": 1449477491, "question_id": 34124205, "link": "https://stackoverflow.com/questions/34124205/webpack-makes-invalid-bundle-when-change-the-modules-name-case", "title": "Webpack makes invalid bundle when change the module&#39;s name case", "body": "<p>it may sounds strange, but when I change the module name in my application, webpack changes the bundle output and makes it wrong. I have windows, it means that module paths should be case insensitive and the bundles must be the same all the time. Webpack shows me that some modules have ambiguous names and it can affect if you are using case-sensitive OS, but nevertheless the bundle works correct. </p>\n\n<p>Then I fixed by changing the names in <code>require</code> from lower-case <code>component</code> to uppercase <code>Component</code> and after that webpack begins making invalid bundle, and there are a lot of diffs if you compare these two output bundles. My questions are: why does webpack behave different with case-sensitive names in case-insensitive environment and how to fix it? Maybe it changes the modules order or something like this.\nP.S. The app is big: ~2.5 mb.\nP.S.S. The problem is in inheritance. I use TypeScript and the error is that I try to extend from undefined.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1449442830, "creation_date": 1449442830, "answer_id": 34123921, "question_id": 34121668, "link": "https://stackoverflow.com/questions/34121668/scope-vs-instance-variables-and-methods-in-controller/34123921#34123921", "title": "$scope vs instance variables and methods in controller", "body": "<blockquote>\n  <p>If I am using AngularJS with TypeScript the best way is not use $scope variables and methods and use only instance variables and methods (using this) ?</p>\n</blockquote>\n\n<p>+100. </p>\n\n<p>Key reason being that scope variables are susceptible to become disconnected due to angular's scope inheritance mechanism. Even without TypeScript it is recommended <em>not to use scope varaibles</em> and this is why the <code>controller as</code> syntax was created. </p>\n\n<p>More on Angular controllers in typescript: <a href=\"https://www.youtube.com/watch?v=WdtVn_8K17E\" rel=\"nofollow\">https://www.youtube.com/watch?v=WdtVn_8K17E</a></p>\n"}], "owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 34123921, "answer_count": 1, "score": 0, "last_activity_date": 1449442830, "creation_date": 1449430072, "question_id": 34121668, "link": "https://stackoverflow.com/questions/34121668/scope-vs-instance-variables-and-methods-in-controller", "title": "$scope vs instance variables and methods in controller", "body": "<p>I am rewriting my AngularJS application using TypeScript.  In my application I have used $scope to define variables and methods:</p>\n\n<pre><code>defectResource.defectByDefectId($scope.defectid).then(function (data) {\n   $scope.defect = data;\n});\n\n$scope.postDefect = function () {\n   defectResource.postDefect($scope.defect).then(function () {\n      $location.path('defects/' + $stateParams.itemid);\n   });\n};\n</code></pre>\n\n<p>I can rewrite my controller something like this:</p>\n\n<pre><code>interface IDefectDetailModel {\n}\n\nclass DefectDetailController implements IDefectDetailModel {\n    static $inject = ['$scope', '$stateParams', '$location', 'defectResource', 'entityProvider'];\n\n    constructor($scope: any, $stateParams: any, $location: any, defectResource: any, entityProvider: any) {\n       defectResource.defectByDefectId($scope.defectid).then(function  (data) {\n          $scope.defect = data;\n       });\n\n      $scope.postDefect = function () {\n        defectResource.postDefect($scope.defect).then(function () {\n           $location.path('defects/' + $stateParams.itemid);\n        });\n      };\n    }\n}\n</code></pre>\n\n<p>But if I understood correctly it is not good way. I need to create Interface and TypeScript class which will implement this interface. All my variables must be class variables (so <code>$scope.defectid</code> must be <code>this.defectid</code>) and all my <code>$scope</code> methods must be class methods (<code>this.postDefect()</code>).</p>\n\n<p>Do I understood correctly? If I am using AngularJS with TypeScript the best way is not use <code>$scope</code> variables and methods and use only instance variables and methods (using <code>this</code>) ?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "typescript1.5"], "comments": [{"owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "edited": false, "score": 0, "creation_date": 1449473778, "post_id": 34121045, "comment_id": 56005038, "body": "Your example is long and there is a blank line on line 101 of your sample. I guess that&#39;s why nobody had a look into your issue. Just mark where the error occurs in your code."}], "answers": [{"tags": [], "owner": {"reputation": 12891, "user_id": 5630778, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3yro_KhP3ds/AAAAAAAAAAI/AAAAAAAAACE/mDQEhphwsL0/photo.jpg?sz=128", "display_name": "Slava Utesinov", "link": "https://stackoverflow.com/users/5630778/slava-utesinov"}, "is_accepted": false, "score": 0, "last_activity_date": 1449484176, "creation_date": 1449484176, "answer_id": 34131394, "question_id": 34121045, "link": "https://stackoverflow.com/questions/34121045/typescript-angular-d-ts-defently-typed-with-ng-ipromise/34131394#34131394", "title": "typescript: angular.d.ts defently typed with ng.IPromise", "body": "<p>Inside resolve method you should pass variable of type: </p>\n\n<pre><code>Array&lt;app.search.entities.IResult&gt;\n</code></pre>\n\n<p>not of type:</p>\n\n<pre><code>ng.IPromise&lt;Array&lt;app.search.entities.IResult&gt;&gt;.\n</code></pre>\n\n<p>Your code will be correct if you write something like this:</p>\n\n<pre><code>this._search(query).then((data)=&gt;{\n     deferred.resolve(data);\n});\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>deferred.resolve(this._search(query));\n</code></pre>\n\n<p>It will be compiled, but I don't know your code logic, tune it itself.</p>\n"}], "owner": {"reputation": 789, "user_id": 1647228, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/63b0fc0e5535446f8986dff3f4860c62?s=128&d=identicon&r=PG", "display_name": "roman", "link": "https://stackoverflow.com/users/1647228/roman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1012, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449484176, "creation_date": 1449426652, "last_edit_date": 1449473435, "question_id": 34121045, "link": "https://stackoverflow.com/questions/34121045/typescript-angular-d-ts-defently-typed-with-ng-ipromise", "title": "typescript: angular.d.ts defently typed with ng.IPromise", "body": "<p>I'm getting this ts error while I'm trying to chain ng.IPromise function calls:</p>\n\n<pre><code>Error:(101, 23) TS2345: Argument of type 'IPromise&lt;IResult[]&gt;' is not assignable to parameter of type 'IResult[]'. Property 'length' is missing in type 'IPromise&lt;IResult[]&gt;'.\n</code></pre>\n\n<p>Code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public search(stateParams : any, page : any) : ng.IPromise&lt;Array&lt;app.search.entities.IResult&gt;&gt; {\r\n\r\n\t// create promise\r\n\tlet deferred : ng.IDeferred&lt;Array&lt;app.search.entities.IResult&gt;&gt; = this.$q.defer();\r\n\r\n\t// ensure page is a number\r\n\tpage = (isNaN(page))\t?\t1\t:\tparseInt(page, 10);\r\n\r\n\t// create query\r\n\tthis.searchServiceSearchQuery.getQuery(\r\n\t\tstateParams,\r\n\t\tthis._itemsPerPage,\r\n\t\t(page * this._itemsPerPage) - this._itemsPerPage,\r\n\t\tnull\r\n\t).then(\r\n\t\t(query : any) : void =&gt; {\r\n\r\n\t\t\t// search\r\n\t\t\tdeferred.resolve(this._search(query)); // &lt;= THIS \"this\" THROWS THE ERROR ABOVE\r\n\r\n\t\t}\r\n\t);\r\n\r\n\t// return promise\r\n\treturn deferred.promise;\r\n\r\n}\r\n\r\n\r\nprivate _search(query : any) : ng.IPromise&lt;Array&lt;app.search.entities.IResult&gt;&gt; {\r\n\r\n// create deferred\r\nlet deferred : ng.IDeferred&lt;Array&lt;app.search.entities.IResult&gt;&gt; = this.$q.defer();\r\n\r\n// run query\r\nthis.coreServiceRestangularHelpmeSearch\r\n\t.one('search')\r\n\t.get({q : query})\r\n\t.then(\r\n\t\t(data : any) : void =&gt; {\r\n\r\n\t\t\t// found results\r\n\t\t\tif (\r\n\t\t\t\tdata !== null &amp;&amp;\r\n\t\t\t\t'results' in data === true\r\n\t\t\t) {\r\n\r\n\t\t\t\t// create entities\r\n\t\t\t\tlet entities : Array&lt;app.search.entities.IResult&gt; = [];\r\n\r\n\t\t\t\t// walk through all results\r\n\t\t\t\tdata.results.forEach((result : any) : void =&gt; {\r\n\r\n\t\t\t\t\t// create entity\r\n\t\t\t\t\tlet entity : app.search.entities.IResult = new app.search.entities.Result(\r\n\t\t\t\t\t\tresult.id,\r\n\t\t\t\t\t\tresult.cat1Ids[0],\r\n\t\t\t\t\t\tresult.cat2Ids[0],\r\n\t\t\t\t\t\tresult.cat3Ids[0],\r\n\t\t\t\t\t\tresult.typeCode,\r\n\t\t\t\t\t\t(result.sort) \t\t\t?\tparseInt(result.sort, 10)\t:\tnull,\r\n\t\t\t\t\t\tresult.title,\r\n\t\t\t\t\t\tresult.description,\r\n\t\t\t\t\t\tthis.$sce.trustAsHtml(result.summary),\r\n\t\t\t\t\t\tfalse\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tentities.push(entity);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// sort all by sort key\r\n\t\t\t\tentities.sort(\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\ta : app.search.entities.IResult,\r\n\t\t\t\t\t\tb : app.search.entities.IResult\r\n\t\t\t\t\t) : number =&gt; {\r\n\r\n\t\t\t\t\t\tif (a.getSortKey() &gt; b.getSortKey()) {\r\n\r\n\t\t\t\t\t\t\treturn 1;\r\n\r\n\t\t\t\t\t\t} else if (a.getSortKey() &lt; b.getSortKey()) {\r\n\r\n\t\t\t\t\t\t\treturn -1;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn 1;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t);\r\n\r\n\t\t\t\tdeferred.resolve(this._extendResults(entities));\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// return empty object\r\n\t\t\tdeferred.reject('invalid api response');\r\n\r\n\t\t},\r\n\t\t() : any =&gt;  {\r\n\r\n\t\t\tdeferred.reject('failed to fetch search results');\r\n\r\n\t\t}\r\n\r\n\t)\r\n\r\n;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Do I do something wrong or is there an issue with the def-typed file? If I change the generic of the <code>_search()</code> function to <code>any</code>, everything looks fine.</p>\n"}, {"tags": ["visual-studio", "cordova", "typescript", "visual-studio-2015", "win-universal-app"], "answers": [{"comments": [{"owner": {"reputation": 1530, "user_id": 3194577, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/100003225543131/picture?type=large", "display_name": "Fabis", "link": "https://stackoverflow.com/users/3194577/fabis"}, "edited": false, "score": 1, "creation_date": 1449485519, "post_id": 34123936, "comment_id": 56011387, "body": "Well, I tried finding any places with TypeScriptCompile, and the only file that had it was CordovaApp.projitems, instead of the solution file and the line looked like this - &lt;TypeScriptCompile Include=&quot;$(MSBuildThisFileDirectory)www**&quot; /&gt;. After changing it and reloading the solution, though, it didn&#39;t seem to work and when saving the solution it even reverted that line back."}, {"owner": {"reputation": 1530, "user_id": 3194577, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/100003225543131/picture?type=large", "display_name": "Fabis", "link": "https://stackoverflow.com/users/3194577/fabis"}, "edited": false, "score": 1, "creation_date": 1449485923, "post_id": 34123936, "comment_id": 56011616, "body": "It also looks like I can&#39;t change the Package Action of each file manually - it immediately reverts back to TypeScriptCompile."}, {"owner": {"reputation": 1370, "user_id": 1370216, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2KrS.jpg?s=128&g=1", "display_name": "Caspian Canuck", "link": "https://stackoverflow.com/users/1370216/caspian-canuck"}, "edited": false, "score": 0, "creation_date": 1529080453, "post_id": 34123936, "comment_id": 88761190, "body": "Removing the <code>&lt;TypeScriptCompile&gt;</code> nodes fixes the issue but also drops the files from the project, so you have to re-add them manually as existing items and then VS adds them correctly without flagging them as TS."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 3, "last_activity_date": 1449442920, "creation_date": 1449442920, "answer_id": 34123936, "question_id": 34120636, "link": "https://stackoverflow.com/questions/34120636/visual-studio-thinks-everything-is-a-typescript-resource/34123936#34123936", "title": "Visual Studio thinks everything is a TypeScript resource", "body": "<blockquote>\n  <p>and it does that because for some reason all of those files in their properties have 'Package Action' set to TypeScriptCompile.</p>\n</blockquote>\n\n<p>Just remove the <code>&lt;TypeScriptCompile ...</code> keys from the solution by raw editing it. They are probably also already present as <code>&lt;Content ...</code> which is what you need.</p>\n"}, {"comments": [{"owner": {"reputation": 1487, "user_id": 623396, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f380f9f1d9de22f6e91e13ad2049dd53?s=128&d=identicon&r=PG&f=1", "display_name": "user623396", "link": "https://stackoverflow.com/users/623396/user623396"}, "edited": false, "score": 0, "creation_date": 1456761702, "post_id": 34812740, "comment_id": 59084558, "body": "I banged my head for days because of this. You&#39;re a genius!"}, {"owner": {"reputation": 6834, "user_id": 1335996, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4957db941985caa006a31017e799e728?s=128&d=identicon&r=PG", "display_name": "psycho brm", "link": "https://stackoverflow.com/users/1335996/psycho-brm"}, "edited": false, "score": 0, "creation_date": 1511735721, "post_id": 34812740, "comment_id": 81959158, "body": "This just worked for me while building cordova app for windows platform. Thanks."}], "tags": [], "owner": {"reputation": 901, "user_id": 1033865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f77514241da280070c0b045a3bb7bf4?s=128&d=identicon&r=PG", "display_name": "Pavel Kozlov", "link": "https://stackoverflow.com/users/1033865/pavel-kozlov"}, "is_accepted": false, "score": 13, "last_activity_date": 1452878511, "last_edit_date": 1452878511, "creation_date": 1452866458, "answer_id": 34812740, "question_id": 34120636, "link": "https://stackoverflow.com/questions/34120636/visual-studio-thinks-everything-is-a-typescript-resource/34812740#34812740", "title": "Visual Studio thinks everything is a TypeScript resource", "body": "<p>Looks like you have a <strong>TypeScript</strong> file somewhere inside the folder you are adding using the <strong>wildcard</strong>. Don't know why but MSVS changes <strong>Content</strong> type to <strong>TypeScriptCompile</strong> for the whole bunch of the files found by the wildcard you provide inside the folder.</p>\n\n<p>In my case I had <code>angular-ui-router.d.ts</code> file inside <code>www\\lib\\angular-ui-router\\api</code>.</p>\n\n<p>Resolved by adding <strong>Exclude</strong> directive in CordovaApp.projitems file:</p>\n\n<pre><code>&lt;Content Include=\"www\\**\" Exclude=\"**\\*.ts\" /&gt;\n</code></pre>\n\n<p>Also note that <strong>$(MSBuildThisFileDirectory)</strong> should be removed from the path since it magically breaks the trick.</p>\n"}, {"tags": [], "owner": {"reputation": 460, "user_id": 3188328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a113e522167aac4308cc8a4cfa6571d?s=128&d=identicon&r=PG", "display_name": "cadesalaberry", "link": "https://stackoverflow.com/users/3188328/cadesalaberry"}, "is_accepted": false, "score": 0, "last_activity_date": 1487168660, "creation_date": 1487168660, "answer_id": 42252006, "question_id": 34120636, "link": "https://stackoverflow.com/questions/34120636/visual-studio-thinks-everything-is-a-typescript-resource/42252006#42252006", "title": "Visual Studio thinks everything is a TypeScript resource", "body": "<p>@Pavel Kozlov's solution worked wonderfully for me.</p>\n\n<p>If you are using Cordova, you can use the following script to have it done automatically:</p>\n\n<p><code>./reset_windows.sh</code></p>\n\n<pre><code>cordova platform rm windows\ncordova platform add windows\nsed -i '9s/.*/        &lt;Content Include=\"www\\\\**\" Exclude=\"**\\\\*.ts\" \\/&gt;/' platforms/windows/CordovaApp.projitems\n</code></pre>\n\n<p>Make sure the old line you want to replace is actually line 9 as the <code>9s</code> says at the beginning of the command.</p>\n"}, {"tags": [], "owner": {"reputation": 521, "user_id": 8743781, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Xsymw6byCPw/AAAAAAAAAAI/AAAAAAAAAAs/bp26XfA-lrA/photo.jpg?sz=128", "display_name": "Nidust", "link": "https://stackoverflow.com/users/8743781/nidust"}, "is_accepted": false, "score": 1, "last_activity_date": 1553156016, "creation_date": 1553156016, "answer_id": 55276135, "question_id": 34120636, "link": "https://stackoverflow.com/questions/34120636/visual-studio-thinks-everything-is-a-typescript-resource/55276135#55276135", "title": "Visual Studio thinks everything is a TypeScript resource", "body": "<p>According to <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">this</a> you should have set <strong>\"allowJs\": true</strong> inside your <strong>tsconfig.json</strong> to allow .js extension.</p>\n\n<p>Hope this help!</p>\n\n<pre><code>\"compilerOptions\": {\n    \"noImplicitAny\": false,\n    \"noEmitOnError\": true,\n    \"removeComments\": false,\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"outDir\": \"./scripts/\",\n    \"allowJs\": true\n  }\n</code></pre>\n"}], "owner": {"reputation": 1530, "user_id": 3194577, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/100003225543131/picture?type=large", "display_name": "Fabis", "link": "https://stackoverflow.com/users/3194577/fabis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2748, "favorite_count": 7, "answer_count": 4, "score": 12, "last_activity_date": 1553156016, "creation_date": 1449424248, "question_id": 34120636, "link": "https://stackoverflow.com/questions/34120636/visual-studio-thinks-everything-is-a-typescript-resource", "title": "Visual Studio thinks everything is a TypeScript resource", "body": "<p>I'm using Cordova to build an app, and I'm trying to get a Windows app to build. Using the Cordova CLI didn't yield any good results, so I tried to build the Visual Studio solution in the platforms/windows folder.</p>\n\n<p>The problem is that it fails building and returns a long list of errors all of which pretty much just say something similar to this:</p>\n\n<blockquote>\n  <p><strong>TS6054</strong>    Build: File 'C:/Code/ProjectClosr/Cordova\n  App/platforms/windows/www/Gruntfile.js' has unsupported extension. The\n  only supported extensions are '.ts', '.tsx', '.d.ts'.</p>\n</blockquote>\n\n<p>Now, turns out that it thinks all of these files are TypeScript files, even though they are just Readme's, JavaScript files, CSS files etc. and it does that because for some reason all of those files in their properties have 'Package Action' set to <strong>TypeScriptCompile</strong>. Now, I didn't create this solution obviously, it was autogenerated by Cordova, but I need a way to fix this by somehow setting the 'Package Action' property for all of them back to their real values, instead of everything being a TypeScript resource.</p>\n\n<p>How would I go about doing that?</p>\n"}, {"tags": ["javascript", "typescript", "aurelia"], "answers": [{"comments": [{"owner": {"reputation": 5881, "user_id": 1226568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f9719051130e332ffe997958cfb935e0?s=128&d=identicon&r=PG", "display_name": "MaYaN", "link": "https://stackoverflow.com/users/1226568/mayan"}, "edited": false, "score": 1, "creation_date": 1449423813, "post_id": 34120278, "comment_id": 55989881, "body": "Great, I just looked at your other answer at: <a href=\"http://stackoverflow.com/questions/33452623/aurelia-trying-to-load-html-from-select2\" title=\"aurelia trying to load html from select2\">stackoverflow.com/questions/33452623/&hellip;</a> which looks like a much better solution. although I have a question about hooking up to the <code>change</code> event which I have now asked there."}, {"owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 1, "creation_date": 1470410540, "post_id": 34120278, "comment_id": 64955742, "body": "I just tried this and it didn&#39;t seem to work. I updated the <code>tsconfig.json</code>, changing <code>&quot;target&quot;: &quot;es5&quot;</code> to <code>&quot;target&quot;: &quot;es6&quot;</code>. I&#39;m using Visual Studio Code. I closed it and reopened it and still have no luck. Any other suggestions?"}], "tags": [], "owner": {"reputation": 25584, "user_id": 725866, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cbede50c0d1034b1b4453b2d426542e7?s=128&d=identicon&r=PG", "display_name": "Jeremy Danyow", "link": "https://stackoverflow.com/users/725866/jeremy-danyow"}, "is_accepted": true, "score": 1, "last_activity_date": 1449422125, "creation_date": 1449422125, "answer_id": 34120278, "question_id": 34120071, "link": "https://stackoverflow.com/questions/34120071/typescript-error-ts2339-property-customevent-does-not-exist-on-type-window/34120278#34120278", "title": "TypeScript: error TS2339: Property &#39;CustomEvent&#39; does not exist on type &#39;Window&#39;", "body": "<p><code>CustomEvent</code> is defined in <a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.es6.d.ts#L6678\" rel=\"nofollow\"><code>lib.es6.d.ts</code></a></p>\n\n<p>Configuring the typescript compilation to target ES6 will fix this issue.  You may need to close and re-open your IDE after making this change.</p>\n"}], "owner": {"reputation": 5881, "user_id": 1226568, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f9719051130e332ffe997958cfb935e0?s=128&d=identicon&r=PG", "display_name": "MaYaN", "link": "https://stackoverflow.com/users/1226568/mayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5525, "favorite_count": 0, "accepted_answer_id": 34120278, "answer_count": 1, "score": 0, "last_activity_date": 1471269558, "creation_date": 1449420861, "last_edit_date": 1592644375, "question_id": 34120071, "link": "https://stackoverflow.com/questions/34120071/typescript-error-ts2339-property-customevent-does-not-exist-on-type-window", "title": "TypeScript: error TS2339: Property &#39;CustomEvent&#39; does not exist on type &#39;Window&#39;", "body": "<p>I am trying to write a custom element in <code>Aurelia</code> using <code>TypeScript</code> following <a href=\"http://ilikekillnerds.com/2015/08/aurelia-custom-element-using-select2-tutorial/\" rel=\"nofollow noreferrer\">THIS</a> guide.</p>\n<p>However when trying to compile I am getting the following error:</p>\n<blockquote>\n<p>error TS2339: Property 'CustomEvent' does not exist on type 'Window'.</p>\n<p>error TS2339: Property 'val' does not exist on type 'Event'.</p>\n</blockquote>\n<p>My class is:</p>\n<pre><code>import {bindable, autoinject, customElement} from 'aurelia-framework';\n\nimport * as $ from 'jquery';\nimport 'select2';\nimport 'select2/css/select2.css!';\n\n@customElement('select2')\n@autoinject\nexport class CustomSelect{\n    @bindable name:string;\n    @bindable selected: boolean = false;\n    @bindable options: any;\n    element: Element;\n    \n    constructor(element: Element){\n        this.element = element;\n    }\n    \n    attached() :void {\n        $(this.element)\n            .find('select')\n            .select2()\n            .on('change', ev =&gt; {\n                let changeEvent;\n                if(window.CustomEvent){\n                    changeEvent = new CustomEvent('change', {\n                        detail: {\n                            value: ev.val\n                        },\n                        bubbles: true\n                    });\n                } else {\n                    changeEvent = document.createEvent('CustomEvent');\n                    changeEvent.initCustomEvent('change', true, true, {value: event.val});\n                }\n                this.element.dispatchEvent(changeEvent);\n            }); \n    }\n}\n</code></pre>\n"}, {"tags": ["gruntjs", "typescript", "web-deployment", "angular", "systemjs"], "comments": [{"owner": {"reputation": 1072, "user_id": 1566051, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WQxpi.jpg?s=128&g=1", "display_name": "Dafen", "link": "https://stackoverflow.com/users/1566051/dafen"}, "edited": false, "score": 0, "creation_date": 1449427219, "post_id": 34119720, "comment_id": 55991024, "body": "I have tried to reproduce the problem with the quick tour problem. Have a look: <a href=\"http://www.filedropper.com/example_1\" rel=\"nofollow noreferrer\">filedropper.com/example_1</a> (run npm install, npm run tsc and npm run start)"}, {"owner": {"reputation": 404, "user_id": 2257586, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1b4c1c760861a5f0a058f70f1816f840?s=128&d=identicon&r=PG", "display_name": "DiSol", "link": "https://stackoverflow.com/users/2257586/disol"}, "edited": false, "score": 0, "creation_date": 1449914356, "post_id": 34119720, "comment_id": 56219545, "body": "I&#39;m having the same problem - did you found a solution?"}, {"owner": {"reputation": 13080, "user_id": 553609, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c0eacc2216ee78427fa0774c5ae419bf?s=128&d=identicon&r=PG", "display_name": "Mathias Lykkegaard Lorenzen", "link": "https://stackoverflow.com/users/553609/mathias-lykkegaard-lorenzen"}, "edited": false, "score": 0, "creation_date": 1454528600, "post_id": 34119720, "comment_id": 58089436, "body": "I want to get this running as well - I put a bounty on it."}], "answers": [{"comments": [{"owner": {"reputation": 13080, "user_id": 553609, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c0eacc2216ee78427fa0774c5ae419bf?s=128&d=identicon&r=PG", "display_name": "Mathias Lykkegaard Lorenzen", "link": "https://stackoverflow.com/users/553609/mathias-lykkegaard-lorenzen"}, "edited": false, "score": 0, "creation_date": 1454528638, "post_id": 34154508, "comment_id": 58089457, "body": "This didn&#39;t help me unfortunately. It breaks the &quot;node&quot; type of importing modules when combining it with TypeScript. Angular imports the core now, but it then refers to other paths that cannot be found."}, {"owner": {"reputation": 921, "user_id": 3173072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b246a36d83ed5d290dd761d02c8a58bf?s=128&d=identicon&r=PG&f=1", "display_name": "Camille Wintz", "link": "https://stackoverflow.com/users/3173072/camille-wintz"}, "reply_to_user": {"reputation": 13080, "user_id": 553609, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c0eacc2216ee78427fa0774c5ae419bf?s=128&d=identicon&r=PG", "display_name": "Mathias Lykkegaard Lorenzen", "link": "https://stackoverflow.com/users/553609/mathias-lykkegaard-lorenzen"}, "edited": false, "score": 0, "creation_date": 1454678625, "post_id": 34154508, "comment_id": 58164790, "body": "Are you using commonjs as module when compiling? You need to set the flag system."}, {"owner": {"reputation": 9156, "user_id": 1384767, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/090e14a4c7cd719dc87e1d757b56e90e?s=128&d=identicon&r=PG", "display_name": "Gerben Rampaart", "link": "https://stackoverflow.com/users/1384767/gerben-rampaart"}, "edited": false, "score": 0, "creation_date": 1461783611, "post_id": 34154508, "comment_id": 61361377, "body": "+1. This worked for me. My use case was that I had my node_modules in the root and subdirectories in the each contain an angular2 app (and thus a systemjs config). Note that I also had to include the rxjs reference."}], "tags": [], "owner": {"reputation": 921, "user_id": 3173072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b246a36d83ed5d290dd761d02c8a58bf?s=128&d=identicon&r=PG&f=1", "display_name": "Camille Wintz", "link": "https://stackoverflow.com/users/3173072/camille-wintz"}, "is_accepted": false, "score": 2, "last_activity_date": 1449573497, "creation_date": 1449573497, "answer_id": 34154508, "question_id": 34119720, "link": "https://stackoverflow.com/questions/34119720/angular2-0-in-subdirectory-systemjs-cant-import-angular-components/34154508#34154508", "title": "Angular2.0 in subdirectory, SystemJS cant import angular components", "body": "<p>You can set paths for each library :</p>\n\n<pre><code>System.paths = {\n    'angular2/*': '/talent/node_modules/angular2/*',\n    'app/*': '/talent/app/*'\n};\n</code></pre>\n\n<p>Does this work for you?</p>\n"}, {"tags": [], "owner": {"reputation": 12083, "user_id": 1905476, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/373f5f5d7dc27b9d2fb733e5e73dceb9?s=128&d=identicon&r=PG", "display_name": "SnareChops", "link": "https://stackoverflow.com/users/1905476/snarechops"}, "is_accepted": false, "score": 1, "last_activity_date": 1454544035, "creation_date": 1454544035, "answer_id": 35190135, "question_id": 34119720, "link": "https://stackoverflow.com/questions/34119720/angular2-0-in-subdirectory-systemjs-cant-import-angular-components/35190135#35190135", "title": "Angular2.0 in subdirectory, SystemJS cant import angular components", "body": "<p><code>'angular2/angular2'</code> has been deprecated. Your code should reference <code>'angular2/core'</code> or the appropriate module for your imports.</p>\n\n<p>You should also not need to specify the path for the angular2 imports in your <code>System.config</code> as System will load them in from the <code>&lt;script&gt;</code> tag you have in the HTML.</p>\n\n<p>You are most likely receiving the 404 error because the <code>angular2.dev.js</code> file is loading <code>'angular2/core'</code>, <code>'angular2/common'</code>, <code>'angular2/platform/browser'</code>, etc... and you are referencing <code>'angular2/angular2'</code> which is not being registered and therefor SystemJS is attempting to go out and find it.</p>\n\n<p>Change all of your <code>import {...} from 'angular2/angular2'</code> to the correct module import as well. You can find these on the API Preview page of angular.io, or hopefully your IDE will find it for you.</p>\n"}, {"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 1, "last_activity_date": 1454589412, "last_edit_date": 1454589412, "creation_date": 1454579002, "answer_id": 35197481, "question_id": 34119720, "link": "https://stackoverflow.com/questions/34119720/angular2-0-in-subdirectory-systemjs-cant-import-angular-components/35197481#35197481", "title": "Angular2.0 in subdirectory, SystemJS cant import angular components", "body": "<p>I don't know which version of Angular2 you use but now with beta versions you should use these Angular2 modules:</p>\n\n<pre><code>import {bootstrap} from 'angular2/platform/browser';\nimport {Component} from 'angular2/core';\n</code></pre>\n\n<p>Then you need to configure SystemJS as described below:</p>\n\n<pre><code>&lt;script&gt;\n  System.config({\n    map: {\n      app: 'talent/app'\n    },\n    packages: {        \n      app: {\n        format: 'register',\n        defaultExtension: 'js'\n      }\n    }\n  });\n  System.import('app/boot')\n        .then(null, console.error.bind(console));\n&lt;/script&gt;\n</code></pre>\n\n<p>With this configuration, when trying to load the <code>app/boot</code> module, SystemJS will load the <code>talent/app/boot.js</code> file that was compiled before from the <code>talent/app/boot.ts</code> file. This behavior applies to all elements under the <code>app</code> module but not to other ones.</p>\n\n<p>Modules like <code>angular2/*</code> will be found from files <code>talent/node_modules/angular2/bundles/[something].js</code> you included using <code>&lt;script&gt;</code> tags.</p>\n\n<p>I made some tests and this configuration works for me ;-)</p>\n\n<p>Thierry</p>\n"}, {"comments": [{"owner": {"reputation": 4397, "user_id": 3935218, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/BYoVt.png?s=128&g=1", "display_name": "Joshua Ohana", "link": "https://stackoverflow.com/users/3935218/joshua-ohana"}, "edited": false, "score": 0, "creation_date": 1486135692, "post_id": 35854918, "comment_id": 71229355, "body": "thanks @runmarkets! Very happy I found your answer here for my similar issue"}], "tags": [], "owner": {"reputation": 181, "user_id": 5066417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6052e4a6a82ae9baba7fc6d7f6f9c0b6?s=128&d=identicon&r=PG", "display_name": "runmarkets", "link": "https://stackoverflow.com/users/5066417/runmarkets"}, "is_accepted": false, "score": 3, "last_activity_date": 1457387982, "creation_date": 1457387982, "answer_id": 35854918, "question_id": 34119720, "link": "https://stackoverflow.com/questions/34119720/angular2-0-in-subdirectory-systemjs-cant-import-angular-components/35854918#35854918", "title": "Angular2.0 in subdirectory, SystemJS cant import angular components", "body": "<p>Had this exact same problem, and just figured it out after several hours. The System config baseURL needs to be set BEFORE angular2.dev.js is loaded. This is because the System.register calls need to be aware of the baseURL at the time of registrations.</p>\n\n<p>e.g.</p>\n\n\n\n<p>System.config({ baseURL: '/talent' });</p>\n\n\n\n<p>A cleaner way is to just add System.config({ baseURL: '/talent' }) to the very bottom of the system.src.js file.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 2499264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cba1df35c865fb8134ef9bb12b13341?s=128&d=identicon&r=PG", "display_name": "user2499264", "link": "https://stackoverflow.com/users/2499264/user2499264"}, "is_accepted": false, "score": 0, "last_activity_date": 1461383911, "creation_date": 1461383911, "answer_id": 36806477, "question_id": 34119720, "link": "https://stackoverflow.com/questions/34119720/angular2-0-in-subdirectory-systemjs-cant-import-angular-components/36806477#36806477", "title": "Angular2.0 in subdirectory, SystemJS cant import angular components", "body": "<p>I stumbled upon this question when trying to move from a local (dev) environment to a hosted server (CentOS) where the deployed URLs were all different to my local host.  If you're in this situation and the accepted answer doesn't solve your problem (I was already importing the updated imports with Angular2 Beta 15) and using baseURL messes other things up (as it did in my situation) then use:</p>\n\n<pre><code>map: {\n    app: 'path/to/app/folder'\n},\n</code></pre>\n\n<p>I saw this here and it worked for me (even though it was originally answering a MAMP environment question): <a href=\"https://stackoverflow.com/questions/34323219/troubles-with-importing-classes-from-angular-2-modules-with-typescript-1-7/35837899#35837899\">Troubles with importing classes from Angular 2 modules with Typescript 1.7</a></p>\n"}, {"tags": [], "owner": {"reputation": 8109, "user_id": 228369, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6329cc10bb7d03a435e9c5574f6edd5f?s=128&d=identicon&r=PG", "display_name": "chrismarx", "link": "https://stackoverflow.com/users/228369/chrismarx"}, "is_accepted": false, "score": 0, "last_activity_date": 1473538780, "creation_date": 1473538780, "answer_id": 39430238, "question_id": 34119720, "link": "https://stackoverflow.com/questions/34119720/angular2-0-in-subdirectory-systemjs-cant-import-angular-components/39430238#39430238", "title": "Angular2.0 in subdirectory, SystemJS cant import angular components", "body": "<p>Here's what worked for us:</p>\n\n<p>Make the base ref point to the subdirectory containing the angular project. This will ensure that all the node_module dependencies are found, etc.\nConfigure the PathLocationStrategy with a different APP_BASE_HREF so that html5 mode still works for the actual angular app.</p>\n\n<pre><code>bootstrap(AppComponent, [..... bind(APP_BASE_HREF).toValue(\"/yardmap/planning\")\n</code></pre>\n\n<p>ref: <a href=\"https://angular.io/docs/ts/latest/api/common/index/APP_BASE_HREF-let.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/api/common/index/APP_BASE_HREF-let.html</a></p>\n\n<p>ref: <a href=\"https://angular.io/docs/ts/latest/guide/router.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/guide/router.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 3684774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbcc6206d1f946ed3bae7fc6b7aa917d?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/3684774/stephen"}, "is_accepted": false, "score": 0, "last_activity_date": 1494865305, "creation_date": 1494865305, "answer_id": 43984421, "question_id": 34119720, "link": "https://stackoverflow.com/questions/34119720/angular2-0-in-subdirectory-systemjs-cant-import-angular-components/43984421#43984421", "title": "Angular2.0 in subdirectory, SystemJS cant import angular components", "body": "<p><strong>base href</strong>\nMost routing applications should add a  element to the <strong>index.html</strong> as the first child in the  tag to tell the router how to compose navigation URLs.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n \r\n&lt;head lang=\"en\"&gt;\r\n    &lt;base href=\"/talent/\"&gt;\r\n    ......\r\n&lt;/head&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1072, "user_id": 1566051, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WQxpi.jpg?s=128&g=1", "display_name": "Dafen", "link": "https://stackoverflow.com/users/1566051/dafen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5093, "favorite_count": 0, "answer_count": 7, "score": 12, "last_activity_date": 1494865305, "creation_date": 1449418981, "last_edit_date": 1463707741, "question_id": 34119720, "link": "https://stackoverflow.com/questions/34119720/angular2-0-in-subdirectory-systemjs-cant-import-angular-components", "title": "Angular2.0 in subdirectory, SystemJS cant import angular components", "body": "<p>I am getting started with Angular2.0. I have been following the 5 Min Quickstart and everything works fine although I am using <code>grunt</code> to compile my Typescript and some Sass etc.</p>\n\n<p>I just have one problem I cant solve by myself. I want to move all the public files (generated Javascript and production node modules into a subdirectory. I need to have that, because I run different applications unter the same domian. The frontend depends on the user type that logged in. (backend is written with phalcon)</p>\n\n<p><strong>This is my public folder</strong> (the webserver's root)</p>\n\n<p><a href=\"https://i.stack.imgur.com/EAAxz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EAAxz.png\" alt=\"public folder\"></a></p>\n\n<p>So the whole Angular applications should live <strong>inside the \"talent\" directory.</strong></p>\n\n<p>The \"index.html\" contains the following:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"/talent/node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/talent/node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n    System.config({\n        baseURL: '/talent',\n        packages: {'app': {defaultExtension: 'js',}}\n    });\n    System.import('app/app');\n&lt;/script&gt;\n</code></pre>\n\n<p>SystemJs is able to load my app.js file correctly but then trys to import angular2: </p>\n\n<pre><code>import {bootstrap, Component} from 'angular2/angular2'; \n</code></pre>\n\n<p>Corresponding Javascript:</p>\n\n<pre><code>var angular2_1 = require('angular2/angular2');\n</code></pre>\n\n<p>This sends a request to <code>http://example.dev/talent/angular2/angular2</code> resulting in an 404 error.</p>\n\n<p>When I move the node_modules folder and the app folder to the webserver's root and remove <code>baseURL: '/talent'</code> it works just fine. </p>\n\n<p>Here are the requests made for both the working solution (everything at root) and the not working part (everything under /talent)</p>\n\n<p>Working:\n<a href=\"https://i.stack.imgur.com/KNR6Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KNR6Z.png\" alt=\"Working example\"></a></p>\n\n<p>Not working:\n<a href=\"https://i.stack.imgur.com/fVS2a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fVS2a.png\" alt=\"not working\"></a></p>\n\n<p>Can you help me getting this to work?</p>\n"}, {"tags": ["typescript", "typescript1.6"], "answers": [{"tags": [], "owner": {"reputation": 936, "user_id": 524999, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/73dae040be822bbabd02376c9473c93b?s=128&d=identicon&r=PG", "display_name": "Eugene Bichel", "link": "https://stackoverflow.com/users/524999/eugene-bichel"}, "is_accepted": true, "score": 3, "last_activity_date": 1449430631, "last_edit_date": 1495535252, "creation_date": 1449429766, "answer_id": 34121620, "question_id": 34119270, "link": "https://stackoverflow.com/questions/34119270/should-i-use-es6-import-or-reference-path-when-loading-typescript-definition-fil/34121620#34121620", "title": "Should I use ES6 import or reference path when loading Typescript definition file?", "body": "<p>@Yudhistira Arya, as you can see from <a href=\"https://github.com/Microsoft/TypeScript/issues/2242#issuecomment-83694181\" rel=\"nofollow noreferrer\">@ahejlsberg ES6 Modules #2242 post</a></p>\n\n<blockquote>\n  <p>It is recommended that TypeScript libraries and applications be updated to use the new syntax, but this is not a requirement. The new ES6 module syntax coexists with TypeScript's original internal and external module constructs and the constructs can be mixed and matched at will.</p>\n</blockquote>\n\n<p>You can use reference tag when your application does not use node.js or require.js - this is written in <a href=\"http://www.typescriptlang.org/Handbook#modules-going-external\" rel=\"nofollow noreferrer\">typescript handbook</a>:</p>\n\n<blockquote>\n  <p>Applications not using node.js or require.js do not need to use external modules and can best be organized using the internal module concept</p>\n</blockquote>\n\n<p>Also, some information you can find <a href=\"https://stackoverflow.com/questions/29596714/new-es6-syntax-for-importing-commonjs-amd-modules-i-e-import-foo-require\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 40321, "user_id": 451634, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/360ebfce7ad37f53a1302f8e68843139?s=128&d=identicon&r=PG", "display_name": "Benny Neugebauer", "link": "https://stackoverflow.com/users/451634/benny-neugebauer"}, "is_accepted": false, "score": 3, "last_activity_date": 1467638415, "creation_date": 1467638415, "answer_id": 38185796, "question_id": 34119270, "link": "https://stackoverflow.com/questions/34119270/should-i-use-es6-import-or-reference-path-when-loading-typescript-definition-fil/38185796#38185796", "title": "Should I use ES6 import or reference path when loading Typescript definition file?", "body": "<p>If you use the latest <a href=\"https://github.com/palantir/tslint\" rel=\"nofollow\">tslint</a> standard configuration (<a href=\"https://github.com/palantir/tslint/blob/master/tslint.json\" rel=\"nofollow\">tslint:latest</a>), then it will report:</p>\n\n<p><code>&lt;reference&gt; is not allowed, use imports</code></p>\n\n<p>So it is recommended to use ES6-style imports (<a href=\"http://palantir.github.io/tslint/rules/no-reference/\" rel=\"nofollow\">source</a>).</p>\n"}], "owner": {"reputation": 2732, "user_id": 3009822, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HslzA.jpg?s=128&g=1", "display_name": "Yudhistira Arya", "link": "https://stackoverflow.com/users/3009822/yudhistira-arya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4287, "favorite_count": 0, "accepted_answer_id": 34121620, "answer_count": 2, "score": 4, "last_activity_date": 1467638415, "creation_date": 1449416593, "question_id": 34119270, "link": "https://stackoverflow.com/questions/34119270/should-i-use-es6-import-or-reference-path-when-loading-typescript-definition-fil", "title": "Should I use ES6 import or reference path when loading Typescript definition file?", "body": "<p>Would it be preferred to use ES6 import or reference path comment when loading Typescript (1.6 above) definition files? </p>\n\n<p><code>import {describe, it, expect, jasmine} from './jasmine'</code></p>\n\n<p>or </p>\n\n<p><code>import * as jasmine from './jasmine'</code></p>\n\n<p><strong>vs.</strong></p>\n\n<p><code>///&lt;reference path=\"jasmine.d.ts\"/&gt;</code></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "is_accepted": false, "score": 11, "last_activity_date": 1449426729, "last_edit_date": 1449426729, "creation_date": 1449426350, "answer_id": 34120997, "question_id": 34117191, "link": "https://stackoverflow.com/questions/34117191/tsconfig-json-only-build-ts-files-from-folder/34120997#34120997", "title": "tsconfig.json - Only build ts files from folder", "body": "<p>According to the tsconfig <a href=\"http://json.schemastore.org/tsconfig\" rel=\"noreferrer\">schema</a>:</p>\n\n<blockquote>\n  <p>\"If no 'files' property is present in a tsconfig.json, the compiler\n  defaults to including all files the containing directory and\n  subdirectories. When a 'files' property is specified, only those files\n  are included.\"</p>\n  \n  <p>\"If no 'files' property is present in a tsconfig.json, but an\n  'exclude' property is present, the compiler will exclude the files and\n  folders specified in the 'exclude' property.\"</p>\n</blockquote>\n\n<p>According to the <a href=\"https://github.com/Microsoft/typescript/wiki/tsconfig.json\" rel=\"noreferrer\">description</a>:</p>\n\n<blockquote>\n  <p>The \"files\" property cannot be used in conjunction with the \"exclude\"\n  property. If both are specified then the \"files\" property takes\n  precedence.</p>\n</blockquote>\n\n<p>The <a href=\"https://github.com/Microsoft/TypeScript/issues/1927\" rel=\"noreferrer\">issue 'support globs in tsconfig.json files property (or just file/directory exclusions)'</a> reflects current situation.  </p>\n"}, {"comments": [{"owner": {"reputation": 1380, "user_id": 1332999, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6c471493743ecfce73611d455048b880?s=128&d=identicon&r=PG", "display_name": "Michael Crook", "link": "https://stackoverflow.com/users/1332999/michael-crook"}, "edited": false, "score": 0, "creation_date": 1449438126, "post_id": 34121884, "comment_id": 55994847, "body": "I will try this when I get home. Thanks"}, {"owner": {"reputation": 936, "user_id": 524999, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/73dae040be822bbabd02376c9473c93b?s=128&d=identicon&r=PG", "display_name": "Eugene Bichel", "link": "https://stackoverflow.com/users/524999/eugene-bichel"}, "reply_to_user": {"reputation": 1380, "user_id": 1332999, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6c471493743ecfce73611d455048b880?s=128&d=identicon&r=PG", "display_name": "Michael Crook", "link": "https://stackoverflow.com/users/1332999/michael-crook"}, "edited": false, "score": 4, "creation_date": 1449438849, "post_id": 34121884, "comment_id": 55995120, "body": "Sure, @MichaelCrook. Just a note about <code>out</code> that this is option is deprecated. Now it is recommended to use <code>outFile</code>. Please see <a href=\"https://github.com/Microsoft/TypeScript/wiki/Compiler-Options\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/Compiler-Options</a>"}, {"owner": {"reputation": 16563, "user_id": 43662, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/g27U9.jpg?s=128&g=1", "display_name": "seanhodges", "link": "https://stackoverflow.com/users/43662/seanhodges"}, "edited": false, "score": 0, "creation_date": 1479200188, "post_id": 34121884, "comment_id": 68445880, "body": "Compiler options doc has been moved to: <a href=\"http://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/compiler-options.html</a>"}], "tags": [], "owner": {"reputation": 936, "user_id": 524999, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/73dae040be822bbabd02376c9473c93b?s=128&d=identicon&r=PG", "display_name": "Eugene Bichel", "link": "https://stackoverflow.com/users/524999/eugene-bichel"}, "is_accepted": true, "score": 18, "last_activity_date": 1542098763, "last_edit_date": 1542098763, "creation_date": 1449431414, "answer_id": 34121884, "question_id": 34117191, "link": "https://stackoverflow.com/questions/34117191/tsconfig-json-only-build-ts-files-from-folder/34121884#34121884", "title": "tsconfig.json - Only build ts files from folder", "body": "<p>Yes,it is possible. Please use <code>rootDir</code> like <code>'rootDir': 'app'</code>, if <code>www</code> is your root dir of your application.</p>\n\n<p><code>rootDir</code> description from <a href=\"http://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"noreferrer\">typescript compiler options</a>:</p>\n\n<blockquote>\n  <p>Specifies the root directory of input files. </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 9140268, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vnPcQHX_DOI/AAAAAAAAAAI/AAAAAAAAAAc/b_z7l-ngexs/photo.jpg?sz=128", "display_name": "XQi", "link": "https://stackoverflow.com/users/9140268/xqi"}, "is_accepted": false, "score": 3, "last_activity_date": 1514284901, "last_edit_date": 1514284901, "creation_date": 1514268596, "answer_id": 47974529, "question_id": 34117191, "link": "https://stackoverflow.com/questions/34117191/tsconfig-json-only-build-ts-files-from-folder/47974529#47974529", "title": "tsconfig.json - Only build ts files from folder", "body": "<p>The <code>rootDir</code> is just used to control the output directory structure. </p>\n\n<p>The output directory structure will be similar to your <code>rootDir</code>'s directory.\nU can use the <code>glob-like file patterns</code> to restrict your source directories:</p>\n\n<pre><code>* matches zero or more characters (excluding directory separators)\n? matches any one character (excluding directory separators)\n**/ recursively matches any subdirectory\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1590674839, "post_id": 57434522, "comment_id": 109774272, "body": "You can find more infos on <code>rootDir</code> in <a href=\"https://stackoverflow.com/questions/57422458/error-ts6059-file-is-not-under-rootdir-rootdir-is-expected-to-contain-al/57429111#57429111\">this answer</a>."}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": false, "score": 10, "last_activity_date": 1565428889, "last_edit_date": 1565428889, "creation_date": 1565370539, "answer_id": 57434522, "question_id": 34117191, "link": "https://stackoverflow.com/questions/34117191/tsconfig-json-only-build-ts-files-from-folder/57434522#57434522", "title": "tsconfig.json - Only build ts files from folder", "body": "<p>This question is a bit older, I know. But some of the TypeScript compiler options mentioned here are not necessarily helpful to solve the question. For people searching <code>rootDir</code> or similar (like me), it may be helpful to clarify the mentioned and the solution-relevant options. </p>\n\n<h3>Emit all files into one single file</h3>\n\n<p>\u2705 Use <code>outFile</code>  </p>\n\n<p>\u274c Don't use <code>out</code> (deprecated)</p>\n\n<p><strong>Background:</strong></p>\n\n<p>If you want to to build to a destination directory, choose <code>outDir</code>. See <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"noreferrer\">compiler options</a> for further infos.</p>\n\n<h3>Only emit files from a certain directory</h3>\n\n<p>\u2705 Use <code>files</code>/<code>include</code>/<code>exclude</code> in tsconfig</p>\n\n<p>\u274c Don't use <code>rootDir</code></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The compiler finds all input files by </p>\n\n<ul>\n<li>looking at  <code>file</code>/<code>include</code>/<code>exclude</code> properties</li>\n<li>following <code>import</code> statements </li>\n<li>following  <code>///&lt;reference .. /&gt;</code> (should not matter so much anymore)</li>\n</ul>\n\n<p>If those options are not specified, all files in your TypeScript project root (given by tsconfig.json) will be included. The <code>import</code>ed modules are <em>automatically</em> included by the compiler, regardless of <code>file</code>/<code>include</code>/<code>exclude</code>  - have a look at their <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#why-does-a-module-in-the-exclude-list-still-get-picked-up-by-the-compiler\" rel=\"noreferrer\">FAQ</a>. All input files combined are the envelope of files it will build. How to configure <code>file</code>/<code>include</code>/<code>exclude</code>, see tsconfig.json <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#details\" rel=\"noreferrer\">docs</a>, consider also @TSV's answer.</p>\n\n<h3>rootDir</h3>\n\n<p><code>rootDir</code> controls the <em>output</em> directory structure alongside with <code>outDir</code>,  it is <em>not</em> used to specify the compiler <em>input</em>. Its usage is (<a href=\"https://github.com/Microsoft/TypeScript/issues/25646#issuecomment-404900242\" rel=\"noreferrer\">quote</a>):</p>\n\n<blockquote>\n  <p>For every input file (i.e. a .ts/.tsx file) it needs to generate an matching output (a .js/.jsx file). To figure out the file path of the generated output file it will chop off the \"rootDir\" from the input, then prepend the \"outDir\" to it.</p>\n</blockquote>\n\n<p>Consequently <code>rootDir</code> needs a directory that includes all your input sources from above, otherwise you get </p>\n\n<blockquote>\n  <p>error TS6059: File is not under 'rootDir' .. 'rootDir' is expected to contain all source files</p>\n</blockquote>\n\n<p>If <code>rootDir</code> is omitted, the compiler automatically calculates a suitable directory by considering all input files at hand. So it doesn't necessarily have to be set.</p>\n\n<h3>sourceRoot</h3>\n\n<p>This option is only relevant with sourcemaps/debugging and can be omitted for the scope of the question. It is used, when your sources files are at a different location at runtime than at design time. The compiler will adjust the paths to the sources in the sourcemap file to match the paths at runtime (<a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"noreferrer\">compiler options</a>).</p>\n\n<p>Hope, that clarifies things a bit.</p>\n"}], "owner": {"reputation": 1380, "user_id": 1332999, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6c471493743ecfce73611d455048b880?s=128&d=identicon&r=PG", "display_name": "Michael Crook", "link": "https://stackoverflow.com/users/1332999/michael-crook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37848, "favorite_count": 0, "accepted_answer_id": 34121884, "answer_count": 4, "score": 20, "last_activity_date": 1565428889, "creation_date": 1449403421, "question_id": 34117191, "link": "https://stackoverflow.com/questions/34117191/tsconfig-json-only-build-ts-files-from-folder", "title": "tsconfig.json - Only build ts files from folder", "body": "<p>I am currently trying to build my ts files into a single ts files. The issue I'm getting is that my code below isn't doing what I thought it would. I used sourceRoot to attempt to set the only place it could get the source from but that didn't work. I have also tried putting a . infront of the directory but it still pulls from everywhere :(</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n   \"compilerOptions\": {\n       \"target\": \"ES5\",\n       \"noImplicitAny\": true,\n       \"removeComments\": true,\n       \"preserveConstEnums\": true,\n       \"out\": \"www/js/app.js\",\n       \"sourceMap\": true,\n       \"sourceRoot\": \"www/app\"\n   }\n}\n</code></pre>\n\n<p>all files including those not inside of www/app build :(</p>\n\n<p>for now I've moved back to manually specifying the files:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"compilerOptions\": {\n        \"target\": \"ES5\",\n        \"noImplicitAny\": true,\n        \"removeComments\": true,\n        \"preserveConstEnums\": true,\n        \"out\": \"www/js/app.js\",\n        \"sourceMap\": true\n    },\n    \"files\": [\n        \"./www/app/app.ts\",\n        \"./www/app/menu/menuController.ts\",\n        \"./www/app/playlists/playlistsController.ts\"\n    ]\n}\n</code></pre>\n\n<p>is it possible to restrict the source directories to be only www/app?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 1114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FFE8V.gif?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1114/jeremy"}, "is_accepted": true, "score": 2, "last_activity_date": 1449389039, "last_edit_date": 1449389039, "creation_date": 1449387505, "answer_id": 34115146, "question_id": 34115085, "link": "https://stackoverflow.com/questions/34115085/typescript-output-difference-with-lambda-functions-and-normal-functions/34115146#34115146", "title": "TypeScript output difference with lambda functions and normal functions", "body": "<p><a href=\"http://www.typescriptlang.org/Handbook#functions-lambdas-and-using-39this39\" rel=\"nofollow\">Lambda/arrow functions</a> (<code>() =&gt; ...</code>) in TypeScript (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow\">and in JavaScript ES6</a>) have some additional behaviour beyond standard function expressions, requiring some additional code when compiling to JavaScript ES3/ES5.</p>\n\n<pre><code>var _this = this;\n</code></pre>\n\n<p>The value of <code>this</code> within the lambda is automatically bound/saved to the value of <code>this</code> outside of the lambda. A normal function would get its value for <code>this</code> based on how it's called.</p>\n\n<pre><code>return setActiveChannel(_this);\n</code></pre>\n\n<p>If the body of a lambda function is a single expression (not a block <code>{ ... }</code>), the value of that expression will be automatically returned, without an explicit <code>return</code> statement.</p>\n"}], "owner": {"reputation": 4162, "user_id": 463464, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e5660b1d210c0b122cf24b6780fc2665?s=128&d=identicon&r=PG", "display_name": "Randall Flagg", "link": "https://stackoverflow.com/users/463464/randall-flagg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 34115146, "answer_count": 1, "score": 2, "last_activity_date": 1449389039, "creation_date": 1449386558, "last_edit_date": 1449387845, "question_id": 34115085, "link": "https://stackoverflow.com/questions/34115085/typescript-output-difference-with-lambda-functions-and-normal-functions", "title": "TypeScript output difference with lambda functions and normal functions", "body": "<p>I have this code:</p>\n\n<pre><code>var initChannelEvents = () =&gt;\n    $(\"#channels a\").click(\n        (eventObject: JQueryEventObject) =&gt; setActiveChannel(this)\n    );\n</code></pre>\n\n<p>And this:</p>\n\n<pre><code>var initChannelEvents2 = () =&gt;\n    $(\"#channels a\").click(\n        function (eventObject: JQueryEventObject) {\n            setActiveChannel(this);\n        });\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>var _this = this;\nvar initChannelEvents = function () {\n    return $(\"#channels a\").click(function (eventObject) { \n        return setActiveChannel(_this); });\n    };\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>var initChannelEvents2 = function () {\n    return $(\"#channels a\").click(function (eventObject) {\n        setActiveChannel(this);\n    });\n};\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>TS:</p>\n\n<pre><code>var initChannelEvents2 = () =&gt;\n    $(\"#channels a\").click(\n        (eventObject: JQueryEventObject) =&gt; {\n            setActiveChannel(this);\n        }\n    );\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>var _this = this;\nvar initChannelEvents2 = function () {\n    return $(\"#channels a\").click(function (eventObject) {\n        setActiveChannel(_this);\n    });\n};\n</code></pre>\n\n<p>I understand the output of the second snippet and that is what I expected. I don't understand the output of the first. I would expect them to be the same.</p>\n\n<p>Why are they different? What am I not understanding here?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "is_accepted": true, "score": 1, "last_activity_date": 1449481615, "last_edit_date": 1449481615, "creation_date": 1449438906, "answer_id": 34123283, "question_id": 34114031, "link": "https://stackoverflow.com/questions/34114031/eloquent-way-to-determine-if-any-variables-are-equal/34123283#34123283", "title": "Eloquent way to determine if any variables are equal", "body": "<p>A more elegant way? I believe not.\nA better way? Don't use <code>Array#sort</code>. Use a simple loop instead. It will be cleaner and have a bit better performance.</p>\n\n<pre><code>function anyEqual(...args: any[]): boolean {\n  const found = [];\n  return Array.prototype.some.call(args, arg =&gt; {\n    if (found.indexOf(arg) &gt; -1) return true;\n    found.push(arg);\n  });\n}\n</code></pre>\n\n<p>Use it like this:</p>\n\n<pre><code>if (anyEqual(...Object.keys(options).map(key =&gt; options[key]))) throw new Error;\n</code></pre>\n"}], "owner": {"reputation": 12083, "user_id": 1905476, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/373f5f5d7dc27b9d2fb733e5e73dceb9?s=128&d=identicon&r=PG", "display_name": "SnareChops", "link": "https://stackoverflow.com/users/1905476/snarechops"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 34123283, "answer_count": 1, "score": 1, "last_activity_date": 1449481615, "creation_date": 1449375951, "last_edit_date": 1449377547, "question_id": 34114031, "link": "https://stackoverflow.com/questions/34114031/eloquent-way-to-determine-if-any-variables-are-equal", "title": "Eloquent way to determine if any variables are equal", "body": "<p>I have a class and some optional configuration options on the constructor. The rule is that <strong>none</strong> of the values are allowed to be <code>===</code> to each other. What is an eloquent way to determine if any are equal to each other. All characters are strings, and will also have a validation to ensure that none are longer than 1 char.</p>\n\n<pre><code>constructor(options?: ClassOptions){\n    this.leftWrapperChar = options.leftWrapperChar || '{';\n    this.rightWrapperChar = options.rightWrapperChar || '}';\n    this.commandChar = options.commandChar || '%';\n    this.variableChar = options.variableChar || '+';\n    this.commentChar = options.commentChar || '#';\n    this.variableAssignmentChar = options.variableAssignmentChar || ':';\n    this.stringEscapeChar = options.stringEscapeChar || '\\\\';\n    // Determine if any are equal to each other\n}\n</code></pre>\n\n<p>Obviously this could be accomplished with <code>a !== b &amp;&amp; b !== c &amp;&amp; c !== d &amp;&amp; ...</code> but this list will likely grow and the permutations would be exponential.</p>\n\n<p>My current solution is putting all options into an array and sorting them, then comparing them with the next index</p>\n\n<pre><code>const array = [\n    this.leftWrapperChar, \n    this.rightWrapperChar, \n    this.commandChar, \n    this.variableChar, \n    this.commentChar, \n    this.variableAssignmentChar, \n    this.stringEscapeChar].sort();\nfor(let i=0; i&lt; array.length - 1; i++){\n    if(array[i] === array[i + 1]) \n        throw new Error('Options Error: All Options chars must be unique');\n}\n</code></pre>\n\n<p>But I feel that there might be a more elegant way of handling this.</p>\n"}, {"tags": ["typescript", "angular", "rxjs"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449373814, "post_id": 34113750, "comment_id": 55977322, "body": "Stick to alpha 47. They are <a href=\"https://gitter.im/angular/angular?at=56636ef95057376520dbc193\" rel=\"nofollow noreferrer\">discussing</a> what to do about how to ship angular2 along with RxJS."}], "answers": [{"comments": [{"owner": {"reputation": 2537, "user_id": 4375197, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1123179aad60ed5043fc2aa9dbb964c0?s=128&d=identicon&r=PG&f=1", "display_name": "Zorthgo", "link": "https://stackoverflow.com/users/4375197/zorthgo"}, "edited": false, "score": 0, "creation_date": 1449378121, "post_id": 34113985, "comment_id": 55978134, "body": "Thanks a million Eric! I am going downgrade to 47 and keep an eye on those threads. ;0)"}, {"owner": {"reputation": 2537, "user_id": 4375197, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1123179aad60ed5043fc2aa9dbb964c0?s=128&d=identicon&r=PG&f=1", "display_name": "Zorthgo", "link": "https://stackoverflow.com/users/4375197/zorthgo"}, "edited": false, "score": 0, "creation_date": 1449676757, "post_id": 34113985, "comment_id": 56112841, "body": "I guess that the conclusion for now is that we will have to import the operators from the RxJS. We won&#39;t have a convenient way of importing them from the Angular 2 library. Thanks for the updates Eric! ;0)"}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "reply_to_user": {"reputation": 2537, "user_id": 4375197, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1123179aad60ed5043fc2aa9dbb964c0?s=128&d=identicon&r=PG&f=1", "display_name": "Zorthgo", "link": "https://stackoverflow.com/users/4375197/zorthgo"}, "edited": false, "score": 0, "creation_date": 1449677084, "post_id": 34113985, "comment_id": 56113075, "body": "You&#39;re welcome. I personally like this, I think it&#39;s just a matter of getting used to it."}, {"owner": {"reputation": 515, "user_id": 1473506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050a45d8443b5057191f249eac0c8766?s=128&d=identicon&r=PG", "display_name": "Chanoch", "link": "https://stackoverflow.com/users/1473506/chanoch"}, "edited": false, "score": 0, "creation_date": 1459831915, "post_id": 34113985, "comment_id": 60449728, "body": "I think this is version rxjs@5.0.0-beta.2 now"}, {"owner": {"reputation": 2179, "user_id": 965073, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/nCusK.jpg?s=128&g=1", "display_name": "Randal Cunanan", "link": "https://stackoverflow.com/users/965073/randal-cunanan"}, "edited": false, "score": 2, "creation_date": 1462720571, "post_id": 34113985, "comment_id": 61744853, "body": "@EricMartinez Although it works when you run it, Visual Studio still cannot recognize the map function. Is there a way for VS to recognize it? Thanks."}, {"owner": {"reputation": 2601, "user_id": 195965, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aec177aa3bc73958600e3c37d266b3ee?s=128&d=identicon&r=PG", "display_name": "Jonas Arcangel", "link": "https://stackoverflow.com/users/195965/jonas-arcangel"}, "edited": false, "score": 0, "creation_date": 1462780399, "post_id": 34113985, "comment_id": 61762557, "body": "I&#39;m getting this error now and I&#39;m confused with the answer. Which of the updates are still relevant to the latest version? Is it only &quot;another update&quot;, or the other updates below it too? Doing the import statement alone without any additional System.config doesn&#39;t work for me."}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1481207423, "post_id": 34113985, "comment_id": 69291047, "body": "@EricMartinez thanks for this great answer. Can you update this answer for Angular CLI that now uses the WebPack. I&#39;m getting map not found."}], "tags": [], "owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "is_accepted": true, "score": 31, "last_activity_date": 1449794495, "last_edit_date": 1449794495, "creation_date": 1449375519, "answer_id": 34113985, "question_id": 34113750, "link": "https://stackoverflow.com/questions/34113750/angular-2s-http-service-not-exposing-map-and-other-rxjs-functions/34113985#34113985", "title": "Angular 2&#39;s Http service not exposing map() and other RxJS functions", "body": "<p><strong>Another update</strong> <em>(cough, sorry about that, forgot this option)</em></p>\n\n<p>If you want to avoid adding individually the operators you can import the full Rx by doing</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Observable, Subject, ReplaySubject, etc...} from 'rxjs/Rx';\n</code></pre>\n\n<p>You'll have all the operators :)</p>\n\n<p><strong>Update alpha 50</strong> (08/12/2015)</p>\n\n<p>Shortly after alpha 49 was released, they released alpha 50. This version upgraded rxjs to alpha 14. So you'll good to go by doing</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>npm install angular2@latest\nnpm install rxjs@5.0.0-alpha.14\n</code></pre>\n\n<p><strong>Update alpha 49</strong> (08/12/2015)</p>\n\n<p>As of now <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md\">alpha 49</a> was released and this didn't change, which means this will remain in time. The original answer is still valid with a few changes, paths changed for rjxs, so it should be as follows :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>System.config({\n    paths: {\n        'rxjs/add/observable/*' : 'node_modules/rxjs/add/observable/*.js',\n        'rxjs/add/operator/*' : 'node_modules/rxjs/add/operator/*.js',\n        'rxjs/*' : 'node_modules/rxjs/*.js'\n    }\n});\n\nimport 'rxjs/add/operator/map';\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>This version requires exactly the <code>alpha 13</code> version, so if in your <code>package.json</code> you have already another version, you'll have to remove it, install angular2, and then install rjxs.</p>\n\n<p><strong>Update</strong></p>\n\n<p>The <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#200-alpha48-2015-12-05\">CHANGELOG</a> was updated to show this breaking change. There's a <a href=\"https://github.com/angular/angular/issues/5642#issuecomment-162620127\">comment from @jeffbcross</a> in <a href=\"https://github.com/angular/angular/issues/5642\">issue #5642</a> that clarifies a LOT in this matter.</p>\n\n<p>Quoting part of that comment </p>\n\n<blockquote>\n  <p>Modularity was a goal of the new RxJS project from the start, and it wasn't until recently that we started really getting serious about composing operators instead of relying on tiered distributions of Rx.</p>\n</blockquote>\n\n<p><strong>Original answer</strong></p>\n\n<p>There was actually a breaking change regarding RxJS and Angular2. So now to use operators like <code>map</code> you have to import them separately. You can see the change in this <a href=\"https://github.com/ReactiveX/RxJS/pull/843\">pull request</a>. And there's already an <a href=\"https://github.com/angular/angular/issues/5632\">issue</a> about your question.</p>\n\n<p>I recommend you to stick to alpha 47. But to everyone who needs and want to know what the solution is, like in the pull request is specified, to add the operator separately.</p>\n\n<p>You must have something like this</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Http, ...} ...;\n\n// Component\nconstructor(http: Http) {\n    http.get(...).map() // 'map' doesn't exist! Ouch!\n}\n</code></pre>\n\n<p>To fix it, add the operator (sorry for repeating it so many times) and configure the paths to rxjs</p>\n\n<p><strong>Note</strong></p>\n\n<p>This must be done with RxJS alpha 11, or alpha 12 (<em>don't confuse it with <code>@reactivex/rxjs</code>, now it's just <code>rxjs</code></em>). So install it with </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>npm install rxjs@5.0.0-alpha.11\n</code></pre>\n\n<p>Or just <code>npm install rxjs</code> if you want the latest, although they <a href=\"https://github.com/robwormald/angular/commit/da0f27fc65b8943930742724de28e399a715b413\">lock it</a> to be alpha 11.</p>\n\n<p>Configure the paths in your System.config (note that this is my config, not necessarily the best and I'm assuming you installed alpha 11)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>System.config({\n    paths: {\n        'rxjs/observable/*' : 'node_modules/rxjs/observable/*.js',\n        'rxjs/operators/*' : 'node_modules/rxjs/operators/*.js',\n        'rxjs/*' : 'node_modules/rxjs/*.js'\n    }\n});\n</code></pre>\n\n<p>After you are done with the configuration, you can import the operator as follows</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> import 'rxjs/operators/map';\n</code></pre>\n\n<p>And that's all. You'll have to do that with every operator. So I repeat, I recommend you to stick to alpha 47, like I told you in the comment. I will try to update the answer later with a plnkr.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 1373536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e95b31fc1f04d6bf79f76bc58a7d5ff?s=128&d=identicon&r=PG", "display_name": "Fergus Gallagher", "link": "https://stackoverflow.com/users/1373536/fergus-gallagher"}, "is_accepted": false, "score": 0, "last_activity_date": 1449923475, "creation_date": 1449923475, "answer_id": 34239855, "question_id": 34113750, "link": "https://stackoverflow.com/questions/34113750/angular-2s-http-service-not-exposing-map-and-other-rxjs-functions/34239855#34239855", "title": "Angular 2&#39;s Http service not exposing map() and other RxJS functions", "body": "<p>In contrast to what what's written above, I found that I needed to use</p>\n\n<pre><code>    System.config({\n        packages: {\n            'app': {defaultExtension: 'js'},\n            'node_modules': {defaultExtension: 'js'}\n        },\n        paths: {\n            'rxjs/*' : 'node_modules/rxjs/*.js'\n        }\n    });\n</code></pre>\n\n<p>The <code>node_modules</code> <code>defaultExtension</code> was the critical think for me (I dunno why the <code>rxjs/*</code> path doesn't add the <code>.js</code> but hey ho.)</p>\n\n<p>This works from 48 to the latest 52.</p>\n"}, {"comments": [{"owner": {"reputation": 813, "user_id": 791750, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a2dd31f44ea7e8d2a268ad1b919f2938?s=128&d=identicon&r=PG", "display_name": "froginvasion", "link": "https://stackoverflow.com/users/791750/froginvasion"}, "edited": false, "score": 4, "creation_date": 1457710316, "post_id": 34456725, "comment_id": 59544559, "body": "To those coming here, this is the working current solution, although the accepted answer might be useful for previous versions."}], "tags": [], "owner": {"reputation": 18175, "user_id": 1480995, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd82c8854beb35da244f8d7d7f3751a8?s=128&d=identicon&r=PG", "display_name": "Michael Oryl", "link": "https://stackoverflow.com/users/1480995/michael-oryl"}, "is_accepted": false, "score": 14, "last_activity_date": 1451930189, "last_edit_date": 1451930189, "creation_date": 1450982334, "answer_id": 34456725, "question_id": 34113750, "link": "https://stackoverflow.com/questions/34113750/angular-2s-http-service-not-exposing-map-and-other-rxjs-functions/34456725#34456725", "title": "Angular 2&#39;s Http service not exposing map() and other RxJS functions", "body": "<p>If you want to use the Beta versions of Angular 2 or the future real production releases, then you need to do two things to get this to work.</p>\n\n<p>1) You'll first need to update your System.config() configuration in index.html to include references to RxJS:</p>\n\n<pre><code>System.config({\n    map: {\n        'rxjs': 'node_modules/rxjs'\n    },\n    packages: {\n        'app': {defaultExtension: 'js'}, // assumes your code sites in `src/app`\n        'rxjs': {defaultExtension: 'js'}\n    }\n});\nSystem.import('app/app'); // this assumes your main file is `app.ts` and it sits in the `app` folder.\n</code></pre>\n\n<p>2) Then you can import <code>map()</code> and other (or all) RxJS operators into your application with <code>import</code> lines in your main file (app.ts in my case):</p>\n\n<pre><code>import 'rxjs/Rx'; // this would import all RxJS operators\n</code></pre>\n\n<p>If you rather import just <code>map()</code> to keep the size down, you would do this instead:</p>\n\n<pre><code>import 'rxjs/add/operator/map';\n</code></pre>\n\n<p>You <strong>do not</strong> need to import these into each class file.  Just import them into your main file to make them accessible to all your other components/services/directives.</p>\n"}, {"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462378164, "post_id": 37032899, "comment_id": 61615884, "body": "What&#39;s the point of adding this answer to already correctly answered and accepted questions?"}, {"owner": {"reputation": 3661, "user_id": 1380968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/naWb3.jpg?s=128&g=1", "display_name": "Mohanraj Balasubramaniam", "link": "https://stackoverflow.com/users/1380968/mohanraj-balasubramaniam"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 3, "creation_date": 1462378280, "post_id": 37032899, "comment_id": 61615955, "body": "I thought it&#39;s short enough than a big paragraph"}, {"owner": {"reputation": 2166, "user_id": 717968, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/226d5ed4f1fc1b064778c5845794e33e?s=128&d=identicon&r=PG", "display_name": "battmanz", "link": "https://stackoverflow.com/users/717968/battmanz"}, "edited": false, "score": 3, "creation_date": 1462995829, "post_id": 37032899, "comment_id": 61878516, "body": "Best answer here by a long shot! Brevity counts!"}], "tags": [], "owner": {"reputation": 3661, "user_id": 1380968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/naWb3.jpg?s=128&g=1", "display_name": "Mohanraj Balasubramaniam", "link": "https://stackoverflow.com/users/1380968/mohanraj-balasubramaniam"}, "is_accepted": false, "score": 5, "last_activity_date": 1462378076, "creation_date": 1462378076, "answer_id": 37032899, "question_id": 34113750, "link": "https://stackoverflow.com/questions/34113750/angular-2s-http-service-not-exposing-map-and-other-rxjs-functions/37032899#37032899", "title": "Angular 2&#39;s Http service not exposing map() and other RxJS functions", "body": "<p>You need to import the Rx map operator in your component like</p>\n\n<pre><code>import 'rxjs/add/operator/map';\n</code></pre>\n\n<p>Cheers!</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6665283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-W36FBVmYLPI/AAAAAAAAAAI/AAAAAAAAZpc/v4c0PXSbkmM/photo.jpg?sz=128", "display_name": "Graham King", "link": "https://stackoverflow.com/users/6665283/graham-king"}, "is_accepted": false, "score": 0, "last_activity_date": 1470091586, "creation_date": 1470091586, "answer_id": 38709228, "question_id": 34113750, "link": "https://stackoverflow.com/questions/34113750/angular-2s-http-service-not-exposing-map-and-other-rxjs-functions/38709228#38709228", "title": "Angular 2&#39;s Http service not exposing map() and other RxJS functions", "body": "<p>I had this issue and it turned out to be an issue with the version of rxjs - angular 2.0.0-rc4 requires rxjs-5.0.0-beta.6, I had beta.10 in my jspm config!</p>\n"}], "owner": {"reputation": 2537, "user_id": 4375197, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1123179aad60ed5043fc2aa9dbb964c0?s=128&d=identicon&r=PG&f=1", "display_name": "Zorthgo", "link": "https://stackoverflow.com/users/4375197/zorthgo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15954, "favorite_count": 8, "accepted_answer_id": 34113985, "answer_count": 5, "score": 13, "last_activity_date": 1546490987, "creation_date": 1449373215, "last_edit_date": 1450982584, "question_id": 34113750, "link": "https://stackoverflow.com/questions/34113750/angular-2s-http-service-not-exposing-map-and-other-rxjs-functions", "title": "Angular 2&#39;s Http service not exposing map() and other RxJS functions", "body": "<p>Does anybody know if there's been any breaking changes to the http between alpha 45 and alpha 48? I've been searching around and I didn't find anything. My problem is that the code below was working perfectly on Alpha 45. But now that I've upgraded to Alpha 48 I am getting a <code>_this.http.post(...).map is not a function</code> error message when I try to run the application. The strange thing is that IntelliSense shows that http.post is returning an observable. Which means that the map function should be available. Any help would be appreciated. Thanks!</p>\n\n<pre><code>public Authenticate(username: string, password: string): Observable&lt;boolean&gt; {\n\n    this.ResetAuthenticationValues();\n\n    return Observable.create((subscriber: EventEmitter&lt;string&gt;) =&gt; { \n\n        let body: string = 'grant_type=password&amp;username=' + username + '&amp;password=' + password;\n        let headers = new Headers();\n        headers.append('Content-Type', 'application/x-www-form-urlencoded');\n\n        this.http.post('http://example.com', body, {headers: headers})\n            .map(res =&gt; res.json())\n            .subscribe(\n                (data: DataResponse) =&gt; {\n                    if (!data.error) {\n                        this.accessToken = {access_token: data.access_token, token_type: data.token_type};\n                        subscriber.next(this.isAuthenticated = true);                       \n                    }\n                    else\n                        subscriber.error(this.isAuthenticated = false);\n                },\n                (err) =&gt; subscriber.error(err),\n                () =&gt; subscriber.complete()\n            );\n\n        return () =&gt; { };\n    });\n} \n</code></pre>\n"}, {"tags": ["svg", "typescript", "definitelytyped", "path-2d"], "answers": [{"comments": [{"owner": {"reputation": 6501, "user_id": 1339087, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/98CKO.png?s=128&g=1", "display_name": "Nikos", "link": "https://stackoverflow.com/users/1339087/nikos"}, "edited": false, "score": 2, "creation_date": 1449357883, "post_id": 34110229, "comment_id": 55974024, "body": "This is great stuff, perhaps this could be added to definitely typed."}, {"owner": {"reputation": 431, "user_id": 805080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ffa35e8be7802c58be71cfefbe7250f?s=128&d=identicon&r=PG", "display_name": "Sebastian Ferreyra", "link": "https://stackoverflow.com/users/805080/sebastian-ferreyra"}, "edited": false, "score": 0, "creation_date": 1458644871, "post_id": 34110229, "comment_id": 59942467, "body": "For completeness I would add the following to the end of the file: interface Window { Path2D: Path2D; }"}, {"owner": {"reputation": 6501, "user_id": 1339087, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/98CKO.png?s=128&g=1", "display_name": "Nikos", "link": "https://stackoverflow.com/users/1339087/nikos"}, "edited": false, "score": 0, "creation_date": 1476185139, "post_id": 34110229, "comment_id": 67231001, "body": "We should ping the guys over at d typed, or ts"}], "tags": [], "owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "is_accepted": true, "score": 12, "last_activity_date": 1471509611, "last_edit_date": 1471509611, "creation_date": 1449345801, "answer_id": 34110229, "question_id": 34109921, "link": "https://stackoverflow.com/questions/34109921/using-path2d-in-a-typescript-project-is-not-resolved/34110229#34110229", "title": "Using Path2D in a TypeScript project is not resolved", "body": "<p>I took me some time, and I made the Declaration for you:</p>\n\n<p>I've done this following the same standard TypeScript defines its interfaces internally in <code>lib.d.ts</code>.<br>\nNote that you can extend this code easily for future features, and if you do I would love to see it updated here.</p>\n\n<p><strong>Path2D.d.ts</strong> (<a href=\"http://www.typescriptlang.org/Playground#src=%2F%2F%20Class%0Ainterface%20Path2D%20%7B%0A%20%20%20%20addPath(path%3A%20Path2D%2C%20transform%3F%3A%20SVGMatrix)%3B%0A%20%20%20%20closePath()%3A%20void%3B%0A%20%20%20%20moveTo(x%3A%20number%2C%20y%3A%20number)%3A%20void%3B%0A%20%20%20%20lineTo(x%3A%20number%2C%20y%3A%20number)%3A%20void%3B%0A%20%20%20%20bezierCurveTo(cp1x%3A%20number%2C%20cp1y%3A%20number%2C%20cp2x%3A%20number%2C%20cp2y%3A%20number%2C%20x%3A%20number%2C%20y%3A%20number)%3A%20void%3B%0A%20%20%20%20quadraticCurveTo(cpx%3A%20number%2C%20cpy%3A%20number%2C%20x%3A%20number%2C%20y%3A%20number)%3A%20void%3B%0A%20%20%20%20arc(x%3A%20number%2C%20y%3A%20number%2C%20radius%3A%20number%2C%20startAngle%3A%20number%2C%20endAngle%3A%20number%2C%20anticlockwise%3F%3A%20boolean)%3A%20void%3B%0A%20%20%20%20arcTo(x1%3A%20number%2C%20y1%3A%20number%2C%20x2%3A%20number%2C%20y2%3A%20number%2C%20radius%3A%20number)%3A%20void%3B%0A%20%20%20%20%2F*ellipse(x%3A%20number%2C%20y%3A%20number%2C%20radiusX%3A%20number%2C%20radiusY%3A%20number%2C%20rotation%3A%20number%2C%20startAngle%3A%20number%2C%20endAngle%3A%20number%2C%20anticlockwise%3F%3A%20boolean)%3A%20void%3B*%2F%0A%20%20%20%20rect(x%3A%20number%2C%20y%3A%20number%2C%20w%3A%20number%2C%20h%3A%20number)%3A%20void%3B%0A%7D%0A%0A%2F%2F%20Constructor%0Ainterface%20Path2DConstructor%20%7B%0A%20%20%20%20new%20()%3A%20Path2D%3B%0A%20%20%20%20new%20(d%3A%20string)%3A%20Path2D%3B%0A%20%20%20%20new%20(path%3A%20Path2D%2C%20fillRule%3F%3A%20string)%3A%20Path2D%3B%0A%20%20%20%20prototype%3A%20Path2D%3B%0A%7D%0Adeclare%20var%20Path2D%3A%20Path2DConstructor%3B%0A%0A%2F%2F%20Extend%20CanvasRenderingContext2D%0Ainterface%20CanvasRenderingContext2D%20%7B%0A%20%20%20%20fill(path%3A%20Path2D)%3A%20void%3B%0A%20%20%20%20stroke(path%3A%20Path2D)%3A%20void%3B%0A%20%20%20%20clip(path%3A%20Path2D%2C%20fillRule%3F%3A%20string)%3A%20void%3B%0A%7D\" rel=\"noreferrer\">View in TypeScript-Playground</a>)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Class\ninterface Path2D {\n    addPath(path: Path2D, transform?: SVGMatrix);\n    closePath(): void;\n    moveTo(x: number, y: number): void;\n    lineTo(x: number, y: number): void;\n    bezierCurveTo(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number): void;\n    quadraticCurveTo(cpx: number, cpy: number, x: number, y: number): void;\n    arc(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise?: boolean): void;\n    arcTo(x1: number, y1: number, x2: number, y2: number, radius: number): void;\n    /*ellipse(x: number, y: number, radiusX: number, radiusY: number, rotation: number, startAngle: number, endAngle: number, anticlockwise?: boolean): void;*/\n    rect(x: number, y: number, w: number, h: number): void;\n}\n\n// Constructor\ninterface Path2DConstructor {\n    new (): Path2D;\n    new (d: string): Path2D;\n    new (path: Path2D, fillRule?: string): Path2D;\n    prototype: Path2D;\n}\ndeclare var Path2D: Path2DConstructor;\n\n// Extend Window \ninterface Window { Path2D: Path2DConstructor; }\n\n// Extend CanvasRenderingContext2D\ninterface CanvasRenderingContext2D {\n    fill(path: Path2D): void;\n    stroke(path: Path2D): void;\n    clip(path: Path2D, fillRule?: string): void;\n}\n</code></pre>\n\n<p>Examples:</p>\n\n<pre><code>var canvas: HTMLCanvasElement = &lt;HTMLCanvasElement&gt;document.getElementById(\"canvas\");\nvar ctx = canvas.getContext(\"2d\");\n\nvar path1 = new Path2D();\npath1.rect(10, 10, 100, 100);\n\nvar path2 = new Path2D(path1);\npath2.moveTo(220, 60);\npath2.arc(170, 60, 50, 0, 2 * Math.PI);\n\nvar m = (&lt;SVGSVGElement&gt;document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\")).createSVGMatrix();\nm.a = 1; m.b = 0;\nm.c = 0; m.d = 1;\nm.e = 300; m.f = 0;\npath2.addPath(path1, m);\n\nctx.stroke(path1);\nctx.fill(path2);\n</code></pre>\n"}], "owner": {"reputation": 6501, "user_id": 1339087, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/98CKO.png?s=128&g=1", "display_name": "Nikos", "link": "https://stackoverflow.com/users/1339087/nikos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 952, "favorite_count": 0, "accepted_answer_id": 34110229, "answer_count": 1, "score": 3, "last_activity_date": 1471509611, "creation_date": 1449344098, "last_edit_date": 1449357903, "question_id": 34109921, "link": "https://stackoverflow.com/questions/34109921/using-path2d-in-a-typescript-project-is-not-resolved", "title": "Using Path2D in a TypeScript project is not resolved", "body": "<p>I want to use the new <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Path2D/Path2D\" rel=\"nofollow\">Path2D</a> api in a TypeScript project but I don't see it in lib.es6.d.ts What is my best course of action to use this? Does anyone have a d.ts file for Path2D?</p>\n"}, {"tags": ["angularjs", "scope", "typescript", "inherited"], "answers": [{"comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1449343970, "post_id": 34109420, "comment_id": 55969492, "body": "It looks like the question addresses the usage of lexical &#39;this&#39; in controller classes. And this behaviour isn&#39;t related to TS directly, again."}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": false, "score": 2, "last_activity_date": 1449341044, "last_edit_date": 1495541043, "creation_date": 1449341044, "answer_id": 34109420, "question_id": 34109279, "link": "https://stackoverflow.com/questions/34109279/how-to-call-angular-controller-scope-methods-from-nested-directives-in-typescrip/34109420#34109420", "title": "How to call angular controller scope methods from nested directives in Typescript", "body": "<p><code>Typescript</code> with <code>AngularJS</code> <em>(ver 1)</em> does NOT bring any change to angular's architecture/design. So scopes are scopes, and they will be inherited as they did <em>(via <code>.$new()</code>)</em></p>\n\n<p>Also, any Typescript <code>class</code> inheritance has no impact on <code>$scope</code> inheritance. And that won't change even with Angular 2. If some <code>component</code> <em>(a bit like <code>controller</code> class in Typescript today)</em> will be using code from its parent <em>(derive from it)</em> - in runtime it will has no effect on its <strong>context</strong>.</p>\n\n<p>So, use the angular as you did, just profit from strongly typed language support.</p>\n\n<p>Check these Q &amp; A with working examples with directives:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/30482138/1679310\">How can I define my controller using TypeScript?</a></li>\n<li><a href=\"https://stackoverflow.com/q/30501735/1679310\">How To bind data using TypeScript Controller &amp; Angular Js</a></li>\n<li><a href=\"https://stackoverflow.com/q/29363279/1679310\">Angular Ui-router can&#39;t access $stateParams inside my controller</a></li>\n</ul>\n"}], "owner": {"reputation": 546, "user_id": 1741338, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WzJ0G.jpg?s=128&g=1", "display_name": "Kieran Ryan", "link": "https://stackoverflow.com/users/1741338/kieran-ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449393553, "creation_date": 1449340229, "last_edit_date": 1449393553, "question_id": 34109279, "link": "https://stackoverflow.com/questions/34109279/how-to-call-angular-controller-scope-methods-from-nested-directives-in-typescrip", "title": "How to call angular controller scope methods from nested directives in Typescript", "body": "<p>Given following common setup:</p>\n\n<pre><code>CtrlA (page level controller)\n  |- directiveAA (component e.g. button bar)\n    |- directiveAAA (sub-component e.g. button)\n</code></pre>\n\n<p>I would like to call CtrlA.methodA() from directiveAAA by passing the methodA down the chain using directive attributes - <code>CtrlA -&gt; directiveAA -&gt; directiveAAA</code>. So for example my <code>directiveAAA</code> \"Save\" button can call controller method \"Save\". Components <code>directiveAA</code> and <code>directiveAAA</code> are dumb components and only know about their environment given their attribute settings. </p>\n\n<p>Before Typescript I would make use of inherited scope down the chain to call controller method <code>$scope.save()</code> from <code>directiveAAA</code>.</p>\n\n<p>How would this work with Typescript? Would we still have to make use of injected scope into our controller, directive controller classes or can this be done without using scope, based on class inheritance?</p>\n\n<p>So here's my question in code - its probably not perfect but gives the gist - the nub of the problem is marked with comment \"this is where i need help\":</p>\n\n<pre><code>module app.page {\n\n    class CtrlPage {\n        private ctrlPageBtnActions: string[] = ['goPrev', 'goNext'];\n        goPrev(){\n            console.log('go previous');\n        }\n        goNext(){\n            console.log('go next');\n        }\n    }\n\n    function pageDirective(){\n        return {\n            restrict: 'E',\n            replace: true,\n            template: '&lt;button-bar actions=\"CtrlPage.ctrlPageActions\"&gt;&lt;/button-bar&gt;',\n            controller: CtrlPage,\n            controllerAs: 'ctrlPage',\n            bindToController: true\n        }\n    }\n\n    angular.module('app')\n        .directive('page', pageDirective);\n} \n\n\nmodule app.page.directives {\n\n    class CtrlBtnBar {\n        private actions: string[];\n    }\n\n    function buttonBar() {\n        return {\n            restrict: 'E',\n            replace: true,\n            template: '&lt;div class=\"buttonBar\"&gt;&lt;btn action=\"CtrlBtnBar.actions[0]\"&gt;&lt;/btn&gt;&lt;btn action=\"CtrlBtnBar.actions[1]\"&gt;&lt;/btn&gt;&lt;/div&gt;'\n            controller: CtrlBtnBar,\n            controllerAs: 'CtrlBtnBar',\n            bindToController: {\n                actions: '='\n            }\n        }\n    }\n\n    angular.module('app')\n        .directive('buttonBar', buttonBar);\n}\n\nmodule app.page.directives {\n    class CtrlBtn {\n        private action: string;\n        handleClick(){\n            if (action === 'goNext'){\n                CtrlPage.goNext(); /// Here is where I need help\n            }\n        }\n    }\n\n    function btnDirective(){\n        return {\n            restrict: 'E',\n            replace: true,\n            template: '&lt;input type=\"button\" value=\"someCaption\" ng-click=\"CtrlBtn.handleClick()\"/&gt;',\n            controller: CtrlBtn,\n            controllerAs: 'ctrlBtn',\n            bindToController: {\n                action: '@'\n            }\n        }\n    }\n\n    angular.module('app')\n        .direct\u00edve('btn', btnDirective);\n}\n</code></pre>\n\n<p>If you run the code in <a href=\"http://www.typescriptlang.org/Playground\" rel=\"nofollow\">http://www.typescriptlang.org/Playground</a> you will see that typescript understandably objects to CtrlPage reference from within btnDirective controller CtrlBtn, because within this context CtrlPage does not exist. Must we use angular $scope to access the \"goNext\" method, given that the btnDirective is dumb and is not aware of its parents controllers and only receives inputs from its attributes? Taking radim's tip into consideration I guess the answer is yes.</p>\n"}, {"tags": ["typescript", "typescript1.7"], "answers": [{"comments": [{"owner": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "edited": false, "score": 0, "creation_date": 1449334632, "post_id": 34108094, "comment_id": 55966192, "body": "Thanks, how would I also do it for Number.prototype.test(min, max) that returns a number?"}, {"owner": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "reply_to_user": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "edited": false, "score": 0, "creation_date": 1449339193, "post_id": 34108094, "comment_id": 55967977, "body": "@CodeiSir I get  error TS2339: Property &#39;test&#39; does not exist on type &#39;Number&#39;."}, {"owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "reply_to_user": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "edited": false, "score": 1, "creation_date": 1449340207, "post_id": 34108094, "comment_id": 55968290, "body": "@SuperUberDuper  <code>TS2339</code> maybe fell in the same trap as I did. Any <code>import</code> or <code>export</code> statement in that file ? See <a href=\"https://github.com/Microsoft/TypeScript/issues/5944\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/5944</a>"}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "edited": false, "score": 0, "creation_date": 1449340261, "post_id": 34108094, "comment_id": 55968318, "body": "@SuperUberDuper I posted an answer where the complete code is working"}, {"owner": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "reply_to_user": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "edited": false, "score": 0, "creation_date": 1449342702, "post_id": 34108094, "comment_id": 55969110, "body": "@CodeiSir there are 5 exports in that file, I moved it to the top level Main.ts file and it works. (entry point to webpack ts-loader)"}, {"owner": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "edited": false, "score": 0, "creation_date": 1449835031, "post_id": 34108094, "comment_id": 56189692, "body": "I think its caused by ts-loader?"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 3, "last_activity_date": 1449334207, "creation_date": 1449334207, "answer_id": 34108094, "question_id": 34108048, "link": "https://stackoverflow.com/questions/34108048/cant-change-number-prototype-in-typescript-1-7-3/34108094#34108094", "title": "Can&#39;t change Number.prototype in typescript 1.7.3", "body": "<p>Add a declaration to add the member to <code>Number</code>:</p>\n\n<pre><code>interface Number {\n    foo(): boolean;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "edited": false, "score": 0, "creation_date": 1449336888, "post_id": 34108590, "comment_id": 55967050, "body": "but it wont give him any type-support"}, {"owner": {"reputation": 18863, "user_id": 1000753, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/23634e7a38e353cca12bb72a4205615b?s=128&d=identicon&r=PG", "display_name": "pinoyyid", "link": "https://stackoverflow.com/users/1000753/pinoyyid"}, "reply_to_user": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "edited": false, "score": 0, "creation_date": 1449337195, "post_id": 34108590, "comment_id": 55967170, "body": "that&#39;s correct, which is why I called it the coward&#39;s way out. Not all devs want everything typed all of the time."}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "edited": false, "score": 0, "creation_date": 1449337304, "post_id": 34108590, "comment_id": 55967213, "body": "I just wanted to clarify it, in case someone was wondering ;-) Maybe put it in your answer, and I&#39;ll delete the comments"}], "tags": [], "owner": {"reputation": 18863, "user_id": 1000753, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/23634e7a38e353cca12bb72a4205615b?s=128&d=identicon&r=PG", "display_name": "pinoyyid", "link": "https://stackoverflow.com/users/1000753/pinoyyid"}, "is_accepted": false, "score": 3, "last_activity_date": 1449371114, "last_edit_date": 1449371114, "creation_date": 1449336795, "answer_id": 34108590, "question_id": 34108048, "link": "https://stackoverflow.com/questions/34108048/cant-change-number-prototype-in-typescript-1-7-3/34108590#34108590", "title": "Can&#39;t change Number.prototype in typescript 1.7.3", "body": "<p>Or, take the coward's way out and go <code>Number.prototype['foo']=</code></p>\n\n<p>You won't get any type checking, but then again if you wanted type checking you'd have added it. It's worth knowing about <code>foo['bar']</code> as a quick fix for \"Property 'bar' does not exist on type 'foo'\"</p>\n"}, {"comments": [{"owner": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "edited": false, "score": 0, "creation_date": 1449771577, "post_id": 34109278, "comment_id": 56162310, "body": "for some reason this still doesn&#39;t work for me: error TS2339: Property &#39;test&#39; does not exist on type &#39;Number&#39;. ts v 1.7"}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "edited": false, "score": 0, "creation_date": 1449775274, "post_id": 34109278, "comment_id": 56164119, "body": "Wow you are right, for some reason the semicolon is needed: <code>Number.prototype.test = function (min, max) { return 0 };</code> ..."}, {"owner": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "edited": false, "score": 0, "creation_date": 1449834724, "post_id": 34109278, "comment_id": 56189513, "body": "when I click run it takes me to another page."}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "edited": false, "score": 0, "creation_date": 1449846525, "post_id": 34109278, "comment_id": 56197062, "body": "I don&#39;t know why the link would not work for you. But there is only the same code again"}, {"owner": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "edited": false, "score": 0, "creation_date": 1449846910, "post_id": 34109278, "comment_id": 56197294, "body": "the ts playground never run for me. Seems broken on the mac"}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "edited": false, "score": 0, "creation_date": 1449848615, "post_id": 34109278, "comment_id": 56198380, "body": ":D I hope you don&#39;t use Safari ;) Is you problem solved by the way?"}], "tags": [], "owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "is_accepted": false, "score": 1, "last_activity_date": 1449775277, "last_edit_date": 1449775277, "creation_date": 1449340227, "answer_id": 34109278, "question_id": 34108048, "link": "https://stackoverflow.com/questions/34108048/cant-change-number-prototype-in-typescript-1-7-3/34109278#34109278", "title": "Can&#39;t change Number.prototype in typescript 1.7.3", "body": "<pre><code>interface Number { test(min, max): number; }    \n\nNumber.prototype.test = function (min, max) { return 0 };\n\n// Examples:\n(1).test(0, 0)\n\nvar a = 1\na.test(0, 0)\n</code></pre>\n\n<p>Live Code: <a href=\"http://www.typescriptlang.org/Playground#src=interface%20Number%20%7B%20test(min%2C%20max)%3A%20number%3B%20%7D%20%20%20%20%0A%0ANumber.prototype.test%20%3D%20function%20(min%2C%20max)%20%7B%20return%200%20%7D%3B%20%0A%0A(1).test(0%2C%200)%0A%0Avar%20a%20%3D%201%0Aa.test(0%2C%200)\" rel=\"nofollow\">typescriptlang.org/Playground</a></p>\n"}], "owner": {"reputation": 8268, "user_id": 3915717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/OTZ63.jpg?s=128&g=1", "display_name": "SuperUberDuper", "link": "https://stackoverflow.com/users/3915717/superuberduper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1449835002, "creation_date": 1449333962, "last_edit_date": 1449835002, "question_id": 34108048, "link": "https://stackoverflow.com/questions/34108048/cant-change-number-prototype-in-typescript-1-7-3", "title": "Can&#39;t change Number.prototype in typescript 1.7.3", "body": "<p>I used to be able to do this in Ts 1.0 but now I get the error <code>Property 'foo' does not exist on type 'Number'</code></p>\n\n<pre><code>Number.prototype.foo = function(foo) {\n    return true\n};\n</code></pre>\n\n<p>UPDATE</p>\n\n<p>so far none of the answers below have worked for me. I'm using ts-loader and babel</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1449333175, "post_id": 34107852, "comment_id": 55965644, "body": "have you check this part <a href=\"https://angular.io/docs/ts/latest/quickstart.html#add-index-html-\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/quickstart.html#add-index-html-</a> ?"}, {"owner": {"reputation": 25178, "user_id": 634710, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nv0Zl.jpg?s=128&g=1", "display_name": "DotnetSparrow", "link": "https://stackoverflow.com/users/634710/dotnetsparrow"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1449333869, "post_id": 34107852, "comment_id": 55965935, "body": "@PankajParkar is it related to this error ?"}, {"owner": {"reputation": 18863, "user_id": 1000753, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/23634e7a38e353cca12bb72a4205615b?s=128&d=identicon&r=PG", "display_name": "pinoyyid", "link": "https://stackoverflow.com/users/1000753/pinoyyid"}, "edited": false, "score": 0, "creation_date": 1449337098, "post_id": 34107852, "comment_id": 55967127, "body": "as a workaround, you can put a path in front thus <code>..&#47;typings&#47;angular2&#47;angular2</code>"}], "answers": [{"comments": [{"owner": {"reputation": 25178, "user_id": 634710, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nv0Zl.jpg?s=128&g=1", "display_name": "DotnetSparrow", "link": "https://stackoverflow.com/users/634710/dotnetsparrow"}, "edited": false, "score": 0, "creation_date": 1449333612, "post_id": 34107920, "comment_id": 55965825, "body": "Thanks for quick response. I placed tsconfig.json to root but getting different error <a href=\"http://prntscr.com/9anlzk\" rel=\"nofollow noreferrer\">prntscr.com/9anlzk</a>.  my tsconfig file look like this: <a href=\"http://prntscr.com/9anmn1\" rel=\"nofollow noreferrer\">prntscr.com/9anmn1</a>"}, {"owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "reply_to_user": {"reputation": 25178, "user_id": 634710, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nv0Zl.jpg?s=128&g=1", "display_name": "DotnetSparrow", "link": "https://stackoverflow.com/users/634710/dotnetsparrow"}, "edited": false, "score": 0, "creation_date": 1449334259, "post_id": 34107920, "comment_id": 55966072, "body": "I think it shouldn&#39;t be under wwwroot either, just under the project root at the same level as project.json. This is my project structure <a href=\"http://imgur.com/gV1QLLv\" rel=\"nofollow noreferrer\">imgur.com/gV1QLLv</a>"}, {"owner": {"reputation": 25178, "user_id": 634710, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nv0Zl.jpg?s=128&g=1", "display_name": "DotnetSparrow", "link": "https://stackoverflow.com/users/634710/dotnetsparrow"}, "edited": false, "score": 0, "creation_date": 1449334965, "post_id": 34107920, "comment_id": 55966309, "body": "that didnt work either. I started getting cannot find module &quot;angular2/angular&quot; Please check this <a href=\"http://prntscr.com/9anwyq\" rel=\"nofollow noreferrer\">prntscr.com/9anwyq</a>. by the way I am not using gulpfile."}, {"owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "reply_to_user": {"reputation": 25178, "user_id": 634710, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nv0Zl.jpg?s=128&g=1", "display_name": "DotnetSparrow", "link": "https://stackoverflow.com/users/634710/dotnetsparrow"}, "edited": false, "score": 0, "creation_date": 1449336466, "post_id": 34107920, "comment_id": 55966898, "body": "Can you move the typings folder into the root as well? The idea is that your scripts/tsd/intermediate files go into the root of the project and the build transpiles to js and the js goes into the wwwroot which is what you deploy."}, {"owner": {"reputation": 25178, "user_id": 634710, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nv0Zl.jpg?s=128&g=1", "display_name": "DotnetSparrow", "link": "https://stackoverflow.com/users/634710/dotnetsparrow"}, "edited": false, "score": 0, "creation_date": 1449398526, "post_id": 34107920, "comment_id": 55982036, "body": "this didnt help. Please have a look at <a href=\"https://www.dropbox.com/s/dgdibivnl4c55vf/Angular2Typescript.rar?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/dgdibivnl4c55vf/Angular2Typescript.rar?dl=0</a>.  By the way I am using beta 8. Please have a look at <a href=\"http://prntscr.com/9ax6gx\" rel=\"nofollow noreferrer\">prntscr.com/9ax6gx</a>"}, {"owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "reply_to_user": {"reputation": 25178, "user_id": 634710, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nv0Zl.jpg?s=128&g=1", "display_name": "DotnetSparrow", "link": "https://stackoverflow.com/users/634710/dotnetsparrow"}, "edited": false, "score": 0, "creation_date": 1449404501, "post_id": 34107920, "comment_id": 55983621, "body": "If you look in the angular2.d.ts file you&#39;ll see there&#39;s no actual typescript definitions there. You need to &quot;npm install angular2&quot;, then the node module resolution will pick it up. Also, remove the spaces in your import statement"}, {"owner": {"reputation": 25178, "user_id": 634710, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nv0Zl.jpg?s=128&g=1", "display_name": "DotnetSparrow", "link": "https://stackoverflow.com/users/634710/dotnetsparrow"}, "reply_to_user": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "edited": false, "score": 0, "creation_date": 1449408429, "post_id": 34107920, "comment_id": 55984724, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/97114/discussion-between-dotnetsparrow-and-daniel-cook\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 244, "user_id": 5644111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ad0d4f9e095569c8274ae502cbb749?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cook", "link": "https://stackoverflow.com/users/5644111/daniel-cook"}, "is_accepted": true, "score": 1, "last_activity_date": 1449408884, "last_edit_date": 1449408884, "creation_date": 1449333241, "answer_id": 34107920, "question_id": 34107852, "link": "https://stackoverflow.com/questions/34107852/cannot-find-module-angular2-angular/34107920#34107920", "title": "cannot find module &quot;angular2/angular&quot;", "body": "<p>tsd for angular2 does not actually create the typings file in your typings directory instead it needs to be installed using node:</p>\n\n<pre><code>npm install -save angular2\n</code></pre>\n\n<p>Then in your tsdconfig.json, you need to enable node module resolution under compilerOptions:</p>\n\n<pre><code>\"moduleResolution\": \"node\"\n</code></pre>\n"}], "owner": {"reputation": 25178, "user_id": 634710, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/nv0Zl.jpg?s=128&g=1", "display_name": "DotnetSparrow", "link": "https://stackoverflow.com/users/634710/dotnetsparrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "accepted_answer_id": 34107920, "answer_count": 1, "score": 1, "last_activity_date": 1506528394, "creation_date": 1449332897, "last_edit_date": 1506528394, "question_id": 34107852, "link": "https://stackoverflow.com/questions/34107852/cannot-find-module-angular2-angular", "title": "cannot find module &quot;angular2/angular&quot;", "body": "<p>I am following Angular js tutorial from <a href=\"https://angular.io/guide/quickstart\" rel=\"nofollow noreferrer\">https://angular.io/guide/quickstart</a></p>\n\n<p>and I am trying to use this code:</p>\n\n<pre><code>import {bootstrap, Component} from 'angular2/angular2';\n@Component({\n    selector: 'my-app',\n    template: '&lt;h1&gt;My First Angular 2 App&lt;/h1&gt;'\n})\nclass AppComponent { }\nbootstrap(AppComponent);\n</code></pre>\n\n<p>but I get this error:</p>\n\n<blockquote>\n  <p>cannot find module \"angular2/angular\"</p>\n</blockquote>\n\n<p>Here is my folder structure:</p>\n\n<p><img src=\"https://i.imgur.com/q6c68OG.png\" alt=\"Image\"></p>\n"}, {"tags": ["node.js", "typescript", "angular"], "owner": {"reputation": 3359, "user_id": 4777077, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/C35SU.png?s=128&g=1", "display_name": "Eggy", "link": "https://stackoverflow.com/users/4777077/eggy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1449332756, "creation_date": 1449332756, "question_id": 34107821, "link": "https://stackoverflow.com/questions/34107821/what-would-be-the-best-project-structure-for-angular2-nodejs-application", "title": "What would be the best project structure for angular2/nodejs application?", "body": "<p>I currently have something like this:</p>\n\n<pre><code>root/\n  node_modules/\n  public/\n    app/\n    tsconfig.json\n    index.html\n  server/\n    tsconfig.json\n    app.ts\n    someModule.ts\n</code></pre>\n\n<p>I want express server(server/app.ts) to give me access to <code>root/</code> but the best I get is <code>server/</code>(transpiled files go to to the same dir). I really would like to have server files in different directory then <code>root/</code>.</p>\n\n<p>By the way I use typescript on nodejs because of great intellisense.</p>\n"}, {"tags": ["typescript", "tsx"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1449443842, "creation_date": 1449443842, "answer_id": 34124070, "question_id": 34107590, "link": "https://stackoverflow.com/questions/34107590/tsx-to-jsx-transformation-doesnt-match-closing-tag-correctly/34124070#34124070", "title": "TSX to JSX transformation doesn&#39;t match closing tag correctly", "body": "<blockquote>\n  <p>What am i doing wrong ?</p>\n</blockquote>\n\n<p>Nothing. Bug in the compiler. Reported : <a href=\"https://github.com/Microsoft/TypeScript/issues/5962\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/issues/5962</a> \ud83c\udf39</p>\n"}, {"tags": [], "owner": {"reputation": 457, "user_id": 2198954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/620c4b54309dd97543a0fb30ab8e8904?s=128&d=identicon&r=PG", "display_name": "Vincent J", "link": "https://stackoverflow.com/users/2198954/vincent-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1449697576, "creation_date": 1449697576, "answer_id": 34189609, "question_id": 34107590, "link": "https://stackoverflow.com/questions/34107590/tsx-to-jsx-transformation-doesnt-match-closing-tag-correctly/34189609#34189609", "title": "TSX to JSX transformation doesn&#39;t match closing tag correctly", "body": "<p>It has been fixed in Master\n<a href=\"https://github.com/Microsoft/TypeScript/pull/5974\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/pull/5974</a>\nThanks. </p>\n"}], "owner": {"reputation": 457, "user_id": 2198954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/620c4b54309dd97543a0fb30ab8e8904?s=128&d=identicon&r=PG", "display_name": "Vincent J", "link": "https://stackoverflow.com/users/2198954/vincent-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1449697576, "creation_date": 1449331592, "question_id": 34107590, "link": "https://stackoverflow.com/questions/34107590/tsx-to-jsx-transformation-doesnt-match-closing-tag-correctly", "title": "TSX to JSX transformation doesn&#39;t match closing tag correctly", "body": "<p>With following TSX code :</p>\n\n<pre><code>Import {Provider} from \"react-redux\"\n\nReactDOM.render(\n        &lt;Provider&gt;\n          &lt;App /&gt;\n        &lt;/Provider&gt; , document.getElementById('app')\n      );\n</code></pre>\n\n<p>I get following JSX code when using 'preserve' option:</p>\n\n<pre><code>ReactDOM.render(&lt;react_redux_1.Provider&gt;\n      &lt;App_1.default /&gt;\n    &lt;/Provider&gt;, document.getElementById('app'));\n</code></pre>\n\n<p>\"/Provider\" closing tag doesn't match \"react_redux_1.Provider\" opening tag</p>\n\n<p>What am i doing wrong ?</p>\n\n<p>typescript 1.8.0-dev.20151204\nTarget es5\nModules commonjs\njsx preserve</p>\n"}, {"tags": ["unit-testing", "typescript", "jasmine", "amd", "chutzpah"], "answers": [{"tags": [], "owner": {"reputation": 8682, "user_id": 64121, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d518503a8b459ab2066d1623872e94bd?s=128&d=identicon&r=PG", "display_name": "Dan Bystr&#246;m", "link": "https://stackoverflow.com/users/64121/dan-bystr%c3%b6m"}, "is_accepted": true, "score": 0, "last_activity_date": 1450079260, "creation_date": 1450079260, "answer_id": 34261985, "question_id": 34106798, "link": "https://stackoverflow.com/questions/34106798/typescriptjasmine-when-tested-class-is-within-module-definition/34261985#34261985", "title": "TypeScript+Jasmine when tested class is within module definition", "body": "<p>Add a Chutzpah.json file in the same directory as the tests:</p>\n\n<pre><code>{\n    \"Compile\": {\n        \"Mode\": \"External\",\n        \"Extensions\": [ \".ts\" ],\n        \"ExtensionsWithNoOutput\": [ \".d.ts\" ],\n        \"SourceDirectory\": \"../\",\n        \"OutDirectory\": \"../\"\n    }\n}\n</code></pre>\n\n<p>And just remove:</p>\n\n<pre><code>import Calculator = require(\"../NancyApplication506/app/Calculator\");\n</code></pre>\n"}], "owner": {"reputation": 8682, "user_id": 64121, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d518503a8b459ab2066d1623872e94bd?s=128&d=identicon&r=PG", "display_name": "Dan Bystr&#246;m", "link": "https://stackoverflow.com/users/64121/dan-bystr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 957, "favorite_count": 0, "accepted_answer_id": 34261985, "answer_count": 1, "score": 0, "last_activity_date": 1450079260, "creation_date": 1449326834, "question_id": 34106798, "link": "https://stackoverflow.com/questions/34106798/typescriptjasmine-when-tested-class-is-within-module-definition", "title": "TypeScript+Jasmine when tested class is within module definition", "body": "<p>I'm unable to figure out how to write a Jasmine test in TypeScript when the class to be tested is inside a module definition. This setup works fine:</p>\n\n<p>Calculator.ts:</p>\n\n<pre><code>export class Calculator {\n    add(x: number, y: number): number {\n        return x + y;\n    }\n}\n</code></pre>\n\n<p>CalculatorTest.ts:</p>\n\n<pre><code>///&lt;reference path=\"scripts/typings/jasmine/jasmine.d.ts\"/&gt;\n///&lt;reference path=\"../NancyApplication506/app/Calculator.ts\"/&gt;\nimport Calculator = require(\"../NancyApplication506/app/Calculator\");\n\ndescribe(\"Calculator tests\", () =&gt; {\n    var calculator: Calculator.Calculator;\n\n    beforeEach(() =&gt; {\n        calculator = new Calculator.Calculator();\n    });\n    it(\"should be able to add\", () =&gt; {\n        expect(calculator.add(21,21)).toBe(42);\n    });\n});\n</code></pre>\n\n<p>When I change Calculator.ts like this, however, I have been unable to figure out how to write my test.</p>\n\n<pre><code>module SomeModuleName {\n    export class Calculator {\n        add(x: number, y: number): number {\n            return x + y;\n        }\n    }\n}\n</code></pre>\n\n<p>I have tried dozens of different things, all resulting in complete failure. Please please please help!</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 671, "user_id": 3052526, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2117236b1d9c6d4d0e049ff8cc8deb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user3052526", "link": "https://stackoverflow.com/users/3052526/user3052526"}, "reply_to_user": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1449325626, "post_id": 34106514, "comment_id": 55963242, "body": "Typescript throws an error if i have it directly or with a vm"}], "answers": [{"comments": [{"owner": {"reputation": 671, "user_id": 3052526, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2117236b1d9c6d4d0e049ff8cc8deb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user3052526", "link": "https://stackoverflow.com/users/3052526/user3052526"}, "edited": false, "score": 0, "creation_date": 1449326358, "post_id": 34106643, "comment_id": 55963455, "body": "Dude those both methods worked, how was i missing this. had been trying to solve it for 2.5 hours now. Thanks mate"}, {"owner": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "reply_to_user": {"reputation": 671, "user_id": 3052526, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2117236b1d9c6d4d0e049ff8cc8deb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user3052526", "link": "https://stackoverflow.com/users/3052526/user3052526"}, "edited": false, "score": 0, "creation_date": 1449327233, "post_id": 34106643, "comment_id": 55963659, "body": "Cool, glad it helped."}], "tags": [], "owner": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "is_accepted": true, "score": 2, "last_activity_date": 1449326129, "last_edit_date": 1449326129, "creation_date": 1449325817, "answer_id": 34106643, "question_id": 34106514, "link": "https://stackoverflow.com/questions/34106514/typescript-angularjs-scope-issue/34106643#34106643", "title": "Typescript AngularJS Scope Issue", "body": "<p>You can use arrow function to keep lexical scope:</p>\n\n<pre><code>getCustomers() {\n    this.ApiServices.get_request_params(, \"\")\n        .then(data =&gt; this.RememberSrvc.remember(data), function (err) {\n            // handle error\n        });\n}\n</code></pre>\n\n<p>Or you could also bind context explicitly:</p>\n\n<pre><code>this.ApiServices.get_request_params(, \"\")\n    .then(this.RememberSrvc.remember.bind(this), function (err) {\n        // handle error\n    });\n</code></pre>\n"}], "owner": {"reputation": 671, "user_id": 3052526, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2117236b1d9c6d4d0e049ff8cc8deb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user3052526", "link": "https://stackoverflow.com/users/3052526/user3052526"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 34106643, "answer_count": 1, "score": 2, "last_activity_date": 1449326129, "creation_date": 1449325070, "last_edit_date": 1449325876, "question_id": 34106514, "link": "https://stackoverflow.com/questions/34106514/typescript-angularjs-scope-issue", "title": "Typescript AngularJS Scope Issue", "body": "<p>I have the following Typescript:</p>\n\n<pre><code>module MainCtrl {\n    interface IMainController {\n        getCustomers(): any;\n    }\n\n    class MainController implements IMainController {\n        static $inject = ['$scope', 'ApiServices','RememberSrvc'];\n        constructor(private $scope: any,\n                private ApiServices: ApiServices.IApiService,\n                private RememberSrvc: RememberSrvc.IRememberService) {\n            var vm = this;\n\n        }\n\n        getCustomers(){\n\n            this.ApiServices.get_request_params(, \"\")\n                .then(function(data) {\n                    this.RememberSrvc.remember(data);//this is not working\n                }, function(err) {\n\n                });\n\n            }\n\n    }\n\n    angular.module('app').controller('MainCtrl', MainController);\n}\n</code></pre>\n\n<p>I cannot access the <code>RememberSrvc</code> from the <code>then</code> block. And although I can console.log the response. I cannot bind data to my view.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1903, "user_id": 595136, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/27d2533dcc77c3c324162240b4d99cd8?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/595136/marius"}, "edited": false, "score": 0, "creation_date": 1449403901, "post_id": 34108244, "comment_id": 55983449, "body": "Thanks for highlighting the difference between static and instance side, it makes sense now."}], "tags": [], "owner": {"reputation": 900, "user_id": 1802646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7f11cd35e0f239f3e3f9d62f6da8937?s=128&d=identicon&r=PG", "display_name": "Guenter Guckelsberger", "link": "https://stackoverflow.com/users/1802646/guenter-guckelsberger"}, "is_accepted": true, "score": 1, "last_activity_date": 1449335016, "creation_date": 1449335016, "answer_id": 34108244, "question_id": 34106482, "link": "https://stackoverflow.com/questions/34106482/no-error-from-typescript-compiler-when-constructor-receives-different-parameters/34108244#34108244", "title": "No error from Typescript compiler when constructor receives different parameters types as the ones from the implemented interface", "body": "<p>If you want the typescript compiler to see this error you could declare your constructor like constructor(public height:number, public width:number)</p>\n\n<p>To understand, why it doesn't do it in your example there is a good explanation <a href=\"http://www.typescriptlang.org/Handbook#classes-static-properties\" rel=\"nofollow\">here</a></p>\n\n<p>and <a href=\"http://www.typescriptlang.org/Handbook#interfaces-class-types\" rel=\"nofollow\">here</a> There is an important distinction between the static side and the instance side of a class. Hope that helps. </p>\n"}], "owner": {"reputation": 1903, "user_id": 595136, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/27d2533dcc77c3c324162240b4d99cd8?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/595136/marius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 34108244, "answer_count": 1, "score": 0, "last_activity_date": 1501407648, "creation_date": 1449324885, "last_edit_date": 1501407648, "question_id": 34106482, "link": "https://stackoverflow.com/questions/34106482/no-error-from-typescript-compiler-when-constructor-receives-different-parameters", "title": "No error from Typescript compiler when constructor receives different parameters types as the ones from the implemented interface", "body": "<p>I have tried the following code:</p>\n\n<pre><code>interface IRectangle {\n    height: number;\n    width: number;\n    getArea: ()=&gt;number;\n}\n\nmodule Shapes {\n    export class Rectangle implements IRectangle {\n        constructor(public height, public width) {\n        }\n\n        getArea() {\n            return this.width * this.height;\n        }\n    }\n}\n\nconsole.log(new Shapes.Rectangle(12, 'a').getArea());\n</code></pre>\n\n<p>I'm expecting that the typescript compiler should give me an error when trying to supply a character to the constructor (last code line) even tough the interface (IRectangle) says that both fields should be of type number. But I don't receive any error. Why is the reason behind this behaviour?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449399074, "post_id": 34104277, "comment_id": 55982143, "body": "I think you are looking for <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/share.md\" rel=\"nofollow noreferrer\">share</a>.I have a <a href=\"http://plnkr.co/edit/hM4TSt4hlx4DA4xe37WU?p=preview\" rel=\"nofollow noreferrer\">plnkr</a> so you can see it working. Note that this is not caching, but it may work for you :) (Run it once and see the network tab, then remove <code>.share()</code> from the <code>http.get</code> and see the difference)."}, {"owner": {"reputation": 1572, "user_id": 648546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7632eac0330915c387002d624111018f?s=128&d=identicon&r=PG", "display_name": "Sagi ", "link": "https://stackoverflow.com/users/648546/sagi"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449873478, "post_id": 34104277, "comment_id": 56211194, "body": "I tried your method, but when calling the getUserProfile (with .share()) from two different components, the GET request still gets executed twice on the server. This is though the ProfileService is injected in both constructors of the calling components using @Inject(ProfileService) profileService. What am I missing here?"}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449873948, "post_id": 34104277, "comment_id": 56211404, "body": "that depends. If you are injecting the service in each component you are getting two different instances (by injecting I mean using <code>providers&#47;viewProviers</code>). If that&#39;s the case you should inject it only in your top level component (between those two). If that&#39;s not the case you should add more code and a repro if possible."}, {"owner": {"reputation": 1572, "user_id": 648546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7632eac0330915c387002d624111018f?s=128&d=identicon&r=PG", "display_name": "Sagi ", "link": "https://stackoverflow.com/users/648546/sagi"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449874851, "post_id": 34104277, "comment_id": 56211750, "body": "they all use the same instance of ProfileService (I verified this by putting some private i integer, inceasing it by one each time method is called and printing it to log, it prints 0,1,2... so it means the same instance is used each time). Yet still, for some reason each time the getUserProfile method is called, the GET request is performed once again on the server."}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 1, "creation_date": 1449875688, "post_id": 34104277, "comment_id": 56212061, "body": "You&#39;re right, I just tried and experienced the same issue. What I found is that using the method to return a <code>share()</code> it will return a different share everytime (that kind of makes sense, didn&#39;t see it at first). But if you refactor it to make the request in the constructor and assigning it to a variable it will work. <b>TL;DR</b> plnkr with the example working : <a href=\"http://plnkr.co/edit/kvha8GH0b9qkw98xLZO5?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/kvha8GH0b9qkw98xLZO5?p=preview</a>"}, {"owner": {"reputation": 1572, "user_id": 648546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7632eac0330915c387002d624111018f?s=128&d=identicon&r=PG", "display_name": "Sagi ", "link": "https://stackoverflow.com/users/648546/sagi"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449940595, "post_id": 34104277, "comment_id": 56227111, "body": "First of all, wow! Nice catch. Indeed it works. You can put it as answer and I will accept, I&#39;m sure it will help other in the future. Second, any ideas if I can also add parameters to this premade GET, as you can see I need to pass userId into my GET request. Thanks!"}, {"owner": {"reputation": 2375, "user_id": 248646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2072ad0489a6664729a462664d579077?s=128&d=identicon&r=PG", "display_name": "sdornan", "link": "https://stackoverflow.com/users/248646/sdornan"}, "edited": false, "score": 0, "creation_date": 1456359595, "post_id": 34104277, "comment_id": 58915218, "body": "Is there any way to do this between routes?"}], "answers": [{"comments": [{"owner": {"reputation": 4158, "user_id": 2681823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000507134761/picture?type=large", "display_name": "tibbus", "link": "https://stackoverflow.com/users/2681823/tibbus"}, "edited": false, "score": 0, "creation_date": 1459794809, "post_id": 34244447, "comment_id": 60436367, "body": "Hi, nice example, but it doesn&#39;t work for example if you have the request on a click event, it will make a new xhr request every time Ex: <a href=\"http://plnkr.co/edit/Z8amRJmxQ70z9ltBALbk?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/Z8amRJmxQ70z9ltBALbk?p=preview</a> (click on the blue square and observe the network tab).  In my app I created a new ReplaySubject Observable to cache the HTTP, I want to use the share() method but it&#39;s weird why in some cases it doesn&#39;t work."}, {"owner": {"reputation": 4158, "user_id": 2681823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000507134761/picture?type=large", "display_name": "tibbus", "link": "https://stackoverflow.com/users/2681823/tibbus"}, "edited": false, "score": 0, "creation_date": 1459796218, "post_id": 34244447, "comment_id": 60437136, "body": "Ah, actually I get it(after some tests and reading the rxjs docs), so it will share the same observable value to all the existing subscriptions, but once there are no subscriptions and you create a new one, then it will request a new value, therefore a new xhr request."}, {"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "edited": false, "score": 0, "creation_date": 1473105787, "post_id": 34244447, "comment_id": 66005188, "body": "@Eric Martinez : the plunker doesn&#39;t run anymore..."}], "tags": [], "owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "is_accepted": true, "score": 10, "last_activity_date": 1449951123, "creation_date": 1449951123, "answer_id": 34244447, "question_id": 34104277, "link": "https://stackoverflow.com/questions/34104277/caching-results-with-angular2-http-service/34244447#34244447", "title": "caching results with angular2 http service", "body": "<p>Regarding your last comment, this is the easiest way I can think of : Create a service that will have one property and that property will hold the request.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Service {\n  _data;\n  get data() {\n    return this._data;\n  }\n  set data(value) {\n    this._data = value;\n  }\n}\n</code></pre>\n\n<p>As simple as that. Everything else in the plnkr would be untouched. I removed the request from the Service because it will be instantiated automatically (we don't do <code>new Service...</code>, and I'm not aware of an easy way to pass a parameter through the constructor).</p>\n\n<p>So, now, we have the Service, what we do now is make the request in our component and assign it to the Service variable <code>data</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class App {\n  constructor(http: Http, svc: Service) {\n\n    // Some dynamic id\n    let someDynamicId = 2;\n\n    // Use the dynamic id in the request\n    svc.data = http.get('http://someUrl/someId/'+someDynamicId).share();\n\n    // Subscribe to the result\n    svc.data.subscribe((result) =&gt; {\n      /* Do something with the result */\n    });\n  }\n}\n</code></pre>\n\n<p>Remember that our Service instance is the same one for every component, so when we assign a value to <code>data</code> it will be reflected in every component.</p>\n\n<p>Here's the <a href=\"http://plnkr.co/edit/bsJaghFp321dcGwagYEN?p=preview\" rel=\"noreferrer\">plnkr</a> with a working example.</p>\n\n<p><strong>Reference</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/share.md\" rel=\"noreferrer\">RxJS share operator</a> </li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 312, "user_id": 1613104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dAUTC.jpg?s=128&g=1", "display_name": "LittleTiger", "link": "https://stackoverflow.com/users/1613104/littletiger"}, "edited": false, "score": 0, "creation_date": 1460729118, "post_id": 36413003, "comment_id": 60892021, "body": "Gunter&#39;s answer is very helpful, but yours seems even better given that it uses pure RxJS functionality. How difficult to find out about it, but how nice and simple it is once you know what to use (ReplaySubject!). Thanks! :)"}, {"owner": {"reputation": 4158, "user_id": 2681823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000507134761/picture?type=large", "display_name": "tibbus", "link": "https://stackoverflow.com/users/2681823/tibbus"}, "reply_to_user": {"reputation": 312, "user_id": 1613104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dAUTC.jpg?s=128&g=1", "display_name": "LittleTiger", "link": "https://stackoverflow.com/users/1613104/littletiger"}, "edited": false, "score": 0, "creation_date": 1460853206, "post_id": 36413003, "comment_id": 60934001, "body": "Thanks, I&#39;m glad that you liked it. I also just edited the post and covered 2 more cases which where not covered: The case when the request fails, now it will make another request and the case when you make many requests in the same time."}, {"owner": {"reputation": 507, "user_id": 1438115, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/aczyW.jpg?s=128&g=1", "display_name": "Marinho Brand&#227;o", "link": "https://stackoverflow.com/users/1438115/marinho-brand%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1473102419, "post_id": 36413003, "comment_id": 66004055, "body": "very good point, I&#39;ve learned more about RxJs because of your answer :P but now a curiosity: how to turn it to be lazy loaded? I suppose the <code>.subscribe(...)</code> should be replaced by something else. I&#39;m trying to find what should be in place."}, {"owner": {"reputation": 5356, "user_id": 354881, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/hqYy8.jpg?s=128&g=1", "display_name": "albanx", "link": "https://stackoverflow.com/users/354881/albanx"}, "edited": false, "score": 0, "creation_date": 1479771370, "post_id": 36413003, "comment_id": 68689788, "body": "this has a small problem, when your url parameter change the request has to be redone, or say that the best will be to have a cache for the same url"}, {"owner": {"reputation": 4158, "user_id": 2681823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000507134761/picture?type=large", "display_name": "tibbus", "link": "https://stackoverflow.com/users/2681823/tibbus"}, "edited": false, "score": 0, "creation_date": 1479807810, "post_id": 36413003, "comment_id": 68702682, "body": "You have that <b>forceRefresh</b> arg, you can pass that as <b>True</b> when you change the URL and it will make a new request."}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1481384230, "post_id": 36413003, "comment_id": 69360687, "body": "Does the component have to unsubscribe when it&#39;s destroyed? Won&#39;t this leak memory every time a component subscribes to <code>getData()</code>?"}, {"owner": {"reputation": 133, "user_id": 2492808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/658fa1d9f58358bd09fe1396c80b1175?s=128&d=identicon&r=PG", "display_name": "Koshmaar", "link": "https://stackoverflow.com/users/2492808/koshmaar"}, "edited": false, "score": 0, "creation_date": 1489406705, "post_id": 36413003, "comment_id": 72641466, "body": "What is dataObject doing in Service? I can&#39;t see it used anywhere. Also, in order to make it work I had to add <code>() =&gt; { this.dataObserver.complete(); }</code>  - finish clause in subscribe, otherwise the requests didn&#39;t finish."}, {"owner": {"reputation": 4158, "user_id": 2681823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000507134761/picture?type=large", "display_name": "tibbus", "link": "https://stackoverflow.com/users/2681823/tibbus"}, "edited": false, "score": 0, "creation_date": 1489415263, "post_id": 36413003, "comment_id": 72647296, "body": "Do not use <b>complete()</b>, this will defeat all the caching purpose, on <b>complete()</b> the Subject will became cold therefore cannot emit data anymore. It&#39;s true <b>dataObject</b> is not used anymore, I removed it."}, {"owner": {"reputation": 5518, "user_id": 1038786, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b65d4cb1e20fe4f6ef881e2f66e7acac?s=128&d=identicon&r=PG", "display_name": "keldar", "link": "https://stackoverflow.com/users/1038786/keldar"}, "edited": false, "score": 1, "creation_date": 1496662579, "post_id": 36413003, "comment_id": 75737047, "body": "Just curious, could you also use a <code>BehaviorSubject</code>? Using a <code>ReplaySubject</code> with a buffer of 1 seems to equate to the same purpose of a <code>BehaviorSubject</code> IMO. The only benefit of a <code>ReplaySubject</code> I can see is you do not need an initial value which I guess simplifies things."}, {"owner": {"reputation": 2786, "user_id": 3930694, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6851423d47c488280e1f9037e2a84123?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3930694/nicky"}, "reply_to_user": {"reputation": 133, "user_id": 2492808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/658fa1d9f58358bd09fe1396c80b1175?s=128&d=identicon&r=PG", "display_name": "Koshmaar", "link": "https://stackoverflow.com/users/2492808/koshmaar"}, "edited": false, "score": 0, "creation_date": 1499254089, "post_id": 36413003, "comment_id": 76825235, "body": "Note that does won&#39;t work when used on route resolving. Like @Koshmaar said, you&#39;ll need the call the <code>complete()</code> method, which defeats the purpose of caching (like @tibbus explained)."}, {"owner": {"reputation": 5518, "user_id": 1038786, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b65d4cb1e20fe4f6ef881e2f66e7acac?s=128&d=identicon&r=PG", "display_name": "keldar", "link": "https://stackoverflow.com/users/1038786/keldar"}, "edited": false, "score": 0, "creation_date": 1504629321, "post_id": 36413003, "comment_id": 79079637, "body": "Also, why create a new ReplaySubject in the event of an error? As far as I can tell, calling <code>this.dataObs$.error(error);</code> clears observers, but doesn&#39;t mark the observable as <code>complete</code> (see: <a href=\"https://github.com/ReactiveX/rxjs/blob/master/src/Subject.ts#L66\" rel=\"nofollow noreferrer\">github.com/ReactiveX/rxjs/blob/master/src/Subject.ts#L66</a>) - thus, you can still subscribe to it in future? I&#39;m not questioning the implementation, just trying to gather a better explanation... :)"}, {"owner": {"reputation": 5518, "user_id": 1038786, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b65d4cb1e20fe4f6ef881e2f66e7acac?s=128&d=identicon&r=PG", "display_name": "keldar", "link": "https://stackoverflow.com/users/1038786/keldar"}, "edited": false, "score": 0, "creation_date": 1504629872, "post_id": 36413003, "comment_id": 79079892, "body": "Actually, ignore the last comment. I&#39;ve noticed <code>isStopped = true</code> as part of the <code>error(...)</code> logic, which doesn&#39;t stop subscribers, but stops the observable broadcasting data."}, {"owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "edited": false, "score": 0, "creation_date": 1506395881, "post_id": 36413003, "comment_id": 79792147, "body": "How can I do that if I want to update/modify the data cached?"}, {"owner": {"reputation": 4158, "user_id": 2681823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000507134761/picture?type=large", "display_name": "tibbus", "link": "https://stackoverflow.com/users/2681823/tibbus"}, "edited": false, "score": 0, "creation_date": 1506417244, "post_id": 36413003, "comment_id": 79801892, "body": "getData(forceRefresh?) has an argument , so if you use it like getData(true).subscribe(...)... then it will re-do the http request and request new data."}, {"owner": {"reputation": 1942, "user_id": 2492821, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/7YT48.jpg?s=128&g=1", "display_name": "Victor Bredihin", "link": "https://stackoverflow.com/users/2492821/victor-bredihin"}, "edited": false, "score": 0, "creation_date": 1511212942, "post_id": 36413003, "comment_id": 81756212, "body": "if you navigate from component to component it creates new request each time. I have to create extra variable to store last value of ReplaySubject and check if it exists in addition to observers.length. @tibbus can u confirm this problem or I&#39;m doing something wrong?"}, {"owner": {"reputation": 1942, "user_id": 2492821, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/7YT48.jpg?s=128&g=1", "display_name": "Victor Bredihin", "link": "https://stackoverflow.com/users/2492821/victor-bredihin"}, "edited": false, "score": 0, "creation_date": 1511213392, "post_id": 36413003, "comment_id": 81756428, "body": "looks like this problem only appears with resolvers"}, {"owner": {"reputation": 1942, "user_id": 2492821, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/7YT48.jpg?s=128&g=1", "display_name": "Victor Bredihin", "link": "https://stackoverflow.com/users/2492821/victor-bredihin"}, "edited": false, "score": 0, "creation_date": 1511213830, "post_id": 36413003, "comment_id": 81756624, "body": "@tibbus can u please post your resolver? For me it looks like when you use resolver with your code .observers.length doesn&#39;t change, and since u don&#39;t have any subscriptions it&#39;s creating new request each time"}, {"owner": {"reputation": 4158, "user_id": 2681823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000507134761/picture?type=large", "display_name": "tibbus", "link": "https://stackoverflow.com/users/2681823/tibbus"}, "edited": false, "score": 0, "creation_date": 1511238724, "post_id": 36413003, "comment_id": 81763980, "body": "I don&#39;t use any resolver, but it should not affect the behavior, I saw that the plunker doesn&#39;t work anymore as it&#39;s too old, will update it soon."}], "tags": [], "owner": {"reputation": 4158, "user_id": 2681823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100000507134761/picture?type=large", "display_name": "tibbus", "link": "https://stackoverflow.com/users/2681823/tibbus"}, "is_accepted": false, "score": 81, "last_activity_date": 1511624994, "last_edit_date": 1511624994, "creation_date": 1459804578, "answer_id": 36413003, "question_id": 34104277, "link": "https://stackoverflow.com/questions/34104277/caching-results-with-angular2-http-service/36413003#36413003", "title": "caching results with angular2 http service", "body": "<p>The <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/share.md\" rel=\"noreferrer\">share()</a> operator works just on the first request, when all the subscriptions are served and you create another one, then it will not work, it will make another Request. (this case is pretty common, as for the angular2 SPA you always create/destroy components)</p>\n\n<p>I used a <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/subjects/replaysubject.md\" rel=\"noreferrer\">ReplaySubject</a> to store the value from the <strong>http</strong> observable. The <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/subjects/replaysubject.md\" rel=\"noreferrer\">ReplaySubject</a> observable can serve previous value to its subscribers.\n<br><Br>\n<strong>the Service:</strong></p>\n\n<pre><code>@Injectable()\nexport class DataService {\n    private dataObs$ = new ReplaySubject(1);\n\n    constructor(private http: HttpClient) { }\n\n    getData(forceRefresh?: boolean) {\n        // If the Subject was NOT subscribed before OR if forceRefresh is requested \n        if (!this.dataObs$.observers.length || forceRefresh) {\n            this.http.get('http://jsonplaceholder.typicode.com/posts/2').subscribe(\n                data =&gt; this.dataObs$.next(data),\n                error =&gt; {\n                    this.dataObs$.error(error);\n                    // Recreate the Observable as after Error we cannot emit data anymore\n                    this.dataObs$ = new ReplaySubject(1);\n                }\n            );\n        }\n\n        return this.dataObs$;\n    }\n}\n</code></pre>\n\n<p><strong>the Component:</strong></p>\n\n<pre><code>@Component({\n  selector: 'my-app',\n  template: `&lt;div (click)=\"getData()\"&gt;getData from AppComponent&lt;/div&gt;`\n})\nexport class AppComponent {\n    constructor(private dataService: DataService) {}\n\ngetData() {\n    this.dataService.getData().subscribe(\n        requestData =&gt; {\n            console.log('ChildComponent', requestData);\n        },\n        // handle the error, otherwise will break the Observable\n        error =&gt; console.log(error)\n    );\n}\n    }\n}\n</code></pre>\n\n<p><strong><a href=\"http://plnkr.co/edit/RpLhiqBXqXWeoGLs4cdO?p=preview\" rel=\"noreferrer\">fully working PLUNKER</a></strong>\n<bR>(observe the console and the Network Tab)</p>\n"}, {"comments": [{"owner": {"reputation": 312, "user_id": 1613104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dAUTC.jpg?s=128&g=1", "display_name": "LittleTiger", "link": "https://stackoverflow.com/users/1613104/littletiger"}, "edited": false, "score": 1, "creation_date": 1460726918, "post_id": 36417240, "comment_id": 60890315, "body": "Excellent complete example, even with the this.observable check. The .share() is super important and not easy to figure out without knowing what to look for, at first.  Observable.of() is what I was looking for, personally. Now just add a little check so that the request gets repeated if data is older than a certain amount of time :)"}, {"owner": {"reputation": 5830, "user_id": 1417742, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/NnuNw.png?s=128&g=1", "display_name": "pd farhad", "link": "https://stackoverflow.com/users/1417742/pd-farhad"}, "edited": false, "score": 0, "creation_date": 1463028652, "post_id": 36417240, "comment_id": 61889224, "body": "@G&#252;nter : can you share your plunker code of this ? :)"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 5830, "user_id": 1417742, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/NnuNw.png?s=128&g=1", "display_name": "pd farhad", "link": "https://stackoverflow.com/users/1417742/pd-farhad"}, "edited": false, "score": 0, "creation_date": 1463032231, "post_id": 36417240, "comment_id": 61890555, "body": "@pdfarhad good idea :) Updated the answer. The code contained several bugs that should now be fixed."}, {"owner": {"reputation": 1239, "user_id": 1246387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773e9091d88d1ddd02a5426df2652038?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1246387/stephen"}, "edited": false, "score": 1, "creation_date": 1475589714, "post_id": 36417240, "comment_id": 66996464, "body": "It took me a while to figure out that <code>private observable: Observable;</code> is of type <code>{}</code>, what we needed was &#39;private observable: Observable&lt;any&gt;;&#39;"}, {"owner": {"reputation": 1158, "user_id": 54159, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3f61e7996e2580ba0d7817e08254838c?s=128&d=identicon&r=PG", "display_name": "ToastedSoul", "link": "https://stackoverflow.com/users/54159/toastedsoul"}, "edited": false, "score": 2, "creation_date": 1492524885, "post_id": 36417240, "comment_id": 74004267, "body": "This is great! I had to use <code>import &#39;rxjs&#47;add&#47;observable&#47;of&#39;;</code> to get it working."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 34, "last_activity_date": 1492499209, "last_edit_date": 1495535497, "creation_date": 1459831146, "answer_id": 36417240, "question_id": 34104277, "link": "https://stackoverflow.com/questions/34104277/caching-results-with-angular2-http-service/36417240#36417240", "title": "caching results with angular2 http service", "body": "\n\n<p>I omitted the <code>userId</code> handling. It would require to manage an array of <code>data</code> and an array of <code>observable</code> (one for each requested <code>userId</code>) instead.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import {Injectable} from '@angular/core';\nimport {Http, Headers} from '@angular/http';\nimport {Observable} from 'rxjs/Observable';\nimport 'rxjs/observable/of';\nimport 'rxjs/add/operator/share';\nimport 'rxjs/add/operator/map';\nimport {Data} from './data';\n\n@Injectable()\nexport class DataService {\n  private url:string = 'https://cors-test.appspot.com/test';\n\n  private data: Data;\n  private observable: Observable&lt;any&gt;;\n\n  constructor(private http:Http) {}\n\n  getData() {\n    if(this.data) {\n      // if `data` is available just return it as `Observable`\n      return Observable.of(this.data); \n    } else if(this.observable) {\n      // if `this.observable` is set then the request is in progress\n      // return the `Observable` for the ongoing request\n      return this.observable;\n    } else {\n      // example header (not necessary)\n      let headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      // create the request, store the `Observable` for subsequent subscribers\n      this.observable = this.http.get(this.url, {\n        headers: headers\n      })\n      .map(response =&gt;  {\n        // when the cached data is available we don't need the `Observable` reference anymore\n        this.observable = null;\n\n        if(response.status == 400) {\n          return \"FAILURE\";\n        } else if(response.status == 200) {\n          this.data = new Data(response.json());\n          return this.data;\n        }\n        // make it shared so more than one subscriber can get the result\n      })\n      .share();\n      return this.observable;\n    }\n  }\n}\n</code></pre>\n\n<p><a href=\"https://plnkr.co/edit/WpDtCkS4gslYwousZlmi?p=preview\" rel=\"noreferrer\"><strong>Plunker example</strong></a></p>\n\n<p>You can find another interesting solution at <a href=\"https://stackoverflow.com/a/36296015/217408\">https://stackoverflow.com/a/36296015/217408</a></p>\n"}], "owner": {"reputation": 1572, "user_id": 648546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7632eac0330915c387002d624111018f?s=128&d=identicon&r=PG", "display_name": "Sagi ", "link": "https://stackoverflow.com/users/648546/sagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59846, "favorite_count": 24, "closed_date": 1460285161, "accepted_answer_id": 34244447, "answer_count": 3, "score": 67, "last_activity_date": 1511624994, "creation_date": 1449314575, "last_edit_date": 1492780931, "question_id": 34104277, "link": "https://stackoverflow.com/questions/34104277/caching-results-with-angular2-http-service", "closed_reason": "Duplicate", "title": "caching results with angular2 http service", "body": "<p>I expose an HTTP GET request through a service, and several components are using this data (profile details on a user). I would like the first component request to actually perform the HTTP GET request to the server and cache the results so the the consequent requests will use the cached data, instead of calling the server again.</p>\n\n<p>Here's an example to the service, how would you recommend implementing this cache layer with Angular2 and typescript.</p>\n\n<pre><code>import {Inject, Injectable} from 'angular2/core';\nimport {Http, Headers} from \"angular2/http\";\nimport {JsonHeaders} from \"./BaseHeaders\";\nimport {ProfileDetails} from \"../models/profileDetails\";\n\n@Injectable()\nexport class ProfileService{\n    myProfileDetails: ProfileDetails = null;\n\n    constructor(private http:Http) {\n\n    }\n\n    getUserProfile(userId:number) {\n        return this.http.get('/users/' + userId + '/profile/', {\n                headers: headers\n            })\n            .map(response =&gt;  {\n                if(response.status==400) {\n                    return \"FAILURE\";\n                } else if(response.status == 200) {\n                    this.myProfileDetails = new ProfileDetails(response.json());\n                    return this.myProfileDetails;\n                }\n            });\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-2015", "angular"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449313172, "post_id": 34103970, "comment_id": 55959377, "body": "Did you add the http module? i.e <code>http.dev.js</code>, <code>http.min.js</code>, <code>http.js</code>"}], "answers": [{"comments": [{"owner": {"reputation": 678, "user_id": 1613980, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HdsfD.jpg?s=128&g=1", "display_name": "jpsfs", "link": "https://stackoverflow.com/users/1613980/jpsfs"}, "edited": false, "score": 0, "creation_date": 1451489445, "post_id": 34104134, "comment_id": 56806040, "body": "&quot;angular2/angular2&quot; is not longer available on angular2-beta0. You should import each module individually. (ex: angular2/core, angular2/common, angular2/http, and so on)"}], "tags": [], "owner": {"reputation": 900, "user_id": 1802646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7f11cd35e0f239f3e3f9d62f6da8937?s=128&d=identicon&r=PG", "display_name": "Guenter Guckelsberger", "link": "https://stackoverflow.com/users/1802646/guenter-guckelsberger"}, "is_accepted": false, "score": 0, "last_activity_date": 1449313802, "creation_date": 1449313802, "answer_id": 34104134, "question_id": 34103970, "link": "https://stackoverflow.com/questions/34103970/angular2-import-multiple-modules/34104134#34104134", "title": "Angular2 - Import multiple modules", "body": "<p>'angular2/angular2' is a prepacked module bundle on the system.js module loader. It is not a path.\nBut of course you can load own modules given a path like './your_directory/your_filename'</p>\n"}, {"tags": [], "owner": {"reputation": 601, "user_id": 2588938, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf52130943ad73fc595e7cd2691502de?s=128&d=identicon&r=PG", "display_name": "Weissvonnix", "link": "https://stackoverflow.com/users/2588938/weissvonnix"}, "is_accepted": true, "score": 3, "last_activity_date": 1449315506, "creation_date": 1449315506, "answer_id": 34104411, "question_id": 34103970, "link": "https://stackoverflow.com/questions/34103970/angular2-import-multiple-modules/34104411#34104411", "title": "Angular2 - Import multiple modules", "body": "<p>Yes, I had to reference the http.dev.js. I was missing that one.</p>\n\n<p>Thought the system.js is doing the magic here.</p>\n\n<p>Thx to Eric!</p>\n"}], "owner": {"reputation": 601, "user_id": 2588938, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf52130943ad73fc595e7cd2691502de?s=128&d=identicon&r=PG", "display_name": "Weissvonnix", "link": "https://stackoverflow.com/users/2588938/weissvonnix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 913, "favorite_count": 0, "accepted_answer_id": 34104411, "answer_count": 2, "score": 2, "last_activity_date": 1452930228, "creation_date": 1449312619, "last_edit_date": 1452930228, "question_id": 34103970, "link": "https://stackoverflow.com/questions/34103970/angular2-import-multiple-modules", "title": "Angular2 - Import multiple modules", "body": "<p>I have done the Tutorial-Guide on <a href=\"http://www.angular.io\" rel=\"nofollow\">www.angular.io</a> and now I'm trying to implement my own Angular2-Component.</p>\n\n<p>My Typescript looks like this:</p>\n\n<pre><code>import {bootstrap, Component, FORM_DIRECTIVES, CORE_DIRECTIVES} from 'angular2/angular2'\nimport {Http, HTTP_PROVIDERS} from 'angular2/http'\n@Component({\n    selector: 'Abrechnung',\n    template: `\n        &lt;br&gt;\n        &lt;br&gt;\n        &lt;br&gt;\n        &lt;h1&gt;{{title}}&lt;/h1&gt;\n        &lt;li *ng-for=\"#posten of postenliste\"&gt;\n            {{posten.text}}\n        &lt;/li&gt;\n    `,\n    viewProviders: [HTTP_PROVIDERS],\n    directives: [FORM_DIRECTIVES, CORE_DIRECTIVES],\n})\n</code></pre>\n\n<p>While the first import loads correctly, the browser looks for the http-module in the wrong folder. I also can't see where the first module is coming from. In my networktrace there is no 'angular2/angular2' call. Are these modules included inside the angular2 - library?</p>\n\n<p>I am using Visual Studio for development. I think everything is set up the same as in the tutorial.</p>\n\n<p>Where can I find additional information about the \"import ... from\" stuff in Typescript? I am not sure which syntax-versions I am using here :-/</p>\n\n<p>Thx!</p>\n"}, {"tags": ["angularjs", "typescript", "angular-ui-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 531, "user_id": 1829319, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/65a6b29076d474665b089e902d64fc77?s=128&d=identicon&r=PG", "display_name": "user1829319", "link": "https://stackoverflow.com/users/1829319/user1829319"}, "edited": false, "score": 0, "creation_date": 1449351974, "post_id": 34104539, "comment_id": 55972328, "body": "Spot on. That was the trick. You deserve some stars. Couple of side questions: 1- The model is not showing in the middle of the screen. 2- It is not actually a modal i.e clicking outside it will disappear. Any tricks?"}, {"owner": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "reply_to_user": {"reputation": 531, "user_id": 1829319, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/65a6b29076d474665b089e902d64fc77?s=128&d=identicon&r=PG", "display_name": "user1829319", "link": "https://stackoverflow.com/users/1829319/user1829319"}, "edited": false, "score": 0, "creation_date": 1449417702, "post_id": 34104539, "comment_id": 55987768, "body": "I have no idea why it&#39;s not centered, but to make the dialog stay open on click outside you have to add &quot;backdrop: &#39;static&#39;&quot; when you open it."}], "tags": [], "owner": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "is_accepted": true, "score": 3, "last_activity_date": 1449316136, "creation_date": 1449316136, "answer_id": 34104539, "question_id": 34103868, "link": "https://stackoverflow.com/questions/34103868/angular-ui-bootstrap-modal-and-typescript/34104539#34104539", "title": "Angular-ui-bootstrap modal and typescript", "body": "<p>In your AddressController you should inject the addressInfo and make it public so the template can access it. The data will come from the resolve function.</p>\n\n<p>The <code>AddressController</code> should like this:</p>\n\n<pre><code>module CRM.Contacts {\n    export class AddressController {\n        private scope:ng.IScope;\n        static $inject = [\"$http\", \"CRM.Contacts.ContactService\", \"CRM.Common.PopupService\", \"ngDialog\",\n            '$uibModalInstance', 'addressInfo'];\n\n        constructor(private $http:ng.IHttpService, \n                    private contactService:ICrudService&lt;Contact&gt;,\n                    private popupService:CRM.Common.IPopupService,\n                    private ngDialog:angular.dialog.IDialogService,\n                    private $uibModalInstance:ng.ui.bootstrap.IModalServiceInstance,\n                    public  addressInfo:any) {\n        }\n\n        save(addressToSave:Address) {\n            // TODO: do the actual saving\n\n            console.log(addressToSave);\n            this.$uibModalInstance.close(addressToSave);\n        }\n    }\n    angular.module(\"CRM\").controller(\"CRM.Contacts.AddressController\", AddressController);\n}\n</code></pre>\n"}], "owner": {"reputation": 531, "user_id": 1829319, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/65a6b29076d474665b089e902d64fc77?s=128&d=identicon&r=PG", "display_name": "user1829319", "link": "https://stackoverflow.com/users/1829319/user1829319"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6152, "favorite_count": 2, "accepted_answer_id": 34104539, "answer_count": 1, "score": 3, "last_activity_date": 1449316136, "creation_date": 1449311946, "last_edit_date": 1592644375, "question_id": 34103868, "link": "https://stackoverflow.com/questions/34103868/angular-ui-bootstrap-modal-and-typescript", "title": "Angular-ui-bootstrap modal and typescript", "body": "<p>I am using ngDialog with Angular and Typescript however I am trying to change to Angular-ui-boostrap modal as it looks cooler and easier to use.</p>\n<p>I have a scenario that I show a list of records using e.g AddressListController and the user Clicks on a record e.g. an address then I show the Modal so the user can Edit/Delete the record. Alternatively user can select the add to add a new record that should show a modal. I want to delegate the Save / Update / Delete of the record (address) to the address controller e.g. AddressController.</p>\n<p>The problem that I have is that the modal is showing however the data is not populted. I am not sure if I am using the correct syntax in the template? Also, I prefer the controllerAs syntax.</p>\n<p>My code is as following:</p>\n<p><strong>In the list controller:</strong></p>\n<pre><code> selectAddress(index: number): void {\n        var address = this.contactAssocitedRecords.Addresses[index];\n        this.edit(address);\n    }\n\n    edit(item: Address) {\n\n        var promise = this.addressService.getAddressWithInfo(item.Id);\n        promise.then((response: ng.IHttpPromiseCallbackArg&lt;AddressInfo&gt;) =&gt; {\n            var addressInfo = response.data;\n            console.log(addressInfo); **// This returns all data**\n\n            var options: ng.ui.bootstrap.IModalSettings = {\n                templateUrl: &quot;/js/controllers/_MaintainAddress.Html&quot;,\n                controller: 'CRM.Contacts.AddressController as addressCtrl',\n                windowClass: 'app-modal-window',\n                resolve: {\n                    addressInfo: () =&gt; addressInfo \n                }\n            };\n\n            this.$uibModal.open(options).result\n                .then(updatedItem =&gt; this.savedAddress(updatedItem));\n            },\n            error =&gt; {\n                this.popupService.showError(error.data.message);\n            });\n\n     }\n\n\n    savedAddress(item: any): void {\n        console.log(item);\n    }\n</code></pre>\n<p><strong>AddressController:</strong></p>\n<pre><code>module CRM.Contacts {\n\nexport class AddressController {\n\n    private scope: ng.IScope;\n    static $inject = [&quot;$http&quot;, &quot;CRM.Contacts.ContactService&quot;, &quot;CRM.Common.PopupService&quot;, &quot;ngDialog&quot;,\n        '$uibModalInstance'];\n\n    constructor(private $http: ng.IHttpService, private contactService: ICrudService&lt;Contact&gt;,\n        private popupService: CRM.Common.IPopupService,\n        private ngDialog: angular.dialog.IDialogService,\n        private $uibModalInstance: ng.ui.bootstrap.IModalServiceInstance) {\n\n\n    }\n\n    save(addressToSave: Address) {\n        // TODO: do the actual saving\n\n        console.log(addressToSave);\n        this.$uibModalInstance.close(addressToSave);\n    }\n\n}\n\nangular.module(&quot;CRM&quot;).controller(&quot;CRM.Contacts.AddressController&quot;, AddressController);\n</code></pre>\n<p>}</p>\n<p><strong>Template:</strong></p>\n  \n        \n<pre><code>        &lt;!-- Form Name --&gt;\n        &lt;legend&gt;Edit Address...&lt;/legend&gt;\n\n        &lt;!-- Text input--&gt;\n        &lt;div class=&quot;form-group col-md-6&quot;&gt;\n            &lt;label class=&quot;col-md-4 control-label&quot; for=&quot;Id&quot;&gt;Id:&lt;/label&gt;\n            &lt;div class=&quot;col-md-8&quot;&gt;\n                &lt;input id=&quot;Id&quot; name=&quot;Id&quot; ng-disabled=&quot;true&quot; type=&quot;text&quot; ng-model=&quot;addressCtrl.addressInfo.Address.Id&quot; placeholder=&quot;Id&quot; class=&quot; form-control&quot;&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;!-- Text input--&gt;\n        &lt;div class=&quot;form-group col-md-6&quot;&gt;\n            &lt;label class=&quot;col-md-4 control-label&quot; for=&quot;streetNo&quot;&gt;Street No:&lt;/label&gt;\n            &lt;div class=&quot;col-md-8&quot;&gt;\n                &lt;input id=&quot;streetNo&quot; name=&quot;streetNo&quot; type=&quot;text&quot; ng-model=&quot;addressCtrl.addressInfo.Address.StreetNo&quot; placeholder=&quot;Street No&quot; class=&quot; form-control&quot; required=&quot;&quot;&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;!-- Text input--&gt;\n        &lt;div class=&quot;form-group col-md-6&quot;&gt;\n            &lt;label class=&quot;col-md-4 control-label&quot; for=&quot;streetName&quot;&gt;Street Name:&lt;/label&gt;\n            &lt;div class=&quot;col-md-8&quot;&gt;\n                &lt;input id=&quot;streetName&quot; ng-model=&quot;addressCtrl.addressInfo.Address.StreetName&quot; name=&quot;streetName&quot; type=&quot;text&quot; placeholder=&quot;Street Name&quot; class=&quot; form-control&quot; required=&quot;&quot;&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        // removed for brevity\n\n        &lt;div class=&quot;form-group col-md-offset-8&quot;&gt;\n            &lt;label class=&quot;col-md-4 control-label&quot; for=&quot;save&quot;&gt;&lt;/label&gt;\n            &lt;div class=&quot;col-md-8&quot;&gt;\n                &lt;button id=&quot;save&quot; title=&quot;Save new record&quot; data-toggle=&quot;tooltip&quot; data-placement=&quot;right&quot; name=&quot;submit&quot;\n                        ng-click=&quot;addressCtrl.save(addressCtrl.addressInfo.Address)&quot; class=&quot;btn btn-success&quot; ng-disabled=&quot;addNewAddress.$invalid&quot;&gt;\n                    &lt;span class=&quot;glyphicon glyphicon-floppy-disk&quot;&gt;&lt;/span&gt;\n                &lt;/button&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/fieldset&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["vim", "typescript", "syntastic"], "answers": [{"tags": [], "owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "is_accepted": false, "score": 2, "last_activity_date": 1449305827, "last_edit_date": 1592644375, "creation_date": 1449305827, "answer_id": 34103059, "question_id": 34102184, "link": "https://stackoverflow.com/questions/34102184/use-tsconfig-json-for-tsc-with-syntastic-in-vim/34103059#34103059", "title": "Use tsconfig.json for tsc with syntastic in vim", "body": "<p><a href=\"https://github.com/Microsoft/typescript/wiki/tsconfig.json#using-tsconfigjson\" rel=\"nofollow noreferrer\">The wiki says:</a></p>\n<blockquote>\n<h2>Using tsconfig.json</h2>\n<ul>\n<li><p>By invoking <code>tsc</code> with no input files, in which case the compiler searches for the <code>tsconfig.json</code> file starting in the current directory and continuing up the parent directory chain.</p>\n</li>\n<li><p>By invoking <code>tsc</code> with no input files and a <code>-project</code> (or just <code>-p</code>) command line option that specifies the path of a directory containing a <code>tsconfig.json</code> file.</p>\n</li>\n</ul>\n<p>When input files are specified on the command line, <code>tsconfig.json</code> files are ignored.</p>\n</blockquote>\n<p>So, basically, you need to find a way to tell Syntastic to <em>not</em> pass the filename to <code>tsc</code>.</p>\n<p>I'd suggest using their issue tracker from now on.</p>\n"}, {"comments": [{"owner": {"reputation": 2700, "user_id": 1509082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ebbe2ceede433033dbb25b6efb20ec?s=128&d=identicon&r=PG", "display_name": "Travis Kaufman", "link": "https://stackoverflow.com/users/1509082/travis-kaufman"}, "edited": false, "score": 0, "creation_date": 1452285075, "post_id": 34453802, "comment_id": 57117517, "body": "Solved the issue perfectly for me. Should be the accepted answer."}, {"owner": {"reputation": 6413, "user_id": 1099045, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/88d35eb0f5a0f6297ed005cc4021a6f8?s=128&d=identicon&r=PG", "display_name": "Subash", "link": "https://stackoverflow.com/users/1099045/subash"}, "edited": false, "score": 0, "creation_date": 1459232216, "post_id": 34453802, "comment_id": 60179997, "body": "This does work. However once set I no longer get the error markers on error. However if I do <code>Errors</code> I can see the tsc errors."}], "tags": [], "owner": {"reputation": 397892, "user_id": 95592, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/utY5u.jpg?s=128&g=1", "display_name": "Matthew Rankin", "link": "https://stackoverflow.com/users/95592/matthew-rankin"}, "is_accepted": true, "score": 19, "last_activity_date": 1450964907, "last_edit_date": 1592644375, "creation_date": 1450964907, "answer_id": 34453802, "question_id": 34102184, "link": "https://stackoverflow.com/questions/34102184/use-tsconfig-json-for-tsc-with-syntastic-in-vim/34453802#34453802", "title": "Use tsconfig.json for tsc with syntastic in vim", "body": "<h2>Summary</h2>\n<p>Add <code>let g:syntastic_typescript_tsc_fname = ''</code> to <code>.vimrc</code>.</p>\n<h2>Details</h2>\n<p>As <a href=\"https://stackoverflow.com/users/546861/romainl\">romainl</a> mentioned in <a href=\"https://stackoverflow.com/a/34103059/95592\">his answer</a>, the <a href=\"https://github.com/Microsoft/typescript/wiki/tsconfig.json#using-tsconfigjson\" rel=\"noreferrer\">&quot;Using tsconfig.json&quot;</a> section of the Typescript wiki states:</p>\n<blockquote>\n<p>By invoking tsc with no input files, in which case the compiler searches for the <code>tsconfig.json</code> file starting in the current directory and continuing up the parent directory chain.</p>\n</blockquote>\n<p>You can do this in <a href=\"http://www.vim.org\" rel=\"noreferrer\">Vim</a> using <a href=\"https://github.com/scrooloose/syntastic\" rel=\"noreferrer\">Syntastic</a> by adding the following to your <code>.vimrc</code>, or <code>.vimrc.after</code> if you use <a href=\"https://github.com/carlhuda/janus\" rel=\"noreferrer\">Janus</a>, as found in <a href=\"https://github.com/lcd047\" rel=\"noreferrer\">LCD 047</a>'s answer to your <a href=\"https://github.com/scrooloose/syntastic/issues/1628\" rel=\"noreferrer\">Syntastic issue #1628</a>:</p>\n<pre><code>let g:syntastic_typescript_tsc_fname = ''\n</code></pre>\n"}], "owner": {"reputation": 1413, "user_id": 1105281, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Byxyt.jpg?s=128&g=1", "display_name": "osdiab", "link": "https://stackoverflow.com/users/1105281/osdiab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3511, "favorite_count": 3, "accepted_answer_id": 34453802, "answer_count": 2, "score": 12, "last_activity_date": 1450964907, "creation_date": 1449298331, "last_edit_date": 1449300293, "question_id": 34102184, "link": "https://stackoverflow.com/questions/34102184/use-tsconfig-json-for-tsc-with-syntastic-in-vim", "title": "Use tsconfig.json for tsc with syntastic in vim", "body": "<p>I want to use the <code>syntastic</code> plugin for <code>vim</code> to give me live error checking while I'm writing typescript files, using <code>tsc</code>. I already have <code>tsc</code> activated in <code>vim</code>. Any suggestions for how I could get <code>tsc</code> to use the closest parent's <code>tsconfig.json</code> file as configuration? I find that <code>tsc</code> doesn't do so by default, which makes <code>syntastic</code> configuration difficult. Thanks!</p>\n\n<p>EDIT: The reason I think it's not using <code>tsconfig.json</code> is because options like the module resolution method doesn't seem to be working (\"require\" not defined), and it also isn't catching my definition files as defined in the <code>files</code> attribute in <code>tsconfig.json</code>.</p>\n\n<p>My failed attempt to solve this:</p>\n\n<pre><code>let g:syntastic_typescript_checks=['tsc', 'tslint']\n\n\" typescript: find tsconfig.json\nfunction! FindTypescriptRoot()\n    return fnamemodify(findfile('tsconfig.json', './;'), ':h')\nendfunction\n\nlet g:syntastic_typescript_tsc_args=['-p', FindTypescriptRoot()]\n</code></pre>\n\n<p>This results in Syntastic spitting out to me this error:</p>\n\n<pre><code>app.ts|| TS5042: Option 'project' cannot be mixed with source files on a command line.\n</code></pre>\n\n<p>This is probably because it's running a command like <code>tsc -p /path/to/project/ app.ts</code>, which is an illegal use of that flag... But I don't understand why my settings in <code>tsconfig.json</code> are being ignored by <code>syntastic</code> :(</p>\n"}, {"tags": ["azure", "msbuild", "typescript", "visual-studio-2015"], "comments": [{"owner": {"reputation": 55371, "user_id": 536, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2142b1a501386ed0af9232862af48df9?s=128&d=identicon&r=PG", "display_name": "Judah Gabriel Himango", "link": "https://stackoverflow.com/users/536/judah-gabriel-himango"}, "edited": false, "score": 0, "creation_date": 1449507690, "post_id": 34100740, "comment_id": 56026002, "body": "I&#39;m hitting this problem too. Same scenario: TypeScript with VS 2015 Update 1, trying to publish to Azure Cloud Service. VS says, &quot;the given path&#39;s format is not supported.&quot; And, like the parent poster, it&#39;s showing the directory included twice, causing an illegal colon in the middle of the path."}, {"owner": {"reputation": 10626, "user_id": 1014822, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4ceQP.jpg?s=128&g=1", "display_name": "Jude Fisher", "link": "https://stackoverflow.com/users/1014822/jude-fisher"}, "reply_to_user": {"reputation": 55371, "user_id": 536, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2142b1a501386ed0af9232862af48df9?s=128&d=identicon&r=PG", "display_name": "Judah Gabriel Himango", "link": "https://stackoverflow.com/users/536/judah-gabriel-himango"}, "edited": false, "score": 1, "creation_date": 1449509772, "post_id": 34100740, "comment_id": 56027364, "body": "There&#39;s a workaround suggested on GitHub <a href=\"https://github.com/Microsoft/TypeScript/issues/5894#issuecomment-162261090\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/&hellip;</a> but we didn&#39;t see any change in the error after trying it."}], "answers": [{"tags": [], "owner": {"reputation": 10626, "user_id": 1014822, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4ceQP.jpg?s=128&g=1", "display_name": "Jude Fisher", "link": "https://stackoverflow.com/users/1014822/jude-fisher"}, "is_accepted": true, "score": 5, "last_activity_date": 1449804452, "creation_date": 1449804452, "answer_id": 34215625, "question_id": 34100740, "link": "https://stackoverflow.com/questions/34100740/error-copying-typescript-files-when-packaging-azure-project-visual-studio-2015/34215625#34215625", "title": "Error Copying Typescript files when packaging Azure project - Visual Studio 2015 Update1", "body": "<p>This was a bug in the Typescript 1.7 tooling. Fixes have been released:</p>\n\n<p>For <a href=\"http://go.microsoft.com/fwlink/?LinkID=717098\">VS 2015</a> (TS 1.7.6)</p>\n\n<p>For <a href=\"http://go.microsoft.com/fwlink/?LinkID=717464\">VS 2013</a> (TS 1.7.5)</p>\n\n<p>Details here: <a href=\"https://github.com/Microsoft/TypeScript/issues/5894#issuecomment-163798025\">https://github.com/Microsoft/TypeScript/issues/5894#issuecomment-163798025</a></p>\n"}], "owner": {"reputation": 10626, "user_id": 1014822, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4ceQP.jpg?s=128&g=1", "display_name": "Jude Fisher", "link": "https://stackoverflow.com/users/1014822/jude-fisher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1176, "favorite_count": 2, "accepted_answer_id": 34215625, "answer_count": 1, "score": 9, "last_activity_date": 1449804452, "creation_date": 1449284231, "last_edit_date": 1495535356, "question_id": 34100740, "link": "https://stackoverflow.com/questions/34100740/error-copying-typescript-files-when-packaging-azure-project-visual-studio-2015", "title": "Error Copying Typescript files when packaging Azure project - Visual Studio 2015 Update1", "body": "<p>After updating to VS 2015 Update 1 (including Typescript 1.7) and the Azure SDK 2.8, I am unable to package my Azure application for deployment because of an error in the path the packager is trying to copy the js output file to:</p>\n\n<blockquote>\n  <p>Error     Unable to copy file \"D:\\X\\XX\\XXX\\App\\services\\editor\\ruler-manager.js\" to \"D:\\X\\XX\\XXX\\obj\\Debug\\PE.Web\\D:\\X\\XX\\XXX\\App\\services\\editor\\ruler-manager.js\". The given path's format is not supported.    PE.Architecture C:\\Program Files (x86)\\MSBuild\\Microsoft\\VisualStudio\\v14.0\\Windows Azure Tools\\2.8\\Microsoft.WindowsAzure.targets  2787    </p>\n</blockquote>\n\n<p>Note that the directory has been included twice, causing an illegal colon in the middle of the output path.</p>\n\n<p>It seems likely this is related to <a href=\"https://stackoverflow.com/q/34048228/1014822\">TFS Build error after installing Visual Studio 2015 Update 1</a> and <a href=\"https://social.msdn.microsoft.com/Forums/en-US/300a59bc-0f23-41a4-927a-05ae9978f3a4/unable-to-build-project-with-tyepscript-since-upgrading-to-vs-2015-update-1?forum=msbuild&amp;prof=required\" rel=\"nofollow noreferrer\">https://social.msdn.microsoft.com/Forums/en-US/300a59bc-0f23-41a4-927a-05ae9978f3a4/unable-to-build-project-with-tyepscript-since-upgrading-to-vs-2015-update-1?forum=msbuild&amp;prof=required</a> and <a href=\"https://github.com/Microsoft/TypeScript/issues/5894\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/5894</a></p>\n\n<p><strong>Update:</strong>\nThe following workaround has been suggested, but we were still unable to publish after implementing it:</p>\n\n<blockquote>\n  <p>We worked around it by manually adding ContinueOnError=\"WarnAndContinue\" to the Copy task within the CopyWebRoleFiles target, within Microsoft.WindowsAzure.targets.</p>\n</blockquote>\n\n<p>(Source: <a href=\"https://github.com/Microsoft/TypeScript/issues/5894#issuecomment-162261090\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/5894#issuecomment-162261090</a>)</p>\n\n<p>Does anyone have any workarounds or fixes other than the ones suggested in the linked threads?</p>\n"}, {"tags": ["javascript", "visual-studio", "typescript", "visual-studio-2015", "babeljs"], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 1197396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HMDsn.png?s=128&g=1", "display_name": "Ashok M A", "link": "https://stackoverflow.com/users/1197396/ashok-m-a"}, "edited": false, "score": 0, "creation_date": 1490862380, "post_id": 36954328, "comment_id": 73304628, "body": "in the ts-babel task, you are creating tsProject and it is not used! any reasons?"}], "tags": [], "owner": {"reputation": 36, "user_id": 4295160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7731a8686d928084283054bb99c7e8?s=128&d=identicon&r=PG&f=1", "display_name": "django dev", "link": "https://stackoverflow.com/users/4295160/django-dev"}, "is_accepted": true, "score": 1, "last_activity_date": 1491024227, "last_edit_date": 1491024227, "creation_date": 1462015848, "answer_id": 36954328, "question_id": 34099569, "link": "https://stackoverflow.com/questions/34099569/configure-a-typescript-project-to-transpile-from-es6-to-es5-using-bable/36954328#36954328", "title": "Configure a Typescript project to transpile from ES6 to ES5 using Bable", "body": "<p>May be, it's not exactly what you asked, but it's a way to do the same thing. I hope, it could be usefull. Firstly, as described here <a href=\"http://docs.asp.net/en/latest/client-side/using-gulp.html\" rel=\"nofollow noreferrer\">http://docs.asp.net/en/latest/client-side/using-gulp.html</a>, you can use gulp in VS2015. Then, in your tsconfig.json file you should set typescript compiler options to something like this:</p>\n\n<pre><code>//tsconfig.json\n\n{\n    \"compilerOptions\": {\n        \"target\": \"ES6\",\n        \"experimentalDecorators\": true,\n        \"emitDecoratorMetadata\": true,\n        \"module\": \"commonjs\",\n        \"noImplicitAny\": false,\n        \"removeComments\": true,\n        \"preserveConstEnums\": true\n    },\n    \"exclude\": [\n        \".vscode\",\n        \"node_modules\",\n        \"typings\",\n        \"public\"\n    ]\n}\n</code></pre>\n\n<p>And, finally, the gulp-file - from one of my projects, for example - for the transpiling ES6 to ES5:</p>\n\n<pre><code>// gulpfile.js\n\n'use strict';\n\nvar gulp = require(\"gulp\"),\n    ts = require(\"gulp-typescript\"),\n    babel = require(\"gulp-babel\");\n\nvar tsSrc = [\n    '**/*.ts',\n    '!./node_modules/**',\n    '!./typings/**',\n    '!./vscode/**',\n    '!./public/**'\n];\ngulp.task(\"ts-babel\", function () {\n    var tsProject = ts.createProject('tsconfig.json');\n    return gulp.src(tsSrc)\n        .pipe(tsProject())\n        .pipe(babel({\n            presets: ['es2015'],\n            plugins: [\n                'transform-runtime'\n            ]\n        }))\n        .pipe(gulp.dest((function (f) { return f.base; })));\n});\n</code></pre>\n\n<p>And now you can transpile files with the command <strong>gulp ts-babel</strong>. And don't forget install required npm-packages like babel-preset-es2015 and babel-plugin-transform-runtime.</p>\n\n<p><strong>Upd</strong>. Thank's Ashok M A for attention. Changed pipe(ts()) to pipe(tsProject())</p>\n"}], "owner": {"reputation": 69684, "user_id": 16241, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de3fa0861da7fd9ae3abc120ff6d957f?s=128&d=identicon&r=PG", "display_name": "Vaccano", "link": "https://stackoverflow.com/users/16241/vaccano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1655, "favorite_count": 2, "accepted_answer_id": 36954328, "answer_count": 1, "score": 4, "last_activity_date": 1491024227, "creation_date": 1449274130, "question_id": 34099569, "link": "https://stackoverflow.com/questions/34099569/configure-a-typescript-project-to-transpile-from-es6-to-es5-using-bable", "title": "Configure a Typescript project to transpile from ES6 to ES5 using Bable", "body": "<p>I am just starting in on a new project and I really want to use the Async and Await stuff that was recently released for typescript.</p>\n\n<p>But it only works (right now) if you are targeting ES6.</p>\n\n<p><strong>So I am wondering if there is a way to configure Visual Studio (2015 Update 1) to take the ES6 java script that is output by Typescript and transpile it to es5?</strong></p>\n\n<p>So, I would have Typescript -> ES6 -> ES5.  (This would be in place until Typescript supports Async/Await targeting ES5.)</p>\n"}, {"tags": ["typescript", "definitelytyped"], "answers": [{"tags": [], "owner": {"reputation": 4136, "user_id": 956435, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/TmSi7.jpg?s=128&g=1", "display_name": "Ramon de Klein", "link": "https://stackoverflow.com/users/956435/ramon-de-klein"}, "is_accepted": false, "score": 2, "last_activity_date": 1449307627, "creation_date": 1449307627, "answer_id": 34103289, "question_id": 34099420, "link": "https://stackoverflow.com/questions/34099420/export-module-from-typescript-definition-file/34103289#34103289", "title": "Export module from TypeScript definition file", "body": "<p>This seems to be the way to export the entire AWS module and the <code>define</code> function:</p>\n\n<pre><code>declare module \"vogels\" {\n  import AWS = require('aws-sdk');\n\n  function define(modelName: String, config: any): void;\n\n  export = { AWS, define }\n}\n</code></pre>\n\n<p>You can only have a single <code>export =</code> in a module, so all exported variables should be in that line (of course you can split it across multiple lines). Don't export anything else, but only define interfaces, variables, ... The actual export is done later.</p>\n"}], "owner": {"reputation": 4136, "user_id": 956435, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/TmSi7.jpg?s=128&g=1", "display_name": "Ramon de Klein", "link": "https://stackoverflow.com/users/956435/ramon-de-klein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1211, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449307671, "creation_date": 1449273075, "last_edit_date": 1449307671, "question_id": 34099420, "link": "https://stackoverflow.com/questions/34099420/export-module-from-typescript-definition-file", "title": "Export module from TypeScript definition file", "body": "<p>I am trying to create a definition file for the Vogels library. This library wraps the AWS SDK, so it also includes a property that exports the entire AWS SDK.</p>\n\n<pre><code>declare module \"vogels\" {\n  import AWS = require('aws-sdk');\n\n  export function define(modelName: String, config: any): void;\n  export var AWS: AWS;      /* THIS LINE DOESN'T TRANSPILE */\n}\n</code></pre>\n\n<p>This library is used like this:</p>\n\n<pre><code>import vogels = require('vogels');\n\nvogels.AWS.config.update({region: region});\n\nvar model = vogels.define('test', {\n  ..\n  }\n});\n</code></pre>\n\n<p>Unfortunately, exporting the AWS property from the \"vogels\" module doesn't work, because AWS is not considered a type. How can I export the AWS property without replicating the entire AWS definitions in my module?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "edited": false, "score": 1, "creation_date": 1449271521, "post_id": 34098999, "comment_id": 55950413, "body": "So why not turn it in to a class?"}, {"owner": {"reputation": 29843, "user_id": 33264, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4ffb7620821b43c340d40187ca5820ff?s=128&d=identicon&r=PG", "display_name": "MatthewMartin", "link": "https://stackoverflow.com/users/33264/matthewmartin"}, "reply_to_user": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "edited": false, "score": 0, "creation_date": 1449280812, "post_id": 34098999, "comment_id": 55952716, "body": "When it is a class, it becomes an IIFE returning an object not a &quot;new&#39;d function&quot; I have no idea what impact this would have. If type script compiler requires in the processes of annotation throwing the code away and using entirely different structures, I might as well use CoffeeScript or Python or what have you."}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1449506450, "post_id": 34098999, "comment_id": 56025141, "body": "What is the difference between a new&#39;d function&#39;s return and an object? I did not understand your reply to Nypan."}, {"owner": {"reputation": 29843, "user_id": 33264, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4ffb7620821b43c340d40187ca5820ff?s=128&d=identicon&r=PG", "display_name": "MatthewMartin", "link": "https://stackoverflow.com/users/33264/matthewmartin"}, "edited": false, "score": 0, "creation_date": 1449507031, "post_id": 34098999, "comment_id": 56025545, "body": "function Car() {}; car1 = new Car(); is valid ordinary JS, ref: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> I can&#39;t figure out how to use that pattern in TypeScript with &quot;implicity any&quot; disabled, i.e. I can&#39;t annotate it in a way to make the compiler happy. Notably, the Car() function doesn&#39;t have a return value, but the new operator results in an assignment of an object, not an undefined."}, {"owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "edited": false, "score": 0, "creation_date": 1449614287, "post_id": 34098999, "comment_id": 56082196, "body": "Did not have time to look at this for a few days, but I finally got around to composing an answer."}], "answers": [{"comments": [{"owner": {"reputation": 29843, "user_id": 33264, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4ffb7620821b43c340d40187ca5820ff?s=128&d=identicon&r=PG", "display_name": "MatthewMartin", "link": "https://stackoverflow.com/users/33264/matthewmartin"}, "edited": false, "score": 0, "creation_date": 1449686063, "post_id": 34167395, "comment_id": 56119132, "body": "Thanks, this makes perfect sense. I can see why I couldn&#39;t stumble on the syntax for &lt;IPerson&gt;(new (&lt;any&gt;(person(&quot;John Doe&quot;))));"}, {"owner": {"reputation": 7942, "user_id": 516188, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/934a553983eaca4c3f8f939daf6d2faa?s=128&d=identicon&r=PG", "display_name": "Emmanuel Touzery", "link": "https://stackoverflow.com/users/516188/emmanuel-touzery"}, "edited": false, "score": 1, "creation_date": 1481534978, "post_id": 34167395, "comment_id": 69399695, "body": "the <code>new (&lt;any&gt;(person...</code> breaks for me, apparently due to the extra bracket which is kept in the generated JS <code>new (person</code>, the <code>this</code> is <code>undefined</code> inside the <code>person</code> call. TS 2.1.4."}, {"owner": {"reputation": 7285, "user_id": 43453, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fa9cd05b099d586790b35cfb0f588d67?s=128&d=identicon&r=PG", "display_name": "PandaWood", "link": "https://stackoverflow.com/users/43453/pandawood"}, "edited": false, "score": 0, "creation_date": 1509687974, "post_id": 34167395, "comment_id": 81127720, "body": "Yes, just to clarify the (&lt;any&gt;(person... syntax breaks the runtime javascript - it does for me too with (...) is not a constructor"}], "tags": [], "owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "is_accepted": true, "score": 6, "last_activity_date": 1449657777, "last_edit_date": 1449657777, "creation_date": 1449614115, "answer_id": 34167395, "question_id": 34098999, "link": "https://stackoverflow.com/questions/34098999/how-to-convert-new-somefunction-syntax-to-typescript/34167395#34167395", "title": "How to convert new SomeFunction() syntax to TypeScript?", "body": "<p><strong>The short bad answer</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface IPerson {\n    name: string;\n}\n\nvar person = function(name: string) : void {\n    this.name = name;\n}\n\nlet funcPerson = &lt;IPerson&gt;(new (&lt;any&gt;(person(\"John Doe\"))));\n</code></pre>\n\n<p>This works and compiles with the noImplicitAny flag.</p>\n\n<p><strong>The longer better answer</strong></p>\n\n<p>Just convert it to a class:</p>\n\n<pre><code>class person {\n    constructor(public name: string) { }\n}\n\nlet classPerson = person(\"John Doe\");\n</code></pre>\n\n<p>This compiles to: </p>\n\n<pre><code>var person = (function () {\n    function person(name) {\n        this.name = name;\n    }\n    return person;\n})();\nvar classPerson = new person(\"Jane Doe\");\n</code></pre>\n\n<p>This is an <a href=\"http://benalman.com/news/2010/11/immediately-invoked-function-expression/\" rel=\"noreferrer\">IIFE</a>, which in the simple case above makes no difference what so ever compared to the <code>var person = function...</code> implementation. They are exactly the same thing. </p>\n\n<p>Converting the newable function to a class is only beneficial. It makes the code readable, it is easier to refactor and easier to expand/modify in the future. It also has better type information (you do not even need the interface in this case).</p>\n\n<p>In short I can se no reason for using the newable function version over the class version of this solution. Both versions result in identical objects (refer to <code>classPerson</code> and <code>funcPerson</code> above).</p>\n\n<p><strong>A third option</strong></p>\n\n<p>If you have a working .js file that you want to use with typescript an option is to write a .d.ts file. In that case you can do something like this:</p>\n\n<p><em>person.js</em></p>\n\n<pre><code>var person = function(name) {\n    this.name = name;\n}\n</code></pre>\n\n<p><em>person.d.ts</em></p>\n\n<pre><code>interface PersonStatic {\n    name:string;\n    new(name: string) : PersonStatic;\n}\ndeclare var person: PersonStatic;\n</code></pre>\n\n<p>When you use this you would be able to do:</p>\n\n<pre><code>/// &lt;reference path=\"your.d.ts\"/&gt;\nvar p = new person(\"Jane Doe\");\n</code></pre>\n\n<p>and it would work. </p>\n\n<p>In that case the person.js file has to be present at run time for the javascript to execute properly. \nThe .d.ts file above is a basic example, if you decide to go down this road i recommend reading up on creating .d.ts files a bit before charging ahead.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8928802"}, "is_accepted": false, "score": 3, "last_activity_date": 1510574826, "last_edit_date": 1510574826, "creation_date": 1510535416, "answer_id": 47255796, "question_id": 34098999, "link": "https://stackoverflow.com/questions/34098999/how-to-convert-new-somefunction-syntax-to-typescript/47255796#47255796", "title": "How to convert new SomeFunction() syntax to TypeScript?", "body": "<blockquote>\n  <p>Define the type and type's constructor structures. Interfaces would work just fine.</p>\n</blockquote>\n\n<pre><code>type PersonType = {\n    name: string;\n    greet: (otherPerson: PersonType) =&gt; string;\n    selfIntroduce: () =&gt; string;\n}\n\n//ordinary functions are called with or without the \"new\" operator and\n//the constructor's type must indicate both signatures\n\ntype PersonTypeConstructor = {\n    (this: PersonType, name: string): void; //&lt;- \"this\" could be omitted here\n    new(name: string): PersonType; // &lt;- \"this\" must not appear here\n}\n</code></pre>\n\n<blockquote>\n  <p>Define the function that will be used as the constructor. <strong><em>this</em></strong> must be specified as the first parameter(since TS 2.0) so the compiler will not  complain when the <em>noImplicitThis</em> flag is set true.</p>\n</blockquote>\n\n<pre><code>const Person = (function Person(this: PersonType, name: string) { \n    this.name = name;\n}) as PersonTypeConstructor; // &lt;- cast the constructor here so no other cast will be necessary.\n\nPerson.prototype.greet = function (otherPerson: PersonType) {\n    return `Hello, ${otherPerson.name}!`;\n};\n\nPerson.prototype.selfIntroduce = function () {\n    return `Hello, my name is ${this.name}.`;\n};\n\nlet peggySue = new Person(\"Peggy Sue\");\nlet maryAnn  = new Person(\"Mary Ann\");\n\nconsole.log(maryAnn.selfIntroduce());\nconsole.log(peggySue.greet(maryAnn));\n</code></pre>\n"}], "owner": {"reputation": 29843, "user_id": 33264, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4ffb7620821b43c340d40187ca5820ff?s=128&d=identicon&r=PG", "display_name": "MatthewMartin", "link": "https://stackoverflow.com/users/33264/matthewmartin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3127, "favorite_count": 1, "accepted_answer_id": 34167395, "answer_count": 2, "score": 4, "last_activity_date": 1510574826, "creation_date": 1449270430, "last_edit_date": 1449507950, "question_id": 34098999, "link": "https://stackoverflow.com/questions/34098999/how-to-convert-new-somefunction-syntax-to-typescript", "title": "How to convert new SomeFunction() syntax to TypeScript?", "body": "<p>When attempting to convert a simple JS file to TS with implicit \"any\" disabled, I get this error:</p>\n\n<blockquote>\n  <p>error TS7009: 'new' expression, which lacks a constructor signature,\n  implicitly has an 'any' type.</p>\n</blockquote>\n\n<pre><code>interface Logger {\n    new ():any;\n    //():any; // \"Callable\" syntax. same error.\n    //new ():LoggerInstance; //Same error.\n}\ninterface LoggerInstance {\n}\n\nfunction Logger(): void {\n}\n\n\nvar defaultLogger: LoggerInstance = new Logger();//error TS7009\n//var defaultLogger: LoggerInstance = &lt;any&gt;new Logger();//same error\n//var defaultLogger: LoggerInstance = &lt;LoggerInstance &gt;new Logger();//same error\n</code></pre>\n\n<p>I don't see how to do this without converting the Logger function into a class.</p>\n\n<p>Without implicit any disabled, the typescript compiler was making any suggestions for improvement, so I'd like to leave that setting on.</p>\n\n<p><strong>Update</strong>: If I remove \"new\" from the Logger interface and then cast the result of new Logger(...), got it to compile in the full file, but in my smaller test example, I continue to get the same error.</p>\n\n<p><strong>Update 2</strong> Okay, I think what happen is the error warnings go away when the plugin that red-underlines syntax errors crashes. I'm thinking that this style of object creation must be forbidden when \"implicit any\" is disabled.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 1, "creation_date": 1449592032, "post_id": 34098304, "comment_id": 56068725, "body": "I got your code working in this <a href=\"http://plnkr.co/edit/bgHLWHcbjUfhOmYYXV70?p=preview\" rel=\"nofollow noreferrer\">plnkr</a>, I can&#39;t reproduce your issue."}, {"owner": {"reputation": 7463, "user_id": 228918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wBgrr.jpg?s=128&g=1", "display_name": "Jeremy Likness", "link": "https://stackoverflow.com/users/228918/jeremy-likness"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449593596, "post_id": 34098304, "comment_id": 56069762, "body": "The one difference I see is you have &quot;implements Validator&quot; which is how the built-in ones do it. I can&#39;t find where that reference comes from. When I true to use it, I get a compile error (I&#39;m compiling my TypeScript, not using the included one). Any thoughts?"}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 1, "creation_date": 1449594152, "post_id": 34098304, "comment_id": 56070139, "body": "Oh, yeah, I see what&#39;s going on (not entirely though). You are in a44, right? I downgraded the plnkr to a44 and it failed with your error. You should upgrade it to at least to a47 (it works since a45). Obviously something changed, but I don&#39;t see anything obvious in the changelog of a45."}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449594317, "post_id": 34098304, "comment_id": 56070233, "body": "<b><i>Edit</i></b> I think this is the change I was looking for =&gt; <a href=\"https://github.com/angular/angular/commit/547e011\" rel=\"nofollow noreferrer\">Add suport for Validator</a>."}, {"owner": {"reputation": 7463, "user_id": 228918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wBgrr.jpg?s=128&g=1", "display_name": "Jeremy Likness", "link": "https://stackoverflow.com/users/228918/jeremy-likness"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449594660, "post_id": 34098304, "comment_id": 56070455, "body": "Thanks. In a44 it creates a conflict - if I unique name it (i.e. ha-min instead of min) it works fine. Thanks! I&#39;ll update to latest as well."}, {"owner": {"reputation": 7463, "user_id": 228918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wBgrr.jpg?s=128&g=1", "display_name": "Jeremy Likness", "link": "https://stackoverflow.com/users/228918/jeremy-likness"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1449594964, "post_id": 34098304, "comment_id": 56070659, "body": "Can you note this in an answer and I&#39;ll mark it as such - still useful to others who may be working with the same. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "is_accepted": true, "score": 2, "last_activity_date": 1449598113, "creation_date": 1449598113, "answer_id": 34162964, "question_id": 34098304, "link": "https://stackoverflow.com/questions/34098304/how-do-i-create-a-custom-validation-directive-i-e-attribute-for-validation-in/34162964#34162964", "title": "How do I create a custom validation directive (i.e. attribute for validation) in Angular 2.0?", "body": "<p>As suggested by Jeremy,</p>\n\n<p>the problem is solved since alpha 45 where they added <a href=\"https://github.com/angular/angular/commit/547e011\" rel=\"nofollow\">support for Validator</a>. The error message may be confusing though (you were providing a function, why didn't work?) but the commit message gives a clue </p>\n\n<blockquote>\n  <p>Currently, the only way for a directive to export a validator is by providing a function. This makes it ackward to write validators that depend on directive inputs. In addition to supporting functions as validators, classes implementing the Validator interface are supported too.</p>\n</blockquote>\n\n<p>I couldn't find examples for custom validators in alpha 44 or below, so I can't say how they worked at that moment. And it's most likely they updated all their examples and working validators to work with alpha 45+.</p>\n\n<p>Anyway, this was solved by upgrading angular2, to the most recent version (alpha 48 is the latest one by the way, I said alpha 47 in the comment, my bad) although it was required at least alpha 45.</p>\n"}], "owner": {"reputation": 7463, "user_id": 228918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wBgrr.jpg?s=128&g=1", "display_name": "Jeremy Likness", "link": "https://stackoverflow.com/users/228918/jeremy-likness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 1, "accepted_answer_id": 34162964, "answer_count": 1, "score": 3, "last_activity_date": 1513163245, "creation_date": 1449266902, "last_edit_date": 1513163245, "question_id": 34098304, "link": "https://stackoverflow.com/questions/34098304/how-do-i-create-a-custom-validation-directive-i-e-attribute-for-validation-in", "title": "How do I create a custom validation directive (i.e. attribute for validation) in Angular 2.0?", "body": "<p>I am working on a small project for Angular 2.0 using TypeScript. Right now to my understanding, Angular 2.0 does not have built-in validators for \"min\" and \"max\" tags. I understand how you can build a custom validator and attach it using <code>FormBuilder</code> but I wish to see how to create a custom validator directive that I can attach on an attribute. The HTML looks like this: </p>\n\n<pre><code> &lt;div class=\"unit\"&gt;\n&lt;div class=\"label\"&gt;Age (13 - 120):&lt;/div&gt;\n&lt;div class=\"labelTarget\"&gt;\n    &lt;input id=\"ageFrm\" min=\"13\" max=\"120\" type=\"number\" required=\"\"\n    ng-control=\"age\" #age=\"form\" [class.error]=\"!age.valid\"\n    [(ng-model)]=\"ageValue\"/&gt; {{age.valid}}\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Right now <code>age.valid</code> is always <code>true</code> because there are no validators for <code>min</code> and <code>max</code>. I tried creating my own. First the custom validation functions:</p>\n\n<pre><code>import {Control} from \"angular2/angular2\";\n\nexport class HealthAppCustomValidators {\n\nstatic min(min: number): Function {\n  return (control: Control): {[key: string]: any} =&gt; {\n    var v: number = Number(control.value);\n    console.log(\"validating \" + v + \" against \" + min);\n    return v &lt; min ?\n              {\"min\": {\"requiredMin\": min, \"actualMin\": v}} :\n              null;\n  };\n  }\n\nstatic max(max: number): Function {\n  return (control: Control): {[key: string]: any} =&gt; {\nvar v: number = Number(control.value);\n    return v &gt; max ?\n              {\"max\": {\"requiredMax\": max, \"actualMax\": v}} :\n              null;\n  };\n   }\n}\n</code></pre>\n\n<p>And next the directives (this is based on examining the source code): </p>\n\n<pre><code>import {Attribute, Control, Directive, forwardRef, Provider, NG_VALIDATORS}   from \"angular2/angular2\";\nimport {HealthAppCustomValidators} from \"./customValidators\";\n\nconst MIN_VALIDATOR = new Provider(NG_VALIDATORS, {useExisting: \nforwardRef(() =&gt; MinValidator), multi:true});\n\n@Directive({\n  selector: '[min][ng-control],[min][ng-form-control],[min][ng-model]',\n  providers: [MIN_VALIDATOR]\n})\nexport class MinValidator {\n\n  private _validator: Function;\n\n  constructor(@Attribute(\"min\") min: string) {\n    console.log(min);\n    this._validator = HealthAppCustomValidators.min(Number(min));\n  }\n  validate(c: Control): {[key: string]: any} { \n    console.log(\"validate\");\n    return this._validator(c); \n }\n}\n</code></pre>\n\n<p>However, whenever I actually import the directives the page load fails with the following error:</p>\n\n<pre><code>TypeError: validator is not a function\nat     http://127.0.0.1:8080/node_modules/angular2/bundles/angular2.dev.js:12990:24\nat Array.reduce (native)\nat Function.ListWrapper.reduce (http://127.0.0.1:8080/node_modules/angular2/bundles/angular2.dev.js:4206:19)\nat http://127.0.0.1:8080/node_modules/angular2/bundles/angular2.dev.js:12989:44\nat http://127.0.0.1:8080/node_modules/angular2/bundles/angular2.dev.js:12990:24\nat Array.reduce (native)\nat Function.ListWrapper.reduce (http://127.0.0.1:8080/node_modules/angular2/bundles/angular2.dev.js:4206:19)\nat Control.validator (http://127.0.0.1:8080/node_modules/angular2/bundles/angular2.dev.js:12989:44)\nat Control.AbstractControl.updateValidity (http://127.0.0.1:8080/node_modules/angular2/bundles/angular2.dev.js:18871:27)\nat  http://127.0.0.1:8080/node_modules/angular2/bundles/angular2.dev.js:14097:14\n</code></pre>\n\n<p>Any help with the correct way to do this without <code>FormBuilder</code> is greatly appreciated: </p>\n"}, {"tags": ["generics", "inheritance", "static", "typescript", "self-reference"], "answers": [{"comments": [{"owner": {"reputation": 3923, "user_id": 1268016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oa3K1.jpg?s=128&g=1", "display_name": "mrm", "link": "https://stackoverflow.com/users/1268016/mrm"}, "edited": false, "score": 0, "creation_date": 1489422964, "post_id": 34098452, "comment_id": 72653131, "body": "He wanted his <code>getAll()</code> method to return an array of the subtype, without having to redefine the method in the subclass. See <a href=\"http://stackoverflow.com/a/42768627/1268016\">stackoverflow.com/a/42768627/1268016</a>"}], "tags": [], "owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "is_accepted": false, "score": 0, "last_activity_date": 1449267647, "creation_date": 1449267647, "answer_id": 34098452, "question_id": 34098023, "link": "https://stackoverflow.com/questions/34098023/typescript-self-referencing-return-type-for-static-methods-in-inheriting-classe/34098452#34098452", "title": "TypeScript: self-referencing return type for static methods in inheriting classes", "body": "<p>What are you expecting this static method to return in the inherited subclass? Is it something like this:</p>\n\n<pre><code>class A {\n    private static _instances = new Array&lt;A&gt;();\n    static instances(): A[] { return A._instances; }\n    constructor() { A._instances.push(this); }\n}\n\nclass B extends A {\n\n    static instances(): B[] { \n        return &lt;B[]&gt;(A.instances().filter(i =&gt; i instanceof B)); \n    }\n    constructor() { super(); }; \n}\n\nvar a = new A();\nvar b = new B();\n\nconsole.log(\n     \"A count: \" + A.instances().length + \n    \" B count: \" + B.instances().length);\n</code></pre>\n\n<p>This will output \"A count: 2 B count: 1\". Or what are you expecting?</p>\n"}, {"comments": [{"owner": {"reputation": 8983, "user_id": 977206, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5f1435d8f7dc5e3149befbc8bb5a8aa?s=128&d=identicon&r=PG", "display_name": "Flion", "link": "https://stackoverflow.com/users/977206/flion"}, "edited": false, "score": 0, "creation_date": 1534792751, "post_id": 42768627, "comment_id": 90824396, "body": "if you are using other static methods in the function implementation of <code>getAll</code> like <code>this.someOtherStaticMethod()</code> the provider will complain. You can go around this with <code>(this as any)</code>"}, {"owner": {"reputation": 3923, "user_id": 1268016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oa3K1.jpg?s=128&g=1", "display_name": "mrm", "link": "https://stackoverflow.com/users/1268016/mrm"}, "reply_to_user": {"reputation": 8983, "user_id": 977206, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5f1435d8f7dc5e3149befbc8bb5a8aa?s=128&d=identicon&r=PG", "display_name": "Flion", "link": "https://stackoverflow.com/users/977206/flion"}, "edited": false, "score": 1, "creation_date": 1534810259, "post_id": 42768627, "comment_id": 90829882, "body": "@Flion every time you cast to <code>any</code>, you make Mr. Hejlsberg cry. You can create a <code>BaseModelClass</code> to capture the static signature rather than using the inlined <code>{ new(): T }</code> type. See <a href=\"https://github.com/Vincit/objection.js/blob/master/typings/objection/index.d.ts#L370\" rel=\"nofollow noreferrer\">github.com/Vincit/objection.js/blob/master/typings/objection&zwnj;&#8203;/&hellip;</a> for a worked example."}, {"owner": {"reputation": 8983, "user_id": 977206, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5f1435d8f7dc5e3149befbc8bb5a8aa?s=128&d=identicon&r=PG", "display_name": "Flion", "link": "https://stackoverflow.com/users/977206/flion"}, "edited": false, "score": 0, "creation_date": 1534863690, "post_id": 42768627, "comment_id": 90853312, "body": "thanks, I agree, better to make Mr Hejlsberg happy where possible :) .. the BaseModelClass works more neatly for most things. But I still have an issue with <code>this.someOtherPrivateStaticMethod()</code> within <code>getAll</code>. Interfaces dont allow private declarations, but I need to define it in the interface. If I define it public the compiler complains when I call <code>getAll</code> on a subclass that its private in one but not in the other"}, {"owner": {"reputation": 532, "user_id": 1864166, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/141ee6bef43aa3b3c5bfe72587efb6f0?s=128&d=identicon&r=PG", "display_name": "Richard Duerr", "link": "https://stackoverflow.com/users/1864166/richard-duerr"}, "edited": false, "score": 0, "creation_date": 1550856632, "post_id": 42768627, "comment_id": 96439401, "body": "How do you get to other static methods, without casting to any? I have a base class, but i&#39;d rather not make a big interface for my base class...  When I try to use this.otherStatic, it complains.   If I use (&lt;extends Base&gt;this.constructor).otherStatic, it says I cannot convert this=&gt;T to &lt;extends Base&gt;...."}, {"owner": {"reputation": 3923, "user_id": 1268016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oa3K1.jpg?s=128&g=1", "display_name": "mrm", "link": "https://stackoverflow.com/users/1268016/mrm"}, "reply_to_user": {"reputation": 532, "user_id": 1864166, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/141ee6bef43aa3b3c5bfe72587efb6f0?s=128&d=identicon&r=PG", "display_name": "Richard Duerr", "link": "https://stackoverflow.com/users/1864166/richard-duerr"}, "edited": false, "score": 0, "creation_date": 1550945144, "post_id": 42768627, "comment_id": 96462199, "body": "@RichardDuerr if you figure that one out, please share with the class! I certainly haven&#39;t. Because of that, all my TypeScript projects do <i>not</i> follow ActiveRecord-ish class class designs that heavily use class statics for code organization. I use scala-esque traits and composition, instead."}, {"owner": {"reputation": 532, "user_id": 1864166, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/141ee6bef43aa3b3c5bfe72587efb6f0?s=128&d=identicon&r=PG", "display_name": "Richard Duerr", "link": "https://stackoverflow.com/users/1864166/richard-duerr"}, "edited": false, "score": 0, "creation_date": 1551111732, "post_id": 42768627, "comment_id": 96511437, "body": "The trick was to NOT use this parameter, and instead ONLY use the line:  baseConstructor = (&lt;extends BaseClass&gt;this.constructor);"}, {"owner": {"reputation": 113, "user_id": 1701146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67a6343073393a5fd8066f51897c4070?s=128&d=identicon&r=PG", "display_name": "Trapcode", "link": "https://stackoverflow.com/users/1701146/trapcode"}, "edited": false, "score": 0, "creation_date": 1587669397, "post_id": 42768627, "comment_id": 108610117, "body": "Any way to use this.someOtherStaticMethod() yet? am using alot of static methods?"}, {"owner": {"reputation": 1472, "user_id": 6509816, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/44tMB.jpg?s=128&g=1", "display_name": "yalpsid eman", "link": "https://stackoverflow.com/users/6509816/yalpsid-eman"}, "edited": false, "score": 0, "creation_date": 1590700915, "post_id": 42768627, "comment_id": 109788413, "body": "This is a great answer! But is there a way to do this when <code>getAll</code> takes parameters? Or is that not possible?"}, {"owner": {"reputation": 3923, "user_id": 1268016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oa3K1.jpg?s=128&g=1", "display_name": "mrm", "link": "https://stackoverflow.com/users/1268016/mrm"}, "reply_to_user": {"reputation": 1472, "user_id": 6509816, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/44tMB.jpg?s=128&g=1", "display_name": "yalpsid eman", "link": "https://stackoverflow.com/users/6509816/yalpsid-eman"}, "edited": false, "score": 1, "creation_date": 1590775361, "post_id": 42768627, "comment_id": 109818977, "body": "@yalpsideman I just updated the code with an example for you."}], "tags": [], "owner": {"reputation": 3923, "user_id": 1268016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oa3K1.jpg?s=128&g=1", "display_name": "mrm", "link": "https://stackoverflow.com/users/1268016/mrm"}, "is_accepted": true, "score": 30, "last_activity_date": 1616774885, "last_edit_date": 1616774885, "creation_date": 1489422249, "answer_id": 42768627, "question_id": 34098023, "link": "https://stackoverflow.com/questions/34098023/typescript-self-referencing-return-type-for-static-methods-in-inheriting-classe/42768627#42768627", "title": "TypeScript: self-referencing return type for static methods in inheriting classes", "body": "<p>This is doable in TypeScript 2.0+. By using an inline <code>{ new(): T }</code> type to capture <code>this</code>, you'll get what you wanted:</p>\n<pre class=\"lang-ts prettyprint-override\"><code>type Constructor&lt;T&gt; = { new (): T }\n\nclass BaseModel {\n  static getAll&lt;T&gt;(this: Constructor&lt;T&gt;): T[] {\n    return [] // dummy impl\n  }\n  \n  /**\n   * Example of static method with an argument:\n   */\n  static getById&lt;T&gt;(this: Constructor&lt;T&gt;, id: number): T | undefined {\n    return // dummy impl\n  }\n\n  save(): this {\n    return this // dummy impl\n  }\n}\n\nclass SubModel extends BaseModel {}\n\nconst sub = new SubModel()\nconst savedSub: SubModel = sub.save()\n\n// Behold: SubModel.getAll() returns SubModels, not BaseModel\nconst savedSubs: SubModel[] = SubModel.getAll()\n</code></pre>\n<p>Note that <code>getAll</code> still expects no arguments with this typing.</p>\n<p>For more information, see <a href=\"https://www.typescriptlang.org/docs/handbook/2/generics.html#using-class-types-in-generics\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/2/generics.html#using-class-types-in-generics</a> and <a href=\"https://stackoverflow.com/a/45262288/1268016\">https://stackoverflow.com/a/45262288/1268016</a></p>\n"}, {"comments": [{"owner": {"reputation": 13829, "user_id": 229998, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a2f657d25b4288c75e47b1f2988b5438?s=128&d=identicon&r=PG", "display_name": "taxilian", "link": "https://stackoverflow.com/users/229998/taxilian"}, "edited": false, "score": 4, "creation_date": 1582087826, "post_id": 59775495, "comment_id": 106651766, "body": "Wow, I&#39;ve been looking for this answer for a very long time. Thanks!"}, {"owner": {"reputation": 11097, "user_id": 91768, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08c9b8c4fa5870b86f2054212261e02a?s=128&d=identicon&r=PG", "display_name": "Richard Sim&#245;es", "link": "https://stackoverflow.com/users/91768/richard-sim%c3%b5es"}, "edited": false, "score": 0, "creation_date": 1607897575, "post_id": 59775495, "comment_id": 115410340, "body": "What would the solution be for a static getter, given that one can&#39;t take a parameter?"}], "tags": [], "owner": {"reputation": 70846, "user_id": 19212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3aefe160da30caa0d7ea0f922f94c257?s=128&d=identicon&r=PG", "display_name": "Brian M. Hunt", "link": "https://stackoverflow.com/users/19212/brian-m-hunt"}, "is_accepted": false, "score": 17, "last_activity_date": 1579198102, "creation_date": 1579198102, "answer_id": 59775495, "question_id": 34098023, "link": "https://stackoverflow.com/questions/34098023/typescript-self-referencing-return-type-for-static-methods-in-inheriting-classe/59775495#59775495", "title": "TypeScript: self-referencing return type for static methods in inheriting classes", "body": "<p>Based on the <a href=\"https://github.com/Microsoft/TypeScript/issues/5863#issuecomment-528305043\" rel=\"noreferrer\">simplest answer</a> to the <a href=\"https://github.com/Microsoft/TypeScript/issues/5863\" rel=\"noreferrer\">GitHub issue</a>, you can use <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#instancetypet\" rel=\"noreferrer\"><code>InstanceType&lt;&gt;</code></a> like this:</p>\n\n<pre><code>class Foo {\n    static create&lt;T extends typeof Foo&gt;(this: T): InstanceType&lt;T&gt; {\n        return new this() as InstanceType&lt;T&gt;\n    }\n\n    static getAll&lt;T extends typeof Foo&gt;(this: T): Array&lt;InstanceType&lt;T&gt;&gt; {\n        return []\n    }\n}\n\nclass Bar extends Foo { }\n\nconst a = Bar.getAll() // typeof a is Bar[]\nconst b = Bar.create() // typeof b is Bar.\n</code></pre>\n\n<p>Where I threw in the <code>create</code> function just for illustration, from the linked GitHub example.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 10260429, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-csx5Vkgw4po/AAAAAAAAAAI/AAAAAAAABkA/h6Edmle4igA/photo.jpg?sz=128", "display_name": "Carlos Benedetti", "link": "https://stackoverflow.com/users/10260429/carlos-benedetti"}, "is_accepted": false, "score": 0, "last_activity_date": 1611775210, "creation_date": 1611775210, "answer_id": 65925931, "question_id": 34098023, "link": "https://stackoverflow.com/questions/34098023/typescript-self-referencing-return-type-for-static-methods-in-inheriting-classe/65925931#65925931", "title": "TypeScript: self-referencing return type for static methods in inheriting classes", "body": "<p>Based on the <a href=\"https://stackoverflow.com/questions/34098023/typescript-self-referencing-return-type-for-static-methods-in-inheriting-classe/59775495#59775495\">Brains answer</a> you can get the <strong>return type</strong>, directly with just</p>\n<p><code>(typeof Class)['foo']</code></p>\n<h2>Example:</h2>\n<pre><code>export class MyClass {\n    myFunction(param:string):number{\n        return typeof param === &quot;string&quot;?1:0\n    }\n                                             /** Just class['foo'] to normal methods */   \n    static myStaticFunctions(cards: string): Parameters&lt;MyClass['MyFunction']&gt;[0] {\n                        /** and *(typeof class)* ['foo'] to static methods */   \n        const typedReturn: ReturnType&lt;(typeof MyClass)['myStaticFunctions']&gt; = &quot;works&quot;\n        return typedReturn\n        \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6487, "user_id": 635069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1403794582312ddf67657288fa98ab54?s=128&d=identicon&r=PG", "display_name": "Merott", "link": "https://stackoverflow.com/users/635069/merott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19595, "favorite_count": 6, "accepted_answer_id": 42768627, "answer_count": 4, "score": 25, "last_activity_date": 1616774885, "creation_date": 1449265654, "last_edit_date": 1495542345, "question_id": 34098023, "link": "https://stackoverflow.com/questions/34098023/typescript-self-referencing-return-type-for-static-methods-in-inheriting-classe", "title": "TypeScript: self-referencing return type for static methods in inheriting classes", "body": "<p>With <a href=\"https://github.com/Microsoft/TypeScript/pull/4910\" rel=\"noreferrer\">Polymorphic this</a> in TypeScript 1.7, as I discovered <a href=\"https://stackoverflow.com/questions/34095437/typescript-self-referencing-return-type-for-methods-in-inheriting-classes\">here</a>, we can define a method in a class with a return type of <code>this</code>, and automatically, any classes that extend that class and inherit the methods, will have their return types set to their respective <code>this</code> type. Like so:</p>\n\n<pre><code>class Model {\n  save():this {    // return type: Model\n    // save the current instance and return it\n  }\n}\n\nclass SomeModel extends Model {\n  // inherits the save() method - return type: SomeModel\n}\n</code></pre>\n\n<p>However, what I'm after is to have an inherited <code>static</code> method with a return type referencing the class itself. It's best described in code:</p>\n\n<pre><code>class Model {\n  static getAll():Model[] {\n    // return all recorded instances of Model as an array\n  }\n\n  save():this {\n    // save the current instance and return it\n  }\n}\n\nclass SomeModel extends Model {\n  // inherits the save() method - return type: SomeModel\n  // also inherits getAll() - return type: Model (how can we make that SomeModel?)\n}\n</code></pre>\n\n<p>Perhaps I'll have to think of a different way to implement this, since Polymorphic <code>this</code> in TypeScript 1.7 does not support <code>static</code> methods <em>by design</em>.</p>\n\n<p><strong>EDIT</strong>: I guess we'll see how this Github issue wraps up: <a href=\"https://github.com/Microsoft/TypeScript/issues/5863\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/5863</a></p>\n"}, {"tags": ["reactjs", "typescript", "visual-studio-2015"], "answers": [{"tags": [], "owner": {"reputation": 1720, "user_id": 2304788, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/27tDi.jpg?s=128&g=1", "display_name": "Lambert", "link": "https://stackoverflow.com/users/2304788/lambert"}, "is_accepted": true, "score": 0, "last_activity_date": 1454075950, "last_edit_date": 1454075950, "creation_date": 1450465757, "answer_id": 34362401, "question_id": 34097827, "link": "https://stackoverflow.com/questions/34097827/hello-world-in-visual-studio-2015-tsx-file-react-js-and-typescript/34362401#34362401", "title": "Hello World in Visual Studio 2015 TSX file ( React.js and TypeScript )", "body": "<p>I was able to get this code to work by adding the react-globals.d.ts typescript definitions file to my VS project, but I also had to remove the two lines that did the \"import React = 'react';\".  I guess the CommonJS import syntax is not required for external modules when I am not bundling everything into 1 javascript file.</p>\n\n<p>I could also get the project to work if I created a bundle.js of all the javascript files using Gulp and Browserify.  Maybe this is the better way since I don't have to use the script tags for React and it still works.  </p>\n\n<p>The problem with this method is that I don't know how to set break points in the individual typescript files.  I can only set break points for debugging in the giant bundled javascript file.  I finally gave up and logged a call with Microsoft to try and figure out how to make all this new technology work together. Good grief Charlie Brown!</p>\n\n<p>Microsoft got back to me and said that <a href=\"http://blogs.msdn.com/b/typescript/archive/2016/01/28/announcing-typescript-1-8-beta.aspx\" rel=\"nofollow\">TypeScript version 1.8</a> (in beta) will solve all of these bundling problems.  I guess that means that Gulp and Browserify won't be needed in Visual Studio for bundling anymore.</p>\n"}], "owner": {"reputation": 1720, "user_id": 2304788, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/27tDi.jpg?s=128&g=1", "display_name": "Lambert", "link": "https://stackoverflow.com/users/2304788/lambert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4265, "favorite_count": 1, "accepted_answer_id": 34362401, "answer_count": 1, "score": 3, "last_activity_date": 1454075950, "creation_date": 1449264759, "last_edit_date": 1449870363, "question_id": 34097827, "link": "https://stackoverflow.com/questions/34097827/hello-world-in-visual-studio-2015-tsx-file-react-js-and-typescript", "title": "Hello World in Visual Studio 2015 TSX file ( React.js and TypeScript )", "body": "<p>I am new to React.js and TypeScript and am trying to get a simple Hello World sample working. I added react-d.ts, react-dom.d.ts to my Typings folder.  When I run the site in debug mode I get \"require is not defined\" on line 1 of the typescript file.  How do I define this?</p>\n\n<p>--------- index.html file: --------------</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n   &lt;meta charset=\"utf-8\" /&gt;\n   &lt;title&gt;TypeScript Test&lt;/title&gt;\n\n   &lt;!-- References. --&gt;\n   &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/0.14.2/react.min.js\"&gt;&lt;/script&gt;\n   &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/0.14.2/react-dom.min.js\"&gt;&lt;/script&gt;\n   &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js\"&gt;&lt;/script&gt;\n   &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n   &lt;h1&gt;Before React Output&lt;/h1&gt;\n   &lt;div id=\"content\"&gt;&lt;/div&gt;\n\n   &lt;script src=\"Test.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>----------- Test.tsx file: -----------------</p>\n\n<pre><code>import React = require('react');\nimport ReactDOM = require('react-dom');\n\ninterface MyProps {\n   name: string;\n}\n\nclass HelloWorld extends React.Component&lt;MyProps, {}&gt; {\n   constructor(props: MyProps) {\n      super(props);\n   }\n   render() {\n      return (&lt;div&gt; Hello {this.props.name} &lt;/div&gt;);\n   }\n}\n\nReactDOM.render(&lt;HelloWorld name=\"World\" /&gt;,  document.getElementById('content'));\n</code></pre>\n\n<p>Here are my TypeScript settings:\n<a href=\"https://i.stack.imgur.com/lp2zK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lp2zK.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "tsd"], "comments": [{"owner": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1449271993, "post_id": 34097489, "comment_id": 55950573, "body": "Do you use the in-build router (a.k.a $routeProvider) or ui-router (a.k.a. $stateProvider). In the first case you need angular-route.d.ts and in the second case angular-ui-router.d.ts. If it still fails, mabye the compiler doesn&#39;t pick up this definition file?"}, {"owner": {"reputation": 9585, "user_id": 654434, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d4046093d5c6499ff13d5b5690a6cb32?s=128&d=identicon&r=PG", "display_name": "FlavorScape", "link": "https://stackoverflow.com/users/654434/flavorscape"}, "reply_to_user": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1449602869, "post_id": 34097489, "comment_id": 56075552, "body": "oh, duh. i totally used the mis-matched tsd."}], "owner": {"reputation": 9585, "user_id": 654434, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d4046093d5c6499ff13d5b5690a6cb32?s=128&d=identicon&r=PG", "display_name": "FlavorScape", "link": "https://stackoverflow.com/users/654434/flavorscape"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1449263389, "creation_date": 1449263389, "question_id": 34097489, "link": "https://stackoverflow.com/questions/34097489/where-is-the-definition-for-angular-route-irouteparamsservice", "title": "Where is the definition for angular.route.IRouteParamsService?", "body": "<p>I defined a local ref to routeParams service in my controller. <code>routeParams:IRouteParamsService</code> Webstorm even code completed this for me and generated an import statement at the top of my controller: </p>\n\n<pre><code>import IRouteParamsService = angular.route.IRouteParamsService;\n</code></pre>\n\n<p>However, this produces a typescript error, </p>\n\n<blockquote>\n  <p>Module 'Angular' has no exported property 'route'</p>\n</blockquote>\n\n<p>I tried removing it, I tried adding <code>angular-ui-router.d.ts</code> to my TSD typings collection. Maybe I'm missing a different TSD definition file? </p>\n\n<p>Here's the rest of the useful parts of my injector/constructor.</p>\n\n<pre><code>import ILocationProvider = angular.ILocationProvider;\nimport IRouteParamsService = angular.route.IRouteParamsService;\nimport IScope = angular.IScope;\n\ninterface ILoginControllerScope extends IScope {\n  userObject:any;\n  //...\n}\n\nclass LoginController {\n\n  formType = 'login';\n  userModel:UserModel;\n  location:ILocationProvider;\n  routeParams: IRouteParamsService;\n  scope:ILoginControllerScope;\n\n  static $inject = ['$scope', '$location', 'userModel', '$routeParams'];\n  constructor($scope, $location, $userModel, routeParams ){\n\n    this.scope = $scope;\n    this.location = $location;\n    this.userModel = $userModel;\n    this.routeParams = routeParams;\n    //...\n</code></pre>\n"}, {"tags": ["sharepoint", "typescript", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "is_accepted": false, "score": 1, "last_activity_date": 1449269902, "creation_date": 1449269902, "answer_id": 34098896, "question_id": 34097381, "link": "https://stackoverflow.com/questions/34097381/how-can-i-install-a-typescript-definition-file-so-it-is-always-loaded-by-vs-code/34098896#34098896", "title": "How can I install a TypeScript definition file so it is always loaded by VS Code?", "body": "<p>You could always create a tsconfig.json file (<a href=\"https://github.com/Microsoft/typescript/wiki/tsconfig.json\" rel=\"nofollow\">read more about it here</a>) and place it in the root of your \"project\".</p>\n\n<p>Something like this:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"noImplicitAny\": true,\n        \"removeComments\": true,\n        \"preserveConstEnums\": true,\n        \"out\": \"../../built/local/tsc.js\",\n        \"sourceMap\": true\n    },\n    \"files\": [\n        \"myDefinition.d.ts\",\n        \"myOtherDefinition.d.ts\",\n        \"SomethingToTranspile.ts\",\n        \"SomethingElseToTranspile.ts\",\n    ]\n}\n</code></pre>\n\n<p>The above is just an example, read more about it at the link i provided. </p>\n"}, {"comments": [{"owner": {"reputation": 21753, "user_id": 2065702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ra7Pl.jpg?s=128&g=1", "display_name": "Zach Saucier", "link": "https://stackoverflow.com/users/2065702/zach-saucier"}, "edited": false, "score": 0, "creation_date": 1587051658, "post_id": 34211180, "comment_id": 108363147, "body": "An empty jsconfig.json file works for me. And the typescript declarations don&#39;t have to be in the root of the project, I have them in a /types directory."}], "tags": [], "owner": {"reputation": 596, "user_id": 988264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2ECoD.jpg?s=128&g=1", "display_name": "Dylan Cristy", "link": "https://stackoverflow.com/users/988264/dylan-cristy"}, "is_accepted": true, "score": 2, "last_activity_date": 1449779512, "creation_date": 1449779512, "answer_id": 34211180, "question_id": 34097381, "link": "https://stackoverflow.com/questions/34097381/how-can-i-install-a-typescript-definition-file-so-it-is-always-loaded-by-vs-code/34211180#34211180", "title": "How can I install a TypeScript definition file so it is always loaded by VS Code?", "body": "<p>Unfortunately there doesn't seem to be a way to do what I originally wanted, which is have the type definitions loaded whenever I started Code, no matter where I was working.</p>\n\n<p>So the answer is to do something similar to what Nypan suggested, but it turns out it's even easier than that.</p>\n\n<p>According to the <a href=\"https://code.visualstudio.com/docs/languages/javascript\" rel=\"nofollow\">documentation on the VS Code website</a>, I don't even need a <code>tsconfig.json</code> file, I can use a <code>jsconfig.json</code> file, and I don't even need to specify the type definition files in the \"files\" section.</p>\n\n<blockquote>\n  <p>As an example, you can just drop a new type definition .d.ts file into\n  your project folder and VS Code will pick it up automatically.</p>\n</blockquote>\n\n<p>So, I just have to have the <code>.d.ts</code> files somewhere under the \"root\" of my workspace, and a <code>jsconfig.json</code> file in the root that is as simple as:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\"\n    }\n}\n</code></pre>\n\n<p>and with that I get the IntelliSense for the SharePoint stuff.</p>\n"}, {"tags": [], "owner": {"reputation": 613, "user_id": 2506135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b80126da04ec63cd3919e9763553954?s=128&d=identicon&r=PG", "display_name": "John Lee", "link": "https://stackoverflow.com/users/2506135/john-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1560878116, "last_edit_date": 1560878116, "creation_date": 1545954449, "answer_id": 53952111, "question_id": 34097381, "link": "https://stackoverflow.com/questions/34097381/how-can-i-install-a-typescript-definition-file-so-it-is-always-loaded-by-vs-code/53952111#53952111", "title": "How can I install a TypeScript definition file so it is always loaded by VS Code?", "body": "<p>From the docs: <a href=\"https://code.visualstudio.com/docs/languages/javascript#_automatic-type-acquisition\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/languages/javascript#_automatic-type-acquisition</a></p>\n\n<p>If you are using Visual Studio Code 1.8+, one alternative is to explicitly list packages to acquire type declaration files for in your jsconfig.json.</p>\n\n<pre><code>\"typeAcquisition\": {\n    \"include\": [\n        \"lodash\"\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 596, "user_id": 988264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2ECoD.jpg?s=128&g=1", "display_name": "Dylan Cristy", "link": "https://stackoverflow.com/users/988264/dylan-cristy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 935, "favorite_count": 2, "accepted_answer_id": 34211180, "answer_count": 3, "score": 3, "last_activity_date": 1560878116, "creation_date": 1449262955, "last_edit_date": 1495535235, "question_id": 34097381, "link": "https://stackoverflow.com/questions/34097381/how-can-i-install-a-typescript-definition-file-so-it-is-always-loaded-by-vs-code", "title": "How can I install a TypeScript definition file so it is always loaded by VS Code?", "body": "<p>I do a lot of work with SharePoint, so I would love to be able to install the <a href=\"https://github.com/gandjustas/sptypescript\" rel=\"nofollow noreferrer\">SharePoint and Ajax typescript definitions</a> files so I can have Intellisense for them in VS Code.</p>\n\n<p>I found this other question here on SE:</p>\n\n<p><a href=\"https://stackoverflow.com/q/29975036/988264\">How to Import Intellisense files into vsCode (Visual Studio Code)</a></p>\n\n<p>but it deals with OSX (I'm on Windows), and apparently you still have to add references at the top of your code files.</p>\n\n<p>Is there a way / place I can install them so that VS Code automatically loads them always and I do not have to reference them at the top of my code files?</p>\n"}, {"tags": ["html", "typescript", "angular"], "answers": [{"tags": [], "owner": {"reputation": 6245, "user_id": 4911384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-pRKkwUEJZws/AAAAAAAAAAI/AAAAAAAAA-A/VAn5zKHtzzQ/photo.jpg?sz=128", "display_name": "Vlado Tesanovic", "link": "https://stackoverflow.com/users/4911384/vlado-tesanovic"}, "is_accepted": false, "score": 1, "last_activity_date": 1450970650, "last_edit_date": 1450970650, "creation_date": 1450968320, "answer_id": 34454444, "question_id": 34095585, "link": "https://stackoverflow.com/questions/34095585/angular2-get-component-html-before-template/34454444#34454444", "title": "Angular2 - Get component html before template", "body": "<p>In ComponentB template, put this:</p>\n\n<pre><code>template: `\n    &lt;h1&gt;&lt;ng-content&gt;&lt;/ng-content&gt;&lt;/h1&gt;\n`\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 4068063, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/701196834/picture?type=large", "display_name": "Alvaro Contreras", "link": "https://stackoverflow.com/users/4068063/alvaro-contreras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1450970650, "creation_date": 1449255589, "last_edit_date": 1449501781, "question_id": 34095585, "link": "https://stackoverflow.com/questions/34095585/angular2-get-component-html-before-template", "title": "Angular2 - Get component html before template", "body": "<p>I have 2 components A and B defined this way:</p>\n\n<p><strong>Component A:</strong></p>\n\n<pre><code>import { Component, CORE_DIRECTIVES, ElementRef} from 'angular2/angular2';\nimport ComponentB from \".'ComponentB\";\n\n@Component( {\n    selector: 'component-a',\n    directives: [ CORE_DIRECTIVES ],\n    template: `\n        &lt;component-b&gt;\n            Inner text/html, whatever...\n        &lt;/component-b&gt;\n    `\n} )\n\nexport class ComponentA( {\n    static parameters = [ [ ElementRef ] ];\n    element:ElementRef;\n    constructor( element:ElementRef ) {\n        this.element = element;\n    }\n\n    afterViewInit():void {\n    }\n} )\n</code></pre>\n\n<p><strong>Component B:</strong></p>\n\n<pre><code>import { Component, CORE_DIRECTIVES, ElementRef} from 'angular2/angular2';\n\n@Component( {\n    selector: 'component-b',\n    directives: [ CORE_DIRECTIVES ],\n    template: `\n        &lt;h1&gt;{{innerContent}}&lt;/h1&gt;\n    `\n} )\n\nexport class ComponentB( {\n    static parameters = [ [ ElementRef ] ];\n    element:ElementRef;\n    innerContent:string;\n\n    constructor( element:ElementRef ) {\n        this.element = element;\n    }\n\n    afterViewInit():void {\n    }\n} )\n</code></pre>\n\n<p>What i want to accomplish is to use the content between the <code>&lt;component-b&gt;</code> tag in Component A template to set the variable <code>innerContent</code> of ComponentB.</p>\n\n<p>I have tried to use <code>this.element.nativeElement.innerHTML</code> inside <code>afterViewInit</code> of ComponentB class, but it gets the innerHTML of the template variable, not of the parent one.</p>\n\n<p>Restrictions: \nUse of custom attributes in the component using @Inputs/@Outputs is not an option.\n<strong>e.g.</strong></p>\n\n<pre><code>    &lt;component-b [innerContent]=\"Inner text/html, whatever...\"&gt;\n    &lt;/component-b&gt;\n</code></pre>\n"}, {"tags": ["generics", "inheritance", "static", "typescript", "self-reference"], "answers": [{"comments": [{"owner": {"reputation": 6487, "user_id": 635069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1403794582312ddf67657288fa98ab54?s=128&d=identicon&r=PG", "display_name": "Merott", "link": "https://stackoverflow.com/users/635069/merott"}, "edited": false, "score": 1, "creation_date": 1449264023, "post_id": 34095611, "comment_id": 55947328, "body": "Thank you. Just upvoted your answer, because it answered the question... There is a twist though, one that I hadn&#39;t anticipated - I&#39;ll open a new question!"}, {"owner": {"reputation": 6487, "user_id": 635069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1403794582312ddf67657288fa98ab54?s=128&d=identicon&r=PG", "display_name": "Merott", "link": "https://stackoverflow.com/users/635069/merott"}, "edited": false, "score": 1, "creation_date": 1449265669, "post_id": 34095611, "comment_id": 55948079, "body": "Here is the question with the twist: <a href=\"http://stackoverflow.com/questions/34098023/typescript-self-referencing-return-type-for-static-methods-in-inheriting-classe\" title=\"typescript self referencing return type for static methods in inheriting classe\">stackoverflow.com/questions/34098023/&hellip;</a>"}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 2, "last_activity_date": 1449255684, "creation_date": 1449255684, "answer_id": 34095611, "question_id": 34095437, "link": "https://stackoverflow.com/questions/34095437/typescript-self-referencing-return-type-for-methods-in-inheriting-classes/34095611#34095611", "title": "TypeScript: self-referencing return type for methods in inheriting classes", "body": "<p>You're in luck. <a href=\"https://github.com/Microsoft/TypeScript/pull/4910\" rel=\"nofollow\">Polymorphic this</a> just came out in <a href=\"http://blogs.msdn.com/b/typescript/archive/2015/11/30/announcing-typescript-1-7.aspx\" rel=\"nofollow\">TypeScript 1.7</a>. Upgrade to TypeScript 1.7 and then remove the explicit return type and it will work perfectly:</p>\n\n<pre><code>class Model {\n    save() {\n        return this;\n    }\n}\n\nclass SomeModel extends Model {\n    otherMethod() {\n    }\n}\n\nlet someModel = new SomeModel().save();\n// no compile error since someModel is typed as SomeModel in TS 1.7+\nsomeModel.otherMethod();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17207, "user_id": 681830, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/bhOOq.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/681830/val"}, "is_accepted": false, "score": 4, "last_activity_date": 1582725010, "last_edit_date": 1582725010, "creation_date": 1548212713, "answer_id": 54319468, "question_id": 34095437, "link": "https://stackoverflow.com/questions/34095437/typescript-self-referencing-return-type-for-methods-in-inheriting-classes/54319468#54319468", "title": "TypeScript: self-referencing return type for methods in inheriting classes", "body": "<p>I know I'm late to the party,<br>\n@2019 I found a way to make return type specific:</p>\n\n<pre><code>class Model {\n  save&lt;T extends Model&gt;(this: T): T {\n    // save the current instance and return it\n  }\n}\n</code></pre>\n\n<p>This way whatever extends <code>Model</code>, or <code>Model</code> itself, will be referenced as return type when called.</p>\n\n<p>And with Typescript@3, this also works:</p>\n\n<pre><code>class Model {\n  save(): this {\n    // save the current instance and return it\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 6487, "user_id": 635069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1403794582312ddf67657288fa98ab54?s=128&d=identicon&r=PG", "display_name": "Merott", "link": "https://stackoverflow.com/users/635069/merott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2489, "favorite_count": 0, "accepted_answer_id": 34095611, "answer_count": 2, "score": 2, "last_activity_date": 1582725010, "creation_date": 1449255051, "last_edit_date": 1449263951, "question_id": 34095437, "link": "https://stackoverflow.com/questions/34095437/typescript-self-referencing-return-type-for-methods-in-inheriting-classes", "title": "TypeScript: self-referencing return type for methods in inheriting classes", "body": "<p><em>Disclaimer: I'm finding it hard to summarise the problem in the title of the question, so if you have better suggestions, please let me know in the comments.</em></p>\n\n<p>Let's take the following simplified TypeScript class:</p>\n\n<pre><code>class Model {\n  save():Model {\n    // save the current instance and return it\n  }\n}\n</code></pre>\n\n<p>The <code>Model</code> class has a <code>save()</code> method that returns an instance of itself: a <code>Model</code>.</p>\n\n<p>We can extend <code>Model</code> like so:</p>\n\n<pre><code>class SomeModel extends Model {\n  // inherits the save() method\n}\n</code></pre>\n\n<p>So, <code>SomeModel</code> will inherit <code>save()</code>, but it still returns a <code>Model</code>, not a <code>SomeModel</code>.</p>\n\n<p>Is there a way, perhaps using generics, to set the return type of <code>save()</code> in <code>SomeModel</code> to <code>SomeModel</code>, without having to redefine it inside of the inheriting class?</p>\n"}, {"tags": ["typescript", "visual-studio-2015", "javascript-intellisense"], "comments": [{"owner": {"reputation": 3514, "user_id": 1001328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/EyYQ3.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/1001328/james"}, "edited": false, "score": 1, "creation_date": 1449247115, "post_id": 34093117, "comment_id": 55938616, "body": "Just to clarify, I realise I can select <code>Build Only</code> in my error list, but I would like the incorrect intellisense removed from my typescript files too"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 5944344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b934aa0f949493fd9656a63228b70ba?s=128&d=identicon&r=PG&f=1", "display_name": "Parthasus", "link": "https://stackoverflow.com/users/5944344/parthasus"}, "is_accepted": false, "score": 0, "last_activity_date": 1513819849, "creation_date": 1513819849, "answer_id": 47916670, "question_id": 34093117, "link": "https://stackoverflow.com/questions/34093117/visual-studio-2015-hide-javascript-errors-from-error-list/47916670#47916670", "title": "Visual Studio 2015 Hide Javascript Errors from Error List", "body": "<p><strong>Option 1: From Settings</strong></p>\n\n<p>You will need to disable the Javascript Language Service by going to <strong>Options > Text Editor > JavaScript/TypeScript > Language Service</strong> and un-check \"Enable the new JavaScript language service\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/vSHy7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vSHy7.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Option 2: Disable it through the registry</strong></p>\n\n<p>[HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\VisualStudio\\15.0\\TypeScriptLanguageService]</p>\n\n<p>Create/Edit the dword UseTypeScriptExperimental to 00000000</p>\n\n<p>\u201cUseTypeScriptExperimental\u201d=dword:00000000</p>\n"}], "owner": {"reputation": 3514, "user_id": 1001328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/EyYQ3.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/1001328/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 757, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1513819849, "creation_date": 1449247044, "question_id": 34093117, "link": "https://stackoverflow.com/questions/34093117/visual-studio-2015-hide-javascript-errors-from-error-list", "title": "Visual Studio 2015 Hide Javascript Errors from Error List", "body": "<p>I have recently started working with mvc6 and knockoutJS in Visual Studio 2015.\nWhen I use knockout in my typescript files I get red underlines on everything jquery or knockout (or any library) related, and it says <code>Cannot find name 'ko'</code> in my Error List. I understand that the IDE can't work out that these javascript objects do exist, but surely this is a problem everybody gets? </p>\n\n<p>How can I remove intellisense from my javascript/typescript files? </p>\n"}, {"tags": ["javascript", "node.js", "visual-studio", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5705029, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/2501f72a79126a855b783cdae02ee65f?s=128&d=identicon&r=PG", "display_name": "Dove", "link": "https://stackoverflow.com/users/5705029/dove"}, "is_accepted": false, "score": -1, "last_activity_date": 1450734130, "creation_date": 1450734130, "answer_id": 34404810, "question_id": 34092825, "link": "https://stackoverflow.com/questions/34092825/vs-2015-node-js-how-use-call-npm-package-in-typescript/34404810#34404810", "title": "VS 2015 node.js, how use/call NPM package in typescript?", "body": "<p>I may help with the second part of your question ..\nin your <code>$root/users/[you]</code> directory run this node command\n<code>npm install tsd -g</code>\nThen use tsd (type script definition) to query <code>tsd query [something]</code> or to install <code>tsd install lodash</code> from the cmd line to find the *.d.ts files. Note in visual studio you might have to reorganize the installed files as VS expects a different directory. <a href=\"https://www.npmjs.com/package/tsd\" rel=\"nofollow\">https://www.npmjs.com/package/tsd</a></p>\n"}], "owner": {"reputation": 555, "user_id": 2671994, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a2abbdd58951e77bdc56c4291b057398?s=128&d=identicon&r=PG", "display_name": "Piranha", "link": "https://stackoverflow.com/users/2671994/piranha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450734130, "creation_date": 1449246176, "question_id": 34092825, "link": "https://stackoverflow.com/questions/34092825/vs-2015-node-js-how-use-call-npm-package-in-typescript", "title": "VS 2015 node.js, how use/call NPM package in typescript?", "body": "<p>I have a node.js VS 2015 project.</p>\n\n<p>Now I downloaded the 'p2' physics engine via the integrated npm: </p>\n\n<p><a href=\"https://i.stack.imgur.com/7M7n0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7M7n0.png\" alt=\"enter image description here\"></a> </p>\n\n<p>Now I want to use the module in my project. But I don't know how to import it, so it is recognized by the ts compiler.</p>\n\n<p>I've downloaded an additional p2.d.ts file for typesafety it and put it into the project directory.\nEven if I reference the file it tells me 'p2' is not found:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kAuYg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kAuYg.png\" alt=\"enter image description here\"></a></p>\n\n<p>if I use 'import p2 = require('./p2.d.ts');' instead. The compiler tells me './p2.d.ts' is not a module.</p>\n\n<p>How do I call node.js modules from TypeScript and how do I add additional *.d.ts files which are not shipped with the node module? </p>\n"}, {"tags": ["javascript", "npm", "typescript"], "comments": [{"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1449245261, "post_id": 34092459, "comment_id": 55937365, "body": "For starters, even if your node_modules directory is accessible, I think commonly a separate set of clientside packages is used via something like Bower (which is, itself, an NPM package). Secondly, you may need to load a dependency manager like commonjs or requirejs before other scripts in a browser, while import support is built straight into Node."}, {"owner": {"reputation": 2530, "user_id": 2352017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/deihp.jpg?s=128&g=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/2352017/pablo"}, "reply_to_user": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1449245717, "post_id": 34092459, "comment_id": 55937675, "body": "Hi @Katana314 thanks for your comment. See my answer under &quot;Notes&quot;."}, {"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1449245797, "post_id": 34092459, "comment_id": 55937735, "body": "&quot;<i>I find it should be done with NPM instead.</i>&quot; - can you explain this reasoning further? I should note that my node_modules directory tends to contain lots of files that absolutely don&#39;t make sense to be publically served, and the same may be true of you."}, {"owner": {"reputation": 2530, "user_id": 2352017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/deihp.jpg?s=128&g=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/2352017/pablo"}, "reply_to_user": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1449246424, "post_id": 34092459, "comment_id": 55938180, "body": "I agree that the <code>node_modules</code> can get bloated very easily with both <code>dependencies</code> and <code>devDependencies</code>. But then I&#39;d use a <code>Gulp</code> task to select, concat and inject only what I need into the <code>index.html</code> for production."}], "answers": [{"tags": [], "owner": {"reputation": 2901, "user_id": 1420493, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/OISxq.png?s=128&g=1", "display_name": "Zachrip", "link": "https://stackoverflow.com/users/1420493/zachrip"}, "is_accepted": false, "score": 0, "last_activity_date": 1449245906, "creation_date": 1449245906, "answer_id": 34092737, "question_id": 34092459, "link": "https://stackoverflow.com/questions/34092459/how-to-consume-npm-packages-in-the-browser-with-typescript/34092737#34092737", "title": "How to consume NPM packages in the browser with TypeScript?", "body": "<p>First off, typescript can't find your module because you need to put the typings in your file. Second, you need to export your typescript using the --module system flag (or equivalent in tsconfig.json). And third it needs to be loaded using systemjs. I would highly recommend you use JSPM for this, I know I know - another package manager, but it's more of an extension on NPM than anything else. It allows you to manage your Systemjs deps really easily. <a href=\"http://jspm.io/\" rel=\"nofollow\">http://jspm.io/</a></p>\n"}, {"tags": [], "owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "is_accepted": false, "score": 0, "last_activity_date": 1449248038, "creation_date": 1449248038, "answer_id": 34093461, "question_id": 34092459, "link": "https://stackoverflow.com/questions/34092459/how-to-consume-npm-packages-in-the-browser-with-typescript/34093461#34093461", "title": "How to consume NPM packages in the browser with TypeScript?", "body": "<p>I'm afraid I'm not famililar with SystemJs, but from what I know of module loaders, they recognize libraries by <em>the path they were loaded from</em>, not the module's global name or anything. So, having lodash loaded via a <code>&lt;script&gt;</code> won't actually help it know whether or not it has it, or what object to give back. In basic terms, you'll want to load it via your module loader, not on its own.</p>\n\n<p>However, you likely don't want to write \"<em>../node_modules/</em>\" into all your require statements in-script; that'd be annoying. You could look through SystemJs' configuration documentation to see if there's a way to create a mapping, so that a particular module name will automatically cause it to know to use a certain path for the script.</p>\n"}], "owner": {"reputation": 2530, "user_id": 2352017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/deihp.jpg?s=128&g=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/2352017/pablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 596, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1449248038, "creation_date": 1449245071, "last_edit_date": 1449245620, "question_id": 34092459, "link": "https://stackoverflow.com/questions/34092459/how-to-consume-npm-packages-in-the-browser-with-typescript", "title": "How to consume NPM packages in the browser with TypeScript?", "body": "<p>This is my setup:</p>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n\n    &lt;script src=\"../node_modules/systemjs/dist/system.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../node_modules/lodash/index.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;script&gt;\n        System.config({\n            packages: {'js': {defaultExtension: 'js'}}\n        });\n\n        System\n            .import('./js/app')\n            .catch(console.error.bind(console));\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>app.ts</strong></p>\n\n<pre><code>import {_} from 'lodash';\n\nexport class App {};\n</code></pre>\n\n<p>When I try transpiling TypeScript into JavaScript I get the error below:</p>\n\n<pre><code>error TS2307: Cannot find module 'lodash'.\n</code></pre>\n\n<p>What's the most standard/recommended way of loading a NPM packing into your project when using TypeScript?</p>\n\n<p><strong>Notes</strong></p>\n\n<ul>\n<li><code>node_modules</code> is accessible and the file <code>node_modules/lodash/index.js</code> is being served correctly. </li>\n<li>I'm trying not to use <code>Bower</code> because I find it should be done with <code>NPM</code> instead.</li>\n<li>I'm using <code>SystemJS</code> which I believe is an universal module loader.</li>\n</ul>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1219, "user_id": 2460034, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f8c82bc9cbb037eb3f988371d941c5e8?s=128&d=identicon&r=PG", "display_name": "Kagami Sascha Rosylight", "link": "https://stackoverflow.com/users/2460034/kagami-sascha-rosylight"}, "edited": false, "score": 1, "creation_date": 1449238868, "post_id": 34088374, "comment_id": 55932923, "body": "It satisfies TS compiler but then the signatures become wrong as <code>indexOf(track, 0)</code> returns an object rather than a number value."}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 1219, "user_id": 2460034, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f8c82bc9cbb037eb3f988371d941c5e8?s=128&d=identicon&r=PG", "display_name": "Kagami Sascha Rosylight", "link": "https://stackoverflow.com/users/2460034/kagami-sascha-rosylight"}, "edited": false, "score": 0, "creation_date": 1449239344, "post_id": 34088374, "comment_id": 55933262, "body": "Liskov principle should be the answer. Do not change the shape of the object. That would be my advise. If you derive, do keep the parent shape in place. If any polymorphic operation will expect Array, it will expect the indexOf will return a number. I do not know how to express that more.. hope it helps a bit at least"}, {"owner": {"reputation": 1219, "user_id": 2460034, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f8c82bc9cbb037eb3f988371d941c5e8?s=128&d=identicon&r=PG", "display_name": "Kagami Sascha Rosylight", "link": "https://stackoverflow.com/users/2460034/kagami-sascha-rosylight"}, "edited": false, "score": 1, "creation_date": 1449243788, "post_id": 34088374, "comment_id": 55936334, "body": "The class is from <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.media.playback.mediaplaybacktimedmetadatatracklist.indexof.aspx\" rel=\"nofollow noreferrer\">the existing Universal Windows Platform</a> so I cannot fix the shape."}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": false, "score": 1, "last_activity_date": 1449231904, "creation_date": 1449231904, "answer_id": 34088374, "question_id": 34087631, "link": "https://stackoverflow.com/questions/34087631/typescript-declaration-indexof-method-signature-conflicts-with-array-indexof/34088374#34088374", "title": "TypeScript declaration: indexOf method signature conflicts with Array.indexOf", "body": "<p>The key to sustainable OOP is to follow the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow\">Liskov substitution principle</a>. So the derived <em>Array</em> should still be the <strong><code>Array</code></strong>. So, we should let the original <strong><code>indexOf</code></strong> definition in place with overload:</p>\n\n<pre><code>declare class MediaPlaybackTimedMetadataTrackList extends Array {\n    ...\n    indexOf(searchElement: Windows.Media.Core.TimedMetadataTrack, fromIndex?: number)\n       : number;\n    indexOf(value: Windows.Media.Core.TimedMetadataTrack)\n       : { index: number; returnValue: boolean; };\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1530144889, "post_id": 34299582, "comment_id": 89135675, "body": "Alternatively you could make the return type <code>never</code> instead of <code>void</code> to make it a compile-time error that will bring attention to the erroneous usage."}], "tags": [], "owner": {"reputation": 15407, "user_id": 4386952, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c4b129c5a5b3bd007ca390170d7fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Rosenwasser", "link": "https://stackoverflow.com/users/4386952/daniel-rosenwasser"}, "is_accepted": true, "score": 2, "last_activity_date": 1450214345, "creation_date": 1450214345, "answer_id": 34299582, "question_id": 34087631, "link": "https://stackoverflow.com/questions/34087631/typescript-declaration-indexof-method-signature-conflicts-with-array-indexof/34299582#34299582", "title": "TypeScript declaration: indexOf method signature conflicts with Array.indexOf", "body": "<p>You'll need to include the same signatures from the original implementation, so start off with</p>\n\n<pre><code>declare class MediaPlaybackTimedMetadataTrackList extends Array {\n    indexOf(value: any): { index: number; returnValue: boolean; };\n    indexOf(searchElement: any, fromIndex?: number): number;\n}\n</code></pre>\n\n<p>But clearly that's problematic because anything that feeds in a <code>fromIndex</code> is not going to get <code>number</code> if the implementation doesn't respect <code>Array</code>'s original behavior.</p>\n\n<p>So what you can instead do is:</p>\n\n<pre><code>declare class MediaPlaybackTimedMetadataTrackList extends Array {\n    indexOf(value: any): { index: number; returnValue: boolean; };\n    indexOf(value: any, ...extra: any[]): { index: number; returnValue: boolean; };\n    indexOf(searchElement: any, fromIndex?: number): number;\n}\n</code></pre>\n\n<p>It's a bit of a hack, but you can now no longer get the original implementation because a caller will always resolve to the second overload.</p>\n\n<p>If you want to try to avoid calling the second overload, you can also make it return <code>void</code>.</p>\n\n<pre><code>declare class MediaPlaybackTimedMetadataTrackList extends Array {\n    indexOf(value: any): { index: number; returnValue: boolean; };\n    indexOf(value: any, ...extra: any[]): void;\n    indexOf(searchElement: any, fromIndex?: number): number;\n}\n</code></pre>\n\n<p>or <code>{ \"This type should never be used, stop what you're doing\": void }</code></p>\n"}], "owner": {"reputation": 1219, "user_id": 2460034, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f8c82bc9cbb037eb3f988371d941c5e8?s=128&d=identicon&r=PG", "display_name": "Kagami Sascha Rosylight", "link": "https://stackoverflow.com/users/2460034/kagami-sascha-rosylight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 686, "favorite_count": 0, "accepted_answer_id": 34299582, "answer_count": 2, "score": 1, "last_activity_date": 1450214345, "creation_date": 1449229413, "last_edit_date": 1449238717, "question_id": 34087631, "link": "https://stackoverflow.com/questions/34087631/typescript-declaration-indexof-method-signature-conflicts-with-array-indexof", "title": "TypeScript declaration: indexOf method signature conflicts with Array.indexOf", "body": "<pre><code>/** Represents a read-only list of timed metadata tracks. */\ndeclare class MediaPlaybackTimedMetadataTrackList extends Array {\n    /** Returns an iterator that iterates over the items in the collection. */\n    first(): Windows.Foundation.Collections.IIterator;\n    /** Returns the timed metadata track at the specified index. */\n    getAt(index: number): Windows.Media.Core.TimedMetadataTrack;\n    /** Retrieves the timed metadata tracks that start at the specified index in the list. */\n    getMany(startIndex: number): { /** The timed metadata tracks that start at startIndex in the list. */ items: Windows.Media.Core.TimedMetadataTrack; /** Retrieves the timed metadata tracks that start at the specified index in the list. */ returnValue: number; };\n    /** Gets the presentation mode of the timed metadata track with the specified index. */\n    getPresentationMode(index: number): Windows.Media.Playback.TimedMetadataTrackPresentationMode;\n    /** Retrieves the index of a specified timed metadata track in the list. */\n    indexOf(value: Windows.Media.Core.TimedMetadataTrack): { /** If the timed metadata track is found, this is the zero-based index of the audio track; otherwise, this parameter is 0. */ index: number; /** True if the timed metadata track is found; otherwise, false. */ returnValue: boolean; };\n    /** Occurs when the presentation mode of the MediaPlaybackTimedMetadataTrackList changes. */\n    onpresentationmodechanged: (ev: Windows.Foundation.TypedEventHandler) =&gt; any;\n    addEventListener(type: \"presentationmodechanged\", listener: (ev: Windows.Foundation.TypedEventHandler) =&gt; any): void;\n    removeEventListener(type: \"presentationmodechanged\", listener: (ev: Windows.Foundation.TypedEventHandler) =&gt; any): void;\n    /** Sets the presentation mode of the timed metadata track with the specified index. */\n    setPresentationMode(index: number, value: Windows.Media.Playback.TimedMetadataTrackPresentationMode): void;\n    /** Gets the number of timed metadata tracks in the list. */\n    size: number;\n    addEventListener(type: string, listener: EventListenerOrEventListenerObject): void;\n    removeEventListener(type: string, listener: EventListenerOrEventListenerObject): void;\n}\n</code></pre>\n\n<p>This is the current type definition generated by <a href=\"https://github.com/saschanaz/uwp-type-generator\" rel=\"nofollow\">script</a>. This class has Array in its prototype chain and it have its own <code>indexOf</code> method whose signature conflicts with <code>Array.indexOf</code>. This confliction makes the compiler keep complaining and I need to make it silent. Is there a known way to make this work?</p>\n\n<p>A solution here have to indicate that the class inherits from Array.</p>\n\n<p>Note: I cannot modify the semantics as this is <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.media.playback.mediaplaybacktimedmetadatatracklist.indexof.aspx\" rel=\"nofollow\">one of the current UWP APIs</a>.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "edited": false, "score": 0, "creation_date": 1449240747, "post_id": 34086739, "comment_id": 55934220, "body": "Obviously you are trying to do something in the wrong way, changing a prototype in typescript or es6 sounds wrong. Why not just explain what are you trying to achieve?"}, {"owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "reply_to_user": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "edited": false, "score": 0, "creation_date": 1449241118, "post_id": 34086739, "comment_id": 55934480, "body": "@gilamran. :-D. When I have &quot;sounds&quot; problems, I promise, I will contact you."}, {"owner": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "edited": false, "score": 0, "creation_date": 1449264176, "post_id": 34086739, "comment_id": 55947391, "body": "I was not joking, Instead of giving a &quot;sayHello&quot; example, say your real intentions and we will solve it for you. If you are just trying to understand something in TypeScript, explain what are you trying to understand. Anyways, your question is not related to TypeScript, it is probably related to es6 module import/export."}], "answers": [{"comments": [{"owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "edited": false, "score": 0, "creation_date": 1449227059, "post_id": 34086840, "comment_id": 55925805, "body": "Thanks but no, that does not fix it"}], "tags": [], "owner": {"reputation": 196, "user_id": 4452968, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-n-AU0qSj7uo/AAAAAAAAAAI/AAAAAAAAABo/y0F4f1fUeoo/photo.jpg?sz=128", "display_name": "George Nemes", "link": "https://stackoverflow.com/users/4452968/george-nemes"}, "is_accepted": false, "score": 0, "last_activity_date": 1449226924, "creation_date": 1449226924, "answer_id": 34086840, "question_id": 34086739, "link": "https://stackoverflow.com/questions/34086739/extending-the-function-interface-in-the-presence-of-an-import-statement/34086840#34086840", "title": "Extending the Function interface in the presence of an import statement", "body": "<p>It might be because the compiler doesn't know you extended the basic function type. Try:</p>\n\n<pre><code>export interface Function {...}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "is_accepted": true, "score": 0, "last_activity_date": 1449332367, "creation_date": 1449332367, "answer_id": 34107746, "question_id": 34086739, "link": "https://stackoverflow.com/questions/34086739/extending-the-function-interface-in-the-presence-of-an-import-statement/34107746#34107746", "title": "Extending the Function interface in the presence of an import statement", "body": "<p>Great answer here: <a href=\"https://github.com/Microsoft/TypeScript/issues/5944\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/issues/5944</a></p>\n\n<p>In short when introducing <code>export</code> (or <code>import</code>) the whole file is considered to be in its own separate namespace: <code>Function</code> is now evaluated as a local interface and is no more referring to the global definition.</p>\n\n<p>I also recommend reading the whole discussion there: <a href=\"https://github.com/Microsoft/TypeScript/issues/4166\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/issues/4166</a></p>\n"}], "owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 34107746, "answer_count": 2, "score": 0, "last_activity_date": 1449332367, "creation_date": 1449226610, "last_edit_date": 1449242160, "question_id": 34086739, "link": "https://stackoverflow.com/questions/34086739/extending-the-function-interface-in-the-presence-of-an-import-statement", "title": "Extending the Function interface in the presence of an import statement", "body": "<p>I would like to extend <code>Function</code> and this compiles fine</p>\n\n<pre><code>interface Function {\n    hello(): any\n}\nFunction.prototype.hello = function() {\n    console.log('hello world')\n}\n\nfunction noop() {}\n\nnoop.hello() //==&gt; 'hello world' in the console\n</code></pre>\n\n<p>However, as soon as I try to add an import statement, say</p>\n\n<pre><code>import { sayHello } from './Anything'\n</code></pre>\n\n<p>where <code>Anything</code> only contains</p>\n\n<pre><code>export function sayHello() { console.log('hello')}\n</code></pre>\n\n<p>The compilation fails on <code>Function.protoype.hello</code> with the message <code>error TS2339: Property 'hello' does not exist on type 'Function'</code></p>\n\n<p>Why ?</p>\n\n<p><a href=\"http://www.typescriptlang.org/Playground#src=%0A%20%20%20%20interface%20Function%20%7B%0A%20%20%20%20%09hello()%3A%20any%0A%20%20%20%20%7D%0A%20%20%20%20Function.prototype.hello%20%3D%20function()%20%7B%0A%20%20%20%20%09console.log(&#39;hello%20world&#39;)%0A%20%20%20%20%7D%0A%09%0A%09function%20noop()%20%7B%7D%0A%09%0A%09noop.hello()%0A%09%0A%09%2F%2Fimport%20%7B%20hello%20%7D%20from%20&#39;whatever&#39;%20%20%0A%09%2F*%0A%09%20*%20Adding%20the%20import%20statement%20(also)%20triggers%20the%20Error%3A%20%0A%09%20*%20Property%20&#39;hello&#39;%20does%20not%20exists%20on%20type%20%60Function%60%0A%09%20*%20Why%20%3F%0A%09%20*%2F\" rel=\"nofollow\">View in Playground</a></p>\n\n<p>Note: the compilation fails with tsc options set to either <code>--target es5 --module commonjs</code> or <code>--target es6</code></p>\n"}, {"tags": ["javascript", "unit-testing", "typescript", "firebase", "angular"], "answers": [{"comments": [{"owner": {"reputation": 27210, "user_id": 1373162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QX9ci.png?s=128&g=1", "display_name": "David East", "link": "https://stackoverflow.com/users/1373162/david-east"}, "edited": false, "score": 0, "creation_date": 1449244499, "post_id": 34091017, "comment_id": 55936829, "body": "Any reason why you removed this as the accepted answer?"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 1, "creation_date": 1449244507, "post_id": 34091017, "comment_id": 55936835, "body": "The beforeEach(() =&gt; MockFirebase.override()); doesnt work.  I get cannot find name &quot;MockFirebase&quot;. And &quot;Flush&quot; does not exist on type Firebase.  2 issues with the above answer?"}, {"owner": {"reputation": 27210, "user_id": 1373162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QX9ci.png?s=128&g=1", "display_name": "David East", "link": "https://stackoverflow.com/users/1373162/david-east"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1449244634, "post_id": 34091017, "comment_id": 55936918, "body": "It looks like you&#39;re not properly including MockFirebase. It&#39;s an external third party library, so it needs to be individually included."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1449244675, "post_id": 34091017, "comment_id": 55936951, "body": "Do I need to import it at the top of my tests? If so where do I import it from?"}, {"owner": {"reputation": 27210, "user_id": 1373162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QX9ci.png?s=128&g=1", "display_name": "David East", "link": "https://stackoverflow.com/users/1373162/david-east"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1449244812, "post_id": 34091017, "comment_id": 55937033, "body": "It depends on how you&#39;re running the test suite. It&#39;s a dependency so it&#39;s either included in index.html or the Karma configuration."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1449245343, "post_id": 34091017, "comment_id": 55937419, "body": "I have a folder called mockfirebase in my node_modules. How would I import that so I can use mockfirebase.  This is the link to it in the karma config:        {pattern: &#39;node_modules/mockfirebase/browser/mockfirebase.js&#39;, included: true, watched: true},"}, {"owner": {"reputation": 27210, "user_id": 1373162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QX9ci.png?s=128&g=1", "display_name": "David East", "link": "https://stackoverflow.com/users/1373162/david-east"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1449245455, "post_id": 34091017, "comment_id": 55937493, "body": "Notice that you&#39;re not importing Firebase? Like I mentioned, it&#39;s attached the window or globals depending on the environment. Wherever you&#39;re including Firebase that&#39;s where you include MockFirebase as well. You should also make sure you explicitly state MockFirebase as a dependency on your package.json."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "reply_to_user": {"reputation": 27210, "user_id": 1373162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QX9ci.png?s=128&g=1", "display_name": "David East", "link": "https://stackoverflow.com/users/1373162/david-east"}, "edited": false, "score": 0, "creation_date": 1449245699, "post_id": 34091017, "comment_id": 55937666, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/96999/discussion-between-angularm-and-david-east\">continue this discussion in chat</a>."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1449246132, "post_id": 34091017, "comment_id": 55937993, "body": "I&#39;ve messaged in the chat popup"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1449248565, "post_id": 34091017, "comment_id": 55939531, "body": "Still doesn&#39;t work even though I&#39;ve referenced the mockfirebase library in my karma config, any other ideas?"}, {"owner": {"reputation": 27210, "user_id": 1373162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QX9ci.png?s=128&g=1", "display_name": "David East", "link": "https://stackoverflow.com/users/1373162/david-east"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1449266242, "post_id": 34091017, "comment_id": 55948342, "body": "Not sure, I&#39;d have to see your config, and that would be out of the scope of this question. But if it were configured, this code would work."}], "tags": [], "owner": {"reputation": 27210, "user_id": 1373162, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QX9ci.png?s=128&g=1", "display_name": "David East", "link": "https://stackoverflow.com/users/1373162/david-east"}, "is_accepted": true, "score": 1, "last_activity_date": 1449240682, "creation_date": 1449240682, "answer_id": 34091017, "question_id": 34085020, "link": "https://stackoverflow.com/questions/34085020/how-do-i-use-mockfirebase-for-my-angular2-typescript-unit-test/34091017#34091017", "title": "How do I use mockfirebase for my angular2 typescript unit test?", "body": "<p>Like the <code>Firebase</code> class/function, <code>MockFirebase</code> is available on the <code>window</code>. </p>\n\n<p>You can use <code>MockFirebase.override()</code> in your <code>beforeEach</code> function or in a fixture.</p>\n\n<pre><code>describe('Firebase Service Calls', () =&gt; {\n\n      beforeEach(() =&gt; MockFirebase.override());\n\n      it('log out user from Firebase', () =&gt; {\n          let ref = new Firebase(\"https://markng2.firebaseio.com\");\n          ref.unauth();\n          ref.flush(); // flush out the async action\n          expect(ref.getUser()).toEqual(null);\n      });\n });\n</code></pre>\n\n<p>When a user is authenticated a calling <code>ref.getUser()</code> will return the current user. The test above checks that the returned value from <code>ref.getUser()</code> is null when the user is logged out.</p>\n\n<p><a href=\"https://github.com/katowulf/mockfirebase/blob/master/tutorials/authentication.md\" rel=\"nofollow\">Check out the documentation on authentication and MockFirebase.</a></p>\n"}], "owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 1, "accepted_answer_id": 34091017, "answer_count": 1, "score": 1, "last_activity_date": 1449240682, "creation_date": 1449221631, "question_id": 34085020, "link": "https://stackoverflow.com/questions/34085020/how-do-i-use-mockfirebase-for-my-angular2-typescript-unit-test", "title": "How do I use mockfirebase for my angular2 typescript unit test?", "body": "<p>How do you mock firebase using mockfirebase for firebase unit tests?</p>\n\n<p>I'm using typescript and angular2 for this unit test.</p>\n\n<p><strong>Here's one of my tests I would like to change to mockfirebase from firebase:</strong></p>\n\n<pre><code> import { it, iit, describe, expect, inject, injectAsync, beforeEachProviders, fakeAsync, tick } from 'angular2/testing';\n import { FirebaseService } from '../app/firebase-service';\n\n describe('Firebase Service Calls', () =&gt; {\n\n      it('log out user from Firebase', () =&gt; {\n          let ref = new Firebase(\"https://markng2.firebaseio.com\");\n          let service = new FirebaseService();\n\n          spyOn(service.ref, 'unauth');\n          service.logOut();\n\n          expect(service.ref.unauth).toHaveBeenCalled();\n      })\n\n });\n</code></pre>\n\n<p>I want to change this line: \"let ref = new Firebase(\"<a href=\"https://markng2.firebaseio.com\" rel=\"nofollow\">https://markng2.firebaseio.com</a>\");\"</p>\n"}, {"tags": ["typescript", "local-storage"], "answers": [{"comments": [{"owner": {"reputation": 1586, "user_id": 3264864, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a36e2bccc5ddabf1cd6c82e973d354ac?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Timothy", "link": "https://stackoverflow.com/users/3264864/mark-timothy"}, "reply_to_user": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "edited": false, "score": 0, "creation_date": 1449229240, "post_id": 34084856, "comment_id": 55927106, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/96977/discussion-between-user3264864-and-martin-vseticka\">continue this discussion in chat</a>."}, {"owner": {"reputation": 796, "user_id": 3152516, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ea925575fe0c9b928d81ff648ef7d50?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Chase", "link": "https://stackoverflow.com/users/3152516/dan-chase"}, "edited": false, "score": 0, "creation_date": 1524176202, "post_id": 34084856, "comment_id": 86877960, "body": "From what I understand, calling JSON.Stringify you will lose your methods, so pulling them back out from the session then trying to call a method afterwards, you will get &quot;is not a function&quot;. I ran into this when I tried to move all of my methods into my model, like I would in other languages, only to realize I could not save the &quot;object&quot; with methods as anything but a string. If anyone has a (simple) solution I&#39;d love to know."}], "tags": [], "owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "is_accepted": false, "score": 10, "last_activity_date": 1449221176, "creation_date": 1449221176, "answer_id": 34084856, "question_id": 34083730, "link": "https://stackoverflow.com/questions/34083730/how-to-store-and-get-an-object-without-destroying-the-type-in-localstorage/34084856#34084856", "title": "How to store and get an object without destroying the type in localStorage?", "body": "<p><a href=\"https://developer.mozilla.org/en/docs/Web/API/Window/localStorage\" rel=\"noreferrer\">window.localStorage</a> can <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem\" rel=\"noreferrer\">store</a> only strings. You can use JSON to serialize your object and retrieve it back.</p>\n\n<pre><code>class Person {\n\n    constructor(public name:string) {\n\n    }\n}\n\nlet person = new Person('Peter');\nlocalStorage.setItem('person', JSON.stringify(person));\nlet personFromStorage = JSON.parse(localStorage.getItem('person')) as Person;\n\nconsole.log({\n    person: person,\n    personFromStorage: personFromStorage\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 788, "user_id": 1841710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZSBVV.jpg?s=128&g=1", "display_name": "Eli", "link": "https://stackoverflow.com/users/1841710/eli"}, "is_accepted": false, "score": 4, "last_activity_date": 1565781934, "creation_date": 1565781934, "answer_id": 57493769, "question_id": 34083730, "link": "https://stackoverflow.com/questions/34083730/how-to-store-and-get-an-object-without-destroying-the-type-in-localstorage/57493769#57493769", "title": "How to store and get an object without destroying the type in localStorage?", "body": "<p>While Martin's answer works for classes without methods. For classes with methods you can try this:</p>\n\n<pre><code>let personFromStorage = JSON.parse(localStorage.getItem('person')) as Person;\n\nlet person = new Person('');\nObject.assign(person , personFromStorage);\n</code></pre>\n"}], "owner": {"reputation": 1586, "user_id": 3264864, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a36e2bccc5ddabf1cd6c82e973d354ac?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Timothy", "link": "https://stackoverflow.com/users/3264864/mark-timothy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7549, "favorite_count": 2, "answer_count": 2, "score": 7, "last_activity_date": 1579612527, "creation_date": 1449217055, "last_edit_date": 1566565851, "question_id": 34083730, "link": "https://stackoverflow.com/questions/34083730/how-to-store-and-get-an-object-without-destroying-the-type-in-localstorage", "title": "How to store and get an object without destroying the type in localStorage?", "body": "<p>I'm working on an AngularJS project with TypeScript.</p>\n\n<p>A <code>person</code> is an object of the <code>Person</code> class. I need to store <code>person</code> object in <code>localStorage</code> and retrieve it with its type.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 1, "creation_date": 1449219284, "post_id": 34083619, "comment_id": 55921040, "body": "The example in the docs is <code>var myAdd: (x:number, y:number)=&gt;number</code>. Note that type annotation syntax is not location-specific."}], "answers": [{"comments": [{"owner": {"reputation": 1079, "user_id": 891203, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/351dd8e3be394e7b44437ad3f0d348e6?s=128&d=identicon&r=PG", "display_name": "devdanke", "link": "https://stackoverflow.com/users/891203/devdanke"}, "edited": false, "score": 0, "creation_date": 1449384451, "post_id": 34083740, "comment_id": 55979210, "body": "I&#39;m also new to TypeScript.  Is it preferable to use &#39;let&#39; instead of &#39;var&#39; when declaring &#39;a&#39;?  Or is &#39;var&#39; better in this case?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5637465"}, "is_accepted": true, "score": 2, "last_activity_date": 1449217097, "creation_date": 1449217097, "answer_id": 34083740, "question_id": 34083619, "link": "https://stackoverflow.com/questions/34083619/can-i-define-a-function-returning-another-function-with-a-certain-signature/34083740#34083740", "title": "Can I define a function returning another function with a certain signature", "body": "<p>To answer your question, the syntax is the following:</p>\n\n<pre><code>var a = function(): (a: string, b: number) =&gt; void {\n    return (a: string, b: number) =&gt; void {\n        // some logic           \n    }\n}\n</code></pre>\n\n<p>But since the compiler performs type inference, the type annotation is in fact optional:</p>\n\n<pre><code>var a = function() {\n    return (a: string, b: number) =&gt; void {\n        // some logic           \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5300, "user_id": 1298461, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76f8604ac955a6ed812cf3d9cf803b6c?s=128&d=identicon&r=PG", "display_name": "KIC", "link": "https://stackoverflow.com/users/1298461/kic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 34083740, "answer_count": 1, "score": 1, "last_activity_date": 1449217097, "creation_date": 1449216600, "question_id": 34083619, "link": "https://stackoverflow.com/questions/34083619/can-i-define-a-function-returning-another-function-with-a-certain-signature", "title": "Can I define a function returning another function with a certain signature", "body": "<p>I am new to typescript and I enjoy it a lot. But now I struggle with the fact that I am returning functions in my old js codes. So I try to figure how I can define a return type \"Function\" with a concrete signature. In example like so (note, this does not compile):</p>\n\n<pre><code>function getAFunction(): Function(a: string, b: number) {\n    return function(a: string, b: number): void {\n        // some logic           \n    }\n}\n</code></pre>\n\n<p>There is also no <a href=\"http://www.typescriptlang.org/Handbook#functions\" rel=\"nofollow\">documentation</a> for this special case, or have I just overseen it?</p>\n"}, {"tags": ["angularjs", "typescript", "angular-ui-router", "angular-ui", "state"], "comments": [{"owner": {"reputation": 1035, "user_id": 1288398, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dgV19.jpg?s=128&g=1", "display_name": "vivid", "link": "https://stackoverflow.com/users/1288398/vivid"}, "edited": false, "score": 0, "creation_date": 1449213330, "post_id": 34080407, "comment_id": 55918230, "body": "But whu u want resolve promise xd it wont pre load data better call there and return data imo"}, {"owner": {"reputation": 134, "user_id": 5124889, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/945e94a4da9268fe86710f9756638438?s=128&d=identicon&r=PG&f=1", "display_name": "Meester Over", "link": "https://stackoverflow.com/users/5124889/meester-over"}, "reply_to_user": {"reputation": 1035, "user_id": 1288398, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dgV19.jpg?s=128&g=1", "display_name": "vivid", "link": "https://stackoverflow.com/users/1288398/vivid"}, "edited": false, "score": 0, "creation_date": 1449329306, "post_id": 34080407, "comment_id": 55964330, "body": "Yes it does. Try it."}], "answers": [{"comments": [{"owner": {"reputation": 241, "user_id": 5103897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s46Sk.jpg?s=128&g=1", "display_name": "Luke Schunk", "link": "https://stackoverflow.com/users/5103897/luke-schunk"}, "edited": false, "score": 0, "creation_date": 1449200595, "post_id": 34080535, "comment_id": 55914134, "body": "Or if you&#39;d rather not use $q here&#39;s another example I used recently: <a href=\"http://codepen.io/pen/?editors=101\" rel=\"nofollow noreferrer\">http://codepen.io/pen/?editors=101</a>"}, {"owner": {"reputation": 134, "user_id": 5124889, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/945e94a4da9268fe86710f9756638438?s=128&d=identicon&r=PG&f=1", "display_name": "Meester Over", "link": "https://stackoverflow.com/users/5124889/meester-over"}, "edited": false, "score": 0, "creation_date": 1449201558, "post_id": 34080535, "comment_id": 55914370, "body": "Do you know how to make it work like this example? <a href=\"https://medium.com/opinionated-angularjs/advanced-routing-and-resolves-a2fcbf874a1c#.2xzq32cwo\" rel=\"nofollow noreferrer\">medium.com/opinionated-angularjs/&hellip;</a>"}, {"owner": {"reputation": 134, "user_id": 5124889, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/945e94a4da9268fe86710f9756638438?s=128&d=identicon&r=PG&f=1", "display_name": "Meester Over", "link": "https://stackoverflow.com/users/5124889/meester-over"}, "edited": false, "score": 0, "creation_date": 1449202659, "post_id": 34080535, "comment_id": 55914644, "body": "Your example is simply using a service to pull the data. I need the data loaded as a route dependency using the $stateProvider."}, {"owner": {"reputation": 241, "user_id": 5103897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s46Sk.jpg?s=128&g=1", "display_name": "Luke Schunk", "link": "https://stackoverflow.com/users/5103897/luke-schunk"}, "reply_to_user": {"reputation": 134, "user_id": 5124889, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/945e94a4da9268fe86710f9756638438?s=128&d=identicon&r=PG&f=1", "display_name": "Meester Over", "link": "https://stackoverflow.com/users/5124889/meester-over"}, "edited": false, "score": 0, "creation_date": 1449203241, "post_id": 34080535, "comment_id": 55914784, "body": "are you using ngRouter or UIRouter? i&#39;ll take a look but I haven&#39;t done that before"}], "tags": [], "owner": {"reputation": 241, "user_id": 5103897, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s46Sk.jpg?s=128&g=1", "display_name": "Luke Schunk", "link": "https://stackoverflow.com/users/5103897/luke-schunk"}, "is_accepted": false, "score": 0, "last_activity_date": 1449200817, "last_edit_date": 1449200817, "creation_date": 1449200394, "answer_id": 34080535, "question_id": 34080407, "link": "https://stackoverflow.com/questions/34080407/accessing-resolve-object-in-controller/34080535#34080535", "title": "Accessing resolve object in controller", "body": "<p>I don't totally understand the way you're using your resolve, but here's a simple example of a way I did it recently:</p>\n\n<p>In my Service:</p>\n\n<pre><code>    myApp.service('mainService', function ($http, $q) {\n    this.getStarWarsData = function() {\n    var myPromise = $q.defer();\n    $http({\n            method: \"GET\",\n            url: \"http://swapi.co/api/people/\"\n         }).then(function(response) {\n\n        var parsedResponse = response.data.results; //Your code will be different here depending on the object you're getting back\n\n\n        console.log(parsedResponse);\n        console.log(\"this is the type of the pr\", typeof(parsedResponse))\n\n        //this bit below is just manipulating the parsed response to obtain the data I wanted\n        var emptyArr = [];\n\n        for(var i = 0; i &lt; parsedResponse.length; i++) {\n            emptyArr.push({\n                Name: parsedResponse[i].name,\n                Eyes: parsedResponse[i].eye_color,\n            })\n        } myPromise.resolve(emptyArr);\n    })\n\n    return myPromise.promise;\n    }\n    })\n</code></pre>\n\n<p>And Controller</p>\n\n<pre><code>    myApp.controller(\"myController\", [\"$scope\", \"mainService\",   function($scope, mainService){\n        $scope.getData = function() {\n            mainService.getStarWarsData()\n                .then(function(response){\n                console.log(\"this is a response in our controller\", response)\n                $scope.peoples = response;\n            })\n        }\n   }]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 134, "user_id": 5124889, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/945e94a4da9268fe86710f9756638438?s=128&d=identicon&r=PG&f=1", "display_name": "Meester Over", "link": "https://stackoverflow.com/users/5124889/meester-over"}, "edited": false, "score": 1, "creation_date": 1449240238, "post_id": 34082806, "comment_id": 55933839, "body": "Now to figure out why this does not work with the way we have built our application."}, {"owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "reply_to_user": {"reputation": 134, "user_id": 5124889, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/945e94a4da9268fe86710f9756638438?s=128&d=identicon&r=PG&f=1", "display_name": "Meester Over", "link": "https://stackoverflow.com/users/5124889/meester-over"}, "edited": false, "score": 0, "creation_date": 1449243072, "post_id": 34082806, "comment_id": 55935830, "body": "Great to see that.. enjoy UI-Router and TS"}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": true, "score": 4, "last_activity_date": 1449213062, "creation_date": 1449213062, "answer_id": 34082806, "question_id": 34080407, "link": "https://stackoverflow.com/questions/34080407/accessing-resolve-object-in-controller/34082806#34082806", "title": "Accessing resolve object in controller", "body": "<p>There is <a href=\"http://plnkr.co/edit/V9nWGysXO0gurlu0eXv9?p=preview\" rel=\"nofollow\">a working example</a> </p>\n\n<p>This should be our controller:</p>\n\n<pre><code>namespace myNamespace \n{\n    export class MyController\n    {\n        public MenuData: any[];\n\n        // strict notation support, for minification\n        static $inject = ['$scope', 'menus'];\n\n        // here we will get the resolved menus\n        constructor(\n            protected $scope: ng.IScope, \n            protected menus: ng.IHttpPromiseCallbackArg&lt;any&gt;)\n        {\n            this.MenuData = menus.data              \n        }       \n    }\n}\n</code></pre>\n\n<p>And this is our state </p>\n\n<pre><code>.state('home', {\n      url: \"/home\",\n      templateUrl: 'template.html',\n      controller: myNamespace.MyController,\n      controllerAs: 'Ctrl',\n      resolve: {\n       // real example returning some data from data.json\n       menus: function ($http) {\n         var url = \"data.json\";\n         return $http.get(url);\n       }\n      }\n})\n</code></pre>\n\n<p>And now we can consume the above in the template</p>\n\n<pre><code>&lt;pre&gt;{{Ctrl.MenuData | json }}&lt;/pre&gt;\n</code></pre>\n\n<p>Check it <a href=\"http://plnkr.co/edit/V9nWGysXO0gurlu0eXv9?p=preview\" rel=\"nofollow\">here in action</a></p>\n"}], "owner": {"reputation": 134, "user_id": 5124889, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/945e94a4da9268fe86710f9756638438?s=128&d=identicon&r=PG&f=1", "display_name": "Meester Over", "link": "https://stackoverflow.com/users/5124889/meester-over"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2487, "favorite_count": 0, "accepted_answer_id": 34082806, "answer_count": 2, "score": 4, "last_activity_date": 1449213140, "creation_date": 1449199520, "last_edit_date": 1449213140, "question_id": 34080407, "link": "https://stackoverflow.com/questions/34080407/accessing-resolve-object-in-controller", "title": "Accessing resolve object in controller", "body": "<p>I am pulling back some route dependent data and the JSON is returned just fine from the server, but I am unsure how to actually access the object once I am in my controller. I have tried a few different things, such as putting the .then() inside the resolve, but that did not work.</p>\n\n<pre><code>resolve: {\n            menus: function ($http) {\n                var httpSource = this.httpSource = location.protocol + '//' + location.hostname;\n                const url = `${this.httpSource}/api/package/menus`;\n                return $http.get(url);\n            }\n        }\n</code></pre>\n\n<p>I did also try this</p>\n\n<pre><code>resolve: {\n            menus: function ($http) {\n                var httpSource = this.httpSource = location.protocol + '//' + location.hostname;\n                const url = `${this.httpSource}/api/package/menus`;\n                var menuData;\n                $http.get(url).then(response =&gt; {\n                    menuData = response.data.Data;\n                })\n                return menuData;\n            }\n        }\n</code></pre>\n\n<p>I just simply cannot figure out how to load it into a controller property.</p>\n\n<p>I tried to follow this, but the variable is not injected in the constructor -- <a href=\"https://medium.com/opinionated-angularjs/advanced-routing-and-resolves-a2fcbf874a1c#.2xzq32cwo\" rel=\"nofollow\">https://medium.com/opinionated-angularjs/advanced-routing-and-resolves-a2fcbf874a1c#.2xzq32cwo</a></p>\n\n<p>I attempt to load it with</p>\n\n<pre><code>this.menuData = $state.current.resolve.menus;\n</code></pre>\n\n<p>And I end up with this object.</p>\n\n<pre><code>\"$http\", function $stateProvider.state.state.resolve.menus($http)]\n</code></pre>\n\n<p>I am sure there is something fundamental I am missing here, but being new to Angular, I do not see it. Basically, my object is the full function definition and not the return data.Data.</p>\n\n<p>My controller constructor.</p>\n\n<pre><code>static $inject = ['PackageService', '$stateParams', '$state', 'menus'];\nconstructor(packageService: Service.IPackageService, $stateParams, $state, DTOptionsBuilder, DTColumnDefBuilder, public logger: ILogger, public menus: any) {\n</code></pre>\n"}, {"tags": ["typescript", "boolean", "definitelytyped"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 2, "creation_date": 1449183395, "post_id": 34077356, "comment_id": 55909104, "body": "You probably have a <i>really old file</i> for a <i>really old version of the compiler</i>"}], "answers": [{"comments": [{"owner": {"reputation": 69684, "user_id": 16241, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de3fa0861da7fd9ae3abc120ff6d957f?s=128&d=identicon&r=PG", "display_name": "Vaccano", "link": "https://stackoverflow.com/users/16241/vaccano"}, "edited": false, "score": 3, "creation_date": 1449185032, "post_id": 34077535, "comment_id": 55909822, "body": "Hmmm.  I went to nuget and installed <code>jquery.TypeScript.DefinitelyTyped</code>.  I just found <code>npm install tsd -g</code>.... Going to try to switch to getting them all from that."}, {"owner": {"reputation": 69684, "user_id": 16241, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de3fa0861da7fd9ae3abc120ff6d957f?s=128&d=identicon&r=PG", "display_name": "Vaccano", "link": "https://stackoverflow.com/users/16241/vaccano"}, "edited": false, "score": 7, "creation_date": 1449185103, "post_id": 34077535, "comment_id": 55909852, "body": "Weird.  Just checked, and somehow I got version 0.0.1.  (first version from years ago...)  I will update.  Thanks!"}, {"owner": {"reputation": 3358, "user_id": 117062, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6b9efe1928bb5ed9bf041e5c8fcd49ea?s=128&d=identicon&r=PG", "display_name": "Luke Baulch", "link": "https://stackoverflow.com/users/117062/luke-baulch"}, "edited": false, "score": 2, "creation_date": 1468914378, "post_id": 34077535, "comment_id": 64309328, "body": "It seems that installing the angular.TypeScript.DefinitelyType package has a reference to the version 0.0.1 jquery typescript definition package."}, {"owner": {"reputation": 1431, "user_id": 181832, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3783c5da15777937ad9cc34515b2989f?s=128&d=identicon&r=PG", "display_name": "Joy George Kunjikkuru", "link": "https://stackoverflow.com/users/181832/joy-george-kunjikkuru"}, "edited": false, "score": 0, "creation_date": 1481339450, "post_id": 34077535, "comment_id": 69350435, "body": "It happened to me also. I installed jQuery d.ts from nuget and it has bool references. Replaced entire contents from github"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 17, "last_activity_date": 1449182100, "creation_date": 1449182100, "answer_id": 34077535, "question_id": 34077356, "link": "https://stackoverflow.com/questions/34077356/jquery-typescript-definitions-using-bool-instead-of-boolean/34077535#34077535", "title": "JQuery Typescript definitions using &#39;bool&#39; instead of &#39;Boolean&#39;", "body": "<p>The correct name to use is <code>boolean</code>, not <code>Boolean</code>.</p>\n\n<p>Definitely Typed is still the correct place to get definitions from.</p>\n\n<p>Where did you get this file? The current version (<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/jquery/jquery.d.ts\" rel=\"noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/jquery/jquery.d.ts</a>) does not use <code>bool</code> anywhere.</p>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 4489613, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001787972590/picture?type=large", "display_name": "Andrei Mi\u0219cu", "link": "https://stackoverflow.com/users/4489613/andrei-mi%c8%99cu"}, "edited": false, "score": 1, "creation_date": 1534582985, "post_id": 42920325, "comment_id": 90764309, "body": "This is better than the original answer, given that the link doesn&#39;t exist anymore"}], "tags": [], "owner": {"reputation": 151, "user_id": 2827843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0abe32af8c45f369a77311ea57e65d?s=128&d=identicon&r=PG&f=1", "display_name": "t-ashraf", "link": "https://stackoverflow.com/users/2827843/t-ashraf"}, "is_accepted": false, "score": 14, "last_activity_date": 1490079593, "creation_date": 1490079593, "answer_id": 42920325, "question_id": 34077356, "link": "https://stackoverflow.com/questions/34077356/jquery-typescript-definitions-using-bool-instead-of-boolean/42920325#42920325", "title": "JQuery Typescript definitions using &#39;bool&#39; instead of &#39;Boolean&#39;", "body": "<p>This happened to me as well when I first setup Typescript for an AngularJS project.</p>\n\n<ol>\n<li>Go to Manage NuGet Packages for Solution</li>\n<li>View the Updates section, you should see jquery.TypeScript.DefinitelyTyped in the list. </li>\n<li>Update the package and the compilation errors will go away.</li>\n</ol>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 5934381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e62c51f27b6fc5bd17dc52deff4484fe?s=128&d=identicon&r=PG&f=1", "display_name": "Artie Leech", "link": "https://stackoverflow.com/users/5934381/artie-leech"}, "is_accepted": false, "score": -1, "last_activity_date": 1492682296, "creation_date": 1492682296, "answer_id": 43516232, "question_id": 34077356, "link": "https://stackoverflow.com/questions/34077356/jquery-typescript-definitions-using-bool-instead-of-boolean/43516232#43516232", "title": "JQuery Typescript definitions using &#39;bool&#39; instead of &#39;Boolean&#39;", "body": "<p>I got the same problem - a jquery.d.ts file with <code>bool</code> everywhere rather than <code>boolean</code>.</p>\n\n<p>In my case, the jquery.d.ts file came from a Pluralsight course.</p>\n\n<p>The fix for me was to stop using that version, and instead install the nuget package.  From the VS Package Manager Console:</p>\n\n<pre><code>install-package jquery.TypeScript.DefinitelyTyped\n</code></pre>\n\n<p>At time of writing, that's version 3.1.2 which correctly uses <code>boolean</code>, not <code>bool</code>.</p>\n\n<p>(Also, regarding the Pluralsight course, I didn't use their supplied knockout files, but instead, installed knockout.TypeScript.DefinitelyTyped.)</p>\n"}], "owner": {"reputation": 69684, "user_id": 16241, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de3fa0861da7fd9ae3abc120ff6d957f?s=128&d=identicon&r=PG", "display_name": "Vaccano", "link": "https://stackoverflow.com/users/16241/vaccano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7611, "favorite_count": 0, "accepted_answer_id": 34077535, "answer_count": 3, "score": 10, "last_activity_date": 1492682296, "creation_date": 1449181330, "question_id": 34077356, "link": "https://stackoverflow.com/questions/34077356/jquery-typescript-definitions-using-bool-instead-of-boolean", "title": "JQuery Typescript definitions using &#39;bool&#39; instead of &#39;Boolean&#39;", "body": "<p>I got the \"Definitely Typed\" typescript definition file for JQuery and it uses <code>bool</code> instead of 'Boolean'.</p>\n\n<p>This is giving me errors in my typescript project:  <code>Cannot find name 'bool'</code></p>\n\n<p>I changed my version to use Boolean and it works, but it has me confused.</p>\n\n<p><strong>Is Definitely Typed still the place to get typescript definitions?  If so, why is it not breaking for everyone else?</strong></p>\n\n<p>Is there a better place to get typescript definitions?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 58, "user_id": 3435743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af9a6d9faab30aaada21ab042598a5c3?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Saelhof", "link": "https://stackoverflow.com/users/3435743/jason-saelhof"}, "is_accepted": true, "score": 2, "last_activity_date": 1449179545, "last_edit_date": 1495541243, "creation_date": 1449179545, "answer_id": 34076919, "question_id": 34076163, "link": "https://stackoverflow.com/questions/34076163/add-definition-to-existing-typedef-file/34076919#34076919", "title": "Add Definition to Existing Typedef File", "body": "<p>To add something dynamically as a one-off, you can do this:</p>\n\n<p><code>(&lt;any&gt;mesh).myVariable = 'tada!';</code></p>\n\n<p>You'll have to do that anywhere you want to read or write to it though.</p>\n\n<p>What you might want to consider though is what it appears you are doing...extending an object with new capabilities. In typescript, I do this by defining a new class that extends the one I'm working with and adds the new functionality. Something like:</p>\n\n<pre><code>    module myModule {\n      export class MyMesh extends BABYLON.Mesh {\n        public var myVariable:string;\n      }\n    }\n</code></pre>\n\n<p>You can now write a getter and setter or add new methods etc. </p>\n\n<p>If you are passing your typed instance into some method that requires the original (BABYLON.Mesh), you would have to downcast it accordingly:</p>\n\n<p><code>someFunctionThatTakesMeshParam( &lt;BABYLON.Mesh&gt;myMesh );</code></p>\n\n<p>There is some more discussion here: <a href=\"https://stackoverflow.com/questions/12710905/how-do-i-dynamically-assign-properties-to-an-object-in-typescript\">How do I dynamically assign properties to an object in TypeScript?</a></p>\n"}], "owner": {"reputation": 213, "user_id": 2338210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08d5e40b729d872d863f6ebc19c97e45?s=128&d=identicon&r=PG", "display_name": "Chris R", "link": "https://stackoverflow.com/users/2338210/chris-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 34076919, "answer_count": 1, "score": 2, "last_activity_date": 1449179545, "creation_date": 1449176941, "question_id": 34076163, "link": "https://stackoverflow.com/questions/34076163/add-definition-to-existing-typedef-file", "title": "Add Definition to Existing Typedef File", "body": "<p>I am using Typescript and I am trying to add a variable to another library (Babylonjs). I know in javascript I could freely just add any variable to an object and it would let me do it. Typescript is notifying me that that I can't. Part of the joy I suppose that it notifies you, but in this case I want to do it.</p>\n\n<p>For example:</p>\n\n<pre><code>var mesh = BABYLON.Mesh('name', scene);\nmesh.myVariable = 'tada!';\n</code></pre>\n\n<p>Now myVariable is not part of BabylonJS Mesh class. How can I add a typedef file to say, sure it is. (I will be sure to check every time I access myVariable that it has been set)</p>\n\n<p>I have tried:</p>\n\n<pre><code>declare module BABYLON{\n  export interface Mesh {\n    myVariable : any;\n  }\n}\n</code></pre>\n\n<p>and typescript is being kind in letting me know Duplicate identifier 'Mesh'. In the Babylon typedef file, Mesh is declared as:</p>\n\n<pre><code>declare module BABYLON {\n  class Mesh extends AbstractMesh implements IGetSetVerticesData {\n  ...\n  }\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "requirejs"], "comments": [{"owner": {"reputation": 5947, "user_id": 559884, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/299ad37f586aa79c7e0839fd4a18509a?s=128&d=identicon&r=PG", "display_name": "Jacob Jedryszek", "link": "https://stackoverflow.com/users/559884/jacob-jedryszek"}, "edited": false, "score": 2, "creation_date": 1449172812, "post_id": 34074547, "comment_id": 55903334, "body": "Did you check if scripts are getting loaded in, e.g., Chrome Dev Tools?"}, {"owner": {"reputation": 35, "user_id": 5398921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa6fb4f10e70af37eeefeb63c5a1b83?s=128&d=identicon&r=PG&f=1", "display_name": "Rina Feld", "link": "https://stackoverflow.com/users/5398921/rina-feld"}, "reply_to_user": {"reputation": 5947, "user_id": 559884, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/299ad37f586aa79c7e0839fd4a18509a?s=128&d=identicon&r=PG", "display_name": "Jacob Jedryszek", "link": "https://stackoverflow.com/users/559884/jacob-jedryszek"}, "edited": false, "score": 0, "creation_date": 1449596074, "post_id": 34074547, "comment_id": 56071358, "body": "In angular hints i see this error :Modules were created but never loaded"}], "answers": [{"tags": [], "owner": {"reputation": 1929, "user_id": 2599875, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8df321b0acd6bc227bafe0ff4bd0ac5d?s=128&d=identicon&r=PG", "display_name": "mariowise", "link": "https://stackoverflow.com/users/2599875/mariowise"}, "is_accepted": false, "score": 0, "last_activity_date": 1449637020, "creation_date": 1449637020, "answer_id": 34171037, "question_id": 34074547, "link": "https://stackoverflow.com/questions/34074547/angular-with-typescript-controller/34171037#34171037", "title": "Angular with typescript controller", "body": "<p>I think the problem it's in the controller class. When you use the directive <code>ng-click</code> it tries to perform the function looking inside the controllers <code>$scope</code>. </p>\n\n<p>The class that you define does not inject that dependency and does nothing with the <code>$scope</code>; that's why nothing work's (In the <code>$scope</code> there is no method called <code>toggleModal</code>. You can import the <code>$scope</code> like this: </p>\n\n<pre><code>class MasterController {\n\n    modalShown: boolean = true;\n    static $inject = ['$scope']\n    constructor($scope) {\n        $scope.ctrl = this\n    }\n\n    toggleModal() {\n        alert(777);\n        this.modalShown = !this.modalShown;\n    }\n}\n</code></pre>\n\n<p>If you create the <code>ctrl</code> scope object then in your view you'll need to call it like this </p>\n\n<pre><code>&lt;button ng-click=\"ctrl.toggleModal()\"&gt;777777777777&lt;/button&gt;\n</code></pre>\n\n<p>Take a look at <a href=\"https://www.youtube.com/watch?v=WdtVn_8K17E\" rel=\"nofollow\">this</a> video from Bresarat Ali youtube channel for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 1083, "user_id": 3654179, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/FT7H0.png?s=128&g=1", "display_name": "AngularBoy", "link": "https://stackoverflow.com/users/3654179/angularboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1451125551, "creation_date": 1451125551, "answer_id": 34470443, "question_id": 34074547, "link": "https://stackoverflow.com/questions/34074547/angular-with-typescript-controller/34470443#34470443", "title": "Angular with typescript controller", "body": "<p>Use Controller as syntax:</p>\n\n<pre><code>&lt;div ng-controller=\"MasterController as vm\"&gt;\n</code></pre>\n\n<p>then invoke the click method like so:</p>\n\n<pre><code>vm.toggleModal()\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5398921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa6fb4f10e70af37eeefeb63c5a1b83?s=128&d=identicon&r=PG&f=1", "display_name": "Rina Feld", "link": "https://stackoverflow.com/users/5398921/rina-feld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 963, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1451125551, "creation_date": 1449171032, "last_edit_date": 1449174042, "question_id": 34074547, "link": "https://stackoverflow.com/questions/34074547/angular-with-typescript-controller", "title": "Angular with typescript controller", "body": "<p>I am using Angular + Typescript + RequireJS. After i configured all settings, simple ng-click doesn't work for me and there are NO errors in error log.</p>\n\n<p>Do you guys know what I am doing wrong?\nAny help will be appreciated </p>\n\n<p><a href=\"https://i.stack.imgur.com/jtUEW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jtUEW.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>My files:</em></strong></p>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div ng-controller=\"MasterController\"&gt;\n        &lt;button ng-click=\"toggleModal()\"&gt;777777777777&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;script src=\"Script/lib/require.js\" type=\"text/javascript\" data-main=\"Script/main.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Controllers.ts</strong></p>\n\n<pre><code>/// &lt;reference path=\"../lib/typings/angular.d.ts\" /&gt;\n/// &lt;reference path=\"../lib/typings/jquery.d.ts\" /&gt;\n\nimport angular = require(\"angular\");\n\nexport var controllerModule = angular.module(\"controllers\", []);\n</code></pre>\n\n<p><strong>MasterController.ts</strong></p>\n\n<pre><code>/// &lt;reference path=\"../lib/typings/angular.d.ts\" /&gt;\n/// &lt;reference path=\"../lib/typings/require.d.ts\" /&gt;\n/// &lt;reference path=\"controllers.ts\" /&gt;\n\nimport MasterControllerModule = require(\"Controllers\");\nclass MasterController {\n\n    modalShown: boolean = true;\n    constructor() {\n    }\n\n    toggleModal() {\n        alert(777);\n        this.modalShown = !this.modalShown;\n    }\n\n}\nMasterControllerModule.controllerModule.controller(\"MasterController\", MasterController);\n</code></pre>\n\n<p><strong>main.js</strong></p>\n\n<pre><code>require.config({\n\n    paths: {\n\n        'angular': 'lib/angular',\n        'domReady': 'lib/domReady',\n        'app': 'app',\n        'Jquery': 'lib/jquery'\n    },\n    //waitSeconds: 0,\n    shim: {\n        'angular': {\n            exports: 'angular'\n        }\n    },\n\n    deps: [\n        // kick start application... see bootstrap.js\n        './bootstrap'\n    ]\n});  \n\n require([\n  'angular',\n  'app',\n  'domReady',\n  'controllers/Controllers',\n  'controllers/MasterController',\n  'Jquery'\n])\n</code></pre>\n\n<p><strong>app.js</strong></p>\n\n<pre><code>define(['angular',\n'controllers/Controllers'], function (angular) {\n    return angular.module('app', ['controllers']);\n});\n</code></pre>\n\n<p><strong>bootstrap.js</strong></p>\n\n<pre><code>define([\n    'require',\n    'angular',\n    'app'\n], function (require, ng) {\n    'use strict';\n\n    require(['domReady!'], function (document) {\n        ng.bootstrap(document, ['app']);\n    });\n});\n</code></pre>\n"}]